{"items":[{"tags":["java","spring","maven","sapjco3"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1473691937,"post_id":39453140,"comment_id":66227641,"body_markdown":"You should set the jdk version 8 in windows -&gt; preference -&gt; java -&gt; compiler","body":"You should set the jdk version 8 in windows -&gt; preference -&gt; java -&gt; compiler"},{"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"score":0,"creation_date":1473693045,"post_id":39453140,"comment_id":66228301,"body_markdown":"As per your suggestion, I&#39;ve gone into Windows -&gt; Preferences -&gt; Java -&gt; Compiler, and I&#39;ve changed the &#39;Compiler compliance level&#39; to 1.8. I&#39;ve also updated the JRE System\nlibrary to jdk 1.8, and I&#39;ve also removed the other jdks from the Windows -&gt; Preferences -&gt; Java -&gt; Installed JREs area. Unfortunately I&#39;m still having the same problem.","body":"As per your suggestion, I&#39;ve gone into Windows -&gt; Preferences -&gt; Java -&gt; Compiler, and I&#39;ve changed the &#39;Compiler compliance level&#39; to 1.8. I&#39;ve also updated the JRE System library to jdk 1.8, and I&#39;ve also removed the other jdks from the Windows -&gt; Preferences -&gt; Java -&gt; Installed JREs area. Unfortunately I&#39;m still having the same problem."},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1473693107,"post_id":39453140,"comment_id":66228341,"body_markdown":"right click on your project -&gt; properties -&gt; java compiler, set jdk level to 1.8","body":"right click on your project -&gt; properties -&gt; java compiler, set jdk level to 1.8"},{"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"score":0,"creation_date":1473693602,"post_id":39453140,"comment_id":66228616,"body_markdown":"I&#39;ve done that too. Unfortunately, no change. Still not compiling.","body":"I&#39;ve done that too. Unfortunately, no change. Still not compiling."},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1473694100,"post_id":39453140,"comment_id":66228929,"body_markdown":"I didnt read your output before. Its more to do with maven. Please add following plugin to your pom.xml `&lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;`","body":"I didnt read your output before. Its more to do with maven. Please add following plugin to your pom.xml <code>&lt;plugin&gt;         &lt;artifactId&gt;maven-compiler-plugin&lt;&#47;artifactId&gt;         &lt;version&gt;3.1&lt;&#47;version&gt;         &lt;configuration&gt;           &lt;source&gt;1.8&lt;&#47;source&gt;           &lt;target&gt;1.8&lt;&#47;target&gt;         &lt;&#47;configuration&gt;       &lt;&#47;plugin&gt;</code>"},{"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"score":0,"creation_date":1473695186,"post_id":39453140,"comment_id":66229572,"body_markdown":"I&#39;ve replaced the maven-compiler-plugin tag with what you&#39;ve suggested, and I&#39;m still getting the same error. Something that I&#39;ve tried that has helped is adding the sapjco3.jar file to my local maven repository and referencing it via my pom.xml file. The code does compile. The problem is that when I then deploy the code to my linux tomcat server, I&#39;m now getting an error stating: &#39;...It is not allowed to rename or repackage the original archive &quot;sapjco3.jar&quot;&#39;","body":"I&#39;ve replaced the maven-compiler-plugin tag with what you&#39;ve suggested, and I&#39;m still getting the same error. Something that I&#39;ve tried that has helped is adding the sapjco3.jar file to my local maven repository and referencing it via my pom.xml file. The code does compile. The problem is that when I then deploy the code to my linux tomcat server, I&#39;m now getting an error stating: &#39;...It is not allowed to rename or repackage the original archive &quot;sapjco3.jar&quot;&#39;"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1473695235,"post_id":39453140,"comment_id":66229605,"body_markdown":"Can you paste your pom.xml here.","body":"Can you paste your pom.xml here."},{"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"score":0,"creation_date":1473695580,"post_id":39453140,"comment_id":66229831,"body_markdown":"Updated main message with full pom.xml file. BTW - I really appreciate the help today.","body":"Updated main message with full pom.xml file. BTW - I really appreciate the help today."},{"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"score":0,"creation_date":1473770912,"post_id":39453140,"comment_id":66260423,"body_markdown":"Any more thoughts on what I need to do to get this working? Like I mentioned before, after adding the sapjco3.jar file to my local Maven repository, I can successfully compile the project. However, after deploying the application to my linux Tomcat server, it&#39;s erroring out with a message saying that I&#39;m not allowed to rename the jar file.","body":"Any more thoughts on what I need to do to get this working? Like I mentioned before, after adding the sapjco3.jar file to my local Maven repository, I can successfully compile the project. However, after deploying the application to my linux Tomcat server, it&#39;s erroring out with a message saying that I&#39;m not allowed to rename the jar file."}],"answers":[{"comments":[{"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"score":0,"creation_date":1473864067,"post_id":39477673,"comment_id":66304067,"body_markdown":"Thanks Diego! I&#39;ve tried your last suggestion of adding the path of the jar as a dependency. I added the sapjco3.jar file to the src/main/resources folder to accomodate. The trouble that I have now is that after deploying to my dev linux server, I&#39;m getting &#39;HTTP Status 500 - Handler processing failed; nested exception is java.lang.NoClassDefFoundError: com/sap/conn/jco/AbapException&#39;. Any thoughts?","body":"Thanks Diego! I&#39;ve tried your last suggestion of adding the path of the jar as a dependency. I added the sapjco3.jar file to the src/main/resources folder to accomodate. The trouble that I have now is that after deploying to my dev linux server, I&#39;m getting &#39;HTTP Status 500 - Handler processing failed; nested exception is java.lang.NoClassDefFoundError: com/sap/conn/jco/AbapException&#39;. Any thoughts?"},{"owner":{"account_id":5595091,"reputation":237,"user_id":4433104,"display_name":"Diego Rojas"},"score":0,"creation_date":1473864370,"post_id":39477673,"comment_id":66304298,"body_markdown":"I assume that AbabException is a class from sapjco3.jar. Try to run a maven clean-install before export your war file, or export the war with their own resources. You have to be sure of all the libraries that you need are in your dev server too.","body":"I assume that AbabException is a class from sapjco3.jar. Try to run a maven clean-install before export your war file, or export the war with their own resources. You have to be sure of all the libraries that you need are in your dev server too."},{"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"score":0,"creation_date":1473865385,"post_id":39477673,"comment_id":66305020,"body_markdown":"Yeah, I always do a clean before I compile, install, and redeploy to tomcat. I&#39;ve copied the sapjco3.jar file to the /opt/tomcat/lib folder and restarted the server there. The application just isn&#39;t seeing it. When looking at the exploded folder on the dev tomcat server, I can see all of my dependencies in the WEB-INF/lib folder, but the sapjco3.jar file is not there. I&#39;m wondering how to put it there without adding the version number.","body":"Yeah, I always do a clean before I compile, install, and redeploy to tomcat. I&#39;ve copied the sapjco3.jar file to the /opt/tomcat/lib folder and restarted the server there. The application just isn&#39;t seeing it. When looking at the exploded folder on the dev tomcat server, I can see all of my dependencies in the WEB-INF/lib folder, but the sapjco3.jar file is not there. I&#39;m wondering how to put it there without adding the version number."}],"tags":[],"owner":{"account_id":5595091,"reputation":237,"user_id":4433104,"display_name":"Diego Rojas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473795146,"creation_date":1473795146,"answer_id":39477673,"question_id":39453140,"body_markdown":"You can use a custom project repository \r\n\r\n    &lt;!– In Project repository –&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;in-project&lt;/id&gt;\r\n        &lt;name&gt;In Project Repo&lt;/name&gt;\r\n        &lt;url&gt;file://${project.basedir}/libs&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\nand then call your jar\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;sapjco3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sapjco3&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nanother option is put the jar file in your .m2 folder, but is not a good practice. You can read this article [how to add a custom jar in maven][1].\r\n\r\nOther way is add the path of your jar on the dependency block:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;sapjco3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;com.sapjco3&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/src/main/resources/sapjco3.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI hope it helps.\r\n\r\n\r\n  [1]: http://charlie.cu.cc/2012/06/how-add-external-libraries-maven/","title":"Error compiling with Spring Tool Suite Maven","body":"<p>You can use a custom project repository </p>\n\n<pre><code>&lt;!– In Project repository –&gt;\n&lt;repository&gt;\n    &lt;id&gt;in-project&lt;/id&gt;\n    &lt;name&gt;In Project Repo&lt;/name&gt;\n    &lt;url&gt;file://${project.basedir}/libs&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>and then call your jar</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;sapjco3&lt;/groupId&gt;\n    &lt;artifactId&gt;sapjco3&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>another option is put the jar file in your .m2 folder, but is not a good practice. You can read this article <a href=\"http://charlie.cu.cc/2012/06/how-add-external-libraries-maven/\" rel=\"nofollow\">how to add a custom jar in maven</a>.</p>\n\n<p>Other way is add the path of your jar on the dependency block:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;sapjco3&lt;/groupId&gt;\n    &lt;artifactId&gt;com.sapjco3&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/src/main/resources/sapjco3.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688146364,"creation_date":1473691842,"question_id":39453140,"body_markdown":"Another update...\r\nAfter uploading the sapjco3.jar file into my local maven repository, I can successfully get my code to compile. After deploying this code to my linux tomcat server, I get an error something like &quot;not allowed to rename jar file&quot;. Apparently this is a common problem with the sapjco3.jar file version 3.0.10 and above. Still looking for a solution to this.\r\n\r\nUpdate...\r\nAfter adjusting the pom.xml file and changing the project compiler to java 1.8, I&#39;m no longer getting the &quot;bootstrap class path not set in conjunction with -source 1.6&quot; error. However, I&#39;m still getting &quot;package com.sap.conn.jco does not exist&quot; when compiling. Any other thoughts on what I need to do to get this jar file to show up when compiling?\r\n\r\nOriginal message:\r\nI&#39;m trying to get a Spring MVC application to compile using Maven in Spring Tool Suite, and I&#39;m getting a &#39;bootstrap class path not set in conjunction with -source 1.6&#39; error.\r\n\r\nI&#39;m using Spring Tool Suite 3.7.2 and I&#39;m issuing Maven commands through the Spring Tool Suite content menus to do the clean, compile, install, and deploy commands (in other words, I&#39;m not using Maven command line). The JRE System Library that is configured in the build path by default is JavaSE-1.6. I&#39;m working with a Spring MVC framework application, and the java version in the pom.xml file is 1.6. \r\n\r\nI&#39;ve created a folder called &#39;lib&#39; in the root of the project, and I&#39;ve added a third party jar file (sapjco3.jar) to that folder. I&#39;ve added that jar file to the build path of the project. \r\n\r\nWhen I run the &#39;Maven compile&#39; goal, I&#39;m getting a compile error, and here is the top of the error:\r\n\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] bootstrap class path not set in conjunction with -source 1.6\r\n    C:\\Users\\user\\Documents\\workspace-sts- 3.7.2.RELEASE\\JCOTest\\src\\main\\java\\com\\graybar\\jcotest\\query\\SAPDAO.java: [10,23] error: package com.sap.conn.jco does not exist\r\n\r\nIn the classes of my project where I&#39;m referencing the code in the sapjco3.jar file, they are showing up just fine, and my code works just fine locally. However, to get my code to run locally, I had to add the windows version of the sapjco3 driver, sapjco3.dll, to the c:\\windows\\system32 folder on my workstation. \r\n\r\nI suspect that my problem has to do with the sapjco3 code not being seen when compiling. I&#39;ve tried adding both the sapjco3.jar and sapjco3.dll files to my jdk 1.6 lib folder, and I&#39;ve added the same files to the lib folder in the jre folder for jdk 1.6. \r\n\r\nI&#39;ve also tried switching out java 1.6 for java 1.8 with no success. \r\n\r\nAm I on the right track here regarding the sapjco3.jar code not being seen during the compile process? My end goal here is to deploy this code to a linux based version of tomcat 1.8. \r\n\r\nHere is my complete pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0    http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.graybar&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jcotest&lt;/artifactId&gt;\r\n\t&lt;name&gt;JCOTest&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java-version&gt;1.8&lt;/java-version&gt;\r\n\t\t&lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\r\n\t\t&lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n\t\t&lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Spring --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t &lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;!-- AspectJ --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t\r\n\t\t&lt;!-- Logging --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- @Inject --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;!-- Servlet --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;!-- Test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;        \r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;additionalProjectnatures&gt;\r\n                        &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n                    &lt;/additionalProjectnatures&gt;\r\n                    &lt;additionalBuildcommands&gt;\r\n                        &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n                    &lt;/additionalBuildcommands&gt;\r\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt; \r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt; \r\n\t\t\t\t&lt;configuration&gt; \r\n\t\t\t\t&lt;source&gt;1.8&lt;/source&gt; \r\n\t\t\t\t&lt;target&gt;1.8&lt;/target&gt; \r\n\t\t\t\t&lt;/configuration&gt; \r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nThanks!\r\n\r\n-Stephen Spalding\r\n","title":"Error compiling with Spring Tool Suite Maven","body":"<p>Another update...\nAfter uploading the sapjco3.jar file into my local maven repository, I can successfully get my code to compile. After deploying this code to my linux tomcat server, I get an error something like \"not allowed to rename jar file\". Apparently this is a common problem with the sapjco3.jar file version 3.0.10 and above. Still looking for a solution to this.</p>\n\n<p>Update...\nAfter adjusting the pom.xml file and changing the project compiler to java 1.8, I'm no longer getting the \"bootstrap class path not set in conjunction with -source 1.6\" error. However, I'm still getting \"package com.sap.conn.jco does not exist\" when compiling. Any other thoughts on what I need to do to get this jar file to show up when compiling?</p>\n\n<p>Original message:\nI'm trying to get a Spring MVC application to compile using Maven in Spring Tool Suite, and I'm getting a 'bootstrap class path not set in conjunction with -source 1.6' error.</p>\n\n<p>I'm using Spring Tool Suite 3.7.2 and I'm issuing Maven commands through the Spring Tool Suite content menus to do the clean, compile, install, and deploy commands (in other words, I'm not using Maven command line). The JRE System Library that is configured in the build path by default is JavaSE-1.6. I'm working with a Spring MVC framework application, and the java version in the pom.xml file is 1.6. </p>\n\n<p>I've created a folder called 'lib' in the root of the project, and I've added a third party jar file (sapjco3.jar) to that folder. I've added that jar file to the build path of the project. </p>\n\n<p>When I run the 'Maven compile' goal, I'm getting a compile error, and here is the top of the error:</p>\n\n<pre><code>[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] bootstrap class path not set in conjunction with -source 1.6\nC:\\Users\\user\\Documents\\workspace-sts- 3.7.2.RELEASE\\JCOTest\\src\\main\\java\\com\\graybar\\jcotest\\query\\SAPDAO.java: [10,23] error: package com.sap.conn.jco does not exist\n</code></pre>\n\n<p>In the classes of my project where I'm referencing the code in the sapjco3.jar file, they are showing up just fine, and my code works just fine locally. However, to get my code to run locally, I had to add the windows version of the sapjco3 driver, sapjco3.dll, to the c:\\windows\\system32 folder on my workstation. </p>\n\n<p>I suspect that my problem has to do with the sapjco3 code not being seen when compiling. I've tried adding both the sapjco3.jar and sapjco3.dll files to my jdk 1.6 lib folder, and I've added the same files to the lib folder in the jre folder for jdk 1.6. </p>\n\n<p>I've also tried switching out java 1.6 for java 1.8 with no success. </p>\n\n<p>Am I on the right track here regarding the sapjco3.jar code not being seen during the compile process? My end goal here is to deploy this code to a linux based version of tomcat 1.8. </p>\n\n<p>Here is my complete pom.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0    http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.graybar&lt;/groupId&gt;\n&lt;artifactId&gt;jcotest&lt;/artifactId&gt;\n&lt;name&gt;JCOTest&lt;/name&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\n&lt;properties&gt;\n    &lt;java-version&gt;1.8&lt;/java-version&gt;\n    &lt;org.springframework-version&gt;3.1.1.RELEASE&lt;/org.springframework-version&gt;\n    &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n    &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!-- Spring --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n             &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- AspectJ --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n    &lt;/dependency&gt;   \n\n    &lt;!-- Logging --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.15&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                &lt;artifactId&gt;jms&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- @Inject --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Servlet --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;        \n\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.9&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;additionalProjectnatures&gt;\n                    &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                &lt;/additionalProjectnatures&gt;\n                &lt;additionalBuildcommands&gt;\n                    &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n                &lt;/additionalBuildcommands&gt;\n                &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt; \n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \n            &lt;version&gt;3.1&lt;/version&gt; \n            &lt;configuration&gt; \n            &lt;source&gt;1.8&lt;/source&gt; \n            &lt;target&gt;1.8&lt;/target&gt; \n            &lt;/configuration&gt; \n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Thanks!</p>\n\n<p>-Stephen Spalding</p>\n"},{"tags":["java","rest","web-services","jco"],"comments":[{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":2,"creation_date":1441777633,"post_id":32471665,"comment_id":52804903,"body_markdown":"Looks like your missing the jar with the class JCO in your classpath.","body":"Looks like your missing the jar with the class JCO in your classpath."},{"owner":{"account_id":3107017,"reputation":85,"user_id":2629598,"display_name":"Guruprasad N"},"score":0,"creation_date":1441778100,"post_id":32471665,"comment_id":52805059,"body_markdown":"I have the sapJco in my class path.and I have run the ExecuteBapi class using main method ,sap was connected.","body":"I have the sapJco in my class path.and I have run the ExecuteBapi class using main method ,sap was connected."}],"owner":{"account_id":3107017,"reputation":85,"user_id":2629598,"display_name":"Guruprasad N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688146352,"creation_date":1441777212,"question_id":32471665,"body_markdown":"I&#39;m creating a restful webservice for connecting SAP. So, here web service methods all work correctly but only one method was throws error, below is that method.\r\n\r\n    @Path(&quot;/Run&quot;)\r\n    public class RunBapi {\r\n\r\n\t@GET\r\n\tpublic Response runBapi() {\r\n\r\n\t\treturn Response.status(200).entity(&quot;getUser is called&quot;).build();\r\n\r\n\t}\r\n\r\n\t\r\n\t@GET\r\n\t@Path(&quot;/query&quot;)\r\n\tpublic Response getUsers(\r\n\t\t@QueryParam(&quot;LIFNR&quot;) String accountNO,\r\n\t\t@QueryParam(&quot;BUKRS&quot;) String companyCode,\r\n\t\t@QueryParam(&quot;EKORG&quot;) String po,\r\n\t\t@QueryParam(&quot;CHAR1&quot;) String indicator) {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tExecuteBapi bapi = new ExecuteBapi();\r\n\t\tbapi.bapi(accountNO,companyCode,po,indicator);\r\n\t\treturn Response.status(200).entity(&quot;accountNO is: &quot;+accountNO).build();\r\n\r\n\t  }\r\n    } \r\n\r\n**and my ExecuteBapi class is**\r\n\r\n    import com.sap.mw.jco.IFunctionTemplate;\r\n    import com.sap.mw.jco.JCO;\r\n\r\n    public class ExecuteBapi {\r\n\r\n\t\r\n\t public JCO.Client mConnection;\r\n     public JCO.Repository mRepository;\r\n     public JCO.Function function = null;\r\n\t\r\n\t public void connectDev() \r\n\t {\r\n\t\t System.out.println(&quot;in&quot;);\r\n\t     try\r\n\t     {\t\r\n\t     \t\r\n\t         mConnection = connectSAP();\r\n\t         mConnection.connect();\r\n\t         mRepository = new JCO.Repository(&quot;clss&quot;, mConnection);\r\n\t         System.out.println(&quot;sapconnected&quot;);\r\n\t     }\r\n\t     catch(Exception e)\r\n\t     {\r\n\t         System.out.println(&quot;error==&quot;+e);\r\n\t     }\r\n\t }\r\n\t \r\n\t \r\n\t  public JCO.Client connectSAP() {\r\n          try {\r\n          \tSystem.out.println(&quot;sap&quot;);\r\n              setmConnection(JCO.createClient(&quot;sapclient&quot;,\r\n              \t\t&quot;userName&quot;,\r\n              \t\t&quot;password&quot;,\r\n              \t\t&quot;en&quot;,\r\n              \t\t&quot;hostname&quot;,\r\n                       &quot;00&quot;));\r\n              System.out.println(&quot;sap connected&quot;);\r\n          } catch (Exception ex) {\r\n          \tSystem.out.println(&quot;error in conneting==&quot;+ex);\r\n          }\r\n      return getmConnection();\r\n     }\r\n\t\r\n\t public JCO.Function createFunction(String name) throws Exception {\r\n\t        try {\r\n\t            IFunctionTemplate ft = mRepository.getFunctionTemplate(name.toUpperCase());\r\n\t            if (ft == null) {\r\n\t                return null;\r\n\t            }\r\n\t            return ft.getFunction();\r\n\t        } catch (Exception ex) {\r\n\t            throw new Exception(&quot;Problem retrieving JCO.Function object.&quot; + ex);\r\n\t        }\r\n\t    }\r\n\t\r\n\t\r\n\tpublic void bapi(String accountNO, String companyCode, String po, String indicator){\r\n\t\tSystem.out.println(&quot;bapiex&quot;);\r\n\t\tconnectDev();\r\n\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]){\r\n\t\tExecuteBapi bapi = new ExecuteBapi();\r\n\t\tconnectDev();\r\n\t}\r\n\t\r\n\t/**\r\n     * @return the mConnection\r\n     */\r\n    public JCO.Client getmConnection() {\r\n        return mConnection;\r\n    }\r\n\r\n    /**\r\n     * @param mConnection the mConnection to set\r\n     */\r\n    public void setmConnection(JCO.Client mConnection) {\r\n        this.mConnection = mConnection;\r\n    }\r\n    }\r\n\r\n\r\nso here we running `ExecuteBapi` class manually SAP will connect, but we run this method in webservice it&#39;ll throw error like\r\n\r\n&gt; org.jboss.resteasy.spi.UnhandledException: java.lang.NoClassDefFoundError:com/sap/mw/jco/JCO\r\n\r\n\r\nPlease help me.","title":"restful webservice was not connecting SAP","body":"<p>I'm creating a restful webservice for connecting SAP. So, here web service methods all work correctly but only one method was throws error, below is that method.</p>\n<pre><code>@Path(&quot;/Run&quot;)\npublic class RunBapi {\n\n@GET\npublic Response runBapi() {\n\n    return Response.status(200).entity(&quot;getUser is called&quot;).build();\n\n}\n\n\n@GET\n@Path(&quot;/query&quot;)\npublic Response getUsers(\n    @QueryParam(&quot;LIFNR&quot;) String accountNO,\n    @QueryParam(&quot;BUKRS&quot;) String companyCode,\n    @QueryParam(&quot;EKORG&quot;) String po,\n    @QueryParam(&quot;CHAR1&quot;) String indicator) {\n    \n    \n    \n    ExecuteBapi bapi = new ExecuteBapi();\n    bapi.bapi(accountNO,companyCode,po,indicator);\n    return Response.status(200).entity(&quot;accountNO is: &quot;+accountNO).build();\n\n  }\n} \n</code></pre>\n<p><strong>and my ExecuteBapi class is</strong></p>\n<pre><code>import com.sap.mw.jco.IFunctionTemplate;\nimport com.sap.mw.jco.JCO;\n\npublic class ExecuteBapi {\n\n\n public JCO.Client mConnection;\n public JCO.Repository mRepository;\n public JCO.Function function = null;\n\n public void connectDev() \n {\n     System.out.println(&quot;in&quot;);\n     try\n     {  \n        \n         mConnection = connectSAP();\n         mConnection.connect();\n         mRepository = new JCO.Repository(&quot;clss&quot;, mConnection);\n         System.out.println(&quot;sapconnected&quot;);\n     }\n     catch(Exception e)\n     {\n         System.out.println(&quot;error==&quot;+e);\n     }\n }\n \n \n  public JCO.Client connectSAP() {\n      try {\n        System.out.println(&quot;sap&quot;);\n          setmConnection(JCO.createClient(&quot;sapclient&quot;,\n                &quot;userName&quot;,\n                &quot;password&quot;,\n                &quot;en&quot;,\n                &quot;hostname&quot;,\n                   &quot;00&quot;));\n          System.out.println(&quot;sap connected&quot;);\n      } catch (Exception ex) {\n        System.out.println(&quot;error in conneting==&quot;+ex);\n      }\n  return getmConnection();\n }\n\n public JCO.Function createFunction(String name) throws Exception {\n        try {\n            IFunctionTemplate ft = mRepository.getFunctionTemplate(name.toUpperCase());\n            if (ft == null) {\n                return null;\n            }\n            return ft.getFunction();\n        } catch (Exception ex) {\n            throw new Exception(&quot;Problem retrieving JCO.Function object.&quot; + ex);\n        }\n    }\n\n\npublic void bapi(String accountNO, String companyCode, String po, String indicator){\n    System.out.println(&quot;bapiex&quot;);\n    connectDev();\n\n}\n\npublic static void main(String args[]){\n    ExecuteBapi bapi = new ExecuteBapi();\n    connectDev();\n}\n\n/**\n * @return the mConnection\n */\npublic JCO.Client getmConnection() {\n    return mConnection;\n}\n\n/**\n * @param mConnection the mConnection to set\n */\npublic void setmConnection(JCO.Client mConnection) {\n    this.mConnection = mConnection;\n}\n}\n</code></pre>\n<p>so here we running <code>ExecuteBapi</code> class manually SAP will connect, but we run this method in webservice it'll throw error like</p>\n<blockquote>\n<p>org.jboss.resteasy.spi.UnhandledException: java.lang.NoClassDefFoundError:com/sap/mw/jco/JCO</p>\n</blockquote>\n<p>Please help me.</p>\n"},{"tags":["java","mocking","jco","idoc"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1481124778,"post_id":41021243,"comment_id":69249838,"body_markdown":"Asking for frameworks is off-topic, sorry","body":"Asking for frameworks is off-topic, sorry"}],"answers":[{"tags":[],"owner":{"account_id":3392662,"reputation":5537,"user_id":2847159,"display_name":"mkysoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481137165,"creation_date":1481137165,"answer_id":41025266,"question_id":41021243,"body_markdown":"May be you can create client project and communicate it with your server. Correct option is using SAP NW or SAP PI/XI for real test. If you haven&#39;t got any SAP server, you can download SAP NW ABAP trial server. ","title":"Mocking SAP IDoc Server","body":"<p>May be you can create client project and communicate it with your server. Correct option is using SAP NW or SAP PI/XI for real test. If you haven't got any SAP server, you can download SAP NW ABAP trial server. </p>\n"},{"tags":[],"owner":{"account_id":15859079,"reputation":11,"user_id":11442695,"display_name":"Rafik Gyurjyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556812777,"creation_date":1556812777,"answer_id":55956223,"question_id":41021243,"body_markdown":"If you need to test an iDoc and you don&#39;t have an SAP server you can initially use another protocol, for example, SOAP, which will generate answers for you. You can create a custom WSDL starting from the XSD (obviously assuming you have it) and test it using SOAPUI","title":"Mocking SAP IDoc Server","body":"<p>If you need to test an iDoc and you don't have an SAP server you can initially use another protocol, for example, SOAP, which will generate answers for you. You can create a custom WSDL starting from the XSD (obviously assuming you have it) and test it using SOAPUI</p>\n"}],"owner":{"account_id":294607,"reputation":1011,"user_id":598596,"accept_rate":80,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688146280,"creation_date":1481124258,"question_id":41021243,"body_markdown":"I am using SAP JcoIDocServer.\r\n\r\n     JCoIDocServer server = JCoIDoc.getServer(&quot;SAPSERVER_&quot; + connector.name)\r\n\r\nI want to know if it possible to mock request for testing to this server. Is there a framework or do I have to build my own?\r\n\r\n","title":"Mocking SAP IDoc Server","body":"<p>I am using SAP JcoIDocServer.</p>\n\n<pre><code> JCoIDocServer server = JCoIDoc.getServer(\"SAPSERVER_\" + connector.name)\n</code></pre>\n\n<p>I want to know if it possible to mock request for testing to this server. Is there a framework or do I have to build my own?</p>\n"},{"tags":["java","objectmapper"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688143696,"post_id":76590709,"comment_id":135039316,"body_markdown":"Remove objectMapper.setSerializationInclusion(Include.NON_EMPTY)","body":"Remove objectMapper.setSerializationInclusion(Include.NON_EMPTY)"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1688151953,"post_id":76590709,"comment_id":135040632,"body_markdown":"Are you deserializing from JSON (with empty string) to object, and then serializing again to JSON? What if you create the object with an empty string in Java and then serialize using your `Include.NON_EMPTY` configuration ? Don&#39;t see that as code-example.","body":"Are you deserializing from JSON (with empty string) to object, and then serializing again to JSON? What if you create the object with an empty string in Java and then serialize using your <code>Include.NON_EMPTY</code> configuration ? Don&#39;t see that as code-example."}],"answers":[{"tags":[],"owner":{"account_id":16036243,"reputation":154,"user_id":11573887,"display_name":"Henry Xiloj Herrera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688146120,"creation_date":1688146120,"answer_id":76591113,"question_id":76590709,"body_markdown":"Try add this. \r\nACCEPT_EMPTY_STRING_AS_NULL_OBJECT\r\n\r\nAccording official doc. [Jackson ObjectMapper][1]\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.14.0/com/fasterxml/jackson/databind/DeserializationFeature.html\r\n\r\n    public class Demo1 {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            String json = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;phoneNumbers\\&quot;: [\\n&quot; +\r\n                    &quot;    {\\n&quot; +\r\n                    &quot;      \\&quot;id\\&quot;: 1,\\n&quot; +\r\n                    &quot;      \\&quot;number\\&quot;: \\&quot;01234 567 890\\&quot;\\n&quot; +\r\n                    &quot;    },\\n&quot; +\r\n                    &quot;    {\\n&quot; +\r\n                    &quot;      \\&quot;id\\&quot;: 2,\\n&quot; +\r\n                    &quot;      \\&quot;number\\&quot;: \\&quot;\\&quot;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;  ]\\n&quot; +\r\n                    &quot;}&quot;;\r\n\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\r\n\r\n            PhoneNumbersWrapper phoneNumbersWrapper = objectMapper.readValue(json, PhoneNumbersWrapper.class);\r\n\r\n            List&lt;PhoneNumber&gt; phoneNumbers = phoneNumbersWrapper.getPhoneNumbers();\r\n            for (PhoneNumber phoneNumber : phoneNumbers) {\r\n                System.out.println(&quot;ID: &quot; + phoneNumber.getId());\r\n                System.out.println(&quot;Number: &quot; + phoneNumber.getNumber());\r\n            }\r\n    } }\r\n\r\n\r\n","title":"Jackson ObjectMapper ignores empty String during serialisation","body":"<p>Try add this.\nACCEPT_EMPTY_STRING_AS_NULL_OBJECT</p>\n<p>According official doc. <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.14.0/com/fasterxml/jackson/databind/DeserializationFeature.html\" rel=\"nofollow noreferrer\">Jackson ObjectMapper</a></p>\n<pre><code>public class Demo1 {\n\n    public static void main(String[] args) throws Exception {\n        String json = &quot;{\\n&quot; +\n                &quot;  \\&quot;phoneNumbers\\&quot;: [\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;      \\&quot;id\\&quot;: 1,\\n&quot; +\n                &quot;      \\&quot;number\\&quot;: \\&quot;01234 567 890\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;      \\&quot;id\\&quot;: 2,\\n&quot; +\n                &quot;      \\&quot;number\\&quot;: \\&quot;\\&quot;\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;  ]\\n&quot; +\n                &quot;}&quot;;\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\n\n        PhoneNumbersWrapper phoneNumbersWrapper = objectMapper.readValue(json, PhoneNumbersWrapper.class);\n\n        List&lt;PhoneNumber&gt; phoneNumbers = phoneNumbersWrapper.getPhoneNumbers();\n        for (PhoneNumber phoneNumber : phoneNumbers) {\n            System.out.println(&quot;ID: &quot; + phoneNumber.getId());\n            System.out.println(&quot;Number: &quot; + phoneNumber.getNumber());\n        }\n} }\n</code></pre>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688146120,"creation_date":1688142246,"question_id":76590709,"body_markdown":"Let&#39;s say that I have a object payload like: \r\n\r\n```\r\n{\r\n  &quot;phoneNumbers&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;number&quot;: &quot;01234 567 890&quot;,\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;number&quot;: &quot;&quot;,\r\n    }\r\n  ]\r\n}\r\n```\r\nand method which parses it to JSON \r\n\r\n```\r\n    public String getJson(Object object) {\r\n        String result = null;\r\n        try {\r\n            result = objectMapper.writeValueAsString(object);\r\n        } catch (IOException e) {\r\n            logger.error(e.getMessage(), e);\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nI am setting ObjectMapper in the constructor like: \r\n```\r\n    @Autowired\r\n    public ServiceImpl(@Qualifier(&quot;objectMapper&quot;) ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n        configureObjectMapper(objectMapper);\r\n    }\r\n\r\n```\r\n\r\nand `objectMapper` configuration in the method looks like this: \r\n```\r\n    private static void configureObjectMapper(ObjectMapper objectMapper) {\r\n        objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n        objectMapper.setDateFormat(new SimpleDateFormat(DATE_PATTERN));\r\n        objectMapper.setSerializationInclusion(Include.NON_NULL);\r\n        objectMapper.setSerializationInclusion(Include.NON_EMPTY);\r\n    }\r\n```\r\n\r\nThe problem is that Jackson for method call `writeValueAsString` returns \r\n\r\n```\r\n{\r\n  &quot;phoneNumbers&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;number&quot;: &quot;01234567890&quot;,\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n    }\r\n  ]\r\n}\r\n```\r\nand for some reason skip the empty string in the second object. \r\n\r\nWhen I will reassign ObjectMapper in the method getJson() to use Codehause instance\r\n\r\n```\r\n    public String getJson(Object object) {\r\n        org.codehaus.jackson.map.ObjectMapper objectMapper = new org.codehaus.jackson.map.ObjectMapper()\r\n                .configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\n        String result = null;\r\n        try {\r\n            result = objectMapper.writeValueAsString(object);\r\n        } catch (IOException e) {\r\n            logger.error(e.getMessage(), e);\r\n        }\r\n        return result;\r\n    }\r\n```\r\nit does not skip empty strings which is the intended behaviour. I tried different configurations but nothing brought a desirable effect. I will be grateful for suggestions on configuring Jackson and making it accept/serialise `&quot;&quot;` as an empty String without ignoring it. \r\nI am using the `Jackson-core` 2.14.0 version. \r\n","title":"Jackson ObjectMapper ignores empty String during serialisation","body":"<p>Let's say that I have a object payload like:</p>\n<pre><code>{\n  &quot;phoneNumbers&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;number&quot;: &quot;01234 567 890&quot;,\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;number&quot;: &quot;&quot;,\n    }\n  ]\n}\n</code></pre>\n<p>and method which parses it to JSON</p>\n<pre><code>    public String getJson(Object object) {\n        String result = null;\n        try {\n            result = objectMapper.writeValueAsString(object);\n        } catch (IOException e) {\n            logger.error(e.getMessage(), e);\n        }\n        return result;\n    }\n</code></pre>\n<p>I am setting ObjectMapper in the constructor like:</p>\n<pre><code>    @Autowired\n    public ServiceImpl(@Qualifier(&quot;objectMapper&quot;) ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n        configureObjectMapper(objectMapper);\n    }\n\n</code></pre>\n<p>and <code>objectMapper</code> configuration in the method looks like this:</p>\n<pre><code>    private static void configureObjectMapper(ObjectMapper objectMapper) {\n        objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n        objectMapper.setDateFormat(new SimpleDateFormat(DATE_PATTERN));\n        objectMapper.setSerializationInclusion(Include.NON_NULL);\n        objectMapper.setSerializationInclusion(Include.NON_EMPTY);\n    }\n</code></pre>\n<p>The problem is that Jackson for method call <code>writeValueAsString</code> returns</p>\n<pre><code>{\n  &quot;phoneNumbers&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;number&quot;: &quot;01234567890&quot;,\n    },\n    {\n      &quot;id&quot;: 2,\n    }\n  ]\n}\n</code></pre>\n<p>and for some reason skip the empty string in the second object.</p>\n<p>When I will reassign ObjectMapper in the method getJson() to use Codehause instance</p>\n<pre><code>    public String getJson(Object object) {\n        org.codehaus.jackson.map.ObjectMapper objectMapper = new org.codehaus.jackson.map.ObjectMapper()\n                .configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS, false);\n\n        String result = null;\n        try {\n            result = objectMapper.writeValueAsString(object);\n        } catch (IOException e) {\n            logger.error(e.getMessage(), e);\n        }\n        return result;\n    }\n</code></pre>\n<p>it does not skip empty strings which is the intended behaviour. I tried different configurations but nothing brought a desirable effect. I will be grateful for suggestions on configuring Jackson and making it accept/serialise <code>&quot;&quot;</code> as an empty String without ignoring it.\nI am using the <code>Jackson-core</code> 2.14.0 version.</p>\n"},{"tags":["java","web-services","wsdl","saprfc"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1402385514,"post_id":24134688,"comment_id":37240279,"body_markdown":"Please be more specific, what you want to send with your request. You are already sending a SOAP body with the content `&lt;pernr&gt; 10001001&lt;/pernr&gt;`.","body":"Please be more specific, what you want to send with your request. You are already sending a SOAP body with the content <code>&lt;pernr&gt; 10001001&lt;&#47;pernr&gt;</code>."},{"owner":{"account_id":239053,"reputation":63860,"user_id":508377,"accept_rate":67,"display_name":"Adham"},"score":0,"creation_date":1402385802,"post_id":24134688,"comment_id":37240413,"body_markdown":"@Smutje Yes, this a try, I am not sure it will be received correctly or not. What I want to know is how to send the parameter, How to now the tag name and namespace .. The function in SAP has input parameter called pernr. Is the way I am using correct ?","body":"@Smutje Yes, this a try, I am not sure it will be received correctly or not. What I want to know is how to send the parameter, How to now the tag name and namespace .. The function in SAP has input parameter called pernr. Is the way I am using correct ?"}],"owner":{"account_id":239053,"reputation":63860,"user_id":508377,"accept_rate":67,"display_name":"Adham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688145860,"creation_date":1402383240,"question_id":24134688,"body_markdown":"I want to call RFC function in SAP, I already could make request from Java and get the WSDL response. But I want to send a parameter with the SOAP request? How to do that?\r\n\r\nThe class below, I used it to create the request and get response : \r\n\r\n\r\n    public class SOAPClientSAAJ {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\t// Create SOAP Connection\r\n    \t\tSOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n    \t\tSOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n    \r\n    \t\t// Send SOAP Message to SOAP Server\r\n    \t\tString url = &quot;http://10.130.105.8:8000/sap/bc/.....client=520&quot;;\r\n    \t\tSOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\r\n    \r\n    \t\t// print SOAP Response\r\n    \t\tSystem.out.print(&quot;Response SOAP Message:&quot;);\r\n    \t\tsoapResponse.writeTo(System.out);\r\n    \t\tsoapConnection.close();\r\n    \t}\r\n    \r\n    \tprivate static SOAPMessage createSOAPRequest() throws Exception {\r\n    \t\tMessageFactory messageFactory = MessageFactory.newInstance();\r\n    \t\tSOAPMessage soapMessage = messageFactory.createMessage();\r\n    \t\tSOAPPart soapPart = soapMessage.getSOAPPart();\r\n    \r\n    \t\tString serverURI = &quot;http://ws.cdyne.com/&quot;;\r\n    \r\n    \t\t// SOAP Envelope\r\n    \t\tSOAPEnvelope envelope = soapPart.getEnvelope();\r\n    \t\tenvelope.addNamespaceDeclaration(&quot;example&quot;, serverURI);\r\n    \r\n                // SOAP Body\r\n    \t\tSOAPBody soapBody = envelope.getBody();\r\n    \t\tSOAPElement soapBodyElem = soapBody.addChildElement(&quot;pernr&quot;,&quot;example&quot;);\r\n     \r\n    \t\tsoapBodyElem.addTextNode(&quot;10001001&quot;);\r\n    \r\n    \t\tString authorization = new String(Base64.encodeBase64((&quot;hr_develop:unrwa2013&quot;).getBytes()));\r\n    \r\n    \t\tsoapMessage.getMimeHeaders().addHeader(&quot;Authorization&quot;,&quot;Basic &quot; + authorization);\r\n                soapMessage.saveChanges();\r\n    \r\n    \t\t/* Print the request message */\r\n    \t\tsoapMessage.writeTo(System.out);\r\n    \t\tSystem.out.println();\r\n                return soapMessage;\r\n    \t}\r\n    \r\n    }","title":"How to add parameters to the SOAP Request","body":"<p>I want to call RFC function in SAP, I already could make request from Java and get the WSDL response. But I want to send a parameter with the SOAP request? How to do that?</p>\n<p>The class below, I used it to create the request and get response :</p>\n<pre><code>public class SOAPClientSAAJ {\n\n    public static void main(String args[]) throws Exception {\n        // Create SOAP Connection\n        SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n        SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n\n        // Send SOAP Message to SOAP Server\n        String url = &quot;http://10.130.105.8:8000/sap/bc/.....client=520&quot;;\n        SOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\n\n        // print SOAP Response\n        System.out.print(&quot;Response SOAP Message:&quot;);\n        soapResponse.writeTo(System.out);\n        soapConnection.close();\n    }\n\n    private static SOAPMessage createSOAPRequest() throws Exception {\n        MessageFactory messageFactory = MessageFactory.newInstance();\n        SOAPMessage soapMessage = messageFactory.createMessage();\n        SOAPPart soapPart = soapMessage.getSOAPPart();\n\n        String serverURI = &quot;http://ws.cdyne.com/&quot;;\n\n        // SOAP Envelope\n        SOAPEnvelope envelope = soapPart.getEnvelope();\n        envelope.addNamespaceDeclaration(&quot;example&quot;, serverURI);\n\n            // SOAP Body\n        SOAPBody soapBody = envelope.getBody();\n        SOAPElement soapBodyElem = soapBody.addChildElement(&quot;pernr&quot;,&quot;example&quot;);\n \n        soapBodyElem.addTextNode(&quot;10001001&quot;);\n\n        String authorization = new String(Base64.encodeBase64((&quot;hr_develop:unrwa2013&quot;).getBytes()));\n\n        soapMessage.getMimeHeaders().addHeader(&quot;Authorization&quot;,&quot;Basic &quot; + authorization);\n            soapMessage.saveChanges();\n\n        /* Print the request message */\n        soapMessage.writeTo(System.out);\n        System.out.println();\n            return soapMessage;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","annotation-processing","generated","java-annotations"],"owner":{"account_id":8333041,"reputation":46,"user_id":6591338,"display_name":"Luciano Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688145688,"creation_date":1688145688,"question_id":76591076,"body_markdown":"I created an abstractProcess to generate a code when a Pojoproperty is annotated with my custom annotation and I save it.\r\n\r\nI have two projects:\r\n\r\n - a project called MyAbstractProcessProject that has an annotation and my abstractProcess to process this annotation.\r\n   \r\n - a project called UseMyAbstractProcessProject, which uses the MyAbstractProcessProject dependency. and when I annotate a Pojo property and SAVE it, my MyAbstractProcessProject generates my code.\r\n \r\nIt&#39;s working, but I need to debug my MyAbstractProcessProject.\r\n\r\nHow can I trigger debug on MyAbstractProcessProject when save UseMyAbstractProcessProject\r\n??\r\n\r\nadvanced tnx.","title":"how to debug a java abstractProcess using vscode","body":"<p>I created an abstractProcess to generate a code when a Pojoproperty is annotated with my custom annotation and I save it.</p>\n<p>I have two projects:</p>\n<ul>\n<li><p>a project called MyAbstractProcessProject that has an annotation and my abstractProcess to process this annotation.</p>\n</li>\n<li><p>a project called UseMyAbstractProcessProject, which uses the MyAbstractProcessProject dependency. and when I annotate a Pojo property and SAVE it, my MyAbstractProcessProject generates my code.</p>\n</li>\n</ul>\n<p>It's working, but I need to debug my MyAbstractProcessProject.</p>\n<p>How can I trigger debug on MyAbstractProcessProject when save UseMyAbstractProcessProject\n??</p>\n<p>advanced tnx.</p>\n"},{"tags":["java","docker","maven","selenium-webdriver","selenide"],"owner":{"account_id":28926577,"reputation":1,"user_id":22156336,"display_name":"Igor Shpigor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688145144,"creation_date":1688145144,"question_id":76591031,"body_markdown":"I&#39;m trying to run my Selenide test on the Docker image with maven and Google Chrome browser&lt;br&gt;\r\nIf I use this command:\r\n```\r\nxvfb-run --auto-servernum mvn -Dtest=DebugTestSuite test\r\n```\r\neverything goes perfectly\r\n\r\nBUT I don&#39;t need headless mode and if I try to run my tests without it with the following command: \r\n```\r\nmvn -Dtest=DebugTestSuite test \r\n```\r\nthen it crashes with the following error\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: \r\nCould not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\r\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from chrome location /usr/bin/chromium is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n```\r\n\r\nI tried to use the Selenium method to run a WebDriver instead of the Selenide to apply some options to the ChromeDriver so now the code looks like this\r\n\r\n```\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/local/bin/chromedriver&quot;);\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n        options.addArguments(&quot;--disable-extensions&quot;);\r\n\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(WsUrlGenerator.getBaseUrl());\r\n        WebDriverRunner.setWebDriver(driver);\r\n```\r\ninstead of just\r\n\r\n```\r\n        baseUrl = WsUrlGenerator.getBaseUrl();\r\n        open(&quot;&quot;);\r\n```\r\n\r\nAnd all of this works perfectly when run manually with IDE or with the headless mode, but fails miserably otherwise\r\n\r\nChrome version: `114.0.5735.198-1~deb11u1`\r\nChromedriver version: `114.0.5735.90`\r\n\r\nIs there a versions mismatch or something?\r\n\r\nP.S. Also it starts to crash on Docker either way if I update Selenide to any version later then 13.0","title":"Can&#39;t run my selenide tests on Docker image without headless mode","body":"<p>I'm trying to run my Selenide test on the Docker image with maven and Google Chrome browser<br>\nIf I use this command:</p>\n<pre><code>xvfb-run --auto-servernum mvn -Dtest=DebugTestSuite test\n</code></pre>\n<p>everything goes perfectly</p>\n<p>BUT I don't need headless mode and if I try to run my tests without it with the following command:</p>\n<pre><code>mvn -Dtest=DebugTestSuite test \n</code></pre>\n<p>then it crashes with the following error</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: \nCould not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/chromium is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \n</code></pre>\n<p>I tried to use the Selenium method to run a WebDriver instead of the Selenide to apply some options to the ChromeDriver so now the code looks like this</p>\n<pre><code>        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/local/bin/chromedriver&quot;);\n\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--no-sandbox&quot;);\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n        options.addArguments(&quot;--disable-extensions&quot;);\n\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(WsUrlGenerator.getBaseUrl());\n        WebDriverRunner.setWebDriver(driver);\n</code></pre>\n<p>instead of just</p>\n<pre><code>        baseUrl = WsUrlGenerator.getBaseUrl();\n        open(&quot;&quot;);\n</code></pre>\n<p>And all of this works perfectly when run manually with IDE or with the headless mode, but fails miserably otherwise</p>\n<p>Chrome version: <code>114.0.5735.198-1~deb11u1</code>\nChromedriver version: <code>114.0.5735.90</code></p>\n<p>Is there a versions mismatch or something?</p>\n<p>P.S. Also it starts to crash on Docker either way if I update Selenide to any version later then 13.0</p>\n"},{"tags":["java","abap","application-server","netweaver"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1353317316,"post_id":13447813,"comment_id":18393115,"body_markdown":"If you see these processes, you can be sure to have an ABAP application server. I&#39;m not sure whether Java servers would show up in SM51 at all, so I won&#39;t attempt to answer this question.","body":"If you see these processes, you can be sure to have an ABAP application server. I&#39;m not sure whether Java servers would show up in SM51 at all, so I won&#39;t attempt to answer this question."},{"owner":{"account_id":1038556,"reputation":269,"user_id":1045107,"accept_rate":57,"display_name":"Jeffrey Ramos"},"score":0,"creation_date":1353318005,"post_id":13447813,"comment_id":18393431,"body_markdown":"Thanks.  But would you know how I can check whether I have a Java server at all, not necessarily via SM51 but some other transaction maybe?","body":"Thanks.  But would you know how I can check whether I have a Java server at all, not necessarily via SM51 but some other transaction maybe?"},{"owner":{"account_id":165169,"reputation":55855,"user_id":388389,"accept_rate":87,"display_name":"npocmaka"},"score":0,"creation_date":1353612412,"post_id":13447813,"comment_id":18506949,"body_markdown":"do you have os,http,file system , sap mmc access to theese systems?","body":"do you have os,http,file system , sap mmc access to theese systems?"}],"answers":[{"tags":[],"owner":{"account_id":2101258,"reputation":9,"user_id":1868814,"display_name":"Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354372799,"creation_date":1354372799,"answer_id":13660469,"question_id":13447813,"body_markdown":"The SAP application server, WAS, runs a java process and technically is a java server.","title":"Way to know if SAP WAS server is ABAP, Java or integrated","body":"<p>The SAP application server, WAS, runs a java process and technically is a java server.</p>\n"},{"tags":[],"owner":{"account_id":110384,"reputation":1025,"user_id":292095,"display_name":"mjturner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357212020,"creation_date":1357212020,"answer_id":14137914,"question_id":13447813,"body_markdown":"Only ABAP and ABAP+Java (dual stack) systems can be accessed via SAPGUI - if you&#39;re accessing a system using SAPGUI, it must, by definition, be either ABAP or ABAP+Java.\n\nThere are a few places in the ABAP stack you can check to see if you&#39;re using a dual stack system:\n\n 1. `SM51` - On dual stack systems you&#39;ll see **J2EE** amongst the *Message Types* (see image below, taken from a NetWeaver PI 7.1 dual stack system). Purely ABAP systems won&#39;t have it listed.\n\n    ![SM51 on dual stack system][1]\n\n 2. `SMICM` - Check the list of services in transaction `SMICM` (menu: *Goto --&gt; Services*) - dual stack systems will have the J2EE services listed too (look for P4 and IIOP in particular). There will also be an *AS Java* menu in `SMICM` on ABAP+Java systems.\n\n 3. Profile parameters - ABAP+Java systems will have J2EE-specific parameters in their start/instance profiles (for example, `rdisp/j2ee_start`).\n\n  [1]: http://i.stack.imgur.com/VToA8.png","title":"Way to know if SAP WAS server is ABAP, Java or integrated","body":"<p>Only ABAP and ABAP+Java (dual stack) systems can be accessed via SAPGUI - if you're accessing a system using SAPGUI, it must, by definition, be either ABAP or ABAP+Java.</p>\n<p>There are a few places in the ABAP stack you can check to see if you're using a dual stack system:</p>\n<ol>\n<li><p><code>SM51</code> - On dual stack systems you'll see <strong>J2EE</strong> amongst the <em>Message Types</em> (see image below, taken from a NetWeaver PI 7.1 dual stack system). Purely ABAP systems won't have it listed.</p>\n<p><img src=\"https://i.stack.imgur.com/VToA8.png\" alt=\"SM51 on dual stack system\" /></p>\n</li>\n<li><p><code>SMICM</code> - Check the list of services in transaction <code>SMICM</code> (menu: <em>Goto --&gt; Services</em>) - dual stack systems will have the J2EE services listed too (look for P4 and IIOP in particular). There will also be an <em>AS Java</em> menu in <code>SMICM</code> on ABAP+Java systems.</p>\n</li>\n<li><p>Profile parameters - ABAP+Java systems will have J2EE-specific parameters in their start/instance profiles (for example, <code>rdisp/j2ee_start</code>).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1038556,"reputation":269,"user_id":1045107,"accept_rate":57,"display_name":"Jeffrey Ramos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688144645,"creation_date":1353300457,"question_id":13447813,"body_markdown":"Using transaction `SM51`, I get a list of servers in my system (there is only one).  It has the following information:\r\n\r\n- Server Name\r\n- Host Name\r\n- Message Types (Having value Dialog Batch Update Upd2 Spool Enqueue ICM VMC)\r\n- Server Status (Active)\r\n\r\nThen if I double click on this a list of processes of various types (DIA, UPD, ENQ, BGD, SPO, UP2)\r\n\r\nMy question is for this server, is there a way to know if this application server is of type ABAP, Java or integrated?","title":"Way to know if SAP WAS server is ABAP, Java or integrated","body":"<p>Using transaction <code>SM51</code>, I get a list of servers in my system (there is only one).  It has the following information:</p>\n<ul>\n<li>Server Name</li>\n<li>Host Name</li>\n<li>Message Types (Having value Dialog Batch Update Upd2 Spool Enqueue ICM VMC)</li>\n<li>Server Status (Active)</li>\n</ul>\n<p>Then if I double click on this a list of processes of various types (DIA, UPD, ENQ, BGD, SPO, UP2)</p>\n<p>My question is for this server, is there a way to know if this application server is of type ABAP, Java or integrated?</p>\n"},{"tags":["java","jms","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1578278894,"post_id":59605992,"comment_id":105376289,"body_markdown":"What does your code look like?  Edit and add it to the question.  It is not helpful if you try to put it in a comment.","body":"What does your code look like?  Edit and add it to the question.  It is not helpful if you try to put it in a comment."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1578279178,"post_id":59605992,"comment_id":105376323,"body_markdown":"I understand I am using old version of client jar. Let&#39;s assume I migrate to new jar which is all-client jar.  Now how do I acheive it programatically.   Also the current jar version I am using does not have feature to purge queue programatically?","body":"I understand I am using old version of client jar. Let&#39;s assume I migrate to new jar which is all-client jar.  Now how do I acheive it programatically.   Also the current jar version I am using does not have feature to purge queue programatically?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1578280114,"post_id":59605992,"comment_id":105376464,"body_markdown":"You can get messages off the queue or you can use the PCF interface.  Understanding what you are doing will enable someone to figure out what you are doing incorrect.","body":"You can get messages off the queue or you can use the PCF interface.  Understanding what you are doing will enable someone to figure out what you are doing incorrect."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1578281406,"post_id":59605992,"comment_id":105376629,"body_markdown":"I am trying to purge MQ  queue programatically. Forget what client version jar I am using. Lets say I use all client latest jar.. now How to purge the queue programatically. ?","body":"I am trying to purge MQ  queue programatically. Forget what client version jar I am using. Lets say I use all client latest jar.. now How to purge the queue programatically. ?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1578281782,"post_id":59605992,"comment_id":105376686,"body_markdown":"I provided 2 options.  You stated &quot;but when I read the messages using Consumer code , the messages are still present in the queue.&quot;  Can you show this code so someone can help to fix it.   This is not a give me the codes forum,  you need to show what work you put into it.  See the [How to Ask](https://stackoverflow.com/help/how-to-ask) page on stack overflow help for more information.","body":"I provided 2 options.  You stated &quot;but when I read the messages using Consumer code , the messages are still present in the queue.&quot;  Can you show this code so someone can help to fix it.   This is not a give me the codes forum,  you need to show what work you put into it.  See the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page on stack overflow help for more information."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1578283684,"post_id":59605992,"comment_id":105377008,"body_markdown":"I am not supposed to show the code here as I am not the owner. And yes I do research and put effort before posting here.  My question was and is simple. Is it possible to programatically purge a MQ queue? If YES ,  how do we do it in any way.  I don&#39;t think so my code is no where related to it.   Thanks","body":"I am not supposed to show the code here as I am not the owner. And yes I do research and put effort before posting here.  My question was and is simple. Is it possible to programatically purge a MQ queue? If YES ,  how do we do it in any way.  I don&#39;t think so my code is no where related to it.   Thanks"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":2,"creation_date":1578284101,"post_id":59605992,"comment_id":105377078,"body_markdown":"If you cannot show your code, at least give us a clue about what it does. @JoshMc gave two possible ways you could do it. You tell us your code doesn&#39;t work correctly, but we don&#39;t know what your code does in order to advise further. Perhaps at least showing some pseudo-code that describes what your application does is a way to get around the perceived code publishing issue?","body":"If you cannot show your code, at least give us a clue about what it does. @JoshMc gave two possible ways you could do it. You tell us your code doesn&#39;t work correctly, but we don&#39;t know what your code does in order to advise further. Perhaps at least showing some pseudo-code that describes what your application does is a way to get around the perceived code publishing issue?"},{"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"score":0,"creation_date":1578301299,"post_id":59605992,"comment_id":105381713,"body_markdown":"you can commit and the retrieve all your messages. not sure which API you are using, but with JMS, do Session.commit() and then MessageConsumer.receiveNoWait()","body":"you can commit and the retrieve all your messages. not sure which API you are using, but with JMS, do Session.commit() and then MessageConsumer.receiveNoWait()"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1578302001,"post_id":59605992,"comment_id":105382036,"body_markdown":"What if there are some uncommitted messages by another application. The messages are lying the queue and the receiveNoWait is not able to clear them.","body":"What if there are some uncommitted messages by another application. The messages are lying the queue and the receiveNoWait is not able to clear them."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1578302166,"post_id":59605992,"comment_id":105382111,"body_markdown":"You would have to have the other application commit the messages or kill the other applications connection to the queue manger to force them to be backed out to the queue.   You can not get or clear (PCF) messages that another application has not committed.","body":"You would have to have the other application commit the messages or kill the other applications connection to the queue manger to force them to be backed out to the queue.   You can not get or clear (PCF) messages that another application has not committed."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1578302519,"post_id":59605992,"comment_id":105382263,"body_markdown":"The other application is already killed. The instance is no more running but still the messages are lying in the queue.","body":"The other application is already killed. The instance is no more running but still the messages are lying in the queue."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1578324472,"post_id":59605992,"comment_id":105392540,"body_markdown":"What does this command show `DIS QSTATUS(QUEUE.NAME.WITH.UNCOMMITTED.MESSAGES) UNCOM`.  The value returned for `UNCOM` will be either `NO` if no messages are uncommitted, or a number if there are messages that are uncommitted, the number is the number of messages that are uncommitted.  If a application that had the messages uncommitted is killed off normally the unit of works should roll back.","body":"What does this command show <code>DIS QSTATUS(QUEUE.NAME.WITH.UNCOMMITTED.MESSAGES) UNCOM</code>.  The value returned for <code>UNCOM</code> will be either <code>NO</code> if no messages are uncommitted, or a number if there are messages that are uncommitted, the number is the number of messages that are uncommitted.  If a application that had the messages uncommitted is killed off normally the unit of works should roll back."}],"answers":[{"comments":[{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":2,"creation_date":1578328595,"post_id":59611627,"comment_id":105394743,"body_markdown":"You should never ever get messages from a queue based on the &quot;Current Depth&quot;.  The current depth includes non-committed messages.  Also, the current depth value is a snap-shot of the depth of the queue at a particular moment in time.  It is far, far better to loop and get messages until the an exception of reason code of 2033 (MQRC_NO_MSG_AVAILABLE) is thrown.","body":"You should never ever get messages from a queue based on the &quot;Current Depth&quot;.  The current depth includes non-committed messages.  Also, the current depth value is a snap-shot of the depth of the queue at a particular moment in time.  It is far, far better to loop and get messages until the an exception of reason code of 2033 (MQRC_NO_MSG_AVAILABLE) is thrown."},{"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"score":0,"creation_date":1578388901,"post_id":59611627,"comment_id":105413128,"body_markdown":"yes, I was think about this approach first (getting message until there&#39;s no more), but unfortunately the MQ API method get() is a bit cumbersome in that it throws an expection instead of returning null (or an error code) if there&#39;s no more message. JMS is nicer in that respect.  Either way, I&#39;ve change the code.","body":"yes, I was think about this approach first (getting message until there&#39;s no more), but unfortunately the MQ API method get() is a bit cumbersome in that it throws an expection instead of returning null (or an error code) if there&#39;s no more message. JMS is nicer in that respect.  Either way, I&#39;ve change the code."}],"tags":[],"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578389080,"creation_date":1578311501,"answer_id":59611627,"question_id":59605992,"body_markdown":"How about something simple like this ?\r\n\r\n  \r\n    import java.io.IOException;\r\n    import com.ibm.mq.MQException;\r\n    import com.ibm.mq.MQMessage;\r\n    import com.ibm.mq.MQPutMessageOptions;\r\n    import com.ibm.mq.MQQueue;\r\n    import com.ibm.mq.MQQueueManager;\r\n    import com.ibm.mq.constants.MQConstants;\r\n    import com.ibm.msg.client.wmq.WMQConstants;\r\n    \r\n    public class MQClear {\r\n    \r\n      private static final String qManager = &quot;QM1&quot;;\r\n      private static final String qName = &quot;Q1&quot;;\r\n      \r\n      public static void main(String args[]) {\r\n        try {\r\n          \r\n          MQQueueManager qMgr = new MQQueueManager(qManager);\r\n          int openOptions = MQConstants.MQOO_INPUT_AS_Q_DEF;\r\n          MQQueue queue = qMgr.accessQueue(qName, openOptions);\r\n    \r\n          // not great: while (queue.getCurrentDepth()&gt;0) {\r\n          boolean hasMore = true;\r\n          while (hasMore) {\r\n        \r\n            try {\r\n              MQMessage mqMsg = new MQMessage();\r\n              queue.get(mqMsg);\r\n            }\r\n            catch (MQException ex) {\r\n              hasMore = false;\r\n              if( ex.reasonCode!=2033 ) throw ex; // if this was something other than NO_MSG_AVAILABLE, rethrow\r\n            }\r\n          }\r\n\r\n          queue.close();\r\n          qMgr.disconnect(); \r\n        }\r\n        catch (MQException ex) {\r\n          \r\n          System.out.println(&quot;A WebSphere MQ Error occured : Completion Code &quot; + ex.completionCode\r\n              + &quot; Reason Code &quot; + ex.reasonCode);\r\n          ex.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Purge IBM MQ Queue programmatically","body":"<p>How about something simple like this ?</p>\n\n<pre><code>import java.io.IOException;\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\nimport com.ibm.mq.constants.MQConstants;\nimport com.ibm.msg.client.wmq.WMQConstants;\n\npublic class MQClear {\n\n  private static final String qManager = \"QM1\";\n  private static final String qName = \"Q1\";\n\n  public static void main(String args[]) {\n    try {\n\n      MQQueueManager qMgr = new MQQueueManager(qManager);\n      int openOptions = MQConstants.MQOO_INPUT_AS_Q_DEF;\n      MQQueue queue = qMgr.accessQueue(qName, openOptions);\n\n      // not great: while (queue.getCurrentDepth()&gt;0) {\n      boolean hasMore = true;\n      while (hasMore) {\n\n        try {\n          MQMessage mqMsg = new MQMessage();\n          queue.get(mqMsg);\n        }\n        catch (MQException ex) {\n          hasMore = false;\n          if( ex.reasonCode!=2033 ) throw ex; // if this was something other than NO_MSG_AVAILABLE, rethrow\n        }\n      }\n\n      queue.close();\n      qMgr.disconnect(); \n    }\n    catch (MQException ex) {\n\n      System.out.println(\"A WebSphere MQ Error occured : Completion Code \" + ex.completionCode\n          + \" Reason Code \" + ex.reasonCode);\n      ex.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4455231,"reputation":136,"user_id":3625752,"display_name":"rinilnath"},"score":0,"creation_date":1603869571,"post_id":59616852,"comment_id":114169358,"body_markdown":"do you have the latest version of MQRead.java and MQWrite.java, which i can see in that website is also written by you, it will be great help for reference with latest API methods. Please share it if you have written new version of the above classes","body":"do you have the latest version of MQRead.java and MQWrite.java, which i can see in that website is also written by you, it will be great help for reference with latest API methods. Please share it if you have written new version of the above classes"},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":1,"creation_date":1603900675,"post_id":59616852,"comment_id":114184106,"body_markdown":"@rinilnath The MQ/Java API methods have not changed.  In MQ v7 (I think), IBM change where the constants are located.  Just change &quot;MQC.&quot; to &quot;CMQC.&quot; in MQRead and MQWrite and then it should compile.","body":"@rinilnath The MQ/Java API methods have not changed.  In MQ v7 (I think), IBM change where the constants are located.  Just change &quot;MQC.&quot; to &quot;CMQC.&quot; in MQRead and MQWrite and then it should compile."},{"owner":{"account_id":4455231,"reputation":136,"user_id":3625752,"display_name":"rinilnath"},"score":0,"creation_date":1604056147,"post_id":59616852,"comment_id":114236937,"body_markdown":"Thanks CMQC removes the deprecation warning . But there is one more deprecation  from MQException.MQRC_NO_MSG_AVAILABLE. can you please suggest the alternative","body":"Thanks CMQC removes the deprecation warning . But there is one more deprecation  from MQException.MQRC_NO_MSG_AVAILABLE. can you please suggest the alternative"},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":1,"creation_date":1604074443,"post_id":59616852,"comment_id":114245403,"body_markdown":"I strongly suggest you start doing internet searches and also reading the MQ KnowLedge Center.  What is the first link you get using Google for `MQException.MQRC_NO_MSG_AVAILABLE`?  It is a link to a page in the MQ KnowLedge Center (https://www.ibm.com/support/knowledgecenter/SSFKSJ_9.2.0/com.ibm.mq.javadoc.doc/WMQJMSClasses/com/ibm/mq/MQException.html) that says MQException.MQRC_NO_MSG_AVAILABLE is depreciated and what to use.  i.e. **_Deprecated. use MQConstants.MQRC_NO_MSG_AVAILABLE instead._**  Or you can use CMQC class.","body":"I strongly suggest you start doing internet searches and also reading the MQ KnowLedge Center.  What is the first link you get using Google for <code>MQException.MQRC_NO_MSG_AVAILABLE</code>?  It is a link to a page in the MQ KnowLedge Center (<a href=\"https://www.ibm.com/support/knowledgecenter/SSFKSJ_9.2.0/com.ibm.mq.javadoc.doc/WMQJMSClasses/com/ibm/mq/MQException.html\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/SSFKSJ_9.2.0/&hellip;</a>) that says MQException.MQRC_NO_MSG_AVAILABLE is depreciated and what to use.  i.e. <b><i>Deprecated. use MQConstants.MQRC_NO_MSG_AVAILABLE instead.</i></b>  Or you can use CMQC class."}],"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578333863,"creation_date":1578333863,"answer_id":59616852,"question_id":59605992,"body_markdown":"Here is a fully functioning Java/MQ program called &#39;EmptyQ.java&#39; that will delete all messages on a queue until the queue is empty.  Note: It is one of the sample MQ/Java programs that I posted [here][1].\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Hashtable;\r\n    \r\n    import com.ibm.mq.MQException;\r\n    import com.ibm.mq.MQMessage;\r\n    import com.ibm.mq.MQGetMessageOptions;\r\n    import com.ibm.mq.MQQueue;\r\n    import com.ibm.mq.MQQueueManager;\r\n    import com.ibm.mq.constants.CMQC;\r\n    \r\n    /**\r\n     * Program Name: \r\n     *  EmptyQ\r\n     *\r\n     * Description: \r\n     * This java class will connect to a remote queue manager with the\r\n     * MQ setting stored in a HashTable, loop to retrieve (delete) all messages from\r\n     * a queue then close and disconnect.\r\n     *\r\n     * Sample Command Line Parameters: \r\n     * bindings mode: \r\n     *  -m MQA1 -q TEST.Q1 \r\n     *  \r\n     * client mode:\r\n     *  -m MQA1 -q TEST.Q1 -h 127.0.0.1 -p 1414 -c TEST.CHL -u UserID -x Password\r\n     *\r\n     * @author Roger Lacroix\r\n     */\r\n    public class EmptyQ\r\n    {\r\n       private static final SimpleDateFormat LOGGER_TIMESTAMP = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss.SSS&quot;);\r\n    \r\n       private Hashtable&lt;String, String&gt; params;\r\n       private Hashtable&lt;String, Object&gt; mqht;\r\n    \r\n       /**\r\n        * The constructor\r\n        */\r\n       public EmptyQ()\r\n       {\r\n          super();\r\n          params = new Hashtable&lt;String, String&gt;();\r\n          mqht = new Hashtable&lt;String, Object&gt;();\r\n       }\r\n    \r\n       /**\r\n        * Make sure the required parameters are present.\r\n        * \r\n        * @return true/false\r\n        */\r\n       private boolean allParamsPresent()\r\n       {\r\n          boolean b = params.containsKey(&quot;-m&quot;) &amp;&amp; params.containsKey(&quot;-q&quot;);\r\n    \r\n          if (params.containsKey(&quot;-c&quot;))\r\n          {\r\n             b = b &amp;&amp; params.containsKey(&quot;-c&quot;) &amp;&amp; params.containsKey(&quot;-h&quot;) &amp;&amp; params.containsKey(&quot;-p&quot;);\r\n          }\r\n    \r\n          if (b)\r\n          {\r\n             try\r\n             {\r\n                if (params.containsKey(&quot;-p&quot;))\r\n                   Integer.parseInt((String) params.get(&quot;-p&quot;));\r\n             }\r\n             catch (NumberFormatException e)\r\n             {\r\n                b = false;\r\n             }\r\n          }\r\n    \r\n          return b;\r\n       }\r\n    \r\n       /**\r\n        * Extract the command-line parameters and initialize the MQ HashTable.\r\n        * \r\n        * @param args\r\n        * @throws IllegalArgumentException\r\n        */\r\n       private void init(String[] args) throws IllegalArgumentException\r\n       {\r\n          int port = 1414;\r\n          if (args.length &gt; 0 &amp;&amp; (args.length % 2) == 0)\r\n          {\r\n             for (int i = 0; i &lt; args.length; i += 2)\r\n             {\r\n                params.put(args[i], args[i + 1]);\r\n             }\r\n          }\r\n          else\r\n          {\r\n             throw new IllegalArgumentException();\r\n          }\r\n    \r\n          if (allParamsPresent())\r\n          {\r\n             if (params.containsKey(&quot;-c&quot;))\r\n             {\r\n                try\r\n                {\r\n                   port = Integer.parseInt((String) params.get(&quot;-p&quot;));\r\n                }\r\n                catch (NumberFormatException e)\r\n                {\r\n                   port = 1414;\r\n                }\r\n    \r\n                mqht.put(CMQC.CHANNEL_PROPERTY, params.get(&quot;-c&quot;));\r\n                mqht.put(CMQC.HOST_NAME_PROPERTY, params.get(&quot;-h&quot;));\r\n                mqht.put(CMQC.PORT_PROPERTY, new Integer(port));\r\n                if (params.containsKey(&quot;-u&quot;))\r\n                   mqht.put(CMQC.USER_ID_PROPERTY, params.get(&quot;-u&quot;));\r\n                if (params.containsKey(&quot;-x&quot;))\r\n                   mqht.put(CMQC.PASSWORD_PROPERTY, params.get(&quot;-x&quot;));\r\n             }\r\n    \r\n             // I don&#39;t want to see MQ exceptions at the console.\r\n             MQException.log = null;\r\n          }\r\n          else\r\n          {\r\n             throw new IllegalArgumentException();\r\n          }\r\n       }\r\n    \r\n       /**\r\n        * Connect, open queue, loop and get all messages then close queue and\r\n        * disconnect.\r\n        *\r\n        */\r\n       private void receive()\r\n       {\r\n          String qMgrName = (String) params.get(&quot;-m&quot;);\r\n          String inputQName = (String) params.get(&quot;-q&quot;);\r\n          MQQueueManager qMgr = null;\r\n          MQQueue queue = null;\r\n          int openOptions = CMQC.MQOO_INPUT_AS_Q_DEF + CMQC.MQOO_INQUIRE + CMQC.MQOO_FAIL_IF_QUIESCING;\r\n          MQGetMessageOptions gmo = new MQGetMessageOptions();\r\n          gmo.options = CMQC.MQGMO_FAIL_IF_QUIESCING + CMQC.MQGMO_ACCEPT_TRUNCATED_MSG;\r\n          MQMessage receiveMsg = null;\r\n          int msgCount = 0;\r\n          boolean getMore = true;\r\n    \r\n          try\r\n          {\r\n             if (params.containsKey(&quot;-c&quot;))\r\n                qMgr = new MQQueueManager(qMgrName, mqht);\r\n             else\r\n                qMgr = new MQQueueManager(qMgrName);\r\n             EmptyQ.logger(&quot;successfully connected to &quot; + qMgrName);\r\n    \r\n             queue = qMgr.accessQueue(inputQName, openOptions);\r\n             EmptyQ.logger(&quot;successfully opened &quot; + inputQName);\r\n    \r\n             while (getMore)\r\n             {\r\n                receiveMsg = new MQMessage();\r\n    \r\n                try\r\n                {\r\n                   // get the message on the queue - request only 1 byte - make it go as fast as possible.\r\n                   queue.get(receiveMsg, gmo, 1);\r\n                   msgCount++;\r\n                }\r\n                catch (MQException e)\r\n                {\r\n                   if ( (e.completionCode == CMQC.MQCC_FAILED) &amp;&amp; \r\n                        (e.reasonCode == CMQC.MQRC_NO_MSG_AVAILABLE) )\r\n                   {\r\n                      // All messages read.\r\n                      getMore = false;\r\n                      break;\r\n                   }\r\n                   else if ( (e.completionCode == CMQC.MQCC_WARNING) &amp;&amp; \r\n                             (e.reasonCode == CMQC.MQRC_TRUNCATED_MSG_ACCEPTED) )\r\n                   {\r\n                      msgCount++;\r\n                   }\r\n                   else\r\n                   {\r\n                      EmptyQ.logger(&quot;MQException: &quot; + e.getLocalizedMessage());\r\n                      EmptyQ.logger(&quot;CC=&quot; + e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n                      getMore = false;\r\n                      break;\r\n                   }\r\n                }\r\n             }\r\n          }\r\n          catch (MQException e)\r\n          {\r\n             EmptyQ.logger(&quot;CC=&quot; + e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n          }\r\n          finally\r\n          {\r\n             EmptyQ.logger(&quot;deleted &quot; + msgCount + &quot; messages&quot;);\r\n    \r\n             try\r\n             {\r\n                if (queue != null)\r\n                {\r\n                   queue.close();\r\n                   EmptyQ.logger(&quot;closed: &quot; + inputQName);\r\n                }\r\n             }\r\n             catch (MQException e)\r\n             {\r\n                EmptyQ.logger(&quot;CC=&quot; + e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n             }\r\n             try\r\n             {\r\n                if (qMgr != null)\r\n                {\r\n                   qMgr.disconnect();\r\n                   EmptyQ.logger(&quot;disconnected from &quot; + qMgrName);\r\n                }\r\n             }\r\n             catch (MQException e)\r\n             {\r\n                EmptyQ.logger(&quot;CC=&quot; + e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n             }\r\n          }\r\n       }\r\n    \r\n       /**\r\n        * A simple logger method\r\n        * \r\n        * @param data\r\n        */\r\n       public static void logger(String data)\r\n       {\r\n          String className = Thread.currentThread().getStackTrace()[2].getClassName();\r\n    \r\n          // Remove the package info.\r\n          if ((className != null) &amp;&amp; (className.lastIndexOf(&#39;.&#39;) != -1))\r\n             className = className.substring(className.lastIndexOf(&#39;.&#39;) + 1);\r\n    \r\n          System.out.println(LOGGER_TIMESTAMP.format(new Date()) + &quot; &quot; + className + &quot;: &quot; + Thread.currentThread().getStackTrace()[2].getMethodName() + &quot;: &quot; + data);\r\n       }\r\n    \r\n       /**\r\n        * main line\r\n        * \r\n        * @param args\r\n        */\r\n       public static void main(String[] args)\r\n       {\r\n          EmptyQ write = new EmptyQ();\r\n    \r\n          try\r\n          {\r\n             write.init(args);\r\n             write.receive();\r\n          }\r\n          catch (IllegalArgumentException e)\r\n          {\r\n             System.err.println(&quot;Usage: java EmptyQ -m QueueManagerName -q QueueName [-h host -p port -c channel] [-u UserID] [-x Password]&quot;);\r\n             System.exit(1);\r\n          }\r\n    \r\n          System.exit(0);\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://capitalware.com/mq_code_java.html\r\n","title":"Purge IBM MQ Queue programmatically","body":"<p>Here is a fully functioning Java/MQ program called 'EmptyQ.java' that will delete all messages on a queue until the queue is empty.  Note: It is one of the sample MQ/Java programs that I posted <a href=\"https://capitalware.com/mq_code_java.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Hashtable;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQGetMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\nimport com.ibm.mq.constants.CMQC;\n\n/**\n * Program Name: \n *  EmptyQ\n *\n * Description: \n * This java class will connect to a remote queue manager with the\n * MQ setting stored in a HashTable, loop to retrieve (delete) all messages from\n * a queue then close and disconnect.\n *\n * Sample Command Line Parameters: \n * bindings mode: \n *  -m MQA1 -q TEST.Q1 \n *  \n * client mode:\n *  -m MQA1 -q TEST.Q1 -h 127.0.0.1 -p 1414 -c TEST.CHL -u UserID -x Password\n *\n * @author Roger Lacroix\n */\npublic class EmptyQ\n{\n   private static final SimpleDateFormat LOGGER_TIMESTAMP = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss.SSS\");\n\n   private Hashtable&lt;String, String&gt; params;\n   private Hashtable&lt;String, Object&gt; mqht;\n\n   /**\n    * The constructor\n    */\n   public EmptyQ()\n   {\n      super();\n      params = new Hashtable&lt;String, String&gt;();\n      mqht = new Hashtable&lt;String, Object&gt;();\n   }\n\n   /**\n    * Make sure the required parameters are present.\n    * \n    * @return true/false\n    */\n   private boolean allParamsPresent()\n   {\n      boolean b = params.containsKey(\"-m\") &amp;&amp; params.containsKey(\"-q\");\n\n      if (params.containsKey(\"-c\"))\n      {\n         b = b &amp;&amp; params.containsKey(\"-c\") &amp;&amp; params.containsKey(\"-h\") &amp;&amp; params.containsKey(\"-p\");\n      }\n\n      if (b)\n      {\n         try\n         {\n            if (params.containsKey(\"-p\"))\n               Integer.parseInt((String) params.get(\"-p\"));\n         }\n         catch (NumberFormatException e)\n         {\n            b = false;\n         }\n      }\n\n      return b;\n   }\n\n   /**\n    * Extract the command-line parameters and initialize the MQ HashTable.\n    * \n    * @param args\n    * @throws IllegalArgumentException\n    */\n   private void init(String[] args) throws IllegalArgumentException\n   {\n      int port = 1414;\n      if (args.length &gt; 0 &amp;&amp; (args.length % 2) == 0)\n      {\n         for (int i = 0; i &lt; args.length; i += 2)\n         {\n            params.put(args[i], args[i + 1]);\n         }\n      }\n      else\n      {\n         throw new IllegalArgumentException();\n      }\n\n      if (allParamsPresent())\n      {\n         if (params.containsKey(\"-c\"))\n         {\n            try\n            {\n               port = Integer.parseInt((String) params.get(\"-p\"));\n            }\n            catch (NumberFormatException e)\n            {\n               port = 1414;\n            }\n\n            mqht.put(CMQC.CHANNEL_PROPERTY, params.get(\"-c\"));\n            mqht.put(CMQC.HOST_NAME_PROPERTY, params.get(\"-h\"));\n            mqht.put(CMQC.PORT_PROPERTY, new Integer(port));\n            if (params.containsKey(\"-u\"))\n               mqht.put(CMQC.USER_ID_PROPERTY, params.get(\"-u\"));\n            if (params.containsKey(\"-x\"))\n               mqht.put(CMQC.PASSWORD_PROPERTY, params.get(\"-x\"));\n         }\n\n         // I don't want to see MQ exceptions at the console.\n         MQException.log = null;\n      }\n      else\n      {\n         throw new IllegalArgumentException();\n      }\n   }\n\n   /**\n    * Connect, open queue, loop and get all messages then close queue and\n    * disconnect.\n    *\n    */\n   private void receive()\n   {\n      String qMgrName = (String) params.get(\"-m\");\n      String inputQName = (String) params.get(\"-q\");\n      MQQueueManager qMgr = null;\n      MQQueue queue = null;\n      int openOptions = CMQC.MQOO_INPUT_AS_Q_DEF + CMQC.MQOO_INQUIRE + CMQC.MQOO_FAIL_IF_QUIESCING;\n      MQGetMessageOptions gmo = new MQGetMessageOptions();\n      gmo.options = CMQC.MQGMO_FAIL_IF_QUIESCING + CMQC.MQGMO_ACCEPT_TRUNCATED_MSG;\n      MQMessage receiveMsg = null;\n      int msgCount = 0;\n      boolean getMore = true;\n\n      try\n      {\n         if (params.containsKey(\"-c\"))\n            qMgr = new MQQueueManager(qMgrName, mqht);\n         else\n            qMgr = new MQQueueManager(qMgrName);\n         EmptyQ.logger(\"successfully connected to \" + qMgrName);\n\n         queue = qMgr.accessQueue(inputQName, openOptions);\n         EmptyQ.logger(\"successfully opened \" + inputQName);\n\n         while (getMore)\n         {\n            receiveMsg = new MQMessage();\n\n            try\n            {\n               // get the message on the queue - request only 1 byte - make it go as fast as possible.\n               queue.get(receiveMsg, gmo, 1);\n               msgCount++;\n            }\n            catch (MQException e)\n            {\n               if ( (e.completionCode == CMQC.MQCC_FAILED) &amp;&amp; \n                    (e.reasonCode == CMQC.MQRC_NO_MSG_AVAILABLE) )\n               {\n                  // All messages read.\n                  getMore = false;\n                  break;\n               }\n               else if ( (e.completionCode == CMQC.MQCC_WARNING) &amp;&amp; \n                         (e.reasonCode == CMQC.MQRC_TRUNCATED_MSG_ACCEPTED) )\n               {\n                  msgCount++;\n               }\n               else\n               {\n                  EmptyQ.logger(\"MQException: \" + e.getLocalizedMessage());\n                  EmptyQ.logger(\"CC=\" + e.completionCode + \" : RC=\" + e.reasonCode);\n                  getMore = false;\n                  break;\n               }\n            }\n         }\n      }\n      catch (MQException e)\n      {\n         EmptyQ.logger(\"CC=\" + e.completionCode + \" : RC=\" + e.reasonCode);\n      }\n      finally\n      {\n         EmptyQ.logger(\"deleted \" + msgCount + \" messages\");\n\n         try\n         {\n            if (queue != null)\n            {\n               queue.close();\n               EmptyQ.logger(\"closed: \" + inputQName);\n            }\n         }\n         catch (MQException e)\n         {\n            EmptyQ.logger(\"CC=\" + e.completionCode + \" : RC=\" + e.reasonCode);\n         }\n         try\n         {\n            if (qMgr != null)\n            {\n               qMgr.disconnect();\n               EmptyQ.logger(\"disconnected from \" + qMgrName);\n            }\n         }\n         catch (MQException e)\n         {\n            EmptyQ.logger(\"CC=\" + e.completionCode + \" : RC=\" + e.reasonCode);\n         }\n      }\n   }\n\n   /**\n    * A simple logger method\n    * \n    * @param data\n    */\n   public static void logger(String data)\n   {\n      String className = Thread.currentThread().getStackTrace()[2].getClassName();\n\n      // Remove the package info.\n      if ((className != null) &amp;&amp; (className.lastIndexOf('.') != -1))\n         className = className.substring(className.lastIndexOf('.') + 1);\n\n      System.out.println(LOGGER_TIMESTAMP.format(new Date()) + \" \" + className + \": \" + Thread.currentThread().getStackTrace()[2].getMethodName() + \": \" + data);\n   }\n\n   /**\n    * main line\n    * \n    * @param args\n    */\n   public static void main(String[] args)\n   {\n      EmptyQ write = new EmptyQ();\n\n      try\n      {\n         write.init(args);\n         write.receive();\n      }\n      catch (IllegalArgumentException e)\n      {\n         System.err.println(\"Usage: java EmptyQ -m QueueManagerName -q QueueName [-h host -p port -c channel] [-u UserID] [-x Password]\");\n         System.exit(1);\n      }\n\n      System.exit(0);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24133002,"reputation":11,"user_id":18100364,"display_name":"himanshu khullar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643822942,"creation_date":1643810280,"answer_id":70956939,"question_id":59605992,"body_markdown":"I implemented this in my project recently.\r\n\r\nUSING WMQ\r\n\r\nbrowse the queue , consume the messages destructively from the queue.\r\n\r\nUse *CMQC.MQGMO_MSG_UNDER_CURSOR* in MQMessageoptions to remove message destructively from the queue.\r\n\r\nhttps://www.ibm.com/docs/en/ibm-mq/9.0?topic=java-mqc     \r\n\r\n    MQGetMessageOptions getOptions = new MQGetMessageOptions();\r\n    getOptions.options = CMQC.MQGMO_MSG_UNDER_CURSOR + CMQC.MQGMO_NO_WAIT\r\n    \t\t\t\t\t\t\t\t+ CMQC.MQGMO_FAIL_IF_QUIESCING + CMQC.MQGMO_ACCEPT_TRUNCATED_MSG;\r\n\r\n","title":"Purge IBM MQ Queue programmatically","body":"<p>I implemented this in my project recently.</p>\n<p>USING WMQ</p>\n<p>browse the queue , consume the messages destructively from the queue.</p>\n<p>Use <em>CMQC.MQGMO_MSG_UNDER_CURSOR</em> in MQMessageoptions to remove message destructively from the queue.</p>\n<p><a href=\"https://www.ibm.com/docs/en/ibm-mq/9.0?topic=java-mqc\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.0?topic=java-mqc</a></p>\n<pre><code>MQGetMessageOptions getOptions = new MQGetMessageOptions();\ngetOptions.options = CMQC.MQGMO_MSG_UNDER_CURSOR + CMQC.MQGMO_NO_WAIT\n                                + CMQC.MQGMO_FAIL_IF_QUIESCING + CMQC.MQGMO_ACCEPT_TRUNCATED_MSG;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4844264,"reputation":475,"user_id":3908401,"display_name":"Jairo Mart&#237;nez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688144300,"creation_date":1688144300,"answer_id":76590945,"question_id":59605992,"body_markdown":"Following the suggestion of @himanshu Khullar, in my case I had to send two commands to the queue manager. First, I had to move to the first position and then proceed with the deletion.\r\n\r\nPiece of my code:\r\n\r\n    MQQueueManager qManager = null;\r\n\tMQQueue       objQueue = null;\r\n\tQueue queue = null;\r\n\r\n\tint           depth;\r\n\t\r\n\tlogger.info(&quot;Opening a channel to QL &quot; + this.queue.getName());\r\n\r\n\tobjQueue = this.qManager.accessQueue(this.queue.getName(), MQC.MQOO_INQUIRE + MQC.MQOO_INPUT_SHARED + MQC.MQOO_BROWSE);\r\n\tdepth = objQueue.getCurrentDepth();\r\n\r\n\tlogger.info(&quot;Messages in queue [&quot; + depth + &quot;]&quot;);\r\n\r\n\tMQGetMessageOptions optionMsg = new MQGetMessageOptions();\r\n\tMQMessage objMsg = new MQMessage();\r\n\r\n\t//-- Read queue and delete each message\r\n\twhile (Boolean.TRUE) {\r\n\r\n\t\t//-- Move the cursor to right position\r\n\t\toptionMsg.options = MQC.MQGMO_NO_WAIT + MQC.MQGMO_BROWSE_FIRST;\r\n\t\toptionMsg.matchOptions = MQC.MQMO_NONE;\r\n\t\toptionMsg.waitInterval = 5000;\r\n\r\n\t\tobjMsg = new MQMessage();\r\n\t\tobjQueue.get(objMsg, optionMsg);\r\n\r\n\t\t// Delete message\r\n\t\toptionMsg = new MQGetMessageOptions();\r\n\t\toptionMsg.options = CMQC.MQGMO_MSG_UNDER_CURSOR;\r\n\t\toptionMsg.matchOptions = MQC.MQMO_NONE;\r\n\t\toptionMsg.waitInterval = 5000;\r\n\r\n\t\t//-- Get message\r\n\t\tobjMsg = new MQMessage();\r\n\t\tobjQueue.get(objMsg, optionMsg);\r\n\t\t\r\n\t}","title":"Purge IBM MQ Queue programmatically","body":"<p>Following the suggestion of @himanshu Khullar, in my case I had to send two commands to the queue manager. First, I had to move to the first position and then proceed with the deletion.</p>\n<p>Piece of my code:</p>\n<pre><code>MQQueueManager qManager = null;\nMQQueue       objQueue = null;\nQueue queue = null;\n\nint           depth;\n\nlogger.info(&quot;Opening a channel to QL &quot; + this.queue.getName());\n\nobjQueue = this.qManager.accessQueue(this.queue.getName(), MQC.MQOO_INQUIRE + MQC.MQOO_INPUT_SHARED + MQC.MQOO_BROWSE);\ndepth = objQueue.getCurrentDepth();\n\nlogger.info(&quot;Messages in queue [&quot; + depth + &quot;]&quot;);\n\nMQGetMessageOptions optionMsg = new MQGetMessageOptions();\nMQMessage objMsg = new MQMessage();\n\n//-- Read queue and delete each message\nwhile (Boolean.TRUE) {\n\n    //-- Move the cursor to right position\n    optionMsg.options = MQC.MQGMO_NO_WAIT + MQC.MQGMO_BROWSE_FIRST;\n    optionMsg.matchOptions = MQC.MQMO_NONE;\n    optionMsg.waitInterval = 5000;\n\n    objMsg = new MQMessage();\n    objQueue.get(objMsg, optionMsg);\n\n    // Delete message\n    optionMsg = new MQGetMessageOptions();\n    optionMsg.options = CMQC.MQGMO_MSG_UNDER_CURSOR;\n    optionMsg.matchOptions = MQC.MQMO_NONE;\n    optionMsg.waitInterval = 5000;\n\n    //-- Get message\n    objMsg = new MQMessage();\n    objQueue.get(objMsg, optionMsg);\n    \n}\n</code></pre>\n"}],"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3292,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1688144300,"creation_date":1578277494,"question_id":59605992,"body_markdown":"Is there any way to purge IBM MQ Queue programmatically? I have few messages lying in the Queue but when I read the messages using Consumer code , the messages are still present in the queue. I am assuming there are some uncommitted messages present in queue.  I do not have access to MQ explorer so I want to clear the queue programmatically. (either through JMS code or IBM MQ implementation way)\r\n\r\nCurrently my consumer has jar file **com.ibm.mq-6.0.2.1.jar**  So I prefer to use WMQ classes rather than JMS.","title":"Purge IBM MQ Queue programmatically","body":"<p>Is there any way to purge IBM MQ Queue programmatically? I have few messages lying in the Queue but when I read the messages using Consumer code , the messages are still present in the queue. I am assuming there are some uncommitted messages present in queue.  I do not have access to MQ explorer so I want to clear the queue programmatically. (either through JMS code or IBM MQ implementation way)</p>\n\n<p>Currently my consumer has jar file <strong>com.ibm.mq-6.0.2.1.jar</strong>  So I prefer to use WMQ classes rather than JMS.</p>\n"},{"tags":["java","sql","sql-server","date","timestamp"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1688125158,"post_id":76588524,"comment_id":135035384,"body_markdown":"check the `LocalDate` and `Instant` classes of the [`java.time`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html) package","body":"check the <code>LocalDate</code> and <code>Instant</code> classes of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1688125248,"post_id":76588524,"comment_id":135035399,"body_markdown":"You cannot directly cast a `BigDecimal` to a `Date`, that&#39;s what the error message says. Where are you using a `BigDecimal`? Can you use its `longValue()` instead?","body":"You cannot directly cast a <code>BigDecimal</code> to a <code>Date</code>, that&#39;s what the error message says. Where are you using a <code>BigDecimal</code>? Can you use its <code>longValue()</code> instead?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688128721,"post_id":76588524,"comment_id":135036107,"body_markdown":"Wouldn&#39;t it be a lot easier to make the parameter fit the criteria rather than convert the value in the table to fit the criteria?","body":"Wouldn&#39;t it be a lot easier to make the parameter fit the criteria rather than convert the value in the table to fit the criteria?"}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688125294,"creation_date":1688125294,"answer_id":76588609,"question_id":76588524,"body_markdown":"(&#39;Casting&#39; is not going to help, it does not do magic data conversions).  \r\n\r\nA Date by definition represents a particular date and time; it cannot do otherwise.  \r\n\r\nIf you want to display only the date, then that is a matter of formatting at the point of display. To convert a numeric value, first find out what the number represents - probably seconds since 1970.  Then, use a suitable constructor like `Date(nnn)` to construct a Date.\r\n\r\nThere are more suitable replacements for Date, however. I use it only because that&#39;s what you mention.\r\n","title":"Casting 13 digit decimal (timestamp) from db to java Date in MSSQL","body":"<p>('Casting' is not going to help, it does not do magic data conversions).</p>\n<p>A Date by definition represents a particular date and time; it cannot do otherwise.</p>\n<p>If you want to display only the date, then that is a matter of formatting at the point of display. To convert a numeric value, first find out what the number represents - probably seconds since 1970.  Then, use a suitable constructor like <code>Date(nnn)</code> to construct a Date.</p>\n<p>There are more suitable replacements for Date, however. I use it only because that's what you mention.</p>\n"},{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688125851,"creation_date":1688125851,"answer_id":76588669,"question_id":76588524,"body_markdown":"You could convert the &quot;number&quot; to a &quot;date&quot; in the SELECT. Meaning something like this:\r\n\r\n    select to_timestamp(lg.timestmp/1000)::date AS datetimestmp;","title":"Casting 13 digit decimal (timestamp) from db to java Date in MSSQL","body":"<p>You could convert the &quot;number&quot; to a &quot;date&quot; in the SELECT. Meaning something like this:</p>\n<pre><code>select to_timestamp(lg.timestmp/1000)::date AS datetimestmp;\n</code></pre>\n"}],"owner":{"account_id":24764575,"reputation":29,"user_id":18648552,"display_name":"Kate Quinn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688143750,"creation_date":1688124523,"question_id":76588524,"body_markdown":"I can not resolve my problem. I have 13 digit decimal stored in database, and I need to parse it to the same dat as java.Date is using, so i can compare them in Query. \r\nI strictly do not want to have full timestamp with **&#39;yyyy-mm-dd hh:mm:ss&#39;**, just **&#39;yyyy-mm-dd&#39;**\r\n\r\n       @Query(value = &quot;select lg.event_id, lg.level_string, lg.formatted_message, lg.caller_filename, lg.timestmp  from LoggingEvent lg&quot;\r\n            + &quot; where  CONVERT(date,DATEADD(SECOND, timestmp/1000 ,&#39;1970-01-01&#39;),103)= :currentDate&quot;)\r\n       List&lt;LoggingEvent&gt; xxx(Date currentDate);\r\n\r\nI get this output: *No converter found capable of converting from type [java.math.BigDecimal] to type [@org.springframework.data.jpa.repository.Query* \r\n\r\n\r\nInput: 1688118257029\r\nRequired output: 2023-06-30","title":"Casting 13 digit decimal (timestamp) from db to java Date in MSSQL","body":"<p>I can not resolve my problem. I have 13 digit decimal stored in database, and I need to parse it to the same dat as java.Date is using, so i can compare them in Query.\nI strictly do not want to have full timestamp with <strong>'yyyy-mm-dd hh:mm:ss'</strong>, just <strong>'yyyy-mm-dd'</strong></p>\n<pre><code>   @Query(value = &quot;select lg.event_id, lg.level_string, lg.formatted_message, lg.caller_filename, lg.timestmp  from LoggingEvent lg&quot;\n        + &quot; where  CONVERT(date,DATEADD(SECOND, timestmp/1000 ,'1970-01-01'),103)= :currentDate&quot;)\n   List&lt;LoggingEvent&gt; xxx(Date currentDate);\n</code></pre>\n<p>I get this output: <em>No converter found capable of converting from type [java.math.BigDecimal] to type [@org.springframework.data.jpa.repository.Query</em></p>\n<p>Input: 1688118257029\nRequired output: 2023-06-30</p>\n"},{"tags":["java","eclipse","netweaver","webdynpro"],"comments":[{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1476720804,"post_id":38953275,"comment_id":67454810,"body_markdown":"Where are you migrating it?","body":"Where are you migrating it?"},{"owner":{"account_id":6437790,"reputation":864,"user_id":4988686,"accept_rate":63,"display_name":"Phạm Quốc Bảo"},"score":0,"creation_date":1476759800,"post_id":38953275,"comment_id":67470125,"body_markdown":"@Suncatcher: I use SAP Enhancement Package 1 for SAP NetWeaver Developer Studio 7.3 SP18 PAT0002 on my computer to migrate WD java","body":"@Suncatcher: I use SAP Enhancement Package 1 for SAP NetWeaver Developer Studio 7.3 SP18 PAT0002 on my computer to migrate WD java"},{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1476773772,"post_id":38953275,"comment_id":67474879,"body_markdown":"so, you upgraded NWDS and want to go on development of component created in a previous version of NWDS?","body":"so, you upgraded NWDS and want to go on development of component created in a previous version of NWDS?"},{"owner":{"account_id":6437790,"reputation":864,"user_id":4988686,"accept_rate":63,"display_name":"Phạm Quốc Bảo"},"score":0,"creation_date":1476775649,"post_id":38953275,"comment_id":67475957,"body_markdown":"@Suncatcher: yes,  I want to migrate WD project version 7.0 which is created on NWDS 7.0  to WD 7.4 on NWDS 7.31.","body":"@Suncatcher: yes,  I want to migrate WD project version 7.0 which is created on NWDS 7.0  to WD 7.4 on NWDS 7.31."}],"owner":{"account_id":6437790,"reputation":864,"user_id":4988686,"accept_rate":63,"display_name":"Phạm Quốc Bảo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688143624,"creation_date":1471256370,"question_id":38953275,"body_markdown":"I&#39;m using NWDS v7.31 and migrate the component in webdynpro application. On Cheat sheets - the Delete Implementation Coding from Interface Controller step, I have an error message:\r\n&gt; ```\r\n&gt; Unhandled event loop exception\r\n&gt;\r\n&gt; ObjectNotModifiableException: Attempt to modify read-only object: //WebDynpro/Controller:com.pwc.bc.registration.wd.parnr.approval.comp.PartnerNumberApprovalCompInterface!\r\n&gt;     at com.sap.ide.metamodel.core.DevelopmentObjectProxy._prepareForModify(DevelopmentObjectProxy.java:465)\r\n&gt;     at com.sap.ide.metamodel.webdynpro.implementation.AppClassProxy.setCodeBody(AppClassProxy.java:668)\r\n&gt;     at com.sap.ide.webdynpro.componentmigration.internal.actions.DeleteInterfaceControllerImplementationCodingAction.run(DeleteInterfaceControllerImplementationCodingAction.java:23)\r\n&gt;     at org.eclipse.ui.internal.cheatsheets.ActionRunner.runAction(ActionRunner.java:86)\r\n&gt;     at org.eclipse.ui.internal.cheatsheets.data.Action.execute(Action.java:100)\r\n&gt;     at org.eclipse.ui.internal.cheatsheets.views.CoreItem.runExecutable(CoreItem.java:497)\r\n&gt;     at org.eclipse.ui.internal.cheatsheets.views.CoreItem.runExecutable(CoreItem.java:492)\r\n&gt;     at org.eclipse.ui.internal.cheatsheets.views.CheatSheetViewer.runPerformExecutable(CheatSheetViewer.java:1044)\r\n&gt;     at org.eclipse.ui.internal.cheatsheets.views.CoreItem$1.linkActivated(CoreItem.java:89)\r\n&gt;     at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:233)\r\n&gt;     at org.eclipse.ui.forms.widgets.ImageHyperlink.handleActivate(ImageHyperlink.java:199)\r\n&gt;     at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:327)\r\n&gt;     at org.eclipse.ui.forms.widgets.AbstractHyperlink.access$2(AbstractHyperlink.java:311)\r\n&gt;     at org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:125)\r\n&gt;     at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n&gt;     at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)\r\n&gt;     at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)\r\n&gt;     at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)\r\n&gt;     at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)\r\n&gt;     at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)\r\n&gt;     at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)\r\n&gt;     at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)\r\n&gt;     at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n&gt;     at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)\r\n&gt;     at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\r\n&gt;     at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)\r\n&gt;     at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)\r\n&gt;     at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n&gt;     at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n&gt;     at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)\r\n&gt;     at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\r\n&gt;     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n&gt;     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n&gt;     at java.lang.reflect.Method.invoke(Method.java:597)\r\n&gt;     at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)\r\n&gt;     at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)\r\n&gt;     at org.eclipse.equinox.launcher.Main.run(Main.java:1311)\r\n&gt; ```\r\n\r\nThen, I uncheck read-only on folder properties and try again. But I still get an error message on Start migration step on Cheat sheets:\r\n&gt;Cannot start migration\r\n&gt;\r\n&gt;Component &#39;com.pwc.bc.registration.wd.ao.approval.comp.AOApprovalComponent&#39; is not yet ready to be converted. Check the migration Cheat Sheet again to find out what needs to be changed.\r\n&gt;\r\n&gt;[![enter image description here][1]][1]\r\n\r\nPlease help me to review it and give me your thoughts.\r\n\r\nThanks,\r\n\r\n  [1]: http://i.stack.imgur.com/08ywv.png\r\n","title":"Migration component webdynpro: Component is not yet ready to be converted","body":"<p>I'm using NWDS v7.31 and migrate the component in webdynpro application. On Cheat sheets - the Delete Implementation Coding from Interface Controller step, I have an error message:</p>\n<blockquote>\n<pre><code>Unhandled event loop exception\n\nObjectNotModifiableException: Attempt to modify read-only object: //WebDynpro/Controller:com.pwc.bc.registration.wd.parnr.approval.comp.PartnerNumberApprovalCompInterface!\n    at com.sap.ide.metamodel.core.DevelopmentObjectProxy._prepareForModify(DevelopmentObjectProxy.java:465)\n    at com.sap.ide.metamodel.webdynpro.implementation.AppClassProxy.setCodeBody(AppClassProxy.java:668)\n    at com.sap.ide.webdynpro.componentmigration.internal.actions.DeleteInterfaceControllerImplementationCodingAction.run(DeleteInterfaceControllerImplementationCodingAction.java:23)\n    at org.eclipse.ui.internal.cheatsheets.ActionRunner.runAction(ActionRunner.java:86)\n    at org.eclipse.ui.internal.cheatsheets.data.Action.execute(Action.java:100)\n    at org.eclipse.ui.internal.cheatsheets.views.CoreItem.runExecutable(CoreItem.java:497)\n    at org.eclipse.ui.internal.cheatsheets.views.CoreItem.runExecutable(CoreItem.java:492)\n    at org.eclipse.ui.internal.cheatsheets.views.CheatSheetViewer.runPerformExecutable(CheatSheetViewer.java:1044)\n    at org.eclipse.ui.internal.cheatsheets.views.CoreItem$1.linkActivated(CoreItem.java:89)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:233)\n    at org.eclipse.ui.forms.widgets.ImageHyperlink.handleActivate(ImageHyperlink.java:199)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:327)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.access$2(AbstractHyperlink.java:311)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:125)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)\n    at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)\n    at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1311)\n</code></pre>\n</blockquote>\n<p>Then, I uncheck read-only on folder properties and try again. But I still get an error message on Start migration step on Cheat sheets:</p>\n<blockquote>\n<p>Cannot start migration</p>\n<p>Component 'com.pwc.bc.registration.wd.ao.approval.comp.AOApprovalComponent' is not yet ready to be converted. Check the migration Cheat Sheet again to find out what needs to be changed.</p>\n<p><a href=\"https://i.stack.imgur.com/08ywv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/08ywv.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>Please help me to review it and give me your thoughts.</p>\n<p>Thanks,</p>\n"},{"tags":["java","http","get","netweaver"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399089896,"creation_date":1399089896,"answer_id":23440105,"question_id":23439755,"body_markdown":"A 500 response means &quot;internal error&quot;, and indicates that something is wrong on the server side.  I suggest that you check the server-side log files.  There may also be clues in the error stream ... which you are apparently already reading.","title":"HTTP get to AS is giving 500 error during login","body":"<p>A 500 response means \"internal error\", and indicates that something is wrong on the server side.  I suggest that you check the server-side log files.  There may also be clues in the error stream ... which you are apparently already reading.</p>\n"}],"owner":{"account_id":372060,"reputation":1227,"user_id":720909,"accept_rate":36,"display_name":"Arvind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688143335,"creation_date":1399086232,"question_id":23439755,"body_markdown":"I am trying to login to SAP CE server using java code. I am getting error:\r\n&gt;HTTP status code 500\r\n\r\nWhat am I doing wrong ?\r\n\r\n\r\n    public class GetExample {\r\n\tpublic static void main(String[] args)throws Exception {\r\n\t\tGetExample getExample =  new GetExample();\r\n\t\tURL gatewayServiceUrl = new URL(&quot;http://192.168.55.12:56400/nwa&quot;);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) gatewayServiceUrl.openConnection();\r\n\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Authorization&quot;, getExample.getBasicAuth());\r\n\t\tconnection.connect();\r\n\t\tif (HttpURLConnection.HTTP_OK == connection.getResponseCode()) {\r\n\t\t\tSystem.out.println(&quot;success&quot;);\r\n\t\t\tSystem.out.println(getExample.getDataFromStream(connection.getInputStream()));\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;success&quot;);\r\n\t\t\tSystem.out.println(getExample.getDataFromStream(connection.getErrorStream()));\r\n\t\t}\r\n\t\tSystem.out.println(connection.getResponseCode());\r\n\t\t\r\n\t}\r\n\tprivate String getBasicAuth() {\r\n\t\tString userpass = &quot;bpm-vikask&quot; + &quot;:&quot; + &quot;Init-12345&quot;;\r\n\t\treturn &quot;Basic &quot;\r\n\t\t+ javax.xml.bind.DatatypeConverter.printBase64Binary(userpass\r\n\t\t\t\t.getBytes());\r\n\t}\r\n\tprivate String getDataFromStream(InputStream stream) throws IOException {\r\n\t\tStringBuffer dataBuffer = new StringBuffer();\r\n\t\tBufferedReader inStream = new BufferedReader(new InputStreamReader(\r\n\t\t\t\tstream));\r\n\t\tString data = &quot;&quot;;\r\n\t\twhile ((data = inStream.readLine()) != null) {\r\n\t\t\tdataBuffer.append(data);\r\n\t\t}\r\n\t\tinStream.close();\r\n\r\n\t\treturn dataBuffer.toString();\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n  \r\n","title":"HTTP get to AS is giving 500 error during login","body":"<p>I am trying to login to SAP CE server using java code. I am getting error:</p>\n<blockquote>\n<p>HTTP status code 500</p>\n</blockquote>\n<p>What am I doing wrong ?</p>\n<pre><code>public class GetExample {\npublic static void main(String[] args)throws Exception {\n    GetExample getExample =  new GetExample();\n    URL gatewayServiceUrl = new URL(&quot;http://192.168.55.12:56400/nwa&quot;);\n    HttpURLConnection connection = (HttpURLConnection) gatewayServiceUrl.openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n    connection.setRequestProperty(&quot;Authorization&quot;, getExample.getBasicAuth());\n    connection.connect();\n    if (HttpURLConnection.HTTP_OK == connection.getResponseCode()) {\n        System.out.println(&quot;success&quot;);\n        System.out.println(getExample.getDataFromStream(connection.getInputStream()));\n    } else {\n        System.out.println(&quot;success&quot;);\n        System.out.println(getExample.getDataFromStream(connection.getErrorStream()));\n    }\n    System.out.println(connection.getResponseCode());\n    \n}\nprivate String getBasicAuth() {\n    String userpass = &quot;bpm-vikask&quot; + &quot;:&quot; + &quot;Init-12345&quot;;\n    return &quot;Basic &quot;\n    + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass\n            .getBytes());\n}\nprivate String getDataFromStream(InputStream stream) throws IOException {\n    StringBuffer dataBuffer = new StringBuffer();\n    BufferedReader inStream = new BufferedReader(new InputStreamReader(\n            stream));\n    String data = &quot;&quot;;\n    while ((data = inStream.readLine()) != null) {\n        dataBuffer.append(data);\n    }\n    inStream.close();\n\n    return dataBuffer.toString();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13761995,"reputation":337,"user_id":9931494,"display_name":"Bradley"},"score":0,"creation_date":1590092608,"post_id":61942626,"comment_id":109557803,"body_markdown":"I can help you with this. Please provide example input data and expected output.","body":"I can help you with this. Please provide example input data and expected output."}],"answers":[{"comments":[{"owner":{"account_id":8430222,"reputation":3,"user_id":13238044,"display_name":"user73090"},"score":0,"creation_date":1590098158,"post_id":61943037,"comment_id":109560031,"body_markdown":"Thanks a million, the changes you recommended worked perfectly. I can push on now!","body":"Thanks a million, the changes you recommended worked perfectly. I can push on now!"},{"owner":{"account_id":16822096,"reputation":912,"user_id":12162243,"display_name":"PajLe"},"score":0,"creation_date":1590101226,"post_id":61943037,"comment_id":109561055,"body_markdown":"Hi @user73090 if this or any answer has solved your question please consider [accepting it](https://meta.stackexchange.com/q/5234/179419) by clicking the check-mark. This indicates to the wider community that you&#39;ve found a solution and gives some reputation to both the answerer and yourself. There is no obligation to do this.","body":"Hi @user73090 if this or any answer has solved your question please consider <a href=\"https://meta.stackexchange.com/q/5234/179419\">accepting it</a> by clicking the check-mark. This indicates to the wider community that you&#39;ve found a solution and gives some reputation to both the answerer and yourself. There is no obligation to do this."}],"tags":[],"owner":{"account_id":2842663,"reputation":616,"user_id":2441939,"display_name":"petrubear"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590091792,"creation_date":1590091792,"answer_id":61943037,"question_id":61942626,"body_markdown":"You have a typo on this Line:\r\n```java\r\nFile newApt = new File(&quot;HUNumber +&quot;.apt&quot;);\r\n```\r\nit should be\r\n```java\r\nFile newApt = new File(HUNumber +&quot;.apt&quot;);\r\n```\r\nOn this one:\r\n```java\r\ntry (BufferedWriter out = new BufferedWriter(new FileWriter(HUNumber + &quot;.apt&quot;)))\r\n```\r\nyou can pass the file as parameter\r\n```java\r\ntry (BufferedWriter out = new BufferedWriter(new FileWriter(newApt))\r\n```","title":"Trying to get Strings to print in a new file","body":"<p>You have a typo on this Line:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>File newApt = new File(\"HUNumber +\".apt\");\n</code></pre>\n\n<p>it should be</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>File newApt = new File(HUNumber +\".apt\");\n</code></pre>\n\n<p>On this one:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedWriter out = new BufferedWriter(new FileWriter(HUNumber + \".apt\")))\n</code></pre>\n\n<p>you can pass the file as parameter</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedWriter out = new BufferedWriter(new FileWriter(newApt))\n</code></pre>\n"}],"owner":{"account_id":8430222,"reputation":3,"user_id":13238044,"display_name":"user73090"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61943037,"answer_count":1,"score":0,"last_activity_date":1688143273,"creation_date":1590090295,"question_id":61942626,"body_markdown":"I&#39;ve been trying to learn Java and I&#39;ve done a few courses and picked up bits and pieces everywhere. I&#39;m now trying to find small projects which could be applicable to my work and I am stuck on the latest one.\r\n\r\nI have one CSV file filled with rows of data. I have another template apt file opened in text. I need to replace the placeholder text in the template file (apt file) with specific data from each row in the data file and then save the edited apt file as a new file and repeat for each row in the data file until the end.\r\n\r\nI&#39;ve gotten as far as reading the two files, replacing the placeholder data and creating a new file and I&#39;m able to get the correct output in System.out.println but I&#39;m struggling to get the Filewriter and BufferredWriter to write the edited text into my newly created file. I&#39;m now out of ideas.\r\n\r\n    package com.company;\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \r\n    \t\tFile data = new File(&quot;Scheduler.csv&quot;);\r\n    \t\tScanner dataScanner = new Scanner(data);\r\n    \t\t\r\n    \r\n    \t\t\tString dataLine = dataScanner.nextLine();\r\n    \t\t\tString[] HUDetail = dataLine.split(&quot;,&quot;);\r\n    \t\t\t//System.out.println(dataLine);\r\n    \r\n    \t\t\tString BAU = HUDetail[0];\r\n    \t\t\tString forest = HUDetail[1];\r\n    \t\t\tString HUNumber = HUDetail[2];\r\n    \t\t\tString hType = HUDetail[3];\r\n    \t\t\tString contractCode = HUDetail[4];\r\n    \t\t\tString contractor = HUDetail[5];\r\n    \r\n    \t\t\tString editBAU = &quot;AAAA&quot;;\r\n    \t\t\tString editForest = &quot;BBBB&quot;;\r\n    \t\t\tString editHUNumber = &quot;CCCC&quot;;\r\n    \t\t\tString editHType = &quot;DDDD&quot;;\r\n    \t\t\tString editContractCode = &quot;EEEE&quot;;\r\n    \t\t\tString editContractor = &quot;FFFF&quot;;\r\n    \r\n    \t\tFile apt = new File(&quot;Aptuary_file.txt&quot;);\r\n    \t\tScanner aptScanner = new Scanner(apt);\r\n    \r\n    \t\tFile newApt = new File(&quot;HUNumber +&quot;.apt&quot;);\r\n    \t\ttry {\r\n    \t\t\tnewApt.createNewFile();\r\n    \t\t} catch (IOException e) {System.out.println(&quot;Filecreator error&quot;);}\r\n    \r\n    \t\ttry (BufferedWriter out = new BufferedWriter(new FileWriter(HUNumber + &quot;.apt&quot;))) {\r\n    \t\t\t//System.out.println(HUNumber);\r\n    \r\n    \t\t\twhile(aptScanner.hasNextLine()) {\r\n    \t\t\t\tString aptLine = aptScanner.nextLine();\r\n    \t\t\t\t//System.out.println(aptLine);\r\n    \t\t\t\tString HUNumberApt = aptLine.replaceAll(editBAU, BAU)\r\n    \t\t\t\t\t\t.replaceAll(editForest, forest)\r\n    \t\t\t\t\t\t.replaceAll(editHUNumber, HUNumber)\r\n    \t\t\t\t\t\t.replaceAll(editHType, hType)\r\n    \t\t\t\t\t\t.replaceAll(editContractCode, contractCode)\r\n    \t\t\t\t\t\t.replaceAll(editContractor, contractor);\r\n    \t\t\t\tout.write(HUNumberApt);\r\n    \r\n    \r\n    \t\t\t\tSystem.out.println(HUNumberApt);\r\n    \t\t\t}\r\n    \t\t\t}catch (IOException e) {System.out.println(&quot;Filewriter error&quot;);}\r\n    \t}\r\n    \t}","title":"Trying to get Strings to print in a new file","body":"<p>I've been trying to learn Java and I've done a few courses and picked up bits and pieces everywhere. I'm now trying to find small projects which could be applicable to my work and I am stuck on the latest one.</p>\n<p>I have one CSV file filled with rows of data. I have another template apt file opened in text. I need to replace the placeholder text in the template file (apt file) with specific data from each row in the data file and then save the edited apt file as a new file and repeat for each row in the data file until the end.</p>\n<p>I've gotten as far as reading the two files, replacing the placeholder data and creating a new file and I'm able to get the correct output in System.out.println but I'm struggling to get the Filewriter and BufferredWriter to write the edited text into my newly created file. I'm now out of ideas.</p>\n<pre><code>package com.company;\nimport java.io.*;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) throws FileNotFoundException {\n\n        File data = new File(&quot;Scheduler.csv&quot;);\n        Scanner dataScanner = new Scanner(data);\n        \n\n            String dataLine = dataScanner.nextLine();\n            String[] HUDetail = dataLine.split(&quot;,&quot;);\n            //System.out.println(dataLine);\n\n            String BAU = HUDetail[0];\n            String forest = HUDetail[1];\n            String HUNumber = HUDetail[2];\n            String hType = HUDetail[3];\n            String contractCode = HUDetail[4];\n            String contractor = HUDetail[5];\n\n            String editBAU = &quot;AAAA&quot;;\n            String editForest = &quot;BBBB&quot;;\n            String editHUNumber = &quot;CCCC&quot;;\n            String editHType = &quot;DDDD&quot;;\n            String editContractCode = &quot;EEEE&quot;;\n            String editContractor = &quot;FFFF&quot;;\n\n        File apt = new File(&quot;Aptuary_file.txt&quot;);\n        Scanner aptScanner = new Scanner(apt);\n\n        File newApt = new File(&quot;HUNumber +&quot;.apt&quot;);\n        try {\n            newApt.createNewFile();\n        } catch (IOException e) {System.out.println(&quot;Filecreator error&quot;);}\n\n        try (BufferedWriter out = new BufferedWriter(new FileWriter(HUNumber + &quot;.apt&quot;))) {\n            //System.out.println(HUNumber);\n\n            while(aptScanner.hasNextLine()) {\n                String aptLine = aptScanner.nextLine();\n                //System.out.println(aptLine);\n                String HUNumberApt = aptLine.replaceAll(editBAU, BAU)\n                        .replaceAll(editForest, forest)\n                        .replaceAll(editHUNumber, HUNumber)\n                        .replaceAll(editHType, hType)\n                        .replaceAll(editContractCode, contractCode)\n                        .replaceAll(editContractor, contractor);\n                out.write(HUNumberApt);\n\n\n                System.out.println(HUNumberApt);\n            }\n            }catch (IOException e) {System.out.println(&quot;Filewriter error&quot;);}\n    }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","websphere","osgi"],"answers":[{"comments":[{"owner":{"account_id":1903585,"reputation":45,"user_id":1718883,"accept_rate":33,"display_name":"lilweirdward"},"score":0,"creation_date":1484837388,"post_id":41737017,"comment_id":70682109,"body_markdown":"What do you mean by the availability of the `org.eclipse.osgi` plugin? It&#39;s in my classpath and even added as optional imported packages in my MANIFEST.MF. Besides, if it wasn&#39;t available, wouldn&#39;t I be getting ClassNotFound or ClassNoDef exceptions instead of NPEs?","body":"What do you mean by the availability of the <code>org.eclipse.osgi</code> plugin? It&#39;s in my classpath and even added as optional imported packages in my MANIFEST.MF. Besides, if it wasn&#39;t available, wouldn&#39;t I be getting ClassNotFound or ClassNoDef exceptions instead of NPEs?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1484837819,"post_id":41737017,"comment_id":70682461,"body_markdown":"You get NPE because the code is looking for an OSGi service and not finding it, that doesn&#39;t give class not found errors.","body":"You get NPE because the code is looking for an OSGi service and not finding it, that doesn&#39;t give class not found errors."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1484838231,"post_id":41737017,"comment_id":70682789,"body_markdown":"There are lots of different OSGi services. This code is looking for a service called `org.eclipse.osgi.service.urlconversion.URLConverter` provided by the `org.eclipse.osgi` plugin. If Websphere doesn&#39;t provide that service this won&#39;t work.","body":"There are lots of different OSGi services. This code is looking for a service called <code>org.eclipse.osgi.service.urlconversion.URLConverter</code> provided by the <code>org.eclipse.osgi</code> plugin. If Websphere doesn&#39;t provide that service this won&#39;t work."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484814207,"creation_date":1484814207,"answer_id":41737017,"question_id":41734579,"body_markdown":"I think the JavaDoc comment is referring to the availability of the `org.eclipse.osgi` plugin which contains the `bundleentry` URL converter needed by `FileLocator`.\r\n\r\nI don&#39;t think `FileLocator` is really designed to work outside of the Eclipse RCP environment.\r\n","title":"FileLocator.toFileURL throwing NPE in IBM WebSphere bundle","body":"<p>I think the JavaDoc comment is referring to the availability of the <code>org.eclipse.osgi</code> plugin which contains the <code>bundleentry</code> URL converter needed by <code>FileLocator</code>.</p>\n\n<p>I don't think <code>FileLocator</code> is really designed to work outside of the Eclipse RCP environment.</p>\n"}],"owner":{"account_id":1903585,"reputation":45,"user_id":1718883,"accept_rate":33,"display_name":"lilweirdward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688143139,"creation_date":1484804657,"question_id":41734579,"body_markdown":"Currently, I&#39;m facing an issue where I&#39;m trying to get a WSDL resource from my bundle classpath and then call FileLocator.toFileURL to convert it from a bundle resource to a file resource. At runtime, the method throws a NullPointerException while trying to get an instance of the URLConverter, and I&#39;m pretty baffled as to why this could happen. Below is the code that I&#39;m using.\r\n\r\n    URL configURL = Preference.class.getResource(&quot;/META-INF/wsdl/Preference.wsdl&quot;);\r\n\t\r\n\tif (configURL != null &amp;&amp; configURL.getProtocol() != &quot;file&quot;) {\r\n\t\tSystem.out.println(&quot;URL is not a file. Trying to convert from non-standard to something reference-able.&quot;);\r\n    \tURL wsdlURL = null;\r\n    \t\r\n    \ttry {\r\n\t\t\twsdlURL = FileLocator.toFileURL(configURL);\r\n\t\t} catch (IOException e1) {\r\n\t\t\t System.out.println(&quot;IOException caught&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (NullPointerException e1) {\r\n\t\t\tSystem.out.println(&quot;NullPointerException caught&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (RuntimeException e1) {\r\n\t\t\tSystem.out.println(&quot;RuntimeException caught&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (Exception e1) {\r\n\t\t\tSystem.out.println(&quot;generic Exception caught&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n    \t\r\n    \tPREFERENCE_WSDL_LOCATION = wsdlURL;\r\n\t} else {\r\n\t\tSystem.out.println(&quot;URL is a file.&quot;);\r\n\t\tPREFERENCE_WSDL_LOCATION = configURL;\r\n\t}\r\n\r\nWhen I run the code locally in RAD, it works fine. However, as I think almost everyone who develops OSGi code in Eclipse finds with these kinds of things, it ends up crashing when it&#39;s deployed. For me specifically, it is packed into an OSGi Composite Bundle Archive (CBA) and deployed to a WebSphere v8.5.5 app server. Below is the error that I keep running into and its stack trace.\r\n\r\n    java.lang.NullPointerException\r\n\t    at org.eclipse.core.internal.runtime.Activator.getURLConverter(Activator.java:322)\r\n\t    at org.eclipse.core.runtime.FileLocator.toFileURL(FileLocator.java:205)\r\n\t    at Preference.&lt;clinit&gt;(Preference.java:37)\r\n\r\nI did a few sanity checks to make sure I wasn&#39;t missing anything obvious. The configURL variable is returning a value (`bundleresource://2.fwk685840929/META-INF/wsdl/Preference.wsdl`), and all of the dependencies I know of that are necessary for this workflow are added in my classpath (mainly the equinox and eclipse.osgi libraries). \r\n\r\nI&#39;ve google&#39;d all over the place, and found two main resources: the source code for [FileLocator][1] and [Activator][2] which are both &quot;present at the scene of the crime&quot;, and [this Eclipse bug report][3] for the exact same line number I&#39;m seeing in my stack trace. However, neither makes sense, because the bug report states that this error would come about from an OSGi plugin not being available - how could this be possible if I&#39;m literally deploying an OSGi bundle to WebSphere&#39;s OSGi ecosystem? - and if the line number in grepcode is to be trusted, then the error is apparently the urlTrackers variable which seems like it would be different from a bundle issue and not really something I can control.\r\n\r\nI need some help here because I feel like I&#39;m overthinking this a bit. How can I get the FileConverter class to actually work at runtime?\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/4.2/org.eclipse.equinox/common/3.6.100/org/eclipse/core/runtime/FileLocator.java?av=f\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/4.2/org.eclipse.equinox/common/3.6.100/org/eclipse/core/internal/runtime/Activator.java#Activator.getURLConverter%28java.net.URL%29\r\n  [3]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=219645","title":"FileLocator.toFileURL throwing NPE in IBM WebSphere bundle","body":"<p>Currently, I'm facing an issue where I'm trying to get a WSDL resource from my bundle classpath and then call FileLocator.toFileURL to convert it from a bundle resource to a file resource. At runtime, the method throws a NullPointerException while trying to get an instance of the URLConverter, and I'm pretty baffled as to why this could happen. Below is the code that I'm using.</p>\n\n<pre><code>URL configURL = Preference.class.getResource(\"/META-INF/wsdl/Preference.wsdl\");\n\nif (configURL != null &amp;&amp; configURL.getProtocol() != \"file\") {\n    System.out.println(\"URL is not a file. Trying to convert from non-standard to something reference-able.\");\n    URL wsdlURL = null;\n\n    try {\n        wsdlURL = FileLocator.toFileURL(configURL);\n    } catch (IOException e1) {\n         System.out.println(\"IOException caught\");\n        e1.printStackTrace();\n    } catch (NullPointerException e1) {\n        System.out.println(\"NullPointerException caught\");\n        e1.printStackTrace();\n    } catch (RuntimeException e1) {\n        System.out.println(\"RuntimeException caught\");\n        e1.printStackTrace();\n    } catch (Exception e1) {\n        System.out.println(\"generic Exception caught\");\n        e1.printStackTrace();\n    }\n\n    PREFERENCE_WSDL_LOCATION = wsdlURL;\n} else {\n    System.out.println(\"URL is a file.\");\n    PREFERENCE_WSDL_LOCATION = configURL;\n}\n</code></pre>\n\n<p>When I run the code locally in RAD, it works fine. However, as I think almost everyone who develops OSGi code in Eclipse finds with these kinds of things, it ends up crashing when it's deployed. For me specifically, it is packed into an OSGi Composite Bundle Archive (CBA) and deployed to a WebSphere v8.5.5 app server. Below is the error that I keep running into and its stack trace.</p>\n\n<pre><code>java.lang.NullPointerException\n    at org.eclipse.core.internal.runtime.Activator.getURLConverter(Activator.java:322)\n    at org.eclipse.core.runtime.FileLocator.toFileURL(FileLocator.java:205)\n    at Preference.&lt;clinit&gt;(Preference.java:37)\n</code></pre>\n\n<p>I did a few sanity checks to make sure I wasn't missing anything obvious. The configURL variable is returning a value (<code>bundleresource://2.fwk685840929/META-INF/wsdl/Preference.wsdl</code>), and all of the dependencies I know of that are necessary for this workflow are added in my classpath (mainly the equinox and eclipse.osgi libraries). </p>\n\n<p>I've google'd all over the place, and found two main resources: the source code for <a href=\"http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/4.2/org.eclipse.equinox/common/3.6.100/org/eclipse/core/runtime/FileLocator.java?av=f\" rel=\"nofollow noreferrer\">FileLocator</a> and <a href=\"http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/4.2/org.eclipse.equinox/common/3.6.100/org/eclipse/core/internal/runtime/Activator.java#Activator.getURLConverter%28java.net.URL%29\" rel=\"nofollow noreferrer\">Activator</a> which are both \"present at the scene of the crime\", and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=219645\" rel=\"nofollow noreferrer\">this Eclipse bug report</a> for the exact same line number I'm seeing in my stack trace. However, neither makes sense, because the bug report states that this error would come about from an OSGi plugin not being available - how could this be possible if I'm literally deploying an OSGi bundle to WebSphere's OSGi ecosystem? - and if the line number in grepcode is to be trusted, then the error is apparently the urlTrackers variable which seems like it would be different from a bundle issue and not really something I can control.</p>\n\n<p>I need some help here because I feel like I'm overthinking this a bit. How can I get the FileConverter class to actually work at runtime?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1590605478,"post_id":62050683,"comment_id":109746048,"body_markdown":"Post full error log, you can find it in logcat","body":"Post full error log, you can find it in logcat"},{"owner":{"account_id":6328169,"reputation":151,"user_id":4913940,"accept_rate":14,"display_name":"Tom"},"score":0,"creation_date":1590607355,"post_id":62050683,"comment_id":109747061,"body_markdown":"added it to my original question","body":"added it to my original question"},{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1590614428,"post_id":62050683,"comment_id":109750424,"body_markdown":"I have added an answer, please check and let me know :)","body":"I have added an answer, please check and let me know :)"}],"answers":[{"comments":[{"owner":{"account_id":6328169,"reputation":151,"user_id":4913940,"accept_rate":14,"display_name":"Tom"},"score":0,"creation_date":1590762362,"post_id":62051499,"comment_id":109812147,"body_markdown":"Thanks. Got past the original issue and now getting HTTP request failed HTTP status: 400","body":"Thanks. Got past the original issue and now getting HTTP request failed HTTP status: 400"},{"owner":{"display_name":"user7655213"},"score":0,"creation_date":1590772843,"post_id":62051499,"comment_id":109817809,"body_markdown":"400 is a &quot;Bad Request&quot;: https://developer.mozilla.org/de/docs/Web/HTTP/Status/400 - meaning that your request is not formed as the server expects it. You can use tools like TCP Monitor to see what you are actually sending to the server, but without actually knowing the server&#39;s API, it&#39;s hard to further diagnose the cause.","body":"400 is a &quot;Bad Request&quot;: <a href=\"https://developer.mozilla.org/de/docs/Web/HTTP/Status/400\" rel=\"nofollow noreferrer\">developer.mozilla.org/de/docs/Web/HTTP/Status/400</a> - meaning that your request is not formed as the server expects it. You can use tools like TCP Monitor to see what you are actually sending to the server, but without actually knowing the server&#39;s API, it&#39;s hard to further diagnose the cause."}],"tags":[],"owner":{"display_name":"user7655213"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590608369,"creation_date":1590608369,"answer_id":62051499,"question_id":62050683,"body_markdown":"The problem is this line, I would assume:\r\n\r\n           Toast.makeText(MainActivity.this, (CharSequence) e, Toast.LENGTH_LONG).show();\r\n\r\nYou&#39;re casting e (of type &quot;Exception&quot;) to a CharSequence, which is obviously illegal, since a class can&#39;t inherit from both Exception and CharSequence.\r\n\r\nTry using &quot;e.getMessage()&quot; instead of &quot;(CharSequence) e&quot;. That won&#39;t fix the actual cause of the exception but at least you will be able to see what the actual exception is.","title":"How to call a web service from Android Studio project","body":"<p>The problem is this line, I would assume:</p>\n\n<pre><code>       Toast.makeText(MainActivity.this, (CharSequence) e, Toast.LENGTH_LONG).show();\n</code></pre>\n\n<p>You're casting e (of type \"Exception\") to a CharSequence, which is obviously illegal, since a class can't inherit from both Exception and CharSequence.</p>\n\n<p>Try using \"e.getMessage()\" instead of \"(CharSequence) e\". That won't fix the actual cause of the exception but at least you will be able to see what the actual exception is.</p>\n"},{"tags":[],"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590614705,"creation_date":1590614387,"answer_id":62053066,"question_id":62050683,"body_markdown":"    android.os.NetworkOnMainThreadException \r\n\r\nFrom the error log you posted, I can see that you are doing a Network task in the android main thread. \r\n\r\nthis exception comes when you do Network operation on the main thread. please schedule this task in a background thread.\r\n\r\nFor your reference, I have included a link that describes how to solve this\r\n[How to fix &#39;android.os.NetworkOnMainThreadException&#39;?][1] \r\n\r\nAnd also change this\r\n\r\n    Toast.makeText(MainActivity.this, (CharSequence) e, Toast.LENGTH_LONG).show();\r\n\r\nto\r\n \r\n\r\n    Toast.makeText(MainActivity.this, e.getMessage(), Toast.LENGTH_LONG).show();\r\n\r\nfinally, make sure you have added Internet permission in the manifest file.\r\n\r\nHappy coding!! \r\n\r\n  [1]: http://How%20to%20fix%20&#39;android.os.NetworkOnMainThreadException&#39;?","title":"How to call a web service from Android Studio project","body":"<pre><code>android.os.NetworkOnMainThreadException \n</code></pre>\n\n<p>From the error log you posted, I can see that you are doing a Network task in the android main thread. </p>\n\n<p>this exception comes when you do Network operation on the main thread. please schedule this task in a background thread.</p>\n\n<p>For your reference, I have included a link that describes how to solve this\n<a href=\"http://How%20to%20fix%20&#39;android.os.NetworkOnMainThreadException&#39;?\" rel=\"nofollow noreferrer\">How to fix 'android.os.NetworkOnMainThreadException'?</a> </p>\n\n<p>And also change this</p>\n\n<pre><code>Toast.makeText(MainActivity.this, (CharSequence) e, Toast.LENGTH_LONG).show();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>Toast.makeText(MainActivity.this, e.getMessage(), Toast.LENGTH_LONG).show();\n</code></pre>\n\n<p>finally, make sure you have added Internet permission in the manifest file.</p>\n\n<p>Happy coding!! </p>\n"}],"owner":{"account_id":6328169,"reputation":151,"user_id":4913940,"accept_rate":14,"display_name":"Tom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688143103,"creation_date":1590605334,"question_id":62050683,"body_markdown":"I am new to Android and Java so excuse my lack of knowledge. I am trying to get a response to a web service I wrote in .NET.\r\n\r\nIt is a simple service. Pass userid and passwd and it returns the user last name if found or NO if not found. I have a VB 2017 program that is working as expected but trying to also have the same results in an Android environment.\r\n\r\nHere are my imports:\r\n\r\n    import java.io.IOException;\r\n    import java.net.SocketException;\r\n    import org.ksoap2.SoapEnvelope;\r\n    import org.ksoap2.SoapFault;\r\n    import org.ksoap2.serialization.PropertyInfo;\r\n    import org.ksoap2.serialization.SoapObject;\r\n    import org.ksoap2.serialization.SoapPrimitive;\r\n    import org.ksoap2.serialization.SoapSerializationEnvelope;\r\n    import org.ksoap2.transport.HttpTransportSE;\r\n    import org.xmlpull.v1.XmlPullParserException;\r\n\r\nOn a button click I have the following.\r\n\r\n    {\r\n      String userID = &quot;Tom&quot;;\r\n      String pwd = &quot;&amp;yhe$43*&quot;;\r\n\r\n      userid = new PropertyInfo();\r\n      password = new PropertyInfo();\r\n\r\n      SoapObject request = new SoapObject(&quot;http://tempuri.org/&quot;, &quot;WebService1&quot;);\r\n\r\n      SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n      envelope.dotNet = true;\r\n      envelope.setOutputSoapObject(request);\r\n      HttpTransportSE httpTransport = new HttpTransportSE(URL);\r\n\r\n      userid.setName(&quot;userID&quot;);\r\n      userid.setValue(userID);\r\n      userid.setType(String.class);\r\n      password.setName(&quot;password&quot;);\r\n      password.setValue(&quot;Yo&quot;);\r\n      password.setType(String.class);\r\n\r\n      request.addProperty(userid);\r\n      request.addProperty(password);\r\n      try {\r\n        httpTransport.call(SOAP_ACTION, envelope);\r\n        SoapPrimitive response = (SoapPrimitive) envelope.getResponse();\r\n        String resp = response.toString();\r\n        Toast.makeText(MainActivity.this, (CharSequence) resp, Toast.LENGTH_LONG).show();\r\n      } catch (Exception e) {\r\n        Toast.makeText(MainActivity.this, (CharSequence) e, Toast.LENGTH_LONG).show();\r\n      }\r\n    }\r\n\r\nError is happening on this line:\r\n\r\n    httpTransport.call(SOAP_ACTION, envelope); \r\n\r\nLooks like it is getting a\r\n\r\n    java.lang.reflect.InvocationTargetException\r\n\r\nIs there something obviously wrong here?\r\n\r\nHere is data Logcat:\r\n\r\n    java.lang.IllegalStateException: Could not execute method for android:onClick\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:402)\r\n        at android.view.View.performClick(View.java:6294)\r\n        at android.view.View$PerformClick.run(View.java:24770)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397)\r\n        at android.view.View.performClick(View.java:6294) \r\n        at android.view.View$PerformClick.run(View.java:24770) \r\n        at android.os.Handler.handleCallback(Handler.java:790) \r\n        at android.os.Handler.dispatchMessage(Handler.java:99) \r\n        at android.os.Looper.loop(Looper.java:164) \r\n        at android.app.ActivityThread.main(ActivityThread.java:6494) \r\n        at java.lang.reflect.Method.invoke(Native Method) \r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n    Caused by: java.lang.ClassCastException: android.os.NetworkOnMainThreadException cannot be cast to java.lang.CharSequence\r\n        at com.example.myapplication.MainActivity.getName(MainActivity.java:71)\r\n        at java.lang.reflect.Method.invoke(Native Method) \r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397) \r\n        at android.view.View.performClick(View.java:6294) \r\n        at android.view.View$PerformClick.run(View.java:24770) \r\n        at android.os.Handler.handleCallback(Handler.java:790) \r\n        at android.os.Handler.dispatchMessage(Handler.java:99) \r\n        at android.os.Looper.loop(Looper.java:164) \r\n        at android.app.ActivityThread.main(ActivityThread.java:6494) \r\n        at java.lang.reflect.Method.invoke(Native Method) \r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n","title":"How to call a web service from Android Studio project","body":"<p>I am new to Android and Java so excuse my lack of knowledge. I am trying to get a response to a web service I wrote in .NET.</p>\n<p>It is a simple service. Pass userid and passwd and it returns the user last name if found or NO if not found. I have a VB 2017 program that is working as expected but trying to also have the same results in an Android environment.</p>\n<p>Here are my imports:</p>\n<pre><code>import java.io.IOException;\nimport java.net.SocketException;\nimport org.ksoap2.SoapEnvelope;\nimport org.ksoap2.SoapFault;\nimport org.ksoap2.serialization.PropertyInfo;\nimport org.ksoap2.serialization.SoapObject;\nimport org.ksoap2.serialization.SoapPrimitive;\nimport org.ksoap2.serialization.SoapSerializationEnvelope;\nimport org.ksoap2.transport.HttpTransportSE;\nimport org.xmlpull.v1.XmlPullParserException;\n</code></pre>\n<p>On a button click I have the following.</p>\n<pre><code>{\n  String userID = &quot;Tom&quot;;\n  String pwd = &quot;&amp;yhe$43*&quot;;\n\n  userid = new PropertyInfo();\n  password = new PropertyInfo();\n\n  SoapObject request = new SoapObject(&quot;http://tempuri.org/&quot;, &quot;WebService1&quot;);\n\n  SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n  envelope.dotNet = true;\n  envelope.setOutputSoapObject(request);\n  HttpTransportSE httpTransport = new HttpTransportSE(URL);\n\n  userid.setName(&quot;userID&quot;);\n  userid.setValue(userID);\n  userid.setType(String.class);\n  password.setName(&quot;password&quot;);\n  password.setValue(&quot;Yo&quot;);\n  password.setType(String.class);\n\n  request.addProperty(userid);\n  request.addProperty(password);\n  try {\n    httpTransport.call(SOAP_ACTION, envelope);\n    SoapPrimitive response = (SoapPrimitive) envelope.getResponse();\n    String resp = response.toString();\n    Toast.makeText(MainActivity.this, (CharSequence) resp, Toast.LENGTH_LONG).show();\n  } catch (Exception e) {\n    Toast.makeText(MainActivity.this, (CharSequence) e, Toast.LENGTH_LONG).show();\n  }\n}\n</code></pre>\n<p>Error is happening on this line:</p>\n<pre><code>httpTransport.call(SOAP_ACTION, envelope); \n</code></pre>\n<p>Looks like it is getting a</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n</code></pre>\n<p>Is there something obviously wrong here?</p>\n<p>Here is data Logcat:</p>\n<pre><code>java.lang.IllegalStateException: Could not execute method for android:onClick\n    at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:402)\n    at android.view.View.performClick(View.java:6294)\n    at android.view.View$PerformClick.run(View.java:24770)\n    at android.os.Handler.handleCallback(Handler.java:790)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Method.invoke(Native Method)\n    at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397)\n    at android.view.View.performClick(View.java:6294) \n    at android.view.View$PerformClick.run(View.java:24770) \n    at android.os.Handler.handleCallback(Handler.java:790) \n    at android.os.Handler.dispatchMessage(Handler.java:99) \n    at android.os.Looper.loop(Looper.java:164) \n    at android.app.ActivityThread.main(ActivityThread.java:6494) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\nCaused by: java.lang.ClassCastException: android.os.NetworkOnMainThreadException cannot be cast to java.lang.CharSequence\n    at com.example.myapplication.MainActivity.getName(MainActivity.java:71)\n    at java.lang.reflect.Method.invoke(Native Method) \n    at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:397) \n    at android.view.View.performClick(View.java:6294) \n    at android.view.View$PerformClick.run(View.java:24770) \n    at android.os.Handler.handleCallback(Handler.java:790) \n    at android.os.Handler.dispatchMessage(Handler.java:99) \n    at android.os.Looper.loop(Looper.java:164) \n    at android.app.ActivityThread.main(ActivityThread.java:6494) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n"},{"tags":["java","netweaver"],"answers":[{"tags":[],"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496767782,"creation_date":1496767782,"answer_id":44395639,"question_id":44395543,"body_markdown":"EJB architecture is based on RMI and uses RMI&#39;s [Stubs and Skeletons][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/platform/rmi/spec/rmi-arch2.html\r\n\r\nIn your example RemCallRemote is the stub and all it does is send `Check()` method call back to server. \r\n\r\nThese days EJB does not use Skeletons any more and relies on container to handle Stubs requests.","title":"Where is EJB method run","body":"<p>EJB architecture is based on RMI and uses RMI's <a href=\"https://docs.oracle.com/javase/7/docs/platform/rmi/spec/rmi-arch2.html\" rel=\"nofollow noreferrer\">Stubs and Skeletons</a>.</p>\n\n<p>In your example RemCallRemote is the stub and all it does is send <code>Check()</code> method call back to server. </p>\n\n<p>These days EJB does not use Skeletons any more and relies on container to handle Stubs requests.</p>\n"},{"comments":[{"owner":{"account_id":10961219,"reputation":539,"user_id":8054473,"accept_rate":80,"display_name":"Skalozub"},"score":0,"creation_date":1496769831,"post_id":44395708,"comment_id":75792149,"body_markdown":"Your answer is very informative. Thank you. You are right. The SAP server is a cluster of several Java application servers. Even if I call the EJB using a certain physical server name (It&#39;s possible to do this), it will be no warranty that the EJB will be run on the certain physical server. This is decided by a SAP Java managing services.","body":"Your answer is very informative. Thank you. You are right. The SAP server is a cluster of several Java application servers. Even if I call the EJB using a certain physical server name (It&#39;s possible to do this), it will be no warranty that the EJB will be run on the certain physical server. This is decided by a SAP Java managing services."}],"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496768008,"creation_date":1496768008,"answer_id":44395708,"question_id":44395543,"body_markdown":"The host address is where the JNDI server is. It&#39;s not always the same server where the EJB&#39;s themselves are running, though in most cases it is. \r\n\r\nFor exceptional cases, you can register an EJB from server1 in a JNDI server on server2 that serves as some sort of cluster manager. Not really sure if it&#39;s possible with SAP, but on e.g. WebSphere you can.","title":"Where is EJB method run","body":"<p>The host address is where the JNDI server is. It's not always the same server where the EJB's themselves are running, though in most cases it is. </p>\n\n<p>For exceptional cases, you can register an EJB from server1 in a JNDI server on server2 that serves as some sort of cluster manager. Not really sure if it's possible with SAP, but on e.g. WebSphere you can.</p>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496768738,"creation_date":1496768417,"answer_id":44395812,"question_id":44395543,"body_markdown":"AppServers use JNDi to share information of EJBs. When you deploy EJB, a [CORBA ][1]compliant stub is registered with JNDI service of the AppServer. By &#39;CORBA compliant stub&#39; I mean this is something beyond RMI, and is platform independent architecture. So theoretically, the client of EJB could be a COBOL or C program too!&lt;br&gt;\r\nClients always look up the JNDi service and ask for stub of the EJB. This stub naturally has to be serializable. Suffices to say that it contains enough information so that the client can create an object which acts as a proxy to the real EJB. So at this point, situation is, EJB object is on server, and a proxy is on client. By proxy I mean, it hides network level communication details.&lt;br&gt;\r\nClient code now calls methods on proxy, and these are transparently called over CORBA protocol to the EJB object on server.&lt;br&gt;\r\nSo to answer your q, EJB object is always on server. It&#39;s proxy is constructed on client using the CORBA stub registered on JNDI service. The EJB server, JNDI service, and client can be on different machines. Usually the JNDI service is a part of the AppServer where EJB is deployed. The client is usually a web application usually deployed on same AppServer as where EJB is deployed, though not necessarily. Client is also sometimes a thick client like Swing based, or C#.NET based GUI app on client desktop/laptop.\r\n\r\n\r\n  [1]: http://www.ois.com/Products/what-is-corba.html","title":"Where is EJB method run","body":"<p>AppServers use JNDi to share information of EJBs. When you deploy EJB, a <a href=\"http://www.ois.com/Products/what-is-corba.html\" rel=\"nofollow noreferrer\">CORBA </a>compliant stub is registered with JNDI service of the AppServer. By 'CORBA compliant stub' I mean this is something beyond RMI, and is platform independent architecture. So theoretically, the client of EJB could be a COBOL or C program too!<br>\nClients always look up the JNDi service and ask for stub of the EJB. This stub naturally has to be serializable. Suffices to say that it contains enough information so that the client can create an object which acts as a proxy to the real EJB. So at this point, situation is, EJB object is on server, and a proxy is on client. By proxy I mean, it hides network level communication details.<br>\nClient code now calls methods on proxy, and these are transparently called over CORBA protocol to the EJB object on server.<br>\nSo to answer your q, EJB object is always on server. It's proxy is constructed on client using the CORBA stub registered on JNDI service. The EJB server, JNDI service, and client can be on different machines. Usually the JNDI service is a part of the AppServer where EJB is deployed. The client is usually a web application usually deployed on same AppServer as where EJB is deployed, though not necessarily. Client is also sometimes a thick client like Swing based, or C#.NET based GUI app on client desktop/laptop.</p>\n"}],"owner":{"account_id":10961219,"reputation":539,"user_id":8054473,"accept_rate":80,"display_name":"Skalozub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44395708,"answer_count":3,"score":1,"last_activity_date":1688142995,"creation_date":1496767454,"question_id":44395543,"body_markdown":"I&#39;m calling an EJB method remotely using next code:\r\n\r\n    RemCallRemote rc = null;\r\n\tString Text = &quot;&quot;;\t\r\n    Properties props = new Properties();    \r\n    \r\n    //Filling the properties for connection to a remote server\r\n    props.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sap.engine.services.jndi.InitialContextFactoryImpl&quot;);\r\n\r\n    props.put(Context.PROVIDER_URL, &quot;hostaddress:50004&quot;);\r\n\r\n    props.put(Context.SECURITY_PRINCIPAL, &quot;LOGINNAME&quot;);\r\n\r\n    props.put(Context.SECURITY_CREDENTIALS, &quot;*****&quot;);  \r\n\r\n    props.put(Context.URL_PKG_PREFIXES, &quot;com.sap.engine.services&quot;);    \r\n\r\n    InitialContext ctx = new InitialContext(props);\r\n    \r\n    //getting a reference to an interface\r\n    rc = (RemCallRemote)ctx.lookup(&quot;ejb:/appName=sap.com/RemoteCallEAR, jarName=RemoteCallEJB.jar, beanName=RemCall, interfaceName=RemCallRemote&quot;);\r\n\r\n    //calling an EJB method\r\n    Text = rc.Check();\r\n\r\nThe code works fine, but my question is: Where is the EJB method run? Is it run always on &#39;hostaddress&#39; machine or anywhere else?\r\n","title":"Where is EJB method run","body":"<p>I'm calling an EJB method remotely using next code:</p>\n<pre><code>RemCallRemote rc = null;\nString Text = &quot;&quot;;   \nProperties props = new Properties();    \n\n//Filling the properties for connection to a remote server\nprops.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sap.engine.services.jndi.InitialContextFactoryImpl&quot;);\n\nprops.put(Context.PROVIDER_URL, &quot;hostaddress:50004&quot;);\n\nprops.put(Context.SECURITY_PRINCIPAL, &quot;LOGINNAME&quot;);\n\nprops.put(Context.SECURITY_CREDENTIALS, &quot;*****&quot;);  \n\nprops.put(Context.URL_PKG_PREFIXES, &quot;com.sap.engine.services&quot;);    \n\nInitialContext ctx = new InitialContext(props);\n\n//getting a reference to an interface\nrc = (RemCallRemote)ctx.lookup(&quot;ejb:/appName=sap.com/RemoteCallEAR, jarName=RemoteCallEJB.jar, beanName=RemCall, interfaceName=RemCallRemote&quot;);\n\n//calling an EJB method\nText = rc.Check();\n</code></pre>\n<p>The code works fine, but my question is: Where is the EJB method run? Is it run always on 'hostaddress' machine or anywhere else?</p>\n"},{"tags":["java","c#","rabbitmq","nservicebus"],"answers":[{"tags":[],"owner":{"account_id":3870592,"reputation":2855,"user_id":3205951,"display_name":"Raul"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688142522,"creation_date":1557557769,"answer_id":56087962,"question_id":56034493,"body_markdown":"This issue is hard to identify without actual access to the infrastructure.\r\n\r\nIt seems to me that, considering your Java client successfully publishes to the RabbitMQ broker but that the C# client doesn&#39;t react to the messages, your message serialisation might be missing something.\r\n\r\nBelow are a few things that you could check.\r\n\r\n## Take a look at the native integration with RabbitMQ sample\r\n\r\nThe NServiceBus documentation has a section on how to use [native RabbitMQ integration](https://docs.particular.net/samples/rabbitmq/native-integration/).\r\nYou can download the sample and see how the particular guys got it to work.\r\n\r\n## NServiceBus message headers\r\n\r\nNServiceBus uses specific header attributes within messages. One of these is the `NServiceBus.EnclosedMessageTypes` header, which allows NServiceBus to identify the message type. More specifically, this header allows NServiceBus to map the message to the corresponding C# class implementing `IMessage`. Also, the `NServiceBus.MessageIntent` header would be needed.\r\n\r\nI suggest that you check the [NServiceBus Message Headers](https://docs.particular.net/nservicebus/messaging/headers) documentation&amp;mdash;especially in your case the [Reply Headers](https://docs.particular.net/nservicebus/messaging/headers#reply-headers) section. Make sure that you add the `NServiceBus` required headers from your Java client as explained in the [RabbitMQ API-Guide](https://www.rabbitmq.com/api-guide.html#publishing). I can&#39;t tell which headers are mandatory for NServiceBus to work, so trial and error is your friend.\r\n\r\n## Track Messages published by NServiceBus in RabbitMQ\r\n\r\nCompare the messages published using NServiceBus with the ones you publish using your Java client. Here is a [link](http://www.mikeobrien.net/blog/tracing-rabbitmq-messages) for one possible solution on how to trace RabbitMQ messages and their payload. This way you might identify differences between the two message types and their content.\r\n\r\n## Use NServiceBus ServiceControl\r\n\r\nOne of the advantages of NServiceBus is the tools it brings with it. Set up an instance of [ServiceControl](https://docs.particular.net/servicecontrol/) and use the ServiceInsights application to [check messages](https://docs.particular.net/serviceinsight/#the-messages-window) and [errors](https://docs.particular.net/serviceinsight/managing-errors-and-retries) per endpoint. This will allow you to determine if your Java messages have been successfully sent or received.\r\nGenerally, this tooling is great for production environments and I highly recommend using these tools.\r\n\r\n## Other things to try\r\n\r\nIf nothing gets it to work, another option for you would be to create a slim REST API in C#, as a publisher gateway. This publisher gateway would take the POST requests and publish the content using NServiceBus to your RabbitMQ broker. You would then be able to reference your project containing your messages and use them as your models for the API.\r\n\r\nHere&#39;s a possible example:\r\n\r\n```\r\nPOST https://busgateway.corporate.com/api/{endpoint}/send/{messagetype}\r\n\r\nbody:\r\n{\r\n   &quot;property&quot;: &quot;value&quot;,\r\n   &quot;publisher&quot;: &quot;java client&quot;\r\n}\r\n```\r\n\r\nThis way, your Java client would send messages using HTTP requests.","title":"NServiceBus and Java integration","body":"<p>This issue is hard to identify without actual access to the infrastructure.</p>\n<p>It seems to me that, considering your Java client successfully publishes to the RabbitMQ broker but that the C# client doesn't react to the messages, your message serialisation might be missing something.</p>\n<p>Below are a few things that you could check.</p>\n<h2>Take a look at the native integration with RabbitMQ sample</h2>\n<p>The NServiceBus documentation has a section on how to use <a href=\"https://docs.particular.net/samples/rabbitmq/native-integration/\" rel=\"nofollow noreferrer\">native RabbitMQ integration</a>.\nYou can download the sample and see how the particular guys got it to work.</p>\n<h2>NServiceBus message headers</h2>\n<p>NServiceBus uses specific header attributes within messages. One of these is the <code>NServiceBus.EnclosedMessageTypes</code> header, which allows NServiceBus to identify the message type. More specifically, this header allows NServiceBus to map the message to the corresponding C# class implementing <code>IMessage</code>. Also, the <code>NServiceBus.MessageIntent</code> header would be needed.</p>\n<p>I suggest that you check the <a href=\"https://docs.particular.net/nservicebus/messaging/headers\" rel=\"nofollow noreferrer\">NServiceBus Message Headers</a> documentation—especially in your case the <a href=\"https://docs.particular.net/nservicebus/messaging/headers#reply-headers\" rel=\"nofollow noreferrer\">Reply Headers</a> section. Make sure that you add the <code>NServiceBus</code> required headers from your Java client as explained in the <a href=\"https://www.rabbitmq.com/api-guide.html#publishing\" rel=\"nofollow noreferrer\">RabbitMQ API-Guide</a>. I can't tell which headers are mandatory for NServiceBus to work, so trial and error is your friend.</p>\n<h2>Track Messages published by NServiceBus in RabbitMQ</h2>\n<p>Compare the messages published using NServiceBus with the ones you publish using your Java client. Here is a <a href=\"http://www.mikeobrien.net/blog/tracing-rabbitmq-messages\" rel=\"nofollow noreferrer\">link</a> for one possible solution on how to trace RabbitMQ messages and their payload. This way you might identify differences between the two message types and their content.</p>\n<h2>Use NServiceBus ServiceControl</h2>\n<p>One of the advantages of NServiceBus is the tools it brings with it. Set up an instance of <a href=\"https://docs.particular.net/servicecontrol/\" rel=\"nofollow noreferrer\">ServiceControl</a> and use the ServiceInsights application to <a href=\"https://docs.particular.net/serviceinsight/#the-messages-window\" rel=\"nofollow noreferrer\">check messages</a> and <a href=\"https://docs.particular.net/serviceinsight/managing-errors-and-retries\" rel=\"nofollow noreferrer\">errors</a> per endpoint. This will allow you to determine if your Java messages have been successfully sent or received.\nGenerally, this tooling is great for production environments and I highly recommend using these tools.</p>\n<h2>Other things to try</h2>\n<p>If nothing gets it to work, another option for you would be to create a slim REST API in C#, as a publisher gateway. This publisher gateway would take the POST requests and publish the content using NServiceBus to your RabbitMQ broker. You would then be able to reference your project containing your messages and use them as your models for the API.</p>\n<p>Here's a possible example:</p>\n<pre><code>POST https://busgateway.corporate.com/api/{endpoint}/send/{messagetype}\n\nbody:\n{\n   &quot;property&quot;: &quot;value&quot;,\n   &quot;publisher&quot;: &quot;java client&quot;\n}\n</code></pre>\n<p>This way, your Java client would send messages using HTTP requests.</p>\n"}],"owner":{"account_id":444012,"reputation":8881,"user_id":835585,"accept_rate":66,"display_name":"Tobias Moe Thorstensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56087962,"answer_count":1,"score":2,"last_activity_date":1688142522,"creation_date":1557295687,"question_id":56034493,"body_markdown":"We have several microservices, most of them written in C#, but one written in Java. We&#39;re using NServiceBus and RabbitMQ for communication between the .NET services. We have one case where one of the C# Components needs to talk to the Java component with a Request/Reply over RabbitMQ. \r\n\r\nWhen using NServiceBus the reply Queue is labeled with AnyQueueName-1 where the -1 indicates that this is a Reply Queue.\r\n\r\nDebugging the Java service, I can see that I&#39;m able to send Messages from the C# Service to the Java service. Once the Java component is finished processing the Message, it&#39;s supposed to send back a Message. Here is where all the problems start. \r\n\r\n 1. I can see that it&#39;s supposed to send the Message to the correct Queue. The name has been verified within the RabbitMQ Management Tool. But there is no activity in this Queue.\r\n \r\n 2. No exceptions are thrown on the Java side, so it appears that it&#39;s able to send the message, but where does it go? I do not expect that NServiceBus and Java will work together perfectly, but at least I should see some activity in my expected queue.\r\n\r\nThe relevant Java code looks like this:\r\n\r\n```java\r\nMessage responseMessage =\r\n    rabbitTemplate.getMessageConverter().toMessage(\r\n        response, responseProperties);\r\n\r\nString replyTo = requestProperties.getReplyTo();\r\nrabbitTemplate.convertAndSend(replyTo, responseMessage, cd);\r\n```\r\n\r\nThe variable `replyTo` is the name of the queue that I expect the message to be pushed to.\r\n\r\nCan anyone give me a push in the correct direction? Where should I debug next? \r\n\r\nThanks!\r\n\r\n  ","title":"NServiceBus and Java integration","body":"<p>We have several microservices, most of them written in C#, but one written in Java. We're using NServiceBus and RabbitMQ for communication between the .NET services. We have one case where one of the C# Components needs to talk to the Java component with a Request/Reply over RabbitMQ.</p>\n<p>When using NServiceBus the reply Queue is labeled with AnyQueueName-1 where the -1 indicates that this is a Reply Queue.</p>\n<p>Debugging the Java service, I can see that I'm able to send Messages from the C# Service to the Java service. Once the Java component is finished processing the Message, it's supposed to send back a Message. Here is where all the problems start.</p>\n<ol>\n<li><p>I can see that it's supposed to send the Message to the correct Queue. The name has been verified within the RabbitMQ Management Tool. But there is no activity in this Queue.</p>\n</li>\n<li><p>No exceptions are thrown on the Java side, so it appears that it's able to send the message, but where does it go? I do not expect that NServiceBus and Java will work together perfectly, but at least I should see some activity in my expected queue.</p>\n</li>\n</ol>\n<p>The relevant Java code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message responseMessage =\n    rabbitTemplate.getMessageConverter().toMessage(\n        response, responseProperties);\n\nString replyTo = requestProperties.getReplyTo();\nrabbitTemplate.convertAndSend(replyTo, responseMessage, cd);\n</code></pre>\n<p>The variable <code>replyTo</code> is the name of the queue that I expect the message to be pushed to.</p>\n<p>Can anyone give me a push in the correct direction? Where should I debug next?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","kotlin","permissions","capacitor"],"owner":{"account_id":28221934,"reputation":21,"user_id":21572532,"display_name":"floriandev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688142039,"creation_date":1688141015,"question_id":76590560,"body_markdown":"I have a Capacitor Plugin that includes an Android Library. Within this library, I&#39;m using the requestPermissions function from the ActivityCompat class. In order to react when the user makes a selection (grants or denies permission), I need access to the onRequestPermissionsResult event. However, I can only access it from the Activity. Although I can obtain the current instance of the Activity using the Capacitor Plugin package, I cannot access the class itself and therefore cannot override the onRequestPermissionsResult method to react accordingly.\r\n\r\nIs there any way to achieve this, as I need to execute my code only after the user has responded to the permission request? Alternatively, is there a way to get the status of the request using the requestCode?","title":"Accessing onRequestPermissionsResult event from an Activity instance (Capacitor Plugin)","body":"<p>I have a Capacitor Plugin that includes an Android Library. Within this library, I'm using the requestPermissions function from the ActivityCompat class. In order to react when the user makes a selection (grants or denies permission), I need access to the onRequestPermissionsResult event. However, I can only access it from the Activity. Although I can obtain the current instance of the Activity using the Capacitor Plugin package, I cannot access the class itself and therefore cannot override the onRequestPermissionsResult method to react accordingly.</p>\n<p>Is there any way to achieve this, as I need to execute my code only after the user has responded to the permission request? Alternatively, is there a way to get the status of the request using the requestCode?</p>\n"},{"tags":["java","jpa","spring-data-jpa","one-to-many","bidirectional"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1687810504,"post_id":76559877,"comment_id":134986054,"body_markdown":"Try jackson JSON views.","body":"Try jackson JSON views."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":0,"creation_date":1687811479,"post_id":76559877,"comment_id":134986189,"body_markdown":"Sometimes the easy solution is to map the persistence objects onto simple record types and serialize those instead.","body":"Sometimes the easy solution is to map the persistence objects onto simple record types and serialize those instead."},{"owner":{"account_id":2157045,"reputation":463,"user_id":1912012,"display_name":"AC1"},"score":0,"creation_date":1687817632,"post_id":76559877,"comment_id":134987072,"body_markdown":"@Deadron, that may not be a good solution, as even a simple System.out.println (user) will end up causing StackOverflow. Point is, the solution can&#39;t be that don&#39;t print or try to serialize or even debug otherwise you&#39;ll get an exception.","body":"@Deadron, that may not be a good solution, as even a simple System.out.println (user) will end up causing StackOverflow. Point is, the solution can&#39;t be that don&#39;t print or try to serialize or even debug otherwise you&#39;ll get an exception."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":0,"creation_date":1687894846,"post_id":76559877,"comment_id":135000425,"body_markdown":"You can&#39;t make non trivial JPA objects be foolproof. You can try but it never works. This is why its a bad idea to serialize them directly","body":"You can&#39;t make non trivial JPA objects be foolproof. You can try but it never works. This is why its a bad idea to serialize them directly"}],"answers":[{"comments":[{"owner":{"account_id":2157045,"reputation":463,"user_id":1912012,"display_name":"AC1"},"score":0,"creation_date":1687903600,"post_id":76561367,"comment_id":135001750,"body_markdown":"AhmedNabil, I don&#39;t want to ignore the whole articles property, rather I do want it in the result json. I also want the user object within article to be there in json too, except that for this user object I only want firstName and lastName and not articles field.","body":"AhmedNabil, I don&#39;t want to ignore the whole articles property, rather I do want it in the result json. I also want the user object within article to be there in json too, except that for this user object I only want firstName and lastName and not articles field."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687908559,"post_id":76561367,"comment_id":135002275,"body_markdown":"as far as I know, that is not applicable in Jackson with Hibernate. also why would you want to include articles each time you fetch user data ? it&#39;s preferred to fetch user data first, then you can use user Id to hit articles endpoint and fetch articles when needed","body":"as far as I know, that is not applicable in Jackson with Hibernate. also why would you want to include articles each time you fetch user data ? it&#39;s preferred to fetch user data first, then you can use user Id to hit articles endpoint and fetch articles when needed"}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687835405,"creation_date":1687835405,"answer_id":76561367,"question_id":76559877,"body_markdown":"first, you add  `@JsonIgnore` on articles property of User like this\r\n   \r\n\r\n       @JsonIgnore\r\n       @OneToMany ()\r\n       @JoinColumn (name=&quot;user&quot;)\r\n       private List&lt;Article&gt; articles;\r\nthis solves the Json problem and will generate the required result,\r\n\r\nand then, you **override toString()** of User Entity and don&#39;t include articles in it. that will prevent stackoverflow when printing it to the console","title":"Spring JPA - How to select specific columns only with a bi-directional relationship to avoid recursion?","body":"<p>first, you add  <code>@JsonIgnore</code> on articles property of User like this</p>\n<pre><code>   @JsonIgnore\n   @OneToMany ()\n   @JoinColumn (name=&quot;user&quot;)\n   private List&lt;Article&gt; articles;\n</code></pre>\n<p>this solves the Json problem and will generate the required result,</p>\n<p>and then, you <strong>override toString()</strong> of User Entity and don't include articles in it. that will prevent stackoverflow when printing it to the console</p>\n"},{"comments":[{"owner":{"account_id":2157045,"reputation":463,"user_id":1912012,"display_name":"AC1"},"score":0,"creation_date":1687903513,"post_id":76563978,"comment_id":135001739,"body_markdown":"in my case, it&#39;s not me calling a specific repository method to get the results where I can skip certain columns, JPA is doing that on its own since articles is an object inside user object and then user is an object inside article object.","body":"in my case, it&#39;s not me calling a specific repository method to get the results where I can skip certain columns, JPA is doing that on its own since articles is an object inside user object and then user is an object inside article object."}],"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687862041,"creation_date":1687862041,"answer_id":76563978,"question_id":76559877,"body_markdown":"The JPA specification allows us to customize results in an object-oriented fashion. Therefore, we can use a JPQL constructor expression to set the result, using the Select NEW :\r\n \r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Comment {\r\n        @Id\r\n        private Integer id;\r\n        private Integer year;\r\n        private boolean approved;\r\n        private String content; \r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CommentCount {\r\n        private Integer year;\r\n        private Long total;\r\n    }\r\n\r\n\r\n    @Query(&quot;SELECT new CommentCount(c.year, COUNT(c.year)) &quot;\r\n      + &quot;FROM Comment AS c GROUP BY c.year ORDER BY c.year DESC&quot;)\r\n    List&lt;CommentCount&gt; countTotalCommentsByYearClass();","title":"Spring JPA - How to select specific columns only with a bi-directional relationship to avoid recursion?","body":"<p>The JPA specification allows us to customize results in an object-oriented fashion. Therefore, we can use a JPQL constructor expression to set the result, using the Select NEW :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Comment {\n    @Id\n    private Integer id;\n    private Integer year;\n    private boolean approved;\n    private String content; \n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommentCount {\n    private Integer year;\n    private Long total;\n}\n\n\n@Query(&quot;SELECT new CommentCount(c.year, COUNT(c.year)) &quot;\n  + &quot;FROM Comment AS c GROUP BY c.year ORDER BY c.year DESC&quot;)\nList&lt;CommentCount&gt; countTotalCommentsByYearClass();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2157045,"reputation":463,"user_id":1912012,"display_name":"AC1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688141814,"creation_date":1688141814,"answer_id":76590659,"question_id":76559877,"body_markdown":"I ended up refactoring the code. Separated out Entity classes and serialized classes, i.e. the class that fetches data from DB via JPA and the class that returns json back in the API. Thanks everyone for the answers and nudges.","title":"Spring JPA - How to select specific columns only with a bi-directional relationship to avoid recursion?","body":"<p>I ended up refactoring the code. Separated out Entity classes and serialized classes, i.e. the class that fetches data from DB via JPA and the class that returns json back in the API. Thanks everyone for the answers and nudges.</p>\n"}],"owner":{"account_id":2157045,"reputation":463,"user_id":1912012,"display_name":"AC1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76590659,"answer_count":3,"score":1,"last_activity_date":1688141814,"creation_date":1687809437,"question_id":76559877,"body_markdown":"json recursion is a known issue with bi-directional relations in JPA. There are many solutions, like using @JsonIdentityInfo and @JsonManagedReference and @JsonBackReference, but all they end up doing is not returning the specific node in the json itself.\r\nMy need is little different, where I do want the node to be returned but only certain fields, and not the node that causes the recursion.\r\n\r\nTo keep things simple, the tables look like this, I have 2 tables, user and article. One user can have multiple articles (the business case is little different, just modifying it here to keep things simple)\r\n\r\n\r\n    User:\r\n    user_id, first_name, last_name\r\n\r\n    Article:\r\n    article_id, article_text, user_id (foreign key to User table)\r\n\r\nThe Entity classes look like this:\r\n\r\n    @Entity\r\n    @Table (name = &quot;user&quot;)\r\n    @Data  // lombok to generate corresponding getters and setters\r\n    public class User\r\n    {\r\n       private int userId;\r\n       private String firstName;\r\n       private String lastName;\r\n\r\n       @OneToMany ()\r\n       @JoinColumn (name=&quot;user&quot;)\r\n       private List&lt;Article&gt; articles;\r\n    }\r\n\r\n    @Entity\r\n    @Table (name = &quot;article&quot;)\r\n    @Data  // lombok to generate corresponding getters and setters\r\n    public class Article\r\n    {\r\n       private int articleId;\r\n       private String articleText;\r\n\r\n       @ManyToOne ()\r\n       @JoinColumn (name=&quot;user_id&quot;)\r\n       private User user;\r\n    }\r\n\r\n\r\n\r\n\r\nThe problem occurs when I make a call to get User using findById (), JPA internally populates &quot;articles&quot; as well (it might be Lazy but if I convert the object into a JSON string, it gets populated). Each article in the list has reference back to &quot;user&quot; object which it populates too, which again has &quot;articles&quot; and this goes on causing recursion and StackOverflowException.\r\n\r\nMy need is that in this particular case, when JPA is fetching and populating User object for a given article, I want only firstName and lastName to be populated and NOT the articles field. JPA is running those join queries internally while fetching articles, and I am not calling it myself. Note, I am just calling userRepository.findById () method.\r\n\r\nI want JSON representation to look like this (Note that the first user node includes everything, including articles, but user node that&#39;s fetched along with article should NOT contains articles):\r\n\r\n    {\r\n      &quot;userId&quot;: 1,\r\n      &quot;firstName&quot;: &quot;John&quot;,\r\n      &quot;lastName&quot;: &quot;Doe&quot;,\r\n      &quot;articles&quot;: [\r\n        {\r\n           &quot;articleId&quot;: 100,\r\n           &quot;articleText&quot;: &quot;Some sample text&quot;,\r\n           &quot;user&quot;: {\r\n              &quot;userId&quot;: 1,\r\n              &quot;firstName&quot;: &quot;John&quot;,\r\n              &quot;lastName&quot;: &quot;Doe&quot;\r\n           }\r\n        },\r\n        {\r\n           &quot;articleId&quot;: 101,\r\n           &quot;articleText&quot;: &quot;Another great article&quot;,\r\n           &quot;user&quot;: {\r\n              &quot;userId&quot;: 1,\r\n              &quot;firstName&quot;: &quot;John&quot;,\r\n              &quot;lastName&quot;: &quot;Doe&quot;\r\n           }\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\nIs this possible?\r\n","title":"Spring JPA - How to select specific columns only with a bi-directional relationship to avoid recursion?","body":"<p>json recursion is a known issue with bi-directional relations in JPA. There are many solutions, like using @JsonIdentityInfo and @JsonManagedReference and @JsonBackReference, but all they end up doing is not returning the specific node in the json itself.\nMy need is little different, where I do want the node to be returned but only certain fields, and not the node that causes the recursion.</p>\n<p>To keep things simple, the tables look like this, I have 2 tables, user and article. One user can have multiple articles (the business case is little different, just modifying it here to keep things simple)</p>\n<pre><code>User:\nuser_id, first_name, last_name\n\nArticle:\narticle_id, article_text, user_id (foreign key to User table)\n</code></pre>\n<p>The Entity classes look like this:</p>\n<pre><code>@Entity\n@Table (name = &quot;user&quot;)\n@Data  // lombok to generate corresponding getters and setters\npublic class User\n{\n   private int userId;\n   private String firstName;\n   private String lastName;\n\n   @OneToMany ()\n   @JoinColumn (name=&quot;user&quot;)\n   private List&lt;Article&gt; articles;\n}\n\n@Entity\n@Table (name = &quot;article&quot;)\n@Data  // lombok to generate corresponding getters and setters\npublic class Article\n{\n   private int articleId;\n   private String articleText;\n\n   @ManyToOne ()\n   @JoinColumn (name=&quot;user_id&quot;)\n   private User user;\n}\n</code></pre>\n<p>The problem occurs when I make a call to get User using findById (), JPA internally populates &quot;articles&quot; as well (it might be Lazy but if I convert the object into a JSON string, it gets populated). Each article in the list has reference back to &quot;user&quot; object which it populates too, which again has &quot;articles&quot; and this goes on causing recursion and StackOverflowException.</p>\n<p>My need is that in this particular case, when JPA is fetching and populating User object for a given article, I want only firstName and lastName to be populated and NOT the articles field. JPA is running those join queries internally while fetching articles, and I am not calling it myself. Note, I am just calling userRepository.findById () method.</p>\n<p>I want JSON representation to look like this (Note that the first user node includes everything, including articles, but user node that's fetched along with article should NOT contains articles):</p>\n<pre><code>{\n  &quot;userId&quot;: 1,\n  &quot;firstName&quot;: &quot;John&quot;,\n  &quot;lastName&quot;: &quot;Doe&quot;,\n  &quot;articles&quot;: [\n    {\n       &quot;articleId&quot;: 100,\n       &quot;articleText&quot;: &quot;Some sample text&quot;,\n       &quot;user&quot;: {\n          &quot;userId&quot;: 1,\n          &quot;firstName&quot;: &quot;John&quot;,\n          &quot;lastName&quot;: &quot;Doe&quot;\n       }\n    },\n    {\n       &quot;articleId&quot;: 101,\n       &quot;articleText&quot;: &quot;Another great article&quot;,\n       &quot;user&quot;: {\n          &quot;userId&quot;: 1,\n          &quot;firstName&quot;: &quot;John&quot;,\n          &quot;lastName&quot;: &quot;Doe&quot;\n       }\n    }\n  ]\n}\n</code></pre>\n<p>Is this possible?</p>\n"},{"tags":["java","plugins","minecraft","bukkit"],"comments":[{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1688041312,"post_id":76580599,"comment_id":135022260,"body_markdown":"`ExplosionPrimeEvent` is fired just before the TNT explodes. So setting its velocity will be meaningless as the explosion occurs almost immediately. What effect are you trying to achieve?","body":"<code>ExplosionPrimeEvent</code> is fired just before the TNT explodes. So setting its velocity will be meaningless as the explosion occurs almost immediately. What effect are you trying to achieve?"},{"owner":{"account_id":28918528,"reputation":11,"user_id":22149999,"display_name":"Costifox"},"score":0,"creation_date":1688041916,"post_id":76580599,"comment_id":135022402,"body_markdown":"I&#39;m trying to increase the knockback a tnt gets from another one by 75%, you know like hypixel","body":"I&#39;m trying to increase the knockback a tnt gets from another one by 75%, you know like hypixel"},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1688042640,"post_id":76580599,"comment_id":135022546,"body_markdown":"Unfortunately, I&#39;ve never been on Hypixel, so I don&#39;t know. I suggest you edit your question to explain what you want to happen and what does happen.","body":"Unfortunately, I&#39;ve never been on Hypixel, so I don&#39;t know. I suggest you edit your question to explain what you want to happen and what does happen."},{"owner":{"account_id":28918528,"reputation":11,"user_id":22149999,"display_name":"Costifox"},"score":0,"creation_date":1688043185,"post_id":76580599,"comment_id":135022684,"body_markdown":"ok so I&#39;ve updated it, can you give me some feedback and tell me if what I wrote is actually clear, thank you.","body":"ok so I&#39;ve updated it, can you give me some feedback and tell me if what I wrote is actually clear, thank you."},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1688047073,"post_id":76580599,"comment_id":135023637,"body_markdown":"That&#39;s better; I understand what you want now. As you&#39;re using Paper, try using the `TNTPrimeEvent` instead of `ExplosionPrimeEvent`.","body":"That&#39;s better; I understand what you want now. As you&#39;re using Paper, try using the <code>TNTPrimeEvent</code> instead of <code>ExplosionPrimeEvent</code>."},{"owner":{"account_id":28918528,"reputation":11,"user_id":22149999,"display_name":"Costifox"},"score":0,"creation_date":1688049742,"post_id":76580599,"comment_id":135024298,"body_markdown":"that doesn&#39;t seem to be working but thank you for trying to help","body":"that doesn&#39;t seem to be working but thank you for trying to help"}],"owner":{"account_id":28918528,"reputation":11,"user_id":22149999,"display_name":"Costifox"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688141675,"creation_date":1688038109,"question_id":76580599,"body_markdown":"I&#39;m currently working on a PaperMC plugin for my Minecraft server, and I&#39;m looking for a way to increase the knockback effect experienced by TNT entities when they are hit or damaged. By default, when TNT entities are struck, they receive a certain amount of knockback. However, I&#39;d like to amplify this effect so that TNT entities are pushed farther away when they are hit. I&#39;ve already explored modifying the TNT velocity and other properties, but I&#39;m unsure how to specifically increase the knockback taken by TNT entities.\r\n```\r\npackage pl;\r\n\r\nimport org.bukkit.entity.TNTPrimed;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.entity.ExplosionPrimeEvent;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.bukkit.util.Vector;\r\n\r\npublic class pl extends JavaPlugin implements Listener {\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        // Register the event listener\r\n        getServer().getPluginManager().registerEvents(this, this);\r\n    }\r\n\r\n    @EventHandler\r\n    public void onTNTIgnite(ExplosionPrimeEvent event) {\r\n        if (event.getEntity() instanceof TNTPrimed) {\r\n            TNTPrimed tnt = (TNTPrimed) event.getEntity();\r\n\r\n            // Increase the velocity of the TNT by 75%\r\n            Vector velocity = tnt.getVelocity();\r\n            tnt.setVelocity(velocity.multiply(1.75));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is the code I&#39;ve tried using but it doesn&#39;t seem to be working properly after many tests.","title":"Minecraft TNT Velocity plugin","body":"<p>I'm currently working on a PaperMC plugin for my Minecraft server, and I'm looking for a way to increase the knockback effect experienced by TNT entities when they are hit or damaged. By default, when TNT entities are struck, they receive a certain amount of knockback. However, I'd like to amplify this effect so that TNT entities are pushed farther away when they are hit. I've already explored modifying the TNT velocity and other properties, but I'm unsure how to specifically increase the knockback taken by TNT entities.</p>\n<pre><code>package pl;\n\nimport org.bukkit.entity.TNTPrimed;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.entity.ExplosionPrimeEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.util.Vector;\n\npublic class pl extends JavaPlugin implements Listener {\n\n    @Override\n    public void onEnable() {\n        // Register the event listener\n        getServer().getPluginManager().registerEvents(this, this);\n    }\n\n    @EventHandler\n    public void onTNTIgnite(ExplosionPrimeEvent event) {\n        if (event.getEntity() instanceof TNTPrimed) {\n            TNTPrimed tnt = (TNTPrimed) event.getEntity();\n\n            // Increase the velocity of the TNT by 75%\n            Vector velocity = tnt.getVelocity();\n            tnt.setVelocity(velocity.multiply(1.75));\n        }\n    }\n}\n\n</code></pre>\n<p>This is the code I've tried using but it doesn't seem to be working properly after many tests.</p>\n"},{"tags":["java","geckodriver","selenium-firefoxdriver"],"owner":{"account_id":28390781,"reputation":11,"user_id":21716584,"display_name":"Subitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688141085,"creation_date":1682281135,"question_id":76087080,"body_markdown":"Facing the below error when trying to initialize Firefox driver.\r\n\r\nFirefox version: 112.0 (64-bit)\r\nMaven Dependency: io.github.bonigarcia &gt; webdrivermanager version: 5.3.2\r\nGecko driver version: 0.33.0\r\n\r\nPlease find below the error message\r\n\r\n```\r\nmain] INFO io.github.bonigarcia.wdm.WebDriverManager - Using geckodriver 0.33.0 (resolved driver for Firefox 112)\r\n[main] INFO io.github.bonigarcia.wdm.WebDriverManager - Exporting webdriver.gecko.driver as C:\\Users\\subrav\\.cache\\selenium\\geckodriver\\win64\\0.33.0\\geckodriver.exe\r\n      org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Error: NS_BINDING_ABORTED \r\n\r\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {acceptInsecureCerts: true, browserName: firefox, moz:debuggerAddress: true, moz:firefoxOptions: {profile: UEsDBBQACAgIAHqol1YAAAAAAAA...}}], desiredCapabilities=Capabilities {acceptInsecureCerts: true, browserName: firefox, moz:debuggerAddress: true, moz:firefoxOptions: {profile: UEsDBBQACAgIAHqol1YAAAAAAAA...}}}]\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:150)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:146)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:131)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:127)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:112)\r\n\r\n```\r\n\r\nAnd here is the code block which initializes firefox driver\r\n\r\n```\r\n                WebDriverManager.firefoxdriver().setup();\r\n                FirefoxOptions firefoxOptions = new FirefoxOptions();\r\n\r\n                System.setProperty(&quot;webdriver.firefox.marionette&quot;, &quot;true&quot;);\r\n                System.setProperty(FirefoxDriver.SystemProperty.BROWSER_LOGFILE, &quot;target/logs.txt&quot;);\r\n                FirefoxProfile firefoxProfile = new FirefoxProfile();\r\n                firefoxProfile.setPreference(&quot;browser.download.folderList&quot;, 2);\r\n                firefoxProfile.setPreference(&quot;browser.download.manager.showWhenStarting&quot;, false);\r\n                firefoxProfile.setPreference(&quot;browser.download.dir&quot;, file.getAbsolutePath());\r\n                firefoxOptions.setProfile(firefoxProfile);\r\n                driver = new FirefoxDriver(firefoxOptions);\r\n```\r\n\r\n\r\n\r\nI tried adding the below capability, preferences and add-arguments options but no luck\r\n\r\n\r\n```\r\n    firefoxOptions.setCapability(&quot;moz:debuggerAddress&quot;, false);\r\n    firefoxOptions.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n    firefoxProfile.setPreference(&quot;fission.autoStart&quot;, false);\r\n    firefoxProfile.setPreference(&quot;fission.bfcacheInParent&quot;, false);\r\n    firefoxProfile.setPreference(&quot;fission.webContentIsolationStrategy&quot;,0);\r\n    firefoxOptions.setProfile(firefoxProfile);\r\n    driver = new FirefoxDriver(firefoxOptions);\r\n\r\n```\r\n\r\nCould you please let me know what could be the issue and what can be done to resolve this?\r\n\r\nThanks in advance!!","title":"geckodriver 0.33.0 Firefox org.openqa.selenium.SessionNotCreatedException: Could not start new session Response 500 Message: Error: NS_BINDING_ABORTED","body":"<p>Facing the below error when trying to initialize Firefox driver.</p>\n<p>Firefox version: 112.0 (64-bit)\nMaven Dependency: io.github.bonigarcia &gt; webdrivermanager version: 5.3.2\nGecko driver version: 0.33.0</p>\n<p>Please find below the error message</p>\n<pre><code>main] INFO io.github.bonigarcia.wdm.WebDriverManager - Using geckodriver 0.33.0 (resolved driver for Firefox 112)\n[main] INFO io.github.bonigarcia.wdm.WebDriverManager - Exporting webdriver.gecko.driver as C:\\Users\\subrav\\.cache\\selenium\\geckodriver\\win64\\0.33.0\\geckodriver.exe\n      org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Error: NS_BINDING_ABORTED \n\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\nCommand: [null, newSession {capabilities=[Capabilities {acceptInsecureCerts: true, browserName: firefox, moz:debuggerAddress: true, moz:firefoxOptions: {profile: UEsDBBQACAgIAHqol1YAAAAAAAA...}}], desiredCapabilities=Capabilities {acceptInsecureCerts: true, browserName: firefox, moz:debuggerAddress: true, moz:firefoxOptions: {profile: UEsDBBQACAgIAHqol1YAAAAAAAA...}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:150)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:146)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:131)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:127)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:112)\n\n</code></pre>\n<p>And here is the code block which initializes firefox driver</p>\n<pre><code>                WebDriverManager.firefoxdriver().setup();\n                FirefoxOptions firefoxOptions = new FirefoxOptions();\n\n                System.setProperty(&quot;webdriver.firefox.marionette&quot;, &quot;true&quot;);\n                System.setProperty(FirefoxDriver.SystemProperty.BROWSER_LOGFILE, &quot;target/logs.txt&quot;);\n                FirefoxProfile firefoxProfile = new FirefoxProfile();\n                firefoxProfile.setPreference(&quot;browser.download.folderList&quot;, 2);\n                firefoxProfile.setPreference(&quot;browser.download.manager.showWhenStarting&quot;, false);\n                firefoxProfile.setPreference(&quot;browser.download.dir&quot;, file.getAbsolutePath());\n                firefoxOptions.setProfile(firefoxProfile);\n                driver = new FirefoxDriver(firefoxOptions);\n</code></pre>\n<p>I tried adding the below capability, preferences and add-arguments options but no luck</p>\n<pre><code>    firefoxOptions.setCapability(&quot;moz:debuggerAddress&quot;, false);\n    firefoxOptions.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n    firefoxProfile.setPreference(&quot;fission.autoStart&quot;, false);\n    firefoxProfile.setPreference(&quot;fission.bfcacheInParent&quot;, false);\n    firefoxProfile.setPreference(&quot;fission.webContentIsolationStrategy&quot;,0);\n    firefoxOptions.setProfile(firefoxProfile);\n    driver = new FirefoxDriver(firefoxOptions);\n\n</code></pre>\n<p>Could you please let me know what could be the issue and what can be done to resolve this?</p>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","matrix","scope","final","overwrite"],"comments":[{"owner":{"account_id":11056500,"reputation":16,"user_id":8119192,"display_name":"Deryl_Myrawill"},"score":0,"creation_date":1688140939,"post_id":76590486,"comment_id":135038764,"body_markdown":"yeah -.-&#39; forgot to add the tag for java, more specifically, Java in android studio","body":"yeah -.-&#39; forgot to add the tag for java, more specifically, Java in android studio"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1688141640,"post_id":76590486,"comment_id":135038918,"body_markdown":"better post a [mre] - not clear what you are asking, which value has changed? || BTW a final variable only means the variable itself cannot be changed, that is, the value it contains cannot be changed, no new instance/array can be assigned to it; but the contents of that instance/array can be changed (in your example, `ID_MATRIX_OR2 = ANOTHER_MATRIX` will not be allowed, but `ID_MATRIX_OR2[0][0] = ZERO_M` is allowed - the array is NOT immutable)","body":"better post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - not clear what you are asking, which value has changed? || BTW a final variable only means the variable itself cannot be changed, that is, the value it contains cannot be changed, no new instance/array can be assigned to it; but the contents of that instance/array can be changed (in your example, <code>ID_MATRIX_OR2 = ANOTHER_MATRIX</code> will not be allowed, but <code>ID_MATRIX_OR2[0][0] = ZERO_M</code> is allowed - the array is NOT immutable)"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1688142175,"post_id":76590486,"comment_id":135039031,"body_markdown":"final just means a variable cannot be reassigned. It doesn&#39;t make object immutable. For that you have to use an immutable data structure, which arrays are not.","body":"final just means a variable cannot be reassigned. It doesn&#39;t make object immutable. For that you have to use an immutable data structure, which arrays are not."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688142250,"post_id":76590486,"comment_id":135039042,"body_markdown":"possibly related: [Immutable array in Java](https://stackoverflow.com/questions/3700971/immutable-array-in-java)","body":"possibly related: <a href=\"https://stackoverflow.com/questions/3700971/immutable-array-in-java\">Immutable array in Java</a>"},{"owner":{"account_id":11056500,"reputation":16,"user_id":8119192,"display_name":"Deryl_Myrawill"},"score":0,"creation_date":1688143980,"post_id":76590486,"comment_id":135039371,"body_markdown":"RESOLVED...\n\ni reconstructed an id Matrix based on the N value, which is the dimension \n@user16320675 it was the matrix declared as FINAL that ws modified. Now no more.\n\nthanks everybody","body":"RESOLVED...  i reconstructed an id Matrix based on the N value, which is the dimension  @user16320675 it was the matrix declared as FINAL that ws modified. Now no more.  thanks everybody"}],"owner":{"account_id":11056500,"reputation":16,"user_id":8119192,"display_name":"Deryl_Myrawill"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688140976,"creation_date":1688140304,"question_id":76590486,"body_markdown":"Ok... i&#39;m working with some Matrix.\r\nSpecifically inverting them with the Gauss algorithm. the inversion succeded, but when i restart the activity that takes the input matrix, the result, which is enlistened in an Arraylist gets overwrited by the previous operations.\r\n\r\n    switch(n){\r\n            case 2: identityMatrix = Matrix.ID_MATRIX_OR2;\r\n                break;\r\n            case 3: identityMatrix = Matrix.ID_MATRIX_OR3;\r\n                break;\r\n            case 4: identityMatrix = Matrix.ID_MATRIX_OR4;\r\n        }\r\n\r\nwhen it execute this code the 2nd time i request an inversion, instead of the identity matrix it copies the value of the PREVIOUS inverted matrix, which is TEMPORARILY stored in &quot;identityMatrix&quot; , on the new inversion &quot;identityMatrix&quot; became null again \r\n\r\nChecking in debug the &quot;Matrix.ID_MATRIX_OR&quot;number where modified.\r\n\r\nTHAT SHOUDLN&#39;T BE as they are declared as -- PROTECTED FINAL STATIC -- \r\n\r\n    protected final static Fraction[][] ID_MATRIX_OR2 = {   {ONE_M,ZERO_M},\r\n                                                            {ZERO_M,ONE_M}};\r\n    protected final static Fraction[][] ID_MATRIX_OR3 = {   {ONE_M,ZERO_M,ZERO_M},\r\n                                                            {ZERO_M,ONE_M,ZERO_M},\r\n                                                            {ZERO_M,ZERO_M,ONE_M}};\r\n    protected final static Fraction[][] ID_MATRIX_OR4 = {   {ONE_M,ZERO_M,ZERO_M,ZERO_M},\r\n                                                            {ZERO_M,ONE_M,ZERO_M,ZERO_M},\r\n                                                            {ZERO_M,ZERO_M,ONE_M,ZERO_M},\r\n                                                            {ZERO_M,ZERO_M,ZERO_M,ONE_M}};\r\n\r\nwhere ONE_M and ZERO_M are custom object Fraction, that values are 1 and 0 and they also are PROTECTED STATIC FINAL.\r\n\r\nSo why they get modified? shouldn&#39;t the final modifier prevent this?\r\n\r\nor should I search for something like the flush() method to start new?","title":"why does a PROTECTED FINAL STATIC matrix gets modified when it NEVER shouldn&#39;t?","body":"<p>Ok... i'm working with some Matrix.\nSpecifically inverting them with the Gauss algorithm. the inversion succeded, but when i restart the activity that takes the input matrix, the result, which is enlistened in an Arraylist gets overwrited by the previous operations.</p>\n<pre><code>switch(n){\n        case 2: identityMatrix = Matrix.ID_MATRIX_OR2;\n            break;\n        case 3: identityMatrix = Matrix.ID_MATRIX_OR3;\n            break;\n        case 4: identityMatrix = Matrix.ID_MATRIX_OR4;\n    }\n</code></pre>\n<p>when it execute this code the 2nd time i request an inversion, instead of the identity matrix it copies the value of the PREVIOUS inverted matrix, which is TEMPORARILY stored in &quot;identityMatrix&quot; , on the new inversion &quot;identityMatrix&quot; became null again</p>\n<p>Checking in debug the &quot;Matrix.ID_MATRIX_OR&quot;number where modified.</p>\n<p>THAT SHOUDLN'T BE as they are declared as -- PROTECTED FINAL STATIC --</p>\n<pre><code>protected final static Fraction[][] ID_MATRIX_OR2 = {   {ONE_M,ZERO_M},\n                                                        {ZERO_M,ONE_M}};\nprotected final static Fraction[][] ID_MATRIX_OR3 = {   {ONE_M,ZERO_M,ZERO_M},\n                                                        {ZERO_M,ONE_M,ZERO_M},\n                                                        {ZERO_M,ZERO_M,ONE_M}};\nprotected final static Fraction[][] ID_MATRIX_OR4 = {   {ONE_M,ZERO_M,ZERO_M,ZERO_M},\n                                                        {ZERO_M,ONE_M,ZERO_M,ZERO_M},\n                                                        {ZERO_M,ZERO_M,ONE_M,ZERO_M},\n                                                        {ZERO_M,ZERO_M,ZERO_M,ONE_M}};\n</code></pre>\n<p>where ONE_M and ZERO_M are custom object Fraction, that values are 1 and 0 and they also are PROTECTED STATIC FINAL.</p>\n<p>So why they get modified? shouldn't the final modifier prevent this?</p>\n<p>or should I search for something like the flush() method to start new?</p>\n"},{"tags":["java","maven","intellij-idea","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1686082312,"post_id":76406195,"comment_id":134749933,"body_markdown":"You probably still have a Lombok version in use that&#39;s too old, maybe due to some caching issue or dependency problem. Check what version you are really using.","body":"You probably still have a Lombok version in use that&#39;s too old, maybe due to some caching issue or dependency problem. Check what version you are really using."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688291226,"post_id":76590491,"comment_id":135052023,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76590491/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4773320,"reputation":3,"user_id":3857279,"display_name":"nahueldl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688140329,"creation_date":1688140329,"answer_id":76590491,"question_id":76406195,"body_markdown":"You should either:\r\n\r\n - Update your Lombok version, to a version that doesn&#39;t try to access that class, which is no longer public.\r\n - Lower the SDK version used by maven (you can look at it by running `mvn -v`), to 1.8 for example.\r\n\r\n ","title":"lombok.javac.apt.LombokProcessor can&#39;t access com.sun.tools.javac.processing.JavacProcessingEnvironment due to module restrictions","body":"<p>You should either:</p>\n<ul>\n<li>Update your Lombok version, to a version that doesn't try to access that class, which is no longer public.</li>\n<li>Lower the SDK version used by maven (you can look at it by running <code>mvn -v</code>), to 1.8 for example.</li>\n</ul>\n"}],"owner":{"account_id":28756255,"reputation":21,"user_id":22023228,"display_name":"Hancy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688140329,"creation_date":1685966313,"question_id":76406195,"body_markdown":"I am facing this error while running command:\r\n`mvn clean install -DskipTests`\r\n\r\nThe error:\r\n`class lombok.javac.apt.LombokProcessor (in unnamed module @0x7e7740a5) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x7e7740a5`\r\n\r\n\r\n\r\nI tried to resolve it by following steps mentioned here:\r\nhttps://stackoverflow.com/questions/66801256/java-lang-illegalaccesserror-class-lombok-javac-apt-lombokprocessor-cannot-acce?newreg=61114112959745edaa3e0ac9a83cd407\r\n\r\nBut it didn&#39;t worked for me. Please let me know what I am missing ","title":"lombok.javac.apt.LombokProcessor can&#39;t access com.sun.tools.javac.processing.JavacProcessingEnvironment due to module restrictions","body":"<p>I am facing this error while running command:\n<code>mvn clean install -DskipTests</code></p>\n<p>The error:\n<code>class lombok.javac.apt.LombokProcessor (in unnamed module @0x7e7740a5) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x7e7740a5</code></p>\n<p>I tried to resolve it by following steps mentioned here:\n<a href=\"https://stackoverflow.com/questions/66801256/java-lang-illegalaccesserror-class-lombok-javac-apt-lombokprocessor-cannot-acce?newreg=61114112959745edaa3e0ac9a83cd407\">java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment</a></p>\n<p>But it didn't worked for me. Please let me know what I am missing</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688204844,"post_id":76590343,"comment_id":135044954,"body_markdown":"I hope my solution helped you @amadeo-pachera","body":"I hope my solution helped you @amadeo-pachera"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688139128,"creation_date":1688139128,"answer_id":76590343,"question_id":76589984,"body_markdown":"You may try to use [RedirectAttributes][1], like: \r\n```java\r\n@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\r\npublic String doLogin(Model model, @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password, RedirectAttributes redirectAttributes) throws IOException {\r\n    \r\n    boolean logged = elasticSearchConnector.checkCredentials(username, password, context);\r\n    \r\n    redirectAttributes.addFlashAttribute(&quot;logged&quot;, logged);\r\n    \r\n    if (logged) {\r\n        redirectAttributes.addFlashAttribute(&quot;username&quot;, username);\r\n        return &quot;redirect:/getAccountFragment&quot;;\r\n    } else {\r\n        model.addAttribute(&quot;loginError&quot;, &quot;Incorrect Login Credentials&quot;);\r\n        return String.format(&quot;fragments/login-fragment :: content(url=&#39;%s&#39;)&quot;, &quot;/?lang=en&quot;);\r\n    }\r\n}\r\n\r\n@RequestMapping(value = &quot;/getAccountFragment&quot;, method = RequestMethod.GET)\r\npublic String getAccountFragment(Model model, RedirectAttributes redirectAttributes) throws IOException, ParseException {\r\n\r\n    if (!model.containsAttribute(&quot;logged&quot;)) {\r\n        return String.format(&quot;fragments/login-fragment :: content(url=&#39;%s&#39;)&quot;, &quot;/?lang=en&quot;);\r\n    } else {\r\n        if (!(boolean)model.getAttribute(&quot;logged&quot;)) {\r\n            return String.format(&quot;fragments/login-fragment :: content(url=&#39;%s&#39;)&quot;, &quot;/?lang=en&quot;);\r\n        } else {\r\n            String username = (String) model.getAttribute(&quot;username&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/support/RedirectAttributes.html","title":"Spring Boot model parameter lost when redirect","body":"<p>You may try to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/support/RedirectAttributes.html\" rel=\"nofollow noreferrer\">RedirectAttributes</a>, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\npublic String doLogin(Model model, @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password, RedirectAttributes redirectAttributes) throws IOException {\n    \n    boolean logged = elasticSearchConnector.checkCredentials(username, password, context);\n    \n    redirectAttributes.addFlashAttribute(&quot;logged&quot;, logged);\n    \n    if (logged) {\n        redirectAttributes.addFlashAttribute(&quot;username&quot;, username);\n        return &quot;redirect:/getAccountFragment&quot;;\n    } else {\n        model.addAttribute(&quot;loginError&quot;, &quot;Incorrect Login Credentials&quot;);\n        return String.format(&quot;fragments/login-fragment :: content(url='%s')&quot;, &quot;/?lang=en&quot;);\n    }\n}\n\n@RequestMapping(value = &quot;/getAccountFragment&quot;, method = RequestMethod.GET)\npublic String getAccountFragment(Model model, RedirectAttributes redirectAttributes) throws IOException, ParseException {\n\n    if (!model.containsAttribute(&quot;logged&quot;)) {\n        return String.format(&quot;fragments/login-fragment :: content(url='%s')&quot;, &quot;/?lang=en&quot;);\n    } else {\n        if (!(boolean)model.getAttribute(&quot;logged&quot;)) {\n            return String.format(&quot;fragments/login-fragment :: content(url='%s')&quot;, &quot;/?lang=en&quot;);\n        } else {\n            String username = (String) model.getAttribute(&quot;username&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18220842,"reputation":11,"user_id":13261629,"display_name":"Amedeo Pachera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688139128,"creation_date":1688136360,"question_id":76589984,"body_markdown":"i have a controller with 2 methods. I want the first one to redirect to the second one, saving 2 attributes in the model. The second methods cannot read one of the two attributes. &quot;logged&quot; is True in both methods, &quot;username&quot; is null in the second one.\r\n\r\n    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\r\n\tpublic String doLogin(Model model, @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password, RedirectAttributes re) throws IOException {\r\n\t\t\r\n\t\tboolean logged = elasticSearchConnector.checkCredentials(username, password, context);\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;logged&quot;, logged); \r\n        System.out.println(model.getAttribute(&quot;logged&quot;));  //True\r\n\r\n\t\t\r\n\t\tif(logged) {\r\n\t\t\tmodel.addAttribute(&quot;username&quot;, username);\r\n            System.out.println(model.getAttribute(&quot;username&quot;));  //amedeo\r\n\t\t\treturn &quot;redirect:/getAccountFragment&quot;;\r\n\t\t}\r\n\t\telse {\r\n\t\tmodel.addAttribute(&quot;loginError&quot;, &quot;Incorrect Login Credentials&quot;);\r\n\t\treturn String.format(&quot;fragments/login-fragment :: content(url=&#39;%s&#39;)&quot;, &quot;/?lang=en&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\n    @RequestMapping(value = &quot;/getAccountFragment&quot;, method = RequestMethod.GET)\r\n\tpublic String getAccountFragment(Model model) throws IOException, ParseException {\r\n\r\n    System.out.println(model.getAttribute(&quot;logged&quot;));  //True\r\n\r\n\t\tif(!model.containsAttribute(&quot;logged&quot;)) {\r\n\t\t\treturn String.format(&quot;fragments/login-fragment :: content(url=&#39;%s&#39;)&quot;, &quot;/?lang=en&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\tif(!(boolean)model.getAttribute(&quot;logged&quot;)) {\r\n\t\t\treturn String.format(&quot;fragments/login-fragment :: content(url=&#39;%s&#39;)&quot;, &quot;/?lang=en&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tString username = (String) model.getAttribute(&quot;username&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(model.getAttribute(&quot;username&quot;));  //null\r\n\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}","title":"Spring Boot model parameter lost when redirect","body":"<p>i have a controller with 2 methods. I want the first one to redirect to the second one, saving 2 attributes in the model. The second methods cannot read one of the two attributes. &quot;logged&quot; is True in both methods, &quot;username&quot; is null in the second one.</p>\n<pre><code>@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\npublic String doLogin(Model model, @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password, RedirectAttributes re) throws IOException {\n    \n    boolean logged = elasticSearchConnector.checkCredentials(username, password, context);\n    \n    model.addAttribute(&quot;logged&quot;, logged); \n    System.out.println(model.getAttribute(&quot;logged&quot;));  //True\n\n    \n    if(logged) {\n        model.addAttribute(&quot;username&quot;, username);\n        System.out.println(model.getAttribute(&quot;username&quot;));  //amedeo\n        return &quot;redirect:/getAccountFragment&quot;;\n    }\n    else {\n    model.addAttribute(&quot;loginError&quot;, &quot;Incorrect Login Credentials&quot;);\n    return String.format(&quot;fragments/login-fragment :: content(url='%s')&quot;, &quot;/?lang=en&quot;);\n    }\n}\n\n\n@RequestMapping(value = &quot;/getAccountFragment&quot;, method = RequestMethod.GET)\npublic String getAccountFragment(Model model) throws IOException, ParseException {\n\nSystem.out.println(model.getAttribute(&quot;logged&quot;));  //True\n\n    if(!model.containsAttribute(&quot;logged&quot;)) {\n        return String.format(&quot;fragments/login-fragment :: content(url='%s')&quot;, &quot;/?lang=en&quot;);\n    }\n    else {\n    if(!(boolean)model.getAttribute(&quot;logged&quot;)) {\n        return String.format(&quot;fragments/login-fragment :: content(url='%s')&quot;, &quot;/?lang=en&quot;);\n    }\n    else {\n        String username = (String) model.getAttribute(&quot;username&quot;);\n        \n        System.out.println(model.getAttribute(&quot;username&quot;));  //null\n    }\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java","protobuf-java"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1688140884,"post_id":76589944,"comment_id":135038756,"body_markdown":"You can only pack Messages and map is a field type not a message. StringValue is a message wrapper for string (scalar) types (permitting e.g. null value). You need to create a wrapping Message type that has a field that corresponds to your `map` type and then `pack` that containing message.","body":"You can only pack Messages and map is a field type not a message. StringValue is a message wrapper for string (scalar) types (permitting e.g. null value). You need to create a wrapping Message type that has a field that corresponds to your <code>map</code> type and then <code>pack</code> that containing message."}],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688138929,"creation_date":1688138929,"answer_id":76590318,"question_id":76589944,"body_markdown":"`Map` has the parameters `&lt;string, string&gt;`, so there can&#39;t be a pre-made wrapper.\r\n\r\nBut you can make a wrapper yourself, just like the others in `wrappers.proto` you are familiar with:\r\n```protobuf\r\nmessage MapStringStringValue {\r\n  map&lt;string, string&gt; value = 1;\r\n}\r\n```","title":"Packing map&lt;string, string&gt; type into google.protobuf.Any","body":"<p><code>Map</code> has the parameters <code>&lt;string, string&gt;</code>, so there can't be a pre-made wrapper.</p>\n<p>But you can make a wrapper yourself, just like the others in <code>wrappers.proto</code> you are familiar with:</p>\n<pre class=\"lang-protobuf prettyprint-override\"><code>message MapStringStringValue {\n  map&lt;string, string&gt; value = 1;\n}\n</code></pre>\n"}],"owner":{"account_id":9077628,"reputation":420,"user_id":6758617,"display_name":"bszwej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76590318,"answer_count":1,"score":0,"last_activity_date":1688138929,"creation_date":1688136122,"question_id":76589944,"body_markdown":"I&#39;m struggling with packing a protobuf `map` type into `google.protobuf.Any` in Java. The proto message I&#39;m working with has the following schema:\r\n\r\n```\r\nmessage Msg {\r\n  google.protobuf.Any value = 1;\r\n}\r\n```\r\n\r\nFor example, to pack a `StringValue` into `Any`, I can simply construct a `StringValue` and use `Any.pack`:\r\n\r\n```\r\nMsg.newBuilder().setValue(Any.pack(StringValue.of(&quot;value&quot;))).build()\r\n```\r\n\r\nI can do the same with all the other protobuf types since their respective message representations are available in the library, such as `Int32Value`, `DoubleValue`, `ListValue`, and so on.\r\n\r\nHowever, I&#39;d like to pack a protobuf `map` type into `google.protobuf.Any`, but the challenge here is that `protobuf-java` library does not provide `Message` representation for maps. Do you have any suggestions or ideas on how to do that?","title":"Packing map&lt;string, string&gt; type into google.protobuf.Any","body":"<p>I'm struggling with packing a protobuf <code>map</code> type into <code>google.protobuf.Any</code> in Java. The proto message I'm working with has the following schema:</p>\n<pre><code>message Msg {\n  google.protobuf.Any value = 1;\n}\n</code></pre>\n<p>For example, to pack a <code>StringValue</code> into <code>Any</code>, I can simply construct a <code>StringValue</code> and use <code>Any.pack</code>:</p>\n<pre><code>Msg.newBuilder().setValue(Any.pack(StringValue.of(&quot;value&quot;))).build()\n</code></pre>\n<p>I can do the same with all the other protobuf types since their respective message representations are available in the library, such as <code>Int32Value</code>, <code>DoubleValue</code>, <code>ListValue</code>, and so on.</p>\n<p>However, I'd like to pack a protobuf <code>map</code> type into <code>google.protobuf.Any</code>, but the challenge here is that <code>protobuf-java</code> library does not provide <code>Message</code> representation for maps. Do you have any suggestions or ideas on how to do that?</p>\n"},{"tags":["java","android","c++","network-programming","ndi"],"comments":[{"owner":{"account_id":10683788,"reputation":23,"user_id":10369462,"display_name":"Guilherme Carvalho"},"score":0,"creation_date":1686807020,"post_id":76479355,"comment_id":134850490,"body_markdown":"Is there a way to do a quick internet test in the app? Like a ping to google.","body":"Is there a way to do a quick internet test in the app? Like a ping to google."}],"owner":{"account_id":10683788,"reputation":23,"user_id":10369462,"display_name":"Guilherme Carvalho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688138565,"creation_date":1686806791,"question_id":76479355,"body_markdown":"I&#39;m trying to study C++ and Android development by creating an App using the NDI SDK, it&#39;s somethin i&#39;m interested on so I think it&#39;s a good way to learn.\r\n\r\nI already learned how to implement the native scripts into the Java application, it is running.\r\n\r\nBut the problem is that this SDK reads the local network to find screen sources, I&#39;m just trying to identify the available sources in the network, the SDK takes care of it.\r\n\r\nBut looks like the app is not connected to the network, because I compiled the same C++ file on windows and I could get the sources. But it do not find it in the app. I tested on both emulator and real device, same result.\r\n\r\n# !important\r\n### I&#39;m running the NDI source in the same system (Windows) that I&#39;m developing the app. But the SDK works perfectly when I run the C++ file on windows console, so probably this isn&#39;t the problem.\r\n\r\nYes, I inserted the permissions:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Material3.DayNight&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nThe app takes the same time to search, but it can&#39;t find the sources. What am I doing wrong?\r\n\r\nHere&#39;s the C++ code:\r\n```lang-cpp\r\n#include &lt;iostream&gt;\r\n#include &lt;chrono&gt;\r\n#include &lt;string&gt;\r\n#include &quot;jni.h&quot;\r\n#include &quot;Processing.NDI.Lib.h&quot;\r\n\r\nextern &quot;C&quot;\r\nJNIEXPORT jstring JNICALL\r\nJava_com_tildend_ndimonitormobile_NDILibrary_getSources(JNIEnv *env, jobject thiz) {\r\n    // Not required, but &quot;correct&quot; (see the SDK documentation).\r\n    if (!NDIlib_initialize())\r\n        return env-&gt;NewStringUTF(&quot;Not initialized&quot;);\r\n\r\n    // We are going to create an NDI finder that locates sources on the network.\r\n    NDIlib_find_instance_t pNDI_find = NDIlib_find_create_v2();\r\n    if (!pNDI_find)\r\n        return env-&gt;NewStringUTF(&quot;Finder error&quot;);\r\n\r\n    using namespace std::chrono;\r\n    uint32_t no_sources = 0;\r\n    const NDIlib_source_t* p_sources = nullptr;\r\n    for (const auto start = high_resolution_clock::now(); high_resolution_clock::now() - start &lt; minutes(1);) {\r\n        // Wait up till 5 seconds to check for new sources to be added or removed\r\n        if (!NDIlib_find_wait_for_sources(pNDI_find, 5000 /* milliseconds */)) {\r\n            std::cout &lt;&lt; &quot;No change to the sources found.\\n&quot;;\r\n            continue;\r\n        }\r\n\r\n        // Get the updated list of sources\r\n        p_sources = NDIlib_find_get_current_sources(pNDI_find, &amp;no_sources);\r\n\r\n        // Display all the sources.\r\n        printf(&quot;Network sources (%u found).\\n&quot;, no_sources);\r\n        for (uint32_t i = 0; i &lt; no_sources; i++) {\r\n            std::cout &lt;&lt; i + 1 &lt;&lt; p_sources[i].p_ndi_name &lt;&lt; std::endl;\r\n        }\r\n    }\r\n\r\n    // Success. We are done\r\n    return p_sources != nullptr ? env-&gt;NewStringUTF(p_sources[0].p_ndi_name) : env-&gt;NewStringUTF(&quot;Nothing found&quot;);\r\n}\r\n```\r\n\r\nI&#39;m new to C++, so there&#39;s probably a lot of things to improve on it.\r\n\r\n\r\nI tried on emulator and real device, nothing changed.\r\nI tried removing the permission requests... yes, nothing\r\nI tried running the SDK in a C++ file with the same code on Windows Console, and it worked.\r\n\r\nWhat can I try?","title":"Android app with C++ cannot use device Network","body":"<p>I'm trying to study C++ and Android development by creating an App using the NDI SDK, it's somethin i'm interested on so I think it's a good way to learn.</p>\n<p>I already learned how to implement the native scripts into the Java application, it is running.</p>\n<p>But the problem is that this SDK reads the local network to find screen sources, I'm just trying to identify the available sources in the network, the SDK takes care of it.</p>\n<p>But looks like the app is not connected to the network, because I compiled the same C++ file on windows and I could get the sources. But it do not find it in the app. I tested on both emulator and real device, same result.</p>\n<h1>!important</h1>\n<h3>I'm running the NDI source in the same system (Windows) that I'm developing the app. But the SDK works perfectly when I run the C++ file on windows console, so probably this isn't the problem.</h3>\n<p>Yes, I inserted the permissions:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Material3.DayNight&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>The app takes the same time to search, but it can't find the sources. What am I doing wrong?</p>\n<p>Here's the C++ code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;string&gt;\n#include &quot;jni.h&quot;\n#include &quot;Processing.NDI.Lib.h&quot;\n\nextern &quot;C&quot;\nJNIEXPORT jstring JNICALL\nJava_com_tildend_ndimonitormobile_NDILibrary_getSources(JNIEnv *env, jobject thiz) {\n    // Not required, but &quot;correct&quot; (see the SDK documentation).\n    if (!NDIlib_initialize())\n        return env-&gt;NewStringUTF(&quot;Not initialized&quot;);\n\n    // We are going to create an NDI finder that locates sources on the network.\n    NDIlib_find_instance_t pNDI_find = NDIlib_find_create_v2();\n    if (!pNDI_find)\n        return env-&gt;NewStringUTF(&quot;Finder error&quot;);\n\n    using namespace std::chrono;\n    uint32_t no_sources = 0;\n    const NDIlib_source_t* p_sources = nullptr;\n    for (const auto start = high_resolution_clock::now(); high_resolution_clock::now() - start &lt; minutes(1);) {\n        // Wait up till 5 seconds to check for new sources to be added or removed\n        if (!NDIlib_find_wait_for_sources(pNDI_find, 5000 /* milliseconds */)) {\n            std::cout &lt;&lt; &quot;No change to the sources found.\\n&quot;;\n            continue;\n        }\n\n        // Get the updated list of sources\n        p_sources = NDIlib_find_get_current_sources(pNDI_find, &amp;no_sources);\n\n        // Display all the sources.\n        printf(&quot;Network sources (%u found).\\n&quot;, no_sources);\n        for (uint32_t i = 0; i &lt; no_sources; i++) {\n            std::cout &lt;&lt; i + 1 &lt;&lt; p_sources[i].p_ndi_name &lt;&lt; std::endl;\n        }\n    }\n\n    // Success. We are done\n    return p_sources != nullptr ? env-&gt;NewStringUTF(p_sources[0].p_ndi_name) : env-&gt;NewStringUTF(&quot;Nothing found&quot;);\n}\n</code></pre>\n<p>I'm new to C++, so there's probably a lot of things to improve on it.</p>\n<p>I tried on emulator and real device, nothing changed.\nI tried removing the permission requests... yes, nothing\nI tried running the SDK in a C++ file with the same code on Windows Console, and it worked.</p>\n<p>What can I try?</p>\n"},{"tags":["javascript","java","android","react-native","android-fragments"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687373075,"post_id":76523466,"comment_id":134929236,"body_markdown":"`Screen fragments should never be restored. Follow instructions from https://github.com/software-mansion/react-native-screens/issues/17#issuecomment-424704067 to properly configure your main activity.` this is a very clear command. Did you read the linked page?","body":"<code>Screen fragments should never be restored. Follow instructions from https:&#47;&#47;github.com&#47;software-mansion&#47;react-native-screens&#47;iss&zwnj;&#8203;ues&#47;17#issuecomment-&zwnj;&#8203;424704067 to properly configure your main activity.</code> this is a very clear command. Did you read the linked page?"},{"owner":{"account_id":18422300,"reputation":368,"user_id":13419605,"display_name":"Harsh Jadon"},"score":0,"creation_date":1687376523,"post_id":76523466,"comment_id":134929835,"body_markdown":"@Robert it certainly helped, now the app doesn’t crash while running on a emulator, but crashes like 2 seconds later on a physical device after the successful wallpaper change. also I saw some error, which are only appeared for physical device. \nlink: https://i.stack.imgur.com/OjhAl.jpg","body":"@Robert it certainly helped, now the app doesn’t crash while running on a emulator, but crashes like 2 seconds later on a physical device after the successful wallpaper change. also I saw some error, which are only appeared for physical device.  link: <a href=\"https://i.stack.imgur.com/OjhAl.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/OjhAl.jpg</a>"},{"owner":{"account_id":3843773,"reputation":2526,"user_id":3186018,"display_name":"Fco P."},"score":0,"creation_date":1687940307,"post_id":76523466,"comment_id":135005629,"body_markdown":"You do realize sending a file as a Base64 basically makes it almost 40% bigger? If you send a large image, the app will surely OOM. Send the path instead.","body":"You do realize sending a file as a Base64 basically makes it almost 40% bigger? If you send a large image, the app will surely OOM. Send the path instead."},{"owner":{"account_id":18422300,"reputation":368,"user_id":13419605,"display_name":"Harsh Jadon"},"score":0,"creation_date":1688031820,"post_id":76523466,"comment_id":135020437,"body_markdown":"@FcoP. Base64 was the easiest for me to send, can I send the temporary path of the image on the device, and make it as wallpaper? can you please elaborate on how to? I m new to the native app dev. please submit an answer if possible, thank you","body":"@FcoP. Base64 was the easiest for me to send, can I send the temporary path of the image on the device, and make it as wallpaper? can you please elaborate on how to? I m new to the native app dev. please submit an answer if possible, thank you"},{"owner":{"account_id":3843773,"reputation":2526,"user_id":3186018,"display_name":"Fco P."},"score":0,"creation_date":1688032373,"post_id":76523466,"comment_id":135020539,"body_markdown":"It is pretty much the same you have, but you send a plain String pointing to the file and read the bitmap from there: BitmapFactory.decodeFile(filePath);","body":"It is pretty much the same you have, but you send a plain String pointing to the file and read the bitmap from there: BitmapFactory.decodeFile(filePath);"}],"owner":{"account_id":18422300,"reputation":368,"user_id":13419605,"display_name":"Harsh Jadon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688137498,"creation_date":1687351657,"question_id":76523466,"body_markdown":"**Aim:**  \r\nPassing a Base64 from react native app to a native module, which will set it as wallpaper.\r\n\r\n**Currently:**  \r\nWhen I am passing a Base64 String, the wallpaper is set successfully but, the app crashes(closes) or resets ( like reopen state, back to app&#39;s home screen ).\r\n\r\n**Problem:**  \r\nthe app crashes after successfully setting the wallpaper.\r\n \r\n \r\n \r\n**React Native Code**\r\n```\r\n...\r\nimport {NativeModules} from &#39;react-native&#39;;\r\nconst {WallpaperMod} = NativeModules;\r\n...\r\nconst Page = (...) =&gt; {\r\n\r\nconst base64String = &#39;...&#39;\r\n\r\n useEffect(()=&gt;{\r\n   WallpaperMod.setWallpaper(base64String);  &#128072; \r\n },[])\r\n\r\nreturn(...)\r\n\r\nexport default Page\r\n}\r\n```\r\n\r\nAndroid module code (WallpaperMod.java)\r\n```\r\npackage com.zenwalls;\r\n\r\n...\r\n\r\npublic class WallpaperMod extends ReactContextBaseJavaModule {\r\n    ReactApplicationContext context;\r\n    WallpaperMod(ReactApplicationContext context) {\r\n        super(context);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;WallpaperMod&quot;;\r\n    }\r\n\r\n    @ReactMethod\r\n    public void setWallpaper(String image64) {\r\n        Log.d(&quot;testing&quot;, &quot;Print: a&quot;+ image64);\r\n        byte[] decodedString = Base64.decode(image64, Base64.DEFAULT);\r\n        Bitmap bitmap = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\r\n        WallpaperManager wallpaperManager = WallpaperManager.getInstance(context);\r\n        try {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n\r\n                wallpaperManager.setBitmap(bitmap, null, false, WallpaperManager.FLAG_SYSTEM);  &#128072; \r\n\r\n                return;\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Error**\r\n\r\n\r\n![](https://i.stack.imgur.com/ymWCh.jpg)\r\n\r\n\r\n**Fatal Exception**\r\n\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                           Process: com.zenwalls, PID: 5202\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.zenwalls/com.zenwalls.MainActivity}: androidx.fragment.app.Fragment$InstantiationException: Unable to instantiate fragment com.swmansion.rnscreens.ScreenFragment: calling Fragment constructor caused an exception\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3815)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977)\r\n\tat android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013)\r\n\tat android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902)\r\n\tat android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71)\r\n\tat android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:233)\r\n\tat android.os.Looper.loop(Looper.java:344)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8249)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071)\r\nCaused by: androidx.fragment.app.Fragment$InstantiationException: Unable to instantiate fragment com.swmansion.rnscreens.ScreenFragment: calling Fragment constructor caused an exception\r\n\tat androidx.fragment.app.Fragment.instantiate(Fragment.java:631)\r\n\tat androidx.fragment.app.FragmentContainer.instantiate(FragmentContainer.java:57)\r\n\tat androidx.fragment.app.FragmentManager$3.instantiate(FragmentManager.java:483)\r\n\tat androidx.fragment.app.FragmentStateManager.&lt;init&gt;(FragmentStateManager.java:85)\r\n\tat androidx.fragment.app.FragmentManager.restoreSaveState(FragmentManager.java:2728)\r\n\tat androidx.fragment.app.FragmentController.restoreSaveState(FragmentController.java:198)\r\n\tat androidx.fragment.app.FragmentActivity$2.onContextAvailable(FragmentActivity.java:149)\r\n\tat androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable(ContextAwareHelper.java:99)\r\n\tat androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:322)\r\n\tat androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:273)\r\n\tat com.facebook.react.ReactActivity.onCreate(ReactActivity.java:45)\r\n\tat android.app.Activity.performCreate(Activity.java:8130)\r\n\tat android.app.Activity.performCreate(Activity.java:8110)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1343)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977)&#160;\r\n\tat android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013)&#160;\r\n\tat android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902)&#160;\r\n\tat android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71)&#160;\r\n\tat android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374)&#160;\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n\tat android.os.Looper.loopOnce(Looper.java:233)&#160;\r\n\tat android.os.Looper.loop(Looper.java:344)&#160;\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8249)&#160;\r\n\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589)&#160;\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071)&#160;\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.lang.reflect.Constructor.newInstance0(Native Method)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n\tat androidx.fragment.app.Fragment.instantiate(Fragment.java:613)\r\n\tat androidx.fragment.app.FragmentContainer.instantiate(FragmentContainer.java:57)&#160;\r\n\tat androidx.fragment.app.FragmentManager$3.instantiate(FragmentManager.java:483)&#160;\r\n\tat androidx.fragment.app.FragmentStateManager.&lt;init&gt;(FragmentStateManager.java:85)&#160;\r\n\tat androidx.fragment.app.FragmentManager.restoreSaveState(FragmentManager.java:2728)&#160;\r\n\tat androidx.fragment.app.FragmentController.restoreSaveState(FragmentController.java:198)&#160;\r\n\tat androidx.fragment.app.FragmentActivity$2.onContextAvailable(FragmentActivity.java:149)&#160;\r\n\tat androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable(ContextAwareHelper.java:99)&#160;\r\n\tat androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:322)&#160;\r\n\tat androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:273)&#160;\r\n\tat com.facebook.react.ReactActivity.onCreate(ReactActivity.java:45)&#160;\r\n\tat android.app.Activity.performCreate(Activity.java:8130)&#160;\r\n\tat android.app.Activity.performCreate(Activity.java:8110)&#160;\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1343)&#160;\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781)&#160;\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977)&#160;\r\n\tat android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013)&#160;\r\n\tat android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902)&#160;\r\n\tat android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71)&#160;\r\n\tat android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374)&#160;\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n\tat android.os.Looper.loopOnce(Looper.java:233)&#160;\r\n\tat android.os.Looper.loop(Looper.java:344)&#160;\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8249)&#160;\r\n\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589)&#160;\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071)&#160;\r\nCaused by: java.lang.IllegalStateException: Screen fragments should never be restored. Follow instructions from https://github.com/software-mansion/react-native-screens/issues/17#issuecomment-424704067 to properly configure your main activity.\r\n\tat com.swmansion.rnscreens.ScreenFragment.&lt;init&gt;(ScreenFragment.kt:54)\r\n\tat java.lang.reflect.Constructor.newInstance0(Native Method)&#160;\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:343)&#160;\r\n\tat androidx.fragment.app.Fragment.instantiate(Fragment.java:613)&#160;\r\n\tat androidx.fragment.app.FragmentContainer.instantiate(FragmentContainer.java:57)&#160;\r\n\tat androidx.fragment.app.FragmentManager$3.instantiate(FragmentManager.java:483)&#160;\r\n\tat androidx.fragment.app.FragmentStateManager.&lt;init&gt;(FragmentStateManager.java:85)&#160;\r\n\tat androidx.fragment.app.FragmentManager.restoreSaveState(FragmentManager.java:2728)&#160;\r\n\tat androidx.fragment.app.FragmentController.restoreSaveState(FragmentController.java:198)&#160;\r\n\tat androidx.fragment.app.FragmentActivity$2.onContextAvailable(FragmentActivity.java:149)&#160;\r\n\tat androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable(ContextAwareHelper.java:99)&#160;\r\n\tat androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:322)&#160;\r\n\tat androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:273)&#160;\r\n\tat com.facebook.react.ReactActivity.onCreate(ReactActivity.java:45)&#160;\r\n\tat android.app.Activity.performCreate(Activity.java:8130)&#160;\r\n\tat android.app.Activity.performCreate(Activity.java:8110)&#160;\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1343)&#160;\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781)&#160;\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977)&#160;\r\n\tat android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013)&#160;\r\n\tat android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902)&#160;\r\n\tat android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71)&#160;\r\n\tat android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374)&#160;\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n\tat android.os.Looper.loopOnce(Looper.java:233)&#160;\r\n\tat android.os.Looper.loop(Looper.java:344)&#160;\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8249)&#160;\r\n\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589)&#160;\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071)&#160;```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ymWCh.jpg","title":"ReactNative App Crashes when on WallpaperManager.setbitmap - Android, native module","body":"<p><strong>Aim:</strong><br />\nPassing a Base64 from react native app to a native module, which will set it as wallpaper.</p>\n<p><strong>Currently:</strong><br />\nWhen I am passing a Base64 String, the wallpaper is set successfully but, the app crashes(closes) or resets ( like reopen state, back to app's home screen ).</p>\n<p><strong>Problem:</strong><br />\nthe app crashes after successfully setting the wallpaper.</p>\n<p><strong>React Native Code</strong></p>\n<pre><code>...\nimport {NativeModules} from 'react-native';\nconst {WallpaperMod} = NativeModules;\n...\nconst Page = (...) =&gt; {\n\nconst base64String = '...'\n\n useEffect(()=&gt;{\n   WallpaperMod.setWallpaper(base64String);  👈 \n },[])\n\nreturn(...)\n\nexport default Page\n}\n</code></pre>\n<p>Android module code (WallpaperMod.java)</p>\n<pre><code>package com.zenwalls;\n\n...\n\npublic class WallpaperMod extends ReactContextBaseJavaModule {\n    ReactApplicationContext context;\n    WallpaperMod(ReactApplicationContext context) {\n        super(context);\n        this.context = context;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;WallpaperMod&quot;;\n    }\n\n    @ReactMethod\n    public void setWallpaper(String image64) {\n        Log.d(&quot;testing&quot;, &quot;Print: a&quot;+ image64);\n        byte[] decodedString = Base64.decode(image64, Base64.DEFAULT);\n        Bitmap bitmap = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\n        WallpaperManager wallpaperManager = WallpaperManager.getInstance(context);\n        try {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n\n                wallpaperManager.setBitmap(bitmap, null, false, WallpaperManager.FLAG_SYSTEM);  👈 \n\n                return;\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ymWCh.jpg\" alt=\"\" /></p>\n<p><strong>Fatal Exception</strong></p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                           Process: com.zenwalls, PID: 5202\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.zenwalls/com.zenwalls.MainActivity}: androidx.fragment.app.Fragment$InstantiationException: Unable to instantiate fragment com.swmansion.rnscreens.ScreenFragment: calling Fragment constructor caused an exception\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3815)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977)\n    at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013)\n    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902)\n    at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71)\n    at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:233)\n    at android.os.Looper.loop(Looper.java:344)\n    at android.app.ActivityThread.main(ActivityThread.java:8249)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071)\nCaused by: androidx.fragment.app.Fragment$InstantiationException: Unable to instantiate fragment com.swmansion.rnscreens.ScreenFragment: calling Fragment constructor caused an exception\n    at androidx.fragment.app.Fragment.instantiate(Fragment.java:631)\n    at androidx.fragment.app.FragmentContainer.instantiate(FragmentContainer.java:57)\n    at androidx.fragment.app.FragmentManager$3.instantiate(FragmentManager.java:483)\n    at androidx.fragment.app.FragmentStateManager.&lt;init&gt;(FragmentStateManager.java:85)\n    at androidx.fragment.app.FragmentManager.restoreSaveState(FragmentManager.java:2728)\n    at androidx.fragment.app.FragmentController.restoreSaveState(FragmentController.java:198)\n    at androidx.fragment.app.FragmentActivity$2.onContextAvailable(FragmentActivity.java:149)\n    at androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable(ContextAwareHelper.java:99)\n    at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:322)\n    at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:273)\n    at com.facebook.react.ReactActivity.onCreate(ReactActivity.java:45)\n    at android.app.Activity.performCreate(Activity.java:8130)\n    at android.app.Activity.performCreate(Activity.java:8110)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1343)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977) \n    at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013) \n    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902) \n    at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71) \n    at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loopOnce(Looper.java:233) \n    at android.os.Looper.loop(Looper.java:344) \n    at android.app.ActivityThread.main(ActivityThread.java:8249) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071) \nCaused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Constructor.newInstance0(Native Method)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n    at androidx.fragment.app.Fragment.instantiate(Fragment.java:613)\n    at androidx.fragment.app.FragmentContainer.instantiate(FragmentContainer.java:57) \n    at androidx.fragment.app.FragmentManager$3.instantiate(FragmentManager.java:483) \n    at androidx.fragment.app.FragmentStateManager.&lt;init&gt;(FragmentStateManager.java:85) \n    at androidx.fragment.app.FragmentManager.restoreSaveState(FragmentManager.java:2728) \n    at androidx.fragment.app.FragmentController.restoreSaveState(FragmentController.java:198) \n    at androidx.fragment.app.FragmentActivity$2.onContextAvailable(FragmentActivity.java:149) \n    at androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable(ContextAwareHelper.java:99) \n    at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:322) \n    at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:273) \n    at com.facebook.react.ReactActivity.onCreate(ReactActivity.java:45) \n    at android.app.Activity.performCreate(Activity.java:8130) \n    at android.app.Activity.performCreate(Activity.java:8110) \n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1343) \n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781) \n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977) \n    at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013) \n    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902) \n    at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71) \n    at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loopOnce(Looper.java:233) \n    at android.os.Looper.loop(Looper.java:344) \n    at android.app.ActivityThread.main(ActivityThread.java:8249) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071) \nCaused by: java.lang.IllegalStateException: Screen fragments should never be restored. Follow instructions from https://github.com/software-mansion/react-native-screens/issues/17#issuecomment-424704067 to properly configure your main activity.\n    at com.swmansion.rnscreens.ScreenFragment.&lt;init&gt;(ScreenFragment.kt:54)\n    at java.lang.reflect.Constructor.newInstance0(Native Method) \n    at java.lang.reflect.Constructor.newInstance(Constructor.java:343) \n    at androidx.fragment.app.Fragment.instantiate(Fragment.java:613) \n    at androidx.fragment.app.FragmentContainer.instantiate(FragmentContainer.java:57) \n    at androidx.fragment.app.FragmentManager$3.instantiate(FragmentManager.java:483) \n    at androidx.fragment.app.FragmentStateManager.&lt;init&gt;(FragmentStateManager.java:85) \n    at androidx.fragment.app.FragmentManager.restoreSaveState(FragmentManager.java:2728) \n    at androidx.fragment.app.FragmentController.restoreSaveState(FragmentController.java:198) \n    at androidx.fragment.app.FragmentActivity$2.onContextAvailable(FragmentActivity.java:149) \n    at androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable(ContextAwareHelper.java:99) \n    at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:322) \n    at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:273) \n    at com.facebook.react.ReactActivity.onCreate(ReactActivity.java:45) \n    at android.app.Activity.performCreate(Activity.java:8130) \n    at android.app.Activity.performCreate(Activity.java:8110) \n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1343) \n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3781) \n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3977) \n    at android.app.ActivityThread.handleRelaunchActivityInner(ActivityThread.java:6013) \n    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:5902) \n    at android.app.servertransaction.ActivityRelaunchItem.execute(ActivityRelaunchItem.java:71) \n    at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2374) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loopOnce(Looper.java:233) \n    at android.os.Looper.loop(Looper.java:344) \n    at android.app.ActivityThread.main(ActivityThread.java:8249) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:589) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1071) ```\n\n\n  [1]: https://i.stack.imgur.com/ymWCh.jpg\n</code></pre>\n"},{"tags":["java","redis","spring-data","spring-data-redis","redis-streams"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1664290251,"post_id":73869596,"comment_id":130434772,"body_markdown":"You need to detect disconnect and reconnect yourself","body":"You need to detect disconnect and reconnect yourself"},{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1664290288,"post_id":73869596,"comment_id":130434794,"body_markdown":"Use autoReconnect(true) in client options","body":"Use autoReconnect(true) in client options"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1664290529,"post_id":73869596,"comment_id":130434903,"body_markdown":"@AsadAwadia do you mean on lettuce client options? I have already set it true.","body":"@AsadAwadia do you mean on lettuce client options? I have already set it true."},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1664290614,"post_id":73869596,"comment_id":130434936,"body_markdown":"LettuceConnection factory reconnects successfully, I just face issue with StreamListener. By the way how to reconnect StreamMessageListener?","body":"LettuceConnection factory reconnects successfully, I just face issue with StreamListener. By the way how to reconnect StreamMessageListener?"}],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688137030,"creation_date":1664290161,"question_id":73869596,"body_markdown":"I have implemented StreamMessageListenerContainer to consume and process message from Redis Stream.\r\n\r\nI am using Lettuce Connection factory.\r\n\r\nWhile my application is deployed, I restart Redis server and my StreamMessageListenerContainer stops consuming messages from stream.\r\n\r\n\r\n \r\n\r\n    StreamMessageListenerContainer&lt;string, objectrecord&lt;string, book&gt; \r\n     streamMessageListenerContainer =\r\n                    StreamMessageListenerContainer.create(redisConnectionFactory, options);\r\n            \r\n     String streamKey = Cosntants.STREAM_KEY_001;\r\n     \r\n     streamMessageListenerContainer.receiveAutoAck(Consumer.from(&quot;group-b&quot;, &quot;consumer-a&quot;),\r\n                    StreamOffset.create(streamKey, ReadOffset.lastConsumed()), \r\n                    new AsyncConsumeStreamListener(&quot;Consumption group consumption B&quot;, \r\n                    &quot;group-b&quot;, &quot;consumer-bb&quot;));\r\n            \r\n\r\nAny inputs on what might be going wrong ?","title":"Redis StreamMessageListenerContainer dont reconnect on redis server restart","body":"<p>I have implemented StreamMessageListenerContainer to consume and process message from Redis Stream.</p>\n<p>I am using Lettuce Connection factory.</p>\n<p>While my application is deployed, I restart Redis server and my StreamMessageListenerContainer stops consuming messages from stream.</p>\n<pre><code>StreamMessageListenerContainer&lt;string, objectrecord&lt;string, book&gt; \n streamMessageListenerContainer =\n                StreamMessageListenerContainer.create(redisConnectionFactory, options);\n        \n String streamKey = Cosntants.STREAM_KEY_001;\n \n streamMessageListenerContainer.receiveAutoAck(Consumer.from(&quot;group-b&quot;, &quot;consumer-a&quot;),\n                StreamOffset.create(streamKey, ReadOffset.lastConsumed()), \n                new AsyncConsumeStreamListener(&quot;Consumption group consumption B&quot;, \n                &quot;group-b&quot;, &quot;consumer-bb&quot;));\n        \n</code></pre>\n<p>Any inputs on what might be going wrong ?</p>\n"},{"tags":["java","java-bytecode-asm","bytecode-manipulation","jvm-bytecode"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1688145468,"post_id":76589719,"comment_id":135039668,"body_markdown":"You can not change lambda classes in general. You can use the ASM library to create a new class file but that’s independent of the runtime lambda class. Besides that, ASM is not designed to perform redirection directly on the constant pool. The intended use case is to iterate over the members and do redirection at the place of actual use, then, ASM will generate the right constant pool for you.","body":"You can not change lambda classes in general. You can use the ASM library to create a new class file but that’s independent of the runtime lambda class. Besides that, ASM is not designed to perform redirection directly on the constant pool. The intended use case is to iterate over the members and do redirection at the place of actual use, then, ASM will generate the right constant pool for you."}],"owner":{"account_id":16314765,"reputation":33,"user_id":11782250,"display_name":"NO ONE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688136886,"creation_date":1688134560,"question_id":76589719,"body_markdown":"I am trying to change the class reference of a lambda class in it&#39;s constant pool. I&#39;ve found a way to change it&#39;s name, but I need to change the class reference too since it remains the same (e.g. CapturingClass$$Lambda$counter). I want the class reference to point to a new name (e.g. CapturingClass$$Lambda$newIdentifier). Anyone who have an idea how to achieve this using ASM?\r\n\r\nUnfortunately, I have not been lucky so far. I found no solutions on the internet.","title":"How to change class reference of a class in the constant pool using ASM library?","body":"<p>I am trying to change the class reference of a lambda class in it's constant pool. I've found a way to change it's name, but I need to change the class reference too since it remains the same (e.g. CapturingClass$$Lambda$counter). I want the class reference to point to a new name (e.g. CapturingClass$$Lambda$newIdentifier). Anyone who have an idea how to achieve this using ASM?</p>\n<p>Unfortunately, I have not been lucky so far. I found no solutions on the internet.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","serenity-bdd"],"answers":[{"comments":[{"owner":{"account_id":12124780,"reputation":160,"user_id":8854270,"display_name":"Alex"},"score":0,"creation_date":1686973274,"post_id":76486689,"comment_id":134875864,"body_markdown":"I like the approach. Do you know of a maven command that can set the `webdriver.base.url` in the properties file? Or, some other way to dynamically set it based on the environment you are working in?","body":"I like the approach. Do you know of a maven command that can set the <code>webdriver.base.url</code> in the properties file? Or, some other way to dynamically set it based on the environment you are working in?"}],"tags":[],"owner":{"account_id":1795625,"reputation":1575,"user_id":1635072,"accept_rate":70,"display_name":"Don Srinath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686884170,"creation_date":1686884170,"answer_id":76486689,"question_id":75021304,"body_markdown":"I&#39;m using serenity.properties file for configuration. This can be done with the following.\r\n\r\n    webdriver.base.url=http://localhost:1233\r\n\r\n Then in the default config URL you only mention the remaining part. \r\n\r\n    @DefaultUrl(&quot;/mysite/login&quot;)","title":"Serenity-Cucumber PageObject @DefaultURL no longer getting url from serenity.config file after upgrading to version 3.4.2","body":"<p>I'm using serenity.properties file for configuration. This can be done with the following.</p>\n<pre><code>webdriver.base.url=http://localhost:1233\n</code></pre>\n<p>Then in the default config URL you only mention the remaining part.</p>\n<pre><code>@DefaultUrl(&quot;/mysite/login&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12124780,"reputation":160,"user_id":8854270,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688136875,"creation_date":1688136875,"answer_id":76590052,"question_id":75021304,"body_markdown":"I found some code to directly reference the `serenity.conf` file.\r\n\r\n```\r\n@Step(&quot;Open sign in page&quot;)\r\npublic void openSigninPage() {\r\n   EnvironmentVariables variables = SystemEnvironmentVariables.createEnvironmentVariables();\r\n   \r\n   getDriver().get(EnvironmentSpecificConfiguration.from(variables)\r\n       .getProperty(pageObjectFileHere.getClass()\r\n       .getAnnotation(DefaultUrl.class).value()));\r\n}\r\n```\r\n\r\nIt requires me to pass in an environment variable from mvn command (or will use default)\r\n```\r\nmvn clean verify -Denvironment=dev&quot;\r\n```\r\n\r\nIt also needs the Page file.\r\n```\r\n@DefaultUrl(&quot;signin.url&quot;)\r\npublic class PageObjectFileHere extends PageObject { ... }\r\n```\r\n\r\nAnd of course the serenity.conf file. (The env passed into the mvn command matches the environments here)\r\n```\r\nenvironments {\r\n  prod { \r\n    signin.url = &quot;https://signin.com&quot; \r\n  }\r\n  dev { \r\n    signin.url = &quot;https://dev-signin.com&quot; \r\n  }\r\n  default { \r\n    signin.url = &quot;https://dev-signin.com&quot; \r\n  }\r\n  all { \r\n    admin.signin.url = &quot;#{signin.url}/admin&quot; \r\n  }\r\n}\r\n```","title":"Serenity-Cucumber PageObject @DefaultURL no longer getting url from serenity.config file after upgrading to version 3.4.2","body":"<p>I found some code to directly reference the <code>serenity.conf</code> file.</p>\n<pre><code>@Step(&quot;Open sign in page&quot;)\npublic void openSigninPage() {\n   EnvironmentVariables variables = SystemEnvironmentVariables.createEnvironmentVariables();\n   \n   getDriver().get(EnvironmentSpecificConfiguration.from(variables)\n       .getProperty(pageObjectFileHere.getClass()\n       .getAnnotation(DefaultUrl.class).value()));\n}\n</code></pre>\n<p>It requires me to pass in an environment variable from mvn command (or will use default)</p>\n<pre><code>mvn clean verify -Denvironment=dev&quot;\n</code></pre>\n<p>It also needs the Page file.</p>\n<pre><code>@DefaultUrl(&quot;signin.url&quot;)\npublic class PageObjectFileHere extends PageObject { ... }\n</code></pre>\n<p>And of course the serenity.conf file. (The env passed into the mvn command matches the environments here)</p>\n<pre><code>environments {\n  prod { \n    signin.url = &quot;https://signin.com&quot; \n  }\n  dev { \n    signin.url = &quot;https://dev-signin.com&quot; \n  }\n  default { \n    signin.url = &quot;https://dev-signin.com&quot; \n  }\n  all { \n    admin.signin.url = &quot;#{signin.url}/admin&quot; \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12124780,"reputation":160,"user_id":8854270,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76590052,"answer_count":2,"score":1,"last_activity_date":1688136875,"creation_date":1672934838,"question_id":75021304,"body_markdown":"After upgrading my Serenity-Cucumber project to version 3.4.2 I receive this error when running.\r\n\r\n    java.lang.AssertionError: Invalid URL: page:signin.url\r\n    at net.serenitybdd.core.pages.PageUrls.verified(PageUrls.java:80)\r\n\r\nIt was working prior to the update and all of my syntax looks correct, I wonder if this feature changed or the syntax changed. After trying to google search around for some answers I have come here. &#128578;\r\n\r\n**Page file**\r\n\r\n    @DefaultUrl(&quot;page:signin.url&quot;)\r\n    public class SigninPage extends PageObject { ... }\r\n\r\n**serenity.config file**\r\n\r\n    environments {\r\n    prod { signin.url = &quot;https://signin.com&quot; }\r\n    dev { signin.url = &quot;https://dev-signin.com&quot; }\r\n    default { signin.url = &quot;https://dev-signin.com&quot; }\r\n    all { admin.signin.url = &quot;#{signin.url}/admin&quot; }\r\n    }\r\n\r\nIf I instead change the Page file to contain a static url, that works and I don&#39;t get an error.\r\n\r\n    @DefaultUrl(&quot;https://dev-signin.com&quot;)\r\n\r\nBut, I need it to reference my serenity.config file instead.","title":"Serenity-Cucumber PageObject @DefaultURL no longer getting url from serenity.config file after upgrading to version 3.4.2","body":"<p>After upgrading my Serenity-Cucumber project to version 3.4.2 I receive this error when running.</p>\n<pre><code>java.lang.AssertionError: Invalid URL: page:signin.url\nat net.serenitybdd.core.pages.PageUrls.verified(PageUrls.java:80)\n</code></pre>\n<p>It was working prior to the update and all of my syntax looks correct, I wonder if this feature changed or the syntax changed. After trying to google search around for some answers I have come here. 🙂</p>\n<p><strong>Page file</strong></p>\n<pre><code>@DefaultUrl(&quot;page:signin.url&quot;)\npublic class SigninPage extends PageObject { ... }\n</code></pre>\n<p><strong>serenity.config file</strong></p>\n<pre><code>environments {\nprod { signin.url = &quot;https://signin.com&quot; }\ndev { signin.url = &quot;https://dev-signin.com&quot; }\ndefault { signin.url = &quot;https://dev-signin.com&quot; }\nall { admin.signin.url = &quot;#{signin.url}/admin&quot; }\n}\n</code></pre>\n<p>If I instead change the Page file to contain a static url, that works and I don't get an error.</p>\n<pre><code>@DefaultUrl(&quot;https://dev-signin.com&quot;)\n</code></pre>\n<p>But, I need it to reference my serenity.config file instead.</p>\n"},{"tags":["java","logging","logstash","logback","slf4j"],"answers":[{"comments":[{"owner":{"account_id":3920223,"reputation":5600,"user_id":3242721,"accept_rate":86,"display_name":"Michal Hosala"},"score":1,"creation_date":1677664907,"post_id":74411182,"comment_id":133380939,"body_markdown":"Why do you think `kvp` can&#39;t be used in pattern? [Documentation](https://logback.qos.ch/manual/layouts.html#kvp) seems to support it.","body":"Why do you think <code>kvp</code> can&#39;t be used in pattern? <a href=\"https://logback.qos.ch/manual/layouts.html#kvp\" rel=\"nofollow noreferrer\">Documentation</a> seems to support it."},{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":0,"creation_date":1688038757,"post_id":74411182,"comment_id":135021696,"body_markdown":"This is not key, value attached to log. This is only &quot;string&quot; passed as argument. I can do the same using: `log.info(&quot;Test:{}&quot;, &quot;Key=Value&quot;)`. This is not an answer to the question","body":"This is not key, value attached to log. This is only &quot;string&quot; passed as argument. I can do the same using: <code>log.info(&quot;Test:{}&quot;, &quot;Key=Value&quot;)</code>. This is not an answer to the question"}],"tags":[],"owner":{"account_id":20026709,"reputation":351,"user_id":14680375,"display_name":"BlackC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668238750,"creation_date":1668238750,"answer_id":74411182,"question_id":74377395,"body_markdown":"You can not use `%kvp` in pattern. You only need to put StructuredArguments of a\r\nparam in code, like this:\r\n```\r\n    logger.info(&quot;Test:{}&quot;, StructuredArguments.kv(&quot;Key&quot;, &quot;Value&quot;));\r\n\r\n```\r\nIt will log message like: *Test:Key=Value*","title":"Key Value Pairs are not being Impressed in logback","body":"<p>You can not use <code>%kvp</code> in pattern. You only need to put StructuredArguments of a\nparam in code, like this:</p>\n<pre><code>    logger.info(&quot;Test:{}&quot;, StructuredArguments.kv(&quot;Key&quot;, &quot;Value&quot;));\n\n</code></pre>\n<p>It will log message like: <em>Test:Key=Value</em></p>\n"},{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688136790,"creation_date":1688136790,"answer_id":76590043,"question_id":74377395,"body_markdown":"Key value pairs can be sent using log builder pattern like this:\r\n```\r\nlog.atDebug()\r\n    .addKeyValue(&quot;key1&quot;, &quot;someValue1&quot;)\r\n    .addKeyValue(&quot;keyA&quot;, &quot;someValueA&quot;)\r\n    .log(&quot;Message&quot;);\r\n```\r\n\r\nWhen using [TTLLLayout][1] layout, it is printed like this:\r\n\r\n```\r\n16:42:12.541 [main] DEBUG sk.qpp.some.app -key1=&quot;someValue1&quot; keyA=&quot;someValueA&quot;- XXXXXXXXXXXXXXX\r\n```\r\n\r\nWhen you use Pattern Layout (configured in logback.xml for example), you need to use `%kvp` for key-value inclusion. See documentation of [kvp in pattern layout][2].\r\n\r\nPS: Have a look at `log.atDebug().setMessage(&quot;Something happended&quot;).addArgument(...).log()` and other approaches to write more readable logging code.\r\n\r\n  [1]: https://github.com/qos-ch/logback/blob/master/logback-classic/src/main/java/ch/qos/logback/classic/layout/TTLLLayout.java\r\n  [2]: https://logback.qos.ch/manual/layouts.html#kvp","title":"Key Value Pairs are not being Impressed in logback","body":"<p>Key value pairs can be sent using log builder pattern like this:</p>\n<pre><code>log.atDebug()\n    .addKeyValue(&quot;key1&quot;, &quot;someValue1&quot;)\n    .addKeyValue(&quot;keyA&quot;, &quot;someValueA&quot;)\n    .log(&quot;Message&quot;);\n</code></pre>\n<p>When using <a href=\"https://github.com/qos-ch/logback/blob/master/logback-classic/src/main/java/ch/qos/logback/classic/layout/TTLLLayout.java\" rel=\"nofollow noreferrer\">TTLLLayout</a> layout, it is printed like this:</p>\n<pre><code>16:42:12.541 [main] DEBUG sk.qpp.some.app -key1=&quot;someValue1&quot; keyA=&quot;someValueA&quot;- XXXXXXXXXXXXXXX\n</code></pre>\n<p>When you use Pattern Layout (configured in logback.xml for example), you need to use <code>%kvp</code> for key-value inclusion. See documentation of <a href=\"https://logback.qos.ch/manual/layouts.html#kvp\" rel=\"nofollow noreferrer\">kvp in pattern layout</a>.</p>\n<p>PS: Have a look at <code>log.atDebug().setMessage(&quot;Something happended&quot;).addArgument(...).log()</code> and other approaches to write more readable logging code.</p>\n"}],"owner":{"account_id":26879791,"reputation":31,"user_id":20460440,"display_name":"Bernardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688136790,"creation_date":1668007646,"question_id":74377395,"body_markdown":"I&#39;m using logstash and logback with slf4j to be able to print Structured Logging in the console. I wanted to use _KeyValuePairs_ to store values with a key and a value, &quot;key&quot; = &quot;value&quot;.\r\nI&#39;m passing the values simply by Using the function as the second argument of the Logger method\r\n\r\n\r\n```java\r\nfinal static Logger logger = LoggerFactory.getLogger(Main.class);\r\n\r\npublic static void main(String[] args) {\r\n   logger.info(&quot;Test&quot;, StructuredArguments.kv(&quot;Key&quot;, &quot;Value&quot;));\r\n}\r\n```\r\n\r\nAnd in the logback.xml file I have the following configuration:\r\n\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%kvp{}] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;debug&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThis should be enough to have what I want printed, a date, followed by the keyValue events, the level, logger and the message. Howerver when the log output is printed, keyValue field always appear blank, no matter what I do.\r\n\r\n\r\n\r\nI&#39;ve used kvp{NONE}, kvp{SINGLE}, kvp{DOUBLE}, and all that. And it does not seem to work ever. One could say that I could use &quot;mdc&quot; instead, and it works with mdc, but I want to try with key value pairs too, because I want to have different information in both mdc and kvp. So with that said, what could be the problem? I&#39;ve searched a lot online, and couldn&#39;t find no one with this problem, and the information about this looks pretty scarce.","title":"Key Value Pairs are not being Impressed in logback","body":"<p>I'm using logstash and logback with slf4j to be able to print Structured Logging in the console. I wanted to use <em>KeyValuePairs</em> to store values with a key and a value, &quot;key&quot; = &quot;value&quot;.\nI'm passing the values simply by Using the function as the second argument of the Logger method</p>\n<pre class=\"lang-java prettyprint-override\"><code>final static Logger logger = LoggerFactory.getLogger(Main.class);\n\npublic static void main(String[] args) {\n   logger.info(&quot;Test&quot;, StructuredArguments.kv(&quot;Key&quot;, &quot;Value&quot;));\n}\n</code></pre>\n<p>And in the logback.xml file I have the following configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    \n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%kvp{}] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;debug&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This should be enough to have what I want printed, a date, followed by the keyValue events, the level, logger and the message. Howerver when the log output is printed, keyValue field always appear blank, no matter what I do.</p>\n<p>I've used kvp{NONE}, kvp{SINGLE}, kvp{DOUBLE}, and all that. And it does not seem to work ever. One could say that I could use &quot;mdc&quot; instead, and it works with mdc, but I want to try with key value pairs too, because I want to have different information in both mdc and kvp. So with that said, what could be the problem? I've searched a lot online, and couldn't find no one with this problem, and the information about this looks pretty scarce.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","docker"],"answers":[{"comments":[{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1688106626,"post_id":76586531,"comment_id":135031936,"body_markdown":"is it like the AWS Cli. where we creates different services","body":"is it like the AWS Cli. where we creates different services"},{"owner":{"account_id":3360953,"reputation":1823,"user_id":2822762,"accept_rate":100,"display_name":"Dave"},"score":0,"creation_date":1688110288,"post_id":76586531,"comment_id":135032566,"body_markdown":"No, it is completely mocking AWS APIs. You configure your code to run against localhost after starting Moto, and your services will not communicate with AWS, only Moto, which implements a lot of the AWS behaviour. You can check the current coverage of AWS features by Moto here: https://github.com/getmoto/moto/blob/master/IMPLEMENTATION_COVERAGE.md","body":"No, it is completely mocking AWS APIs. You configure your code to run against localhost after starting Moto, and your services will not communicate with AWS, only Moto, which implements a lot of the AWS behaviour. You can check the current coverage of AWS features by Moto here: <a href=\"https://github.com/getmoto/moto/blob/master/IMPLEMENTATION_COVERAGE.md\" rel=\"nofollow noreferrer\">github.com/getmoto/moto/blob/master/IMPLEMENTATION_COVERAGE.&zwnj;&#8203;md</a>"}],"tags":[],"owner":{"account_id":3360953,"reputation":1823,"user_id":2822762,"accept_rate":100,"display_name":"Dave"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688110378,"creation_date":1688106368,"answer_id":76586531,"question_id":76586399,"body_markdown":"You could have a look at a library called [Moto][1].\r\n\r\nThis was initially a python project to be used with the Python AWS library Boto3. However, they have added a [standalone server mode][2], which should be useable from any AWS SDK.\r\n\r\nThe easiest way is probably to use the Moto docker image. Maybe wrap it with Testcontainers and automatically create and tear down the Mock AWS for your tests.\r\n\r\n\r\n  [1]: http://docs.getmoto.org/\r\n  [2]: http://docs.getmoto.org/en/latest/docs/server_mode.html","title":"How to Mock AWS in your local system?","body":"<p>You could have a look at a library called <a href=\"http://docs.getmoto.org/\" rel=\"nofollow noreferrer\">Moto</a>.</p>\n<p>This was initially a python project to be used with the Python AWS library Boto3. However, they have added a <a href=\"http://docs.getmoto.org/en/latest/docs/server_mode.html\" rel=\"nofollow noreferrer\">standalone server mode</a>, which should be useable from any AWS SDK.</p>\n<p>The easiest way is probably to use the Moto docker image. Maybe wrap it with Testcontainers and automatically create and tear down the Mock AWS for your tests.</p>\n"},{"tags":[],"owner":{"account_id":552627,"reputation":180,"user_id":917806,"display_name":"chrishollinworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688136456,"creation_date":1688136456,"answer_id":76589997,"question_id":76586399,"body_markdown":"Try localstack\r\n\r\nIt can run with docker and exposes api services using moto\r\n\r\nhttps://github.com/localstack/localstack\r\n\r\nhttps://docs.localstack.cloud/getting-started/installation/","title":"How to Mock AWS in your local system?","body":"<p>Try localstack</p>\n<p>It can run with docker and exposes api services using moto</p>\n<p><a href=\"https://github.com/localstack/localstack\" rel=\"nofollow noreferrer\">https://github.com/localstack/localstack</a></p>\n<p><a href=\"https://docs.localstack.cloud/getting-started/installation/\" rel=\"nofollow noreferrer\">https://docs.localstack.cloud/getting-started/installation/</a></p>\n"}],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688136456,"creation_date":1688104658,"question_id":76586399,"body_markdown":"Hi We are developing a java / spring boot application. we would like to use to mock the AWS services which includes RDS , MSK etc .. in our local system without actually using AWS production accounts and using it in our systems. How to do it?","title":"How to Mock AWS in your local system?","body":"<p>Hi We are developing a java / spring boot application. we would like to use to mock the AWS services which includes RDS , MSK etc .. in our local system without actually using AWS production accounts and using it in our systems. How to do it?</p>\n"},{"tags":["java","database","oracle","jdbc","ojdbc"],"comments":[{"owner":{"account_id":8186304,"reputation":707,"user_id":6162023,"display_name":"Sofo Gial"},"score":0,"creation_date":1558077975,"post_id":56181508,"comment_id":98988681,"body_markdown":"Can you share the exact Java code that you have written?","body":"Can you share the exact Java code that you have written?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1558078008,"post_id":56181508,"comment_id":98988702,"body_markdown":"According to [this site](https://www.tekstream.com/oracle-error-messages/ora-00922-error-message/), the problem might be the length constraint you are trying to set here: `&quot;TIME&quot; TIMESTAMP (6)` due to *Specifying a maximum length on a DATE or LONG datatype also causes this error.*.","body":"According to <a href=\"https://www.tekstream.com/oracle-error-messages/ora-00922-error-message/\" rel=\"nofollow noreferrer\">this site</a>, the problem might be the length constraint you are trying to set here: <code>&quot;TIME&quot; TIMESTAMP (6)</code> due to <i>Specifying a maximum length on a DATE or LONG datatype also causes this error.</i>."},{"owner":{"account_id":15956049,"reputation":11,"user_id":11514201,"display_name":"punit j ashra"},"score":0,"creation_date":1558079345,"post_id":56181508,"comment_id":98989320,"body_markdown":"Updated with code snippet.","body":"Updated with code snippet."},{"owner":{"account_id":15956049,"reputation":11,"user_id":11514201,"display_name":"punit j ashra"},"score":0,"creation_date":1558079378,"post_id":56181508,"comment_id":98989339,"body_markdown":"@deHaar I tried removing the length in timestamp still the same error","body":"@deHaar I tried removing the length in timestamp still the same error"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1558079697,"post_id":56181508,"comment_id":98989498,"body_markdown":"@punitjashra then it might be the missing `NULL` or `NOT NULL` for each column. See [this](http://www.sqlinfo.net/oracle/oracle_Create_table.php). Even the missing `CONSTRAINT PK_EVENT` could be an issue, you have to try those options in order to find out what&#39;s wrong.","body":"@punitjashra then it might be the missing <code>NULL</code> or <code>NOT NULL</code> for each column. See <a href=\"http://www.sqlinfo.net/oracle/oracle_Create_table.php\" rel=\"nofollow noreferrer\">this</a>. Even the missing <code>CONSTRAINT PK_EVENT</code> could be an issue, you have to try those options in order to find out what&#39;s wrong."}],"answers":[{"tags":[],"owner":{"account_id":11133396,"reputation":1266,"user_id":9118951,"display_name":"Milan Desai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558360727,"creation_date":1558360727,"answer_id":56222499,"question_id":56181508,"body_markdown":"**Solution:**\r\n\r\nyou will need to use `Statement` object and create instance of it to execute &quot;create `global temporary` table&quot; query \r\n[`createStatment` instead of `prepareStatment`\r\n\r\n**Reason :**\r\n\r\n`global temporary` is not valid DDL to run from connection.PreparedStatment()\r\n\r\n\r\n**Fix:**\r\n```java\r\nStatement stmt = con.createStatement();\r\nstmt.executeUpdate(countQuery)\r\n```","title":"java.sql.SQLSyntaxErrorException: ORA-00922: missing or invalid option","body":"<p><strong>Solution:</strong></p>\n\n<p>you will need to use <code>Statement</code> object and create instance of it to execute \"create <code>global temporary</code> table\" query \n[<code>createStatment</code> instead of <code>prepareStatment</code></p>\n\n<p><strong>Reason :</strong></p>\n\n<p><code>global temporary</code> is not valid DDL to run from connection.PreparedStatment()</p>\n\n<p><strong>Fix:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Statement stmt = con.createStatement();\nstmt.executeUpdate(countQuery)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":502547,"reputation":1326,"user_id":1241115,"display_name":"Patrice Gagnon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688136122,"creation_date":1688136122,"answer_id":76589942,"question_id":56181508,"body_markdown":"If it helps anyone, I have correct this issue on my side by removing the trailing semi-colon (;) at the end of the DML. Oracle didn&#39;t seem to like it.","title":"java.sql.SQLSyntaxErrorException: ORA-00922: missing or invalid option","body":"<p>If it helps anyone, I have correct this issue on my side by removing the trailing semi-colon (;) at the end of the DML. Oracle didn't seem to like it.</p>\n"}],"owner":{"account_id":15956049,"reputation":11,"user_id":11514201,"display_name":"punit j ashra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688136122,"creation_date":1558077691,"question_id":56181508,"body_markdown":"I am creating a new table in Oracle DB using java jdbc and ending up in missing or invalid option. Dont know what is wrong in the query as such \r\n\r\nI have tried running the same query in SQL Plus and SQL Developer and it just works fine but when run through java jdbc its throwing the above error. This is the same extract from java code as well. Using executeUpdate() method for this. \r\n\r\n    CREATE TABLE EventTable (\r\n        &quot;EVENTID&quot; NUMBER, &quot;MODULE&quot; NVARCHAR2(512),&quot;EVENTTYPE&quot; NVARCHAR2(512),\r\n        &quot;MODULEANDEVENTTEXT&quot; NVARCHAR2(512), &quot;TIME&quot; TIMESTAMP (6), &quot;SOURCE&quot; NVARCHAR2(512),\r\n        &quot;SEVERITY&quot; NVARCHAR2(512), &quot;NODE&quot; NVARCHAR2(512), &quot;ACKNOWLEDGED&quot; NUMBER(*,0),\r\n        &quot;USERSID&quot; NVARCHAR2(512), &quot;DID&quot; NVARCHAR2(512), &quot;MID&quot; NVARCHAR2(512), &quot;FH&quot; NVARCHAR2(512),\r\n        &quot;LD&quot; NVARCHAR2(512), &quot;TD&quot; NVARCHAR2(512), &quot;ED&quot; NVARCHAR2(512), &quot;UD&quot; NVARCHAR2(512), \r\n        &quot;GD&quot; NVARCHAR2(512), PRIMARY KEY (&quot;EVENTID&quot;)\r\n    ); \r\n\r\njava.sql.SQLSyntaxErrorException: ORA-00922: missing or invalid option\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1059)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:522)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:257)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:587)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:225)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:53)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:943)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1150)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4798)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4875)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1361)\r\n\r\nJava Snippet\r\n\r\n\r\n     countQuery.append(\r\n                    &quot;CREATE GLOBAL TEMPORARY TABLE EventTable ( \\&quot;EVENTID\\&quot; NUMBER,  \\&quot;MODULE\\&quot; NVARCHAR2(512),\\&quot;EVENTTYPE\\&quot; NVARCHAR2(512), \\&quot;MODULEANDEVENTTEXT\\&quot; NVARCHAR2(512), \\&quot;TIME\\&quot; TIMESTAMP , \\&quot;SOURCE\\&quot; NVARCHAR2(512), \\&quot;SEVERITY\\&quot; NVARCHAR2(512), \\&quot;NODE\\&quot; NVARCHAR2(512), \\&quot;ACKNOWLEDGED\\&quot; NUMBER(*,0), \\&quot;USERSID\\&quot; NVARCHAR2(512), \\&quot;DESKTOPID\\&quot; NVARCHAR2(512), \\&quot;MACHINEID\\&quot; NVARCHAR2(512), \\&quot;FOLDERPATH\\&quot; NVARCHAR2(512), \\&quot;LUNID\\&quot; NVARCHAR2(512), \\&quot;THINAPPID\\&quot; NVARCHAR2(512), \\&quot;ENDPOINTID\\&quot; NVARCHAR2(512), \\&quot;USERDISKPATHID\\&quot; NVARCHAR2(512), \\&quot;GROUPID\\&quot; NVARCHAR2(512), PRIMARY KEY (\\&quot;EVENTID\\&quot;)); &quot;); \r\n    \r\n    PreparedStatement stmt = connection.prepareStatement(countQuery);\r\n    \r\n    stmt.executeUpdate();","title":"java.sql.SQLSyntaxErrorException: ORA-00922: missing or invalid option","body":"<p>I am creating a new table in Oracle DB using java jdbc and ending up in missing or invalid option. Dont know what is wrong in the query as such </p>\n\n<p>I have tried running the same query in SQL Plus and SQL Developer and it just works fine but when run through java jdbc its throwing the above error. This is the same extract from java code as well. Using executeUpdate() method for this. </p>\n\n<pre><code>CREATE TABLE EventTable (\n    \"EVENTID\" NUMBER, \"MODULE\" NVARCHAR2(512),\"EVENTTYPE\" NVARCHAR2(512),\n    \"MODULEANDEVENTTEXT\" NVARCHAR2(512), \"TIME\" TIMESTAMP (6), \"SOURCE\" NVARCHAR2(512),\n    \"SEVERITY\" NVARCHAR2(512), \"NODE\" NVARCHAR2(512), \"ACKNOWLEDGED\" NUMBER(*,0),\n    \"USERSID\" NVARCHAR2(512), \"DID\" NVARCHAR2(512), \"MID\" NVARCHAR2(512), \"FH\" NVARCHAR2(512),\n    \"LD\" NVARCHAR2(512), \"TD\" NVARCHAR2(512), \"ED\" NVARCHAR2(512), \"UD\" NVARCHAR2(512), \n    \"GD\" NVARCHAR2(512), PRIMARY KEY (\"EVENTID\")\n); \n</code></pre>\n\n<p>java.sql.SQLSyntaxErrorException: ORA-00922: missing or invalid option</p>\n\n<pre><code>at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450)\nat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399)\nat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1059)\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:522)\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:257)\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:587)\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:225)\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:53)\nat oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:943)\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1150)\nat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4798)\nat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4875)\nat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1361)\n</code></pre>\n\n<p>Java Snippet</p>\n\n<pre><code> countQuery.append(\n                \"CREATE GLOBAL TEMPORARY TABLE EventTable ( \\\"EVENTID\\\" NUMBER,  \\\"MODULE\\\" NVARCHAR2(512),\\\"EVENTTYPE\\\" NVARCHAR2(512), \\\"MODULEANDEVENTTEXT\\\" NVARCHAR2(512), \\\"TIME\\\" TIMESTAMP , \\\"SOURCE\\\" NVARCHAR2(512), \\\"SEVERITY\\\" NVARCHAR2(512), \\\"NODE\\\" NVARCHAR2(512), \\\"ACKNOWLEDGED\\\" NUMBER(*,0), \\\"USERSID\\\" NVARCHAR2(512), \\\"DESKTOPID\\\" NVARCHAR2(512), \\\"MACHINEID\\\" NVARCHAR2(512), \\\"FOLDERPATH\\\" NVARCHAR2(512), \\\"LUNID\\\" NVARCHAR2(512), \\\"THINAPPID\\\" NVARCHAR2(512), \\\"ENDPOINTID\\\" NVARCHAR2(512), \\\"USERDISKPATHID\\\" NVARCHAR2(512), \\\"GROUPID\\\" NVARCHAR2(512), PRIMARY KEY (\\\"EVENTID\\\")); \"); \n\nPreparedStatement stmt = connection.prepareStatement(countQuery);\n\nstmt.executeUpdate();\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688135018,"creation_date":1687438502,"answer_id":76532149,"question_id":76526734,"body_markdown":"```import java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.nio.charset.StandardCharsets;\r\nimport com.syncfusion.docio.FormatType;\r\nimport com.syncfusion.docio.WordDocument;\r\nimport com.syncfusion.ej2.wordprocessor.WordProcessorHelper;\r\n\r\npublic class Conversor {\r\n\t\r\n\tpublic static String sfdtToRtf(String sfdt) throws Exception {\r\n\t\treturn WordProcessorHelper.save(sfdt, com.syncfusion.ej2.wordprocessor.FormatType.Rtf).toString();\r\n\t}\r\n\t\r\n\tpublic static String rtfToSfdt(String rtf) throws Exception {\r\n\t\tbyte[] bytes = rtf.getBytes(StandardCharsets.UTF_8);\r\n\t\tInputStream stream = new ByteArrayInputStream(bytes);\r\n\t\tString sfdt = WordProcessorHelper.load(stream, com.syncfusion.ej2.wordprocessor.FormatType.Rtf);\r\n\t\tstream.close();\r\n\t\treturn sfdt;\r\n\t}\r\n}\r\n\r\n","title":"How to transform from RTF to SFDT?","body":"<pre><code>import java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport com.syncfusion.docio.FormatType;\nimport com.syncfusion.docio.WordDocument;\nimport com.syncfusion.ej2.wordprocessor.WordProcessorHelper;\n\npublic class Conversor {\n    \n    public static String sfdtToRtf(String sfdt) throws Exception {\n        return WordProcessorHelper.save(sfdt, com.syncfusion.ej2.wordprocessor.FormatType.Rtf).toString();\n    }\n    \n    public static String rtfToSfdt(String rtf) throws Exception {\n        byte[] bytes = rtf.getBytes(StandardCharsets.UTF_8);\n        InputStream stream = new ByteArrayInputStream(bytes);\n        String sfdt = WordProcessorHelper.load(stream, com.syncfusion.ej2.wordprocessor.FormatType.Rtf);\n        stream.close();\n        return sfdt;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76532149,"answer_count":1,"score":0,"last_activity_date":1688135018,"creation_date":1687377475,"question_id":76526734,"body_markdown":"I am using Syncfusion Rich Editor, and my data is stored in database in rtf format. And, I need to transform it to sfdt to render it in that React component. How do I transform from rtf to sfdt using java?\r\n\r\n\r\nI tried with this method that i use to transform from rtf to other formats, but when I use it I get an exception according to known format type.\r\n\r\n```java\r\npublic static Optional&lt;String&gt; converter(String rtf, FormatType original, FormatType target) throws Exception {\r\n\t\tbyte[] bytes = rtf.getBytes(StandardCharsets.UTF_8);\r\n\t\tInputStream stream = new ByteArrayInputStream(bytes);\r\n\t\tWordDocument document = new WordDocument(stream, original);\r\n\r\n\t\tfinal String filepath = &quot;output.&quot;+target.toString().toLowerCase();\r\n\t\tdocument.save(filepath, target);\r\n\t\tdocument.close();\r\n\t\t\r\n\t\treturn getFileContent(filepath);\r\n\t}\r\n```","title":"How to transform from RTF to SFDT?","body":"<p>I am using Syncfusion Rich Editor, and my data is stored in database in rtf format. And, I need to transform it to sfdt to render it in that React component. How do I transform from rtf to sfdt using java?</p>\n<p>I tried with this method that i use to transform from rtf to other formats, but when I use it I get an exception according to known format type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Optional&lt;String&gt; converter(String rtf, FormatType original, FormatType target) throws Exception {\n        byte[] bytes = rtf.getBytes(StandardCharsets.UTF_8);\n        InputStream stream = new ByteArrayInputStream(bytes);\n        WordDocument document = new WordDocument(stream, original);\n\n        final String filepath = &quot;output.&quot;+target.toString().toLowerCase();\n        document.save(filepath, target);\n        document.close();\n        \n        return getFileContent(filepath);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","logback"],"answers":[{"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1688135468,"post_id":76589777,"comment_id":135037603,"body_markdown":"Did you try this? I tried adding an `application.properties` file with the same logging values, but it didn&#39;t make any difference. AFAIK setting configuration through `propertyValues()` is supposed to be the way to configure an application context runner.","body":"Did you try this? I tried adding an <code>application.properties</code> file with the same logging values, but it didn&#39;t make any difference. AFAIK setting configuration through <code>propertyValues()</code> is supposed to be the way to configure an application context runner."}],"tags":[],"owner":{"account_id":2862565,"reputation":223,"user_id":2457521,"display_name":"Alejandro Venegas"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688134959,"creation_date":1688134959,"answer_id":76589777,"question_id":76589557,"body_markdown":"i recommend to you configure logging in propertie file and not programmatically.\r\n\r\nexample:\r\n\r\nsrc/main/resources/application.yml  // application.properties\r\n\r\n    logging:\r\n      file:\r\n        max-size: 100MB\r\n      level:\r\n        root: INFO\r\n        org.example: TRACE\r\n    server:\r\n     port: 8080\r\n    ...\r\n     \r\nThats is the default way to configure logging :\r\nhttps://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\r\n","title":"Spring Boot ApplicationContextRunner doesn&#39;t configure logback?","body":"<p>i recommend to you configure logging in propertie file and not programmatically.</p>\n<p>example:</p>\n<p>src/main/resources/application.yml  // application.properties</p>\n<pre><code>logging:\n  file:\n    max-size: 100MB\n  level:\n    root: INFO\n    org.example: TRACE\nserver:\n port: 8080\n...\n \n</code></pre>\n<p>Thats is the default way to configure logging :\n<a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html</a></p>\n"}],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688134959,"creation_date":1688133280,"question_id":76589557,"body_markdown":"I&quot;m using spring boot 2.7.13 on java 11. I&#39;m trying to use `ApplicationContextRunner` for some integration testing, with most configuration set by the runner&#39;s `propertyValues()` method. For logging, I would like to use logback and take advantage of [configuring logging through properties](https://docs.spring.io/spring-boot/docs/2.7.13/reference/htmlsingle/#howto.logging). But I find that ApplicationContextRunner doesn&#39;t configure logback. Instead, it seems slf4j is configuring logback to a default--log everything at DEBUG--and then nothing else changes it.\r\n\r\nI ended up with this sample program:\r\n\r\n    package org.example;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.test.context.runner.ApplicationContextRunner;\r\n    \r\n    public class Runner {\r\n        public static void main(String[] args) {\r\n            new ApplicationContextRunner()\r\n                    .withPropertyValues(&quot;logging.level.root=info&quot;,\r\n                            &quot;logging.level.org.example=trace&quot;)\r\n                    .run(ctx -&gt; {\r\n                        Logger logger = LoggerFactory.getLogger(Runner.class);\r\n                        logger.trace(&quot;Trace message&quot;);\r\n                        logger.debug(&quot;Debug message&quot;);\r\n                        logger.info(&quot;Info message&quot;);\r\n                    });\r\n        }\r\n    }\r\n\r\nand POM:\r\n\r\n    project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.13&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;scratch&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;scratch&lt;/name&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nWhen I run this the entire output is:\r\n\r\n    09:10:22.108 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c3f5566\r\n    09:10:22.123 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&#39;\r\n    09:10:22.157 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerProcessor&#39;\r\n    09:10:22.162 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerFactory&#39;\r\n    09:10:22.165 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&#39;\r\n    09:10:22.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalCommonAnnotationProcessor&#39;\r\n    09:10:22.260 [main] DEBUG org.example.Runner - Debug message\r\n    09:10:22.260 [main] INFO org.example.Runner - Info message\r\n    09:10:22.264 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c3f5566, started on Fri Jun 30 09:10:22 EDT 2023\r\n\r\nI did some troubleshooting. It looks like spring boot&#39;s main mechanism to configure logging is in `LoggingApplicationListener`, which configures logging when it receives certain ApplicationEvents. But as far as I can tell, when the context is started by ApplicationContextRunner, no LoggingApplicationListener is created. Even when I inject a LoggingApplicationListener into the context, it doesn&#39;t receive the necessary events to setup logging.\r\n\r\nI&#39;m a little surprised by all of this. The documentation doesn&#39;t have any caveats about configuring logging through properties. Logback is a popular logging framework, and ApplicationContextRunner is popular for testing. But not only does the configuration not happen, but starting the context logs a bunch of unnecessary messages about spring internals. I feel like I must be doing something wrong here, because otherwise people would be complaining about this behavior.\r\n\r\nAm I doing something wrong here? Is there a straightforward way to configure logging through properties when using ApplicationContextRunner?\r\n\r\n","title":"Spring Boot ApplicationContextRunner doesn&#39;t configure logback?","body":"<p>I&quot;m using spring boot 2.7.13 on java 11. I'm trying to use <code>ApplicationContextRunner</code> for some integration testing, with most configuration set by the runner's <code>propertyValues()</code> method. For logging, I would like to use logback and take advantage of <a href=\"https://docs.spring.io/spring-boot/docs/2.7.13/reference/htmlsingle/#howto.logging\" rel=\"nofollow noreferrer\">configuring logging through properties</a>. But I find that ApplicationContextRunner doesn't configure logback. Instead, it seems slf4j is configuring logback to a default--log everything at DEBUG--and then nothing else changes it.</p>\n<p>I ended up with this sample program:</p>\n<pre><code>package org.example;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.test.context.runner.ApplicationContextRunner;\n\npublic class Runner {\n    public static void main(String[] args) {\n        new ApplicationContextRunner()\n                .withPropertyValues(&quot;logging.level.root=info&quot;,\n                        &quot;logging.level.org.example=trace&quot;)\n                .run(ctx -&gt; {\n                    Logger logger = LoggerFactory.getLogger(Runner.class);\n                    logger.trace(&quot;Trace message&quot;);\n                    logger.debug(&quot;Debug message&quot;);\n                    logger.info(&quot;Info message&quot;);\n                });\n    }\n}\n</code></pre>\n<p>and POM:</p>\n<pre><code>project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.13&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;scratch&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;scratch&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I run this the entire output is:</p>\n<pre><code>09:10:22.108 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c3f5566\n09:10:22.123 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'\n09:10:22.157 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\n09:10:22.162 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'\n09:10:22.165 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'\n09:10:22.168 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'\n09:10:22.260 [main] DEBUG org.example.Runner - Debug message\n09:10:22.260 [main] INFO org.example.Runner - Info message\n09:10:22.264 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c3f5566, started on Fri Jun 30 09:10:22 EDT 2023\n</code></pre>\n<p>I did some troubleshooting. It looks like spring boot's main mechanism to configure logging is in <code>LoggingApplicationListener</code>, which configures logging when it receives certain ApplicationEvents. But as far as I can tell, when the context is started by ApplicationContextRunner, no LoggingApplicationListener is created. Even when I inject a LoggingApplicationListener into the context, it doesn't receive the necessary events to setup logging.</p>\n<p>I'm a little surprised by all of this. The documentation doesn't have any caveats about configuring logging through properties. Logback is a popular logging framework, and ApplicationContextRunner is popular for testing. But not only does the configuration not happen, but starting the context logs a bunch of unnecessary messages about spring internals. I feel like I must be doing something wrong here, because otherwise people would be complaining about this behavior.</p>\n<p>Am I doing something wrong here? Is there a straightforward way to configure logging through properties when using ApplicationContextRunner?</p>\n"},{"tags":["java","maven","selenide"],"comments":[{"owner":{"account_id":15071729,"reputation":95,"user_id":10876970,"display_name":"Luận Nguyễn Minh"},"score":0,"creation_date":1645126414,"post_id":71163914,"comment_id":125794831,"body_markdown":"(https://stackoverflow.com/questions/69980736/selenium-headless-chrome-and-language-setup)  that may help you","body":"(<a href=\"https://stackoverflow.com/questions/69980736/selenium-headless-chrome-and-language-setup\" title=\"selenium headless chrome and language setup\">stackoverflow.com/questions/69980736/&hellip;</a>)  that may help you"},{"owner":{"account_id":13933885,"reputation":125,"user_id":14897805,"display_name":"Martin Ma"},"score":1,"creation_date":1645126619,"post_id":71163914,"comment_id":125794895,"body_markdown":"This is from Selenium and not from Selenide so it won&#39;t but thanks anyway.","body":"This is from Selenium and not from Selenide so it won&#39;t but thanks anyway."},{"owner":{"account_id":15071729,"reputation":95,"user_id":10876970,"display_name":"Luận Nguyễn Minh"},"score":0,"creation_date":1645126803,"post_id":71163914,"comment_id":125794958,"body_markdown":"https://selenide.org/javadoc/current/com/codeborne/selenide/Configuration.html i refer document from here, dude &#128523;","body":"<a href=\"https://selenide.org/javadoc/current/com/codeborne/selenide/Configuration.html\" rel=\"nofollow noreferrer\">selenide.org/javadoc/current/com/codeborne/selenide/&hellip;</a> i refer document from here, dude 😋"},{"owner":{"account_id":13933885,"reputation":125,"user_id":14897805,"display_name":"Martin Ma"},"score":0,"creation_date":1645126948,"post_id":71163914,"comment_id":125795005,"body_markdown":"I found this documentation but dont know how to use it, thats why i ask here.","body":"I found this documentation but dont know how to use it, thats why i ask here."}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688134693,"creation_date":1645169377,"answer_id":71169783,"question_id":71163914,"body_markdown":"Selenide [Configuration](https://github.com/selenide/selenide/blob/master/statics/src/main/java/com/codeborne/selenide/Configuration.java) class contains \r\n`public static MutableCapabilities browserCapabilities` which is used by the driver for browser startup, if provided.\r\n\r\n__For Chrome__:\r\n\r\n```\r\nChromeOptions options = new ChromeOptions()\r\n    .setHeadless(true)\r\n    .addArguments(&quot;--lang=en_US&quot;);\r\nConfiguration.browserCapabilities = options;\r\n```\r\n\r\nBut note `--lang` argument might be ignored on Linux.\r\n\r\n__For Firefox__:\r\n\r\n```\r\nFirefoxProfile profile = new FirefoxProfile();\r\nprofile.setPreference(&quot;intl.accept_languages&quot;, &quot;en-US&quot;);\r\nFirefoxOptions options = new FirefoxOptions()\r\n    .setHeadless(true)\r\n    .setProfile(profile);\r\nConfiguration.browserCapabilities = options;\r\n```","title":"How can i set browser language in Selenide using Java?","body":"<p>Selenide <a href=\"https://github.com/selenide/selenide/blob/master/statics/src/main/java/com/codeborne/selenide/Configuration.java\" rel=\"nofollow noreferrer\">Configuration</a> class contains\n<code>public static MutableCapabilities browserCapabilities</code> which is used by the driver for browser startup, if provided.</p>\n<p><strong>For Chrome</strong>:</p>\n<pre><code>ChromeOptions options = new ChromeOptions()\n    .setHeadless(true)\n    .addArguments(&quot;--lang=en_US&quot;);\nConfiguration.browserCapabilities = options;\n</code></pre>\n<p>But note <code>--lang</code> argument might be ignored on Linux.</p>\n<p><strong>For Firefox</strong>:</p>\n<pre><code>FirefoxProfile profile = new FirefoxProfile();\nprofile.setPreference(&quot;intl.accept_languages&quot;, &quot;en-US&quot;);\nFirefoxOptions options = new FirefoxOptions()\n    .setHeadless(true)\n    .setProfile(profile);\nConfiguration.browserCapabilities = options;\n</code></pre>\n"}],"owner":{"account_id":13933885,"reputation":125,"user_id":14897805,"display_name":"Martin Ma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71169783,"answer_count":1,"score":0,"last_activity_date":1688134693,"creation_date":1645124263,"question_id":71163914,"body_markdown":"Hello guys please how can i do it?When i run not headless mode browser is in english and everything works fine, but when i run headless mode language is changed to my native language.\r\n\r\nI am using this for headless mode.\r\n\r\n       Configuration.headless = true;\r\n\r\n","title":"How can i set browser language in Selenide using Java?","body":"<p>Hello guys please how can i do it?When i run not headless mode browser is in english and everything works fine, but when i run headless mode language is changed to my native language.</p>\n<p>I am using this for headless mode.</p>\n<pre><code>   Configuration.headless = true;\n</code></pre>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688134419,"creation_date":1688134419,"answer_id":76589695,"question_id":76575854,"body_markdown":"Define an [`@AfterMapping`][1] method that would do the logic and set the `color` value:\r\n```java\r\n@Mapper\r\npublic abstract class MyMapper {\r\n  @Mapping(target = &quot;color&quot;, ignore = true)\r\n  public abstract CombinedCar from(BlueBookCar blueBookCar, AutoTraderCar autoTraderCar);\r\n\r\n  @AfterMapping\r\n  public void mapColor(\r\n      @MappingTarget CombinedCar target, BlueBookCar blueBookCar, AutoTraderCar autoTraderCar) {\r\n    target.setColor(\r\n        blueBookCar.getColor() == null ? autoTraderCar.getColor() : blueBookCar.getColor());\r\n  }\r\n}\r\n```\r\n`@Mapping(target = &quot;color&quot;, ignore = true)` is necessary to prevent error below from appearing during the build.\r\n\r\n&gt; java: Several possible source properties for target property &quot;color&quot;.\r\n\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html","title":"How do I tell MapStruct to use a different source if one source is null?","body":"<p>Define an <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html\" rel=\"nofollow noreferrer\"><code>@AfterMapping</code></a> method that would do the logic and set the <code>color</code> value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic abstract class MyMapper {\n  @Mapping(target = &quot;color&quot;, ignore = true)\n  public abstract CombinedCar from(BlueBookCar blueBookCar, AutoTraderCar autoTraderCar);\n\n  @AfterMapping\n  public void mapColor(\n      @MappingTarget CombinedCar target, BlueBookCar blueBookCar, AutoTraderCar autoTraderCar) {\n    target.setColor(\n        blueBookCar.getColor() == null ? autoTraderCar.getColor() : blueBookCar.getColor());\n  }\n}\n</code></pre>\n<p><code>@Mapping(target = &quot;color&quot;, ignore = true)</code> is necessary to prevent error below from appearing during the build.</p>\n<blockquote>\n<p>java: Several possible source properties for target property &quot;color&quot;.</p>\n</blockquote>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76589695,"answer_count":1,"score":0,"last_activity_date":1688134419,"creation_date":1687977324,"question_id":76575854,"body_markdown":"I have two objects of different types that are mapped to an object of a third type:\r\n\r\n    @Mapping(target = &quot;color&quot; //how to map this )\r\n    public abstract CombinedCar from(BlueBookCar blueBookCar , AutoTraderCar autoTraderCar);\r\n\r\n - `CombinedCar` has a String field named, `color`.\r\n  \r\n - `BlueBookCar` has a String field named, `color`.  \r\n   \r\n - `AutoTraderCar` has a String field named, `carColor`.\r\n\r\nIf `BlueBookCar` has a non-null `color`, I want to use it to set the `color` on `CombinedCar`.\r\n\r\nOtherwise, I want to use the `carColor` of `AutoTraderCar` to set the color on `CombinedCar`.\r\n\r\nHow can configure MapStruct to do this?","title":"How do I tell MapStruct to use a different source if one source is null?","body":"<p>I have two objects of different types that are mapped to an object of a third type:</p>\n<pre><code>@Mapping(target = &quot;color&quot; //how to map this )\npublic abstract CombinedCar from(BlueBookCar blueBookCar , AutoTraderCar autoTraderCar);\n</code></pre>\n<ul>\n<li><p><code>CombinedCar</code> has a String field named, <code>color</code>.</p>\n</li>\n<li><p><code>BlueBookCar</code> has a String field named, <code>color</code>.</p>\n</li>\n<li><p><code>AutoTraderCar</code> has a String field named, <code>carColor</code>.</p>\n</li>\n</ul>\n<p>If <code>BlueBookCar</code> has a non-null <code>color</code>, I want to use it to set the <code>color</code> on <code>CombinedCar</code>.</p>\n<p>Otherwise, I want to use the <code>carColor</code> of <code>AutoTraderCar</code> to set the color on <code>CombinedCar</code>.</p>\n<p>How can configure MapStruct to do this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688134507,"post_id":76589591,"comment_id":135037403,"body_markdown":"JWTs have the form `HEADER.PAYLOAD.SIGNATURE`. Those are period-separated, so there&#39;s always two period characters.","body":"JWTs have the form <code>HEADER.PAYLOAD.SIGNATURE</code>. Those are period-separated, so there&#39;s always two period characters."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1688141171,"post_id":76589591,"comment_id":135038811,"body_markdown":"My question then is, why is my bearer token not generating even though I seem to have a correct setup","body":"My question then is, why is my bearer token not generating even though I seem to have a correct setup"}],"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688133555,"creation_date":1688133555,"question_id":76589591,"body_markdown":"The issue I&#39;m facing is after using email and password to sign in, the bearer token will not generate. I&#39;m not sure what I&#39;m doing wrong as it was working a week and a half ago. I also am not sure why it requires jwt to have 2 periods even though it should be generated after login. If you need me to provide any other code let me know.\r\n\r\n````\r\norg.springframework.security.authentication.BadCredentialsException: JWT strings must contain exactly 2 period characters. Found: 0\r\n\tat com.instacloneapi.instacloneapi.config.JwtTokenValidationFilter.doFilterInternal(JwtTokenValidationFilter.java:43) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n````\r\n````\r\npackage com.instacloneapi.instacloneapi.config;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.AuthorityUtils;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n        String jwt = request.getHeader(SecurityContext.HEADER);\r\n        if (jwt != null) {\r\n            try {\r\n                jwt = jwt.substring(7);\r\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\r\n                Claims claims = Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt).getBody();\r\n\r\n                String username = String.valueOf(claims.get(&quot;username&quot;));\r\n                System.out.println(claims);\r\n                String authorities = (String)claims.get(&quot;authorities&quot;);\r\n\r\n                List&lt;GrantedAuthority&gt; authorityList = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\r\n                Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorityList);\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            } catch (Exception e) {\r\n                throw new BadCredentialsException(e.getMessage());\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        return !request.getServletPath().equals(&quot;/signin&quot;);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.instacloneapi.instacloneapi.config;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class JwtTokenGeneratorFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (authentication != null) {\r\n            SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\r\n            String jwt = Jwts.builder()\r\n                    .setIssuer(&quot;instagram&quot;)\r\n                    .setIssuedAt(new Date())\r\n                    .claim(&quot;authorities&quot;, populateAuthorities(authentication.getAuthorities()))\r\n                    .claim(&quot;username&quot;, authentication.getName())\r\n                    .setExpiration(new Date(new Date().getTime() + 1000000000))\r\n                    .signWith(key).compact();\r\n            response.setHeader(SecurityContext.HEADER, jwt);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    public static String populateAuthorities(Collection&lt;? extends GrantedAuthority&gt; collection) {\r\n        Set&lt;String&gt; authorities = new HashSet&lt;&gt;();\r\n\r\n        for (GrantedAuthority authority : collection) {\r\n            authorities.add(authority.getAuthority());\r\n        }\r\n        return String.join(&quot;,&quot;, authorities);\r\n    }\r\n\r\n    protected boolean shouldNotFilter(HttpServletRequest request) {\r\n        return !request.getServletPath().equals(&quot;/signin&quot;);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.instacloneapi.instacloneapi.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\nimport java.util.List;\r\n\r\n@Configuration\r\n@CrossOrigin(&quot;http://localhost:3000/&quot;)\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        httpSecurity\r\n                .csrf()\r\n                .disable()\r\n                .cors().configurationSource(corsConfigurationSource()).and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(HttpMethod.POST, &quot;/signup&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.GET, &quot;/signin&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.PUT, &quot;/*&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.DELETE, &quot;/*&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .addFilterBefore(new JwtTokenValidationFilter(), BasicAuthenticationFilter.class)\r\n                .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\r\n                .formLogin()\r\n                .and()\r\n                .httpBasic();\r\n\r\n        return httpSecurity.build();\r\n    }\r\n\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        final var configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;*&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;*&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n        configuration.setExposedHeaders(List.of(&quot;*&quot;));\r\n\r\n        final var source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n````","title":"Bearer token not generating after login","body":"<p>The issue I'm facing is after using email and password to sign in, the bearer token will not generate. I'm not sure what I'm doing wrong as it was working a week and a half ago. I also am not sure why it requires jwt to have 2 periods even though it should be generated after login. If you need me to provide any other code let me know.</p>\n<pre><code>org.springframework.security.authentication.BadCredentialsException: JWT strings must contain exactly 2 period characters. Found: 0\n    at com.instacloneapi.instacloneapi.config.JwtTokenValidationFilter.doFilterInternal(JwtTokenValidationFilter.java:43) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<pre><code>package com.instacloneapi.instacloneapi.config;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.crypto.SecretKey;\nimport java.io.IOException;\nimport java.util.List;\n\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain)\n            throws ServletException, IOException {\n\n        String jwt = request.getHeader(SecurityContext.HEADER);\n        if (jwt != null) {\n            try {\n                jwt = jwt.substring(7);\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\n                Claims claims = Jwts.parserBuilder().setSigningKey(key).build().parseClaimsJws(jwt).getBody();\n\n                String username = String.valueOf(claims.get(&quot;username&quot;));\n                System.out.println(claims);\n                String authorities = (String)claims.get(&quot;authorities&quot;);\n\n                List&lt;GrantedAuthority&gt; authorityList = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\n                Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorityList);\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            } catch (Exception e) {\n                throw new BadCredentialsException(e.getMessage());\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return !request.getServletPath().equals(&quot;/signin&quot;);\n    }\n}\n</code></pre>\n<pre><code>package com.instacloneapi.instacloneapi.config;\n\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.lang.NonNull;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.crypto.SecretKey;\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class JwtTokenGeneratorFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n\n        if (authentication != null) {\n            SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\n            String jwt = Jwts.builder()\n                    .setIssuer(&quot;instagram&quot;)\n                    .setIssuedAt(new Date())\n                    .claim(&quot;authorities&quot;, populateAuthorities(authentication.getAuthorities()))\n                    .claim(&quot;username&quot;, authentication.getName())\n                    .setExpiration(new Date(new Date().getTime() + 1000000000))\n                    .signWith(key).compact();\n            response.setHeader(SecurityContext.HEADER, jwt);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    public static String populateAuthorities(Collection&lt;? extends GrantedAuthority&gt; collection) {\n        Set&lt;String&gt; authorities = new HashSet&lt;&gt;();\n\n        for (GrantedAuthority authority : collection) {\n            authorities.add(authority.getAuthority());\n        }\n        return String.join(&quot;,&quot;, authorities);\n    }\n\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        return !request.getServletPath().equals(&quot;/signin&quot;);\n    }\n}\n</code></pre>\n<pre><code>package com.instacloneapi.instacloneapi.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport java.util.List;\n\n@Configuration\n@CrossOrigin(&quot;http://localhost:3000/&quot;)\npublic class AppConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity\n                .csrf()\n                .disable()\n                .cors().configurationSource(corsConfigurationSource()).and()\n                .authorizeHttpRequests()\n                .requestMatchers(HttpMethod.POST, &quot;/signup&quot;).permitAll()\n                .requestMatchers(HttpMethod.GET, &quot;/signin&quot;).permitAll()\n                .requestMatchers(HttpMethod.PUT, &quot;/*&quot;).permitAll()\n                .requestMatchers(HttpMethod.DELETE, &quot;/*&quot;).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .addFilterBefore(new JwtTokenValidationFilter(), BasicAuthenticationFilter.class)\n                .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\n                .formLogin()\n                .and()\n                .httpBasic();\n\n        return httpSecurity.build();\n    }\n\n    CorsConfigurationSource corsConfigurationSource() {\n        final var configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;*&quot;));\n        configuration.setAllowedMethods(List.of(&quot;*&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n        configuration.setExposedHeaders(List.of(&quot;*&quot;));\n\n        final var source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1688132078,"post_id":76589310,"comment_id":135036929,"body_markdown":"And how would you save a Task that is finished...","body":"And how would you save a Task that is finished..."}],"answers":[{"tags":[],"owner":{"account_id":2862565,"reputation":223,"user_id":2457521,"display_name":"Alejandro Venegas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688132828,"creation_date":1688132456,"answer_id":76589466,"question_id":76589310,"body_markdown":"With aspectj you can set a kind of regex to intercept all classes that contains certain aspect like package/names/return types etc...\r\n\r\nFor example the code below will be executed when a class with the pointcut is called.\r\n\r\n    import org.aspectj.lang;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Aspect\r\n    @Component\r\n    public class JpaIntegrityValidator {\r\n\r\n     @Before(&quot;within(com.business.jpa.repository.*)&quot;) // Aspectj supports a lot of conditions within, execution etc.\r\n     public void onRepositoryPackage(JoinPoint joinPoint) {\r\n        // This wil be executed before, or after, or when exeption etc.\r\n     }\r\n\r\nIts only a sample, you can use Before/After / After Throw etc and more conditions ... try to investigate that lib, i think it is what you are looking for.\r\n\r\nYou can throw a exception when the joinpoint contains your task with flag false.","title":"Automatically add a condition to all JpaRepository methods","body":"<p>With aspectj you can set a kind of regex to intercept all classes that contains certain aspect like package/names/return types etc...</p>\n<p>For example the code below will be executed when a class with the pointcut is called.</p>\n<pre><code>import org.aspectj.lang;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class JpaIntegrityValidator {\n\n @Before(&quot;within(com.business.jpa.repository.*)&quot;) // Aspectj supports a lot of conditions within, execution etc.\n public void onRepositoryPackage(JoinPoint joinPoint) {\n    // This wil be executed before, or after, or when exeption etc.\n }\n</code></pre>\n<p>Its only a sample, you can use Before/After / After Throw etc and more conditions ... try to investigate that lib, i think it is what you are looking for.</p>\n<p>You can throw a exception when the joinpoint contains your task with flag false.</p>\n"}],"owner":{"account_id":12179322,"reputation":245,"user_id":8891321,"display_name":"Czachodym"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688132828,"creation_date":1688131221,"question_id":76589310,"body_markdown":"let&#39;s say i have a class `Task` in which I have field `boolean finished`. I also have an interface `TaskRepository` that extends `JpaRepository` in which there are all the methods. I want all these methods to query or update only records with `finished==false`. Is there a way to configure repository that way to do it automatically, or do I have to create all methods manually with `somethingAndFinishedFalse`?","title":"Automatically add a condition to all JpaRepository methods","body":"<p>let's say i have a class <code>Task</code> in which I have field <code>boolean finished</code>. I also have an interface <code>TaskRepository</code> that extends <code>JpaRepository</code> in which there are all the methods. I want all these methods to query or update only records with <code>finished==false</code>. Is there a way to configure repository that way to do it automatically, or do I have to create all methods manually with <code>somethingAndFinishedFalse</code>?</p>\n"},{"tags":["javascript","java","jsp","jstl","displaytag"],"answers":[{"comments":[{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559084873,"post_id":56350063,"comment_id":99307134,"body_markdown":"I tried the setAttribute the 1st solution but it had no effect. I was able to goto main browser and refresh the popup.","body":"I tried the setAttribute the 1st solution but it had no effect. I was able to goto main browser and refresh the popup."},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559087864,"post_id":56350063,"comment_id":99307746,"body_markdown":"Does the mouse cursor changes after you click for the first time? After the popup opens, you should not see the little hand anymore...","body":"Does the mouse cursor changes after you click for the first time? After the popup opens, you should not see the little hand anymore..."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559090847,"post_id":56350063,"comment_id":99308258,"body_markdown":"yes mouse cursor changes and replaced with arrow mark. However it lets me click the link there.","body":"yes mouse cursor changes and replaced with arrow mark. However it lets me click the link there."},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559091727,"post_id":56350063,"comment_id":99308383,"body_markdown":"Hmm...I updated the answer to also `setAttribute` of the `href`. Does that work?","body":"Hmm...I updated the answer to also <code>setAttribute</code> of the <code>href</code>. Does that work?"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559092209,"post_id":56350063,"comment_id":99308460,"body_markdown":"decoratedVal.append(&quot;&#39;, 800, 700)\\&quot; title=\\&quot;Pay\\&quot; id=\\&quot;payLink\\&quot; &quot;) ;\n            decoratedVal.append(&quot;onclick=\\&quot;document.getElementById(\\&#39;payLink\\&#39;).disabled = true;&quot;);\n            decoratedVal.append(&quot;\\&quot;&gt;Pay&lt;/a&gt;&quot;);","body":"decoratedVal.append(&quot;&#39;, 800, 700)\\&quot; title=\\&quot;Pay\\&quot; id=\\&quot;payLink\\&quot; &quot;) ;             decoratedVal.append(&quot;onclick=\\&quot;document.getElementById(\\&#39;pay&zwnj;&#8203;Link\\&#39;).disabled = true;&quot;);             decoratedVal.append(&quot;\\&quot;&gt;Pay&lt;/a&gt;&quot;);"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559092320,"post_id":56350063,"comment_id":99308483,"body_markdown":"I added the disabled script as above which disables the link first time though. Since the table is a list each row holds the same id name and it doesnt work when i click say 2nd records &quot;Pay&quot;","body":"I added the disabled script as above which disables the link first time though. Since the table is a list each row holds the same id name and it doesnt work when i click say 2nd records &quot;Pay&quot;"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559092665,"post_id":56350063,"comment_id":99308547,"body_markdown":"tried setAttribute on href but still able to click on the hyperlink and resubmit.","body":"tried setAttribute on href but still able to click on the hyperlink and resubmit."},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559094832,"post_id":56350063,"comment_id":99308924,"body_markdown":"Oh....that makes a big difference! You have multiple links. Updated the answer again. Sorry about the misunderstanding.","body":"Oh....that makes a big difference! You have multiple links. Updated the answer again. Sorry about the misunderstanding."},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559094907,"post_id":56350063,"comment_id":99308934,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/194084/discussion-between-bruno-monteiro-and-jnpw).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/194084/discussion-between-bruno-monteiro-and-jnpw\">continue this discussion in chat</a>."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559096159,"post_id":56350063,"comment_id":99309164,"body_markdown":"@ Bruno Monteiro chat is disabled for me","body":"@ Bruno Monteiro chat is disabled for me"},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559096253,"post_id":56350063,"comment_id":99309174,"body_markdown":"Hmm weird...that was an automated message from StackOverflow. Anyway, I updated the answer again. The fact that you have multiple links change everything. Sorry for the misunderstanding...","body":"Hmm weird...that was an automated message from StackOverflow. Anyway, I updated the answer again. The fact that you have multiple links change everything. Sorry for the misunderstanding..."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559096478,"post_id":56350063,"comment_id":99309203,"body_markdown":"tried the new update, still 1st click its disabled and then it lets you submit again.","body":"tried the new update, still 1st click its disabled and then it lets you submit again."},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559096674,"post_id":56350063,"comment_id":99309249,"body_markdown":"Could you post the final generated HTML? That may help understand the issue.","body":"Could you post the final generated HTML? That may help understand the issue."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559097321,"post_id":56350063,"comment_id":99309374,"body_markdown":"updated with my recent edit. getting error on f12 debug","body":"updated with my recent edit. getting error on f12 debug"},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559097775,"post_id":56350063,"comment_id":99309441,"body_markdown":"Thanks. But do you have the actual HTML code that was generated? I just wanted to check what all those `decoratedVal.append` are generating.","body":"Thanks. But do you have the actual HTML code that was generated? I just wanted to check what all those <code>decoratedVal.append</code> are generating."},{"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"score":0,"creation_date":1559101259,"post_id":56350063,"comment_id":99310057,"body_markdown":"My bad...you can&#39;t update 2 attributes at the same time. I updated the answer again. Hope it helps you :)\nThe change is basically to separate both `setAttribute()` calls.","body":"My bad...you can&#39;t update 2 attributes at the same time. I updated the answer again. Hope it helps you :) The change is basically to separate both <code>setAttribute()</code> calls."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1559132797,"post_id":56350063,"comment_id":99324496,"body_markdown":"@ Bruno Monteiro Updated the code. Doesnt work. getting 400 while i click href","body":"@ Bruno Monteiro Updated the code. Doesnt work. getting 400 while i click href"}],"tags":[],"owner":{"account_id":8066199,"reputation":4213,"user_id":6080254,"display_name":"Bruno Monteiro"},"comment_count":17,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559101178,"creation_date":1559077607,"answer_id":56350063,"question_id":56349867,"body_markdown":"One way is to disable the `&lt;a&gt;` tag when you click on it.\r\n\r\n### Simple solution: ###\r\n\r\nYou could replace this line:\r\n\r\n`decoratedVal.append(&quot;&#39;, 800, 700)\\&quot; title=\\&quot;Pay\\&quot;&gt;Pay&lt;/a&gt;&quot;);`\r\n\r\nwith those:\r\n\r\n```\r\ndecoratedVal.append(&quot;&#39;, 800, 700)\\&quot; title=\\&quot;Pay\\&quot;)\r\ndecoratedVal.append(&quot;onclick=\\&quot;this.setAttribute(&quot;)\r\ndecoratedVal.append(&quot;\\&#39;style\\&#39;, \\&#39;pointer-events:none; cursor:default;\\&#39;); this.setAttribute(&quot;);\r\ndecoratedVal.append(&quot;\\&#39;href\\&#39;, \\&#39;\\&#39;)\\&quot;&gt;Pay&lt;/a&gt;&quot;);\r\n```\r\n\r\nPlease note that the link will be available again on page refresh. If you need another way to activate it, you would need to do it manually.\r\n\r\n### More elegant solution: ###\r\n\r\nIf you have a stylesheet, like a CSS file, you could create this class there:\r\n\r\n    .disabledLink{\r\n        pointer-events: none;\r\n        cursor: default;\r\n    }\r\n\r\nAnd in the `onclick` event of your link tag, replace the `setAttribute` with `addClass(&#39;disabledLink&#39;)`. That also makes it easier to remove, with a `removeClass(&#39;disabledLink&#39;)`\r\n\r\n","title":"disabling hyperlink in displayTag","body":"<p>One way is to disable the <code>&lt;a&gt;</code> tag when you click on it.</p>\n\n<h3>Simple solution:</h3>\n\n<p>You could replace this line:</p>\n\n<p><code>decoratedVal.append(\"', 800, 700)\\\" title=\\\"Pay\\\"&gt;Pay&lt;/a&gt;\");</code></p>\n\n<p>with those:</p>\n\n<pre><code>decoratedVal.append(\"', 800, 700)\\\" title=\\\"Pay\\\")\ndecoratedVal.append(\"onclick=\\\"this.setAttribute(\")\ndecoratedVal.append(\"\\'style\\', \\'pointer-events:none; cursor:default;\\'); this.setAttribute(\");\ndecoratedVal.append(\"\\'href\\', \\'\\')\\\"&gt;Pay&lt;/a&gt;\");\n</code></pre>\n\n<p>Please note that the link will be available again on page refresh. If you need another way to activate it, you would need to do it manually.</p>\n\n<h3>More elegant solution:</h3>\n\n<p>If you have a stylesheet, like a CSS file, you could create this class there:</p>\n\n<pre><code>.disabledLink{\n    pointer-events: none;\n    cursor: default;\n}\n</code></pre>\n\n<p>And in the <code>onclick</code> event of your link tag, replace the <code>setAttribute</code> with <code>addClass('disabledLink')</code>. That also makes it easier to remove, with a <code>removeClass('disabledLink')</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667191595,"post_id":74220176,"comment_id":131104180,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74220176/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":6211001,"reputation":1,"user_id":4837292,"display_name":"Srikanth Jogeswar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666864649,"creation_date":1666864649,"answer_id":74220176,"question_id":56349867,"body_markdown":"try autolink\r\n &lt;display:column autolink=&quot;false&quot;&gt;","title":"disabling hyperlink in displayTag","body":"<p>try autolink\n&lt;display:column autolink=&quot;false&quot;&gt;</p>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688132551,"creation_date":1559076565,"question_id":56349867,"body_markdown":"I am using displayTag table decorator to display my JSP page.\r\n\r\nThe page has a table with columns. One of the columns is Action which has 2 hyperlinks displayed. One is pay and the other is close. Each row will have 5 columns action being the last columns with hyperlinks.\r\n\r\nThis is the action display code in JSP\r\n\r\n    &lt;display-el:column property=&quot;action&quot; sortable=&quot;false&quot; title=&quot; &quot;\r\n    \t\t\t\t\t\t\tclass=&quot;defaultTextCentered&quot; style=&quot;width:6%&quot; sortName=&quot;action&quot; /&gt;\r\n\r\nBelow is my decorator code\r\n\r\n    public String getAction() {\r\n      renderPayLink();\r\n    }\r\n\r\n    private void renderPayLink() {\r\n      decoratedVal.append(&quot;&lt;a href=\\&quot;javascript:newPopup(&#39;&quot;);\r\n      decoratedVal.append(getContextPath());\r\n      decoratedVal.append(&quot;/abc/taxPaymentInternal.html?iSeqNo=&quot;);\r\n      decoratedVal.append(abc.getISeqNumber());\r\n      decoratedVal.append(&quot;&amp;iPeriod=&quot;);\r\n      decoratedVal.append(abc.getIDate());\r\n      decoratedVal.append(&quot;&#39;, 800, 700)\\&quot; title=\\&quot;Pay\\&quot;&gt;Pay&lt;/a&gt;&quot;);\r\n      decoratedVal.append(&quot;&amp;nbsp;&amp;nbsp;&quot;);        \r\n    }\r\n\t\r\nSo the link when clicked will open a popup window and have the user enter couple of details and submit. While this popup is open I can still go to the main browser and click the pay again which refreshes the popup and make me resubmit the info again. I have to stop this happening by disabling the pay button once I click in the browser and then open the popup. How can I achieve this?\r\n\r\nReplaced pay with   \r\n\r\n      decoratedVal.append(&quot;&#39;, 800, 700)\\&quot; title=\\&quot;Pay\\&quot; &quot;);\r\n      decoratedVal.append(&quot;onclick=\\&quot;this.setAttribute(&quot;);\r\n      decoratedVal.append(&quot;\\&#39;style\\&#39;, \\&#39;pointer-events:none; cursor:default;\\&#39;); this.setAttribute(&quot;); \r\n      decoratedVal.append(&quot;\\&#39;href\\&#39;, \\&#39;\\&#39;)\\&quot;&gt;Pay&lt;/a&gt;&quot;);\r\n      decoratedVal.append(&quot;&amp;nbsp;&amp;nbsp;&quot;);\r\n\r\nGetting &quot;Unable to get property &#39;setAttribute&#39; of undefined or null reference&quot; error from f12 debug.\r\n\r\n       &lt;a title=&quot;Pay&quot; onclick=&quot;this.setAttribute(&#39;style&#39;, &#39;pointer-events:none; cursor:default;&#39;); this.setAttribute(&#39;href&#39;, &#39;&#39;)&quot; href=&quot;javascript:newPopup(&#39;/mei/invoicing/launchConfirmPaymentInternal.html?invoiceSeqNo=131946&amp;amp;invoicePeriod=02-11-2017&#39;, 800, 700)&quot;&gt;Pay&lt;/a&gt;","title":"disabling hyperlink in displayTag","body":"<p>I am using displayTag table decorator to display my JSP page.</p>\n<p>The page has a table with columns. One of the columns is Action which has 2 hyperlinks displayed. One is pay and the other is close. Each row will have 5 columns action being the last columns with hyperlinks.</p>\n<p>This is the action display code in JSP</p>\n<pre><code>&lt;display-el:column property=&quot;action&quot; sortable=&quot;false&quot; title=&quot; &quot;\n                            class=&quot;defaultTextCentered&quot; style=&quot;width:6%&quot; sortName=&quot;action&quot; /&gt;\n</code></pre>\n<p>Below is my decorator code</p>\n<pre><code>public String getAction() {\n  renderPayLink();\n}\n\nprivate void renderPayLink() {\n  decoratedVal.append(&quot;&lt;a href=\\&quot;javascript:newPopup('&quot;);\n  decoratedVal.append(getContextPath());\n  decoratedVal.append(&quot;/abc/taxPaymentInternal.html?iSeqNo=&quot;);\n  decoratedVal.append(abc.getISeqNumber());\n  decoratedVal.append(&quot;&amp;iPeriod=&quot;);\n  decoratedVal.append(abc.getIDate());\n  decoratedVal.append(&quot;', 800, 700)\\&quot; title=\\&quot;Pay\\&quot;&gt;Pay&lt;/a&gt;&quot;);\n  decoratedVal.append(&quot;&amp;nbsp;&amp;nbsp;&quot;);        \n}\n</code></pre>\n<p>So the link when clicked will open a popup window and have the user enter couple of details and submit. While this popup is open I can still go to the main browser and click the pay again which refreshes the popup and make me resubmit the info again. I have to stop this happening by disabling the pay button once I click in the browser and then open the popup. How can I achieve this?</p>\n<p>Replaced pay with</p>\n<pre><code>  decoratedVal.append(&quot;', 800, 700)\\&quot; title=\\&quot;Pay\\&quot; &quot;);\n  decoratedVal.append(&quot;onclick=\\&quot;this.setAttribute(&quot;);\n  decoratedVal.append(&quot;\\'style\\', \\'pointer-events:none; cursor:default;\\'); this.setAttribute(&quot;); \n  decoratedVal.append(&quot;\\'href\\', \\'\\')\\&quot;&gt;Pay&lt;/a&gt;&quot;);\n  decoratedVal.append(&quot;&amp;nbsp;&amp;nbsp;&quot;);\n</code></pre>\n<p>Getting &quot;Unable to get property 'setAttribute' of undefined or null reference&quot; error from f12 debug.</p>\n<pre><code>   &lt;a title=&quot;Pay&quot; onclick=&quot;this.setAttribute('style', 'pointer-events:none; cursor:default;'); this.setAttribute('href', '')&quot; href=&quot;javascript:newPopup('/mei/invoicing/launchConfirmPaymentInternal.html?invoiceSeqNo=131946&amp;amp;invoicePeriod=02-11-2017', 800, 700)&quot;&gt;Pay&lt;/a&gt;\n</code></pre>\n"},{"tags":["java","docker","dockerhub","eclipse-temurin"],"answers":[{"tags":[],"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688132104,"creation_date":1688132104,"answer_id":76589421,"question_id":76583837,"body_markdown":"I&#39;ve got the source of confusion.\r\n\r\nJDK and JRE size on the eclipse temurin site specifies the size of compressed files. After unarchiving it will take more place.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSame thing relates to docker [17-jre-jammy image][2] - 90Mb it is compressed size of the image (it is mentioned just above the size). And after image downloading docker always performs extracting.\r\n\r\nSo I was referring to compressed size of docker and JDK/JRE while thinking it should be final size.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vdd0L.jpg\r\n  [2]: https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17-jre-jammy","title":"Why java app docker image based on eclipse-temurin JRE takes 335Mb?","body":"<p>I've got the source of confusion.</p>\n<p>JDK and JRE size on the eclipse temurin site specifies the size of compressed files. After unarchiving it will take more place.</p>\n<p><a href=\"https://i.stack.imgur.com/vdd0L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdd0L.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Same thing relates to docker <a href=\"https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17-jre-jammy\" rel=\"nofollow noreferrer\">17-jre-jammy image</a> - 90Mb it is compressed size of the image (it is mentioned just above the size). And after image downloading docker always performs extracting.</p>\n<p>So I was referring to compressed size of docker and JDK/JRE while thinking it should be final size.</p>\n"}],"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1423,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76589421,"answer_count":1,"score":-1,"last_activity_date":1688132104,"creation_date":1688064235,"question_id":76583837,"body_markdown":"I&#39;m using [temurin 17-jre-jammy docker image](https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17-jre-jammy) as a base and it should take ~90Mb of space. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy app currently takes 74Mb so resulting image must be around 164Mb. But it is 335Mb. \r\n\r\nWhen I&#39;m checking layers on Docker Desktop it says that 17-jre-jammy takes ~190Mb which corresponds with the 17 JDK\r\n[![enter image description here](https://i.stack.imgur.com/U4xL3.jpg)](https://i.stack.imgur.com/U4xL3.jpg)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhy JRE layer takes 190Mb instead of 47?) How to fix that?\r\n\r\nI tried to find sizes of layers for the 17-jre and on the docker hub it is correct: [Image hierarchy eclipse-temurin:17-jre-jammy](https://hub.docker.com/layers/library/eclipse-temurin/17-jre-jammy/images/sha256-55cfa512c57e9365b50c477dcf0026718d8001e91fd333044b084234e1baef72?context=explore)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hfRAZ.jpg\r\n  [2]: https://i.stack.imgur.com/ekEnz.jpg","title":"Why java app docker image based on eclipse-temurin JRE takes 335Mb?","body":"<p>I'm using <a href=\"https://hub.docker.com/_/eclipse-temurin/tags?page=1&amp;name=17-jre-jammy\" rel=\"nofollow noreferrer\">temurin 17-jre-jammy docker image</a> as a base and it should take ~90Mb of space.</p>\n<p><a href=\"https://i.stack.imgur.com/hfRAZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hfRAZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My app currently takes 74Mb so resulting image must be around 164Mb. But it is 335Mb.</p>\n<p>When I'm checking layers on Docker Desktop it says that 17-jre-jammy takes ~190Mb which corresponds with the 17 JDK\n<a href=\"https://i.stack.imgur.com/U4xL3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4xL3.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ekEnz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ekEnz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Why JRE layer takes 190Mb instead of 47?) How to fix that?</p>\n<p>I tried to find sizes of layers for the 17-jre and on the docker hub it is correct: <a href=\"https://hub.docker.com/layers/library/eclipse-temurin/17-jre-jammy/images/sha256-55cfa512c57e9365b50c477dcf0026718d8001e91fd333044b084234e1baef72?context=explore\" rel=\"nofollow noreferrer\">Image hierarchy eclipse-temurin:17-jre-jammy</a></p>\n"},{"tags":["java","sql","jdbc","hsqldb","sql-merge"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688132059,"creation_date":1686560292,"answer_id":76455034,"question_id":76455033,"body_markdown":"I posted [this question](https://sourceforge.net/p/hsqldb/mailman/hsqldb-user/thread/703eeaea-fef9-4ae4-983b-cd36321630c9%40app.fastmail.com) on the hsqldb-user mailing list and got the following response which fixes my issue. Re-posting here since it&#39;s easier to find it here on Stack Overflow\r\n\r\n&gt; it should work if you add a CAST to the required type:\r\n```java\r\n&quot;using (select ? as code, cast(? as timestamp with time zone) as updated from dual) val &quot; +\r\n```\r\n\r\n**Update**\r\n\r\nIt seems that this issue has been fixed and will be available in the next release of HSQLDB\r\n\r\n- https://sourceforge.net/p/hsqldb/feature-requests/362/\r\n- https://sourceforge.net/p/hsqldb/svn/6638/\r\n- https://github.com/ryenus/hsqldb/commit/a7cc02e47f93c5001d804d26f246cba7b2657f11","title":"Merge fails for OffsetDateTime when offset is UTC (+00:00)","body":"<p>I posted <a href=\"https://sourceforge.net/p/hsqldb/mailman/hsqldb-user/thread/703eeaea-fef9-4ae4-983b-cd36321630c9%40app.fastmail.com\" rel=\"nofollow noreferrer\">this question</a> on the hsqldb-user mailing list and got the following response which fixes my issue. Re-posting here since it's easier to find it here on Stack Overflow</p>\n<blockquote>\n<p>it should work if you add a CAST to the required type:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;using (select ? as code, cast(? as timestamp with time zone) as updated from dual) val &quot; +\n</code></pre>\n<p><strong>Update</strong></p>\n<p>It seems that this issue has been fixed and will be available in the next release of HSQLDB</p>\n<ul>\n<li><a href=\"https://sourceforge.net/p/hsqldb/feature-requests/362/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/hsqldb/feature-requests/362/</a></li>\n<li><a href=\"https://sourceforge.net/p/hsqldb/svn/6638/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/hsqldb/svn/6638/</a></li>\n<li><a href=\"https://github.com/ryenus/hsqldb/commit/a7cc02e47f93c5001d804d26f246cba7b2657f11\" rel=\"nofollow noreferrer\">https://github.com/ryenus/hsqldb/commit/a7cc02e47f93c5001d804d26f246cba7b2657f11</a></li>\n</ul>\n"}],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688132059,"creation_date":1686560292,"question_id":76455033,"body_markdown":"I’m having an issue with HSQLDB and MERGE with the following merge logic if I use an OffsetDateTime with offset +00:00\r\n\r\n```java\r\n    private static final String CREATE_TABLE_SQL = \r\n            &quot;create table sample (&quot; + \r\n               &quot;code varchar2(50), &quot; + \r\n               &quot;updated timestamp with time zone&quot; + \r\n            &quot;)&quot;;\r\n\r\n    private static final String MERGE_SQL =\r\n            &quot;merge into sample t &quot; +\r\n            &quot;using (select ? as code, ? as updated from dual) val &quot; +\r\n            &quot;on (t.code = val.code) &quot; +\r\n            &quot;when matched then update set t.updated = val.updated &quot; +\r\n            &quot;when not matched then insert(code, updated) values (val.code, val.updated)&quot;;\r\n\r\n    private int merge(String code, OffsetDateTime updated) throws SQLException {\r\n        try (PreparedStatement statement = connection.prepareStatement(MERGE_SQL)) {\r\n            statement.setString(1, code);\r\n            statement.setObject(2, updated, Types.TIMESTAMP_WITH_TIMEZONE);\r\n            return statement.executeUpdate();\r\n        }\r\n    }\r\n```\r\n\r\nThe merge statement works fine for all offsets except UTC (eg offset +01:00 works)\r\nI think this is caused by the fact that toString() of an OffsetDateTime at UTC has the Z suffix instead of +00:00. It seems that an INSERT statement does not have the same problem as MERGE\r\n\r\nException stack trace\r\n```\r\njava.sql.SQLDataException: data exception: invalid datetime format\r\n            at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n            at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n            at org.hsqldb.jdbc.JDBCPreparedStatement.fetchResult(Unknown Source)\r\n            at org.hsqldb.jdbc.JDBCPreparedStatement.executeUpdate(Unknown Source)\r\n            at com.sample.DeletemeHsqlBugTest.merge(DeletemeHsqlBugTest.java:79)\r\n            at com.sample.DeletemeHsqlBugTest.testMerge(DeletemeHsqlBugTest.java:58)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            ...\r\nCaused by: org.hsqldb.HsqlException: data exception: invalid datetime format\r\n            at org.hsqldb.error.Error.error(Unknown Source)\r\n            at org.hsqldb.error.Error.error(Unknown Source)\r\n            at org.hsqldb.types.DateTimeType.convertToDatetimeSpecial(Unknown Source)\r\n            at org.hsqldb.types.DateTimeType.convertToType(Unknown Source)\r\n            at org.hsqldb.ExpressionOp.getValue(Unknown Source)\r\n            at org.hsqldb.StatementDML.getInsertData(Unknown Source)\r\n            at org.hsqldb.StatementDML.executeMergeStatement(Unknown Source)\r\n            at org.hsqldb.StatementDML.getResult(Unknown Source)\r\n            at org.hsqldb.StatementDMQL.execute(Unknown Source)\r\n            at org.hsqldb.Session.executeCompiledStatement(Unknown Source)\r\n            at org.hsqldb.Session.execute(Unknown Source)\r\n            ... 73 more\r\n```\r\n\r\nAs a workaround I can do the following which feels hacky\r\n\r\n```java\r\n    private static final DateTimeFormatter FORMATTER = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\n            .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)\r\n            .toFormatter();\r\n\r\n    private int merge(String code, OffsetDateTime updated) throws SQLException {\r\n        try (PreparedStatement statement = connection.prepareStatement(MERGE_SQL)) {\r\n            statement.setString(1, code);\r\n            statement.setString(2, FORMATTER.format(updated));\r\n            return statement.executeUpdate();\r\n        }\r\n    }\r\n```","title":"Merge fails for OffsetDateTime when offset is UTC (+00:00)","body":"<p>I’m having an issue with HSQLDB and MERGE with the following merge logic if I use an OffsetDateTime with offset +00:00</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final String CREATE_TABLE_SQL = \n            &quot;create table sample (&quot; + \n               &quot;code varchar2(50), &quot; + \n               &quot;updated timestamp with time zone&quot; + \n            &quot;)&quot;;\n\n    private static final String MERGE_SQL =\n            &quot;merge into sample t &quot; +\n            &quot;using (select ? as code, ? as updated from dual) val &quot; +\n            &quot;on (t.code = val.code) &quot; +\n            &quot;when matched then update set t.updated = val.updated &quot; +\n            &quot;when not matched then insert(code, updated) values (val.code, val.updated)&quot;;\n\n    private int merge(String code, OffsetDateTime updated) throws SQLException {\n        try (PreparedStatement statement = connection.prepareStatement(MERGE_SQL)) {\n            statement.setString(1, code);\n            statement.setObject(2, updated, Types.TIMESTAMP_WITH_TIMEZONE);\n            return statement.executeUpdate();\n        }\n    }\n</code></pre>\n<p>The merge statement works fine for all offsets except UTC (eg offset +01:00 works)\nI think this is caused by the fact that toString() of an OffsetDateTime at UTC has the Z suffix instead of +00:00. It seems that an INSERT statement does not have the same problem as MERGE</p>\n<p>Exception stack trace</p>\n<pre><code>java.sql.SQLDataException: data exception: invalid datetime format\n            at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n            at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n            at org.hsqldb.jdbc.JDBCPreparedStatement.fetchResult(Unknown Source)\n            at org.hsqldb.jdbc.JDBCPreparedStatement.executeUpdate(Unknown Source)\n            at com.sample.DeletemeHsqlBugTest.merge(DeletemeHsqlBugTest.java:79)\n            at com.sample.DeletemeHsqlBugTest.testMerge(DeletemeHsqlBugTest.java:58)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            ...\nCaused by: org.hsqldb.HsqlException: data exception: invalid datetime format\n            at org.hsqldb.error.Error.error(Unknown Source)\n            at org.hsqldb.error.Error.error(Unknown Source)\n            at org.hsqldb.types.DateTimeType.convertToDatetimeSpecial(Unknown Source)\n            at org.hsqldb.types.DateTimeType.convertToType(Unknown Source)\n            at org.hsqldb.ExpressionOp.getValue(Unknown Source)\n            at org.hsqldb.StatementDML.getInsertData(Unknown Source)\n            at org.hsqldb.StatementDML.executeMergeStatement(Unknown Source)\n            at org.hsqldb.StatementDML.getResult(Unknown Source)\n            at org.hsqldb.StatementDMQL.execute(Unknown Source)\n            at org.hsqldb.Session.executeCompiledStatement(Unknown Source)\n            at org.hsqldb.Session.execute(Unknown Source)\n            ... 73 more\n</code></pre>\n<p>As a workaround I can do the following which feels hacky</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final DateTimeFormatter FORMATTER = new DateTimeFormatterBuilder()\n            .appendPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\n            .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)\n            .toFormatter();\n\n    private int merge(String code, OffsetDateTime updated) throws SQLException {\n        try (PreparedStatement statement = connection.prepareStatement(MERGE_SQL)) {\n            statement.setString(1, code);\n            statement.setString(2, FORMATTER.format(updated));\n            return statement.executeUpdate();\n        }\n    }\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1688132026,"post_id":76587888,"comment_id":135036912,"body_markdown":"1) When first creating the frame you should add all components to the frame before making it visible. You have two setVisible() statements. Get rid of the first one. 2) When adding components dynamically to a visible frame you need to invoke `revalidate()` and `repaint()` on the panel you add the component to. 3) `Don&#39;t use a null layout`. Don&#39;t use setBounds() Swing was designed to be used with layout managers.","body":"1) When first creating the frame you should add all components to the frame before making it visible. You have two setVisible() statements. Get rid of the first one. 2) When adding components dynamically to a visible frame you need to invoke <code>revalidate()</code> and <code>repaint()</code> on the panel you add the component to. 3) <code>Don&#39;t use a null layout</code>. Don&#39;t use setBounds() Swing was designed to be used with layout managers."}],"owner":{"account_id":26986666,"reputation":1,"user_id":20550217,"display_name":"Ryan Guard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688132041,"creation_date":1688119062,"question_id":76587888,"body_markdown":"My JLabel will not show immediately after I press the button until I resize the frame I think i have put frame.setVisible(true) in the right place I have looked at similar post and everyone has said the same thing about setvisible and to put it at the end have i put it in the right place can anyone help \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n     import java.awt.*;\r\n     import java.awt.event.*;\r\n\r\n     import javax.swing.JButton;\r\n     import javax.swing.JFrame;\r\n     import javax.swing.JLabel;\r\n     import javax.swing.JPanel;\r\n     import javax.swing.JPasswordField;\r\n     import javax.swing.JTextField;\r\n     import javax.swing.plaf.basic.BasicButtonListener;\r\n     import javax.swing.*;\r\n     import java.awt.event.ActionEvent;\r\n     import java.awt.event.ActionListener;\r\n     import javax.swing.JButton;\r\n     import javax.swing.JFrame;\r\n     import javax.swing.JLabel;\r\n     import javax.swing.JTextField;\r\n\r\n\r\n\r\n\r\n    public class GUI_login implements ActionListener{\r\n\t\r\n\tprivate static JLabel label;\r\n\tprivate static JTextField userText;\r\n\tprivate static JLabel passwordLabel;\r\n\tprivate static JPasswordField passwordText;\r\n\tpublic static JButton button;\r\n\tprivate static JLabel success;\r\n\tprivate static JFrame frame;\r\n\tprivate static JPanel panel;\r\n\tprivate static JTextField search ;\r\n\tprivate static JFrame frame2;\r\n\tprivate static JTextField heightw1;\r\n\tprivate static JTextField Weightw1;\r\n\tprivate static JPanel panel2;\r\n\tpublic JButton Done;\r\n\tpublic static JTextField diff;\r\n\tpublic JPanel f;\r\n\t\r\n\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tpanel = new JPanel();\r\n\t\tpanel.setBackground(Color.cyan);\r\n\t\tframe = new JFrame(&quot;&quot;);\r\n\t\tframe.setSize(500,500);\r\n\t\tframe.add(panel);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\r\n\t\tpanel.setLayout(null);\r\n\t\t\t\r\n\t\tlabel = new JLabel(&quot;Username&quot;);\r\n\t\tlabel.setBounds(525, 250, 70, 20);\r\n\t\tpanel.add(label); \r\n\t\t\r\n\t\tuserText = new JTextField();\r\n\t\tuserText.setBounds(525, 270, 193, 28);\r\n\t\tpanel.add(userText);\r\n\t\t\r\n\t\tpasswordLabel = new JLabel(&quot;Password&quot;);\r\n\t\tpasswordLabel.setBounds(525, 300, 70, 20);\r\n\t\tpanel.add(passwordLabel);\r\n\t\t\r\n\t\tpasswordText = new JPasswordField();\r\n\t\tpasswordText.setBounds(525, 320, 193, 28);\r\n\t\tpanel.add(passwordText);\r\n\t\t\r\n\t\tbutton = new JButton(&quot;Login&quot;);\r\n\t\tbutton.setBounds(575, 350, 90, 25);\r\n\t\tbutton.setForeground(Color.WHITE);\r\n\t\tbutton.setBackground(Color.BLACK);\r\n\t\tbutton.addActionListener(new GUI_login());\r\n\t\tpanel.add(button);\r\n\t\t\r\n\t\tsuccess = new JLabel(&quot;&quot;);\r\n\t\tsuccess.setBounds(10, 110, 300,25);\r\n\t\tpanel.add(success);\r\n\t\t\r\n\t\t\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n\tvoid JavaExamples() {\r\n\t\tpanel.setVisible(false);\r\n        JPanel f = new JPanel();\r\n        f.setBackground(Color.cyan);\r\n        f.setBounds(0,0,1400,700);\r\n        f.setLayout(null);\r\n        frame.add(f);\r\n \r\n        JLabel lb1 = new JLabel(&quot;Height(Inches):&quot;);\r\n        lb1.setBounds(20, 20, 100, 40);//x axis, y axis, width, height\r\n        f.add(lb1); //adding component in JFrame\r\n \r\n        JLabel lb2 = new JLabel(&quot;Weight(Pounds):&quot;);\r\n        lb2.setBounds(20, 60, 100, 40);//x axis, y axis, width, height\r\n        f.add(lb2); //adding component in JFrame \r\n        \r\n        JLabel lbResult = new JLabel(&quot;BMI Calculator in JAVA GUI&quot;);\r\n        lbResult.setBounds(20, 90, 300, 40);//x axis, y axis, width, height\r\n        f.add(lbResult); //adding component in JFrame \r\n        \r\n        JTextField txtHeight = new JTextField(&quot;&quot;);\r\n        txtHeight.setBounds(120, 20, 200, 40);//x axis, y axis, width, height\r\n        f.add(txtHeight); //adding component in JFrame \r\n \r\n        JTextField txtWeight = new JTextField(&quot;&quot;);\r\n        txtWeight.setBounds(120, 60, 200, 40);//x axis, y axis, width, height\r\n        f.add(txtWeight); //adding component in JFrame \r\n \r\n        JButton btn = new JButton(&quot;BMI Calculator in JAVA GUI(CALCULATE)&quot;);//creating instance of JButton  \r\n        btn.setBounds(20, 130, 300, 40);//x axis, y axis, width, height\r\n        \r\n        //Event\r\n        btn.addActionListener(new ActionListener(){\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                \r\n                double weight=Double.parseDouble(txtWeight.getText());\r\n                double height=Double.parseDouble(txtHeight.getText());\r\n                \r\n                double bmi = weight / Math.pow(height, 2) * 703;\r\n \r\n                 if (bmi &lt; 18.5) {\r\n                     lbResult.setText(&quot;underweight - BMI : &quot;+bmi);\r\n                 } else if (bmi &lt; 25) {\r\n                     lbResult.setText(&quot;normal - BMI : &quot;+bmi);\r\n                 } else if (bmi &lt; 30) {\r\n                     lbResult.setText(&quot;overweight - BMI : &quot;+bmi);\r\n                 } else {\r\n                     lbResult.setText(&quot;obese - BMI : &quot;+bmi);\r\n                     JLabel ob = new JLabel(&quot;NutriGYM&quot;);\r\n                     ob.setBounds(600, 0, 100, 25);\r\n                     f.add(ob);\r\n                 }\r\n            }\r\n        });\r\n        \r\n        JTextField Weighttxt = new JTextField();\r\n        Weighttxt.setBounds(525, 300, 200, 25);\r\n        f.add(Weighttxt);\r\n        \r\n        JTextField wweighttxt = new JTextField();\r\n        wweighttxt.setBounds(525, 250, 200, 25);\r\n        f.add(wweighttxt);\r\n        \r\n        JLabel W = new JLabel(&quot;Weight Wanted&quot;);\r\n        W.setBounds(525, 275, 100, 25);\r\n        f.add(W);\r\n        \r\n        JLabel H = new JLabel(&quot;Weight&quot;);\r\n        H.setBounds(525, 225, 100, 25);\r\n        f.add(H);\r\n        \r\n\t\tJButton button1 = new JButton(&quot;Done&quot;);\r\n\t\tbutton1.setBounds(575, 325, 90, 25);\r\n\t\tbutton1.setForeground(Color.WHITE);\r\n\t\tbutton1.setBackground(Color.BLACK);\r\n\t\tf.add(button1);\r\n\t\t\r\n\t\tbutton1.addActionListener(new ActionListener() {\r\n\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\t\t\t\t\r\n\t\t\t\tint one = Integer.parseInt(wweighttxt.getText());\r\n\t\t\t\tint two = Integer.parseInt(Weighttxt.getText());\r\n\t\t\t\t\r\n\t\t\t\tint total = (two - one);\r\n\t\t\t\t\r\n\t\t\t\tif(total&gt;0) {\r\n\t\t\t\t\tString diff = Integer.toString(total);\r\n\t\t\t\t\tJLabel yes = new JLabel(diff);\r\n\t\t\t\t\tyes.setBounds(600,50,100,25);\r\n\t\t\t\t\tf.add(yes);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tString diff = Integer.toString(total);\r\n\t\t\t\t\tJLabel yes1 = new JLabel(diff);\r\n\t\t\t\t\tyes1.setBounds(600,50,100,25);\r\n\t\t\t\t\tf.add(yes1);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t});\r\n \r\n        f.add(btn);//adding button in JFrame  \r\n        f.setLayout(null);\r\n        f.setVisible(true);\r\n\r\n \r\n        \r\n        \r\n    }\r\n\r\n\r\n\t\t\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tint count1 = 0;\r\n\t\tSystem.out.println(&quot;button clicked&quot;);\r\n\t\tString user = userText.getText();\r\n\t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t\tString password = passwordText.getText();\r\n\t\tSystem.out.println(user + &quot;, &quot; + password);\r\n\t\tint count = 0;\r\n\t\tdo {\r\n\t\t\tif(user.equals(&quot;&quot;) &amp;&amp; password.equals(&quot;&quot;)) {\r\n\t\t\t\t JavaExamples();\r\n\t\t\t\t    \r\n\t\t\t\t \r\n\t\t\t\t\r\n\t\t\t\tcount = 1;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t} else { \r\n\t\t\tsuccess.setText(&quot;login Failed&quot;);\r\n\t\t\tcount1 = count1 + 1;\r\n\t\t}\r\n\t\t} while(count == 0);\r\n\t\t\r\n\t\t\r\n\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t}\r\n\r\n\tprivate LayoutManager BoxLayout() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n}\r\n\t\r\n\t\t\r\n\r\n\r\n\t\t\r\n\r\n\t\r\n ","title":"components only show after I resize the frame","body":"<p>My JLabel will not show immediately after I press the button until I resize the frame I think i have put frame.setVisible(true) in the right place I have looked at similar post and everyone has said the same thing about setvisible and to put it at the end have i put it in the right place can anyone help</p>\n<pre><code> import java.awt.*;\n import java.awt.event.*;\n\n import javax.swing.JButton;\n import javax.swing.JFrame;\n import javax.swing.JLabel;\n import javax.swing.JPanel;\n import javax.swing.JPasswordField;\n import javax.swing.JTextField;\n import javax.swing.plaf.basic.BasicButtonListener;\n import javax.swing.*;\n import java.awt.event.ActionEvent;\n import java.awt.event.ActionListener;\n import javax.swing.JButton;\n import javax.swing.JFrame;\n import javax.swing.JLabel;\n import javax.swing.JTextField;\n\n\n\n\npublic class GUI_login implements ActionListener{\n\nprivate static JLabel label;\nprivate static JTextField userText;\nprivate static JLabel passwordLabel;\nprivate static JPasswordField passwordText;\npublic static JButton button;\nprivate static JLabel success;\nprivate static JFrame frame;\nprivate static JPanel panel;\nprivate static JTextField search ;\nprivate static JFrame frame2;\nprivate static JTextField heightw1;\nprivate static JTextField Weightw1;\nprivate static JPanel panel2;\npublic JButton Done;\npublic static JTextField diff;\npublic JPanel f;\n\n\n\n\npublic static void main(String[] args) {\n    \n    panel = new JPanel();\n    panel.setBackground(Color.cyan);\n    frame = new JFrame(&quot;&quot;);\n    frame.setSize(500,500);\n    frame.add(panel);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n\n    panel.setLayout(null);\n        \n    label = new JLabel(&quot;Username&quot;);\n    label.setBounds(525, 250, 70, 20);\n    panel.add(label); \n    \n    userText = new JTextField();\n    userText.setBounds(525, 270, 193, 28);\n    panel.add(userText);\n    \n    passwordLabel = new JLabel(&quot;Password&quot;);\n    passwordLabel.setBounds(525, 300, 70, 20);\n    panel.add(passwordLabel);\n    \n    passwordText = new JPasswordField();\n    passwordText.setBounds(525, 320, 193, 28);\n    panel.add(passwordText);\n    \n    button = new JButton(&quot;Login&quot;);\n    button.setBounds(575, 350, 90, 25);\n    button.setForeground(Color.WHITE);\n    button.setBackground(Color.BLACK);\n    button.addActionListener(new GUI_login());\n    panel.add(button);\n    \n    success = new JLabel(&quot;&quot;);\n    success.setBounds(10, 110, 300,25);\n    panel.add(success);\n    \n    \n    frame.setVisible(true);\n}\n\nvoid JavaExamples() {\n    panel.setVisible(false);\n    JPanel f = new JPanel();\n    f.setBackground(Color.cyan);\n    f.setBounds(0,0,1400,700);\n    f.setLayout(null);\n    frame.add(f);\n\n    JLabel lb1 = new JLabel(&quot;Height(Inches):&quot;);\n    lb1.setBounds(20, 20, 100, 40);//x axis, y axis, width, height\n    f.add(lb1); //adding component in JFrame\n\n    JLabel lb2 = new JLabel(&quot;Weight(Pounds):&quot;);\n    lb2.setBounds(20, 60, 100, 40);//x axis, y axis, width, height\n    f.add(lb2); //adding component in JFrame \n    \n    JLabel lbResult = new JLabel(&quot;BMI Calculator in JAVA GUI&quot;);\n    lbResult.setBounds(20, 90, 300, 40);//x axis, y axis, width, height\n    f.add(lbResult); //adding component in JFrame \n    \n    JTextField txtHeight = new JTextField(&quot;&quot;);\n    txtHeight.setBounds(120, 20, 200, 40);//x axis, y axis, width, height\n    f.add(txtHeight); //adding component in JFrame \n\n    JTextField txtWeight = new JTextField(&quot;&quot;);\n    txtWeight.setBounds(120, 60, 200, 40);//x axis, y axis, width, height\n    f.add(txtWeight); //adding component in JFrame \n\n    JButton btn = new JButton(&quot;BMI Calculator in JAVA GUI(CALCULATE)&quot;);//creating instance of JButton  \n    btn.setBounds(20, 130, 300, 40);//x axis, y axis, width, height\n    \n    //Event\n    btn.addActionListener(new ActionListener(){\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            \n            double weight=Double.parseDouble(txtWeight.getText());\n            double height=Double.parseDouble(txtHeight.getText());\n            \n            double bmi = weight / Math.pow(height, 2) * 703;\n\n             if (bmi &lt; 18.5) {\n                 lbResult.setText(&quot;underweight - BMI : &quot;+bmi);\n             } else if (bmi &lt; 25) {\n                 lbResult.setText(&quot;normal - BMI : &quot;+bmi);\n             } else if (bmi &lt; 30) {\n                 lbResult.setText(&quot;overweight - BMI : &quot;+bmi);\n             } else {\n                 lbResult.setText(&quot;obese - BMI : &quot;+bmi);\n                 JLabel ob = new JLabel(&quot;NutriGYM&quot;);\n                 ob.setBounds(600, 0, 100, 25);\n                 f.add(ob);\n             }\n        }\n    });\n    \n    JTextField Weighttxt = new JTextField();\n    Weighttxt.setBounds(525, 300, 200, 25);\n    f.add(Weighttxt);\n    \n    JTextField wweighttxt = new JTextField();\n    wweighttxt.setBounds(525, 250, 200, 25);\n    f.add(wweighttxt);\n    \n    JLabel W = new JLabel(&quot;Weight Wanted&quot;);\n    W.setBounds(525, 275, 100, 25);\n    f.add(W);\n    \n    JLabel H = new JLabel(&quot;Weight&quot;);\n    H.setBounds(525, 225, 100, 25);\n    f.add(H);\n    \n    JButton button1 = new JButton(&quot;Done&quot;);\n    button1.setBounds(575, 325, 90, 25);\n    button1.setForeground(Color.WHITE);\n    button1.setBackground(Color.BLACK);\n    f.add(button1);\n    \n    button1.addActionListener(new ActionListener() {\n    \n        @Override\n        public void actionPerformed(ActionEvent e) {                \n            int one = Integer.parseInt(wweighttxt.getText());\n            int two = Integer.parseInt(Weighttxt.getText());\n            \n            int total = (two - one);\n            \n            if(total&gt;0) {\n                String diff = Integer.toString(total);\n                JLabel yes = new JLabel(diff);\n                yes.setBounds(600,50,100,25);\n                f.add(yes);\n            } else {\n                String diff = Integer.toString(total);\n                JLabel yes1 = new JLabel(diff);\n                yes1.setBounds(600,50,100,25);\n                f.add(yes1);\n            }\n            \n            \n        }\n    \n    });\n\n    f.add(btn);//adding button in JFrame  \n    f.setLayout(null);\n    f.setVisible(true);\n\n\n    \n    \n}\n\n\n    \n\npublic void actionPerformed(ActionEvent e) {\n    int count1 = 0;\n    System.out.println(&quot;button clicked&quot;);\n    String user = userText.getText();\n    @SuppressWarnings(&quot;deprecation&quot;)\n    String password = passwordText.getText();\n    System.out.println(user + &quot;, &quot; + password);\n    int count = 0;\n    do {\n        if(user.equals(&quot;&quot;) &amp;&amp; password.equals(&quot;&quot;)) {\n             JavaExamples();\n                \n             \n            \n            count = 1;\n            \n            \n        \n    } else { \n        success.setText(&quot;login Failed&quot;);\n        count1 = count1 + 1;\n    }\n    } while(count == 0);\n    \n    \n\n    \n    \n    \n    }\n\nprivate LayoutManager BoxLayout() {\n    // TODO Auto-generated method stub\n    return null;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1688132602,"post_id":76589411,"comment_id":135037045,"body_markdown":"*if instead I try with the same instruction to instantiate an object of that class within a project I&#39;m doing with some of my friends,* - well the posted code doesn&#39;t show how you do that. I would guess the code is blocking the `Event Dispatch Thread (EDT)` and preventing the frame from painting itself. Maybe you have looping code that never finishes executing? Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information.","body":"<i>if instead I try with the same instruction to instantiate an object of that class within a project I&#39;m doing with some of my friends,</i> - well the posted code doesn&#39;t show how you do that. I would guess the code is blocking the <code>Event Dispatch Thread (EDT)</code> and preventing the frame from painting itself. Maybe you have looping code that never finishes executing? Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1688134448,"post_id":76589411,"comment_id":135037391,"body_markdown":"I&#39;d never thought of putting a `JLabel` inside of a `JScrollPane`.  I think a `JTextArea` or `JTextPane` might be the Swing component you&#39;re looking for.","body":"I&#39;d never thought of putting a <code>JLabel</code> inside of a <code>JScrollPane</code>.  I think a <code>JTextArea</code> or <code>JTextPane</code> might be the Swing component you&#39;re looking for."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688136359,"post_id":76589411,"comment_id":135037814,"body_markdown":"Really there should only be one `JFrame` per app, so you wouldn&#39;t normally be creating a `JFrame` from another anyway. If you want &#39;another information window&#39; you should be probably creating a `JDialog` or even `JOptionPane`. You should really create all the functionality you want based upon a `JPanel` then you can put that panel anywhere and in any type of window","body":"Really there should only be one <code>JFrame</code> per app, so you wouldn&#39;t normally be creating a <code>JFrame</code> from another anyway. If you want &#39;another information window&#39; you should be probably creating a <code>JDialog</code> or even <code>JOptionPane</code>. You should really create all the functionality you want based upon a <code>JPanel</code> then you can put that panel anywhere and in any type of window"}],"owner":{"account_id":18088082,"reputation":53,"user_id":13148476,"display_name":"Antonio Pio Mennuni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688132039,"creation_date":1688132039,"question_id":76589411,"body_markdown":"I&#39;m an IT student, I&#39;ve recently been using Swing in Java, I tried to create a very simple class that extends JFrame, which takes a String in the constructor and adds the contents of the string inside a JLabel, contained in turn in the JFrame, \r\n\r\n    public class DocumentFrame extends JFrame {\r\n\r\n       private JLabel textLabel;\r\n       private JScrollPane scrollPane;\r\n    \r\n       public DocumentFrame(String title, String text) {\r\n          super(title);\r\n          setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          setSize(900,500);         \r\n          setLayout(new BorderLayout());\r\n          setLocationRelativeTo(null);\r\n          getContentPane().setBackground(Color.BLACK);\r\n\r\n          String processText = text.replaceAll(&quot;[.;]&quot;, &quot;$0&lt;br&gt;&quot;);\r\n        \r\n          textLabel = new JLabel(&quot;&lt;html&gt;&quot;+processText+&quot;&lt;/html&gt;&quot;);\r\n          textLabel.setHorizontalAlignment(JLabel.LEFT);\r\n          textLabel.setVerticalAlignment(JLabel.TOP);\r\n          textLabel.setForeground(Color.WHITE);\r\n\r\n          JScrollPane scrollPane = new JScrollPane(textLabel);\r\n          add(scrollPane, BorderLayout.CENTER);    \r\n          pack();\r\n          setVisible(true);\r\n       }\r\n    }\r\nIf I try to instantiate an object of this class inside the main method where I created the class itself, everything is fine, the frame is displayed correctly; \r\nif instead I try with the same instruction to instantiate an object of that class within a project I&#39;m doing with some of my friends, I don&#39;t know why the frame appears, but it&#39;s all &quot;buggated&quot;,\r\nthe image is not displayed, the X key at the top right of the frame does not work, to close the frame I would have to finish the execution of the program manually.\r\n\r\nThis is what I do in the main method contained in the class itself\r\n\r\n    public static void main(String[] args) {\r\n       String text = &quot;I put a long text&quot;;\r\n       new DocumentFrame(&quot;title frame&quot;, text);\r\n    }\r\nand that&#39;s fine, if I do this from another part of my project it doesn&#39;t work.","title":"Problem with displaying JFrame objects in Java","body":"<p>I'm an IT student, I've recently been using Swing in Java, I tried to create a very simple class that extends JFrame, which takes a String in the constructor and adds the contents of the string inside a JLabel, contained in turn in the JFrame,</p>\n<pre><code>public class DocumentFrame extends JFrame {\n\n   private JLabel textLabel;\n   private JScrollPane scrollPane;\n\n   public DocumentFrame(String title, String text) {\n      super(title);\n      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      setSize(900,500);         \n      setLayout(new BorderLayout());\n      setLocationRelativeTo(null);\n      getContentPane().setBackground(Color.BLACK);\n\n      String processText = text.replaceAll(&quot;[.;]&quot;, &quot;$0&lt;br&gt;&quot;);\n    \n      textLabel = new JLabel(&quot;&lt;html&gt;&quot;+processText+&quot;&lt;/html&gt;&quot;);\n      textLabel.setHorizontalAlignment(JLabel.LEFT);\n      textLabel.setVerticalAlignment(JLabel.TOP);\n      textLabel.setForeground(Color.WHITE);\n\n      JScrollPane scrollPane = new JScrollPane(textLabel);\n      add(scrollPane, BorderLayout.CENTER);    \n      pack();\n      setVisible(true);\n   }\n}\n</code></pre>\n<p>If I try to instantiate an object of this class inside the main method where I created the class itself, everything is fine, the frame is displayed correctly;\nif instead I try with the same instruction to instantiate an object of that class within a project I'm doing with some of my friends, I don't know why the frame appears, but it's all &quot;buggated&quot;,\nthe image is not displayed, the X key at the top right of the frame does not work, to close the frame I would have to finish the execution of the program manually.</p>\n<p>This is what I do in the main method contained in the class itself</p>\n<pre><code>public static void main(String[] args) {\n   String text = &quot;I put a long text&quot;;\n   new DocumentFrame(&quot;title frame&quot;, text);\n}\n</code></pre>\n<p>and that's fine, if I do this from another part of my project it doesn't work.</p>\n"},{"tags":["java","kubernetes","heap-memory"],"comments":[{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1664816692,"post_id":69320925,"comment_id":130552777,"body_markdown":"FWIW I&#39;ve deleted all of these in our code and running on relatively modern versions of k8s (as of writing I think it&#39;s 1.21 or 1.22) I haven&#39;t had to think about these flags..","body":"FWIW I&#39;ve deleted all of these in our code and running on relatively modern versions of k8s (as of writing I think it&#39;s 1.21 or 1.22) I haven&#39;t had to think about these flags.."}],"answers":[{"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":6,"creation_date":1632582941,"post_id":69321233,"comment_id":122534671,"body_markdown":"(Note that &quot;current JREs&quot; includes ~2-year-old builds of old JREs like OpenJDK 8; if your base infrastructure is updated routinely then you should have support to automatically determine the heap size based on resource limits.)","body":"(Note that &quot;current JREs&quot; includes ~2-year-old builds of old JREs like OpenJDK 8; if your base infrastructure is updated routinely then you should have support to automatically determine the heap size based on resource limits.)"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1632748645,"post_id":69321233,"comment_id":122569529,"body_markdown":"Ok thanks!  I will check out our current JDK in the cloud.","body":"Ok thanks!  I will check out our current JDK in the cloud."}],"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632518606,"creation_date":1632518606,"answer_id":69321233,"question_id":69320925,"body_markdown":"If you don&#39;t set a maximum heap size the behavior depends on the java version used. Current JREs support determining the container limits and use that to guide their internal heuristics.\r\n\r\nwhen running with an older version the memory to be used for the heap will be determined based on the physical memory visible to the container, which might be excessive.\r\n\r\nNote that hitting the memory limit of the container will lead to killing the process and restarting the container.\r\n\r\nI suggest you use a sane value, as determined from operational testing, for Xmx and Xms to get a stable memory usage.","title":"Should we set -Xmx (max java heap size) in a kubernetes container","body":"<p>If you don't set a maximum heap size the behavior depends on the java version used. Current JREs support determining the container limits and use that to guide their internal heuristics.</p>\n<p>when running with an older version the memory to be used for the heap will be determined based on the physical memory visible to the container, which might be excessive.</p>\n<p>Note that hitting the memory limit of the container will lead to killing the process and restarting the container.</p>\n<p>I suggest you use a sane value, as determined from operational testing, for Xmx and Xms to get a stable memory usage.</p>\n"},{"comments":[{"owner":{"account_id":1431678,"reputation":348,"user_id":1353966,"accept_rate":40,"display_name":"DanielSP"},"score":0,"creation_date":1695750979,"post_id":76589401,"comment_id":136065381,"body_markdown":"totally disagree: what is the point to have a dynamic heap size in a container environment? The memory is already compromised. IMHO, you should always set and use a XMS and XMX equals values for you container, since you have no benefit at all with the JVM resizing your heap memory.","body":"totally disagree: what is the point to have a dynamic heap size in a container environment? The memory is already compromised. IMHO, you should always set and use a XMS and XMX equals values for you container, since you have no benefit at all with the JVM resizing your heap memory."},{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":0,"creation_date":1696337606,"post_id":76589401,"comment_id":136137532,"body_markdown":"No, it is not dynamic. This way you just don&#39;t need to specify memory limits twice, once for the container and once for the Java app. Otherwise, someone can keep increasing container memory and wonder why it doesn&#39;t help his app.\nIt is very cumbersome if you want to use a larger pod and you also need to fidle with this param in some completely different place.","body":"No, it is not dynamic. This way you just don&#39;t need to specify memory limits twice, once for the container and once for the Java app. Otherwise, someone can keep increasing container memory and wonder why it doesn&#39;t help his app. It is very cumbersome if you want to use a larger pod and you also need to fidle with this param in some completely different place."},{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":0,"creation_date":1696337705,"post_id":76589401,"comment_id":136137552,"body_markdown":"You probably didn&#39;t understand the concept.","body":"You probably didn&#39;t understand the concept."},{"owner":{"account_id":1431678,"reputation":348,"user_id":1353966,"accept_rate":40,"display_name":"DanielSP"},"score":0,"creation_date":1696427999,"post_id":76589401,"comment_id":136151701,"body_markdown":"uhm, now I got why you are saying that. When you said that &quot;someone can keep increasing container memory and wonder why it doesn&#39;t help his app&quot;, IMHO (again), this is typical example of a service that is not well designed to run on a container enviroment. For me, all services must be deployed and run with predictable resource management: if you need to deal with increase load, you should start new (stateless) instances, instead of increase you container memory usage. Ask for any SRE engineer, if they would approve an app that you have to monitor and increase  memory allocation on demand.","body":"uhm, now I got why you are saying that. When you said that &quot;someone can keep increasing container memory and wonder why it doesn&#39;t help his app&quot;, IMHO (again), this is typical example of a service that is not well designed to run on a container enviroment. For me, all services must be deployed and run with predictable resource management: if you need to deal with increase load, you should start new (stateless) instances, instead of increase you container memory usage. Ask for any SRE engineer, if they would approve an app that you have to monitor and increase  memory allocation on demand."}],"tags":[],"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688131955,"creation_date":1688131955,"answer_id":76589401,"question_id":69320925,"body_markdown":"Since Java 10 and Java 8u191 there should be quite good support for Java determining actual memory available in the container. It&#39;s not necessary to use `-Xmx` anymore. It&#39;s recommended to use `XX:MaxRAMPercentage` with a value ranging between 75.0 and 80.0 (e.g. `XX:MaxRAMPercentage=75.0`)\r\n\r\nSources:  \r\nhttps://www.atamanroman.dev/development/2019/09/11/usecontainersupport-to-the-rescue.html \r\nhttps://pretius.com/blog/jvm-kubernetes/\r\n","title":"Should we set -Xmx (max java heap size) in a kubernetes container","body":"<p>Since Java 10 and Java 8u191 there should be quite good support for Java determining actual memory available in the container. It's not necessary to use <code>-Xmx</code> anymore. It's recommended to use <code>XX:MaxRAMPercentage</code> with a value ranging between 75.0 and 80.0 (e.g. <code>XX:MaxRAMPercentage=75.0</code>)</p>\n<p>Sources:<br />\n<a href=\"https://www.atamanroman.dev/development/2019/09/11/usecontainersupport-to-the-rescue.html\" rel=\"nofollow noreferrer\">https://www.atamanroman.dev/development/2019/09/11/usecontainersupport-to-the-rescue.html</a>\n<a href=\"https://pretius.com/blog/jvm-kubernetes/\" rel=\"nofollow noreferrer\">https://pretius.com/blog/jvm-kubernetes/</a></p>\n"}],"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8707,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":69321233,"answer_count":2,"score":8,"last_activity_date":1688131955,"creation_date":1632516235,"question_id":69320925,"body_markdown":"## TLDR;\r\nWhy bother settings `-Xmx` and `-Xms` in a kubernetes app?\r\n\r\n---\r\n\r\nWe&#39;ve inherited a kubernetes app that is having out of memory errors.  It looks like the initial devs set kubernetes resource limits (.95 CPU core and 4Gb memory) as shown below.  However, they also set the max heap size in `JAVA_OPTS -Xmx` to 800mb.  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI&#39;ve found lots of good material on best settings for `-Xmx` (eg [this one][2]), but can&#39;t find a straight answer to the following question: do we really need to set `-Xmx` (and less importantly, `-Xms`) in a kubernetes container?  We&#39;ve already set hard limits on the container \r\n`resources`, so what is the point to setting these flags?  If we removed them altogether, what would the consequence be?  Would the app GC more often?  Would it scale heap size dynamically or would heap size max be fixed at some default maxium like 256MB?  Is there any rule of thumb of setting `-Xmx` in proportion to kubernets containers?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/szv9K.png\r\n  [2]: https://akobor.me/posts/heap-size-and-resource-limits-in-kubernetes-for-jvm-applications","title":"Should we set -Xmx (max java heap size) in a kubernetes container","body":"<h2>TLDR;</h2>\n<p>Why bother settings <code>-Xmx</code> and <code>-Xms</code> in a kubernetes app?</p>\n<hr />\n<p>We've inherited a kubernetes app that is having out of memory errors.  It looks like the initial devs set kubernetes resource limits (.95 CPU core and 4Gb memory) as shown below.  However, they also set the max heap size in <code>JAVA_OPTS -Xmx</code> to 800mb.</p>\n<p><a href=\"https://i.stack.imgur.com/szv9K.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/szv9K.png\" alt=\"enter image description here\" /></a></p>\n<p>I've found lots of good material on best settings for <code>-Xmx</code> (eg <a href=\"https://akobor.me/posts/heap-size-and-resource-limits-in-kubernetes-for-jvm-applications\" rel=\"noreferrer\">this one</a>), but can't find a straight answer to the following question: do we really need to set <code>-Xmx</code> (and less importantly, <code>-Xms</code>) in a kubernetes container?  We've already set hard limits on the container\n<code>resources</code>, so what is the point to setting these flags?  If we removed them altogether, what would the consequence be?  Would the app GC more often?  Would it scale heap size dynamically or would heap size max be fixed at some default maxium like 256MB?  Is there any rule of thumb of setting <code>-Xmx</code> in proportion to kubernets containers?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688132143,"post_id":76589391,"comment_id":135036945,"body_markdown":"Error seems pretty clear. Your device doesn&#39;t have a phone number.","body":"Error seems pretty clear. Your device doesn&#39;t have a phone number."},{"owner":{"account_id":8725221,"reputation":578,"user_id":6527039,"accept_rate":80,"display_name":"Liya"},"score":0,"creation_date":1688132202,"post_id":76589391,"comment_id":135036959,"body_markdown":"@Jorn no device has phone number","body":"@Jorn no device has phone number"},{"owner":{"account_id":8725221,"reputation":578,"user_id":6527039,"accept_rate":80,"display_name":"Liya"},"score":0,"creation_date":1688132264,"post_id":76589391,"comment_id":135036972,"body_markdown":"https://stackoverflow.com/questions/52407793/com-google-android-gms-common-api-apiexception-16 I refered this too .","body":"<a href=\"https://stackoverflow.com/questions/52407793/com-google-android-gms-common-api-apiexception-16\" title=\"com google android gms common api apiexception 16\">stackoverflow.com/questions/52407793/&hellip;</a> I refered this too ."}],"owner":{"account_id":8725221,"reputation":578,"user_id":6527039,"accept_rate":80,"display_name":"Liya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688131862,"creation_date":1688131862,"question_id":76589391,"body_markdown":"I am creating an OTP login screen where I need to retrive device Phone number , I used HintRequest ealier and it is now deprecated. now I used GetPhoneNumberHintIntentRequest and getting an error : \r\n\r\n&gt; com.google.android.gms.common.api.ApiException: 16: No phone number is found on this device.\r\n \r\nplease guide\r\n\r\nmy code :\r\n\r\n    public void getHintPhoneNumber() {\r\n        Log.d(&quot;getHintPhoneNumber&quot;,&quot;getHintPhoneNumber&quot;);\r\n        GetPhoneNumberHintIntentRequest request = GetPhoneNumberHintIntentRequest.builder().build();\r\n\r\n        Identity.getSignInClient(getActivity())\r\n                .getPhoneNumberHintIntent(request)\r\n                .addOnSuccessListener( result -&gt; {\r\n                    try {\r\n                        phoneNumberHintIntentResultLauncher.launch(result.getIntentSender());\r\n                    } catch(Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -&gt; {\r\n                    e.printStackTrace();\r\n                });\r\n\r\n    }\r\n\r\n\r\n\r\n    ActivityResultLauncher phoneNumberHintIntentResultLauncher =\r\n            registerForActivityResult(\r\n                    new ActivityResultContracts.StartActivityForResult(),\r\n\r\n                    new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                        @Override\r\n                        public void onActivityResult(ActivityResult result) {\r\n                            try {\r\n                                phoneNumber = Identity.getSignInClient(getActivity()).getPhoneNumberFromIntent(result.getData());\r\n                                if (!phoneNumber.isEmpty()) {\r\n                                    phonenumber_error.setVisibility(View.GONE);\r\n                                    et_otp_InputMobile.setText(phoneNumber);\r\n                                } else {\r\n                                    setErrorField(&quot;Please enter mobile Number&quot;, phonenumber_error);\r\n                                }\r\n                            } catch(Exception e) {\r\n                            }\r\n                        }\r\n                    });","title":"To retrive the phone number Hint in android","body":"<p>I am creating an OTP login screen where I need to retrive device Phone number , I used HintRequest ealier and it is now deprecated. now I used GetPhoneNumberHintIntentRequest and getting an error :</p>\n<blockquote>\n<p>com.google.android.gms.common.api.ApiException: 16: No phone number is found on this device.</p>\n</blockquote>\n<p>please guide</p>\n<p>my code :</p>\n<pre><code>public void getHintPhoneNumber() {\n    Log.d(&quot;getHintPhoneNumber&quot;,&quot;getHintPhoneNumber&quot;);\n    GetPhoneNumberHintIntentRequest request = GetPhoneNumberHintIntentRequest.builder().build();\n\n    Identity.getSignInClient(getActivity())\n            .getPhoneNumberHintIntent(request)\n            .addOnSuccessListener( result -&gt; {\n                try {\n                    phoneNumberHintIntentResultLauncher.launch(result.getIntentSender());\n                } catch(Exception e) {\n                    e.printStackTrace();\n                }\n            })\n            .addOnFailureListener(e -&gt; {\n                e.printStackTrace();\n            });\n\n}\n\n\n\nActivityResultLauncher phoneNumberHintIntentResultLauncher =\n        registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n                        try {\n                            phoneNumber = Identity.getSignInClient(getActivity()).getPhoneNumberFromIntent(result.getData());\n                            if (!phoneNumber.isEmpty()) {\n                                phonenumber_error.setVisibility(View.GONE);\n                                et_otp_InputMobile.setText(phoneNumber);\n                            } else {\n                                setErrorField(&quot;Please enter mobile Number&quot;, phonenumber_error);\n                            }\n                        } catch(Exception e) {\n                        }\n                    }\n                });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","assertj"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688130752,"post_id":76589233,"comment_id":135036586,"body_markdown":"The number you are seeing is not the memory address, it&#39;s the hash code. You have two options to fix your assertion: Either write out all fields you want to compare in their own asserts, or add an `equals` method to your entity that compares the fields internally.","body":"The number you are seeing is not the memory address, it&#39;s the hash code. You have two options to fix your assertion: Either write out all fields you want to compare in their own asserts, or add an <code>equals</code> method to your entity that compares the fields internally."},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1688131078,"post_id":76589233,"comment_id":135036663,"body_markdown":"@Jorn so comparing the fields is the best practice for comparing the 2 objects?","body":"@Jorn so comparing the fields is the best practice for comparing the 2 objects?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688131162,"post_id":76589233,"comment_id":135036693,"body_markdown":"It&#39;s not about best practice, it&#39;s about what you need. Do you care that the field values are the same? Just the primary key? Or should it be the exact same object? That&#39;s a functional question that I can&#39;t answer for you.","body":"It&#39;s not about best practice, it&#39;s about what you need. Do you care that the field values are the same? Just the primary key? Or should it be the exact same object? That&#39;s a functional question that I can&#39;t answer for you."},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1688131462,"post_id":76589233,"comment_id":135036768,"body_markdown":"Sorry, the question maybe was a little bit unclear. I want to make sure that the object returned by the repository is exactly the object I saved. I guess the primary key would be the best practice to compare the 2 objects, as it is unique, but I wanted to make sure I didn&#39;t miss any important/better method in the assertj docs","body":"Sorry, the question maybe was a little bit unclear. I want to make sure that the object returned by the repository is exactly the object I saved. I guess the primary key would be the best practice to compare the 2 objects, as it is unique, but I wanted to make sure I didn&#39;t miss any important/better method in the assertj docs"}],"answers":[{"comments":[{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1688242714,"post_id":76589338,"comment_id":135048737,"body_markdown":"Thank you very much, I could remember the hashCode() method a little bit but I now learned the day about hashing, hashTables (which implementations often use these hashes) etc. and now got a hopefully unique hash for my Lehrer class that ignores the difference between an empty list and null value. If I want to compare the hashCodes with AssertJ I would still use the ```isEqualTo()``` method right? ```assertThat(anwesend.get(0).hashCode()).isEqualTo(chemielehrer.hashCode());```","body":"Thank you very much, I could remember the hashCode() method a little bit but I now learned the day about hashing, hashTables (which implementations often use these hashes) etc. and now got a hopefully unique hash for my Lehrer class that ignores the difference between an empty list and null value. If I want to compare the hashCodes with AssertJ I would still use the <code>isEqualTo()</code> method right? <code>assertThat(anwesend.get(0).hashCode()).isEqualTo(chemielehre&zwnj;&#8203;r.hashCode());</code>"},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1688269588,"post_id":76589338,"comment_id":135050403,"body_markdown":"@Gabriel `hashCode` returns primitive `int`, you may freely use `==` to save some typing :)","body":"@Gabriel <code>hashCode</code> returns primitive <code>int</code>, you may freely use <code>==</code> to save some typing :)"}],"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688131474,"creation_date":1688131474,"answer_id":76589338,"question_id":76589233,"body_markdown":"Generally I see nothing bad in comparison IDs in the test. It&#39;s pretty obvious that you operate with records and assert if it&#39;s the same record (the same record has the same ID).\r\n\r\nAs an option, of course, you may consider to make your solution more complex and override `equals()`(and `hashCode()`) methods of your class. It will make the solution more elegant, so you encapsulate in the class the definition of &quot;being the same&quot;. You can define field(s) that needs to be equal in order to consider the objects as equal. \r\n\r\nI do not think there is a &quot;right&quot; answer to your question. It depends... Check the discussions on the Internet and get the idea in which situations you want to override `equals` and in which situations you don&#39;t. Here are the couple of such a discussions:\r\n\r\n 1. https://softwareengineering.stackexchange.com/questions/399265/do-we-always-need-to-override-equals-hashcode-when-crreating-a-new-class\r\n\r\n 2. https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\r\n\r\n\r\nAs I said, for the start, I&#39;d probably compare IDs and not go the path of overriding, especially if you&#39;re not feeling confident with that.\r\n\r\n","title":"Is it a good idea to use ID for comparison with AssertJ?","body":"<p>Generally I see nothing bad in comparison IDs in the test. It's pretty obvious that you operate with records and assert if it's the same record (the same record has the same ID).</p>\n<p>As an option, of course, you may consider to make your solution more complex and override <code>equals()</code>(and <code>hashCode()</code>) methods of your class. It will make the solution more elegant, so you encapsulate in the class the definition of &quot;being the same&quot;. You can define field(s) that needs to be equal in order to consider the objects as equal.</p>\n<p>I do not think there is a &quot;right&quot; answer to your question. It depends... Check the discussions on the Internet and get the idea in which situations you want to override <code>equals</code> and in which situations you don't. Here are the couple of such a discussions:</p>\n<ol>\n<li><p><a href=\"https://softwareengineering.stackexchange.com/questions/399265/do-we-always-need-to-override-equals-hashcode-when-crreating-a-new-class\">https://softwareengineering.stackexchange.com/questions/399265/do-we-always-need-to-override-equals-hashcode-when-crreating-a-new-class</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">Why do I need to override the equals and hashCode methods in Java?</a></p>\n</li>\n</ol>\n<p>As I said, for the start, I'd probably compare IDs and not go the path of overriding, especially if you're not feeling confident with that.</p>\n"},{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688131593,"creation_date":1688131593,"answer_id":76589363,"question_id":76589233,"body_markdown":"There is no a best practice in your case, you should define the comparison rules by yourself considering the business logic. The only relevant practice I would highlight is having test names so they reflect the actual given/when/then parts of the tests.","title":"Is it a good idea to use ID for comparison with AssertJ?","body":"<p>There is no a best practice in your case, you should define the comparison rules by yourself considering the business logic. The only relevant practice I would highlight is having test names so they reflect the actual given/when/then parts of the tests.</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76589338,"answer_count":2,"score":1,"last_activity_date":1688131593,"creation_date":1688130565,"question_id":76589233,"body_markdown":"I got the following class with which I want to test my repository:\r\n```java\r\npackage de.gabriel.vertretungsplan.repositories;\r\n\r\nimport de.gabriel.vertretungsplan.models.Fach;\r\nimport de.gabriel.vertretungsplan.models.Klasse;\r\nimport de.gabriel.vertretungsplan.models.StundenplanEintrag;\r\nimport de.gabriel.vertretungsplan.models.Tag;\r\nimport de.gabriel.vertretungsplan.models.enums.Anwesenheit;\r\nimport de.gabriel.vertretungsplan.models.enums.Rolle;\r\nimport de.gabriel.vertretungsplan.models.enums.Tage;\r\nimport de.gabriel.vertretungsplan.models.users.Lehrer;\r\nimport org.junit.jupiter.api.*;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass StundenplanEintragRepositoryTest {\r\n\r\n    @Autowired\r\n    private StundenplanEintragRepository stundenplanEintragRepository;\r\n    @Autowired\r\n    private KlasseRepository klasseRepository;\r\n    @Autowired\r\n    private FachRepository fachRepository;\r\n    @Autowired\r\n    private LehrerRepository lehrerRepository;\r\n    @Autowired\r\n    private TagRepository tagRepository;\r\n\r\n    private Lehrer deutschLehrer;\r\n    private Tag montag;\r\n    private StundenplanEintrag stundenplanEintragReference;\r\n\r\n    @BeforeAll\r\n    void init() {\r\n        Klasse klasse6a = new Klasse(&quot;6a&quot;);\r\n\r\n        klasseRepository.saveAll(List.of(\r\n                klasse6a\r\n        ));\r\n\r\n        Fach deutsch = new Fach(&quot;Deutsch&quot;, &quot;DE&quot;);\r\n\r\n        fachRepository.saveAll(List.of(\r\n                deutsch\r\n        ));\r\n\r\n        deutschLehrer = new Lehrer(&quot;deutschLehrer&quot;, &quot;deutschLehrer&quot;, Rolle.getPrefixedRolle(Rolle.LEHRER), Anwesenheit.ANWESEND);\r\n        deutschLehrer.setFaecher(List.of(deutsch));\r\n\r\n        lehrerRepository.saveAll(List.of(\r\n                deutschLehrer\r\n        ));\r\n\r\n        montag = new Tag(Tage.MONTAG);\r\n\r\n        tagRepository.saveAll(List.of(\r\n                montag\r\n        ));\r\n\r\n        stundenplanEintragReference = new StundenplanEintrag(1, klasse6a, deutsch, deutschLehrer, montag);\r\n\r\n        stundenplanEintragRepository.saveAll(List.of(\r\n                stundenplanEintragReference\r\n        ));\r\n    }\r\n\r\n    @AfterAll\r\n    void tearDown() {\r\n        stundenplanEintragRepository.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer] and Tag [montag]&quot;)\r\n    void findByLehrerAndTag() {\r\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrerAndTag(deutschLehrer, montag);\r\n        assertThat(stundenplanEintrag.get(0).getId()).isEqualTo(stundenplanEintragReference.getId());\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer]&quot;)\r\n    void findByLehrer() {\r\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\r\n        assertThat(stundenplanEintrag.get(0).getLehrer().getUsername()).isEqualTo(deutschLehrer.getUsername());\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs you can see currently I am comparing the result from the repository by a single field with the reference object (like the ```id``` or ```username```), because if I compare them like this:\r\n```java\r\n    @Test\r\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer] and Tag [montag]&quot;)\r\n    void findByLehrerAndTag() {\r\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrerAndTag(deutschLehrer, montag);\r\n        assertThat(stundenplanEintrag.get(0)).isEqualTo(stundenplanEintragReference);\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer]&quot;)\r\n    void findByLehrer() {\r\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\r\n        assertThat(stundenplanEintrag.get(0).getLehrer()).isEqualTo(deutschLehrer);\r\n    }\r\n```\r\nthe tests fail because the adress of the actual objects differ from the &quot;expected&quot; objects adress even if they are &quot;the same&quot; objects. \r\n```\r\nExpected :de.gabriel.vertretungsplan.models.StundenplanEintrag@38d895e8\r\nActual   :de.gabriel.vertretungsplan.models.StundenplanEintrag@1b897ffb\r\n```\r\nI understand that it gets a new _adress in memory_ (wrong as pointed out in the comments, it&#39;s the hash code). I want to know if it is a good practice to compare by something like the ```id``` or how else you would solve this or if there is a better practice to compare the object returned by a repository with the originally saved object? (And I still want to be able to save the entity only once in the ```@BeforeAll``` annotated method)\r\n","title":"Is it a good idea to use ID for comparison with AssertJ?","body":"<p>I got the following class with which I want to test my repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.gabriel.vertretungsplan.repositories;\n\nimport de.gabriel.vertretungsplan.models.Fach;\nimport de.gabriel.vertretungsplan.models.Klasse;\nimport de.gabriel.vertretungsplan.models.StundenplanEintrag;\nimport de.gabriel.vertretungsplan.models.Tag;\nimport de.gabriel.vertretungsplan.models.enums.Anwesenheit;\nimport de.gabriel.vertretungsplan.models.enums.Rolle;\nimport de.gabriel.vertretungsplan.models.enums.Tage;\nimport de.gabriel.vertretungsplan.models.users.Lehrer;\nimport org.junit.jupiter.api.*;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.test.context.ActiveProfiles;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass StundenplanEintragRepositoryTest {\n\n    @Autowired\n    private StundenplanEintragRepository stundenplanEintragRepository;\n    @Autowired\n    private KlasseRepository klasseRepository;\n    @Autowired\n    private FachRepository fachRepository;\n    @Autowired\n    private LehrerRepository lehrerRepository;\n    @Autowired\n    private TagRepository tagRepository;\n\n    private Lehrer deutschLehrer;\n    private Tag montag;\n    private StundenplanEintrag stundenplanEintragReference;\n\n    @BeforeAll\n    void init() {\n        Klasse klasse6a = new Klasse(&quot;6a&quot;);\n\n        klasseRepository.saveAll(List.of(\n                klasse6a\n        ));\n\n        Fach deutsch = new Fach(&quot;Deutsch&quot;, &quot;DE&quot;);\n\n        fachRepository.saveAll(List.of(\n                deutsch\n        ));\n\n        deutschLehrer = new Lehrer(&quot;deutschLehrer&quot;, &quot;deutschLehrer&quot;, Rolle.getPrefixedRolle(Rolle.LEHRER), Anwesenheit.ANWESEND);\n        deutschLehrer.setFaecher(List.of(deutsch));\n\n        lehrerRepository.saveAll(List.of(\n                deutschLehrer\n        ));\n\n        montag = new Tag(Tage.MONTAG);\n\n        tagRepository.saveAll(List.of(\n                montag\n        ));\n\n        stundenplanEintragReference = new StundenplanEintrag(1, klasse6a, deutsch, deutschLehrer, montag);\n\n        stundenplanEintragRepository.saveAll(List.of(\n                stundenplanEintragReference\n        ));\n    }\n\n    @AfterAll\n    void tearDown() {\n        stundenplanEintragRepository.deleteAll();\n    }\n\n    @Test\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer] and Tag [montag]&quot;)\n    void findByLehrerAndTag() {\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrerAndTag(deutschLehrer, montag);\n        assertThat(stundenplanEintrag.get(0).getId()).isEqualTo(stundenplanEintragReference.getId());\n    }\n\n    @Test\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer]&quot;)\n    void findByLehrer() {\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\n        assertThat(stundenplanEintrag.get(0).getLehrer().getUsername()).isEqualTo(deutschLehrer.getUsername());\n    }\n\n}\n</code></pre>\n<p>As you can see currently I am comparing the result from the repository by a single field with the reference object (like the <code>id</code> or <code>username</code>), because if I compare them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer] and Tag [montag]&quot;)\n    void findByLehrerAndTag() {\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrerAndTag(deutschLehrer, montag);\n        assertThat(stundenplanEintrag.get(0)).isEqualTo(stundenplanEintragReference);\n    }\n\n    @Test\n    @DisplayName(&quot;Check if correct Stundenplan Eintrag is returned given Lehrer [deutschLehrer]&quot;)\n    void findByLehrer() {\n        List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\n        assertThat(stundenplanEintrag.get(0).getLehrer()).isEqualTo(deutschLehrer);\n    }\n</code></pre>\n<p>the tests fail because the adress of the actual objects differ from the &quot;expected&quot; objects adress even if they are &quot;the same&quot; objects.</p>\n<pre><code>Expected :de.gabriel.vertretungsplan.models.StundenplanEintrag@38d895e8\nActual   :de.gabriel.vertretungsplan.models.StundenplanEintrag@1b897ffb\n</code></pre>\n<p>I understand that it gets a new <em>adress in memory</em> (wrong as pointed out in the comments, it's the hash code). I want to know if it is a good practice to compare by something like the <code>id</code> or how else you would solve this or if there is a better practice to compare the object returned by a repository with the originally saved object? (And I still want to be able to save the entity only once in the <code>@BeforeAll</code> annotated method)</p>\n"},{"tags":["java","java-stream","quarkus","reactive-streams","mutiny"],"answers":[{"comments":[{"owner":{"account_id":2408662,"reputation":191,"user_id":2104387,"display_name":"Maxime"},"score":0,"creation_date":1688131697,"post_id":76588391,"comment_id":135036827,"body_markdown":"thanks for your response. This would increase the concurrency only. My point is to maximize the message consumption using concurrency but throttle this consumption and block the stream if throughput limit is reached before continuing message consumption. How can I achieve this throttling (eg. : 30 messages/second) ?","body":"thanks for your response. This would increase the concurrency only. My point is to maximize the message consumption using concurrency but throttle this consumption and block the stream if throughput limit is reached before continuing message consumption. How can I achieve this throttling (eg. : 30 messages/second) ?"},{"owner":{"account_id":18144706,"reputation":196,"user_id":13198160,"display_name":"Ozan G&#252;nalp"},"score":0,"creation_date":1689153992,"post_id":76588391,"comment_id":135171815,"body_markdown":"Recent versions of Quarkus and Smallrye reactive messaging handle this by pausing/resuming the Kafka consumer polling depending on the downstream requests. But I think Quarkus 1.13.7 you are using had an early version of this mechanism which contained a bug.","body":"Recent versions of Quarkus and Smallrye reactive messaging handle this by pausing/resuming the Kafka consumer polling depending on the downstream requests. But I think Quarkus 1.13.7 you are using had an early version of this mechanism which contained a bug."}],"tags":[],"owner":{"account_id":18144706,"reputation":196,"user_id":13198160,"display_name":"Ozan G&#252;nalp"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688123480,"creation_date":1688123480,"answer_id":76588391,"question_id":76587912,"body_markdown":"I think the easiest way to achieve this would be to assign a custom worker pool with max concurrency to your `@Blocking` annotation. It is described here: http://smallrye.io/smallrye-reactive-messaging/4.7.0/concepts/blocking/","title":"How to throttle throughput of a Quarkus reactive messaging stream","body":"<p>I think the easiest way to achieve this would be to assign a custom worker pool with max concurrency to your <code>@Blocking</code> annotation. It is described here: <a href=\"http://smallrye.io/smallrye-reactive-messaging/4.7.0/concepts/blocking/\" rel=\"nofollow noreferrer\">http://smallrye.io/smallrye-reactive-messaging/4.7.0/concepts/blocking/</a></p>\n"}],"owner":{"account_id":2408662,"reputation":191,"user_id":2104387,"display_name":"Maxime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688131086,"creation_date":1688119288,"question_id":76587912,"body_markdown":"I&#39;m using Quarkus 1.13.7 and smallrye reactive messaging to consume a Kafka topic and for each message making an HTTP request to an external component that impose a throughput limit of requests (eg. : 30 requests/second). \r\n\r\nThe idea is to call the external component as fast as possible to reach its maximum capacity but blocking the stream when the throughput limit is reached in a defined time window. Reaching maximum capacity would require to add concurrency using ```@Blocking(ordered = false)``` annotation, as a unique request can be a bit long.\r\n\r\nBut how I can throttle the stream when the limit throughput is reached ?\r\n\r\nIs there a way to throttle a Multi stream, for example adding a mutiny operator on that stream, like what exists in [Akka Stream lib][1] ?\r\n\r\nI know Akka is interoperable with Mutiny using Java 9 Reactive Streams interface but as Akka is not fully open source any more and as I would avoid thread switch complexity between Akka thread pool and Quarkus thread pool, this is not a option.     \r\n\r\n\r\n  [1]: https://doc.akka.io/docs/akka/current/stream/operators/Source-or-Flow/throttle.html","title":"How to throttle throughput of a Quarkus reactive messaging stream","body":"<p>I'm using Quarkus 1.13.7 and smallrye reactive messaging to consume a Kafka topic and for each message making an HTTP request to an external component that impose a throughput limit of requests (eg. : 30 requests/second).</p>\n<p>The idea is to call the external component as fast as possible to reach its maximum capacity but blocking the stream when the throughput limit is reached in a defined time window. Reaching maximum capacity would require to add concurrency using <code>@Blocking(ordered = false)</code> annotation, as a unique request can be a bit long.</p>\n<p>But how I can throttle the stream when the limit throughput is reached ?</p>\n<p>Is there a way to throttle a Multi stream, for example adding a mutiny operator on that stream, like what exists in <a href=\"https://doc.akka.io/docs/akka/current/stream/operators/Source-or-Flow/throttle.html\" rel=\"nofollow noreferrer\">Akka Stream lib</a> ?</p>\n<p>I know Akka is interoperable with Mutiny using Java 9 Reactive Streams interface but as Akka is not fully open source any more and as I would avoid thread switch complexity between Akka thread pool and Quarkus thread pool, this is not a option.</p>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688131452,"post_id":76589291,"comment_id":135036764,"body_markdown":"Annotation values have to be compile-time constants. You can&#39;t use just any expression there.","body":"Annotation values have to be compile-time constants. You can&#39;t use just any expression there."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688168208,"post_id":76589291,"comment_id":135042636,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":28925153,"reputation":1,"user_id":22155210,"display_name":"mohammad shahbodaghi"},"score":0,"creation_date":1688191983,"post_id":76589291,"comment_id":135043884,"body_markdown":"Hello, dear @Jorn. Do you have any idea with which I can write a generic controller for my program.","body":"Hello, dear @Jorn. Do you have any idea with which I can write a generic controller for my program."}],"owner":{"account_id":28925153,"reputation":1,"user_id":22155210,"display_name":"mohammad shahbodaghi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688131079,"creation_date":1688131079,"question_id":76589291,"body_markdown":"I am writing a program in which I am supposed to write a personalized annotation that, by placing that annotation on the model, creates a controller for that model from the generic controller that I have written.\r\n\r\n```\r\n@Controller\r\n@AllArgsConstructor\r\n@RequestMapping(value = &quot;/controller/&quot;)\r\npublic class GenericMVCController {\r\n    final Map&lt;String, String&gt; annotAttributeMap;\r\n    private Service service;\r\n\r\n    public GenericMVCController(Map&lt;String, String&gt; annotAttributeMap,Service service) {\r\n        this.service=service;\r\n        this.annotAttributeMap = annotAttributeMap;\r\n\r\n    }\r\n\r\n    @GetMapping(value = &quot;view/page/{page}/size/{size}&quot;)\r\n    public ModelAndView getView(@PathVariable(name = &quot;page&quot;) int page, @PathVariable(name = &quot;size&quot;) int size, ModelAndView modelAndView) {\r\n\r\n        // logic for read\r\n\r\n        return modelAndView;\r\n    }\r\n\r\n    @GetMapping(value = &quot;update/form/id/{id}&quot;)\r\n    public ModelAndView update(@PathVariable(name = &quot;id&quot;) String id, ModelAndView modelAndView) {\r\n\r\n        // logic for open update form\r\n\r\n        return modelAndView;\r\n    }\r\n\r\n    @PostMapping(value = &quot;update/commit&quot;)\r\n    public ModelAndView updateCommit(@Valid @ModelAttribute(name = &quot;formData&quot;) DTO formData, ModelAndView modelAndView) {\r\n\r\n        // logic for update commit\r\n\r\n        modelAndView.setViewName(&quot;redirect:/group/view/page/0/size/10&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n    @PostMapping(value = &quot;delete&quot;)\r\n    public ModelAndView delete(@RequestParam(name = &quot;itemsSelected&quot;) String itemsSelected, ModelAndView modelAndView) {\r\n\r\n        // logic for delete\r\n\r\n        return modelAndView;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@Target(value = {ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface CRUDForm {\r\n    String url() ;\r\n    String createURL() default &quot;&quot;;\r\n    String readURL() default &quot;&quot;;\r\n    String updateURL() default &quot;&quot;;\r\n\r\n    String deleteURL() default &quot;&quot;;\r\n    String[] exceptTheFields() default {};\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class CustomAnnotationScanning {\r\n    public CustomAnnotationScanning(){\r\n        CRUDFormScanner();\r\n    }\r\n\r\n    public void CRUDFormScanner(){\r\n\r\n        ClassPathScanningCandidateComponentProvider provider=new ClassPathScanningCandidateComponentProvider(false);\r\n        provider.addIncludeFilter(new AnnotationTypeFilter(CRUDForm.class));\r\n\r\n        Set&lt;BeanDefinition&gt; beanDefs = provider\r\n                .findCandidateComponents(&quot;com.dwteam.avaservis&quot;);\r\n\r\n        List&lt;String&gt; annotatedBeans = new ArrayList&lt;&gt;();\r\n        for (BeanDefinition bd : beanDefs) {\r\n            if (bd instanceof AnnotatedBeanDefinition) {\r\n                Map&lt;String, Object&gt; annotAttributeMap = ((AnnotatedBeanDefinition) bd)\r\n                        .getMetadata()\r\n                        .getAnnotationAttributes(CRUDForm.class.getCanonicalName());\r\n\r\n                    // I need create controller for any bd\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried this code and expected it to take the map values ​​from the map and put them in the annotation, but it could not recognize the map.\r\n\r\n```\r\n@Controller\r\n@AllArgsConstructor\r\n@RequestMapping(value = annotAttributeMap.get(&quot;url&quot;))\r\npublic class GenericMVCController {\r\n    final Map&lt;String, String&gt; annotAttributeMap;\r\n    private Service service;\r\n\r\n    public GenericMVCController(Map&lt;String, String&gt; annotAttributeMap,Service service) {\r\n        this.service=service;\r\n        this.annotAttributeMap = annotAttributeMap;\r\n\r\n    }\r\n\r\n    @GetMapping(value = annotAttributeMap.get(&quot;read&quot;))\r\n    public ModelAndView getView(@PathVariable(name = &quot;page&quot;) int page, @PathVariable(name = &quot;size&quot;) int size, ModelAndView modelAndView) {\r\n\r\n        // logic for read\r\n\r\n        return modelAndView;\r\n    }\r\n\r\n    @GetMapping(value = annotAttributeMap.get(&quot;update&quot;))\r\n    public ModelAndView update(@PathVariable(name = &quot;id&quot;) String id, ModelAndView modelAndView) {\r\n\r\n        // logic for open update form\r\n\r\n        return modelAndView;\r\n    }\r\n\r\n    @PostMapping(value = annotAttributeMap.get(&quot;updateCommit&quot;))\r\n    public ModelAndView updateCommit(@Valid @ModelAttribute(name = &quot;formData&quot;) DTO formData, ModelAndView modelAndView) {\r\n\r\n        // logic for update commit\r\n\r\n        modelAndView.setViewName(&quot;redirect:/group/view/page/0/size/10&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n    @PostMapping(value = annotAttributeMap.get(&quot;delete&quot;))\r\n    public ModelAndView delete(@RequestParam(name = &quot;itemsSelected&quot;) String itemsSelected, ModelAndView modelAndView) {\r\n\r\n        // logic for delete\r\n\r\n        return modelAndView;\r\n    }\r\n}\r\n\r\n```\r\n","title":"I need to make an annotation that by placing it on the dto class will create a crud controller","body":"<p>I am writing a program in which I am supposed to write a personalized annotation that, by placing that annotation on the model, creates a controller for that model from the generic controller that I have written.</p>\n<pre><code>@Controller\n@AllArgsConstructor\n@RequestMapping(value = &quot;/controller/&quot;)\npublic class GenericMVCController {\n    final Map&lt;String, String&gt; annotAttributeMap;\n    private Service service;\n\n    public GenericMVCController(Map&lt;String, String&gt; annotAttributeMap,Service service) {\n        this.service=service;\n        this.annotAttributeMap = annotAttributeMap;\n\n    }\n\n    @GetMapping(value = &quot;view/page/{page}/size/{size}&quot;)\n    public ModelAndView getView(@PathVariable(name = &quot;page&quot;) int page, @PathVariable(name = &quot;size&quot;) int size, ModelAndView modelAndView) {\n\n        // logic for read\n\n        return modelAndView;\n    }\n\n    @GetMapping(value = &quot;update/form/id/{id}&quot;)\n    public ModelAndView update(@PathVariable(name = &quot;id&quot;) String id, ModelAndView modelAndView) {\n\n        // logic for open update form\n\n        return modelAndView;\n    }\n\n    @PostMapping(value = &quot;update/commit&quot;)\n    public ModelAndView updateCommit(@Valid @ModelAttribute(name = &quot;formData&quot;) DTO formData, ModelAndView modelAndView) {\n\n        // logic for update commit\n\n        modelAndView.setViewName(&quot;redirect:/group/view/page/0/size/10&quot;);\n        return modelAndView;\n    }\n\n    @PostMapping(value = &quot;delete&quot;)\n    public ModelAndView delete(@RequestParam(name = &quot;itemsSelected&quot;) String itemsSelected, ModelAndView modelAndView) {\n\n        // logic for delete\n\n        return modelAndView;\n    }\n}\n\n</code></pre>\n<pre><code>@Target(value = {ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface CRUDForm {\n    String url() ;\n    String createURL() default &quot;&quot;;\n    String readURL() default &quot;&quot;;\n    String updateURL() default &quot;&quot;;\n\n    String deleteURL() default &quot;&quot;;\n    String[] exceptTheFields() default {};\n}\n\n</code></pre>\n<pre><code>public class CustomAnnotationScanning {\n    public CustomAnnotationScanning(){\n        CRUDFormScanner();\n    }\n\n    public void CRUDFormScanner(){\n\n        ClassPathScanningCandidateComponentProvider provider=new ClassPathScanningCandidateComponentProvider(false);\n        provider.addIncludeFilter(new AnnotationTypeFilter(CRUDForm.class));\n\n        Set&lt;BeanDefinition&gt; beanDefs = provider\n                .findCandidateComponents(&quot;com.dwteam.avaservis&quot;);\n\n        List&lt;String&gt; annotatedBeans = new ArrayList&lt;&gt;();\n        for (BeanDefinition bd : beanDefs) {\n            if (bd instanceof AnnotatedBeanDefinition) {\n                Map&lt;String, Object&gt; annotAttributeMap = ((AnnotatedBeanDefinition) bd)\n                        .getMetadata()\n                        .getAnnotationAttributes(CRUDForm.class.getCanonicalName());\n\n                    // I need create controller for any bd\n\n\n\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>I tried this code and expected it to take the map values ​​from the map and put them in the annotation, but it could not recognize the map.</p>\n<pre><code>@Controller\n@AllArgsConstructor\n@RequestMapping(value = annotAttributeMap.get(&quot;url&quot;))\npublic class GenericMVCController {\n    final Map&lt;String, String&gt; annotAttributeMap;\n    private Service service;\n\n    public GenericMVCController(Map&lt;String, String&gt; annotAttributeMap,Service service) {\n        this.service=service;\n        this.annotAttributeMap = annotAttributeMap;\n\n    }\n\n    @GetMapping(value = annotAttributeMap.get(&quot;read&quot;))\n    public ModelAndView getView(@PathVariable(name = &quot;page&quot;) int page, @PathVariable(name = &quot;size&quot;) int size, ModelAndView modelAndView) {\n\n        // logic for read\n\n        return modelAndView;\n    }\n\n    @GetMapping(value = annotAttributeMap.get(&quot;update&quot;))\n    public ModelAndView update(@PathVariable(name = &quot;id&quot;) String id, ModelAndView modelAndView) {\n\n        // logic for open update form\n\n        return modelAndView;\n    }\n\n    @PostMapping(value = annotAttributeMap.get(&quot;updateCommit&quot;))\n    public ModelAndView updateCommit(@Valid @ModelAttribute(name = &quot;formData&quot;) DTO formData, ModelAndView modelAndView) {\n\n        // logic for update commit\n\n        modelAndView.setViewName(&quot;redirect:/group/view/page/0/size/10&quot;);\n        return modelAndView;\n    }\n\n    @PostMapping(value = annotAttributeMap.get(&quot;delete&quot;))\n    public ModelAndView delete(@RequestParam(name = &quot;itemsSelected&quot;) String itemsSelected, ModelAndView modelAndView) {\n\n        // logic for delete\n\n        return modelAndView;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","junit5","spring-webclient"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688110094,"post_id":76586770,"comment_id":135032530,"body_markdown":"Where are you stuck doing this? You can mock `WebClient` just as you would any class.","body":"Where are you stuck doing this? You can mock <code>WebClient</code> just as you would any class."},{"owner":{"account_id":19010116,"reputation":161,"user_id":13876160,"display_name":"Amulya M"},"score":0,"creation_date":1688111067,"post_id":76586770,"comment_id":135032699,"body_markdown":"Hi @tgdavies , thankyou verymuch for your response , am getting null for the kWebclient while calling the api for that testcase, however i have created mock bean in testcase , attached the testcase sample","body":"Hi @tgdavies , thankyou verymuch for your response , am getting null for the kWebclient while calling the api for that testcase, however i have created mock bean in testcase , attached the testcase sample"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688130123,"post_id":76586770,"comment_id":135036424,"body_markdown":"You will need to edit your question to include a complete, minimal, runnable example which reproduces the problem. At present your question is not answerable. You seem to have a clas which includes an @bean and an @BeforeEach annotation, and a test which doesn&#39;t show how the class you are testing is created. You say that `kWebClient` is null, but don&#39;t mock or inject a WebClient. I&#39;m sorry, but your question is incoherent.","body":"You will need to edit your question to include a complete, minimal, runnable example which reproduces the problem. At present your question is not answerable. You seem to have a clas which includes an @bean and an @BeforeEach annotation, and a test which doesn&#39;t show how the class you are testing is created. You say that <code>kWebClient</code> is null, but don&#39;t mock or inject a WebClient. I&#39;m sorry, but your question is incoherent."},{"owner":{"account_id":19010116,"reputation":161,"user_id":13876160,"display_name":"Amulya M"},"score":0,"creation_date":1688130927,"post_id":76586770,"comment_id":135036626,"body_markdown":"Hi @tgdavies , updated the question with working code, issue is am getting null for all the autowired instance and variables loaded from property file, could you please check and help","body":"Hi @tgdavies , updated the question with working code, issue is am getting null for all the autowired instance and variables loaded from property file, could you please check and help"}],"owner":{"account_id":19010116,"reputation":161,"user_id":13876160,"display_name":"Amulya M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688130612,"creation_date":1688109188,"question_id":76586770,"body_markdown":"Have Used WebClient in Springboot project to call external API Synchronously, have written testcases for this application using Junit5 and Mockito, how to mock the webClient which is invoking external API in our testcases.\r\n\r\n**springboot version : 2.7.5**\r\n\r\n**Java : 11**\r\n\r\nWe are creating the Webclient with certificate to call external API as shown below :\r\n\r\n````\r\n\r\n@Bean\r\n\t@Qualifier(&quot;kWebclient&quot;)\r\n\tpublic WebClient createWebClient() throws Exception {\r\n\r\n\t\treturn buildSslEnabledWebClient();\r\n\r\n\t}\r\n\r\n\tprivate WebClient buildSslEnabledWebClient() throws Exception {\r\n\r\n\t\tfinal KeyStore trustStore = createKeyStore(trustStorePath, \r\n         kConfigVault.getKTrustStorePassword());\r\n\r\n\t\ttry {\r\n\r\n\t\t\tfinal TrustManagerFactory trustManager = TrustManagerFactory\r\n\t\t\t\t\t.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttrustManager.init(trustStore);\r\n\r\n\t\t\tfinal SslContext sslContext = SslContextBuilder.forClient().trustManager(trustManager).build();\r\n\r\n\t\t\tfinal HttpClient httpClient = HttpClient.create().secure(ssl -&gt; {\r\n\t\t\t\tssl.sslContext(sslContext);\r\n\t\t\t});\r\n\t\t\tfinal int size = 16 * 1024 * 1024;\r\n\t\t\tfinal ExchangeStrategies strategies = ExchangeStrategies.builder()\r\n\t\t\t\t\t.codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize(size)).build();\r\n\r\n\t\t\treturn WebClient.builder().exchangeStrategies(strategies)\r\n\t\t\t\t\t.clientConnector(new ReactorClientHttpConnector(httpClient)).build();\r\n\r\n\t\t} catch (NoSuchAlgorithmException | KeyStoreException | SSLException e) {\r\n\t\t\tlog.error(&quot;Could not initialize Webclient with the trustore data&quot;, e);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n````\r\n\r\n**Attaching the testcase sample am trying , where am getting null for all autowired in strategy class :**\r\n\r\n````\r\n\r\n//also tried : @ExtendWith(SpringExtension.class)/@ExtendWith(MockitoExtension.class)\r\nand @RunWith(SpringRunner.class)\r\n\r\n\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, classes = { Cicrawlrequesttrigger.class })\r\n@DirtiesContext\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(SpringExtension.class)\r\npublic class StrategyTest {\r\n  @Autowired //tried @InjectMocks\r\n\tprivate StockAvailibilityStrategy stockAvailibilityStrategy;\r\n    @Autowired  //also tried @Mock and @MockBean\r\n\t@Qualifier(&quot;kWebclient&quot;)\r\n\tprivate WebClient kWebclient;\r\n\r\n@BeforeEach\r\n\tpublic void beforEach() {\r\nexecutor = Executors.newFixedThreadPool(1);\r\n}\r\n\r\n\r\n@Test\r\n\tvoid testStrategyOptimise() {\r\n\t\tCentralRepoLite central = getCentralRepoLite();\r\n\t\tResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(\r\n\t\t\t\t&quot;[{response}]&quot;,\r\n\t\t\t\tHttpStatus.OK);\r\n\r\n\t\tMockito.lenient().when(Strategy.invokLoc(Mockito.any(), Mockito.any(), Mockito.any(),\r\n\t\t\t\tMockito.any(), Mockito.any(), Mockito.any())).thenReturn(responseEntity);\r\n\t\tExecutor executor = Executors.newFixedThreadPool(1);\r\n\t\tCReady cy = setTestCReady();\r\n\t\tstrategy.optimise(testCRequest, StoreInfo, centralRepoEntities,\r\n\t\t\t\tcRepo, executor);\r\n\t\tassertNotNull(cy);\r\n }\r\n}  ","title":"how to mock webclient sync call in Junit5 springboot","body":"<p>Have Used WebClient in Springboot project to call external API Synchronously, have written testcases for this application using Junit5 and Mockito, how to mock the webClient which is invoking external API in our testcases.</p>\n<p><strong>springboot version : 2.7.5</strong></p>\n<p><strong>Java : 11</strong></p>\n<p>We are creating the Webclient with certificate to call external API as shown below :</p>\n<pre><code>\n@Bean\n    @Qualifier(&quot;kWebclient&quot;)\n    public WebClient createWebClient() throws Exception {\n\n        return buildSslEnabledWebClient();\n\n    }\n\n    private WebClient buildSslEnabledWebClient() throws Exception {\n\n        final KeyStore trustStore = createKeyStore(trustStorePath, \n         kConfigVault.getKTrustStorePassword());\n\n        try {\n\n            final TrustManagerFactory trustManager = TrustManagerFactory\n                    .getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            trustManager.init(trustStore);\n\n            final SslContext sslContext = SslContextBuilder.forClient().trustManager(trustManager).build();\n\n            final HttpClient httpClient = HttpClient.create().secure(ssl -&gt; {\n                ssl.sslContext(sslContext);\n            });\n            final int size = 16 * 1024 * 1024;\n            final ExchangeStrategies strategies = ExchangeStrategies.builder()\n                    .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize(size)).build();\n\n            return WebClient.builder().exchangeStrategies(strategies)\n                    .clientConnector(new ReactorClientHttpConnector(httpClient)).build();\n\n        } catch (NoSuchAlgorithmException | KeyStoreException | SSLException e) {\n            log.error(&quot;Could not initialize Webclient with the trustore data&quot;, e);\n            throw e;\n        }\n    }\n\n</code></pre>\n<p><strong>Attaching the testcase sample am trying , where am getting null for all autowired in strategy class :</strong></p>\n<pre><code>\n//also tried : @ExtendWith(SpringExtension.class)/@ExtendWith(MockitoExtension.class)\nand @RunWith(SpringRunner.class)\n\n\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT, classes = { Cicrawlrequesttrigger.class })\n@DirtiesContext\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension.class)\npublic class StrategyTest {\n  @Autowired //tried @InjectMocks\n    private StockAvailibilityStrategy stockAvailibilityStrategy;\n    @Autowired  //also tried @Mock and @MockBean\n    @Qualifier(&quot;kWebclient&quot;)\n    private WebClient kWebclient;\n\n@BeforeEach\n    public void beforEach() {\nexecutor = Executors.newFixedThreadPool(1);\n}\n\n\n@Test\n    void testStrategyOptimise() {\n        CentralRepoLite central = getCentralRepoLite();\n        ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(\n                &quot;[{response}]&quot;,\n                HttpStatus.OK);\n\n        Mockito.lenient().when(Strategy.invokLoc(Mockito.any(), Mockito.any(), Mockito.any(),\n                Mockito.any(), Mockito.any(), Mockito.any())).thenReturn(responseEntity);\n        Executor executor = Executors.newFixedThreadPool(1);\n        CReady cy = setTestCReady();\n        strategy.optimise(testCRequest, StoreInfo, centralRepoEntities,\n                cRepo, executor);\n        assertNotNull(cy);\n }\n}  \n</code></pre>\n"},{"tags":["java","spring","maven","dependencies","springdoc"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688130366,"post_id":76589178,"comment_id":135036491,"body_markdown":"Just adding a dependency won&#39;t result in an exception. Share your whole problem including any relevant code and error messages.","body":"Just adding a dependency won&#39;t result in an exception. Share your whole problem including any relevant code and error messages."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1688131019,"post_id":76589178,"comment_id":135036647,"body_markdown":"My guess: this dependency (or whatever else) depends on old javax.* instead of the new `jakarta.servlet.http.HttpServletRequest`","body":"My guess: this dependency (or whatever else) depends on old javax.* instead of the new <code>jakarta.servlet.http.HttpServletRequest</code>"},{"owner":{"display_name":"user22143675"},"score":0,"creation_date":1688131836,"post_id":76589178,"comment_id":135036867,"body_markdown":"@Jorn [this](https://pastebin.com/NJdj5yPy) is the full stack trace. It appears when I start the app and it happens when I try to use this dependency.","body":"@Jorn <a href=\"https://pastebin.com/NJdj5yPy\" rel=\"nofollow noreferrer\">this</a> is the full stack trace. It appears when I start the app and it happens when I try to use this dependency."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1688132252,"post_id":76589178,"comment_id":135036967,"body_markdown":"You are using Spring Framework 6, which depends on jakarta as enterprise library and thus doesn&#39;t have javax on its classpath. I don&#39;t know this dependency, but it seems that it&#39;s outdated for new Spring projects.","body":"You are using Spring Framework 6, which depends on jakarta as enterprise library and thus doesn&#39;t have javax on its classpath. I don&#39;t know this dependency, but it seems that it&#39;s outdated for new Spring projects."}],"owner":{"display_name":"user22143675"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688130119,"creation_date":1688130119,"question_id":76589178,"body_markdown":"I have a Springboot 3.0.1 API for which I&#39;m triyng to add\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nTo, but it results in `java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest`.\r\n\r\nI removed other springdoc related dependencies from the project I&#39;m trying to run springdoc in. I am not sure what else could be the issue. It could be that one of the other projects that this project depends on is causing the issue, but I am not sure how to solve it\r\n\r\n[Output of dependency tree](https://pastebin.com/ScdRhbyw)\r\n","title":"ClassNotFoundException: javax.servlet.http.HttpServletRequest when adding new springdoc version","body":"<p>I have a Springboot 3.0.1 API for which I'm triyng to add</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To, but it results in <code>java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest</code>.</p>\n<p>I removed other springdoc related dependencies from the project I'm trying to run springdoc in. I am not sure what else could be the issue. It could be that one of the other projects that this project depends on is causing the issue, but I am not sure how to solve it</p>\n<p><a href=\"https://pastebin.com/ScdRhbyw\" rel=\"nofollow noreferrer\">Output of dependency tree</a></p>\n"},{"tags":["java","hibernate","jdbc"],"comments":[{"owner":{"account_id":3825012,"reputation":1457,"user_id":3172024,"display_name":"Naren"},"score":0,"creation_date":1392286757,"post_id":21750429,"comment_id":32900064,"body_markdown":"Is it a webApplication ??","body":"Is it a webApplication ??"},{"owner":{"account_id":3606752,"reputation":334,"user_id":3008764,"accept_rate":75,"display_name":"chuhx"},"score":0,"creation_date":1392286867,"post_id":21750429,"comment_id":32900129,"body_markdown":"No, till now it is just a class with a main method","body":"No, till now it is just a class with a main method"},{"owner":{"account_id":3825012,"reputation":1457,"user_id":3172024,"display_name":"Naren"},"score":1,"creation_date":1392287113,"post_id":21750429,"comment_id":32900283,"body_markdown":"check the hibernate.cfg.xml file ...parameters..some thing may be wrong in that","body":"check the hibernate.cfg.xml file ...parameters..some thing may be wrong in that"}],"answers":[{"tags":[],"owner":{"account_id":8959489,"reputation":1,"user_id":6682689,"display_name":"Abhijit Patra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470563379,"creation_date":1470563379,"answer_id":38812908,"question_id":21750429,"body_markdown":"This is the problem of your configuration file.\r\n\r\nCheck you Sid in\r\n\r\n&gt;     hibernate.cfg.xml file\r\n\r\nFor Oracle Express Edition:\r\n\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:xe&lt;/property&gt;\r\n\r\nFor Oracle Enterprise Edition:\r\n\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:orcl&lt;/property&gt;\r\n\r\n \r\n\r\n","title":"Hibernate, JDBC: Error calling Driver#connect","body":"<p>This is the problem of your configuration file.</p>\n\n<p>Check you Sid in</p>\n\n<blockquote>\n<pre><code>hibernate.cfg.xml file\n</code></pre>\n</blockquote>\n\n<p>For Oracle Express Edition:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.url\"&gt;jdbc:oracle:thin:@localhost:1521:xe&lt;/property&gt;\n</code></pre>\n\n<p>For Oracle Enterprise Edition:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.url\"&gt;jdbc:oracle:thin:@localhost:1521:orcl&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":3606752,"reputation":334,"user_id":3008764,"accept_rate":75,"display_name":"chuhx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7937,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688130105,"creation_date":1392284638,"question_id":21750429,"body_markdown":"I try to use Hibernate to connect to my database. But when I build my SessionFactory, it always throws a JDBCCOnnectionException: Error calling Driver#connect\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:89)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:206)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:178)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:89)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:206)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:178)\r\n\tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1885)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1843)\r\n\tat HibernateTest.main(HibernateTest.java:19)\r\n\r\nCode:\r\n\r\n    Configuration cfg = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);         \r\n        StandardServiceRegistryBuilder sb = new StandardServiceRegistryBuilder();\r\n        sb.applySettings(cfg.getProperties());\r\n        StandardServiceRegistry standardServiceRegistry = sb.build();                   \r\n        SessionFactory sessionFactory = cfg.buildSessionFactory(standardServiceRegistry); //&lt;-- Exception here\r\n\t\tSystem.err.println(&quot;configuration done&quot;);\r\n\r\nThe hibernate.cfg.xml file was loaded complete and successful.\r\nI also added, the mysql-connector-java-5.1.29.bin.jar to my buildpath.","title":"Hibernate, JDBC: Error calling Driver#connect","body":"<p>I try to use Hibernate to connect to my database. But when I build my SessionFactory, it always throws a JDBCCOnnectionException: Error calling Driver#connect</p>\n\n<pre><code>Exception in thread \"main\" org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\nat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\nat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\nat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\nat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\nat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:89)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:206)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:178)\nat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\nat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:89)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:206)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:178)\nat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1885)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1843)\nat HibernateTest.main(HibernateTest.java:19)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>Configuration cfg = new Configuration().configure(\"hibernate.cfg.xml\");         \n    StandardServiceRegistryBuilder sb = new StandardServiceRegistryBuilder();\n    sb.applySettings(cfg.getProperties());\n    StandardServiceRegistry standardServiceRegistry = sb.build();                   \n    SessionFactory sessionFactory = cfg.buildSessionFactory(standardServiceRegistry); //&lt;-- Exception here\n    System.err.println(\"configuration done\");\n</code></pre>\n\n<p>The hibernate.cfg.xml file was loaded complete and successful.\nI also added, the mysql-connector-java-5.1.29.bin.jar to my buildpath.</p>\n"},{"tags":["java","jboss","keycloak"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1483397019,"post_id":41432345,"comment_id":70074206,"body_markdown":"It doesn&#39;t sound like your `JAVA_HOME` is defined correctly.","body":"It doesn&#39;t sound like your <code>JAVA_HOME</code> is defined correctly."},{"owner":{"account_id":8128647,"reputation":53,"user_id":6122651,"display_name":"Vishpalsinh Jadeja"},"score":0,"creation_date":1483421346,"post_id":41432345,"comment_id":70079881,"body_markdown":"which path i have to menthin in JAVA_HOME ?","body":"which path i have to menthin in JAVA_HOME ?"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1483432991,"post_id":41432345,"comment_id":70084968,"body_markdown":"http://stackoverflow.com/a/6521412/365237","body":"<a href=\"http://stackoverflow.com/a/6521412/365237\">stackoverflow.com/a/6521412/365237</a>"}],"answers":[{"tags":[],"owner":{"account_id":1952816,"reputation":104,"user_id":1756548,"display_name":"Elvis Rocha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1483396545,"creation_date":1483396545,"answer_id":41434086,"question_id":41432345,"body_markdown":"If is the latest version try running with JDK 8 instead 7.","title":"keyclock server is not working on windows?","body":"<p>If is the latest version try running with JDK 8 instead 7.</p>\n"}],"owner":{"account_id":8128647,"reputation":53,"user_id":6122651,"display_name":"Vishpalsinh Jadeja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41434086,"answer_count":1,"score":0,"last_activity_date":1688129917,"creation_date":1483385452,"question_id":41432345,"body_markdown":"**I am trying to install key-clock server but when I run standalone.bat file exception being thrown.**  \r\n\r\nI am using JDK 7.\r\n\r\n[**Image with exception**][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DUt3p.png","title":"keyclock server is not working on windows?","body":"<p><strong>I am trying to install key-clock server but when I run standalone.bat file exception being thrown.</strong></p>\n<p>I am using JDK 7.</p>\n<p><a href=\"https://i.stack.imgur.com/DUt3p.png\" rel=\"nofollow noreferrer\"><strong>Image with exception</strong></a></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":214894,"reputation":9047,"user_id":469153,"accept_rate":71,"display_name":"iirekm"},"score":1,"creation_date":1287389997,"post_id":3957094,"comment_id":4229337,"body_markdown":"Bad question, generally object-&gt;toString() is a one-way conversion. Sometimes toString()-&gt;object can be achieved, but not with all classes. Better use objectOutputStream as in some answer.","body":"Bad question, generally object-&gt;toString() is a one-way conversion. Sometimes toString()-&gt;object can be achieved, but not with all classes. Better use objectOutputStream as in some answer."}],"answers":[{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287385386,"creation_date":1287385386,"answer_id":3957118,"question_id":3957094,"body_markdown":"\r\n\r\nWhat did you try?\r\n\r\n    objectOutputStream.writeObject(hashMap);\r\n\r\nshould work just fine, providing that all the objects in the hashMap implement Serializable.","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>What did you try?</p>\n\n<pre><code>objectOutputStream.writeObject(hashMap);\n</code></pre>\n\n<p>should work just fine, providing that all the objects in the hashMap implement Serializable.</p>\n"},{"comments":[{"owner":{"account_id":186312,"reputation":9244,"user_id":423620,"accept_rate":88,"display_name":"Sameek Mishra"},"score":0,"creation_date":1287385606,"post_id":3957122,"comment_id":4228957,"body_markdown":"plz,could you explain this more detail.","body":"plz,could you explain this more detail."},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":1,"creation_date":1538127667,"post_id":3957122,"comment_id":92043737,"body_markdown":"THis answer makes no sense.","body":"THis answer makes no sense."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1538158564,"post_id":3957122,"comment_id":92060024,"body_markdown":"@WeareBorg\n, thanks for pointing it out, it is 8 year old answer which I wrote as a junior engineer. let me re-write it","body":"@WeareBorg , thanks for pointing it out, it is 8 year old answer which I wrote as a junior engineer. let me re-write it"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1538158562,"creation_date":1287385432,"answer_id":3957122,"question_id":3957094,"body_markdown":"`toString()` approach relies on implementation of `toString()` and it can be lossy in most of the cases.\r\n\r\nThere cannot be non lossy solution here. but a better one would be to use Object serialization \r\n\r\nserialize Object to String\r\n\r\n    private static String serialize(Serializable o) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n        oos.writeObject(o);\r\n        oos.close();\r\n        return Base64.getEncoder().encodeToString(baos.toByteArray());\r\n    }\r\n\r\ndeserialize String back to Object\r\n\r\n    private static Object deserialize(String s) throws IOException,\r\n            ClassNotFoundException {\r\n        byte[] data = Base64.getDecoder().decode(s);\r\n        ObjectInputStream ois = new ObjectInputStream(\r\n                new ByteArrayInputStream(data));\r\n        Object o = ois.readObject();\r\n        ois.close();\r\n        return o;\r\n    }\r\n\r\n\r\nHere if the user object has fields which are transient, they will be lost in the process.\r\n\r\n\r\n\r\n-----\r\n\r\nold answer\r\n\r\n-----\r\n\r\nOnce you convert HashMap to String using toString();  It&#39;s not that you can convert back it to Hashmap from that String, Its just its String representation.  \r\n  \r\n\r\nYou can either pass the reference to HashMap to method or you can serialize it   \r\n\r\nHere is the description for toString() [toString()][1]  \r\n[Here][2] is the sample code with explanation for Serialization.  \r\n\r\nand to pass hashMap to method as arg.  \r\n\r\n    public void sayHello(Map m){\r\n    \r\n    }\r\n    //calling block  \r\n    Map  hm = new HashMap();\r\n    sayHello(hm);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#toString()\r\n  [2]: http://www.javabeginner.com/uncategorized/java-serialization\r\n","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p><code>toString()</code> approach relies on implementation of <code>toString()</code> and it can be lossy in most of the cases.</p>\n\n<p>There cannot be non lossy solution here. but a better one would be to use Object serialization </p>\n\n<p>serialize Object to String</p>\n\n<pre><code>private static String serialize(Serializable o) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ObjectOutputStream oos = new ObjectOutputStream(baos);\n    oos.writeObject(o);\n    oos.close();\n    return Base64.getEncoder().encodeToString(baos.toByteArray());\n}\n</code></pre>\n\n<p>deserialize String back to Object</p>\n\n<pre><code>private static Object deserialize(String s) throws IOException,\n        ClassNotFoundException {\n    byte[] data = Base64.getDecoder().decode(s);\n    ObjectInputStream ois = new ObjectInputStream(\n            new ByteArrayInputStream(data));\n    Object o = ois.readObject();\n    ois.close();\n    return o;\n}\n</code></pre>\n\n<p>Here if the user object has fields which are transient, they will be lost in the process.</p>\n\n<hr>\n\n<p>old answer</p>\n\n<hr>\n\n<p>Once you convert HashMap to String using toString();  It's not that you can convert back it to Hashmap from that String, Its just its String representation.  </p>\n\n<p>You can either pass the reference to HashMap to method or you can serialize it   </p>\n\n<p>Here is the description for toString() <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#toString()\" rel=\"noreferrer\">toString()</a><br>\n<a href=\"http://www.javabeginner.com/uncategorized/java-serialization\" rel=\"noreferrer\">Here</a> is the sample code with explanation for Serialization.  </p>\n\n<p>and to pass hashMap to method as arg.  </p>\n\n<pre><code>public void sayHello(Map m){\n\n}\n//calling block  \nMap  hm = new HashMap();\nsayHello(hm);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287385873,"creation_date":1287385873,"answer_id":3957155,"question_id":3957094,"body_markdown":"It is possible to rebuild a collection out of its string presentation but it will not work if the elements of the collection don&#39;t override their own `toString` method.\r\n\r\nTherefore it&#39;s much safer and easier to use third party library like [XStream][1] which streams objects in human readable XML.\r\n\r\n\r\n  [1]: http://xstream.codehaus.org/","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>It is possible to rebuild a collection out of its string presentation but it will not work if the elements of the collection don't override their own <code>toString</code> method.</p>\n\n<p>Therefore it's much safer and easier to use third party library like <a href=\"http://xstream.codehaus.org/\" rel=\"nofollow\">XStream</a> which streams objects in human readable XML.</p>\n"},{"tags":[],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287386523,"creation_date":1287386523,"answer_id":3957201,"question_id":3957094,"body_markdown":"You cannot revert back from string to an Object. So you will need to do this:\r\n\r\n    HashMap&lt;K, V&gt; map = new HashMap&lt;K, V&gt;();\r\n    \r\n    //Write:\r\n    OutputStream os = new FileOutputStream(fileName.ser);\r\n    ObjectOutput oo = new ObjectOutputStream(os);\r\n    oo.writeObject(map);\r\n    oo.close();\r\n    \r\n    //Read:\r\n    InputStream is = new FileInputStream(fileName.ser);\r\n    ObjectInput oi = new ObjectInputStream(is);\r\n    HashMap&lt;K, V&gt; newMap = oi.readObject();\r\n    oi.close();\r\n\r\n\r\n\r\n","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>You cannot revert back from string to an Object. So you will need to do this:</p>\n\n<pre><code>HashMap&lt;K, V&gt; map = new HashMap&lt;K, V&gt;();\n\n//Write:\nOutputStream os = new FileOutputStream(fileName.ser);\nObjectOutput oo = new ObjectOutputStream(os);\noo.writeObject(map);\noo.close();\n\n//Read:\nInputStream is = new FileInputStream(fileName.ser);\nObjectInput oi = new ObjectInputStream(is);\nHashMap&lt;K, V&gt; newMap = oi.readObject();\noi.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":2,"creation_date":1446792231,"post_id":3957232,"comment_id":54900388,"body_markdown":"I think he means the methods are called at different instances. i.e Instance A serializes the `Map` to string and instance B must deserialize the string into a `Map` object.","body":"I think he means the methods are called at different instances. i.e Instance A serializes the <code>Map</code> to string and instance B must deserialize the string into a <code>Map</code> object."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1287386819,"creation_date":1287386819,"answer_id":3957232,"question_id":3957094,"body_markdown":"&gt; i converted HashMap into an String\r\n&gt; using toString() method and pass to\r\n&gt; the another method that take an String\r\n&gt; and convert this String into HashMap\r\n&gt; object\r\n\r\nThis is a very, **very bad** way to pass around a HashMap. \r\n\r\nIt can theoretically work, but there&#39;s just way too much that can go wrong (and it will perform very badly). Obviously, in your case something does go wrong. We can&#39;t say what without seeing your code.\r\n\r\nBut a much better solution would be to change that &quot;another method&quot; so that it just takes a `HashMap` as parameter rather than a String representation of one.","title":"Convert HashMap.toString() back to HashMap in Java","body":"<blockquote>\n  <p>i converted HashMap into an String\n  using toString() method and pass to\n  the another method that take an String\n  and convert this String into HashMap\n  object</p>\n</blockquote>\n\n<p>This is a very, <strong>very bad</strong> way to pass around a HashMap. </p>\n\n<p>It can theoretically work, but there's just way too much that can go wrong (and it will perform very badly). Obviously, in your case something does go wrong. We can't say what without seeing your code.</p>\n\n<p>But a much better solution would be to change that \"another method\" so that it just takes a <code>HashMap</code> as parameter rather than a String representation of one.</p>\n"},{"comments":[{"owner":{"account_id":482212,"reputation":1655,"user_id":896465,"accept_rate":58,"display_name":"seyed"},"score":1,"creation_date":1338382442,"post_id":3958306,"comment_id":14077964,"body_markdown":"`map.put(&quot;k=2&quot;, &quot;v=2&quot;);\nSystem.out.println(map2.get(&quot;k=2&quot;));`output is:`null`","body":"<code>map.put(&quot;k=2&quot;, &quot;v=2&quot;); System.out.println(map2.get(&quot;k=2&quot;));</code>output is:<code>null</code>"},{"owner":{"account_id":3878043,"reputation":321,"user_id":3231743,"display_name":"fuggi"},"score":0,"creation_date":1574438863,"post_id":3958306,"comment_id":104246044,"body_markdown":"@seyed You need to encode (e.g. URLencode) the keys and values before converting it into string and decode after de-converting the string to avoid any syntax issues.","body":"@seyed You need to encode (e.g. URLencode) the keys and values before converting it into string and decode after de-converting the string to avoid any syntax issues."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1287398273,"creation_date":1287398273,"answer_id":3958306,"question_id":3957094,"body_markdown":"It will work if toString() contains all data needed to restore the object. For example it will work for map of strings (where string is used as key and value):\r\n\r\n    // create map\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    // populate the map\r\n    \r\n    // create string representation\r\n    String str = map.toString();\r\n    \r\n    // use properties to restore the map\r\n    Properties props = new Properties();\r\n    props.load(new StringReader(str.substring(1, str.length() - 1).replace(&quot;, &quot;, &quot;\\n&quot;)));\t\t\r\n    Map&lt;String, String&gt; map2 = new HashMap&lt;String, String&gt;();\r\n    for (Map.Entry&lt;Object, Object&gt; e : props.entrySet()) {\r\n    \tmap2.put((String)e.getKey(), (String)e.getValue());\r\n    }\r\n\r\nThis works although I really do not understand why do you need this.\r\n\r\n","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>It will work if toString() contains all data needed to restore the object. For example it will work for map of strings (where string is used as key and value):</p>\n\n<pre><code>// create map\nMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n// populate the map\n\n// create string representation\nString str = map.toString();\n\n// use properties to restore the map\nProperties props = new Properties();\nprops.load(new StringReader(str.substring(1, str.length() - 1).replace(\", \", \"\\n\")));       \nMap&lt;String, String&gt; map2 = new HashMap&lt;String, String&gt;();\nfor (Map.Entry&lt;Object, Object&gt; e : props.entrySet()) {\n    map2.put((String)e.getKey(), (String)e.getValue());\n}\n</code></pre>\n\n<p>This works although I really do not understand why do you need this.</p>\n"},{"tags":[],"owner":{"account_id":174100,"reputation":4579,"user_id":403255,"accept_rate":33,"display_name":"Vinothkumar Arputharaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342212563,"creation_date":1342210507,"answer_id":11477727,"question_id":3957094,"body_markdown":"Are you restricted to use only `HashMap` ??\r\n\r\nWhy can&#39;t it be so much flexible `JSONObject` you can do a lot with it.\r\n\r\nYou can convert `String jsonString` to `JSONObject jsonObj`\r\n\r\n\tJSONObject jsonObj = new JSONObject(jsonString);\r\n\tIterator it = jsonObj.keys();\r\n\r\n\twhile(it.hasNext())\r\n\t{\r\n\t\tString key = it.next().toString();\r\n\t\tString value = jsonObj.get(key).toString();\r\n\t}","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>Are you restricted to use only <code>HashMap</code> ??</p>\n\n<p>Why can't it be so much flexible <code>JSONObject</code> you can do a lot with it.</p>\n\n<p>You can convert <code>String jsonString</code> to <code>JSONObject jsonObj</code></p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(jsonString);\nIterator it = jsonObj.keys();\n\nwhile(it.hasNext())\n{\n    String key = it.next().toString();\n    String value = jsonObj.get(key).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401712641,"creation_date":1401712641,"answer_id":23994733,"question_id":3957094,"body_markdown":"you cannot do this directly but i did this in a crazy way as below...\r\n\r\nThe basic idea is that, 1st you need to convert HashMap String into Json then you can deserialize Json using Gson/Genson etc into HashMap again.\r\n\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tprivate HashMap&lt;String, Object&gt; toHashMap(String s) {\r\n\t\tHashMap&lt;String, Object&gt; map = null;\r\n\t\ttry {\r\n\t\t\tmap = new Genson().deserialize(toJson(s), HashMap.class);\r\n\t\t} catch (TransformationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\n\tprivate String toJson(String s) {\r\n\t\ts = s.substring(0, s.length()).replace(&quot;{&quot;, &quot;{\\&quot;&quot;);\r\n\t\ts = s.substring(0, s.length()).replace(&quot;}&quot;, &quot;\\&quot;}&quot;);\r\n\t\ts = s.substring(0, s.length()).replace(&quot;, &quot;, &quot;\\&quot;, \\&quot;&quot;);\r\n\t\ts = s.substring(0, s.length()).replace(&quot;=&quot;, &quot;\\&quot;:\\&quot;&quot;);\r\n\t\ts = s.substring(0, s.length()).replace(&quot;\\&quot;[&quot;, &quot;[&quot;);\r\n\t\ts = s.substring(0, s.length()).replace(&quot;]\\&quot;&quot;, &quot;]&quot;);\r\n\t\ts = s.substring(0, s.length()).replace(&quot;}\\&quot;, \\&quot;{&quot;, &quot;}, {&quot;);\r\n\t\treturn s;\r\n\t}\r\n\r\nimplementation...\r\n\r\n\r\n    HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    map.put(&quot;Name&quot;, &quot;Suleman&quot;);\r\n    map.put(&quot;Country&quot;, &quot;Pakistan&quot;);\r\n    String s = map.toString();\r\n    HashMap&lt;String, Object&gt; newMap = toHashMap(s);\r\n    System.out.println(newMap);","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>you cannot do this directly but i did this in a crazy way as below...</p>\n\n<p>The basic idea is that, 1st you need to convert HashMap String into Json then you can deserialize Json using Gson/Genson etc into HashMap again.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivate HashMap&lt;String, Object&gt; toHashMap(String s) {\n    HashMap&lt;String, Object&gt; map = null;\n    try {\n        map = new Genson().deserialize(toJson(s), HashMap.class);\n    } catch (TransformationException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return map;\n}\n\nprivate String toJson(String s) {\n    s = s.substring(0, s.length()).replace(\"{\", \"{\\\"\");\n    s = s.substring(0, s.length()).replace(\"}\", \"\\\"}\");\n    s = s.substring(0, s.length()).replace(\", \", \"\\\", \\\"\");\n    s = s.substring(0, s.length()).replace(\"=\", \"\\\":\\\"\");\n    s = s.substring(0, s.length()).replace(\"\\\"[\", \"[\");\n    s = s.substring(0, s.length()).replace(\"]\\\"\", \"]\");\n    s = s.substring(0, s.length()).replace(\"}\\\", \\\"{\", \"}, {\");\n    return s;\n}\n</code></pre>\n\n<p>implementation...</p>\n\n<pre><code>HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nmap.put(\"Name\", \"Suleman\");\nmap.put(\"Country\", \"Pakistan\");\nString s = map.toString();\nHashMap&lt;String, Object&gt; newMap = toHashMap(s);\nSystem.out.println(newMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171407,"reputation":2079,"user_id":398802,"accept_rate":63,"display_name":"Ayush Goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436435324,"creation_date":1436434503,"answer_id":31313619,"question_id":3957094,"body_markdown":"I hope you actually need to get the value from string by passing the hashmap key. If that is the case, then we don&#39;t have to convert it back to Hashmap. Use following method and you will be able to get the value as if it was retrieved from Hashmap itself. \r\n\r\n    String string = hash.toString();\r\n    String result = getValueFromStringOfHashMap(string, &quot;my_key&quot;);\r\n\r\n    /**\r\n     * To get a value from string of hashmap by passing key that existed in Hashmap before converting to String.\r\n     * Sample string: {fld_category=Principal category, test=test 1, fld_categoryID=1}\r\n     *\r\n     * @param string\r\n     * @param key\r\n     * @return value\r\n     */\r\n    public static String getValueFromStringOfHashMap(String string, String key) {\r\n\r\n\r\n        int start_index = string.indexOf(key) + key.length() + 1;\r\n        int end_index = string.indexOf(&quot;,&quot;, start_index);\r\n        if (end_index == -1) { // because last key value pair doesn&#39;t have trailing comma (,)\r\n            end_index = string.indexOf(&quot;}&quot;);\r\n        }\r\n        String value = string.substring(start_index, end_index);\r\n\r\n        return value;\r\n    }\r\n\r\n\r\nDoes the job for me. ","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>I hope you actually need to get the value from string by passing the hashmap key. If that is the case, then we don't have to convert it back to Hashmap. Use following method and you will be able to get the value as if it was retrieved from Hashmap itself. </p>\n\n<pre><code>String string = hash.toString();\nString result = getValueFromStringOfHashMap(string, \"my_key\");\n\n/**\n * To get a value from string of hashmap by passing key that existed in Hashmap before converting to String.\n * Sample string: {fld_category=Principal category, test=test 1, fld_categoryID=1}\n *\n * @param string\n * @param key\n * @return value\n */\npublic static String getValueFromStringOfHashMap(String string, String key) {\n\n\n    int start_index = string.indexOf(key) + key.length() + 1;\n    int end_index = string.indexOf(\",\", start_index);\n    if (end_index == -1) { // because last key value pair doesn't have trailing comma (,)\n        end_index = string.indexOf(\"}\");\n    }\n    String value = string.substring(start_index, end_index);\n\n    return value;\n}\n</code></pre>\n\n<p>Does the job for me. </p>\n"},{"tags":[],"owner":{"account_id":7517425,"reputation":1,"user_id":5710400,"display_name":"Akash EJ"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1451478819,"creation_date":1451478819,"answer_id":34529653,"question_id":3957094,"body_markdown":"This may be inefficient and indirect. But\r\n\r\n        String mapString = &quot;someMap.toString()&quot;;\r\n        new HashMap&lt;&gt;(net.sf.json.JSONObject.fromObject(mapString));\r\n\r\nshould work !!!\r\n","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>This may be inefficient and indirect. But</p>\n\n<pre><code>    String mapString = \"someMap.toString()\";\n    new HashMap&lt;&gt;(net.sf.json.JSONObject.fromObject(mapString));\n</code></pre>\n\n<p>should work !!!</p>\n"},{"tags":[],"owner":{"account_id":14448700,"reputation":21,"user_id":10578867,"display_name":"Sagar Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568793059,"creation_date":1568790368,"answer_id":57986898,"question_id":3957094,"body_markdown":"Using ByteStream can convert the String but it can encounter OutOfMemory exception in case of large Strings. Baeldung provides some nice solutions in his pot here : [https://www.baeldung.com/java-map-to-string-conversion][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-map-to-string-conversion\r\n\r\nUsing StringBuilder : \r\n\r\n    public String convertWithIteration(Map&lt;Integer, ?&gt; map) {\r\n    StringBuilder mapAsString = new StringBuilder(&quot;{&quot;);\r\n    for (Integer key : map.keySet()) {\r\n        mapAsString.append(key + &quot;=&quot; + map.get(key) + &quot;, &quot;);\r\n    }\r\n    mapAsString.delete(mapAsString.length()-2, mapAsString.length()).append(&quot;}&quot;);\r\n    return mapAsString.toString(); }\r\n\r\nPlease note that lambdas are only available at language level 8 and above\r\nUsing Stream : \r\n\r\n    public String convertWithStream(Map&lt;Integer, ?&gt; map) {\r\n    String mapAsString = map.keySet().stream()\r\n      .map(key -&gt; key + &quot;=&quot; + map.get(key))\r\n      .collect(Collectors.joining(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;));\r\n    return mapAsString; }\r\n\r\nConverting String Back to Map using Stream : \r\n\r\n    public Map&lt;String, String&gt; convertWithStream(String mapAsString) {\r\n    Map&lt;String, String&gt; map = Arrays.stream(mapAsString.split(&quot;,&quot;))\r\n      .map(entry -&gt; entry.split(&quot;=&quot;))\r\n      .collect(Collectors.toMap(entry -&gt; entry[0], entry -&gt; entry[1]));\r\n    return map; }\r\n","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>Using ByteStream can convert the String but it can encounter OutOfMemory exception in case of large Strings. Baeldung provides some nice solutions in his pot here : <a href=\"https://www.baeldung.com/java-map-to-string-conversion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-map-to-string-conversion</a></p>\n\n<p>Using StringBuilder : </p>\n\n<pre><code>public String convertWithIteration(Map&lt;Integer, ?&gt; map) {\nStringBuilder mapAsString = new StringBuilder(\"{\");\nfor (Integer key : map.keySet()) {\n    mapAsString.append(key + \"=\" + map.get(key) + \", \");\n}\nmapAsString.delete(mapAsString.length()-2, mapAsString.length()).append(\"}\");\nreturn mapAsString.toString(); }\n</code></pre>\n\n<p>Please note that lambdas are only available at language level 8 and above\nUsing Stream : </p>\n\n<pre><code>public String convertWithStream(Map&lt;Integer, ?&gt; map) {\nString mapAsString = map.keySet().stream()\n  .map(key -&gt; key + \"=\" + map.get(key))\n  .collect(Collectors.joining(\", \", \"{\", \"}\"));\nreturn mapAsString; }\n</code></pre>\n\n<p>Converting String Back to Map using Stream : </p>\n\n<pre><code>public Map&lt;String, String&gt; convertWithStream(String mapAsString) {\nMap&lt;String, String&gt; map = Arrays.stream(mapAsString.split(\",\"))\n  .map(entry -&gt; entry.split(\"=\"))\n  .collect(Collectors.toMap(entry -&gt; entry[0], entry -&gt; entry[1]));\nreturn map; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15676142,"reputation":91,"user_id":11311359,"display_name":"Gopinathsgn"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688129805,"creation_date":1578997631,"answer_id":59731880,"question_id":3957094,"body_markdown":"You can make use of Google&#39;s &quot;GSON&quot; open-source Java library for this,\r\n\r\nExample input (Map.toString) : {name=Bane, id=20}\r\n\r\nTo Insert again in to HashMap you can use below code:\r\n\r\n    yourMap = new Gson().fromJson(yourString, HashMap.class);\r\n\r\nThat&#39;s it. \r\n\r\n(In Jackson Library mapper It will produce exception &quot;expecting double-quote to start field name&quot;)","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>You can make use of Google's &quot;GSON&quot; open-source Java library for this,</p>\n<p>Example input (Map.toString) : {name=Bane, id=20}</p>\n<p>To Insert again in to HashMap you can use below code:</p>\n<pre><code>yourMap = new Gson().fromJson(yourString, HashMap.class);\n</code></pre>\n<p>That's it.</p>\n<p>(In Jackson Library mapper It will produce exception &quot;expecting double-quote to start field name&quot;)</p>\n"}],"owner":{"account_id":186312,"reputation":9244,"user_id":423620,"accept_rate":88,"display_name":"Sameek Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115263,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":3957122,"answer_count":12,"score":36,"last_activity_date":1688129805,"creation_date":1287385149,"question_id":3957094,"body_markdown":"I put a key-value pair in a Java `HashMap` and converted it to a `String` using the `toString()` method.\r\n\r\nIs it possible to convert this `String` representation back to a `HashMap` object and retrieve the value with its corresponding key?\r\n\r\nThanks\r\n\r\n","title":"Convert HashMap.toString() back to HashMap in Java","body":"<p>I put a key-value pair in a Java <code>HashMap</code> and converted it to a <code>String</code> using the <code>toString()</code> method.</p>\n\n<p>Is it possible to convert this <code>String</code> representation back to a <code>HashMap</code> object and retrieve the value with its corresponding key?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","remedy"],"answers":[{"comments":[{"owner":{"account_id":12219775,"reputation":65,"user_id":8919156,"display_name":"dtamab"},"score":1,"creation_date":1594366511,"post_id":62784469,"comment_id":111106134,"body_markdown":"Thanks for the answer! I finally made an automation with selenium and is on production now, but your solution seems simpler as I thought. So I take note of it and I&#39;ll keep it for the future I&#39;m sure I&#39;ll have to use it","body":"Thanks for the answer! I finally made an automation with selenium and is on production now, but your solution seems simpler as I thought. So I take note of it and I&#39;ll keep it for the future I&#39;m sure I&#39;ll have to use it"}],"tags":[],"owner":{"account_id":104555,"reputation":266,"user_id":279478,"accept_rate":100,"display_name":"DannyK"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594158774,"creation_date":1594158774,"answer_id":62784469,"question_id":62697138,"body_markdown":"You need to update your cerrarIncidencias function. But first you need to ask what categorisation you need to update.\r\n\r\nThere are three levels of categorisation.\r\n\r\n 1. Operational Categorisation\r\n 2. Product Categorisation\r\n 3. Resolution Categorisation\r\n\r\nSo decide which one you want to populate and get the field id for that field. For this example, I will say \r\nCategorisation Tier 1 which is 1000000063 \r\nYou&#39;ll need to add to CAMPOS_HPD_HELP_DESK_CATEGORISATION_TIER1=1000000063 to your Constantes file.\r\n\r\nThen in your block\r\n\r\n    for (Entry entry : entries)\r\n\r\nYou need something like:\r\n\r\n    if (entry.get(Constantes.CAMPOS_HPD_HELP_DESK_CATEGORISATION_TIER1).getValue() == null) {\r\n    \tentry.put(Constantes.CAMPOS_HPD_HELP_DESK_CATEGORISATION_TIER1, new Value(&quot;Your Value for Categorisation Tier 1&quot;));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Update &quot;categorization&quot; with Java API BMC Remedy before closing incident","body":"<p>You need to update your cerrarIncidencias function. But first you need to ask what categorisation you need to update.</p>\n<p>There are three levels of categorisation.</p>\n<ol>\n<li>Operational Categorisation</li>\n<li>Product Categorisation</li>\n<li>Resolution Categorisation</li>\n</ol>\n<p>So decide which one you want to populate and get the field id for that field. For this example, I will say\nCategorisation Tier 1 which is 1000000063\nYou'll need to add to CAMPOS_HPD_HELP_DESK_CATEGORISATION_TIER1=1000000063 to your Constantes file.</p>\n<p>Then in your block</p>\n<pre><code>for (Entry entry : entries)\n</code></pre>\n<p>You need something like:</p>\n<pre><code>if (entry.get(Constantes.CAMPOS_HPD_HELP_DESK_CATEGORISATION_TIER1).getValue() == null) {\n    entry.put(Constantes.CAMPOS_HPD_HELP_DESK_CATEGORISATION_TIER1, new Value(&quot;Your Value for Categorisation Tier 1&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":12219775,"reputation":65,"user_id":8919156,"display_name":"dtamab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62784469,"answer_count":1,"score":1,"last_activity_date":1688129668,"creation_date":1593695400,"question_id":62697138,"body_markdown":"I have an inherited project, a BMC Remedy application and never worked with this Remedy stuff. This project modifies Incidents and Work Orders from remedy through the Remedy API. I have literally no idea on this.\r\n\r\nThere&#39;s a process that closes incidents that are in resolved state and have not been modified in the last 36 hours. Sometimes, those incidents have the &#39;categorization&#39; field empty, and the client wants to fill this categorization before closing it.\r\n\r\nThis is part of the code:\r\n\r\n**Connection to Remedy:**\r\n\r\n    public static void main(String args[]) {\r\n    \r\n    \t\t// Inicializamos el logger\r\n    \t\tjava.util.logging.LogManager.getLogManager().reset();\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\t// Nos conectamos a Remedy y a MySQL\r\n    \t\t\tLOGGER.info(&quot;Conectando a bases de datos&quot;);\r\n    \t\t\tif (!connect()) {\r\n    \t\t\t\tthrow new Exception(&quot;Fallo al conectar a Remedy o a MySQL&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Metodo para cerrar incidecias resueltas\r\n    \t\t\tremedy.cerrarIncidencias(sql.queryResueltas36h());\r\n    \t\t\t\r\n    \t\t\t// Desconectamos de Remedy y MySQL\r\n    \t\t\tdisconnect();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error critico: &quot;, e);\r\n    \t\t\ttry {\r\n    \t\t\t\tremedy.desconectar();\r\n    \t\t\t} catch (Exception e1) {\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\tsql.desconectar();\r\n    \t\t\t} catch (Exception e1) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n**Function to closing incidents:**\r\n\r\n    public void cerrarIncidencias(List&lt;String&gt; incs) throws Exception {\r\n    \t\tint contador = 1;\r\n    \t\tfor (String inc : incs) {\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\t// Obtenemos la incidencia\r\n    \t\t\t\tQualifierInfo qual = server.parseQualification(&quot;HPD:Help Desk&quot;, &quot;&#39;Incident Number&#39; = \\&quot;&quot; + inc + &quot;\\&quot;&quot;);\r\n    \t\t\t\tList&lt;Entry&gt; entries = server.getListEntryObjects(&quot;HPD:Help Desk&quot;, qual, 0, 0, null,\r\n    \t\t\t\t\t\tConstantes.CAMPOS_HPD_HELP_DESK_CERRAR_INCIDENCIA, false, null);\r\n    \r\n    \t\t\t\t// Rellenamos un comentario generico\r\n    \t\t\t\tEntry comment = new Entry();\r\n    \t\t\t\tcomment.put(Constantes.HPD_WORKLOG_DETAILED_DESCRIPTION, new Value(&quot;Cierre automatico tras 36 horas en resuelto.&quot;));\r\n    \t\t\t\tcomment.put(Constantes.HPD_WORKLOG_INCIDENT_NUMBER, new Value(inc));\r\n    \t\t\t\tcomment.put(Constantes.HPD_WORKLOG_DESCRIPTION, new Value(&quot;----&quot;));\r\n    \t\t\t\tcomment.put(Constantes.HPD_WORKLOG_WORKLOG_TYPE, new Value(8000));\r\n    \r\n    \t\t\t\tfor (Entry entry : entries) {\r\n    \t\t\t\t\tentry.put(Constantes.HPD_HELP_DESK_STATUS, new Value(5)); // Estado a cerrado\r\n    \t\t\t\t\tif (entry.get(Constantes.HPD_HELP_DESK_ASSIGNEE_LOGIN_ID).getValue() == null) {\r\n    \t\t\t\t\t\tentry.put(Constantes.HPD_HELP_DESK_ASSIGNEE_LOGIN_ID, new Value(&quot;lmoren70&quot;));\r\n    \t\t\t\t\t\tentry.put(Constantes.HPD_HELP_DESK_ASSIGNEE, new Value(&quot;Luis Manuel Moreno Rodriguez&quot;)); // Usuario asignado\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tserver.setEntry(&quot;HPD:Help Desk&quot;, entry.getEntryId(), entry, null, 0);\r\n    \t\t\t\t\tserver.createEntry(&quot;HPD:WorkLog&quot;, comment);\r\n    \t\t\t\t\tLOGGER.info(&quot;Incidencia &quot; + inc + &quot; cerrada con exito - &quot; + contador + &quot; de &quot; + incs.size());\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tLOGGER.error(&quot;Incidencia &quot; + inc + &quot; NO se ha podido cerrar - &quot; + contador + &quot; de &quot; + incs.size() + &quot;\\n&quot;\r\n    \t\t\t\t\t\t+ e.getMessage());\r\n    \t\t\t}\r\n    \t\t\tcontador++;\r\n    \t\t}\r\n    \t}\r\n\r\n**Query:**\r\nI thought to do an update directly to the database BUT this database reads from Remedy, so I have to update Remedy.\r\n\r\n    public List&lt;String&gt; queryResueltas36h() {\r\n    \t\tString query = &quot;SELECT inc FROM vdf_tickets, vdf_groups WHERE status = &#39;Resuelto&#39; AND LENGTH(inc) &gt; 9 &quot;\r\n    \t\t\t\t+ &quot;AND vdf_groups.group = creator_group AND (vdf_groups.categorization = &#39;TES&#39; OR vdf_groups.group IN (&#39;TES&#39;, &#39;ARCA&#39;, &#39;NetOps TES Assurance&#39;)) &quot;\r\n    \t\t\t\t+ &quot;AND last_resolved_date &lt; DATE_ADD(NOW(), INTERVAL -36 HOUR) ORDER BY inc DESC&quot;;\r\n    \t\tList&lt;String&gt; incs = new ArrayList&lt;String&gt;();\r\n    \t\ttry {\r\n    \t\t\tstmt = conn.createStatement();\r\n    \t\t\tResultSet rs = stmt.executeQuery(query);\r\n    \t\t\twhile (rs.next()) {\r\n    \t\t\t\tString inc = rs.getString(&quot;inc&quot;);\r\n    \t\t\t\tincs.add(inc);\r\n    \t\t\t}\r\n    \t\t\tstmt.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error al obtener lista de incidencias de la base de datos&quot;, e);\r\n    \t\t\ttry {\r\n    \t\t\t\tstmt.close();\r\n    \t\t\t} catch (Exception e1) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn incs;\r\n    \t}\r\n\r\nWhat I want is to put the categorization to &#39;TES&#39;, in case there&#39;s no categorization.\r\n\r\nOne option I thought is to do an automation with Selenium and Python and not touching this code, but is far better to have all in the same project. ","title":"Update &quot;categorization&quot; with Java API BMC Remedy before closing incident","body":"<p>I have an inherited project, a BMC Remedy application and never worked with this Remedy stuff. This project modifies Incidents and Work Orders from remedy through the Remedy API. I have literally no idea on this.</p>\n<p>There's a process that closes incidents that are in resolved state and have not been modified in the last 36 hours. Sometimes, those incidents have the 'categorization' field empty, and the client wants to fill this categorization before closing it.</p>\n<p>This is part of the code:</p>\n<p><strong>Connection to Remedy:</strong></p>\n<pre><code>public static void main(String args[]) {\n\n        // Inicializamos el logger\n        java.util.logging.LogManager.getLogManager().reset();\n\n        try {\n\n            // Nos conectamos a Remedy y a MySQL\n            LOGGER.info(&quot;Conectando a bases de datos&quot;);\n            if (!connect()) {\n                throw new Exception(&quot;Fallo al conectar a Remedy o a MySQL&quot;);\n            }\n\n            // Metodo para cerrar incidecias resueltas\n            remedy.cerrarIncidencias(sql.queryResueltas36h());\n            \n            // Desconectamos de Remedy y MySQL\n            disconnect();\n\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error critico: &quot;, e);\n            try {\n                remedy.desconectar();\n            } catch (Exception e1) {\n            }\n            try {\n                sql.desconectar();\n            } catch (Exception e1) {\n            }\n        }\n    }\n</code></pre>\n<p><strong>Function to closing incidents:</strong></p>\n<pre><code>public void cerrarIncidencias(List&lt;String&gt; incs) throws Exception {\n        int contador = 1;\n        for (String inc : incs) {\n            try {\n\n                // Obtenemos la incidencia\n                QualifierInfo qual = server.parseQualification(&quot;HPD:Help Desk&quot;, &quot;'Incident Number' = \\&quot;&quot; + inc + &quot;\\&quot;&quot;);\n                List&lt;Entry&gt; entries = server.getListEntryObjects(&quot;HPD:Help Desk&quot;, qual, 0, 0, null,\n                        Constantes.CAMPOS_HPD_HELP_DESK_CERRAR_INCIDENCIA, false, null);\n\n                // Rellenamos un comentario generico\n                Entry comment = new Entry();\n                comment.put(Constantes.HPD_WORKLOG_DETAILED_DESCRIPTION, new Value(&quot;Cierre automatico tras 36 horas en resuelto.&quot;));\n                comment.put(Constantes.HPD_WORKLOG_INCIDENT_NUMBER, new Value(inc));\n                comment.put(Constantes.HPD_WORKLOG_DESCRIPTION, new Value(&quot;----&quot;));\n                comment.put(Constantes.HPD_WORKLOG_WORKLOG_TYPE, new Value(8000));\n\n                for (Entry entry : entries) {\n                    entry.put(Constantes.HPD_HELP_DESK_STATUS, new Value(5)); // Estado a cerrado\n                    if (entry.get(Constantes.HPD_HELP_DESK_ASSIGNEE_LOGIN_ID).getValue() == null) {\n                        entry.put(Constantes.HPD_HELP_DESK_ASSIGNEE_LOGIN_ID, new Value(&quot;lmoren70&quot;));\n                        entry.put(Constantes.HPD_HELP_DESK_ASSIGNEE, new Value(&quot;Luis Manuel Moreno Rodriguez&quot;)); // Usuario asignado\n                    }\n                    server.setEntry(&quot;HPD:Help Desk&quot;, entry.getEntryId(), entry, null, 0);\n                    server.createEntry(&quot;HPD:WorkLog&quot;, comment);\n                    LOGGER.info(&quot;Incidencia &quot; + inc + &quot; cerrada con exito - &quot; + contador + &quot; de &quot; + incs.size());\n                }\n            } catch (Exception e) {\n                LOGGER.error(&quot;Incidencia &quot; + inc + &quot; NO se ha podido cerrar - &quot; + contador + &quot; de &quot; + incs.size() + &quot;\\n&quot;\n                        + e.getMessage());\n            }\n            contador++;\n        }\n    }\n</code></pre>\n<p><strong>Query:</strong>\nI thought to do an update directly to the database BUT this database reads from Remedy, so I have to update Remedy.</p>\n<pre><code>public List&lt;String&gt; queryResueltas36h() {\n        String query = &quot;SELECT inc FROM vdf_tickets, vdf_groups WHERE status = 'Resuelto' AND LENGTH(inc) &gt; 9 &quot;\n                + &quot;AND vdf_groups.group = creator_group AND (vdf_groups.categorization = 'TES' OR vdf_groups.group IN ('TES', 'ARCA', 'NetOps TES Assurance')) &quot;\n                + &quot;AND last_resolved_date &lt; DATE_ADD(NOW(), INTERVAL -36 HOUR) ORDER BY inc DESC&quot;;\n        List&lt;String&gt; incs = new ArrayList&lt;String&gt;();\n        try {\n            stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(query);\n            while (rs.next()) {\n                String inc = rs.getString(&quot;inc&quot;);\n                incs.add(inc);\n            }\n            stmt.close();\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error al obtener lista de incidencias de la base de datos&quot;, e);\n            try {\n                stmt.close();\n            } catch (Exception e1) {\n            }\n        }\n        return incs;\n    }\n</code></pre>\n<p>What I want is to put the categorization to 'TES', in case there's no categorization.</p>\n<p>One option I thought is to do an automation with Selenium and Python and not touching this code, but is far better to have all in the same project.</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"score":0,"creation_date":1688135813,"post_id":76589112,"comment_id":135037701,"body_markdown":"thanks, your pattern helped me to do mine","body":"thanks, your pattern helped me to do mine"}],"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688129640,"creation_date":1688129640,"answer_id":76589112,"question_id":76589028,"body_markdown":"for springboot 3.1.1 you can refer below code for security :\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n    \r\n        private final UserDetailServiceImpl userDetailsService;\r\n    \r\n    \r\n        private final BCryptPasswordEncoder encoder;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http\r\n                    .authorizeHttpRequests(authorize -&gt; authorize\r\n                            .requestMatchers(\r\n                                    &quot;/&quot;, &quot;/user/register&quot;,\r\n                                    &quot;/authenticate&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .httpBasic(Customizer.withDefaults())\r\n                    .csrf(AbstractHttpConfigurer::disable);\r\n    \r\n            return http.build();\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n            return new CustomAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(userDetailsService);\r\n            authenticationProvider.setPasswordEncoder(encoder);\r\n            return authenticationProvider;\r\n        }\r\n    }\r\n\r\nCustomAuthentcationManager \r\n \r\n\r\n    public class CustomAuthenticationManager implements AuthenticationManager {\r\n    \r\n        @Autowired\r\n        private DaoAuthenticationProvider authenticationProvider;\r\n\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            return authenticationProvider.authenticate(authentication);\r\n        }\r\n    }","title":"Spring migration from 2.7.x to 3.1.1 caused problem with WebSecurityConfigurerAdapter","body":"<p>for springboot 3.1.1 you can refer below code for security :</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserDetailServiceImpl userDetailsService;\n\n\n    private final BCryptPasswordEncoder encoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(\n                                &quot;/&quot;, &quot;/user/register&quot;,\n                                &quot;/authenticate&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable);\n\n        return http.build();\n\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return new CustomAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(encoder);\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>CustomAuthentcationManager</p>\n<pre><code>public class CustomAuthenticationManager implements AuthenticationManager {\n\n    @Autowired\n    private DaoAuthenticationProvider authenticationProvider;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        return authenticationProvider.authenticate(authentication);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688129640,"creation_date":1688128951,"question_id":76589028,"body_markdown":"Hello this is my class from older spring version and I neet to justify it to the newer one. I tried to do it with @Bean SecurityFilterChain but I can&#39;t find all parts from code I need, e.g. the csrf() is deprecated, the sessionManagament() is also deprecated, antMatchers doesn&#39;t exist ..\r\n\r\n\r\n    @Configuration\r\n    //@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Autowired\r\n      private StatelessAuthenticationFilter statelessAuthenticationFilter;\r\n    \r\n      @Value(&quot;true&quot;)\r\n      private Boolean securityEnabled;\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        if (!securityEnabled) {\r\n          http.csrf().disable();\r\n          return;\r\n        }\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().antMatcher(&quot;/re/**&quot;).authorizeRequests().antMatchers(&quot;/re/au/**&quot;).permitAll()\r\n            .anyRequest().authenticated().and()\r\n            .addFilterBefore(statelessAuthenticationFilter, UsernamePasswordAuthenticationFilter.class).csrf().disable();\r\n      }\r\n    }\r\n","title":"Spring migration from 2.7.x to 3.1.1 caused problem with WebSecurityConfigurerAdapter","body":"<p>Hello this is my class from older spring version and I neet to justify it to the newer one. I tried to do it with @Bean SecurityFilterChain but I can't find all parts from code I need, e.g. the csrf() is deprecated, the sessionManagament() is also deprecated, antMatchers doesn't exist ..</p>\n<pre><code>@Configuration\n//@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  private StatelessAuthenticationFilter statelessAuthenticationFilter;\n\n  @Value(&quot;true&quot;)\n  private Boolean securityEnabled;\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    if (!securityEnabled) {\n      http.csrf().disable();\n      return;\n    }\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().antMatcher(&quot;/re/**&quot;).authorizeRequests().antMatchers(&quot;/re/au/**&quot;).permitAll()\n        .anyRequest().authenticated().and()\n        .addFilterBefore(statelessAuthenticationFilter, UsernamePasswordAuthenticationFilter.class).csrf().disable();\n  }\n}\n</code></pre>\n"},{"tags":["java","android","google-maps-android-api-2"],"owner":{"account_id":28924643,"reputation":11,"user_id":22154810,"display_name":"Ajinkya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688127684,"creation_date":1688127684,"question_id":76588881,"body_markdown":"I am trying to calculate distance between two points using  SphericalUtil.computeDistanceBetween. The value which I provided is from **com.google.android.gms.maps.model.LatLng** but the required type is **com.google.android.libraries.maps.model.LatLng**\r\n\r\nHow do I resolve this?\r\n\r\nbuild.gradle\r\n```\r\nimplementation &#39;com.google.maps.android:android-maps-utils-v3:2.4.1&#39;\r\nimplementation &#39;com.google.android.play:integrity:1.1.0&#39;\r\nimplementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\nimplementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n```\r\n\r\n```\r\nLatLng userAddress = new LatLng(currentRiderLocation.getLatitude(), currentRiderLocation.getLongitude());\r\nLatLng destinationAddress = new LatLng(destination.getLatitude(), destination.getLongitude());\r\n\r\n double distance = SphericalUtil.computeDistanceBetween(userAddress,destinationAddress);\r\n```\r\n\r\nError\r\n`&#39;computeDistanceBetween(com.google.android.libraries.maps.model.LatLng, com.google.android.libraries.maps.model.LatLng)&#39; in &#39;com.google.maps.android.SphericalUtil&#39; cannot be applied to &#39;(com.google.android.gms.maps.model.LatLng, com.google.android.gms.maps.model.LatLng)&#39;`","title":"Passed value mismatch error for SphericalUtil.computeDistanceBetween()","body":"<p>I am trying to calculate distance between two points using  SphericalUtil.computeDistanceBetween. The value which I provided is from <strong>com.google.android.gms.maps.model.LatLng</strong> but the required type is <strong>com.google.android.libraries.maps.model.LatLng</strong></p>\n<p>How do I resolve this?</p>\n<p>build.gradle</p>\n<pre><code>implementation 'com.google.maps.android:android-maps-utils-v3:2.4.1'\nimplementation 'com.google.android.play:integrity:1.1.0'\nimplementation 'com.google.android.gms:play-services-maps:18.1.0'\nimplementation 'com.google.android.gms:play-services-location:21.0.1'\n</code></pre>\n<pre><code>LatLng userAddress = new LatLng(currentRiderLocation.getLatitude(), currentRiderLocation.getLongitude());\nLatLng destinationAddress = new LatLng(destination.getLatitude(), destination.getLongitude());\n\n double distance = SphericalUtil.computeDistanceBetween(userAddress,destinationAddress);\n</code></pre>\n<p>Error\n<code>'computeDistanceBetween(com.google.android.libraries.maps.model.LatLng, com.google.android.libraries.maps.model.LatLng)' in 'com.google.maps.android.SphericalUtil' cannot be applied to '(com.google.android.gms.maps.model.LatLng, com.google.android.gms.maps.model.LatLng)'</code></p>\n"},{"tags":["java","dictionary","kotlin","enums"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1625817499,"post_id":68313095,"comment_id":120733543,"body_markdown":"What if the list has two maps that both has the key `Enum.First`? Do you want to merge the sets?","body":"What if the list has two maps that both has the key <code>Enum.First</code>? Do you want to merge the sets?"}],"answers":[{"tags":[],"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625831222,"creation_date":1625829362,"answer_id":68315865,"question_id":68313095,"body_markdown":"This function flattens a list of maps to a single map. Note that if there are any duplicate keys, only the value for the last occurrence of the key will be present.\r\n\r\n    fun &lt;K, V&gt; flatten(list: List&lt;Map&lt;K, V&gt;&gt;): Map&lt;K, V&gt; =\r\n        mutableMapOf&lt;K, V&gt;().apply {\r\n            for (innerMap in list) putAll(innerMap)\r\n        }\r\n\r\nExample:\r\n\r\n    enum class Enum { First, Second }\r\n\r\n    fun main() {\r\n        val list = listOf(\r\n            mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)),\r\n            mapOf(Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;))\r\n        )\r\n        val map = flatten(list)\r\n        println(map)\r\n    }\r\n\r\nOutput:\r\n\r\n    {First=[one, two, three], Second=[four, five, six]}","title":"How to merge list of maps to one map in Kotlin?","body":"<p>This function flattens a list of maps to a single map. Note that if there are any duplicate keys, only the value for the last occurrence of the key will be present.</p>\n<pre><code>fun &lt;K, V&gt; flatten(list: List&lt;Map&lt;K, V&gt;&gt;): Map&lt;K, V&gt; =\n    mutableMapOf&lt;K, V&gt;().apply {\n        for (innerMap in list) putAll(innerMap)\n    }\n</code></pre>\n<p>Example:</p>\n<pre><code>enum class Enum { First, Second }\n\nfun main() {\n    val list = listOf(\n        mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)),\n        mapOf(Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;))\n    )\n    val map = flatten(list)\n    println(map)\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{First=[one, two, three], Second=[four, five, six]}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":0,"creation_date":1625831804,"post_id":68316266,"comment_id":120738816,"body_markdown":"Worth nothing that this will make a `Pair` for every `Map.Entry` before putting them in the new map. Maybe `associate { it.toPair() }` would make that clearer?","body":"Worth nothing that this will make a <code>Pair</code> for every <code>Map.Entry</code> before putting them in the new map. Maybe <code>associate { it.toPair() }</code> would make that clearer?"},{"owner":{"account_id":18589131,"reputation":3456,"user_id":13546747,"display_name":"Jatlin"},"score":0,"creation_date":1625832236,"post_id":68316266,"comment_id":120738967,"body_markdown":"Thanks, it&#39;s more concise now.","body":"Thanks, it&#39;s more concise now."},{"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":0,"creation_date":1625833320,"post_id":68316266,"comment_id":120739353,"body_markdown":"More concise, but I wanted to point out this creates N+1 extra objects: One extra list, and N pairs. My answer creates 0 extra objects.","body":"More concise, but I wanted to point out this creates N+1 extra objects: One extra list, and N pairs. My answer creates 0 extra objects."},{"owner":{"account_id":1535603,"reputation":13409,"user_id":1431750,"accept_rate":100,"display_name":"aneroid"},"score":0,"creation_date":1625838810,"post_id":68316266,"comment_id":120741631,"body_markdown":"@AdamMillerchip I think [my solution](https://stackoverflow.com/a/68317523/1431750) also has the same overhead - creating a Pair for each Entry. Don&#39;t know why Kotlin doesn&#39;t allow/have the feature to convert a list of same-typed-MapEntries to a Map with those Entries.","body":"@AdamMillerchip I think <a href=\"https://stackoverflow.com/a/68317523/1431750\">my solution</a> also has the same overhead - creating a Pair for each Entry. Don&#39;t know why Kotlin doesn&#39;t allow/have the feature to convert a list of same-typed-MapEntries to a Map with those Entries."},{"owner":{"account_id":18589131,"reputation":3456,"user_id":13546747,"display_name":"Jatlin"},"score":0,"creation_date":1625848225,"post_id":68316266,"comment_id":120745330,"body_markdown":"@AdamMillerchip Yes, I agree with you. It&#39;s just another solution. Thanks for pointing to this.","body":"@AdamMillerchip Yes, I agree with you. It&#39;s just another solution. Thanks for pointing to this."},{"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":2,"creation_date":1625850131,"post_id":68316266,"comment_id":120745943,"body_markdown":"@aneroid I was wondering about the lack of a `Map.Entry` -&gt; `Map` function too. I wonder if it&#39;s been proposed? It might be something they&#39;d consider adding. There are functions for `List&lt;Int&gt;` -&gt; `IntArray` etc., so `List&lt;Map.Entry&gt;` -&gt; `Map` seems fair game.","body":"@aneroid I was wondering about the lack of a <code>Map.Entry</code> -&gt; <code>Map</code> function too. I wonder if it&#39;s been proposed? It might be something they&#39;d consider adding. There are functions for <code>List&lt;Int&gt;</code> -&gt; <code>IntArray</code> etc., so <code>List&lt;Map.Entry&gt;</code> -&gt; <code>Map</code> seems fair game."},{"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":0,"creation_date":1625850898,"post_id":68316266,"comment_id":120746184,"body_markdown":"There is an issue raised, [KT-37942](https://youtrack.jetbrains.com/issue/KT-37942), but it&#39;s currently shelved because they don&#39;t see a realistic situation where you&#39;d need to do this conversion.","body":"There is an issue raised, <a href=\"https://youtrack.jetbrains.com/issue/KT-37942\" rel=\"nofollow noreferrer\">KT-37942</a>, but it&#39;s currently shelved because they don&#39;t see a realistic situation where you&#39;d need to do this conversion."},{"owner":{"account_id":1535603,"reputation":13409,"user_id":1431750,"accept_rate":100,"display_name":"aneroid"},"score":0,"creation_date":1625853944,"post_id":68316266,"comment_id":120747172,"body_markdown":"Nice find. I realised that collections.associate and .associateBy kinda provide this functionality, which I just added to my answer.","body":"Nice find. I realised that collections.associate and .associateBy kinda provide this functionality, which I just added to my answer."},{"owner":{"account_id":1920098,"reputation":1544,"user_id":1731824,"display_name":"lucasls"},"score":0,"creation_date":1688126785,"post_id":68316266,"comment_id":135035690,"body_markdown":"This will not merge the sets, will simply discard items when there&#39;s a key in common","body":"This will not merge the sets, will simply discard items when there&#39;s a key in common"}],"tags":[],"owner":{"account_id":18589131,"reputation":3456,"user_id":13546747,"display_name":"Jatlin"},"comment_count":9,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1625832139,"creation_date":1625831327,"answer_id":68316266,"question_id":68313095,"body_markdown":"Try this:\r\n\r\n    fun getMapOf(listOfMaps: List&lt;Map&lt;Enum, Set&lt;String&gt;&gt;&gt;): Map&lt;Enum, Set&lt;String&gt;&gt; {\r\n        return listOfMaps\r\n            .flatMap { map -&gt; map.entries }\r\n            .associate(Map.Entry&lt;Enum, Set&lt;String&gt;&gt;::toPair)\r\n\r\n    }","title":"How to merge list of maps to one map in Kotlin?","body":"<p>Try this:</p>\n<pre><code>fun getMapOf(listOfMaps: List&lt;Map&lt;Enum, Set&lt;String&gt;&gt;&gt;): Map&lt;Enum, Set&lt;String&gt;&gt; {\n    return listOfMaps\n        .flatMap { map -&gt; map.entries }\n        .associate(Map.Entry&lt;Enum, Set&lt;String&gt;&gt;::toPair)\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":0,"creation_date":1625850227,"post_id":68317523,"comment_id":120745973,"body_markdown":"`it.entries` is possibly clearer than `it.asSequence()`?","body":"<code>it.entries</code> is possibly clearer than <code>it.asSequence()</code>?"},{"owner":{"account_id":1535603,"reputation":13409,"user_id":1431750,"accept_rate":100,"display_name":"aneroid"},"score":0,"creation_date":1625850625,"post_id":68317523,"comment_id":120746096,"body_markdown":"@AdamMillerchip Doh! Yeah, that&#39;s much cleaner and clearer. Updated. And yes, I see from history that you used it in an earlier version of your answer.","body":"@AdamMillerchip Doh! Yeah, that&#39;s much cleaner and clearer. Updated. And yes, I see from history that you used it in an earlier version of your answer."}],"tags":[],"owner":{"account_id":1535603,"reputation":13409,"user_id":1431750,"accept_rate":100,"display_name":"aneroid"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625854494,"creation_date":1625836940,"answer_id":68317523,"question_id":68313095,"body_markdown":"My initial approach was [similar to Adam Millerchip&#39;s](https://stackoverflow.com/a/68315865/1431750) (mutableMap and putAll). That works better when each map in the list contains multiple entries.\r\n\r\nHowever, for the OP&#39;s specific case where there&#39;s **just one Entry per Map** in the list, the following solution is convenient:\r\n\r\n```kotlin\r\nval map = list.map { it.entries.first().toPair() }.toMap()\r\n```\r\nThat iterates over the list and each `Map` uses `entries.first()` to get its one and only `Entry` and make it a `Pair`. The resulting list of `Pair`s is then converted into a `Map`.\r\n\r\nAlternative, with [Associate](https://kotlinlang.org/docs/collection-transformations.html#associate) - using [**`associate(transform -&gt; Pair)`**](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate.html) by providing a lambda which returns a `Pair(key, value)`.\r\n\r\n```kotlin\r\nval map = list.associate { it.entries.first().toPair() }\r\n```\r\n\r\nAnd since OP hasn&#39;t specified what to do with Maps having the same key, _&quot;if there are any duplicate keys, only the value for the last occurrence of the key will be present.&quot;_\r\n\r\nExample function of the first option:\r\n```kotlin\r\nfun &lt;K, V&gt; singleEntryMapListToMap(list: List&lt;Map&lt;K, V&gt;&gt;) =\r\n    list.map {\r\n        it.entries.first().toPair()\r\n    }.toMap()\r\n```\r\nOutput:\r\n```\r\n{First=[one, two, three], Second=[four, five, six]}\r\n```\r\n","title":"How to merge list of maps to one map in Kotlin?","body":"<p>My initial approach was <a href=\"https://stackoverflow.com/a/68315865/1431750\">similar to Adam Millerchip's</a> (mutableMap and putAll). That works better when each map in the list contains multiple entries.</p>\n<p>However, for the OP's specific case where there's <strong>just one Entry per Map</strong> in the list, the following solution is convenient:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = list.map { it.entries.first().toPair() }.toMap()\n</code></pre>\n<p>That iterates over the list and each <code>Map</code> uses <code>entries.first()</code> to get its one and only <code>Entry</code> and make it a <code>Pair</code>. The resulting list of <code>Pair</code>s is then converted into a <code>Map</code>.</p>\n<p>Alternative, with <a href=\"https://kotlinlang.org/docs/collection-transformations.html#associate\" rel=\"nofollow noreferrer\">Associate</a> - using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate.html\" rel=\"nofollow noreferrer\"><strong><code>associate(transform -&gt; Pair)</code></strong></a> by providing a lambda which returns a <code>Pair(key, value)</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = list.associate { it.entries.first().toPair() }\n</code></pre>\n<p>And since OP hasn't specified what to do with Maps having the same key, <em>&quot;if there are any duplicate keys, only the value for the last occurrence of the key will be present.&quot;</em></p>\n<p>Example function of the first option:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;K, V&gt; singleEntryMapListToMap(list: List&lt;Map&lt;K, V&gt;&gt;) =\n    list.map {\n        it.entries.first().toPair()\n    }.toMap()\n</code></pre>\n<p>Output:</p>\n<pre><code>{First=[one, two, three], Second=[four, five, six]}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1535603,"reputation":13409,"user_id":1431750,"accept_rate":100,"display_name":"aneroid"},"score":0,"creation_date":1625839181,"post_id":68317897,"comment_id":120741770,"body_markdown":"&#129327; +1 Was about to ask what the `Enum::class.java` in the EnumMap constructor was but docs answered: _&quot;Creates an empty enum map with the specified key type.&quot;_","body":"🤯 +1 Was about to ask what the <code>Enum::class.java</code> in the EnumMap constructor was but docs answered: <i>&quot;Creates an empty enum map with the specified key type.&quot;</i>"},{"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"score":1,"creation_date":1625849517,"post_id":68317897,"comment_id":120745734,"body_markdown":"&#128064; TIL `EnumMap`. It might be nice to wrap up the enum map constructor to make it possible to instantiate an enum map in Kotlin style as `emptyEnumMap&lt;Enum, Set&lt;String&gt;&gt;()` without the noisy `::class.java`: `inline fun &lt;reified K : Enum&lt;K&gt;, V&gt; emptyEnumMap() = EnumMap&lt;K, V&gt;(K::class.java)`. Personally I find passing a mutable map as the accumulator to `list.fold()` surprising, that&#39;s why I just used a for loop: it keeps it clear that the map is being mutated.","body":"👀 TIL <code>EnumMap</code>. It might be nice to wrap up the enum map constructor to make it possible to instantiate an enum map in Kotlin style as <code>emptyEnumMap&lt;Enum, Set&lt;String&gt;&gt;()</code> without the noisy <code>::class.java</code>: <code>inline fun &lt;reified K : Enum&lt;K&gt;, V&gt; emptyEnumMap() = EnumMap&lt;K, V&gt;(K::class.java)</code>. Personally I find passing a mutable map as the accumulator to <code>list.fold()</code> surprising, that&#39;s why I just used a for loop: it keeps it clear that the map is being mutated."},{"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"score":0,"creation_date":1625856378,"post_id":68317897,"comment_id":120747831,"body_markdown":"@AdamMillerchip, thanks for the idea, updated my answer! I think `enumMapOf` function name would be more consistent with stdlib, since there are similar functions for `HashMap` and `LinkedHashMap` creation (`hashMapOf` and `linkedMapOf` respectfully), while other `empty*` methods (`emptyArray`, `emptySet`, `emptySequence`, `emptyList`) return immutable data structures.","body":"@AdamMillerchip, thanks for the idea, updated my answer! I think <code>enumMapOf</code> function name would be more consistent with stdlib, since there are similar functions for <code>HashMap</code> and <code>LinkedHashMap</code> creation (<code>hashMapOf</code> and <code>linkedMapOf</code> respectfully), while other <code>empty*</code> methods (<code>emptyArray</code>, <code>emptySet</code>, <code>emptySequence</code>, <code>emptyList</code>) return immutable data structures."}],"tags":[],"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625855987,"creation_date":1625838444,"answer_id":68317897,"question_id":68313095,"body_markdown":"First of all, there is a specific optimized `Map` implementation to hold enum keys: [`EnumMap`](https://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html).\r\n\r\nUnfortunately, there are no convenient functions in Kotlin stdlib for `EnumMap` creation (like for other `Map` implementations), so you may define your own (thanks to [@Adam Millerchip](https://stackoverflow.com/users/1225617/adam-millerchip) for the idea):\r\n\r\n```lang-kotlin\r\ninline fun &lt;reified K : kotlin.Enum&lt;K&gt;, V&gt; enumMapOf() = EnumMap&lt;K, V&gt;(K::class.java)\r\ninline fun &lt;reified K : kotlin.Enum&lt;K&gt;, V&gt; enumMapOf(vararg pairs: Pair&lt;K, V&gt;) = pairs.toMap(EnumMap(K::class.java))\r\n```\r\n\r\nSecondly, there could be different strategies to mitigate the situation when there are two maps in the original list with the same key (and different values):\r\n\r\n```lang-kotlin\r\nval list = listOf(\r\n    mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)),\r\n    mapOf(Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;)),\r\n    mapOf(Enum.First to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;))\r\n)\r\n```\r\n\r\nThe simple strategy is &quot;latest wins&quot;:\r\n\r\n```lang-kotlin\r\nval res = list.fold(enumMapOf&lt;Enum, Set&lt;String&gt;&gt;()) { acc, map -&gt;\r\n    acc.apply { putAll(map) }\r\n}\r\nprintln(res) // {First=[four, five, six], Second=[four, five, six]}\r\n```\r\n\r\nAnother approach is &quot;merge values&quot;:\r\n\r\n```lang-kotlin\r\nval resMerged = list.fold(enumMapOf&lt;Enum, Set&lt;String&gt;&gt;()) { acc, map -&gt;\r\n    map.forEach { (k, v) -&gt; acc.merge(k, v) { old, new -&gt; old.union(new) } }\r\n    acc\r\n}\r\nprintln(resMerged) // {First=[one, two, three, four, five, six], Second=[four, five, six]}\r\n```\r\n\r\nFor convenience, you may define an auxiliary extension method for merging maps (and use `union` with infix call):\r\n\r\n```\r\nfun &lt;K, V : Any&gt; MutableMap&lt;K, V&gt;.merge(map: Map&lt;K, V&gt;, remappingFunction: (V, V) -&gt; V) {\r\n    map.forEach { (k, v) -&gt; this@merge.merge(k, v, remappingFunction) }\r\n}\r\n\r\nval resMerged = list.fold(enumMapOf&lt;Enum, Set&lt;String&gt;&gt;()) { acc, map -&gt;\r\n    acc.apply { merge(map) { old, new -&gt; old union new } }\r\n}\r\nprintln(resMerged) // {First=[one, two, three, four, five, six], Second=[four, five, six]}","title":"How to merge list of maps to one map in Kotlin?","body":"<p>First of all, there is a specific optimized <code>Map</code> implementation to hold enum keys: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a>.</p>\n<p>Unfortunately, there are no convenient functions in Kotlin stdlib for <code>EnumMap</code> creation (like for other <code>Map</code> implementations), so you may define your own (thanks to <a href=\"https://stackoverflow.com/users/1225617/adam-millerchip\">@Adam Millerchip</a> for the idea):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline fun &lt;reified K : kotlin.Enum&lt;K&gt;, V&gt; enumMapOf() = EnumMap&lt;K, V&gt;(K::class.java)\ninline fun &lt;reified K : kotlin.Enum&lt;K&gt;, V&gt; enumMapOf(vararg pairs: Pair&lt;K, V&gt;) = pairs.toMap(EnumMap(K::class.java))\n</code></pre>\n<p>Secondly, there could be different strategies to mitigate the situation when there are two maps in the original list with the same key (and different values):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val list = listOf(\n    mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)),\n    mapOf(Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;)),\n    mapOf(Enum.First to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;))\n)\n</code></pre>\n<p>The simple strategy is &quot;latest wins&quot;:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val res = list.fold(enumMapOf&lt;Enum, Set&lt;String&gt;&gt;()) { acc, map -&gt;\n    acc.apply { putAll(map) }\n}\nprintln(res) // {First=[four, five, six], Second=[four, five, six]}\n</code></pre>\n<p>Another approach is &quot;merge values&quot;:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val resMerged = list.fold(enumMapOf&lt;Enum, Set&lt;String&gt;&gt;()) { acc, map -&gt;\n    map.forEach { (k, v) -&gt; acc.merge(k, v) { old, new -&gt; old.union(new) } }\n    acc\n}\nprintln(resMerged) // {First=[one, two, three, four, five, six], Second=[four, five, six]}\n</code></pre>\n<p>For convenience, you may define an auxiliary extension method for merging maps (and use <code>union</code> with infix call):</p>\n<pre><code>fun &lt;K, V : Any&gt; MutableMap&lt;K, V&gt;.merge(map: Map&lt;K, V&gt;, remappingFunction: (V, V) -&gt; V) {\n    map.forEach { (k, v) -&gt; this@merge.merge(k, v, remappingFunction) }\n}\n\nval resMerged = list.fold(enumMapOf&lt;Enum, Set&lt;String&gt;&gt;()) { acc, map -&gt;\n    acc.apply { merge(map) { old, new -&gt; old union new } }\n}\nprintln(resMerged) // {First=[one, two, three, four, five, six], Second=[four, five, six]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920098,"reputation":1544,"user_id":1731824,"display_name":"lucasls"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688127622,"creation_date":1688127622,"answer_id":76588877,"question_id":68313095,"body_markdown":"Here&#39;s a simple solution that merges the two maps and also merges the inner sets when there are keys in common in the maps:\r\n\r\n```kotlin\r\nlistOfMaps\r\n    .flatMap { it.entries }\r\n    .groupBy({ it.key }, { it.value })\r\n    .mapValues { it.value.flatten().toSet() }\r\n```\r\n\r\nFor example:\r\n\r\n**Input:**\r\n\r\n```kotlin\r\nval listOfMaps = listOf(\r\n    mapOf(\r\n        Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;),\r\n        Enum.Third to setOf(&quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;)\r\n    ),\r\n    mapOf(\r\n        Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;),\r\n        Enum.Third to setOf(&quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;)\r\n    )\r\n)\r\n```\r\n**Output:**\r\n\r\n```kotlin\r\nmapOf(\r\n    Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;),\r\n    Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;),\r\n    Enum.Third to setOf(&quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;)\r\n)\r\n```","title":"How to merge list of maps to one map in Kotlin?","body":"<p>Here's a simple solution that merges the two maps and also merges the inner sets when there are keys in common in the maps:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>listOfMaps\n    .flatMap { it.entries }\n    .groupBy({ it.key }, { it.value })\n    .mapValues { it.value.flatten().toSet() }\n</code></pre>\n<p>For example:</p>\n<p><strong>Input:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val listOfMaps = listOf(\n    mapOf(\n        Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;),\n        Enum.Third to setOf(&quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;)\n    ),\n    mapOf(\n        Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;),\n        Enum.Third to setOf(&quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;)\n    )\n)\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mapOf(\n    Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;),\n    Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;),\n    Enum.Third to setOf(&quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;, &quot;eleven&quot;)\n)\n</code></pre>\n"}],"owner":{"account_id":22166681,"reputation":41,"user_id":16412772,"display_name":"Алексей Крылов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5637,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":5,"score":3,"last_activity_date":1688127622,"creation_date":1625816901,"question_id":68313095,"body_markdown":"I have a `List&lt;Map&lt;Enum, Set&lt;String&gt;&gt;&gt;` and I need to get a `Map&lt;Enum, Set&lt;String&gt;&gt;`\r\n\r\nFor example, I have:\r\n\r\n    listOf(mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)),\r\n     mapOf(Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;)))\r\n\r\nI need: \r\n\r\n    mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;))","title":"How to merge list of maps to one map in Kotlin?","body":"<p>I have a <code>List&lt;Map&lt;Enum, Set&lt;String&gt;&gt;&gt;</code> and I need to get a <code>Map&lt;Enum, Set&lt;String&gt;&gt;</code></p>\n<p>For example, I have:</p>\n<pre><code>listOf(mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;)),\n mapOf(Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;)))\n</code></pre>\n<p>I need:</p>\n<pre><code>mapOf(Enum.First to setOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;), Enum.Second to setOf(&quot;four&quot;, &quot;five&quot;, &quot;six&quot;))\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":2,"creation_date":1688113523,"post_id":76586932,"comment_id":135033090,"body_markdown":"At first glance, my guess is that you reloading the FXML for each `ListCell` each time `updateItem` is called is what&#39;s causing the flicker. This method is called when selection changes. BTW, your naming and general code styling is horrible to read. Please try and stick to the language conventions when you&#39;re publishing code.","body":"At first glance, my guess is that you reloading the FXML for each <code>ListCell</code> each time <code>updateItem</code> is called is what&#39;s causing the flicker. This method is called when selection changes. BTW, your naming and general code styling is horrible to read. Please try and stick to the language conventions when you&#39;re publishing code."},{"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"score":0,"creation_date":1688115860,"post_id":76586932,"comment_id":135033528,"body_markdown":"@julien.giband hello and thank you for the criticism and the fast response , i tried to improve the readability i hope that now it&#39;s much clearer , and yes by flashing i meant flickering it&#39;s like the background goes transparent then comes back again when clicking on an item","body":"@julien.giband hello and thank you for the criticism and the fast response , i tried to improve the readability i hope that now it&#39;s much clearer , and yes by flashing i meant flickering it&#39;s like the background goes transparent then comes back again when clicking on an item"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":2,"creation_date":1688117731,"post_id":76586932,"comment_id":135033888,"body_markdown":"try to add the initialize code to the default constructor and remove it from the update method","body":"try to add the initialize code to the default constructor and remove it from the update method"},{"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"score":0,"creation_date":1688121156,"post_id":76586932,"comment_id":135034566,"body_markdown":"@Anon omg thank you XD i feel so dumb,  but then again i am still learning , thank you very much for the help","body":"@Anon omg thank you XD i feel so dumb,  but then again i am still learning , thank you very much for the help"}],"answers":[{"tags":[],"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688127612,"creation_date":1688121349,"answer_id":76588166,"question_id":76586932,"body_markdown":"As [suggested][1] by @Anon, moving the initialize method to the default constructor fixes the flickering. The issue was that every time the list-view gets updated/refreshed by selecting an item the initialize method gets called, loading the layout again from scratch resulting in the flicker.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76586932/javafx-listview-selection#comment135033888_76586932","title":"JavaFX ListView selection","body":"<p>As <a href=\"https://stackoverflow.com/questions/76586932/javafx-listview-selection#comment135033888_76586932\">suggested</a> by @Anon, moving the initialize method to the default constructor fixes the flickering. The issue was that every time the list-view gets updated/refreshed by selecting an item the initialize method gets called, loading the layout again from scratch resulting in the flicker.</p>\n"}],"owner":{"account_id":26704667,"reputation":31,"user_id":20311095,"display_name":"Lemon juice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688127612,"creation_date":1688110686,"question_id":76586932,"body_markdown":"I am using JavaFX and I created a custom layout for my `ListView`. Everything is working fine except one thing which is a nitpick to be honest but it&#39;s annoying me and I don&#39;t think it&#39;s a good experience for the user.\r\nThe issue is whenever I click on an item (the custom layout) the list refreshes and the items have this weird flash.\r\nI thought maybe the CSS styling that I am using is the thing that&#39;s causing this but I really don&#39;t know so I&#39;ll just put the CSS code here:\r\n\r\n    ListView{\r\n        -fx-background-color: rgb(252, 252, 252);\r\n        -fx-background-radius: 15px;\r\n    }\r\n    .list-view .list-cell:filled:selected {\r\n        -fx-background-color: rgba(206, 9, 90, 0);\r\n    }\r\n    \r\n    .list-view .scroll-bar:vertical {\r\n        -fx-opacity: 100%;\r\n        -fx-background-color: transparent;\r\n    }\r\n    .list-view .scroll-bar:horizontal {\r\n        -fx-opacity: 0%;\r\n        -fx-background-color: transparent;\r\n    }\r\n    .list-view .scroll-bar:horizontal .thumb {\r\n        -fx-background-color: #000000;\r\n    }\r\n    .list-view .scroll-bar:vertical .thumb {\r\n        -fx-background-color: #000000;\r\n    }\r\n    .list-view .list-cell:filled {\r\n        -fx-background-color: rgba(245, 244, 244, 0);\r\n        -fx-fill: #000000;\r\n    }\r\n    .list-view .list-cell {\r\n        -fx-background-color: rgba(238, 8, 8, 0);\r\n    }\r\n\r\nThe look that I want is just the layout without the `ListView` selection because in the context of this the default `ListView` selection is not really needed, instead selection is handled within the layout with a check-box.\r\n\r\nFor a visual representation this is the list item layout:\r\n[![CUSTOM LAYOUT][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P5YPK.jpg\r\n\r\n\r\nThe code for the list-cell:\r\n\r\n        public class Available_Groups_cell extends ListCell&lt;Available_group&gt; {\r\n        private FXMLLoader loader;\r\n        private AnchorPane layout;\r\n        private Available_group_controller available_group_controller;\r\n        private CheckBox enable_date_selection_check_box,start_date_check_box,end_date_check_box;\r\n        private AnchorPane dates_container;\r\n        private DatePicker start_date_Date_Picker,end_date_Date_Picker;\r\n        private ChoiceBox&lt;String&gt; end_date;\r\n    \r\n        public void intiitalize(){\r\n            try {\r\n                loader=new FXMLLoader(getClass().getResource(&quot;/Students/Available_group.fxml&quot;));\r\n    \r\n                layout=loader.load();\r\n    \r\n                available_group_controller=loader.getController();\r\n    \r\n                enable_date_selection_check_box= (CheckBox) loader.getNamespace().get(&quot;check_add&quot;);\r\n    \r\n                dates_container=(AnchorPane)loader.getNamespace().get(&quot;dates_container&quot;);\r\n    \r\n                start_date_check_box=(CheckBox)loader.getNamespace().get(&quot;today_check_box&quot;);\r\n    \r\n                end_date_check_box=(CheckBox)loader.getNamespace().get(&quot;manual_check_box&quot;);\r\n    \r\n                start_date_Date_Picker=(DatePicker)loader.getNamespace().get(&quot;payment_date&quot;);\r\n    \r\n                end_date_Date_Picker=(DatePicker)loader.getNamespace().get(&quot;monthly_options_manual&quot;);\r\n    \r\n                end_date=(ChoiceBox&lt;String&gt;) loader.getNamespace().get(&quot;monthly_options&quot;);\r\n    \r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        @Override\r\n        protected void updateItem(Available_group group, boolean b) {\r\n            super.updateItem(group, b);\r\n            if(group==null || b){\r\n                setGraphic(null);\r\n                setText(null);\r\n            }\r\n            else{\r\n            intiitalize();\r\n    \r\n            available_group_controller.set_available_group(group.getTeacher_name(),group.getType(),group.getCount(),group.getSubject());\r\n    \r\n    \r\n            if(group.isSelected()){ //verifying if the group was selected\r\n                enable_date_selection_check_box.setSelected(true);\r\n                dates_container.setDisable(false);\r\n            }\r\n            else{\r\n                enable_date_selection_check_box.setSelected(false);\r\n                dates_container.setDisable(true);\r\n            }\r\n    \r\n    \r\n     // a listener for the group selection check_box which enables the date container (the date container contains two date one for the start_date the other for the end_date , also one check_box for the start date implying that the start_date is today&#39;s date which is selected by default when it&#39;s not selected the user may input a date manually , the same goes for the end date except it&#39;s subscription based so i put a manual optino when the end_date box is selected and an automatic option (a choice box which has 1 month , 2 months ...etc) ).\r\n    \r\n           enable_date_selection_check_box.selectedProperty().addListener((observable,old_value,new_value)-&gt;{\r\n                if(new_value){\r\n                    dates_container.setDisable(false);\r\n                    group.setSelected(true);\r\n                }\r\n                else{\r\n                    dates_container.setDisable(true);\r\n                    group.setSelected(false);\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n                if(!group.isStart_date_check()){\r\n                start_date_check_box.setSelected(false);\r\n                start_date_Date_Picker.setValue(group.getStart_date());\r\n                start_date_Date_Picker.setDisable(false);\r\n                }\r\n                else{\r\n                    start_date_Date_Picker.setDisable(true);\r\n                    start_date_check_box.setSelected(true);\r\n                }\r\n    \r\n      //this listener is for the start_date_check_box that switches between manual and automatic start_date selection\r\n          start_date_check_box.selectedProperty().addListener((observableValue, old_value, new_value) -&gt; {\r\n                if(new_value){\r\n                    start_date_Date_Picker.setDisable(true);\r\n                    group.setStart_date_check(true);\r\n                    group.setStart_date(null);\r\n                }\r\n                else{\r\n                    start_date_Date_Picker.setDisable(false);\r\n                    group.setStart_date_check(false);\r\n                    start_date_Date_Picker.setValue(group.getStart_date());\r\n                    start_date_Date_Picker.valueProperty().addListener(new ChangeListener&lt;LocalDate&gt;() {\r\n                        @Override\r\n                        public void changed(ObservableValue&lt;? extends LocalDate&gt; observableValue, LocalDate localDate, LocalDate t1) {\r\n                            group.setStart_date(t1);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    \r\n    \r\n    // this to ensure when the list refreshes the changes made to the layout stay. \r\n    \r\n            if(group.isEnd_date_check()){\r\n                end_date_Date_Picker.setVisible(true);\r\n                end_date.setVisible(false);\r\n                end_date_check_box.setSelected(true);\r\n                end_date_Date_Picker.setValue(group.getEnd_date());\r\n            }\r\n            else{\r\n                end_date_Date_Picker.setVisible(false);\r\n                end_date.setVisible(true);\r\n                end_date_check_box.setSelected(false);\r\n                int index=0;\r\n                if(group.getEnd_date().isAfter(LocalDate.now())){\r\n                    index=(group.getEnd_date().getMonthValue()-LocalDate.now().getMonthValue())-1;\r\n                }\r\n                end_date.getSelectionModel().select(index);\r\n            }\r\n    \r\n     \r\n      //this listener is for the end_date_check_box that switches between manual and automatic start_date selection\r\n    \r\n           end_date_check_box.selectedProperty().addListener(((observableValue, old_value, new_value) -&gt; {\r\n                if(new_value){\r\n                    group.setEnd_date(null);\r\n                    end_date_Date_Picker.setVisible(true);\r\n                    end_date.setVisible(false);\r\n                    group.setEnd_date_check(true);\r\n                    end_date_Date_Picker.setValue(null);\r\n                    end_date_Date_Picker.valueProperty().addListener(new ChangeListener&lt;LocalDate&gt;() {\r\n                        @Override\r\n                        public void changed(ObservableValue&lt;? extends LocalDate&gt; observableValue, LocalDate localDate, LocalDate t1) {\r\n                            group.setEnd_date(t1);\r\n                        }\r\n                    });\r\n                }\r\n                else{\r\n                    group.setEnd_date(LocalDate.now().plusMonths(1));\r\n                    end_date_Date_Picker.setVisible(false);\r\n                    end_date.setVisible(true);\r\n                    group.setEnd_date_check(false);\r\n                    end_date.getSelectionModel().select(0);\r\n                    end_date_Date_Picker.setValue(group.getEnd_date());\r\n                }\r\n    \r\n            }));\r\n\r\n    \r\n    // this listener is for the automatic end_date_selection(the choice-box) which extends the end date based on the selected index +1 which means if the user puts the first option which is 1 month the selected index is 0 we then increment it by 1 which adds up to 1 that makes the end date  1 month from today&#39;s date\r\n    \r\n                 end_date.getSelectionModel().selectedItemProperty().addListener((observableValue, old_value, new_value) -&gt; {\r\n                    group.setEnd_date(LocalDate.now().plusMonths(end_date.getSelectionModel().getSelectedIndex()+1));\r\n                });\r\n    \r\n    \r\n            setText(null);\r\n            setGraphic(layout);\r\n            }\r\n        }\r\n\r\n\r\nlastly this is the fxml code : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.CheckBox?&gt;\r\n    &lt;?import javafx.scene.control.ChoiceBox?&gt;\r\n    &lt;?import javafx.scene.control.DatePicker?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    &lt;?import javafx.scene.image.ImageView?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;202.0&quot; prefWidth=&quot;579.0&quot; styleClass=&quot;background&quot; stylesheets=&quot;@Available_group.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Students.Available_group_controller&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Label fx:id=&quot;teacher&quot; alignment=&quot;CENTER&quot; layoutY=&quot;72.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;579.0&quot; styleClass=&quot;Label&quot; text=&quot;Name&quot; AnchorPane.topAnchor=&quot;72.0&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;ImageView fx:id=&quot;type_image&quot; fitHeight=&quot;56.0&quot; fitWidth=&quot;66.0&quot; layoutX=&quot;34.0&quot; layoutY=&quot;65.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; AnchorPane.leftAnchor=&quot;34.0&quot; AnchorPane.topAnchor=&quot;65.0&quot;&gt;\r\n             &lt;image&gt;\r\n                &lt;Image url=&quot;@../Groups/Groups_photos/special.png&quot; /&gt;\r\n             &lt;/image&gt;\r\n          &lt;/ImageView&gt;\r\n          &lt;Label fx:id=&quot;type&quot; alignment=&quot;CENTER&quot; layoutX=&quot;29.0&quot; layoutY=&quot;29.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;67.0&quot; styleClass=&quot;Label&quot; text=&quot;special&quot; AnchorPane.leftAnchor=&quot;29.0&quot; AnchorPane.topAnchor=&quot;29.0&quot; /&gt;\r\n          &lt;Label fx:id=&quot;count&quot; alignment=&quot;CENTER&quot; layoutX=&quot;14.0&quot; layoutY=&quot;161.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;67.0&quot; styleClass=&quot;Label&quot; text=&quot;20/30&quot; AnchorPane.bottomAnchor=&quot;14.0&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;CheckBox fx:id=&quot;check_add&quot; layoutX=&quot;492.0&quot; layoutY=&quot;75.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;30.0&quot; AnchorPane.rightAnchor=&quot;41.0&quot; AnchorPane.topAnchor=&quot;75.0&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;32.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/CheckBox&gt;\r\n          &lt;ImageView fx:id=&quot;subject&quot; fitHeight=&quot;46.0&quot; fitWidth=&quot;46.0&quot; layoutX=&quot;267.0&quot; layoutY=&quot;6.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; AnchorPane.topAnchor=&quot;6.0&quot;&gt;\r\n             &lt;image&gt;\r\n                &lt;Image url=&quot;@../Subjects/Subjects_photos/geography&amp;amp;history.png&quot; /&gt;\r\n             &lt;/image&gt;\r\n          &lt;/ImageView&gt;\r\n          &lt;AnchorPane fx:id=&quot;dates_container&quot; disable=&quot;true&quot; layoutX=&quot;168.0&quot; layoutY=&quot;101.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;245.0&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;DatePicker fx:id=&quot;payment_date&quot; disable=&quot;true&quot; layoutY=&quot;24.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;167.0&quot; promptText=&quot;Start_date&quot; /&gt;\r\n                &lt;CheckBox fx:id=&quot;today_check_box&quot; layoutX=&quot;179.0&quot; layoutY=&quot;26.0&quot; mnemonicParsing=&quot;false&quot; selected=&quot;true&quot; styleClass=&quot;Label&quot; text=&quot;today&quot; textFill=&quot;WHITE&quot;&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;System Bold&quot; size=&quot;15.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/CheckBox&gt;\r\n                &lt;CheckBox fx:id=&quot;manual_check_box&quot; layoutX=&quot;178.0&quot; layoutY=&quot;69.0&quot; mnemonicParsing=&quot;false&quot; styleClass=&quot;Label&quot; text=&quot;manual&quot; textFill=&quot;WHITE&quot;&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;System Bold&quot; size=&quot;15.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/CheckBox&gt;\r\n                &lt;StackPane layoutY=&quot;61.0&quot; prefHeight=&quot;39.0&quot; prefWidth=&quot;167.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                      &lt;DatePicker fx:id=&quot;monthly_options_manual&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;167.0&quot; promptText=&quot;End_date&quot; visible=&quot;false&quot; /&gt;\r\n                      &lt;ChoiceBox fx:id=&quot;monthly_options&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;167.0&quot; styleClass=&quot;Fields&quot; /&gt;\r\n                   &lt;/children&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets bottom=&quot;5.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                &lt;/StackPane&gt;\r\n             &lt;/children&gt;\r\n          &lt;/AnchorPane&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nThank you very much for your patience have a nice day.\r\n","title":"JavaFX ListView selection","body":"<p>I am using JavaFX and I created a custom layout for my <code>ListView</code>. Everything is working fine except one thing which is a nitpick to be honest but it's annoying me and I don't think it's a good experience for the user.\nThe issue is whenever I click on an item (the custom layout) the list refreshes and the items have this weird flash.\nI thought maybe the CSS styling that I am using is the thing that's causing this but I really don't know so I'll just put the CSS code here:</p>\n<pre><code>ListView{\n    -fx-background-color: rgb(252, 252, 252);\n    -fx-background-radius: 15px;\n}\n.list-view .list-cell:filled:selected {\n    -fx-background-color: rgba(206, 9, 90, 0);\n}\n\n.list-view .scroll-bar:vertical {\n    -fx-opacity: 100%;\n    -fx-background-color: transparent;\n}\n.list-view .scroll-bar:horizontal {\n    -fx-opacity: 0%;\n    -fx-background-color: transparent;\n}\n.list-view .scroll-bar:horizontal .thumb {\n    -fx-background-color: #000000;\n}\n.list-view .scroll-bar:vertical .thumb {\n    -fx-background-color: #000000;\n}\n.list-view .list-cell:filled {\n    -fx-background-color: rgba(245, 244, 244, 0);\n    -fx-fill: #000000;\n}\n.list-view .list-cell {\n    -fx-background-color: rgba(238, 8, 8, 0);\n}\n</code></pre>\n<p>The look that I want is just the layout without the <code>ListView</code> selection because in the context of this the default <code>ListView</code> selection is not really needed, instead selection is handled within the layout with a check-box.</p>\n<p>For a visual representation this is the list item layout:\n<a href=\"https://i.stack.imgur.com/P5YPK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5YPK.jpg\" alt=\"CUSTOM LAYOUT\" /></a></p>\n<p>The code for the list-cell:</p>\n<pre><code>    public class Available_Groups_cell extends ListCell&lt;Available_group&gt; {\n    private FXMLLoader loader;\n    private AnchorPane layout;\n    private Available_group_controller available_group_controller;\n    private CheckBox enable_date_selection_check_box,start_date_check_box,end_date_check_box;\n    private AnchorPane dates_container;\n    private DatePicker start_date_Date_Picker,end_date_Date_Picker;\n    private ChoiceBox&lt;String&gt; end_date;\n\n    public void intiitalize(){\n        try {\n            loader=new FXMLLoader(getClass().getResource(&quot;/Students/Available_group.fxml&quot;));\n\n            layout=loader.load();\n\n            available_group_controller=loader.getController();\n\n            enable_date_selection_check_box= (CheckBox) loader.getNamespace().get(&quot;check_add&quot;);\n\n            dates_container=(AnchorPane)loader.getNamespace().get(&quot;dates_container&quot;);\n\n            start_date_check_box=(CheckBox)loader.getNamespace().get(&quot;today_check_box&quot;);\n\n            end_date_check_box=(CheckBox)loader.getNamespace().get(&quot;manual_check_box&quot;);\n\n            start_date_Date_Picker=(DatePicker)loader.getNamespace().get(&quot;payment_date&quot;);\n\n            end_date_Date_Picker=(DatePicker)loader.getNamespace().get(&quot;monthly_options_manual&quot;);\n\n            end_date=(ChoiceBox&lt;String&gt;) loader.getNamespace().get(&quot;monthly_options&quot;);\n\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void updateItem(Available_group group, boolean b) {\n        super.updateItem(group, b);\n        if(group==null || b){\n            setGraphic(null);\n            setText(null);\n        }\n        else{\n        intiitalize();\n\n        available_group_controller.set_available_group(group.getTeacher_name(),group.getType(),group.getCount(),group.getSubject());\n\n\n        if(group.isSelected()){ //verifying if the group was selected\n            enable_date_selection_check_box.setSelected(true);\n            dates_container.setDisable(false);\n        }\n        else{\n            enable_date_selection_check_box.setSelected(false);\n            dates_container.setDisable(true);\n        }\n\n\n // a listener for the group selection check_box which enables the date container (the date container contains two date one for the start_date the other for the end_date , also one check_box for the start date implying that the start_date is today's date which is selected by default when it's not selected the user may input a date manually , the same goes for the end date except it's subscription based so i put a manual optino when the end_date box is selected and an automatic option (a choice box which has 1 month , 2 months ...etc) ).\n\n       enable_date_selection_check_box.selectedProperty().addListener((observable,old_value,new_value)-&gt;{\n            if(new_value){\n                dates_container.setDisable(false);\n                group.setSelected(true);\n            }\n            else{\n                dates_container.setDisable(true);\n                group.setSelected(false);\n            }\n        });\n\n\n\n            if(!group.isStart_date_check()){\n            start_date_check_box.setSelected(false);\n            start_date_Date_Picker.setValue(group.getStart_date());\n            start_date_Date_Picker.setDisable(false);\n            }\n            else{\n                start_date_Date_Picker.setDisable(true);\n                start_date_check_box.setSelected(true);\n            }\n\n  //this listener is for the start_date_check_box that switches between manual and automatic start_date selection\n      start_date_check_box.selectedProperty().addListener((observableValue, old_value, new_value) -&gt; {\n            if(new_value){\n                start_date_Date_Picker.setDisable(true);\n                group.setStart_date_check(true);\n                group.setStart_date(null);\n            }\n            else{\n                start_date_Date_Picker.setDisable(false);\n                group.setStart_date_check(false);\n                start_date_Date_Picker.setValue(group.getStart_date());\n                start_date_Date_Picker.valueProperty().addListener(new ChangeListener&lt;LocalDate&gt;() {\n                    @Override\n                    public void changed(ObservableValue&lt;? extends LocalDate&gt; observableValue, LocalDate localDate, LocalDate t1) {\n                        group.setStart_date(t1);\n                    }\n                });\n            }\n        });\n\n\n// this to ensure when the list refreshes the changes made to the layout stay. \n\n        if(group.isEnd_date_check()){\n            end_date_Date_Picker.setVisible(true);\n            end_date.setVisible(false);\n            end_date_check_box.setSelected(true);\n            end_date_Date_Picker.setValue(group.getEnd_date());\n        }\n        else{\n            end_date_Date_Picker.setVisible(false);\n            end_date.setVisible(true);\n            end_date_check_box.setSelected(false);\n            int index=0;\n            if(group.getEnd_date().isAfter(LocalDate.now())){\n                index=(group.getEnd_date().getMonthValue()-LocalDate.now().getMonthValue())-1;\n            }\n            end_date.getSelectionModel().select(index);\n        }\n\n \n  //this listener is for the end_date_check_box that switches between manual and automatic start_date selection\n\n       end_date_check_box.selectedProperty().addListener(((observableValue, old_value, new_value) -&gt; {\n            if(new_value){\n                group.setEnd_date(null);\n                end_date_Date_Picker.setVisible(true);\n                end_date.setVisible(false);\n                group.setEnd_date_check(true);\n                end_date_Date_Picker.setValue(null);\n                end_date_Date_Picker.valueProperty().addListener(new ChangeListener&lt;LocalDate&gt;() {\n                    @Override\n                    public void changed(ObservableValue&lt;? extends LocalDate&gt; observableValue, LocalDate localDate, LocalDate t1) {\n                        group.setEnd_date(t1);\n                    }\n                });\n            }\n            else{\n                group.setEnd_date(LocalDate.now().plusMonths(1));\n                end_date_Date_Picker.setVisible(false);\n                end_date.setVisible(true);\n                group.setEnd_date_check(false);\n                end_date.getSelectionModel().select(0);\n                end_date_Date_Picker.setValue(group.getEnd_date());\n            }\n\n        }));\n\n\n// this listener is for the automatic end_date_selection(the choice-box) which extends the end date based on the selected index +1 which means if the user puts the first option which is 1 month the selected index is 0 we then increment it by 1 which adds up to 1 that makes the end date  1 month from today's date\n\n             end_date.getSelectionModel().selectedItemProperty().addListener((observableValue, old_value, new_value) -&gt; {\n                group.setEnd_date(LocalDate.now().plusMonths(end_date.getSelectionModel().getSelectedIndex()+1));\n            });\n\n\n        setText(null);\n        setGraphic(layout);\n        }\n    }\n</code></pre>\n<p>lastly this is the fxml code :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.CheckBox?&gt;\n&lt;?import javafx.scene.control.ChoiceBox?&gt;\n&lt;?import javafx.scene.control.DatePicker?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;202.0&quot; prefWidth=&quot;579.0&quot; styleClass=&quot;background&quot; stylesheets=&quot;@Available_group.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Students.Available_group_controller&quot;&gt;\n   &lt;children&gt;\n      &lt;Label fx:id=&quot;teacher&quot; alignment=&quot;CENTER&quot; layoutY=&quot;72.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;579.0&quot; styleClass=&quot;Label&quot; text=&quot;Name&quot; AnchorPane.topAnchor=&quot;72.0&quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;ImageView fx:id=&quot;type_image&quot; fitHeight=&quot;56.0&quot; fitWidth=&quot;66.0&quot; layoutX=&quot;34.0&quot; layoutY=&quot;65.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; AnchorPane.leftAnchor=&quot;34.0&quot; AnchorPane.topAnchor=&quot;65.0&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@../Groups/Groups_photos/special.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;Label fx:id=&quot;type&quot; alignment=&quot;CENTER&quot; layoutX=&quot;29.0&quot; layoutY=&quot;29.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;67.0&quot; styleClass=&quot;Label&quot; text=&quot;special&quot; AnchorPane.leftAnchor=&quot;29.0&quot; AnchorPane.topAnchor=&quot;29.0&quot; /&gt;\n      &lt;Label fx:id=&quot;count&quot; alignment=&quot;CENTER&quot; layoutX=&quot;14.0&quot; layoutY=&quot;161.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;67.0&quot; styleClass=&quot;Label&quot; text=&quot;20/30&quot; AnchorPane.bottomAnchor=&quot;14.0&quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;CheckBox fx:id=&quot;check_add&quot; layoutX=&quot;492.0&quot; layoutY=&quot;75.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;30.0&quot; AnchorPane.rightAnchor=&quot;41.0&quot; AnchorPane.topAnchor=&quot;75.0&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;32.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/CheckBox&gt;\n      &lt;ImageView fx:id=&quot;subject&quot; fitHeight=&quot;46.0&quot; fitWidth=&quot;46.0&quot; layoutX=&quot;267.0&quot; layoutY=&quot;6.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; AnchorPane.topAnchor=&quot;6.0&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@../Subjects/Subjects_photos/geography&amp;amp;history.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;AnchorPane fx:id=&quot;dates_container&quot; disable=&quot;true&quot; layoutX=&quot;168.0&quot; layoutY=&quot;101.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;245.0&quot;&gt;\n         &lt;children&gt;\n            &lt;DatePicker fx:id=&quot;payment_date&quot; disable=&quot;true&quot; layoutY=&quot;24.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;167.0&quot; promptText=&quot;Start_date&quot; /&gt;\n            &lt;CheckBox fx:id=&quot;today_check_box&quot; layoutX=&quot;179.0&quot; layoutY=&quot;26.0&quot; mnemonicParsing=&quot;false&quot; selected=&quot;true&quot; styleClass=&quot;Label&quot; text=&quot;today&quot; textFill=&quot;WHITE&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;System Bold&quot; size=&quot;15.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n            &lt;CheckBox fx:id=&quot;manual_check_box&quot; layoutX=&quot;178.0&quot; layoutY=&quot;69.0&quot; mnemonicParsing=&quot;false&quot; styleClass=&quot;Label&quot; text=&quot;manual&quot; textFill=&quot;WHITE&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;System Bold&quot; size=&quot;15.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n            &lt;StackPane layoutY=&quot;61.0&quot; prefHeight=&quot;39.0&quot; prefWidth=&quot;167.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;DatePicker fx:id=&quot;monthly_options_manual&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;167.0&quot; promptText=&quot;End_date&quot; visible=&quot;false&quot; /&gt;\n                  &lt;ChoiceBox fx:id=&quot;monthly_options&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;167.0&quot; styleClass=&quot;Fields&quot; /&gt;\n               &lt;/children&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/StackPane&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Thank you very much for your patience have a nice day.</p>\n"},{"tags":["java","jira","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1688191386,"post_id":76588869,"comment_id":135043839,"body_markdown":"This is hard to answer without me seeing your situation live, like I could as a (hired) consultant. I neither have access to the Atlassian SDK nor to a local Jira instance. I am also unsure if you really replaced the original Jira class by the woven one or tried to add it on top of some other class which still exists in a JAR and might be loaded before your own class is even found. Moreover, did you make sure that _aspectjrt.jar_ is on the classpath for the Jira app? Maybe load-time weaving would actually be easier for you, but if done right, this approach should also work.","body":"This is hard to answer without me seeing your situation live, like I could as a (hired) consultant. I neither have access to the Atlassian SDK nor to a local Jira instance. I am also unsure if you really replaced the original Jira class by the woven one or tried to add it on top of some other class which still exists in a JAR and might be loaded before your own class is even found. Moreover, did you make sure that <i>aspectjrt.jar</i> is on the classpath for the Jira app? Maybe load-time weaving would actually be easier for you, but if done right, this approach should also work."},{"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"score":0,"creation_date":1688199430,"post_id":76588869,"comment_id":135044477,"body_markdown":"thank you for useful hints. Actually I&#39;m completly new to AspectJ and have chousen compile-time weaving for my first try cuz the doc says: &quot;Compile-time weaving is the simplest approach&quot;. I&#39;ll try to dig into the way Atlassian Jira loads it&#39;s core classes to check if I put my compiled classes to the right place. Second thing I&#39;ve missed for shure is aspectj.jar in Jira classpath. Will put it there and try once again/","body":"thank you for useful hints. Actually I&#39;m completly new to AspectJ and have chousen compile-time weaving for my first try cuz the doc says: &quot;Compile-time weaving is the simplest approach&quot;. I&#39;ll try to dig into the way Atlassian Jira loads it&#39;s core classes to check if I put my compiled classes to the right place. Second thing I&#39;ve missed for shure is aspectj.jar in Jira classpath. Will put it there and try once again/"}],"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688127591,"creation_date":1688127591,"question_id":76588869,"body_markdown":"I&#39;m trying to fix jira bug by modifying class\r\ncom.atlassian.jira.issue.util.IssueImplAggregateTimeTrackingCalculator using aspectj with compile time weaving\r\n\r\nTo do this I \r\n\r\n - create plugin with atlassian SDK (just to get all necessary jira dependencies in project  \r\n - install aspectj plugin to my   intellij  \r\n - put aspectj dependencies and aspectj-maven-plugin to pom   \r\n - create package com.atlassian.jira.issue.util where put the source java class IssueImplAggregateTimeTrackingCalculator I want to modify along with new CalculatorFix.aj aspect class\r\n\r\nthen I compile the project and copy 2 compiled classes from targer folder to WEB-INF/classes of my jira instance\r\n\r\nbehaviour is not modified\r\n\r\nwhat am I doing wrong?\r\n\r\nhere is the relevant part of my pom\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- might not be necessary cuz i put aspectj to project libs --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- for aspectj support --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${aspectj-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                        &lt;verbose&gt;true&lt;/verbose&gt;\r\n                        &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                        &lt;encoding&gt;UTF-8 &lt;/encoding&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;!-- use this goal to weave all your main classes --&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                                &lt;!-- use this goal to weave all your test classes --&gt;\r\n                                &lt;!--\r\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                                --&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\nhere is the IssueImplAggregateTimeTrackingCalculator I&#39;m trying to modify\r\n\r\n``` package com.atlassian.jira.issue.util;\r\n\r\nimport com.atlassian.jira.issue.Issue;\r\nimport com.atlassian.jira.issue.MutableIssue;\r\nimport com.atlassian.jira.security.JiraAuthenticationContext;\r\nimport com.atlassian.jira.security.PermissionManager;\r\nimport com.atlassian.jira.security.Permissions;\r\n\r\nimport java.util.Collection;\r\n\r\n\r\npublic class IssueImplAggregateTimeTrackingCalculator implements AggregateTimeTrackingCalculator {\r\n    private final PermissionChecker permissionChecker;\r\n\r\n    public IssueImplAggregateTimeTrackingCalculator(final JiraAuthenticationContext context, final PermissionManager permissionManager) {\r\n        this(new PermissionChecker() {\r\n            public boolean hasPermission(Issue subTask) {\r\n                return permissionManager.hasPermission(Permissions.BROWSE, subTask, context.getUser());\r\n            }\r\n        });\r\n    }\r\n\r\n    public IssueImplAggregateTimeTrackingCalculator(PermissionChecker permissionChecker) {\r\n        this.permissionChecker = permissionChecker;\r\n    }\r\n\r\n    \r\n    public AggregateTimeTrackingBean getAggregates(Issue issue) {\r\n        // here is the code I want to modify\r\n    }\r\n\r\n   \r\n    public interface PermissionChecker {\r\n        boolean hasPermission(Issue subTask);\r\n    }\r\n}\r\n```\r\nhere is my aspect class\r\n```\r\npackage com.atlassian.jira.issue.util;\r\n\r\nimport com.atlassian.jira.issue.Issue;\r\n\r\npublic privileged aspect CalculatorFix {\r\n\r\n    pointcut callGetAggregates(Issue issue,\r\n                               IssueImplAggregateTimeTrackingCalculator issueImplAggregateTimeTrackingCalculator) :\r\n            call(AggregateTimeTrackingBean com.atlassian.jira.issue.util.IssueImplAggregateTimeTrackingCalculator.getAggregates(Issue))\r\n            &amp;&amp; args(issue)\r\n            &amp;&amp; target(issueImplAggregateTimeTrackingCalculator);\r\n\r\n    AggregateTimeTrackingBean around (Issue issue,\r\n                                      IssueImplAggregateTimeTrackingCalculator issueImplAggregateTimeTrackingCalculator):\r\n            callGetAggregates(issue, issueImplAggregateTimeTrackingCalculator) {\r\n        throw new IllegalArgumentException(&quot;hello AspectJ world&quot;);\r\n    }\r\n}\r\n```","title":"modify one of jira classes with aspectj","body":"<p>I'm trying to fix jira bug by modifying class\ncom.atlassian.jira.issue.util.IssueImplAggregateTimeTrackingCalculator using aspectj with compile time weaving</p>\n<p>To do this I</p>\n<ul>\n<li>create plugin with atlassian SDK (just to get all necessary jira dependencies in project</li>\n<li>install aspectj plugin to my   intellij</li>\n<li>put aspectj dependencies and aspectj-maven-plugin to pom</li>\n<li>create package com.atlassian.jira.issue.util where put the source java class IssueImplAggregateTimeTrackingCalculator I want to modify along with new CalculatorFix.aj aspect class</li>\n</ul>\n<p>then I compile the project and copy 2 compiled classes from targer folder to WEB-INF/classes of my jira instance</p>\n<p>behaviour is not modified</p>\n<p>what am I doing wrong?</p>\n<p>here is the relevant part of my pom</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- might not be necessary cuz i put aspectj to project libs --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- for aspectj support --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${aspectj-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                    &lt;encoding&gt;UTF-8 &lt;/encoding&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;!-- use this goal to weave all your main classes --&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;!-- use this goal to weave all your test classes --&gt;\n                            &lt;!--\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                            --&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;plugin&gt;\n</code></pre>\n<p>here is the IssueImplAggregateTimeTrackingCalculator I'm trying to modify</p>\n<pre><code>\nimport com.atlassian.jira.issue.Issue;\nimport com.atlassian.jira.issue.MutableIssue;\nimport com.atlassian.jira.security.JiraAuthenticationContext;\nimport com.atlassian.jira.security.PermissionManager;\nimport com.atlassian.jira.security.Permissions;\n\nimport java.util.Collection;\n\n\npublic class IssueImplAggregateTimeTrackingCalculator implements AggregateTimeTrackingCalculator {\n    private final PermissionChecker permissionChecker;\n\n    public IssueImplAggregateTimeTrackingCalculator(final JiraAuthenticationContext context, final PermissionManager permissionManager) {\n        this(new PermissionChecker() {\n            public boolean hasPermission(Issue subTask) {\n                return permissionManager.hasPermission(Permissions.BROWSE, subTask, context.getUser());\n            }\n        });\n    }\n\n    public IssueImplAggregateTimeTrackingCalculator(PermissionChecker permissionChecker) {\n        this.permissionChecker = permissionChecker;\n    }\n\n    \n    public AggregateTimeTrackingBean getAggregates(Issue issue) {\n        // here is the code I want to modify\n    }\n\n   \n    public interface PermissionChecker {\n        boolean hasPermission(Issue subTask);\n    }\n}\n</code></pre>\n<p>here is my aspect class</p>\n<pre><code>package com.atlassian.jira.issue.util;\n\nimport com.atlassian.jira.issue.Issue;\n\npublic privileged aspect CalculatorFix {\n\n    pointcut callGetAggregates(Issue issue,\n                               IssueImplAggregateTimeTrackingCalculator issueImplAggregateTimeTrackingCalculator) :\n            call(AggregateTimeTrackingBean com.atlassian.jira.issue.util.IssueImplAggregateTimeTrackingCalculator.getAggregates(Issue))\n            &amp;&amp; args(issue)\n            &amp;&amp; target(issueImplAggregateTimeTrackingCalculator);\n\n    AggregateTimeTrackingBean around (Issue issue,\n                                      IssueImplAggregateTimeTrackingCalculator issueImplAggregateTimeTrackingCalculator):\n            callGetAggregates(issue, issueImplAggregateTimeTrackingCalculator) {\n        throw new IllegalArgumentException(&quot;hello AspectJ world&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","inheritance","architecture","clean-architecture"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1688126795,"post_id":76588741,"comment_id":135035694,"body_markdown":"Why don&#39;t interfaces FileServiceA and FileServiceB extend a common interface which defines the ```download()``` and ```getList()``` methods?","body":"Why don&#39;t interfaces FileServiceA and FileServiceB extend a common interface which defines the <code>download()</code> and <code>getList()</code> methods?"},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1688126972,"post_id":76588741,"comment_id":135035732,"body_markdown":"Same goes for their impl classes","body":"Same goes for their impl classes"}],"answers":[{"comments":[{"owner":{"account_id":20974385,"reputation":44,"user_id":15410820,"display_name":"Oleksandr Veretennykov"},"score":0,"creation_date":1688130283,"post_id":76588852,"comment_id":135036465,"body_markdown":"So for your taste and based on your experience, do you think that this solution is not bad?\n\nThe inheritance option I don&#39;t like is that I first have to extend the generic interface in interfaces A and B and then re-extend the generic implementation in service classes A and B. It doesn&#39;t seem like a very clean solution to me.\n\nThank you very much for your time and your answer.","body":"So for your taste and based on your experience, do you think that this solution is not bad?  The inheritance option I don&#39;t like is that I first have to extend the generic interface in interfaces A and B and then re-extend the generic implementation in service classes A and B. It doesn&#39;t seem like a very clean solution to me.  Thank you very much for your time and your answer."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688130618,"post_id":76588852,"comment_id":135036549,"body_markdown":"@OleksandrVeretennykov Yes, I think your solution is fine. In general with services like this, I&#39;d prefer composition over inheritance. It&#39;s easier to work with and easier to test. The only downside (if you can call it that) is your DI framework has to do a little more work.","body":"@OleksandrVeretennykov Yes, I think your solution is fine. In general with services like this, I&#39;d prefer composition over inheritance. It&#39;s easier to work with and easier to test. The only downside (if you can call it that) is your DI framework has to do a little more work."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688127499,"creation_date":1688127499,"answer_id":76588852,"question_id":76588741,"body_markdown":"One option is to use *inheritance* instead of *composition*. In this case, you would make your `FileSystemA/BImpl` classes *extend* `GenericFileSystemImpl` instead of having a field of that type.\r\n\r\nWhether or not this is a better solution in your case, is up to you. At any rate, you have already eliminated (most of) the code duplication by having a generic service implement the common logic. That is the most important part.","title":"I need advice to eliminate code duplication in Java with SpringBoot","body":"<p>One option is to use <em>inheritance</em> instead of <em>composition</em>. In this case, you would make your <code>FileSystemA/BImpl</code> classes <em>extend</em> <code>GenericFileSystemImpl</code> instead of having a field of that type.</p>\n<p>Whether or not this is a better solution in your case, is up to you. At any rate, you have already eliminated (most of) the code duplication by having a generic service implement the common logic. That is the most important part.</p>\n"},{"comments":[{"owner":{"account_id":20974385,"reputation":44,"user_id":15410820,"display_name":"Oleksandr Veretennykov"},"score":0,"creation_date":1688130641,"post_id":76588865,"comment_id":135036555,"body_markdown":"I&#39;m going to try it, to see if I can understand the implementation well and if I like the final result.\n\nThank you so much.","body":"I&#39;m going to try it, to see if I can understand the implementation well and if I like the final result.  Thank you so much."}],"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688127575,"creation_date":1688127575,"answer_id":76588865,"question_id":76588741,"body_markdown":"You could define a download interface\r\n\r\n    public interface DownloadService {\r\n        Object download();\r\n    }\r\n\r\nWhich is then extended by all your interfaces which provide the download method:\r\n\r\n    public interface FileService&lt;E&gt; extends DownloadService {\r\n        List&lt;E&gt; getList();\r\n    }\r\n\r\nand\r\n\r\n    public interface GenericFileService extends DownloadService {}\r\n\r\nYou don&#39;t really need the ```GenericFileService``` but it will be easier without changing too much of your setup. Otherwise you&#39;d mess up your autowiring by having multiple implementations of the interface you&#39;re injecting.\r\n\r\nThen your FileServices can also just be marker interfaces:\r\n\r\n\r\n    public interface FileServiceA extends FileService&lt;ObjectA&gt; {}\r\n\r\nand\r\n\r\n    public interface FileServiceB extends FileService&lt;ObjectB&gt; {}\r\n\r\nI tried to change as little of your code as possible and this is the closest I could get.","title":"I need advice to eliminate code duplication in Java with SpringBoot","body":"<p>You could define a download interface</p>\n<pre><code>public interface DownloadService {\n    Object download();\n}\n</code></pre>\n<p>Which is then extended by all your interfaces which provide the download method:</p>\n<pre><code>public interface FileService&lt;E&gt; extends DownloadService {\n    List&lt;E&gt; getList();\n}\n</code></pre>\n<p>and</p>\n<pre><code>public interface GenericFileService extends DownloadService {}\n</code></pre>\n<p>You don't really need the <code>GenericFileService</code> but it will be easier without changing too much of your setup. Otherwise you'd mess up your autowiring by having multiple implementations of the interface you're injecting.</p>\n<p>Then your FileServices can also just be marker interfaces:</p>\n<pre><code>public interface FileServiceA extends FileService&lt;ObjectA&gt; {}\n</code></pre>\n<p>and</p>\n<pre><code>public interface FileServiceB extends FileService&lt;ObjectB&gt; {}\n</code></pre>\n<p>I tried to change as little of your code as possible and this is the closest I could get.</p>\n"}],"owner":{"account_id":20974385,"reputation":44,"user_id":15410820,"display_name":"Oleksandr Veretennykov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688127575,"creation_date":1688126488,"question_id":76588741,"body_markdown":"I have two RestControllers that inject two interfaces that are very similar, they have methods with the same name and different data mapping logic, they also have generic methods that implement the same logic. I have transferred the generic methods to another class so as not to duplicate the implementation.\r\n\r\nI have following questions:\r\n\r\n1- Can a generic service (GenericFileService) be injected into other more specific services (FileServiceA and FileServiceB) or is it considered bad practice? why?\r\n\r\n2- What would be the way to eliminate duplicate code (Object download();) in the two interfaces (A and B) with their implementations that encapsulate the calls to the generic methods of the injected generic interface?\r\n\r\nIn rest controller interfaces A and B are injected, so to call the generic methods, they have to be included in the interface and have an implementation. Currently it duplicates the encapsulation calls, so the idea is to make interfaces A and B extend the generic interface and the implementations of Interfaces A and B extend the generic implementation. This form seems to me to be quite busy and I do not think it is good practice.\r\n\r\nExample of solution with inheritance:\r\n- class FileServiceAImpl extends GenericFileServiceImpl implements FileServiceA\r\n- interface FileServiceA extends GenericFileService\r\n\r\nIs there any correct way to solve it and that the code is clean and well readable? Or will it be necessary to completely redesign it?\r\n\r\nAdvice and constructive criticism are welcome. Thank you.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/RkmpY.png)](https://i.stack.imgur.com/RkmpY.png)","title":"I need advice to eliminate code duplication in Java with SpringBoot","body":"<p>I have two RestControllers that inject two interfaces that are very similar, they have methods with the same name and different data mapping logic, they also have generic methods that implement the same logic. I have transferred the generic methods to another class so as not to duplicate the implementation.</p>\n<p>I have following questions:</p>\n<p>1- Can a generic service (GenericFileService) be injected into other more specific services (FileServiceA and FileServiceB) or is it considered bad practice? why?</p>\n<p>2- What would be the way to eliminate duplicate code (Object download();) in the two interfaces (A and B) with their implementations that encapsulate the calls to the generic methods of the injected generic interface?</p>\n<p>In rest controller interfaces A and B are injected, so to call the generic methods, they have to be included in the interface and have an implementation. Currently it duplicates the encapsulation calls, so the idea is to make interfaces A and B extend the generic interface and the implementations of Interfaces A and B extend the generic implementation. This form seems to me to be quite busy and I do not think it is good practice.</p>\n<p>Example of solution with inheritance:</p>\n<ul>\n<li>class FileServiceAImpl extends GenericFileServiceImpl implements FileServiceA</li>\n<li>interface FileServiceA extends GenericFileService</li>\n</ul>\n<p>Is there any correct way to solve it and that the code is clean and well readable? Or will it be necessary to completely redesign it?</p>\n<p>Advice and constructive criticism are welcome. Thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/RkmpY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RkmpY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","fonts","textarea","hindi","non-english"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1413870045,"post_id":26479507,"comment_id":41595457,"body_markdown":"That&#39;s nice.  have a look at http://www.bing.com/translator/Default.aspx","body":"That&#39;s nice.  have a look at <a href=\"http://www.bing.com/translator/Default.aspx\" rel=\"nofollow noreferrer\">bing.com/translator/Default.aspx</a>"},{"owner":{"account_id":4150047,"reputation":1415,"user_id":3402772,"display_name":"SibiCoder"},"score":0,"creation_date":1474616734,"post_id":26479507,"comment_id":66613195,"body_markdown":"Why do you want to create a new one, when there are many with such facilities? ;) you can use `aksharamukha` tool. If you still want to create on your own, you can write a simple code on JavaScript or jquery and fetch text from one textbox and replace each character by roman or Devanagari text and paste the text in another box. Simple!","body":"Why do you want to create a new one, when there are many with such facilities? ;) you can use <code>aksharamukha</code> tool. If you still want to create on your own, you can write a simple code on JavaScript or jquery and fetch text from one textbox and replace each character by roman or Devanagari text and paste the text in another box. Simple!"}],"answers":[{"tags":[],"owner":{"account_id":980235,"reputation":53,"user_id":1000144,"display_name":"Franco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413870950,"creation_date":1413870950,"answer_id":26479790,"question_id":26479507,"body_markdown":"Take a look at Cufon: http://cufon.shoqolate.com/generate/\r\n\r\nKeep in mind any license issues regarding font usage before making use of a font.\r\n\r\nIf you want a safe approach, try and find a font you&#39;re happy with here: https://www.google.com/fonts","title":"Allowing Hindi fonts in html text area","body":"<p>Take a look at Cufon: <a href=\"http://cufon.shoqolate.com/generate/\" rel=\"nofollow\">http://cufon.shoqolate.com/generate/</a></p>\n\n<p>Keep in mind any license issues regarding font usage before making use of a font.</p>\n\n<p>If you want a safe approach, try and find a font you're happy with here: <a href=\"https://www.google.com/fonts\" rel=\"nofollow\">https://www.google.com/fonts</a></p>\n"},{"tags":[],"owner":{"account_id":13747800,"reputation":31,"user_id":9920878,"display_name":"Shrey Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688127055,"creation_date":1687871844,"answer_id":76565302,"question_id":26479507,"body_markdown":"I found a simple solution.\r\n\r\ninstead of setting \r\n```\r\ninput.value = &quot;Hindi Text&quot;;\r\n```\r\nwhich shows up as utf-8 notations in textarea, do -\r\n```\r\ninput.innerHTML = &quot;Hindi Text&quot;;\r\n```\r\nIt works for me ","title":"Allowing Hindi fonts in html text area","body":"<p>I found a simple solution.</p>\n<p>instead of setting</p>\n<pre><code>input.value = &quot;Hindi Text&quot;;\n</code></pre>\n<p>which shows up as utf-8 notations in textarea, do -</p>\n<pre><code>input.innerHTML = &quot;Hindi Text&quot;;\n</code></pre>\n<p>It works for me</p>\n"}],"owner":{"account_id":2766036,"reputation":5499,"user_id":2381737,"accept_rate":26,"display_name":"hard coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1603,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1688127055,"creation_date":1413869516,"question_id":26479507,"body_markdown":"I have a desktop application in java that converts from literal `hindi` text to corresponding english `translitration`. I am using `jTextArea` in desktop application. Now I want to make a web application for doing the same. My end goal is to have two text areas in html in one of which I can type hindi characters and in other one would show translitration result in english characters at the same time. For Hindi I want to use `kruti dev` font and `Times new roman` for english. ","title":"Allowing Hindi fonts in html text area","body":"<p>I have a desktop application in java that converts from literal <code>hindi</code> text to corresponding english <code>translitration</code>. I am using <code>jTextArea</code> in desktop application. Now I want to make a web application for doing the same. My end goal is to have two text areas in html in one of which I can type hindi characters and in other one would show translitration result in english characters at the same time. For Hindi I want to use <code>kruti dev</code> font and <code>Times new roman</code> for english. </p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":3,"creation_date":1382564243,"post_id":19552754,"comment_id":29013883,"body_markdown":"This is probably not the right place for this question. Try over at [Codereview](http://codereview.stackexchange.com/).","body":"This is probably not the right place for this question. Try over at <a href=\"http://codereview.stackexchange.com/\">Codereview</a>."},{"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"score":4,"creation_date":1382658987,"post_id":19552754,"comment_id":29057194,"body_markdown":"For future reference this problem is known as the [Range Minimum Query](http://en.wikipedia.org/wiki/Range_Minimum_Query) and as shown in your answer you can process range queries in O(1) given O(N) preprocessing.","body":"For future reference this problem is known as the <a href=\"http://en.wikipedia.org/wiki/Range_Minimum_Query\" rel=\"nofollow noreferrer\">Range Minimum Query</a> and as shown in your answer you can process range queries in O(1) given O(N) preprocessing."}],"answers":[{"comments":[{"owner":{"account_id":2042735,"reputation":183,"user_id":1823525,"accept_rate":62,"display_name":"Coder"},"score":0,"creation_date":1383241174,"post_id":19577808,"comment_id":29285085,"body_markdown":"The first part of the algorithm create a computation matrix for every symbol x and for every input character y. The second part it&#39;s the key of the trick. I was trying to understand  `if ((cumulativeAnswers[zzz][Q[iii] + 1] - cumulativeAnswers[zzz][P[iii]]) &gt; 0) {\n                        answer[iii] = zzz + 1;\n                        break;\n                    }` why that?","body":"The first part of the algorithm create a computation matrix for every symbol x and for every input character y. The second part it&#39;s the key of the trick. I was trying to understand  <code>if ((cumulativeAnswers[zzz][Q[iii] + 1] - cumulativeAnswers[zzz][P[iii]]) &gt; 0) {                         answer[iii] = zzz + 1;                         break;                     }</code> why that?"},{"owner":{"account_id":2042735,"reputation":183,"user_id":1823525,"accept_rate":62,"display_name":"Coder"},"score":0,"creation_date":1383243964,"post_id":19577808,"comment_id":29286502,"body_markdown":"Maybe I understood every column represents the number of occurrences for every symbol. When we find a number of occurrences between two elements of the same row that is positive this means that in that position we added that element. So the item are in ascedentant order if we found a positive difference we found that minimum!","body":"Maybe I understood every column represents the number of occurrences for every symbol. When we find a number of occurrences between two elements of the same row that is positive this means that in that position we added that element. So the item are in ascedentant order if we found a positive difference we found that minimum!"}],"tags":[],"owner":{"account_id":1581224,"reputation":1369,"user_id":1466580,"accept_rate":89,"display_name":"pshemek"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1382653290,"creation_date":1382653290,"answer_id":19577808,"question_id":19552754,"body_markdown":"**Here is the solution, supposing someone is still interested.**\r\n   \r\n\r\n    class Solution {\r\n            public int[] solution(String S, int[] P, int[] Q) {\r\n                int[] answer = new int[P.length];\r\n                char[] chars = S.toCharArray();\r\n                int[][] cumulativeAnswers = new int[4][chars.length + 1];\r\n        \r\n                for (int iii = 0; iii &lt; chars.length; iii++) {\r\n                    if (iii &gt; 0) {\r\n                        for (int zzz = 0; zzz &lt; 4; zzz++) {\r\n                            cumulativeAnswers[zzz][iii + 1] = cumulativeAnswers[zzz][iii];\r\n                        }\r\n                    }\r\n        \r\n                    switch (chars[iii]) {\r\n                        case &#39;A&#39;:\r\n                            cumulativeAnswers[0][iii + 1]++;\r\n                            break;\r\n                        case &#39;C&#39;:\r\n                            cumulativeAnswers[1][iii + 1]++;\r\n                            break;\r\n                        case &#39;G&#39;:\r\n                            cumulativeAnswers[2][iii + 1]++;\r\n                            break;\r\n                        case &#39;T&#39;:\r\n                            cumulativeAnswers[3][iii + 1]++;\r\n                            break;\r\n                    }\r\n                }\r\n        \r\n                for (int iii = 0; iii &lt; P.length; iii++) {\r\n                    for (int zzz = 0; zzz &lt; 4; zzz++) {\r\n        \r\n                        if ((cumulativeAnswers[zzz][Q[iii] + 1] - cumulativeAnswers[zzz][P[iii]]) &gt; 0) {\r\n                            answer[iii] = zzz + 1;\r\n                            break;\r\n                        }\r\n        \r\n                    }\r\n                }\r\n        \r\n                return answer;\r\n            }\r\n        }","title":"java codility training Genomic-range-query","body":"<p><strong>Here is the solution, supposing someone is still interested.</strong></p>\n\n<pre><code>class Solution {\n        public int[] solution(String S, int[] P, int[] Q) {\n            int[] answer = new int[P.length];\n            char[] chars = S.toCharArray();\n            int[][] cumulativeAnswers = new int[4][chars.length + 1];\n\n            for (int iii = 0; iii &lt; chars.length; iii++) {\n                if (iii &gt; 0) {\n                    for (int zzz = 0; zzz &lt; 4; zzz++) {\n                        cumulativeAnswers[zzz][iii + 1] = cumulativeAnswers[zzz][iii];\n                    }\n                }\n\n                switch (chars[iii]) {\n                    case 'A':\n                        cumulativeAnswers[0][iii + 1]++;\n                        break;\n                    case 'C':\n                        cumulativeAnswers[1][iii + 1]++;\n                        break;\n                    case 'G':\n                        cumulativeAnswers[2][iii + 1]++;\n                        break;\n                    case 'T':\n                        cumulativeAnswers[3][iii + 1]++;\n                        break;\n                }\n            }\n\n            for (int iii = 0; iii &lt; P.length; iii++) {\n                for (int zzz = 0; zzz &lt; 4; zzz++) {\n\n                    if ((cumulativeAnswers[zzz][Q[iii] + 1] - cumulativeAnswers[zzz][P[iii]]) &gt; 0) {\n                        answer[iii] = zzz + 1;\n                        break;\n                    }\n\n                }\n            }\n\n            return answer;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3527854,"reputation":1,"user_id":2948420,"display_name":"SrcXform"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383418636,"creation_date":1383418137,"answer_id":19745526,"question_id":19552754,"body_markdown":"pshemek&#39;s solution constrains itself to the space complexity (O(N)) - even with the 2-d array and the answer array because a constant (4) is used for the 2-d array.  That solution also fits in with the computational complexity - whereas mine is O (N^2) - though the actual computational complexity is much lower because it skips over entire ranges that include minimal values.\r\n\r\nI gave it a try - but mine ends up using more space - but makes more intuitive sense to me (C#):\r\n\r\n    public static int[] solution(String S, int[] P, int[] Q)\r\n    {\r\n    \tconst int MinValue = 1;\r\n    \tDictionary&lt;char, int&gt; stringValueTable = new Dictionary&lt;char,int&gt;(){ {&#39;A&#39;, 1}, {&#39;C&#39;, 2}, {&#39;G&#39;, 3}, {&#39;T&#39;, 4} };\r\n    \r\n    \tchar[] inputArray = S.ToCharArray();\r\n    \tint[,] minRangeTable = new int[S.Length, S.Length]; // The meaning of this table is [x, y] where x is the start index and y is the end index and the value is the min range - if 0 then it is the min range (whatever that is)\r\n    \tfor (int startIndex = 0; startIndex &lt; S.Length; ++startIndex)\r\n    \t{\r\n    \t\tint currentMinValue = 4;\r\n    \t\tint minValueIndex = -1;\r\n    \t\tfor (int endIndex = startIndex; (endIndex &lt; S.Length) &amp;&amp; (minValueIndex == -1); ++endIndex)\r\n    \t\t{\r\n    \t\t\tint currentValue = stringValueTable[inputArray[endIndex]];\r\n    \t\t\tif (currentValue &lt; currentMinValue)\r\n    \t\t\t{\r\n    \t\t\t\tcurrentMinValue = currentValue;\r\n    \t\t\t\tif (currentMinValue == MinValue) // We can stop iterating - because anything with this index in its range will always be minimal\r\n    \t\t\t\t\tminValueIndex = endIndex;\r\n    \t\t\t\telse\r\n    \t\t\t\t\tminRangeTable[startIndex, endIndex] = currentValue;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t\tminRangeTable[startIndex, endIndex] = currentValue;\r\n    \t\t}\r\n    \r\n    \t\tif (minValueIndex != -1) // Skip over this index - since it is minimal\r\n    \t\t\tstartIndex = minValueIndex; // We would have a &quot;+ 1&quot; here - but the &quot;auto-increment&quot; in the for statement will get us past this index\r\n    \t}\r\n    \r\n    \tint[] result = new int[P.Length];\r\n    \tfor (int outputIndex = 0; outputIndex &lt; result.Length; ++outputIndex)\r\n    \t{\r\n    \t\tresult[outputIndex] = minRangeTable[P[outputIndex], Q[outputIndex]];\r\n    \t\tif (result[outputIndex] == 0) // We could avoid this if we initialized our 2-d array with 1&#39;s\r\n    \t\t\tresult[outputIndex] = 1;\r\n    \t}\r\n    \r\n    \treturn result;\r\n    }\r\n\r\n\r\nIn pshemek&#39;s answer - the &quot;trick&quot; in the second loop is simply that once you&#39;ve determined you&#39;ve found a range with the minimal value - you don&#39;t need to continue iterating.  Not sure if that helps.\r\n","title":"java codility training Genomic-range-query","body":"<p>pshemek's solution constrains itself to the space complexity (O(N)) - even with the 2-d array and the answer array because a constant (4) is used for the 2-d array.  That solution also fits in with the computational complexity - whereas mine is O (N^2) - though the actual computational complexity is much lower because it skips over entire ranges that include minimal values.</p>\n\n<p>I gave it a try - but mine ends up using more space - but makes more intuitive sense to me (C#):</p>\n\n<pre><code>public static int[] solution(String S, int[] P, int[] Q)\n{\n    const int MinValue = 1;\n    Dictionary&lt;char, int&gt; stringValueTable = new Dictionary&lt;char,int&gt;(){ {'A', 1}, {'C', 2}, {'G', 3}, {'T', 4} };\n\n    char[] inputArray = S.ToCharArray();\n    int[,] minRangeTable = new int[S.Length, S.Length]; // The meaning of this table is [x, y] where x is the start index and y is the end index and the value is the min range - if 0 then it is the min range (whatever that is)\n    for (int startIndex = 0; startIndex &lt; S.Length; ++startIndex)\n    {\n        int currentMinValue = 4;\n        int minValueIndex = -1;\n        for (int endIndex = startIndex; (endIndex &lt; S.Length) &amp;&amp; (minValueIndex == -1); ++endIndex)\n        {\n            int currentValue = stringValueTable[inputArray[endIndex]];\n            if (currentValue &lt; currentMinValue)\n            {\n                currentMinValue = currentValue;\n                if (currentMinValue == MinValue) // We can stop iterating - because anything with this index in its range will always be minimal\n                    minValueIndex = endIndex;\n                else\n                    minRangeTable[startIndex, endIndex] = currentValue;\n            }\n            else\n                minRangeTable[startIndex, endIndex] = currentValue;\n        }\n\n        if (minValueIndex != -1) // Skip over this index - since it is minimal\n            startIndex = minValueIndex; // We would have a \"+ 1\" here - but the \"auto-increment\" in the for statement will get us past this index\n    }\n\n    int[] result = new int[P.Length];\n    for (int outputIndex = 0; outputIndex &lt; result.Length; ++outputIndex)\n    {\n        result[outputIndex] = minRangeTable[P[outputIndex], Q[outputIndex]];\n        if (result[outputIndex] == 0) // We could avoid this if we initialized our 2-d array with 1's\n            result[outputIndex] = 1;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>In pshemek's answer - the \"trick\" in the second loop is simply that once you've determined you've found a range with the minimal value - you don't need to continue iterating.  Not sure if that helps.</p>\n"},{"tags":[],"owner":{"account_id":944160,"reputation":509,"user_id":971748,"accept_rate":86,"display_name":"Maruccio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416708916,"creation_date":1386376191,"answer_id":20435968,"question_id":19552754,"body_markdown":"In ruby (100/100)\r\n\r\n    def interval_sum x,y,p\r\n    \tp[y+1] - p[x]\r\n    end\r\n    \r\n    def solution(s,p,q)\r\n    \r\n    \t#Hash of arrays with prefix sums\r\n    \r\n    \tp_sums = {}\r\n    \trespuesta = []\r\n    \r\n    \r\n    \t%w(A C G T).each do |letter|\r\n    \t\tp_sums[letter] = Array.new s.size+1, 0\r\n    \tend \r\n    \r\n    \t(0...s.size).each do |count|\r\n    \t\t%w(A C G T).each do |letter|\r\n    \t\t\tp_sums[letter][count+1] = p_sums[letter][count] \r\n    \t\tend if count &gt; 0\r\n    \r\n    \t\tcase s[count]\r\n    \t\twhen &#39;A&#39;\r\n    \t\t\tp_sums[&#39;A&#39;][count+1] += 1\r\n    \t\twhen &#39;C&#39;\r\n    \t\t\tp_sums[&#39;C&#39;][count+1] += 1\r\n    \t\twhen &#39;G&#39;\r\n    \t\t\tp_sums[&#39;G&#39;][count+1] += 1\r\n    \t\twhen &#39;T&#39;\r\n    \t\t\tp_sums[&#39;T&#39;][count+1] += 1\r\n    \t\tend\t\r\n    \r\n    \tend\r\n    \r\n    \r\n    \r\n    \r\n    \t(0...p.size).each do |count|\r\n    \r\n    \r\n    \t  \tx = p[count]\r\n    \t\ty = q[count]\r\n    \r\n    \t\t\t\r\n    \t\tif interval_sum(x, y, p_sums[&#39;A&#39;]) &gt; 0 then\r\n    \t\t\trespuesta &lt;&lt; 1\r\n    \t\t\tnext\r\n    \t\tend\t\r\n    \r\n    \t\tif interval_sum(x, y, p_sums[&#39;C&#39;]) &gt; 0 then\r\n    \t\t\trespuesta &lt;&lt; 2\r\n    \t\t\tnext\r\n    \t\tend\t\r\n    \r\n    \t\tif interval_sum(x, y, p_sums[&#39;G&#39;]) &gt; 0 then\r\n    \t\t\trespuesta &lt;&lt; 3\r\n    \t\t\tnext\r\n    \t\tend\t\r\n    \r\n    \t\tif interval_sum(x, y, p_sums[&#39;T&#39;]) &gt; 0 then\r\n    \t\t\trespuesta &lt;&lt; 4\r\n    \t\t\tnext\r\n    \t\tend\t\r\n    \r\n    \tend\r\n    \r\n    \trespuesta\r\n    \r\n    end","title":"java codility training Genomic-range-query","body":"<p>In ruby (100/100)</p>\n\n<pre><code>def interval_sum x,y,p\n    p[y+1] - p[x]\nend\n\ndef solution(s,p,q)\n\n    #Hash of arrays with prefix sums\n\n    p_sums = {}\n    respuesta = []\n\n\n    %w(A C G T).each do |letter|\n        p_sums[letter] = Array.new s.size+1, 0\n    end \n\n    (0...s.size).each do |count|\n        %w(A C G T).each do |letter|\n            p_sums[letter][count+1] = p_sums[letter][count] \n        end if count &gt; 0\n\n        case s[count]\n        when 'A'\n            p_sums['A'][count+1] += 1\n        when 'C'\n            p_sums['C'][count+1] += 1\n        when 'G'\n            p_sums['G'][count+1] += 1\n        when 'T'\n            p_sums['T'][count+1] += 1\n        end \n\n    end\n\n\n\n\n    (0...p.size).each do |count|\n\n\n        x = p[count]\n        y = q[count]\n\n\n        if interval_sum(x, y, p_sums['A']) &gt; 0 then\n            respuesta &lt;&lt; 1\n            next\n        end \n\n        if interval_sum(x, y, p_sums['C']) &gt; 0 then\n            respuesta &lt;&lt; 2\n            next\n        end \n\n        if interval_sum(x, y, p_sums['G']) &gt; 0 then\n            respuesta &lt;&lt; 3\n            next\n        end \n\n        if interval_sum(x, y, p_sums['T']) &gt; 0 then\n            respuesta &lt;&lt; 4\n            next\n        end \n\n    end\n\n    respuesta\n\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2234801,"reputation":1443,"user_id":1971503,"accept_rate":57,"display_name":"Viswanath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416708846,"creation_date":1391002744,"answer_id":21432777,"question_id":19552754,"body_markdown":"\r\n\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    class Solution {\r\n        \r\n       static HashMap&lt;Character, Integer &gt; characterMapping = new HashMap&lt;Character, Integer&gt;(){{\r\n        put(&#39;A&#39;,1);\r\n        put(&#39;C&#39;,2);\r\n        put(&#39;G&#39;,3);\r\n        put(&#39;T&#39;,4);\r\n      }};\r\n    \r\n      public static int minimum(int[] arr) {\r\n    \r\n        if (arr.length ==1) return arr[0];\r\n    \r\n        int smallestIndex = 0;\r\n        for (int index = 0; index&lt;arr.length; index++) {\r\n          if (arr[index]&lt;arr[smallestIndex]) smallestIndex=index;\r\n        }\r\n        return arr[smallestIndex];\r\n      }\r\n        \r\n        public int[] solution(String S, int[] P, int[] Q) {\r\n            final char[] characterInput = S.toCharArray();\r\n        final int[] integerInput = new int[characterInput.length];\r\n    \r\n        for(int counter=0; counter &lt; characterInput.length; counter++) {\r\n          integerInput[counter] = characterMapping.get(characterInput[counter]);\r\n        }\r\n    \r\n        int[] result = new int[P.length];\r\n    \r\n        //assuming P and Q have the same length\r\n        for(int index =0; index&lt;P.length; index++) {\r\n    \r\n          if (P[index]==Q[index]) {\r\n            result[index] = integerInput[P[index]];\r\n            break;\r\n          }\r\n          final int[] subArray = Arrays.copyOfRange(integerInput, P[index], Q[index]+1);\r\n          final int minimumValue = minimum(subArray);\r\n          result[index]= minimumValue;\r\n        }\r\n        return result;\r\n        }\r\n    }","title":"java codility training Genomic-range-query","body":"<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nclass Solution {\n\n   static HashMap&lt;Character, Integer &gt; characterMapping = new HashMap&lt;Character, Integer&gt;(){{\n    put('A',1);\n    put('C',2);\n    put('G',3);\n    put('T',4);\n  }};\n\n  public static int minimum(int[] arr) {\n\n    if (arr.length ==1) return arr[0];\n\n    int smallestIndex = 0;\n    for (int index = 0; index&lt;arr.length; index++) {\n      if (arr[index]&lt;arr[smallestIndex]) smallestIndex=index;\n    }\n    return arr[smallestIndex];\n  }\n\n    public int[] solution(String S, int[] P, int[] Q) {\n        final char[] characterInput = S.toCharArray();\n    final int[] integerInput = new int[characterInput.length];\n\n    for(int counter=0; counter &lt; characterInput.length; counter++) {\n      integerInput[counter] = characterMapping.get(characterInput[counter]);\n    }\n\n    int[] result = new int[P.length];\n\n    //assuming P and Q have the same length\n    for(int index =0; index&lt;P.length; index++) {\n\n      if (P[index]==Q[index]) {\n        result[index] = integerInput[P[index]];\n        break;\n      }\n      final int[] subArray = Arrays.copyOfRange(integerInput, P[index], Q[index]+1);\n      final int minimumValue = minimum(subArray);\n      result[index]= minimumValue;\n    }\n    return result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3964426,"reputation":1709,"user_id":3270804,"accept_rate":89,"display_name":"Jimmy"},"score":11,"creation_date":1411813298,"post_id":21512180,"comment_id":40852434,"body_markdown":"This is a smart solution. Though in codility, it hints to use prefix sums but it is hard to apply to this case. Thanks.","body":"This is a smart solution. Though in codility, it hints to use prefix sums but it is hard to apply to this case. Thanks."},{"owner":{"account_id":3023229,"reputation":2258,"user_id":2563765,"display_name":"Steven"},"score":0,"creation_date":1413920758,"post_id":21512180,"comment_id":41623248,"body_markdown":"Those comments make it easy to understand :)","body":"Those comments make it easy to understand :)"},{"owner":{"account_id":2260432,"reputation":13453,"user_id":1990684,"accept_rate":60,"display_name":"DevZer0"},"score":0,"creation_date":1414313662,"post_id":21512180,"comment_id":41760891,"body_markdown":"clerical error. `fromIndex = P[i]+1; //+1 is not required`","body":"clerical error. <code>fromIndex = P[i]+1; &#47;&#47;+1 is not required</code>"},{"owner":{"account_id":243654,"reputation":1434,"user_id":515987,"accept_rate":90,"display_name":"gmuhammad"},"score":4,"creation_date":1428872057,"post_id":21512180,"comment_id":47335972,"body_markdown":"Nice solution :), though I don&#39;t understand why `toIndex = Q[i] + 1` ?","body":"Nice solution :), though I don&#39;t understand why <code>toIndex = Q[i] + 1</code> ?"},{"owner":{"account_id":1131356,"reputation":1952,"user_id":1117353,"display_name":"codebusta"},"score":0,"creation_date":1428928041,"post_id":21512180,"comment_id":47356145,"body_markdown":"DevZer0, I removed +1","body":"DevZer0, I removed +1"},{"owner":{"account_id":1131356,"reputation":1952,"user_id":1117353,"display_name":"codebusta"},"score":3,"creation_date":1428928335,"post_id":21512180,"comment_id":47356316,"body_markdown":"gmuhammad, I put comments above, we have to add 1 because our jagged arrays contains zeros at genoms[n][0], by default (this is kind of requirement of prefix sums to have zero at the beginning). Therefore, the size of the jagged array is larger by one element to fit those zeros  - int[][] genoms = new int[3][S.length()+1]; (S.length()+1, added 1 to the length to hold default zeros)","body":"gmuhammad, I put comments above, we have to add 1 because our jagged arrays contains zeros at genoms[n][0], by default (this is kind of requirement of prefix sums to have zero at the beginning). Therefore, the size of the jagged array is larger by one element to fit those zeros  - int[][] genoms = new int[3][S.length()+1]; (S.length()+1, added 1 to the length to hold default zeros)"},{"owner":{"account_id":7541281,"reputation":431,"user_id":5725779,"display_name":"David Roman"},"score":0,"creation_date":1482482046,"post_id":21512180,"comment_id":69798057,"body_markdown":"Awesome solution! I could understand the applications of prefix sums by virtue of your wonderful solution! Many thanks!","body":"Awesome solution! I could understand the applications of prefix sums by virtue of your wonderful solution! Many thanks!"},{"owner":{"account_id":9640758,"reputation":663,"user_id":7155089,"display_name":"Kishy Nivas"},"score":0,"creation_date":1515559263,"post_id":21512180,"comment_id":83340749,"body_markdown":"does this problem also comes under the tag &quot;dynamic programming &quot; because it seems similar to most dp problems.......","body":"does this problem also comes under the tag &quot;dynamic programming &quot; because it seems similar to most dp problems......."},{"owner":{"account_id":1131356,"reputation":1952,"user_id":1117353,"display_name":"codebusta"},"score":0,"creation_date":1516704173,"post_id":21512180,"comment_id":83787212,"body_markdown":"I believe it should, i would also add &quot;memoization&quot;","body":"I believe it should, i would also add &quot;memoization&quot;"},{"owner":{"account_id":7852204,"reputation":1731,"user_id":5935343,"accept_rate":80,"display_name":"John"},"score":0,"creation_date":1544466970,"post_id":21512180,"comment_id":94277725,"body_markdown":"you should define S.charAt(i) only once and reuse it in the first loop.....","body":"you should define S.charAt(i) only once and reuse it in the first loop....."},{"owner":{"account_id":7780081,"reputation":65,"user_id":5886766,"display_name":"BenBen"},"score":0,"creation_date":1544592672,"post_id":21512180,"comment_id":94326130,"body_markdown":"This is so smart that use prefix sum to calculate occurrence!","body":"This is so smart that use prefix sum to calculate occurrence!"},{"owner":{"account_id":3310029,"reputation":5220,"user_id":3278271,"accept_rate":0,"display_name":"Arsenius"},"score":0,"creation_date":1558167383,"post_id":21512180,"comment_id":99017953,"body_markdown":"On Kotlin the solution looks a bit more cleaner\nhttps://gist.github.com/atonamy/5e438f0f7cd04c88a1fd828ca5c06dfa","body":"On Kotlin the solution looks a bit more cleaner <a href=\"https://gist.github.com/atonamy/5e438f0f7cd04c88a1fd828ca5c06dfa\" rel=\"nofollow noreferrer\">gist.github.com/atonamy/5e438f0f7cd04c88a1fd828ca5c06dfa</a>"},{"owner":{"account_id":939902,"reputation":352,"user_id":968152,"display_name":"Eugene Chung"},"score":0,"creation_date":1567829288,"post_id":21512180,"comment_id":102090850,"body_markdown":"char c = S.charAt(i);\n    if (c == &#39;A&#39;) {\n        A = 1;\n    } else if (c == &#39;C&#39;) {\n        C = 1;\n    } else if (c == &#39;G&#39;) {\n        G = 1;\n    }\n\nThis is very small enhancement.","body":"char c = S.charAt(i);     if (c == &#39;A&#39;) {         A = 1;     } else if (c == &#39;C&#39;) {         C = 1;     } else if (c == &#39;G&#39;) {         G = 1;     }  This is very small enhancement."},{"owner":{"account_id":128861,"reputation":173,"user_id":327014,"accept_rate":27,"display_name":"Peter"},"score":0,"creation_date":1570816752,"post_id":21512180,"comment_id":103047703,"body_markdown":"probably the most complicated aspect is seeing the mathematical model that is developed to take use of the sums. This one you have to look carefully at the evaluation of the data as packed into the matrix and the ordering. It all plays a part -- not just summing the occurrences.","body":"probably the most complicated aspect is seeing the mathematical model that is developed to take use of the sums. This one you have to look carefully at the evaluation of the data as packed into the matrix and the ordering. It all plays a part -- not just summing the occurrences."}],"tags":[],"owner":{"account_id":1131356,"reputation":1952,"user_id":1117353,"display_name":"codebusta"},"comment_count":14,"down_vote_count":1,"up_vote_count":150,"is_accepted":true,"score":149,"last_activity_date":1467704735,"creation_date":1391354014,"answer_id":21512180,"question_id":19552754,"body_markdown":"Here is the solution that got 100 out of 100 in codility.com. Please read about prefix sums to  understand the solution:\r\n\r\n    public static int[] solveGenomicRange(String S, int[] P, int[] Q) {\r\n            //used jagged array to hold the prefix sums of each A, C and G genoms\r\n            //we don&#39;t need to get prefix sums of T, you will see why.\r\n            int[][] genoms = new int[3][S.length()+1];\r\n            //if the char is found in the index i, then we set it to be 1 else they are 0\r\n            //3 short values are needed for this reason\r\n            short a, c, g;\r\n            for (int i=0; i&lt;S.length(); i++) {\r\n                a = 0; c = 0; g = 0;\r\n                if (&#39;A&#39; == (S.charAt(i))) {\r\n                    a=1;\r\n                }\r\n                if (&#39;C&#39; == (S.charAt(i))) {\r\n                    c=1;\r\n                }\r\n                if (&#39;G&#39; == (S.charAt(i))) {\r\n                    g=1;\r\n                }\r\n                //here we calculate prefix sums. To learn what&#39;s prefix sums look at here https://codility.com/media/train/3-PrefixSums.pdf\r\n                genoms[0][i+1] = genoms[0][i] + a;\r\n                genoms[1][i+1] = genoms[1][i] + c;\r\n                genoms[2][i+1] = genoms[2][i] + g;\r\n            }\r\n    \r\n            int[] result = new int[P.length];\r\n            //here we go through the provided P[] and Q[] arrays as intervals\r\n            for (int i=0; i&lt;P.length; i++) {\r\n                int fromIndex = P[i];\r\n                //we need to add 1 to Q[i], \r\n                //because our genoms[0][0], genoms[1][0] and genoms[2][0]\r\n                //have 0 values by default, look above genoms[0][i+1] = genoms[0][i] + a; \r\n                int toIndex = Q[i]+1;\r\n                if (genoms[0][toIndex] - genoms[0][fromIndex] &gt; 0) {\r\n                    result[i] = 1;\r\n                } else if (genoms[1][toIndex] - genoms[1][fromIndex] &gt; 0) {\r\n                    result[i] = 2;\r\n                } else if (genoms[2][toIndex] - genoms[2][fromIndex] &gt; 0) {\r\n                    result[i] = 3;\r\n                } else {\r\n                    result[i] = 4;\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }","title":"java codility training Genomic-range-query","body":"<p>Here is the solution that got 100 out of 100 in codility.com. Please read about prefix sums to  understand the solution:</p>\n\n<pre><code>public static int[] solveGenomicRange(String S, int[] P, int[] Q) {\n        //used jagged array to hold the prefix sums of each A, C and G genoms\n        //we don't need to get prefix sums of T, you will see why.\n        int[][] genoms = new int[3][S.length()+1];\n        //if the char is found in the index i, then we set it to be 1 else they are 0\n        //3 short values are needed for this reason\n        short a, c, g;\n        for (int i=0; i&lt;S.length(); i++) {\n            a = 0; c = 0; g = 0;\n            if ('A' == (S.charAt(i))) {\n                a=1;\n            }\n            if ('C' == (S.charAt(i))) {\n                c=1;\n            }\n            if ('G' == (S.charAt(i))) {\n                g=1;\n            }\n            //here we calculate prefix sums. To learn what's prefix sums look at here https://codility.com/media/train/3-PrefixSums.pdf\n            genoms[0][i+1] = genoms[0][i] + a;\n            genoms[1][i+1] = genoms[1][i] + c;\n            genoms[2][i+1] = genoms[2][i] + g;\n        }\n\n        int[] result = new int[P.length];\n        //here we go through the provided P[] and Q[] arrays as intervals\n        for (int i=0; i&lt;P.length; i++) {\n            int fromIndex = P[i];\n            //we need to add 1 to Q[i], \n            //because our genoms[0][0], genoms[1][0] and genoms[2][0]\n            //have 0 values by default, look above genoms[0][i+1] = genoms[0][i] + a; \n            int toIndex = Q[i]+1;\n            if (genoms[0][toIndex] - genoms[0][fromIndex] &gt; 0) {\n                result[i] = 1;\n            } else if (genoms[1][toIndex] - genoms[1][fromIndex] &gt; 0) {\n                result[i] = 2;\n            } else if (genoms[2][toIndex] - genoms[2][fromIndex] &gt; 0) {\n                result[i] = 3;\n            } else {\n                result[i] = 4;\n            }\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1037852,"reputation":659,"user_id":1044587,"display_name":"Oleksandr M."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392745997,"creation_date":1392745997,"answer_id":21861637,"question_id":19552754,"body_markdown":"The php 100/100 solution:\r\n\r\n    function solution($S, $P, $Q) {\r\n        $S      = str_split($S);\r\n        $len    = count($S);\r\n        $lep    = count($P);\r\n        $arr    = array();\r\n        $result = array();\r\n        $clone  = array_fill(0, 4, 0);\r\n        for($i = 0; $i &lt; $len; $i++){\r\n            $arr[$i] = $clone;\r\n            switch($S[$i]){\r\n                case &#39;A&#39;:\r\n                    $arr[$i][0] = 1;\r\n                    break;\r\n                case &#39;C&#39;:\r\n                    $arr[$i][1] = 1;\r\n                    break;\r\n                case &#39;G&#39;:\r\n                    $arr[$i][2] = 1;\r\n                    break;\r\n                default:\r\n                    $arr[$i][3] = 1;\r\n                    break;\r\n            }\r\n        }\r\n        for($i = 1; $i &lt; $len; $i++){\r\n            for($j = 0; $j &lt; 4; $j++){\r\n                $arr[$i][$j] += $arr[$i - 1][$j];\r\n            }\r\n        }\r\n        for($i = 0; $i &lt; $lep; $i++){\r\n            $x = $P[$i];\r\n            $y = $Q[$i];\r\n            for($a = 0; $a &lt; 4; $a++){\r\n                $sub = 0;\r\n                if($x - 1 &gt;= 0){\r\n                    $sub = $arr[$x - 1][$a];\r\n                }\r\n                if($arr[$y][$a] - $sub &gt; 0){\r\n                    $result[$i] = $a + 1;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return $result;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>The php 100/100 solution:</p>\n\n<pre><code>function solution($S, $P, $Q) {\n    $S      = str_split($S);\n    $len    = count($S);\n    $lep    = count($P);\n    $arr    = array();\n    $result = array();\n    $clone  = array_fill(0, 4, 0);\n    for($i = 0; $i &lt; $len; $i++){\n        $arr[$i] = $clone;\n        switch($S[$i]){\n            case 'A':\n                $arr[$i][0] = 1;\n                break;\n            case 'C':\n                $arr[$i][1] = 1;\n                break;\n            case 'G':\n                $arr[$i][2] = 1;\n                break;\n            default:\n                $arr[$i][3] = 1;\n                break;\n        }\n    }\n    for($i = 1; $i &lt; $len; $i++){\n        for($j = 0; $j &lt; 4; $j++){\n            $arr[$i][$j] += $arr[$i - 1][$j];\n        }\n    }\n    for($i = 0; $i &lt; $lep; $i++){\n        $x = $P[$i];\n        $y = $Q[$i];\n        for($a = 0; $a &lt; 4; $a++){\n            $sub = 0;\n            if($x - 1 &gt;= 0){\n                $sub = $arr[$x - 1][$a];\n            }\n            if($arr[$y][$a] - $sub &gt; 0){\n                $result[$i] = $a + 1;\n                break;\n            }\n        }\n    }\n    return $result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4074595,"reputation":1,"user_id":3346606,"display_name":"hrajesh4u"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393246918,"creation_date":1393245611,"answer_id":21988067,"question_id":19552754,"body_markdown":"This program has got score 100 and performance wise has got an edge over other java codes listed above!\r\n\r\nThe code can be found [here][1].\r\n\r\n    public class GenomicRange {\r\n\t\r\n\tfinal int Index_A=0, Index_C=1, Index_G=2, Index_T=3;\r\n\tfinal int A=1, C=2, G=3, T=4; \r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tGenomicRange gen = new GenomicRange();\r\n\t\tint[] M = gen.solution( &quot;GACACCATA&quot;, new int[] { 0,0,4,7 } , new int[] { 8,2,5,7 } );\r\n\t\tSystem.out.println(Arrays.toString(M));\r\n\t} \r\n\r\n\tpublic int[] solution(String S, int[] P, int[] Q) {\r\n\r\n\t\tint[] M = new int[P.length];\r\n\t\tchar[] charArr = S.toCharArray();\r\n\t\tint[][] occCount = new int[3][S.length()+1];\r\n\r\n\t\tint charInd = getChar(charArr[0]);\r\n\t\t\r\n\t\tif(charInd!=3) {\r\n\t\t\toccCount[charInd][1]++;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tfor(int sInd=1; sInd&lt;S.length(); sInd++) {\r\n\r\n\t\t\tcharInd = getChar(charArr[sInd]);\r\n\t\t\t\r\n\t\t\tif(charInd!=3)\r\n\t\t\t\toccCount[charInd][sInd+1]++;\r\n\t\t\t\r\n\t\t\toccCount[Index_A][sInd+1]+=occCount[Index_A][sInd];\r\n\t\t\toccCount[Index_C][sInd+1]+=occCount[Index_C][sInd];\r\n\t\t\toccCount[Index_G][sInd+1]+=occCount[Index_G][sInd];\r\n\t\t}\r\n\r\n\t\tfor(int i=0;i&lt;P.length;i++) {\r\n\t\t\t\r\n\t\t\tint a,c,g;\r\n\t\t\t\r\n\t\t\tif(Q[i]+1&gt;=occCount[0].length) continue;\r\n\t\t\t\r\n\t\t\ta =  occCount[Index_A][Q[i]+1] - occCount[Index_A][P[i]];\r\n\t\t\tc =  occCount[Index_C][Q[i]+1] - occCount[Index_C][P[i]];\r\n\t\t\tg =  occCount[Index_G][Q[i]+1] - occCount[Index_G][P[i]];\r\n\t\t\t\r\n\t\t\tM[i] = a&gt;0? A : c&gt;0 ? C : g&gt;0 ? G : T;    \r\n\t\t}\r\n\r\n\t\treturn M;\r\n\t}\r\n\r\n\tprivate int getChar(char c) {\r\n\r\n\t\treturn ((c==&#39;A&#39;) ? Index_A : ((c==&#39;C&#39;) ? Index_C : ((c==&#39;G&#39;) ? Index_G : Index_T)));  \r\n\t}\r\n    }\r\n\r\n\r\n  [1]: https://codility.com/demo/results/demoEGZFMT-247/","title":"java codility training Genomic-range-query","body":"<p>This program has got score 100 and performance wise has got an edge over other java codes listed above!</p>\n\n<p>The code can be found <a href=\"https://codility.com/demo/results/demoEGZFMT-247/\" rel=\"nofollow\">here</a>.</p>\n\n<pre><code>public class GenomicRange {\n\nfinal int Index_A=0, Index_C=1, Index_G=2, Index_T=3;\nfinal int A=1, C=2, G=3, T=4; \n\npublic static void main(String[] args) {\n\n    GenomicRange gen = new GenomicRange();\n    int[] M = gen.solution( \"GACACCATA\", new int[] { 0,0,4,7 } , new int[] { 8,2,5,7 } );\n    System.out.println(Arrays.toString(M));\n} \n\npublic int[] solution(String S, int[] P, int[] Q) {\n\n    int[] M = new int[P.length];\n    char[] charArr = S.toCharArray();\n    int[][] occCount = new int[3][S.length()+1];\n\n    int charInd = getChar(charArr[0]);\n\n    if(charInd!=3) {\n        occCount[charInd][1]++;\n    }\n\n    for(int sInd=1; sInd&lt;S.length(); sInd++) {\n\n        charInd = getChar(charArr[sInd]);\n\n        if(charInd!=3)\n            occCount[charInd][sInd+1]++;\n\n        occCount[Index_A][sInd+1]+=occCount[Index_A][sInd];\n        occCount[Index_C][sInd+1]+=occCount[Index_C][sInd];\n        occCount[Index_G][sInd+1]+=occCount[Index_G][sInd];\n    }\n\n    for(int i=0;i&lt;P.length;i++) {\n\n        int a,c,g;\n\n        if(Q[i]+1&gt;=occCount[0].length) continue;\n\n        a =  occCount[Index_A][Q[i]+1] - occCount[Index_A][P[i]];\n        c =  occCount[Index_C][Q[i]+1] - occCount[Index_C][P[i]];\n        g =  occCount[Index_G][Q[i]+1] - occCount[Index_G][P[i]];\n\n        M[i] = a&gt;0? A : c&gt;0 ? C : g&gt;0 ? G : T;    \n    }\n\n    return M;\n}\n\nprivate int getChar(char c) {\n\n    return ((c=='A') ? Index_A : ((c=='C') ? Index_C : ((c=='G') ? Index_G : Index_T)));  \n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3707519,"reputation":11067,"user_id":3085625,"accept_rate":36,"display_name":"Rashad"},"score":0,"creation_date":1393909808,"post_id":22163131,"comment_id":33635809,"body_markdown":"Welcome to SO. Don&#39;t just post code. You could give a sudo-code. As the question was in java or you could explain the algorithm. Best of luck. :)","body":"Welcome to SO. Don&#39;t just post code. You could give a sudo-code. As the question was in java or you could explain the algorithm. Best of luck. :)"}],"tags":[],"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393908242,"creation_date":1393908242,"answer_id":22163131,"question_id":19552754,"body_markdown":"Here is a C# solution, the basic idea is pretty much the same as the other answers, but it may be cleaner:\r\n\r\n    using System;\r\n\r\n    class Solution\r\n    {\r\n        public int[] solution(string S, int[] P, int[] Q)\r\n        {\r\n            int N = S.Length;\r\n            int M = P.Length;\r\n            char[] chars = {&#39;A&#39;,&#39;C&#39;,&#39;G&#39;,&#39;T&#39;};\r\n    \r\n            //Calculate accumulates\r\n            int[,] accum = new int[3, N+1];\r\n            for (int i = 0; i &lt;= 2; i++)\r\n            {\r\n                for (int j = 0; j &lt; N; j++)\r\n                {\r\n                    if(S[j] == chars[i]) accum[i, j+1] = accum[i, j] + 1;\r\n                    else accum[i, j+1] = accum[i, j];\r\n                }\r\n            }\r\n    \r\n            //Get minimal nucleotides for the given ranges\r\n            int diff;\r\n            int[] minimums = new int[M];\r\n            for (int i = 0; i &lt; M; i++)\r\n            {\r\n                minimums[i] = 4;\r\n                for (int j = 0; j &lt;= 2; j++)\r\n                {\r\n                    diff = accum[j, Q[i]+1] - accum[j, P[i]];\r\n                    if (diff &gt; 0)\r\n                    {\r\n                        minimums[i] = j+1;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return minimums;\r\n        }\r\n    }","title":"java codility training Genomic-range-query","body":"<p>Here is a C# solution, the basic idea is pretty much the same as the other answers, but it may be cleaner:</p>\n\n<pre><code>using System;\n\nclass Solution\n{\n    public int[] solution(string S, int[] P, int[] Q)\n    {\n        int N = S.Length;\n        int M = P.Length;\n        char[] chars = {'A','C','G','T'};\n\n        //Calculate accumulates\n        int[,] accum = new int[3, N+1];\n        for (int i = 0; i &lt;= 2; i++)\n        {\n            for (int j = 0; j &lt; N; j++)\n            {\n                if(S[j] == chars[i]) accum[i, j+1] = accum[i, j] + 1;\n                else accum[i, j+1] = accum[i, j];\n            }\n        }\n\n        //Get minimal nucleotides for the given ranges\n        int diff;\n        int[] minimums = new int[M];\n        for (int i = 0; i &lt; M; i++)\n        {\n            minimums[i] = 4;\n            for (int j = 0; j &lt;= 2; j++)\n            {\n                diff = accum[j, Q[i]+1] - accum[j, P[i]];\n                if (diff &gt; 0)\n                {\n                    minimums[i] = j+1;\n                    break;\n                }\n            }\n        }\n\n        return minimums;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1814751,"reputation":934,"user_id":1650088,"accept_rate":38,"display_name":"mrmowji"},"score":0,"creation_date":1610573777,"post_id":24532460,"comment_id":116180458,"body_markdown":"I think there would some bugs and compile errors in your code. For example you called `hasNucl` with `P[j]` as both second and third parameters. Also inside this function declaration, you used `j` which isn&#39;t defined on that scope.","body":"I think there would some bugs and compile errors in your code. For example you called <code>hasNucl</code> with <code>P[j]</code> as both second and third parameters. Also inside this function declaration, you used <code>j</code> which isn&#39;t defined on that scope."}],"tags":[],"owner":{"account_id":357274,"reputation":2522,"user_id":697339,"accept_rate":100,"display_name":"ncabral"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404307813,"creation_date":1404307813,"answer_id":24532460,"question_id":19552754,"body_markdown":"Here&#39;s a simple javascript solution which got 100%.\r\n\r\n    function solution(S, P, Q) {\r\n        var A = [];\r\n        var C = [];\r\n        var G = [];\r\n        var T = [];\r\n        var result = [];\r\n        var i = 0;\r\n        \r\n        S.split(&#39;&#39;).forEach(function(a) {\r\n            if (a === &#39;A&#39;) {\r\n                A.push(i);\r\n            } else if (a === &#39;C&#39;) {\r\n                C.push(i);\r\n            } else if (a === &#39;G&#39;) {\r\n                G.push(i);\r\n            } else {\r\n                T.push(i);\r\n            }\r\n            \r\n            i++;\r\n        });\r\n        \r\n        function hasNucl(typeArray, start, end) {\r\n            return typeArray.some(function(a) {\r\n                return a &gt;= P[j] &amp;&amp; a &lt;= Q[j];\r\n            });\r\n        }\r\n        \r\n        for(var j=0; j&lt;P.length; j++) {\r\n            if (hasNucl(A, P[j], P[j])) {\r\n                result.push(1)\r\n            } else if (hasNucl(C, P[j], P[j])) {\r\n                result.push(2);\r\n            } else if (hasNucl(G, P[j], P[j])) {\r\n                result.push(3);\r\n            } else {\r\n                result.push(4);\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>Here's a simple javascript solution which got 100%.</p>\n\n<pre><code>function solution(S, P, Q) {\n    var A = [];\n    var C = [];\n    var G = [];\n    var T = [];\n    var result = [];\n    var i = 0;\n\n    S.split('').forEach(function(a) {\n        if (a === 'A') {\n            A.push(i);\n        } else if (a === 'C') {\n            C.push(i);\n        } else if (a === 'G') {\n            G.push(i);\n        } else {\n            T.push(i);\n        }\n\n        i++;\n    });\n\n    function hasNucl(typeArray, start, end) {\n        return typeArray.some(function(a) {\n            return a &gt;= P[j] &amp;&amp; a &lt;= Q[j];\n        });\n    }\n\n    for(var j=0; j&lt;P.length; j++) {\n        if (hasNucl(A, P[j], P[j])) {\n            result.push(1)\n        } else if (hasNucl(C, P[j], P[j])) {\n            result.push(2);\n        } else if (hasNucl(G, P[j], P[j])) {\n            result.push(3);\n        } else {\n            result.push(4);\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4854894,"reputation":1,"user_id":3916167,"display_name":"Marcin Wojciechowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407362057,"creation_date":1407362057,"answer_id":25170901,"question_id":19552754,"body_markdown":"perl 100/100 solution:\r\n\r\n    sub solution {\r\n        my ($S, $P, $Q)=@_; my @P=@$P; my @Q=@$Q;\r\n        \r\n        my @_A = (0), @_C = (0), @_G = (0), @ret =();\r\n        foreach (split //, $S)\r\n        {\r\n            push @_A, $_A[-1] + ($_ eq &#39;A&#39; ? 1 : 0);\r\n            push @_C, $_C[-1] + ($_ eq &#39;C&#39; ? 1 : 0);\r\n            push @_G, $_G[-1] + ($_ eq &#39;G&#39; ? 1 : 0);\r\n        }\r\n        \r\n        foreach my $i (0..$#P)\r\n        {\r\n            my $from_index = $P[$i];\r\n            my $to_index = $Q[$i] + 1;\r\n            if ( $_A[$to_index] - $_A[$from_index] &gt; 0 )\r\n            {\r\n                push @ret, 1;\r\n                next;\r\n            }\r\n            if ( $_C[$to_index] - $_C[$from_index] &gt; 0 )\r\n            {\r\n                push @ret, 2;\r\n                next;\r\n            }\r\n            if ( $_G[$to_index] - $_G[$from_index] &gt; 0 )\r\n            {\r\n                push @ret, 3;\r\n                next;\r\n            }\r\n            push @ret, 4\r\n        }\r\n        \r\n        return @ret;\r\n    }\r\n","title":"java codility training Genomic-range-query","body":"<p>perl 100/100 solution:</p>\n\n<pre><code>sub solution {\n    my ($S, $P, $Q)=@_; my @P=@$P; my @Q=@$Q;\n\n    my @_A = (0), @_C = (0), @_G = (0), @ret =();\n    foreach (split //, $S)\n    {\n        push @_A, $_A[-1] + ($_ eq 'A' ? 1 : 0);\n        push @_C, $_C[-1] + ($_ eq 'C' ? 1 : 0);\n        push @_G, $_G[-1] + ($_ eq 'G' ? 1 : 0);\n    }\n\n    foreach my $i (0..$#P)\n    {\n        my $from_index = $P[$i];\n        my $to_index = $Q[$i] + 1;\n        if ( $_A[$to_index] - $_A[$from_index] &gt; 0 )\n        {\n            push @ret, 1;\n            next;\n        }\n        if ( $_C[$to_index] - $_C[$from_index] &gt; 0 )\n        {\n            push @ret, 2;\n            next;\n        }\n        if ( $_G[$to_index] - $_G[$from_index] &gt; 0 )\n        {\n            push @ret, 3;\n            next;\n        }\n        push @ret, 4\n    }\n\n    return @ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5076375,"reputation":91,"user_id":4073629,"display_name":"Smola"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1411546620,"creation_date":1411545447,"answer_id":26011529,"question_id":19552754,"body_markdown":"Java, 100/100, but with **no cumulative/prefix sums**! I stashed the last occurrence index of lower 3 nucelotides in a array &quot;map&quot;. Later I check if the last index is between P-Q. If so it returns the nuclotide, if not found, it&#39;s the top one (T):\r\n\r\n    class Solution {\r\n    \r\n    int[][] lastOccurrencesMap;\r\n    \r\n    public int[] solution(String S, int[] P, int[] Q) {\r\n        int N = S.length();\r\n        int M = P.length;\r\n        \r\n        int[] result = new int[M];\r\n        lastOccurrencesMap = new int[3][N];\r\n        int lastA = -1;\r\n        int lastC = -1;\r\n        int lastG = -1;\r\n        \r\n        for (int i = 0; i &lt; N; i++) {\r\n            char c = S.charAt(i);\r\n            \r\n            if (c == &#39;A&#39;) {\r\n                lastA = i;\r\n            } else if (c == &#39;C&#39;) {\r\n                lastC = i;\r\n            } else if (c == &#39;G&#39;) {\r\n                lastG = i;\r\n            }\r\n            \r\n            lastOccurrencesMap[0][i] = lastA;\r\n            lastOccurrencesMap[1][i] = lastC;\r\n            lastOccurrencesMap[2][i] = lastG;\r\n        }\r\n        \r\n        for (int i = 0; i &lt; M; i++) {\r\n            int startIndex = P[i];\r\n            int endIndex = Q[i];\r\n            \r\n            int minimum = 4;\r\n            for (int n = 0; n &lt; 3; n++) {\r\n                int lastOccurence = getLastNucleotideOccurrence(startIndex, endIndex, n);\r\n                if (lastOccurence != 0) {\r\n                    minimum = n + 1; \r\n                    break;\r\n                }\r\n            }\r\n            \r\n            result[i] = minimum;\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    int getLastNucleotideOccurrence(int startIndex, int endIndex, int nucleotideIndex) {\r\n        int[] lastOccurrences = lastOccurrencesMap[nucleotideIndex];\r\n        int endValueLastOccurenceIndex = lastOccurrences[endIndex];\r\n        if (endValueLastOccurenceIndex &gt;= startIndex) {\r\n            return nucleotideIndex + 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"java codility training Genomic-range-query","body":"<p>Java, 100/100, but with <strong>no cumulative/prefix sums</strong>! I stashed the last occurrence index of lower 3 nucelotides in a array \"map\". Later I check if the last index is between P-Q. If so it returns the nuclotide, if not found, it's the top one (T):</p>\n\n<pre><code>class Solution {\n\nint[][] lastOccurrencesMap;\n\npublic int[] solution(String S, int[] P, int[] Q) {\n    int N = S.length();\n    int M = P.length;\n\n    int[] result = new int[M];\n    lastOccurrencesMap = new int[3][N];\n    int lastA = -1;\n    int lastC = -1;\n    int lastG = -1;\n\n    for (int i = 0; i &lt; N; i++) {\n        char c = S.charAt(i);\n\n        if (c == 'A') {\n            lastA = i;\n        } else if (c == 'C') {\n            lastC = i;\n        } else if (c == 'G') {\n            lastG = i;\n        }\n\n        lastOccurrencesMap[0][i] = lastA;\n        lastOccurrencesMap[1][i] = lastC;\n        lastOccurrencesMap[2][i] = lastG;\n    }\n\n    for (int i = 0; i &lt; M; i++) {\n        int startIndex = P[i];\n        int endIndex = Q[i];\n\n        int minimum = 4;\n        for (int n = 0; n &lt; 3; n++) {\n            int lastOccurence = getLastNucleotideOccurrence(startIndex, endIndex, n);\n            if (lastOccurence != 0) {\n                minimum = n + 1; \n                break;\n            }\n        }\n\n        result[i] = minimum;\n    }\n    return result;\n}\n\nint getLastNucleotideOccurrence(int startIndex, int endIndex, int nucleotideIndex) {\n    int[] lastOccurrences = lastOccurrencesMap[nucleotideIndex];\n    int endValueLastOccurenceIndex = lastOccurrences[endIndex];\n    if (endValueLastOccurenceIndex &gt;= startIndex) {\n        return nucleotideIndex + 1;\n    } else {\n        return 0;\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424607,"reputation":773,"user_id":804690,"accept_rate":80,"display_name":"Radu Gancea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415876436,"creation_date":1415876436,"answer_id":26907338,"question_id":19552754,"body_markdown":"Java 100/100\r\n\r\n    class Solution {\r\n\tpublic int[] solution(String S, int[] P, int[] Q) {\r\n\t\tint     qSize       = Q.length;\r\n\t\tint[]   answers     = new int[qSize];\r\n\t\t\r\n\t\tchar[]  sequence    = S.toCharArray();\r\n\t\tint[][] occCount \t= new int[3][sequence.length+1];\r\n\t\t\r\n\t\tint[] geneImpactMap = new int[&#39;G&#39;+1];\r\n\t\tgeneImpactMap[&#39;A&#39;] = 0;\r\n\t\tgeneImpactMap[&#39;C&#39;] = 1;\r\n\t\tgeneImpactMap[&#39;G&#39;] = 2;\r\n\r\n\t\tif(sequence[0] != &#39;T&#39;) {\r\n\t\t\toccCount[geneImpactMap[sequence[0]]][0]++;\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; sequence.length; i++) {\r\n\t\t\toccCount[0][i+1] = occCount[0][i];\r\n\t\t\toccCount[1][i+1] = occCount[1][i];\r\n\t\t\toccCount[2][i+1] = occCount[2][i];\r\n\t\t\t\r\n\t\t\tif(sequence[i] != &#39;T&#39;) {\r\n\t\t\t\toccCount[geneImpactMap[sequence[i]]][i+1]++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(int j = 0; j &lt; qSize; j++) {\r\n\t\t\tfor(int k = 0; k &lt; 3; k++) {\r\n\t\t\t\tif(occCount[k][Q[j]+1] - occCount[k][P[j]] &gt; 0) {\r\n\t\t\t\t\tanswers[j] = k+1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tanswers[j] = 4;\r\n\t\t\t}\t\t\t \r\n\t\t}\r\n\t\t\r\n\t\treturn answers;\r\n\t}\r\n\t} ","title":"java codility training Genomic-range-query","body":"<p>Java 100/100</p>\n\n<pre><code>class Solution {\npublic int[] solution(String S, int[] P, int[] Q) {\n    int     qSize       = Q.length;\n    int[]   answers     = new int[qSize];\n\n    char[]  sequence    = S.toCharArray();\n    int[][] occCount    = new int[3][sequence.length+1];\n\n    int[] geneImpactMap = new int['G'+1];\n    geneImpactMap['A'] = 0;\n    geneImpactMap['C'] = 1;\n    geneImpactMap['G'] = 2;\n\n    if(sequence[0] != 'T') {\n        occCount[geneImpactMap[sequence[0]]][0]++;\n    }\n\n    for(int i = 0; i &lt; sequence.length; i++) {\n        occCount[0][i+1] = occCount[0][i];\n        occCount[1][i+1] = occCount[1][i];\n        occCount[2][i+1] = occCount[2][i];\n\n        if(sequence[i] != 'T') {\n            occCount[geneImpactMap[sequence[i]]][i+1]++;\n        }\n    }\n\n    for(int j = 0; j &lt; qSize; j++) {\n        for(int k = 0; k &lt; 3; k++) {\n            if(occCount[k][Q[j]+1] - occCount[k][P[j]] &gt; 0) {\n                answers[j] = k+1;\n                break;\n            }\n\n            answers[j] = 4;\n        }            \n    }\n\n    return answers;\n}\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":421111,"reputation":1410,"user_id":799162,"display_name":"moxi"},"score":1,"creation_date":1439188394,"post_id":28059496,"comment_id":51739128,"body_markdown":"I like this idea, this problem is perfect for a SegmentTree.","body":"I like this idea, this problem is perfect for a SegmentTree."},{"owner":{"account_id":2066523,"reputation":752,"user_id":1841940,"accept_rate":54,"display_name":"John Smith"},"score":0,"creation_date":1538782705,"post_id":28059496,"comment_id":92278398,"body_markdown":"I wonder what your performance results for &#39;extreme_large - all max ranges&#39; are.","body":"I wonder what your performance results for &#39;extreme_large - all max ranges&#39; are."},{"owner":{"account_id":8145672,"reputation":9719,"user_id":6134408,"accept_rate":61,"display_name":"Ali Soltani"},"score":0,"creation_date":1624097481,"post_id":28059496,"comment_id":120268509,"body_markdown":"SegmentTree is really perfect idea for this problem. Thanks for pointing out this idea.","body":"SegmentTree is really perfect idea for this problem. Thanks for pointing out this idea."}],"tags":[],"owner":{"account_id":5658179,"reputation":31,"user_id":4476588,"display_name":" Abhishek Kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421813476,"creation_date":1421813476,"answer_id":28059496,"question_id":19552754,"body_markdown":"Here is my solution Using Segment Tree O(n)+O(log n)+O(M) time\r\n\r\n    public class DNAseq {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString S=&quot;CAGCCTA&quot;;\r\n\t\tint[] P={2, 5, 0};\r\n\t\tint[] Q={4, 5, 6};\r\n\t\tint [] results=solution(S,P,Q);\r\n\t\tSystem.out.println(results[0]);\r\n\t}\r\n\t\r\n\tstatic class segmentNode{\r\n\t\tint l;\r\n\t\tint r;\r\n\t\tint min;\r\n\t\tsegmentNode left;\r\n\t\tsegmentNode right;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static segmentNode buildTree(int[] arr,int l,int r){\r\n\t\tif(l==r){\r\n\t\t\tsegmentNode n=new segmentNode();\r\n\t\t\tn.l=l;\r\n\t\t\tn.r=r;\r\n\t\t\tn.min=arr[l];\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\tint mid=l+(r-l)/2;\r\n\t\tsegmentNode le=buildTree(arr,l,mid);\r\n\t\tsegmentNode re=buildTree(arr,mid+1,r);\r\n\t\tsegmentNode root=new segmentNode();\r\n\t\troot.left=le;\r\n\t\troot.right=re;\r\n\t\troot.l=le.l;\r\n\t\troot.r=re.r;\r\n\t\t\r\n\t\troot.min=Math.min(le.min,re.min);\r\n\t\t\r\n\t\treturn root;\r\n\t}\r\n\r\n\tpublic static int getMin(segmentNode root,int l,int r){\r\n\t\tif(root.l&gt;r || root.r&lt;l){\r\n\t\t\treturn Integer.MAX_VALUE;\r\n\t\t}\r\n\t\tif(root.l&gt;=l&amp;&amp; root.r&lt;=r) {\r\n\t\t\treturn root.min;\r\n\t\t}\r\n\t\treturn Math.min(getMin(root.left,l,r),getMin(root.right,l,r));\r\n\t}\r\n\tpublic static int[] solution(String S, int[] P, int[] Q) {\r\n\t\tint[] arr=new int[S.length()];\r\n\t\tfor(int i=0;i&lt;S.length();i++){\r\n\t\t\tswitch (S.charAt(i)) {\r\n\t\t\tcase &#39;A&#39;:\r\n\t\t\t\tarr[i]=1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;C&#39;:\r\n\t\t\t\tarr[i]=2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;G&#39;:\r\n\t\t\t\tarr[i]=3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;T&#39;:\r\n\t\t\t\tarr[i]=4;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tsegmentNode root=buildTree(arr,0,S.length()-1);\r\n\t\tint[] result=new int[P.length];\r\n\t\tfor(int i=0;i&lt;P.length;i++){\r\n\t\t\tresult[i]=getMin(root,P[i],Q[i]);\r\n\t\t}\r\n\t\treturn result;\r\n    } }\r\n\r\n","title":"java codility training Genomic-range-query","body":"<p>Here is my solution Using Segment Tree O(n)+O(log n)+O(M) time</p>\n\n<pre><code>public class DNAseq {\n\n\npublic static void main(String[] args) {\n    String S=\"CAGCCTA\";\n    int[] P={2, 5, 0};\n    int[] Q={4, 5, 6};\n    int [] results=solution(S,P,Q);\n    System.out.println(results[0]);\n}\n\nstatic class segmentNode{\n    int l;\n    int r;\n    int min;\n    segmentNode left;\n    segmentNode right;\n}\n\n\n\npublic static segmentNode buildTree(int[] arr,int l,int r){\n    if(l==r){\n        segmentNode n=new segmentNode();\n        n.l=l;\n        n.r=r;\n        n.min=arr[l];\n        return n;\n    }\n    int mid=l+(r-l)/2;\n    segmentNode le=buildTree(arr,l,mid);\n    segmentNode re=buildTree(arr,mid+1,r);\n    segmentNode root=new segmentNode();\n    root.left=le;\n    root.right=re;\n    root.l=le.l;\n    root.r=re.r;\n\n    root.min=Math.min(le.min,re.min);\n\n    return root;\n}\n\npublic static int getMin(segmentNode root,int l,int r){\n    if(root.l&gt;r || root.r&lt;l){\n        return Integer.MAX_VALUE;\n    }\n    if(root.l&gt;=l&amp;&amp; root.r&lt;=r) {\n        return root.min;\n    }\n    return Math.min(getMin(root.left,l,r),getMin(root.right,l,r));\n}\npublic static int[] solution(String S, int[] P, int[] Q) {\n    int[] arr=new int[S.length()];\n    for(int i=0;i&lt;S.length();i++){\n        switch (S.charAt(i)) {\n        case 'A':\n            arr[i]=1;\n            break;\n        case 'C':\n            arr[i]=2;\n            break;\n        case 'G':\n            arr[i]=3;\n            break;\n        case 'T':\n            arr[i]=4;\n            break;\n        default:\n            break;\n        }\n    }\n\n    segmentNode root=buildTree(arr,0,S.length()-1);\n    int[] result=new int[P.length];\n    for(int i=0;i&lt;P.length;i++){\n        result[i]=getMin(root,P[i],Q[i]);\n    }\n    return result;\n} }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2014709,"reputation":891,"user_id":1802286,"display_name":"dimaaan"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1422568943,"creation_date":1422568943,"answer_id":28225477,"question_id":19552754,"body_markdown":"Simple, elegant, domain specific, 100/100 solution in JS with comments!\r\n\r\n\r\n    function solution(S, P, Q) {\r\n        var N = S.length, M = P.length;\r\n\r\n        // dictionary to map nucleotide to impact factor\r\n        var impact = {A : 1, C : 2, G : 3, T : 4};\r\n\r\n        // nucleotide total count in DNA\r\n        var currCounter = {A : 0, C : 0, G : 0, T : 0};\r\n\r\n        // how many times nucleotide repeats at the moment we reach S[i]\r\n        var counters = [];\r\n        \r\n        // result\r\n        var minImpact = [];\r\n\r\n        var i;\r\n        \r\n        // count nucleotides\r\n        for(i = 0; i &lt;= N; i++) {\r\n            counters.push({A: currCounter.A, C: currCounter.C, G: currCounter.G});\r\n            currCounter[S[i]]++;\r\n        }\r\n    \r\n        // for every query\r\n        for(i = 0; i &lt; M; i++) {\r\n            var from = P[i], to = Q[i] + 1;\r\n\r\n            // compare count of A at the start of query with count at the end of equry\r\n            // if counter was changed then query contains A\r\n            if(counters[to].A - counters[from].A &gt; 0) {\r\n                minImpact.push(impact.A);\r\n            }\r\n            // same things for C and others nucleotides with higher impact factor\r\n            else if(counters[to].C - counters[from].C &gt; 0) {\r\n                minImpact.push(impact.C);\r\n            }\r\n            else if(counters[to].G - counters[from].G &gt; 0) {\r\n                minImpact.push(impact.G);\r\n            }\r\n            else { // one of the counters MUST be changed, so its T\r\n                minImpact.push(impact.T);\r\n            }\r\n        }\r\n        \r\n        return minImpact;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>Simple, elegant, domain specific, 100/100 solution in JS with comments!</p>\n\n<pre><code>function solution(S, P, Q) {\n    var N = S.length, M = P.length;\n\n    // dictionary to map nucleotide to impact factor\n    var impact = {A : 1, C : 2, G : 3, T : 4};\n\n    // nucleotide total count in DNA\n    var currCounter = {A : 0, C : 0, G : 0, T : 0};\n\n    // how many times nucleotide repeats at the moment we reach S[i]\n    var counters = [];\n\n    // result\n    var minImpact = [];\n\n    var i;\n\n    // count nucleotides\n    for(i = 0; i &lt;= N; i++) {\n        counters.push({A: currCounter.A, C: currCounter.C, G: currCounter.G});\n        currCounter[S[i]]++;\n    }\n\n    // for every query\n    for(i = 0; i &lt; M; i++) {\n        var from = P[i], to = Q[i] + 1;\n\n        // compare count of A at the start of query with count at the end of equry\n        // if counter was changed then query contains A\n        if(counters[to].A - counters[from].A &gt; 0) {\n            minImpact.push(impact.A);\n        }\n        // same things for C and others nucleotides with higher impact factor\n        else if(counters[to].C - counters[from].C &gt; 0) {\n            minImpact.push(impact.C);\n        }\n        else if(counters[to].G - counters[from].G &gt; 0) {\n            minImpact.push(impact.G);\n        }\n        else { // one of the counters MUST be changed, so its T\n            minImpact.push(impact.T);\n        }\n    }\n\n    return minImpact;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":401218,"reputation":658,"user_id":767651,"display_name":"Radu"},"score":0,"creation_date":1439501318,"post_id":28297030,"comment_id":51901018,"body_markdown":"Just my opinion that if you do a strpos it means an additional search that will add over the complexity","body":"Just my opinion that if you do a strpos it means an additional search that will add over the complexity"}],"tags":[],"owner":{"account_id":1595634,"reputation":1909,"user_id":1477829,"accept_rate":85,"display_name":"dontHaveName"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422960548,"creation_date":1422960548,"answer_id":28297030,"question_id":19552754,"body_markdown":"simple php 100/100 solution\r\n\r\n    function solution($S, $P, $Q) {\r\n        $result = array();\r\n        for ($i = 0; $i &lt; count($P); $i++) {\r\n            $from = $P[$i];\r\n            $to = $Q[$i];\r\n            $length = $from &gt;= $to ? $from - $to + 1 : $to - $from + 1;\r\n            $new = substr($S, $from, $length);\r\n            \r\n            if (strpos($new, &#39;A&#39;) !== false) {\r\n                $result[$i] = 1;\r\n            } else {\r\n                if (strpos($new, &#39;C&#39;) !== false) {\r\n                    $result[$i] = 2;\r\n                } else {\r\n                    if (strpos($new, &#39;G&#39;) !== false) {\r\n                        $result[$i] = 3;\r\n                    } else {\r\n                       $result[$i] = 4;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return $result;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>simple php 100/100 solution</p>\n\n<pre><code>function solution($S, $P, $Q) {\n    $result = array();\n    for ($i = 0; $i &lt; count($P); $i++) {\n        $from = $P[$i];\n        $to = $Q[$i];\n        $length = $from &gt;= $to ? $from - $to + 1 : $to - $from + 1;\n        $new = substr($S, $from, $length);\n\n        if (strpos($new, 'A') !== false) {\n            $result[$i] = 1;\n        } else {\n            if (strpos($new, 'C') !== false) {\n                $result[$i] = 2;\n            } else {\n                if (strpos($new, 'G') !== false) {\n                    $result[$i] = 3;\n                } else {\n                   $result[$i] = 4;\n                }\n            }\n        }\n    }\n    return $result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421111,"reputation":1410,"user_id":799162,"display_name":"moxi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439188337,"creation_date":1439188337,"answer_id":31912947,"question_id":19552754,"body_markdown":"Here&#39;s my Java (100/100) Solution:\r\n\r\n    class Solution {\r\n        private ImpactFactorHolder[] mHolder;\r\n        private static final int A=0,C=1,G=2,T=3;\r\n        \r\n        public int[] solution(String S, int[] P, int[] Q) { \r\n            mHolder = createImpactHolderArray(S);\r\n            \r\n            int queriesLength = P.length;\r\n            int[] result = new int[queriesLength];\r\n            \r\n            for (int i = 0; i &lt; queriesLength; ++i ) {\r\n                int value = 0;\r\n                if( P[i] == Q[i]) {\r\n                  value = lookupValueForIndex(S.charAt(P[i])) + 1;\r\n                } else {\r\n                 value = calculateMinImpactFactor(P[i], Q[i]);\r\n                }\r\n                result[i] = value;\r\n            }\r\n            return result;    \r\n            \r\n        }\r\n        \r\n        public int calculateMinImpactFactor(int P, int Q) {\r\n            int minImpactFactor = 3;\r\n            \r\n            for (int nucleotide = A; nucleotide &lt;= T; ++nucleotide ) {\r\n                int qValue = mHolder[nucleotide].mOcurrencesSum[Q];\r\n                int pValue = mHolder[nucleotide].mOcurrencesSum[P];\r\n                // handling special cases when the less value is assigned on the P index\r\n                if( P-1 &gt;= 0 ) {\r\n                    pValue = mHolder[nucleotide].mOcurrencesSum[P-1] == 0 ? 0 : pValue;\r\n                } else if ( P == 0 ) {\r\n                    pValue = mHolder[nucleotide].mOcurrencesSum[P] == 1 ? 0 : pValue;\r\n                }\r\n                \r\n                if ( qValue - pValue &gt; 0) {\r\n                    minImpactFactor = nucleotide;\r\n                    break;\r\n                } \r\n            }        \r\n            return minImpactFactor + 1;\r\n        } \r\n        \r\n        public int lookupValueForIndex(char nucleotide) {\r\n            int value = 0;\r\n            switch (nucleotide) {\r\n                case &#39;A&#39; :\r\n                        value = A;\r\n                        break;\r\n                    case &#39;C&#39; :\r\n                        value = C;\r\n                        break;\r\n                    case &#39;G&#39;:\r\n                       value = G;\r\n                        break;\r\n                    case &#39;T&#39;:\r\n                        value = T;\r\n                        break;\r\n                    default:                    \r\n                        break;\r\n            }\r\n            return value;\r\n        }\r\n        \r\n        public ImpactFactorHolder[] createImpactHolderArray(String S) {\r\n            int length = S.length();\r\n            ImpactFactorHolder[] holder = new ImpactFactorHolder[4];\r\n            holder[A] = new ImpactFactorHolder(1,&#39;A&#39;, length);\r\n            holder[C] = new ImpactFactorHolder(2,&#39;C&#39;, length);\r\n            holder[G] = new ImpactFactorHolder(3,&#39;G&#39;, length);\r\n            holder[T] = new ImpactFactorHolder(4,&#39;T&#39;, length);\r\n            int i =0;\r\n            for(char c : S.toCharArray()) {\r\n                int nucleotide = lookupValueForIndex(c);\r\n                ++holder[nucleotide].mAcum;\r\n                holder[nucleotide].mOcurrencesSum[i] = holder[nucleotide].mAcum;  \r\n                holder[A].mOcurrencesSum[i] = holder[A].mAcum;\r\n                holder[C].mOcurrencesSum[i] = holder[C].mAcum;\r\n                holder[G].mOcurrencesSum[i] = holder[G].mAcum;\r\n                holder[T].mOcurrencesSum[i] = holder[T].mAcum;\r\n                ++i;\r\n            }\r\n            \r\n            return holder;\r\n        }\r\n        \r\n        private static class ImpactFactorHolder {\r\n            public ImpactFactorHolder(int impactFactor, char nucleotide, int length) {\r\n                mImpactFactor = impactFactor;\r\n                mNucleotide = nucleotide;\r\n                mOcurrencesSum = new int[length];\r\n                mAcum = 0;\r\n            }\r\n            int mImpactFactor;\r\n            char mNucleotide;\r\n            int[] mOcurrencesSum;\r\n            int mAcum;\r\n        }\r\n    }\r\n\r\nLink: https://codility.com/demo/results/demoJFB5EV-EG8/\r\nI&#39;m looking forward to implement a Segment Tree similar to @Abhishek Kumar solution","title":"java codility training Genomic-range-query","body":"<p>Here's my Java (100/100) Solution:</p>\n\n<pre><code>class Solution {\n    private ImpactFactorHolder[] mHolder;\n    private static final int A=0,C=1,G=2,T=3;\n\n    public int[] solution(String S, int[] P, int[] Q) { \n        mHolder = createImpactHolderArray(S);\n\n        int queriesLength = P.length;\n        int[] result = new int[queriesLength];\n\n        for (int i = 0; i &lt; queriesLength; ++i ) {\n            int value = 0;\n            if( P[i] == Q[i]) {\n              value = lookupValueForIndex(S.charAt(P[i])) + 1;\n            } else {\n             value = calculateMinImpactFactor(P[i], Q[i]);\n            }\n            result[i] = value;\n        }\n        return result;    \n\n    }\n\n    public int calculateMinImpactFactor(int P, int Q) {\n        int minImpactFactor = 3;\n\n        for (int nucleotide = A; nucleotide &lt;= T; ++nucleotide ) {\n            int qValue = mHolder[nucleotide].mOcurrencesSum[Q];\n            int pValue = mHolder[nucleotide].mOcurrencesSum[P];\n            // handling special cases when the less value is assigned on the P index\n            if( P-1 &gt;= 0 ) {\n                pValue = mHolder[nucleotide].mOcurrencesSum[P-1] == 0 ? 0 : pValue;\n            } else if ( P == 0 ) {\n                pValue = mHolder[nucleotide].mOcurrencesSum[P] == 1 ? 0 : pValue;\n            }\n\n            if ( qValue - pValue &gt; 0) {\n                minImpactFactor = nucleotide;\n                break;\n            } \n        }        \n        return minImpactFactor + 1;\n    } \n\n    public int lookupValueForIndex(char nucleotide) {\n        int value = 0;\n        switch (nucleotide) {\n            case 'A' :\n                    value = A;\n                    break;\n                case 'C' :\n                    value = C;\n                    break;\n                case 'G':\n                   value = G;\n                    break;\n                case 'T':\n                    value = T;\n                    break;\n                default:                    \n                    break;\n        }\n        return value;\n    }\n\n    public ImpactFactorHolder[] createImpactHolderArray(String S) {\n        int length = S.length();\n        ImpactFactorHolder[] holder = new ImpactFactorHolder[4];\n        holder[A] = new ImpactFactorHolder(1,'A', length);\n        holder[C] = new ImpactFactorHolder(2,'C', length);\n        holder[G] = new ImpactFactorHolder(3,'G', length);\n        holder[T] = new ImpactFactorHolder(4,'T', length);\n        int i =0;\n        for(char c : S.toCharArray()) {\n            int nucleotide = lookupValueForIndex(c);\n            ++holder[nucleotide].mAcum;\n            holder[nucleotide].mOcurrencesSum[i] = holder[nucleotide].mAcum;  \n            holder[A].mOcurrencesSum[i] = holder[A].mAcum;\n            holder[C].mOcurrencesSum[i] = holder[C].mAcum;\n            holder[G].mOcurrencesSum[i] = holder[G].mAcum;\n            holder[T].mOcurrencesSum[i] = holder[T].mAcum;\n            ++i;\n        }\n\n        return holder;\n    }\n\n    private static class ImpactFactorHolder {\n        public ImpactFactorHolder(int impactFactor, char nucleotide, int length) {\n            mImpactFactor = impactFactor;\n            mNucleotide = nucleotide;\n            mOcurrencesSum = new int[length];\n            mAcum = 0;\n        }\n        int mImpactFactor;\n        char mNucleotide;\n        int[] mOcurrencesSum;\n        int mAcum;\n    }\n}\n</code></pre>\n\n<p>Link: <a href=\"https://codility.com/demo/results/demoJFB5EV-EG8/\" rel=\"nofollow\">https://codility.com/demo/results/demoJFB5EV-EG8/</a>\nI'm looking forward to implement a Segment Tree similar to @Abhishek Kumar solution</p>\n"},{"tags":[],"owner":{"account_id":354646,"reputation":3890,"user_id":4185364,"display_name":"milos.ai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446138860,"creation_date":1446138860,"answer_id":33420632,"question_id":19552754,"body_markdown":"Here&#39;s 100% Scala solution:\r\n\r\n    def solution(S: String, P: Array[Int], Q: Array[Int]): Array[Int] = {\r\n    \r\n    \r\n        val resp = for(ind &lt;- 0 to P.length-1) yield {\r\n    \r\n          val sub= S.substring(P(ind),Q(ind)+1)\r\n    \r\n    \r\n          var factor = 4\r\n    \r\n          if(sub.contains(&quot;A&quot;)) {factor=1}\r\n          else{\r\n            if(sub.contains(&quot;C&quot;)) {factor=2}\r\n            else{\r\n              if(sub.contains(&quot;G&quot;)) {factor=3}\r\n            }\r\n          }\r\n          factor\r\n    \r\n        }\r\n    \r\n        return resp.toArray\r\n    \r\n      }\r\n\r\nAnd performance: https://codility.com/demo/results/trainingEUR4XP-425/","title":"java codility training Genomic-range-query","body":"<p>Here's 100% Scala solution:</p>\n\n<pre><code>def solution(S: String, P: Array[Int], Q: Array[Int]): Array[Int] = {\n\n\n    val resp = for(ind &lt;- 0 to P.length-1) yield {\n\n      val sub= S.substring(P(ind),Q(ind)+1)\n\n\n      var factor = 4\n\n      if(sub.contains(\"A\")) {factor=1}\n      else{\n        if(sub.contains(\"C\")) {factor=2}\n        else{\n          if(sub.contains(\"G\")) {factor=3}\n        }\n      }\n      factor\n\n    }\n\n    return resp.toArray\n\n  }\n</code></pre>\n\n<p>And performance: <a href=\"https://codility.com/demo/results/trainingEUR4XP-425/\" rel=\"nofollow\">https://codility.com/demo/results/trainingEUR4XP-425/</a></p>\n"},{"tags":[],"owner":{"account_id":2101140,"reputation":179,"user_id":1868728,"display_name":"cheshy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452211197,"creation_date":1452211197,"answer_id":34667367,"question_id":19552754,"body_markdown":"My C++ solution\r\n\r\n    vector&lt;int&gt; solution(string &amp;S, vector&lt;int&gt; &amp;P, vector&lt;int&gt; &amp;Q) {\r\n\r\n        vector&lt;int&gt; impactCount_A(S.size()+1, 0);\r\n        vector&lt;int&gt; impactCount_C(S.size()+1, 0);\r\n        vector&lt;int&gt; impactCount_G(S.size()+1, 0);\r\n\r\n        int lastTotal_A = 0;\r\n        int lastTotal_C = 0;\r\n        int lastTotal_G = 0;\r\n        for (int i = (signed)S.size()-1; i &gt;= 0; --i) {\r\n            switch(S[i]) {\r\n                case &#39;A&#39;:\r\n                    ++lastTotal_A;\r\n                    break;\r\n                case &#39;C&#39;:\r\n                    ++lastTotal_C;\r\n                    break;\r\n                case &#39;G&#39;:\r\n                    ++lastTotal_G;\r\n                    break;\r\n            };\r\n        \r\n            impactCount_A[i] = lastTotal_A;\r\n            impactCount_C[i] = lastTotal_C;\r\n            impactCount_G[i] = lastTotal_G;\r\n        }\r\n    \r\n        vector&lt;int&gt; results(P.size(), 0);\r\n    \r\n        for (int i = 0; i &lt; P.size(); ++i) {\r\n            int pIndex = P[i];\r\n            int qIndex = Q[i];\r\n        \r\n            int numA = impactCount_A[pIndex]-impactCount_A[qIndex+1];\r\n            int numC = impactCount_C[pIndex]-impactCount_C[qIndex+1];\r\n            int numG = impactCount_G[pIndex]-impactCount_G[qIndex+1];\r\n        \r\n            if (numA &gt; 0) {\r\n                results[i] = 1;\r\n            }\r\n            else if (numC &gt; 0) {\r\n                results[i] = 2;\r\n            }\r\n            else if (numG &gt; 0) {\r\n                results[i] = 3;\r\n            }\r\n            else {\r\n                results[i] = 4;\r\n            }\r\n        }\r\n    \r\n        return results;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>My C++ solution</p>\n\n<pre><code>vector&lt;int&gt; solution(string &amp;S, vector&lt;int&gt; &amp;P, vector&lt;int&gt; &amp;Q) {\n\n    vector&lt;int&gt; impactCount_A(S.size()+1, 0);\n    vector&lt;int&gt; impactCount_C(S.size()+1, 0);\n    vector&lt;int&gt; impactCount_G(S.size()+1, 0);\n\n    int lastTotal_A = 0;\n    int lastTotal_C = 0;\n    int lastTotal_G = 0;\n    for (int i = (signed)S.size()-1; i &gt;= 0; --i) {\n        switch(S[i]) {\n            case 'A':\n                ++lastTotal_A;\n                break;\n            case 'C':\n                ++lastTotal_C;\n                break;\n            case 'G':\n                ++lastTotal_G;\n                break;\n        };\n\n        impactCount_A[i] = lastTotal_A;\n        impactCount_C[i] = lastTotal_C;\n        impactCount_G[i] = lastTotal_G;\n    }\n\n    vector&lt;int&gt; results(P.size(), 0);\n\n    for (int i = 0; i &lt; P.size(); ++i) {\n        int pIndex = P[i];\n        int qIndex = Q[i];\n\n        int numA = impactCount_A[pIndex]-impactCount_A[qIndex+1];\n        int numC = impactCount_C[pIndex]-impactCount_C[qIndex+1];\n        int numG = impactCount_G[pIndex]-impactCount_G[qIndex+1];\n\n        if (numA &gt; 0) {\n            results[i] = 1;\n        }\n        else if (numC &gt; 0) {\n            results[i] = 2;\n        }\n        else if (numG &gt; 0) {\n            results[i] = 3;\n        }\n        else {\n            results[i] = 4;\n        }\n    }\n\n    return results;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3693677,"reputation":11,"user_id":3075668,"display_name":"Jose Ladeira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455133000,"creation_date":1455133000,"answer_id":35324367,"question_id":19552754,"body_markdown":"/* 100/100 solution C++.\r\nUsing prefix sums. Firstly converting chars to integer in nuc variable. Then in a bi-dimensional vector we account the occurrence in S of each nucleoside x in it&#39;s respective prefix_sum[s][x]. After we just have to find out the lower nucluoside that occurred in each interval K.\r\n\r\n*/\r\n.\r\nvector&lt;int&gt; solution(string &amp;S, vector&lt;int&gt; &amp;P, vector&lt;int&gt; &amp;Q) {\r\n\r\n\tint n=S.size();\r\n\tint m=P.size();\r\n\tvector&lt;vector&lt;int&gt; &gt; prefix_sum(n+1,vector&lt;int&gt;(4,0));\r\n\tint nuc;\r\n\r\n    //prefix occurrence sum\r\n\tfor (int s=0;s&lt;n; s++) {\r\n\t\tnuc = S.at(s) == &#39;A&#39; ? 1 : (S.at(s) == &#39;C&#39; ? 2 : (S.at(s) == &#39;G&#39; ? 3 : 4) );\t\t\r\n\t\tfor (int u=0;u&lt;4;u++) {\r\n\t\t\tprefix_sum[s+1][u] = prefix_sum[s][u] + ((u+1)==nuc?1:0);\r\n\t\t}\r\n\t}\r\n\r\n    //find minimal impact factor in each interval K\r\n\tint lower_impact_factor;\r\n\r\n    for (int k=0;k&lt;m;k++) {\r\n\r\n    \tlower_impact_factor=4;\r\n    \tfor (int u=2;u&gt;=0;u--) {\r\n    \t\tif (prefix_sum[Q[k]+1][u] - prefix_sum[P[k]][u] != 0)\r\n    \t\t\tlower_impact_factor = u+1;\r\n    \t}\r\n    \tP[k]=lower_impact_factor;\r\n    }\r\n\r\n    return P;\r\n}","title":"java codility training Genomic-range-query","body":"<p>/* 100/100 solution C++.\nUsing prefix sums. Firstly converting chars to integer in nuc variable. Then in a bi-dimensional vector we account the occurrence in S of each nucleoside x in it's respective prefix_sum[s][x]. After we just have to find out the lower nucluoside that occurred in each interval K.</p>\n\n<p>*/\n.\nvector solution(string &amp;S, vector &amp;P, vector &amp;Q) {</p>\n\n<pre><code>int n=S.size();\nint m=P.size();\nvector&lt;vector&lt;int&gt; &gt; prefix_sum(n+1,vector&lt;int&gt;(4,0));\nint nuc;\n\n//prefix occurrence sum\nfor (int s=0;s&lt;n; s++) {\n    nuc = S.at(s) == 'A' ? 1 : (S.at(s) == 'C' ? 2 : (S.at(s) == 'G' ? 3 : 4) );        \n    for (int u=0;u&lt;4;u++) {\n        prefix_sum[s+1][u] = prefix_sum[s][u] + ((u+1)==nuc?1:0);\n    }\n}\n\n//find minimal impact factor in each interval K\nint lower_impact_factor;\n\nfor (int k=0;k&lt;m;k++) {\n\n    lower_impact_factor=4;\n    for (int u=2;u&gt;=0;u--) {\n        if (prefix_sum[Q[k]+1][u] - prefix_sum[P[k]][u] != 0)\n            lower_impact_factor = u+1;\n    }\n    P[k]=lower_impact_factor;\n}\n\nreturn P;\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":5281059,"reputation":57,"user_id":4458900,"display_name":"backcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456524016,"creation_date":1456524016,"answer_id":35662562,"question_id":19552754,"body_markdown":"Hope this helps.\r\n\r\n    public int[] solution(String S, int[] P, int[] K) {\r\n            // write your code in Java SE 8\r\n            char[] sc = S.toCharArray();\r\n            int[] A = new int[sc.length];\r\n            int[] G = new int[sc.length];\r\n            int[] C = new int[sc.length];\r\n            \r\n            int prevA =-1,prevG=-1,prevC=-1;\r\n            \r\n            for(int i=0;i&lt;sc.length;i++){\r\n                if(sc[i]==&#39;A&#39;)\r\n                   prevA=i;\r\n                else if(sc[i] == &#39;G&#39;)\r\n                   prevG=i;\r\n                else if(sc[i] ==&#39;C&#39;)\r\n                   prevC=i;\r\n                A[i] = prevA;\r\n                G[i] = prevG;\r\n                C[i] = prevC;\r\n                //System.out.println(A[i]+ &quot; &quot;+G[i]+&quot; &quot;+C[i]);\r\n    \r\n            }\r\n            int[] result = new int[P.length];\r\n    \r\n            for(int i=0;i&lt;P.length;i++){\r\n                //System.out.println(A[P[i]]+ &quot; &quot;+A[K[i]]+&quot; &quot;+C[P[i]]+&quot; &quot;+C[K[i]]+&quot; &quot;+P[i]+&quot; &quot;+K[i]);\r\n    \r\n                if(A[K[i]] &gt;=P[i] &amp;&amp; A[K[i]] &lt;=K[i]){\r\n                      result[i] =1;\r\n                }\r\n                else if(C[K[i]] &gt;=P[i] &amp;&amp; C[K[i]] &lt;=K[i]){\r\n                      result[i] =2;\r\n                }else if(G[K[i]] &gt;=P[i] &amp;&amp; G[K[i]] &lt;=K[i]){\r\n                      result[i] =3;\r\n                }\r\n                else{\r\n                    result[i]=4;\r\n                }\r\n            }\r\n            \r\n            return result;\r\n        }","title":"java codility training Genomic-range-query","body":"<p>Hope this helps.</p>\n\n<pre><code>public int[] solution(String S, int[] P, int[] K) {\n        // write your code in Java SE 8\n        char[] sc = S.toCharArray();\n        int[] A = new int[sc.length];\n        int[] G = new int[sc.length];\n        int[] C = new int[sc.length];\n\n        int prevA =-1,prevG=-1,prevC=-1;\n\n        for(int i=0;i&lt;sc.length;i++){\n            if(sc[i]=='A')\n               prevA=i;\n            else if(sc[i] == 'G')\n               prevG=i;\n            else if(sc[i] =='C')\n               prevC=i;\n            A[i] = prevA;\n            G[i] = prevG;\n            C[i] = prevC;\n            //System.out.println(A[i]+ \" \"+G[i]+\" \"+C[i]);\n\n        }\n        int[] result = new int[P.length];\n\n        for(int i=0;i&lt;P.length;i++){\n            //System.out.println(A[P[i]]+ \" \"+A[K[i]]+\" \"+C[P[i]]+\" \"+C[K[i]]+\" \"+P[i]+\" \"+K[i]);\n\n            if(A[K[i]] &gt;=P[i] &amp;&amp; A[K[i]] &lt;=K[i]){\n                  result[i] =1;\n            }\n            else if(C[K[i]] &gt;=P[i] &amp;&amp; C[K[i]] &lt;=K[i]){\n                  result[i] =2;\n            }else if(G[K[i]] &gt;=P[i] &amp;&amp; G[K[i]] &lt;=K[i]){\n                  result[i] =3;\n            }\n            else{\n                result[i]=4;\n            }\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":335920,"reputation":5241,"user_id":663280,"accept_rate":56,"display_name":"Thiago Negri"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460233983,"creation_date":1460233983,"answer_id":36522358,"question_id":19552754,"body_markdown":"In case anyone cares about C:\r\n\r\n    #include &lt;string.h&gt;\r\n    \r\n    struct Results solution(char *S, int P[], int Q[], int M) {    \r\n        int i, a, b, N, *pA, *pC, *pG;\r\n        struct Results result;\r\n        \r\n        result.A = malloc(sizeof(int) * M);\r\n        result.M = M;\r\n        \r\n        // calculate prefix sums\r\n        N = strlen(S);\r\n        pA = malloc(sizeof(int) * N);\r\n        pC = malloc(sizeof(int) * N);\r\n        pG = malloc(sizeof(int) * N);\r\n        pA[0] = S[0] == &#39;A&#39; ? 1 : 0;\r\n        pC[0] = S[0] == &#39;C&#39; ? 1 : 0;\r\n        pG[0] = S[0] == &#39;G&#39; ? 1 : 0;\r\n        for (i = 1; i &lt; N; i++) {\r\n            pA[i] = pA[i - 1] + (S[i] == &#39;A&#39; ? 1 : 0);\r\n            pC[i] = pC[i - 1] + (S[i] == &#39;C&#39; ? 1 : 0);\r\n            pG[i] = pG[i - 1] + (S[i] == &#39;G&#39; ? 1 : 0);\r\n        }\r\n        \r\n        for (i = 0; i &lt; M; i++) {\r\n            a = P[i] - 1;\r\n            b = Q[i];\r\n            \r\n            if ((pA[b] - pA[a]) &gt; 0) {\r\n                result.A[i] = 1;\r\n            } else if ((pC[b] - pC[a]) &gt; 0) {\r\n                result.A[i] = 2;\r\n            } else if ((pG[b] - pG[a]) &gt; 0) {\r\n                result.A[i] = 3;\r\n            } else {\r\n                result.A[i] = 4;\r\n            }\r\n        }\r\n        \r\n        \r\n        return result;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>In case anyone cares about C:</p>\n\n<pre><code>#include &lt;string.h&gt;\n\nstruct Results solution(char *S, int P[], int Q[], int M) {    \n    int i, a, b, N, *pA, *pC, *pG;\n    struct Results result;\n\n    result.A = malloc(sizeof(int) * M);\n    result.M = M;\n\n    // calculate prefix sums\n    N = strlen(S);\n    pA = malloc(sizeof(int) * N);\n    pC = malloc(sizeof(int) * N);\n    pG = malloc(sizeof(int) * N);\n    pA[0] = S[0] == 'A' ? 1 : 0;\n    pC[0] = S[0] == 'C' ? 1 : 0;\n    pG[0] = S[0] == 'G' ? 1 : 0;\n    for (i = 1; i &lt; N; i++) {\n        pA[i] = pA[i - 1] + (S[i] == 'A' ? 1 : 0);\n        pC[i] = pC[i - 1] + (S[i] == 'C' ? 1 : 0);\n        pG[i] = pG[i - 1] + (S[i] == 'G' ? 1 : 0);\n    }\n\n    for (i = 0; i &lt; M; i++) {\n        a = P[i] - 1;\n        b = Q[i];\n\n        if ((pA[b] - pA[a]) &gt; 0) {\n            result.A[i] = 1;\n        } else if ((pC[b] - pC[a]) &gt; 0) {\n            result.A[i] = 2;\n        } else if ((pG[b] - pG[a]) &gt; 0) {\n            result.A[i] = 3;\n        } else {\n            result.A[i] = 4;\n        }\n    }\n\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9460247,"reputation":3823,"user_id":7034183,"display_name":"Remario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505576520,"creation_date":1505576520,"answer_id":46255600,"question_id":19552754,"body_markdown":"       static public int[] solution(String S, int[] P, int[] Q) {\r\n        // write your code in Java SE 8\r\n\r\n        int A[] = new int[S.length() + 1], C[] = new int[S.length() + 1], G[] = new int[S.length() + 1];\r\n\r\n        int last_a = 0, last_c = 0, last_g = 0;\r\n\r\n        int results[] = new int[P.length];\r\n        int p = 0, q = 0;\r\n        for (int i = S.length() - 1; i &gt;= 0; i -= 1) {\r\n            switch (S.charAt(i)) {\r\n                case &#39;A&#39;: {\r\n                    last_a += 1;\r\n                    break;\r\n                }\r\n                case &#39;C&#39;: {\r\n                    last_c += 1;\r\n                    break;\r\n                }\r\n\r\n                case &#39;G&#39;: {\r\n                    last_g += 1;\r\n                    break;\r\n                }\r\n\r\n            }\r\n            A[i] = last_a;\r\n            G[i] = last_g;\r\n            C[i] = last_c;\r\n        }\r\n\r\n\r\n        for (int i = 0; i &lt; P.length; i++) {\r\n            p = P[i];\r\n            q = Q[i];\r\n\r\n            if (A[p] - A[q + 1] &gt; 0) {\r\n                results[i] = 1;\r\n            } else if (C[p] - C[q + 1] &gt; 0) {\r\n                results[i] = 2;\r\n            } else if (G[p] - G[q + 1] &gt; 0) {\r\n                results[i] = 3;\r\n            } else {\r\n                results[i] = 4;\r\n            }\r\n\r\n        }\r\n        return results;\r\n    }","title":"java codility training Genomic-range-query","body":"<pre><code>   static public int[] solution(String S, int[] P, int[] Q) {\n    // write your code in Java SE 8\n\n    int A[] = new int[S.length() + 1], C[] = new int[S.length() + 1], G[] = new int[S.length() + 1];\n\n    int last_a = 0, last_c = 0, last_g = 0;\n\n    int results[] = new int[P.length];\n    int p = 0, q = 0;\n    for (int i = S.length() - 1; i &gt;= 0; i -= 1) {\n        switch (S.charAt(i)) {\n            case 'A': {\n                last_a += 1;\n                break;\n            }\n            case 'C': {\n                last_c += 1;\n                break;\n            }\n\n            case 'G': {\n                last_g += 1;\n                break;\n            }\n\n        }\n        A[i] = last_a;\n        G[i] = last_g;\n        C[i] = last_c;\n    }\n\n\n    for (int i = 0; i &lt; P.length; i++) {\n        p = P[i];\n        q = Q[i];\n\n        if (A[p] - A[q + 1] &gt; 0) {\n            results[i] = 1;\n        } else if (C[p] - C[q + 1] &gt; 0) {\n            results[i] = 2;\n        } else if (G[p] - G[q + 1] &gt; 0) {\n            results[i] = 3;\n        } else {\n            results[i] = 4;\n        }\n\n    }\n    return results;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8346196,"reputation":333,"user_id":6269836,"accept_rate":75,"display_name":"T&#252;rkmen Mustafa Demirci"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513584955,"creation_date":1513584955,"answer_id":47864388,"question_id":19552754,"body_markdown":"Here is my solution. Got %100 . Of course I needed to first check and study a little bit prefix sums.\r\n\r\n    public int[] solution(String S, int[] P, int[] Q){\r\n    \t\t\r\n    \t\tint[] result = new int[P.length];\r\n    \r\n    \t\tint[] factor1 = new int[S.length()];\r\n    \t\tint[] factor2 = new int[S.length()];\r\n    \t\tint[] factor3 = new int[S.length()];\r\n    \t\tint[] factor4 = new int[S.length()];\r\n    \t\t\r\n    \t\tint factor1Sum = 0;\r\n    \t\tint factor2Sum = 0;\r\n    \t\tint factor3Sum = 0;\r\n    \t\tint factor4Sum = 0;\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;S.length(); i++){\r\n    \t\t\tswitch (S.charAt(i)) {\r\n    \t\t\tcase &#39;A&#39;:\r\n    \t\t\t\tfactor1Sum++;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;C&#39;:\r\n    \t\t\t\tfactor2Sum++;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;G&#39;:\r\n    \t\t\t\tfactor3Sum++;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;T&#39;:\r\n    \t\t\t\tfactor4Sum++;\r\n    \t\t\t\tbreak;\r\n    \t\t\tdefault:\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tfactor1[i] = factor1Sum;\r\n    \t\t\tfactor2[i] = factor2Sum;\r\n    \t\t\tfactor3[i] = factor3Sum;\r\n    \t\t\tfactor4[i] = factor4Sum;\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;P.length; i++){\r\n    \t\t\t\r\n    \t\t\tint start = P[i];\r\n    \t\t\tint end = Q[i];\r\n    \t\t\t\r\n    \t\t\tif(start == 0){\r\n    \t\t\t\tif(factor1[end] &gt; 0){\r\n    \t\t\t\t\tresult[i] = 1;\r\n    \t\t\t\t}else if(factor2[end] &gt; 0){\r\n    \t\t\t\t\tresult[i] = 2;\r\n    \t\t\t\t}else if(factor3[end] &gt; 0){\r\n    \t\t\t\t\tresult[i] = 3;\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tresult[i] = 4;\r\n    \t\t\t\t}\r\n    \t\t\t}else{\r\n    \t\t\t\tif(factor1[end] &gt; factor1[start-1]){\r\n    \t\t\t\t\tresult[i] = 1;\r\n    \t\t\t\t}else if(factor2[end] &gt; factor2[start-1]){\r\n    \t\t\t\t\tresult[i] = 2;\r\n    \t\t\t\t}else if(factor3[end] &gt; factor3[start-1]){\r\n    \t\t\t\t\tresult[i] = 3;\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tresult[i] = 4;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn result;\r\n    \t}","title":"java codility training Genomic-range-query","body":"<p>Here is my solution. Got %100 . Of course I needed to first check and study a little bit prefix sums.</p>\n\n<pre><code>public int[] solution(String S, int[] P, int[] Q){\n\n        int[] result = new int[P.length];\n\n        int[] factor1 = new int[S.length()];\n        int[] factor2 = new int[S.length()];\n        int[] factor3 = new int[S.length()];\n        int[] factor4 = new int[S.length()];\n\n        int factor1Sum = 0;\n        int factor2Sum = 0;\n        int factor3Sum = 0;\n        int factor4Sum = 0;\n\n        for(int i=0; i&lt;S.length(); i++){\n            switch (S.charAt(i)) {\n            case 'A':\n                factor1Sum++;\n                break;\n            case 'C':\n                factor2Sum++;\n                break;\n            case 'G':\n                factor3Sum++;\n                break;\n            case 'T':\n                factor4Sum++;\n                break;\n            default:\n                break;\n            }\n            factor1[i] = factor1Sum;\n            factor2[i] = factor2Sum;\n            factor3[i] = factor3Sum;\n            factor4[i] = factor4Sum;\n        }\n\n        for(int i=0; i&lt;P.length; i++){\n\n            int start = P[i];\n            int end = Q[i];\n\n            if(start == 0){\n                if(factor1[end] &gt; 0){\n                    result[i] = 1;\n                }else if(factor2[end] &gt; 0){\n                    result[i] = 2;\n                }else if(factor3[end] &gt; 0){\n                    result[i] = 3;\n                }else{\n                    result[i] = 4;\n                }\n            }else{\n                if(factor1[end] &gt; factor1[start-1]){\n                    result[i] = 1;\n                }else if(factor2[end] &gt; factor2[start-1]){\n                    result[i] = 2;\n                }else if(factor3[end] &gt; factor3[start-1]){\n                    result[i] = 3;\n                }else{\n                    result[i] = 4;\n                }\n            }\n\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2781281,"reputation":2399,"user_id":2393789,"accept_rate":62,"display_name":"onetwo12"},"score":1,"creation_date":1528208322,"post_id":50702111,"comment_id":88414168,"body_markdown":"Explaining the answer can help.","body":"Explaining the answer can help."},{"owner":{"account_id":6680728,"reputation":1,"user_id":5154023,"display_name":"Salvatore Gonzalez"},"score":0,"creation_date":1528209828,"post_id":50702111,"comment_id":88415147,"body_markdown":"I&#39;m sorry I don&#39;t pay attention and post this solution for C++ xD, but changing unordered_map for HashMap should do the trick","body":"I&#39;m sorry I don&#39;t pay attention and post this solution for C++ xD, but changing unordered_map for HashMap should do the trick"},{"owner":{"account_id":6680728,"reputation":1,"user_id":5154023,"display_name":"Salvatore Gonzalez"},"score":0,"creation_date":1528209944,"post_id":50702111,"comment_id":88415225,"body_markdown":"@onetwo12 is simple, unordered_map is an accumulator for A, C, G and T  values in every position, so when one of this is in S then the accumulator is update, for example for A values in &#39;ACGA&#39; the final result should be [1, 1, 1, 2], the second part is simple too just look for an increment in the interval P[I], Q[I] and fill the vector r with the lower value","body":"@onetwo12 is simple, unordered_map is an accumulator for A, C, G and T  values in every position, so when one of this is in S then the accumulator is update, for example for A values in &#39;ACGA&#39; the final result should be [1, 1, 1, 2], the second part is simple too just look for an increment in the interval P[I], Q[I] and fill the vector r with the lower value"}],"tags":[],"owner":{"account_id":6680728,"reputation":1,"user_id":5154023,"display_name":"Salvatore Gonzalez"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528207429,"creation_date":1528207429,"answer_id":50702111,"question_id":19552754,"body_markdown":"\r\nthis works for me\r\n   \r\n\r\n     #include &lt;unordered_map&gt;\r\n    \r\n    \r\n     vector&lt;int&gt; solution(string &amp;S, vector&lt;int&gt; &amp;P, vector&lt;int&gt; &amp;Q) {\r\n    \r\n        vector&lt;int&gt; r;\r\n        \r\n        unordered_map&lt;char, vector&lt;int&gt;&gt; acum;\r\n        acum.insert(make_pair(&#39;A&#39;, vector&lt;int&gt;(S.length())));\r\n        acum.insert(make_pair(&#39;C&#39;, vector&lt;int&gt;(S.length())));\r\n        acum.insert(make_pair(&#39;G&#39;, vector&lt;int&gt;(S.length())));\r\n        acum.insert(make_pair(&#39;T&#39;, vector&lt;int&gt;(S.length())));\r\n            \r\n        int a = 0, c = 0, g = 0, t = 0;\r\n        \r\n        for(unsigned int i=0; i &lt; S.length(); i++){\r\n            char ch = S.at(i);\r\n            if(ch == &#39;C&#39;) c++;\r\n            else if(ch == &#39;G&#39;) g++;\r\n            else if(ch == &#39;T&#39;) t++;\r\n            else if(ch == &#39;A&#39;) a++;\r\n            acum.at(&#39;C&#39;)[i] = c;\r\n            acum.at(&#39;G&#39;)[i] = g;\r\n            acum.at(&#39;T&#39;)[i] = t;\r\n            acum.at(&#39;A&#39;)[i] = a;\r\n        }\r\n        \r\n        for(unsigned int i = 0; i &lt; P.size(); i++){\r\n            int init = P[i], end = Q[i];\r\n            if(S.at(init) == &#39;A&#39; || acum.at(&#39;A&#39;)[end] - acum.at(&#39;A&#39;)[init] &gt; 0) r.emplace_back(1);\r\n            else if(S.at(init) == &#39;C&#39; ||acum.at(&#39;C&#39;)[end] - acum.at(&#39;C&#39;)[init] &gt; 0) r.emplace_back(2);\r\n            else if(S.at(init) == &#39;G&#39; || acum.at(&#39;G&#39;)[end] - acum.at(&#39;G&#39;)[init] &gt; 0) r.emplace_back(3);\r\n            else if(S.at(init) == &#39;T&#39; || acum.at(&#39;T&#39;)[end] - acum.at(&#39;T&#39;)[init] &gt; 0) r.emplace_back(4);\r\n        }\r\n        \r\n        return r;\r\n        \r\n    }\r\n\r\n","title":"java codility training Genomic-range-query","body":"<p>this works for me</p>\n\n<pre><code> #include &lt;unordered_map&gt;\n\n\n vector&lt;int&gt; solution(string &amp;S, vector&lt;int&gt; &amp;P, vector&lt;int&gt; &amp;Q) {\n\n    vector&lt;int&gt; r;\n\n    unordered_map&lt;char, vector&lt;int&gt;&gt; acum;\n    acum.insert(make_pair('A', vector&lt;int&gt;(S.length())));\n    acum.insert(make_pair('C', vector&lt;int&gt;(S.length())));\n    acum.insert(make_pair('G', vector&lt;int&gt;(S.length())));\n    acum.insert(make_pair('T', vector&lt;int&gt;(S.length())));\n\n    int a = 0, c = 0, g = 0, t = 0;\n\n    for(unsigned int i=0; i &lt; S.length(); i++){\n        char ch = S.at(i);\n        if(ch == 'C') c++;\n        else if(ch == 'G') g++;\n        else if(ch == 'T') t++;\n        else if(ch == 'A') a++;\n        acum.at('C')[i] = c;\n        acum.at('G')[i] = g;\n        acum.at('T')[i] = t;\n        acum.at('A')[i] = a;\n    }\n\n    for(unsigned int i = 0; i &lt; P.size(); i++){\n        int init = P[i], end = Q[i];\n        if(S.at(init) == 'A' || acum.at('A')[end] - acum.at('A')[init] &gt; 0) r.emplace_back(1);\n        else if(S.at(init) == 'C' ||acum.at('C')[end] - acum.at('C')[init] &gt; 0) r.emplace_back(2);\n        else if(S.at(init) == 'G' || acum.at('G')[end] - acum.at('G')[init] &gt; 0) r.emplace_back(3);\n        else if(S.at(init) == 'T' || acum.at('T')[end] - acum.at('T')[init] &gt; 0) r.emplace_back(4);\n    }\n\n    return r;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12056403,"reputation":127,"user_id":8817084,"display_name":"Ibrahim Magdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582675963,"creation_date":1536127195,"answer_id":52178041,"question_id":19552754,"body_markdown":"I know a lot more out there but that&#39;s my answer it got 100/100 .. I hope it is a bit readable\r\n\r\n    class GenomeCounter\r\n    {\r\n    \r\n        public char GenomeCode { get; private set; }\r\n        public int Value { get; private set; }\r\n        private List&lt;long&gt; CountFromStart;\r\n        private long currentCount;\r\n    \r\n        public GenomeCounter(char genomeCode, int value)\r\n        {\r\n            CountFromStart = new List&lt;long&gt;();\r\n            GenomeCode = genomeCode;\r\n            currentCount = 0;\r\n            Value = value;\r\n        }\r\n        public void AddCounter()\r\n        {\r\n            CountFromStart.Add(currentCount);\r\n        }\r\n        public void Increment()\r\n        {\r\n            currentCount++;\r\n            Touch();\r\n        }\r\n    \r\n        public long GetCountAt(int i)\r\n        {\r\n            return CountFromStart[i];\r\n        }\r\n    }\r\n    \r\n    class Solution\r\n    {\r\n        static private readonly Dictionary&lt;char, int&gt; genomes = new Dictionary&lt;char, int&gt;{\r\n            {  &#39;A&#39;,1 },\r\n            { &#39;C&#39;,2 },\r\n            { &#39;G&#39;,3 },\r\n            {&#39;T&#39;,4}\r\n            };\r\n        private Dictionary&lt;char, GenomeCounter&gt; GenomeCounters;\r\n        public Solution()\r\n        {\r\n            GenomeCounters = new Dictionary&lt;char, GenomeCounter&gt;();\r\n    \r\n            foreach (var genome in genomes)\r\n            {\r\n                GenomeCounters[genome.Key] = new GenomeCounter(genome.Key, genome.Value);\r\n            }\r\n    \r\n        }\r\n\r\n        \r\n        private int GetMinBetween(string S, int First, int Last)\r\n        {\r\n            if (First &gt; Last) throw new Exception(&quot;Wrong Input&quot;);\r\n            int min = GenomeCounters[S[First]].Value;\r\n            foreach (var genomeCount in GenomeCounters)\r\n            {\r\n                if (genomeCount.Value.GetCountAt(First) &lt; (genomeCount.Value.GetCountAt(Last)))\r\n                {\r\n                    if (min &gt; genomeCount.Value.Value) min = genomeCount.Value.Value;\r\n                }\r\n            }\r\n            return min;\r\n    \r\n        }\r\n        private void CalculateTotalCount(string S)\r\n        {\r\n    \r\n            for (var i = 0; i &lt; S.Length; i++)\r\n            {\r\n                foreach (var genome in GenomeCounters)\r\n                {\r\n                    if (genome.Key == S[i]) genome.Value.Increment();\r\n                    else genome.Value.AddCounter();\r\n                }\r\n            }\r\n    \r\n        }\r\n        public int[] solution(string S, int[] P, int[] Q)\r\n        {\r\n            // write your code in C# 6.0 with .NET 4.5 (Mono)\r\n            int M = P.Length;\r\n            int N = S.Length;\r\n            List&lt;int&gt; Mins = new List&lt;int&gt;();\r\n        \r\n            CalculateTotalCount(S);\r\n            for (int i = 0; i &lt; M; i++)\r\n            {\r\n                Mins.Add(GetMinBetween(S, P[i], Q[i]));\r\n            }\r\n            return Mins.ToArray();\r\n        }\r\n    }","title":"java codility training Genomic-range-query","body":"<p>I know a lot more out there but that's my answer it got 100/100 .. I hope it is a bit readable</p>\n\n<pre><code>class GenomeCounter\n{\n\n    public char GenomeCode { get; private set; }\n    public int Value { get; private set; }\n    private List&lt;long&gt; CountFromStart;\n    private long currentCount;\n\n    public GenomeCounter(char genomeCode, int value)\n    {\n        CountFromStart = new List&lt;long&gt;();\n        GenomeCode = genomeCode;\n        currentCount = 0;\n        Value = value;\n    }\n    public void AddCounter()\n    {\n        CountFromStart.Add(currentCount);\n    }\n    public void Increment()\n    {\n        currentCount++;\n        Touch();\n    }\n\n    public long GetCountAt(int i)\n    {\n        return CountFromStart[i];\n    }\n}\n\nclass Solution\n{\n    static private readonly Dictionary&lt;char, int&gt; genomes = new Dictionary&lt;char, int&gt;{\n        {  'A',1 },\n        { 'C',2 },\n        { 'G',3 },\n        {'T',4}\n        };\n    private Dictionary&lt;char, GenomeCounter&gt; GenomeCounters;\n    public Solution()\n    {\n        GenomeCounters = new Dictionary&lt;char, GenomeCounter&gt;();\n\n        foreach (var genome in genomes)\n        {\n            GenomeCounters[genome.Key] = new GenomeCounter(genome.Key, genome.Value);\n        }\n\n    }\n\n\n    private int GetMinBetween(string S, int First, int Last)\n    {\n        if (First &gt; Last) throw new Exception(\"Wrong Input\");\n        int min = GenomeCounters[S[First]].Value;\n        foreach (var genomeCount in GenomeCounters)\n        {\n            if (genomeCount.Value.GetCountAt(First) &lt; (genomeCount.Value.GetCountAt(Last)))\n            {\n                if (min &gt; genomeCount.Value.Value) min = genomeCount.Value.Value;\n            }\n        }\n        return min;\n\n    }\n    private void CalculateTotalCount(string S)\n    {\n\n        for (var i = 0; i &lt; S.Length; i++)\n        {\n            foreach (var genome in GenomeCounters)\n            {\n                if (genome.Key == S[i]) genome.Value.Increment();\n                else genome.Value.AddCounter();\n            }\n        }\n\n    }\n    public int[] solution(string S, int[] P, int[] Q)\n    {\n        // write your code in C# 6.0 with .NET 4.5 (Mono)\n        int M = P.Length;\n        int N = S.Length;\n        List&lt;int&gt; Mins = new List&lt;int&gt;();\n\n        CalculateTotalCount(S);\n        for (int i = 0; i &lt; M; i++)\n        {\n            Mins.Add(GetMinBetween(S, P[i], Q[i]));\n        }\n        return Mins.ToArray();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1244648,"reputation":544,"user_id":1206361,"display_name":"dyrkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536916242,"creation_date":1536916242,"answer_id":52328637,"question_id":19552754,"body_markdown":"scala solution 100/100 \r\n\r\n    import scala.annotation.switch\r\n    import scala.collection.mutable\r\n\r\n    object Solution {\r\n      def solution(s: String, p: Array[Int], q: Array[Int]): Array[Int] = {\r\n\r\n        val n = s.length\r\n\r\n        def arr = mutable.ArrayBuffer.fill(n + 1)(0L)\r\n\r\n        val a = arr\r\n        val c = arr\r\n        val g = arr\r\n        val t = arr\r\n\r\n        for (i &lt;- 1 to n) {\r\n          def inc(z: mutable.ArrayBuffer[Long]): Unit = z(i) = z(i - 1) + 1L\r\n\r\n          def shift(z: mutable.ArrayBuffer[Long]): Unit = z(i) = z(i - 1)\r\n\r\n          val char = s(i - 1)\r\n          (char: @switch) match {\r\n            case &#39;A&#39; =&gt; inc(a); shift(c); shift(g); shift(t);\r\n            case &#39;C&#39; =&gt; shift(a); inc(c); shift(g); shift(t);\r\n            case &#39;G&#39; =&gt; shift(a); shift(c); inc(g); shift(t);\r\n            case &#39;T&#39; =&gt; shift(a); shift(c); shift(g); inc(t);\r\n          }\r\n        }\r\n\r\n        val r = mutable.ArrayBuffer.fill(p.length)(0)\r\n\r\n        for (i &lt;- p.indices) {\r\n          val start = p(i)\r\n          val end = q(i) + 1\r\n          r(i) =\r\n            if (a(start) != a(end)) 1\r\n            else if (c(start) != c(end)) 2\r\n            else if (g(start) != g(end)) 3\r\n            else if (t(start) != t(end)) 4\r\n            else 0\r\n        }\r\n\r\n        r.toArray\r\n      }\r\n    }","title":"java codility training Genomic-range-query","body":"<p>scala solution 100/100 </p>\n\n<pre><code>import scala.annotation.switch\nimport scala.collection.mutable\n\nobject Solution {\n  def solution(s: String, p: Array[Int], q: Array[Int]): Array[Int] = {\n\n    val n = s.length\n\n    def arr = mutable.ArrayBuffer.fill(n + 1)(0L)\n\n    val a = arr\n    val c = arr\n    val g = arr\n    val t = arr\n\n    for (i &lt;- 1 to n) {\n      def inc(z: mutable.ArrayBuffer[Long]): Unit = z(i) = z(i - 1) + 1L\n\n      def shift(z: mutable.ArrayBuffer[Long]): Unit = z(i) = z(i - 1)\n\n      val char = s(i - 1)\n      (char: @switch) match {\n        case 'A' =&gt; inc(a); shift(c); shift(g); shift(t);\n        case 'C' =&gt; shift(a); inc(c); shift(g); shift(t);\n        case 'G' =&gt; shift(a); shift(c); inc(g); shift(t);\n        case 'T' =&gt; shift(a); shift(c); shift(g); inc(t);\n      }\n    }\n\n    val r = mutable.ArrayBuffer.fill(p.length)(0)\n\n    for (i &lt;- p.indices) {\n      val start = p(i)\n      val end = q(i) + 1\n      r(i) =\n        if (a(start) != a(end)) 1\n        else if (c(start) != c(end)) 2\n        else if (g(start) != g(end)) 3\n        else if (t(start) != t(end)) 4\n        else 0\n    }\n\n    r.toArray\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2346511,"reputation":435,"user_id":2056623,"accept_rate":93,"display_name":"Soumyajit"},"score":1,"creation_date":1612074687,"post_id":54372920,"comment_id":116649770,"body_markdown":"finally a short and concise Python solution! Thanks","body":"finally a short and concise Python solution! Thanks"}],"tags":[],"owner":{"account_id":9192715,"reputation":1003,"user_id":6832617,"display_name":"Francisco Sandi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548451257,"creation_date":1548451257,"answer_id":54372920,"question_id":19552754,"body_markdown":"If someone is still interested in this exercise, I share my Python solution (100/100 in Codility)\r\n\r\n\r\n    def solution(S, P, Q):\r\n    \r\n        count = []\r\n        for i in range(3):\r\n            count.append([0]*(len(S)+1))\r\n    \r\n        for index, i in enumerate(S):\r\n            count[0][index+1] = count[0][index] + ( i ==&#39;A&#39;)\r\n            count[1][index+1] = count[1][index] + ( i ==&#39;C&#39;)\r\n            count[2][index+1] = count[2][index] + ( i ==&#39;G&#39;)\r\n    \r\n        result = []\r\n    \r\n        for i in range(len(P)):\r\n          start = P[i]\r\n          end = Q[i]+1\r\n    \r\n          if count[0][end] - count[0][start]:\r\n              result.append(1)\r\n          elif count[1][end] - count[1][start]:\r\n              result.append(2)\r\n          elif count[2][end] - count[2][start]:\r\n              result.append(3)\r\n          else:\r\n              result.append(4)\r\n    \r\n        return result","title":"java codility training Genomic-range-query","body":"<p>If someone is still interested in this exercise, I share my Python solution (100/100 in Codility)</p>\n\n<pre><code>def solution(S, P, Q):\n\n    count = []\n    for i in range(3):\n        count.append([0]*(len(S)+1))\n\n    for index, i in enumerate(S):\n        count[0][index+1] = count[0][index] + ( i =='A')\n        count[1][index+1] = count[1][index] + ( i =='C')\n        count[2][index+1] = count[2][index] + ( i =='G')\n\n    result = []\n\n    for i in range(len(P)):\n      start = P[i]\n      end = Q[i]+1\n\n      if count[0][end] - count[0][start]:\n          result.append(1)\n      elif count[1][end] - count[1][start]:\n          result.append(2)\n      elif count[2][end] - count[2][start]:\n          result.append(3)\n      else:\n          result.append(4)\n\n    return result\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15490669,"reputation":1,"user_id":11175235,"display_name":"Mo Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552129101,"creation_date":1552129101,"answer_id":55076618,"question_id":19552754,"body_markdown":"I think I&#39;m using dynamic programming. Here is my solution. Little space. Code is mot really clean, just show my idea.\r\n\r\n    class Solution {\r\n    public int[] solution(String S, int[] P, int[] Q) {\r\n        int[] preDominator = new int[S.length()];\r\n        int A = -1;\r\n        int C = -1;\r\n        int G = -1;\r\n        int T = -1;\r\n        \r\n        for (int i = 0; i &lt; S.length(); i++) {\r\n            char c = S.charAt(i);\r\n            if (c == &#39;A&#39;) { \r\n                A = i;\r\n                preDominator[i] = -1;\r\n            } else if (c == &#39;C&#39;) {\r\n                C = i;\r\n                preDominator[i] = A;\r\n            } else if (c == &#39;G&#39;) {\r\n                G = i;\r\n                preDominator[i] = Math.max(A, C);\r\n            } else {\r\n                T = i;\r\n                preDominator[i] = Math.max(Math.max(A, C), G);\r\n            }\r\n        }\r\n        \r\n        int N = preDominator.length;\r\n        int M = Q.length;\r\n        int[] result = new int[M];\r\n        for (int i = 0; i &lt; M; i++) {\r\n            int p = P[i];\r\n            int q = Math.min(N, Q[i]);\r\n            for (int j = q;;) {\r\n                if (preDominator[j] &lt; p) {\r\n                    char c = S.charAt(j);\r\n                    if (c == &#39;A&#39;) {\r\n                        result[i] = 1;\r\n                    } else if (c == &#39;C&#39;) {\r\n                        result[i] = 2;\r\n                    } else if (c == &#39;G&#39;) {\r\n                        result[i] = 3;\r\n                    } else {\r\n                        result[i] = 4;\r\n                    }\r\n                    break;\r\n                }\r\n                j = preDominator[j];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}","title":"java codility training Genomic-range-query","body":"<p>I think I'm using dynamic programming. Here is my solution. Little space. Code is mot really clean, just show my idea.</p>\n\n<pre><code>class Solution {\npublic int[] solution(String S, int[] P, int[] Q) {\n    int[] preDominator = new int[S.length()];\n    int A = -1;\n    int C = -1;\n    int G = -1;\n    int T = -1;\n\n    for (int i = 0; i &lt; S.length(); i++) {\n        char c = S.charAt(i);\n        if (c == 'A') { \n            A = i;\n            preDominator[i] = -1;\n        } else if (c == 'C') {\n            C = i;\n            preDominator[i] = A;\n        } else if (c == 'G') {\n            G = i;\n            preDominator[i] = Math.max(A, C);\n        } else {\n            T = i;\n            preDominator[i] = Math.max(Math.max(A, C), G);\n        }\n    }\n\n    int N = preDominator.length;\n    int M = Q.length;\n    int[] result = new int[M];\n    for (int i = 0; i &lt; M; i++) {\n        int p = P[i];\n        int q = Math.min(N, Q[i]);\n        for (int j = q;;) {\n            if (preDominator[j] &lt; p) {\n                char c = S.charAt(j);\n                if (c == 'A') {\n                    result[i] = 1;\n                } else if (c == 'C') {\n                    result[i] = 2;\n                } else if (c == 'G') {\n                    result[i] = 3;\n                } else {\n                    result[i] = 4;\n                }\n                break;\n            }\n            j = preDominator[j];\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":291508,"reputation":37619,"user_id":593709,"accept_rate":80,"display_name":"Adil Soomro"},"score":0,"creation_date":1575130743,"post_id":56052245,"comment_id":104465922,"body_markdown":"We will have to check the time complexity of `String.includes()` method. If its `O( String.length )` then this solution is `O ( P * S )`, which is not ideal. Also I&#39;m not sure about `String.slice()` time complexity.","body":"We will have to check the time complexity of <code>String.includes()</code> method. If its <code>O( String.length )</code> then this solution is <code>O ( P * S )</code>, which is not ideal. Also I&#39;m not sure about <code>String.slice()</code> time complexity."},{"owner":{"account_id":959014,"reputation":681,"user_id":983777,"accept_rate":50,"display_name":"Dan"},"score":2,"creation_date":1603318027,"post_id":56052245,"comment_id":114003011,"body_markdown":"The time complexity of this is not really good, but I am quite surprised that you can get 100% coverage in the codility. Keep in mind for using slice and includes further lol","body":"The time complexity of this is not really good, but I am quite surprised that you can get 100% coverage in the codility. Keep in mind for using slice and includes further lol"},{"owner":{"account_id":8908111,"reputation":440,"user_id":6649314,"display_name":"Prabir Ghosh"},"score":0,"creation_date":1658245852,"post_id":56052245,"comment_id":129001675,"body_markdown":"In worst case situation time complexity of &quot;includes&quot; function can be order of N. But not sure about the JavaScript implementation.","body":"In worst case situation time complexity of &quot;includes&quot; function can be order of N. But not sure about the JavaScript implementation."}],"tags":[],"owner":{"account_id":2699693,"reputation":447,"user_id":2330683,"display_name":"Nick"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557376350,"creation_date":1557376350,"answer_id":56052245,"question_id":19552754,"body_markdown":"This is my JavaScript solution that got 100% across the board on Codility:\r\n\r\n    function solution(S, P, Q) {\r\n        let total = [];\r\n        let min;\r\n    \r\n        for (let i = 0; i &lt; P.length; i++) {\r\n            const substring = S.slice(P[i], Q[i] + 1);\r\n            if (substring.includes(&#39;A&#39;)) {\r\n                min = 1;\r\n            } else if (substring.includes(&#39;C&#39;)) {\r\n                min = 2;\r\n            } else if (substring.includes(&#39;G&#39;)) {\r\n                min = 3;\r\n            } else if (substring.includes(&#39;T&#39;)) {\r\n                min = 4;\r\n            }\r\n            total.push(min);\r\n        }\r\n        return total;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>This is my JavaScript solution that got 100% across the board on Codility:</p>\n\n<pre><code>function solution(S, P, Q) {\n    let total = [];\n    let min;\n\n    for (let i = 0; i &lt; P.length; i++) {\n        const substring = S.slice(P[i], Q[i] + 1);\n        if (substring.includes('A')) {\n            min = 1;\n        } else if (substring.includes('C')) {\n            min = 2;\n        } else if (substring.includes('G')) {\n            min = 3;\n        } else if (substring.includes('T')) {\n            min = 4;\n        }\n        total.push(min);\n    }\n    return total;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2082456,"reputation":810,"user_id":1854182,"display_name":"Ofer Rahat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565268540,"creation_date":1565268540,"answer_id":57413002,"question_id":19552754,"body_markdown":"**Python Solution with explanation**\r\n\r\nThe idea is to hold an auxiliary array per nucleotide X, with position i (ignoring zero) is how many times X has occurred as of now. And so if we need the number of occurrences of X from position f to position t, we could take the following equation:\r\n\r\n&gt; aux(t) - aux(f)\r\n\r\nTime complexity is:\r\n\r\n&gt; O(N+M)\r\n\r\n\r\n    def solution(S, P, Q):\r\n        n = len(S)\r\n        m = len(P)\r\n    \r\n        aux = [[0 for i in range(n+1)] for i in [0,1,2]]\r\n        \r\n        for i,c in enumerate(S):\r\n            aux[0][i+1] = aux[0][i] + ( c == &#39;A&#39; )\r\n            aux[1][i+1] = aux[1][i] + ( c == &#39;C&#39; )\r\n            aux[2][i+1] = aux[2][i] + ( c == &#39;G&#39; )\r\n    \r\n        result = []\r\n    \r\n        for i in range(m):\r\n            fromIndex , toIndex = P[i] , Q[i] +1\r\n            if   aux[0][toIndex] - aux[0][fromIndex] &gt; 0:\r\n                r = 1\r\n            elif aux[1][toIndex] - aux[1][fromIndex] &gt; 0:\r\n                r = 2\r\n            elif aux[2][toIndex] - aux[2][fromIndex] &gt; 0:\r\n                r = 3\r\n            else:\r\n                r = 4\r\n    \r\n            result.append(r)\r\n    \r\n        return result\r\n","title":"java codility training Genomic-range-query","body":"<p><strong>Python Solution with explanation</strong></p>\n\n<p>The idea is to hold an auxiliary array per nucleotide X, with position i (ignoring zero) is how many times X has occurred as of now. And so if we need the number of occurrences of X from position f to position t, we could take the following equation:</p>\n\n<blockquote>\n  <p>aux(t) - aux(f)</p>\n</blockquote>\n\n<p>Time complexity is:</p>\n\n<blockquote>\n  <p>O(N+M)</p>\n</blockquote>\n\n<pre><code>def solution(S, P, Q):\n    n = len(S)\n    m = len(P)\n\n    aux = [[0 for i in range(n+1)] for i in [0,1,2]]\n\n    for i,c in enumerate(S):\n        aux[0][i+1] = aux[0][i] + ( c == 'A' )\n        aux[1][i+1] = aux[1][i] + ( c == 'C' )\n        aux[2][i+1] = aux[2][i] + ( c == 'G' )\n\n    result = []\n\n    for i in range(m):\n        fromIndex , toIndex = P[i] , Q[i] +1\n        if   aux[0][toIndex] - aux[0][fromIndex] &gt; 0:\n            r = 1\n        elif aux[1][toIndex] - aux[1][fromIndex] &gt; 0:\n            r = 2\n        elif aux[2][toIndex] - aux[2][fromIndex] &gt; 0:\n            r = 3\n        else:\n            r = 4\n\n        result.append(r)\n\n    return result\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3445493,"reputation":617,"user_id":2886410,"accept_rate":80,"display_name":"Христо Узунов"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565555635,"creation_date":1565555635,"answer_id":57453406,"question_id":19552754,"body_markdown":"This is a Swift 4 solution to the same problem. It is based on @codebusta&#39;s solution above:\r\n\r\n    public func solution(_ S : inout String, _ P : inout [Int], _ Q : inout [Int]) -&gt; [Int] {\r\n    var impacts = [Int]()\r\n    var prefixSum = [[Int]]()\r\n    for _ in 0..&lt;3 {\r\n        let array = Array(repeating: 0, count: S.count + 1)\r\n        prefixSum.append(array)\r\n    }\r\n    \r\n    for (index, character) in S.enumerated() {\r\n        var a = 0\r\n        var c = 0\r\n        var g = 0\r\n        \r\n        switch character {\r\n        case &quot;A&quot;:\r\n            a = 1\r\n            \r\n        case &quot;C&quot;:\r\n            c = 1\r\n            \r\n        case &quot;G&quot;:\r\n            g = 1\r\n            \r\n        default:\r\n            break\r\n        }\r\n        \r\n        prefixSum[0][index + 1] = prefixSum[0][index] + a\r\n        prefixSum[1][index + 1] = prefixSum[1][index] + c\r\n        prefixSum[2][index + 1] = prefixSum[2][index] + g\r\n    }\r\n    \r\n    for tuple in zip(P, Q) {\r\n        if  prefixSum[0][tuple.1 + 1] - prefixSum[0][tuple.0] &gt; 0 {\r\n            impacts.append(1)\r\n        }\r\n        else if prefixSum[1][tuple.1 + 1] - prefixSum[1][tuple.0] &gt; 0 {\r\n            impacts.append(2)\r\n        }\r\n        else if prefixSum[2][tuple.1 + 1] - prefixSum[2][tuple.0] &gt; 0 {\r\n            impacts.append(3)\r\n        }\r\n        else {\r\n            impacts.append(4)\r\n        }\r\n    }\r\n    \r\n       return impacts\r\n     }\r\n\r\n\r\n","title":"java codility training Genomic-range-query","body":"<p>This is a Swift 4 solution to the same problem. It is based on @codebusta's solution above:</p>\n\n<pre><code>public func solution(_ S : inout String, _ P : inout [Int], _ Q : inout [Int]) -&gt; [Int] {\nvar impacts = [Int]()\nvar prefixSum = [[Int]]()\nfor _ in 0..&lt;3 {\n    let array = Array(repeating: 0, count: S.count + 1)\n    prefixSum.append(array)\n}\n\nfor (index, character) in S.enumerated() {\n    var a = 0\n    var c = 0\n    var g = 0\n\n    switch character {\n    case \"A\":\n        a = 1\n\n    case \"C\":\n        c = 1\n\n    case \"G\":\n        g = 1\n\n    default:\n        break\n    }\n\n    prefixSum[0][index + 1] = prefixSum[0][index] + a\n    prefixSum[1][index + 1] = prefixSum[1][index] + c\n    prefixSum[2][index + 1] = prefixSum[2][index] + g\n}\n\nfor tuple in zip(P, Q) {\n    if  prefixSum[0][tuple.1 + 1] - prefixSum[0][tuple.0] &gt; 0 {\n        impacts.append(1)\n    }\n    else if prefixSum[1][tuple.1 + 1] - prefixSum[1][tuple.0] &gt; 0 {\n        impacts.append(2)\n    }\n    else if prefixSum[2][tuple.1 + 1] - prefixSum[2][tuple.0] &gt; 0 {\n        impacts.append(3)\n    }\n    else {\n        impacts.append(4)\n    }\n}\n\n   return impacts\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1852692,"reputation":1963,"user_id":1678893,"display_name":"goedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570677603,"creation_date":1570677603,"answer_id":58314968,"question_id":19552754,"body_markdown":"I implemented a Segment Tree solution in Kotlin\r\n\r\n    import kotlin.math.*\r\n      \r\n    fun solution(S: String, P: IntArray, Q: IntArray): IntArray {\r\n\r\n        val a = IntArray(S.length)\r\n        for (i in S.indices) {\r\n            a[i] = when (S[i]) {\r\n                &#39;A&#39; -&gt; 1\r\n                &#39;C&#39; -&gt; 2\r\n                &#39;G&#39; -&gt; 3\r\n                &#39;T&#39; -&gt; 4\r\n                else -&gt; throw IllegalStateException()\r\n            }\r\n        }\r\n        \r\n        val segmentTree = IntArray(2*nextPowerOfTwo(S.length)-1)\r\n        constructSegmentTree(a, segmentTree, 0, a.size-1, 0)\r\n        \r\n        val result = IntArray(P.size)\r\n        for (i in P.indices) {\r\n            result[i] = rangeMinQuery(segmentTree, P[i], Q[i], 0, a.size-1, 0)\r\n        }\r\n        return result\r\n    }\r\n    \r\n    fun constructSegmentTree(input: IntArray, segmentTree: IntArray,  low: Int,  high: Int,  pos: Int) {\r\n    \r\n        if (low == high) {\r\n            segmentTree[pos] = input[low]\r\n            return\r\n        }\r\n        val mid = (low + high)/2\r\n        constructSegmentTree(input, segmentTree, low, mid, 2*pos+1)\r\n        constructSegmentTree(input, segmentTree, mid+1, high, 2*pos+2)\r\n        segmentTree[pos] = min(segmentTree[2*pos+1], segmentTree[2*pos+2])\r\n    }\r\n    \r\n    fun rangeMinQuery(segmentTree: IntArray, qlow:Int, qhigh:Int ,low:Int, high:Int, pos:Int): Int {\r\n    \r\n        if (qlow &lt;= low &amp;&amp; qhigh &gt;= high) {\r\n            return segmentTree[pos]\r\n        }\r\n        if (qlow &gt; high || qhigh &lt; low) {\r\n            return Int.MAX_VALUE\r\n        }\r\n        val mid = (low + high)/2\r\n        return min(rangeMinQuery(segmentTree, qlow, qhigh, low, mid, 2*pos+1), rangeMinQuery(segmentTree, qlow, qhigh, mid+1, high, 2*pos+2))\r\n    }\r\n    \r\n    fun nextPowerOfTwo(n:Int): Int {\r\n        var count = 0\r\n        var number = n\r\n        if (number &gt; 0 &amp;&amp; (number and (number - 1)) == 0) return number\r\n        while (number != 0) {\r\n            number = number shr 1\r\n            count++\r\n        }\r\n        return 1 shl count\r\n    }","title":"java codility training Genomic-range-query","body":"<p>I implemented a Segment Tree solution in Kotlin</p>\n\n<pre><code>import kotlin.math.*\n\nfun solution(S: String, P: IntArray, Q: IntArray): IntArray {\n\n    val a = IntArray(S.length)\n    for (i in S.indices) {\n        a[i] = when (S[i]) {\n            'A' -&gt; 1\n            'C' -&gt; 2\n            'G' -&gt; 3\n            'T' -&gt; 4\n            else -&gt; throw IllegalStateException()\n        }\n    }\n\n    val segmentTree = IntArray(2*nextPowerOfTwo(S.length)-1)\n    constructSegmentTree(a, segmentTree, 0, a.size-1, 0)\n\n    val result = IntArray(P.size)\n    for (i in P.indices) {\n        result[i] = rangeMinQuery(segmentTree, P[i], Q[i], 0, a.size-1, 0)\n    }\n    return result\n}\n\nfun constructSegmentTree(input: IntArray, segmentTree: IntArray,  low: Int,  high: Int,  pos: Int) {\n\n    if (low == high) {\n        segmentTree[pos] = input[low]\n        return\n    }\n    val mid = (low + high)/2\n    constructSegmentTree(input, segmentTree, low, mid, 2*pos+1)\n    constructSegmentTree(input, segmentTree, mid+1, high, 2*pos+2)\n    segmentTree[pos] = min(segmentTree[2*pos+1], segmentTree[2*pos+2])\n}\n\nfun rangeMinQuery(segmentTree: IntArray, qlow:Int, qhigh:Int ,low:Int, high:Int, pos:Int): Int {\n\n    if (qlow &lt;= low &amp;&amp; qhigh &gt;= high) {\n        return segmentTree[pos]\n    }\n    if (qlow &gt; high || qhigh &lt; low) {\n        return Int.MAX_VALUE\n    }\n    val mid = (low + high)/2\n    return min(rangeMinQuery(segmentTree, qlow, qhigh, low, mid, 2*pos+1), rangeMinQuery(segmentTree, qlow, qhigh, mid+1, high, 2*pos+2))\n}\n\nfun nextPowerOfTwo(n:Int): Int {\n    var count = 0\n    var number = n\n    if (number &gt; 0 &amp;&amp; (number and (number - 1)) == 0) return number\n    while (number != 0) {\n        number = number shr 1\n        count++\n    }\n    return 1 shl count\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2769605,"reputation":371,"user_id":2384464,"display_name":"Dinakar Prasad Maurya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575514789,"creation_date":1575514789,"answer_id":59187559,"question_id":19552754,"body_markdown":"Here is python solution with little explanation hope it helps some one.\r\n[Python codility 100%][1]\r\n\r\n\r\n    def solution(S, P, Q):\r\n    &quot;&quot;&quot;\r\n    https://app.codility.com/demo/results/training8QBVFJ-EQB/\r\n    100%\r\n\r\n    Idea is consider solution as single dimensional array and use concept of prefix some ie.\r\n    stores the value in array for p,c and g based on frequency\r\n    array stores the frequency of p,c and g for all positions\r\n    Example -\r\n        # [0, 0, 1, 1, 1, 1, 1, 2] - prefix some of A - represents the max occurrence of A as 2 in array\r\n        # [0, 1, 1, 1, 2, 3, 3, 3] - prefix some of C - represents the max occurrence of A as 3 in array\r\n        # [0, 0, 0, 1, 1, 1, 1, 1] - prefix some of G - represents the max occurrence of A as 1 in array\r\n\r\n    # To find the query answers we can just use prefix some and find the distance between position\r\n\r\n    S = CAGCCTA\r\n\r\n    P[0] = 2    Q[0] = 4\r\n    P[1] = 5    Q[1] = 5\r\n    P[2] = 0    Q[2] = 6\r\n\r\n    Given a non-empty zero-indexed string S consisting of N characters and two non-empty zero-indexed arrays P and Q consisting\r\n    of M integers, returns an array consisting of M integers specifying the consecutive answers to all queries.\r\n\r\n    The part of the DNA between positions 2 and 4 contains nucleotide G and C (twice), whose impact factors are 3 and 2 respectively, so the answer is 2.\r\n    The part between positions 5 and 5 contains a single nucleotide T, whose impact factor is 4, so the answer is 4.\r\n    The part between positions 0 and 6 (the whole string) contains all nucleotide, in particular nucleotide A whose impact factor is 1, so the answer is 1.\r\n\r\n       N is an integer within the range [1..100,000];\r\n       M is an integer within the range [1..50,000];\r\n       each element of arrays P, Q is an integer within the range [0..N − 1];\r\n       P[K] ≤ Q[K], where 0 ≤ K &lt; M;\r\n       string S consists only of upper-case English letters A, C, G, T.\r\n\r\n    Ref - https://github.com/ghanan94/codility-lesson-solutions/blob/master/Lesson%2005%20-%20Prefix%20Sums/PrefixSums.pdf\r\n\r\n    :return:  return the values [2, 4, 1]\r\n       &quot;&quot;&quot;\r\n    # two d array - column size is 3 for a,c,g - not taking size 4 since that will be part of else ie. don`t need to calculate\r\n    # row size is the length of DNA sequence\r\n    prefix_sum_two_d_array = [[0 for i in range(len(S) + 1)] for j in range(3)]\r\n    # find the prefix some of all nucleotide in given sequence\r\n    for i, nucleotide in enumerate(S):\r\n        # store prefix some of each\r\n        # nucleotide == &#39;A -&gt; 1 if true 0 if false\r\n        # [0, 0, 1, 1, 1, 1, 1, 2] - prefix some of A - represents the max occurrence of A as 2 in array\r\n        prefix_sum_two_d_array[0][i + 1] = prefix_sum_two_d_array[0][i] + (nucleotide == &#39;A&#39;)\r\n        # store prefix some of c\r\n        # [0, 1, 1, 1, 2, 3, 3, 3] - prefix some of C - represents the max occurrence of A as 3 in array\r\n        prefix_sum_two_d_array[1][i + 1] = prefix_sum_two_d_array[1][i] + (nucleotide == &#39;C&#39;)\r\n        # store prefix some of g\r\n        # [0, 0, 0, 1, 1, 1, 1, 1] - prefix some of G - represents the max occurrence of A as 1 in array\r\n        prefix_sum_two_d_array[2][i + 1] = prefix_sum_two_d_array[2][i] + (nucleotide == &#39;G&#39;)\r\n\r\n    #print(prefix_sum_two_d_array)\r\n\r\n    # now to find the query answers we can just use prefix some and find the distance between position\r\n    query_answers = []\r\n    for position in range(len(P)):\r\n        # for each query of p\r\n        # find the start index from p\r\n        start_index = P[position]\r\n        # find the end index from Q\r\n        end_index = Q[position] + 1\r\n        # find the value from prefix some array - just subtract end index and start index to find the value\r\n        if prefix_sum_two_d_array[0][end_index] - prefix_sum_two_d_array[0][start_index]:\r\n            query_answers.append(1)\r\n        elif prefix_sum_two_d_array[1][end_index] - prefix_sum_two_d_array[1][start_index]:\r\n            query_answers.append(2)\r\n        elif prefix_sum_two_d_array[2][end_index] - prefix_sum_two_d_array[2][start_index]:\r\n            query_answers.append(3)\r\n        else:\r\n            query_answers.append(4)\r\n\r\n    return query_answers\r\n\r\n\r\n    result = solution(&quot;CAGCCTA&quot;, [2, 5, 0], [4, 5, 6])\r\n    print(&quot;Sol &quot; + str(result))\r\n    # Sol [2, 4, 1]\r\n\r\n\r\n  [1]: https://app.codility.com/demo/results/training8QBVFJ-EQB/","title":"java codility training Genomic-range-query","body":"<p>Here is python solution with little explanation hope it helps some one.\n<a href=\"https://app.codility.com/demo/results/training8QBVFJ-EQB/\" rel=\"nofollow noreferrer\">Python codility 100%</a></p>\n\n<pre><code>def solution(S, P, Q):\n\"\"\"\nhttps://app.codility.com/demo/results/training8QBVFJ-EQB/\n100%\n\nIdea is consider solution as single dimensional array and use concept of prefix some ie.\nstores the value in array for p,c and g based on frequency\narray stores the frequency of p,c and g for all positions\nExample -\n    # [0, 0, 1, 1, 1, 1, 1, 2] - prefix some of A - represents the max occurrence of A as 2 in array\n    # [0, 1, 1, 1, 2, 3, 3, 3] - prefix some of C - represents the max occurrence of A as 3 in array\n    # [0, 0, 0, 1, 1, 1, 1, 1] - prefix some of G - represents the max occurrence of A as 1 in array\n\n# To find the query answers we can just use prefix some and find the distance between position\n\nS = CAGCCTA\n\nP[0] = 2    Q[0] = 4\nP[1] = 5    Q[1] = 5\nP[2] = 0    Q[2] = 6\n\nGiven a non-empty zero-indexed string S consisting of N characters and two non-empty zero-indexed arrays P and Q consisting\nof M integers, returns an array consisting of M integers specifying the consecutive answers to all queries.\n\nThe part of the DNA between positions 2 and 4 contains nucleotide G and C (twice), whose impact factors are 3 and 2 respectively, so the answer is 2.\nThe part between positions 5 and 5 contains a single nucleotide T, whose impact factor is 4, so the answer is 4.\nThe part between positions 0 and 6 (the whole string) contains all nucleotide, in particular nucleotide A whose impact factor is 1, so the answer is 1.\n\n   N is an integer within the range [1..100,000];\n   M is an integer within the range [1..50,000];\n   each element of arrays P, Q is an integer within the range [0..N − 1];\n   P[K] ≤ Q[K], where 0 ≤ K &lt; M;\n   string S consists only of upper-case English letters A, C, G, T.\n\nRef - https://github.com/ghanan94/codility-lesson-solutions/blob/master/Lesson%2005%20-%20Prefix%20Sums/PrefixSums.pdf\n\n:return:  return the values [2, 4, 1]\n   \"\"\"\n# two d array - column size is 3 for a,c,g - not taking size 4 since that will be part of else ie. don`t need to calculate\n# row size is the length of DNA sequence\nprefix_sum_two_d_array = [[0 for i in range(len(S) + 1)] for j in range(3)]\n# find the prefix some of all nucleotide in given sequence\nfor i, nucleotide in enumerate(S):\n    # store prefix some of each\n    # nucleotide == 'A -&gt; 1 if true 0 if false\n    # [0, 0, 1, 1, 1, 1, 1, 2] - prefix some of A - represents the max occurrence of A as 2 in array\n    prefix_sum_two_d_array[0][i + 1] = prefix_sum_two_d_array[0][i] + (nucleotide == 'A')\n    # store prefix some of c\n    # [0, 1, 1, 1, 2, 3, 3, 3] - prefix some of C - represents the max occurrence of A as 3 in array\n    prefix_sum_two_d_array[1][i + 1] = prefix_sum_two_d_array[1][i] + (nucleotide == 'C')\n    # store prefix some of g\n    # [0, 0, 0, 1, 1, 1, 1, 1] - prefix some of G - represents the max occurrence of A as 1 in array\n    prefix_sum_two_d_array[2][i + 1] = prefix_sum_two_d_array[2][i] + (nucleotide == 'G')\n\n#print(prefix_sum_two_d_array)\n\n# now to find the query answers we can just use prefix some and find the distance between position\nquery_answers = []\nfor position in range(len(P)):\n    # for each query of p\n    # find the start index from p\n    start_index = P[position]\n    # find the end index from Q\n    end_index = Q[position] + 1\n    # find the value from prefix some array - just subtract end index and start index to find the value\n    if prefix_sum_two_d_array[0][end_index] - prefix_sum_two_d_array[0][start_index]:\n        query_answers.append(1)\n    elif prefix_sum_two_d_array[1][end_index] - prefix_sum_two_d_array[1][start_index]:\n        query_answers.append(2)\n    elif prefix_sum_two_d_array[2][end_index] - prefix_sum_two_d_array[2][start_index]:\n        query_answers.append(3)\n    else:\n        query_answers.append(4)\n\nreturn query_answers\n\n\nresult = solution(\"CAGCCTA\", [2, 5, 0], [4, 5, 6])\nprint(\"Sol \" + str(result))\n# Sol [2, 4, 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1594250,"reputation":3701,"user_id":2154606,"accept_rate":71,"display_name":"witrin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576543280,"creation_date":1576542011,"answer_id":59365997,"question_id":19552754,"body_markdown":"This solution got also 100 out of 100 points. Its time complexity is *O(n + m)*. In the first step it calculates the [prefix sums][1] of all nucleotides in the sequence `s` for all nucleotides in `NUCLEOTIDES`. This is *4n ∈ O(n)* where *n* is the length of the sequence `s`. In the second step it searches for the lowest impact factor of each given range defined by `p[i]` and `q[i]`. Therefore it calculates the prefix sum delta of each nucleotide starting with the lowest impact factor. Whenever the delta is greater than zero the nucleotide exists in the given range. The complexity for the second step is *4m ∈ O(m)* where *m* is the number of given ranges.\r\n\r\nI used some collections for the nucleotides and their impact factors. As such the algorithm is more generic and might be more readable.\r\n\r\n    import java.util.*;\r\n\r\n    class Solution {\r\n\r\n        private static final Map&lt;Character, Integer&gt; FACTORS = new LinkedHashMap&lt;Character, Integer&gt;(){{\r\n            put(&#39;A&#39;, 1);\r\n            put(&#39;C&#39;, 2);\r\n            put(&#39;G&#39;, 3);\r\n            put(&#39;T&#39;, 4);\r\n        }};\r\n\r\n        private static final Map&lt;Character, Integer&gt; INDEXES;\r\n        \r\n        private static final Character[] NUCLEOTIDES;\r\n\r\n        static {\r\n            // calculate the indexes of the impact factors\r\n            INDEXES = new HashMap&lt;Character, Integer&gt;(){{\r\n                int i = 0;\r\n                // assumes the factors are sorted ascending\r\n                for (char c : FACTORS.keySet()) {\r\n                    put(c, i);\r\n                    i++;\r\n                }\r\n            }};\r\n            // cache the factors\r\n            NUCLEOTIDES = FACTORS.keySet().toArray(new Character[FACTORS.size()]);\r\n        }\r\n\r\n        public int[] solution(String s, int[] p, int[] q) {\r\n            final int n = s.length();\r\n            final int m = p.length;\r\n            final int l = FACTORS.size();\r\n            // init the table for the prefix sums\r\n            final int[][] t = new int[n][];\r\n            final int[] r = new int[l];\r\n            // init the result\r\n            final int[] result = new int[m];\r\n            // calculate the table with the prefix sums\r\n            for (int i = 0; i &lt; n; i++) {\r\n                final char c = s.charAt(i);\r\n\r\n                r[INDEXES.get(c)]++;\r\n                t[i] = r.clone();\r\n            }\r\n            // search for the lowest impact factor\r\n            for (int i = 0; i &lt; m; i++) {\r\n                for (int j = 0; j &lt; l; j++) {\r\n                    if (t[q[i]][j] - (p[i] &gt; 0 ? t[p[i] - 1][j] : 0) &gt; 0) {\r\n                        result[i] = FACTORS.get(NUCLEOTIDES[j]);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    } \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Prefix_sum","title":"java codility training Genomic-range-query","body":"<p>This solution got also 100 out of 100 points. Its time complexity is <em>O(n + m)</em>. In the first step it calculates the <a href=\"https://en.wikipedia.org/wiki/Prefix_sum\" rel=\"nofollow noreferrer\">prefix sums</a> of all nucleotides in the sequence <code>s</code> for all nucleotides in <code>NUCLEOTIDES</code>. This is <em>4n ∈ O(n)</em> where <em>n</em> is the length of the sequence <code>s</code>. In the second step it searches for the lowest impact factor of each given range defined by <code>p[i]</code> and <code>q[i]</code>. Therefore it calculates the prefix sum delta of each nucleotide starting with the lowest impact factor. Whenever the delta is greater than zero the nucleotide exists in the given range. The complexity for the second step is <em>4m ∈ O(m)</em> where <em>m</em> is the number of given ranges.</p>\n\n<p>I used some collections for the nucleotides and their impact factors. As such the algorithm is more generic and might be more readable.</p>\n\n<pre><code>import java.util.*;\n\nclass Solution {\n\n    private static final Map&lt;Character, Integer&gt; FACTORS = new LinkedHashMap&lt;Character, Integer&gt;(){{\n        put('A', 1);\n        put('C', 2);\n        put('G', 3);\n        put('T', 4);\n    }};\n\n    private static final Map&lt;Character, Integer&gt; INDEXES;\n\n    private static final Character[] NUCLEOTIDES;\n\n    static {\n        // calculate the indexes of the impact factors\n        INDEXES = new HashMap&lt;Character, Integer&gt;(){{\n            int i = 0;\n            // assumes the factors are sorted ascending\n            for (char c : FACTORS.keySet()) {\n                put(c, i);\n                i++;\n            }\n        }};\n        // cache the factors\n        NUCLEOTIDES = FACTORS.keySet().toArray(new Character[FACTORS.size()]);\n    }\n\n    public int[] solution(String s, int[] p, int[] q) {\n        final int n = s.length();\n        final int m = p.length;\n        final int l = FACTORS.size();\n        // init the table for the prefix sums\n        final int[][] t = new int[n][];\n        final int[] r = new int[l];\n        // init the result\n        final int[] result = new int[m];\n        // calculate the table with the prefix sums\n        for (int i = 0; i &lt; n; i++) {\n            final char c = s.charAt(i);\n\n            r[INDEXES.get(c)]++;\n            t[i] = r.clone();\n        }\n        // search for the lowest impact factor\n        for (int i = 0; i &lt; m; i++) {\n            for (int j = 0; j &lt; l; j++) {\n                if (t[q[i]][j] - (p[i] &gt; 0 ? t[p[i] - 1][j] : 0) &gt; 0) {\n                    result[i] = FACTORS.get(NUCLEOTIDES[j]);\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9770023,"reputation":21,"user_id":7242246,"display_name":"Jefferson V&#233;lez Escobar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578581304,"creation_date":1578581304,"answer_id":59666494,"question_id":19552754,"body_markdown":"Swift solution, it could be shorter and use a dictionary instead of 4 different arrays for sure but made it this way to make it a little bit more clear\r\n\r\n    public func solution(_ S : inout String, _ P : inout [Int], _ Q : inout [Int]) -&gt; [Int] {\r\n            \r\n            var arrayS: [Character] = Array(S)\r\n            var minimunImpactFactorsArray: [Int] = []\r\n    \r\n            var prefixSumsA: [Int] = Array(repeating: 0, count: S.count + 1)\r\n            var prefixSumsC: [Int] = Array(repeating: 0, count: S.count + 1)\r\n            var prefixSumsG: [Int] = Array(repeating: 0, count: S.count + 1)\r\n            var prefixSumsT: [Int] = Array(repeating: 0, count: S.count + 1)\r\n            \r\n            var a: Int = 0\r\n            var c: Int = 0\r\n            var g: Int = 0\r\n            var t: Int = 0\r\n            \r\n            for (k, letter) in S.enumerated() {\r\n                a = 0\r\n                c = 0\r\n                g = 0\r\n                t = 0\r\n                \r\n                switch letter {\r\n                case &quot;A&quot;:\r\n                    a = 1\r\n                case &quot;C&quot;:\r\n                    c = 1\r\n                case &quot;G&quot;:\r\n                    g = 1\r\n                case &quot;T&quot;:\r\n                    t = 1\r\n                default:\r\n                    break\r\n                }\r\n                \r\n                prefixSumsA[k+1] = prefixSumsA[k] + a\r\n                prefixSumsC[k+1] = prefixSumsC[k] + c\r\n                prefixSumsG[k+1] = prefixSumsG[k] + g\r\n                prefixSumsT[k+1] = prefixSumsT[k] + t\r\n            }\r\n    \r\n            func sum(p: [Int], x: Int, y: Int) -&gt; Int {\r\n                return p[y+1] - p[x]\r\n            }\r\n            \r\n            for (index, pk) in P.enumerated() {\r\n                let qk = Q[index]\r\n                \r\n                if pk == qk {\r\n                    switch arrayS[pk] {\r\n                    case &quot;A&quot;:\r\n                        minimunImpactFactorsArray.append(1)\r\n                    case &quot;C&quot;:\r\n                        minimunImpactFactorsArray.append(2)\r\n                    case &quot;G&quot;:\r\n                        minimunImpactFactorsArray.append(3)\r\n                    case &quot;T&quot;:\r\n                        minimunImpactFactorsArray.append(4)\r\n                    default:\r\n                        break\r\n                    }\r\n                    \r\n                    continue\r\n                }\r\n                \r\n                if (sum(p: prefixSumsA, x: pk, y: qk)) &gt; 0 {\r\n                    minimunImpactFactorsArray.append(1)\r\n                } else if (sum(p: prefixSumsC, x: pk, y: qk)) &gt; 0 {\r\n                    minimunImpactFactorsArray.append(2)\r\n                } else if (sum(p: prefixSumsG, x: pk, y: qk)) &gt; 0 {\r\n                    minimunImpactFactorsArray.append(3)\r\n                } else {\r\n                    minimunImpactFactorsArray.append(4)\r\n                }\r\n            }\r\n            \r\n            return minimunImpactFactorsArray\r\n        \r\n        }","title":"java codility training Genomic-range-query","body":"<p>Swift solution, it could be shorter and use a dictionary instead of 4 different arrays for sure but made it this way to make it a little bit more clear</p>\n\n<pre><code>public func solution(_ S : inout String, _ P : inout [Int], _ Q : inout [Int]) -&gt; [Int] {\n\n        var arrayS: [Character] = Array(S)\n        var minimunImpactFactorsArray: [Int] = []\n\n        var prefixSumsA: [Int] = Array(repeating: 0, count: S.count + 1)\n        var prefixSumsC: [Int] = Array(repeating: 0, count: S.count + 1)\n        var prefixSumsG: [Int] = Array(repeating: 0, count: S.count + 1)\n        var prefixSumsT: [Int] = Array(repeating: 0, count: S.count + 1)\n\n        var a: Int = 0\n        var c: Int = 0\n        var g: Int = 0\n        var t: Int = 0\n\n        for (k, letter) in S.enumerated() {\n            a = 0\n            c = 0\n            g = 0\n            t = 0\n\n            switch letter {\n            case \"A\":\n                a = 1\n            case \"C\":\n                c = 1\n            case \"G\":\n                g = 1\n            case \"T\":\n                t = 1\n            default:\n                break\n            }\n\n            prefixSumsA[k+1] = prefixSumsA[k] + a\n            prefixSumsC[k+1] = prefixSumsC[k] + c\n            prefixSumsG[k+1] = prefixSumsG[k] + g\n            prefixSumsT[k+1] = prefixSumsT[k] + t\n        }\n\n        func sum(p: [Int], x: Int, y: Int) -&gt; Int {\n            return p[y+1] - p[x]\n        }\n\n        for (index, pk) in P.enumerated() {\n            let qk = Q[index]\n\n            if pk == qk {\n                switch arrayS[pk] {\n                case \"A\":\n                    minimunImpactFactorsArray.append(1)\n                case \"C\":\n                    minimunImpactFactorsArray.append(2)\n                case \"G\":\n                    minimunImpactFactorsArray.append(3)\n                case \"T\":\n                    minimunImpactFactorsArray.append(4)\n                default:\n                    break\n                }\n\n                continue\n            }\n\n            if (sum(p: prefixSumsA, x: pk, y: qk)) &gt; 0 {\n                minimunImpactFactorsArray.append(1)\n            } else if (sum(p: prefixSumsC, x: pk, y: qk)) &gt; 0 {\n                minimunImpactFactorsArray.append(2)\n            } else if (sum(p: prefixSumsG, x: pk, y: qk)) &gt; 0 {\n                minimunImpactFactorsArray.append(3)\n            } else {\n                minimunImpactFactorsArray.append(4)\n            }\n        }\n\n        return minimunImpactFactorsArray\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3867058,"reputation":35,"user_id":3203361,"display_name":"paulsepolia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582916093,"creation_date":1582916093,"answer_id":60457684,"question_id":19552754,"body_markdown":"Here is a C++ solution:\r\n\r\n```\r\n#include &lt;algorithm&gt;\r\n\r\nstd::vector&lt;int&gt; solution(std::string &amp;S, std::vector&lt;int&gt; &amp;P, std::vector&lt;int&gt; &amp;Q)\r\n{\r\n    std::vector&lt;int&gt; genA(S.size()+1, 0);\r\n    std::vector&lt;int&gt; genC(S.size()+1, 0);\r\n    std::vector&lt;int&gt; genG(S.size()+1, 0);\r\n\r\n    for (size_t i = 0; i &lt; S.size(); i++) \r\n    {\r\n        int a = 0; \r\n        int c = 0; \r\n        int g = 0;\r\n        \r\n        if (&#39;A&#39; == S[i]) \r\n        {\r\n            a = 1;\r\n        }\r\n        else if (&#39;C&#39; == S[i]) \r\n        {\r\n            c = 1;\r\n        }\r\n        else if (&#39;G&#39; == S[i]) \r\n        {\r\n            g = 1;\r\n        }\r\n           \r\n        genA[i+1] = genA[i] + a;\r\n        genC[i+1] = genC[i] + c;\r\n        genG[i+1] = genG[i] + g;\r\n    }\r\n\r\n    std::vector&lt;int&gt; res(P.size());\r\n    \r\n    for (size_t i = 0; i &lt; P.size(); i++) \r\n    {\r\n        int ip = P[i];\r\n        int iq = Q[i] + 1;\r\n        \r\n        if (genA[iq] - genA[ip] &gt; 0) \r\n        {\r\n            res[i] = 1;\r\n        } \r\n        else if (genC[iq] - genC[ip] &gt; 0) \r\n        {\r\n            res[i] = 2;\r\n        } \r\n        else if (genG[iq] - genG[ip] &gt; 0) \r\n        {\r\n            res[i] = 3;\r\n        } \r\n        else \r\n        {\r\n            res[i] = 4;\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\n```","title":"java codility training Genomic-range-query","body":"<p>Here is a C++ solution:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n\nstd::vector&lt;int&gt; solution(std::string &amp;S, std::vector&lt;int&gt; &amp;P, std::vector&lt;int&gt; &amp;Q)\n{\n    std::vector&lt;int&gt; genA(S.size()+1, 0);\n    std::vector&lt;int&gt; genC(S.size()+1, 0);\n    std::vector&lt;int&gt; genG(S.size()+1, 0);\n\n    for (size_t i = 0; i &lt; S.size(); i++) \n    {\n        int a = 0; \n        int c = 0; \n        int g = 0;\n\n        if ('A' == S[i]) \n        {\n            a = 1;\n        }\n        else if ('C' == S[i]) \n        {\n            c = 1;\n        }\n        else if ('G' == S[i]) \n        {\n            g = 1;\n        }\n\n        genA[i+1] = genA[i] + a;\n        genC[i+1] = genC[i] + c;\n        genG[i+1] = genG[i] + g;\n    }\n\n    std::vector&lt;int&gt; res(P.size());\n\n    for (size_t i = 0; i &lt; P.size(); i++) \n    {\n        int ip = P[i];\n        int iq = Q[i] + 1;\n\n        if (genA[iq] - genA[ip] &gt; 0) \n        {\n            res[i] = 1;\n        } \n        else if (genC[iq] - genC[ip] &gt; 0) \n        {\n            res[i] = 2;\n        } \n        else if (genG[iq] - genG[ip] &gt; 0) \n        {\n            res[i] = 3;\n        } \n        else \n        {\n            res[i] = 4;\n        }\n    }\n\n    return res;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7203116,"reputation":1429,"user_id":5499697,"display_name":"Bonjour123"},"score":1,"creation_date":1595107933,"post_id":61570761,"comment_id":111362186,"body_markdown":"Well, 100% solution because you use includes, and so Codility thinks the complexity of your solution is different from S.length*P.length. But it isn&#39;t actually. We&#39;re supposed to use the prefix sums. Please don&#39;t post solutions which are not effective. I also didn&#39;t know about sums prefix, so I had 2 nested loops (to P.length and to S.length-&gt;which is what includes does), and got a miserable 40% grade, which is also the grade of your solution ;)","body":"Well, 100% solution because you use includes, and so Codility thinks the complexity of your solution is different from S.length*P.length. But it isn&#39;t actually. We&#39;re supposed to use the prefix sums. Please don&#39;t post solutions which are not effective. I also didn&#39;t know about sums prefix, so I had 2 nested loops (to P.length and to S.length-&gt;which is what includes does), and got a miserable 40% grade, which is also the grade of your solution ;)"}],"tags":[],"owner":{"account_id":2208400,"reputation":462,"user_id":1951004,"accept_rate":67,"display_name":"Mahamudul Hasan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588489310,"creation_date":1588489310,"answer_id":61570761,"question_id":19552754,"body_markdown":"Here is a simple **100/100 solution in Javascript**\r\n\r\n    function solution(S, P, Q) {\r\n        const len = S.length\r\n        const M = P.length\r\n        let result = []\r\n    \r\n        for (let i=0;i&lt;M;i++) {\r\n            const queryString = S.substring(P[i], Q[i]+1)\r\n            if (queryString.includes(&#39;A&#39;)) {\r\n                result.push(1)\r\n            }\r\n            else if(queryString.includes(&#39;C&#39;)) {\r\n                result.push(2)\r\n            }\r\n            else if(queryString.includes(&#39;G&#39;)) {\r\n                result.push(3)\r\n            }\r\n            else {\r\n                result.push(4)\r\n            }\r\n        }\r\n        return result\r\n    }","title":"java codility training Genomic-range-query","body":"<p>Here is a simple <strong>100/100 solution in Javascript</strong></p>\n\n<pre><code>function solution(S, P, Q) {\n    const len = S.length\n    const M = P.length\n    let result = []\n\n    for (let i=0;i&lt;M;i++) {\n        const queryString = S.substring(P[i], Q[i]+1)\n        if (queryString.includes('A')) {\n            result.push(1)\n        }\n        else if(queryString.includes('C')) {\n            result.push(2)\n        }\n        else if(queryString.includes('G')) {\n            result.push(3)\n        }\n        else {\n            result.push(4)\n        }\n    }\n    return result\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7203116,"reputation":1429,"user_id":5499697,"display_name":"Bonjour123"},"score":0,"creation_date":1595107701,"post_id":62105036,"comment_id":111362119,"body_markdown":"Well, 100% solution because you use includes, and so Codility thinks  the complexity of your solution is different from S.length*P.length. But it isn&#39;t actually. We&#39;re supposed to use the prefix sums.","body":"Well, 100% solution because you use includes, and so Codility thinks  the complexity of your solution is different from S.length*P.length. But it isn&#39;t actually. We&#39;re supposed to use the prefix sums."}],"tags":[],"owner":{"account_id":10459966,"reputation":100,"user_id":7974250,"display_name":"Selvio Perez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590854285,"creation_date":1590854285,"answer_id":62105036,"question_id":19552754,"body_markdown":"Javascript solution 100/100\r\n```javscript\r\nfunction solution(S, P, Q) {\r\n    const values = { A: 1, C: 2, G: 3, T: 4};\r\n    const keys = Object.keys(values)\r\n    const result = []\r\n    for (i = 0; i &lt; P.length; i++) {\r\n        const string = S.slice(P[i], Q[i] + 1)\r\n        let min;\r\n        for (j = 0; j &lt; keys.length; j++) {\r\n            if (string.includes(keys[j])) {\r\n                min = values[keys[j]];\r\n                break;\r\n            }\r\n        }\r\n        result.push(min)\r\n    }\r\n    return result\r\n}\r\n```","title":"java codility training Genomic-range-query","body":"<p>Javascript solution 100/100</p>\n\n<pre><code>function solution(S, P, Q) {\n    const values = { A: 1, C: 2, G: 3, T: 4};\n    const keys = Object.keys(values)\n    const result = []\n    for (i = 0; i &lt; P.length; i++) {\n        const string = S.slice(P[i], Q[i] + 1)\n        let min;\n        for (j = 0; j &lt; keys.length; j++) {\n            if (string.includes(keys[j])) {\n                min = values[keys[j]];\n                break;\n            }\n        }\n        result.push(min)\n    }\n    return result\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10513148,"reputation":53,"user_id":7748148,"display_name":"Guillermo Abbona"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593284105,"creation_date":1593284105,"answer_id":62614268,"question_id":19552754,"body_markdown":"Based on the solutions answered by many users, witch where very helpful and I thank you all, I could make using streams with 100/100 !!!\r\n\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&#39;A&#39;, 0);\r\n        map.put(&#39;C&#39;, 1);\r\n        map.put(&#39;G&#39;, 2);\r\n        map.put(&#39;T&#39;, 3);\r\n        int[][] arr = IntStream.range(0, S.length()).collect(() -&gt; new int[S.length()][4], (acc, i) -&gt; {\r\n            acc[i][map.get(S.charAt(i))] += 1;\r\n            if (i + 1 != S.length()) {\r\n                acc[i + 1][0] += acc[i][0];\r\n                acc[i + 1][1] += acc[i][1];\r\n                acc[i + 1][2] += acc[i][2];\r\n                acc[i + 1][3] += acc[i][3];\r\n            }\r\n        }, Arrays::fill);\r\n        return IntStream.range(0, P.length)\r\n                .map(i -&gt; {\r\n                    return 1 + IntStream.range(0, 4).filter(j -&gt; arr[Q[i]][j] - (P[i] &gt; 0 ? arr[P[i] - 1][j] : 0) &gt; 0).min().orElse(-1);\r\n                }).toArray();","title":"java codility training Genomic-range-query","body":"<p>Based on the solutions answered by many users, witch where very helpful and I thank you all, I could make using streams with 100/100 !!!</p>\n<pre><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put('A', 0);\n    map.put('C', 1);\n    map.put('G', 2);\n    map.put('T', 3);\n    int[][] arr = IntStream.range(0, S.length()).collect(() -&gt; new int[S.length()][4], (acc, i) -&gt; {\n        acc[i][map.get(S.charAt(i))] += 1;\n        if (i + 1 != S.length()) {\n            acc[i + 1][0] += acc[i][0];\n            acc[i + 1][1] += acc[i][1];\n            acc[i + 1][2] += acc[i][2];\n            acc[i + 1][3] += acc[i][3];\n        }\n    }, Arrays::fill);\n    return IntStream.range(0, P.length)\n            .map(i -&gt; {\n                return 1 + IntStream.range(0, 4).filter(j -&gt; arr[Q[i]][j] - (P[i] &gt; 0 ? arr[P[i] - 1][j] : 0) &gt; 0).min().orElse(-1);\n            }).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9592031,"reputation":335,"user_id":7122567,"display_name":"Leandro Maro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600777224,"creation_date":1600777224,"answer_id":64009601,"question_id":19552754,"body_markdown":"My solution using lambdas\r\n\r\n     public int[] solution(String S, int[] P, int[] Q) {\r\n        CharSequence charSequence;\r\n        int length = P.length;\r\n        int[] result = new int[length];\r\n        for (int i=0; i&lt;length; i++){\r\n            int left = P[i];\r\n            int right = Q[i]+1;\r\n            charSequence = S.subSequence(left, right);\r\n            String[] segment = charSequence.toString().split(&quot;&quot;);\r\n\r\n            int countA, countC, countG, countT = 0;\r\n            countA = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;A&quot;)).count();\r\n            countC = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;C&quot;)).count();\r\n            countG = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;G&quot;)).count();\r\n            countT = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;T&quot;)).count();\r\n\r\n            int min = 0;\r\n            if(countA&gt;0){\r\n                min = 1;\r\n            }else if(countC&gt;0){\r\n                min = 2;\r\n            }else if(countG&gt;0){\r\n                min = 3;\r\n            }else if(countT&gt;0){\r\n                min = 4;\r\n            }\r\n            result[i] = min;\r\n\r\n        }\r\n        return result;\r\n    }","title":"java codility training Genomic-range-query","body":"<p>My solution using lambdas</p>\n<pre><code> public int[] solution(String S, int[] P, int[] Q) {\n    CharSequence charSequence;\n    int length = P.length;\n    int[] result = new int[length];\n    for (int i=0; i&lt;length; i++){\n        int left = P[i];\n        int right = Q[i]+1;\n        charSequence = S.subSequence(left, right);\n        String[] segment = charSequence.toString().split(&quot;&quot;);\n\n        int countA, countC, countG, countT = 0;\n        countA = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;A&quot;)).count();\n        countC = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;C&quot;)).count();\n        countG = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;G&quot;)).count();\n        countT = (int) Arrays.stream(segment).filter(s -&gt; s.equals(&quot;T&quot;)).count();\n\n        int min = 0;\n        if(countA&gt;0){\n            min = 1;\n        }else if(countC&gt;0){\n            min = 2;\n        }else if(countG&gt;0){\n            min = 3;\n        }else if(countT&gt;0){\n            min = 4;\n        }\n        result[i] = min;\n\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3871551,"reputation":593,"user_id":7856112,"display_name":"Amit Basuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605556949,"creation_date":1605556949,"answer_id":64864921,"question_id":19552754,"body_markdown":"My 100/100 solution in Go.\r\n\r\n```go\r\nfunc DnaSeqSolution(S string, P []int, Q []int) []int {\r\n\r\n\tsol := make([]int, len(P), len(P))\r\n\r\n\tprefixSum := make([][]int, 3, 3)\r\n\tfor i := 0; i &lt; 3; i++ {\r\n\t\tprefixSum[i] = make([]int, len(S)+1, len(S)+1)\r\n\t}\r\n\r\n\t// calculate prefix sum Arr for A,C,G\r\n\tfor i := 1; i &lt;= len(S); i++ {\r\n\t\tch := S[i-1]\r\n\t\tvar a, c, g int\r\n\t\tif ch == &#39;A&#39; {\r\n\t\t\ta = 1\r\n\t\t}\r\n\t\tif ch == &#39;C&#39; {\r\n\t\t\tc = 1\r\n\t\t}\r\n\t\tif ch == &#39;G&#39; {\r\n\t\t\tg = 1\r\n\t\t}\r\n\r\n\t\tprefixSum[0][i] = prefixSum[0][i-1] + a\r\n\t\tprefixSum[1][i] = prefixSum[1][i-1] + c\r\n\t\tprefixSum[2][i] = prefixSum[2][i-1] + g\r\n\t}\r\n\r\n\t// Figure out whether A,C or G is present in between the indices or not\r\n\tfor i := 0; i &lt; len(P); i++ {\r\n\t\tend := Q[i] + 1\r\n\t\tbeg := P[i]\r\n\r\n\t\tif prefixSum[0][end]-prefixSum[0][beg] &gt; 0 {\r\n\t\t\tsol[i] = 1\r\n\t\t\tcontinue\r\n\t\t}\r\n\t\tif prefixSum[1][end]-prefixSum[1][beg] &gt; 0 {\r\n\t\t\tsol[i] = 2\r\n\t\t\tcontinue\r\n\t\t}\r\n\t\tif prefixSum[2][end]-prefixSum[2][beg] &gt; 0{\r\n\t\t\tsol[i] = 3\r\n\t\t\tcontinue\r\n\t\t}\r\n\t\tsol[i] = 4\r\n\t}\r\n\r\n\treturn sol\r\n\r\n}\r\n```\r\n","title":"java codility training Genomic-range-query","body":"<p>My 100/100 solution in Go.</p>\n<pre class=\"lang-golang prettyprint-override\"><code>func DnaSeqSolution(S string, P []int, Q []int) []int {\n\n    sol := make([]int, len(P), len(P))\n\n    prefixSum := make([][]int, 3, 3)\n    for i := 0; i &lt; 3; i++ {\n        prefixSum[i] = make([]int, len(S)+1, len(S)+1)\n    }\n\n    // calculate prefix sum Arr for A,C,G\n    for i := 1; i &lt;= len(S); i++ {\n        ch := S[i-1]\n        var a, c, g int\n        if ch == 'A' {\n            a = 1\n        }\n        if ch == 'C' {\n            c = 1\n        }\n        if ch == 'G' {\n            g = 1\n        }\n\n        prefixSum[0][i] = prefixSum[0][i-1] + a\n        prefixSum[1][i] = prefixSum[1][i-1] + c\n        prefixSum[2][i] = prefixSum[2][i-1] + g\n    }\n\n    // Figure out whether A,C or G is present in between the indices or not\n    for i := 0; i &lt; len(P); i++ {\n        end := Q[i] + 1\n        beg := P[i]\n\n        if prefixSum[0][end]-prefixSum[0][beg] &gt; 0 {\n            sol[i] = 1\n            continue\n        }\n        if prefixSum[1][end]-prefixSum[1][beg] &gt; 0 {\n            sol[i] = 2\n            continue\n        }\n        if prefixSum[2][end]-prefixSum[2][beg] &gt; 0{\n            sol[i] = 3\n            continue\n        }\n        sol[i] = 4\n    }\n\n    return sol\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16058888,"reputation":51,"user_id":11590404,"display_name":"Kunal"},"score":0,"creation_date":1623136653,"post_id":67883029,"comment_id":119985840,"body_markdown":"Correctness is 100% but performance is very poor , therefore I could score 62% in this . We can write in more robust manner , however this was quick and simple. My  observation is while is fastest (while --&gt; for Loops --&gt; Streams iterations)","body":"Correctness is 100% but performance is very poor , therefore I could score 62% in this . We can write in more robust manner , however this was quick and simple. My  observation is while is fastest (while --&gt; for Loops --&gt; Streams iterations)"}],"tags":[],"owner":{"account_id":16058888,"reputation":51,"user_id":11590404,"display_name":"Kunal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623149732,"creation_date":1623136531,"answer_id":67883029,"question_id":19552754,"body_markdown":"```java\r\n public static int[] solution(String S, int[] P, int[] Q) {\r\n\t\t \r\n\t\t HashMap&lt;String, Integer&gt; hm= new HashMap&lt;String, Integer&gt;();\r\n\t\t hm.put(&quot;A&quot;, 1);hm.put(&quot;C&quot;, 2);hm.put(&quot;G&quot;, 3);hm.put(&quot;T&quot;, 4);\r\n\t\t \r\n\t\t char[] arr=S.toCharArray();\r\n\t\t List&lt;Integer&gt; tempList=new ArrayList&lt;Integer&gt;();\r\n\t\t \r\n\t\t for(int i=0;i&lt;=Q.length-1;i++) {\r\n\t\t\t int minVal=Integer.MAX_VALUE;\r\n\t\t\t int minRange = P[i];\r\n\t\t\t int maxRange = Q[i];\r\n\t\t\t for(int j=minRange;j&lt;=maxRange;j++) {\r\n\t\t\t\t String valueOf = String.valueOf(arr[j]);\r\n\t\t\t\tif(hm.containsKey(valueOf)) {\r\n\t\t\t\t\t if(hm.get(valueOf)&lt;minVal) {\r\n\t\t\t\t\t\t minVal=hm.get(valueOf);\r\n\t\t\t\t\t }\r\n\t\t\t\t }\r\n\t\t\t }\r\n\t\t\t tempList.add(minVal);\r\n\t\t }\r\n\t\t return tempList.stream().mapToInt(x-&gt;x.intValue()).toArray();\r\n\t\t \r\n\t    }\r\n```","title":"java codility training Genomic-range-query","body":"<pre class=\"lang-java prettyprint-override\"><code> public static int[] solution(String S, int[] P, int[] Q) {\n         \n         HashMap&lt;String, Integer&gt; hm= new HashMap&lt;String, Integer&gt;();\n         hm.put(&quot;A&quot;, 1);hm.put(&quot;C&quot;, 2);hm.put(&quot;G&quot;, 3);hm.put(&quot;T&quot;, 4);\n         \n         char[] arr=S.toCharArray();\n         List&lt;Integer&gt; tempList=new ArrayList&lt;Integer&gt;();\n         \n         for(int i=0;i&lt;=Q.length-1;i++) {\n             int minVal=Integer.MAX_VALUE;\n             int minRange = P[i];\n             int maxRange = Q[i];\n             for(int j=minRange;j&lt;=maxRange;j++) {\n                 String valueOf = String.valueOf(arr[j]);\n                if(hm.containsKey(valueOf)) {\n                     if(hm.get(valueOf)&lt;minVal) {\n                         minVal=hm.get(valueOf);\n                     }\n                 }\n             }\n             tempList.add(minVal);\n         }\n         return tempList.stream().mapToInt(x-&gt;x.intValue()).toArray();\n         \n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5937709,"reputation":584,"user_id":4670107,"accept_rate":89,"display_name":"noviewpoint"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646380979,"creation_date":1645004942,"answer_id":71139510,"question_id":19552754,"body_markdown":"My 100% JavaScript solution with O(N + M) time complexity and no use of advanced built-in methods such as .includes, .substring, etc:\r\n\r\n    function solution(S, P, Q) {\r\n\r\n        // initialize prefix sums for A, C, G (you don&#39;t need T)\r\n        const A = [0];\r\n        const C = [0];\r\n        const G = [0];\r\n    \r\n        // calculate prefix sums for A, C, G\r\n        for (let i = 0, len = S.length; i &lt; len; i++) {\r\n            A.push(A[i] + Number(&quot;A&quot; === S[i]));\r\n            C.push(C[i] + Number(&quot;C&quot; === S[i]));\r\n            G.push(G[i] + Number(&quot;G&quot; === S[i]));\r\n        }\r\n\r\n        // calculate the result using prefix sums\r\n        const result = [];\r\n        for (let i = 0, len = P.length; i &lt; len; i++) {\r\n            const from = P[i];\r\n            const to = Q[i] + 1;\r\n            if (A[to] - A[from] &gt; 0) {\r\n                result.push(1);\r\n            } else if (C[to] - C[from] &gt; 0) {\r\n                result.push(2);\r\n            } else if (G[to] - G[from] &gt; 0) {\r\n                result.push(3);\r\n            } else {\r\n                result.push(4); // this is why you don&#39;t need T\r\n            }\r\n        }\r\n        return result;\r\n\r\n    }","title":"java codility training Genomic-range-query","body":"<p>My 100% JavaScript solution with O(N + M) time complexity and no use of advanced built-in methods such as .includes, .substring, etc:</p>\n<pre><code>function solution(S, P, Q) {\n\n    // initialize prefix sums for A, C, G (you don't need T)\n    const A = [0];\n    const C = [0];\n    const G = [0];\n\n    // calculate prefix sums for A, C, G\n    for (let i = 0, len = S.length; i &lt; len; i++) {\n        A.push(A[i] + Number(&quot;A&quot; === S[i]));\n        C.push(C[i] + Number(&quot;C&quot; === S[i]));\n        G.push(G[i] + Number(&quot;G&quot; === S[i]));\n    }\n\n    // calculate the result using prefix sums\n    const result = [];\n    for (let i = 0, len = P.length; i &lt; len; i++) {\n        const from = P[i];\n        const to = Q[i] + 1;\n        if (A[to] - A[from] &gt; 0) {\n            result.push(1);\n        } else if (C[to] - C[from] &gt; 0) {\n            result.push(2);\n        } else if (G[to] - G[from] &gt; 0) {\n            result.push(3);\n        } else {\n            result.push(4); // this is why you don't need T\n        }\n    }\n    return result;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21002536,"reputation":29,"user_id":15433036,"display_name":"Hayk Mkrtchyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688126716,"creation_date":1687869346,"answer_id":76564939,"question_id":19552754,"body_markdown":"```\r\nimport java.util.Arrays;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic final class GenomicRangeQuery {\r\n\r\n    private GenomicRangeQuery() {\r\n        super();\r\n    }\r\n\r\n    private static final class ImpactFactor {\r\n        private static final int C_MASK_POS = 16;\r\n        private static final int G_MASK_POS = 32;\r\n        private static final int T_MASK_POS = 48;\r\n        private static final int A_IMPACT_FACTOR = 1;\r\n        private static final int C_IMPACT_FACTOR = 2;\r\n        private static final int G_IMPACT_FACTOR = 3;\r\n        private static final int T_IMPACT_FACTOR = 4;\r\n        private final String dna;\r\n        private final long[] stats;\r\n\r\n        ImpactFactor(final String dna) {\r\n            super();\r\n            this.dna = dna;\r\n            this.stats = new long[dna.length()];\r\n            init(dna);\r\n        }\r\n\r\n        private void init(final String dna) {\r\n            final var state = new State();\r\n            for (int i = 0; i &lt; stats.length; i++) {\r\n                stats[i] = state.acceptDnaSymbol(dna.charAt(i)).toLong();\r\n            }\r\n        }\r\n\r\n        int[] minImpactFactors(final int[] p, final int[] q) {\r\n            final int[] impactFactors = new int[p.length];\r\n            for (int i = 0; i &lt; impactFactors.length; i++) {\r\n                if (q[i] == p[i]) {\r\n                    impactFactors[i] = impactFactorOf(dna.charAt(q[i]));\r\n                } else {\r\n                    final int minImpactFactorOnBoundaries = Math.min(\r\n                            impactFactorOf(dna.charAt(p[i])),\r\n                            impactFactorOf(dna.charAt(q[i]))\r\n                    );\r\n                    final int minImpactFactorOnBetween = minImpactFactor(q[i], p[i]);\r\n                    impactFactors[i] = Math.min(minImpactFactorOnBoundaries, minImpactFactorOnBetween);\r\n                }\r\n            }\r\n            return impactFactors;\r\n        }\r\n\r\n        private int minImpactFactor(int q, int p) {\r\n            return minImpactFactor(stats[q] - stats[p]);\r\n        }\r\n\r\n        private static int minImpactFactor(long state) {\r\n            final long mask = (1L &lt;&lt; 16) - 1;\r\n            if ((state &amp; mask) &gt; 0) {\r\n                return impactFactorOf(&#39;A&#39;);\r\n            }\r\n            if ((state &amp; mask &lt;&lt; C_MASK_POS) &gt; 0) {\r\n                return impactFactorOf(&#39;C&#39;);\r\n            }\r\n            if ((state &amp; mask &lt;&lt; G_MASK_POS) &gt; 0) {\r\n                return impactFactorOf(&#39;G&#39;);\r\n            }\r\n            if ((state &amp; mask &lt;&lt; T_MASK_POS) &gt; 0) {\r\n                return impactFactorOf(&#39;T&#39;);\r\n            }\r\n            throw new IllegalStateException(&quot;Empty state, no minimum factor could be determined&quot;);\r\n        }\r\n\r\n        private static int impactFactorOf(char symbol) {\r\n            return switch (symbol) {\r\n                case &#39;A&#39; -&gt; A_IMPACT_FACTOR;\r\n                case &#39;C&#39; -&gt; C_IMPACT_FACTOR;\r\n                case &#39;G&#39; -&gt; G_IMPACT_FACTOR;\r\n                case &#39;T&#39; -&gt; T_IMPACT_FACTOR;\r\n                default -&gt; throw new IllegalArgumentException(&quot;Invalid DNA symbol &quot; + symbol);\r\n            };\r\n        }\r\n\r\n        private static final class State {\r\n            private long aSymbolsCount;\r\n            private long cSymbolsCount;\r\n            private long gSymbolsCount;\r\n            private long tSymbolsCount;\r\n\r\n            State acceptDnaSymbol(char symbol) {\r\n                switch (symbol) {\r\n                    case &#39;A&#39; -&gt; aSymbolsCount++;\r\n                    case &#39;C&#39; -&gt; cSymbolsCount++;\r\n                    case &#39;G&#39; -&gt; gSymbolsCount++;\r\n                    case &#39;T&#39; -&gt; tSymbolsCount++;\r\n                    default -&gt; throw new IllegalArgumentException(&quot;Invalid DNA symbol &quot; + symbol);\r\n                }\r\n                return this;\r\n            }\r\n\r\n            long toLong() {\r\n                return aSymbolsCount | cSymbolsCount &lt;&lt; C_MASK_POS | gSymbolsCount &lt;&lt; G_MASK_POS | tSymbolsCount &lt;&lt; T_MASK_POS;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static int[] minImpactFactors(String dna, int[] P, int[] Q) {\r\n        return new ImpactFactor(dna).minImpactFactors(P, Q);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(\r\n                Arrays.toString(\r\n                        minImpactFactors(&quot;ACCCCCC&quot;, new int[]{0, 5, 0}, new int[]{4, 5, 6})));\r\n    }\r\n}\r\n```","title":"java codility training Genomic-range-query","body":"<pre><code>import java.util.Arrays;\n\nimport java.util.Arrays;\n\npublic final class GenomicRangeQuery {\n\n    private GenomicRangeQuery() {\n        super();\n    }\n\n    private static final class ImpactFactor {\n        private static final int C_MASK_POS = 16;\n        private static final int G_MASK_POS = 32;\n        private static final int T_MASK_POS = 48;\n        private static final int A_IMPACT_FACTOR = 1;\n        private static final int C_IMPACT_FACTOR = 2;\n        private static final int G_IMPACT_FACTOR = 3;\n        private static final int T_IMPACT_FACTOR = 4;\n        private final String dna;\n        private final long[] stats;\n\n        ImpactFactor(final String dna) {\n            super();\n            this.dna = dna;\n            this.stats = new long[dna.length()];\n            init(dna);\n        }\n\n        private void init(final String dna) {\n            final var state = new State();\n            for (int i = 0; i &lt; stats.length; i++) {\n                stats[i] = state.acceptDnaSymbol(dna.charAt(i)).toLong();\n            }\n        }\n\n        int[] minImpactFactors(final int[] p, final int[] q) {\n            final int[] impactFactors = new int[p.length];\n            for (int i = 0; i &lt; impactFactors.length; i++) {\n                if (q[i] == p[i]) {\n                    impactFactors[i] = impactFactorOf(dna.charAt(q[i]));\n                } else {\n                    final int minImpactFactorOnBoundaries = Math.min(\n                            impactFactorOf(dna.charAt(p[i])),\n                            impactFactorOf(dna.charAt(q[i]))\n                    );\n                    final int minImpactFactorOnBetween = minImpactFactor(q[i], p[i]);\n                    impactFactors[i] = Math.min(minImpactFactorOnBoundaries, minImpactFactorOnBetween);\n                }\n            }\n            return impactFactors;\n        }\n\n        private int minImpactFactor(int q, int p) {\n            return minImpactFactor(stats[q] - stats[p]);\n        }\n\n        private static int minImpactFactor(long state) {\n            final long mask = (1L &lt;&lt; 16) - 1;\n            if ((state &amp; mask) &gt; 0) {\n                return impactFactorOf('A');\n            }\n            if ((state &amp; mask &lt;&lt; C_MASK_POS) &gt; 0) {\n                return impactFactorOf('C');\n            }\n            if ((state &amp; mask &lt;&lt; G_MASK_POS) &gt; 0) {\n                return impactFactorOf('G');\n            }\n            if ((state &amp; mask &lt;&lt; T_MASK_POS) &gt; 0) {\n                return impactFactorOf('T');\n            }\n            throw new IllegalStateException(&quot;Empty state, no minimum factor could be determined&quot;);\n        }\n\n        private static int impactFactorOf(char symbol) {\n            return switch (symbol) {\n                case 'A' -&gt; A_IMPACT_FACTOR;\n                case 'C' -&gt; C_IMPACT_FACTOR;\n                case 'G' -&gt; G_IMPACT_FACTOR;\n                case 'T' -&gt; T_IMPACT_FACTOR;\n                default -&gt; throw new IllegalArgumentException(&quot;Invalid DNA symbol &quot; + symbol);\n            };\n        }\n\n        private static final class State {\n            private long aSymbolsCount;\n            private long cSymbolsCount;\n            private long gSymbolsCount;\n            private long tSymbolsCount;\n\n            State acceptDnaSymbol(char symbol) {\n                switch (symbol) {\n                    case 'A' -&gt; aSymbolsCount++;\n                    case 'C' -&gt; cSymbolsCount++;\n                    case 'G' -&gt; gSymbolsCount++;\n                    case 'T' -&gt; tSymbolsCount++;\n                    default -&gt; throw new IllegalArgumentException(&quot;Invalid DNA symbol &quot; + symbol);\n                }\n                return this;\n            }\n\n            long toLong() {\n                return aSymbolsCount | cSymbolsCount &lt;&lt; C_MASK_POS | gSymbolsCount &lt;&lt; G_MASK_POS | tSymbolsCount &lt;&lt; T_MASK_POS;\n            }\n        }\n    }\n\n    public static int[] minImpactFactors(String dna, int[] P, int[] Q) {\n        return new ImpactFactor(dna).minImpactFactors(P, Q);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\n                Arrays.toString(\n                        minImpactFactors(&quot;ACCCCCC&quot;, new int[]{0, 5, 0}, new int[]{4, 5, 6})));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1581224,"reputation":1369,"user_id":1466580,"accept_rate":89,"display_name":"pshemek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36674,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":21512180,"answer_count":44,"score":55,"last_activity_date":1688126716,"creation_date":1382564128,"question_id":19552754,"body_markdown":"**The task is:**\r\n\r\nA non-empty zero-indexed string S is given. String S consists of N characters from the set of upper-case English letters A, C, G, T.\r\n\r\nThis string actually represents a DNA sequence, and the upper-case letters represent single nucleotides.\r\n\r\nYou are also given non-empty zero-indexed arrays P and Q consisting of M integers. These arrays represent queries about minimal nucleotides. We represent the letters of string S as integers 1, 2, 3, 4 in arrays P and Q, where A = 1, C = 2, G = 3, T = 4, and we assume that A &lt; C &lt; G &lt; T.\r\n\r\nQuery K requires you to find the minimal nucleotide from the range (P[K], Q[K]), 0 ≤ P[i] ≤ Q[i] &lt; N.\r\n\r\nFor example, consider string S = GACACCATA and arrays P, Q such that:\r\n\r\n    P[0] = 0    Q[0] = 8\r\n    P[1] = 0    Q[1] = 2\r\n    P[2] = 4    Q[2] = 5\r\n    P[3] = 7    Q[3] = 7\r\n\r\nThe minimal nucleotides from these ranges are as follows:\r\n\r\n        (0, 8) is A identified by 1,\r\n        (0, 2) is A identified by 1,\r\n        (4, 5) is C identified by 2,\r\n        (7, 7) is T identified by 4.\r\n\r\nWrite a function:\r\n\r\n    class Solution { public int[] solution(String S, int[] P, int[] Q); } \r\n\r\nthat, given a non-empty zero-indexed string S consisting of N characters and two non-empty zero-indexed arrays P and Q consisting of M integers, returns an array consisting of M characters specifying the consecutive answers to all queries.\r\n\r\nThe sequence should be returned as:\r\n\r\n        a Results structure (in C), or\r\n        a vector of integers (in C++), or\r\n        a Results record (in Pascal), or\r\n        an array of integers (in any other programming language).\r\n\r\nFor example, given the string S = GACACCATA and arrays P, Q such that:\r\n\r\n    P[0] = 0    Q[0] = 8\r\n    P[1] = 0    Q[1] = 2\r\n    P[2] = 4    Q[2] = 5\r\n    P[3] = 7    Q[3] = 7\r\n\r\nthe function should return the values [1, 1, 2, 4], as explained above.\r\n\r\nAssume that:\r\n\r\n        N is an integer within the range [1..100,000];\r\n        M is an integer within the range [1..50,000];\r\n        each element of array P, Q is an integer within the range [0..N − 1];\r\n        P[i] ≤ Q[i];\r\n        string S consists only of upper-case English letters A, C, G, T.\r\n\r\nComplexity:\r\n\r\n        expected worst-case time complexity is O(N+M);\r\n        expected worst-case space complexity is O(N), \r\n             beyond input storage \r\n             (not counting the storage required for input arguments).\r\n\r\nElements of input arrays can be modified.\r\n\r\n**My solution is:**\r\n\r\n    class Solution {\r\n        public int[] solution(String S, int[] P, int[] Q) {\r\n            final  char c[] = S.toCharArray();\r\n            final int answer[] = new int[P.length];\r\n            int tempAnswer;\r\n            char tempC;\r\n    \r\n            for (int iii = 0; iii &lt; P.length; iii++) {\r\n                tempAnswer = 4;\r\n                for (int zzz = P[iii]; zzz &lt;= Q[iii]; zzz++) {\r\n                    tempC = c[zzz];\r\n                    if (tempC == &#39;A&#39;) {\r\n                        tempAnswer = 1;\r\n                        break;\r\n                    } else if (tempC == &#39;C&#39;) {\r\n                        if (tempAnswer &gt; 2) {\r\n                            tempAnswer = 2;\r\n                        }\r\n                    } else if (tempC == &#39;G&#39;) {\r\n                        if (tempAnswer &gt; 3) {\r\n                            tempAnswer = 3;\r\n                        }\r\n    \r\n                    }\r\n                }\r\n                answer[iii] = tempAnswer;\r\n            }\r\n    \r\n            return answer;\r\n        }\r\n    }\r\n\r\nIt is not optimal, I believe it&#39;s supposed to be done within one loop, any hint how can I achieve it?\r\n\r\nYou can check quality of your solution here https://codility.com/train/ test name is Genomic-range-query.\r\n\r\n","title":"java codility training Genomic-range-query","body":"<p><strong>The task is:</strong></p>\n\n<p>A non-empty zero-indexed string S is given. String S consists of N characters from the set of upper-case English letters A, C, G, T.</p>\n\n<p>This string actually represents a DNA sequence, and the upper-case letters represent single nucleotides.</p>\n\n<p>You are also given non-empty zero-indexed arrays P and Q consisting of M integers. These arrays represent queries about minimal nucleotides. We represent the letters of string S as integers 1, 2, 3, 4 in arrays P and Q, where A = 1, C = 2, G = 3, T = 4, and we assume that A &lt; C &lt; G &lt; T.</p>\n\n<p>Query K requires you to find the minimal nucleotide from the range (P[K], Q[K]), 0 ≤ P[i] ≤ Q[i] &lt; N.</p>\n\n<p>For example, consider string S = GACACCATA and arrays P, Q such that:</p>\n\n<pre><code>P[0] = 0    Q[0] = 8\nP[1] = 0    Q[1] = 2\nP[2] = 4    Q[2] = 5\nP[3] = 7    Q[3] = 7\n</code></pre>\n\n<p>The minimal nucleotides from these ranges are as follows:</p>\n\n<pre><code>    (0, 8) is A identified by 1,\n    (0, 2) is A identified by 1,\n    (4, 5) is C identified by 2,\n    (7, 7) is T identified by 4.\n</code></pre>\n\n<p>Write a function:</p>\n\n<pre><code>class Solution { public int[] solution(String S, int[] P, int[] Q); } \n</code></pre>\n\n<p>that, given a non-empty zero-indexed string S consisting of N characters and two non-empty zero-indexed arrays P and Q consisting of M integers, returns an array consisting of M characters specifying the consecutive answers to all queries.</p>\n\n<p>The sequence should be returned as:</p>\n\n<pre><code>    a Results structure (in C), or\n    a vector of integers (in C++), or\n    a Results record (in Pascal), or\n    an array of integers (in any other programming language).\n</code></pre>\n\n<p>For example, given the string S = GACACCATA and arrays P, Q such that:</p>\n\n<pre><code>P[0] = 0    Q[0] = 8\nP[1] = 0    Q[1] = 2\nP[2] = 4    Q[2] = 5\nP[3] = 7    Q[3] = 7\n</code></pre>\n\n<p>the function should return the values [1, 1, 2, 4], as explained above.</p>\n\n<p>Assume that:</p>\n\n<pre><code>    N is an integer within the range [1..100,000];\n    M is an integer within the range [1..50,000];\n    each element of array P, Q is an integer within the range [0..N − 1];\n    P[i] ≤ Q[i];\n    string S consists only of upper-case English letters A, C, G, T.\n</code></pre>\n\n<p>Complexity:</p>\n\n<pre><code>    expected worst-case time complexity is O(N+M);\n    expected worst-case space complexity is O(N), \n         beyond input storage \n         (not counting the storage required for input arguments).\n</code></pre>\n\n<p>Elements of input arrays can be modified.</p>\n\n<p><strong>My solution is:</strong></p>\n\n<pre><code>class Solution {\n    public int[] solution(String S, int[] P, int[] Q) {\n        final  char c[] = S.toCharArray();\n        final int answer[] = new int[P.length];\n        int tempAnswer;\n        char tempC;\n\n        for (int iii = 0; iii &lt; P.length; iii++) {\n            tempAnswer = 4;\n            for (int zzz = P[iii]; zzz &lt;= Q[iii]; zzz++) {\n                tempC = c[zzz];\n                if (tempC == 'A') {\n                    tempAnswer = 1;\n                    break;\n                } else if (tempC == 'C') {\n                    if (tempAnswer &gt; 2) {\n                        tempAnswer = 2;\n                    }\n                } else if (tempC == 'G') {\n                    if (tempAnswer &gt; 3) {\n                        tempAnswer = 3;\n                    }\n\n                }\n            }\n            answer[iii] = tempAnswer;\n        }\n\n        return answer;\n    }\n}\n</code></pre>\n\n<p>It is not optimal, I believe it's supposed to be done within one loop, any hint how can I achieve it?</p>\n\n<p>You can check quality of your solution here <a href=\"https://codility.com/train/\" rel=\"noreferrer\">https://codility.com/train/</a> test name is Genomic-range-query.</p>\n"},{"tags":["java","android","react-native","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":14382069,"reputation":31,"user_id":10388981,"display_name":"Yang Kang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677840775,"creation_date":1677840775,"answer_id":75626128,"question_id":75626057,"body_markdown":"Looks like a gradle version compatibility issue.\r\n\r\nYou can try to upgrade the kotlin version to 1.8(Modify in build.gradle).\r\n\r\nOr downgrade the gradle version to below 7.6(Modify in project/gradle/gradle-wrapper.properties).\r\n\r\nSee more about gradle version compatibility：\r\nhttps://docs.gradle.org/current/userguide/compatibility.html#kotlin","title":"Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle","body":"<p>Looks like a gradle version compatibility issue.</p>\n<p>You can try to upgrade the kotlin version to 1.8(Modify in build.gradle).</p>\n<p>Or downgrade the gradle version to below 7.6(Modify in project/gradle/gradle-wrapper.properties).</p>\n<p>See more about gradle version compatibility：\n<a href=\"https://docs.gradle.org/current/userguide/compatibility.html#kotlin\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html#kotlin</a></p>\n"},{"tags":[],"owner":{"account_id":27598423,"reputation":11,"user_id":21064148,"display_name":"Ezinne Nnabugwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688126615,"creation_date":1687860948,"answer_id":76563854,"question_id":75626057,"body_markdown":"update the the kotlin version\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.8.0&#39;\r\n```","title":"Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle","body":"<p>update the the kotlin version</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.0'\n</code></pre>\n"}],"owner":{"account_id":22542530,"reputation":111,"user_id":16732933,"display_name":"Rohan Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3117,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1688126615,"creation_date":1677840318,"question_id":75626057,"body_markdown":"I am getting kotlin version incompatibility issue. I had made changes to my project level build.gradle file then also the issue persist.\r\n\r\nI am getting the following error after Gradle sync:\r\nC:/Users/ADMIN/.gradle/caches/8.0.1/generated-gradle-jars/gradle-api-8.0.1.jar!/META-INF/configuration-cache.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n\r\nbuild.gradle\r\n\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;31.0.0&quot;\r\n            minSdkVersion = 24\r\n            compileSdkVersion = 31\r\n            kotlinVersion = &quot;1.6.0&quot;\r\n            targetSdkVersion = 31\r\n            googlePlayServicesAuthVersion = &quot;19.2.0&quot;\r\n    \r\n            if (System.properties[&#39;os.arch&#39;] == &quot;aarch64&quot;) {\r\n                // For M1 Users we need to use the NDK 24 which added support for aarch64\r\n                ndkVersion = &quot;24.0.8215888&quot;\r\n            } else {\r\n                // Otherwise we default to the side-by-side NDK version from AGP.\r\n                ndkVersion = &quot;21.4.7075529&quot;\r\n            }\r\n        }\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath(&#39;com.android.tools.build:gradle:7.2.1&#39;)\r\n            classpath &#39;com.google.gms:google-services:4.3.14&#39;\r\n            classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n            classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\r\n            classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            maven {\r\n                url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n            }\r\n            maven {\r\n                url &quot;$rootDir/../node_modules/jsc-android/dist&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://www.jitpack.io&quot;\r\n            }\r\n            mavenCentral {\r\n                content {\r\n                    excludeGroup &quot;com.facebook.react&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Kotlin version issues: The binary version of its metadata is 1.8.0, expected version is 1.6.0. Not working by changing the version in build.gradle","body":"<p>I am getting kotlin version incompatibility issue. I had made changes to my project level build.gradle file then also the issue persist.</p>\n<p>I am getting the following error after Gradle sync:\nC:/Users/ADMIN/.gradle/caches/8.0.1/generated-gradle-jars/gradle-api-8.0.1.jar!/META-INF/configuration-cache.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.</p>\n<p>build.gradle</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;31.0.0&quot;\n        minSdkVersion = 24\n        compileSdkVersion = 31\n        kotlinVersion = &quot;1.6.0&quot;\n        targetSdkVersion = 31\n        googlePlayServicesAuthVersion = &quot;19.2.0&quot;\n\n        if (System.properties['os.arch'] == &quot;aarch64&quot;) {\n            // For M1 Users we need to use the NDK 24 which added support for aarch64\n            ndkVersion = &quot;24.0.8215888&quot;\n        } else {\n            // Otherwise we default to the side-by-side NDK version from AGP.\n            ndkVersion = &quot;21.4.7075529&quot;\n        }\n    }\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath('com.android.tools.build:gradle:7.2.1')\n        classpath 'com.google.gms:google-services:4.3.14'\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n        classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\n        classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        maven {\n            url &quot;$rootDir/../node_modules/react-native/android&quot;\n        }\n        maven {\n            url &quot;$rootDir/../node_modules/jsc-android/dist&quot;\n        }\n        maven {\n            url &quot;https://www.jitpack.io&quot;\n        }\n        mavenCentral {\n            content {\n                excludeGroup &quot;com.facebook.react&quot;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","image","pdf","extract","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1688131069,"post_id":76588746,"comment_id":135036660,"body_markdown":"That&#39;s because of the mask that is larger and is evaluated when the BufferedImage is requested. Download PDFDebugger and look at the images, at the first page, go to `Resources/XObject/CL/Mask`.","body":"That&#39;s because of the mask that is larger and is evaluated when the BufferedImage is requested. Download PDFDebugger and look at the images, at the first page, go to <code>Resources&#47;XObject&#47;CL&#47;Mask</code>."}],"owner":{"account_id":24745997,"reputation":31,"user_id":18632162,"display_name":"tumuyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688126548,"creation_date":1688126548,"question_id":76588746,"body_markdown":"When I use pdfbox to extract jpeg 2000 image from a book, I found the BufferImage and ImageXObject have different resolution.\r\n\r\nThe pdf file: https://drive.google.com/file/d/1yAfTFeAz6bfrcQOAEEm5MFMuPpM-zSa_/view?usp=sharing\r\n\r\ncode to print resolution\r\n```\r\n    static boolean savePDImage(String name, PDImageXObject image) throws Exception {\r\n        if (null != image &amp;&amp; null != image.getImage()) {\r\n\r\n            BufferedImage bufferImage = image.getImage();\r\n            String rawSuffix = image.getSuffix().toLowerCase();\r\n            String suffix = image.getSuffix().toLowerCase();\r\n            File imgFile = new File(name + &quot;.&quot; + rawSuffix);\r\n\r\n            System.out.println(String.format(&quot;BufferImage %dx%d, \\tImageXObject %dx%d&quot;\r\n                        , bufferImage.getWidth(), bufferImage.getHeight(), image.getWidth(), image.getHeight()));\r\n            return true;\r\n            }\r\n    return false;\r\n    }\r\n```\r\n\r\nthe console print\r\n\r\n```\r\nBufferImage 983x1336, \tImageXObject 983x1336\r\nBufferImage 1965x2672, \tImageXObject 491x668\r\nBufferImage 980x1334, \tImageXObject 980x1334\r\nBufferImage 1959x2668, \tImageXObject 490x667\r\nBufferImage 274x218, \tImageXObject 274x218\r\nBufferImage 98x134, \tImageXObject 98x134\r\nBufferImage 180x224, \tImageXObject 180x224\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 958x1328, \tImageXObject 958x1328\r\nBufferImage 1923x2665, \tImageXObject 479x664\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 731x60, \tImageXObject 731x60\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\nBufferImage 1914x2659, \tImageXObject 477x662\r\nBufferImage 954x1325, \tImageXObject 954x1325\r\n```\r\n\r\nSo why the resolution is different and how to extract the image with ImageXObject resolution?\r\n\r\nI think I could use `bufferImage.getScaledInstance( image.getWidth(), image.getHeight(), Image.SCALE_SMOOTH)`, but it is not a good idea.","title":"In pdfbox, why does BufferImage and ImageXObject have different resolution","body":"<p>When I use pdfbox to extract jpeg 2000 image from a book, I found the BufferImage and ImageXObject have different resolution.</p>\n<p>The pdf file: <a href=\"https://drive.google.com/file/d/1yAfTFeAz6bfrcQOAEEm5MFMuPpM-zSa_/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1yAfTFeAz6bfrcQOAEEm5MFMuPpM-zSa_/view?usp=sharing</a></p>\n<p>code to print resolution</p>\n<pre><code>    static boolean savePDImage(String name, PDImageXObject image) throws Exception {\n        if (null != image &amp;&amp; null != image.getImage()) {\n\n            BufferedImage bufferImage = image.getImage();\n            String rawSuffix = image.getSuffix().toLowerCase();\n            String suffix = image.getSuffix().toLowerCase();\n            File imgFile = new File(name + &quot;.&quot; + rawSuffix);\n\n            System.out.println(String.format(&quot;BufferImage %dx%d, \\tImageXObject %dx%d&quot;\n                        , bufferImage.getWidth(), bufferImage.getHeight(), image.getWidth(), image.getHeight()));\n            return true;\n            }\n    return false;\n    }\n</code></pre>\n<p>the console print</p>\n<pre><code>BufferImage 983x1336,   ImageXObject 983x1336\nBufferImage 1965x2672,  ImageXObject 491x668\nBufferImage 980x1334,   ImageXObject 980x1334\nBufferImage 1959x2668,  ImageXObject 490x667\nBufferImage 274x218,    ImageXObject 274x218\nBufferImage 98x134,     ImageXObject 98x134\nBufferImage 180x224,    ImageXObject 180x224\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 958x1328,   ImageXObject 958x1328\nBufferImage 1923x2665,  ImageXObject 479x664\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 731x60,     ImageXObject 731x60\nBufferImage 954x1325,   ImageXObject 954x1325\nBufferImage 1914x2659,  ImageXObject 477x662\nBufferImage 954x1325,   ImageXObject 954x1325\n</code></pre>\n<p>So why the resolution is different and how to extract the image with ImageXObject resolution?</p>\n<p>I think I could use <code>bufferImage.getScaledInstance( image.getWidth(), image.getHeight(), Image.SCALE_SMOOTH)</code>, but it is not a good idea.</p>\n"},{"tags":["java","spring-boot","upgrade"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688117355,"post_id":76587652,"comment_id":135033808,"body_markdown":"Did you rebuild after upgrade to 17?","body":"Did you rebuild after upgrade to 17?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688117496,"post_id":76587652,"comment_id":135033841,"body_markdown":"Did you look at the stack trace and figure out what it is that causes the crash?","body":"Did you look at the stack trace and figure out what it is that causes the crash?"},{"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"score":0,"creation_date":1688119355,"post_id":76587652,"comment_id":135034220,"body_markdown":"I made mvn clean install -DskipTests and everything was ok with it, I&#39;ll try to check the stack trace","body":"I made mvn clean install -DskipTests and everything was ok with it, I&#39;ll try to check the stack trace"},{"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"score":0,"creation_date":1688126481,"post_id":76587652,"comment_id":135035625,"body_markdown":"Now it&#39;s ok, I had an old version of Spring..","body":"Now it&#39;s ok, I had an old version of Spring.."}],"answers":[{"comments":[{"owner":{"account_id":8597210,"reputation":1368,"user_id":6439899,"display_name":"Coding thermodynamist"},"score":0,"creation_date":1688127994,"post_id":76588745,"comment_id":135035944,"body_markdown":"That is not true, Spring Boot 3.x.x needs Java 17","body":"That is not true, Spring Boot 3.x.x needs Java 17"}],"tags":[],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688126535,"creation_date":1688126535,"answer_id":76588745,"question_id":76587652,"body_markdown":"Java 17 needs Spring Boot 3.x.x","title":"Java HotSpot(TM) problem after changing java version from 8 to 17","body":"<p>Java 17 needs Spring Boot 3.x.x</p>\n"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688126535,"creation_date":1688117188,"question_id":76587652,"body_markdown":"during running project after upgrade from java 8 to java 17 the first line is red text:\r\n&quot;Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.&quot;\r\n\r\nAfter that I have got standard start with the logo of spring and next an exception &quot;java.lang.IllegalStateException: Cannot load configuration class: com.globema.geoplatform.mapservices.auth.AuthenticationServerApplication\r\n[...]\r\nCaused by: java.lang.ExceptionInInitializerError: null&quot;\r\n\r\nDoes anyone know the way to resolve it? ","title":"Java HotSpot(TM) problem after changing java version from 8 to 17","body":"<p>during running project after upgrade from java 8 to java 17 the first line is red text:\n&quot;Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.&quot;</p>\n<p>After that I have got standard start with the logo of spring and next an exception &quot;java.lang.IllegalStateException: Cannot load configuration class: com.globema.geoplatform.mapservices.auth.AuthenticationServerApplication\n[...]\nCaused by: java.lang.ExceptionInInitializerError: null&quot;</p>\n<p>Does anyone know the way to resolve it?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687875545,"post_id":76565734,"comment_id":134996159,"body_markdown":"What are you using to test the api? Postman?","body":"What are you using to test the api? Postman?"},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1687875731,"post_id":76565734,"comment_id":134996217,"body_markdown":"I have tested with both Postman and with a normal .http file.","body":"I have tested with both Postman and with a normal .http file."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687875808,"post_id":76565734,"comment_id":134996241,"body_markdown":"Try adding @EnableWebSecurity annotation on security config class","body":"Try adding @EnableWebSecurity annotation on security config class"},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1687876216,"post_id":76565734,"comment_id":134996336,"body_markdown":"I have added it, but it did not solve the issue.","body":"I have added it, but it did not solve the issue."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687876236,"post_id":76565734,"comment_id":134996340,"body_markdown":"Disable CSRF, or make sure your token is included in your post request.","body":"Disable CSRF, or make sure your token is included in your post request."},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1688026865,"post_id":76565734,"comment_id":135019380,"body_markdown":"I have disabled csrf in the SecurityConfig, did not fix the issue. Updated original post.","body":"I have disabled csrf in the SecurityConfig, did not fix the issue. Updated original post."}],"answers":[{"comments":[{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":1,"creation_date":1687875382,"post_id":76565761,"comment_id":134996131,"body_markdown":"In Spring Boot 3 and upwards, authorizeRequests is deprecated and therefore I had to find a workaround, which ended up being authorizeHttpRequests and the use of requestMatchers instead of antMatchers or mvcMatchers.\n\nI have tried using antMatchers prior but I am being told that cannot be resolved by my IDE.","body":"In Spring Boot 3 and upwards, authorizeRequests is deprecated and therefore I had to find a workaround, which ended up being authorizeHttpRequests and the use of requestMatchers instead of antMatchers or mvcMatchers.  I have tried using antMatchers prior but I am being told that cannot be resolved by my IDE."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687875763,"post_id":76565761,"comment_id":134996225,"body_markdown":"I see, thanks for the addition. It would be great if you could update the original post with a mention of the version you are using, to avoid misunderstandings","body":"I see, thanks for the addition. It would be great if you could update the original post with a mention of the version you are using, to avoid misunderstandings"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687875919,"post_id":76565761,"comment_id":134996267,"body_markdown":"Have you enabled web security in your project?","body":"Have you enabled web security in your project?"},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1687875941,"post_id":76565761,"comment_id":134996274,"body_markdown":"changed the original post, completely forgot about the version for some reason.","body":"changed the original post, completely forgot about the version for some reason."},{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1687876010,"post_id":76565761,"comment_id":134996291,"body_markdown":"yes, I&#39;ve installed the spring-boot-starter-security and have enabled Web Security in the Application Class.","body":"yes, I&#39;ve installed the spring-boot-starter-security and have enabled Web Security in the Application Class."}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687875132,"creation_date":1687875132,"answer_id":76565761,"question_id":76565734,"body_markdown":"You might use `antMatchers` instead:\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests(requests -&gt; requests\r\n                        .antMatchers(&quot;/users&quot;).permitAll()\r\n                        .antMatchers(&quot;/test&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n`requestMatchers` is used when you need some complex matching based on other request conditions like headers, parameters, etc., when `antMatchers` is used to match on the basis of ant-like path patterns","title":"Getting 404 Error when accessing endpoints in Spring Boot application","body":"<p>You might use <code>antMatchers</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(requests -&gt; requests\n                        .antMatchers(&quot;/users&quot;).permitAll()\n                        .antMatchers(&quot;/test&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(Customizer.withDefaults());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p><code>requestMatchers</code> is used when you need some complex matching based on other request conditions like headers, parameters, etc., when <code>antMatchers</code> is used to match on the basis of ant-like path patterns</p>\n"},{"comments":[{"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"score":0,"creation_date":1688026847,"post_id":76578409,"comment_id":135019374,"body_markdown":"I have already added the annotation to the SecurityConfig while trying to fix the issue, i still receive a 401 Unauthorized error. Updated original post.","body":"I have already added the annotation to the SecurityConfig while trying to fix the issue, i still receive a 401 Unauthorized error. Updated original post."}],"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1688018639,"creation_date":1688018639,"answer_id":76578409,"question_id":76565734,"body_markdown":"Put the below annotation on security config : \r\n\r\n    @EnableWebSecurity   \r\n\r\n\r\nFor more about spring boot 3, you can visit the below official spring site\r\n\r\n https://spring.io/guides/gs/securing-web/","title":"Getting 404 Error when accessing endpoints in Spring Boot application","body":"<p>Put the below annotation on security config :</p>\n<pre><code>@EnableWebSecurity   \n</code></pre>\n<p>For more about spring boot 3, you can visit the below official spring site</p>\n<p><a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/securing-web/</a></p>\n"}],"owner":{"account_id":26048921,"reputation":1,"user_id":19752515,"display_name":"Kaquya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688126483,"creation_date":1687874922,"question_id":76565734,"body_markdown":"I have a Spring Boot application where I&#39;m trying to create REST endpoints. However, when I try to access the `/users` or `/test` endpoints, I receive a 404 error. I suspect the issue might be related to the component scanning configuration and the use of `@ComponentScan` annotation.\r\n\r\nHere&#39;s an overview of my project structure and code:\r\n\r\n\r\n**BackendApplication**\r\n```\r\n@SpringBootApplication\r\n@EnableWebSecurity\r\n@ComponentScan(basePackages = {&quot;com.kaquya.backend.configs&quot;})\r\npublic class BackendApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackendApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n**UserController**\r\n```\r\n@RestController\r\npublic class UserController {\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(value = &quot;/users&quot;)\r\n    public User createUser(@RequestBody User user) {\r\n        return userService.register(user.getUsername(), user.getPassword(), user.getEmail());\r\n    }\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String testEndpoint() {\r\n        return &quot;this is a test endpoint&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**UserService**\r\n```\r\n@Service\r\npublic class UserService {\r\n    private final UserExtractor userExtractor;\r\n    private final UserRepository userRepository;\r\n\r\n    public UserService(UserRepository userRepository, UserExtractor userExtractor) {\r\n        this.userRepository = userRepository;\r\n        this.userExtractor = userExtractor;\r\n    }\r\n\r\n    public User register(String username, String password, String email) {\r\n        User existingUser = userExtractor.findByUsername(username);\r\n\r\n        if(existingUser != null) {\r\n            throw new RuntimeException(&quot;Username already exists&quot;);\r\n        }\r\n\r\n        User user = new User();\r\n        user.setUsername(username);\r\n        user.setPassword(password);\r\n        user.setEmail(email);\r\n\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\n**UserExtractor**\r\n```\r\n@Repository\r\npublic interface UserExtractor {\r\n    User findByUsername(String username);\r\n}\r\n```\r\n\r\n**UserRepository**\r\n```\r\n@Repository\r\npublic interface UserRepository {\r\n    User save(User user);\r\n}\r\n```\r\n\r\n**UserRepositoryImpl**\r\n```\r\n@Repository\r\npublic class UserRepositoryImpl implements UserRepository {\r\n    private final JdbcTemplate jdbcTemplate;\r\n\r\n    @Value(&quot;${queries.insertUser}&quot;)\r\n    private String insertUserQuery;\r\n\r\n    public UserRepositoryImpl(JdbcTemplate jdbcTemplate) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n\r\n    @Override\r\n    public User save(User user) {\r\n        String hashedPassword = PasswordHasherService.hashPassword(user.getPassword());\r\n\r\n        jdbcTemplate.update(\r\n                insertUserQuery,\r\n                user.getUsername(),\r\n                hashedPassword,\r\n                user.getEmail()\r\n        );\r\n\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\n**PropertyConfig**\r\n```\r\n@Configuration\r\npublic class PropertyConfig {\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\r\n        configurer.setLocation(new ClassPathResource(&quot;queries/user_queries.xml&quot;));\r\n        return configurer;\r\n    }\r\n}\r\n```\r\n\r\n**SecurityConfig**\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .anyRequest().permitAll()\r\n                )\r\n                .csrf(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nI suspect that the issue might be related to the `@ComponentScan` annotation in the `BackendApplication` class. Currently, it scans only the `&quot;com.kaquya.backend.configs&quot;` package, which means other components might be ignored. However, when I try to add additional packages to the `@ComponentScan` annotation, I encounter errors related to the queries defined in the `PropertyConfig` class.\r\n\r\nI&#39;m using Java Spring Boot v3.1.1, and I&#39;m aware that certain things like `mvcMatchers`, `antMatchers`, `WebSecurityConfigurerAdapter`, and `authorizeRequests` have been deprecated or removed.\r\n\r\nCould you please help me identify the issue and suggest a solution to resolve the 404 error and properly configure component scanning in my Spring Boot application?","title":"Getting 404 Error when accessing endpoints in Spring Boot application","body":"<p>I have a Spring Boot application where I'm trying to create REST endpoints. However, when I try to access the <code>/users</code> or <code>/test</code> endpoints, I receive a 404 error. I suspect the issue might be related to the component scanning configuration and the use of <code>@ComponentScan</code> annotation.</p>\n<p>Here's an overview of my project structure and code:</p>\n<p><strong>BackendApplication</strong></p>\n<pre><code>@SpringBootApplication\n@EnableWebSecurity\n@ComponentScan(basePackages = {&quot;com.kaquya.backend.configs&quot;})\npublic class BackendApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>UserController</strong></p>\n<pre><code>@RestController\npublic class UserController {\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(value = &quot;/users&quot;)\n    public User createUser(@RequestBody User user) {\n        return userService.register(user.getUsername(), user.getPassword(), user.getEmail());\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String testEndpoint() {\n        return &quot;this is a test endpoint&quot;;\n    }\n}\n</code></pre>\n<p><strong>UserService</strong></p>\n<pre><code>@Service\npublic class UserService {\n    private final UserExtractor userExtractor;\n    private final UserRepository userRepository;\n\n    public UserService(UserRepository userRepository, UserExtractor userExtractor) {\n        this.userRepository = userRepository;\n        this.userExtractor = userExtractor;\n    }\n\n    public User register(String username, String password, String email) {\n        User existingUser = userExtractor.findByUsername(username);\n\n        if(existingUser != null) {\n            throw new RuntimeException(&quot;Username already exists&quot;);\n        }\n\n        User user = new User();\n        user.setUsername(username);\n        user.setPassword(password);\n        user.setEmail(email);\n\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<p><strong>UserExtractor</strong></p>\n<pre><code>@Repository\npublic interface UserExtractor {\n    User findByUsername(String username);\n}\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>@Repository\npublic interface UserRepository {\n    User save(User user);\n}\n</code></pre>\n<p><strong>UserRepositoryImpl</strong></p>\n<pre><code>@Repository\npublic class UserRepositoryImpl implements UserRepository {\n    private final JdbcTemplate jdbcTemplate;\n\n    @Value(&quot;${queries.insertUser}&quot;)\n    private String insertUserQuery;\n\n    public UserRepositoryImpl(JdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    @Override\n    public User save(User user) {\n        String hashedPassword = PasswordHasherService.hashPassword(user.getPassword());\n\n        jdbcTemplate.update(\n                insertUserQuery,\n                user.getUsername(),\n                hashedPassword,\n                user.getEmail()\n        );\n\n        return user;\n    }\n}\n</code></pre>\n<p><strong>PropertyConfig</strong></p>\n<pre><code>@Configuration\npublic class PropertyConfig {\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\n        configurer.setLocation(new ClassPathResource(&quot;queries/user_queries.xml&quot;));\n        return configurer;\n    }\n}\n</code></pre>\n<p><strong>SecurityConfig</strong></p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .anyRequest().permitAll()\n                )\n                .csrf(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>I suspect that the issue might be related to the <code>@ComponentScan</code> annotation in the <code>BackendApplication</code> class. Currently, it scans only the <code>&quot;com.kaquya.backend.configs&quot;</code> package, which means other components might be ignored. However, when I try to add additional packages to the <code>@ComponentScan</code> annotation, I encounter errors related to the queries defined in the <code>PropertyConfig</code> class.</p>\n<p>I'm using Java Spring Boot v3.1.1, and I'm aware that certain things like <code>mvcMatchers</code>, <code>antMatchers</code>, <code>WebSecurityConfigurerAdapter</code>, and <code>authorizeRequests</code> have been deprecated or removed.</p>\n<p>Could you please help me identify the issue and suggest a solution to resolve the 404 error and properly configure component scanning in my Spring Boot application?</p>\n"},{"tags":["java","microsoft-exchange"],"comments":[{"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"score":0,"creation_date":1687269205,"post_id":73932408,"comment_id":134910921,"body_markdown":"What is the type of `recipientsList` ? Is it a `String` or an [`EmailAddress`](http://officedev.github.io/ews-java-api/docs/releases/api-2.0/apidocs/microsoft/exchange/webservices/data/property/complex/EmailAddress.html) ?","body":"What is the type of <code>recipientsList</code> ? Is it a <code>String</code> or an <a href=\"http://officedev.github.io/ews-java-api/docs/releases/api-2.0/apidocs/microsoft/exchange/webservices/data/property/complex/EmailAddress.html\" rel=\"nofollow noreferrer\"><code>EmailAddress</code></a> ?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687460430,"post_id":76515264,"comment_id":134943790,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76515264/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27477815,"reputation":16,"user_id":20965489,"display_name":"Primycha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688126163,"creation_date":1687267799,"answer_id":76515264,"question_id":73932408,"body_markdown":"If you have an array of recipients you should be able to loop that array and call the .add every time. \r\nIf getToRecipient implements .addrange then you should be able to just pass the array to .addrange. \r\n\r\nYou can try this: \r\n````\r\nExchangeService service = new ExchangeService();\r\nWebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\r\nservice.setCredentials((ExchangeCredentials) webCredentials);\r\nservice.setUrl(new URI(&quot;https://webmail.com&quot;));\r\ntry {\r\n    StringBuilder strBldr = new StringBuilder();\r\n    strBldr.append(converStringToUrlDecoded(bodyMail));\r\n    EmailMessage message = new EmailMessage(service);\r\n    message.setSubject(converStringToUrlDecoded(subject));\r\n    message.setBody(new MessageBody(strBldr.toString()));\r\n\r\n    foreach(var r in recipientsList){\r\n        message.getToRecipients().add(r);\r\n    }\r\n        \r\n    message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\r\n    message.sendAndSaveCopy();\r\n} \r\ncatch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\nSystem.out.println(&quot;message sent&quot;);\r\n````\r\n\r\nOptionally if message.getToRecipients() implements the AddRange() method try this (replace the foreach loop with below):\r\n````\r\nmessage.getToRecipients().addRange(recipientsList);\r\n````","title":"Multiple Recipients using Microsoft exchange","body":"<p>If you have an array of recipients you should be able to loop that array and call the .add every time.\nIf getToRecipient implements .addrange then you should be able to just pass the array to .addrange.</p>\n<p>You can try this:</p>\n<pre><code>ExchangeService service = new ExchangeService();\nWebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\nservice.setCredentials((ExchangeCredentials) webCredentials);\nservice.setUrl(new URI(&quot;https://webmail.com&quot;));\ntry {\n    StringBuilder strBldr = new StringBuilder();\n    strBldr.append(converStringToUrlDecoded(bodyMail));\n    EmailMessage message = new EmailMessage(service);\n    message.setSubject(converStringToUrlDecoded(subject));\n    message.setBody(new MessageBody(strBldr.toString()));\n\n    foreach(var r in recipientsList){\n        message.getToRecipients().add(r);\n    }\n        \n    message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\n    message.sendAndSaveCopy();\n} \ncatch (Exception e) {\n    e.printStackTrace();\n}\nSystem.out.println(&quot;message sent&quot;);\n</code></pre>\n<p>Optionally if message.getToRecipients() implements the AddRange() method try this (replace the foreach loop with below):</p>\n<pre><code>message.getToRecipients().addRange(recipientsList);\n</code></pre>\n"}],"owner":{"account_id":13039357,"reputation":9,"user_id":9423213,"display_name":"Sekti Andarbeni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76515264,"answer_count":1,"score":0,"last_activity_date":1688126163,"creation_date":1664782789,"question_id":73932408,"body_markdown":"I was Success to sending email using Microsoft exchange, but it just 1 Recipient.\r\nI want to try send multiple Recipients.\r\n\r\n    ExchangeService service = new ExchangeService();\r\n        WebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\r\n        service.setCredentials((ExchangeCredentials) webCredentials);\r\n        service.setUrl(new URI(&quot;https://webmail.com&quot;));\r\n        try {\r\n            StringBuilder strBldr = new StringBuilder();\r\n            strBldr.append(converStringToUrlDecoded(bodyMail));\r\n            EmailMessage message = new EmailMessage(service);\r\n            message.setSubject(converStringToUrlDecoded(subject));\r\n            message.setBody(new MessageBody(strBldr.toString()));\r\n            message.getToRecipients().add(recipientsList);\r\n            message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\r\n            message.sendAndSaveCopy();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;message sent&quot;);\r\n\r\nThis is my code with single recipient.","title":"Multiple Recipients using Microsoft exchange","body":"<p>I was Success to sending email using Microsoft exchange, but it just 1 Recipient.\nI want to try send multiple Recipients.</p>\n<pre><code>ExchangeService service = new ExchangeService();\n    WebCredentials webCredentials = new WebCredentials(&quot;xxx&quot;, &quot;xxx&quot;, &quot;xxx&quot;);\n    service.setCredentials((ExchangeCredentials) webCredentials);\n    service.setUrl(new URI(&quot;https://webmail.com&quot;));\n    try {\n        StringBuilder strBldr = new StringBuilder();\n        strBldr.append(converStringToUrlDecoded(bodyMail));\n        EmailMessage message = new EmailMessage(service);\n        message.setSubject(converStringToUrlDecoded(subject));\n        message.setBody(new MessageBody(strBldr.toString()));\n        message.getToRecipients().add(recipientsList);\n        message.setIsDeliveryReceiptRequested(Boolean.valueOf(true));\n        message.sendAndSaveCopy();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;message sent&quot;);\n</code></pre>\n<p>This is my code with single recipient.</p>\n"},{"tags":["java","spring","hibernate-4.x"],"comments":[{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":0,"creation_date":1407847381,"post_id":25262577,"comment_id":39365654,"body_markdown":"It seems that [here](http://stackoverflow.com/questions/4530572/org-hibernate-mappingexception-unknown-entity) they have already solved the problem","body":"It seems that <a href=\"http://stackoverflow.com/questions/4530572/org-hibernate-mappingexception-unknown-entity\">here</a> they have already solved the problem"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643473848,"post_id":25262577,"comment_id":125351488,"body_markdown":"A related question: [java - How to save multiple objects via ArrayList in hibernate?](https://stackoverflow.com/questions/38923108/how-to-save-multiple-objects-via-arraylist-in-hibernate).","body":"A related question: <a href=\"https://stackoverflow.com/questions/38923108/how-to-save-multiple-objects-via-arraylist-in-hibernate\">java - How to save multiple objects via ArrayList in hibernate?</a>."}],"answers":[{"tags":[],"owner":{"account_id":2600348,"reputation":1327,"user_id":2252938,"accept_rate":83,"display_name":"Maas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407841492,"creation_date":1407841492,"answer_id":25262676,"question_id":25262577,"body_markdown":"You cannot pass a collection of objects to the session object for persisting. As per the [Session javadoc][1], the save accepts a Object of the persistent class\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html#saveOrUpdate(java.lang.Object)\r\n\r\nsee if this answer helps you : https://stackoverflow.com/questions/17083284/hibernate-saveorupdate-large-data","title":"org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList;","body":"<p>You cannot pass a collection of objects to the session object for persisting. As per the <a href=\"http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html#saveOrUpdate(java.lang.Object)\" rel=\"nofollow noreferrer\">Session javadoc</a>, the save accepts a Object of the persistent class</p>\n\n<p>see if this answer helps you : <a href=\"https://stackoverflow.com/questions/17083284/hibernate-saveorupdate-large-data\">Hibernate saveOrUpdate large data</a></p>\n"}],"owner":{"account_id":2115385,"reputation":71,"user_id":1879835,"accept_rate":20,"display_name":"user1879835"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688125753,"creation_date":1407841155,"question_id":25262577,"body_markdown":"I&#39;ve recently upgraded hibernate version from 3.0 to 4.0 and most of the things were working fine except when I tried to save list of entities. If I save each entity separately I&#39;m not getting any exception but when I try to save the entire list, getting the following exception:   \r\n\r\n&gt; org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList; nested exception is org.hibernate.MappingException: Unknown entity: java.util.ArrayList\r\n\r\ncode:\r\n\r\n    this.getHibernateTemplate().saveOrUpdate(entityObject) // Results in exception\r\n\r\n\r\nSession configuration: \r\n\r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;domain&quot;&gt;\r\n    \t\t&lt;/property&gt;\r\n    \r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${jdbc.dialect}&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nYour help is appreciated. ","title":"org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList;","body":"<p>I've recently upgraded hibernate version from 3.0 to 4.0 and most of the things were working fine except when I tried to save list of entities. If I save each entity separately I'm not getting any exception but when I try to save the entire list, getting the following exception:   </p>\n\n<blockquote>\n  <p>org.springframework.orm.hibernate4.HibernateSystemException: Unknown entity: java.util.ArrayList; nested exception is org.hibernate.MappingException: Unknown entity: java.util.ArrayList</p>\n</blockquote>\n\n<p>code:</p>\n\n<pre><code>this.getHibernateTemplate().saveOrUpdate(entityObject) // Results in exception\n</code></pre>\n\n<p>Session configuration: </p>\n\n<pre><code>&lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n            &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n            &lt;property name=\"packagesToScan\" value=\"domain\"&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;${jdbc.dialect}&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Your help is appreciated. </p>\n"},{"tags":["java","string","hex"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1393256253,"post_id":21992023,"comment_id":33329015,"body_markdown":"Could you provide an example of input and expected results? Are there any limitations like string length? I suspect that `matches(regex)` can help.","body":"Could you provide an example of input and expected results? Are there any limitations like string length? I suspect that <code>matches(regex)</code> can help."},{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1393256295,"post_id":21992023,"comment_id":33329041,"body_markdown":"You should have a look at String.matches with a regexp checking interval 0-9A-F. This article can help you : http://www.vogella.com/tutorials/JavaRegularExpressions/article.html","body":"You should have a look at String.matches with a regexp checking interval 0-9A-F. This article can help you : <a href=\"http://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/JavaRegularExpressions/article.html</a>"},{"owner":{"account_id":2239498,"reputation":57,"user_id":1974903,"accept_rate":67,"display_name":"Anandhu"},"score":0,"creation_date":1393309128,"post_id":21992023,"comment_id":33354344,"body_markdown":"@Pshemo &quot;O1AG&quot;...this will show an error becouse of the occurence of &#39;G&#39; in the string.","body":"@Pshemo &quot;O1AG&quot;...this will show an error becouse of the occurence of &#39;G&#39; in the string."}],"answers":[{"tags":[],"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1393256633,"creation_date":1393256190,"answer_id":21992102,"question_id":21992023,"body_markdown":"\r\n    try\r\n    {\r\n        String hex = &quot;AAA&quot;\r\n        int value = Integer.parseInt(hex, 16);  \r\n        System.out.println(&quot;valid hex);\r\n     }\r\n     catch(NumberFormatException nfe)\r\n     {\r\n        // not a valid hex\r\n        System.out.println(&quot;not a valid hex);\r\n     }\r\n\r\nThis will throw NumberFormatException if the hex string is invalid.\r\n\r\nRefer the documentation [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29","title":"check hex string contains only hex bounded values","body":"<pre><code>try\n{\n    String hex = \"AAA\"\n    int value = Integer.parseInt(hex, 16);  \n    System.out.println(\"valid hex);\n }\n catch(NumberFormatException nfe)\n {\n    // not a valid hex\n    System.out.println(\"not a valid hex);\n }\n</code></pre>\n\n<p>This will throw NumberFormatException if the hex string is invalid.</p>\n\n<p>Refer the documentation <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\" rel=\"nofollow\">here</a></p>\n"},{"comments":[{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1393256625,"post_id":21992220,"comment_id":33329265,"body_markdown":"Option #2 is really ugly.","body":"Option #2 is really ugly."},{"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"score":0,"creation_date":1393256879,"post_id":21992220,"comment_id":33329432,"body_markdown":"@Julien: what about option #3?","body":"@Julien: what about option #3?"},{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1393257223,"post_id":21992220,"comment_id":33329693,"body_markdown":"Hum, I would suggest to replace option #2 with something like String.matches(&quot;[1-9a-fA-F]+&quot;) (I&#39;m not really sure of the regexp syntax but it should not be far).","body":"Hum, I would suggest to replace option #2 with something like String.matches(&quot;[1-9a-fA-F]+&quot;) (I&#39;m not really sure of the regexp syntax but it should not be far)."},{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1393257415,"post_id":21992220,"comment_id":33329847,"body_markdown":"Option #2 and #3 are awful because of the for loop in fact :) It adds +1 to code complexity and is really slower than any method using regexp.","body":"Option #2 and #3 are awful because of the for loop in fact :) It adds +1 to code complexity and is really slower than any method using regexp."},{"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"score":0,"creation_date":1393257919,"post_id":21992220,"comment_id":33330224,"body_markdown":"@Julien, I replaced them with a slightly &quot;prettier&quot; implementation. However, please note that in **all cases** (including my first option, and including your &quot;regex&quot; suggestion), the complexity depends on the length of the input string. In my previous options 2 and 3, the complexity would be slightly higher if the input string was shorter than 22 characters (all possible hex digits). But the difference is pretty minor, and in general, this question doesn&#39;t look like a complexity-related issue.","body":"@Julien, I replaced them with a slightly &quot;prettier&quot; implementation. However, please note that in <b>all cases</b> (including my first option, and including your &quot;regex&quot; suggestion), the complexity depends on the length of the input string. In my previous options 2 and 3, the complexity would be slightly higher if the input string was shorter than 22 characters (all possible hex digits). But the difference is pretty minor, and in general, this question doesn&#39;t look like a complexity-related issue."}],"tags":[],"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393257755,"creation_date":1393256491,"answer_id":21992220,"question_id":21992023,"body_markdown":"**Given `String str` as your input string:**\r\n\r\nOption #1:\r\n\r\n    public static boolean isHex(String str)\r\n    {\r\n        try\r\n        {\r\n            int val = Integer.parseInt(str,16);\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nOption #2:\r\n\r\n    private static boolean[] hash = new boolean[Character.MAX_VALUE];\r\n    static // Runs once\r\n    {\r\n        for (int i=0; i&lt;hash.length; i++)\r\n            hash[i] = false;\r\n        for (char c : &quot;0123456789ABCDEFabcdef&quot;.toCharArray())\r\n            hash[c] = true;\r\n    }\r\n    public static boolean isHex(String str)\r\n    {\r\n        for (char c : str.toCharArray())\r\n            if (!hash[c])\r\n                return false;\r\n        return true;\r\n    }\r\n","title":"check hex string contains only hex bounded values","body":"<p><strong>Given <code>String str</code> as your input string:</strong></p>\n\n<p>Option #1:</p>\n\n<pre><code>public static boolean isHex(String str)\n{\n    try\n    {\n        int val = Integer.parseInt(str,16);\n    }\n    catch (Exception e)\n    {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>Option #2:</p>\n\n<pre><code>private static boolean[] hash = new boolean[Character.MAX_VALUE];\nstatic // Runs once\n{\n    for (int i=0; i&lt;hash.length; i++)\n        hash[i] = false;\n    for (char c : \"0123456789ABCDEFabcdef\".toCharArray())\n        hash[c] = true;\n}\npublic static boolean isHex(String str)\n{\n    for (char c : str.toCharArray())\n        if (!hash[c])\n            return false;\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1393257256,"post_id":21992320,"comment_id":33329727,"body_markdown":"Hex numbers only go up to F, not H :)","body":"Hex numbers only go up to F, not H :)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1393257377,"post_id":21992320,"comment_id":33329819,"body_markdown":"@Julien Woops, wrong side of `g` key :) Thanks, updated.","body":"@Julien Woops, wrong side of <code>g</code> key :) Thanks, updated."}],"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1393257334,"creation_date":1393256761,"answer_id":21992320,"question_id":21992023,"body_markdown":"If you want to check if string contains only 0-9, a-h or A-H you can try using \r\n\r\n    yourString.matches(&quot;[0-9a-fA-F]+&quot;);\r\n\r\n---\r\nTo optimize it you can earlier create `Pattern` \r\n\r\n    Pattern p = Pattern.compile(&quot;[0-9a-fA-F]+&quot;);\r\n\r\nand later reuse it as \r\n\r\n    Matcher m = p.matcher(yourData);\r\n    if (m.matches())\r\n\r\nand even reuse `Matcher` instance with \r\n\r\n    m.reset(newString);\r\n    if (m.matches())\r\n","title":"check hex string contains only hex bounded values","body":"<p>If you want to check if string contains only 0-9, a-h or A-H you can try using </p>\n\n<pre><code>yourString.matches(\"[0-9a-fA-F]+\");\n</code></pre>\n\n<hr>\n\n<p>To optimize it you can earlier create <code>Pattern</code> </p>\n\n<pre><code>Pattern p = Pattern.compile(\"[0-9a-fA-F]+\");\n</code></pre>\n\n<p>and later reuse it as </p>\n\n<pre><code>Matcher m = p.matcher(yourData);\nif (m.matches())\n</code></pre>\n\n<p>and even reuse <code>Matcher</code> instance with </p>\n\n<pre><code>m.reset(newString);\nif (m.matches())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8927637,"reputation":2886,"user_id":6661361,"display_name":"Gerardo Roza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636579622,"creation_date":1636579622,"answer_id":69920433,"question_id":21992023,"body_markdown":"If anyone reached this thread trying to avoid the following exception when parsing a Mongodb ObjectId:\r\n```\r\njava.lang.IllegalArgumentException: invalid hexadecimal representation of an ObjectId: [anInvalidId]\r\n```\r\nThen note [this utility method][1] offered by the mongo-java-driver library:\r\n\r\n```\r\nObjectId.isValid(stringId)\r\n```\r\nRelated thread: \r\n\r\nhttps://stackoverflow.com/questions/66132675/how-to-determine-if-a-string-can-be-used-as-a-mongodb-objectid\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.6/javadoc/org/bson/types/ObjectId.html#isValid-java.lang.String-","title":"check hex string contains only hex bounded values","body":"<p>If anyone reached this thread trying to avoid the following exception when parsing a Mongodb ObjectId:</p>\n<pre><code>java.lang.IllegalArgumentException: invalid hexadecimal representation of an ObjectId: [anInvalidId]\n</code></pre>\n<p>Then note <a href=\"https://mongodb.github.io/mongo-java-driver/3.6/javadoc/org/bson/types/ObjectId.html#isValid-java.lang.String-\" rel=\"nofollow noreferrer\">this utility method</a> offered by the mongo-java-driver library:</p>\n<pre><code>ObjectId.isValid(stringId)\n</code></pre>\n<p>Related thread:</p>\n<p><a href=\"https://stackoverflow.com/questions/66132675/how-to-determine-if-a-string-can-be-used-as-a-mongodb-objectid\">How to determine if a string can be used as a MongoDB ObjectID?</a></p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688125611,"creation_date":1688125611,"answer_id":76588642,"question_id":21992023,"body_markdown":"You can use a switch expression:\r\n\r\n    public static boolean isHex(final String str) {\r\n        return str != null &amp;&amp; \r\n               !str.isEmpty() &amp;&amp; \r\n               str.codePoints()\r\n                  .allMatch((final int codePoint) -&gt; switch (codePoint) {\r\n                case &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;,\r\n                     &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, \r\n                     &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; -&gt; true;\r\n                default -&gt; false;\r\n        });\r\n    }\r\n\r\nThis solution is more efficient than using a regular expression and it doesn&#39;t rely on a try catch.","title":"check hex string contains only hex bounded values","body":"<p>You can use a switch expression:</p>\n<pre><code>public static boolean isHex(final String str) {\n    return str != null &amp;&amp; \n           !str.isEmpty() &amp;&amp; \n           str.codePoints()\n              .allMatch((final int codePoint) -&gt; switch (codePoint) {\n            case '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n                 'A', 'B', 'C', 'D', 'E', 'F', \n                 'a', 'b', 'c', 'd', 'e', 'f' -&gt; true;\n            default -&gt; false;\n    });\n}\n</code></pre>\n<p>This solution is more efficient than using a regular expression and it doesn't rely on a try catch.</p>\n"}],"owner":{"account_id":2239498,"reputation":57,"user_id":1974903,"accept_rate":67,"display_name":"Anandhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10364,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21992102,"answer_count":5,"score":3,"last_activity_date":1688125611,"creation_date":1393255963,"question_id":21992023,"body_markdown":"How to check a given hex string contains only hex number. is there is any simple method or any java library for the same?i have string like &quot;01AF&quot; and i have to check string only contains hex range values,for that what i am doing now is take the string and then split the string and then converted it to appropriate format then make a check for that value.is there is any simple method for that? ","title":"check hex string contains only hex bounded values","body":"<p>How to check a given hex string contains only hex number. is there is any simple method or any java library for the same?i have string like \"01AF\" and i have to check string only contains hex range values,for that what i am doing now is take the string and then split the string and then converted it to appropriate format then make a check for that value.is there is any simple method for that? </p>\n"},{"tags":["java","android","bluetooth-lowenergy","android-ble"],"comments":[{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1688055576,"post_id":76582688,"comment_id":135025633,"body_markdown":"How does your `enableNotifications` method look like?","body":"How does your <code>enableNotifications</code> method look like?"},{"owner":{"account_id":28919707,"reputation":1,"user_id":22150946,"display_name":"TydraoXalys"},"score":0,"creation_date":1688124951,"post_id":76582688,"comment_id":135035337,"body_markdown":"I have added its implementation in the last block of code before the \\[EDIT\\] part.\nThe \\[EDIT\\] part should also be taken into account I think","body":"I have added its implementation in the last block of code before the &#91;EDIT&#93; part. The &#91;EDIT&#93; part should also be taken into account I think"},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1688129334,"post_id":76582688,"comment_id":135036251,"body_markdown":"Does the &quot;old&quot; callback work? Please read https://stackoverflow.com/a/76166525/556495 and the comments to the answer.","body":"Does the &quot;old&quot; callback work? Please read <a href=\"https://stackoverflow.com/a/76166525/556495\">stackoverflow.com/a/76166525/556495</a> and the comments to the answer."},{"owner":{"account_id":28919707,"reputation":1,"user_id":22150946,"display_name":"TydraoXalys"},"score":0,"creation_date":1688133513,"post_id":76582688,"comment_id":135037223,"body_markdown":"I&#39;ve added the &quot;old&quot; callback before trying the Gabeldorsche thing and it only worked when Gabeldorsche was enabled.\n\nHowever, I have changed targeted android sdk in Gradle (31 then 32 then 33 and then the initial one 34) and for some obscure reason everything is fine, callbacks are normally trigger during a write operation...\n\nThank you for the help anyway !","body":"I&#39;ve added the &quot;old&quot; callback before trying the Gabeldorsche thing and it only worked when Gabeldorsche was enabled.  However, I have changed targeted android sdk in Gradle (31 then 32 then 33 and then the initial one 34) and for some obscure reason everything is fine, callbacks are normally trigger during a write operation...  Thank you for the help anyway !"}],"owner":{"account_id":28919707,"reputation":1,"user_id":22150946,"display_name":"TydraoXalys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688125147,"creation_date":1688053804,"question_id":76582688,"body_markdown":"I am writing an Android app that can connect to a BLE device.\r\nThere are multiple types of devices handled by my application and I have to know the type of device I am connecting on.\r\n\r\nThe entire connection process is handle by a Service object and described below:\r\n1. Call of `connectToGatt()` method with the BluetoothDevice object that represent the device I am trying to connect to\r\n2. The `GattCallback.onConnectionStateChanged` is triggered. If the device is already bond, go to 4.\r\n3. Broadcast receiver that handle bond state changes is triggered. If the device is bond, go to 4.\r\n4. Call of `discoverService()` method\r\n5. When Services are discovered, I get my characteristic and enable notifications using CCCD. Consequently, I write to CCCD the activation of notifications.\r\n6. `GattCallback.onDescriptorWrite` is triggered. There I create a command object that aims to get the model number of my device, and add it to a queue of command.\r\n7. A separate thread activated before handle the queue and execute the write operation.\r\n\r\nAnd there my issue:\r\nOn Danew DSlide 1020 Pro under Android 12, `GattCallback.onCharacteristicWrite` is called but `GattCallback.onCharacteristicChanged` is never called (I tested on 3 similar tablets).\r\nHowever, the two callbacks are triggered on my Samsung tablet under Android 13 and I can complete the connection process.\r\n\r\nNotice that on BLE device side, the write operation is successfully executed on both Android devices.\r\n\r\nHere is the code of my service (I only put the relevant stuff i.e the connection process). Notice that sendEvent() is a method to trigger observers of my service (I do not use broadcast on my activities for personnal reasons)\r\n\r\nconnectToGatt method:\r\n```java\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\n    public void connectToGatt(BluetoothDevice device) {\r\n        if (!mIsBleDeviceConnected) {\r\n            this.mBleDevice = device;\r\n            this.mBleDeviceGatt = this.mBleDevice.connectGatt(this, false, this.mBleDeviceGattCallback, BluetoothDevice.TRANSPORT_LE);\r\n        }\r\n    }\r\n```\r\n\r\nGattCallback:\r\n```java\r\nprivate final BluetoothGattCallback mBleDeviceGattCallback = new BluetoothGattCallback() {\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n        super.onConnectionStateChange(gatt, status, newState);\r\n        switch (newState) {\r\n            case BluetoothProfile.STATE_CONNECTED:\r\n                if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                    mIsBleDeviceConnected = true;\r\n                    if (mBleDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\r\n                        Log.d(TAG, &quot;onConnectionStateChange: test&quot;);\r\n                        startThread();  //Start the thread that handles the queue of BLE operations such as write on characteristics\r\n                        mBleDeviceGatt.discoverServices();\r\n                    }\r\n                } else {\r\n                    Log.e(TAG, &quot;onConnectionStateChange: Connection to GATT failed with status &quot;+status);\r\n                    sendEvent(new EventGattConnectionFailed());\r\n                }\r\n                break;\r\n            case BluetoothProfile.STATE_DISCONNECTED:\r\n                // handle disconnection\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n        super.onServicesDiscovered(gatt, status);\r\n        if (status == BluetoothGatt.GATT_SUCCESS) {\r\n            BluetoothGattService service = gatt.getService(Constants.UUID_SERVICE);\r\n            mBleDeviceCharacteristic = service.getCharacteristic(Constants.UUID_CHARACTERISTIC);\r\n            if (mBleDeviceCharacteristic == null) {\r\n                Log.e(TAG, &quot;onServicesDiscovered: The service does not provide characteristic &quot;+Constants.UUID_CHARACTERISTIC.toString());\r\n                sendEvent(new EventGattConnectionFailed());\r\n                mBleDeviceGatt.disconnect();\r\n            } else {\r\n                boolean isNoCccd = enableNotifications(mBleDeviceCharacteristic);\r\n                if (isNoCccd) {\r\n                    Log.e(TAG, &quot;onServicesDiscovered: CCCD not found on characteristic &quot;+mBleDeviceCharacteristic.getUuid());\r\n                    sendEvent(new EventGattConnectionFailed());\r\n                    mBleDeviceGatt.disconnect();\r\n                }\r\n            }\r\n        } else {\r\n            Log.e(TAG, &quot;Service discovery failed with status: &quot; + status);\r\n            sendEvent(new EventGattConnectionFailed());\r\n            mBleDeviceGatt.disconnect();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n        super.onDescriptorWrite(gatt, descriptor, status);\r\n        if (descriptor.getUuid().toString().equals(Constants.UUID_CCCD.toString())) {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                if (descriptor.getValue() == BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE) {\r\n                    addCommandToQueue(new ModelNumberCommand((byte) 0x06,null));\r\n                } else if (descriptor.getValue() == BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE){\r\n                    mBleDeviceGatt.disconnect();\r\n                }\r\n            } else {\r\n                Log.e(TAG, &quot;onDescriptorWrite: Enabling notification process failed with status &quot;+status);\r\n                sendEvent(new EventGattConnectionFailed());\r\n                mBleDeviceGatt.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n        Log.d(TAG, &quot;onCharacteristicWrite: test1 &quot;+status);\r\n        super.onCharacteristicWrite(gatt, characteristic, status);\r\n        try {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                Log.d(TAG, &quot;onCharacteristicWrite: test2&quot;);\r\n                // some unrelevant code for this issue here\r\n            } else {\r\n                if (mDevicesInstance == null) {\r\n                    sendEvent(new EventGattConnectionFailed());\r\n                    Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with status &quot;+status);\r\n                    disconnectFromGatt();\r\n                } else {\r\n                    // some unrelevant code for this issue here\r\n                }\r\n                mBleCommandAwaitedDataSize = 0;\r\n                mBleCommandSemaphore.release();\r\n            }\r\n        } catch (Exception e) {\r\n            if (mDevicesInstance == null) {\r\n                sendEvent(new EventGattConnectionFailed());\r\n                Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with exception &quot;+e);\r\n                disconnectFromGatt();\r\n            } else {\r\n                // some unrelevant code for this issue here\r\n            }\r\n            mBleCommandAwaitedDataSize = 0;\r\n            mBleCommandSemaphore.release();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCharacteristicChanged(@NonNull BluetoothGatt gatt, @NonNull BluetoothGattCharacteristic characteristic, @NonNull byte[] value) {\r\n        Log.d(TAG, &quot;onCharacteristicChanged: test&quot;);\r\n        super.onCharacteristicChanged(gatt, characteristic, value);\r\n        byte[] data;\r\n        if (mBleCommandAwaitedDataSize == 0) {\r\n            mBleCommandAwaitedDataSize = value[1];\r\n            mBleCommandCursor = 0;\r\n            mBleCommandResult = new byte[mBleCommandAwaitedDataSize];\r\n            data = Arrays.copyOfRange(value,2,value.length);\r\n        } else {\r\n            data = value;\r\n        }\r\n        System.arraycopy(data,0,mBleCommandResult,mBleCommandCursor,data.length);\r\n        mBleCommandCursor = mBleCommandCursor+data.length;\r\n        if (mBleCommandCursor &gt;= mBleCommandAwaitedDataSize) {\r\n            if (mDevicesInstance == null) {\r\n                finalizeConnection(mBleCommandResult); // End the connection process\r\n            } else {\r\n                // some unrelevant code for this issue here\r\n            }\r\n            mBleCommandSemaphore.release();\r\n        }\r\n    }\r\n```\r\n\r\nBroadcast receiver that handles bonding state\r\n```java\r\nprivate final BroadcastReceiver mBleDeviceGattReceiver = new BroadcastReceiver() {\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (action.equals(BluetoothDevice.ACTION_BOND_STATE_CHANGED)) {\r\n                int bondState = intent.getIntExtra(BluetoothDevice.EXTRA_BOND_STATE, BluetoothDevice.ERROR);\r\n                switch (bondState) {\r\n                    case BluetoothDevice.BOND_BONDED:\r\n                        mBleServiceInstance.sendEvent(new EventGattBondSuccess());\r\n                        startThread();\r\n                        mBleDeviceGatt.discoverServices();\r\n                        break;\r\n                    case BluetoothDevice.ERROR:\r\n                        Log.e(TAG, &quot;mBleDeviceGattReceiver.onReceive: Device bonding failed.&quot;);\r\n                        sendEvent(new EventGattConnectionFailed());\r\n                        mBleDeviceGatt.disconnect();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\nThread object that handles the queue\r\n```java\r\nprivate class BleCommandExecutor extends Thread {\r\n        private boolean isRunning;\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        @Override\r\n        public void run() {\r\n            while (isRunning) {\r\n                if (!mBleCommandQueue.isEmpty()) {\r\n                    Log.d(TAG, &quot;run: test&quot;);\r\n                    Commands nextCommand = mBleCommandQueue.poll();\r\n                    if (!(nextCommand == null)) {\r\n                        try {\r\n                            mBleCommandSemaphore.acquire();\r\n                            mBleCommandRunning = nextCommand;\r\n                            byte[] payload = mBleCommandRunning.serializeCommand();\r\n                            Log.d(TAG, &quot;run: &quot;+ Arrays.toString(payload));\r\n                            mBleDeviceCharacteristic.setValue(payload);\r\n                            mBleDeviceGatt.writeCharacteristic(mBleDeviceCharacteristic);\r\n                        } catch (InterruptedException e) {\r\n                            Log.e(TAG, &quot;BleCommandExecutor: Exception raised with semaphore: &quot;+e);\r\n                            sendEvent(new EventCommandFailed());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public void setRunningState(boolean newRunningState) {\r\n            this.isRunning = newRunningState;\r\n        }\r\n    }\r\nprivate BleCommandExecutor mBleCommandExecutor;\r\npublic void startThread() {\r\n        this.mBleCommandExecutor = new BleCommandExecutor();\r\n        this.mBleCommandExecutor.setRunningState(true);\r\n        this.mBleCommandExecutor.start();\r\n    }\r\npublic void addCommandToQueue(Commands command) {\r\n        this.mBleCommandQueue.add(command);\r\n    }\r\n```\r\n\r\nenableNotifications() method:\r\n```java\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\n    public boolean enableNotifications(BluetoothGattCharacteristic characteristic) {\r\n        BluetoothGattDescriptor cccd = characteristic.getDescriptor(Constants.UUID_CCCD);\r\n        if (cccd == null) {\r\n            Log.w(TAG, &quot;enableNotifications: CCCD has not been found in the descriptors of the characteristic &quot;+Constants.UUID_CHARACTERISTIC);\r\n            return true;\r\n        }\r\n        if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_NOTIFY) != 0) {\r\n            this.mBleDeviceGatt.setCharacteristicNotification(characteristic, true);\r\n            cccd.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n            this.mBleDeviceGatt.writeDescriptor(cccd);\r\n        }\r\n        return false;\r\n    }\r\n```\r\nAll this code belong to my Service object.\r\n\r\nNote that the command added to the queue (`ModelNumber((byte) 0x06, null)`) is a getter. If the parameter is not `null`, `onCharacteristicChanged` is not triggered (characteristic has `PROPERTY_WRITE_NO_RESPONSE`), that seems to be normal behavior.\r\n\r\nThe exact payload written on BLE device is `[(byte) 0x06, (byte) 0x00]`\r\nAnd the result expected (get from onCharacteristicChanged) is `[(byte) 0x07, (byte) 0x04, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00]`\r\n\r\n\r\nThe tests I have done enables me to ensure that I reach the write operation execution because in all cases, notifications are enabled and then I receive the `onCharacteristicWrite` callback.\r\n\r\n\r\n**[EDIT]**\r\n\r\nI have tested on an Android 11 device and I have the same issue.\r\n\r\nHowever, I discovered an option on Android 11 and 12&#39;s developer mode that is the possibility to use Gabeldorsche, the new Bluetooth Stack that is implemented by default on Android 13+.\r\n\r\nAnd enabling Gabeldorsche on my devices under Android 11 and 12 triggers the &quot;old&quot; `onCharacteristicChanged` callback (see below) when writing on my characteristic.\r\n\r\nThe &quot;old&quot; callback correspond to the one with the following signature and that has been deprecated on API level 33:\r\n```java\r\npublic void onCharacteristicChanged (BluetoothGatt gatt, BluetoothGattCharacteristic characteristic)\r\n```\r\nI implemented this old callback in my code.\r\nIt has exactly the same code as the new callback except an addition of a local variable that replace the `byte[] value` parameter of the new callback:\r\n```java\r\n@Override\r\npublic void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n    super.onCharacteristicChanged(gatt, characteristic);\r\n    byte[] value = characteristic.getValue(); // replace value parameter of the new callback\r\n\r\n    // code of the callback\r\n}\r\n```\r\nThen, I&#39;m looking for a solution that does not need the manual activation of Gabeldorsche.","title":"Android BLE: GattCallback.onCharacteristicChanged is not triggered in response of a write operation on Android 12 and below","body":"<p>I am writing an Android app that can connect to a BLE device.\nThere are multiple types of devices handled by my application and I have to know the type of device I am connecting on.</p>\n<p>The entire connection process is handle by a Service object and described below:</p>\n<ol>\n<li>Call of <code>connectToGatt()</code> method with the BluetoothDevice object that represent the device I am trying to connect to</li>\n<li>The <code>GattCallback.onConnectionStateChanged</code> is triggered. If the device is already bond, go to 4.</li>\n<li>Broadcast receiver that handle bond state changes is triggered. If the device is bond, go to 4.</li>\n<li>Call of <code>discoverService()</code> method</li>\n<li>When Services are discovered, I get my characteristic and enable notifications using CCCD. Consequently, I write to CCCD the activation of notifications.</li>\n<li><code>GattCallback.onDescriptorWrite</code> is triggered. There I create a command object that aims to get the model number of my device, and add it to a queue of command.</li>\n<li>A separate thread activated before handle the queue and execute the write operation.</li>\n</ol>\n<p>And there my issue:\nOn Danew DSlide 1020 Pro under Android 12, <code>GattCallback.onCharacteristicWrite</code> is called but <code>GattCallback.onCharacteristicChanged</code> is never called (I tested on 3 similar tablets).\nHowever, the two callbacks are triggered on my Samsung tablet under Android 13 and I can complete the connection process.</p>\n<p>Notice that on BLE device side, the write operation is successfully executed on both Android devices.</p>\n<p>Here is the code of my service (I only put the relevant stuff i.e the connection process). Notice that sendEvent() is a method to trigger observers of my service (I do not use broadcast on my activities for personnal reasons)</p>\n<p>connectToGatt method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressLint(&quot;MissingPermission&quot;)\n    public void connectToGatt(BluetoothDevice device) {\n        if (!mIsBleDeviceConnected) {\n            this.mBleDevice = device;\n            this.mBleDeviceGatt = this.mBleDevice.connectGatt(this, false, this.mBleDeviceGattCallback, BluetoothDevice.TRANSPORT_LE);\n        }\n    }\n</code></pre>\n<p>GattCallback:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final BluetoothGattCallback mBleDeviceGattCallback = new BluetoothGattCallback() {\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n        super.onConnectionStateChange(gatt, status, newState);\n        switch (newState) {\n            case BluetoothProfile.STATE_CONNECTED:\n                if (status == BluetoothGatt.GATT_SUCCESS) {\n                    mIsBleDeviceConnected = true;\n                    if (mBleDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\n                        Log.d(TAG, &quot;onConnectionStateChange: test&quot;);\n                        startThread();  //Start the thread that handles the queue of BLE operations such as write on characteristics\n                        mBleDeviceGatt.discoverServices();\n                    }\n                } else {\n                    Log.e(TAG, &quot;onConnectionStateChange: Connection to GATT failed with status &quot;+status);\n                    sendEvent(new EventGattConnectionFailed());\n                }\n                break;\n            case BluetoothProfile.STATE_DISCONNECTED:\n                // handle disconnection\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n        super.onServicesDiscovered(gatt, status);\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            BluetoothGattService service = gatt.getService(Constants.UUID_SERVICE);\n            mBleDeviceCharacteristic = service.getCharacteristic(Constants.UUID_CHARACTERISTIC);\n            if (mBleDeviceCharacteristic == null) {\n                Log.e(TAG, &quot;onServicesDiscovered: The service does not provide characteristic &quot;+Constants.UUID_CHARACTERISTIC.toString());\n                sendEvent(new EventGattConnectionFailed());\n                mBleDeviceGatt.disconnect();\n            } else {\n                boolean isNoCccd = enableNotifications(mBleDeviceCharacteristic);\n                if (isNoCccd) {\n                    Log.e(TAG, &quot;onServicesDiscovered: CCCD not found on characteristic &quot;+mBleDeviceCharacteristic.getUuid());\n                    sendEvent(new EventGattConnectionFailed());\n                    mBleDeviceGatt.disconnect();\n                }\n            }\n        } else {\n            Log.e(TAG, &quot;Service discovery failed with status: &quot; + status);\n            sendEvent(new EventGattConnectionFailed());\n            mBleDeviceGatt.disconnect();\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n        super.onDescriptorWrite(gatt, descriptor, status);\n        if (descriptor.getUuid().toString().equals(Constants.UUID_CCCD.toString())) {\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                if (descriptor.getValue() == BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE) {\n                    addCommandToQueue(new ModelNumberCommand((byte) 0x06,null));\n                } else if (descriptor.getValue() == BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE){\n                    mBleDeviceGatt.disconnect();\n                }\n            } else {\n                Log.e(TAG, &quot;onDescriptorWrite: Enabling notification process failed with status &quot;+status);\n                sendEvent(new EventGattConnectionFailed());\n                mBleDeviceGatt.disconnect();\n            }\n        }\n    }\n\n    @Override\n    public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n        Log.d(TAG, &quot;onCharacteristicWrite: test1 &quot;+status);\n        super.onCharacteristicWrite(gatt, characteristic, status);\n        try {\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                Log.d(TAG, &quot;onCharacteristicWrite: test2&quot;);\n                // some unrelevant code for this issue here\n            } else {\n                if (mDevicesInstance == null) {\n                    sendEvent(new EventGattConnectionFailed());\n                    Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with status &quot;+status);\n                    disconnectFromGatt();\n                } else {\n                    // some unrelevant code for this issue here\n                }\n                mBleCommandAwaitedDataSize = 0;\n                mBleCommandSemaphore.release();\n            }\n        } catch (Exception e) {\n            if (mDevicesInstance == null) {\n                sendEvent(new EventGattConnectionFailed());\n                Log.e(TAG, &quot;onCharacteristicWrite: Get model number command failed with exception &quot;+e);\n                disconnectFromGatt();\n            } else {\n                // some unrelevant code for this issue here\n            }\n            mBleCommandAwaitedDataSize = 0;\n            mBleCommandSemaphore.release();\n        }\n    }\n\n    @Override\n    public void onCharacteristicChanged(@NonNull BluetoothGatt gatt, @NonNull BluetoothGattCharacteristic characteristic, @NonNull byte[] value) {\n        Log.d(TAG, &quot;onCharacteristicChanged: test&quot;);\n        super.onCharacteristicChanged(gatt, characteristic, value);\n        byte[] data;\n        if (mBleCommandAwaitedDataSize == 0) {\n            mBleCommandAwaitedDataSize = value[1];\n            mBleCommandCursor = 0;\n            mBleCommandResult = new byte[mBleCommandAwaitedDataSize];\n            data = Arrays.copyOfRange(value,2,value.length);\n        } else {\n            data = value;\n        }\n        System.arraycopy(data,0,mBleCommandResult,mBleCommandCursor,data.length);\n        mBleCommandCursor = mBleCommandCursor+data.length;\n        if (mBleCommandCursor &gt;= mBleCommandAwaitedDataSize) {\n            if (mDevicesInstance == null) {\n                finalizeConnection(mBleCommandResult); // End the connection process\n            } else {\n                // some unrelevant code for this issue here\n            }\n            mBleCommandSemaphore.release();\n        }\n    }\n</code></pre>\n<p>Broadcast receiver that handles bonding state</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final BroadcastReceiver mBleDeviceGattReceiver = new BroadcastReceiver() {\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (action.equals(BluetoothDevice.ACTION_BOND_STATE_CHANGED)) {\n                int bondState = intent.getIntExtra(BluetoothDevice.EXTRA_BOND_STATE, BluetoothDevice.ERROR);\n                switch (bondState) {\n                    case BluetoothDevice.BOND_BONDED:\n                        mBleServiceInstance.sendEvent(new EventGattBondSuccess());\n                        startThread();\n                        mBleDeviceGatt.discoverServices();\n                        break;\n                    case BluetoothDevice.ERROR:\n                        Log.e(TAG, &quot;mBleDeviceGattReceiver.onReceive: Device bonding failed.&quot;);\n                        sendEvent(new EventGattConnectionFailed());\n                        mBleDeviceGatt.disconnect();\n                        break;\n                }\n            }\n        }\n    };\n</code></pre>\n<p>Thread object that handles the queue</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class BleCommandExecutor extends Thread {\n        private boolean isRunning;\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void run() {\n            while (isRunning) {\n                if (!mBleCommandQueue.isEmpty()) {\n                    Log.d(TAG, &quot;run: test&quot;);\n                    Commands nextCommand = mBleCommandQueue.poll();\n                    if (!(nextCommand == null)) {\n                        try {\n                            mBleCommandSemaphore.acquire();\n                            mBleCommandRunning = nextCommand;\n                            byte[] payload = mBleCommandRunning.serializeCommand();\n                            Log.d(TAG, &quot;run: &quot;+ Arrays.toString(payload));\n                            mBleDeviceCharacteristic.setValue(payload);\n                            mBleDeviceGatt.writeCharacteristic(mBleDeviceCharacteristic);\n                        } catch (InterruptedException e) {\n                            Log.e(TAG, &quot;BleCommandExecutor: Exception raised with semaphore: &quot;+e);\n                            sendEvent(new EventCommandFailed());\n                        }\n                    }\n                }\n            }\n        }\n\n        public void setRunningState(boolean newRunningState) {\n            this.isRunning = newRunningState;\n        }\n    }\nprivate BleCommandExecutor mBleCommandExecutor;\npublic void startThread() {\n        this.mBleCommandExecutor = new BleCommandExecutor();\n        this.mBleCommandExecutor.setRunningState(true);\n        this.mBleCommandExecutor.start();\n    }\npublic void addCommandToQueue(Commands command) {\n        this.mBleCommandQueue.add(command);\n    }\n</code></pre>\n<p>enableNotifications() method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressLint(&quot;MissingPermission&quot;)\n    public boolean enableNotifications(BluetoothGattCharacteristic characteristic) {\n        BluetoothGattDescriptor cccd = characteristic.getDescriptor(Constants.UUID_CCCD);\n        if (cccd == null) {\n            Log.w(TAG, &quot;enableNotifications: CCCD has not been found in the descriptors of the characteristic &quot;+Constants.UUID_CHARACTERISTIC);\n            return true;\n        }\n        if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_NOTIFY) != 0) {\n            this.mBleDeviceGatt.setCharacteristicNotification(characteristic, true);\n            cccd.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n            this.mBleDeviceGatt.writeDescriptor(cccd);\n        }\n        return false;\n    }\n</code></pre>\n<p>All this code belong to my Service object.</p>\n<p>Note that the command added to the queue (<code>ModelNumber((byte) 0x06, null)</code>) is a getter. If the parameter is not <code>null</code>, <code>onCharacteristicChanged</code> is not triggered (characteristic has <code>PROPERTY_WRITE_NO_RESPONSE</code>), that seems to be normal behavior.</p>\n<p>The exact payload written on BLE device is <code>[(byte) 0x06, (byte) 0x00]</code>\nAnd the result expected (get from onCharacteristicChanged) is <code>[(byte) 0x07, (byte) 0x04, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00]</code></p>\n<p>The tests I have done enables me to ensure that I reach the write operation execution because in all cases, notifications are enabled and then I receive the <code>onCharacteristicWrite</code> callback.</p>\n<p><strong>[EDIT]</strong></p>\n<p>I have tested on an Android 11 device and I have the same issue.</p>\n<p>However, I discovered an option on Android 11 and 12's developer mode that is the possibility to use Gabeldorsche, the new Bluetooth Stack that is implemented by default on Android 13+.</p>\n<p>And enabling Gabeldorsche on my devices under Android 11 and 12 triggers the &quot;old&quot; <code>onCharacteristicChanged</code> callback (see below) when writing on my characteristic.</p>\n<p>The &quot;old&quot; callback correspond to the one with the following signature and that has been deprecated on API level 33:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onCharacteristicChanged (BluetoothGatt gatt, BluetoothGattCharacteristic characteristic)\n</code></pre>\n<p>I implemented this old callback in my code.\nIt has exactly the same code as the new callback except an addition of a local variable that replace the <code>byte[] value</code> parameter of the new callback:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n    super.onCharacteristicChanged(gatt, characteristic);\n    byte[] value = characteristic.getValue(); // replace value parameter of the new callback\n\n    // code of the callback\n}\n</code></pre>\n<p>Then, I'm looking for a solution that does not need the manual activation of Gabeldorsche.</p>\n"},{"tags":["java","android","file","path","directory"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1476353970,"post_id":12780446,"comment_id":67313392,"body_markdown":"&quot;How does system understand whether there&#39;s a file or a folder&quot;: How can the system *not* understand? It&#39;s there on the disk in the file system and it is one or the other.","body":"&quot;How does system understand whether there&#39;s a file or a folder&quot;: How can the system <i>not</i> understand? It&#39;s there on the disk in the file system and it is one or the other."}],"answers":[{"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1349694525,"post_id":12780471,"comment_id":17275507,"body_markdown":"As I mentioned in my question, I have only Strings and no File instances, and I can&#39;t create them.","body":"As I mentioned in my question, I have only Strings and no File instances, and I can&#39;t create them."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":1,"creation_date":1349694543,"post_id":12780471,"comment_id":17275513,"body_markdown":"`path` in my example is the `String`. Why can&#39;t you create a `File` instance? Note that this will not change anything on the filesystem.","body":"<code>path</code> in my example is the <code>String</code>. Why can&#39;t you create a <code>File</code> instance? Note that this will not change anything on the filesystem."},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1349695171,"post_id":12780471,"comment_id":17275806,"body_markdown":"Here&#39;s a concrete example, I&#39;m trying to create a File using the following path: /mnt/sdcard/arc/root, and for isDirectory() it returns false. What&#39;s the issue here?","body":"Here&#39;s a concrete example, I&#39;m trying to create a File using the following path: /mnt/sdcard/arc/root, and for isDirectory() it returns false. What&#39;s the issue here?"},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1349695333,"post_id":12780471,"comment_id":17275868,"body_markdown":"@Egor Quite hard to tell, since I don&#39;t have an Android device. Note that `root` may be a file. Files don&#39;t necessarily have a `.something` extension.","body":"@Egor Quite hard to tell, since I don&#39;t have an Android device. Note that <code>root</code> may be a file. Files don&#39;t necessarily have a <code>.something</code> extension."},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1349695493,"post_id":12780471,"comment_id":17275936,"body_markdown":"So I presume your solution doesn&#39;t work. root is a directory, but taking only its name and creating File instance doesn&#39;t tell me whether it&#39;s file or directory.","body":"So I presume your solution doesn&#39;t work. root is a directory, but taking only its name and creating File instance doesn&#39;t tell me whether it&#39;s file or directory."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1349695798,"post_id":12780471,"comment_id":17276064,"body_markdown":"@Egor So you tried: `new File(&quot;/mnt/sdcard/arc/root&quot;).isDirectory()` and it returned false? Are you sure it&#39;s a directory and there is no file with the same path?","body":"@Egor So you tried: <code>new File(&quot;&#47;mnt&#47;sdcard&#47;arc&#47;root&quot;).isDirectory()</code> and it returned false? Are you sure it&#39;s a directory and there is no file with the same path?"},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1349696255,"post_id":12780471,"comment_id":17276304,"body_markdown":"It&#39;s actually just a plain path and my actual problem is to know how I can check whether it relates to a file or to a folder.","body":"It&#39;s actually just a plain path and my actual problem is to know how I can check whether it relates to a file or to a folder."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1349696394,"post_id":12780471,"comment_id":17276366,"body_markdown":"@Egor &quot;_It&#39;s actually just a plain path_&quot; What do you mean by that? Could you please answer the questions I asked in my previous comment?","body":"@Egor &quot;<i>It&#39;s actually just a plain path</i>&quot; What do you mean by that? Could you please answer the questions I asked in my previous comment?"},{"owner":{"account_id":107797,"reputation":7425,"user_id":286453,"display_name":"Praful Bhatnagar"},"score":14,"creation_date":1349773073,"post_id":12780471,"comment_id":17302035,"body_markdown":"isDirectory() method would return true only if the file exists and it is an directory. If the file given in the path does not exists then also it return false. \n\nSo it isDirectory() would return false if the path given does not exists or it exists but it is not a directory... Hope that helps..","body":"isDirectory() method would return true only if the file exists and it is an directory. If the file given in the path does not exists then also it return false.   So it isDirectory() would return false if the path given does not exists or it exists but it is not a directory... Hope that helps.."},{"owner":{"account_id":4720152,"reputation":1442,"user_id":3818303,"accept_rate":38,"display_name":"instanceof"},"score":0,"creation_date":1488809978,"post_id":12780471,"comment_id":72383585,"body_markdown":"Thank you, I needed to check if my string was a file, but according to the docs, the isFile() method only checks if a string is a &quot;regular file&quot;&quot;, so I ended up using !isDirectory().","body":"Thank you, I needed to check if my string was a file, but according to the docs, the isFile() method only checks if a string is a &quot;regular file&quot;&quot;, so I ended up using !isDirectory()."},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1555113321,"post_id":12780471,"comment_id":98009639,"body_markdown":"@instanceof, you would need to also check `file.exists()`, as otherwise, `!file.isDirectory()` will be true if nothing exists at the path.  What you are calling a &quot;file&quot; is called a &quot;regular file&quot; in the Java API. This is because **directories are also files** but are not &quot;regular files&quot;. As many have answered, the correct solution is to use `file.isFile()` or `Files.isRegularFile(path)`.","body":"@instanceof, you would need to also check <code>file.exists()</code>, as otherwise, <code>!file.isDirectory()</code> will be true if nothing exists at the path.  What you are calling a &quot;file&quot; is called a &quot;regular file&quot; in the Java API. This is because <b>directories are also files</b> but are not &quot;regular files&quot;. As many have answered, the correct solution is to use <code>file.isFile()</code> or <code>Files.isRegularFile(path)</code>."}],"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"comment_count":11,"down_vote_count":2,"up_vote_count":257,"is_accepted":true,"score":255,"last_activity_date":1476349754,"creation_date":1349694434,"answer_id":12780471,"question_id":12780446,"body_markdown":"Assuming `path` is your `String`.\r\n\r\n    File file = new File(path);\r\n\r\n    boolean exists =      file.exists();      // Check if the file exists\r\n    boolean isDirectory = file.isDirectory(); // Check if it&#39;s a directory\r\n    boolean isFile =      file.isFile();      // Check if it&#39;s a regular file\r\n\r\nSee [`File` Javadoc](http://docs.oracle.com/javase/7/docs/api/java/io/File.html)\r\n\r\n---\r\n\r\nOr you can use the NIO class `Files` and check things like this:\r\n\r\n    Path file = new File(path).toPath();\r\n\r\n    boolean exists =      Files.exists(file);        // Check if the file exists\r\n    boolean isDirectory = Files.isDirectory(file);   // Check if it&#39;s a directory\r\n    boolean isFile =      Files.isRegularFile(file); // Check if it&#39;s a regular file","title":"Check if a path represents a file or a folder","body":"<p>Assuming <code>path</code> is your <code>String</code>.</p>\n\n<pre><code>File file = new File(path);\n\nboolean exists =      file.exists();      // Check if the file exists\nboolean isDirectory = file.isDirectory(); // Check if it's a directory\nboolean isFile =      file.isFile();      // Check if it's a regular file\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\"><code>File</code> Javadoc</a></p>\n\n<hr>\n\n<p>Or you can use the NIO class <code>Files</code> and check things like this:</p>\n\n<pre><code>Path file = new File(path).toPath();\n\nboolean exists =      Files.exists(file);        // Check if the file exists\nboolean isDirectory = Files.isDirectory(file);   // Check if it's a directory\nboolean isFile =      Files.isRegularFile(file); // Check if it's a regular file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1349694598,"creation_date":1349694598,"answer_id":12780520,"question_id":12780446,"body_markdown":"To check if a string represents a path or a file programatically, you should use API methods such as `isFile(), isDirectory().`\r\n\r\n    \r\n\r\n&gt; How does system understand whether there&#39;s a file or a folder?\r\n\r\nI guess, the file and folder entries are kept in a data structure and it&#39;s managed by the file system.","title":"Check if a path represents a file or a folder","body":"<p>To check if a string represents a path or a file programatically, you should use API methods such as <code>isFile(), isDirectory().</code></p>\n\n<blockquote>\n  <p>How does system understand whether there's a file or a folder?</p>\n</blockquote>\n\n<p>I guess, the file and folder entries are kept in a data structure and it's managed by the file system.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349694695,"creation_date":1349694695,"answer_id":12780547,"question_id":12780446,"body_markdown":"    \r\n    String path = &quot;Your_Path&quot;;\r\n    File f = new File(path);\r\n    \r\n    if (f.isDirectory()){\r\n    \r\n    \r\n    \r\n      }else if(f.isFile()){\r\n    \r\n    \r\n    \r\n      }","title":"Check if a path represents a file or a folder","body":"<pre><code>String path = \"Your_Path\";\nFile f = new File(path);\n\nif (f.isDirectory()){\n\n\n\n  }else if(f.isFile()){\n\n\n\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":3,"creation_date":1445529526,"post_id":27952509,"comment_id":54371046,"body_markdown":"Why give an answer in Scala when the question is asking for Java code (see tags)?","body":"Why give an answer in Scala when the question is asking for Java code (see tags)?"},{"owner":{"account_id":387088,"reputation":1697,"user_id":745236,"accept_rate":82,"display_name":"Sheng"},"score":6,"creation_date":1445610576,"post_id":27952509,"comment_id":54408439,"body_markdown":"@Baz Because Scala is covariant to Java... just kidding :-D . I have updated the answer.","body":"@Baz Because Scala is covariant to Java... just kidding :-D . I have updated the answer."},{"owner":{"account_id":1713312,"reputation":173,"user_id":1570921,"accept_rate":0,"display_name":"Gondri"},"score":0,"creation_date":1539252146,"post_id":27952509,"comment_id":92437796,"body_markdown":"You can create temp directory, create there directories and files. Then use code above and assert. In one hand use regular files/directories otherwise use some dummy path of item which is not created.","body":"You can create temp directory, create there directories and files. Then use code above and assert. In one hand use regular files/directories otherwise use some dummy path of item which is not created."}],"tags":[],"owner":{"account_id":387088,"reputation":1697,"user_id":745236,"accept_rate":82,"display_name":"Sheng"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1445610534,"creation_date":1421269859,"answer_id":27952509,"question_id":12780446,"body_markdown":"Please stick to the nio API to perform these checks\r\n\r\n    import java.nio.file.*;\r\n    \r\n    static Boolean isDir(Path path) {\r\n      if (path == null || !Files.exists(path)) return false;\r\n      else return Files.isDirectory(path);\r\n    }","title":"Check if a path represents a file or a folder","body":"<p>Please stick to the nio API to perform these checks</p>\n\n<pre><code>import java.nio.file.*;\n\nstatic Boolean isDir(Path path) {\n  if (path == null || !Files.exists(path)) return false;\n  else return Files.isDirectory(path);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7730120,"reputation":751,"user_id":5853556,"accept_rate":68,"display_name":"Kervvv"},"score":0,"creation_date":1530842570,"post_id":34312593,"comment_id":89385488,"body_markdown":"This is the better answer if you are looping over a list of directories. Here you&#39;re using a static class to run these checks, rather than creating a new `File` object each time. Saves memory","body":"This is the better answer if you are looping over a list of directories. Here you&#39;re using a static class to run these checks, rather than creating a new <code>File</code> object each time. Saves memory"},{"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"score":7,"creation_date":1549462604,"post_id":34312593,"comment_id":95911017,"body_markdown":"Doesn&#39;t answer the question asked. *Files.isDirectory( )* does not accept a String.","body":"Doesn&#39;t answer the question asked. <i>Files.isDirectory( )</i> does not accept a String."},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":2,"creation_date":1647794883,"post_id":34312593,"comment_id":126455458,"body_markdown":"Starting from `String`? No problem... `Path path = Paths.get(myString);` and you&#39;re ready to go !","body":"Starting from <code>String</code>? No problem... <code>Path path = Paths.get(myString);</code> and you&#39;re ready to go !"}],"tags":[],"owner":{"account_id":90863,"reputation":14381,"user_id":249871,"accept_rate":91,"display_name":"pgsandstrom"},"comment_count":3,"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1450270290,"creation_date":1450270290,"answer_id":34312593,"question_id":12780446,"body_markdown":"Clean solution while staying with the nio API:\r\n\r\n    Files.isDirectory(path)\r\n    Files.isRegularFile(path)","title":"Check if a path represents a file or a folder","body":"<p>Clean solution while staying with the nio API:</p>\n\n<pre><code>Files.isDirectory(path)\nFiles.isRegularFile(path)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1432485,"reputation":10153,"user_id":1354590,"accept_rate":100,"display_name":"kuporific"},"score":0,"creation_date":1672445629,"post_id":46402650,"comment_id":132292724,"body_markdown":"Files.exists(path)","body":"Files.exists(path)"}],"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1506334212,"creation_date":1506334212,"answer_id":46402650,"question_id":12780446,"body_markdown":"There is no way for the system to tell you if a `String` represent a `file` or `directory`, if it **does not exist** in the file system. For example: \r\n\r\n    Path path = Paths.get(&quot;/some/path/to/dir&quot;);\r\n    System.out.println(Files.isDirectory(path)); // return false\r\n    System.out.println(Files.isRegularFile(path)); // return false\r\n\r\nAnd for the following example: \r\n\r\n    Path path = Paths.get(&quot;/some/path/to/dir/file.txt&quot;);\r\n    System.out.println(Files.isDirectory(path));  //return false\r\n    System.out.println(Files.isRegularFile(path));  // return false\r\n\r\nSo we see that in both case system return false. This is true for both `java.io.File` and `java.nio.file.Path`\r\n","title":"Check if a path represents a file or a folder","body":"<p>There is no way for the system to tell you if a <code>String</code> represent a <code>file</code> or <code>directory</code>, if it <strong>does not exist</strong> in the file system. For example: </p>\n\n<pre><code>Path path = Paths.get(\"/some/path/to/dir\");\nSystem.out.println(Files.isDirectory(path)); // return false\nSystem.out.println(Files.isRegularFile(path)); // return false\n</code></pre>\n\n<p>And for the following example: </p>\n\n<pre><code>Path path = Paths.get(\"/some/path/to/dir/file.txt\");\nSystem.out.println(Files.isDirectory(path));  //return false\nSystem.out.println(Files.isRegularFile(path));  // return false\n</code></pre>\n\n<p>So we see that in both case system return false. This is true for both <code>java.io.File</code> and <code>java.nio.file.Path</code></p>\n"},{"tags":[],"owner":{"account_id":3210695,"reputation":71,"user_id":2710777,"display_name":"Kaweesi Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526570038,"creation_date":1526567746,"answer_id":50394167,"question_id":12780446,"body_markdown":" \r\n\r\n       private static boolean isValidFolderPath(String path) {\r\n        File file = new File(path);\r\n        if (!file.exists()) {\r\n          return file.mkdirs();\r\n        }\r\n        return true;\r\n      }\r\n\r\n","title":"Check if a path represents a file or a folder","body":"<pre><code>   private static boolean isValidFolderPath(String path) {\n    File file = new File(path);\n    if (!file.exists()) {\n      return file.mkdirs();\n    }\n    return true;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549463179,"creation_date":1549463179,"answer_id":54555875,"question_id":12780446,"body_markdown":"    public static boolean isDirectory(String path) {\r\n        return path !=null &amp;&amp; new File(path).isDirectory();\r\n    }\r\nTo answer the question directly. \r\n\r\n","title":"Check if a path represents a file or a folder","body":"<pre><code>public static boolean isDirectory(String path) {\n    return path !=null &amp;&amp; new File(path).isDirectory();\n}\n</code></pre>\n\n<p>To answer the question directly. </p>\n"}],"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199306,"favorite_count":0,"down_vote_count":1,"up_vote_count":175,"accepted_answer_id":12780471,"answer_count":8,"score":174,"last_activity_date":1688124923,"creation_date":1349694365,"question_id":12780446,"body_markdown":"I need a valid method to check if a `String` represents a path for file or a directory. What are valid directory names in Android? As it comes out, folder names can contain `&#39;.&#39;` chars, so how does system understand whether there&#39;s a file or a folder?","title":"Check if a path represents a file or a folder","body":"<p>I need a valid method to check if a <code>String</code> represents a path for file or a directory. What are valid directory names in Android? As it comes out, folder names can contain <code>'.'</code> chars, so how does system understand whether there's a file or a folder?</p>\n"},{"tags":["java","android","google-drive-api","google-drive-android-api"],"answers":[{"comments":[{"owner":{"account_id":361931,"reputation":8796,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"score":0,"creation_date":1504728060,"post_id":46083378,"comment_id":79128769,"body_markdown":"How do I add that `alt=media` stuff? I&#39;m doing `drive.files().get(id).execute()` ?","body":"How do I add that <code>alt=media</code> stuff? I&#39;m doing <code>drive.files().get(id).execute()</code> ?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1504728596,"post_id":46083378,"comment_id":79129034,"body_markdown":"@casolorz Take a look at [this](https://developers.google.com/drive/v3/web/manage-downloads#using_altmedia).","body":"@casolorz Take a look at <a href=\"https://developers.google.com/drive/v3/web/manage-downloads#using_altmedia\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":361931,"reputation":8796,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"score":0,"creation_date":1504729155,"post_id":46083378,"comment_id":79129315,"body_markdown":"Thanks, `size` is correct and I guess it is `modifiedTime` not what I had. I was looking at the middle column. I&#39;ll mark this as correct, the download address worked as well.","body":"Thanks, <code>size</code> is correct and I guess it is <code>modifiedTime</code> not what I had. I was looking at the middle column. I&#39;ll mark this as correct, the download address worked as well."}],"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504748636,"creation_date":1504727812,"answer_id":46083378,"question_id":46082536,"body_markdown":"Evidently `files(size)` works although I don&#39;t see it documented. You can try it [here](https://developers.google.com/drive/v3/reference/files/list#parameters).\r\n\r\nI am not so sure about `getDownloadUrl`. You can check the v2 to v3 conversion documentation at [this page](https://developers.google.com/drive/v3/web/migration). It suggests that `files.get with ?alt=media` might be a suitable replacement for `downloadUrl`.","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>Evidently <code>files(size)</code> works although I don't see it documented. You can try it <a href=\"https://developers.google.com/drive/v3/reference/files/list#parameters\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I am not so sure about <code>getDownloadUrl</code>. You can check the v2 to v3 conversion documentation at <a href=\"https://developers.google.com/drive/v3/web/migration\" rel=\"nofollow noreferrer\">this page</a>. It suggests that <code>files.get with ?alt=media</code> might be a suitable replacement for <code>downloadUrl</code>.</p>\n"},{"tags":[],"owner":{"account_id":3766160,"reputation":2568,"user_id":3129644,"accept_rate":83,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569319757,"creation_date":1569317563,"answer_id":58077249,"question_id":46082536,"body_markdown":"When you get files from a folder:\r\n\r\n    val files = driveService.files().list()\r\n                        .setSpaces(&quot;appDataFolder&quot;)\r\n                        .setFields(&quot;files(id, name, createdTime)&quot;)\r\n                        .execute()\r\n\r\nWhen you create file:\r\n\r\n    val file = driveService.files().create(fileMetadata, mediaContent)\r\n                        .setFields(&quot;id, name, createdTime&quot;)\r\n                        .execute()\r\n\r\nYou can see  all available properties [here][1].\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/reference/files#properties","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>When you get files from a folder:</p>\n\n<pre><code>val files = driveService.files().list()\n                    .setSpaces(\"appDataFolder\")\n                    .setFields(\"files(id, name, createdTime)\")\n                    .execute()\n</code></pre>\n\n<p>When you create file:</p>\n\n<pre><code>val file = driveService.files().create(fileMetadata, mediaContent)\n                    .setFields(\"id, name, createdTime\")\n                    .execute()\n</code></pre>\n\n<p>You can see  all available properties <a href=\"https://developers.google.com/drive/api/v3/reference/files#properties\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6200582,"reputation":1,"user_id":4830542,"display_name":"Reza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661959095,"creation_date":1661959095,"answer_id":73558170,"question_id":46082536,"body_markdown":"modifiedDate did not work for me, although it says on the documents. modifiedTime gives both date and time\r\n\r\n    $params = array\r\n    (\r\n      &#39;pageSize&#39; =&gt; 1000,\r\n      &#39;fields&#39; =&gt; &quot;nextPageToken, files(id , name , modifiedTime)&quot;,\r\n      &#39;q&#39; =&gt; &quot;&#39;&quot; . $parent_folder_id . &quot;&#39; in parents&quot;\r\n    ) ;\r\n    $files = $service -&gt; files -&gt; listFiles($params) ;   \r\n    foreach ($files as $file)\r\n    {\r\n      echo($file -&gt; getModifiedTime()) ;\r\n      echo($file -&gt; getName()) ;\r\n    }\r\n","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>modifiedDate did not work for me, although it says on the documents. modifiedTime gives both date and time</p>\n<pre><code>$params = array\n(\n  'pageSize' =&gt; 1000,\n  'fields' =&gt; &quot;nextPageToken, files(id , name , modifiedTime)&quot;,\n  'q' =&gt; &quot;'&quot; . $parent_folder_id . &quot;' in parents&quot;\n) ;\n$files = $service -&gt; files -&gt; listFiles($params) ;   \nforeach ($files as $file)\n{\n  echo($file -&gt; getModifiedTime()) ;\n  echo($file -&gt; getName()) ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18459139,"reputation":381,"user_id":13447094,"display_name":"Enes Kayıklık"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688124745,"creation_date":1688124745,"answer_id":76588546,"question_id":46082536,"body_markdown":"You can use `*` to get the all fields of a file.\r\n```kotlin\r\nval files = drive.files().list().setSpaces(&quot;appDataFolder&quot;)\r\n                .setFields(&quot;nextPageToken, files(*)&quot;)\r\n                .setPageSize(10)\r\n                .execute()\r\n```","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>You can use <code>*</code> to get the all fields of a file.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val files = drive.files().list().setSpaces(&quot;appDataFolder&quot;)\n                .setFields(&quot;nextPageToken, files(*)&quot;)\n                .setPageSize(10)\n                .execute()\n</code></pre>\n"}],"owner":{"account_id":361931,"reputation":8796,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46083378,"answer_count":4,"score":3,"last_activity_date":1688124745,"creation_date":1504724419,"question_id":46082536,"body_markdown":"I&#39;m upgrading from v2 to v3 of the Google Drive API on Android and would like to know how to get some extra fields when I query for files, ideally without paging. \r\n\r\nThis is the code I got:\r\n\r\n    FileList result = drive.files().list()\r\n                    .setQ(&quot;&#39;root&#39; in parents  and trashed=false&quot;)\r\n                    .setFields(&quot;files(id, name, fileSize, modifiedDate, mimeType)&quot;)\r\n                    .execute();\r\n\r\nBut it says that `invalid field selection fileSize`. \r\n\r\nAlso I would like a way to get a download url for the file that works temporarily for sharing with other apps. This used to be achievable with `getDownloadUrl` and adding the token on v2. \r\n\r\nThanks.  \r\n\r\nEdit: Looks like the correct fields are:\r\n\r\n                .setFields(&quot;files(id, name, size, modifiedTime)&quot;)\r\n","title":"How can I get file size and modified date on the V3 Google Drive API?","body":"<p>I'm upgrading from v2 to v3 of the Google Drive API on Android and would like to know how to get some extra fields when I query for files, ideally without paging. </p>\n\n<p>This is the code I got:</p>\n\n<pre><code>FileList result = drive.files().list()\n                .setQ(\"'root' in parents  and trashed=false\")\n                .setFields(\"files(id, name, fileSize, modifiedDate, mimeType)\")\n                .execute();\n</code></pre>\n\n<p>But it says that <code>invalid field selection fileSize</code>. </p>\n\n<p>Also I would like a way to get a download url for the file that works temporarily for sharing with other apps. This used to be achievable with <code>getDownloadUrl</code> and adding the token on v2. </p>\n\n<p>Thanks.  </p>\n\n<p>Edit: Looks like the correct fields are:</p>\n\n<pre><code>            .setFields(\"files(id, name, size, modifiedTime)\")\n</code></pre>\n"},{"tags":["java","android","spring-boot"],"owner":{"account_id":28920488,"reputation":1,"user_id":22151567,"display_name":"Dzmitry Meliashkevich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688124529,"creation_date":1688118666,"question_id":76587839,"body_markdown":"I have the same issue as this https://stackoverflow.com/questions/70756185/how-to-receive-the-message-from-stomp-websocket-with-spring-boot-on-android but there is no answer to how to handle this problem for me. The logs show that the channel is open and data from the client comes to server-side  \r\n\r\n```java\r\n stompClient.topic(&quot;/topic/client-data&quot;)\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(stompMessage -&gt; {\r\n            Log.d(&quot;AAAAAA&quot;, stompMessage.getPayload());\r\n        });\r\n```  \r\n\r\nI have this function, and the log shows completely nothing \r\n\r\n\r\nServer: \r\n```java\r\n@RestController\r\n@Controller\r\n@Slf4j\r\n@RequestMapping(&quot;api/intent&quot;)\r\npublic class IntentController {\r\n\r\n    @Autowired\r\n    private IntentService service;\r\n\r\n    @MessageMapping(&quot;/client-message&quot;)\r\n    @SendTo(&quot;/topic/client-data&quot;)\r\n    public IntentModel sendPostmanData(String message) throws Exception {\r\n        if (message.equals(&quot;DATA&quot;)) {\r\n            return service.sendPostmanBody();\r\n        } else {\r\n            return new IntentModel();\r\n        }\r\n    }\r\n\r\n    @PostMapping(value = &quot;/inputData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public void getPostmanRequestBody(@RequestBody IntentModel request) {\r\n        System.out.println(request);\r\n        service.getPostmanBody(request);\r\n    }\r\n}\r\n```\r\n```java\r\n@Configuration\r\n@EnableWebSocket\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/intent&quot;).withSockJS();;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI haven&#39;t found out the solution for Android, please give any info if you had the same issue.","title":"StompClient does not receive data","body":"<p>I have the same issue as this <a href=\"https://stackoverflow.com/questions/70756185/how-to-receive-the-message-from-stomp-websocket-with-spring-boot-on-android\">How to receive the message from stomp websocket with spring boot on android?</a> but there is no answer to how to handle this problem for me. The logs show that the channel is open and data from the client comes to server-side</p>\n<pre class=\"lang-java prettyprint-override\"><code> stompClient.topic(&quot;/topic/client-data&quot;)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(stompMessage -&gt; {\n            Log.d(&quot;AAAAAA&quot;, stompMessage.getPayload());\n        });\n</code></pre>\n<p>I have this function, and the log shows completely nothing</p>\n<p>Server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@Controller\n@Slf4j\n@RequestMapping(&quot;api/intent&quot;)\npublic class IntentController {\n\n    @Autowired\n    private IntentService service;\n\n    @MessageMapping(&quot;/client-message&quot;)\n    @SendTo(&quot;/topic/client-data&quot;)\n    public IntentModel sendPostmanData(String message) throws Exception {\n        if (message.equals(&quot;DATA&quot;)) {\n            return service.sendPostmanBody();\n        } else {\n            return new IntentModel();\n        }\n    }\n\n    @PostMapping(value = &quot;/inputData&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public void getPostmanRequestBody(@RequestBody IntentModel request) {\n        System.out.println(request);\n        service.getPostmanBody(request);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocket\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/intent&quot;).withSockJS();;\n    }\n}\n</code></pre>\n<p>I haven't found out the solution for Android, please give any info if you had the same issue.</p>\n"},{"tags":["java","dictionary","enums"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1688115226,"post_id":76587433,"comment_id":135033435,"body_markdown":"&quot;I&#39;d really rather not iterate through the entire enum with a double for loop&quot; Why not?","body":"&quot;I&#39;d really rather not iterate through the entire enum with a double for loop&quot; Why not?"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1688115248,"post_id":76587433,"comment_id":135033441,"body_markdown":"Monetary values -&gt; use `BigDecimal` to mitigate problems with precision.","body":"Monetary values -&gt; use <code>BigDecimal</code> to mitigate problems with precision."}],"answers":[{"comments":[{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1688117812,"post_id":76587542,"comment_id":135033906,"body_markdown":"This actually creates a `Map` with just a single `Currency` as a a key and a single `Float` as a value. This _could_ work if I considered one global `Currency` to compare all other `Currency` instances with (e.g `USD`), but I was wondering if I could perhaps make a `Map` with a PAIR of `Currency` instances as  a key.","body":"This actually creates a <code>Map</code> with just a single <code>Currency</code> as a a key and a single <code>Float</code> as a value. This <i>could</i> work if I considered one global <code>Currency</code> to compare all other <code>Currency</code> instances with (e.g <code>USD</code>), but I was wondering if I could perhaps make a <code>Map</code> with a PAIR of <code>Currency</code> instances as  a key."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1688135651,"post_id":76587542,"comment_id":135037653,"body_markdown":"Yes, now that makes more sense. I will be selecting the other reply as the accepted answer based only on readability; they are both correct.","body":"Yes, now that makes more sense. I will be selecting the other reply as the accepted answer based only on readability; they are both correct."}],"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688118327,"creation_date":1688116138,"answer_id":76587542,"question_id":76587433,"body_markdown":"maybe it&#39;s better to use Java 8&#39;s Stream API and Collectors!\r\n\r\nlet me give you an example, \r\n\r\n    import java.util.EnumMap;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class CurrencyMapExample {\r\n        public static void main(String[] args) {\r\n            // map with pairs of currency instances as keys and random float values\r\n            Map&lt;Pair&lt;Currency, Currency&gt;, Float&gt; currencyMap = Stream.of(Currency.values())\r\n                    .flatMap(currency1 -&gt; Stream.of(Currency.values())\r\n                            .map(currency2 -&gt; new Pair&lt;&gt;(currency1, currency2)))\r\n                    .collect(Collectors.toMap(pair -&gt; pair, CurrencyMapExample::getRandomFloat,\r\n                            (value1, value2) -&gt; value1, () -&gt; new EnumMap&lt;&gt;(Pair.class)));\r\n    \r\n            // currency map\r\n            currencyMap.forEach((pair, value) -&gt; System.out.println(pair + &quot; : &quot; + value));\r\n        }\r\n    \r\n        // generate a random float value\r\n        private static Float getRandomFloat(Pair&lt;Currency, Currency&gt; pair) {\r\n            // replace this with your code to generate random float for each pair of currencies\r\n            return (float) Math.random();\r\n        }\r\n    \r\n        // pair class to represent a pair of currencies\r\n        static class Pair&lt;T, U&gt; {\r\n            private final T first;\r\n            private final U second;\r\n    \r\n            public Pair(T first, U second) {\r\n                this.first = first;\r\n                this.second = second;\r\n            }\r\n    \r\n            public T getFirst() {\r\n                return first;\r\n            }\r\n    \r\n            public U getSecond() {\r\n                return second;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nyou can create a `Map` with a pair of `Currency` instances as a key by using the `EnumMap` class in Java!\r\n\r\ngood luck!","title":"Mapping all ordered pairs of a Java enum to a value","body":"<p>maybe it's better to use Java 8's Stream API and Collectors!</p>\n<p>let me give you an example,</p>\n<pre><code>import java.util.EnumMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class CurrencyMapExample {\n    public static void main(String[] args) {\n        // map with pairs of currency instances as keys and random float values\n        Map&lt;Pair&lt;Currency, Currency&gt;, Float&gt; currencyMap = Stream.of(Currency.values())\n                .flatMap(currency1 -&gt; Stream.of(Currency.values())\n                        .map(currency2 -&gt; new Pair&lt;&gt;(currency1, currency2)))\n                .collect(Collectors.toMap(pair -&gt; pair, CurrencyMapExample::getRandomFloat,\n                        (value1, value2) -&gt; value1, () -&gt; new EnumMap&lt;&gt;(Pair.class)));\n\n        // currency map\n        currencyMap.forEach((pair, value) -&gt; System.out.println(pair + &quot; : &quot; + value));\n    }\n\n    // generate a random float value\n    private static Float getRandomFloat(Pair&lt;Currency, Currency&gt; pair) {\n        // replace this with your code to generate random float for each pair of currencies\n        return (float) Math.random();\n    }\n\n    // pair class to represent a pair of currencies\n    static class Pair&lt;T, U&gt; {\n        private final T first;\n        private final U second;\n\n        public Pair(T first, U second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public T getFirst() {\n            return first;\n        }\n\n        public U getSecond() {\n            return second;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;(&quot; + first + &quot;, &quot; + second + &quot;)&quot;;\n        }\n    }\n}\n</code></pre>\n<p>you can create a <code>Map</code> with a pair of <code>Currency</code> instances as a key by using the <code>EnumMap</code> class in Java!</p>\n<p>good luck!</p>\n"},{"comments":[{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1688133053,"post_id":76588512,"comment_id":135037128,"body_markdown":"Thanks! Seems rather obvious to encapsulate a pair of `Currency` instances and just use a map with this new class as the key type, when you&#39;re given this idea. Perhaps an equivalent solution would be to use a javafx.util.Pair. thanks again","body":"Thanks! Seems rather obvious to encapsulate a pair of <code>Currency</code> instances and just use a map with this new class as the key type, when you&#39;re given this idea. Perhaps an equivalent solution would be to use a javafx.util.Pair. thanks again"}],"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688124414,"creation_date":1688124414,"answer_id":76588512,"question_id":76587433,"body_markdown":"You can make a Map-based solution if you first define a CurrencyPair class to represent the pair of currencies:\r\n\r\n    public class CurrencyPair {\r\n        private Currency fromCurrency;\r\n        private Currency toCurrency;\r\n    \r\n        public CurrencyPair(Currency fromCurrency, Currency toCurrency) {\r\n            this.fromCurrency = fromCurrency;\r\n            this.toCurrency = toCurrency;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            CurrencyPair that = (CurrencyPair) o;\r\n            return fromCurrency == that.fromCurrency &amp;&amp; toCurrency == that.toCurrency;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(fromCurrency, toCurrency);\r\n        }\r\n    }\r\n\r\nNext, create a Map with CurrencyPair keys and Double values to store the buy/sell prices:\r\n\r\n    Map&lt;CurrencyPair, Double&gt; currencyPrices = new HashMap&lt;&gt;();\r\n\r\nTo populate the map with random prices for all possible currency pairs, you can iterate over the Currency enum and generate random prices for each pair of currencies:\r\n\r\n    Random random = new Random();\r\n    \r\n    for (Currency fromCurrency : Currency.values()) {\r\n        for (Currency toCurrency : Currency.values()) {\r\n            CurrencyPair currencyPair = new CurrencyPair(fromCurrency, toCurrency);\r\n            double price = random.nextDouble(); // Generate a random price\r\n            currencyPrices.put(currencyPair, price);\r\n        }\r\n    }\r\n\r\nNow you can access the buy/sell prices by providing the appropriate CurrencyPair key:\r\n\r\n    CurrencyPair currencyPair = new CurrencyPair(Currency.USD, Currency.EUR);\r\n    double price = currencyPrices.get(currencyPair);\r\n\r\nThat&#39;s it. I think that this Map-based solution is a lot easier to read than a Streams-based one.\r\n","title":"Mapping all ordered pairs of a Java enum to a value","body":"<p>You can make a Map-based solution if you first define a CurrencyPair class to represent the pair of currencies:</p>\n<pre><code>public class CurrencyPair {\n    private Currency fromCurrency;\n    private Currency toCurrency;\n\n    public CurrencyPair(Currency fromCurrency, Currency toCurrency) {\n        this.fromCurrency = fromCurrency;\n        this.toCurrency = toCurrency;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        CurrencyPair that = (CurrencyPair) o;\n        return fromCurrency == that.fromCurrency &amp;&amp; toCurrency == that.toCurrency;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(fromCurrency, toCurrency);\n    }\n}\n</code></pre>\n<p>Next, create a Map with CurrencyPair keys and Double values to store the buy/sell prices:</p>\n<pre><code>Map&lt;CurrencyPair, Double&gt; currencyPrices = new HashMap&lt;&gt;();\n</code></pre>\n<p>To populate the map with random prices for all possible currency pairs, you can iterate over the Currency enum and generate random prices for each pair of currencies:</p>\n<pre><code>Random random = new Random();\n\nfor (Currency fromCurrency : Currency.values()) {\n    for (Currency toCurrency : Currency.values()) {\n        CurrencyPair currencyPair = new CurrencyPair(fromCurrency, toCurrency);\n        double price = random.nextDouble(); // Generate a random price\n        currencyPrices.put(currencyPair, price);\n    }\n}\n</code></pre>\n<p>Now you can access the buy/sell prices by providing the appropriate CurrencyPair key:</p>\n<pre><code>CurrencyPair currencyPair = new CurrencyPair(Currency.USD, Currency.EUR);\ndouble price = currencyPrices.get(currencyPair);\n</code></pre>\n<p>That's it. I think that this Map-based solution is a lot easier to read than a Streams-based one.</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76588512,"answer_count":2,"score":0,"last_activity_date":1688124414,"creation_date":1688115139,"question_id":76587433,"body_markdown":"I have a Spring Boot application where I hold bank accounts with a certain balance and in a certain currency, and can `POST` transactions between any two bank accounts. For currencies, I have an `enum` with about 300 currency identifiers as per ISO 4217:\r\n\r\n```java\r\npublic enum Currency {\r\n    AFN,\r\n    EUR,\r\n    ALL,\r\n    DZD,\r\n    USD,\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\n\r\nTo make a transaction between two accounts with different currency identifiers, I want to take into consideration the buy/sell price of different currencies, which for this application can be random floats. So effectively I&#39;m looking for a `Map` with pairs of `Currency` instances as keys and `float` or `double` as values.\r\n\r\nWhat is a quick and elegant way to do this? I&#39;d really rather not iterate through the entire `enum` with a double `for` loop.","title":"Mapping all ordered pairs of a Java enum to a value","body":"<p>I have a Spring Boot application where I hold bank accounts with a certain balance and in a certain currency, and can <code>POST</code> transactions between any two bank accounts. For currencies, I have an <code>enum</code> with about 300 currency identifiers as per ISO 4217:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Currency {\n    AFN,\n    EUR,\n    ALL,\n    DZD,\n    USD,\n    .\n    .\n    .\n}\n</code></pre>\n<p>To make a transaction between two accounts with different currency identifiers, I want to take into consideration the buy/sell price of different currencies, which for this application can be random floats. So effectively I'm looking for a <code>Map</code> with pairs of <code>Currency</code> instances as keys and <code>float</code> or <code>double</code> as values.</p>\n<p>What is a quick and elegant way to do this? I'd really rather not iterate through the entire <code>enum</code> with a double <code>for</code> loop.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","enums"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1509365792,"post_id":47014957,"comment_id":80976296,"body_markdown":"if possible rename psql enum `UNDER-CONSTRUCTION` to `UNDERCONSTRUCTION`. So it matches the enum you defined in java","body":"if possible rename psql enum <code>UNDER-CONSTRUCTION</code> to <code>UNDERCONSTRUCTION</code>. So it matches the enum you defined in java"},{"owner":{"account_id":5547320,"reputation":417,"user_id":6497665,"accept_rate":0,"display_name":"Badman"},"score":0,"creation_date":1509368787,"post_id":47014957,"comment_id":80978280,"body_markdown":"@Lino This is live DB used by other person also.So I can&#39;t change it.","body":"@Lino This is live DB used by other person also.So I can&#39;t change it."}],"answers":[{"tags":[],"owner":{"account_id":11980394,"reputation":705,"user_id":8766419,"display_name":"Yegor Babarykin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509484702,"creation_date":1509484702,"answer_id":47044672,"question_id":47014957,"body_markdown":"Hibernate uses function `name()` of `Enum` when it serialize value of enumerated field and `Enum.valueOf(...)` when it is deserialize entity.\r\n\r\nThats why you cant use `&quot;UNDER-CONSTRUCTION&quot;` in values","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>Hibernate uses function <code>name()</code> of <code>Enum</code> when it serialize value of enumerated field and <code>Enum.valueOf(...)</code> when it is deserialize entity.</p>\n\n<p>Thats why you cant use <code>\"UNDER-CONSTRUCTION\"</code> in values</p>\n"},{"tags":[],"owner":{"account_id":5547320,"reputation":417,"user_id":6497665,"accept_rate":0,"display_name":"Badman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510152300,"creation_date":1510152300,"answer_id":47182602,"question_id":47014957,"body_markdown":"So I am able to figure out what I was missing. Basically I have to override both nullSafeGet and nullSafeSet in PsqlEnum.java file.&lt;br&gt;\r\nI reached to solution by following this [java file](https://gist.github.com/jedvardsson/96af1b86f78762ac12ef#file-labeledenumtype-java).&lt;br&gt;\r\nSo Either define custom UserType like defined in link or custom EnumType both worked for me.&lt;br&gt;\r\nIn above code PsqlEnum.java in custom EnumType I was missing overriding  nullSafeGet.","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>So I am able to figure out what I was missing. Basically I have to override both nullSafeGet and nullSafeSet in PsqlEnum.java file.<br>\nI reached to solution by following this <a href=\"https://gist.github.com/jedvardsson/96af1b86f78762ac12ef#file-labeledenumtype-java\" rel=\"nofollow noreferrer\">java file</a>.<br>\nSo Either define custom UserType like defined in link or custom EnumType both worked for me.<br>\nIn above code PsqlEnum.java in custom EnumType I was missing overriding  nullSafeGet.</p>\n"},{"tags":[],"owner":{"account_id":2169678,"reputation":611,"user_id":1922011,"display_name":"Mukhtiar Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688124386,"creation_date":1688124386,"answer_id":76588505,"question_id":47014957,"body_markdown":"Here is the possible solution you also need to override the `nullSafeGet` in the `PsqlEnum` class.\r\n\r\n\r\n    @Override\r\n    public Object nullSafeGet(ResultSet rs, String[] names,  SharedSessionContractImplementor session, Object owner) throws HibernateException, SQLException {\r\n        String name = rs.getString(names[0]);\r\n        if(rs.wasNull()) return  null;\r\n\r\n        try {\r\n            Field field = getClass().getSuperclass().getDeclaredField(&quot;enumClass&quot;);\r\n            field.setAccessible(true);\r\n            Class value = (Class) field.get(this);\r\n            Optional&lt;Object&gt; object =  Arrays.stream(value.getEnumConstants()).filter(o -&gt; o.toString().equals(name)).findFirst();\r\n            return object.orElseThrow(() -&gt;   new IllegalArgumentException(\r\n                &quot;No enum constant &quot; + value + &quot;.&quot; + name));\r\n        } catch (ReflectiveOperationException e) {\r\n            return super.nullSafeGet(rs, names, session, owner);\r\n        }\r\n    }","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>Here is the possible solution you also need to override the <code>nullSafeGet</code> in the <code>PsqlEnum</code> class.</p>\n<pre><code>@Override\npublic Object nullSafeGet(ResultSet rs, String[] names,  SharedSessionContractImplementor session, Object owner) throws HibernateException, SQLException {\n    String name = rs.getString(names[0]);\n    if(rs.wasNull()) return  null;\n\n    try {\n        Field field = getClass().getSuperclass().getDeclaredField(&quot;enumClass&quot;);\n        field.setAccessible(true);\n        Class value = (Class) field.get(this);\n        Optional&lt;Object&gt; object =  Arrays.stream(value.getEnumConstants()).filter(o -&gt; o.toString().equals(name)).findFirst();\n        return object.orElseThrow(() -&gt;   new IllegalArgumentException(\n            &quot;No enum constant &quot; + value + &quot;.&quot; + name));\n    } catch (ReflectiveOperationException e) {\n        return super.nullSafeGet(rs, names, session, owner);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5547320,"reputation":417,"user_id":6497665,"accept_rate":0,"display_name":"Badman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4230,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1688124386,"creation_date":1509365554,"question_id":47014957,"body_markdown":"In my Hibernate application, I want to map Java enum to Postgresql enum and vice-versa.\r\n\r\nMy application is using apache-thrift,hibernate/JPA(for ORM model),postgresql DB.\r\n\r\nPostgresql DB have defined enum using command \r\n\r\n    CREATE TYPE status_enum AS ENUM (&#39;UNDER-CONSTRUCTION&#39;, &#39;CLOSED&#39;, &#39;OPEN&#39;)\r\n\r\nDB has some data initially few tuples have &#39;UNDER-CONSTRUCTION&#39; status.\r\n\r\nHere is my solution:\r\n\r\nCustom Type for enum mapping:\r\n\r\n    public class PsqlEnum extends EnumType {\r\n    \r\n        @Override\r\n        public void nullSafeSet(final PreparedStatement st, final Object value, final int index,\r\n                final SharedSessionContractImplementor session) throws SQLException {\r\n            if(value == null) {\r\n                st.setNull( index, Types.OTHER );\r\n            }\r\n            else {\r\n                st.setObject(\r\n                        index,\r\n                        value.toString(),\r\n                        Types.OTHER\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nEntity for ORM(hibernate) model :\r\n\r\n    @Entity\r\n    @Table(name = &quot;place&quot;)\r\n    @TypeDef(\r\n            name = &quot;pgsql_enum&quot;,\r\n            typeClass = PsqlEnum.class\r\n    )\r\n    public class Place implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;,nullable = false)\r\n        @Getter @Setter private Integer id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        @Getter @Setter private String name;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @Enumerated(EnumType.STRING)\r\n        @Type(type = &quot;pgsql_enum&quot;)\r\n        @Column(name = &quot;status_level&quot;,columnDefinition = &quot;status_enum&quot;)\r\n        private STATUS status;\r\n    }\r\n\r\n\r\nEnum Class :\r\n\r\n    public enum STATUS{\r\n        CLOSED(&quot;CLOSED&quot;),\r\n        UNDERCONSTRUCTION(&quot;UNDER-CONSTRUCTION&quot;),\r\n        OPEN(&quot;OPEN&quot;);\r\n        private final String label;\r\n        Exposure(String label){\r\n            this.label = label;\r\n        }\r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public static STATUS fromLabel(String label){\r\n            for(STATUS currentEnum:STATUS.values()){\r\n                if(currentEnum.getLabel().equals(label)){\r\n                    return currentEnum;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.label;\r\n        }\r\n    }\r\n\r\nIt works fine on insertion operation while on retrieving data it throws an error : `java.lang.IllegalArgumentException: Unknown name value [UNDER-CONSTRUCTION] for enum class`\r\n\r\nI tried every given reference solution in StackOverflow no one is working fine for my problem.\r\n\r\n","title":"How to map JAVA enum to Postgresql Enum using Hibernate/JPA?","body":"<p>In my Hibernate application, I want to map Java enum to Postgresql enum and vice-versa.</p>\n\n<p>My application is using apache-thrift,hibernate/JPA(for ORM model),postgresql DB.</p>\n\n<p>Postgresql DB have defined enum using command </p>\n\n<pre><code>CREATE TYPE status_enum AS ENUM ('UNDER-CONSTRUCTION', 'CLOSED', 'OPEN')\n</code></pre>\n\n<p>DB has some data initially few tuples have 'UNDER-CONSTRUCTION' status.</p>\n\n<p>Here is my solution:</p>\n\n<p>Custom Type for enum mapping:</p>\n\n<pre><code>public class PsqlEnum extends EnumType {\n\n    @Override\n    public void nullSafeSet(final PreparedStatement st, final Object value, final int index,\n            final SharedSessionContractImplementor session) throws SQLException {\n        if(value == null) {\n            st.setNull( index, Types.OTHER );\n        }\n        else {\n            st.setObject(\n                    index,\n                    value.toString(),\n                    Types.OTHER\n            );\n        }\n    }\n}\n</code></pre>\n\n<p>Entity for ORM(hibernate) model :</p>\n\n<pre><code>@Entity\n@Table(name = \"place\")\n@TypeDef(\n        name = \"pgsql_enum\",\n        typeClass = PsqlEnum.class\n)\npublic class Place implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"id\",nullable = false)\n    @Getter @Setter private Integer id;\n\n    @Column(name = \"name\")\n    @Getter @Setter private String name;\n\n\n    @Getter\n    @Setter\n    @Enumerated(EnumType.STRING)\n    @Type(type = \"pgsql_enum\")\n    @Column(name = \"status_level\",columnDefinition = \"status_enum\")\n    private STATUS status;\n}\n</code></pre>\n\n<p>Enum Class :</p>\n\n<pre><code>public enum STATUS{\n    CLOSED(\"CLOSED\"),\n    UNDERCONSTRUCTION(\"UNDER-CONSTRUCTION\"),\n    OPEN(\"OPEN\");\n    private final String label;\n    Exposure(String label){\n        this.label = label;\n    }\n    public String getLabel() {\n        return label;\n    }\n\n    public static STATUS fromLabel(String label){\n        for(STATUS currentEnum:STATUS.values()){\n            if(currentEnum.getLabel().equals(label)){\n                return currentEnum;\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public String toString() {\n        return this.label;\n    }\n}\n</code></pre>\n\n<p>It works fine on insertion operation while on retrieving data it throws an error : <code>java.lang.IllegalArgumentException: Unknown name value [UNDER-CONSTRUCTION] for enum class</code></p>\n\n<p>I tried every given reference solution in StackOverflow no one is working fine for my problem.</p>\n"},{"tags":["java","http","jakarta-ee","websocket","glassfish"],"comments":[{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":2,"creation_date":1428484790,"post_id":29500133,"comment_id":47177215,"body_markdown":"use wireshark / tcpdump to see what is going on. Actually, you can try to hit it with your browser. HTTP 200 is not the status you want to see (you need 101: Switching Protocol, so it seems like the websocket request was processed by something else.","body":"use wireshark / tcpdump to see what is going on. Actually, you can try to hit it with your browser. HTTP 200 is not the status you want to see (you need 101: Switching Protocol, so it seems like the websocket request was processed by something else."},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428484975,"post_id":29500133,"comment_id":47177350,"body_markdown":"@PavelBucek okay, there is a glassfish exception at the start of this application: `SEVERE: WebModule[/CollabEdit]Exception starting filter WebSocket filter\njava.lang.InstantiationException`","body":"@PavelBucek okay, there is a glassfish exception at the start of this application: <code>SEVERE: WebModule[&#47;CollabEdit]Exception starting filter WebSocket filter java.lang.InstantiationException</code>"},{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":0,"creation_date":1428485884,"post_id":29500133,"comment_id":47177936,"body_markdown":"edit your question and paste the complete exception there. I suspect your @ServerEndpoint annotated class is not public or similar for referenced decoder/encoder ..","body":"edit your question and paste the complete exception there. I suspect your @ServerEndpoint annotated class is not public or similar for referenced decoder/encoder .."},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428486360,"post_id":29500133,"comment_id":47178259,"body_markdown":"@PavelBucek: its done, please have a look.","body":"@PavelBucek: its done, please have a look."},{"owner":{"account_id":419946,"reputation":1121,"user_id":797376,"display_name":"Donghwan Kim"},"score":1,"creation_date":1428507033,"post_id":29500133,"comment_id":47193035,"body_markdown":"Check if `MessageDecoder` deals with `com.CollabEdit.Message` and is able to be instantiated by container as the exception trace says `Decoder for type: class com.CollabEdit.Message has not been registered.`","body":"Check if <code>MessageDecoder</code> deals with <code>com.CollabEdit.Message</code> and is able to be instantiated by container as the exception trace says <code>Decoder for type: class com.CollabEdit.Message has not been registered.</code>"},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428507139,"post_id":29500133,"comment_id":47193122,"body_markdown":"@DonghwanKim: sir I have created a java file named as MessageDecoder.java \nis there any other way to create a Decoder ?","body":"@DonghwanKim: sir I have created a java file named as MessageDecoder.java  is there any other way to create a Decoder ?"},{"owner":{"account_id":419946,"reputation":1121,"user_id":797376,"display_name":"Donghwan Kim"},"score":1,"creation_date":1428507232,"post_id":29500133,"comment_id":47193182,"body_markdown":"Well, I don&#39;t think so but can you share MessageDecoder.java?","body":"Well, I don&#39;t think so but can you share MessageDecoder.java?"},{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":0,"creation_date":1428507445,"post_id":29500133,"comment_id":47193345,"body_markdown":"as Kim already wrote, the issue you have is about Decoder and possibly encoder as well - make sure your Decoder implements one of the subclasses of javax.websocket.Decoder .. so it might look like &quot;public class MessageDecoder implements Decoder.Text&lt;Messate&gt; { ... }","body":"as Kim already wrote, the issue you have is about Decoder and possibly encoder as well - make sure your Decoder implements one of the subclasses of javax.websocket.Decoder .. so it might look like &quot;public class MessageDecoder implements Decoder.Text&lt;Messate&gt; { ... }"},{"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"score":0,"creation_date":1428507578,"post_id":29500133,"comment_id":47193454,"body_markdown":"Please take a look at question I have added MessageDecoder.java","body":"Please take a look at question I have added MessageDecoder.java"},{"owner":{"account_id":911826,"reputation":5324,"user_id":945485,"display_name":"Pavel Bucek"},"score":0,"creation_date":1428567159,"post_id":29500133,"comment_id":47219431,"body_markdown":"I&#39;m not sure what is the issue, since the code you provided looks ok. If possible, share the complete (buildable) sources somewhere and I can take a look. (we can continue on users@tyrus.java.net if you want, it might be more convenient..)","body":"I&#39;m not sure what is the issue, since the code you provided looks ok. If possible, share the complete (buildable) sources somewhere and I can take a look. (we can continue on users@tyrus.java.net if you want, it might be more convenient..)"},{"owner":{"account_id":1044297,"reputation":125,"user_id":1049613,"accept_rate":75,"display_name":"Mahmoud Y. Elatma"},"score":0,"creation_date":1510444925,"post_id":29500133,"comment_id":81438659,"body_markdown":"Did you find a solution to this issue????","body":"Did you find a solution to this issue????"}],"owner":{"account_id":3875725,"reputation":664,"user_id":3209819,"accept_rate":50,"display_name":"manpreetSingh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6696,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":0,"score":15,"last_activity_date":1688124341,"creation_date":1428436434,"question_id":29500133,"body_markdown":"I have been using GlassFish 4 as my server.\r\nI am opening a WebSocket connect using this statement:\r\n\r\n    webSocket = new WebSocket(link);\r\nWhere: \r\n\r\n    link = &#39;ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&#39;;\r\n\r\nAnd in the Server File:\r\n\r\n    @ServerEndpoint(value=&quot;/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&quot;, encoders = {MessageEncoder.class}, decoders = {MessageDecoder.class})\r\n\r\nActually, I have been using URL mapping as well, this &quot;**file333B1CDF85-DDDC-E411-8299-F82FA8BE8622**&quot; is actually is for the user, but at the back end, the control is in the &quot;**main.jsp**&quot; file.\r\nDuring the execution, the error generated is:\r\n\r\n    WebSocket connection to &#39;ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&#39; failed: Error during WebSocket handshake: Unexpected response code: 200\r\n\r\n**StackTrace** of Exception in the GlassFish server:\r\n\r\n    SEVERE: WebModule[/CollabEdit]Exception starting filter WebSocket filter\r\n    java.lang.InstantiationException\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:135)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:5297)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:5909)\r\n    \tat com.sun.enterprise.web.WebModule.start(WebModule.java:691)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1041)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:1024)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n    \tat com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:2278)\r\n    \tat com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1924)\r\n    \tat com.sun.enterprise.web.WebApplication.start(WebApplication.java:139)\r\n    \tat org.glassfish.internal.data.EngineRef.start(EngineRef.java:122)\r\n    \tat org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:291)\r\n    \tat org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:352)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:497)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:219)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:491)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:527)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:523)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:356)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:522)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:546)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1423)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1500(CommandRunnerImpl.java:108)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1762)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1674)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:534)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:224)\r\n    \tat org.glassfish.grizzly.http.server.StaticHttpHandler.service(StaticHttpHandler.java:297)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:246)\r\n    \tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:191)\r\n    \tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:168)\r\n    \tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:189)\r\n    \tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:288)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:206)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:136)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:114)\r\n    \tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n    \tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:838)\r\n    \tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:113)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:115)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:55)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:135)\r\n    \tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:564)\r\n    \tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:544)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: javax.servlet.ServletException: Web socket server initialization failed.\r\n    \tat org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:135)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:275)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:131)\r\n    \t... 46 more\r\n    Caused by: javax.websocket.DeploymentException: Decoder for type: class com.CollabEdit.Message has not been registered.\r\n    Decoder for type: class com.CollabEdit.Message has not been registered.\r\n    \tat org.glassfish.tyrus.core.ErrorCollector.composeComprehensiveException(ErrorCollector.java:83)\r\n    \tat org.glassfish.tyrus.server.TyrusServerContainer.start(TyrusServerContainer.java:144)\r\n    \tat org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:133)\r\n    \t... 48 more\r\n\r\n**Message.java:**\r\n\r\n    package com.CollabEdit;\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import java.io.StringWriter;\r\n    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n     \r\n    public class Message {\r\n        private JsonObject json;\r\n     \r\n        public Message(JsonObject json) {\r\n            this.json = json;\r\n        }\r\n     \r\n        public JsonObject getJson() {\r\n            return json;\r\n        }\r\n     \r\n        public void setJson(JsonObject json) {\r\n            this.json = json;\r\n        }\r\n     \r\n        @Override\r\n        public String toString(){\r\n            StringWriter writer = new StringWriter();\r\n     \r\n            Json.createWriter(writer).write(json);\r\n     \r\n            return writer.toString();\r\n        }\r\n    }\r\n\r\n**MessageDecoder.java:**\r\n\r\n    package com.CollabEdit;\r\n    \r\n    import java.io.StringReader;\r\n    import javax.json.Json;\r\n    import javax.json.JsonException;\r\n    import javax.json.JsonObject;\r\n    import javax.websocket.DecodeException;\r\n    import javax.websocket.Decoder;\r\n    import javax.websocket.EndpointConfig;\r\n     \r\n    /**\r\n     * Decodes a client-sent string into a Message class\r\n     */\r\n    public class MessageDecoder implements Decoder.Text&lt;Message&gt;\r\n    {\r\n        /**\r\n         * Transform the input string into a Message\r\n         */\r\n        @Override\r\n        public Message decode(String string) throws DecodeException {\r\n            JsonObject json = Json.createReader(new StringReader(string)).readObject();\r\n            return new Message(json);\r\n        }\r\n     \r\n        /**\r\n         * Checks whether the input can be turned into a valid Message object\r\n         * in this case, if we can read it as a Json object, we can.\r\n         */\r\n        @Override\r\n        public boolean willDecode(String string) {\r\n            try {\r\n                Json.createReader(new StringReader(string)).read();\r\n                return true;\r\n            } catch (JsonException ex) {\r\n                ex.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n     \r\n        /**\r\n         * The following two methods are placeholders as we don&#39;t need to do anything\r\n         * special for init or destroy.\r\n         */\r\n        @Override\r\n        public void init(EndpointConfig config) {\r\n            System.out.println(&quot;init&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n            System.out.println(&quot;destroy&quot;);\r\n        }\r\n     }c","title":"WebSocket Error during Handshake Unexpected code 200","body":"<p>I have been using GlassFish 4 as my server.\nI am opening a WebSocket connect using this statement:</p>\n<pre><code>webSocket = new WebSocket(link);\n</code></pre>\n<p>Where:</p>\n<pre><code>link = 'ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622';\n</code></pre>\n<p>And in the Server File:</p>\n<pre><code>@ServerEndpoint(value=&quot;/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622&quot;, encoders = {MessageEncoder.class}, decoders = {MessageDecoder.class})\n</code></pre>\n<p>Actually, I have been using URL mapping as well, this &quot;<strong>file333B1CDF85-DDDC-E411-8299-F82FA8BE8622</strong>&quot; is actually is for the user, but at the back end, the control is in the &quot;<strong>main.jsp</strong>&quot; file.\nDuring the execution, the error generated is:</p>\n<pre><code>WebSocket connection to 'ws://localhost:8080/CollabEdit/Document/file333B1CDF85-DDDC-E411-8299-F82FA8BE8622' failed: Error during WebSocket handshake: Unexpected response code: 200\n</code></pre>\n<p><strong>StackTrace</strong> of Exception in the GlassFish server:</p>\n<pre><code>SEVERE: WebModule[/CollabEdit]Exception starting filter WebSocket filter\njava.lang.InstantiationException\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:135)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:5297)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:5909)\n    at com.sun.enterprise.web.WebModule.start(WebModule.java:691)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1041)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:1024)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n    at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:2278)\n    at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1924)\n    at com.sun.enterprise.web.WebApplication.start(WebApplication.java:139)\n    at org.glassfish.internal.data.EngineRef.start(EngineRef.java:122)\n    at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:291)\n    at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:352)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:497)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:219)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:491)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:527)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:523)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:356)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:522)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:546)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1423)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1500(CommandRunnerImpl.java:108)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1762)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1674)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:534)\n    at com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:224)\n    at org.glassfish.grizzly.http.server.StaticHttpHandler.service(StaticHttpHandler.java:297)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:246)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:191)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:168)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:189)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:288)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:206)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:136)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:114)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:838)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:113)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:115)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:55)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:135)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:564)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:544)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: javax.servlet.ServletException: Web socket server initialization failed.\n    at org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:135)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:275)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:131)\n    ... 46 more\nCaused by: javax.websocket.DeploymentException: Decoder for type: class com.CollabEdit.Message has not been registered.\nDecoder for type: class com.CollabEdit.Message has not been registered.\n    at org.glassfish.tyrus.core.ErrorCollector.composeComprehensiveException(ErrorCollector.java:83)\n    at org.glassfish.tyrus.server.TyrusServerContainer.start(TyrusServerContainer.java:144)\n    at org.glassfish.tyrus.servlet.TyrusServletFilter.init(TyrusServletFilter.java:133)\n    ... 48 more\n</code></pre>\n<p><strong>Message.java:</strong></p>\n<pre><code>package com.CollabEdit;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport java.io.StringWriter;\nimport javax.json.Json;\nimport javax.json.JsonObject;\n \npublic class Message {\n    private JsonObject json;\n \n    public Message(JsonObject json) {\n        this.json = json;\n    }\n \n    public JsonObject getJson() {\n        return json;\n    }\n \n    public void setJson(JsonObject json) {\n        this.json = json;\n    }\n \n    @Override\n    public String toString(){\n        StringWriter writer = new StringWriter();\n \n        Json.createWriter(writer).write(json);\n \n        return writer.toString();\n    }\n}\n</code></pre>\n<p><strong>MessageDecoder.java:</strong></p>\n<pre><code>package com.CollabEdit;\n\nimport java.io.StringReader;\nimport javax.json.Json;\nimport javax.json.JsonException;\nimport javax.json.JsonObject;\nimport javax.websocket.DecodeException;\nimport javax.websocket.Decoder;\nimport javax.websocket.EndpointConfig;\n \n/**\n * Decodes a client-sent string into a Message class\n */\npublic class MessageDecoder implements Decoder.Text&lt;Message&gt;\n{\n    /**\n     * Transform the input string into a Message\n     */\n    @Override\n    public Message decode(String string) throws DecodeException {\n        JsonObject json = Json.createReader(new StringReader(string)).readObject();\n        return new Message(json);\n    }\n \n    /**\n     * Checks whether the input can be turned into a valid Message object\n     * in this case, if we can read it as a Json object, we can.\n     */\n    @Override\n    public boolean willDecode(String string) {\n        try {\n            Json.createReader(new StringReader(string)).read();\n            return true;\n        } catch (JsonException ex) {\n            ex.printStackTrace();\n            return false;\n        }\n    }\n \n    /**\n     * The following two methods are placeholders as we don't need to do anything\n     * special for init or destroy.\n     */\n    @Override\n    public void init(EndpointConfig config) {\n        System.out.println(&quot;init&quot;);\n    }\n\n    @Override\n    public void destroy() {\n        System.out.println(&quot;destroy&quot;);\n    }\n }c\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1645808473,"post_id":71249551,"comment_id":125976434,"body_markdown":"try `customTest.jacoco.enabled = true`","body":"try <code>customTest.jacoco.enabled = true</code>"}],"answers":[{"tags":[],"owner":{"account_id":63188,"reputation":19454,"user_id":187206,"accept_rate":90,"display_name":"Tom Tresansky"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652905196,"creation_date":1652905196,"answer_id":72295477,"question_id":71249551,"body_markdown":"See the new [JaCoCo Report Aggregation Plugin][1] and the [aggregation related Samples][2] (under the Java heading) for information on how to consolidate coverage across multiple test suites.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/jacoco_report_aggregation_plugin.html\r\n  [2]: https://docs.gradle.org/current/samples/","title":"How to use Jacoco plugin along with JVM test suites plugin in Gradle?","body":"<p>See the new <a href=\"https://docs.gradle.org/current/userguide/jacoco_report_aggregation_plugin.html\" rel=\"nofollow noreferrer\">JaCoCo Report Aggregation Plugin</a> and the <a href=\"https://docs.gradle.org/current/samples/\" rel=\"nofollow noreferrer\">aggregation related Samples</a> (under the Java heading) for information on how to consolidate coverage across multiple test suites.</p>\n"},{"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688123868,"creation_date":1685488502,"answer_id":76369173,"question_id":71249551,"body_markdown":"Considering that you&#39;ve defined an additional test suite (`integrationTest`) and added jacoco plugin as follows:\r\n\r\n```kotlin\r\nplugins {\r\n    java\r\n    `jvm-test-suite`\r\n    jacoco\r\n}\r\n\r\ntesting {\r\n    suites {\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        named&lt;JvmTestSuite&gt;(&quot;test&quot;) {\r\n        useJUnitJupiter()\r\n            testType.set(TestSuiteType.UNIT_TEST)\r\n        }\r\n\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        register&lt;JvmTestSuite&gt;(&quot;integrationTest&quot;) {\r\n            useJUnitJupiter()\r\n            testType.set(TestSuiteType.INTEGRATION_TEST)\r\n\r\n            dependencies {\r\n                configurations.named(&quot;integrationTestImplementation&quot;) {\r\n                    extendsFrom(configurations.testImplementation.get())\r\n                }\r\n                implementation(project())\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\neach time you execute either `test` or `integrationTest` there is a corresponding jacoco exec file created at `build/(test|integrationTest).exec`\r\n\r\nNow to get html-reports (or xml/csv-reports, depending on which one you&#39;ve requested in `tasks.jacocoTestReport {...}` block), `jacoco` plugin adds `jacocoTestReport` task which transforms `.exec` file into other formats. The `jacocoTestReport` assumes that there is only one default test suite called `test` and thus only respects `build/jacoco/test.exec`.\r\n\r\nAs for now (Gradle 8.1.1), adding the [`jacoco-report-aggregation` plugin](https://docs.gradle.org/8.1.1/userguide/jacoco_report_aggregation_plugin.html) to the build will automatically create corresponding task to convert `.exec` coverage data into other formats for any additional test suite you declare. In my example, after applying `id(&quot;jacoco-report-aggregation&quot;)`, I will automatically get `integrationTestCodeCoverageReport` task which will take care of transforming `build/jacoco/integrationTest.exec` into html and/or other formats.\r\n\r\nFinally, if I want to have a single aggregated coverage report in html format, I need to use the `testCodeCoverageReport` task, which was also brought by introducing `jacoco-report-aggregation` to the build. Based on the description (&quot;Generates __aggregated__ code coverage report&quot;) the goal of this task is exactly report aggregation. But you need to adjust it&#39;s configuration before using, so it becomes aware of your custom test suite:\r\n\r\n```kotlin\r\nreporting {\r\n    reports {\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        named&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReport&quot;) {\r\n            reportTask {\r\n                executionData.builtBy(tasks.test, tasks.named(&quot;integrationTest&quot;)) // adding dependencies between aggregate reporting and test tasks\r\n                executionData.from( // specifying paths to process coverage in .exec format\r\n                    project.layout.buildDirectory.file(&quot;jacoco/test.exec&quot;),\r\n                    project.layout.buildDirectory.file(&quot;jacoco/integrationTest.exec&quot;)\r\n                )\r\n            }\r\n            testType.set(&quot;Aggregate&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow to get a single aggregated coverage report in html, execute `./gadlew test integrationTest testCodeCoverageReport`\r\n\r\n---\r\n\r\nUPD 2023-06-30\r\n\r\nAs for Gradle 8.1 [here](https://github.com/jjohannes/understanding-gradle/blob/e3ef31d728e6d13fb08a58984e9af546d2c90340/21_Test_and_Code_Coverage_Reporting/my-build-logic/java-plugins/src/main/kotlin/my-java-application.gradle.kts#L10C1-L21) is the universal way to aggregate INTEGRATION_TEST coverage data in addition to UNIT_TEST coverage (without hard-coding paths to `.exec` files) and to produce a single report as a result:\r\n\r\n```kotlin\r\nreporting {\r\n    reports {\r\n        @Suppress(&quot;UnstableApiUsage&quot;)\r\n        create&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReportRoot&quot;) {\r\n            testType.set(TestSuiteType.UNIT_TEST)\r\n            reportTask {\r\n                executionData.from(\r\n                    configurations[&quot;aggregateCodeCoverageReportResults&quot;]\r\n                        .incoming.artifactView {\r\n                            lenient(true)\r\n                            withVariantReselection()\r\n                            attributes {\r\n                                attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category.VERIFICATION))\r\n                                attribute(TestSuiteType.TEST_SUITE_TYPE_ATTRIBUTE, objects.named(TestSuiteType.INTEGRATION_TEST))\r\n                                attribute(VerificationType.VERIFICATION_TYPE_ATTRIBUTE, objects.named(VerificationType.JACOCO_RESULTS))\r\n                                attribute(ArtifactTypeDefinition.ARTIFACT_TYPE_ATTRIBUTE, ArtifactTypeDefinition.BINARY_DATA_TYPE)\r\n                            }\r\n                        }.files,\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you perform coverage aggregation in a separate module, do not forget to add your source/test code modules as a dependencies with `jacocoAggregation` scope, like this: \r\n```kotlin\r\ndependencies {\r\n    jacocoAggregation(project(&quot;:my-domain-model-with-unit-tests-only&quot;))\r\n    jacocoAggregation(project(&quot;:spring-boot-app-with-unit-and-integration-tests&quot;))\r\n}\r\n```\r\n\r\nMany thanks to Jendrik Johannes for [his youtube video series &quot;Understanding Gradle&quot;](https://www.youtube.com/watch?v=uZvzWlP9BYE) and [his great accompanied examples on GitHub](https://github.com/jjohannes/understanding-gradle/tree/main/21_Test_and_Code_Coverage_Reporting)","title":"How to use Jacoco plugin along with JVM test suites plugin in Gradle?","body":"<p>Considering that you've defined an additional test suite (<code>integrationTest</code>) and added jacoco plugin as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n    `jvm-test-suite`\n    jacoco\n}\n\ntesting {\n    suites {\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        named&lt;JvmTestSuite&gt;(&quot;test&quot;) {\n        useJUnitJupiter()\n            testType.set(TestSuiteType.UNIT_TEST)\n        }\n\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        register&lt;JvmTestSuite&gt;(&quot;integrationTest&quot;) {\n            useJUnitJupiter()\n            testType.set(TestSuiteType.INTEGRATION_TEST)\n\n            dependencies {\n                configurations.named(&quot;integrationTestImplementation&quot;) {\n                    extendsFrom(configurations.testImplementation.get())\n                }\n                implementation(project())\n            }\n        }\n    }\n}\n</code></pre>\n<p>each time you execute either <code>test</code> or <code>integrationTest</code> there is a corresponding jacoco exec file created at <code>build/(test|integrationTest).exec</code></p>\n<p>Now to get html-reports (or xml/csv-reports, depending on which one you've requested in <code>tasks.jacocoTestReport {...}</code> block), <code>jacoco</code> plugin adds <code>jacocoTestReport</code> task which transforms <code>.exec</code> file into other formats. The <code>jacocoTestReport</code> assumes that there is only one default test suite called <code>test</code> and thus only respects <code>build/jacoco/test.exec</code>.</p>\n<p>As for now (Gradle 8.1.1), adding the <a href=\"https://docs.gradle.org/8.1.1/userguide/jacoco_report_aggregation_plugin.html\" rel=\"nofollow noreferrer\"><code>jacoco-report-aggregation</code> plugin</a> to the build will automatically create corresponding task to convert <code>.exec</code> coverage data into other formats for any additional test suite you declare. In my example, after applying <code>id(&quot;jacoco-report-aggregation&quot;)</code>, I will automatically get <code>integrationTestCodeCoverageReport</code> task which will take care of transforming <code>build/jacoco/integrationTest.exec</code> into html and/or other formats.</p>\n<p>Finally, if I want to have a single aggregated coverage report in html format, I need to use the <code>testCodeCoverageReport</code> task, which was also brought by introducing <code>jacoco-report-aggregation</code> to the build. Based on the description (&quot;Generates <strong>aggregated</strong> code coverage report&quot;) the goal of this task is exactly report aggregation. But you need to adjust it's configuration before using, so it becomes aware of your custom test suite:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>reporting {\n    reports {\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        named&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReport&quot;) {\n            reportTask {\n                executionData.builtBy(tasks.test, tasks.named(&quot;integrationTest&quot;)) // adding dependencies between aggregate reporting and test tasks\n                executionData.from( // specifying paths to process coverage in .exec format\n                    project.layout.buildDirectory.file(&quot;jacoco/test.exec&quot;),\n                    project.layout.buildDirectory.file(&quot;jacoco/integrationTest.exec&quot;)\n                )\n            }\n            testType.set(&quot;Aggregate&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Now to get a single aggregated coverage report in html, execute <code>./gadlew test integrationTest testCodeCoverageReport</code></p>\n<hr />\n<p>UPD 2023-06-30</p>\n<p>As for Gradle 8.1 <a href=\"https://github.com/jjohannes/understanding-gradle/blob/e3ef31d728e6d13fb08a58984e9af546d2c90340/21_Test_and_Code_Coverage_Reporting/my-build-logic/java-plugins/src/main/kotlin/my-java-application.gradle.kts#L10C1-L21\" rel=\"nofollow noreferrer\">here</a> is the universal way to aggregate INTEGRATION_TEST coverage data in addition to UNIT_TEST coverage (without hard-coding paths to <code>.exec</code> files) and to produce a single report as a result:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>reporting {\n    reports {\n        @Suppress(&quot;UnstableApiUsage&quot;)\n        create&lt;JacocoCoverageReport&gt;(&quot;testCodeCoverageReportRoot&quot;) {\n            testType.set(TestSuiteType.UNIT_TEST)\n            reportTask {\n                executionData.from(\n                    configurations[&quot;aggregateCodeCoverageReportResults&quot;]\n                        .incoming.artifactView {\n                            lenient(true)\n                            withVariantReselection()\n                            attributes {\n                                attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category.VERIFICATION))\n                                attribute(TestSuiteType.TEST_SUITE_TYPE_ATTRIBUTE, objects.named(TestSuiteType.INTEGRATION_TEST))\n                                attribute(VerificationType.VERIFICATION_TYPE_ATTRIBUTE, objects.named(VerificationType.JACOCO_RESULTS))\n                                attribute(ArtifactTypeDefinition.ARTIFACT_TYPE_ATTRIBUTE, ArtifactTypeDefinition.BINARY_DATA_TYPE)\n                            }\n                        }.files,\n                )\n            }\n        }\n    }\n}\n</code></pre>\n<p>If you perform coverage aggregation in a separate module, do not forget to add your source/test code modules as a dependencies with <code>jacocoAggregation</code> scope, like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    jacocoAggregation(project(&quot;:my-domain-model-with-unit-tests-only&quot;))\n    jacocoAggregation(project(&quot;:spring-boot-app-with-unit-and-integration-tests&quot;))\n}\n</code></pre>\n<p>Many thanks to Jendrik Johannes for <a href=\"https://www.youtube.com/watch?v=uZvzWlP9BYE\" rel=\"nofollow noreferrer\">his youtube video series &quot;Understanding Gradle&quot;</a> and <a href=\"https://github.com/jjohannes/understanding-gradle/tree/main/21_Test_and_Code_Coverage_Reporting\" rel=\"nofollow noreferrer\">his great accompanied examples on GitHub</a></p>\n"}],"owner":{"account_id":6508380,"reputation":571,"user_id":5036543,"accept_rate":95,"display_name":"Sukhbir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688123868,"creation_date":1645693748,"question_id":71249551,"body_markdown":"We have a java project which is using gradle build tool. We are using jacoco plugin to generate test coverage report. Later we have added test suites using JVM Test Suite plugin of gradle. We have observed that all those test classes run by test suites are not getting covered in code coverage report of jacoco. So If anyone got some idea what exactly should i write in build.gradle file for accomplish this, that would be great. Thanks.\r\n\r\nThis is the build.gradle file snippet:-\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;jvm-test-suite&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\ntesting {\r\n    suites {\r\n        test {\r\n            useJUnitJupiter()\r\n        }\r\n\r\n        customTest(JvmTestSuite) {\r\n            dependencies {\r\n                ... // some dependencies\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named(&#39;check&#39;) {\r\n    dependsOn(testing.suites.customTest)\r\n}\r\n\r\ndependencies {\r\n... // some other dependencies\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.required = true\r\n    }\r\n}\r\n```","title":"How to use Jacoco plugin along with JVM test suites plugin in Gradle?","body":"<p>We have a java project which is using gradle build tool. We are using jacoco plugin to generate test coverage report. Later we have added test suites using JVM Test Suite plugin of gradle. We have observed that all those test classes run by test suites are not getting covered in code coverage report of jacoco. So If anyone got some idea what exactly should i write in build.gradle file for accomplish this, that would be great. Thanks.</p>\n<p>This is the build.gradle file snippet:-</p>\n<pre><code>plugins {\n    id 'java'\n    id 'jacoco'\n    id 'jvm-test-suite'\n}\n\ntest {\n    useJUnitPlatform()\n    finalizedBy jacocoTestReport\n}\n\ntesting {\n    suites {\n        test {\n            useJUnitJupiter()\n        }\n\n        customTest(JvmTestSuite) {\n            dependencies {\n                ... // some dependencies\n            }\n        }\n    }\n}\n\ntasks.named('check') {\n    dependsOn(testing.suites.customTest)\n}\n\ndependencies {\n... // some other dependencies\n}\n\njacocoTestReport {\n    dependsOn test\n    reports {\n        xml.required = true\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","reactor-netty"],"comments":[{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1688136251,"post_id":76588435,"comment_id":135037792,"body_markdown":"This version of Reactor Netty is not supported, please upgrade.","body":"This version of Reactor Netty is not supported, please upgrade."},{"owner":{"account_id":5210182,"reputation":458,"user_id":4621535,"accept_rate":12,"display_name":"Arpit"},"score":0,"creation_date":1688151458,"post_id":76588435,"comment_id":135040537,"body_markdown":"@VioletaGeorgieva do you have any idea on default number of connections, is there no limit ?","body":"@VioletaGeorgieva do you have any idea on default number of connections, is there no limit ?"},{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1688154682,"post_id":76588435,"comment_id":135041093,"body_markdown":"are you asking about this https://stackoverflow.com/questions/60099270/does-netty-expose-the-number-of-connections-in-the-backlog-of-the-parentgroup","body":"are you asking about this <a href=\"https://stackoverflow.com/questions/60099270/does-netty-expose-the-number-of-connections-in-the-backlog-of-the-parentgroup\" title=\"does netty expose the number of connections in the backlog of the parentgroup\">stackoverflow.com/questions/60099270/&hellip;</a>"},{"owner":{"account_id":5210182,"reputation":458,"user_id":4621535,"accept_rate":12,"display_name":"Arpit"},"score":0,"creation_date":1688362076,"post_id":76588435,"comment_id":135058754,"body_markdown":"@VioletaGeorgieva i am looking for what is number of max connection netty server will accept and process at any given time, For example tomcat has 10k connection limit : https://tomcat.apache.org/tomcat-7.0-doc/config/http.html, Is this the same ?","body":"@VioletaGeorgieva i am looking for what is number of max connection netty server will accept and process at any given time, For example tomcat has 10k connection limit : <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/config/http.html</a>, Is this the same ?"},{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1688463475,"post_id":76588435,"comment_id":135074363,"body_markdown":"there isn&#39;t any","body":"there isn&#39;t any"}],"owner":{"account_id":5210182,"reputation":458,"user_id":4621535,"accept_rate":12,"display_name":"Arpit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688123858,"creation_date":1688123858,"question_id":76588435,"body_markdown":"For reactor netty http server not able to figure-out couple of info : \r\n\r\n - How to get max number of http server connection by default and how to modify them ? [Tried going over [this][1] but didn&#39;t find proper info]\r\n- How to publish the reactor netty http server connection/event loop lag metrics ? [Tried this but didnt help `management.metrics.enable.reactor.netty.http.server.connections=true`] \r\n\r\n- Spring boot starter : 2.3.12\r\n\r\n- Reactor netty : 0.9.20\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/netty/snapshot/reference/index.html","title":"Reactor netty http server metrics and connection limit","body":"<p>For reactor netty http server not able to figure-out couple of info :</p>\n<ul>\n<li><p>How to get max number of http server connection by default and how to modify them ? [Tried going over <a href=\"https://projectreactor.io/docs/netty/snapshot/reference/index.html\" rel=\"nofollow noreferrer\">this</a> but didn't find proper info]</p>\n</li>\n<li><p>How to publish the reactor netty http server connection/event loop lag metrics ? [Tried this but didnt help <code>management.metrics.enable.reactor.netty.http.server.connections=true</code>]</p>\n</li>\n<li><p>Spring boot starter : 2.3.12</p>\n</li>\n<li><p>Reactor netty : 0.9.20</p>\n</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-boot-test","application.properties"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1515149256,"post_id":48111941,"comment_id":83199516,"body_markdown":"can you show this class ApplicationConfiguration","body":"can you show this class ApplicationConfiguration"},{"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"score":0,"creation_date":1515149332,"post_id":48111941,"comment_id":83199563,"body_markdown":"I just edited my question to add ApplicationConfiguration.. When I run the application it is picking up the properties. problem is only when i run the test cases.","body":"I just edited my question to add ApplicationConfiguration.. When I run the application it is picking up the properties. problem is only when i run the test cases."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1515150310,"post_id":48111941,"comment_id":83200086,"body_markdown":"is the properties object null or xxxxx and yyyyy is null?","body":"is the properties object null or xxxxx and yyyyy is null?"},{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1515150576,"post_id":48111941,"comment_id":83200246,"body_markdown":"Did you create this project with the spring-boot initialiser?","body":"Did you create this project with the spring-boot initialiser?"},{"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"score":0,"creation_date":1515152602,"post_id":48111941,"comment_id":83201371,"body_markdown":"@pvpkiran properties object is not null... only the fields are null","body":"@pvpkiran properties object is not null... only the fields are null"},{"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"score":0,"creation_date":1515152727,"post_id":48111941,"comment_id":83201442,"body_markdown":"@pandaadb no.. I didnt.. I created a  gradle java project... and configured the build.gradle","body":"@pandaadb no.. I didnt.. I created a  gradle java project... and configured the build.gradle"}],"answers":[{"comments":[{"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"score":1,"creation_date":1515238339,"post_id":48114025,"comment_id":83230416,"body_markdown":"OMG! That works.. Thanks a lot!! I tried everything except this!!","body":"OMG! That works.. Thanks a lot!! I tried everything except this!!"},{"owner":{"account_id":2480428,"reputation":124,"user_id":2161279,"display_name":"TheBestPessimist"},"score":1,"creation_date":1610023242,"post_id":48114025,"comment_id":116005123,"body_markdown":"Thank you for this. It&#39;s bugged me for so long!","body":"Thank you for this. It&#39;s bugged me for so long!"}],"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":2,"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1530605468,"creation_date":1515156627,"answer_id":48114025,"question_id":48111941,"body_markdown":"The issue is you don&#39;t have `@EnableConfigurationProperties` on your test class.   \r\nWhen you load the application it start from main class(one which has `@SpringBootApplication`) where you might have `@EnableConfigurationProperties` and hence it works when you start the application.  \r\n Whereas when you are running the Test with only `ApplicationConfiguration` class as you have specified here  \r\n\r\n    @SpringBootTest(classes=ApplicationConfiguration.class)\r\n\r\nSpring doesn&#39;t know that it has to Enable Configuration Properties and hence the fields are not injecting and hence null. But spring is reading your `application-test.properties` file. This can be confirmed by just injecting the value directly in your test class  \r\n\r\n    @Value(&quot;${xxxxx}&quot;)\r\n    private String xxxxx;\r\n\r\nHere the value is injected. But to inject into a class with `ConfigurationProperties` you need to enable it using `@EnableConfigurationProperties`\r\n\r\nPut `@EnableConfigurationProperties` on your test class and everythhing works fine.","title":"Spring-boot application-test.properties","body":"<p>The issue is you don't have <code>@EnableConfigurationProperties</code> on your test class.<br>\nWhen you load the application it start from main class(one which has <code>@SpringBootApplication</code>) where you might have <code>@EnableConfigurationProperties</code> and hence it works when you start the application.<br>\n Whereas when you are running the Test with only <code>ApplicationConfiguration</code> class as you have specified here  </p>\n\n<pre><code>@SpringBootTest(classes=ApplicationConfiguration.class)\n</code></pre>\n\n<p>Spring doesn't know that it has to Enable Configuration Properties and hence the fields are not injecting and hence null. But spring is reading your <code>application-test.properties</code> file. This can be confirmed by just injecting the value directly in your test class  </p>\n\n<pre><code>@Value(\"${xxxxx}\")\nprivate String xxxxx;\n</code></pre>\n\n<p>Here the value is injected. But to inject into a class with <code>ConfigurationProperties</code> you need to enable it using <code>@EnableConfigurationProperties</code></p>\n\n<p>Put <code>@EnableConfigurationProperties</code> on your test class and everythhing works fine.</p>\n"}],"owner":{"account_id":1194580,"reputation":223,"user_id":1166567,"accept_rate":25,"display_name":"FunWithJava"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42930,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":48114025,"answer_count":1,"score":16,"last_activity_date":1688123568,"creation_date":1515149070,"question_id":48111941,"body_markdown":"I am trying to unit test the spring-boot application using junit. I have placed the application-test.properties under src/test/resources. I have a ApplicationConfiguration Class which reads the application.properties.\r\n\r\nMy test class looks like this\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes=ApplicationConfiguration.class)\r\n    @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n       public class TestBuilders {\r\n          @Autowired\r\n          private ApplicationConfiguration properties;\r\n\r\n\r\nWhen I try to read the properties, it is always null. \r\n\r\nMy ApplicationConfiguration Class looks something like this\r\n\r\n    @Configuration\r\n    @ConfigurationProperties\r\n    @PropertySources({\r\n        @PropertySource(&quot;classpath:application.properties&quot;),\r\n        @PropertySource(value=&quot;file:config.properties&quot;, ignoreResourceNotFound = \r\n            true)})\r\n    public class ApplicationConfiguration{\r\n        private xxxxx;\r\n        private yyyyy;\r\n\r\n\r\n\r\n\r\nI tried all possible ways that I found on google.. No luck. Please help!\r\nThanks in Advance.\r\n","title":"Spring-boot application-test.properties","body":"<p>I am trying to unit test the spring-boot application using junit. I have placed the application-test.properties under src/test/resources. I have a ApplicationConfiguration Class which reads the application.properties.</p>\n\n<p>My test class looks like this</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes=ApplicationConfiguration.class)\n@TestPropertySource(locations = \"classpath:application-test.properties\")\n@ActiveProfiles(\"test\")\n   public class TestBuilders {\n      @Autowired\n      private ApplicationConfiguration properties;\n</code></pre>\n\n<p>When I try to read the properties, it is always null. </p>\n\n<p>My ApplicationConfiguration Class looks something like this</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties\n@PropertySources({\n    @PropertySource(\"classpath:application.properties\"),\n    @PropertySource(value=\"file:config.properties\", ignoreResourceNotFound = \n        true)})\npublic class ApplicationConfiguration{\n    private xxxxx;\n    private yyyyy;\n</code></pre>\n\n<p>I tried all possible ways that I found on google.. No luck. Please help!\nThanks in Advance.</p>\n"},{"tags":["java","spring-boot","jpa","named-parameters"],"comments":[{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1688121455,"post_id":76588092,"comment_id":135034608,"body_markdown":"According to me, this error has nothing to do with JPA. I think that the List&lt;String&gt; idList which are passed over the Parameter are realy Empty! Can you check bevor you call the method findItems method with System.out.println(&quot;&quot;+idList.length()); what the size of the list is?","body":"According to me, this error has nothing to do with JPA. I think that the List&lt;String&gt; idList which are passed over the Parameter are realy Empty! Can you check bevor you call the method findItems method with System.out.println(&quot;&quot;+idList.length()); what the size of the list is?"},{"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"score":0,"creation_date":1688121855,"post_id":76588092,"comment_id":135034693,"body_markdown":"The list has contents, but when the list has more than 1 item then I&#39;m getting that error.","body":"The list has contents, but when the list has more than 1 item then I&#39;m getting that error."},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1688122707,"post_id":76588092,"comment_id":135034862,"body_markdown":"did you try with System.out.println(&quot;&quot;+idList.length()); bevor you call the findItems method? please try this. because the Exeptions meens that the List idList are empty.","body":"did you try with System.out.println(&quot;&quot;+idList.length()); bevor you call the findItems method? please try this. because the Exeptions meens that the List idList are empty."},{"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"score":0,"creation_date":1688122998,"post_id":76588092,"comment_id":135034913,"body_markdown":"yes I did before I posted the question, System.out.println(&quot;&quot;+idList.size()) since it is List from the collections framework.","body":"yes I did before I posted the question, System.out.println(&quot;&quot;+idList.size()) since it is List from the collections framework."}],"answers":[{"comments":[{"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"score":0,"creation_date":1688198831,"post_id":76588363,"comment_id":135044444,"body_markdown":"Tried this one and it&#39;s the same &#128553;","body":"Tried this one and it&#39;s the same 😩"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688209266,"post_id":76588363,"comment_id":135045396,"body_markdown":"Please check my answer in similar case: https://stackoverflow.com/questions/76593358/jpa-query-annotation-problem-to-use-in-clause-with-java-arraylist Hope it helps.","body":"Please check my answer in similar case: <a href=\"https://stackoverflow.com/questions/76593358/jpa-query-annotation-problem-to-use-in-clause-with-java-arraylist\" title=\"jpa query annotation problem to use in clause with java arraylist\">stackoverflow.com/questions/76593358/&hellip;</a> Hope it helps."},{"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"score":0,"creation_date":1688339165,"post_id":76588363,"comment_id":135057226,"body_markdown":"Hi @Mar-Z, the coalesce(:idList) worked. thanks","body":"Hi @Mar-Z, the coalesce(:idList) worked. thanks"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688363879,"post_id":76588363,"comment_id":135058955,"body_markdown":"Cool. Thanks for feedback. I have seen the coalesce(:idList) solution and tried it but it doesn&#39;t work for me. At least not with H2 database.","body":"Cool. Thanks for feedback. I have seen the coalesce(:idList) solution and tried it but it doesn&#39;t work for me. At least not with H2 database."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1688123246,"creation_date":1688123246,"answer_id":76588363,"question_id":76588092,"body_markdown":"Add parentheses like this:\r\n```\r\n@Query(&quot;&quot;&quot;\r\nSELECT items FROM ItemEntity items WHERE items.type = :type\r\nAND (:idList IS NULL OR items.id IN (:idList))\r\n&quot;&quot;&quot;)\r\n```","title":"JPA Query named parameter issue in Repository","body":"<p>Add parentheses like this:</p>\n<pre><code>@Query(&quot;&quot;&quot;\nSELECT items FROM ItemEntity items WHERE items.type = :type\nAND (:idList IS NULL OR items.id IN (:idList))\n&quot;&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76588363,"answer_count":1,"score":1,"last_activity_date":1688123381,"creation_date":1688120787,"question_id":76588092,"body_markdown":"I have this method in my repository:\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\nSELECT items FROM ItemEntity items WHERE items.type = :type\r\nAND (:idList IS NULL OR items.id IN :idList)\r\n&quot;&quot;&quot;)\r\nList&lt;Items&gt; findItems(@Param(&quot;type&quot;) String type, @Param(&quot;idList&quot;) List&lt;String&gt; idList);\r\n```\r\n\r\nIt works when `idList` is `null` or has only 1 item, but it gives me an `IndexOutOfBoundsException` when `idList` contains more than 1 item:\r\n\r\n```\r\njava.lang.IndexOutOfBoundsException: Index: 0\r\nat java.base/java.util.Collections$EmptyList.get(Collections.java:4586) ~[na:na]\r\n```\r\n\r\nI don&#39;t know what&#39;s causing it.","title":"JPA Query named parameter issue in Repository","body":"<p>I have this method in my repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\nSELECT items FROM ItemEntity items WHERE items.type = :type\nAND (:idList IS NULL OR items.id IN :idList)\n&quot;&quot;&quot;)\nList&lt;Items&gt; findItems(@Param(&quot;type&quot;) String type, @Param(&quot;idList&quot;) List&lt;String&gt; idList);\n</code></pre>\n<p>It works when <code>idList</code> is <code>null</code> or has only 1 item, but it gives me an <code>IndexOutOfBoundsException</code> when <code>idList</code> contains more than 1 item:</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0\nat java.base/java.util.Collections$EmptyList.get(Collections.java:4586) ~[na:na]\n</code></pre>\n<p>I don't know what's causing it.</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688052930,"post_id":76582524,"comment_id":135025069,"body_markdown":"There&#39;s [this](https://mvnrepository.com/artifact/org.testobject) in Maven Central. I don&#39;t see a `build.gradle` or `pom.xml` in the project, so it&#39;s hard to tell if that&#39;s it. In general, googling `maven packagename` will do the trick if the jar is in Maven Central.","body":"There&#39;s <a href=\"https://mvnrepository.com/artifact/org.testobject\" rel=\"nofollow noreferrer\">this</a> in Maven Central. I don&#39;t see a <code>build.gradle</code> or <code>pom.xml</code> in the project, so it&#39;s hard to tell if that&#39;s it. In general, googling <code>maven packagename</code> will do the trick if the jar is in Maven Central."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1688053481,"post_id":76582524,"comment_id":135025181,"body_markdown":"Maybe ask the maintainer?","body":"Maybe ask the maintainer?"}],"answers":[{"comments":[{"owner":{"account_id":5361124,"reputation":187,"user_id":4272345,"accept_rate":73,"display_name":"Mateo"},"score":0,"creation_date":1688057043,"post_id":76582631,"comment_id":135025924,"body_markdown":"I think you are correct. The project is from 2014, and seems there is a legacy version of that support-v4 android library. Thank you Antonio!!","body":"I think you are correct. The project is from 2014, and seems there is a legacy version of that support-v4 android library. Thank you Antonio!!"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688063779,"post_id":76582631,"comment_id":135027239,"body_markdown":"This URL `https://mvnrepository.com` is *NOT* the Maven Central Repository.  This is the search engine for the &quot;Central repository&quot;: https://repo.maven.apache.org/maven2/ and the repository itself is this: https://repo.maven.apache.org/maven2/","body":"This URL <code>https:&#47;&#47;mvnrepository.com</code> is <i>NOT</i> the Maven Central Repository.  This is the search engine for the &quot;Central repository&quot;: <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a> and the repository itself is this: <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>"},{"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1688123223,"post_id":76582631,"comment_id":135034971,"body_markdown":"Thank you, I am going to fix my post. Thank you!","body":"Thank you, I am going to fix my post. Thank you!"}],"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688123234,"creation_date":1688053462,"answer_id":76582631,"question_id":76582524,"body_markdown":"You have simply to query **Maven Repository Search** by [this URL][1] then you will get this [artifact][2]:\r\n\r\n[![][3]][3]\r\n\r\n\r\n  [1]: https://mvnrepository.com/search?q=org.testobject\r\n  [2]: https://mvnrepository.com/artifact/org.testobject/testobject-java-api\r\n  [3]: https://i.stack.imgur.com/n8AB9.png","title":"How can I determine the maven dependency for org.testobject","body":"<p>You have simply to query <strong>Maven Repository Search</strong> by <a href=\"https://mvnrepository.com/search?q=org.testobject\" rel=\"nofollow noreferrer\">this URL</a> then you will get this <a href=\"https://mvnrepository.com/artifact/org.testobject/testobject-java-api\" rel=\"nofollow noreferrer\">artifact</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/n8AB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n8AB9.png\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":5361124,"reputation":187,"user_id":4272345,"accept_rate":73,"display_name":"Mateo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76582631,"answer_count":1,"score":0,"last_activity_date":1688123234,"creation_date":1688052567,"question_id":76582524,"body_markdown":"I cloned a project from github that has an interesting dependency on org.testobject. For the life of me I cannot find this library. Can anyone point me in the correct direction? It seems to be android specific. Below is the class file imports. The github project can be found [here][1]\r\n\r\n    package crawler.device.genymotion;\r\n    import com.android.ddmlib.IDevice;\r\n    import org.testobject.capture.CaptureServer;\r\n    import org.testobject.capture.Settings;\r\n    import org.testobject.capture.sockets.CaptureSocketServerProxy;\r\n    import org.testobject.capture.vnc.Const;\r\n    import org.testobject.capture.vnc.VncCaptureServer;\r\n    import org.testobject.commons.bus.EventBus;\r\n    import org.testobject.commons.bus.EventEmitter;\r\n    import org.testobject.commons.bus.SimpleEventBus;\r\n    import org.testobject.commons.events.KeyEvent;\r\n    import org.testobject.commons.events.PointerClickEvent;\r\n    import org.testobject.commons.events.PointerEvent;\r\n    import org.testobject.commons.events.TimestampEvent;\r\n    import org.testobject.commons.net.sockets.Socket;\r\n    import org.testobject.commons.net.sockets.SocketServer;\r\n    import org.testobject.commons.util.config.Configuration;\r\n    import org.testobject.commons.util.config.Constants;\r\n    import org.testobject.commons.util.image.PixelFormat;\r\n    import org.testobject.kernel.inference.input.FrameBufferSetEvent;\r\n    import org.testobject.kernel.inference.input.FrameBufferUpdateEvent;\r\n    import org.testobject.kernel.inference.input.GetFramebuffer;\r\n    import org.testobject.net.sockets.java.JavaTcpServer;\r\n    import org.testobject.runtime.platform.linux.x11.X11;\r\n    import org.testobject.runtime.services.provisioning.Device;\r\n    import org.testobject.runtime.services.provisioning.DeviceState;\r\n    import org.testobject.runtime.services.provisioning.FrameBufferSource;\r\n    import org.testobject.runtime.services.provisioning.android.*;\r\n    import org.testobject.runtime.services.provisioning.linux.XShmCaptureGenymotionFactory;\r\n    import org.testobject.services.model.DeviceDescriptor;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n\r\n    \r\n\r\n\r\n  [1]: https://github.com/enijkamp/supermonkey","title":"How can I determine the maven dependency for org.testobject","body":"<p>I cloned a project from github that has an interesting dependency on org.testobject. For the life of me I cannot find this library. Can anyone point me in the correct direction? It seems to be android specific. Below is the class file imports. The github project can be found <a href=\"https://github.com/enijkamp/supermonkey\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>package crawler.device.genymotion;\nimport com.android.ddmlib.IDevice;\nimport org.testobject.capture.CaptureServer;\nimport org.testobject.capture.Settings;\nimport org.testobject.capture.sockets.CaptureSocketServerProxy;\nimport org.testobject.capture.vnc.Const;\nimport org.testobject.capture.vnc.VncCaptureServer;\nimport org.testobject.commons.bus.EventBus;\nimport org.testobject.commons.bus.EventEmitter;\nimport org.testobject.commons.bus.SimpleEventBus;\nimport org.testobject.commons.events.KeyEvent;\nimport org.testobject.commons.events.PointerClickEvent;\nimport org.testobject.commons.events.PointerEvent;\nimport org.testobject.commons.events.TimestampEvent;\nimport org.testobject.commons.net.sockets.Socket;\nimport org.testobject.commons.net.sockets.SocketServer;\nimport org.testobject.commons.util.config.Configuration;\nimport org.testobject.commons.util.config.Constants;\nimport org.testobject.commons.util.image.PixelFormat;\nimport org.testobject.kernel.inference.input.FrameBufferSetEvent;\nimport org.testobject.kernel.inference.input.FrameBufferUpdateEvent;\nimport org.testobject.kernel.inference.input.GetFramebuffer;\nimport org.testobject.net.sockets.java.JavaTcpServer;\nimport org.testobject.runtime.platform.linux.x11.X11;\nimport org.testobject.runtime.services.provisioning.Device;\nimport org.testobject.runtime.services.provisioning.DeviceState;\nimport org.testobject.runtime.services.provisioning.FrameBufferSource;\nimport org.testobject.runtime.services.provisioning.android.*;\nimport org.testobject.runtime.services.provisioning.linux.XShmCaptureGenymotionFactory;\nimport org.testobject.services.model.DeviceDescriptor;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n</code></pre>\n"},{"tags":["java","serialization","64-bit","rmi"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1419567799,"post_id":6842895,"comment_id":43722539,"body_markdown":"Are you running any instrumentation tools such as visualvm? Speculation: If they instrument the class when running two classes can be different for a while.","body":"Are you running any instrumentation tools such as visualvm? Speculation: If they instrument the class when running two classes can be different for a while."}],"answers":[{"comments":[{"owner":{"account_id":789509,"reputation":341,"user_id":865165,"display_name":"a_g"},"score":0,"creation_date":1311763191,"post_id":6842927,"comment_id":8134259,"body_markdown":"hi, classpaths are consistent. committed is a primitive type (int)","body":"hi, classpaths are consistent. committed is a primitive type (int)"},{"owner":{"account_id":789509,"reputation":341,"user_id":865165,"display_name":"a_g"},"score":0,"creation_date":1311763572,"post_id":6842927,"comment_id":8134366,"body_markdown":"exception has also appeared for standard classes e.g. ArrayList... InvalidClassException: java.util.ArrayList; incompatible types for field size","body":"exception has also appeared for standard classes e.g. ArrayList... InvalidClassException: java.util.ArrayList; incompatible types for field size"},{"owner":{"account_id":205707,"reputation":1,"user_id":454597,"accept_rate":91,"display_name":"TC1"},"score":0,"creation_date":1311763856,"post_id":6842927,"comment_id":8134430,"body_markdown":"Seeing that both of those are `int`, it could of course be a problem between the 32 / 64 bits. If you don&#39;t find a definite answer here, you can probably take this to the openjdk / oracle mailing lists...","body":"Seeing that both of those are <code>int</code>, it could of course be a problem between the 32 / 64 bits. If you don&#39;t find a definite answer here, you can probably take this to the openjdk / oracle mailing lists..."},{"owner":{"account_id":789509,"reputation":341,"user_id":865165,"display_name":"a_g"},"score":0,"creation_date":1311764216,"post_id":6842927,"comment_id":8134517,"body_markdown":"re: last paragraph implying stale processes - I thought that too initially. But machines have been bounced, and I still get the issue. If it was a regular classpath issue, I would expect the exception to be consistent, but it appears once, and then communication between the same VMs is ok (without restarting them)","body":"re: last paragraph implying stale processes - I thought that too initially. But machines have been bounced, and I still get the issue. If it was a regular classpath issue, I would expect the exception to be consistent, but it appears once, and then communication between the same VMs is ok (without restarting them)"}],"tags":[],"owner":{"account_id":450642,"reputation":3399,"user_id":846076,"display_name":"merryprankster"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473906948,"creation_date":1311762979,"answer_id":6842927,"question_id":6842895,"body_markdown":"\r\n\r\nHmmh. Would it be possible reproduce the situation with a debugger attached? Having a breakpoint at `throw` in ObjectStreamClass where exception is thrown:\r\n\r\n    if ((f.isPrimitive() || lf.isPrimitive())\r\n            &amp;&amp; f.getTypeCode() != lf.getTypeCode()) {\r\n        throw new InvalidClassException(localDesc.name,\r\n            &quot;incompatible types for field &quot;\r\n                        + f.getName());\r\n    }\r\n\r\nWhen exception is thrown, you could at least inspect `getTypeCode` return values. Not a solution, I know, but might give some clues/more details to be included in possible bug report.","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Hmmh. Would it be possible reproduce the situation with a debugger attached? Having a breakpoint at <code>throw</code> in ObjectStreamClass where exception is thrown:</p>\n\n<pre><code>if ((f.isPrimitive() || lf.isPrimitive())\n        &amp;&amp; f.getTypeCode() != lf.getTypeCode()) {\n    throw new InvalidClassException(localDesc.name,\n        \"incompatible types for field \"\n                    + f.getName());\n}\n</code></pre>\n\n<p>When exception is thrown, you could at least inspect <code>getTypeCode</code> return values. Not a solution, I know, but might give some clues/more details to be included in possible bug report.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688127019,"post_id":27628914,"comment_id":135035738,"body_markdown":"`UseCompressedOops` has nothing to do with Serialization whatsoever.","body":"<code>UseCompressedOops</code> has nothing to do with Serialization whatsoever."}],"tags":[],"owner":{"account_id":3044439,"reputation":307,"user_id":2580513,"display_name":"abhati"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688123030,"creation_date":1419373511,"answer_id":27628914,"question_id":6842895,"body_markdown":"Is this option (`-XX:+UseCompressedOops`) enabled by default for the VM you are using? If no, I would recommend disabling it and trying it out.\r\n\r\nCould be a bug in the JRE update that you are using, you can take it up in Oracle forums.","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Is this option (<code>-XX:+UseCompressedOops</code>) enabled by default for the VM you are using? If no, I would recommend disabling it and trying it out.</p>\n<p>Could be a bug in the JRE update that you are using, you can take it up in Oracle forums.</p>\n"},{"tags":[],"owner":{"account_id":1233610,"reputation":2139,"user_id":1197682,"accept_rate":73,"display_name":"earizon"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1419789347,"creation_date":1419789347,"answer_id":27679062,"question_id":6842895,"body_markdown":"Note first that the -XX:+UseCompressedOops is set on by default since release of 6u23 even if you don&#39;t explicitly disable it.\r\n\r\n Also, this option just affect the internal representation of pointers to RAM memory, that  will not be encoded in the serialized object, so it must not influence the RMI call.\r\n\r\nI will bet the problem is related to some bytecode created dynamically in memory that for some reason is not yet available when de-serialized for the first time. This could be the case with libraries like Hibernate and others that wraps the original class with new custom bytecode.\r\n\r\n\r\n\r\n","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Note first that the -XX:+UseCompressedOops is set on by default since release of 6u23 even if you don't explicitly disable it.</p>\n\n<p>Also, this option just affect the internal representation of pointers to RAM memory, that  will not be encoded in the serialized object, so it must not influence the RMI call.</p>\n\n<p>I will bet the problem is related to some bytecode created dynamically in memory that for some reason is not yet available when de-serialized for the first time. This could be the case with libraries like Hibernate and others that wraps the original class with new custom bytecode.</p>\n"},{"comments":[{"owner":{"account_id":200939,"reputation":324,"user_id":447096,"display_name":"Mohammed"},"score":0,"creation_date":1461647398,"post_id":36838275,"comment_id":61279689,"body_markdown":"I can&#39;t comment yet (to the Q).","body":"I can&#39;t comment yet (to the Q)."}],"tags":[],"owner":{"account_id":200939,"reputation":324,"user_id":447096,"display_name":"Mohammed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461580939,"creation_date":1461580939,"answer_id":36838275,"question_id":6842895,"body_markdown":"Just to be sure, the Class in both VMs are sharing same compiled version of the classes?\r\nCould you try re-compiling and adding same jar to both VMs. \r\n\r\nI hope that is already taken care.","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Just to be sure, the Class in both VMs are sharing same compiled version of the classes?\nCould you try re-compiling and adding same jar to both VMs. </p>\n\n<p>I hope that is already taken care.</p>\n"},{"tags":[],"owner":{"account_id":6607573,"reputation":11,"user_id":5103928,"display_name":"Jeffrey Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645279647,"creation_date":1645279647,"answer_id":71185733,"question_id":6842895,"body_markdown":"Most likely it is a simple case of 2 different compiled versions of the same class.  But sometimes that can be tough to track down.  Check the following:\r\n - Make sure you have the same jar being used in both JVMs (do binary diff on them)\r\n - Make sure you don&#39;t have multiple versions of the same jar in the classpath\r\n - If you are using an app server and have multiple apps deployed, each one uses its own classloader as well as the global one, so sometimes this can be in conflict.  ","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>Most likely it is a simple case of 2 different compiled versions of the same class.  But sometimes that can be tough to track down.  Check the following:</p>\n<ul>\n<li>Make sure you have the same jar being used in both JVMs (do binary diff on them)</li>\n<li>Make sure you don't have multiple versions of the same jar in the classpath</li>\n<li>If you are using an app server and have multiple apps deployed, each one uses its own classloader as well as the global one, so sometimes this can be in conflict.</li>\n</ul>\n"}],"owner":{"account_id":789509,"reputation":341,"user_id":865165,"display_name":"a_g"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7344,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":5,"score":34,"last_activity_date":1688123030,"creation_date":1311762738,"question_id":6842895,"body_markdown":"I am getting some sporadic exceptions when making polling RMI calls from one VM to another. \r\nThe classpaths look consistent between VMs. I am using 64 bit java - the jres are consistent **(jdk/v1.6.0_23-64bit)**. \r\nThere is an inconsistency in the `-XX:+UseCompressedOops flag &amp; -XX:+UseConcMarkSweepGC` between the VMs, but I am not aware if either could be a root cause?\r\n\r\nCalling (client) VM has `-XX:+UseCompressedOops &amp; -XX:+UseConcMarkSweepGC` set, server VM on which the **getStatistics()** call is made does not.\r\n\r\nCouple points to note:-\r\n\r\n 1. After encountering the exception, subsequent calls between the same\r\n    VMs are ok over a period of days - i.e. the Invalid ClassException\r\n    is a transient issue. \r\n\r\n 2. [class] and [fieldname] vary each time the\r\n    exception is encountered where exception is\r\n    java.io.InvalidClassException: [class]; incompatible types for\r\n    field [fieldname]\r\n\r\nIs there any problem with making RMI calls (serialization) from a **64 bit** VM with `-XX:+UseCompressedOops` to a another 64bit VM that is not set up to use compressed oops?\r\n\r\nThe stack:\r\n\r\n    \r\n\r\n    java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\r\n        java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\r\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:173)\r\n        at java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:178)\r\n        at java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:132)\r\n        at $Proxy14.getStatistics(Unknown Source)\r\n        at testserver.rm.RM$Check.run(RM.java:1593)\r\n    Caused by: java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\r\n        at java.io.ObjectStreamClass.matchFields(ObjectStreamClass.java:2210)\r\n        at java.io.ObjectStreamClass.getReflector(ObjectStreamClass.java:2105)\r\n        at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:602)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\r\n        at sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:306)\r\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:155)\r\n        ... 4 more\r\n\r\nthanks for your help","title":"InvalidClassException: &lt;class&gt;; incompatible types for field &lt;fieldname&gt;","body":"<p>I am getting some sporadic exceptions when making polling RMI calls from one VM to another. \nThe classpaths look consistent between VMs. I am using 64 bit java - the jres are consistent <strong>(jdk/v1.6.0_23-64bit)</strong>. \nThere is an inconsistency in the <code>-XX:+UseCompressedOops flag &amp; -XX:+UseConcMarkSweepGC</code> between the VMs, but I am not aware if either could be a root cause?</p>\n\n<p>Calling (client) VM has <code>-XX:+UseCompressedOops &amp; -XX:+UseConcMarkSweepGC</code> set, server VM on which the <strong>getStatistics()</strong> call is made does not.</p>\n\n<p>Couple points to note:-</p>\n\n<ol>\n<li><p>After encountering the exception, subsequent calls between the same\nVMs are ok over a period of days - i.e. the Invalid ClassException\nis a transient issue. </p></li>\n<li><p>[class] and [fieldname] vary each time the\nexception is encountered where exception is\njava.io.InvalidClassException: [class]; incompatible types for\nfield [fieldname]</p></li>\n</ol>\n\n<p>Is there any problem with making RMI calls (serialization) from a <strong>64 bit</strong> VM with <code>-XX:+UseCompressedOops</code> to a another 64bit VM that is not set up to use compressed oops?</p>\n\n<p>The stack:</p>\n\n<pre><code>java.rmi.UnmarshalException: error unmarshalling return; nested exception is:\n    java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\n    at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:173)\n    at java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:178)\n    at java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:132)\n    at $Proxy14.getStatistics(Unknown Source)\n    at testserver.rm.RM$Check.run(RM.java:1593)\nCaused by: java.io.InvalidClassException: testserver.cluster.Status; incompatible types for field committed\n    at java.io.ObjectStreamClass.matchFields(ObjectStreamClass.java:2210)\n    at java.io.ObjectStreamClass.getReflector(ObjectStreamClass.java:2105)\n    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:602)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\n    at sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:306)\n    at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:155)\n    ... 4 more\n</code></pre>\n\n<p>thanks for your help</p>\n"},{"tags":["java","spring-boot","spring-webflux","springdoc"],"answers":[{"comments":[{"owner":{"account_id":4972058,"reputation":87,"user_id":3999476,"accept_rate":75,"display_name":"Juliane"},"score":0,"creation_date":1697628369,"post_id":73774448,"comment_id":136303077,"body_markdown":"This approach helped me to add examples to generated endpoints. Thank you.","body":"This approach helped me to add examples to generated endpoints. Thank you."}],"tags":[],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663595353,"creation_date":1663595353,"answer_id":73774448,"question_id":73773939,"body_markdown":"This component will automatically remove any `-controller` suffix on tags\r\n\r\n```java\r\n@Component\r\npublic class RemoveControllerTagSuffix implements OpenApiCustomiser {\r\n    @Override\r\n    public void customise(OpenAPI openApi) {\r\n        openApi.getPaths()\r\n               .forEach((s, pathItem) -&gt;\r\n                       pathItem.readOperations()\r\n                               .forEach(operation -&gt;\r\n                                       operation.setTags(operation.getTags()\r\n                                                                  .stream()\r\n                                                                  .map(t -&gt; t.replace(&quot;-controller&quot;, &quot;&quot;))\r\n                                                                  .toList())));\r\n    }\r\n}\r\n```","title":"Remove `-controller` prefix from spring-doc generated tags``","body":"<p>This component will automatically remove any <code>-controller</code> suffix on tags</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class RemoveControllerTagSuffix implements OpenApiCustomiser {\n    @Override\n    public void customise(OpenAPI openApi) {\n        openApi.getPaths()\n               .forEach((s, pathItem) -&gt;\n                       pathItem.readOperations()\n                               .forEach(operation -&gt;\n                                       operation.setTags(operation.getTags()\n                                                                  .stream()\n                                                                  .map(t -&gt; t.replace(&quot;-controller&quot;, &quot;&quot;))\n                                                                  .toList())));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17918896,"reputation":1,"user_id":13019254,"display_name":"twormald-dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688122296,"creation_date":1688121357,"answer_id":76588168,"question_id":73773939,"body_markdown":"Use the @Tag annotation, and set the tag up manually with the name and description you want.\r\n\r\n    @RequestMapping(&quot;/myendpoint&quot;)\r\n    @Tag(\r\n        name= &quot;My Name&quot;,\r\n        description = &quot;What my controller does&quot;\r\n    )\r\n    public class MyController {\r\n\r\n    }\r\n\r\nYou can also specify tag grouping on individual methods using the @Operation annotation and defining the tags property.","title":"Remove `-controller` prefix from spring-doc generated tags``","body":"<p>Use the @Tag annotation, and set the tag up manually with the name and description you want.</p>\n<pre><code>@RequestMapping(&quot;/myendpoint&quot;)\n@Tag(\n    name= &quot;My Name&quot;,\n    description = &quot;What my controller does&quot;\n)\npublic class MyController {\n\n}\n</code></pre>\n<p>You can also specify tag grouping on individual methods using the @Operation annotation and defining the tags property.</p>\n"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688122296,"creation_date":1663593264,"question_id":73773939,"body_markdown":"Given a controller named `MyController`, spring doc generates the tag `my-controller` which in turn will generate a client `MyControllerApi`. \r\n\r\nI&#39;d like to remove this `-controller` suffix; is this possible with Spring-Doc?","title":"Remove `-controller` prefix from spring-doc generated tags``","body":"<p>Given a controller named <code>MyController</code>, spring doc generates the tag <code>my-controller</code> which in turn will generate a client <code>MyControllerApi</code>.</p>\n<p>I'd like to remove this <code>-controller</code> suffix; is this possible with Spring-Doc?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1488267342,"post_id":42502754,"comment_id":72143507,"body_markdown":"Sorry, this is not the way StackOverflow works.  Questions of the form _&quot;I want to do X, please give me tips and/or sample code&quot;_ are considered off-topic.  Please visit the [help] and read [ask], and especially read [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"Sorry, this is not the way StackOverflow works.  Questions of the form <i>&quot;I want to do X, please give me tips and/or sample code&quot;</i> are considered off-topic.  Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and especially read <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>"}],"answers":[{"comments":[{"owner":{"account_id":9865061,"reputation":23,"user_id":7306813,"display_name":"GSA"},"score":0,"creation_date":1488351711,"post_id":42507628,"comment_id":72186412,"body_markdown":"Thank you so much KIWIwings","body":"Thank you so much KIWIwings"},{"owner":{"account_id":269367,"reputation":1701,"user_id":558668,"accept_rate":77,"display_name":"ElyashivLavi"},"score":0,"creation_date":1606117916,"post_id":42507628,"comment_id":114852566,"body_markdown":"The link doesn&#39;t exist. That&#39;s the correct one: https://github.com/jbolaky/multi-java-frameworks-tutorials/blob/master/apache-poi/src/main/java/org/apache/poi/ss/examples/ExcelComparator.java","body":"The link doesn&#39;t exist. That&#39;s the correct one: <a href=\"https://github.com/jbolaky/multi-java-frameworks-tutorials/blob/master/apache-poi/src/main/java/org/apache/poi/ss/examples/ExcelComparator.java\" rel=\"nofollow noreferrer\">github.com/jbolaky/multi-java-frameworks-tutorials/blob/mast&zwnj;&#8203;er/&hellip;</a>"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1606126174,"post_id":42507628,"comment_id":114856001,"body_markdown":"I&#39;ve fixed the link - due to JPMS repacking the package name switched from ss/examples to examples/ss","body":"I&#39;ve fixed the link - due to JPMS repacking the package name switched from ss/examples to examples/ss"}],"tags":[],"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688122036,"creation_date":1488281492,"answer_id":42507628,"question_id":42502754,"body_markdown":"Have a look into the POI examples - i.e. into the [ExcelComparator](https://github.com/apache/poi/blob/trunk/poi-examples/src/main/java/org/apache/poi/examples/ss/ExcelComparator.java)","title":"compare 2 xlsx files and highlight differences using POI","body":"<p>Have a look into the POI examples - i.e. into the <a href=\"https://github.com/apache/poi/blob/trunk/poi-examples/src/main/java/org/apache/poi/examples/ss/ExcelComparator.java\" rel=\"nofollow noreferrer\">ExcelComparator</a></p>\n"}],"owner":{"account_id":9865061,"reputation":23,"user_id":7306813,"display_name":"GSA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4172,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":42507628,"answer_count":1,"score":0,"last_activity_date":1688122036,"creation_date":1488267307,"question_id":42502754,"body_markdown":"can any one please provide me pointers on how to compare 2 xlsx files.\r\nI am unable to paste the code here.I am new to Java.. and learning .\r\nIt would be great if any pointers are there...\r\nBasically I ma looking to compare 2 XLSX file which ignores the case \r\n\r\n","title":"compare 2 xlsx files and highlight differences using POI","body":"<p>can any one please provide me pointers on how to compare 2 xlsx files.\nI am unable to paste the code here.I am new to Java.. and learning .\nIt would be great if any pointers are there...\nBasically I ma looking to compare 2 XLSX file which ignores the case </p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb","quarkus"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1658867389,"post_id":73129078,"comment_id":129157711,"body_markdown":"Did you search for that system property e.g. [here](https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/)? You can use AWS&#39; default implementation by setting it to `software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService`, for example.","body":"Did you search for that system property e.g. <a href=\"https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/\" rel=\"nofollow noreferrer\">here</a>? You can use AWS&#39; default implementation by setting it to <code>software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHt&zwnj;&#8203;tpService</code>, for example."},{"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"score":0,"creation_date":1658930568,"post_id":73129078,"comment_id":129174683,"body_markdown":"Thanks your approach worked.","body":"Thanks your approach worked."}],"answers":[{"comments":[{"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"score":0,"creation_date":1682975872,"post_id":73139419,"comment_id":134293767,"body_markdown":"When I tried using the `UrlConnectionHttpClient` I received a &quot;host not found&quot; Exception.  I had to use the `ApacheHttpClient`; which is the standard client anyway.","body":"When I tried using the <code>UrlConnectionHttpClient</code> I received a &quot;host not found&quot; Exception.  I had to use the <code>ApacheHttpClient</code>; which is the standard client anyway."},{"owner":{"account_id":1002920,"reputation":131,"user_id":1017372,"display_name":"reiner_zuphall"},"score":0,"creation_date":1698083880,"post_id":73139419,"comment_id":136357733,"body_markdown":"It&#39;s also possible to add an exclusion for the apache-client in the pom.xml. Afterwards the url-connection-client should be used by default and the error message won&#39;t be shown anymore.","body":"It&#39;s also possible to add an exclusion for the apache-client in the pom.xml. Afterwards the url-connection-client should be used by default and the error message won&#39;t be shown anymore."}],"tags":[],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1658930658,"creation_date":1658930658,"answer_id":73139419,"question_id":73129078,"body_markdown":"Sorted out!\r\nI added the parameter in dynamodbclient and it worked.\r\n\r\n    .httpClient(UrlConnectionHttpClient.builder().build())","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>Sorted out!\nI added the parameter in dynamodbclient and it worked.</p>\n<pre><code>.httpClient(UrlConnectionHttpClient.builder().build())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663076831,"creation_date":1663076831,"answer_id":73704134,"question_id":73129078,"body_markdown":"The issue is caused by the below behavior ([source][1]):\r\n\r\n&gt; If HTTP client is not specified on the SDK client builder, the SDK\r\n&gt; will use ServiceLoader to find HTTP implementations on the classpath.\r\n\r\nThough your approach works, instead of `httpClient` you should use `httpClientBuilder` most of the time, so that the SDK takes care of managing the httpClient lifecycle for you. See the `DynamoDbClientBuilder` [javadoc][2] for reference [here][3] and [here][4] .\r\nThe difference:\r\n\r\n`httpClient`:\r\n\r\n&gt; This client must be closed by the user when it is ready to be\r\n&gt; disposed. The SDK will not close the HTTP client when the service\r\n&gt; client is closed.\r\n\r\nwhereas in case of `httpClientBuilder`:\r\n&gt; Clients created by the builder are managed by the SDK and will be\r\n&gt; closed when the service client is closed.\r\n\r\n  [1]: https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClientBuilder.html\r\n  [3]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClient-software.amazon.awssdk.http.SdkHttpClient-\r\n  [4]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClientBuilder-software.amazon.awssdk.http.SdkHttpClient.Builder-","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>The issue is caused by the below behavior (<a href=\"https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">source</a>):</p>\n<blockquote>\n<p>If HTTP client is not specified on the SDK client builder, the SDK\nwill use ServiceLoader to find HTTP implementations on the classpath.</p>\n</blockquote>\n<p>Though your approach works, instead of <code>httpClient</code> you should use <code>httpClientBuilder</code> most of the time, so that the SDK takes care of managing the httpClient lifecycle for you. See the <code>DynamoDbClientBuilder</code> <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClientBuilder.html\" rel=\"nofollow noreferrer\">javadoc</a> for reference <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClient-software.amazon.awssdk.http.SdkHttpClient-\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/client/builder/SdkSyncClientBuilder.html#httpClientBuilder-software.amazon.awssdk.http.SdkHttpClient.Builder-\" rel=\"nofollow noreferrer\">here</a> .\nThe difference:</p>\n<p><code>httpClient</code>:</p>\n<blockquote>\n<p>This client must be closed by the user when it is ready to be\ndisposed. The SDK will not close the HTTP client when the service\nclient is closed.</p>\n</blockquote>\n<p>whereas in case of <code>httpClientBuilder</code>:</p>\n<blockquote>\n<p>Clients created by the builder are managed by the SDK and will be\nclosed when the service client is closed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2548586,"reputation":1393,"user_id":2212849,"accept_rate":83,"display_name":"Mitrakov Artem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673285665,"creation_date":1673285665,"answer_id":75060987,"question_id":73129078,"body_markdown":"Actually it may be any compatible Http client. E.g. Apache Http client works for me:\r\n```java\r\nimport software.amazon.awssdk.http.apache.ApacheHttpClient;\r\n\r\nCloudWatchLogsClient.builder.httpClient(ApacheHttpClient.builder().build()).build();\r\n```","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>Actually it may be any compatible Http client. E.g. Apache Http client works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import software.amazon.awssdk.http.apache.ApacheHttpClient;\n\nCloudWatchLogsClient.builder.httpClient(ApacheHttpClient.builder().build()).build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675605459,"post_id":75323773,"comment_id":132961136,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75323773/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27685597,"reputation":1,"user_id":21133423,"display_name":"user21133423"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675343943,"creation_date":1675343901,"answer_id":75323773,"question_id":73129078,"body_markdown":"When I have upgraded &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt; to 2.4.0 I see this issue.\r\nKeep it to 2.3.5\r\n\r\nspringboard 2.5.6\r\n\r\njdk 11 ","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>When I have upgraded amazon-kinesis-client to 2.4.0 I see this issue.\nKeep it to 2.3.5</p>\n<p>springboard 2.5.6</p>\n<p>jdk 11</p>\n"},{"tags":[],"owner":{"account_id":6403427,"reputation":2065,"user_id":5471235,"accept_rate":90,"display_name":"makson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688120720,"creation_date":1688120720,"answer_id":76588081,"question_id":73129078,"body_markdown":"I had the same issue when I used\r\n\r\n    implementation &#39;software.amazon.awssdk:s3&#39;\r\n    implementation &#39;software.amazon.awssdk:dynamodb&#39;\r\n    implementation &#39;software.amazon.awssdk:sts&#39;\r\n    implementation &#39;software.amazon.awssdk:url-connection-client&#39;\r\n    implementation &#39;software.amazon.awssdk:cognitoidentityprovider&#39;\r\n\r\nand tried to create \r\n\r\n    CognitoIdentityProviderClient.builder()\r\n                    .httpClientBuilder(UrlConnectionHttpClient.builder())\r\n                    .credentialsProvider(cognitoCredentials)\r\n                    .build();\r\n\r\nSet the system property **software.amazon.awssdk.http.service.impl** with the fully qualified name of the HTTP service class you want to use by default. For example\r\n\r\n    System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);\r\n\r\n","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>I had the same issue when I used</p>\n<pre><code>implementation 'software.amazon.awssdk:s3'\nimplementation 'software.amazon.awssdk:dynamodb'\nimplementation 'software.amazon.awssdk:sts'\nimplementation 'software.amazon.awssdk:url-connection-client'\nimplementation 'software.amazon.awssdk:cognitoidentityprovider'\n</code></pre>\n<p>and tried to create</p>\n<pre><code>CognitoIdentityProviderClient.builder()\n                .httpClientBuilder(UrlConnectionHttpClient.builder())\n                .credentialsProvider(cognitoCredentials)\n                .build();\n</code></pre>\n<p>Set the system property <strong>software.amazon.awssdk.http.service.impl</strong> with the fully qualified name of the HTTP service class you want to use by default. For example</p>\n<pre><code>System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);\n</code></pre>\n"}],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16964,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":73139419,"answer_count":5,"score":9,"last_activity_date":1688120720,"creation_date":1658865459,"question_id":73129078,"body_markdown":"I&#39;m getting this error below when I try to call a DynamoDB AWS service:\r\n\r\n    Multiple HTTP implementations were found on the classpath. To avoid non-deterministic loading implementations, please explicitly provide an HTTP client via the client builders, set the software.amazon.awssdk.http.service.impl system property with the FQCN of the HTTP service to use as the default, or remove all but one HTTP implementation from the classpath\r\n\r\nI&#39;m using **DynamoDbClient**\r\n\r\nMy pom.xml:\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nClient configuration:\r\n\r\n    @Singleton\r\n    public class DynamoClientConfig {\r\n    \r\n        @Produces\r\n        @ApplicationScoped\r\n        public DynamoDbClient getClientDb() {\r\n            return DynamoDbClient.builder().region(Region.SA_EAST_1).build();\r\n        }\r\n\r\nI&#39;m using Java and Quarkus.\r\n\r\nDoes anyone know what it could be and how to fix it?\r\n","title":"software.amazon.awssdk.core.exception.SdkClientException","body":"<p>I'm getting this error below when I try to call a DynamoDB AWS service:</p>\n<pre><code>Multiple HTTP implementations were found on the classpath. To avoid non-deterministic loading implementations, please explicitly provide an HTTP client via the client builders, set the software.amazon.awssdk.http.service.impl system property with the FQCN of the HTTP service to use as the default, or remove all but one HTTP implementation from the classpath\n</code></pre>\n<p>I'm using <strong>DynamoDbClient</strong></p>\n<p>My pom.xml:</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Client configuration:</p>\n<pre><code>@Singleton\npublic class DynamoClientConfig {\n\n    @Produces\n    @ApplicationScoped\n    public DynamoDbClient getClientDb() {\n        return DynamoDbClient.builder().region(Region.SA_EAST_1).build();\n    }\n</code></pre>\n<p>I'm using Java and Quarkus.</p>\n<p>Does anyone know what it could be and how to fix it?</p>\n"},{"tags":["java","spring-boot","testing","grpc-java","pact"],"owner":{"account_id":25537904,"reputation":27,"user_id":19324621,"display_name":"Kira Sign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688120158,"creation_date":1688119030,"question_id":76587885,"body_markdown":"Hi I am trying to use Pact to perform test between my services\r\n\r\nThe problem is that the response from my service provider is quite large and have complex structure\r\n\r\nI tried to follow the Calculator example \r\n\r\n            &quot;response&quot;, List.of(\r\n            Map.of(\r\n              &quot;value&quot;, &quot;matching(number, 12)&quot;\r\n            )\r\n          )\r\nbut for my case, its will be a lot of Map.of and List.of\r\n\r\nSo, my question is there any other way to write contract response, or is there any document that guild me write pact dsl\r\nThanks","title":"Writing response for Pact test for Grpc","body":"<p>Hi I am trying to use Pact to perform test between my services</p>\n<p>The problem is that the response from my service provider is quite large and have complex structure</p>\n<p>I tried to follow the Calculator example</p>\n<pre><code>        &quot;response&quot;, List.of(\n        Map.of(\n          &quot;value&quot;, &quot;matching(number, 12)&quot;\n        )\n      )\n</code></pre>\n<p>but for my case, its will be a lot of Map.of and List.of</p>\n<p>So, my question is there any other way to write contract response, or is there any document that guild me write pact dsl\nThanks</p>\n"},{"tags":["java","jquery","sql","spring","jpa"],"comments":[{"owner":{"display_name":"user180100"},"score":4,"creation_date":1391099566,"post_id":21456494,"comment_id":32388616,"body_markdown":"You might want to use `containing` in order to benefits from indexes, see http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/repository-query-keywords.html","body":"You might want to use <code>containing</code> in order to benefits from indexes, see <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/repository-query-keywords.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3836900,"reputation":2310,"user_id":3180985,"accept_rate":60,"display_name":"Viktoriia"},"score":0,"creation_date":1391096577,"post_id":21457172,"comment_id":32386452,"body_markdown":"Thanks, the problem of deplouing was that jpql is case sensitive, now it is deploying, but &#39;LIKE&#39; does not work as I want. It finds just records that are equal to input parameter completely(not containing it).","body":"Thanks, the problem of deplouing was that jpql is case sensitive, now it is deploying, but &#39;LIKE&#39; does not work as I want. It finds just records that are equal to input parameter completely(not containing it)."}],"tags":[],"owner":{"account_id":2605303,"reputation":744,"user_id":2256575,"display_name":"Mannekenpix"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391086556,"creation_date":1391086556,"answer_id":21457172,"question_id":21456494,"body_markdown":"    @Query(&quot;select u from user u where u.username LIKE :username&quot;)\r\n    List&lt;User&gt; findUserByUsernameLike(@Param(&quot;username&quot;) String username);","title":"Spring JPA @Query with LIKE","body":"<pre><code>@Query(\"select u from user u where u.username LIKE :username\")\nList&lt;User&gt; findUserByUsernameLike(@Param(\"username\") String username);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"score":27,"creation_date":1498224396,"post_id":21461715,"comment_id":76427392,"body_markdown":"or `WHERE UPPER(u.username) LIKE CONCAT(&#39;%&#39;,UPPER(:username),&#39;%&#39;)` to do a case-insensitive search","body":"or <code>WHERE UPPER(u.username) LIKE CONCAT(&#39;%&#39;,UPPER(:username),&#39;%&#39;)</code> to do a case-insensitive search"},{"owner":{"account_id":352936,"reputation":808,"user_id":690334,"accept_rate":39,"display_name":"ramden"},"score":0,"creation_date":1541676145,"post_id":21461715,"comment_id":93301368,"body_markdown":"SQL-Injection using your solution possible? (asking because of CONCAT)","body":"SQL-Injection using your solution possible? (asking because of CONCAT)"},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":1,"creation_date":1542312827,"post_id":21461715,"comment_id":93534887,"body_markdown":"@ramden all `@Param`s are sanitized, so no.","body":"@ramden all <code>@Param</code>s are sanitized, so no."},{"owner":{"account_id":2397911,"reputation":854,"user_id":2096351,"display_name":"Matthew Daumen"},"score":0,"creation_date":1558035006,"post_id":21461715,"comment_id":98977438,"body_markdown":"You can just do like :username and then .setParameter(&quot;username&quot;, &quot;%foo%&quot;);","body":"You can just do like :username and then .setParameter(&quot;username&quot;, &quot;%foo%&quot;);"},{"owner":{"account_id":10236560,"reputation":1324,"user_id":8420428,"display_name":"keith5140"},"score":0,"creation_date":1569830383,"post_id":21461715,"comment_id":102709078,"body_markdown":"how to set .setParameter(&quot;username&quot;, &quot;%foo%&quot;); @MatthewDaumen","body":"how to set .setParameter(&quot;username&quot;, &quot;%foo%&quot;); @MatthewDaumen"},{"owner":{"account_id":9271122,"reputation":1949,"user_id":6885047,"display_name":"DiaMaBo"},"score":0,"creation_date":1582774703,"post_id":21461715,"comment_id":106895713,"body_markdown":"This helped me at work. Thank you for this solution","body":"This helped me at work. Thank you for this solution"},{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":0,"creation_date":1611428768,"post_id":21461715,"comment_id":116450440,"body_markdown":"@BradMace, or even `WHERE UPPER(u.username) LIKE CONCAT(&#39;%&#39;,UPPER(TRIM((:username)),&#39;%&#39;)` to clear off blank space that could come from a Ctrl+V sometimes","body":"@BradMace, or even <code>WHERE UPPER(u.username) LIKE CONCAT(&#39;%&#39;,UPPER(TRIM((:username)),&#39;%&#39;)</code> to clear off blank space that could come from a Ctrl+V sometimes"}],"tags":[],"owner":{"account_id":3315522,"reputation":2406,"user_id":2787993,"display_name":"Mark"},"comment_count":7,"down_vote_count":1,"up_vote_count":236,"is_accepted":true,"score":235,"last_activity_date":1391098549,"creation_date":1391098549,"answer_id":21461715,"question_id":21456494,"body_markdown":"Try to use the following approach (it works for me):\r\n\r\n    @Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE CONCAT(&#39;%&#39;,:username,&#39;%&#39;)&quot;)\r\n    List&lt;String&gt; findUsersWithPartOfName(@Param(&quot;username&quot;) String username);\r\n\r\nNotice: The table name in JPQL must start with a capital letter.","title":"Spring JPA @Query with LIKE","body":"<p>Try to use the following approach (it works for me):</p>\n\n<pre><code>@Query(\"SELECT u.username FROM User u WHERE u.username LIKE CONCAT('%',:username,'%')\")\nList&lt;String&gt; findUsersWithPartOfName(@Param(\"username\") String username);\n</code></pre>\n\n<p>Notice: The table name in JPQL must start with a capital letter.</p>\n"},{"tags":[],"owner":{"account_id":1777925,"reputation":500,"user_id":1621331,"display_name":"remat_br"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1502370269,"creation_date":1421333242,"answer_id":27966031,"question_id":21456494,"body_markdown":"Another way: instead `CONCAT` function we can use double pipe: **:lastname || &#39;%&#39;**  \r\n\r\n    @Query(&quot;select c from Customer c where c.lastName LIKE :lastname||&#39;%&#39;&quot;)\r\n    List&lt;Customer&gt; findCustomByLastName( @Param(&quot;lastname&quot;) String lastName);\r\n\r\n\r\nYou can put anywhere, prefix, suffix or both  \r\n\r\n    :lastname ||&#39;%&#39;  \r\n    &#39;%&#39; || :lastname  \r\n    &#39;%&#39; || :lastname || &#39;%&#39;  \r\n","title":"Spring JPA @Query with LIKE","body":"<p>Another way: instead <code>CONCAT</code> function we can use double pipe: <strong>:lastname || '%'</strong>  </p>\n\n<pre><code>@Query(\"select c from Customer c where c.lastName LIKE :lastname||'%'\")\nList&lt;Customer&gt; findCustomByLastName( @Param(\"lastname\") String lastName);\n</code></pre>\n\n<p>You can put anywhere, prefix, suffix or both  </p>\n\n<pre><code>:lastname ||'%'  \n'%' || :lastname  \n'%' || :lastname || '%'  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1771356,"reputation":2558,"user_id":1616049,"accept_rate":62,"display_name":"V. Samma"},"score":0,"creation_date":1499356418,"post_id":38115592,"comment_id":76882563,"body_markdown":"That&#39;s really helpful, but if I want to use the Containing keyword, can I also make it case-insensitive? In the documentation there&#39;s something said about StringMatcher. It seems if I created a separate function with ExampleMatcher it would work, but can I somehow declare it in the method name not to write my own function just for adding this case-insensitivity?","body":"That&#39;s really helpful, but if I want to use the Containing keyword, can I also make it case-insensitive? In the documentation there&#39;s something said about StringMatcher. It seems if I created a separate function with ExampleMatcher it would work, but can I somehow declare it in the method name not to write my own function just for adding this case-insensitivity?"},{"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"score":15,"creation_date":1508762772,"post_id":38115592,"comment_id":80726575,"body_markdown":"Just wanted to add that you can also ignore case, if needed, like this:    `List&lt;User&gt; findByUsernameContainingIgnoreCase(String username);`","body":"Just wanted to add that you can also ignore case, if needed, like this:    <code>List&lt;User&gt; findByUsernameContainingIgnoreCase(String username);</code>"},{"owner":{"account_id":6324620,"reputation":4412,"user_id":4911434,"accept_rate":100,"display_name":"Alessandro"},"score":1,"creation_date":1513087753,"post_id":38115592,"comment_id":82510106,"body_markdown":"The percent symbol should be inverted `StartingWith: select ... like :username%` and `EndingWith: select ... like %:username` ... anyway great answer... should be the accepted one. Thanks.","body":"The percent symbol should be inverted <code>StartingWith: select ... like :username%</code> and <code>EndingWith: select ... like %:username</code> ... anyway great answer... should be the accepted one. Thanks."},{"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"score":0,"creation_date":1542096148,"post_id":38115592,"comment_id":93434753,"body_markdown":"@Robert i have a column data with uppercase and i used JPQL like method and passed lower case value and able to get the values. without IgnoreCase also it is fetching the improper cases data. Why this weird behavior is happened?","body":"@Robert i have a column data with uppercase and i used JPQL like method and passed lower case value and able to get the values. without IgnoreCase also it is fetching the improper cases data. Why this weird behavior is happened?"},{"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"score":0,"creation_date":1542658316,"post_id":38115592,"comment_id":93639688,"body_markdown":"@greenhorn Please open a seperate StackOverflow question and add some example of your data in the table and what you are querying for.","body":"@greenhorn Please open a seperate StackOverflow question and add some example of your data in the table and what you are querying for."}],"tags":[],"owner":{"account_id":6668982,"reputation":2717,"user_id":5145671,"display_name":"jmgoyesc"},"comment_count":5,"down_vote_count":1,"up_vote_count":151,"is_accepted":false,"score":150,"last_activity_date":1603726946,"creation_date":1467268607,"answer_id":38115592,"question_id":21456494,"body_markdown":"&gt; Using [Query creation from method names][1], check table 4 where they explain some keywords.\r\n\r\n\r\n1. Using Like: `select ... like :username`\r\n\r\n        List&lt;User&gt; findByUsernameLike(String username);\r\n\r\n2. StartingWith: `select ... like :username%`\r\n\r\n        List&lt;User&gt; findByUsernameStartingWith(String username);\r\n\r\n3. EndingWith: `select ... like %:username`\r\n\r\n        List&lt;User&gt; findByUsernameEndingWith(String username);\r\n\r\n4. Containing: `select ... like %:username%`\r\n\r\n        List&lt;User&gt; findByUsernameContaining(String username);\r\n\r\nNotice that the answer that you are looking for is **number 4**. You don&#39;t have to use @Query\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"Spring JPA @Query with LIKE","body":"<blockquote>\n<p>Using <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"noreferrer\">Query creation from method names</a>, check table 4 where they explain some keywords.</p>\n</blockquote>\n<ol>\n<li><p>Using Like: <code>select ... like :username</code></p>\n<pre><code> List&lt;User&gt; findByUsernameLike(String username);\n</code></pre>\n</li>\n<li><p>StartingWith: <code>select ... like :username%</code></p>\n<pre><code> List&lt;User&gt; findByUsernameStartingWith(String username);\n</code></pre>\n</li>\n<li><p>EndingWith: <code>select ... like %:username</code></p>\n<pre><code> List&lt;User&gt; findByUsernameEndingWith(String username);\n</code></pre>\n</li>\n<li><p>Containing: <code>select ... like %:username%</code></p>\n<pre><code> List&lt;User&gt; findByUsernameContaining(String username);\n</code></pre>\n</li>\n</ol>\n<p>Notice that the answer that you are looking for is <strong>number 4</strong>. You don't have to use @Query</p>\n"},{"tags":[],"owner":{"account_id":8884994,"reputation":51,"user_id":6633521,"display_name":"derrick.yang"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1469429151,"creation_date":1469426852,"answer_id":38560737,"question_id":21456494,"body_markdown":"    @Query(&quot;select b.equipSealRegisterId from EquipSealRegister b where b.sealName like %?1% and b.deleteFlag = &#39;0&#39;&quot; )\r\n    \tList&lt;String&gt;findBySeal(String sealname);\r\n\r\nI have tried this code and it works.","title":"Spring JPA @Query with LIKE","body":"<pre><code>@Query(\"select b.equipSealRegisterId from EquipSealRegister b where b.sealName like %?1% and b.deleteFlag = '0'\" )\n    List&lt;String&gt;findBySeal(String sealname);\n</code></pre>\n\n<p>I have tried this code and it works.</p>\n"},{"comments":[{"owner":{"account_id":10236560,"reputation":1324,"user_id":8420428,"display_name":"keith5140"},"score":0,"creation_date":1569830267,"post_id":39098324,"comment_id":102709039,"body_markdown":"SQL-Injection using your solution possible?","body":"SQL-Injection using your solution possible?"},{"owner":{"account_id":4804737,"reputation":65,"user_id":3880227,"display_name":"Johannes Ebster"},"score":0,"creation_date":1607336669,"post_id":39098324,"comment_id":115230759,"body_markdown":"@xuezhongyu01 you think Spring Data JPA allows SQL injection in their derived queries? The parameters get sanitized, of course.","body":"@xuezhongyu01 you think Spring Data JPA allows SQL injection in their derived queries? The parameters get sanitized, of course."}],"tags":[],"owner":{"account_id":8998435,"reputation":117,"user_id":6707871,"display_name":"Yusuf"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1471950265,"creation_date":1471947192,"answer_id":39098324,"question_id":21456494,"body_markdown":"`List&lt;User&gt; findByUsernameContainingIgnoreCase(String username);` \r\n\r\nin order to ignore case issues","title":"Spring JPA @Query with LIKE","body":"<p><code>List&lt;User&gt; findByUsernameContainingIgnoreCase(String username);</code> </p>\n\n<p>in order to ignore case issues</p>\n"},{"comments":[{"owner":{"account_id":8589695,"reputation":531,"user_id":6434650,"display_name":"Muhammad Arslan Akhtar"},"score":0,"creation_date":1634315080,"post_id":44807065,"comment_id":122999415,"body_markdown":"there is no need to add &quot;SELECT s&quot; ? can we start directly from &quot;FROM&quot;?","body":"there is no need to add &quot;SELECT s&quot; ? can we start directly from &quot;FROM&quot;?"},{"owner":{"account_id":5283554,"reputation":1495,"user_id":4218192,"display_name":"M&#237;ra"},"score":1,"creation_date":1636626110,"post_id":44807065,"comment_id":123609516,"body_markdown":"Yes, it&#39;s not mandatory for functionality, but some spelling checkers show error.","body":"Yes, it&#39;s not mandatory for functionality, but some spelling checkers show error."}],"tags":[],"owner":{"account_id":5283554,"reputation":1495,"user_id":4218192,"display_name":"M&#237;ra"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1498664384,"creation_date":1498664384,"answer_id":44807065,"question_id":21456494,"body_markdown":"Easy to use following (no need use CONCAT or ||):\r\n\r\n    @Query(&quot;from Service s where s.category.typeAsString like :parent%&quot;)\r\n    List&lt;Service&gt; findAll(@Param(&quot;parent&quot;) String parent);\r\n\r\nDocumented in: http://docs.spring.io/spring-data/jpa/docs/current/reference/html.","title":"Spring JPA @Query with LIKE","body":"<p>Easy to use following (no need use CONCAT or ||):</p>\n\n<pre><code>@Query(\"from Service s where s.category.typeAsString like :parent%\")\nList&lt;Service&gt; findAll(@Param(\"parent\") String parent);\n</code></pre>\n\n<p>Documented in: <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html</a>.</p>\n"},{"comments":[{"owner":{"display_name":"user10767069"},"score":0,"creation_date":1606821574,"post_id":54793761,"comment_id":115072098,"body_markdown":"@Ralph, I&#39;m trying to achieve this using your way, but always getting a list with 0 objects while I&#39;m supposed to get a list containing 2 objects, would you please suggest anything regarding this? \n\nfollowing is the question regarding this \n\nhttps://stackoverflow.com/questions/65085720/how-to-convert-like-searchkey-to-native-query-in-spring-boot-jpa","body":"@Ralph, I&#39;m trying to achieve this using your way, but always getting a list with 0 objects while I&#39;m supposed to get a list containing 2 objects, would you please suggest anything regarding this?   following is the question regarding this   <a href=\"https://stackoverflow.com/questions/65085720/how-to-convert-like-searchkey-to-native-query-in-spring-boot-jpa\" title=\"how to convert like searchkey to native query in spring boot jpa\">stackoverflow.com/questions/65085720/&hellip;</a>"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1660238297,"post_id":54793761,"comment_id":129491543,"body_markdown":"@Ralph could you please explain why named parameters are better in this case ?","body":"@Ralph could you please explain why named parameters are better in this case ?"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":1,"creation_date":1660738181,"post_id":54793761,"comment_id":129602616,"body_markdown":"@hakima maarouf: I thougt support for positional paramerters was removed in Hibernate 5.3 - but this is not 100% correct, they removed only HQL-style positional parameters (just `?`) but not the JPA Style positional parameters `?1` (https://hibernate.atlassian.net/browse/HHH-12101) - so you can use it - but I still recommend to use named parameters for better readability","body":"@hakima maarouf: I thougt support for positional paramerters was removed in Hibernate 5.3 - but this is not 100% correct, they removed only HQL-style positional parameters (just <code>?</code>) but not the JPA Style positional parameters <code>?1</code> (<a href=\"https://hibernate.atlassian.net/browse/HHH-12101\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-12101</a>) - so you can use it - but I still recommend to use named parameters for better readability"}],"tags":[],"owner":{"account_id":9937840,"reputation":31,"user_id":7355558,"display_name":"Uisleandro"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551290283,"creation_date":1550690284,"answer_id":54793761,"question_id":21456494,"body_markdown":"This way works for me, (using Spring Boot version 2.0.1. RELEASE):\r\n\r\n    @Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE %?1%&quot;)\r\n    List&lt;String&gt; findUsersWithPartOfName(@Param(&quot;username&quot;) String username);\r\n\r\nExplaining: The ?1, ?2, ?3 etc. are place holders the first, second, third parameters, etc. In this case is enough to have the parameter is surrounded by % as if it was a standard SQL query but without the single quotes.","title":"Spring JPA @Query with LIKE","body":"<p>This way works for me, (using Spring Boot version 2.0.1. RELEASE):</p>\n\n<pre><code>@Query(\"SELECT u.username FROM User u WHERE u.username LIKE %?1%\")\nList&lt;String&gt; findUsersWithPartOfName(@Param(\"username\") String username);\n</code></pre>\n\n<p>Explaining: The ?1, ?2, ?3 etc. are place holders the first, second, third parameters, etc. In this case is enough to have the parameter is surrounded by % as if it was a standard SQL query but without the single quotes.</p>\n"},{"tags":[],"owner":{"account_id":20379136,"reputation":31,"user_id":14949619,"display_name":"Masoud Bokaei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612863428,"creation_date":1612863428,"answer_id":66116306,"question_id":21456494,"body_markdown":"You Missed a colon(:) before the username parameter. therefore your code must change from:\r\n\r\n    @Query(&quot;select u from user u where u.username like &#39;%username%&#39;&quot;)\r\nto :\r\n\r\n    @Query(&quot;select u from user u where u.username like &#39;%:username%&#39;&quot;)","title":"Spring JPA @Query with LIKE","body":"<p>You Missed a colon(:) before the username parameter. therefore your code must change from:</p>\n<pre><code>@Query(&quot;select u from user u where u.username like '%username%'&quot;)\n</code></pre>\n<p>to :</p>\n<pre><code>@Query(&quot;select u from user u where u.username like '%:username%'&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17605147,"reputation":101,"user_id":12774320,"display_name":"Marcus Stickler-J&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647964746,"creation_date":1647946750,"answer_id":71570917,"question_id":21456494,"body_markdown":"this `@Query(&quot;select u from user u where u.username like &#39;%:username%&#39;&quot;)` does not work in some cases!\r\n\r\n\r\nworking solution for me was \r\n\r\n```java\r\n@Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE CONCAT(&#39;%&#39;,:username,&#39;%&#39;)&quot;)\r\n```\r\n\r\n","title":"Spring JPA @Query with LIKE","body":"<p>this <code>@Query(&quot;select u from user u where u.username like '%:username%'&quot;)</code> does not work in some cases!</p>\n<p>working solution for me was</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT u.username FROM User u WHERE u.username LIKE CONCAT('%',:username,'%')&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5673197,"reputation":128,"user_id":4487251,"accept_rate":67,"display_name":"Lau13"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659611670,"creation_date":1659611670,"answer_id":73234926,"question_id":21456494,"body_markdown":"If you are using Spring-Data-Jpa +2.7 there is a bug with LIKE parameter using %:param% in queries. It will be fixed in version 3.\r\n\r\nhttps://github.com/spring-projects/spring-data-jpa/issues/2548","title":"Spring JPA @Query with LIKE","body":"<p>If you are using Spring-Data-Jpa +2.7 there is a bug with LIKE parameter using %:param% in queries. It will be fixed in version 3.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2548\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2548</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688387176,"post_id":76587956,"comment_id":135063171,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76587956/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28924514,"reputation":1,"user_id":22154708,"display_name":"Priyanka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688119609,"creation_date":1688119609,"answer_id":76587956,"question_id":21456494,"body_markdown":"List&lt;String&gt; findUsersContaining(String username);\r\n\r\nI tried this. It works","title":"Spring JPA @Query with LIKE","body":"<p>List findUsersContaining(String username);</p>\n<p>I tried this. It works</p>\n"}],"owner":{"account_id":3836900,"reputation":2310,"user_id":3180985,"accept_rate":60,"display_name":"Viktoriia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182051,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":21461715,"answer_count":12,"score":120,"last_activity_date":1688119609,"creation_date":1391084725,"question_id":21456494,"body_markdown":"I&#39;m trying to make a method in CrudRepository that will be able to give me list of users, whose usernames are LIKE the input parameter(not only begin with, but also contains it). I tried to use method `&quot;findUserByUsernameLike(@Param(&quot;username&quot;) String username)&quot;` but as it is told in Spring documentation, this method is equal to \r\n&quot;`where user.username like ?1`&quot;. It is not good for me, as I already told that I&#39;m trying to get all users whose username contains ... \r\n \r\nI wrote a queryto the method but it even doesn&#39;t deploy.\r\n\r\n    @Repository\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n\r\n    @Query(&quot;select u from user u where u.username like &#39;%username%&#39;&quot;)\r\n    List&lt;User&gt; findUserByUsernameLike(@Param(&quot;username&quot;) String username);\r\n    }\r\nCan anybody help me with this?\r\n","title":"Spring JPA @Query with LIKE","body":"<p>I'm trying to make a method in CrudRepository that will be able to give me list of users, whose usernames are LIKE the input parameter(not only begin with, but also contains it). I tried to use method <code>\"findUserByUsernameLike(@Param(\"username\") String username)\"</code> but as it is told in Spring documentation, this method is equal to \n\"<code>where user.username like ?1</code>\". It is not good for me, as I already told that I'm trying to get all users whose username contains ... </p>\n\n<p>I wrote a queryto the method but it even doesn't deploy.</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n@Query(\"select u from user u where u.username like '%username%'\")\nList&lt;User&gt; findUserByUsernameLike(@Param(\"username\") String username);\n}\n</code></pre>\n\n<p>Can anybody help me with this?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687957078,"post_id":76572837,"comment_id":135009192,"body_markdown":"Please share more details: 1. packages of the classes 2. content of properties files 3. application log at startup.","body":"Please share more details: 1. packages of the classes 2. content of properties files 3. application log at startup."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687959715,"post_id":76572837,"comment_id":135009863,"body_markdown":"Add the `application.properties` you ar eusing.","body":"Add the <code>application.properties</code> you ar eusing."},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688021814,"post_id":76572837,"comment_id":135018355,"body_markdown":"@Mar-Z the classes are in the same package &quot;com.batch.jobs.config.&quot;","body":"@Mar-Z the classes are in the same package &quot;com.batch.jobs.config.&quot;"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688022196,"post_id":76572837,"comment_id":135018438,"body_markdown":"Are both classes annotated with @Configuration?","body":"Are both classes annotated with @Configuration?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688022406,"post_id":76572837,"comment_id":135018473,"body_markdown":"`getWS` doesn&#39;t match the property `ws`. Your getter/setter should be `getWs`","body":"<code>getWS</code> doesn&#39;t match the property <code>ws</code>. Your getter/setter should be <code>getWs</code>"},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688023272,"post_id":76572837,"comment_id":135018628,"body_markdown":"@M.Deinum this work perfectly the other class no","body":"@M.Deinum this work perfectly the other class no"},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688023410,"post_id":76572837,"comment_id":135018659,"body_markdown":"@Mar-Z\nNo, just as it is in the example code and it is not necessary to define","body":"@Mar-Z No, just as it is in the example code and it is not necessary to define"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688023924,"post_id":76572837,"comment_id":135018754,"body_markdown":"No it doesn&#39;t as stated `getWS` doesn&#39;t match the field/property `ws`. Either change your config to `opc.WS` or change your getter/setter. This is how properties work in Java (you might want to read the Java Bean specification for that).","body":"No it doesn&#39;t as stated <code>getWS</code> doesn&#39;t match the field/property <code>ws</code>. Either change your config to <code>opc.WS</code> or change your getter/setter. This is how properties work in Java (you might want to read the Java Bean specification for that)."},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688029830,"post_id":76572837,"comment_id":135020004,"body_markdown":"@M.Deinum I can&#39;t change properties and the getter/setter was made with eclipse automatically.","body":"@M.Deinum I can&#39;t change properties and the getter/setter was made with eclipse automatically."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688031104,"post_id":76572837,"comment_id":135020290,"body_markdown":"Then Eclipse is borked. Change the getter/setter else it will not bind/match.","body":"Then Eclipse is borked. Change the getter/setter else it will not bind/match."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688114182,"post_id":76572837,"comment_id":135033218,"body_markdown":"Please share application logs on startup with Spring active profile `int`","body":"Please share application logs on startup with Spring active profile <code>int</code>"},{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688118640,"post_id":76572837,"comment_id":135034073,"body_markdown":"@Mar-Z added. Thank you for helping","body":"@Mar-Z added. Thank you for helping"}],"answers":[{"comments":[{"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"score":0,"creation_date":1688121818,"post_id":76587930,"comment_id":135034679,"body_markdown":"The properties files are in the resources folder in both the external jar and the client app. You should replace or charge it first","body":"The properties files are in the resources folder in both the external jar and the client app. You should replace or charge it first"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688122811,"post_id":76587930,"comment_id":135034880,"body_markdown":"I don&#39;t understand your comment. Having the same property file name is a valid situation. However **only the first file** found by Spring will be loaded. That&#39;s why you should put your file in the directory listed in the answer. Putting it on the classpath is not enough because the other one will be found first.","body":"I don&#39;t understand your comment. Having the same property file name is a valid situation. However <b>only the first file</b> found by Spring will be loaded. That&#39;s why you should put your file in the directory listed in the answer. Putting it on the classpath is not enough because the other one will be found first."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688119379,"creation_date":1688119379,"answer_id":76587930,"question_id":76572837,"body_markdown":"&gt; how can you override those properties \r\n\r\nAs you are using the same properties file name as the external JAR on the classpath you should let Spring load you properties first. You can do it by putting your file either in:\r\n\r\n 1. The current directory\r\n 2. The `config`/ subdirectory in the current directory\r\n 3. Immediate child directories of the `config/` subdirectory\r\n\r\nBased on [https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific","title":"Mutiple @ConfigurationProperties don&#39;t work. Just load one","body":"<blockquote>\n<p>how can you override those properties</p>\n</blockquote>\n<p>As you are using the same properties file name as the external JAR on the classpath you should let Spring load you properties first. You can do it by putting your file either in:</p>\n<ol>\n<li>The current directory</li>\n<li>The <code>config</code>/ subdirectory in the current directory</li>\n<li>Immediate child directories of the <code>config/</code> subdirectory</li>\n</ol>\n<p>Based on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific</a></p>\n"}],"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688119379,"creation_date":1687952548,"question_id":76572837,"body_markdown":"I have a batch with **spring-boot-starter-batch 2.7.13**, the same thing happens with version **2.7.1**, so I don&#39;t think it&#39;s a version problem. JDK1.8.\r\n\r\nI have created two classes to load properties from properties files but defined by environment (int, pre, pro) the settings are all defined in main, and in the corresponding classes.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.batch&quot;})\r\n    @EnableAutoConfiguration(exclude = { \r\n    \t\t\t\t\t\t\t\t\t DataSourceAutoConfiguration.class,\r\n    \t\t\t\t\t\t\t\t\t DataSourceTransactionManagerAutoConfiguration.class,\r\n    \t\t\t\t\t\t\t\t\t HibernateJpaAutoConfiguration.class })\r\n    @EnableConfigurationProperties ({AppProp.class , ClientProp.class})\r\n    public class BatchApplication implements CommandLineRunner {...}\r\n     \r\nThe ClientProp class is defined as follows\r\n    \r\n    @ConfigurationProperties(prefix = &quot;ocr&quot;, ignoreUnknownFields = true)\r\n        public class ClientProp {\r\n        private Map&lt;String, String&gt; ws;\r\n        public Map&lt;String, String&gt; getWS() {\r\n        return ws;\r\n        }\r\n        public void setWS(Map&lt;String, String&gt; ws) {\r\n        this.ws = ws;\r\n        }\r\n        }\r\n\r\n\r\nIf I put a breakpoint in the setter it stops, which doesn&#39;t happen in the other class, it doesn&#39;t stop in any of the setters.\r\n\r\n    @ConfigurationProperties(prefix = &quot;pbc&quot;, ignoreUnknownFields = true)\r\n    public class AppProp {\r\n    private Map&lt;String, String&gt; job;\r\n    private Map&lt;String, String&gt; extension;\r\n    private Map&lt;String, String&gt; repository;\r\n    ...getters/setters\r\n    }\r\n\r\nI don&#39;t understand what the charging problem is.\r\nIn the debug traces, you can see how spring initializes the beans.\r\n\r\n    2023-06-28 13:28:04.480 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean &#39;pbc-com.batch.jobs.config.AppProp&#39;\r\n    2023-06-28 13:28:04.502 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean &#39;ocr-com.batch.jobs.config.ClientProp&#39;\r\n\r\nThe propertie file by environment is application-*int*.properties\r\n\r\n    pbc.extension.types=\r\n    pbc.repository.running=\r\n    pbc.repository.root.path=\r\n    pbc.repository.inbound=\r\n    pbc.repository.in-progress=\r\n    pbc.repository.error=\r\n    pbc.repository.processed=\r\n    pbc.repository.treated.file=\r\n    \r\n    pbc.job.thread.pool.size=\r\n    \r\n    pbc.job.commit.limit=\r\n    \r\n    pbc.job.thread.limit=\r\n    \r\n    ocr.ws.endpoint=\r\n    ocr.ws.app.user=\r\n    ocr.ws.app.password=\r\n    ocr.ws.app.project=\r\n    ocr.ws.app.schedule.process=\r\n    ocr.ws.app.try.process=\r\n    \r\n    ocr.manager.endpoint.base=\r\n    ocr.manager.version.api=\r\n    ocr.manager.analisis.api=\r\n    ocr.manager.url.notification=\r\n    ocr.manager.codigo.cliente=\r\n\r\nWhat can be wrong?\r\nThanks\r\n\r\nI don&#39;t understand the reason but according to the local configuration I have the files application-dev.properties, application-int.propeties, etc. and it only loads the properties if i select in dev environment but if i select int it doesn&#39;t work.\r\nWhat is the reason?\r\n\r\nCould the problem be that a dependency has a properties file with the same name and only loads the internal as seen in the traces?\r\nIf so, how can you override those properties or exclude them and put them in the main application&#39;s property? See the trace **2023-06-30 11:18:15.952 DEBUG 10060**\r\n\r\n    2023-06-30 11:18:15.097  INFO   --- [           main] c.batch.RidocrBatchApplication  : Profile: int\r\n    2023-06-30 11:18:15.707 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;info.app.build.date&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;application.version&#39; in PropertySource &#39;version&#39; with value of type String\r\n    2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring-boot.version&#39; in PropertySource &#39;version&#39; with value of type String\r\n    \r\n    2023-06-30 11:18:15.864 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.application.name&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2023-06-30 11:18:15.873  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : Starting RidocrBatchApplication on zaesvdicnt-203 with PID 10060 (******\\ridocr-batch\\target\\classes started by eit6529 in ******\\ridocr-batch)\r\n    2023-06-30 11:18:15.874  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : The following profiles are active: int\r\n    2023-06-30 11:18:15.874 DEBUG 10060 --- [           main] o.s.boot.SpringApplication               : Loading source class com.batch.RidocrBatchApplication\r\n    2023-06-30 11:18:15.951 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles int\r\n    2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file &#39;file:/******/ridocr-batch/target/classes/application.properties&#39; (classpath:/application.properties)\r\n    2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file &#39;jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/application-int.properties&#39; (classpath:/application-int.properties) for profile int\r\n    2023-06-30 11:18:15.953 DEBUG 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ac4250\r\n    2023-06-30 11:18:15.987 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&#39;\r\n    2023-06-30 11:18:16.017 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory&#39;\r\n    2023-06-30 11:18:16.135 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\BatchConfig.class]\r\n    2023-06-30 11:18:16.139 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\FilenetConnectionConfig.class]\r\n    2023-06-30 11:18:16.141 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\OCRConfig.class]\r\n    2023-06-30 11:18:16.144 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\RidOcrProperties.class]\r\n    2023-06-30 11:18:16.151 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\process\\JobRIDOCRProcess.class]\r\n    2023-06-30 11:18:16.170 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\utils\\ProcessCount.class]\r\n    2023-06-30 11:18:16.174 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: URL [jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/ocr/client/config/ConfigClient.class]\r\n    2023-06-30 11:18:16.432 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.condition.BeanTypeRegistry&#39;\r\n    2023-06-30 11:18:16.535 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.batch.job.enabled&#39; in PropertySource &#39;configurationProperties&#39; with value of type String\r\n    2023-06-30 11:18:16.711 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;propertySourcesPlaceholderConfigurer&#39;\r\n    2023-06-30 11:18:16.718 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;stepScope&#39;\r\n    2023-06-30 11:18:16.719 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobScope&#39;\r\n    2023-06-30 11:18:16.720 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerProcessor&#39;\r\n    2023-06-30 11:18:16.721 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata&#39;\r\n    2023-06-30 11:18:16.723 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerFactory&#39;\r\n    2023-06-30 11:18:16.724 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.transaction.config.internalTransactionalEventListenerFactory&#39;\r\n    2023-06-30 11:18:16.729 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&#39;\r\n    2023-06-30 11:18:16.730 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalCommonAnnotationProcessor&#39;\r\n    2023-06-30 11:18:16.733 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39;\r\n    2023-06-30 11:18:16.738 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;persistenceExceptionTranslationPostProcessor&#39;\r\n    2023-06-30 11:18:16.745 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Autowiring by type from bean name &#39;persistenceExceptionTranslationPostProcessor&#39; via factory method to bean named &#39;environment&#39;\r\n    2023-06-30 11:18:16.760 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.aop.config.internalAutoProxyCreator&#39;\r\n    2023-06-30 11:18:16.794 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ridocrBatchApplication&#39;\r\n    2023-06-30 11:18:17.003 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ridOcrProperties&#39;\r\n    2023-06-30 11:18:17.005 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ridocr-com.batch.jobs.config.AppCfgProp&#39;\r\n    2023-06-30 11:18:17.015 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.transaction.config.internalTransactionAdvisor&#39;\r\n    2023-06-30 11:18:17.016 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;\r\n    2023-06-30 11:18:17.047 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;transactionAttributeSource&#39;\r\n    2023-06-30 11:18:17.054 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;transactionInterceptor&#39;\r\n    2023-06-30 11:18:17.066 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;ocr-com.batch.jobs.config.OcrClientProp&#39;\r\n    2023-06-30 11:18:23.390 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;batchConfig&#39;\r\n    2023-06-30 11:18:23.395  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository\r\n    2023-06-30 11:18:23.396  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager\r\n    2023-06-30 11:18:23.410 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [*] with attribute [PROPAGATION_REQUIRED,ISOLATION_DEFAULT]\r\n    2023-06-30 11:18:23.411 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [create*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\r\n    2023-06-30 11:18:23.412 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [getLastJobExecution*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\r\n    2023-06-30 11:18:23.439  INFO 10060 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n    2023-06-30 11:18:23.441 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;OCRConfig&#39;\r\n    2023-06-30 11:18:23.526 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobRIDOCRProcess&#39;\r\n    2023-06-30 11:18:23.528 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;processCount&#39;\r\n    2023-06-30 11:18:23.533 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobBuilders&#39;\r\n    2023-06-30 11:18:23.534 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration&#39;\r\n    2023-06-30 11:18:23.551 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobRepository&#39;\r\n    2023-06-30 11:18:23.562 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;stepBuilders&#39;\r\n    2023-06-30 11:18:23.563 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;transactionManager&#39;\r\n    2023-06-30 11:18:23.569 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean &#39;jobTaskExecutorMultiThreaded&#39;\r\n    2023-06-30 11:18:25.195  WARN 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobRIDOCRProcess&#39;: Unsatisfied dependency expressed through field &#39;jobTaskExecutorMultiThreaded&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jobTaskExecutorMultiThreaded&#39; defined in class path resource [ridocr/batch/jobs/config/BatchConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.core.task.TaskExecutor]: Factory method &#39;jobTaskExecutorMultiThreaded&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    2023-06-30 11:18:25.201 DEBUG 10060 --- [           main] .c.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: .....\r\n    2023-06-30 11:18:25.231 DEBUG 10060 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\n\r\n","title":"Mutiple @ConfigurationProperties don&#39;t work. Just load one","body":"<p>I have a batch with <strong>spring-boot-starter-batch 2.7.13</strong>, the same thing happens with version <strong>2.7.1</strong>, so I don't think it's a version problem. JDK1.8.</p>\n<p>I have created two classes to load properties from properties files but defined by environment (int, pre, pro) the settings are all defined in main, and in the corresponding classes.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = { &quot;com.batch&quot;})\n@EnableAutoConfiguration(exclude = { \n                                     DataSourceAutoConfiguration.class,\n                                     DataSourceTransactionManagerAutoConfiguration.class,\n                                     HibernateJpaAutoConfiguration.class })\n@EnableConfigurationProperties ({AppProp.class , ClientProp.class})\npublic class BatchApplication implements CommandLineRunner {...}\n \n</code></pre>\n<p>The ClientProp class is defined as follows</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;ocr&quot;, ignoreUnknownFields = true)\n    public class ClientProp {\n    private Map&lt;String, String&gt; ws;\n    public Map&lt;String, String&gt; getWS() {\n    return ws;\n    }\n    public void setWS(Map&lt;String, String&gt; ws) {\n    this.ws = ws;\n    }\n    }\n</code></pre>\n<p>If I put a breakpoint in the setter it stops, which doesn't happen in the other class, it doesn't stop in any of the setters.</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;pbc&quot;, ignoreUnknownFields = true)\npublic class AppProp {\nprivate Map&lt;String, String&gt; job;\nprivate Map&lt;String, String&gt; extension;\nprivate Map&lt;String, String&gt; repository;\n...getters/setters\n}\n</code></pre>\n<p>I don't understand what the charging problem is.\nIn the debug traces, you can see how spring initializes the beans.</p>\n<pre><code>2023-06-28 13:28:04.480 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean 'pbc-com.batch.jobs.config.AppProp'\n2023-06-28 13:28:04.502 DEBUG 13076 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Creating shared instance of singleton bean 'ocr-com.batch.jobs.config.ClientProp'\n</code></pre>\n<p>The propertie file by environment is application-<em>int</em>.properties</p>\n<pre><code>pbc.extension.types=\npbc.repository.running=\npbc.repository.root.path=\npbc.repository.inbound=\npbc.repository.in-progress=\npbc.repository.error=\npbc.repository.processed=\npbc.repository.treated.file=\n\npbc.job.thread.pool.size=\n\npbc.job.commit.limit=\n\npbc.job.thread.limit=\n\nocr.ws.endpoint=\nocr.ws.app.user=\nocr.ws.app.password=\nocr.ws.app.project=\nocr.ws.app.schedule.process=\nocr.ws.app.try.process=\n\nocr.manager.endpoint.base=\nocr.manager.version.api=\nocr.manager.analisis.api=\nocr.manager.url.notification=\nocr.manager.codigo.cliente=\n</code></pre>\n<p>What can be wrong?\nThanks</p>\n<p>I don't understand the reason but according to the local configuration I have the files application-dev.properties, application-int.propeties, etc. and it only loads the properties if i select in dev environment but if i select int it doesn't work.\nWhat is the reason?</p>\n<p>Could the problem be that a dependency has a properties file with the same name and only loads the internal as seen in the traces?\nIf so, how can you override those properties or exclude them and put them in the main application's property? See the trace <strong>2023-06-30 11:18:15.952 DEBUG 10060</strong></p>\n<pre><code>2023-06-30 11:18:15.097  INFO   --- [           main] c.batch.RidocrBatchApplication  : Profile: int\n2023-06-30 11:18:15.707 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'info.app.build.date' in PropertySource 'configurationProperties' with value of type String\n2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'application.version' in PropertySource 'version' with value of type String\n2023-06-30 11:18:15.708 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring-boot.version' in PropertySource 'version' with value of type String\n\n2023-06-30 11:18:15.864 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.application.name' in PropertySource 'configurationProperties' with value of type String\n2023-06-30 11:18:15.873  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : Starting RidocrBatchApplication on zaesvdicnt-203 with PID 10060 (******\\ridocr-batch\\target\\classes started by eit6529 in ******\\ridocr-batch)\n2023-06-30 11:18:15.874  INFO 10060 --- [           main] c.batch.RidocrBatchApplication  : The following profiles are active: int\n2023-06-30 11:18:15.874 DEBUG 10060 --- [           main] o.s.boot.SpringApplication               : Loading source class com.batch.RidocrBatchApplication\n2023-06-30 11:18:15.951 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles int\n2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file 'file:/******/ridocr-batch/target/classes/application.properties' (classpath:/application.properties)\n2023-06-30 11:18:15.952 DEBUG 10060 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file 'jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/application-int.properties' (classpath:/application-int.properties) for profile int\n2023-06-30 11:18:15.953 DEBUG 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ac4250\n2023-06-30 11:18:15.987 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'\n2023-06-30 11:18:16.017 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'\n2023-06-30 11:18:16.135 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\BatchConfig.class]\n2023-06-30 11:18:16.139 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\FilenetConnectionConfig.class]\n2023-06-30 11:18:16.141 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\OCRConfig.class]\n2023-06-30 11:18:16.144 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\config\\RidOcrProperties.class]\n2023-06-30 11:18:16.151 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\process\\JobRIDOCRProcess.class]\n2023-06-30 11:18:16.170 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [******\\ridocr-batch\\target\\classes\\ridocr\\batch\\jobs\\utils\\ProcessCount.class]\n2023-06-30 11:18:16.174 DEBUG 10060 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: URL [jar:file:/******/ocr-client/0.0.18/ocr-client-0.0.18.jar!/ocr/client/config/ConfigClient.class]\n2023-06-30 11:18:16.432 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.condition.BeanTypeRegistry'\n2023-06-30 11:18:16.535 DEBUG 10060 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.batch.job.enabled' in PropertySource 'configurationProperties' with value of type String\n2023-06-30 11:18:16.711 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'propertySourcesPlaceholderConfigurer'\n2023-06-30 11:18:16.718 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'stepScope'\n2023-06-30 11:18:16.719 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobScope'\n2023-06-30 11:18:16.720 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\n2023-06-30 11:18:16.721 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata'\n2023-06-30 11:18:16.723 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'\n2023-06-30 11:18:16.724 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'\n2023-06-30 11:18:16.729 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'\n2023-06-30 11:18:16.730 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'\n2023-06-30 11:18:16.733 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'\n2023-06-30 11:18:16.738 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'persistenceExceptionTranslationPostProcessor'\n2023-06-30 11:18:16.745 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Autowiring by type from bean name 'persistenceExceptionTranslationPostProcessor' via factory method to bean named 'environment'\n2023-06-30 11:18:16.760 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'\n2023-06-30 11:18:16.794 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ridocrBatchApplication'\n2023-06-30 11:18:17.003 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ridOcrProperties'\n2023-06-30 11:18:17.005 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ridocr-com.batch.jobs.config.AppCfgProp'\n2023-06-30 11:18:17.015 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'\n2023-06-30 11:18:17.016 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration'\n2023-06-30 11:18:17.047 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'transactionAttributeSource'\n2023-06-30 11:18:17.054 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'transactionInterceptor'\n2023-06-30 11:18:17.066 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'ocr-com.batch.jobs.config.OcrClientProp'\n2023-06-30 11:18:23.390 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'batchConfig'\n2023-06-30 11:18:23.395  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository\n2023-06-30 11:18:23.396  WARN 10060 --- [           main] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager\n2023-06-30 11:18:23.410 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [*] with attribute [PROPAGATION_REQUIRED,ISOLATION_DEFAULT]\n2023-06-30 11:18:23.411 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [create*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\n2023-06-30 11:18:23.412 DEBUG 10060 --- [           main] .t.i.NameMatchTransactionAttributeSource : Adding transactional method [getLastJobExecution*] with attribute [PROPAGATION_REQUIRES_NEW,ISOLATION_SERIALIZABLE]\n2023-06-30 11:18:23.439  INFO 10060 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2023-06-30 11:18:23.441 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'OCRConfig'\n2023-06-30 11:18:23.526 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobRIDOCRProcess'\n2023-06-30 11:18:23.528 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'processCount'\n2023-06-30 11:18:23.533 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobBuilders'\n2023-06-30 11:18:23.534 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration'\n2023-06-30 11:18:23.551 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobRepository'\n2023-06-30 11:18:23.562 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'stepBuilders'\n2023-06-30 11:18:23.563 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'transactionManager'\n2023-06-30 11:18:23.569 DEBUG 10060 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Creating shared instance of singleton bean 'jobTaskExecutorMultiThreaded'\n2023-06-30 11:18:25.195  WARN 10060 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobRIDOCRProcess': Unsatisfied dependency expressed through field 'jobTaskExecutorMultiThreaded'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jobTaskExecutorMultiThreaded' defined in class path resource [ridocr/batch/jobs/config/BatchConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.core.task.TaskExecutor]: Factory method 'jobTaskExecutorMultiThreaded' threw exception; nested exception is java.lang.NullPointerException\n2023-06-30 11:18:25.201 DEBUG 10060 --- [           main] .c.l.ClasspathLoggingApplicationListener : Application failed to start with classpath: .....\n2023-06-30 11:18:25.231 DEBUG 10060 --- [           main] ConditionEvaluationReportLoggingListener : \n</code></pre>\n"},{"tags":["java","intellij-idea","builder","lombok"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1596017227,"post_id":63151172,"comment_id":111671911,"body_markdown":"did you add the lombok plugin? also, please don&#39;t expect us to visit a bunch of external links","body":"did you add the lombok plugin? also, please don&#39;t expect us to visit a bunch of external links"},{"owner":{"account_id":19183844,"reputation":43,"user_id":14015034,"display_name":"Rp P"},"score":0,"creation_date":1596017423,"post_id":63151172,"comment_id":111672018,"body_markdown":"Hey thanks for the suggestion regarding external links. Will keep it in mind. This is my first post. IntelliJ Lombok plugin is already installed in IntelliJ. Thanks","body":"Hey thanks for the suggestion regarding external links. Will keep it in mind. This is my first post. IntelliJ Lombok plugin is already installed in IntelliJ. Thanks"},{"owner":{"account_id":469126,"reputation":1741,"user_id":875526,"display_name":"Seb"},"score":0,"creation_date":1596018265,"post_id":63151172,"comment_id":111672408,"body_markdown":"When you ignore displayed errors from IDE: Does it compile (using mvn clean install) when you add LoginModel.builder.build(); ?","body":"When you ignore displayed errors from IDE: Does it compile (using mvn clean install) when you add LoginModel.builder.build(); ?"},{"owner":{"account_id":4497487,"reputation":85,"user_id":3656940,"display_name":"Vishal T"},"score":0,"creation_date":1596018481,"post_id":63151172,"comment_id":111672514,"body_markdown":"did u try reimporting project dependencies?","body":"did u try reimporting project dependencies?"}],"answers":[{"comments":[{"owner":{"account_id":19183844,"reputation":43,"user_id":14015034,"display_name":"Rp P"},"score":0,"creation_date":1596018645,"post_id":63151272,"comment_id":111672594,"body_markdown":"Thanks. It worked now. Though I had all the configurations in place it didn&#39;t seem to work. Restarted IntelliJ Twice and that seemed to work. Thanks for your help!","body":"Thanks. It worked now. Though I had all the configurations in place it didn&#39;t seem to work. Restarted IntelliJ Twice and that seemed to work. Thanks for your help!"},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":1,"creation_date":1605080007,"post_id":63151272,"comment_id":114539645,"body_markdown":"It does work that way. I have an issue with lombok installed and annotation processing enabled and dependencies are added to project. This is project specific at some point something happen inside intelljidea with project settings or gradle. Another project in next window with lombok works good.","body":"It does work that way. I have an issue with lombok installed and annotation processing enabled and dependencies are added to project. This is project specific at some point something happen inside intelljidea with project settings or gradle. Another project in next window with lombok works good."}],"tags":[],"owner":{"account_id":469126,"reputation":1741,"user_id":875526,"display_name":"Seb"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596018122,"creation_date":1596017534,"answer_id":63151272,"question_id":63151172,"body_markdown":"Assuming you use IntelliJ: You have to install [Lombok Plugin][1] in order to make it work:\r\n\r\n 1. Go to `File &gt; Settings &gt; Plugins`\r\n 2. Click on Browse repositories...\r\n 3. Search for `Lombok Plugin`\r\n 4. Click on Install plugin\r\n 5. Restart IntelliJ IDEA\r\n\r\n  [1]: https://projectlombok.org/setup/intellij","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>Assuming you use IntelliJ: You have to install <a href=\"https://projectlombok.org/setup/intellij\" rel=\"nofollow noreferrer\">Lombok Plugin</a> in order to make it work:</p>\n<ol>\n<li>Go to <code>File &gt; Settings &gt; Plugins</code></li>\n<li>Click on Browse repositories...</li>\n<li>Search for <code>Lombok Plugin</code></li>\n<li>Click on Install plugin</li>\n<li>Restart IntelliJ IDEA</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":19183844,"reputation":43,"user_id":14015034,"display_name":"Rp P"},"score":0,"creation_date":1596017745,"post_id":63151281,"comment_id":111672162,"body_markdown":"Thanks for the suggestion. However have already done that.","body":"Thanks for the suggestion. However have already done that."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1596017987,"post_id":63151281,"comment_id":111672260,"body_markdown":"See the edit. You should get it work with all in my answer.","body":"See the edit. You should get it work with all in my answer."},{"owner":{"account_id":19183844,"reputation":43,"user_id":14015034,"display_name":"Rp P"},"score":1,"creation_date":1596018642,"post_id":63151281,"comment_id":111672592,"body_markdown":"Thanks. It worked now. Though I had all the configurations in place it didn&#39;t seem to work. Restarted IntelliJ Twice and that seemed to work. Thanks for your help!","body":"Thanks. It worked now. Though I had all the configurations in place it didn&#39;t seem to work. Restarted IntelliJ Twice and that seemed to work. Thanks for your help!"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1613864722,"creation_date":1596017559,"answer_id":63151281,"question_id":63151172,"body_markdown":"Aside from the dependency in the `provided` scope you have to enable the annotation processing (if you are using IntelliJ Idea) and install the [Lombok Plugin][1].\r\n\r\n1.     &lt;dependency&gt;\r\n           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n           &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n           &lt;scope&gt;provided&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n2. Annotation processing: Navigate to `File` -&gt; `Settings` -&gt; `Build, Execution, Deployment` -&gt; `Compiler` -&gt; `Annotation Processors` and check `Enable annotation processing`.\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n3. Lombok Plugin: Navigate to `File` -&gt; `Settings` -&gt; `Plugins` and make sure the Lombok plugin is installed.\r\n\r\n   [![enter image description here][3]][3]\r\n\r\n4. Restart IntelliJ Idea - **The most likely missed part :)**\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/6317-lombok/\r\n  [2]: https://i.stack.imgur.com/tsMpW.png\r\n  [3]: https://i.stack.imgur.com/HYJwS.png","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>Aside from the dependency in the <code>provided</code> scope you have to enable the annotation processing (if you are using IntelliJ Idea) and install the <a href=\"https://plugins.jetbrains.com/plugin/6317-lombok/\" rel=\"nofollow noreferrer\">Lombok Plugin</a>.</p>\n<ol>\n<li>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Annotation processing: Navigate to <code>File</code> -&gt; <code>Settings</code> -&gt; <code>Build, Execution, Deployment</code> -&gt; <code>Compiler</code> -&gt; <code>Annotation Processors</code> and check <code>Enable annotation processing</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/tsMpW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsMpW.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Lombok Plugin: Navigate to <code>File</code> -&gt; <code>Settings</code> -&gt; <code>Plugins</code> and make sure the Lombok plugin is installed.</p>\n<p><a href=\"https://i.stack.imgur.com/HYJwS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HYJwS.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Restart IntelliJ Idea - <strong>The most likely missed part :)</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3033996,"reputation":1064,"user_id":2572505,"accept_rate":56,"display_name":"Dut A."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688119180,"creation_date":1688119180,"answer_id":76587897,"question_id":63151172,"body_markdown":"In my case, I had used `@Data` and `@NoArgsConstructor`.\r\n\r\nTo get the `@Builder` to work, I had to add `@AllArgsConstructor`.\r\n\r\n `@NoArgsConstructor` seems to invalidate the [all-args] constructor `@Data` adds. So either have just `@Data` or both `@NoArgsConstructor` &amp; `@AllArgsConstructor`\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ThatGreatClassName implements Serializable {\r\n    // code\r\n}\r\n\r\n```\r\n\r\nOR\r\n\r\n\r\n```java\r\n@Data\r\n@Builder\r\npublic class ThatGreatClassName implements Serializable {\r\n    // code\r\n}\r\n\r\n```","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>In my case, I had used <code>@Data</code> and <code>@NoArgsConstructor</code>.</p>\n<p>To get the <code>@Builder</code> to work, I had to add <code>@AllArgsConstructor</code>.</p>\n<p><code>@NoArgsConstructor</code> seems to invalidate the [all-args] constructor <code>@Data</code> adds. So either have just <code>@Data</code> or both <code>@NoArgsConstructor</code> &amp; <code>@AllArgsConstructor</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ThatGreatClassName implements Serializable {\n    // code\n}\n\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\npublic class ThatGreatClassName implements Serializable {\n    // code\n}\n\n</code></pre>\n"}],"owner":{"account_id":19183844,"reputation":43,"user_id":14015034,"display_name":"Rp P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7321,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63151281,"answer_count":3,"score":4,"last_activity_date":1688119180,"creation_date":1596017160,"question_id":63151172,"body_markdown":"I am not sure what am I doing wrong. Can somebody please help me out\r\n\r\nPOM:\r\n [![enter image description here][1]][1]\r\n\r\n\r\nImplementation:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nUsing it as below:\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThe builder() method does not seem to be recognised. I am using IntelliJ. Is there something that I am missing?\r\n\r\nBelow are my intelliJ settings:\r\n\r\n![IntellijSettings - 1][4]\r\n\r\n![IntellijSettings - 2][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OyVtM.png\r\n  [2]: https://i.stack.imgur.com/9qcjd.png\r\n  [3]: https://i.stack.imgur.com/BtlAq.png\r\n  [4]: https://i.stack.imgur.com/gHjM4.png\r\n  [5]: https://i.stack.imgur.com/7BAgY.png","title":"How to fix: Lombok builder() method does not seem to be recognised in IntelliJ?","body":"<p>I am not sure what am I doing wrong. Can somebody please help me out</p>\n<p>POM:\n<a href=\"https://i.stack.imgur.com/OyVtM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OyVtM.png\" alt=\"enter image description here\" /></a></p>\n<p>Implementation:\n<a href=\"https://i.stack.imgur.com/9qcjd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qcjd.png\" alt=\"enter image description here\" /></a></p>\n<p>Using it as below:\n<a href=\"https://i.stack.imgur.com/BtlAq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BtlAq.png\" alt=\"enter image description here\" /></a></p>\n<p>The builder() method does not seem to be recognised. I am using IntelliJ. Is there something that I am missing?</p>\n<p>Below are my intelliJ settings:</p>\n<p><img src=\"https://i.stack.imgur.com/gHjM4.png\" alt=\"IntellijSettings - 1\" /></p>\n<p><img src=\"https://i.stack.imgur.com/7BAgY.png\" alt=\"IntellijSettings - 2\" /></p>\n"},{"tags":["java","spring","rest","validation","spring-mvc"],"comments":[{"owner":{"account_id":3270631,"reputation":3649,"user_id":2754093,"accept_rate":100,"display_name":"Mouad EL Fakir"},"score":2,"creation_date":1487265226,"post_id":42280355,"comment_id":71717572,"body_markdown":"Validation should be made only in the presentation layer (DTO) and Entities should never reach to the presentation layer.","body":"Validation should be made only in the presentation layer (DTO) and Entities should never reach to the presentation layer."},{"owner":{"account_id":3323719,"reputation":2084,"user_id":2794211,"accept_rate":77,"display_name":"Elbbard"},"score":0,"creation_date":1487274859,"post_id":42280355,"comment_id":71723398,"body_markdown":"So no restriction annotations in the entities? For example, when you create a db without an ORM, you specify VARCHAR(30). Which limits the string length.","body":"So no restriction annotations in the entities? For example, when you create a db without an ORM, you specify VARCHAR(30). Which limits the string length."}],"answers":[{"comments":[{"owner":{"account_id":1170155,"reputation":20313,"user_id":1433665,"accept_rate":69,"display_name":"TheKojuEffect"},"score":0,"creation_date":1518590123,"post_id":42289379,"comment_id":84563439,"body_markdown":"Sushil, after mapping dto to entity, there could be need for modifications to the entity as well. Therefore, it would be wise to valid entity as well. Also, service layer does not want to assume what it gets from controller is a valid entity.","body":"Sushil, after mapping dto to entity, there could be need for modifications to the entity as well. Therefore, it would be wise to valid entity as well. Also, service layer does not want to assume what it gets from controller is a valid entity."}],"tags":[],"owner":{"account_id":4443559,"reputation":826,"user_id":3617511,"display_name":"msucil"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1487305572,"creation_date":1487305572,"answer_id":42289379,"question_id":42280355,"body_markdown":"In entity you should add `constraints` that required your data to be in healthy state and all the `validation` logic should be in `DTO` because, your `RestController` serve `DTOs` and it is the responsibility of `controller` to check for validation before mapping to entity.","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>In entity you should add <code>constraints</code> that required your data to be in healthy state and all the <code>validation</code> logic should be in <code>DTO</code> because, your <code>RestController</code> serve <code>DTOs</code> and it is the responsibility of <code>controller</code> to check for validation before mapping to entity.</p>\n"},{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1487307879,"creation_date":1487307879,"answer_id":42289798,"question_id":42280355,"body_markdown":"It&#39;s ironic how many people truly believe that validation should be something we partake upon in our controllers or the value objects which they exchange with business code and at no other place should there be concern for state validation.  \r\n\r\nWe should always strive to perform validation at multiple stages of any application.\r\n\r\nConsider for the moment a controller that accepts a value object that you intend to use to change a business entity in some service and that value object contains only a subset of fields that you intend to manipulate in a larger entity.  You validate the value object in your presentation tier and pass that to your service which fetches the entity, takes the values from the value object and sets them on the appropriate entity.  Perhaps that service method manipulates other fields too.\r\n\r\nWhat guarantee do we have that the state of that entity is _valid_?  \r\n\r\nWhile we validated the value object was valid, we only validated those inputs within the context of the subset of fields which were supplied.  We didn&#39;t validate that those values in conjunction with the other existing state of the entity were still valid.\r\n\r\nIt&#39;s also important to try and guard against developer mistakes too.  Test cases only get you so far and we all can agree we don&#39;t validate the validity of every combination of values in our tests.  We often target very specific cases and scenarios and draw conclusions from there.  \r\n\r\nBy applying validation not only to our presentation value objects but to our entities, you not only allow your test cases to focus on broad feature validation but you guarantee that your data store state is never compromised by the application.","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>It's ironic how many people truly believe that validation should be something we partake upon in our controllers or the value objects which they exchange with business code and at no other place should there be concern for state validation.  </p>\n\n<p>We should always strive to perform validation at multiple stages of any application.</p>\n\n<p>Consider for the moment a controller that accepts a value object that you intend to use to change a business entity in some service and that value object contains only a subset of fields that you intend to manipulate in a larger entity.  You validate the value object in your presentation tier and pass that to your service which fetches the entity, takes the values from the value object and sets them on the appropriate entity.  Perhaps that service method manipulates other fields too.</p>\n\n<p>What guarantee do we have that the state of that entity is <em>valid</em>?  </p>\n\n<p>While we validated the value object was valid, we only validated those inputs within the context of the subset of fields which were supplied.  We didn't validate that those values in conjunction with the other existing state of the entity were still valid.</p>\n\n<p>It's also important to try and guard against developer mistakes too.  Test cases only get you so far and we all can agree we don't validate the validity of every combination of values in our tests.  We often target very specific cases and scenarios and draw conclusions from there.  </p>\n\n<p>By applying validation not only to our presentation value objects but to our entities, you not only allow your test cases to focus on broad feature validation but you guarantee that your data store state is never compromised by the application.</p>\n"},{"comments":[{"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"score":0,"creation_date":1662319854,"post_id":63066771,"comment_id":129973654,"body_markdown":"great arguments, thx! :)","body":"great arguments, thx! :)"},{"owner":{"account_id":1189940,"reputation":100,"user_id":1162991,"display_name":"codeimust"},"score":0,"creation_date":1669338784,"post_id":63066771,"comment_id":131625705,"body_markdown":"In the case where the controller calls a service, and assuming that the controller works with DTOs and the service with Entities, doesn&#39;t this mean that you are now double validating? i.e at the controller as well as at the service. If so, doesn&#39;t that 1) constitute a performance issue, especially when validators are accessing a database? 2) Increase the maintenance workload for keeping validations rules the same in DTOs and Entities at all times. My question then is, is the performance hit significant enough to live with these two limitations?","body":"In the case where the controller calls a service, and assuming that the controller works with DTOs and the service with Entities, doesn&#39;t this mean that you are now double validating? i.e at the controller as well as at the service. If so, doesn&#39;t that 1) constitute a performance issue, especially when validators are accessing a database? 2) Increase the maintenance workload for keeping validations rules the same in DTOs and Entities at all times. My question then is, is the performance hit significant enough to live with these two limitations?"}],"tags":[],"owner":{"account_id":10404656,"reputation":429,"user_id":7671930,"display_name":"Luiz Fernando Noschang"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1595564871,"creation_date":1595564554,"answer_id":63066771,"question_id":42280355,"body_markdown":"After thinking about it for a while, I decided that the best approach is to validate on both layers. I&#39;ll explain why.\r\n\r\nImagine that you have a **`User`** entity with a **`name`** field and your application business logic requires it not to be null. You also have a **`UserDTO`** with the same **`name`** field.\r\n\r\nI assume that all your validations on both, entity and DTO, will be made using the **`java.validation`** API.\r\n\r\nIf you validate only on the controller, then you&#39;re safe against persisting an invalid entity, but only from a incoming request. If you have a service that manipulates the entity, it may persist the entity in an invalid state without you noticing (unless there is a null check on the database column).\r\n\r\nThen, you can think: *&quot;OK, I&#39;ll move the validation annotations from the DTO to the entity and all will be fine&quot;*. Well, yes and no!\r\n\r\nIf you validate only on the entity, you will be safe from both, incoming requests and on your service layer, however you may have a performance problem.\r\n\r\nAccording to **Anghel Leonard** on its book **Spring Boot Persistence Best Practices**, every time you load an entity from the database, Hibernate wastes memory and CPU to maintain the entity state on the persistence context, even if the entity is in &quot;read only mode&quot;.\r\n\r\nNow, think about it. If the user name is null and you validate it only on the entity, this means that you:\r\n\r\n1. Started a transaction\r\n2. Loaded the entity\r\n3. Changed the entity\r\n4. Flushed the persistence context\r\n5. Rolled back the transaction\r\n\r\nMany of these operations can be expensive and you did it all just to throw it on the trash, when you could simply have never done anything if you had validated the user name earlier.\r\n\r\nSo, my advice is to validate on both layers. The annotations make it so easy that you not even have an excuse to not do it. Even complex validations can be made writing custom validators, which can then be reused on a lot of other places\r\n\r\n\r\nAlso, here is a link to the book I mentioned, I hope you enjoy:\r\nhttps://www.amazon.com.br/dp/B087WS81RK/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>After thinking about it for a while, I decided that the best approach is to validate on both layers. I'll explain why.</p>\n<p>Imagine that you have a <strong><code>User</code></strong> entity with a <strong><code>name</code></strong> field and your application business logic requires it not to be null. You also have a <strong><code>UserDTO</code></strong> with the same <strong><code>name</code></strong> field.</p>\n<p>I assume that all your validations on both, entity and DTO, will be made using the <strong><code>java.validation</code></strong> API.</p>\n<p>If you validate only on the controller, then you're safe against persisting an invalid entity, but only from a incoming request. If you have a service that manipulates the entity, it may persist the entity in an invalid state without you noticing (unless there is a null check on the database column).</p>\n<p>Then, you can think: <em>&quot;OK, I'll move the validation annotations from the DTO to the entity and all will be fine&quot;</em>. Well, yes and no!</p>\n<p>If you validate only on the entity, you will be safe from both, incoming requests and on your service layer, however you may have a performance problem.</p>\n<p>According to <strong>Anghel Leonard</strong> on its book <strong>Spring Boot Persistence Best Practices</strong>, every time you load an entity from the database, Hibernate wastes memory and CPU to maintain the entity state on the persistence context, even if the entity is in &quot;read only mode&quot;.</p>\n<p>Now, think about it. If the user name is null and you validate it only on the entity, this means that you:</p>\n<ol>\n<li>Started a transaction</li>\n<li>Loaded the entity</li>\n<li>Changed the entity</li>\n<li>Flushed the persistence context</li>\n<li>Rolled back the transaction</li>\n</ol>\n<p>Many of these operations can be expensive and you did it all just to throw it on the trash, when you could simply have never done anything if you had validated the user name earlier.</p>\n<p>So, my advice is to validate on both layers. The annotations make it so easy that you not even have an excuse to not do it. Even complex validations can be made writing custom validators, which can then be reused on a lot of other places</p>\n<p>Also, here is a link to the book I mentioned, I hope you enjoy:\n<a href=\"https://www.amazon.com.br/dp/B087WS81RK/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"noreferrer\">https://www.amazon.com.br/dp/B087WS81RK/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1</a></p>\n"},{"tags":[],"owner":{"account_id":4869614,"reputation":11,"user_id":3926603,"display_name":"chinnari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688118964,"creation_date":1688118964,"answer_id":76587876,"question_id":42280355,"body_markdown":"    Input needs to be validated first you can use the below validations in dto \r\n    \r\n    @NotBlank(&quot;Username must not be null&quot;)\r\n    @Size(max=10)\r\n    private String userName;\r\n    \r\n    @Email\r\n    @NotBlank\r\n    @Size(min =10,max=100,message =&quot;emaild id must be valid&quot;)\r\n    private String emailId;","title":"Spring Rest API validation should be in DTO or in entity?","body":"<pre><code>Input needs to be validated first you can use the below validations in dto \n\n@NotBlank(&quot;Username must not be null&quot;)\n@Size(max=10)\nprivate String userName;\n\n@Email\n@NotBlank\n@Size(min =10,max=100,message =&quot;emaild id must be valid&quot;)\nprivate String emailId;\n</code></pre>\n"}],"owner":{"account_id":3323719,"reputation":2084,"user_id":2794211,"accept_rate":77,"display_name":"Elbbard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17494,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":42289798,"answer_count":4,"score":26,"last_activity_date":1688118964,"creation_date":1487264674,"question_id":42280355,"body_markdown":"In which tier should the validation be in a Spring Boot Rest API. I have some models, endpoints and DTOs. I added some `@NotNull` and `@Size` annotations in the DTO. I added the `@Valid` annotation in the endpoint along with the `@RequestParam` annotation. \r\n\r\nBut now I&#39;m wondering if I should put validation in the `@Entity` classes as well? I feel like it would be a duplication of code. But I read that a tier should never rely on another one.","title":"Spring Rest API validation should be in DTO or in entity?","body":"<p>In which tier should the validation be in a Spring Boot Rest API. I have some models, endpoints and DTOs. I added some <code>@NotNull</code> and <code>@Size</code> annotations in the DTO. I added the <code>@Valid</code> annotation in the endpoint along with the <code>@RequestParam</code> annotation. </p>\n\n<p>But now I'm wondering if I should put validation in the <code>@Entity</code> classes as well? I feel like it would be a duplication of code. But I read that a tier should never rely on another one.</p>\n"},{"tags":["java","conditional-statements","conditional-operator"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":2,"creation_date":1497784822,"post_id":44614401,"comment_id":76215202,"body_markdown":"your code can be simplified to `boolean t1 = !false &amp;&amp; (true ? false : true ? false : true);` which is always `false`.","body":"your code can be simplified to <code>boolean t1 = !false &amp;&amp; (true ? false : true ? false : true);</code> which is always <code>false</code>."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1497784883,"post_id":44614401,"comment_id":76215219,"body_markdown":"try to use brackets/parenthesis to make your life easier on this one.","body":"try to use brackets/parenthesis to make your life easier on this one."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1497785890,"creation_date":1497784715,"answer_id":44614422,"question_id":44614401,"body_markdown":"When the compiler finds a `?` character, it looks for a corresponding `:`. The expression before the `?` is the first operand of the ternary conditional operator, which represents the condition.\r\n\r\nThe expression between the `?` and the `:` is the second operand of the operator, whose value is returned if the condition is true.\r\n\r\nThe expression after the `:` is the third operand of the operator, whose value is returned if the condition is false.\r\n\r\n    boolean t1 = false   ? false    :    true?false:true?false:true;\r\n\r\n                 first     second        third\r\n                 operand   operand       operand\r\n\r\nSince first operand is false, the result is the value of the third operand `true?false:true?false:true`, so let&#39;s evaluate it:\r\n\r\n    true    ?   false    : true?false:true;\r\n\r\n    first       second     third\r\n    operand     operand    operand\r\n\r\nSince first operand is true, the result is the value of the second operand - `false`.\r\n\r\nBTW, the value of the third operand `true?false:true` is also `false`, so `x?false:true?false:true` returns false regardless of the value of `x`.","title":"How are ternary expressions in Java evaluated?","body":"<p>When the compiler finds a <code>?</code> character, it looks for a corresponding <code>:</code>. The expression before the <code>?</code> is the first operand of the ternary conditional operator, which represents the condition.</p>\n\n<p>The expression between the <code>?</code> and the <code>:</code> is the second operand of the operator, whose value is returned if the condition is true.</p>\n\n<p>The expression after the <code>:</code> is the third operand of the operator, whose value is returned if the condition is false.</p>\n\n<pre><code>boolean t1 = false   ? false    :    true?false:true?false:true;\n\n             first     second        third\n             operand   operand       operand\n</code></pre>\n\n<p>Since first operand is false, the result is the value of the third operand <code>true?false:true?false:true</code>, so let's evaluate it:</p>\n\n<pre><code>true    ?   false    : true?false:true;\n\nfirst       second     third\noperand     operand    operand\n</code></pre>\n\n<p>Since first operand is true, the result is the value of the second operand - <code>false</code>.</p>\n\n<p>BTW, the value of the third operand <code>true?false:true</code> is also <code>false</code>, so <code>x?false:true?false:true</code> returns false regardless of the value of <code>x</code>.</p>\n"},{"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1497785733,"post_id":44614434,"comment_id":76215443,"body_markdown":"Actually what you denoted at &quot;Exp 1&quot; is never evaluated at all. It&#39;s dead code.","body":"Actually what you denoted at &quot;Exp 1&quot; is never evaluated at all. It&#39;s dead code."},{"owner":{"account_id":6321039,"reputation":385730,"user_id":4909087,"accept_rate":97,"display_name":"cs95"},"score":0,"creation_date":1497785998,"post_id":44614434,"comment_id":76215506,"body_markdown":"@Eran I was trying not to get too technical for a java beginner. But I suppose it is important to mention. Updated.","body":"@Eran I was trying not to get too technical for a java beginner. But I suppose it is important to mention. Updated."}],"tags":[],"owner":{"account_id":6321039,"reputation":385730,"user_id":4909087,"accept_rate":97,"display_name":"cs95"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497785968,"creation_date":1497784817,"answer_id":44614434,"question_id":44614401,"body_markdown":"We can regroup these operations according to associativity rules.\r\n\r\n    boolean t1 = (false ? false : (true ? false : (true ? false : true)));\r\n                      |                      |               | \r\n                      |                      |               1\r\n                      |                      2\r\n                      3\r\n\r\nIn theory, this is what should happen\r\n\r\n 1. Exp 1 is evaluated first and is evaluated as `false`. \r\n 2. Exp 2 is now: `true? false : false` so the final output is `false`. \r\n 3. Exp 3 now becomes `false ? false : false`, which is `false`.\r\n\r\n----\r\nNow, to get technical, this is what actually happens:\r\n\r\n1. Exp 3 is `false ? (don&#39;t care) : (...)` -&gt; the inner expression containing Exp 2 and Exp 1 need to be evaluated.\r\n2. Exp 2 is `true: false, (don&#39;t care)` Since we&#39;ve already determined the value of Exp 2, Exp 1 no longer needs to be evaluated.\r\n3. Exp 3 is now reevaluated to be `false ? (don&#39;t care) : false` and so the final answer is `false`.","title":"How are ternary expressions in Java evaluated?","body":"<p>We can regroup these operations according to associativity rules.</p>\n\n<pre><code>boolean t1 = (false ? false : (true ? false : (true ? false : true)));\n                  |                      |               | \n                  |                      |               1\n                  |                      2\n                  3\n</code></pre>\n\n<p>In theory, this is what should happen</p>\n\n<ol>\n<li>Exp 1 is evaluated first and is evaluated as <code>false</code>. </li>\n<li>Exp 2 is now: <code>true? false : false</code> so the final output is <code>false</code>. </li>\n<li>Exp 3 now becomes <code>false ? false : false</code>, which is <code>false</code>.</li>\n</ol>\n\n<hr>\n\n<p>Now, to get technical, this is what actually happens:</p>\n\n<ol>\n<li>Exp 3 is <code>false ? (don't care) : (...)</code> -> the inner expression containing Exp 2 and Exp 1 need to be evaluated.</li>\n<li>Exp 2 is <code>true: false, (don't care)</code> Since we've already determined the value of Exp 2, Exp 1 no longer needs to be evaluated.</li>\n<li>Exp 3 is now reevaluated to be <code>false ? (don't care) : false</code> and so the final answer is <code>false</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497787395,"creation_date":1497785365,"answer_id":44614507,"question_id":44614401,"body_markdown":"The Pseudocode below shows how the expression is evaluated:\r\n\r\n    boolean t1 = false?false:true?false:true?false:true              \r\n               = true &amp;&amp; (true ? false : true ? false : true)\r\n               = true &amp;&amp; false\r\n               = false\r\n\r\nAnother way to look at it:\r\n\r\n    boolean t1 = false?false:true?false:true?false:true;\r\n\r\ncan be simplified to:\r\n\r\n    boolean t1 = !false &amp;&amp; (true ? false : true ? false : true); \r\nthen simplified to:\r\n\r\n    boolean t1 = true &amp;&amp; (true ? false : true ? false : true); \r\n\r\nthen simplified to:\r\n\r\n    boolean t1 = true &amp;&amp; false;\r\n\r\nwhich eventually results in `false`;\r\n","title":"How are ternary expressions in Java evaluated?","body":"<p>The Pseudocode below shows how the expression is evaluated:</p>\n\n<pre><code>boolean t1 = false?false:true?false:true?false:true              \n           = true &amp;&amp; (true ? false : true ? false : true)\n           = true &amp;&amp; false\n           = false\n</code></pre>\n\n<p>Another way to look at it:</p>\n\n<pre><code>boolean t1 = false?false:true?false:true?false:true;\n</code></pre>\n\n<p>can be simplified to:</p>\n\n<pre><code>boolean t1 = !false &amp;&amp; (true ? false : true ? false : true); \n</code></pre>\n\n<p>then simplified to:</p>\n\n<pre><code>boolean t1 = true &amp;&amp; (true ? false : true ? false : true); \n</code></pre>\n\n<p>then simplified to:</p>\n\n<pre><code>boolean t1 = true &amp;&amp; false;\n</code></pre>\n\n<p>which eventually results in <code>false</code>;</p>\n"}],"owner":{"account_id":6377178,"reputation":532,"user_id":4947737,"accept_rate":71,"display_name":"Bibek Ghimire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44614422,"answer_count":3,"score":4,"last_activity_date":1688118267,"creation_date":1497784547,"question_id":44614401,"body_markdown":"I have followed the tutorial provided [here](http://www.wideskills.com/java-tutorial/java-operators-tutorial) and in the line:\r\n   \r\n    boolean t1 = false?false:true?false:true?false:true;\r\n\r\nthe final value of `t1` is false. But I&#39;ve evaluated it as true.\r\nThe first false gives true and that true gives false, which further finally gives true,\r\nam I right? No, I am wrong.\r\nCould you please tell me how ternary expressions are evaluated in Java?","title":"How are ternary expressions in Java evaluated?","body":"<p>I have followed the tutorial provided <a href=\"http://www.wideskills.com/java-tutorial/java-operators-tutorial\" rel=\"nofollow noreferrer\">here</a> and in the line:</p>\n<pre><code>boolean t1 = false?false:true?false:true?false:true;\n</code></pre>\n<p>the final value of <code>t1</code> is false. But I've evaluated it as true.\nThe first false gives true and that true gives false, which further finally gives true,\nam I right? No, I am wrong.\nCould you please tell me how ternary expressions are evaluated in Java?</p>\n"},{"tags":["java","spring","if-statement","optimization"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669761052,"post_id":74620781,"comment_id":131715505,"body_markdown":"You could look into using the [Strategy Pattern](https://en.wikipedia.org/wiki/Strategy_pattern) or something similar.  Where one strategy could call another strategy and you could kind of make a rules engine.  Overall the number of if statements will stay the same, they will just be placed into individual classes.","body":"You could look into using the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">Strategy Pattern</a> or something similar.  Where one strategy could call another strategy and you could kind of make a rules engine.  Overall the number of if statements will stay the same, they will just be placed into individual classes."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669761083,"post_id":74620781,"comment_id":131715511,"body_markdown":"If by &quot;optimalize&quot; you mean make the code cleaner, you might want to post this on [codereview.se]. But you&#39;ll need to include more context and better explain what you&#39;re doing.","body":"If by &quot;optimalize&quot; you mean make the code cleaner, you might want to post this on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. But you&#39;ll need to include more context and better explain what you&#39;re doing."}],"answers":[{"tags":[],"owner":{"display_name":"user20638963"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669762949,"creation_date":1669762949,"answer_id":74621183,"question_id":74620781,"body_markdown":"You can write some methods that receive some values to validate and return boolean.\r\n\r\n    boolean checkType(CustomObject type){\r\n        return type == null;\r\n    }\r\n\r\n\r\nYou can check the use of Optional, it maybe helps with some if blocks.\r\n\r\n    Optional.ofNullable(type).ifPresent(t -&gt; /*some operations*/);\r\n\r\n\r\nYou can check if you can merge some conditions.\r\n \r\n    if (shapeParams.getType() != null &amp;&amp; isFirstParam) {\r\n         //do something....\r\n    } else {\r\n         //do other....    \r\n    }\r\n    \r\n    \r\n\r\n","title":"How to optimize if else statemants with many specifications","body":"<p>You can write some methods that receive some values to validate and return boolean.</p>\n<pre><code>boolean checkType(CustomObject type){\n    return type == null;\n}\n</code></pre>\n<p>You can check the use of Optional, it maybe helps with some if blocks.</p>\n<pre><code>Optional.ofNullable(type).ifPresent(t -&gt; /*some operations*/);\n</code></pre>\n<p>You can check if you can merge some conditions.</p>\n<pre><code>if (shapeParams.getType() != null &amp;&amp; isFirstParam) {\n     //do something....\n} else {\n     //do other....    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575976,"reputation":406,"user_id":1462417,"display_name":"kqr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688117404,"creation_date":1688117404,"answer_id":76587684,"question_id":74620781,"body_markdown":"Depends what you want to achieve.\r\nIf no criteria is provided and you want to search without any &quot;WHERE&quot; clause\r\nyou can do\r\n```\r\npublic Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\r\n    Specification spec = Specification.where(null);\r\n    if (shapeParams.getType() != null) {\r\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n    }\r\n\r\n    if (shapeParams.getWidthTo() != null) {\r\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\r\n    }\r\n\r\n    return spec;\r\n}\r\n```\r\nand if you move if check into `isTypeEqual` returning null, you could directly call \r\n```\r\n Specification spec = Specification.where(null);\r\n spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n```\r\n\r\nIf you would like to know if after all those &quot;ands&quot; specification is still null, only way I&#39;ve found is something like this\r\n\r\n```\r\npublic Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\r\n    Specification emptySpec = Specification.where(null);\r\n    Specification spec = emptySpec;\r\n    if (shapeParams.getType() != null) {\r\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n    }\r\n\r\n    if (shapeParams.getWidthTo() != null) {\r\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\r\n    }\r\n    if (spec == emptySpec) {\r\n       return null;\r\n    }\r\n    return spec;\r\n}\r\n```","title":"How to optimize if else statemants with many specifications","body":"<p>Depends what you want to achieve.\nIf no criteria is provided and you want to search without any &quot;WHERE&quot; clause\nyou can do</p>\n<pre><code>public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\n    Specification spec = Specification.where(null);\n    if (shapeParams.getType() != null) {\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\n    }\n\n    if (shapeParams.getWidthTo() != null) {\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\n    }\n\n    return spec;\n}\n</code></pre>\n<p>and if you move if check into <code>isTypeEqual</code> returning null, you could directly call</p>\n<pre><code> Specification spec = Specification.where(null);\n spec = spec.and(isTypeEqual(shapeParams.getType()));\n</code></pre>\n<p>If you would like to know if after all those &quot;ands&quot; specification is still null, only way I've found is something like this</p>\n<pre><code>public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\n    Specification emptySpec = Specification.where(null);\n    Specification spec = emptySpec;\n    if (shapeParams.getType() != null) {\n        spec = spec.and(isTypeEqual(shapeParams.getType()));\n    }\n\n    if (shapeParams.getWidthTo() != null) {\n        spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\n    }\n    if (spec == emptySpec) {\n       return null;\n    }\n    return spec;\n}\n</code></pre>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688118206,"creation_date":1669759896,"question_id":74620781,"body_markdown":"I am trying to create dynamic search based on fields send in request body.\r\nI prepared many Specifications and in &quot;summary specification&quot; (which is called in method) I want to call them if field is different than null.\r\nIt works but the problem is I will never know which parameter will start creating condition so I had to add boolean parameter which resulted in the creation of many if else statements.\r\nCode:\r\n\r\n    public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\r\n        Specification spec = null;\r\n        boolean isFirstParam = true;\r\n        if (shapeParams.getType() != null) {\r\n            if (isFirstParam) {\r\n                spec = Specification.where(isTypeEqual(shapeParams.getType()));\r\n                isFirstParam = false;\r\n            } else {\r\n                spec = spec.and(isTypeEqual(shapeParams.getType()));\r\n            }\r\n        }\r\n\r\n        if (shapeParams.getWidthTo() != null) {\r\n            if (isFirstParam) {\r\n                spec = Specification.where(isWidthLessThan(shapeParams.getWidthTo()));\r\n                isFirstParam = false;\r\n            } else {\r\n                spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\r\n            }\r\n        }\r\n\r\n        if (shapeParams.getWidthFrom() != null) {\r\n            if (isFirstParam) {\r\n                spec = Specification.where(isWidthGreaterThan(shapeParams.getWidthTo()));\r\n                isFirstParam = false;\r\n            } else {\r\n                spec = spec.and(isWidthGreaterThan(shapeParams.getWidthTo()));\r\n            }\r\n        }\r\n        return spec;\r\n    }\r\nIs there any way to optimize it? Specification has to always start with &quot;.where&quot; as first, and next I can add other conditions and I would like to have even 10+ parameters.","title":"How to optimize if else statemants with many specifications","body":"<p>I am trying to create dynamic search based on fields send in request body.\nI prepared many Specifications and in &quot;summary specification&quot; (which is called in method) I want to call them if field is different than null.\nIt works but the problem is I will never know which parameter will start creating condition so I had to add boolean parameter which resulted in the creation of many if else statements.\nCode:</p>\n<pre><code>public Specification&lt;ShapeEntity&gt; conditionalSearch(ShapeParams shapeParams) {\n    Specification spec = null;\n    boolean isFirstParam = true;\n    if (shapeParams.getType() != null) {\n        if (isFirstParam) {\n            spec = Specification.where(isTypeEqual(shapeParams.getType()));\n            isFirstParam = false;\n        } else {\n            spec = spec.and(isTypeEqual(shapeParams.getType()));\n        }\n    }\n\n    if (shapeParams.getWidthTo() != null) {\n        if (isFirstParam) {\n            spec = Specification.where(isWidthLessThan(shapeParams.getWidthTo()));\n            isFirstParam = false;\n        } else {\n            spec = spec.and(isWidthLessThan(shapeParams.getWidthTo()));\n        }\n    }\n\n    if (shapeParams.getWidthFrom() != null) {\n        if (isFirstParam) {\n            spec = Specification.where(isWidthGreaterThan(shapeParams.getWidthTo()));\n            isFirstParam = false;\n        } else {\n            spec = spec.and(isWidthGreaterThan(shapeParams.getWidthTo()));\n        }\n    }\n    return spec;\n}\n</code></pre>\n<p>Is there any way to optimize it? Specification has to always start with &quot;.where&quot; as first, and next I can add other conditions and I would like to have even 10+ parameters.</p>\n"},{"tags":["java","redis","jedis","spring-data-redis","reddison"],"comments":[{"owner":{"account_id":10791375,"reputation":1498,"user_id":7938769,"display_name":"tima"},"score":0,"creation_date":1541174601,"post_id":53121627,"comment_id":93138580,"body_markdown":"which line is `34` in your `SpringDataRedisEugenpApplication` class?","body":"which line is <code>34</code> in your <code>SpringDataRedisEugenpApplication</code> class?"}],"answers":[{"comments":[{"owner":{"account_id":3076439,"reputation":545,"user_id":2605631,"accept_rate":20,"display_name":"mertaksu"},"score":1,"creation_date":1556450625,"post_id":53131782,"comment_id":98436551,"body_markdown":"Did you add @Index annotation to name and gender field? Can i put them to id field?","body":"Did you add @Index annotation to name and gender field? Can i put them to id field?"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":1,"creation_date":1558160840,"post_id":53131782,"comment_id":99016796,"body_markdown":"@mertaksu - Yes, you can do that, if you do so, you can see separate indexing data structure has been created for that","body":"@mertaksu - Yes, you can do that, if you do so, you can see separate indexing data structure has been created for that"},{"owner":{"account_id":5552980,"reputation":219,"user_id":4405431,"accept_rate":36,"display_name":"Nazim"},"score":3,"creation_date":1608985749,"post_id":53131782,"comment_id":115723675,"body_markdown":"Not working for me. Tried almost every suggestion on SO. I am using redis server version 6.0.9 and spring-boot 2.3.5. I have a class User and another class Address. User have a list of address. I didn’t annotated Address with anything. But put @Indexed on a property ‘name’ in class User.I am getting null on using CrudRepository&lt;User, String&gt; findByName(). What could be possible reason for this.","body":"Not working for me. Tried almost every suggestion on SO. I am using redis server version 6.0.9 and spring-boot 2.3.5. I have a class User and another class Address. User have a list of address. I didn’t annotated Address with anything. But put @Indexed on a property ‘name’ in class User.I am getting null on using CrudRepository&lt;User, String&gt; findByName(). What could be possible reason for this."},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1682919515,"post_id":53131782,"comment_id":134284412,"body_markdown":"did findByNameAndGender work?","body":"did findByNameAndGender work?"}],"tags":[],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":4,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1541270510,"creation_date":1541251536,"answer_id":53131782,"question_id":53121627,"body_markdown":"I myself able to figure out answers to below questions.\r\n\r\nYou just need to put the `@Index` annotation at the field level. `@Index` annotions marks the property as for indexing which uses Redis {@literal SET} to keep track of for objects with matching values.\r\n\r\n    @Indexed\r\n    private String name;\r\n\r\n@Ref: https://scalegrid.io/blog/introduction-to-redis-data-structures-hashes/\r\n\r\n&gt;1) How to see actual data stored in the redis?\r\n\r\n    redis 127.0.0.1:6379&gt; hgetall Student:1\r\n     1) &quot;_class&quot;\r\n     2) &quot;com.baeldung.spring.data.redis.model.Student&quot;\r\n     3) &quot;id&quot;\r\n     4) &quot;1&quot;\r\n     5) &quot;name&quot;\r\n     6) &quot;John Doe&quot;\r\n     7) &quot;gender&quot;\r\n     8) &quot;MALE&quot;\r\n     9) &quot;grade._class&quot;\r\n    10) &quot;java.lang.Integer&quot;\r\n    11) &quot;grade&quot;\r\n    12) &quot;1&quot;\r\n\r\n    redis 127.0.0.1:6379&gt; hgetall Student:2\r\n     1) &quot;_class&quot;\r\n     2) &quot;com.baeldung.spring.data.redis.model.Student&quot;\r\n     3) &quot;id&quot;\r\n     4) &quot;2&quot;\r\n     5) &quot;name&quot;\r\n     6) &quot;Michael Harford&quot;\r\n     7) &quot;gender&quot;\r\n     8) &quot;MALE&quot;\r\n     9) &quot;grade._class&quot;\r\n    10) &quot;java.lang.Integer&quot;\r\n    11) &quot;grade&quot;\r\n    12) &quot;2&quot;\r\n\r\n\r\n  [1]: http://Intro%20To%20Redis%20Data%20Structure%20Hashesh","title":"Unable to get result from the Redis using Crud Repository in Spring Boot?","body":"<p>I myself able to figure out answers to below questions.</p>\n\n<p>You just need to put the <code>@Index</code> annotation at the field level. <code>@Index</code> annotions marks the property as for indexing which uses Redis {@literal SET} to keep track of for objects with matching values.</p>\n\n<pre><code>@Indexed\nprivate String name;\n</code></pre>\n\n<p>@Ref: <a href=\"https://scalegrid.io/blog/introduction-to-redis-data-structures-hashes/\" rel=\"noreferrer\">https://scalegrid.io/blog/introduction-to-redis-data-structures-hashes/</a></p>\n\n<blockquote>\n  <p>1) How to see actual data stored in the redis?</p>\n</blockquote>\n\n<pre><code>redis 127.0.0.1:6379&gt; hgetall Student:1\n 1) \"_class\"\n 2) \"com.baeldung.spring.data.redis.model.Student\"\n 3) \"id\"\n 4) \"1\"\n 5) \"name\"\n 6) \"John Doe\"\n 7) \"gender\"\n 8) \"MALE\"\n 9) \"grade._class\"\n10) \"java.lang.Integer\"\n11) \"grade\"\n12) \"1\"\n\nredis 127.0.0.1:6379&gt; hgetall Student:2\n 1) \"_class\"\n 2) \"com.baeldung.spring.data.redis.model.Student\"\n 3) \"id\"\n 4) \"2\"\n 5) \"name\"\n 6) \"Michael Harford\"\n 7) \"gender\"\n 8) \"MALE\"\n 9) \"grade._class\"\n10) \"java.lang.Integer\"\n11) \"grade\"\n12) \"2\"\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11084,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53131782,"answer_count":1,"score":12,"last_activity_date":1688118149,"creation_date":1541173080,"question_id":53121627,"body_markdown":"I am developing **Spring Boot + Redis** example. I&#39;ve taken a reference from  link : https://www.baeldung.com/spring-data-redis-tutorial. In this example, I developed repository method `Student findByNameAndGender(String name, Gender gender);` and even the `Student findByName(String name);`, but I am not getting any result back on both cases.?\r\n\r\nAny quick help? Redis query - \r\n\r\n\r\n    redis 127.0.0.1:6379&gt; KEYS *\r\n    1) &quot;Student&quot;\r\n    2) &quot;Student:bb4df14a-7f42-4fc3-b608-fc4b7d45109e&quot;\r\n    3) &quot;Student:69affaa4-e56c-49e3-9ef4-1cd7509d299b&quot;\r\n    redis 127.0.0.1:6379&gt;\r\n\r\n**Student.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @RedisHash(&quot;Student&quot;)\r\n    public class Student {\r\n    \tpublic enum Gender {\r\n            MALE, FEMALE\r\n        }\r\n    \r\n        private String id;\r\n        private String name;\r\n        private Gender gender;\r\n        private int grade;\r\n    }\r\n\r\n**StudentRepository.java**\r\n\r\n    @Repository\r\n    public interface StudentRepository extends CrudRepository&lt;Student, String&gt;{\r\n    \tStudent findByNameAndGender(String name, Gender gender);\r\n    }\r\n\r\nRedisConfig.java\r\n\r\n    @Configuration\r\n    @EnableRedisRepositories\r\n    public class RedisConfig {\r\n    \t@Bean\r\n        JedisConnectionFactory jedisConnectionFactory() {\r\n            return new JedisConnectionFactory();\r\n        }\r\n    \t@Bean\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n            final RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;();\r\n            template.setConnectionFactory(jedisConnectionFactory());\r\n            template.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\r\n            return template;\r\n        }\r\n    }\r\n\r\nSpringDataRedisEugenpApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class SpringDataRedisEugenpApplication implements CommandLineRunner{\r\n    \r\n    \t@Autowired\r\n    \tprivate StudentRepository repository;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringDataRedisEugenpApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\trepository.save(Student.builder().name(&quot;John&quot;).gender(Student.Gender.MALE).grade(1).build());\r\n    \t\trepository.save(Student.builder().name(&quot;Michael&quot;).gender(Student.Gender.MALE).grade(2).build());\r\n    \t\t\r\n    \t\tIterable&lt;Student&gt; students = repository.findAll();\r\n    \t\tfor (Student student : students) {\r\n    \t\t\tSystem.out.println(&quot;=============================&quot;);\r\n    \t\t\tSystem.out.println(&quot;Details ? &quot;+student.toString());\r\n    \t\t}\r\n    \t\t\r\n    \t\tStudent s = repository.findByNameAndGender(&quot;John&quot;, Student.Gender.MALE);\r\n    \t\tSystem.out.println(&quot;Student =&quot;+s.toString());  //line-34\r\n    \t}\r\n    }\r\n\r\n**Error -** \r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat com.baeldung.SpringDataRedisEugenpApplication.main(SpringDataRedisEugenpApplication.java:19) [classes/:na]\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat com.baeldung.SpringDataRedisEugenpApplication.run(SpringDataRedisEugenpApplication.java:34) [classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:792) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \t... 5 common frames omitted\r\n\r\n\r\nFew Queries - \r\n&gt;1) How to see actual data stored in the redis?\r\n\r\n&gt;2) How we can control Id to be started from one ?\r\n\r\n    edis 127.0.0.1:6379&gt; get Student:1\r\n    (error) ERR Operation against a key holding the wrong kind of value\r\n    redis 127.0.0.1:6379&gt; get Student:2\r\n    (error) ERR Operation against a key holding the wrong kind of value\r\n    redis 127.0.0.1:6379&gt;\r\n\r\nI am really struggling to see\r\n\r\n    redis 127.0.0.1:6379&gt; mget Student:1\r\n    1) (nil)\r\n    redis 127.0.0.1:6379&gt; mget Student:2\r\n    1) (nil)\r\n    redis 127.0.0.1:6379&gt; mget Student\r\n    1) (nil)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ZOzv.png","title":"Unable to get result from the Redis using Crud Repository in Spring Boot?","body":"<p>I am developing <strong>Spring Boot + Redis</strong> example. I've taken a reference from  link : <a href=\"https://www.baeldung.com/spring-data-redis-tutorial\" rel=\"noreferrer\">https://www.baeldung.com/spring-data-redis-tutorial</a>. In this example, I developed repository method <code>Student findByNameAndGender(String name, Gender gender);</code> and even the <code>Student findByName(String name);</code>, but I am not getting any result back on both cases.?</p>\n\n<p>Any quick help? Redis query - </p>\n\n<pre><code>redis 127.0.0.1:6379&gt; KEYS *\n1) \"Student\"\n2) \"Student:bb4df14a-7f42-4fc3-b608-fc4b7d45109e\"\n3) \"Student:69affaa4-e56c-49e3-9ef4-1cd7509d299b\"\nredis 127.0.0.1:6379&gt;\n</code></pre>\n\n<p><strong>Student.java</strong></p>\n\n<pre><code>@Data\n@AllArgsConstructor\n@Builder\n@NoArgsConstructor\n@RedisHash(\"Student\")\npublic class Student {\n    public enum Gender {\n        MALE, FEMALE\n    }\n\n    private String id;\n    private String name;\n    private Gender gender;\n    private int grade;\n}\n</code></pre>\n\n<p><strong>StudentRepository.java</strong></p>\n\n<pre><code>@Repository\npublic interface StudentRepository extends CrudRepository&lt;Student, String&gt;{\n    Student findByNameAndGender(String name, Gender gender);\n}\n</code></pre>\n\n<p>RedisConfig.java</p>\n\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        return new JedisConnectionFactory();\n    }\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        final RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        template.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\n        return template;\n    }\n}\n</code></pre>\n\n<p>SpringDataRedisEugenpApplication.java</p>\n\n<pre><code>@SpringBootApplication\npublic class SpringDataRedisEugenpApplication implements CommandLineRunner{\n\n    @Autowired\n    private StudentRepository repository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataRedisEugenpApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        repository.save(Student.builder().name(\"John\").gender(Student.Gender.MALE).grade(1).build());\n        repository.save(Student.builder().name(\"Michael\").gender(Student.Gender.MALE).grade(2).build());\n\n        Iterable&lt;Student&gt; students = repository.findAll();\n        for (Student student : students) {\n            System.out.println(\"=============================\");\n            System.out.println(\"Details ? \"+student.toString());\n        }\n\n        Student s = repository.findByNameAndGender(\"John\", Student.Gender.MALE);\n        System.out.println(\"Student =\"+s.toString());  //line-34\n    }\n}\n</code></pre>\n\n<p><strong>Error -</strong> </p>\n\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at com.baeldung.SpringDataRedisEugenpApplication.main(SpringDataRedisEugenpApplication.java:19) [classes/:na]\nCaused by: java.lang.NullPointerException: null\n    at com.baeldung.SpringDataRedisEugenpApplication.run(SpringDataRedisEugenpApplication.java:34) [classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:792) [spring-boot-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    ... 5 common frames omitted\n</code></pre>\n\n<p>Few Queries - </p>\n\n<blockquote>\n  <p>1) How to see actual data stored in the redis?</p>\n  \n  <p>2) How we can control Id to be started from one ?</p>\n</blockquote>\n\n<pre><code>edis 127.0.0.1:6379&gt; get Student:1\n(error) ERR Operation against a key holding the wrong kind of value\nredis 127.0.0.1:6379&gt; get Student:2\n(error) ERR Operation against a key holding the wrong kind of value\nredis 127.0.0.1:6379&gt;\n</code></pre>\n\n<p>I am really struggling to see</p>\n\n<pre><code>redis 127.0.0.1:6379&gt; mget Student:1\n1) (nil)\nredis 127.0.0.1:6379&gt; mget Student:2\n1) (nil)\nredis 127.0.0.1:6379&gt; mget Student\n1) (nil)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1ZOzv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1ZOzv.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","lazy-loading"],"answers":[{"comments":[{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1687980292,"post_id":76570405,"comment_id":135014127,"body_markdown":"Can you please tell why Lazy Loading is not working. I am getting repeated fetches in a cycle. Why FetchType.LAZY is not working in this case.","body":"Can you please tell why Lazy Loading is not working. I am getting repeated fetches in a cycle. Why FetchType.LAZY is not working in this case."},{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1688017185,"post_id":76570405,"comment_id":135017663,"body_markdown":"The actual loading will happen when you call a method on the returned object. And if you don&#39;t have huge number of elements in your collection you can change **LAZY** to **EAGER** so that the provider loads the objects.","body":"The actual loading will happen when you call a method on the returned object. And if you don&#39;t have huge number of elements in your collection you can change <b>LAZY</b> to <b>EAGER</b> so that the provider loads the objects."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688026626,"post_id":76570405,"comment_id":135019320,"body_markdown":"I am getting the queries showing that admin, company, and other assocated entities are getting fetched when getPolicyCounties() method is invoked. It should only fetch the PolicyCounty but is fetching the InsurancePolicy-&gt;Company-&gt;Admin entities also.","body":"I am getting the queries showing that admin, company, and other assocated entities are getting fetched when getPolicyCounties() method is invoked. It should only fetch the PolicyCounty but is fetching the InsurancePolicy-&gt;Company-&gt;Admin entities also."},{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1688030092,"post_id":76570405,"comment_id":135020069,"body_markdown":"@coder001 in lazy loading mapping entity will not fetch until you explicitly call it. In your case you get (insurancePolicy.getPolicyCounties())  all PolicyCounties from the insurance policy so internally it will call the get method for Admin object that&#39;s why it return it.","body":"@coder001 in lazy loading mapping entity will not fetch until you explicitly call it. In your case you get (insurancePolicy.getPolicyCounties())  all PolicyCounties from the insurance policy so internally it will call the get method for Admin object that&#39;s why it return it."},{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1688030225,"post_id":76570405,"comment_id":135020099,"body_markdown":"If you want to get some fields from that entity object you need to create DTOs with required fields having the same name as in entity. and use BeanUtils class for copy the properties which has the same field name.","body":"If you want to get some fields from that entity object you need to create DTOs with required fields having the same name as in entity. and use BeanUtils class for copy the properties which has the same field name."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688048141,"post_id":76570405,"comment_id":135023885,"body_markdown":"&#39; @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name=&quot;query_policy_county&quot;,\n            joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))&#39;  Yes you said it right, but my InsurancePolicyEntity does not directly have Admin. It has a Category (with lazy fetch)  and the category has a Admin(with lazy fetch), but when I just want to fetch the PolicyCounties, I also get the Company and Admin.","body":"&#39; @ManyToMany(fetch = FetchType.LAZY)     @JoinTable(name=&quot;query_policy_county&quot;,             joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),             inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))&#39;  Yes you said it right, but my InsurancePolicyEntity does not directly have Admin. It has a Category (with lazy fetch)  and the category has a Admin(with lazy fetch), but when I just want to fetch the PolicyCounties, I also get the Company and Admin."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688048241,"post_id":76570405,"comment_id":135023903,"body_markdown":"I also tried using FetchType.LAZY on the policy and county of the PolicyCounty class, but still getting same issue.","body":"I also tried using FetchType.LAZY on the policy and county of the PolicyCounty class, but still getting same issue."}],"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687931930,"creation_date":1687931930,"answer_id":76570405,"question_id":76567750,"body_markdown":"You have to exclude admin entity from being serialized. For that you can use \r\n@JsonView or @JsonIdentityInfo annotations.\r\n\r\nFor reference : https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"LAZY Fetching not working with ManyToMany relationship: Spring Boot and JPA","body":"<p>You have to exclude admin entity from being serialized. For that you can use\n@JsonView or @JsonIdentityInfo annotations.</p>\n<p>For reference : <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n"},{"comments":[{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":1,"creation_date":1688305076,"post_id":76587779,"comment_id":135053408,"body_markdown":"Thank you for the suggestion, but I figured out the reason was the @Data annotation of the lombok. It causes the trouble and might trigger getters even with lazy loading.","body":"Thank you for the suggestion, but I figured out the reason was the @Data annotation of the lombok. It causes the trouble and might trigger getters even with lazy loading."}],"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688118129,"creation_date":1688118129,"answer_id":76587779,"question_id":76567750,"body_markdown":"If you are still facing the same issue it might be happened beacuse you are not accessing it in **TransactionalContext** please try **@Transactional** at the method level.","title":"LAZY Fetching not working with ManyToMany relationship: Spring Boot and JPA","body":"<p>If you are still facing the same issue it might be happened beacuse you are not accessing it in <strong>TransactionalContext</strong> please try <strong>@Transactional</strong> at the method level.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688118129,"creation_date":1687890894,"question_id":76567750,"body_markdown":"I have the following scenario-\r\nI have a many to many relationship between a **County** and a **Policy** entity.The relationship is maintained by an entity PolicyCounty. Here are the entity classes-\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;policy_county&quot;)\r\npublic class PolicyCounty {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_county_id&quot;)\r\n    private long policyStateId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;policy_id&quot;)\r\n    private InsurancePolicy policy;\r\n\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;county_id&quot;)\r\n    private County county;\r\n\r\n    @Column(name=&quot;cost&quot;,nullable = false)\r\n    private double cost;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;insurance_policy&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class InsurancePolicy {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_id&quot;)\r\n    private long policyId;\r\n\r\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\r\n    private String policyName;\r\n\r\n    //Short description\r\n    @Column(name=&quot;policy_description&quot;,nullable = false)\r\n    private String policyDescription;\r\n\r\n    //Long description\r\n    @Column(name=&quot;choose_description&quot;,nullable = false)\r\n    private String chooseDescription;\r\n\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\r\n    private Company company;\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\r\n    private Category category;\r\n\r\n    @ManyToMany(mappedBy = &quot;queriedPolices&quot;,fetch = FetchType.LAZY,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    private Set&lt;User&gt; usersQueried=new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;county&quot;)\r\npublic class County {\r\n\r\n    @Id\r\n    @Column(name=&quot;countyid&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long countyId;\r\n\r\n    @Column(name=&quot;countyname&quot;,nullable = false,unique = true)\r\n    private String countyName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;adminId&quot;, nullable = false)\r\n    private Admin admin;\r\n\r\n    @OneToMany(mappedBy = &quot;county&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY,orphanRemoval = true) //orphan removal is set to true so that the relationship can be removed\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n\r\n    public County() {\r\n    }\r\n\r\n    public long getCountyId() {\r\n        return countyId;\r\n    }\r\n\r\n    public String getCountyName() {\r\n        return countyName;\r\n    }\r\n\r\n    @JsonIgnoreProperties(&quot;policyCounties&quot;) //This prevents the fetch of the admin when insurance policy getPolicyCounty is called, which results in unnecessary fetches of the admin, category and other related entities\r\n    public Admin getAdmin() {\r\n        return admin;\r\n    }\r\n\r\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\r\n        return policyCounties;\r\n    }\r\n\r\n    public void setCountyId(long countyId) {\r\n        this.countyId = countyId;\r\n    }\r\n\r\n    public void setCountyName(String countyName) {\r\n        this.countyName = countyName;\r\n    }\r\n\r\n    public void setAdmin(Admin admin) {\r\n        this.admin = admin;\r\n    }\r\n\r\n    public void setPolicyCounties(Set&lt;PolicyCounty&gt; policyCounties) {\r\n        this.policyCounties = policyCounties;\r\n    }\r\n}\r\n```\r\n\r\nNow, one of the requirements is to fetch the polices by category id. For this I write the method-\r\n```\r\n@Override\r\n    public List&lt;InsurancePolicyListDto&gt; getAllInsurancePoliciesForCategory(long categoryId) {\r\n        Category category=new Category();\r\n        category.setCategoryId(categoryId);\r\n        List&lt;InsurancePolicy&gt; insurancePolicies=this.insurancePolicyRepository.findAllByCategory(category);\r\n        List&lt;InsurancePolicyListDto&gt; insurancePolicyDtos=new ArrayList&lt;&gt;();\r\n\r\n        for(InsurancePolicy insurancePolicy: insurancePolicies){\r\n            //converted manually to check for uncessary fetches which must be prevented\r\n            InsurancePolicyListDto insurancePolicyListDto=new InsurancePolicyListDto();\r\n            insurancePolicyListDto.setPolicyId(insurancePolicy.getPolicyId());\r\n            insurancePolicyListDto.setPolicyName(insurancePolicy.getPolicyName());\r\n            insurancePolicyListDto.setPolicyDescription(insurancePolicy.getPolicyDescription());\r\n            insurancePolicyListDto.setChooseDescription(insurancePolicy.getChooseDescription());\r\n            insurancePolicyListDto.setCompany(this.modelMapper.map(insurancePolicy.getCompany(), CompanyDetailsDto.class));\r\n            Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();\r\n            insurancePolicyListDto.setPolicyCounties(this.countyToListDto(policyCounties));\r\n            insurancePolicyDtos.add(insurancePolicyListDto);\r\n        }\r\n        return insurancePolicyDtos;\r\n    }\r\n```\r\n**Problem-**\r\nI run my project in debug mode and when the line- \r\n```Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();``` is executed, I get unexpected fetches from the database. **According to my understanding only the PolicyCounty entities and County entities must be fetched without fetching the Admin details from the county entity (I have used LAZY fetch type for admin in county.)** But, what I get is all the admin details, other associated entities of the admin which are not even requried and should have been fetched lazily.  \r\nThus, I am not able to understand why even after FetchType.LAZY for admin, I am getting all the details from the admin table and its other related tables.   \r\nI added @JsonIgnoreProperties in the county class getAdmin() which works when @Getter and @Setter are used but does not work when getters and setters have been created manually in InsurancePolicy and PolicyCounty classes.   \r\nPlease help me understand why Lazy fetching is failing in this case and that to for all the related entities of admin by just calling   \r\n```Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();```. Please help!","title":"LAZY Fetching not working with ManyToMany relationship: Spring Boot and JPA","body":"<p>I have the following scenario-\nI have a many to many relationship between a <strong>County</strong> and a <strong>Policy</strong> entity.The relationship is maintained by an entity PolicyCounty. Here are the entity classes-</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;policy_county&quot;)\npublic class PolicyCounty {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_county_id&quot;)\n    private long policyStateId;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;policy_id&quot;)\n    private InsurancePolicy policy;\n\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;county_id&quot;)\n    private County county;\n\n    @Column(name=&quot;cost&quot;,nullable = false)\n    private double cost;\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;insurance_policy&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class InsurancePolicy {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_id&quot;)\n    private long policyId;\n\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\n    private String policyName;\n\n    //Short description\n    @Column(name=&quot;policy_description&quot;,nullable = false)\n    private String policyDescription;\n\n    //Long description\n    @Column(name=&quot;choose_description&quot;,nullable = false)\n    private String chooseDescription;\n\n\n    //many policies can belong to one category\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\n    private Company company;\n\n    //many policies can belong to one category\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\n    private Category category;\n\n    @ManyToMany(mappedBy = &quot;queriedPolices&quot;,fetch = FetchType.LAZY,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    private Set&lt;User&gt; usersQueried=new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;county&quot;)\npublic class County {\n\n    @Id\n    @Column(name=&quot;countyid&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long countyId;\n\n    @Column(name=&quot;countyname&quot;,nullable = false,unique = true)\n    private String countyName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;adminId&quot;, nullable = false)\n    private Admin admin;\n\n    @OneToMany(mappedBy = &quot;county&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY,orphanRemoval = true) //orphan removal is set to true so that the relationship can be removed\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n\n    public County() {\n    }\n\n    public long getCountyId() {\n        return countyId;\n    }\n\n    public String getCountyName() {\n        return countyName;\n    }\n\n    @JsonIgnoreProperties(&quot;policyCounties&quot;) //This prevents the fetch of the admin when insurance policy getPolicyCounty is called, which results in unnecessary fetches of the admin, category and other related entities\n    public Admin getAdmin() {\n        return admin;\n    }\n\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\n        return policyCounties;\n    }\n\n    public void setCountyId(long countyId) {\n        this.countyId = countyId;\n    }\n\n    public void setCountyName(String countyName) {\n        this.countyName = countyName;\n    }\n\n    public void setAdmin(Admin admin) {\n        this.admin = admin;\n    }\n\n    public void setPolicyCounties(Set&lt;PolicyCounty&gt; policyCounties) {\n        this.policyCounties = policyCounties;\n    }\n}\n</code></pre>\n<p>Now, one of the requirements is to fetch the polices by category id. For this I write the method-</p>\n<pre><code>@Override\n    public List&lt;InsurancePolicyListDto&gt; getAllInsurancePoliciesForCategory(long categoryId) {\n        Category category=new Category();\n        category.setCategoryId(categoryId);\n        List&lt;InsurancePolicy&gt; insurancePolicies=this.insurancePolicyRepository.findAllByCategory(category);\n        List&lt;InsurancePolicyListDto&gt; insurancePolicyDtos=new ArrayList&lt;&gt;();\n\n        for(InsurancePolicy insurancePolicy: insurancePolicies){\n            //converted manually to check for uncessary fetches which must be prevented\n            InsurancePolicyListDto insurancePolicyListDto=new InsurancePolicyListDto();\n            insurancePolicyListDto.setPolicyId(insurancePolicy.getPolicyId());\n            insurancePolicyListDto.setPolicyName(insurancePolicy.getPolicyName());\n            insurancePolicyListDto.setPolicyDescription(insurancePolicy.getPolicyDescription());\n            insurancePolicyListDto.setChooseDescription(insurancePolicy.getChooseDescription());\n            insurancePolicyListDto.setCompany(this.modelMapper.map(insurancePolicy.getCompany(), CompanyDetailsDto.class));\n            Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();\n            insurancePolicyListDto.setPolicyCounties(this.countyToListDto(policyCounties));\n            insurancePolicyDtos.add(insurancePolicyListDto);\n        }\n        return insurancePolicyDtos;\n    }\n</code></pre>\n<p><strong>Problem-</strong>\nI run my project in debug mode and when the line-\n<code>Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();</code> is executed, I get unexpected fetches from the database. <strong>According to my understanding only the PolicyCounty entities and County entities must be fetched without fetching the Admin details from the county entity (I have used LAZY fetch type for admin in county.)</strong> But, what I get is all the admin details, other associated entities of the admin which are not even requried and should have been fetched lazily.<br />\nThus, I am not able to understand why even after FetchType.LAZY for admin, I am getting all the details from the admin table and its other related tables.<br />\nI added @JsonIgnoreProperties in the county class getAdmin() which works when @Getter and @Setter are used but does not work when getters and setters have been created manually in InsurancePolicy and PolicyCounty classes.<br />\nPlease help me understand why Lazy fetching is failing in this case and that to for all the related entities of admin by just calling<br />\n<code>Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties();</code>. Please help!</p>\n"},{"tags":["java","automation","cucumber"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688117994,"creation_date":1688117994,"answer_id":76587751,"question_id":76586515,"body_markdown":"I&#39;ve written a helper class for verifying table rows which uses [jsoup](https://jsoup.org/)\r\n\r\n```java\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Collector;\r\nimport org.jsoup.select.Elements;\r\nimport org.jsoup.select.Evaluator;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.IntStream;\r\n\r\nimport static java.util.stream.Collectors.toList;\r\n\r\n@Getter\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class HtmlTableWithHeader {\r\n    private final Element headerRow;\r\n    private final List&lt;Element&gt; bodyRows;\r\n    private static final Set&lt;String&gt; CELL_TAGS = Set.of(&quot;td&quot;, &quot;th&quot;);\r\n    private static final Evaluator CELL_EVALUATOR = new Evaluator() {\r\n        @Override\r\n        public boolean matches(Element root, Element element) {\r\n            return CELL_TAGS.contains(element.tagName());\r\n        }\r\n    };\r\n\r\n    public static HtmlTableWithHeader parse(Element element) {\r\n        if (!&quot;table&quot;.equals(element.tagName())) {\r\n            throw new IllegalArgumentException(&quot;Unsupported tag &quot; + element.tagName());\r\n        }\r\n        Elements rows = element.getElementsByTag(&quot;tr&quot;);\r\n        Iterator&lt;Element&gt; iterator = rows.iterator();\r\n        Element headerRow = iterator.hasNext() ? iterator.next() : null;\r\n        List&lt;Element&gt; bodyRows = new ArrayList&lt;&gt;();\r\n        iterator.forEachRemaining(bodyRows::add);\r\n        return new HtmlTableWithHeader(headerRow, bodyRows);\r\n    }\r\n\r\n    public List&lt;Map&lt;String, String&gt;&gt; getRowsAsListOfMaps() {\r\n        if (headerRow == null || bodyRows.isEmpty()) {\r\n            return Collections.emptyList();\r\n        }\r\n        List&lt;String&gt; headerLabels = Collector.collect(CELL_EVALUATOR, headerRow).stream().map(Element::text).collect(toList());\r\n        List&lt;Map&lt;String, String&gt;&gt; rowMaps = new ArrayList&lt;&gt;();\r\n        for (Element bodyRow : bodyRows) {\r\n            Elements cells = Collector.collect(CELL_EVALUATOR, bodyRow);\r\n            Map&lt;String, String&gt; rowMap = new LinkedHashMap&lt;&gt;();\r\n            IntStream.range(0, Math.min(headerLabels.size(), cells.size()))\r\n                    .forEach(i -&gt; rowMap.put(headerLabels.get(i), cells.get(i).text()));\r\n            rowMaps.add(rowMap);\r\n        }\r\n        return rowMaps;\r\n    }\r\n}\r\n```\r\n\r\nTest case\r\n```java\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class HtmlTableWithHeaderTest {\r\n    @Test\r\n    public void testGetRowsAsListOfMaps() {\r\n        // given\r\n        String html =\r\n                &quot;&lt;html&gt;&quot; +\r\n                    &quot;&lt;table id=&#39;table-1&#39;&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Betty&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Barney&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                    &quot;&lt;/table&gt;&quot; +\r\n                    &quot;&lt;table id=&#39;table-2&#39;&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Fred&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                        &quot;&lt;tr&gt;&lt;td&gt;Wilma&lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;/tr&gt;&quot; +\r\n                    &quot;&lt;/table&gt;&quot; +\r\n                &quot;&lt;/html&gt;&quot;;\r\n\r\n        // when\r\n        Document doc = Jsoup.parse(html);\r\n        HtmlTableWithHeader table = HtmlTableWithHeader.parse(doc.getElementById(&quot;table-2&quot;));\r\n        List&lt;Map&lt;String, String&gt;&gt; rows = table.getRowsAsListOfMaps();\r\n\r\n        // then\r\n        assertThat(rows).isEqualTo(List.of(\r\n                Map.of(&quot;Name&quot;, &quot;Fred&quot;, &quot;Age&quot;, &quot;20&quot;),\r\n                Map.of(&quot;Name&quot;, &quot;Wilma&quot;, &quot;Age&quot;, &quot;25&quot;)\r\n        ));\r\n    }\r\n}\r\n```","title":"is there any solution while using TableParser in cucumber step if there is extra &lt;td&gt; added in HTML code so it mismatch the header and row data","body":"<p>I've written a helper class for verifying table rows which uses <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Collector;\nimport org.jsoup.select.Elements;\nimport org.jsoup.select.Evaluator;\n\nimport java.util.*;\nimport java.util.stream.IntStream;\n\nimport static java.util.stream.Collectors.toList;\n\n@Getter\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\npublic class HtmlTableWithHeader {\n    private final Element headerRow;\n    private final List&lt;Element&gt; bodyRows;\n    private static final Set&lt;String&gt; CELL_TAGS = Set.of(&quot;td&quot;, &quot;th&quot;);\n    private static final Evaluator CELL_EVALUATOR = new Evaluator() {\n        @Override\n        public boolean matches(Element root, Element element) {\n            return CELL_TAGS.contains(element.tagName());\n        }\n    };\n\n    public static HtmlTableWithHeader parse(Element element) {\n        if (!&quot;table&quot;.equals(element.tagName())) {\n            throw new IllegalArgumentException(&quot;Unsupported tag &quot; + element.tagName());\n        }\n        Elements rows = element.getElementsByTag(&quot;tr&quot;);\n        Iterator&lt;Element&gt; iterator = rows.iterator();\n        Element headerRow = iterator.hasNext() ? iterator.next() : null;\n        List&lt;Element&gt; bodyRows = new ArrayList&lt;&gt;();\n        iterator.forEachRemaining(bodyRows::add);\n        return new HtmlTableWithHeader(headerRow, bodyRows);\n    }\n\n    public List&lt;Map&lt;String, String&gt;&gt; getRowsAsListOfMaps() {\n        if (headerRow == null || bodyRows.isEmpty()) {\n            return Collections.emptyList();\n        }\n        List&lt;String&gt; headerLabels = Collector.collect(CELL_EVALUATOR, headerRow).stream().map(Element::text).collect(toList());\n        List&lt;Map&lt;String, String&gt;&gt; rowMaps = new ArrayList&lt;&gt;();\n        for (Element bodyRow : bodyRows) {\n            Elements cells = Collector.collect(CELL_EVALUATOR, bodyRow);\n            Map&lt;String, String&gt; rowMap = new LinkedHashMap&lt;&gt;();\n            IntStream.range(0, Math.min(headerLabels.size(), cells.size()))\n                    .forEach(i -&gt; rowMap.put(headerLabels.get(i), cells.get(i).text()));\n            rowMaps.add(rowMap);\n        }\n        return rowMaps;\n    }\n}\n</code></pre>\n<p>Test case</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.Map;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class HtmlTableWithHeaderTest {\n    @Test\n    public void testGetRowsAsListOfMaps() {\n        // given\n        String html =\n                &quot;&lt;html&gt;&quot; +\n                    &quot;&lt;table id='table-1'&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Betty&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Barney&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;/tr&gt;&quot; +\n                    &quot;&lt;/table&gt;&quot; +\n                    &quot;&lt;table id='table-2'&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Fred&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;/tr&gt;&quot; +\n                        &quot;&lt;tr&gt;&lt;td&gt;Wilma&lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;/tr&gt;&quot; +\n                    &quot;&lt;/table&gt;&quot; +\n                &quot;&lt;/html&gt;&quot;;\n\n        // when\n        Document doc = Jsoup.parse(html);\n        HtmlTableWithHeader table = HtmlTableWithHeader.parse(doc.getElementById(&quot;table-2&quot;));\n        List&lt;Map&lt;String, String&gt;&gt; rows = table.getRowsAsListOfMaps();\n\n        // then\n        assertThat(rows).isEqualTo(List.of(\n                Map.of(&quot;Name&quot;, &quot;Fred&quot;, &quot;Age&quot;, &quot;20&quot;),\n                Map.of(&quot;Name&quot;, &quot;Wilma&quot;, &quot;Age&quot;, &quot;25&quot;)\n        ));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28923159,"reputation":1,"user_id":22153600,"display_name":"Manish patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688117994,"creation_date":1688106151,"question_id":76586515,"body_markdown":"`I used the TableParser here but in HTML there is extra &lt;td&gt; added in &lt;tr&gt; so it mismatch header and row data`your text`\r\n\r\nso headers are  date, Stutus , FileName and RowsProcessed \r\nbut in status there are two &lt;td&gt; so it take filename=StatusVaue and RowProcessed=Filenamevalue and status=&quot;&quot;\r\n`","title":"is there any solution while using TableParser in cucumber step if there is extra &lt;td&gt; added in HTML code so it mismatch the header and row data","body":"<p><code>I used the TableParser here but in HTML there is extra &lt;td&gt; added in &lt;tr&gt; so it mismatch header and row data</code>your text`</p>\n<p>so headers are  date, Stutus , FileName and RowsProcessed\nbut in status there are two  so it take filename=StatusVaue and RowProcessed=Filenamevalue and status=&quot;&quot;\n`</p>\n"},{"tags":["java","python","python-3.x","lambda"],"answers":[{"comments":[{"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"score":0,"creation_date":1465491216,"post_id":37731929,"comment_id":62935027,"body_markdown":"But why this: a = {1, 2, 3}\nmap(lambda x: print(x), a) - won&#39;t print anything?","body":"But why this: a = {1, 2, 3} map(lambda x: print(x), a) - won&#39;t print anything?"},{"owner":{"account_id":6485932,"reputation":1659,"user_id":5021530,"accept_rate":100,"display_name":"Brian"},"score":1,"creation_date":1465491622,"post_id":37731929,"comment_id":62935246,"body_markdown":"See this SO question: http://stackoverflow.com/questions/7731213/print-doesnt-print-when-its-in-map-python\n\nI hope it answers your question :)","body":"See this SO question: <a href=\"http://stackoverflow.com/questions/7731213/print-doesnt-print-when-its-in-map-python\" title=\"print doesnt print when its in map python\">stackoverflow.com/questions/7731213/&hellip;</a>  I hope it answers your question :)"},{"owner":{"account_id":1919325,"reputation":4519,"user_id":1731200,"accept_rate":83,"display_name":"Matthias"},"score":0,"creation_date":1465491678,"post_id":37731929,"comment_id":62935274,"body_markdown":"@Don_Quijote map returns a new list with the same number of elements as the original list. The print function does however not return something. So it is not possible to create this new list.","body":"@Don_Quijote map returns a new list with the same number of elements as the original list. The print function does however not return something. So it is not possible to create this new list."},{"owner":{"account_id":1919325,"reputation":4519,"user_id":1731200,"accept_rate":83,"display_name":"Matthias"},"score":0,"creation_date":1465491842,"post_id":37731929,"comment_id":62935368,"body_markdown":"@Don_Quijote you could however create a new function def custom_print(x): print(x); return x with side effects and then use map(custom_print, a) But I rather don&#39;t advise such practices","body":"@Don_Quijote you could however create a new function def custom_print(x): print(x); return x with side effects and then use map(custom_print, a) But I rather don&#39;t advise such practices"}],"tags":[],"owner":{"account_id":6485932,"reputation":1659,"user_id":5021530,"accept_rate":100,"display_name":"Brian"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465491007,"creation_date":1465491007,"answer_id":37731929,"question_id":37731895,"body_markdown":"Python also has a `map` function and it uses the syntax `map(function, iterable, ...)`\r\n\r\nSee Python docs: https://docs.python.org/2/library/functions.html#map","title":"Python Java forEach equivalent","body":"<p>Python also has a <code>map</code> function and it uses the syntax <code>map(function, iterable, ...)</code></p>\n\n<p>See Python docs: <a href=\"https://docs.python.org/2/library/functions.html#map\" rel=\"nofollow\">https://docs.python.org/2/library/functions.html#map</a></p>\n"},{"tags":[],"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1465492102,"creation_date":1465491656,"answer_id":37732102,"question_id":37731895,"body_markdown":"There is no equivalent to Java&#39;s imperative `Iterable.forEach` or `Stream.forEach` method. There&#39;s a `map` function, analogous to Java&#39;s `Stream.map`, but it&#39;s for applying transformations to an iterable. Like Java&#39;s `Stream.map`, it doesn&#39;t actually apply the function until you perform a terminal operation on the return value.\r\n\r\nYou could abuse `map` to do the job of `forEach`:\r\n\r\n    list(map(print, iterable))\r\n\r\nbut it&#39;s a bad idea, producing side effects from a function that shouldn&#39;t have any and building a giant list you don&#39;t need. It&#39;d be like doing\r\n\r\n    someList.stream().map(x -&gt; {System.out.println(x); return x;}).collect(Collectors.toList())\r\n\r\nin Java.\r\n\r\nThe standard way to do this in Python would be a loop:\r\n\r\n    for thing in iterable:\r\n        print(thing)","title":"Python Java forEach equivalent","body":"<p>There is no equivalent to Java's imperative <code>Iterable.forEach</code> or <code>Stream.forEach</code> method. There's a <code>map</code> function, analogous to Java's <code>Stream.map</code>, but it's for applying transformations to an iterable. Like Java's <code>Stream.map</code>, it doesn't actually apply the function until you perform a terminal operation on the return value.</p>\n\n<p>You could abuse <code>map</code> to do the job of <code>forEach</code>:</p>\n\n<pre><code>list(map(print, iterable))\n</code></pre>\n\n<p>but it's a bad idea, producing side effects from a function that shouldn't have any and building a giant list you don't need. It'd be like doing</p>\n\n<pre><code>someList.stream().map(x -&gt; {System.out.println(x); return x;}).collect(Collectors.toList())\n</code></pre>\n\n<p>in Java.</p>\n\n<p>The standard way to do this in Python would be a loop:</p>\n\n<pre><code>for thing in iterable:\n    print(thing)\n</code></pre>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10346,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37732102,"answer_count":2,"score":3,"last_activity_date":1688117929,"creation_date":1465490879,"question_id":37731895,"body_markdown":"I am Java programmer. I started learning Python few days ago.\r\nI&#39;m wondering: are there any equivalents to \r\n    \r\n\r\n    map.forEach(System.out::println)\r\n    \r\n\r\nin Python with lambdas?\r\nOr only with for loop:\r\n    \r\n    \r\n\r\n    for e in map: print(e)\r\n    \r\n\r\n","title":"Python Java forEach equivalent","body":"<p>I am Java programmer. I started learning Python few days ago.\nI'm wondering: are there any equivalents to</p>\n<pre><code>map.forEach(System.out::println)\n</code></pre>\n<p>in Python with lambdas?\nOr only with for loop:</p>\n<pre><code>for e in map: print(e)\n</code></pre>\n"},{"tags":["java","spring-boot","maven","mojo","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1688119472,"post_id":76587694,"comment_id":135034244,"body_markdown":"I think you need the [springdoc-openapi-maven-plugin](https://springdoc.org/plugins.html), not the openapi-generator plugin. OpenAPI Generator is used for the opposite thing - generate code from an OpenAPI spec.","body":"I think you need the <a href=\"https://springdoc.org/plugins.html\" rel=\"nofollow noreferrer\">springdoc-openapi-maven-plugin</a>, not the openapi-generator plugin. OpenAPI Generator is used for the opposite thing - generate code from an OpenAPI spec."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688125688,"post_id":76587694,"comment_id":135035488,"body_markdown":"The problem is related to this: `Unable to read location `/home/adm`...","body":"The problem is related to this: <code>Unable to read location </code>/home/adm`..."}],"owner":{"account_id":28924244,"reputation":1,"user_id":22154480,"display_name":"Sameer Choudhary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688117488,"creation_date":1688117488,"question_id":76587694,"body_markdown":"I have to produce a OpenAPI Specification from an existing REST based project. One thing i did was to include the springdoc-openapi and swagger-webmvc-ui dependency and it was creating the desired spec on localhost:8080/api-doc. Now, I want to do this via OpenAPI Generator Maven Plugin 6.6.0 such that when I run mvn clean install, it will produce the spec in yaml/json format in the directory i specify in the generator plugin. But, this is causing build failure with the following error related to MOJOs. I guess I am not doing anything wrong but it will be helpful if you mention the required steps to generte the yaml/json file in resources directory.\r\n\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] [1m--------&lt; [0;36morg.springdoc:springdoc-openapi-spring-boot-2-webmvc[0;1m &gt;--------[m\r\n[INFO] [1mBuilding springdoc-openapi-spring-boot-2-webmvc 3.1.6-SNAPSHOT[m\r\n[INFO]   from pom.xml\r\n[INFO] [1m--------------------------------[ jar ]---------------------------------[m\r\n[INFO] \r\n[INFO] [1m--- [0;32mopenapi-generator:6.0.0:generate[m [1m(default)[m @ [36mspringdoc-openapi-spring-boot-2-webmvc[0;1m ---[m\r\n[WARNING] Exception while reading:\r\nio.swagger.v3.parser.exception.ReadContentException: Unable to read location `/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml`\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:274)\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readLocation(OpenAPIV3Parser.java:89)\r\n\tat io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\nCaused by: java.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\r\n\tat io.swagger.v3.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:265)\r\n\t... 32 more\r\n[ERROR] failed to read resource listing\r\njava.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\r\n\tat io.swagger.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\r\n\tat io.swagger.parser.SwaggerCompatConverter.readResourceListing(SwaggerCompatConverter.java:206)\r\n\tat io.swagger.parser.SwaggerCompatConverter.read(SwaggerCompatConverter.java:122)\r\n\tat io.swagger.parser.SwaggerCompatConverter.readWithInfo(SwaggerCompatConverter.java:93)\r\n\tat io.swagger.parser.SwaggerParser.readWithInfo(SwaggerParser.java:44)\r\n\tat io.swagger.v3.parser.converter.SwaggerConverter.readLocation(SwaggerConverter.java:90)\r\n\tat io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[INFO] Generating with dryRun=false\r\n[INFO] Output directory (/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/target/generated-sources/openapi) does not exist, or is inaccessible. No file (.openapi-generator-ignore) will be evaluated.\r\n[WARNING] /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml [0:0]: unexpected error in Open-API generation\r\njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\r\n\tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[ERROR] \r\njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\r\n\tat org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\r\n\tat org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n\tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n[INFO] [1;31mBUILD FAILURE[m\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n[INFO] Total time:  3.870 s\r\n[INFO] Finished at: 2023-06-30T14:56:47+05:30\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n[ERROR] Failed to execute goal [32morg.openapitools:openapi-generator-maven-plugin:6.0.0:generate[m [1m(default)[m on project [36mspringdoc-openapi-spring-boot-2-webmvc[m: [1;31mCode generation failed. See above for the full exception.[m -&gt; [1m[Help 1][m\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nAlso, there is a underline showing error in &lt;execution&gt;, see the picture below?\r\n\r\n[Error Image](https://i.stack.imgur.com/m26jQ.png)\r\n\r\n\r\nI want to generate OpenAPI spec in yaml/json format not on localhost:8080/api-docs but in the resources directory automatically during maven clean install.","title":"OpenAPI Generator Maven Plugin 6.6.0 creates Build Failure in Maven Clean Install","body":"<p>I have to produce a OpenAPI Specification from an existing REST based project. One thing i did was to include the springdoc-openapi and swagger-webmvc-ui dependency and it was creating the desired spec on localhost:8080/api-doc. Now, I want to do this via OpenAPI Generator Maven Plugin 6.6.0 such that when I run mvn clean install, it will produce the spec in yaml/json format in the directory i specify in the generator plugin. But, this is causing build failure with the following error related to MOJOs. I guess I am not doing anything wrong but it will be helpful if you mention the required steps to generte the yaml/json file in resources directory.</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] [1m--------&lt; [0;36morg.springdoc:springdoc-openapi-spring-boot-2-webmvc[0;1m &gt;--------[m\n[INFO] [1mBuilding springdoc-openapi-spring-boot-2-webmvc 3.1.6-SNAPSHOT[m\n[INFO]   from pom.xml\n[INFO] [1m--------------------------------[ jar ]---------------------------------[m\n[INFO] \n[INFO] [1m--- [0;32mopenapi-generator:6.0.0:generate[m [1m(default)[m @ [36mspringdoc-openapi-spring-boot-2-webmvc[0;1m ---[m\n[WARNING] Exception while reading:\nio.swagger.v3.parser.exception.ReadContentException: Unable to read location `/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml`\n    at io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:274)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readLocation(OpenAPIV3Parser.java:89)\n    at io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\n    at org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\n    at org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: java.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\n    at io.swagger.v3.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation(OpenAPIV3Parser.java:265)\n    ... 32 more\n[ERROR] failed to read resource listing\njava.lang.RuntimeException: Could not find /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml on the classpath\n    at io.swagger.parser.util.ClasspathHelper.loadFileFromClasspath(ClasspathHelper.java:31)\n    at io.swagger.parser.SwaggerCompatConverter.readResourceListing(SwaggerCompatConverter.java:206)\n    at io.swagger.parser.SwaggerCompatConverter.read(SwaggerCompatConverter.java:122)\n    at io.swagger.parser.SwaggerCompatConverter.readWithInfo(SwaggerCompatConverter.java:93)\n    at io.swagger.parser.SwaggerParser.readWithInfo(SwaggerParser.java:44)\n    at io.swagger.v3.parser.converter.SwaggerConverter.readLocation(SwaggerConverter.java:90)\n    at io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\n    at org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:541)\n    at org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:599)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:759)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[INFO] Generating with dryRun=false\n[INFO] Output directory (/home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/target/generated-sources/openapi) does not exist, or is inaccessible. No file (.openapi-generator-ignore) will be evaluated.\n[WARNING] /home/adminuser622/Work/springdoc-openapi-demos-master/springdoc-openapi-spring-boot-2-webmvc/src/main/resources/api.yaml [0:0]: unexpected error in Open-API generation\njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\n    at org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[ERROR] \njava.lang.RuntimeException: Issues with the OpenAPI input. Possible causes: invalid/missing spec, malformed JSON/YAML files, etc.\n    at org.openapitools.codegen.DefaultGenerator.generate(DefaultGenerator.java:850)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute(CodeGenMojo.java:781)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[INFO] [1m------------------------------------------------------------------------[m\n[INFO] [1;31mBUILD FAILURE[m\n[INFO] [1m------------------------------------------------------------------------[m\n[INFO] Total time:  3.870 s\n[INFO] Finished at: 2023-06-30T14:56:47+05:30\n[INFO] [1m------------------------------------------------------------------------[m\n[ERROR] Failed to execute goal [32morg.openapitools:openapi-generator-maven-plugin:6.0.0:generate[m [1m(default)[m on project [36mspringdoc-openapi-spring-boot-2-webmvc[m: [1;31mCode generation failed. See above for the full exception.[m -&gt; [1m[Help 1][m\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Also, there is a underline showing error in , see the picture below?</p>\n<p><a href=\"https://i.stack.imgur.com/m26jQ.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n<p>I want to generate OpenAPI spec in yaml/json format not on localhost:8080/api-docs but in the resources directory automatically during maven clean install.</p>\n"},{"tags":["java","mongodb","morphia"],"answers":[{"tags":[],"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688117145,"creation_date":1688117145,"answer_id":76587645,"question_id":76579376,"body_markdown":"`findAndModify()` only works with a single document as defined by the server&#39;s behavior.  If you&#39;re wanting to update multiple documents in one all-or-nothing block, you might consider using a [transaction](https://morphia.dev/morphia/2.3/transactions.html).","title":"Is there a findAndModify that returns many documents in MongoDb Morphia","body":"<p><code>findAndModify()</code> only works with a single document as defined by the server's behavior.  If you're wanting to update multiple documents in one all-or-nothing block, you might consider using a <a href=\"https://morphia.dev/morphia/2.3/transactions.html\" rel=\"nofollow noreferrer\">transaction</a>.</p>\n"}],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587645,"answer_count":1,"score":0,"last_activity_date":1688117145,"creation_date":1688027711,"question_id":76579376,"body_markdown":"I am using `MongoDb Morphia for Java` and I want to pessimistically lock many documents with one command. I am familiar with the `findAndModify` method, which will find and update one document. **Is there a method that will do the same for multiple documents?**","title":"Is there a findAndModify that returns many documents in MongoDb Morphia","body":"<p>I am using <code>MongoDb Morphia for Java</code> and I want to pessimistically lock many documents with one command. I am familiar with the <code>findAndModify</code> method, which will find and update one document. <strong>Is there a method that will do the same for multiple documents?</strong></p>\n"},{"tags":["java","json"],"owner":{"account_id":28923911,"reputation":1,"user_id":22154219,"display_name":"sapna C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688116800,"creation_date":1688113872,"question_id":76587288,"body_markdown":"Below is the way I compare but show exception \r\n\t\r\n\t.then()\r\n\t    .statusCode(200)\r\n\t    .body(&quot;Source&quot;,equalTo(&quot;whatsapp&quot;)) \r\n\r\n\r\n&gt; java.lang.AssertionError: 1 expectation failed.  \r\nJSON path Source doesn&#39;t match.  \r\nExpected: whatsapp   \r\nActual: null\r\n\r\nCan anybody help me resolve?\r\n\r\nExpecting it to compare and result should be according to it.","title":"I get this error &quot;JSON path Source doesn&#39;t match.&quot; when I try to compare response value and entered value","body":"<p>Below is the way I compare but show exception</p>\n<pre><code>.then()\n    .statusCode(200)\n    .body(&quot;Source&quot;,equalTo(&quot;whatsapp&quot;)) \n</code></pre>\n<blockquote>\n<p>java.lang.AssertionError: 1 expectation failed.<br />\nJSON path Source doesn't match.<br />\nExpected: whatsapp<br />\nActual: null</p>\n</blockquote>\n<p>Can anybody help me resolve?</p>\n<p>Expecting it to compare and result should be according to it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7827,"page":338,"page_size":100}
