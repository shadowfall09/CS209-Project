{"items":[{"tags":["java","android-studio","sockets","zebra-printers","zpl"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1688091587,"post_id":76585176,"comment_id":135030595,"body_markdown":"What do you mean by &quot;works in Eclipse&quot;? Eclipse is an IDE not a runtime platform.   A think you are actually asking about how to make it work on the Android runtime / on an Android device.  And I can see that your code is using AWT rather than the Android APIs.  So really, your question is how to write an Android app that talks to a printer (via a socket connection, I presume).","body":"What do you mean by &quot;works in Eclipse&quot;? Eclipse is an IDE not a runtime platform.   A think you are actually asking about how to make it work on the Android runtime / on an Android device.  And I can see that your code is using AWT rather than the Android APIs.  So really, your question is how to write an Android app that talks to a printer (via a socket connection, I presume)."},{"owner":{"account_id":13980614,"reputation":1,"user_id":22152583,"display_name":"Claudio Lopez Lagos"},"score":0,"creation_date":1688130580,"post_id":76585176,"comment_id":135036540,"body_markdown":"Yes that is i need, i put the java example to explain my question.","body":"Yes that is i need, i put the java example to explain my question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1688130901,"post_id":76585176,"comment_id":135036622,"body_markdown":"Well ... the first thing you need to do is read a tutorial on writing Android apps.  Most of your code will need to be rewritten.","body":"Well ... the first thing you need to do is read a tutorial on writing Android apps.  Most of your code will need to be rewritten."},{"owner":{"account_id":13980614,"reputation":1,"user_id":22152583,"display_name":"Claudio Lopez Lagos"},"score":0,"creation_date":1688133444,"post_id":76585176,"comment_id":135037204,"body_markdown":"I&#39;m new on this and i don&#39;t have much experience on develop butThank you very much for your advice, I will take it into consideration.","body":"I&#39;m new on this and i don&#39;t have much experience on develop butThank you very much for your advice, I will take it into consideration."}],"owner":{"account_id":13980614,"reputation":1,"user_id":22152583,"display_name":"Claudio Lopez Lagos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688081667,"creation_date":1688081667,"question_id":76585176,"body_markdown":"Hi everybody i have a question, I made an Android Studio aplication with java to send an label to a printer with ZPL code but dont work, but java code in eclipse it work and create a label. can you help me please. I created a a socket on java with eclipse and DataStream id tried many codes online but it did&#39;nt work.\r\n\r\n```\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\n\r\nimport javax.swing.*;\r\n\r\n//import LaminaMarcoCliente.EnviaTexto;\r\n\r\n\r\npublic class Cliente {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tMarcoCliente mimarco=new MarcoCliente();\r\n\t\t\r\n\t\tmimarco.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nclass MarcoCliente extends JFrame{\r\n\t\r\n\tpublic MarcoCliente(){\r\n\t\t\r\n\t\tsetBounds(600,300,280,350);\r\n\t\t\t\t\r\n\t\tLaminaMarcoCliente milamina=new LaminaMarcoCliente();\r\n\t\t\r\n\t\tadd(milamina);\r\n\t\t\r\n\t\tsetVisible(true);\r\n\t\t}\t\r\n\t\r\n}\r\n\r\nclass LaminaMarcoCliente extends JPanel{\r\n\t\r\n\tpublic LaminaMarcoCliente(){\r\n\t\r\n\t\tJLabel texto=new JLabel(&quot;CLIENTE&quot;);\r\n\t\t\r\n\t\tadd(texto);\r\n\t\r\n\t\tcampo1=new JTextField(20);\r\n\t\r\n\t\tadd(campo1);\t\t\r\n\t\r\n\t\tmiboton=new JButton(&quot;Enviar&quot;);\r\n\t\t\r\n\t\tEnviaTexto mievento = new EnviaTexto();\r\n\t\t\r\n\t\tmiboton.addActionListener(mievento);\r\n\t\t\r\n\t\tadd(miboton);\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\nprivate class EnviaTexto implements ActionListener{\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tSystem.out.println(&quot;Hola Funciona&quot;);\r\n\t\t\t\r\n\t\ttry {\r\n\t\t\tSocket misocket = new Socket(&quot;192.168.14.140&quot;, 9100);\r\n\t\t\tDataOutputStream flujo_salida = new  DataOutputStream(misocket.getOutputStream());\r\n\t\t\t//flujo_salida.writeUTF(campo1.getText());\r\n\t\t\tflujo_salida.writeUTF(&quot;zpl = \\&quot;\\&quot;\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^XA\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^CI28\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^MMT\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^PW406\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^LL406\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^LS0\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^FT5,60^A0N,50,40^FDHELLO LABEL^FS\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^FO1,70^BY3^BCN,130,Y,N,N^FD1234567890^FS\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;^PQ1,0,1,Y^XZ\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;\\&quot;\\&quot;\\&quot;&quot;);\r\n\t\t\t\t\r\n\t\t} catch (UnknownHostException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.out.println(e1.getMessage());\r\n\t\t} \r\n\t\t\t\r\n\t}\r\n\r\n\t\t\r\n\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\tprivate JTextField campo1;\r\n\t\r\n\tprivate JButton miboton;\r\n\t\r\n}\r\n```\r\n\r\nThis is the java code it works on eclipse but in android studio i cant make it works.\r\n\r\nregards,","title":"Is there a way to send ZPL (Zebra Programming Language) to a printer in Android Studio?","body":"<p>Hi everybody i have a question, I made an Android Studio aplication with java to send an label to a printer with ZPL code but dont work, but java code in eclipse it work and create a label. can you help me please. I created a a socket on java with eclipse and DataStream id tried many codes online but it did'nt work.</p>\n<pre><code>\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\nimport javax.swing.*;\n\n//import LaminaMarcoCliente.EnviaTexto;\n\n\npublic class Cliente {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        MarcoCliente mimarco=new MarcoCliente();\n        \n        mimarco.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    }\n\n}\n\n\nclass MarcoCliente extends JFrame{\n    \n    public MarcoCliente(){\n        \n        setBounds(600,300,280,350);\n                \n        LaminaMarcoCliente milamina=new LaminaMarcoCliente();\n        \n        add(milamina);\n        \n        setVisible(true);\n        }   \n    \n}\n\nclass LaminaMarcoCliente extends JPanel{\n    \n    public LaminaMarcoCliente(){\n    \n        JLabel texto=new JLabel(&quot;CLIENTE&quot;);\n        \n        add(texto);\n    \n        campo1=new JTextField(20);\n    \n        add(campo1);        \n    \n        miboton=new JButton(&quot;Enviar&quot;);\n        \n        EnviaTexto mievento = new EnviaTexto();\n        \n        miboton.addActionListener(mievento);\n        \n        add(miboton);   \n        \n    }\n    \n    \nprivate class EnviaTexto implements ActionListener{\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        \n        System.out.println(&quot;Hola Funciona&quot;);\n            \n        try {\n            Socket misocket = new Socket(&quot;192.168.14.140&quot;, 9100);\n            DataOutputStream flujo_salida = new  DataOutputStream(misocket.getOutputStream());\n            //flujo_salida.writeUTF(campo1.getText());\n            flujo_salida.writeUTF(&quot;zpl = \\&quot;\\&quot;\\&quot;\\r\\n&quot;\n                    + &quot;^XA\\r\\n&quot;\n                    + &quot;^CI28\\r\\n&quot;\n                    + &quot;^MMT\\r\\n&quot;\n                    + &quot;^PW406\\r\\n&quot;\n                    + &quot;^LL406\\r\\n&quot;\n                    + &quot;^LS0\\r\\n&quot;\n                    + &quot;^FT5,60^A0N,50,40^FDHELLO LABEL^FS\\r\\n&quot;\n                    + &quot;^FO1,70^BY3^BCN,130,Y,N,N^FD1234567890^FS\\r\\n&quot;\n                    + &quot;^PQ1,0,1,Y^XZ\\r\\n&quot;\n                    + &quot;\\&quot;\\&quot;\\&quot;&quot;);\n                \n        } catch (UnknownHostException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        } catch (IOException e1) {\n                // TODO Auto-generated catch block\n            System.out.println(e1.getMessage());\n        } \n            \n    }\n\n        \n    }\n        \n        \n        \n    private JTextField campo1;\n    \n    private JButton miboton;\n    \n}\n</code></pre>\n<p>This is the java code it works on eclipse but in android studio i cant make it works.</p>\n<p>regards,</p>\n"},{"tags":["java","android","download","aws-amplify","aws-amplify-cli"],"comments":[{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":0,"creation_date":1688082103,"post_id":76585173,"comment_id":135029844,"body_markdown":"`It crashed` and? What was the error message produced? That stack trace should point you exactly at the error.","body":"<code>It crashed</code> and? What was the error message produced? That stack trace should point you exactly at the error."},{"owner":{"account_id":28921020,"reputation":11,"user_id":22151969,"display_name":"xgyu"},"score":0,"creation_date":1688174815,"post_id":76585173,"comment_id":135043018,"body_markdown":"Caused by: java.lang.IllegalStateException: Tried to get a plugin but that plugin was not present. Check if the plugin was added originally or perhaps was already removed.\n                                                                                                    \tat com.amplifyframework.core.category.Category.getPluginIfConfiguredOrThrow(Category.java:220). I am not sure what this means or how to fix it.","body":"Caused by: java.lang.IllegalStateException: Tried to get a plugin but that plugin was not present. Check if the plugin was added originally or perhaps was already removed.                                                                                                     \tat com.amplifyframework.core.category.Category.getPluginIfConfi&zwnj;&#8203;guredOrThrow(Categor&zwnj;&#8203;y.java:220). I am not sure what this means or how to fix it."}],"owner":{"account_id":28921020,"reputation":11,"user_id":22151969,"display_name":"xgyu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688081601,"creation_date":1688081601,"question_id":76585173,"body_markdown":"Currently I cannot get a file downloaded from my AWS S3 bucket into my android studio app. I am using amplify client to do this. \r\n\r\nI tried to test the app on a physical device, however it crashed as soon as I tested it. \r\nHere is the code\r\n\r\n\r\n```\r\npublic void downloadFiles(){\r\n        Amplify.Storage.downloadFile(\r\n                &quot;test.txt&quot;,\r\n                new File(getApplicationContext().getFilesDir() + &quot;/download.txt&quot;),\r\n                StorageDownloadFileOptions.defaultInstance(),\r\n                progress -&gt; Log.i(&quot;MyAmplifyApp&quot;, &quot;Fraction completed: &quot; + progress.getFractionCompleted()),\r\n                result -&gt; Log.i(&quot;MyAmplifyApp&quot;, &quot;Successfully downloaded: &quot; + result.getFile().getName()),\r\n                error -&gt; Log.e(&quot;MyAmplifyApp&quot;,  &quot;Download Failure&quot;, error)\r\n        );\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"how do you download a file from AWS onto an android studio app using java?","body":"<p>Currently I cannot get a file downloaded from my AWS S3 bucket into my android studio app. I am using amplify client to do this.</p>\n<p>I tried to test the app on a physical device, however it crashed as soon as I tested it.\nHere is the code</p>\n<pre><code>public void downloadFiles(){\n        Amplify.Storage.downloadFile(\n                &quot;test.txt&quot;,\n                new File(getApplicationContext().getFilesDir() + &quot;/download.txt&quot;),\n                StorageDownloadFileOptions.defaultInstance(),\n                progress -&gt; Log.i(&quot;MyAmplifyApp&quot;, &quot;Fraction completed: &quot; + progress.getFractionCompleted()),\n                result -&gt; Log.i(&quot;MyAmplifyApp&quot;, &quot;Successfully downloaded: &quot; + result.getFile().getName()),\n                error -&gt; Log.e(&quot;MyAmplifyApp&quot;,  &quot;Download Failure&quot;, error)\n        );\n    }\n</code></pre>\n"},{"tags":["java","object","interface","reference","static"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1623020763,"post_id":67864326,"comment_id":119952110,"body_markdown":"There&#39;s not really a way to &quot;automatically update a reference.&quot;  (Your design is honestly better than what your professor supposedly asked for.)","body":"There&#39;s not really a way to &quot;automatically update a reference.&quot;  (Your design is honestly better than what your professor supposedly asked for.)"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1623021916,"post_id":67864326,"comment_id":119952288,"body_markdown":"I&#39;m stuggling to follow exactly what you&#39;re doing.  I think some code would make this question much easier to understand.  You don&#39;t need to post any of the actual project code, just like a quick outline so we can see the structure of what you&#39;re talking about.","body":"I&#39;m stuggling to follow exactly what you&#39;re doing.  I think some code would make this question much easier to understand.  You don&#39;t need to post any of the actual project code, just like a quick outline so we can see the structure of what you&#39;re talking about."}],"answers":[{"tags":[],"owner":{"account_id":21856644,"reputation":11,"user_id":16147932,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688081164,"creation_date":1688080658,"answer_id":76585117,"question_id":67864326,"body_markdown":"My professor was &quot;hinting&quot; at a Singleton: A static Method that returns the value of a static variable and if the variable is empty generates a new object to fill that variable.","title":"changing Reference of an object when its source changes in java","body":"<p>My professor was &quot;hinting&quot; at a Singleton: A static Method that returns the value of a static variable and if the variable is empty generates a new object to fill that variable.</p>\n"}],"owner":{"account_id":21856644,"reputation":11,"user_id":16147932,"display_name":"Adam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688081164,"creation_date":1623020457,"question_id":67864326,"body_markdown":"This seems to be an easy question, but i cant figure it out\r\n\r\nI have as University-Homework programmed a game, consisting of a &quot;game&quot; class, that implements an Interface and a &quot;CLI&quot; Class, that uses that Interface to allow User Inputs  for the game.\r\nNow saving and loading had to be added, which works, but the professor dosent like, that the object is being returned after loading in the &quot;CLI&quot; and used there. Instead he wants it in an static reference in the Class &quot;game&quot; and the &quot;CLI&quot; to use that. \r\n\r\nMy question is since the object is being used over an Interface is there a way to make the Interface automatically update the used reference, when the static variable is being changed?\r\n\r\nI know that you cant make a new object with an old reference, so it has to be updated somehow","title":"changing Reference of an object when its source changes in java","body":"<p>This seems to be an easy question, but i cant figure it out</p>\n<p>I have as University-Homework programmed a game, consisting of a &quot;game&quot; class, that implements an Interface and a &quot;CLI&quot; Class, that uses that Interface to allow User Inputs  for the game.\nNow saving and loading had to be added, which works, but the professor dosent like, that the object is being returned after loading in the &quot;CLI&quot; and used there. Instead he wants it in an static reference in the Class &quot;game&quot; and the &quot;CLI&quot; to use that.</p>\n<p>My question is since the object is being used over an Interface is there a way to make the Interface automatically update the used reference, when the static variable is being changed?</p>\n<p>I know that you cant make a new object with an old reference, so it has to be updated somehow</p>\n"},{"tags":["java","checkstyle","static-initializer"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1688090406,"post_id":76585112,"comment_id":135030516,"body_markdown":"*&quot;Is this a bug or correct?&quot;* - It is correct. *&quot;If the latter how to document a static initializer??&quot;* - Put the documentation in the class javadoc.  Or in regular comments.  If you are using static initializers in some way that *requires* javadoc documentation (i.e. it affects things outside of the class) then you are probably using static initializers inappropriately.","body":"<i>&quot;Is this a bug or correct?&quot;</i> - It is correct. <i>&quot;If the latter how to document a static initializer??&quot;</i> - Put the documentation in the class javadoc.  Or in regular comments.  If you are using static initializers in some way that <i>requires</i> javadoc documentation (i.e. it affects things outside of the class) then you are probably using static initializers inappropriately."}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688083491,"answer_count":0,"score":0,"last_activity_date":1688080554,"creation_date":1688080554,"question_id":76585112,"body_markdown":"I endowed a static initializer with a javadoc comment. \r\nNow I face that checkstyle complains considering it an InvalidJavadocPosition. \r\n\r\nIs this a bug or correct? If the latter how to document a static initializer?? ","title":"Java: documenting a static initializer yields a InvalidJavadocPosition in checkstyle","body":"<p>I endowed a static initializer with a javadoc comment.\nNow I face that checkstyle complains considering it an InvalidJavadocPosition.</p>\n<p>Is this a bug or correct? If the latter how to document a static initializer??</p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":1063697,"reputation":31102,"user_id":1064767,"accept_rate":87,"display_name":"Sammitch"},"score":0,"creation_date":1669926980,"post_id":74647688,"comment_id":131760314,"body_markdown":"I&#39;m going to say that it&#39;s the Java side that&#39;s giving incorrect values, since PHP and Python hashes agree.","body":"I&#39;m going to say that it&#39;s the Java side that&#39;s giving incorrect values, since PHP and Python hashes agree."},{"owner":{"account_id":10274919,"reputation":21,"user_id":7582169,"display_name":"Jan Pavlik"},"score":0,"creation_date":1669928561,"post_id":74647688,"comment_id":131760832,"body_markdown":"@Sammitch Good point, didn&#39;t check that...","body":"@Sammitch Good point, didn&#39;t check that..."},{"owner":{"account_id":1063697,"reputation":31102,"user_id":1064767,"accept_rate":87,"display_name":"Sammitch"},"score":0,"creation_date":1669931759,"post_id":74647688,"comment_id":131761633,"body_markdown":"Also worth noting that the PHP algos are `xxh3_128`, `xxh_64`, and `xxh3_64` respectively, and I can&#39;t make heads or tails of what `xx128low` is supposed to be in the Java code. Maybe the &quot;low&quot; half of a 128-bit hash?","body":"Also worth noting that the PHP algos are <code>xxh3_128</code>, <code>xxh_64</code>, and <code>xxh3_64</code> respectively, and I can&#39;t make heads or tails of what <code>xx128low</code> is supposed to be in the Java code. Maybe the &quot;low&quot; half of a 128-bit hash?"}],"answers":[{"tags":[],"owner":{"account_id":27244938,"reputation":26,"user_id":20770405,"display_name":"Daniel Mariano Garcia Fernande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688076294,"creation_date":1670996394,"answer_id":74794009,"question_id":74647688,"body_markdown":"One of the variants of `hash(&#39;xxh3&#39;, (string) 12345)` might look like this.\r\n\r\n```java\r\npublic static String hexToString(byte[] bytes) {\r\n        StringBuilder hexString = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            String hex = Integer.toHexString(0xFF &amp; bytes[i]);\r\n            if (hex.length() == 1) {\r\n                hexString.append(&#39;0&#39;);\r\n            }\r\n            hexString.append(hex);\r\n        }\r\n\r\n        return hexString.toString();\r\n    }\r\n\r\n    public static byte[] longToBytesArray(long x) {\r\n        ByteBuffer buffer = ByteBuffer.allocate(Long.BYTES);\r\n        buffer.putLong(x);\r\n        return buffer.array();\r\n    }\r\n\r\n\r\n    public static String hashingXxh3() throws IOException {\r\n        long hashing = LongHashFunction.xx3().hashBytes(&quot;12345&quot;.getBytes(StandardCharsets.UTF_8));\r\n        String toHexStr = hexToString(longToBytesArray(hashing));\r\n\r\n        return toHexStr;\r\n    }\r\n```\r\n\r\nThe value it returns is the same value returned from `hash(&#39;xxh3&#39;, (string) 12345)` in PHP.\r\n\r\n&gt; [![screenshot][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cLve5.png\r\n","title":"XXHash - Java vs. PHP","body":"<p>One of the variants of <code>hash('xxh3', (string) 12345)</code> might look like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String hexToString(byte[] bytes) {\n        StringBuilder hexString = new StringBuilder();\n\n        for (int i = 0; i &lt; bytes.length; i++) {\n            String hex = Integer.toHexString(0xFF &amp; bytes[i]);\n            if (hex.length() == 1) {\n                hexString.append('0');\n            }\n            hexString.append(hex);\n        }\n\n        return hexString.toString();\n    }\n\n    public static byte[] longToBytesArray(long x) {\n        ByteBuffer buffer = ByteBuffer.allocate(Long.BYTES);\n        buffer.putLong(x);\n        return buffer.array();\n    }\n\n\n    public static String hashingXxh3() throws IOException {\n        long hashing = LongHashFunction.xx3().hashBytes(&quot;12345&quot;.getBytes(StandardCharsets.UTF_8));\n        String toHexStr = hexToString(longToBytesArray(hashing));\n\n        return toHexStr;\n    }\n</code></pre>\n<p>The value it returns is the same value returned from <code>hash('xxh3', (string) 12345)</code> in PHP.</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/cLve5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLve5.png\" alt=\"screenshot\" /></a></p>\n</blockquote>\n"}],"owner":{"account_id":10274919,"reputation":21,"user_id":7582169,"display_name":"Jan Pavlik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74794009,"answer_count":1,"score":0,"last_activity_date":1688076294,"creation_date":1669925579,"question_id":74647688,"body_markdown":"I get different results everytime when using XXHash library in PHP and Java (this implementation: https://github.com/OpenHFT/Zero-Allocation-Hashing).\r\n\r\n**Java**\r\n\r\n    Log.e(&#39;xx128low&#39;, Long.toHexString(LongHashFunction.xx128low().hashChars(&quot;12345&quot;)));\r\n    Log.e(&#39;xx&#39;, Long.toHexString(LongHashFunction.xx().hashChars(&quot;12345&quot;)));\r\n    Log.e(&#39;xx3&#39;, Long.toHexString(LongHashFunction.xx3().hashChars(&quot;12345&quot;)));\r\n\r\n*Results:*\r\n\r\n    E/xx128low: ee40efb40996b83a\r\n    E/xx: 807d4a5b54b8db4\r\n    E/xx3: 3a4df7c76c99039\r\n\r\n**PHP**\r\n\r\n    var_dump(hash(&#39;xxh128&#39;, (string)12345));\r\n    var_dump(hash(&#39;xxh64&#39;, (string)12345));\r\n    var_dump(hash(&#39;xxh3&#39;, (string)12345));\r\n\r\n*Results:*\r\n\r\n    string(32) &quot;4af3da69f61e14cf26f4c14b6b6bfdb4&quot;\r\n    string(16) &quot;c6f2d2dd0ad64fb6&quot;\r\n    string(16) &quot;f34099ede96b5581&quot;\r\n\r\nI can&#39;t spot the issue. Anyone can help me please?","title":"XXHash - Java vs. PHP","body":"<p>I get different results everytime when using XXHash library in PHP and Java (this implementation: <a href=\"https://github.com/OpenHFT/Zero-Allocation-Hashing\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/Zero-Allocation-Hashing</a>).</p>\n<p><strong>Java</strong></p>\n<pre><code>Log.e('xx128low', Long.toHexString(LongHashFunction.xx128low().hashChars(&quot;12345&quot;)));\nLog.e('xx', Long.toHexString(LongHashFunction.xx().hashChars(&quot;12345&quot;)));\nLog.e('xx3', Long.toHexString(LongHashFunction.xx3().hashChars(&quot;12345&quot;)));\n</code></pre>\n<p><em>Results:</em></p>\n<pre><code>E/xx128low: ee40efb40996b83a\nE/xx: 807d4a5b54b8db4\nE/xx3: 3a4df7c76c99039\n</code></pre>\n<p><strong>PHP</strong></p>\n<pre><code>var_dump(hash('xxh128', (string)12345));\nvar_dump(hash('xxh64', (string)12345));\nvar_dump(hash('xxh3', (string)12345));\n</code></pre>\n<p><em>Results:</em></p>\n<pre><code>string(32) &quot;4af3da69f61e14cf26f4c14b6b6bfdb4&quot;\nstring(16) &quot;c6f2d2dd0ad64fb6&quot;\nstring(16) &quot;f34099ede96b5581&quot;\n</code></pre>\n<p>I can't spot the issue. Anyone can help me please?</p>\n"},{"tags":["java","jtable","scrollbar","width","jscrollpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1688065602,"post_id":76583019,"comment_id":135027586,"body_markdown":"Post an [mre] when asking a question so we can see exactly what you are doing.","body":"Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> when asking a question so we can see exactly what you are doing."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688065684,"creation_date":1688065091,"answer_id":76583922,"question_id":76583019,"body_markdown":"&gt; I tried making the JTable&#39;s preferred width extra-large \r\n\r\nOverride the `getPreferredSize()` method of your JTable. Maybe something like:\r\n\r\n    JTable table = new JTable(...)\r\n    {\r\n        @Override\r\n        public Dimension getPreferredSize()\r\n        {\r\n            Dimension d = super.getPreferredSize();\r\n    \r\n            if (d.width &gt; 500) // pick a reasonable value for your table\r\n                d.width = 500;\r\n    \r\n            return d;\r\n        }\r\n    };\r\n\r\n    table.setPreferredScrollableViewportSize(table.getPreferredSize());\r\n    JScrollPane scrollPane = new JScrollPane( table );\r\n\r\nNow the width of your scroll pane should be a maximum of 500 but it can be smaller if the widths of all columns is smaller.\r\n\r\nThe scrollbar should then appear if the table width is greater than scroll pane size.\r\n","title":"How do I adjust the width of a JScrollPane based on the width of JTable Data?","body":"<blockquote>\n<p>I tried making the JTable's preferred width extra-large</p>\n</blockquote>\n<p>Override the <code>getPreferredSize()</code> method of your JTable. Maybe something like:</p>\n<pre><code>JTable table = new JTable(...)\n{\n    @Override\n    public Dimension getPreferredSize()\n    {\n        Dimension d = super.getPreferredSize();\n\n        if (d.width &gt; 500) // pick a reasonable value for your table\n            d.width = 500;\n\n        return d;\n    }\n};\n\ntable.setPreferredScrollableViewportSize(table.getPreferredSize());\nJScrollPane scrollPane = new JScrollPane( table );\n</code></pre>\n<p>Now the width of your scroll pane should be a maximum of 500 but it can be smaller if the widths of all columns is smaller.</p>\n<p>The scrollbar should then appear if the table width is greater than scroll pane size.</p>\n"}],"owner":{"account_id":11764244,"reputation":19,"user_id":8650980,"display_name":"Rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688076013,"creation_date":1688056791,"question_id":76583019,"body_markdown":"My Java program has a JTable in a JScrollPane. For the table I set setAutoResizeMode(JTable.AUTO_RESIZE_OFF) and I adjust the column widths to match the data using resizeColumnWidth (shown in many internet locations). I also set horizontal scroll bar policy to AS_NEEDED. **This all works great.**\r\n\r\nSometimes some table cells may have extra wide data that makes their columns extra wide. The overall table width of all the columns is then wider than the width of the view area of the JScrollPane. In this case I want the JScrollPane to display a horizontal scroll bar to allow the table to be wider than the pane. I want the table width to be exactly as wide as needed for all the columns. And I want the scroll bars to allow side scrolling as needed to view the entire width of the table.\r\n\r\nI think there is a way to enhance my resizeColumnWidth to also make overall adjustments as needed based on all the widths.\r\n\r\nHow do I do this? \r\n\r\nI tried making the JTable&#39;s preferred width extra-large. That kinda works, but then I have extra scroll space to the right of the table. I don&#39;t like that. \r\n\r\nI&#39;m already adjusting the column widths to match the cell data. What I also want, is to adjust the overall table width to match the total of all the column widths.\r\n\r\n\r\nBelow is my code as it stands. Sometimes it works and sometimes it doesn&#39;t.\r\n\r\n        public static void resizeColumnWidth(JTable table) \r\n    {\r\n        final TableColumnModel columnModel = table.getColumnModel();\r\n        \r\n        int iCumulativeWidth = 0;\r\n                \r\n        // turn off automatic column sizing\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        \r\n        // make sure the bottom of the viewport is filled with color (white)\r\n        table.setFillsViewportHeight(true);\r\n        \r\n        // process each column\r\n        for (int iColumnIndex = 0; iColumnIndex &lt; table.getColumnCount(); iColumnIndex++) \r\n        {\r\n            // set a default minimum column width\r\n            int iColumnWidth = 15; \r\n\r\n            // get the width of the header\r\n            TableColumn tableColumn = table.getTableHeader().getColumnModel().getColumn(iColumnIndex);\r\n            TableCellRenderer renderer1 = tableColumn.getHeaderRenderer();\r\n            if (renderer1 == null) \r\n            {\r\n                renderer1 = table.getTableHeader().getDefaultRenderer();\r\n            }\r\n            Component component = renderer1.getTableCellRendererComponent(table, tableColumn.getHeaderValue(), false, false, -1, iColumnIndex);\r\n            iColumnWidth = Math.max(component.getPreferredSize().width, iColumnWidth);\r\n      \r\n            // process the width of each row\r\n            for (int iRowIndex = 0; iRowIndex &lt; table.getRowCount(); iRowIndex++) \r\n            {                \r\n                TableCellRenderer renderer2 = table.getCellRenderer(iRowIndex, iColumnIndex);\r\n                Component comp = table.prepareRenderer(renderer2, iRowIndex, iColumnIndex);\r\n                iColumnWidth = Math.max(comp.getPreferredSize().width + 1, iColumnWidth);\r\n            }\r\n            \r\n            // check if this is the last column\r\n            if (iColumnIndex &gt;= columnModel.getColumnCount() - 1) \r\n            { \r\n                // last column\r\n                \r\n                // calculate the width of the visible scroll area\r\n                int iScrollWidth = table.getPreferredScrollableViewportSize().width;\r\n                \r\n                // calculate how wide the last column needs to be to consume all the remaining table width\r\n                int iRemainingWidth = iScrollWidth - iCumulativeWidth;\r\n                \r\n                // check if the remaining width is larger than what the column normally would be\r\n                if (iRemainingWidth &gt; iColumnWidth)\r\n                {\r\n                    // set the column to use the larger remaining width\r\n                    iColumnWidth = iRemainingWidth;\r\n                }\r\n            }\r\n\r\n            // set the column&#39;s width\r\n            columnModel.getColumn(iColumnIndex).setPreferredWidth(iColumnWidth);\r\n            \r\n            // maintain the total cumulative width of all columns\r\n            iCumulativeWidth += iColumnWidth;\r\n         }\r\n\r\n         // adjust the width of the table to the width of the columns\r\n         table.setPreferredSize(new Dimension(iCumulativeWidth, table.getPreferredScrollableViewportSize().height));\r\n    }\r\n","title":"How do I adjust the width of a JScrollPane based on the width of JTable Data?","body":"<p>My Java program has a JTable in a JScrollPane. For the table I set setAutoResizeMode(JTable.AUTO_RESIZE_OFF) and I adjust the column widths to match the data using resizeColumnWidth (shown in many internet locations). I also set horizontal scroll bar policy to AS_NEEDED. <strong>This all works great.</strong></p>\n<p>Sometimes some table cells may have extra wide data that makes their columns extra wide. The overall table width of all the columns is then wider than the width of the view area of the JScrollPane. In this case I want the JScrollPane to display a horizontal scroll bar to allow the table to be wider than the pane. I want the table width to be exactly as wide as needed for all the columns. And I want the scroll bars to allow side scrolling as needed to view the entire width of the table.</p>\n<p>I think there is a way to enhance my resizeColumnWidth to also make overall adjustments as needed based on all the widths.</p>\n<p>How do I do this?</p>\n<p>I tried making the JTable's preferred width extra-large. That kinda works, but then I have extra scroll space to the right of the table. I don't like that.</p>\n<p>I'm already adjusting the column widths to match the cell data. What I also want, is to adjust the overall table width to match the total of all the column widths.</p>\n<p>Below is my code as it stands. Sometimes it works and sometimes it doesn't.</p>\n<pre><code>    public static void resizeColumnWidth(JTable table) \n{\n    final TableColumnModel columnModel = table.getColumnModel();\n    \n    int iCumulativeWidth = 0;\n            \n    // turn off automatic column sizing\n    table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n    \n    // make sure the bottom of the viewport is filled with color (white)\n    table.setFillsViewportHeight(true);\n    \n    // process each column\n    for (int iColumnIndex = 0; iColumnIndex &lt; table.getColumnCount(); iColumnIndex++) \n    {\n        // set a default minimum column width\n        int iColumnWidth = 15; \n\n        // get the width of the header\n        TableColumn tableColumn = table.getTableHeader().getColumnModel().getColumn(iColumnIndex);\n        TableCellRenderer renderer1 = tableColumn.getHeaderRenderer();\n        if (renderer1 == null) \n        {\n            renderer1 = table.getTableHeader().getDefaultRenderer();\n        }\n        Component component = renderer1.getTableCellRendererComponent(table, tableColumn.getHeaderValue(), false, false, -1, iColumnIndex);\n        iColumnWidth = Math.max(component.getPreferredSize().width, iColumnWidth);\n  \n        // process the width of each row\n        for (int iRowIndex = 0; iRowIndex &lt; table.getRowCount(); iRowIndex++) \n        {                \n            TableCellRenderer renderer2 = table.getCellRenderer(iRowIndex, iColumnIndex);\n            Component comp = table.prepareRenderer(renderer2, iRowIndex, iColumnIndex);\n            iColumnWidth = Math.max(comp.getPreferredSize().width + 1, iColumnWidth);\n        }\n        \n        // check if this is the last column\n        if (iColumnIndex &gt;= columnModel.getColumnCount() - 1) \n        { \n            // last column\n            \n            // calculate the width of the visible scroll area\n            int iScrollWidth = table.getPreferredScrollableViewportSize().width;\n            \n            // calculate how wide the last column needs to be to consume all the remaining table width\n            int iRemainingWidth = iScrollWidth - iCumulativeWidth;\n            \n            // check if the remaining width is larger than what the column normally would be\n            if (iRemainingWidth &gt; iColumnWidth)\n            {\n                // set the column to use the larger remaining width\n                iColumnWidth = iRemainingWidth;\n            }\n        }\n\n        // set the column's width\n        columnModel.getColumn(iColumnIndex).setPreferredWidth(iColumnWidth);\n        \n        // maintain the total cumulative width of all columns\n        iCumulativeWidth += iColumnWidth;\n     }\n\n     // adjust the width of the table to the width of the columns\n     table.setPreferredSize(new Dimension(iCumulativeWidth, table.getPreferredScrollableViewportSize().height));\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1305082105,"post_id":5958566,"comment_id":6872470,"body_markdown":"Is this from a homework? If so, could you copy the exact question?","body":"Is this from a homework? If so, could you copy the exact question?"},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1305084008,"post_id":5958566,"comment_id":6872728,"body_markdown":"And can you say what would be the expected result? ABARC or ABRC? If it is homework - are there restrictions, what to use and what not?","body":"And can you say what would be the expected result? ABARC or ABRC? If it is homework - are there restrictions, what to use and what not?"}],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1305085207,"creation_date":1305083415,"answer_id":5958807,"question_id":5958566,"body_markdown":"You can do it like this:\r\n\r\n\r\n    public static String removeDups(String s)\r\n    {\r\n        if ( s.length() &lt;= 1 ) return s;\r\n        if( s.substring(1,2).equals(s.substring(0,1)) ) return removeDups(s.substring(1));\r\n        else return s.substring(0,1) + removeDups(s.substring(1));\r\n    }\r\n\r\n\r\n    INPUT: &quot;AAAABBARRRCC&quot;\r\n    OUTPUT: &quot;ABARC&quot;\r\n\r\n===============\r\n\r\nEDIT: another way\r\n\r\n\r\n    public static String removeDups(String s)\r\n    {\r\n        if ( s.length() &lt;= 1 ) return s;\r\n        if( s.substring(1).contains(s.substring(0,1)) ) return removeDups(s.substring(1));\r\n        else return s.substring(0,1) + removeDups(s.substring(1));\r\n    }\r\n\r\n\r\n    INPUT: &quot;AAAABBARRRCC&quot;\r\n    OUTPUT: &quot;BARC&quot;\r\n\r\n==============\r\n\r\nEDIT: 3rd way\r\n\r\n\r\n    public static String removeDups(String s)\r\n    {\r\n        if ( s.length() &lt;= 1 ) return s;\r\n        if( s.substring(0,s.length()-1).contains(s.substring(s.length()-1,s.length())) ) return removeDups(s.substring(0,s.length()-1));\r\n        else return removeDups(s.substring(0,s.length()-1)) + s.substring(s.length()-1,s.length());\r\n    }\r\n\r\n\r\n    INPUT: &quot;AAAABBARRRCC&quot;\r\n    OUTPUT: &quot;ABRC&quot;\r\n\r\n","title":"Remove duplicate chars from a String recursively","body":"<p>You can do it like this:</p>\n\n<pre><code>public static String removeDups(String s)\n{\n    if ( s.length() &lt;= 1 ) return s;\n    if( s.substring(1,2).equals(s.substring(0,1)) ) return removeDups(s.substring(1));\n    else return s.substring(0,1) + removeDups(s.substring(1));\n}\n\n\nINPUT: \"AAAABBARRRCC\"\nOUTPUT: \"ABARC\"\n</code></pre>\n\n<p>===============</p>\n\n<p>EDIT: another way</p>\n\n<pre><code>public static String removeDups(String s)\n{\n    if ( s.length() &lt;= 1 ) return s;\n    if( s.substring(1).contains(s.substring(0,1)) ) return removeDups(s.substring(1));\n    else return s.substring(0,1) + removeDups(s.substring(1));\n}\n\n\nINPUT: \"AAAABBARRRCC\"\nOUTPUT: \"BARC\"\n</code></pre>\n\n<p>==============</p>\n\n<p>EDIT: 3rd way</p>\n\n<pre><code>public static String removeDups(String s)\n{\n    if ( s.length() &lt;= 1 ) return s;\n    if( s.substring(0,s.length()-1).contains(s.substring(s.length()-1,s.length())) ) return removeDups(s.substring(0,s.length()-1));\n    else return removeDups(s.substring(0,s.length()-1)) + s.substring(s.length()-1,s.length());\n}\n\n\nINPUT: \"AAAABBARRRCC\"\nOUTPUT: \"ABRC\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32578,"reputation":68658,"user_id":90511,"accept_rate":91,"display_name":"hugomg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305087184,"creation_date":1305087184,"answer_id":5959162,"question_id":5958566,"body_markdown":"The general trick on doing things recursively is to take all variables and turn them into parameters, and change all assignments into function calls. You might need more than one function for the more complicated stuff, but usually you can turn each loop into a [tail-recursive](http://en.wikipedia.org/wiki/Tail_call) function quite easily:\r\n\r\n    function(){\r\n        int i=0; int x=0; //initialize \r\n        while(condition){\r\n            x = x+i; //update\r\n            i = i+1;\r\n        }\r\n        return x;\r\n    }\r\n\r\nbecomes \r\n\r\n    function(i,x){ //variables are now parameters\r\n        if(condition){\r\n           return x;\r\n        }else{\r\n           return function(i+1, x+i); //update\r\n        }\r\n    }\r\n    \r\n    main(){\r\n        function(0,0); //initialize\r\n\r\n===============\r\n\r\nHere is some duplicate removing code, just for example (it doesn&#180;t do the same thing as yours though)\r\n\r\n    removeDuplicates(str):\r\n        i = str.length-1; out_str = &quot;&quot;; chars_used = []\r\n        while(i &gt;= 0):\r\n            c = str[i]\r\n            if(c not in chars_used):\r\n                chars_used.append(c)\r\n                out_str += c\r\n            i -= 1\r\n        return out_str\r\n\r\nbecomes\r\n\r\n    remove_duplicates(str, i, out_str, chars_used):\r\n        if i &lt; 0:\r\n            return out_str\r\n        else:\r\n            c = str[i]\r\n            if c in chars_used:\r\n                return remove_duplicates(str, i-1, out_str, chars_used)\r\n            else:\r\n                return remove_duplicates(str, i-1, out_str+c, chars_used+[c])","title":"Remove duplicate chars from a String recursively","body":"<p>The general trick on doing things recursively is to take all variables and turn them into parameters, and change all assignments into function calls. You might need more than one function for the more complicated stuff, but usually you can turn each loop into a <a href=\"http://en.wikipedia.org/wiki/Tail_call\" rel=\"nofollow\">tail-recursive</a> function quite easily:</p>\n\n<pre><code>function(){\n    int i=0; int x=0; //initialize \n    while(condition){\n        x = x+i; //update\n        i = i+1;\n    }\n    return x;\n}\n</code></pre>\n\n<p>becomes </p>\n\n<pre><code>function(i,x){ //variables are now parameters\n    if(condition){\n       return x;\n    }else{\n       return function(i+1, x+i); //update\n    }\n}\n\nmain(){\n    function(0,0); //initialize\n</code></pre>\n\n<p>===============</p>\n\n<p>Here is some duplicate removing code, just for example (it doesn´t do the same thing as yours though)</p>\n\n<pre><code>removeDuplicates(str):\n    i = str.length-1; out_str = \"\"; chars_used = []\n    while(i &gt;= 0):\n        c = str[i]\n        if(c not in chars_used):\n            chars_used.append(c)\n            out_str += c\n        i -= 1\n    return out_str\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>remove_duplicates(str, i, out_str, chars_used):\n    if i &lt; 0:\n        return out_str\n    else:\n        c = str[i]\n        if c in chars_used:\n            return remove_duplicates(str, i-1, out_str, chars_used)\n        else:\n            return remove_duplicates(str, i-1, out_str+c, chars_used+[c])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305089764,"creation_date":1305089764,"answer_id":5959454,"question_id":5958566,"body_markdown":"Will this help you?\r\n  \r\n\r\n        public static String getUniqueChars(String realString) {\r\n            StringBuilder resultString = null;\r\n            try {\r\n                    List&lt;Character&gt; characterArray = new &lt;Character&gt; ArrayList();\r\n                    for(char c : realString.toCharArray()) {\r\n                        characterArray.add(c);\r\n                    }\r\n                    resultString = new StringBuilder();\r\n                    for(Character c : new TreeSet&lt;Character&gt;(characterArray)) {\r\n                        resultString.append(c.charValue());\r\n                    }\r\n            } catch (Exception e) {\r\n                    e.printStackTrace();\r\n            }\r\n            resultString.toString();\r\n        }","title":"Remove duplicate chars from a String recursively","body":"<p>Will this help you?</p>\n\n<pre><code>    public static String getUniqueChars(String realString) {\n        StringBuilder resultString = null;\n        try {\n                List&lt;Character&gt; characterArray = new &lt;Character&gt; ArrayList();\n                for(char c : realString.toCharArray()) {\n                    characterArray.add(c);\n                }\n                resultString = new StringBuilder();\n                for(Character c : new TreeSet&lt;Character&gt;(characterArray)) {\n                    resultString.append(c.charValue());\n                }\n        } catch (Exception e) {\n                e.printStackTrace();\n        }\n        resultString.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344179,"reputation":51,"user_id":676352,"accept_rate":12,"display_name":"HITANSU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483453343,"creation_date":1483453343,"answer_id":41445632,"question_id":5958566,"body_markdown":"\r\n\tprivate static String removeChars(String s) {\r\n\t\tint n= s.length();\r\n\t\tint i= 0;\r\n\t\tint j= 1;\r\n\t\tMap&lt;Integer, Boolean&gt; mark= new HashMap&lt;&gt;();\r\n\t\twhile(j&lt;n) {\r\n\t\t\tif(s.charAt(i)== s.charAt(j)) {\r\n\t\t\t\tmark.put(i, true);\r\n\t\t\t\tmark.put(j, true);\r\n\t\t\t\tif(i== 0) {\r\n\t\t\t\t\ti= j+1;\r\n\t\t\t\t\tj= i+1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ti= i-1;\r\n\t\t\t\t\tj= j+1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ti= j;\r\n\t\t\t\tj= j+1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tString str= &quot;&quot;;\r\n\t\tfor(int k= 0;k&lt;n;k++) {\r\n\t\t\tif(!mark.containsKey(k)) {\r\n\t\t\t\tstr+= s.charAt(k);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t}","title":"Remove duplicate chars from a String recursively","body":"<pre><code>private static String removeChars(String s) {\n    int n= s.length();\n    int i= 0;\n    int j= 1;\n    Map&lt;Integer, Boolean&gt; mark= new HashMap&lt;&gt;();\n    while(j&lt;n) {\n        if(s.charAt(i)== s.charAt(j)) {\n            mark.put(i, true);\n            mark.put(j, true);\n            if(i== 0) {\n                i= j+1;\n                j= i+1;\n            } else {\n                i= i-1;\n                j= j+1;\n            }\n        } else {\n            i= j;\n            j= j+1;\n        }\n    }\n\n    String str= \"\";\n    for(int k= 0;k&lt;n;k++) {\n        if(!mark.containsKey(k)) {\n            str+= s.charAt(k);\n        }\n    }\n    return str;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13741782,"reputation":1,"user_id":9916673,"display_name":"Manny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528509338,"creation_date":1528509338,"answer_id":50770256,"question_id":5958566,"body_markdown":"I think this is simpler:\r\n\r\n    private static String removeDups(String input){\r\n        if (input.length() &lt;= 1) return input;\r\n        if (input.charAt(0) == input.charAt(1))\r\n            return removeDups(input.substring(1));\r\n        else\r\n            return input.charAt(0)+removeDups(input.substring(1));\r\n    }","title":"Remove duplicate chars from a String recursively","body":"<p>I think this is simpler:</p>\n\n<pre><code>private static String removeDups(String input){\n    if (input.length() &lt;= 1) return input;\n    if (input.charAt(0) == input.charAt(1))\n        return removeDups(input.substring(1));\n    else\n        return input.charAt(0)+removeDups(input.substring(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18435399,"reputation":1,"user_id":13429389,"display_name":"Anant Ojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589095506,"creation_date":1589095506,"answer_id":61708576,"question_id":5958566,"body_markdown":"in C:\r\n\r\n    /* @params:\r\n    * src  -- input string pointer. String to remove dups from.\r\n    * dest -- output string pointer. Passed in as empty string.  \r\n    * iter -- index from where duplicate removal starts. (0)\r\n    * ---------------------------------------------------------\r\n    * Purpose:  \r\n    * Removes duplicate characters from a string recursively. \r\n    */\r\n    void remove_Dups_recursively(char *src, char *dest, int iter){\r\n      /* base case 1 --&gt; empty or 1 letter string */\r\n       if(strlen(src) &lt;= 1){\r\n           dest = src;\r\n           return;\r\n       }\r\n\r\n      /* base case 2 --&gt; reached end of string */\r\n       if(iter == strlen(src)){\r\n           return;\r\n       }\r\n\r\n      /* current &#39;iter&#39; element has been encountered before */\r\n       if(strchr(dest, src[iter]) == NULL){\r\n           dest[strlen(dest)] = src[iter]; \r\n           iter++;\r\n           remove_Dups_recursively(src, dest, iter);\r\n       }\r\n\r\n      /* current &#39;iter&#39; element has not been encountered before */\r\n       else{\r\n           iter++;\r\n           remove_Dups_recursively(src, dest, iter);\r\n       }\r\n    }\r\n    /* EXAMPLE: AAABBABCCABA\r\n     * OUTPUT: ABC    */\r\n\r\n","title":"Remove duplicate chars from a String recursively","body":"<p>in C:</p>\n\n<pre><code>/* @params:\n* src  -- input string pointer. String to remove dups from.\n* dest -- output string pointer. Passed in as empty string.  \n* iter -- index from where duplicate removal starts. (0)\n* ---------------------------------------------------------\n* Purpose:  \n* Removes duplicate characters from a string recursively. \n*/\nvoid remove_Dups_recursively(char *src, char *dest, int iter){\n  /* base case 1 --&gt; empty or 1 letter string */\n   if(strlen(src) &lt;= 1){\n       dest = src;\n       return;\n   }\n\n  /* base case 2 --&gt; reached end of string */\n   if(iter == strlen(src)){\n       return;\n   }\n\n  /* current 'iter' element has been encountered before */\n   if(strchr(dest, src[iter]) == NULL){\n       dest[strlen(dest)] = src[iter]; \n       iter++;\n       remove_Dups_recursively(src, dest, iter);\n   }\n\n  /* current 'iter' element has not been encountered before */\n   else{\n       iter++;\n       remove_Dups_recursively(src, dest, iter);\n   }\n}\n/* EXAMPLE: AAABBABCCABA\n * OUTPUT: ABC    */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28921678,"reputation":1,"user_id":22152473,"display_name":"user22152473"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688075921,"creation_date":1688075921,"answer_id":76584837,"question_id":5958566,"body_markdown":"In case this helps somebody...\r\n\r\n    public static String cleanDuplicateAdjacentChars(String string) {\r\n        // STOPPER: String is 1 or 0 chars\r\n        if(string.length() &lt;= 1) return string;\r\n        // If first char equals second char then return recursive of string minus first char\r\n        if(string.charAt(0) == string.charAt(1)) return clearEqualChars(string.substring(1));\r\n        // Else return first char + recursive of string minus first char\r\n        return string.charAt(0) + clearEqualChars(string.substring(1));\r\n    }","title":"Remove duplicate chars from a String recursively","body":"<p>In case this helps somebody...</p>\n<pre><code>public static String cleanDuplicateAdjacentChars(String string) {\n    // STOPPER: String is 1 or 0 chars\n    if(string.length() &lt;= 1) return string;\n    // If first char equals second char then return recursive of string minus first char\n    if(string.charAt(0) == string.charAt(1)) return clearEqualChars(string.substring(1));\n    // Else return first char + recursive of string minus first char\n    return string.charAt(0) + clearEqualChars(string.substring(1));\n}\n</code></pre>\n"}],"owner":{"account_id":325798,"reputation":177,"user_id":647207,"accept_rate":64,"display_name":"user647207"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26302,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5958807,"answer_count":7,"score":4,"last_activity_date":1688075921,"creation_date":1305080680,"question_id":5958566,"body_markdown":"I need help to figure how can i remove duplicates chars from a string. It has to be done recursively which is the real problem..\r\n\r\n\r\n    public class FEQ2 {\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void removeDups(String s, int firstChar, int secondChar) {\t\r\n    \t\tif (s.length() == 1) {\t\r\n    \t\t\tSystem.out.println(s);\r\n    \t\t}    \t\t\r\n    \t\tchar a = s.charAt(firstChar);\r\n    \t\tif (a == s.charAt(secondChar)) {\r\n    \t\t\ts = a + s.substring(secondChar + 1);\r\n    \t\t}\r\n    \t\tSystem.out.println(s);\r\n    \t\tremoveDups(s, firstChar + 1, secondChar + 1);\r\n    \t\t//return s;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//System.out.println(removeDups(&quot;AAAABBARRRCC&quot;, 1));\r\n    \t\tremoveDups(&quot;AAAABBARRRCC&quot;, 0 , 1);\r\n    \t}\r\n    }","title":"Remove duplicate chars from a String recursively","body":"<p>I need help to figure how can i remove duplicates chars from a string. It has to be done recursively which is the real problem..</p>\n\n<pre><code>public class FEQ2 {\n    /**\n     * @param args\n     */\n    public static void removeDups(String s, int firstChar, int secondChar) {    \n        if (s.length() == 1) {  \n            System.out.println(s);\n        }           \n        char a = s.charAt(firstChar);\n        if (a == s.charAt(secondChar)) {\n            s = a + s.substring(secondChar + 1);\n        }\n        System.out.println(s);\n        removeDups(s, firstChar + 1, secondChar + 1);\n        //return s;\n    }\n\n    public static void main(String[] args) {\n        //System.out.println(removeDups(\"AAAABBARRRCC\", 1));\n        removeDups(\"AAAABBARRRCC\", 0 , 1);\n    }\n}\n</code></pre>\n"},{"tags":["java","database","oracle","spring-boot","jpa"],"comments":[{"owner":{"account_id":4100631,"reputation":41,"user_id":3366273,"display_name":"iftekher2283"},"score":0,"creation_date":1663072414,"post_id":71607764,"comment_id":130148859,"body_markdown":"You can check my [answer](https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069) in the below URL https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069","body":"You can check my <a href=\"https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069\">answer</a> in the below URL <a href=\"https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069\" title=\"how to use multiple databases with spring\">stackoverflow.com/questions/59358493/&hellip;</a>"},{"owner":{"account_id":4100631,"reputation":41,"user_id":3366273,"display_name":"iftekher2283"},"score":0,"creation_date":1663072434,"post_id":71607764,"comment_id":130148868,"body_markdown":"You can check my [answer](https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069) in the below URL https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069","body":"You can check my <a href=\"https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069\">answer</a> in the below URL <a href=\"https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069\" title=\"how to use multiple databases with spring\">stackoverflow.com/questions/59358493/&hellip;</a>"},{"owner":{"account_id":4100631,"reputation":41,"user_id":3366273,"display_name":"iftekher2283"},"score":0,"creation_date":1663072482,"post_id":71607764,"comment_id":130148886,"body_markdown":"You can check my [answer](https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069) in the below URL https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069","body":"You can check my <a href=\"https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069\">answer</a> in the below URL <a href=\"https://stackoverflow.com/questions/59358493/how-to-use-multiple-databases-with-spring/73703069#73703069\" title=\"how to use multiple databases with spring\">stackoverflow.com/questions/59358493/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648150061,"creation_date":1648150061,"answer_id":71608360,"question_id":71607764,"body_markdown":"You can do it directly through the properties file\r\n\r\n    spring.datasource.jdbcUrl = [url]\r\n    spring.datasource.username = [username]\r\n    spring.datasource.password = [password]\r\n    spring.second-datasource.jdbcUrl = [url]\r\n    spring.second-datasource.username = [username]\r\n    spring.second-datasource.password = [password]\r\n\r\nThen you need to create the configurations for the datasources:\r\n\r\n    @Configuration\r\n    @PropertySource({&quot;classpath:persistence-multiple-db-boot.properties&quot;})\r\n    @EnableJpaRepositories(\r\n      basePackages = &quot;com.baeldung.multipledb.dao.user&quot;,\r\n      entityManagerFactoryRef = &quot;userEntityManager&quot;,\r\n      transactionManagerRef = &quot;userTransactionManager&quot;)\r\n    public class PersistenceUserAutoConfiguration {\r\n        \r\n        @Primary\r\n        @Bean\r\n        @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n        public DataSource userDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n        // userEntityManager bean \r\n    \r\n        // userTransactionManager bean\r\n    }\r\n\r\nThe config for the second one:\r\n\r\n    @Configuration\r\n    @PropertySource({&quot;classpath:persistence-multiple-db-boot.properties&quot;})\r\n    @EnableJpaRepositories(\r\n      basePackages = &quot;com.baeldung.multipledb.dao.product&quot;, \r\n      entityManagerFactoryRef = &quot;productEntityManager&quot;, \r\n      transactionManagerRef = &quot;productTransactionManager&quot;)\r\n    public class PersistenceProductAutoConfiguration {\r\n       \r\n        @Bean\r\n        @ConfigurationProperties(prefix=&quot;spring.second-datasource&quot;)\r\n        public DataSource productDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n       \r\n        // productEntityManager bean \r\n    \r\n        // productTransactionManager bean\r\n    }\r\n\r\nYou can find more about this implementation [here](https://www.baeldung.com/spring-data-jpa-multiple-databases)","title":"How to connect multiple databases in Spring Boot","body":"<p>You can do it directly through the properties file</p>\n<pre><code>spring.datasource.jdbcUrl = [url]\nspring.datasource.username = [username]\nspring.datasource.password = [password]\nspring.second-datasource.jdbcUrl = [url]\nspring.second-datasource.username = [username]\nspring.second-datasource.password = [password]\n</code></pre>\n<p>Then you need to create the configurations for the datasources:</p>\n<pre><code>@Configuration\n@PropertySource({&quot;classpath:persistence-multiple-db-boot.properties&quot;})\n@EnableJpaRepositories(\n  basePackages = &quot;com.baeldung.multipledb.dao.user&quot;,\n  entityManagerFactoryRef = &quot;userEntityManager&quot;,\n  transactionManagerRef = &quot;userTransactionManager&quot;)\npublic class PersistenceUserAutoConfiguration {\n    \n    @Primary\n    @Bean\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\n    public DataSource userDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n    // userEntityManager bean \n\n    // userTransactionManager bean\n}\n</code></pre>\n<p>The config for the second one:</p>\n<pre><code>@Configuration\n@PropertySource({&quot;classpath:persistence-multiple-db-boot.properties&quot;})\n@EnableJpaRepositories(\n  basePackages = &quot;com.baeldung.multipledb.dao.product&quot;, \n  entityManagerFactoryRef = &quot;productEntityManager&quot;, \n  transactionManagerRef = &quot;productTransactionManager&quot;)\npublic class PersistenceProductAutoConfiguration {\n   \n    @Bean\n    @ConfigurationProperties(prefix=&quot;spring.second-datasource&quot;)\n    public DataSource productDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n   \n    // productEntityManager bean \n\n    // productTransactionManager bean\n}\n</code></pre>\n<p>You can find more about this implementation <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653831446,"creation_date":1653830601,"answer_id":72424021,"question_id":71607764,"body_markdown":"If you are going to create a serious service, you should know only how to config them, how to use them, and how to control transaction for all of databases via Spring.\r\n\r\nYou can see the runnable example and some explanation in https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/10_spring-boot-two-databases (see what you can try in README.txt)\r\n\r\n\r\nI copied some code here.\r\n\r\nFirst you have to set application.properties like this\r\n\r\n    #Database\r\n    database1.datasource.url=jdbc:mysql://localhost/testdb\r\n    database1.datasource.username=root\r\n    database1.datasource.password=root\r\n    database1.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    database2.datasource.url=jdbc:mysql://localhost/testdb2\r\n    database2.datasource.username=root\r\n    database2.datasource.password=root\r\n    database2.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nThen define them as providers (@Bean) like this:\r\n\r\n    @Bean(name = &quot;datasource1&quot;)\r\n    @ConfigurationProperties(&quot;database1.datasource&quot;)\r\n    @Primary\r\n    public DataSource dataSource(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;datasource2&quot;)\r\n    @ConfigurationProperties(&quot;database2.datasource&quot;)\r\n    public DataSource dataSource2(){\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\nNote that I have `@Bean(name=&quot;datasource1&quot;)` and `@Bean(name=&quot;datasource2&quot;)`, then you can use it when we need datasource as `@Qualifier(&quot;datasource1&quot;)` and `@Qualifier(&quot;datasource2&quot;)` , for example \r\n\r\n    @Qualifier(&quot;datasource1&quot;)\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\nIf you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:\r\n\r\n    @Bean(name=&quot;tm1&quot;)\r\n    @Autowired\r\n    @Primary\r\n    DataSourceTransactionManager tm1(@Qualifier (&quot;datasource1&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\n    @Bean(name=&quot;tm2&quot;)\r\n    @Autowired\r\n    DataSourceTransactionManager tm2(@Qualifier (&quot;datasource2&quot;) DataSource datasource) {\r\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n        return txm;\r\n    }\r\n\r\nThen you can use it like\r\n\r\n    @Transactional //this will use the first datasource because it is @primary\r\n\r\nor\r\n\r\n    @Transactional(&quot;tm2&quot;)\r\n\r\n**The most important part, which you will hardly find an example in anywhere**: if you want a method to commit/rollback transactions of both databases, you need ChainedTransactionManager for tm1 and tm2 , like this:\r\n\r\n\r\n    @Bean(name = &quot;chainedTransactionManager&quot;)\r\n    public ChainedTransactionManager getChainedTransactionManager(@Qualifier (&quot;tm1&quot;) DataSourceTransactionManager tm1, @Qualifier (&quot;tm2&quot;) DataSourceTransactionManager tm2){\r\n        return new ChainedTransactionManager(tm1, tm2);\r\n    }\r\n\r\nTo use it, add this annotation in a method @Transactional(value=&quot;chainedTransactionManager&quot;) for example\r\n\r\n\r\n    @Transactional(value=&quot;chainedTransactionManager&quot;)\r\n    public void insertAll() {\r\n        UserBean test = new UserBean();\r\n        test.setUsername(&quot;username&quot; + new Date().getTime());\r\n        userDao.insert(test);\r\n\r\n        userDao2.insert(test);\r\n    }\r\n\r\n\r\nThis should be enough. See example and detail in the link above.","title":"How to connect multiple databases in Spring Boot","body":"<p>If you are going to create a serious service, you should know only how to config them, how to use them, and how to control transaction for all of databases via Spring.</p>\n<p>You can see the runnable example and some explanation in <a href=\"https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/10_spring-boot-two-databases\" rel=\"nofollow noreferrer\">https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/10_spring-boot-two-databases</a> (see what you can try in README.txt)</p>\n<p>I copied some code here.</p>\n<p>First you have to set application.properties like this</p>\n<pre><code>#Database\ndatabase1.datasource.url=jdbc:mysql://localhost/testdb\ndatabase1.datasource.username=root\ndatabase1.datasource.password=root\ndatabase1.datasource.driver-class-name=com.mysql.jdbc.Driver\n\ndatabase2.datasource.url=jdbc:mysql://localhost/testdb2\ndatabase2.datasource.username=root\ndatabase2.datasource.password=root\ndatabase2.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n<p>Then define them as providers (@Bean) like this:</p>\n<pre><code>@Bean(name = &quot;datasource1&quot;)\n@ConfigurationProperties(&quot;database1.datasource&quot;)\n@Primary\npublic DataSource dataSource(){\n    return DataSourceBuilder.create().build();\n}\n\n@Bean(name = &quot;datasource2&quot;)\n@ConfigurationProperties(&quot;database2.datasource&quot;)\npublic DataSource dataSource2(){\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n<p>Note that I have <code>@Bean(name=&quot;datasource1&quot;)</code> and <code>@Bean(name=&quot;datasource2&quot;)</code>, then you can use it when we need datasource as <code>@Qualifier(&quot;datasource1&quot;)</code> and <code>@Qualifier(&quot;datasource2&quot;)</code> , for example</p>\n<pre><code>@Qualifier(&quot;datasource1&quot;)\n@Autowired\nprivate DataSource dataSource;\n</code></pre>\n<p>If you do care about transaction, you have to define DataSourceTransactionManager for both of them, like this:</p>\n<pre><code>@Bean(name=&quot;tm1&quot;)\n@Autowired\n@Primary\nDataSourceTransactionManager tm1(@Qualifier (&quot;datasource1&quot;) DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n\n@Bean(name=&quot;tm2&quot;)\n@Autowired\nDataSourceTransactionManager tm2(@Qualifier (&quot;datasource2&quot;) DataSource datasource) {\n    DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n    return txm;\n}\n</code></pre>\n<p>Then you can use it like</p>\n<pre><code>@Transactional //this will use the first datasource because it is @primary\n</code></pre>\n<p>or</p>\n<pre><code>@Transactional(&quot;tm2&quot;)\n</code></pre>\n<p><strong>The most important part, which you will hardly find an example in anywhere</strong>: if you want a method to commit/rollback transactions of both databases, you need ChainedTransactionManager for tm1 and tm2 , like this:</p>\n<pre><code>@Bean(name = &quot;chainedTransactionManager&quot;)\npublic ChainedTransactionManager getChainedTransactionManager(@Qualifier (&quot;tm1&quot;) DataSourceTransactionManager tm1, @Qualifier (&quot;tm2&quot;) DataSourceTransactionManager tm2){\n    return new ChainedTransactionManager(tm1, tm2);\n}\n</code></pre>\n<p>To use it, add this annotation in a method @Transactional(value=&quot;chainedTransactionManager&quot;) for example</p>\n<pre><code>@Transactional(value=&quot;chainedTransactionManager&quot;)\npublic void insertAll() {\n    UserBean test = new UserBean();\n    test.setUsername(&quot;username&quot; + new Date().getTime());\n    userDao.insert(test);\n\n    userDao2.insert(test);\n}\n</code></pre>\n<p>This should be enough. See example and detail in the link above.</p>\n"}],"owner":{"account_id":24481125,"reputation":31,"user_id":18399532,"display_name":"Animesh Kr Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688075899,"creation_date":1648146830,"question_id":71607764,"body_markdown":"I want to develop an application to connect to multiple oracle databases and fetch data from same table from each database.\r\n\r\nI have tried using the multiple datasource for every database and fetch the data from the tables.\r\n\r\nResource: https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\r\n\r\nDB1 Config:\r\n\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;CU1EntityManagerFactory&quot;, basePackages = {\r\n          &quot;com.javatechie.multiple.ds.api.cu1.repository&quot; })\r\n    public class CU1Config {\r\n       @Primary\r\n       @Bean(name = &quot;CU1DataSource&quot;)\r\n       @ConfigurationProperties(prefix = &quot;spring.cu1.datasource&quot;)\r\n       public DataSource dataSource() {\r\n          return DataSourceBuilder.create().build();\r\n       }\r\n    \r\n       @Primary\r\n       @Bean(name = &quot;CU1EntityManagerFactory&quot;)\r\n       public LocalContainerEntityManagerFactoryBean CU1EntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                            @Qualifier(&quot;CU1DataSource&quot;) DataSource dataSource) {\r\n          HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n          properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n          properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\r\n          return builder.dataSource(dataSource).properties(properties)\r\n                .packages(&quot;com.javatechie.multiple.ds.api.model&quot;).persistenceUnit(&quot;Unit&quot;).build();\r\n       }\r\n    \r\n    }\r\n\r\nDB2 Config:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;CU2EntityManagerFactory&quot;, basePackages = {\r\n          &quot;com.javatechie.multiple.ds.api.cu2.repository&quot; })\r\n    public class CU2Config {\r\n    \r\n       @Bean(name = &quot;CU2DataSource&quot;)\r\n       @ConfigurationProperties(prefix = &quot;spring.cu2.datasource&quot;)\r\n       public DataSource dataSource() {\r\n          return DataSourceBuilder.create().build();\r\n       }\r\n    \r\n       @Bean(name = &quot;CU2EntityManagerFactory&quot;)\r\n       public LocalContainerEntityManagerFactoryBean CU2EntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                            @Qualifier(&quot;CU2DataSource&quot;) DataSource dataSource) {\r\n          HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n          properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n          properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\r\n          return builder.dataSource(dataSource).properties(properties)\r\n                .packages(&quot;com.javatechie.multiple.ds.api.model&quot;).persistenceUnit(&quot;Unit&quot;).build();\r\n       }\r\n    \r\n    }\r\n\r\nBut the issue that I am facing is for every datasource I have to create a separate config class and also a dedicated repository and service, which is code repeatability though the work from each DB is same to fetch data from a particular table.\r\n\r\nAnd also in future if I want to add any new database I have to repeat the same above process again.\r\n\r\nAny help regarding better approach for code reusability is highly appreciated.","title":"How to connect multiple databases in Spring Boot","body":"<p>I want to develop an application to connect to multiple oracle databases and fetch data from same table from each database.</p>\n<p>I have tried using the multiple datasource for every database and fetch the data from the tables.</p>\n<p>Resource: <a href=\"https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\" rel=\"nofollow noreferrer\">https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7</a></p>\n<p>DB1 Config:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;CU1EntityManagerFactory&quot;, basePackages = {\n      &quot;com.javatechie.multiple.ds.api.cu1.repository&quot; })\npublic class CU1Config {\n   @Primary\n   @Bean(name = &quot;CU1DataSource&quot;)\n   @ConfigurationProperties(prefix = &quot;spring.cu1.datasource&quot;)\n   public DataSource dataSource() {\n      return DataSourceBuilder.create().build();\n   }\n\n   @Primary\n   @Bean(name = &quot;CU1EntityManagerFactory&quot;)\n   public LocalContainerEntityManagerFactoryBean CU1EntityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                        @Qualifier(&quot;CU1DataSource&quot;) DataSource dataSource) {\n      HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n      properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n      properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\n      return builder.dataSource(dataSource).properties(properties)\n            .packages(&quot;com.javatechie.multiple.ds.api.model&quot;).persistenceUnit(&quot;Unit&quot;).build();\n   }\n\n}\n</code></pre>\n<p>DB2 Config:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;CU2EntityManagerFactory&quot;, basePackages = {\n      &quot;com.javatechie.multiple.ds.api.cu2.repository&quot; })\npublic class CU2Config {\n\n   @Bean(name = &quot;CU2DataSource&quot;)\n   @ConfigurationProperties(prefix = &quot;spring.cu2.datasource&quot;)\n   public DataSource dataSource() {\n      return DataSourceBuilder.create().build();\n   }\n\n   @Bean(name = &quot;CU2EntityManagerFactory&quot;)\n   public LocalContainerEntityManagerFactoryBean CU2EntityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                        @Qualifier(&quot;CU2DataSource&quot;) DataSource dataSource) {\n      HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n      properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n      properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\n      return builder.dataSource(dataSource).properties(properties)\n            .packages(&quot;com.javatechie.multiple.ds.api.model&quot;).persistenceUnit(&quot;Unit&quot;).build();\n   }\n\n}\n</code></pre>\n<p>But the issue that I am facing is for every datasource I have to create a separate config class and also a dedicated repository and service, which is code repeatability though the work from each DB is same to fetch data from a particular table.</p>\n<p>And also in future if I want to add any new database I have to repeat the same above process again.</p>\n<p>Any help regarding better approach for code reusability is highly appreciated.</p>\n"},{"tags":["java",".net","cmd",".net-runtime"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688077129,"post_id":76584829,"comment_id":135029348,"body_markdown":"Your code works for me. Try replacing `getInputStream` with `getErrorStream`, and see whether there is some problem running `dotnet`. Perhaps for some reason when you run your java program the PATH is different and it doesn&#39;t see `dotnet`.","body":"Your code works for me. Try replacing <code>getInputStream</code> with <code>getErrorStream</code>, and see whether there is some problem running <code>dotnet</code>. Perhaps for some reason when you run your java program the PATH is different and it doesn&#39;t see <code>dotnet</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688079763,"post_id":76584829,"comment_id":135029653,"body_markdown":"Do yourself a favour and use `new ProcessBuilder(array).inheritIO();` where each element in the array is one token of the four in your command. Your output/errors will appear after you call `start()`","body":"Do yourself a favour and use <code>new ProcessBuilder(array).inheritIO();</code> where each element in the array is one token of the four in your command. Your output/errors will appear after you call <code>start()</code>"}],"owner":{"account_id":2666625,"reputation":304,"user_id":2304921,"accept_rate":83,"display_name":"Alexandre Paiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688075831,"creation_date":1688075831,"question_id":76584829,"body_markdown":"I have a large Java program that also executes other programs, and some of them runs on .NET 6. That&#39;s why, when the program loads, I want to check if .NET is installed so I can show the user an error message prompting them to download and install it.\r\n\r\nWhat I&#39;m trying to do right now is to run the `dotnet --list-runtimes` command, following [these Microsoft recommendations][1]. \r\n\r\n``` java\r\nprivate boolean isNET6Installed() {\r\n\t// Checking if .NET is installed using the dotnet command.\r\n\ttry {\r\n\t\tProcess process = Runtime.getRuntime().exec(&quot;cmd /c dotnet --list-runtimes&quot;);\t\t\t\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\r\n\t\tString dotnetRuntime = &quot;&quot;;\r\n\t    while ((dotnetRuntime = reader.readLine()) != null) {\r\n\t    \tString dotnetMajorVersion = dotnetRuntime.split(&quot;\\\\ &quot;)[1].split(&quot;\\\\.&quot;)[0];\r\n\t    \tif(Integer.parseInt(dotnetMajorVersion) &gt;= 6){\r\n\t    \t\treturn true;\r\n\t    \t}\r\n\t    }\t\t\t\t\t\t\r\n\t}catch(IOException e) {\r\n\t\tDebug.debug(e);\r\n\t}\t\t\r\n\t\r\n\treturn false;\r\n}\r\n```\r\n\r\nRunning the same command from my terminal I get the following output:\r\n\r\n[![cmd /k dotnet --list-runtimes][2]][2]\r\n\r\nHowever, in my program, the process (or `reader.readLine()`) always returns `null`. Is there a better way of doing this? \r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/core/install/how-to-detect-installed-versions?pivots=os-windows\r\n  [2]: https://i.stack.imgur.com/OVtvC.png","title":"How to determine from within Java if .NET Runtime is installed?","body":"<p>I have a large Java program that also executes other programs, and some of them runs on .NET 6. That's why, when the program loads, I want to check if .NET is installed so I can show the user an error message prompting them to download and install it.</p>\n<p>What I'm trying to do right now is to run the <code>dotnet --list-runtimes</code> command, following <a href=\"https://learn.microsoft.com/en-us/dotnet/core/install/how-to-detect-installed-versions?pivots=os-windows\" rel=\"nofollow noreferrer\">these Microsoft recommendations</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isNET6Installed() {\n    // Checking if .NET is installed using the dotnet command.\n    try {\n        Process process = Runtime.getRuntime().exec(&quot;cmd /c dotnet --list-runtimes&quot;);           \n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        \n        String dotnetRuntime = &quot;&quot;;\n        while ((dotnetRuntime = reader.readLine()) != null) {\n            String dotnetMajorVersion = dotnetRuntime.split(&quot;\\\\ &quot;)[1].split(&quot;\\\\.&quot;)[0];\n            if(Integer.parseInt(dotnetMajorVersion) &gt;= 6){\n                return true;\n            }\n        }                       \n    }catch(IOException e) {\n        Debug.debug(e);\n    }       \n    \n    return false;\n}\n</code></pre>\n<p>Running the same command from my terminal I get the following output:</p>\n<p><a href=\"https://i.stack.imgur.com/OVtvC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OVtvC.png\" alt=\"cmd /k dotnet --list-runtimes\" /></a></p>\n<p>However, in my program, the process (or <code>reader.readLine()</code>) always returns <code>null</code>. Is there a better way of doing this?</p>\n"},{"tags":["javascript","java","google-chrome","selenium-webdriver","google-chrome-headless"],"comments":[{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1687564056,"post_id":76523188,"comment_id":134959622,"body_markdown":"Can you share your Selenium code? How are you launching the URL? If you launch the same URL manually is it working? Whats the error you are getting in console? Please post most about it.","body":"Can you share your Selenium code? How are you launching the URL? If you launch the same URL manually is it working? Whats the error you are getting in console? Please post most about it."},{"owner":{"account_id":2273383,"reputation":307,"user_id":2000246,"accept_rate":55,"display_name":"zodac"},"score":0,"creation_date":1687989212,"post_id":76523188,"comment_id":135015518,"body_markdown":"@AhamedAbdulRahman, I have updated the post with my Selenium code. I can launch the URL in Chrome manually and can see that the content is being populated correctly. I am getting no errors in console, it just looks like Selenium doesn&#39;t recognise any of the content created by my JS scripts.","body":"@AhamedAbdulRahman, I have updated the post with my Selenium code. I can launch the URL in Chrome manually and can see that the content is being populated correctly. I am getting no errors in console, it just looks like Selenium doesn&#39;t recognise any of the content created by my JS scripts."},{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1688029663,"post_id":76523188,"comment_id":135019945,"body_markdown":"May I know why are you focusing on Headless mode? Did you try Headed mode? Did it worked?","body":"May I know why are you focusing on Headless mode? Did you try Headed mode? Did it worked?"},{"owner":{"account_id":2273383,"reputation":307,"user_id":2000246,"accept_rate":55,"display_name":"zodac"},"score":0,"creation_date":1688073923,"post_id":76523188,"comment_id":135028939,"body_markdown":"Headed mode meaning just not including the `--headless` option? Yes, I tried that first which had the same failing results. Unless there is some more explicit way of using headed mode? I&#39;m using the Selenium docker image (https://hub.docker.com/r/selenium/standalone-chrome), not sure if that makes a difference?","body":"Headed mode meaning just not including the <code>--headless</code> option? Yes, I tried that first which had the same failing results. Unless there is some more explicit way of using headed mode? I&#39;m using the Selenium docker image (<a href=\"https://hub.docker.com/r/selenium/standalone-chrome\" rel=\"nofollow noreferrer\">hub.docker.com/r/selenium/standalone-chrome</a>), not sure if that makes a difference?"},{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1688176034,"post_id":76523188,"comment_id":135043088,"body_markdown":"Did you try to launch the service locally and trigger the Selenium ChromeDriver script? Also please use driver.get() to launch the url instead of driver.navigate().to(). https://stackoverflow.com/questions/33865618/difference-between-webdriver-get-and-webdriver-navigate-to-in-the-case-of-ur/33868976#33868976","body":"Did you try to launch the service locally and trigger the Selenium ChromeDriver script? Also please use driver.get() to launch the url instead of driver.navigate().to(). <a href=\"https://stackoverflow.com/questions/33865618/difference-between-webdriver-get-and-webdriver-navigate-to-in-the-case-of-ur/33868976#33868976\" title=\"difference between webdriver get and webdriver navigate to in the case of ur\">stackoverflow.com/questions/33865618/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688075531,"creation_date":1687566603,"answer_id":76544118,"question_id":76523188,"body_markdown":"You need to take care of a couple of things as follows:\r\n\r\n- [The headless property is deprecated for quite sometime now](https://stackoverflow.com/a/75417151/7429447). Between Chrome versions 96 &amp; 108 it was `--headless=chrome` and Chrome version 109 onwards it&#39;s `--headless=new`\r\n\r\n&gt;Note: [What are the two headless modes?](https://www.selenium.dev/blog/2023/headless-is-going-away/#what-are-the-two-headless-modes)\r\n\r\n- _`--nogpu`_ and _`--disable-gpu`_ arguments have no more revelance in the modern day Chrome browser. So you can drop them.\r\n- Modern day browser clients won&#39;t function properly without Javascript and it&#39;s a mandatory requirement. So you need to drop _`--enable-javascript`_.\r\n- _`--no-sandbox`_ isn&#39;t required unless you are facing issues executing your test as a root/admin user of the system and can be dropped.\r\n- _`--disable-extensions`_ and _`disable-infobars`_ arguments have no more revalance. So you can drop them.\r\n\r\n\r\n----------\r\n\r\n\r\n[Network Service](https://chromium.googlesource.com/chromium/src/+/HEAD/services/network/README.md)\r\n---------------\r\nThere are some services for networking. Those are meant to be oblivious to Chrome&#39;s features.\r\n\r\n&gt; - this only contains features that go over the network. e.g. no file loading, data URLs etc...\r\n&gt; - only the lowest-level of networking should be here. e.g. http, sockets, web sockets. Anything that is built on top of this should be\r\n&gt; in higher layers.\r\n&gt; - higher level web platform and browser features should be built outside of this code. Safe browsing, Service Worker, extensions,\r\n&gt; devtools etc... should not have hooks here. The only exception is when\r\n&gt; it&#39;s impossible for these features to function without some hooks in\r\n&gt; the network service. In that case, we add the minimal code required.\r\n&gt; Some examples included traffic shaping for devtools, CORB blocking,\r\n&gt; and CORS.\r\n&gt; - every PostTask, thread hop and process hop (IPC) should be counted carefully as they introduce delays which could harm this performance\r\n&gt; critical code.\r\n&gt; - `NetworkContext` and `NetworkService` are trusted interfaces that aren&#39;t meant to be sent to the renderer. Only the browser should have\r\n&gt; access to them.\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\n_`NetworkService`_ and _`NetworkServiceInProcess`_ are two important configuration and you shouldn&#39;t disable them. So you need to remove the argument:\r\n\r\n\t&quot;--disable-features=NetworkService,NetworkServiceInProcess&quot;\r\n\t\r\nIncorporating the above suggestions execute your testcase, you should be good to go.\r\n\r\n\r\n----------\r\n\r\n\r\ntl; dr\r\n------\r\nSome useful documentations:\r\n\r\n- [Network Service in Chrome](https://docs.google.com/document/d/1wAHLw9h7gGuqJNCgG1mP1BmLtCGfZ2pys-PdZQ1vg7M/edit?pref=2&amp;pli=1#heading=h.7001qjw7yymp)\r\n- [Issue 598073: Content Modularization Project: Network Service](https://bugs.chromium.org/p/chromium/issues/detail?id=598073)\r\n\r\n\r\n----------\r\n\r\n\r\nUpdate\r\n------\r\nAs per your [comment](https://stackoverflow.com/questions/76523188/dynamic-js-content-not-loading-when-testing-with-selenium-and-google-chrome-head/76544118#comment135015444_76544118) update that you still cannot see any of the dynamic content being loaded even after inducing [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) can be due to one of the numerous reasons as below:\r\n\r\n- The browser is transferring the control to the WebDriver even before [`document.readyState` as **`complete`**](https://stackoverflow.com/a/60060481/7429447) is achieved. In that case you can add the following code block:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofMinutes(1L)).until(d -&gt; ((JavascriptExecutor)d).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n\t  \r\n- Additionally as the WebDriver is generally assumed to have a blocking API as it is an out-of-process library that instructs the browser what to do and the web platform having an intrinsically asynchronous nature, WebDriver does not track the active, real-time state of the DOM and most intermittent issues that arise from use of Selenium and WebDriver are connected to race conditions that occur between the browser and the user’s instructions. To be on the safer side you can add a method to ensure [**`return jQuery.active == 0`**](https://stackoverflow.com/a/50329056/7429447) as follows:\r\n\r\n\t  public void WaitForAjax2Complete() throws InterruptedException\r\n\t  {\r\n\t      while (true)\r\n\t      {\r\n\t          if ((Boolean) ((JavascriptExecutor)driver).executeScript(&quot;return jQuery.active == 0&quot;)){\r\n\t              break;\r\n\t          }\r\n\t          Thread.sleep(100);\r\n\t      }\r\n\t  }\r\n\r\n- You also need to ensure that if the desired elements are within any [**iframe**](https://stackoverflow.com/a/53276478/7429447)\r\n- Finaly, you also need to ensure that if the desired elements are within any [**#shadow-root**](https://stackoverflow.com/a/73242476/7429447)","title":"Dynamic JS content not loading when testing with Selenium and Google Chrome headless browser in Java","body":"<p>You need to take care of a couple of things as follows:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/75417151/7429447\">The headless property is deprecated for quite sometime now</a>. Between Chrome versions 96 &amp; 108 it was <code>--headless=chrome</code> and Chrome version 109 onwards it's <code>--headless=new</code></li>\n</ul>\n<blockquote>\n<p>Note: <a href=\"https://www.selenium.dev/blog/2023/headless-is-going-away/#what-are-the-two-headless-modes\" rel=\"nofollow noreferrer\">What are the two headless modes?</a></p>\n</blockquote>\n<ul>\n<li><em><code>--nogpu</code></em> and <em><code>--disable-gpu</code></em> arguments have no more revelance in the modern day Chrome browser. So you can drop them.</li>\n<li>Modern day browser clients won't function properly without Javascript and it's a mandatory requirement. So you need to drop <em><code>--enable-javascript</code></em>.</li>\n<li><em><code>--no-sandbox</code></em> isn't required unless you are facing issues executing your test as a root/admin user of the system and can be dropped.</li>\n<li><em><code>--disable-extensions</code></em> and <em><code>disable-infobars</code></em> arguments have no more revalance. So you can drop them.</li>\n</ul>\n<hr />\n<h2><a href=\"https://chromium.googlesource.com/chromium/src/+/HEAD/services/network/README.md\" rel=\"nofollow noreferrer\">Network Service</a></h2>\n<p>There are some services for networking. Those are meant to be oblivious to Chrome's features.</p>\n<blockquote>\n<ul>\n<li>this only contains features that go over the network. e.g. no file loading, data URLs etc...</li>\n<li>only the lowest-level of networking should be here. e.g. http, sockets, web sockets. Anything that is built on top of this should be\nin higher layers.</li>\n<li>higher level web platform and browser features should be built outside of this code. Safe browsing, Service Worker, extensions,\ndevtools etc... should not have hooks here. The only exception is when\nit's impossible for these features to function without some hooks in\nthe network service. In that case, we add the minimal code required.\nSome examples included traffic shaping for devtools, CORB blocking,\nand CORS.</li>\n<li>every PostTask, thread hop and process hop (IPC) should be counted carefully as they introduce delays which could harm this performance\ncritical code.</li>\n<li><code>NetworkContext</code> and <code>NetworkService</code> are trusted interfaces that aren't meant to be sent to the renderer. Only the browser should have\naccess to them.</li>\n</ul>\n</blockquote>\n<hr />\n<h2>This usecase</h2>\n<p><em><code>NetworkService</code></em> and <em><code>NetworkServiceInProcess</code></em> are two important configuration and you shouldn't disable them. So you need to remove the argument:</p>\n<pre><code>&quot;--disable-features=NetworkService,NetworkServiceInProcess&quot;\n</code></pre>\n<p>Incorporating the above suggestions execute your testcase, you should be good to go.</p>\n<hr />\n<h2>tl; dr</h2>\n<p>Some useful documentations:</p>\n<ul>\n<li><a href=\"https://docs.google.com/document/d/1wAHLw9h7gGuqJNCgG1mP1BmLtCGfZ2pys-PdZQ1vg7M/edit?pref=2&amp;pli=1#heading=h.7001qjw7yymp\" rel=\"nofollow noreferrer\">Network Service in Chrome</a></li>\n<li><a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=598073\" rel=\"nofollow noreferrer\">Issue 598073: Content Modularization Project: Network Service</a></li>\n</ul>\n<hr />\n<h2>Update</h2>\n<p>As per your <a href=\"https://stackoverflow.com/questions/76523188/dynamic-js-content-not-loading-when-testing-with-selenium-and-google-chrome-head/76544118#comment135015444_76544118\">comment</a> update that you still cannot see any of the dynamic content being loaded even after inducing <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> can be due to one of the numerous reasons as below:</p>\n<ul>\n<li><p>The browser is transferring the control to the WebDriver even before <a href=\"https://stackoverflow.com/a/60060481/7429447\"><code>document.readyState</code> as <strong><code>complete</code></strong></a> is achieved. In that case you can add the following code block:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofMinutes(1L)).until(d -&gt; ((JavascriptExecutor)d).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\n</code></pre>\n</li>\n<li><p>Additionally as the WebDriver is generally assumed to have a blocking API as it is an out-of-process library that instructs the browser what to do and the web platform having an intrinsically asynchronous nature, WebDriver does not track the active, real-time state of the DOM and most intermittent issues that arise from use of Selenium and WebDriver are connected to race conditions that occur between the browser and the user’s instructions. To be on the safer side you can add a method to ensure <a href=\"https://stackoverflow.com/a/50329056/7429447\"><strong><code>return jQuery.active == 0</code></strong></a> as follows:</p>\n<pre><code>public void WaitForAjax2Complete() throws InterruptedException\n{\n    while (true)\n    {\n        if ((Boolean) ((JavascriptExecutor)driver).executeScript(&quot;return jQuery.active == 0&quot;)){\n            break;\n        }\n        Thread.sleep(100);\n    }\n}\n</code></pre>\n</li>\n<li><p>You also need to ensure that if the desired elements are within any <a href=\"https://stackoverflow.com/a/53276478/7429447\"><strong>iframe</strong></a></p>\n</li>\n<li><p>Finaly, you also need to ensure that if the desired elements are within any <a href=\"https://stackoverflow.com/a/73242476/7429447\"><strong>#shadow-root</strong></a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9494775,"reputation":11187,"user_id":7058266,"display_name":"Michael Mintz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687983543,"creation_date":1687983543,"answer_id":76576478,"question_id":76523188,"body_markdown":"In your example code, you had \r\n\r\n```python\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;div_1_content&quot;)));\r\n```\r\n\r\n...which used `By.id(&quot;div_1_content&quot;)`, but there was no `id` with that value in your html:\r\n\r\n```html\r\n&lt;div id=&quot;main&quot;&gt;\r\n    &lt;div id=&quot;div_1&quot;&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;div_2&quot;&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;div_3&quot;&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;div_4&quot;&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n**So instead of using `div_1_content` as the `id`, use `div_1`.** Otherwise your element won&#39;t be found.\r\n\r\n--------\r\n\r\nAlso, use ``--headless=new`` instead of ``--headless`` (https://stackoverflow.com/a/73840130/7058266), so that headless mode loads just like regular Chrome.\r\n\r\nRegarding ``document.addEventListener(&quot;DOMContentLoaded&quot;, function(event)`` - https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event\r\n\r\n&gt; The DOMContentLoaded event fires when the HTML document has been completely parsed, and all deferred scripts (&lt;script defer src=&quot;…&quot;&gt; and &lt;script type=&quot;module&quot;&gt;) have downloaded and executed. It doesn&#39;t wait for other things like images, subframes, and async scripts to finish loading... DOMContentLoaded does not wait for stylesheets to load... A different event, `load`, should be used only to detect a fully-loaded page.\r\n\r\nWhich means there&#39;s a possibility of the event listener firing before you want it to, unless you use this instead: ``addEventListener(&quot;load&quot;, (event) =&gt; {});``\r\n\r\n--------\r\n\r\nBut changing the `id` from `div_1_content` to `div_1` might be enough to solve your issue.\r\n","title":"Dynamic JS content not loading when testing with Selenium and Google Chrome headless browser in Java","body":"<p>In your example code, you had</p>\n<pre class=\"lang-py prettyprint-override\"><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;div_1_content&quot;)));\n</code></pre>\n<p>...which used <code>By.id(&quot;div_1_content&quot;)</code>, but there was no <code>id</code> with that value in your html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=&quot;main&quot;&gt;\n    &lt;div id=&quot;div_1&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;div_2&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;div_3&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;div_4&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><strong>So instead of using <code>div_1_content</code> as the <code>id</code>, use <code>div_1</code>.</strong> Otherwise your element won't be found.</p>\n<hr />\n<p>Also, use <code>--headless=new</code> instead of <code>--headless</code> (<a href=\"https://stackoverflow.com/a/73840130/7058266\">https://stackoverflow.com/a/73840130/7058266</a>), so that headless mode loads just like regular Chrome.</p>\n<p>Regarding <code>document.addEventListener(&quot;DOMContentLoaded&quot;, function(event)</code> - <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event</a></p>\n<blockquote>\n<p>The DOMContentLoaded event fires when the HTML document has been completely parsed, and all deferred scripts ( and ) have downloaded and executed. It doesn't wait for other things like images, subframes, and async scripts to finish loading... DOMContentLoaded does not wait for stylesheets to load... A different event, <code>load</code>, should be used only to detect a fully-loaded page.</p>\n</blockquote>\n<p>Which means there's a possibility of the event listener firing before you want it to, unless you use this instead: <code>addEventListener(&quot;load&quot;, (event) =&gt; {});</code></p>\n<hr />\n<p>But changing the <code>id</code> from <code>div_1_content</code> to <code>div_1</code> might be enough to solve your issue.</p>\n"}],"owner":{"account_id":2273383,"reputation":307,"user_id":2000246,"accept_rate":55,"display_name":"zodac"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688075531,"creation_date":1687349750,"question_id":76523188,"body_markdown":"I&#39;m trying to test a website I made as part of a Spring Boot project, and I&#39;m using Selenium. I&#39;m able to test basic stuff like loading the page and the title, but I&#39;m struggling with the actual content of the page.\r\n\r\nMy page has the following section:\r\n```\r\n&lt;div id=&quot;main&quot;&gt;\r\n    &lt;div id=&quot;div_1&quot;&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;div_2&quot;&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;div_3&quot;&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;div_4&quot;&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nThe content is loaded from a JS script:\r\n\r\n```\r\ndocument.addEventListener(&quot;DOMContentLoaded&quot;, function(event) {\r\n    populateDivs()\r\n})\r\n```\r\n\r\n\r\nI&#39;m initialising the WebDriver with the following options gathered from similar questions (other Selenium tests continue passing, so I don&#39;t think the options are conflicting):\r\n```\r\nfinal ChromeOptions options = new ChromeOptions();\r\noptions.addArguments(\r\n    &quot;--headless&quot;,\r\n    &quot;--nogpu&quot;,\r\n    &quot;--disable-gpu&quot;,\r\n    &quot;--enable-javascript&quot;,\r\n    &quot;--no-sandbox&quot;,\r\n    &quot;--disable-extensions&quot;,\r\n    &quot;--disable-blink-features=AutomationControlled&quot;,\r\n    &quot;--disable-features=NetworkService,NetworkServiceInProcess&quot;,\r\n     &quot;start-maximized&quot;,\r\n     &quot;disable-infobars&quot;\r\n);\r\n```\r\n\r\nI&#39;ve also added a wait in my test case to give time for the content to load:\r\n```\r\nfinal WebDriverWait wait = new WebDriverWait(driver, Duration.ofMinutes(1L));\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;div_1_content&quot;)));\r\n```\r\n\r\nNothing I try changes the fact that the no content is loaded even after waiting. Not really sure where to go from here - am I using Selenium incorrectly? Or should I load my content in a different way on the JS side?\r\n\r\n---\r\n\r\nFor a little more context, here is how I am loading the page in Selenium:\r\n\r\n```\r\n// Create driver\r\nfinal ChromeOptions options = new ChromeOptions();\r\noptions.setAcceptInsecureCerts(true);\r\noptions.addArguments(&quot;--headless=new&quot;);\r\n\r\nfinal URL url = new URL(http://127.0.0.1:4444/wd/hub);\r\nfinal RemoteWebDriver driver= new RemoteWebDriver(url, options);\r\n\r\n\r\n// Load page\r\ndriver.navigate().to(&quot;https://127.0.0.1:81&quot;);\r\n\r\n\r\n// Wait for dynamic content to load\r\nfinal WebDriverWait wait = new WebDriverWait(driver, Duration.ofMinutes(1L));            wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;div_1_content&quot;)));\r\n```","title":"Dynamic JS content not loading when testing with Selenium and Google Chrome headless browser in Java","body":"<p>I'm trying to test a website I made as part of a Spring Boot project, and I'm using Selenium. I'm able to test basic stuff like loading the page and the title, but I'm struggling with the actual content of the page.</p>\n<p>My page has the following section:</p>\n<pre><code>&lt;div id=&quot;main&quot;&gt;\n    &lt;div id=&quot;div_1&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;div_2&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;div_3&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;div_4&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The content is loaded from a JS script:</p>\n<pre><code>document.addEventListener(&quot;DOMContentLoaded&quot;, function(event) {\n    populateDivs()\n})\n</code></pre>\n<p>I'm initialising the WebDriver with the following options gathered from similar questions (other Selenium tests continue passing, so I don't think the options are conflicting):</p>\n<pre><code>final ChromeOptions options = new ChromeOptions();\noptions.addArguments(\n    &quot;--headless&quot;,\n    &quot;--nogpu&quot;,\n    &quot;--disable-gpu&quot;,\n    &quot;--enable-javascript&quot;,\n    &quot;--no-sandbox&quot;,\n    &quot;--disable-extensions&quot;,\n    &quot;--disable-blink-features=AutomationControlled&quot;,\n    &quot;--disable-features=NetworkService,NetworkServiceInProcess&quot;,\n     &quot;start-maximized&quot;,\n     &quot;disable-infobars&quot;\n);\n</code></pre>\n<p>I've also added a wait in my test case to give time for the content to load:</p>\n<pre><code>final WebDriverWait wait = new WebDriverWait(driver, Duration.ofMinutes(1L));\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;div_1_content&quot;)));\n</code></pre>\n<p>Nothing I try changes the fact that the no content is loaded even after waiting. Not really sure where to go from here - am I using Selenium incorrectly? Or should I load my content in a different way on the JS side?</p>\n<hr />\n<p>For a little more context, here is how I am loading the page in Selenium:</p>\n<pre><code>// Create driver\nfinal ChromeOptions options = new ChromeOptions();\noptions.setAcceptInsecureCerts(true);\noptions.addArguments(&quot;--headless=new&quot;);\n\nfinal URL url = new URL(http://127.0.0.1:4444/wd/hub);\nfinal RemoteWebDriver driver= new RemoteWebDriver(url, options);\n\n\n// Load page\ndriver.navigate().to(&quot;https://127.0.0.1:81&quot;);\n\n\n// Wait for dynamic content to load\nfinal WebDriverWait wait = new WebDriverWait(driver, Duration.ofMinutes(1L));            wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;div_1_content&quot;)));\n</code></pre>\n"},{"tags":["java","http","server","tcp"],"owner":{"account_id":7251960,"reputation":1,"user_id":5531897,"display_name":"programmer1984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688075485,"creation_date":1688075485,"question_id":76584804,"body_markdown":"I need to set a hard limit on how long my application will wait for a response from a server. Read timeout doesn&#39;t accomplish this because it&#39;s a timeout for when the last data was sent. Servers that send just a little bit data frequently have taken 1-5 seconds to load files.\r\n\r\n```java\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\r\nconn.setConnectTimeout(300); // Max amount of time to establish a connection\r\nconn.setReadTimeout(700); // Max amount of time between data\r\n\r\nReader responseReader = new InputStreamReader(conn.getInputStream());\r\nchar[] buffer = new char[1024];\r\nStringBuilder body = new StringBuilder();\r\n\r\n// Loop until 0 characters are read\r\nfor(int numRead; (numRead = responseReader.read(buffer)) &gt; 0;) {\r\n    body.append(buffer, 0, numRead); // Append any chars that were read. Use &quot;numRead&quot; to only add characters read from the input stream\r\n}\r\n\r\nreturn body.toString();\r\n```\r\n\r\nI tried creating a variable which tracked the start time of reading the body, then compared the current time to it upon receiving any data. While this worked in preventing the program from reading the request body for a long time, it did nothing for the headers. It also seems clunky.","title":"Prevent HTTP connection from staying open for slow servers","body":"<p>I need to set a hard limit on how long my application will wait for a response from a server. Read timeout doesn't accomplish this because it's a timeout for when the last data was sent. Servers that send just a little bit data frequently have taken 1-5 seconds to load files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n\nconn.setConnectTimeout(300); // Max amount of time to establish a connection\nconn.setReadTimeout(700); // Max amount of time between data\n\nReader responseReader = new InputStreamReader(conn.getInputStream());\nchar[] buffer = new char[1024];\nStringBuilder body = new StringBuilder();\n\n// Loop until 0 characters are read\nfor(int numRead; (numRead = responseReader.read(buffer)) &gt; 0;) {\n    body.append(buffer, 0, numRead); // Append any chars that were read. Use &quot;numRead&quot; to only add characters read from the input stream\n}\n\nreturn body.toString();\n</code></pre>\n<p>I tried creating a variable which tracked the start time of reading the body, then compared the current time to it upon receiving any data. While this worked in preventing the program from reading the request body for a long time, it did nothing for the headers. It also seems clunky.</p>\n"},{"tags":["java","spring","spring-boot","junit","gson"],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506372622,"creation_date":1506372622,"answer_id":46413964,"question_id":46409532,"body_markdown":"Are you sure you are not getting a `404` instead? I recreated your project here https://github.com/Flaw101/gsonconverter and verified it was working except with your setup it&#39;s a `404` because of capitalization in the `path` param which is not in the test. \r\n\r\n      mvc.perform(patch(&quot;/mypath&quot;).contentType(MediaType.APPLICATION_JSON)\r\n                .content(gson.toJson(locale))).andExpect(status().isOk());\r\n\r\nshould be\r\n\r\n      mvc.perform(patch(&quot;/myPath&quot;).contentType(MediaType.APPLICATION_JSON)\r\n                .content(gson.toJson(locale))).andExpect(status().isOk());","title":"Spring boot MockMVC test not using custom gson type mapper for deserialization","body":"<p>Are you sure you are not getting a <code>404</code> instead? I recreated your project here <a href=\"https://github.com/Flaw101/gsonconverter\" rel=\"nofollow noreferrer\">https://github.com/Flaw101/gsonconverter</a> and verified it was working except with your setup it's a <code>404</code> because of capitalization in the <code>path</code> param which is not in the test. </p>\n\n<pre><code>  mvc.perform(patch(\"/mypath\").contentType(MediaType.APPLICATION_JSON)\n            .content(gson.toJson(locale))).andExpect(status().isOk());\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>  mvc.perform(patch(\"/myPath\").contentType(MediaType.APPLICATION_JSON)\n            .content(gson.toJson(locale))).andExpect(status().isOk());\n</code></pre>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688075387,"creation_date":1506355387,"question_id":46409532,"body_markdown":"I have the following type mapper:\r\n\r\n\r\n    public class LocaleTwoWaySerializer implements JsonSerializer&lt;Locale&gt;, JsonDeserializer&lt;Locale&gt; {\r\n    \t@Override\r\n    \tpublic JsonElement serialize(final Locale src, final Type typeOfSrc, final JsonSerializationContext context) {\r\n    \t\treturn src == null ? JsonNull.INSTANCE : new JsonPrimitive(src.getLanguage());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Locale deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context) throws JsonParseException {\r\n    \t\treturn json == null || JsonNull.INSTANCE.equals(json) ? null : new Locale(json.getAsString());\r\n    \t}\r\n    }\r\n\r\n\r\nMy GsonConfig: \r\n\r\n\r\n    @Configuration\r\n    public class GsonConfig {\r\n    \r\n    \tprivate static Gson GSON = generateStaticBuilder().create();\r\n    \r\n    \r\n    \tprivate static GsonBuilder generateStaticBuilder() {\r\n    \t\treturn new GsonBuilder()\r\n    \t\t\t\t\t\t\t\t\t.registerTypeAdapter(Locale.class, new LocaleTwoWaySerializer())\r\n    \t\t\t\t\t\t\t\t\t.enableComplexMapKeySerialization()\r\n    \t\t\t\t\t\t\t\t\t.setPrettyPrinting()\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic Gson getGsonInstance() {\r\n    \t\treturn GSON;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n\r\nMy Web Config:\r\n\r\n\r\n    @Configuration\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \r\n    @Bean\r\n        @ConditionalOnMissingBean\r\n        @Autowired\r\n        public GsonHttpMessageConverter gsonHttpMessageConverter(final Gson gson) {\r\n            GsonHttpMessageConverter converter = new GsonHttpMessageConverter();\r\n            converter.setGson(gson);\r\n            return converter;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMy Test:\r\n\r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.MOCK    )\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @AutoConfigureMockMvc\r\n    public class MyTestClassIT {\r\n    \r\n    \r\n    \t@Autowired\r\n    \tprivate MockMvc mvc;\r\n    \r\n        @Autowired\r\n    \tprivate Gson gson;\r\n    \r\n        @Test\r\n        public void updateLocale() throws Exception {\r\n            Locale locale = Locale.ITALIAN;\r\n            mvc.perform(patch(&quot;/mypath&quot;).contentType(MediaType.APPLICATION_JSON)\r\n                    .content(gson.toJson(locale))).andExpect(status().isOk());\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe api i am testing has this signature:\r\n\r\n    @PatchMapping(path = &quot;myPath&quot;)\r\n    \tpublic ResponseEntity&lt;Void&gt; updateLocale(@RequestBody Locale preferredLocale)\r\n\r\n\r\n\r\nI have placed breakpoints and can verify that my GsonHttpMessageConverter is being constructed, and serialization in my test using the autowired GSON instance directly works fine (using my typeAdapter) \r\nhowever I am getting a 400 bad request,  As the type adapter is not used to deserialize.\r\n\r\nWhat is missing please?","title":"Spring boot MockMVC test not using custom gson type mapper for deserialization","body":"<p>I have the following type mapper:</p>\n\n<pre><code>public class LocaleTwoWaySerializer implements JsonSerializer&lt;Locale&gt;, JsonDeserializer&lt;Locale&gt; {\n    @Override\n    public JsonElement serialize(final Locale src, final Type typeOfSrc, final JsonSerializationContext context) {\n        return src == null ? JsonNull.INSTANCE : new JsonPrimitive(src.getLanguage());\n    }\n\n    @Override\n    public Locale deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context) throws JsonParseException {\n        return json == null || JsonNull.INSTANCE.equals(json) ? null : new Locale(json.getAsString());\n    }\n}\n</code></pre>\n\n<p>My GsonConfig: </p>\n\n<pre><code>@Configuration\npublic class GsonConfig {\n\n    private static Gson GSON = generateStaticBuilder().create();\n\n\n    private static GsonBuilder generateStaticBuilder() {\n        return new GsonBuilder()\n                                    .registerTypeAdapter(Locale.class, new LocaleTwoWaySerializer())\n                                    .enableComplexMapKeySerialization()\n                                    .setPrettyPrinting()\n    }\n\n\n    @Bean\n    public Gson getGsonInstance() {\n        return GSON;\n    }\n\n\n}\n</code></pre>\n\n<p>My Web Config:</p>\n\n<pre><code>@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n@Bean\n    @ConditionalOnMissingBean\n    @Autowired\n    public GsonHttpMessageConverter gsonHttpMessageConverter(final Gson gson) {\n        GsonHttpMessageConverter converter = new GsonHttpMessageConverter();\n        converter.setGson(gson);\n        return converter;\n    }\n\n}\n</code></pre>\n\n<p>My Test:</p>\n\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.MOCK    )\n@RunWith(SpringJUnit4ClassRunner.class)\n@AutoConfigureMockMvc\npublic class MyTestClassIT {\n\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    private Gson gson;\n\n    @Test\n    public void updateLocale() throws Exception {\n        Locale locale = Locale.ITALIAN;\n        mvc.perform(patch(\"/mypath\").contentType(MediaType.APPLICATION_JSON)\n                .content(gson.toJson(locale))).andExpect(status().isOk());\n    }\n\n}\n</code></pre>\n\n<p>The api i am testing has this signature:</p>\n\n<pre><code>@PatchMapping(path = \"myPath\")\n    public ResponseEntity&lt;Void&gt; updateLocale(@RequestBody Locale preferredLocale)\n</code></pre>\n\n<p>I have placed breakpoints and can verify that my GsonHttpMessageConverter is being constructed, and serialization in my test using the autowired GSON instance directly works fine (using my typeAdapter) \nhowever I am getting a 400 bad request,  As the type adapter is not used to deserialize.</p>\n\n<p>What is missing please?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mockmvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1552016227,"post_id":55056013,"comment_id":96861748,"body_markdown":"If you&#39;re using Boot, it&#39;s usually better to autowire your MockMvc, which ensures that you get a configuration that closely matches your real runtime.","body":"If you&#39;re using Boot, it&#39;s usually better to autowire your MockMvc, which ensures that you get a configuration that closely matches your real runtime."},{"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"score":0,"creation_date":1552016455,"post_id":55056013,"comment_id":96861805,"body_markdown":"@chrylis I am using boot, however autowiring doesn&#39;t work either.","body":"@chrylis I am using boot, however autowiring doesn&#39;t work either."}],"answers":[{"tags":[],"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1552026505,"creation_date":1552026165,"answer_id":55057785,"question_id":55056013,"body_markdown":"&gt; **@AutoConfigureMockMvc** Annotation that can be applied to a test class to enable and configure auto-configuration of MockMvc.\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class DemoApplicationTests {\r\n\t\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\r\n\t@Test\r\n\tpublic void contextLoads() {\t\t\r\n\t\tSystem.out.println(&quot;test &quot;+mockMvc);\r\n\t}\r\n}\r\n```\r\nNote: I applied custom RequestMappingHandlerMapping, it is getting applied with MockMvc autoconfiguration successfully.","title":"Spring Testing Mock MVC doesn&#39;t apply custom RequestMappingHandlerMapping","body":"<blockquote>\n  <p><strong>@AutoConfigureMockMvc</strong> Annotation that can be applied to a test class to enable and configure auto-configuration of MockMvc.</p>\n</blockquote>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class DemoApplicationTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void contextLoads() {        \n        System.out.println(\"test \"+mockMvc);\n    }\n}\n</code></pre>\n\n<p>Note: I applied custom RequestMappingHandlerMapping, it is getting applied with MockMvc autoconfiguration successfully.</p>\n"},{"tags":[],"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688075257,"creation_date":1688075257,"answer_id":76584785,"question_id":55056013,"body_markdown":"You can import any custom configuration class in the spring test using \r\n\r\n    @Import(value = YourCofigClassName.class)","title":"Spring Testing Mock MVC doesn&#39;t apply custom RequestMappingHandlerMapping","body":"<p>You can import any custom configuration class in the spring test using</p>\n<pre><code>@Import(value = YourCofigClassName.class)\n</code></pre>\n"}],"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55057785,"answer_count":2,"score":2,"last_activity_date":1688075257,"creation_date":1552013274,"question_id":55056013,"body_markdown":"I have created a Custom annotation to version my APIs.\r\n\r\nEverything works when running the application.\r\n\r\nHowever when I try to test my controllers using `MockMvc`, the custom `RequestMappingHandlerMapping` I wrote isn&#39;t being applied.\r\n\r\nI&#39;m initializing `MockMvc` like this\r\n\r\n        @Before\r\n        public void setup() {\r\n            mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(webApplicationContext)\r\n                .apply(documentationConfiguration(this.restDocumentation))\r\n                .apply(springSecurity())\r\n                .build();\r\n        }\r\n\r\nI override the defaults to use my custom `RequestMappingHandlerMapping` like this\r\n\r\n    @Configuration\r\n    public class RoutingConfig {\r\n        @Bean\r\n        public WebMvcRegistrations webMvcRegistrationsPathHandlerMapping() {\r\n            return new WebMvcRegistrations() {\r\n                @Override\r\n                public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\r\n                    return new APIPathRequestHandlerMapping();\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nAny idea what&#39;s going on? I thought the web application context initialization of the `MockMvc` would pick up all the configuration changes by default.\r\n\r\nEDIT 1:\r\n\r\nI should also add that I&#39;m using Spring Boot 2.1.2.RELEASE\r\n\r\nEDIT 2:\r\nTo clarify, the versioning annotation when applied to a controller accepts request that starts with the version, i.e: `/users` becomes `/v1/users`\r\n\r\nThis works with normal requests are coming up, but for tests only `/users` work, `/v1/users` returns a 404 (Not found)\r\n\r\nI&#39;ve placed debug points in the configs and the custom `RequestMappingHandlerMapping` and am sure that this is not being picked up by `MockMvc`.\r\n\r\nI&#39;ve tried to autowire MockMvc, but the same behaviour persists, with the additional issue of not being able to configure Spring RestDocs.","title":"Spring Testing Mock MVC doesn&#39;t apply custom RequestMappingHandlerMapping","body":"<p>I have created a Custom annotation to version my APIs.</p>\n\n<p>Everything works when running the application.</p>\n\n<p>However when I try to test my controllers using <code>MockMvc</code>, the custom <code>RequestMappingHandlerMapping</code> I wrote isn't being applied.</p>\n\n<p>I'm initializing <code>MockMvc</code> like this</p>\n\n<pre><code>    @Before\n    public void setup() {\n        mockMvc = MockMvcBuilders\n            .webAppContextSetup(webApplicationContext)\n            .apply(documentationConfiguration(this.restDocumentation))\n            .apply(springSecurity())\n            .build();\n    }\n</code></pre>\n\n<p>I override the defaults to use my custom <code>RequestMappingHandlerMapping</code> like this</p>\n\n<pre><code>@Configuration\npublic class RoutingConfig {\n    @Bean\n    public WebMvcRegistrations webMvcRegistrationsPathHandlerMapping() {\n        return new WebMvcRegistrations() {\n            @Override\n            public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\n                return new APIPathRequestHandlerMapping();\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Any idea what's going on? I thought the web application context initialization of the <code>MockMvc</code> would pick up all the configuration changes by default.</p>\n\n<p>EDIT 1:</p>\n\n<p>I should also add that I'm using Spring Boot 2.1.2.RELEASE</p>\n\n<p>EDIT 2:\nTo clarify, the versioning annotation when applied to a controller accepts request that starts with the version, i.e: <code>/users</code> becomes <code>/v1/users</code></p>\n\n<p>This works with normal requests are coming up, but for tests only <code>/users</code> work, <code>/v1/users</code> returns a 404 (Not found)</p>\n\n<p>I've placed debug points in the configs and the custom <code>RequestMappingHandlerMapping</code> and am sure that this is not being picked up by <code>MockMvc</code>.</p>\n\n<p>I've tried to autowire MockMvc, but the same behaviour persists, with the additional issue of not being able to configure Spring RestDocs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687904976,"post_id":76568994,"comment_id":135001894,"body_markdown":"Please add the full stack trace of the exception to your question.","body":"Please add the full stack trace of the exception to your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687905043,"post_id":76568994,"comment_id":135001901,"body_markdown":"But stepping through your program wityh the debugger will help. And think about `val`. When can it become true?","body":"But stepping through your program wityh the debugger will help. And think about <code>val</code>. When can it become true?"},{"owner":{"account_id":23301841,"reputation":3,"user_id":17382362,"display_name":"Romy Cat"},"score":0,"creation_date":1687905119,"post_id":76568994,"comment_id":135001908,"body_markdown":"The full exception is: Exception in thread &quot;main&quot; java.util.NoSuchElementException\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n\tat Inputkey.main(Inputkey.java:18)","body":"The full exception is: Exception in thread &quot;main&quot; java.util.NoSuchElementException \tat java.base/java.util.Scanner.throwFor(Scanner.java:937) \tat java.base/java.util.Scanner.next(Scanner.java:1594) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212) \tat Inputkey.main(Inputkey.java:18)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687909344,"post_id":76568994,"comment_id":135002327,"body_markdown":"Note for future: Please put stack traces in the question itself, as text, formatted in a code block; if you&#39;ve already posted the question, then you can update it via an [edit].","body":"Note for future: Please put stack traces in the question itself, as text, formatted in a code block; if you&#39;ve already posted the question, then you can update it via an <a href=\"https://stackoverflow.com/posts/76568994/edit\">edit</a>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1687923484,"post_id":76568994,"comment_id":135003388,"body_markdown":"There is no [tag:multithreading] here. Don&#39;t tag indiscriminately. But there is a [tag:java.util.scanner].","body":"There is no <a href=\"https://stackoverflow.com/questions/tagged/multithreading\">multithreading</a> here. Don&#39;t tag indiscriminately. But there is a <a href=\"https://stackoverflow.com/questions/tagged/java.util.scanner\">java.util.scanner</a>."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687905152,"creation_date":1687905152,"answer_id":76569022,"question_id":76568994,"body_markdown":"You never update `val` in your loop. Worse, once you read `End` you still try and read an `int` regardless. I would eliminate `val` and use an infinite loop. Break when you read `End`. Something like,\r\n\r\n    while (true) {\r\n        String input = scnr.next();\r\n        if (&quot;End&quot;.equals(input)) {\r\n             break;\r\n        }\r\n        int num = scnr.nextInt();            \r\n        if (num &lt; 25) {\r\n            System.out.println(input + &quot;: low on stock&quot;);\r\n        } else {\r\n            System.out.println(input + &quot;: well stocked&quot;);\r\n        }\r\n    }\r\n      ","title":"Java fixing a &quot;exception in thread &#39;main&#39; java.util.NoSuchelementException&quot;","body":"<p>You never update <code>val</code> in your loop. Worse, once you read <code>End</code> you still try and read an <code>int</code> regardless. I would eliminate <code>val</code> and use an infinite loop. Break when you read <code>End</code>. Something like,</p>\n<pre><code>while (true) {\n    String input = scnr.next();\n    if (&quot;End&quot;.equals(input)) {\n         break;\n    }\n    int num = scnr.nextInt();            \n    if (num &lt; 25) {\n        System.out.println(input + &quot;: low on stock&quot;);\n    } else {\n        System.out.println(input + &quot;: well stocked&quot;);\n    }\n}\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11120981,"reputation":267,"user_id":8163815,"display_name":"yab"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687918002,"creation_date":1687918002,"answer_id":76569616,"question_id":76568994,"body_markdown":"base on your code, you should make some changes, like:\r\n\r\n&gt;     import java.util.Scanner;\r\n&gt;     \r\n&gt;     public class Inputkey {\r\n&gt;        public static void main(String[] args) {\r\n&gt;           Scanner scnr = new Scanner(System.in);\r\n&gt;     \r\n&gt;           String input = scnr.next();\r\n&gt;           int num = scnr.nextInt();\r\n&gt;           String find = &quot;End&quot;;\r\n&gt;           boolean val = input.contains(find);\r\n&gt;       \r\n&gt;           while (!val){\r\n&gt;              if (num &lt; 25) {\r\n&gt;                 System.out.println (input + &quot;: low on stock&quot;);\r\n&gt;              }\r\n&gt;              else {\r\n&gt;                 System.out.println(input + &quot;: well stocked&quot;);\r\n&gt;              }\r\n&gt;              input = scnr.next();\r\n&gt;              val = input.contains(find);\r\n&gt;              if(val){\r\n&gt;                  break;\r\n&gt;              }\r\n&gt;              num = scnr.nextInt();\r\n&gt;           }\r\n&gt;        }\r\n&gt;     }\r\n\r\nbut this structure is not so good.\r\nI suggest you can change to Elliott Frisch ones.","title":"Java fixing a &quot;exception in thread &#39;main&#39; java.util.NoSuchelementException&quot;","body":"<p>base on your code, you should make some changes, like:</p>\n<blockquote>\n<pre><code>import java.util.Scanner;\n\npublic class Inputkey {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n\n      String input = scnr.next();\n      int num = scnr.nextInt();\n      String find = &quot;End&quot;;\n      boolean val = input.contains(find);\n  \n      while (!val){\n         if (num &lt; 25) {\n            System.out.println (input + &quot;: low on stock&quot;);\n         }\n         else {\n            System.out.println(input + &quot;: well stocked&quot;);\n         }\n         input = scnr.next();\n         val = input.contains(find);\n         if(val){\n             break;\n         }\n         num = scnr.nextInt();\n      }\n   }\n}\n</code></pre>\n</blockquote>\n<p>but this structure is not so good.\nI suggest you can change to Elliott Frisch ones.</p>\n"}],"owner":{"account_id":23301841,"reputation":3,"user_id":17382362,"display_name":"Romy Cat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":76569022,"answer_count":2,"score":-4,"last_activity_date":1688074738,"creation_date":1687904513,"question_id":76568994,"body_markdown":"I&#39;m new to Java. Working on classwork. I can get the right answer to the following problem, yet its still marked wrong by the textbook and says I have &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException&quot;. I&#39;ve tried all sorts of things to fix the error, but I only make things worst.\r\n\r\n**Question:**\r\n\r\nRead string integer value pairs from input until &quot;End&quot; is read. For each string read:\r\n\r\nIf the following integer read is less than 25, output the string followed by &quot;: low on stock&quot;.\r\nOtherwise, output the string followed by &quot;: well stocked&quot;.\r\nEnd each output with a newline.\r\n\r\nEx: If the input is Bookcase 30 Hammock 2 Bed 5 End, then the output is:\r\n\r\nBookcase: well stocked\r\nHammock: low on stock\r\nBed: low on stock\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Inputkey {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n\r\n          String input;\r\n          input = scnr.next();\r\n          int num;\r\n          num = scnr.nextInt();\r\n          String find = &quot;End&quot;;\r\n          boolean val = input.contains(find);\r\n      \r\n          while (!val){\r\n             if (num &lt; 25) {\r\n                System.out.println (input + &quot;: low on stock&quot;);\r\n                input = scnr.next();\r\n                num = scnr.nextInt();\r\n             }\r\n             else {\r\n                System.out.println(input + &quot;: well stocked&quot;);\r\n                input = scnr.next();\r\n                num = scnr.nextInt();            \r\n             }\r\n         \r\n          }\r\n          \r\n\r\n       }\r\n    }","title":"Java fixing a &quot;exception in thread &#39;main&#39; java.util.NoSuchelementException&quot;","body":"<p>I'm new to Java. Working on classwork. I can get the right answer to the following problem, yet its still marked wrong by the textbook and says I have &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException&quot;. I've tried all sorts of things to fix the error, but I only make things worst.</p>\n<p><strong>Question:</strong></p>\n<p>Read string integer value pairs from input until &quot;End&quot; is read. For each string read:</p>\n<p>If the following integer read is less than 25, output the string followed by &quot;: low on stock&quot;.\nOtherwise, output the string followed by &quot;: well stocked&quot;.\nEnd each output with a newline.</p>\n<p>Ex: If the input is Bookcase 30 Hammock 2 Bed 5 End, then the output is:</p>\n<p>Bookcase: well stocked\nHammock: low on stock\nBed: low on stock</p>\n<pre><code>import java.util.Scanner;\n\npublic class Inputkey {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n\n      String input;\n      input = scnr.next();\n      int num;\n      num = scnr.nextInt();\n      String find = &quot;End&quot;;\n      boolean val = input.contains(find);\n  \n      while (!val){\n         if (num &lt; 25) {\n            System.out.println (input + &quot;: low on stock&quot;);\n            input = scnr.next();\n            num = scnr.nextInt();\n         }\n         else {\n            System.out.println(input + &quot;: well stocked&quot;);\n            input = scnr.next();\n            num = scnr.nextInt();            \n         }\n     \n      }\n      \n\n   }\n}\n</code></pre>\n"},{"tags":["java","jar","uberjar"],"comments":[{"owner":{"account_id":77836,"reputation":1493,"user_id":221897,"accept_rate":100,"display_name":"nishu"},"score":0,"creation_date":1380774893,"post_id":19150811,"comment_id":28327311,"body_markdown":"when you want to ship your product as jar you normally want to put classes in all dependent jars into one single big jar file.","body":"when you want to ship your product as jar you normally want to put classes in all dependent jars into one single big jar file."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1380782879,"post_id":19150811,"comment_id":28329841,"body_markdown":"@Nadeem_MK http://meta.stackexchange.com/questions/5280/embrace-the-non-googlers http://meta.stackexchange.com/questions/8724/how-should-we-deal-with-google-questions","body":"@Nadeem_MK <a href=\"http://meta.stackexchange.com/questions/5280/embrace-the-non-googlers\" title=\"embrace the non googlers\">meta.stackexchange.com/questions/5280/embrace-the-non-google&zwnj;&#8203;rs</a> <a href=\"http://meta.stackexchange.com/questions/8724/how-should-we-deal-with-google-questions\" title=\"how should we deal with google questions\">meta.stackexchange.com/questions/8724/&hellip;</a>"},{"owner":{"account_id":9063,"reputation":57465,"user_id":16587,"accept_rate":85,"display_name":"George Stocker"},"score":2,"creation_date":1414665973,"post_id":19150811,"comment_id":41905589,"body_markdown":"The original answer was pointing to this link: http://www.javacodegeeks.com/2012/11/packing-your-java-application-as-one-or-fat-jar.html","body":"The original answer was pointing to this link: <a href=\"http://www.javacodegeeks.com/2012/11/packing-your-java-application-as-one-or-fat-jar.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2012/11/&hellip;</a>"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":3,"creation_date":1500842680,"post_id":19150811,"comment_id":77502291,"body_markdown":"I wonder if a fat jar is the java equivalent of static linking in c","body":"I wonder if a fat jar is the java equivalent of static linking in c"},{"owner":{"account_id":2159,"reputation":36387,"user_id":2974,"accept_rate":100,"display_name":"Rob Wells"},"score":0,"creation_date":1650557166,"post_id":19150811,"comment_id":127151720,"body_markdown":"@SridharSarnobat Not quite. The &quot;thin jar&quot; is the equivalent of a statically linked C or C++ app. A &quot;fat jar&quot; includes the runtime but for a statically linked app, that of course is the underlying OS incl. syslibs.","body":"@SridharSarnobat Not quite. The &quot;thin jar&quot; is the equivalent of a statically linked C or C++ app. A &quot;fat jar&quot; includes the runtime but for a statically linked app, that of course is the underlying OS incl. syslibs."}],"answers":[{"tags":[],"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"down_vote_count":2,"up_vote_count":118,"is_accepted":true,"score":116,"last_activity_date":1688072824,"creation_date":1430240009,"answer_id":29925421,"question_id":19150811,"body_markdown":"The fat jar is the jar, which contains classes from all the libraries, on which your project depends and, of course, the classes of current project.\r\n\r\nIn different build systems fat jar is created differently, for example, in Gradle one would create it with ([instruction](http://www.mkyong.com/gradle/gradle-create-a-jar-file-with-dependencies/)):\r\n\r\n    task fatJar(type: Jar) {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.example.Main&#39;\r\n        }\r\n        baseName = project.name + &#39;-all&#39;\r\n        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n        with jar\r\n    }\r\n\r\nIn Maven it&#39;s being done this way (after setting up regular jar):\r\n\r\n```lang-xml\r\n&lt;pluginRepositories&gt;\r\n   &lt;pluginRepository&gt;\r\n        &lt;id&gt;onejar-maven-plugin.googlecode.com&lt;/id&gt;\r\n        &lt;url&gt;http://onejar-maven-plugin.googlecode.com/svn/mavenrepo&lt;/url&gt;\r\n   &lt;/pluginRepository&gt;\r\n  &lt;/pluginRepositories&gt;\r\n&lt;!-- ... --&gt;\r\n\r\n&lt;plugin&gt;\r\n    &lt;groupid&gt;org.dstovall&lt;/groupid&gt;\r\n    &lt;artifactid&gt;onejar-maven-plugin&lt;/artifactid&gt;\r\n    &lt;version&gt;1.4.4&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n                &lt;onejarversion&gt;0.97&lt;/onejarversion&gt;\r\n                &lt;classifier&gt;onejar&lt;/classifier&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;one-jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\n","title":"What is a fat JAR?","body":"<p>The fat jar is the jar, which contains classes from all the libraries, on which your project depends and, of course, the classes of current project.</p>\n<p>In different build systems fat jar is created differently, for example, in Gradle one would create it with (<a href=\"http://www.mkyong.com/gradle/gradle-create-a-jar-file-with-dependencies/\" rel=\"nofollow noreferrer\">instruction</a>):</p>\n<pre><code>task fatJar(type: Jar) {\n    manifest {\n        attributes 'Main-Class': 'com.example.Main'\n    }\n    baseName = project.name + '-all'\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n</code></pre>\n<p>In Maven it's being done this way (after setting up regular jar):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pluginRepositories&gt;\n   &lt;pluginRepository&gt;\n        &lt;id&gt;onejar-maven-plugin.googlecode.com&lt;/id&gt;\n        &lt;url&gt;http://onejar-maven-plugin.googlecode.com/svn/mavenrepo&lt;/url&gt;\n   &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n&lt;!-- ... --&gt;\n\n&lt;plugin&gt;\n    &lt;groupid&gt;org.dstovall&lt;/groupid&gt;\n    &lt;artifactid&gt;onejar-maven-plugin&lt;/artifactid&gt;\n    &lt;version&gt;1.4.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;configuration&gt;\n                &lt;onejarversion&gt;0.97&lt;/onejarversion&gt;\n                &lt;classifier&gt;onejar&lt;/classifier&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;one-jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":945788,"reputation":2088,"user_id":973070,"display_name":"MeTTeO"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1688072252,"creation_date":1460349118,"answer_id":36539885,"question_id":19150811,"body_markdown":"Fat jar or uber jar is a jar which contains all project class files and resources packed together with all it&#39;s dependencies. There are different methods for achieving such effect:\r\n\r\n - dependencies&#39; jars are copied into main jar and then loaded using special class loader (onejar, spring-boot-plugin:repackage)\r\n - dependencies&#39; jars are extracted at the top of main jar hierarchy (maven-assembly-plugin with it&#39;s jar-with-dependencies assembly)\r\n - dependencies&#39; jars are unpacked at the top of main jar hierarchy and their packages are renamed (maven-shade-plugin with shade goal)\r\n\r\nBelow sample assembly plugin configuration [jar-with-dependencies][1]:\r\n\r\n```lang-xml\r\n&lt;project&gt;\r\n  &lt;!-- ... --&gt;\r\n  &lt;build&gt;\r\n    &lt;!-- ... --&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;!-- NOTE: We don&#39;t need a groupId specification because the group is\r\n             org.apache.maven.plugins ...which is assumed by default.\r\n         --&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n          &lt;classifier&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;!-- ... --&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nFor more detailed explanation: [Uber-JAR at imagej.net][2]\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\r\n  [2]: https://imagej.net/Uber-JAR\r\n\r\n\r\n","title":"What is a fat JAR?","body":"<p>Fat jar or uber jar is a jar which contains all project class files and resources packed together with all it's dependencies. There are different methods for achieving such effect:</p>\n<ul>\n<li>dependencies' jars are copied into main jar and then loaded using special class loader (onejar, spring-boot-plugin:repackage)</li>\n<li>dependencies' jars are extracted at the top of main jar hierarchy (maven-assembly-plugin with it's jar-with-dependencies assembly)</li>\n<li>dependencies' jars are unpacked at the top of main jar hierarchy and their packages are renamed (maven-shade-plugin with shade goal)</li>\n</ul>\n<p>Below sample assembly plugin configuration <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\" rel=\"nofollow noreferrer\">jar-with-dependencies</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  &lt;!-- ... --&gt;\n  &lt;build&gt;\n    &lt;!-- ... --&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;!-- NOTE: We don't need a groupId specification because the group is\n             org.apache.maven.plugins ...which is assumed by default.\n         --&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;classifier&gt;\n        &lt;/configuration&gt;\n        &lt;!-- ... --&gt;\n&lt;/project&gt;\n</code></pre>\n<p>For more detailed explanation: <a href=\"https://imagej.net/Uber-JAR\" rel=\"nofollow noreferrer\">Uber-JAR at imagej.net</a></p>\n"},{"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1468167835,"creation_date":1468167835,"answer_id":38294022,"question_id":19150811,"body_markdown":"In the case of an executable jar, another way to think about a fat jar is one you can execute by invoking:\r\n\r\n    java -jar myFatLibrary.jar\r\n\r\nwithout the need for `-cp` / `--classpath`, or even double clicking the jar icon.","title":"What is a fat JAR?","body":"<p>In the case of an executable jar, another way to think about a fat jar is one you can execute by invoking:</p>\n\n<pre><code>java -jar myFatLibrary.jar\n</code></pre>\n\n<p>without the need for <code>-cp</code> / <code>--classpath</code>, or even double clicking the jar icon.</p>\n"},{"tags":[],"owner":{"account_id":6308350,"reputation":11,"user_id":4900752,"display_name":"Jerome Angibaud"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562690385,"creation_date":1562689856,"answer_id":56957016,"question_id":19150811,"body_markdown":"A fat jar simply contains same classes as a classical jar + classes from all of their runtime dependencies.\r\n\r\nWith Jeka ( https://jeka.dev) you can achieve it programmatically :\r\n```\r\nJkPathTreeSet.of(Paths.get(&quot;classes&quot;)).andZips(\r\n    Paths.get(&quot;bouncycastle-pgp-152.jar&quot;),\r\n    Paths.get(&quot;classgraph-4.8.41.jar&quot;),\r\n    Paths.get(&quot;ivy-2.4.0.jar&quot;)\r\n).zipTo(Paths.get(&quot;fat.jar&quot;));\r\n```\r\n\r\nor just by parametring Java plugin :\r\n```\r\njavaPlugin.getProject().getMaker().defineMainArtifactAsFatJar(true);\r\n```","title":"What is a fat JAR?","body":"<p>A fat jar simply contains same classes as a classical jar + classes from all of their runtime dependencies.</p>\n\n<p>With Jeka ( <a href=\"https://jeka.dev\" rel=\"nofollow noreferrer\">https://jeka.dev</a>) you can achieve it programmatically :</p>\n\n<pre><code>JkPathTreeSet.of(Paths.get(\"classes\")).andZips(\n    Paths.get(\"bouncycastle-pgp-152.jar\"),\n    Paths.get(\"classgraph-4.8.41.jar\"),\n    Paths.get(\"ivy-2.4.0.jar\")\n).zipTo(Paths.get(\"fat.jar\"));\n</code></pre>\n\n<p>or just by parametring Java plugin :</p>\n\n<pre><code>javaPlugin.getProject().getMaker().defineMainArtifactAsFatJar(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11110386,"reputation":2865,"user_id":9470346,"display_name":"Mark Han"},"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1688072781,"creation_date":1566392062,"answer_id":57592130,"question_id":19150811,"body_markdown":"The different names are just ways of packaging Java applications.\r\n---------------------------------------------\r\n\r\n**Skinny** – Contains *only* the bits you literally type into your code editor, and *nothing* else.\r\n\r\n**Thin** – Contains all of the above *plus* the application’s direct dependencies of your application (db drivers, utility libraries, etc.).\r\n\r\n**Hollow** – The inverse of thin. It contains only the bits needed to run your application but does *not* contain the application itself. Basically a pre-packaged “application server” to which you can later deploy your application, in the same style as traditional Java EE application servers, but with important differences.\r\n\r\n**Fat/Uber** – Contains the bit you literally write yourself ***plus*** the direct dependencies of your application *PLUS* the bits needed to run your application “on its own”.\r\n\r\nSource: [Article from Dzone][1]\r\n\r\n[![Visual representation of JAR types][2]][2]\r\n\r\n  [1]: https://dzone.com/articles/the-skinny-on-fat-thin-hollow-and-uber\r\n  [2]: https://i.stack.imgur.com/9iS6A.png\r\n\r\n\r\n","title":"What is a fat JAR?","body":"<h2>The different names are just ways of packaging Java applications.</h2>\n<p><strong>Skinny</strong> – Contains <em>only</em> the bits you literally type into your code editor, and <em>nothing</em> else.</p>\n<p><strong>Thin</strong> – Contains all of the above <em>plus</em> the application’s direct dependencies of your application (db drivers, utility libraries, etc.).</p>\n<p><strong>Hollow</strong> – The inverse of thin. It contains only the bits needed to run your application but does <em>not</em> contain the application itself. Basically a pre-packaged “application server” to which you can later deploy your application, in the same style as traditional Java EE application servers, but with important differences.</p>\n<p><strong>Fat/Uber</strong> – Contains the bit you literally write yourself <em><strong>plus</strong></em> the direct dependencies of your application <em>PLUS</em> the bits needed to run your application “on its own”.</p>\n<p>Source: <a href=\"https://dzone.com/articles/the-skinny-on-fat-thin-hollow-and-uber\" rel=\"noreferrer\">Article from Dzone</a></p>\n<p><a href=\"https://i.stack.imgur.com/9iS6A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9iS6A.png\" alt=\"Visual representation of JAR types\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688066772,"creation_date":1571112989,"answer_id":58387175,"question_id":19150811,"body_markdown":"From the [Gradle documentation][1]:\r\n\r\nIn the Java space, **applications and their dependencies** typically used to be packaged as separate JARs within a single distribution archive. That still happens, but there is another approach that is now common: placing the classes and resources of the dependencies directly into the application JAR, creating what is known as an uber or fat JAR.\r\n\r\nHere is a demonstrated of  `uberJar` task in `build.gradle` file:\r\n\r\n    task uberJar(type: Jar) {\r\n        archiveClassifier = &#39;uber&#39;\r\n\r\n        from sourceSets.main.output\r\n\r\n        dependsOn configurations.runtimeClasspath\r\n        from {\r\n            configurations.runtimeClasspath.findAll { it.name.endsWith(&#39;jar&#39;) }.collect { zipTree(it) }\r\n        }\r\n    }\r\n\r\nIn this case, we’re taking the runtime dependencies of the project — `configurations.runtimeClasspath.files` — and wrapping each of the JAR files with the `zipTree()` method. The result is a collection of ZIP file trees, the contents of which are copied into the uber JAR alongside the application classes.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/working_with_files.html\r\n\r\n","title":"What is a fat JAR?","body":"<p>From the <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html\" rel=\"nofollow noreferrer\">Gradle documentation</a>:</p>\n<p>In the Java space, <strong>applications and their dependencies</strong> typically used to be packaged as separate JARs within a single distribution archive. That still happens, but there is another approach that is now common: placing the classes and resources of the dependencies directly into the application JAR, creating what is known as an uber or fat JAR.</p>\n<p>Here is a demonstrated of  <code>uberJar</code> task in <code>build.gradle</code> file:</p>\n<pre><code>task uberJar(type: Jar) {\n    archiveClassifier = 'uber'\n\n    from sourceSets.main.output\n\n    dependsOn configurations.runtimeClasspath\n    from {\n        configurations.runtimeClasspath.findAll { it.name.endsWith('jar') }.collect { zipTree(it) }\n    }\n}\n</code></pre>\n<p>In this case, we’re taking the runtime dependencies of the project — <code>configurations.runtimeClasspath.files</code> — and wrapping each of the JAR files with the <code>zipTree()</code> method. The result is a collection of ZIP file trees, the contents of which are copied into the uber JAR alongside the application classes.</p>\n"}],"owner":{"account_id":1145527,"reputation":3387,"user_id":1128392,"accept_rate":90,"display_name":"erwaman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126280,"favorite_count":0,"down_vote_count":3,"up_vote_count":195,"closed_date":1581377689,"accepted_answer_id":29925421,"answer_count":6,"score":192,"last_activity_date":1688072824,"creation_date":1380774671,"question_id":19150811,"body_markdown":"I&#39;ve heard people say that they create a fat JAR and deploy it. What do they actually mean ?","title":"What is a fat JAR?","body":"<p>I've heard people say that they create a fat JAR and deploy it. What do they actually mean ?</p>\n"},{"tags":["java","android","sockets","outputstream"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1683950534,"creation_date":1334529048,"answer_id":10166731,"question_id":10166701,"body_markdown":"&gt; Closing a Socket&#39;s OutputStream closes the socket too\r\n\r\nTrue.\r\n\r\n&gt; The flush() method of OutputStream does nothing\r\n\r\nFalse. There are overrides. See the Javadoc for `FilterOutputStream.flush()`, `BufferedOutputStream.flush()`, `ObjectOutputStream.flush()`, to name a few. All the streams that can buffer output internally have `flush()` methods. All the streams that don&#39;t, don&#39;t. Specifically, the output stream resulting from `Socket.getOutputStream()` is not buffered and does not override `flush()`.\r\n\r\nSo your initial problem is non-existent, so you have no need for the &#39;solution&#39; that causes problem #2.","title":"How can you force a flush on an OutputStream object without closing it?","body":"<blockquote>\n<p>Closing a Socket's OutputStream closes the socket too</p>\n</blockquote>\n<p>True.</p>\n<blockquote>\n<p>The flush() method of OutputStream does nothing</p>\n</blockquote>\n<p>False. There are overrides. See the Javadoc for <code>FilterOutputStream.flush()</code>, <code>BufferedOutputStream.flush()</code>, <code>ObjectOutputStream.flush()</code>, to name a few. All the streams that can buffer output internally have <code>flush()</code> methods. All the streams that don't, don't. Specifically, the output stream resulting from <code>Socket.getOutputStream()</code> is not buffered and does not override <code>flush()</code>.</p>\n<p>So your initial problem is non-existent, so you have no need for the 'solution' that causes problem #2.</p>\n"},{"tags":[],"owner":{"account_id":130523,"reputation":4766,"user_id":329855,"accept_rate":50,"display_name":"smichak"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1334529116,"creation_date":1334529116,"answer_id":10166742,"question_id":10166701,"body_markdown":"You can call the flush method of OutputStream instead of close. The concrete classes inheriting from OutputStream will override flush() to do something other than nothing (writing the data to a file or sending it over the network).","title":"How can you force a flush on an OutputStream object without closing it?","body":"<p>You can call the flush method of OutputStream instead of close. The concrete classes inheriting from OutputStream will override flush() to do something other than nothing (writing the data to a file or sending it over the network).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1449835864,"creation_date":1334535182,"answer_id":10167330,"question_id":10166701,"body_markdown":"&gt; The flush() method of OutputStream does nothing.\r\n\r\nThis is incorrect.  \r\n\r\nIt is true that the base implementation of `flush()` provided by the `OutputStream` class does nothing.  However, your app will be calling the version of that method that is provided by *actual* stream class that you are using.  If the stream class doesn&#39;t have direct write semantics, it will override `flush()` to do what is required.\r\n\r\nIn short, if a flush is required (and it *is* required for a Socket output stream), then calling `flush()` will do the right thing.  (If some internet source tells you otherwise it is either wrong or you are misinterpreting it.)\r\n\r\n----------\r\n\r\nFYI, the reason that the base `OutputStream` implements `flush()` as a no-op is that:\r\n\r\n  - some output stream classes don&#39;t need to do anything when flushed; e.g `ByteArrayOutputStream`, and\r\n  - for the stream classes where `flush()` is not a no-op, there is no way to implement the operation at the base class level.\r\n\r\nThey could (in theory) have made designed the stream APIs so that `OutputStream` was an abstract class (and `flush()` an abstract method) or an interface.  However this API was effectively frozen prior to Java 1.0, and at that time there wasn&#39;t enough experience with practical Java programming to realize that the API design was suboptimal.","title":"How can you force a flush on an OutputStream object without closing it?","body":"<blockquote>\n  <p>The flush() method of OutputStream does nothing.</p>\n</blockquote>\n\n<p>This is incorrect.  </p>\n\n<p>It is true that the base implementation of <code>flush()</code> provided by the <code>OutputStream</code> class does nothing.  However, your app will be calling the version of that method that is provided by <em>actual</em> stream class that you are using.  If the stream class doesn't have direct write semantics, it will override <code>flush()</code> to do what is required.</p>\n\n<p>In short, if a flush is required (and it <em>is</em> required for a Socket output stream), then calling <code>flush()</code> will do the right thing.  (If some internet source tells you otherwise it is either wrong or you are misinterpreting it.)</p>\n\n<hr>\n\n<p>FYI, the reason that the base <code>OutputStream</code> implements <code>flush()</code> as a no-op is that:</p>\n\n<ul>\n<li>some output stream classes don't need to do anything when flushed; e.g <code>ByteArrayOutputStream</code>, and</li>\n<li>for the stream classes where <code>flush()</code> is not a no-op, there is no way to implement the operation at the base class level.</li>\n</ul>\n\n<p>They could (in theory) have made designed the stream APIs so that <code>OutputStream</code> was an abstract class (and <code>flush()</code> an abstract method) or an interface.  However this API was effectively frozen prior to Java 1.0, and at that time there wasn't enough experience with practical Java programming to realize that the API design was suboptimal.</p>\n"},{"tags":[],"owner":{"account_id":540414,"reputation":3849,"user_id":908608,"accept_rate":25,"display_name":"infografnet"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366363192,"creation_date":1366363192,"answer_id":16101283,"question_id":10166701,"body_markdown":"Do you really need to flush? I also had an issue, where listener on c# server couldn&#39;t receive data sent from android (I tried to get the data synchronously). \r\n\r\nI was sure that this is because on Android side, the following code didn&#39;t flush.\r\n\r\n    OutputStream str = btSocket.getOutputStream();\r\n    str.write(data_byte);\r\n    // &quot;This implementation does nothing&quot;\r\n    str.flush();\r\n\r\nIt turned out, that if I use asynchronous data retrieval on server&#39;s listener - it gets the data, and no flush() on client&#39;s side is required!","title":"How can you force a flush on an OutputStream object without closing it?","body":"<p>Do you really need to flush? I also had an issue, where listener on c# server couldn't receive data sent from android (I tried to get the data synchronously). </p>\n\n<p>I was sure that this is because on Android side, the following code didn't flush.</p>\n\n<pre><code>OutputStream str = btSocket.getOutputStream();\nstr.write(data_byte);\n// \"This implementation does nothing\"\nstr.flush();\n</code></pre>\n\n<p>It turned out, that if I use asynchronous data retrieval on server's listener - it gets the data, and no flush() on client's side is required!</p>\n"},{"tags":[],"owner":{"account_id":3004807,"reputation":1,"user_id":2549533,"display_name":"everforth"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1377365305,"creation_date":1377365305,"answer_id":18421240,"question_id":10166701,"body_markdown":"I&#39;ll take a stab at it. I was having the same problem. closing the outputstream is the only way i can &quot;flush&quot; the data. but since i still need the outputstream that&#39;s not an option. so 1st i send the byte array length, out.writeInt, then the array itself. when all bytes have been read ie buffer.length == in.readInt() i break loop\r\n\r\n\r\n\t\tByteArrayOutputStream dataBuffer = new ByteArrayOutputStream();\r\n\t\tbyte[] buffer = new byte[1024];\r\n\t\tbyte[] fileBytes;\r\n\t\tint n;\r\n\t\tint length;\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tsize = in.readInt();\r\n\t\t\t\r\n\t\t\twhile((n = in.read(buffer)) != -1)\r\n\t\t\t{\r\n\t\t\t\tdataBuffer.write(buffer, 0, n);\r\n\t\t\t\t\r\n\t\t\t\tif(dataBuffer.toByteArray().length == length)\r\n\t\t\t\t{\r\n\t\t\t\t\tfileBytes = dataBuffer.toByteArray(); break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"How can you force a flush on an OutputStream object without closing it?","body":"<p>I'll take a stab at it. I was having the same problem. closing the outputstream is the only way i can \"flush\" the data. but since i still need the outputstream that's not an option. so 1st i send the byte array length, out.writeInt, then the array itself. when all bytes have been read ie buffer.length == in.readInt() i break loop</p>\n\n<pre><code>    ByteArrayOutputStream dataBuffer = new ByteArrayOutputStream();\n    byte[] buffer = new byte[1024];\n    byte[] fileBytes;\n    int n;\n    int length;\n\n    try\n    {\n        size = in.readInt();\n\n        while((n = in.read(buffer)) != -1)\n        {\n            dataBuffer.write(buffer, 0, n);\n\n            if(dataBuffer.toByteArray().length == length)\n            {\n                fileBytes = dataBuffer.toByteArray(); break;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3928542,"reputation":1,"user_id":3248022,"display_name":"user3248022"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390986295,"creation_date":1390986295,"answer_id":21426431,"question_id":10166701,"body_markdown":"I had the same problem.\r\nAdd &quot;\\n&quot; at the end of the stream. flush works but the destinary does not know if the message ended ","title":"How can you force a flush on an OutputStream object without closing it?","body":"<p>I had the same problem.\nAdd \"\\n\" at the end of the stream. flush works but the destinary does not know if the message ended </p>\n"},{"tags":[],"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688072430,"creation_date":1466454983,"answer_id":37931395,"question_id":10166701,"body_markdown":"# YES on Android flush() do nothing (example based on api 23)\r\n\r\n    public Socket() {\r\n        this.impl = factory != null ? factory.createSocketImpl() : new PlainSocketImpl();\r\n        this.proxy = null;\r\n    }\r\n\r\n    public class PlainSocketImpl extends SocketImpl {\r\n\r\n        @Override protected synchronized OutputStream getOutputStream() throws IOException {\r\n            checkNotClosed();\r\n            return new PlainSocketOutputStream(this);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private static class PlainSocketOutputStream extends OutputStream {\r\n            // doesn&#39;t override base class flush();\r\n    }\r\n\r\n&gt;to flush output stream without closing socket you can shutdown output:\r\n\r\n    protected void shutdownOutput() throws IOException\r\n\r\n-- this will close WRITE file descriptor. \r\n\r\n**instead of using output stream you can write directly to file descriptor** or by creating own Socket implementation with OutputStream which will override flush method (for example using a [Berkeley socket][1] implementation in c (via native call).\r\n\r\n\r\n`It doesn&#39;t need to do anything. Writing to a socket output stream directly isn&#39;t buffered by Java, so there is nothing to flush.` -[user207421][2]\r\n\r\n - we talking here about dalvik/art jvm implementation \r\n - tho op wanted confirmation on 2 questions &amp; both were answered here \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Berkeley_sockets\r\n  [2]: https://stackoverflow.com/users/207421/user207421","title":"How can you force a flush on an OutputStream object without closing it?","body":"<h1>YES on Android flush() do nothing (example based on api 23)</h1>\n<pre><code>public Socket() {\n    this.impl = factory != null ? factory.createSocketImpl() : new PlainSocketImpl();\n    this.proxy = null;\n}\n\npublic class PlainSocketImpl extends SocketImpl {\n\n    @Override protected synchronized OutputStream getOutputStream() throws IOException {\n        checkNotClosed();\n        return new PlainSocketOutputStream(this);\n    }\n\n\n}\n\nprivate static class PlainSocketOutputStream extends OutputStream {\n        // doesn't override base class flush();\n}\n</code></pre>\n<blockquote>\n<p>to flush output stream without closing socket you can shutdown output:</p>\n</blockquote>\n<pre><code>protected void shutdownOutput() throws IOException\n</code></pre>\n<p>-- this will close WRITE file descriptor.</p>\n<p><strong>instead of using output stream you can write directly to file descriptor</strong> or by creating own Socket implementation with OutputStream which will override flush method (for example using a <a href=\"https://en.wikipedia.org/wiki/Berkeley_sockets\" rel=\"nofollow noreferrer\">Berkeley socket</a> implementation in c (via native call).</p>\n<p><code>It doesn't need to do anything. Writing to a socket output stream directly isn't buffered by Java, so there is nothing to flush.</code> -<a href=\"https://stackoverflow.com/users/207421/user207421\">user207421</a></p>\n<ul>\n<li>we talking here about dalvik/art jvm implementation</li>\n<li>tho op wanted confirmation on 2 questions &amp; both were answered here</li>\n</ul>\n"}],"owner":{"account_id":903774,"reputation":4901,"user_id":939182,"accept_rate":64,"display_name":"GrowinMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22814,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":7,"score":6,"last_activity_date":1688072430,"creation_date":1334528831,"question_id":10166701,"body_markdown":"My question lies on the following assumptions which I hope are true, because I believe these as I read them while Googling my problems:\r\n\r\n1. Closing a Socket&#39;s OutputStream closes the socket too\r\n2. The flush() method of OutputStream does nothing\r\n\r\n\r\nSo I basically need to anyhow flush the data out of my OutputStream object for my app to work.\r\n\r\nIf you&#39;re interested in details then please see the following two links :\r\n\r\n. https://stackoverflow.com/questions/10161371/weird-behavior-sending-image-from-android-phone-to-java-server-code-working\r\n\r\nThis issue was resolved by closing the OutputStream. Doing that flushed all the data to the other end of the socket and made my app working further but this fix soon gave rise to problem number 2 - the corresponding socket also gets closed :\r\n\r\n. https://stackoverflow.com/questions/10163358/socketexception-socket-is-closed-even-when-isconnected-returns-true","title":"How can you force a flush on an OutputStream object without closing it?","body":"<p>My question lies on the following assumptions which I hope are true, because I believe these as I read them while Googling my problems:</p>\n\n<ol>\n<li>Closing a Socket's OutputStream closes the socket too</li>\n<li>The flush() method of OutputStream does nothing</li>\n</ol>\n\n<p>So I basically need to anyhow flush the data out of my OutputStream object for my app to work.</p>\n\n<p>If you're interested in details then please see the following two links :</p>\n\n<p>. <a href=\"https://stackoverflow.com/questions/10161371/weird-behavior-sending-image-from-android-phone-to-java-server-code-working\">Weird behavior : sending image from Android phone to Java server (code working)</a></p>\n\n<p>This issue was resolved by closing the OutputStream. Doing that flushed all the data to the other end of the socket and made my app working further but this fix soon gave rise to problem number 2 - the corresponding socket also gets closed :</p>\n\n<p>. <a href=\"https://stackoverflow.com/questions/10163358/socketexception-socket-is-closed-even-when-isconnected-returns-true\">SocketException - &#39;Socket is closed&#39; even when isConnected() returns true</a></p>\n"},{"tags":["java","spring-boot","exceptionhandler","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688070980,"creation_date":1688070980,"answer_id":76584461,"question_id":76584431,"body_markdown":"It turns out that in a previous method in my `@RestControllerAdvice` class I had the following:\r\n\r\n\r\n```java\r\n @ResponseBody\r\n    @ExceptionHandler(HttpMessageNotReadableException.class)\r\n    @ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\r\n    public String messageNotReadableException(HttpMessageNotReadableException ex) {\r\n        return ex.getMessage();\r\n    }\r\n```\r\n\r\nand it was taking precedence over the handler for `InvalidFormatException`. That handler can now intercept the exception thrown during the unsuccessful deserialization of `&quot;UNK&quot;`.","title":"[SpringBoot]: Decorating exception when deserializing @RequestBody","body":"<p>It turns out that in a previous method in my <code>@RestControllerAdvice</code> class I had the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @ResponseBody\n    @ExceptionHandler(HttpMessageNotReadableException.class)\n    @ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\n    public String messageNotReadableException(HttpMessageNotReadableException ex) {\n        return ex.getMessage();\n    }\n</code></pre>\n<p>and it was taking precedence over the handler for <code>InvalidFormatException</code>. That handler can now intercept the exception thrown during the unsuccessful deserialization of <code>&quot;UNK&quot;</code>.</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688070980,"creation_date":1688070643,"question_id":76584431,"body_markdown":"I&#39;ve got a DTO that represents bank accounts:\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\npublic class AccountDto {\r\n    @NonNull\r\n    private String id;\r\n    @NonNull\r\n    private Long balance;\r\n    @NonNull\r\n    private Currency currency;\r\n}\r\n```\r\n\r\n`Currency` is an `enum` where I&#39;ve put several currency identifiers:\r\n\r\n```java\r\npublic enum Currency {\r\n    AFN,\r\n    EUR,\r\n    ALL,\r\n    DZD,\r\n    USD,\r\n    AOA,\r\n.\r\n.\r\n.\r\n}\r\n```\r\n\r\nThis is my controller method for `POST`-ing new transactions:\r\n\r\n```java\r\n@PostMapping(&quot;/newaccount&quot;)\r\n    public ResponseEntity&lt;AccountDto&gt; postNewAccount(@RequestBody AccountDto accountDto){\r\n        accountService.storeAccount(accountDto);\r\n        return ResponseEntity.ok(accountDto);\r\n    }\r\n```\r\n\r\nI want to test what happens when I make a `POST` with a value for `currency` that is NOT within the accepted `enum` values, for example `UNK` (for `UNK`NOWN). So I make the following `POST` through Postman:\r\n\r\n```json\r\n{\r\n    &quot;sourceAccountId&quot;: &quot;acc1&quot;,\r\n    &quot;targetAccountId&quot;: &quot;acc2&quot;,\r\n    &quot;amount&quot;: 10.0,\r\n    &quot;currency&quot;: &quot;UNK&quot;\r\n}\r\n```\r\n\r\nAnd I get the raw message of the `InvalidFormatException`:\r\n\r\n```\r\nJSON parse error: Cannot deserialize value of type `com.agilebank.model.Currency` from String &quot;UNK&quot;: not one of the values accepted for Enum class: [FJD, UGS, SCR, MXN, BBD, CDF, HNL, LVR, ZAR, STN, CUC, BSD, SDG, IQD, CUP, SDP, TWD, ZRZ, RSD, UYI, MYR, UYN, FKP, UYP, XOF, ARA, UYU, CVE, UYW, OMR, MZE, KES, BTN, GNE, GNF, SVC, MZN, ARS, ARY, IRR, XPD, XPF, BDT, LYD, KWD, XPT, RUB, BEC, ISK, BEF, MKD, BEL, DZD, RUR, SGD, PAB, KGS, HRD, XAF, XAG, ATS, HRK, MLF, VNC, VND, TZS, AUD, CHW, KHR, KYD, IDR, XBB, XBC, XBD, BWP, TJR, TJS, AED, RWF, DKK, BGJ, BGK, BGL, YUD, BGN, NOK, MMK, ZWL, YUM, YUN, LKR, CZK, ZWR, XCD, XSU, HTG, AFA, BHD, PTE, SZL, YER, AFN, BYB, RHD, NPR, AWG, MNT, GBP, BYN, HUF, BYR, BIF, XUA, XDR, BZD, MOP, NAD, PEH, PEI, WST, PEN, FRF, TMT, CLF, PES, GTQ, CLP, XEU, TND, SLL, AYM, XFO, KMF, DOP, XFU, GEK, GEL, MAD, AZM, TOP, UAH, UAK, ERN, TPE, MRO, CNY, MRU, ESA, ESB, GWE, PHP, BMD, NUC, PYG, GWP, JMD, ESP, COP, USD, COU, USN, ETB, ECS, LAK, SOS, BND, LRD, ALK, ALL, GHC, VES, MTL, MTP, ILP, TRL, GHP, ILS, GHS, BOB, AMD, LBP, TRY, JOD, HKD, EUR, BOP, LSL, CAD, BOV, MUR, EEK, GIP, ROL, RON, CRC, NGN, PKR, ANG, SAR, SRD, MVQ, MVR, LTT, INR, KRW, PLN, JPY, CSD, SBD, CSJ, CSK, LUF, PLZ, AON, MWK, LUL, AOR, BAD, MGA, NIC, FIM, DEM, BAM, SSP, BRB, BRC, NIO, BRE, NZD, BRL, BRN, STD, ZAL, UGX, MXV, SDD, ZRN, GMD, SUR, SEK, ARP, MZM, QAR, NLG, GNS, THB, BUK, ISJ, CHC, CHF, XRE, XAU, XBA, YDD, SHP, ZWD, SYP, ZWN, IEP, GRD, SIT, KZT, XTS, SKK, TMM, AZN, XXX, VEB, LAJ, VUV, ECV, ZMW, ILR, GYD, MDL, LSM, ROK, TTD, SRG, DDM, AOA, LUC, AOK, MGF, EGP, BRR, LVL, MXP, UGW, UZS, ITL, DJF, CHE, ADP, GQE, CYP, ZWC, PGK, USS, VEF, ZMK, KPW, LTL]\r\n```\r\n\r\nI don&#39;t quite like this low-level, language-specific and wordy message, so I&#39;ve tried to intercept the `InvalidFormatException` and return something custom through a `@RestControllerAdvice` class:\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class ExceptionAdvice {\r\n\r\n    @ResponseBody\r\n    @ExceptionHandler(InvalidFormatException.class)\r\n    @ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\r\n    public String invalidFormatException(InvalidFormatException exc){\r\n        return &quot;foo&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut I still get the raw message displayed above. Any ideas?","title":"[SpringBoot]: Decorating exception when deserializing @RequestBody","body":"<p>I've got a DTO that represents bank accounts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\npublic class AccountDto {\n    @NonNull\n    private String id;\n    @NonNull\n    private Long balance;\n    @NonNull\n    private Currency currency;\n}\n</code></pre>\n<p><code>Currency</code> is an <code>enum</code> where I've put several currency identifiers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Currency {\n    AFN,\n    EUR,\n    ALL,\n    DZD,\n    USD,\n    AOA,\n.\n.\n.\n}\n</code></pre>\n<p>This is my controller method for <code>POST</code>-ing new transactions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/newaccount&quot;)\n    public ResponseEntity&lt;AccountDto&gt; postNewAccount(@RequestBody AccountDto accountDto){\n        accountService.storeAccount(accountDto);\n        return ResponseEntity.ok(accountDto);\n    }\n</code></pre>\n<p>I want to test what happens when I make a <code>POST</code> with a value for <code>currency</code> that is NOT within the accepted <code>enum</code> values, for example <code>UNK</code> (for <code>UNK</code>NOWN). So I make the following <code>POST</code> through Postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;sourceAccountId&quot;: &quot;acc1&quot;,\n    &quot;targetAccountId&quot;: &quot;acc2&quot;,\n    &quot;amount&quot;: 10.0,\n    &quot;currency&quot;: &quot;UNK&quot;\n}\n</code></pre>\n<p>And I get the raw message of the <code>InvalidFormatException</code>:</p>\n<pre><code>JSON parse error: Cannot deserialize value of type `com.agilebank.model.Currency` from String &quot;UNK&quot;: not one of the values accepted for Enum class: [FJD, UGS, SCR, MXN, BBD, CDF, HNL, LVR, ZAR, STN, CUC, BSD, SDG, IQD, CUP, SDP, TWD, ZRZ, RSD, UYI, MYR, UYN, FKP, UYP, XOF, ARA, UYU, CVE, UYW, OMR, MZE, KES, BTN, GNE, GNF, SVC, MZN, ARS, ARY, IRR, XPD, XPF, BDT, LYD, KWD, XPT, RUB, BEC, ISK, BEF, MKD, BEL, DZD, RUR, SGD, PAB, KGS, HRD, XAF, XAG, ATS, HRK, MLF, VNC, VND, TZS, AUD, CHW, KHR, KYD, IDR, XBB, XBC, XBD, BWP, TJR, TJS, AED, RWF, DKK, BGJ, BGK, BGL, YUD, BGN, NOK, MMK, ZWL, YUM, YUN, LKR, CZK, ZWR, XCD, XSU, HTG, AFA, BHD, PTE, SZL, YER, AFN, BYB, RHD, NPR, AWG, MNT, GBP, BYN, HUF, BYR, BIF, XUA, XDR, BZD, MOP, NAD, PEH, PEI, WST, PEN, FRF, TMT, CLF, PES, GTQ, CLP, XEU, TND, SLL, AYM, XFO, KMF, DOP, XFU, GEK, GEL, MAD, AZM, TOP, UAH, UAK, ERN, TPE, MRO, CNY, MRU, ESA, ESB, GWE, PHP, BMD, NUC, PYG, GWP, JMD, ESP, COP, USD, COU, USN, ETB, ECS, LAK, SOS, BND, LRD, ALK, ALL, GHC, VES, MTL, MTP, ILP, TRL, GHP, ILS, GHS, BOB, AMD, LBP, TRY, JOD, HKD, EUR, BOP, LSL, CAD, BOV, MUR, EEK, GIP, ROL, RON, CRC, NGN, PKR, ANG, SAR, SRD, MVQ, MVR, LTT, INR, KRW, PLN, JPY, CSD, SBD, CSJ, CSK, LUF, PLZ, AON, MWK, LUL, AOR, BAD, MGA, NIC, FIM, DEM, BAM, SSP, BRB, BRC, NIO, BRE, NZD, BRL, BRN, STD, ZAL, UGX, MXV, SDD, ZRN, GMD, SUR, SEK, ARP, MZM, QAR, NLG, GNS, THB, BUK, ISJ, CHC, CHF, XRE, XAU, XBA, YDD, SHP, ZWD, SYP, ZWN, IEP, GRD, SIT, KZT, XTS, SKK, TMM, AZN, XXX, VEB, LAJ, VUV, ECV, ZMW, ILR, GYD, MDL, LSM, ROK, TTD, SRG, DDM, AOA, LUC, AOK, MGF, EGP, BRR, LVL, MXP, UGW, UZS, ITL, DJF, CHE, ADP, GQE, CYP, ZWC, PGK, USS, VEF, ZMK, KPW, LTL]\n</code></pre>\n<p>I don't quite like this low-level, language-specific and wordy message, so I've tried to intercept the <code>InvalidFormatException</code> and return something custom through a <code>@RestControllerAdvice</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class ExceptionAdvice {\n\n    @ResponseBody\n    @ExceptionHandler(InvalidFormatException.class)\n    @ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\n    public String invalidFormatException(InvalidFormatException exc){\n        return &quot;foo&quot;;\n    }\n\n}\n</code></pre>\n<p>But I still get the raw message displayed above. Any ideas?</p>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1394856412,"post_id":22419386,"comment_id":34090670,"body_markdown":"`setAttribute` and `getParameter`. See anything wrong?","body":"<code>setAttribute</code> and <code>getParameter</code>. See anything wrong?"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1394856436,"post_id":22419386,"comment_id":34090677,"body_markdown":"Also, **never** use scriptlets.","body":"Also, <b>never</b> use scriptlets."},{"owner":{"account_id":440548,"reputation":1204,"user_id":830159,"accept_rate":79,"display_name":"Nathaniel Wendt"},"score":0,"creation_date":1394856640,"post_id":22419386,"comment_id":34090706,"body_markdown":"great catch, apologies.  I am new to JSP and still trying to get a good understanding of the difference between the two.  Thank you!","body":"great catch, apologies.  I am new to JSP and still trying to get a good understanding of the difference between the two.  Thank you!"},{"owner":{"account_id":440548,"reputation":1204,"user_id":830159,"accept_rate":79,"display_name":"Nathaniel Wendt"},"score":0,"creation_date":1394856741,"post_id":22419386,"comment_id":34090720,"body_markdown":"@SotiriosDelimanolis, why should I not use scriptlets?","body":"@SotiriosDelimanolis, why should I not use scriptlets?"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1394856874,"post_id":22419386,"comment_id":34090743,"body_markdown":"It is highly discouraged, for reasons explained [here](http://www.oracle.com/technetwork/articles/javase/code-convention-138726.html).","body":"It is highly discouraged, for reasons explained <a href=\"http://www.oracle.com/technetwork/articles/javase/code-convention-138726.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1394860445,"post_id":22419386,"comment_id":34091418,"body_markdown":"@thepristinedesign plz close the question if u got ur answer..","body":"@thepristinedesign plz close the question if u got ur answer.."}],"answers":[{"tags":[],"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394856558,"creation_date":1394856558,"answer_id":22419400,"question_id":22419386,"body_markdown":"Instead of `request.getParameter` use\r\n\r\n `&lt;% List&lt;ItemObj&gt; myList = (ArrayList&lt;ItemObj&gt;) request.getAttribute(&quot;list&quot;); %&gt;`\r\n\r\n  `request.getParameter`     is used to retrieve form parameters.","title":"Servlet send arraylist to JSP as request attribute","body":"<p>Instead of <code>request.getParameter</code> use</p>\n\n<p><code>&lt;% List&lt;ItemObj&gt; myList = (ArrayList&lt;ItemObj&gt;) request.getAttribute(\"list\"); %&gt;</code></p>\n\n<p><code>request.getParameter</code>     is used to retrieve form parameters.</p>\n"},{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1394856573,"creation_date":1394856573,"answer_id":22419402,"question_id":22419386,"body_markdown":"You are setting `list` as request attribute and getting it back as request parameter\r\n\r\nUse `&lt;% List&lt;ItemObj&gt; myList = (ArrayList&lt;ItemObj&gt;) request.getAttribute(&quot;list&quot;); %&gt;`","title":"Servlet send arraylist to JSP as request attribute","body":"<p>You are setting <code>list</code> as request attribute and getting it back as request parameter</p>\n\n<p>Use <code>&lt;% List&lt;ItemObj&gt; myList = (ArrayList&lt;ItemObj&gt;) request.getAttribute(\"list\"); %&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1465191,"reputation":1315,"user_id":1378268,"accept_rate":65,"display_name":"Kode Charlie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394856581,"creation_date":1394856581,"answer_id":22419406,"question_id":22419386,"body_markdown":"Sotirious is spot-on. You need to call getAttribute.\r\n\r\nBut beyond that, you should be privy to the scope of your attribute:\r\nis it scoped to (i) page, (ii) request, (iii) session, or (iv) application?\r\n\r\nI don&#39;t know the default scope off-hand, but you might want to look into that.","title":"Servlet send arraylist to JSP as request attribute","body":"<p>Sotirious is spot-on. You need to call getAttribute.</p>\n\n<p>But beyond that, you should be privy to the scope of your attribute:\nis it scoped to (i) page, (ii) request, (iii) session, or (iv) application?</p>\n\n<p>I don't know the default scope off-hand, but you might want to look into that.</p>\n"},{"tags":[],"owner":{"account_id":342694,"reputation":101,"user_id":673984,"display_name":"Sagar Sane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394856681,"creation_date":1394856681,"answer_id":22419421,"question_id":22419386,"body_markdown":"You need `request.getAttribute()` instead of `request.getParameter()`","title":"Servlet send arraylist to JSP as request attribute","body":"<p>You need <code>request.getAttribute()</code> instead of <code>request.getParameter()</code></p>\n"}],"owner":{"account_id":440548,"reputation":1204,"user_id":830159,"accept_rate":79,"display_name":"Nathaniel Wendt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1459769894,"accepted_answer_id":22419402,"answer_count":4,"score":0,"last_activity_date":1688070517,"creation_date":1394856373,"question_id":22419386,"body_markdown":"I am attempting to send an ArrayList from a servlet to a JSP page.  In the Servlet:\r\n\r\n    List&lt;ItemObj&gt; myList = new ArrayList&lt;ItemObj&gt;();   \r\n    req.setAttribute(&quot;list&quot;, myList);\r\n    req.getRequestDispatcher(&quot;page.jsp&quot;).forward(req,resp);\r\n\r\nIn the JSP:\r\n\r\n    &lt;% List&lt;ItemObj&gt; myList = (ArrayList&lt;ItemObj&gt;) request.getParameter(&quot;list&quot;); %&gt;\r\n\r\nHowever, I keep getting an error: Cannot cast from String to List.  I have found sources that indicate that I can cast as such: \r\n\r\nhttps://stackoverflow.com/questions/17988612/how-to-send-arraylist-from-jsp-to-servlet\r\n\r\nhttps://stackoverflow.com/questions/9360223/send-array-of-objects-from-servlet-to-jsp\r\n\r\nWhat am I doing wrong?\r\n","title":"Servlet send arraylist to JSP as request attribute","body":"<p>I am attempting to send an ArrayList from a servlet to a JSP page.  In the Servlet:</p>\n<pre><code>List&lt;ItemObj&gt; myList = new ArrayList&lt;ItemObj&gt;();   \nreq.setAttribute(&quot;list&quot;, myList);\nreq.getRequestDispatcher(&quot;page.jsp&quot;).forward(req,resp);\n</code></pre>\n<p>In the JSP:</p>\n<pre><code>&lt;% List&lt;ItemObj&gt; myList = (ArrayList&lt;ItemObj&gt;) request.getParameter(&quot;list&quot;); %&gt;\n</code></pre>\n<p>However, I keep getting an error: Cannot cast from String to List.  I have found sources that indicate that I can cast as such:</p>\n<p><a href=\"https://stackoverflow.com/questions/17988612/how-to-send-arraylist-from-jsp-to-servlet\">how to send ArrayList from jsp to servlet</a></p>\n<p><a href=\"https://stackoverflow.com/questions/9360223/send-array-of-objects-from-servlet-to-jsp\">Send array of objects from servlet to JSP</a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","json","serialization","jackson","fasterxml"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1688070841,"post_id":76584384,"comment_id":135028460,"body_markdown":"Try adding `@JsonInclude` - the default option of `ALWAYS` should include the property when null.","body":"Try adding <code>@JsonInclude</code> - the default option of <code>ALWAYS</code> should include the property when null."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1688072910,"post_id":76584384,"comment_id":135028780,"body_markdown":"Can you show ZonedDateTimeDeserializerFromIsoText","body":"Can you show ZonedDateTimeDeserializerFromIsoText"},{"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"score":0,"creation_date":1688456932,"post_id":76584384,"comment_id":135072963,"body_markdown":"@AndrewS Do you want to put this into an answer so I can accept it? (Additional context for anyone stumbling over this in the future: There was a class-wide `@JsonInclude(NON_NULL)`).","body":"@AndrewS Do you want to put this into an answer so I can accept it? (Additional context for anyone stumbling over this in the future: There was a class-wide <code>@JsonInclude(NON_NULL)</code>)."}],"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688070135,"creation_date":1688070135,"question_id":76584384,"body_markdown":"I have a nullable ZonedDateTime value that should be serialized to JSON using com.fasterxml.jackson.\r\n\r\nI am currently doing it like so:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = ElasticSearchConstants.ZONED_DATE_TIME_FORMAT)\r\n    @JsonSerialize(using = ZonedDateTimeSerializer.class)\r\n    @JsonDeserialize(using = ZonedDateTimeDeserializerFromIsoText.class)\r\n    private ZonedDateTime myVariable;\r\n\r\nWhat I would expect to happen if `myVariable == null` is this:\r\n\r\n    {\r\n        &quot;myVariable&quot;: null\r\n    }\r\n\r\nWhat I get is:\r\n\r\n    {}\r\n\r\nThis seems about right since the ZonedDateTimeSerializer expects a non-null input. Is there a way to get it to work with null values? If not, is there another serializer that I could use for this that does? Or do I have to write my own serializer?","title":"Serialize nullalbe value with ZonedDateTimeSerializer","body":"<p>I have a nullable ZonedDateTime value that should be serialized to JSON using com.fasterxml.jackson.</p>\n<p>I am currently doing it like so:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = ElasticSearchConstants.ZONED_DATE_TIME_FORMAT)\n@JsonSerialize(using = ZonedDateTimeSerializer.class)\n@JsonDeserialize(using = ZonedDateTimeDeserializerFromIsoText.class)\nprivate ZonedDateTime myVariable;\n</code></pre>\n<p>What I would expect to happen if <code>myVariable == null</code> is this:</p>\n<pre><code>{\n    &quot;myVariable&quot;: null\n}\n</code></pre>\n<p>What I get is:</p>\n<pre><code>{}\n</code></pre>\n<p>This seems about right since the ZonedDateTimeSerializer expects a non-null input. Is there a way to get it to work with null values? If not, is there another serializer that I could use for this that does? Or do I have to write my own serializer?</p>\n"},{"tags":["java","android","android-studio","java-17","java-record"],"comments":[{"owner":{"account_id":29586,"reputation":3256,"user_id":80088,"accept_rate":53,"display_name":"LilMoke"},"score":1,"creation_date":1667826504,"post_id":70784107,"comment_id":131253116,"body_markdown":"Did you ever get a solution to this? Since I upgraded to the latest Android Studio I started getting this error.  If you did solve the issue could you please share the fix?","body":"Did you ever get a solution to this? Since I upgraded to the latest Android Studio I started getting this error.  If you did solve the issue could you please share the fix?"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1667904247,"post_id":70784107,"comment_id":131273640,"body_markdown":"@LilMoke Try changing the Java Version to 11 and see if any settings are referring to higher versions than that.","body":"@LilMoke Try changing the Java Version to 11 and see if any settings are referring to higher versions than that."}],"answers":[{"tags":[],"owner":{"account_id":5747629,"reputation":695,"user_id":4538401,"accept_rate":75,"display_name":"Sebastian Rieger"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1643103368,"creation_date":1643103368,"answer_id":70846320,"question_id":70784107,"body_markdown":"**For Part One:**\r\nThe Warning means that you have one or more classes within your project which are not supported for Java Versions higher than 11.\r\n\r\nThere are some dependencies which your project which are not compiled for JDK 17. That&#39;s because Android currently has no support for Java 17. \r\nThis means you are mixing up different Versions of Java Bitcode which produces this warning.\r\n\r\n[Java Version Numbers][2]\r\n\r\n**For Part Two:**\r\nYou are trying to use a record, which is currently not supported in Android.\r\n\r\n**Summary:**\r\nYou have set the Java Version for your Project to Java 17, which is currently not supported:\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n\r\nThe highest you can currently go is [Java 11][1]\r\nwhich means you have to change the compileOptions to:\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/studio/releases/gradle-plugin?utm_source=android-studio-2020-3-1&amp;utm_medium=studio-assistant-stable#java-11\r\n  [2]: https://www.baeldung.com/java-lang-unsupportedclassversion#1-java-version-numbers","title":"Using JDK17 &amp; Record in Android Studio (Java, Android)","body":"<p><strong>For Part One:</strong>\nThe Warning means that you have one or more classes within your project which are not supported for Java Versions higher than 11.</p>\n<p>There are some dependencies which your project which are not compiled for JDK 17. That's because Android currently has no support for Java 17.\nThis means you are mixing up different Versions of Java Bitcode which produces this warning.</p>\n<p><a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion#1-java-version-numbers\" rel=\"noreferrer\">Java Version Numbers</a></p>\n<p><strong>For Part Two:</strong>\nYou are trying to use a record, which is currently not supported in Android.</p>\n<p><strong>Summary:</strong>\nYou have set the Java Version for your Project to Java 17, which is currently not supported:</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_17\n    targetCompatibility JavaVersion.VERSION_17\n}\n</code></pre>\n<p>The highest you can currently go is <a href=\"https://developer.android.com/studio/releases/gradle-plugin?utm_source=android-studio-2020-3-1&amp;utm_medium=studio-assistant-stable#java-11\" rel=\"noreferrer\">Java 11</a>\nwhich means you have to change the compileOptions to:</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2162659,"reputation":1388,"user_id":1916536,"display_name":"Denys Kurochkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643642706,"creation_date":1643642706,"answer_id":70928437,"question_id":70784107,"body_markdown":"The latest version of java bytecode supported by Android is Java 7  \r\n\r\nAndroid SDK supports desugaring for some of the later java features - https://developer.android.com/studio/write/java8-support.  \r\nThese features are &quot;syntactic sugar&quot; - when light and short code constructions replace complex constructions to improve readability. Such features do not require significant changes in the JVM, and can be recompiled into previous versions of java bytecode\r\n\r\n&quot;Desugaring&quot; means that source code from java 8 (or later) is compiled into bytecode of java 7 when it is possible\r\n\r\nMost of Java8+ features are unsupported\r\n\r\nIf you want to write code for Android in a modern manner you have to switch to Kotlin","title":"Using JDK17 &amp; Record in Android Studio (Java, Android)","body":"<p>The latest version of java bytecode supported by Android is Java 7</p>\n<p>Android SDK supports desugaring for some of the later java features - <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support</a>.<br />\nThese features are &quot;syntactic sugar&quot; - when light and short code constructions replace complex constructions to improve readability. Such features do not require significant changes in the JVM, and can be recompiled into previous versions of java bytecode</p>\n<p>&quot;Desugaring&quot; means that source code from java 8 (or later) is compiled into bytecode of java 7 when it is possible</p>\n<p>Most of Java8+ features are unsupported</p>\n<p>If you want to write code for Android in a modern manner you have to switch to Kotlin</p>\n"},{"tags":[],"owner":{"account_id":8934913,"reputation":21,"user_id":15218487,"display_name":"Ali Rs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673379054,"creation_date":1673379054,"answer_id":75074947,"question_id":70784107,"body_markdown":"It is possible to use Java Record in Android. See \r\nhttps://issuetracker.google.com/issues/197081367","title":"Using JDK17 &amp; Record in Android Studio (Java, Android)","body":"<p>It is possible to use Java Record in Android. See\n<a href=\"https://issuetracker.google.com/issues/197081367\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/197081367</a></p>\n"},{"tags":[],"owner":{"account_id":18506166,"reputation":147,"user_id":13482411,"display_name":"joakie"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1688070008,"creation_date":1688070008,"answer_id":76584374,"question_id":70784107,"body_markdown":"As of Android 14 SDK I can attest that all of the Java 17 language features below works flawlessly in a running app, neat! Code autocompletion and inspection also works for me.\r\n\r\n - JEP 361: Switch Expressions\r\n - JEP 378: Text Blocks\r\n - JEP 394: Pattern Matching for instanceof\r\n - JEP 395: **Records**\r\n - JEP 409: Sealed Classes\r\n\r\n[Here][2] they write:\r\n&gt; Android 14 includes features and improvements that further align with the OpenJDK 17 LTS release, including both library updates and Java 17 language support for app and platform developers.\r\n\r\nI only get a Build warning saying that my Android Gradle plugin (8.0.2) hasn&#39;t been &quot;tested with compileSdk = 34&quot;. If you were to update Android Studio to the Beta or Canary channels with newer Android Gradle plugins, I&#39;m sure the warning would disappear. I&#39;m using the current official version:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo start using Java 17 language goodies, [set up the Android 14 SDK][3]:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\nAnd in your app&#39;s build.gradle (using Groovy):\r\n\r\n```\r\nandroid {\r\n    compileSdk 34\r\n    ...\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/8G3gM.png\r\n  [2]: https://developer.android.com/about/versions/14/summary\r\n  [3]: https://developer.android.com/about/versions/14/setup-sdk\r\n  [4]: https://i.stack.imgur.com/lSlwp.png\r\n  [5]: https://i.stack.imgur.com/MsQdo.png","title":"Using JDK17 &amp; Record in Android Studio (Java, Android)","body":"<p>As of Android 14 SDK I can attest that all of the Java 17 language features below works flawlessly in a running app, neat! Code autocompletion and inspection also works for me.</p>\n<ul>\n<li>JEP 361: Switch Expressions</li>\n<li>JEP 378: Text Blocks</li>\n<li>JEP 394: Pattern Matching for instanceof</li>\n<li>JEP 395: <strong>Records</strong></li>\n<li>JEP 409: Sealed Classes</li>\n</ul>\n<p><a href=\"https://developer.android.com/about/versions/14/summary\" rel=\"noreferrer\">Here</a> they write:</p>\n<blockquote>\n<p>Android 14 includes features and improvements that further align with the OpenJDK 17 LTS release, including both library updates and Java 17 language support for app and platform developers.</p>\n</blockquote>\n<p>I only get a Build warning saying that my Android Gradle plugin (8.0.2) hasn't been &quot;tested with compileSdk = 34&quot;. If you were to update Android Studio to the Beta or Canary channels with newer Android Gradle plugins, I'm sure the warning would disappear. I'm using the current official version:</p>\n<p><a href=\"https://i.stack.imgur.com/8G3gM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8G3gM.png\" alt=\"enter image description here\" /></a></p>\n<p>To start using Java 17 language goodies, <a href=\"https://developer.android.com/about/versions/14/setup-sdk\" rel=\"noreferrer\">set up the Android 14 SDK</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/lSlwp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lSlwp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MsQdo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MsQdo.png\" alt=\"enter image description here\" /></a></p>\n<p>And in your app's build.gradle (using Groovy):</p>\n<pre><code>android {\n    compileSdk 34\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5388,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":76584374,"answer_count":4,"score":8,"last_activity_date":1688070008,"creation_date":1642672576,"question_id":70784107,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n## Part 1 :- ##\r\nAfter getting this version of Android Studio, I am able to use **JDK17** in my project.\r\nEverything works great, no build fails, no runtime error, etc.\r\n(like enhanced-switch is working fine)\r\n....but this warning keeps coming during each build. Is there any way to **suppress** this? \r\n\r\n[![enter image description here][2]][2]\r\n(Warning Text -&gt; **&quot;One or more classes has file version &gt;= 56 which is not officially supported&quot;**)\r\n\r\nThese are the build.gradle files:\r\n\r\n(1):-\r\n\r\n    buildscript {\r\n    \r\n       repositories {\r\n           google()\r\n           mavenCentral()\r\n       }\r\n       dependencies {\r\n           classpath &#39;com.android.tools.build:gradle:7.1.0-rc01&#39;\r\n           classpath &#39;com.google.android.gms:strict-version-matcher-plugin:1.2.2&#39;\r\n\r\n           // NOTE: Do not place your application dependencies here; they belong\r\n           // in the individual module build.gradle files\r\n       }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n(2):-\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.android.gms.strict-version-matcher-plugin&#39;\r\n\r\n    android {\r\n        compileSdkVersion 32\r\n        buildToolsVersion &#39;32.0.0&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.Sujal_Industries.SelfEmot&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 32\r\n            versionCode 11\r\n            versionName &quot;1.3.1&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                shrinkResources true\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_17\r\n            targetCompatibility JavaVersion.VERSION_17\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.3.0-alpha01&#39;\r\n        implementation &#39;androidx.core:core-splashscreen:1.0.0-beta01&#39;\r\n        implementation &#39;com.google.mlkit:image-labeling:17.0.6&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.0-alpha01&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n        implementation &#39;io.reactivex.rxjava3:rxandroid:3.0.0&#39;\r\n        implementation &#39;io.reactivex.rxjava3:rxjava:3.1.3&#39;\r\n    }\r\n\r\n(I tried searching for similar warnings but no luck)\r\n\r\n## Part 2 :- ##\r\n\r\nRecently, I found that Android Studio is now showing the option to create a new Java **Record**.\r\n[![enter image description here][3]][3]\r\n\r\nBut when I create one and build the project, this error pops up:\r\n[![enter image description here][4]][4]\r\n\r\nSo.. is there any way to forcefully add that **Record** class in java.lang package?\r\n\r\n*(If any more information/clarification is needed on this, please let me know)*\r\n\r\n**Edit**: I am aware of the fact that versions above 11 aren&#39;t **officially** supported but isn&#39;t there a workaround?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BMxi5.png\r\n  [2]: https://i.stack.imgur.com/vjsdM.png\r\n  [3]: https://i.stack.imgur.com/CDmpN.png\r\n  [4]: https://i.stack.imgur.com/3zvPJ.png","title":"Using JDK17 &amp; Record in Android Studio (Java, Android)","body":"<p><a href=\"https://i.stack.imgur.com/BMxi5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BMxi5.png\" alt=\"enter image description here\" /></a></p>\n<h2>Part 1 :-</h2>\n<p>After getting this version of Android Studio, I am able to use <strong>JDK17</strong> in my project.\nEverything works great, no build fails, no runtime error, etc.\n(like enhanced-switch is working fine)\n....but this warning keeps coming during each build. Is there any way to <strong>suppress</strong> this?</p>\n<p><a href=\"https://i.stack.imgur.com/vjsdM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vjsdM.png\" alt=\"enter image description here\" /></a>\n(Warning Text -&gt; <strong>&quot;One or more classes has file version &gt;= 56 which is not officially supported&quot;</strong>)</p>\n<p>These are the build.gradle files:</p>\n<p>(1):-</p>\n<pre><code>buildscript {\n\n   repositories {\n       google()\n       mavenCentral()\n   }\n   dependencies {\n       classpath 'com.android.tools.build:gradle:7.1.0-rc01'\n       classpath 'com.google.android.gms:strict-version-matcher-plugin:1.2.2'\n\n       // NOTE: Do not place your application dependencies here; they belong\n       // in the individual module build.gradle files\n   }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>(2):-</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.android.gms.strict-version-matcher-plugin'\n\nandroid {\n    compileSdkVersion 32\n    buildToolsVersion '32.0.0'\n    defaultConfig {\n        applicationId &quot;com.Sujal_Industries.SelfEmot&quot;\n        minSdkVersion 21\n        targetSdkVersion 32\n        versionCode 11\n        versionName &quot;1.3.1&quot;\n    }\n    buildTypes {\n        release {\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0-alpha01'\n    implementation 'androidx.core:core-splashscreen:1.0.0-beta01'\n    implementation 'com.google.mlkit:image-labeling:17.0.6'\n    implementation 'com.google.android.material:material:1.6.0-alpha01'\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    implementation 'io.reactivex.rxjava3:rxandroid:3.0.0'\n    implementation 'io.reactivex.rxjava3:rxjava:3.1.3'\n}\n</code></pre>\n<p>(I tried searching for similar warnings but no luck)</p>\n<h2>Part 2 :-</h2>\n<p>Recently, I found that Android Studio is now showing the option to create a new Java <strong>Record</strong>.\n<a href=\"https://i.stack.imgur.com/CDmpN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CDmpN.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I create one and build the project, this error pops up:\n<a href=\"https://i.stack.imgur.com/3zvPJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3zvPJ.png\" alt=\"enter image description here\" /></a></p>\n<p>So.. is there any way to forcefully add that <strong>Record</strong> class in java.lang package?</p>\n<p><em>(If any more information/clarification is needed on this, please let me know)</em></p>\n<p><strong>Edit</strong>: I am aware of the fact that versions above 11 aren't <strong>officially</strong> supported but isn't there a workaround?</p>\n"},{"tags":["java","attributes","xml-namespaces","jdom"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684987280,"post_id":76328821,"comment_id":134598530,"body_markdown":"Have you considered using an ATOM specific library to parse the file? It could handle it better.","body":"Have you considered using an ATOM specific library to parse the file? It could handle it better."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684989420,"post_id":76328821,"comment_id":134598712,"body_markdown":"Do _&quot;type&quot;_ and _&quot;rel&quot;_ return values?  Is it just _&quot;href&quot;_?","body":"Do <i>&quot;type&quot;</i> and <i>&quot;rel&quot;</i> return values?  Is it just <i>&quot;href&quot;</i>?"}],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688069349,"creation_date":1688069349,"answer_id":76584315,"question_id":76328821,"body_markdown":"Attributes typically don&#39;t have any namespace, so you should just access it with:\r\n\r\n    link.getAttributeValue(&quot;href&quot;);\r\n","title":"Jdom namespace properly recognized, but attributes not parsing","body":"<p>Attributes typically don't have any namespace, so you should just access it with:</p>\n<pre><code>link.getAttributeValue(&quot;href&quot;);\n</code></pre>\n"}],"owner":{"account_id":17920917,"reputation":23,"user_id":13020799,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688069349,"creation_date":1684986845,"question_id":76328821,"body_markdown":"I&#39;m extracting individual elements from an RSS feed using jdom and had no problems doing so, except when it came to getting the URL out of the &quot;href&quot; attribute of the &quot;link&quot; element from my &quot;atom&quot; namespace.\r\n\r\n\r\n\r\n\r\nHere is the XML snippet I&#39;m testing on : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;rss version=&quot;2.0&quot; xmlns:atom=&quot;http://www.w3.org/2005/Atom&quot;&gt;\r\n\r\n    &lt;channel&gt;\r\n       &lt;title&gt;Title Test&lt;/title&gt;\r\n       &lt;atom:link type=&quot;application/rss+xml&quot; rel=&quot;self&quot; href=&quot;https://www.testingRSS.com/site/infos/rss/news.php&quot;/&gt;\r\n       &lt;link&gt;https://www.testingRSS.com/&lt;/link&gt;\r\n       &lt;description&gt;The News&lt;/description&gt;\r\n       &lt;language&gt;fr-ca&lt;/language&gt;\r\n       &lt;managingEditor&gt;webmaster@testingRSS.com&lt;/managingEditor&gt;\r\n       &lt;webMaster&gt;webmaster@testingRSS.com&lt;/webMaster&gt;\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m trying to parse &quot;https://www.testingRSS.com/site/infos/rss/news.php&quot; out of this, and display it in a jfield.\r\n\r\nHere is the code I&#39;m currently running and fiddling with :\r\n\r\n\r\n\r\n        \r\n        Namespace atom = rootElement.getNamespace(&quot;atom&quot;);\r\n        System.out.println(atom);\r\n        //the above outputs [Namespace: prefix &quot;atom&quot; is mapped to URI &quot;http://www.w3.org/2005/Atom&quot;] which is correct\r\n        \r\n        Element link = new Element(&quot;link&quot;, atom);\r\n        feedLink = link.getAttributeValue(&quot;href&quot;, atom);\r\n        \r\n        System.out.println(&quot;Link : &quot; + feedLink);\r\n        //outputs Null.\r\n\r\n\r\n\r\n\r\nSo I&#39;m getting the correct Namespace out of my jdom document using the root element and the test output is giving me the URI it is mapped to so I know it is correctly defined.\r\n\r\nEvery other field in the Channel parsed without issue, and I simply cannot get this URL to parse, and even \r\n\r\n        link.getAttributesSize()\r\n\r\n\r\nreturns 0.\r\n\r\n\r\n\r\n\r\nI tried specifically declaring &quot;href&quot; as an attribute of element &quot;link&quot; in namespace &quot;atom&quot; and getValue() out of it but always comes back Null.","title":"Jdom namespace properly recognized, but attributes not parsing","body":"<p>I'm extracting individual elements from an RSS feed using jdom and had no problems doing so, except when it came to getting the URL out of the &quot;href&quot; attribute of the &quot;link&quot; element from my &quot;atom&quot; namespace.</p>\n<p>Here is the XML snippet I'm testing on :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;rss version=&quot;2.0&quot; xmlns:atom=&quot;http://www.w3.org/2005/Atom&quot;&gt;\n\n&lt;channel&gt;\n   &lt;title&gt;Title Test&lt;/title&gt;\n   &lt;atom:link type=&quot;application/rss+xml&quot; rel=&quot;self&quot; href=&quot;https://www.testingRSS.com/site/infos/rss/news.php&quot;/&gt;\n   &lt;link&gt;https://www.testingRSS.com/&lt;/link&gt;\n   &lt;description&gt;The News&lt;/description&gt;\n   &lt;language&gt;fr-ca&lt;/language&gt;\n   &lt;managingEditor&gt;webmaster@testingRSS.com&lt;/managingEditor&gt;\n   &lt;webMaster&gt;webmaster@testingRSS.com&lt;/webMaster&gt;\n</code></pre>\n<p>I'm trying to parse &quot;https://www.testingRSS.com/site/infos/rss/news.php&quot; out of this, and display it in a jfield.</p>\n<p>Here is the code I'm currently running and fiddling with :</p>\n<pre><code>    Namespace atom = rootElement.getNamespace(&quot;atom&quot;);\n    System.out.println(atom);\n    //the above outputs [Namespace: prefix &quot;atom&quot; is mapped to URI &quot;http://www.w3.org/2005/Atom&quot;] which is correct\n    \n    Element link = new Element(&quot;link&quot;, atom);\n    feedLink = link.getAttributeValue(&quot;href&quot;, atom);\n    \n    System.out.println(&quot;Link : &quot; + feedLink);\n    //outputs Null.\n</code></pre>\n<p>So I'm getting the correct Namespace out of my jdom document using the root element and the test output is giving me the URI it is mapped to so I know it is correctly defined.</p>\n<p>Every other field in the Channel parsed without issue, and I simply cannot get this URL to parse, and even</p>\n<pre><code>    link.getAttributesSize()\n</code></pre>\n<p>returns 0.</p>\n<p>I tried specifically declaring &quot;href&quot; as an attribute of element &quot;link&quot; in namespace &quot;atom&quot; and getValue() out of it but always comes back Null.</p>\n"},{"tags":["java","spring","spring-boot","reactive","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688068175,"creation_date":1688068175,"answer_id":76584203,"question_id":76584122,"body_markdown":"You are right. No matter how service A is implemented, you could use a reactive client. You even are expected to do so if your application (service C) is reactive. ","title":"Reactive WebClient with synchronous dependency REST call","body":"<p>You are right. No matter how service A is implemented, you could use a reactive client. You even are expected to do so if your application (service C) is reactive.</p>\n"}],"owner":{"account_id":2177275,"reputation":1153,"user_id":1927638,"accept_rate":50,"display_name":"user1927638"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76584203,"answer_count":1,"score":0,"last_activity_date":1688068378,"creation_date":1688067169,"question_id":76584122,"body_markdown":"Lets say I have a Service C that makes 2 dependency calls (both dependent services are implemented with Spring Boot):\r\n\r\n 1. Service A - A REST API endpoint that does not return a Mono, so its a synchronous call\r\n 2. Service B - A REST API endpoint that returns a Mono, so its an asynchronous call\r\n\r\nWhen are are implementing the providers in Service C for A and B using WebClient, should both return Monos? Does it matter that Service A is synchronous? My assumption is that it shouldn&#39;t matter how Service A is implemented. In Service C, a Mono, we are letting WebClient framework make the call asynchronously and are subscribing a response when it is ready. So both A and B should be handled as a Mono.\r\n\r\nCan anyone confirm if this assumption is correct, or if Service A should be handled differently. Thanks.","title":"Reactive WebClient with synchronous dependency REST call","body":"<p>Lets say I have a Service C that makes 2 dependency calls (both dependent services are implemented with Spring Boot):</p>\n<ol>\n<li>Service A - A REST API endpoint that does not return a Mono, so its a synchronous call</li>\n<li>Service B - A REST API endpoint that returns a Mono, so its an asynchronous call</li>\n</ol>\n<p>When are are implementing the providers in Service C for A and B using WebClient, should both return Monos? Does it matter that Service A is synchronous? My assumption is that it shouldn't matter how Service A is implemented. In Service C, a Mono, we are letting WebClient framework make the call asynchronously and are subscribing a response when it is ready. So both A and B should be handled as a Mono.</p>\n<p>Can anyone confirm if this assumption is correct, or if Service A should be handled differently. Thanks.</p>\n"},{"tags":["java","spring","http","resttemplate"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1688068093,"post_id":76569870,"comment_id":135027991,"body_markdown":"Did you make sure the restemplate call is the one causing the delay, you can measure the execution time by placing start/end time diff between the line\nIf it is the reason, you need to make sure the request itself is not delayed on the 3rd party server that hosts the API","body":"Did you make sure the restemplate call is the one causing the delay, you can measure the execution time by placing start/end time diff between the line If it is the reason, you need to make sure the request itself is not delayed on the 3rd party server that hosts the API"}],"owner":{"account_id":17892340,"reputation":1,"user_id":12998552,"display_name":"郑浩龙"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688066988,"creation_date":1687923225,"question_id":76569870,"body_markdown":"I&#39;m experiencing an issue with the restTemplate while making requests to an external API in my service. Most of the time, the API calls are functioning normally with an average response time of 2-3ms. However, occasionally, the response time suddenly spikes to 3000-4000ms, persisting for a short period, triggering API circuit breaking. From low response time to high response time, there is no gradual increase; instead, it happens in an instant.\r\n\r\nMy service is deployed on three nodes in the production environment, but the circuit breaking only occurs on one specific node each time, and there is no specific pattern regarding the timing. The frequency of occurrence is approximately once every two days.\r\n\r\nTo provide more context, there is no significant increase in the number of requests prior to the circuit breaking, and the external API service is returning responses without any noticeable increase in response time. \r\n\r\n\r\nThis is the function where problem happens\r\n```\r\n    @Cacheable(value = &quot;rep-content-linked&quot;, key = &quot;#infoCode.concat(#clientForLink).concat(#md5)&quot;, unless = &quot;#result == null or #result == &#39;&#39;&quot;)\r\n    public String getLinkedContent(String clientForLink, String infoCode, String content, String md5, String reqTrace) {\r\n        LinkedContentRequest request = new LinkedContentRequest();\r\n        request.setArtCode(infoCode);\r\n        request.setTxt(content);\r\n        request.setClient(clientForLink);\r\n        request.setTxtType(&quot;report&quot;);\r\n        request.setReq_trace(reqTrace);\r\n        LinkedContentResponse contentWithLink = restTemplateForLink.postForObject(getContentWithLink, request, LinkedContentResponse.class);\r\n        return (contentWithLink != null &amp;&amp; contentWithLink.getData() != null)\r\n                ? contentWithLink.getData()\r\n                .getResultTxt()\r\n                : &quot;&quot;;\r\n    }\r\n```\r\nAccording to log, I&#39;m sure the problem occurr at the following code line\r\n```\r\nLinkedContentResponse contentWithLink = restTemplateForLink.postForObject(getContentWithLink, request, LinkedContentResponse.class);\r\n```\r\n\r\nThis is my restTemplate config:\r\n```\r\n    @Bean(name = &quot;httpRequestFactoryForLink&quot;)\r\n    public ClientHttpRequestFactory httpRequestFactoryForLink() {\r\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n        factory.setReadTimeout(2000);\r\n        factory.setConnectTimeout(5000);\r\n        return factory;\r\n    }\r\n    @Bean\r\n    public RestTemplate restTemplateForLink(ClientHttpRequestFactory httpRequestFactoryForLink) {\r\n        return new RestTemplate(httpRequestFactoryForLink);\r\n    }\r\n```\r\n\r\nI would appreciate any insights into the potential causes of this issue.","title":"Sudden Increase in Response Time with restTemplate for External API Calls","body":"<p>I'm experiencing an issue with the restTemplate while making requests to an external API in my service. Most of the time, the API calls are functioning normally with an average response time of 2-3ms. However, occasionally, the response time suddenly spikes to 3000-4000ms, persisting for a short period, triggering API circuit breaking. From low response time to high response time, there is no gradual increase; instead, it happens in an instant.</p>\n<p>My service is deployed on three nodes in the production environment, but the circuit breaking only occurs on one specific node each time, and there is no specific pattern regarding the timing. The frequency of occurrence is approximately once every two days.</p>\n<p>To provide more context, there is no significant increase in the number of requests prior to the circuit breaking, and the external API service is returning responses without any noticeable increase in response time.</p>\n<p>This is the function where problem happens</p>\n<pre><code>    @Cacheable(value = &quot;rep-content-linked&quot;, key = &quot;#infoCode.concat(#clientForLink).concat(#md5)&quot;, unless = &quot;#result == null or #result == ''&quot;)\n    public String getLinkedContent(String clientForLink, String infoCode, String content, String md5, String reqTrace) {\n        LinkedContentRequest request = new LinkedContentRequest();\n        request.setArtCode(infoCode);\n        request.setTxt(content);\n        request.setClient(clientForLink);\n        request.setTxtType(&quot;report&quot;);\n        request.setReq_trace(reqTrace);\n        LinkedContentResponse contentWithLink = restTemplateForLink.postForObject(getContentWithLink, request, LinkedContentResponse.class);\n        return (contentWithLink != null &amp;&amp; contentWithLink.getData() != null)\n                ? contentWithLink.getData()\n                .getResultTxt()\n                : &quot;&quot;;\n    }\n</code></pre>\n<p>According to log, I'm sure the problem occurr at the following code line</p>\n<pre><code>LinkedContentResponse contentWithLink = restTemplateForLink.postForObject(getContentWithLink, request, LinkedContentResponse.class);\n</code></pre>\n<p>This is my restTemplate config:</p>\n<pre><code>    @Bean(name = &quot;httpRequestFactoryForLink&quot;)\n    public ClientHttpRequestFactory httpRequestFactoryForLink() {\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setReadTimeout(2000);\n        factory.setConnectTimeout(5000);\n        return factory;\n    }\n    @Bean\n    public RestTemplate restTemplateForLink(ClientHttpRequestFactory httpRequestFactoryForLink) {\n        return new RestTemplate(httpRequestFactoryForLink);\n    }\n</code></pre>\n<p>I would appreciate any insights into the potential causes of this issue.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1688063509,"post_id":76583717,"comment_id":135027187,"body_markdown":"What IDE version do you use? Do you already have SDK of the version specified in the pom configured in the IDE? Do you expect IDE to download and setup the SDK for you when you import pom.xml?","body":"What IDE version do you use? Do you already have SDK of the version specified in the pom configured in the IDE? Do you expect IDE to download and setup the SDK for you when you import pom.xml?"},{"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"score":0,"creation_date":1688064757,"post_id":76583717,"comment_id":135027427,"body_markdown":"@CrazyCoder I do not expect the IDE to download the sdk for me. I have the jdk installed. When I run the application from terminal, it gets the jdk version from the $JAVA_HOME variable. So I don&#39;t have to specify the jdk each time I build an application. I was hoping if IntelliJ could also determine the jdk version somehow.","body":"@CrazyCoder I do not expect the IDE to download the sdk for me. I have the jdk installed. When I run the application from terminal, it gets the jdk version from the $JAVA_HOME variable. So I don&#39;t have to specify the jdk each time I build an application. I was hoping if IntelliJ could also determine the jdk version somehow."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1688064890,"post_id":76583717,"comment_id":135027453,"body_markdown":"You should setup SDKs only once in the IDE, and it will be configured automatically if it&#39;s suitable for your Maven project once you import it. Make sure you run the latest IntelliJ IDEA version and actually have the matching JDK version configured per https://www.jetbrains.com/help/idea/sdk.html.","body":"You should setup SDKs only once in the IDE, and it will be configured automatically if it&#39;s suitable for your Maven project once you import it. Make sure you run the latest IntelliJ IDEA version and actually have the matching JDK version configured per <a href=\"https://www.jetbrains.com/help/idea/sdk.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/sdk.html</a>."}],"answers":[{"tags":[],"owner":{"account_id":28920169,"reputation":1,"user_id":22151315,"display_name":"ikhot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688066902,"creation_date":1688066902,"answer_id":76584098,"question_id":76583717,"body_markdown":"I would suggest to check this options:\r\n\r\n - https://i.stack.imgur.com/EOkmk.png\r\n - https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk\r\n\r\nAlso it might be that some projects are cached, I mean if each time when you open the same project and idea suggests to choose SDK. In this case I can suggest to remove .idea folder and reopen the project. \r\n\r\nAs well you can consider invalidate cache option (https://www.jetbrains.com/help/idea/invalidate-caches.html)","title":"How to make IntelliJ load the JDK automatically?","body":"<p>I would suggest to check this options:</p>\n<ul>\n<li><a href=\"https://i.stack.imgur.com/EOkmk.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EOkmk.png</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk\">How do I change the IntelliJ IDEA default JDK?</a></li>\n</ul>\n<p>Also it might be that some projects are cached, I mean if each time when you open the same project and idea suggests to choose SDK. In this case I can suggest to remove .idea folder and reopen the project.</p>\n<p>As well you can consider invalidate cache option (<a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/invalidate-caches.html</a>)</p>\n"}],"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688066902,"creation_date":1688062989,"question_id":76583717,"body_markdown":"Whenever I open a Java project by opening the pom file as a project, it doesn&#39;t automatically load the jdk for the project workspace. \r\nIt shows me a message at the top that says &quot;Module JDK is not defined&quot; with a button &quot;Setup SDK&quot;. I then manually select the JDK distribution and move along.\r\n\r\nIs there a way I can eliminate this manual step and have IntelliJ somehow read which JDK it should use from the pom file?\r\n\r\nI&#39;m using IntelliJ IDEA 2022.2.3","title":"How to make IntelliJ load the JDK automatically?","body":"<p>Whenever I open a Java project by opening the pom file as a project, it doesn't automatically load the jdk for the project workspace.\nIt shows me a message at the top that says &quot;Module JDK is not defined&quot; with a button &quot;Setup SDK&quot;. I then manually select the JDK distribution and move along.</p>\n<p>Is there a way I can eliminate this manual step and have IntelliJ somehow read which JDK it should use from the pom file?</p>\n<p>I'm using IntelliJ IDEA 2022.2.3</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1672854696,"post_id":75008706,"comment_id":132368618,"body_markdown":"you could try reflectively getting the `classes` field of all existing `ClassLoader` instances but that might not work in newer Java versions (and is inherently unsafe).","body":"you could try reflectively getting the <code>classes</code> field of all existing <code>ClassLoader</code> instances but that might not work in newer Java versions (and is inherently unsafe)."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":3,"creation_date":1672854842,"post_id":75008706,"comment_id":132368668,"body_markdown":"But the actual question is: Why do you need this? This question seems like an [XY problem](http://xyproblem.info/).","body":"But the actual question is: Why do you need this? This question seems like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>."},{"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"score":0,"creation_date":1672857340,"post_id":75008706,"comment_id":132369471,"body_markdown":"@dan1st i know this is a stupid answer but i have no reason to do this i just want to.\ni tryed getting the classes from the field in ClassLoader but i need the instance of the classloader which is a problem with custom ClassLoader also not all ClassLoaders save the classes (the bootloader and some custom ClassLoader)","body":"@dan1st i know this is a stupid answer but i have no reason to do this i just want to. i tryed getting the classes from the field in ClassLoader but i need the instance of the classloader which is a problem with custom ClassLoader also not all ClassLoaders save the classes (the bootloader and some custom ClassLoader)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1672858365,"post_id":75008706,"comment_id":132369779,"body_markdown":"theoretically, you could do some sort of memory dump and parse it.","body":"theoretically, you could do some sort of memory dump and parse it."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1672862302,"post_id":75008706,"comment_id":132371057,"body_markdown":"Executing `jcmd &lt;pid&gt; VM.class_hierarchy` (replacing &lt;pid&gt; with the process id of some java process) prints a hierarchical listing of the loaded classes to stdout.","body":"Executing <code>jcmd &lt;pid&gt; VM.class_hierarchy</code> (replacing &lt;pid&gt; with the process id of some java process) prints a hierarchical listing of the loaded classes to stdout."},{"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"score":0,"creation_date":1672863778,"post_id":75008706,"comment_id":132371542,"body_markdown":"i used jmap -dump","body":"i used jmap -dump"},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684502486,"post_id":75008706,"comment_id":134530720,"body_markdown":"You would be able to get around the classloader instance issue with [this method](https://stackoverflow.com/a/76288918/21851535)","body":"You would be able to get around the classloader instance issue with <a href=\"https://stackoverflow.com/a/76288918/21851535\">this method</a>"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1672960049,"creation_date":1672867019,"answer_id":75011440,"question_id":75008706,"body_markdown":"Here is a solution specific to HotSpot JVM.  \r\nWorks all JDK versions from 8 to 20.\r\n\r\nThe output is equivalent to what is printed by [`jmap -histo:all`](https://stackoverflow.com/questions/49490073/what-does-jmap-histo-pid-print-exactly), but instead of printing to stdout, the result is returned as a `String`.\r\n\r\n```java\r\npublic static String getAllClassNames() throws JMException {\r\n    return (String) ManagementFactory.getPlatformMBeanServer().invoke(\r\n            new ObjectName(&quot;com.sun.management:type=DiagnosticCommand&quot;),\r\n            &quot;gcClassHistogram&quot;,\r\n            new Object[]{new String[]{&quot;-all&quot;}},\r\n            new String[]{&quot;[Ljava.lang.String;&quot;});\r\n}\r\n```","title":"How can I get the name and package of all the classes loaded in the Java JVM","body":"<p>Here is a solution specific to HotSpot JVM.<br />\nWorks all JDK versions from 8 to 20.</p>\n<p>The output is equivalent to what is printed by <a href=\"https://stackoverflow.com/questions/49490073/what-does-jmap-histo-pid-print-exactly\"><code>jmap -histo:all</code></a>, but instead of printing to stdout, the result is returned as a <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getAllClassNames() throws JMException {\n    return (String) ManagementFactory.getPlatformMBeanServer().invoke(\n            new ObjectName(&quot;com.sun.management:type=DiagnosticCommand&quot;),\n            &quot;gcClassHistogram&quot;,\n            new Object[]{new String[]{&quot;-all&quot;}},\n            new String[]{&quot;[Ljava.lang.String;&quot;});\n}\n</code></pre>\n"}],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75011440,"answer_count":1,"score":2,"last_activity_date":1688066591,"creation_date":1672851239,"question_id":75008706,"body_markdown":"I&#39;m trying to get a full list of *all* the classes loaded in the JVM including the classes loaded by the bootloader, platformclassloader and custom class loaders.  Without using the Instrumentation API.\r\n\r\nThe methods exposed by the regular classLoaders return only the classes available in the package reference graph starting from the main function.   So I&#39;m unable to get the list of classes loaded dynamically at runtime, and also can&#39;t get classes loaded by the bootloader and platformclassloader.\r\n\r\nI&#39;m aware of the Instrumentation API but can&#39;t control the command line arguments passed to the JVM so it&#39;s not an option for me.\r\n\r\nI don&#39;t have any specific Java version constraints so I can take any solution on any &#39;live&#39; version (lets say &gt;=9)  ","title":"How can I get the name and package of all the classes loaded in the Java JVM","body":"<p>I'm trying to get a full list of <em>all</em> the classes loaded in the JVM including the classes loaded by the bootloader, platformclassloader and custom class loaders.  Without using the Instrumentation API.</p>\n<p>The methods exposed by the regular classLoaders return only the classes available in the package reference graph starting from the main function.   So I'm unable to get the list of classes loaded dynamically at runtime, and also can't get classes loaded by the bootloader and platformclassloader.</p>\n<p>I'm aware of the Instrumentation API but can't control the command line arguments passed to the JVM so it's not an option for me.</p>\n<p>I don't have any specific Java version constraints so I can take any solution on any 'live' version (lets say &gt;=9)</p>\n"},{"tags":["java","selenium","testing","automation","webdriver"],"answers":[{"tags":[],"owner":{"account_id":11744884,"reputation":36,"user_id":8595940,"display_name":"Sumit Bera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581413860,"creation_date":1581413860,"answer_id":60165786,"question_id":60150548,"body_markdown":"If you are using chrome it can happen sometimes, because chrome always tries to click at the middle of the element. What you can do is use JavaScriptExecutor interface of selenium. The code should look like this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) DriverManager.getWebDriver();\r\n    js.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException","body":"<p>If you are using chrome it can happen sometimes, because chrome always tries to click at the middle of the element. What you can do is use JavaScriptExecutor interface of selenium. The code should look like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>JavascriptExecutor js = (JavascriptExecutor) DriverManager.getWebDriver();\r\njs.executeScript(\"arguments[0].click();\", element);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17729223,"reputation":11,"user_id":12872246,"display_name":"vaidehi "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5735,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1688076103,"answer_count":1,"score":-1,"last_activity_date":1688065989,"creation_date":1581338012,"question_id":60150548,"body_markdown":"&gt;Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;button onclick=&quot;hideonpostSin(&amp;quot;vaidehi+m@startupwind.com&amp;quot;,&amp;quot;59bf9d7989afbe4cffd2d1bc&amp;quot;)&quot; class=&quot;btn-post pull-right&quot;&gt;...&lt;/button&gt; is not clickable at point (1075, 323). Other element would receive the click: &lt;div id=&quot;loader&quot; class=&quot;loading-modal&quot;&gt;&lt;/div&gt;\r\n  (Session info: chrome=79.0.3945.130)\r\n\r\nHow to solve this error for selenium webdriver code..FOR CLICKING THE POST BUTTON using xpath the devloperr donot provide   id for that button \r\nCODE:\r\n```java\r\nWebElement element1=driver.findElement(By.xpath(&quot;//*[@id=\\&quot;SINPost\\&quot;]/button&quot;));\r\nelement1.click();\r\n```","title":"Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException","body":"<blockquote>\n  <p>Exception in thread \"main\" org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element ... is not clickable at point (1075, 323). Other element would receive the click: \n    (Session info: chrome=79.0.3945.130)</p>\n</blockquote>\n\n<p>How to solve this error for selenium webdriver code..FOR CLICKING THE POST BUTTON using xpath the devloperr donot provide   id for that button \nCODE:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>WebElement element1=driver.findElement(By.xpath(\"//*[@id=\\\"SINPost\\\"]/button\"));\nelement1.click();\n</code></pre>\n"},{"tags":["java","elasticsearch","search"],"comments":[{"owner":{"account_id":1506950,"reputation":2350,"user_id":1410115,"accept_rate":89,"display_name":"Ramaraj Karuppusamy"},"score":0,"creation_date":1370589985,"post_id":15114481,"comment_id":24525173,"body_markdown":"I am also having the same issue. Thans for your question","body":"I am also having the same issue. Thans for your question"},{"owner":{"account_id":1506950,"reputation":2350,"user_id":1410115,"accept_rate":89,"display_name":"Ramaraj Karuppusamy"},"score":1,"creation_date":1370599290,"post_id":15114481,"comment_id":24529670,"body_markdown":"I have 100 documents. I set Integer.MAX_VALUE as size.Got OutOfMemoryError[Java heap space] also in My Jboss. If I give 1000, then worked fine.","body":"I have 100 documents. I set Integer.MAX_VALUE as size.Got OutOfMemoryError[Java heap space] also in My Jboss. If I give 1000, then worked fine."}],"answers":[{"tags":[],"owner":{"account_id":3011876,"reputation":76,"user_id":2555177,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373126154,"creation_date":1373126154,"answer_id":17504583,"question_id":15114481,"body_markdown":"You will have to trade off the number of returned results vs the time you want the user to wait and the amount of available server memory. If you&#39;ve indexed 1,000,000 documents, there isn&#39;t a realistic way to retrieve all those results in one request. I&#39;m assuming your results are for one user. You&#39;ll have to consider how the system will perform under load.","title":"Return all records in one query in Elasticsearch","body":"<p>You will have to trade off the number of returned results vs the time you want the user to wait and the amount of available server memory. If you've indexed 1,000,000 documents, there isn't a realistic way to retrieve all those results in one request. I'm assuming your results are for one user. You'll have to consider how the system will perform under load.</p>\n"},{"tags":[],"owner":{"account_id":2385421,"reputation":51,"user_id":2086497,"display_name":"nnguyen07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383808383,"creation_date":1383808383,"answer_id":19829994,"question_id":15114481,"body_markdown":"To query all, you should build a CountRequestBuilder to get the total number of records (by CountResponse) then set the number back to size of your seach request.","title":"Return all records in one query in Elasticsearch","body":"<p>To query all, you should build a CountRequestBuilder to get the total number of records (by CountResponse) then set the number back to size of your seach request.</p>\n"},{"tags":[],"owner":{"account_id":2339195,"reputation":2693,"user_id":2050874,"accept_rate":81,"display_name":"Dinoop Nair"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1687396133,"creation_date":1398074820,"answer_id":23195171,"question_id":15114481,"body_markdown":"    public List&lt;Map&lt;String, Object&gt;&gt; getAllDocs() {\r\n            int scrollSize = 1000;\r\n            List&lt;Map&lt;String,Object&gt;&gt; esData = new ArrayList&lt;Map&lt;String,Object&gt;&gt;();\r\n            SearchResponse response = null;\r\n            int i = 0;\r\n            while (response == null || response.getHits().hits().length != 0) {\r\n                response = client.prepareSearch(indexName)\r\n                        .setTypes(typeName)\r\n                        .setQuery(QueryBuilders.matchAllQuery())\r\n                        .setSize(scrollSize)\r\n                        .setFrom(i * scrollSize)\r\n                        .execute()\r\n                        .actionGet();\r\n                for (SearchHit hit : response.getHits()) {\r\n                    esData.add(hit.getSource());\r\n                }\r\n                i++;\r\n            }\r\n            return esData;\r\n    }","title":"Return all records in one query in Elasticsearch","body":"<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getAllDocs() {\n        int scrollSize = 1000;\n        List&lt;Map&lt;String,Object&gt;&gt; esData = new ArrayList&lt;Map&lt;String,Object&gt;&gt;();\n        SearchResponse response = null;\n        int i = 0;\n        while (response == null || response.getHits().hits().length != 0) {\n            response = client.prepareSearch(indexName)\n                    .setTypes(typeName)\n                    .setQuery(QueryBuilders.matchAllQuery())\n                    .setSize(scrollSize)\n                    .setFrom(i * scrollSize)\n                    .execute()\n                    .actionGet();\n            for (SearchHit hit : response.getHits()) {\n                esData.add(hit.getSource());\n            }\n            i++;\n        }\n        return esData;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6731869,"reputation":1,"user_id":5187889,"display_name":"ae6623"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1452100355,"creation_date":1452100355,"answer_id":34638788,"question_id":15114481,"body_markdown":"1.set the max size ，e.g: MAX_INT_VALUE;\r\n\r\nprivate static final int MAXSIZE=1000000;\r\n\r\n@Override\r\n\tpublic List&lt;EsSaleCity&gt; getAllSaleCityByCity(int cityId) throws Exception {\r\n\r\n\t\tList&lt;EsSaleCity&gt; list=new ArrayList&lt;EsSaleCity&gt;();\r\n\r\n\t\tClient client=EsFactory.getClient();\r\n\t\tSearchResponse response= client.prepareSearch(getIndex(EsSaleCity.class)).setTypes(getType(EsSaleCity.class)).setSize(MAXSIZE)\r\n\t\t\t\t.setQuery(QueryBuilders.filteredQuery(QueryBuilders.matchAllQuery(), FilterBuilders.boolFilter()\r\n\t\t\t\t\t\t.must(FilterBuilders.termFilter(&quot;cityId&quot;, cityId)))).execute().actionGet();\r\n\r\n\t\tSearchHits searchHits=response.getHits();\r\n\r\n\t\tSearchHit[] hits=searchHits.getHits();\r\n\t\tfor(SearchHit hit:hits){\r\n\t\t\tMap&lt;String, Object&gt; resultMap=hit.getSource();\r\n\t\t\tEsSaleCity saleCity=setEntity(resultMap, EsSaleCity.class);\r\n\t\t\tlist.add(saleCity);\r\n\t\t}\r\n\r\n\t\treturn list;\r\n\r\n\t}\r\n\r\n2.count the ES before you search\r\n\r\n    CountResponse countResponse = client.prepareCount(getIndex(EsSaleCity.class)).setTypes(getType(EsSaleCity.class)).setQuery(queryBuilder).execute().actionGet();\r\n\r\nint size = (int)countResponse.getCount();//this is you want size;\r\n\r\nthen you can \r\n\r\n    SearchResponse response= client.prepareSearch(getIndex(EsSaleCity.class)).setTypes(getType(EsSaleCity.class)).setSize(size);\r\n\r\n","title":"Return all records in one query in Elasticsearch","body":"<p>1.set the max size ，e.g: MAX_INT_VALUE;</p>\n\n<p>private static final int MAXSIZE=1000000;</p>\n\n<p>@Override\n    public List getAllSaleCityByCity(int cityId) throws Exception {</p>\n\n<pre><code>    List&lt;EsSaleCity&gt; list=new ArrayList&lt;EsSaleCity&gt;();\n\n    Client client=EsFactory.getClient();\n    SearchResponse response= client.prepareSearch(getIndex(EsSaleCity.class)).setTypes(getType(EsSaleCity.class)).setSize(MAXSIZE)\n            .setQuery(QueryBuilders.filteredQuery(QueryBuilders.matchAllQuery(), FilterBuilders.boolFilter()\n                    .must(FilterBuilders.termFilter(\"cityId\", cityId)))).execute().actionGet();\n\n    SearchHits searchHits=response.getHits();\n\n    SearchHit[] hits=searchHits.getHits();\n    for(SearchHit hit:hits){\n        Map&lt;String, Object&gt; resultMap=hit.getSource();\n        EsSaleCity saleCity=setEntity(resultMap, EsSaleCity.class);\n        list.add(saleCity);\n    }\n\n    return list;\n\n}\n</code></pre>\n\n<p>2.count the ES before you search</p>\n\n<pre><code>CountResponse countResponse = client.prepareCount(getIndex(EsSaleCity.class)).setTypes(getType(EsSaleCity.class)).setQuery(queryBuilder).execute().actionGet();\n</code></pre>\n\n<p>int size = (int)countResponse.getCount();//this is you want size;</p>\n\n<p>then you can </p>\n\n<pre><code>SearchResponse response= client.prepareSearch(getIndex(EsSaleCity.class)).setTypes(getType(EsSaleCity.class)).setSize(size);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7564094,"reputation":1878,"user_id":5740414,"display_name":"Daniel Schneiter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452185503,"creation_date":1452185503,"answer_id":34660791,"question_id":15114481,"body_markdown":"If your primary focus is on exporting all records you might want to go for a solution which does not require any kind of sorting, as sorting is an expensive operation.\r\nYou could use the scan and scroll approach with ElasticsearchCRUD as described [here][1].\r\n\r\n  [1]: http://damienbod.com/2014/11/13/csv-export-using-elasticsearch-and-web-api/","title":"Return all records in one query in Elasticsearch","body":"<p>If your primary focus is on exporting all records you might want to go for a solution which does not require any kind of sorting, as sorting is an expensive operation.\nYou could use the scan and scroll approach with ElasticsearchCRUD as described <a href=\"http://damienbod.com/2014/11/13/csv-export-using-elasticsearch-and-web-api/\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2392024,"reputation":4226,"user_id":2091700,"accept_rate":67,"display_name":"Alphaaa"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1456910199,"creation_date":1456853499,"answer_id":35729505,"question_id":15114481,"body_markdown":"The current highest-ranked answer works, but it requires loading the whole list of results in memory, which can cause memory issues for large result sets, and is in any case unnecessary.\r\n\r\nI created a Java class that implements a nice `Iterator` over `SearchHit`s, that allows to iterate through all results. Internally, it handles pagination by issuing queries that include the `from:` field, and it only keeps in memory **one page of results**.\r\n\r\n**Usage:**\r\n\r\n\t// build your query here -- no need for setFrom(int)\r\n\tSearchRequestBuilder requestBuilder = client.prepareSearch(indexName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.setTypes(typeName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.setQuery(QueryBuilders.matchAllQuery()) \r\n\r\n\tSearchHitIterator hitIterator = new SearchHitIterator(requestBuilder);\r\n\twhile (hitIterator.hasNext()) {\r\n\t\tSearchHit hit = hitIterator.next();\r\n\t\t\r\n\t\t// process your hit\r\n\t}\r\n\r\nNote that, when creating your `SearchRequestBuilder`, you don&#39;t need to call `setFrom(int)`, as this will be done interally by the `SearchHitIterator`. If you want to specify the size of a page (i.e. the number of search hits per page), you can call `setSize(int)`, otherwise ElasticSearch&#39;s default value is used.\r\n\r\n\r\n\r\n**SearchHitIterator:**\r\n\r\n    import java.util.Iterator;\r\n    import org.elasticsearch.action.search.SearchRequestBuilder;\r\n    import org.elasticsearch.action.search.SearchResponse;\r\n    import org.elasticsearch.search.SearchHit;\r\n    \r\n    public class SearchHitIterator implements Iterator&lt;SearchHit&gt; {\r\n    \t\r\n    \tprivate final SearchRequestBuilder initialRequest;\r\n    \t\r\n    \tprivate int searchHitCounter;\r\n    \tprivate SearchHit[] currentPageResults;\r\n    \tprivate int currentResultIndex;\r\n    \t\r\n    \tpublic SearchHitIterator(SearchRequestBuilder initialRequest) {\r\n    \t\tthis.initialRequest = initialRequest;\r\n    \t\tthis.searchHitCounter = 0;\r\n    \t\tthis.currentResultIndex = -1;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\tif (currentPageResults == null || currentResultIndex + 1 &gt;= currentPageResults.length) {\r\n    \t\t\tSearchRequestBuilder paginatedRequestBuilder = initialRequest.setFrom(searchHitCounter);\r\n    \t\t\tSearchResponse response = paginatedRequestBuilder.execute().actionGet();\r\n    \t\t\tcurrentPageResults = response.getHits().getHits();\r\n    \t\t\t\r\n    \t\t\tif (currentPageResults.length &lt; 1) return false;\r\n    \t\t\t\r\n    \t\t\tcurrentResultIndex = -1;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic SearchHit next() {\r\n    \t\tif (!hasNext()) return null;\r\n\r\n    \t\tcurrentResultIndex++;\r\n    \t\tsearchHitCounter++;\r\n    \t\treturn currentPageResults[currentResultIndex];\r\n    \t}\r\n    \r\n    }\r\n\r\nIn fact, realizing how convenient it is to have such a class, I wonder why ElasticSearch&#39;s Java client does not offer something similar.","title":"Return all records in one query in Elasticsearch","body":"<p>The current highest-ranked answer works, but it requires loading the whole list of results in memory, which can cause memory issues for large result sets, and is in any case unnecessary.</p>\n\n<p>I created a Java class that implements a nice <code>Iterator</code> over <code>SearchHit</code>s, that allows to iterate through all results. Internally, it handles pagination by issuing queries that include the <code>from:</code> field, and it only keeps in memory <strong>one page of results</strong>.</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>// build your query here -- no need for setFrom(int)\nSearchRequestBuilder requestBuilder = client.prepareSearch(indexName)\n                                            .setTypes(typeName)\n                                            .setQuery(QueryBuilders.matchAllQuery()) \n\nSearchHitIterator hitIterator = new SearchHitIterator(requestBuilder);\nwhile (hitIterator.hasNext()) {\n    SearchHit hit = hitIterator.next();\n\n    // process your hit\n}\n</code></pre>\n\n<p>Note that, when creating your <code>SearchRequestBuilder</code>, you don't need to call <code>setFrom(int)</code>, as this will be done interally by the <code>SearchHitIterator</code>. If you want to specify the size of a page (i.e. the number of search hits per page), you can call <code>setSize(int)</code>, otherwise ElasticSearch's default value is used.</p>\n\n<p><strong>SearchHitIterator:</strong></p>\n\n<pre><code>import java.util.Iterator;\nimport org.elasticsearch.action.search.SearchRequestBuilder;\nimport org.elasticsearch.action.search.SearchResponse;\nimport org.elasticsearch.search.SearchHit;\n\npublic class SearchHitIterator implements Iterator&lt;SearchHit&gt; {\n\n    private final SearchRequestBuilder initialRequest;\n\n    private int searchHitCounter;\n    private SearchHit[] currentPageResults;\n    private int currentResultIndex;\n\n    public SearchHitIterator(SearchRequestBuilder initialRequest) {\n        this.initialRequest = initialRequest;\n        this.searchHitCounter = 0;\n        this.currentResultIndex = -1;\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (currentPageResults == null || currentResultIndex + 1 &gt;= currentPageResults.length) {\n            SearchRequestBuilder paginatedRequestBuilder = initialRequest.setFrom(searchHitCounter);\n            SearchResponse response = paginatedRequestBuilder.execute().actionGet();\n            currentPageResults = response.getHits().getHits();\n\n            if (currentPageResults.length &lt; 1) return false;\n\n            currentResultIndex = -1;\n        }\n\n        return true;\n    }\n\n    @Override\n    public SearchHit next() {\n        if (!hasNext()) return null;\n\n        currentResultIndex++;\n        searchHitCounter++;\n        return currentPageResults[currentResultIndex];\n    }\n\n}\n</code></pre>\n\n<p>In fact, realizing how convenient it is to have such a class, I wonder why ElasticSearch's Java client does not offer something similar.</p>\n"},{"tags":[],"owner":{"account_id":5628775,"reputation":121,"user_id":4456285,"display_name":"Ayush Gupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687392893,"creation_date":1479230524,"answer_id":40615990,"question_id":15114481,"body_markdown":"You could use scrolling API.\r\nThe other suggestion of using a searchhit iterator would also work great, but only when you don&#39;t want to update those hits.\r\n    \r\n    import static org.elasticsearch.index.query.QueryBuilders.*;\r\n    \r\n    QueryBuilder qb = termQuery(&quot;multi&quot;, &quot;test&quot;);\r\n    \r\n    SearchResponse scrollResp = client.prepareSearch(test)\r\n            .addSort(FieldSortBuilder.DOC_FIELD_NAME, SortOrder.ASC)\r\n            .setScroll(new TimeValue(60000))\r\n            .setQuery(qb)\r\n            .setSize(100).execute().actionGet(); //max of 100 hits will be returned for each scroll\r\n    //Scroll until no hits are returned\r\n    do {\r\n        for (SearchHit hit : scrollResp.getHits().getHits()) {\r\n            //Handle the hit...\r\n        }\r\n    \r\n        scrollResp = client.prepareSearchScroll(scrollResp.getScrollId()).setScroll(new TimeValue(60000)).execute().actionGet();\r\n    } while(scrollResp.getHits().getHits().length != 0); // Zero hits mark the end of the scroll and the while loop.","title":"Return all records in one query in Elasticsearch","body":"<p>You could use scrolling API.\nThe other suggestion of using a searchhit iterator would also work great, but only when you don't want to update those hits.</p>\n<pre><code>import static org.elasticsearch.index.query.QueryBuilders.*;\n\nQueryBuilder qb = termQuery(&quot;multi&quot;, &quot;test&quot;);\n\nSearchResponse scrollResp = client.prepareSearch(test)\n        .addSort(FieldSortBuilder.DOC_FIELD_NAME, SortOrder.ASC)\n        .setScroll(new TimeValue(60000))\n        .setQuery(qb)\n        .setSize(100).execute().actionGet(); //max of 100 hits will be returned for each scroll\n//Scroll until no hits are returned\ndo {\n    for (SearchHit hit : scrollResp.getHits().getHits()) {\n        //Handle the hit...\n    }\n\n    scrollResp = client.prepareSearchScroll(scrollResp.getScrollId()).setScroll(new TimeValue(60000)).execute().actionGet();\n} while(scrollResp.getHits().getHits().length != 0); // Zero hits mark the end of the scroll and the while loop.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2423940,"reputation":137,"user_id":8950995,"display_name":"Doi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582887457,"creation_date":1582712022,"answer_id":60411504,"question_id":15114481,"body_markdown":"For version 6.3.2, the following worked: \r\n\r\n```\r\npublic List&lt;Map&lt;String, Object&gt;&gt; getAllDocs(String indexName, String searchType) throws FileNotFoundException, UnsupportedEncodingException{\r\n\r\n    int scrollSize = 1000;\r\n    List&lt;Map&lt;String,Object&gt;&gt; esData = new ArrayList&lt;&gt;();\r\n    SearchResponse response = null;\r\n    int i=0;\r\n\r\n    response = client.prepareSearch(indexName)\r\n        .setScroll(new TimeValue(60000))\r\n        .setTypes(searchType)  // The document types to execute the search against. Defaults to be executed against all types.\r\n        .setQuery(QueryBuilders.matchAllQuery())\r\n        .setSize(scrollSize).get(); //max of 100 hits will be returned for each scroll\r\n    //Scroll until no hits are returned\r\n    do {\r\n        for (SearchHit hit : response.getHits().getHits()) {\r\n            ++i;\r\n            System.out.println (i + &quot; &quot; + hit.getId());\r\n            writer.println(i + &quot; &quot; + hit.getId());\r\n        }\r\n        System.out.println(i);\r\n\r\n        response = client.prepareSearchScroll(response.getScrollId()).setScroll(new TimeValue(60000)).execute().actionGet();\r\n    } while(response.getHits().getHits().length != 0); // Zero hits mark the end of the scroll and the while loop.\r\n    return esData;\r\n}\r\n```\r\n","title":"Return all records in one query in Elasticsearch","body":"<p>For version 6.3.2, the following worked: </p>\n\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getAllDocs(String indexName, String searchType) throws FileNotFoundException, UnsupportedEncodingException{\n\n    int scrollSize = 1000;\n    List&lt;Map&lt;String,Object&gt;&gt; esData = new ArrayList&lt;&gt;();\n    SearchResponse response = null;\n    int i=0;\n\n    response = client.prepareSearch(indexName)\n        .setScroll(new TimeValue(60000))\n        .setTypes(searchType)  // The document types to execute the search against. Defaults to be executed against all types.\n        .setQuery(QueryBuilders.matchAllQuery())\n        .setSize(scrollSize).get(); //max of 100 hits will be returned for each scroll\n    //Scroll until no hits are returned\n    do {\n        for (SearchHit hit : response.getHits().getHits()) {\n            ++i;\n            System.out.println (i + \" \" + hit.getId());\n            writer.println(i + \" \" + hit.getId());\n        }\n        System.out.println(i);\n\n        response = client.prepareSearchScroll(response.getScrollId()).setScroll(new TimeValue(60000)).execute().actionGet();\n    } while(response.getHits().getHits().length != 0); // Zero hits mark the end of the scroll and the while loop.\n    return esData;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9687457,"reputation":599,"user_id":7186690,"display_name":"Doston"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590875819,"creation_date":1590875465,"answer_id":62109103,"question_id":15114481,"body_markdown":"It has been long since you asked this question, and I would like to post my answer for future readers. \r\n\r\nAs mentioned above answers, it is better to load documents with size and start when you have thousands of documents in the index. In my project, the search loads 50 results as default size and starting from zero index, if a user wants to load more data, then the next 50 results will be loaded. Here what I have done in the code:\r\n\r\n    public List&lt;CourseDto&gt; searchAllCourses(int startDocument) {\r\n\r\n        final int searchSize = 50;\r\n        final SearchRequest searchRequest = new SearchRequest(&quot;course_index&quot;);\r\n        final SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n        searchSourceBuilder.query(QueryBuilders.matchAllQuery());\r\n    \r\n        if (startDocument != 0) {\r\n            startDocument += searchSize;\r\n        }\r\n    \r\n        searchSourceBuilder.from(startDocument);\r\n        searchSourceBuilder.size(searchSize);\r\n    \r\n        // sort the document\r\n        searchSourceBuilder.sort(new FieldSortBuilder(&quot;publishedDate&quot;).order(SortOrder.ASC));\r\n        searchRequest.source(searchSourceBuilder);\r\n    \r\n        List&lt;CourseDto&gt; courseList = new ArrayList&lt;&gt;();\r\n    \r\n        try {\r\n            final SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n            final SearchHits hits = searchResponse.getHits();\r\n    \r\n            // Do you want to know how many documents (results) are returned? here is you get:\r\n            TotalHits totalHits = hits.getTotalHits();\r\n            long numHits = totalHits.value;\r\n    \r\n            final SearchHit[] searchHits = hits.getHits();\r\n    \r\n            final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            for (SearchHit hit : searchHits) {\r\n                // convert json object to CourseDto\r\n                courseList.add(mapper.readValue(hit.getSourceAsString(), CourseDto.class));\r\n            }\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Cannot search by all mach. &quot; + e);\r\n        }\r\n        return courseList;\r\n    }\r\n\r\n\r\nInfo:\r\n- Elasticsearch version 7.5.0\r\n- Java High Level REST Client is used as client.\r\n\r\nI Hope, this will be useful for someone.","title":"Return all records in one query in Elasticsearch","body":"<p>It has been long since you asked this question, and I would like to post my answer for future readers. </p>\n\n<p>As mentioned above answers, it is better to load documents with size and start when you have thousands of documents in the index. In my project, the search loads 50 results as default size and starting from zero index, if a user wants to load more data, then the next 50 results will be loaded. Here what I have done in the code:</p>\n\n<pre><code>public List&lt;CourseDto&gt; searchAllCourses(int startDocument) {\n\n    final int searchSize = 50;\n    final SearchRequest searchRequest = new SearchRequest(\"course_index\");\n    final SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n    searchSourceBuilder.query(QueryBuilders.matchAllQuery());\n\n    if (startDocument != 0) {\n        startDocument += searchSize;\n    }\n\n    searchSourceBuilder.from(startDocument);\n    searchSourceBuilder.size(searchSize);\n\n    // sort the document\n    searchSourceBuilder.sort(new FieldSortBuilder(\"publishedDate\").order(SortOrder.ASC));\n    searchRequest.source(searchSourceBuilder);\n\n    List&lt;CourseDto&gt; courseList = new ArrayList&lt;&gt;();\n\n    try {\n        final SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n        final SearchHits hits = searchResponse.getHits();\n\n        // Do you want to know how many documents (results) are returned? here is you get:\n        TotalHits totalHits = hits.getTotalHits();\n        long numHits = totalHits.value;\n\n        final SearchHit[] searchHits = hits.getHits();\n\n        final ObjectMapper mapper = new ObjectMapper();\n\n        for (SearchHit hit : searchHits) {\n            // convert json object to CourseDto\n            courseList.add(mapper.readValue(hit.getSourceAsString(), CourseDto.class));\n        }\n    } catch (IOException e) {\n        logger.error(\"Cannot search by all mach. \" + e);\n    }\n    return courseList;\n}\n</code></pre>\n\n<p>Info:\n- Elasticsearch version 7.5.0\n- Java High Level REST Client is used as client.</p>\n\n<p>I Hope, this will be useful for someone.</p>\n"},{"tags":[],"owner":{"account_id":11390163,"reputation":378,"user_id":8350518,"display_name":"Mahesh Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643024033,"creation_date":1643024033,"answer_id":70833207,"question_id":15114481,"body_markdown":"    SearchResponse response = restHighLevelClient.search(new SearchRequest(&quot;Index_Name&quot;), RequestOptions.DEFAULT);\r\n    SearchHit[] hits = response.getHits().getHits();","title":"Return all records in one query in Elasticsearch","body":"<pre><code>SearchResponse response = restHighLevelClient.search(new SearchRequest(&quot;Index_Name&quot;), RequestOptions.DEFAULT);\nSearchHit[] hits = response.getHits().getHits();\n</code></pre>\n"}],"owner":{"account_id":2423055,"reputation":145,"user_id":2115605,"accept_rate":25,"display_name":"San4o"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37765,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":10,"score":13,"last_activity_date":1688065864,"creation_date":1361975123,"question_id":15114481,"body_markdown":"I have a database in elastic search and want to get all records on my web site page. I wrote a bean, which connects to the elastic search node, searches records and returns some response. My simple Java code, which does the searching, is:\r\n\r\n    SearchResponse response = getClient().prepareSearch(indexName)\r\n        .setTypes(typeName)\t\t\t\t \r\n        .setQuery(queryString(&quot;\\*:*&quot;))\r\n        .setExplain(true)\r\n        .execute().actionGet();\r\n\r\n\r\nBut Elasticsearch set default size to 10 and I have 10 hits in response. There are more than 10 records in my database. If I set size to &lt;code&gt;Integer.MAX_VALUE&lt;/code&gt; my search becomes very slow and this not what I want. \r\n\r\nHow can I get all the records in one action in an acceptable amount of time without setting size of response?","title":"Return all records in one query in Elasticsearch","body":"<p>I have a database in elastic search and want to get all records on my web site page. I wrote a bean, which connects to the elastic search node, searches records and returns some response. My simple Java code, which does the searching, is:</p>\n<pre><code>SearchResponse response = getClient().prepareSearch(indexName)\n    .setTypes(typeName)              \n    .setQuery(queryString(&quot;\\*:*&quot;))\n    .setExplain(true)\n    .execute().actionGet();\n</code></pre>\n<p>But Elasticsearch set default size to 10 and I have 10 hits in response. There are more than 10 records in my database. If I set size to <code>Integer.MAX_VALUE</code> my search becomes very slow and this not what I want.</p>\n<p>How can I get all the records in one action in an acceptable amount of time without setting size of response?</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1688099868,"post_id":76583967,"comment_id":135031226,"body_markdown":"as far as I know it should work. try creating a simple example using the quickstart and take it from there. `testing` should be on the java classpath. take the help of a friend who knows java if needed: https://github.com/karatelabs/karate/wiki/Get-Started:-Maven-and-Gradle","body":"as far as I know it should work. try creating a simple example using the quickstart and take it from there. <code>testing</code> should be on the java classpath. take the help of a friend who knows java if needed: <a href=\"https://github.com/karatelabs/karate/wiki/Get-Started:-Maven-and-Gradle\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/Get-Started:-Maven-and-Gra&zwnj;&#8203;dle</a>"}],"owner":{"account_id":16295611,"reputation":23,"user_id":14664112,"display_name":"Afshin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688065557,"creation_date":1688065557,"question_id":76583967,"body_markdown":"I want to call a Java class inside my Karate test which takes 3 inputs, one is file_path, and 2 is hash map.\r\n\r\n```\r\npublic class testing {\r\n    public static void testing(String filePath, HashMap&lt;String, String&gt; refMap, HashMap&lt;String, String&gt; modifyMap) {\r\n        TestPdfProcessorKt.utilPDFProcess(filePath, refMap, modifyMap);\r\n    }\r\n```\r\n\r\n```\r\nFeature: Calling Kotlin function in Karate\r\n\r\n  Scenario: Call Kotlin function\r\n    * def first = {&quot;name&quot;:&quot;Mike&quot;}\r\n    * def second = {&quot;name&quot;:&quot;Jack&quot;}\r\n    * def result = Java.type(&#39;testing&#39;).testing(&quot;/Users/file&quot;, first, second)\r\n```\r\n\r\nI googled it and I couldn&#39;t find an answer","title":"How to call hash map in Karate test when calling a Java function?","body":"<p>I want to call a Java class inside my Karate test which takes 3 inputs, one is file_path, and 2 is hash map.</p>\n<pre><code>public class testing {\n    public static void testing(String filePath, HashMap&lt;String, String&gt; refMap, HashMap&lt;String, String&gt; modifyMap) {\n        TestPdfProcessorKt.utilPDFProcess(filePath, refMap, modifyMap);\n    }\n</code></pre>\n<pre><code>Feature: Calling Kotlin function in Karate\n\n  Scenario: Call Kotlin function\n    * def first = {&quot;name&quot;:&quot;Mike&quot;}\n    * def second = {&quot;name&quot;:&quot;Jack&quot;}\n    * def result = Java.type('testing').testing(&quot;/Users/file&quot;, first, second)\n</code></pre>\n<p>I googled it and I couldn't find an answer</p>\n"},{"tags":["java","kotlin","gradle"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1688022013,"post_id":76577663,"comment_id":135018406,"body_markdown":"if a Kotlin file has a main inside it, I think that it might be renamed to Main by the compiler, but not sure. Try to specify the package in the call `int result = com.package.MyKotlinKt.add(5, 8);`. Another thing that you could try is to annotate the kotlin file with `@file:JvmName(&quot;MyKotlinFile&quot;)`, then you would do `int result = MyKotlinFile.add(5, 8);` (of course, name it whatever you want).","body":"if a Kotlin file has a main inside it, I think that it might be renamed to Main by the compiler, but not sure. Try to specify the package in the call <code>int result = com.package.MyKotlinKt.add(5, 8);</code>. Another thing that you could try is to annotate the kotlin file with <code>@file:JvmName(&quot;MyKotlinFile&quot;)</code>, then you would do <code>int result = MyKotlinFile.add(5, 8);</code> (of course, name it whatever you want)."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1688024956,"post_id":76577663,"comment_id":135018957,"body_markdown":"We need more details on your project structure. Are both files in the same Gradle module? Could you build a jar file and see what&#39;s inside?","body":"We need more details on your project structure. Are both files in the same Gradle module? Could you build a jar file and see what&#39;s inside?"},{"owner":{"account_id":16295611,"reputation":23,"user_id":14664112,"display_name":"Afshin"},"score":0,"creation_date":1688050456,"post_id":76577663,"comment_id":135024468,"body_markdown":"I did all the suggestions, when I do `javac Runner.java`, it doesn&#39;t compile because of that error","body":"I did all the suggestions, when I do <code>javac Runner.java</code>, it doesn&#39;t compile because of that error"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1688059366,"post_id":76577663,"comment_id":135026383,"body_markdown":"Wait, you compile it manually using javac?","body":"Wait, you compile it manually using javac?"},{"owner":{"account_id":16295611,"reputation":23,"user_id":14664112,"display_name":"Afshin"},"score":0,"creation_date":1688065697,"post_id":76577663,"comment_id":135027604,"body_markdown":"With Javac, it didn&#39;t work. I had to put the kotlin file in a kotlin directory and Java file in Java directory for it to work. Having it one directory didn&#39;t work","body":"With Javac, it didn&#39;t work. I had to put the kotlin file in a kotlin directory and Java file in Java directory for it to work. Having it one directory didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":16295611,"reputation":23,"user_id":14664112,"display_name":"Afshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688065355,"creation_date":1688065355,"answer_id":76583945,"question_id":76577663,"body_markdown":"What I had to do was was have the Java file in a java directory and kotlin file in a Kotlin directory for it to work","title":"Running Kotlin function inside a Java class in a Kotlin project","body":"<p>What I had to do was was have the Java file in a java directory and kotlin file in a Kotlin directory for it to work</p>\n"}],"owner":{"account_id":16295611,"reputation":23,"user_id":14664112,"display_name":"Afshin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688065355,"creation_date":1688004419,"question_id":76577663,"body_markdown":"I want to run a Kotlin function inside a Java class.\r\nI know how to set it up but I believe the issue is my ```build.gradle.kts``` ?\r\n\r\nWhen I run the Java function...this is the error I get:\r\n\r\n```\r\nRunner.java:6: error: cannot find symbol\r\n        int result = MyKotlinKt.add(5, 8);\r\n                     ^\r\n  symbol:   variable MyKotlinKt\r\n  location: class Runner\r\n```\r\n\r\nHere are my files:\r\n\r\n**MyKotlin.kt** Kotlin file\r\n\r\n```\r\npackage com.example\r\n\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    var result = max(8,65)\r\n    println(result)\r\n}\r\n\r\nfun add(a: Int, b: Int): Int= a+b\r\nfun max(a: Int, b: Int) : Int = if(a&gt;b) a else b\r\n```\r\n\r\n**Runner** Java file\r\n\r\n```\r\npackage com.example;\r\n\r\npublic class Runner {\r\n    public static void main(String[] args)\r\n    {\r\n        int result = MyKotlinKt.add(5, 8);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\n\r\n**build.gradle.kts** file\r\n\r\n```\r\nplugins {\r\n    id(&quot;com.example.kotlin-library-conventions&quot;)\r\n}\r\n\r\ndependencies {\r\n    api(&quot;org.camunda.bpm.springboot:camunda-bpm-spring-boot-starter&quot;)\r\n    api(&quot;org.camunda.bpm:camunda-engine-plugin-spin&quot;)\r\n    api(&quot;org.camunda.spin:camunda-spin-dataformat-json-jackson&quot;)\r\n    api(project(&quot;:service&quot;))\r\n    testImplementation(project(&quot;:testing&quot;))\r\n    implementation(&quot;org.apache.pdfbox:pdfbox:2.0.27&quot;)\r\n}\r\n\r\ntasks.register&lt;Test&gt;(&quot;dmnValidation&quot;) {\r\n    useJUnitPlatform {\r\n        includeTags(&quot;dmnValidation&quot;)\r\n    }\r\n}\r\n```\r\n\r\nI tried watching videos, searched everywhere to figure out the problem.","title":"Running Kotlin function inside a Java class in a Kotlin project","body":"<p>I want to run a Kotlin function inside a Java class.\nI know how to set it up but I believe the issue is my <code>build.gradle.kts</code> ?</p>\n<p>When I run the Java function...this is the error I get:</p>\n<pre><code>Runner.java:6: error: cannot find symbol\n        int result = MyKotlinKt.add(5, 8);\n                     ^\n  symbol:   variable MyKotlinKt\n  location: class Runner\n</code></pre>\n<p>Here are my files:</p>\n<p><strong>MyKotlin.kt</strong> Kotlin file</p>\n<pre><code>package com.example\n\n\nfun main(args: Array&lt;String&gt;) {\n    var result = max(8,65)\n    println(result)\n}\n\nfun add(a: Int, b: Int): Int= a+b\nfun max(a: Int, b: Int) : Int = if(a&gt;b) a else b\n</code></pre>\n<p><strong>Runner</strong> Java file</p>\n<pre><code>package com.example;\n\npublic class Runner {\n    public static void main(String[] args)\n    {\n        int result = MyKotlinKt.add(5, 8);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p><strong>build.gradle.kts</strong> file</p>\n<pre><code>plugins {\n    id(&quot;com.example.kotlin-library-conventions&quot;)\n}\n\ndependencies {\n    api(&quot;org.camunda.bpm.springboot:camunda-bpm-spring-boot-starter&quot;)\n    api(&quot;org.camunda.bpm:camunda-engine-plugin-spin&quot;)\n    api(&quot;org.camunda.spin:camunda-spin-dataformat-json-jackson&quot;)\n    api(project(&quot;:service&quot;))\n    testImplementation(project(&quot;:testing&quot;))\n    implementation(&quot;org.apache.pdfbox:pdfbox:2.0.27&quot;)\n}\n\ntasks.register&lt;Test&gt;(&quot;dmnValidation&quot;) {\n    useJUnitPlatform {\n        includeTags(&quot;dmnValidation&quot;)\n    }\n}\n</code></pre>\n<p>I tried watching videos, searched everywhere to figure out the problem.</p>\n"},{"tags":["java","android","spinner"],"comments":[{"owner":{"account_id":14096185,"reputation":6841,"user_id":10182897,"display_name":"Ashish"},"score":1,"creation_date":1555950063,"post_id":55796823,"comment_id":98263978,"body_markdown":"can you provide your code so i can help you out","body":"can you provide your code so i can help you out"}],"answers":[{"tags":[],"owner":{"account_id":976255,"reputation":1698,"user_id":997341,"display_name":"Michael Dougan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555947475,"creation_date":1555947475,"answer_id":55796939,"question_id":55796823,"body_markdown":"The View view is most likely the spinner that made the selection.  If you set the .tag = 1 of each spinner to different numbers at the start of your program, then you will be able to look at what tag value is passed to the onItemSelected method:\r\n\r\n    if (view.tag == 1)...","title":"How to get the spinner&#39;s id on the onItemSelected method?","body":"<p>The View view is most likely the spinner that made the selection.  If you set the .tag = 1 of each spinner to different numbers at the start of your program, then you will be able to look at what tag value is passed to the onItemSelected method:</p>\n\n<pre><code>if (view.tag == 1)...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1555948651,"creation_date":1555948651,"answer_id":55797219,"question_id":55796823,"body_markdown":"Probably you have set a common listener for all the spinners, so you can distinguish which spinner was selected by checking `parent.getId()`:\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n        switch (parent.getId()){\r\n            case R.id.spinner1:\r\n                //your code here\r\n                break;\r\n            case R.id.spinner2:\r\n                //your code here\r\n                break;\r\n            case R.id.spinner3:\r\n                //your code here\r\n                break;\r\n        }\r\n    }","title":"How to get the spinner&#39;s id on the onItemSelected method?","body":"<p>Probably you have set a common listener for all the spinners, so you can distinguish which spinner was selected by checking <code>parent.getId()</code>:</p>\n\n<pre><code>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n    switch (parent.getId()){\n        case R.id.spinner1:\n            //your code here\n            break;\n        case R.id.spinner2:\n            //your code here\n            break;\n        case R.id.spinner3:\n            //your code here\n            break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13597017,"reputation":51,"user_id":9808767,"display_name":"Ayman.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688065038,"creation_date":1688065038,"answer_id":76583916,"question_id":55796823,"body_markdown":"    private int mainSelectedItemId = 0, subSelectedItemId = 0;\r\n    private String mainSelectedItemStr, subSelectedItemStr;\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long id) {\r\n        if (adapterView.getId() == R.id.spiner_main) {\r\n            mainSelectedItemId = position;\r\n            mainSelectedItemStr = adapterView.getSelectedItem().toString();\r\n            Log.e(&quot;zxzx1&quot;, &quot;spiner_main:\\n positionID: &quot; + mainSelectedItemId + &quot;\\n SelectedItemStr: &quot; + mainSelectedItemStr);\r\n        } else if (adapterView.getId() == R.id.spiner_sub) {\r\n            subSelectedItemId = position;\r\n            subSelectedItemStr = adapterView.getSelectedItem().toString();\r\n            Log.e(&quot;zxzx2&quot;, &quot;spiner_sub:\\n positionID: &quot; + subSelectedItemId + &quot;\\n SelectedItemStr: &quot; + subSelectedItemStr);\r\n        }\r\n    }\r\n\r\nresult in logs:\r\n\r\n    2023-06-29 20:48:28.076 10257-10257 zxzx1  com.tech.appName E &gt; spiner_main:\r\n     positionID: 0\r\n    SelectedItemStr: Mens\r\n    2023-06-29 20:48:49.591 10257-10257 zxzx2  com.tech.appName E  spiner_sub: \r\n    positionID: 2\r\n    SelectedItemStr: T.Shirt\r\n\r\n\r\n","title":"How to get the spinner&#39;s id on the onItemSelected method?","body":"<pre><code>private int mainSelectedItemId = 0, subSelectedItemId = 0;\nprivate String mainSelectedItemStr, subSelectedItemStr;\n@Override\npublic void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long id) {\n    if (adapterView.getId() == R.id.spiner_main) {\n        mainSelectedItemId = position;\n        mainSelectedItemStr = adapterView.getSelectedItem().toString();\n        Log.e(&quot;zxzx1&quot;, &quot;spiner_main:\\n positionID: &quot; + mainSelectedItemId + &quot;\\n SelectedItemStr: &quot; + mainSelectedItemStr);\n    } else if (adapterView.getId() == R.id.spiner_sub) {\n        subSelectedItemId = position;\n        subSelectedItemStr = adapterView.getSelectedItem().toString();\n        Log.e(&quot;zxzx2&quot;, &quot;spiner_sub:\\n positionID: &quot; + subSelectedItemId + &quot;\\n SelectedItemStr: &quot; + subSelectedItemStr);\n    }\n}\n</code></pre>\n<p>result in logs:</p>\n<pre><code>2023-06-29 20:48:28.076 10257-10257 zxzx1  com.tech.appName E &gt; spiner_main:\n positionID: 0\nSelectedItemStr: Mens\n2023-06-29 20:48:49.591 10257-10257 zxzx2  com.tech.appName E  spiner_sub: \npositionID: 2\nSelectedItemStr: T.Shirt\n</code></pre>\n"}],"owner":{"account_id":15638293,"reputation":31,"user_id":11282471,"display_name":"Nouxy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":55797219,"answer_count":3,"score":-1,"last_activity_date":1688065038,"creation_date":1555946901,"question_id":55796823,"body_markdown":"My problem is : I want to have 3 different spinners, that displays the same type of object, and I want to be able to identify from which spinner I get the data, for example : \r\nIn spinner 1, the user selected &quot;potato&quot;\r\nIn spinner 2, the user selected &quot;tomato&quot;\r\nIn spinner 3, the user selected &quot;fries&quot; \r\n\r\nBut I can only get &quot;the user selected [...]&quot;, since I don&#39;t know how to tell from which spinner I got the data.\r\n\r\nI was wondering if there was a way to do that on the  onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) method ?","title":"How to get the spinner&#39;s id on the onItemSelected method?","body":"<p>My problem is : I want to have 3 different spinners, that displays the same type of object, and I want to be able to identify from which spinner I get the data, for example : \nIn spinner 1, the user selected \"potato\"\nIn spinner 2, the user selected \"tomato\"\nIn spinner 3, the user selected \"fries\" </p>\n\n<p>But I can only get \"the user selected [...]\", since I don't know how to tell from which spinner I got the data.</p>\n\n<p>I was wondering if there was a way to do that on the  onItemSelected(AdapterView parent, View view, int position, long id) method ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10226257,"reputation":125,"user_id":9982966,"display_name":"Abe Shudug"},"score":0,"creation_date":1688064387,"post_id":76583790,"comment_id":135027348,"body_markdown":"Okay I fixed the necessary places in code but now my formula is only returning 0","body":"Okay I fixed the necessary places in code but now my formula is only returning 0"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1688064614,"post_id":76583790,"comment_id":135027394,"body_markdown":"Is your formula returning zero for any value of `message`?","body":"Is your formula returning zero for any value of <code>message</code>?"},{"owner":{"account_id":10226257,"reputation":125,"user_id":9982966,"display_name":"Abe Shudug"},"score":0,"creation_date":1688064676,"post_id":76583790,"comment_id":135027410,"body_markdown":"0.0 or -0.0 is what I receive","body":"0.0 or -0.0 is what I receive"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1688065017,"post_id":76583790,"comment_id":135027469,"body_markdown":"`CONVERSION_FACTOR` is zero because you are dividing two integers. I suggest that you change it to: `final double CONVERSION_FACTOR = 5.0/9;`","body":"<code>CONVERSION_FACTOR</code> is zero because you are dividing two integers. I suggest that you change it to: <code>final double CONVERSION_FACTOR = 5.0&#47;9;</code>"}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688064269,"creation_date":1688064269,"answer_id":76583838,"question_id":76583790,"body_markdown":"The error message says it all. You&#39;re trying to perform mathematical operations on strings, that&#39;s not allowed. So turn your strings into numbers.","title":"Conversion of Fahrenheit to Celsius and taking input from the user to modify","body":"<p>The error message says it all. You're trying to perform mathematical operations on strings, that's not allowed. So turn your strings into numbers.</p>\n"},{"tags":[],"owner":{"account_id":23624780,"reputation":61,"user_id":17657492,"display_name":"Zaburba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688064882,"creation_date":1688064882,"answer_id":76583898,"question_id":76583790,"body_markdown":"I&#39;m new to Java, but I probably know the solution to your problem.\r\n\r\nThe problem is that you are trying to add an int to a String type variable.\r\n\r\nI suggest the following changes:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    //Computes the Celsius equivalent of the inputted Fahrenheit value\r\n    //using the formula C=(F-32)*5/9\r\n    {\r\n        final int BASE = -32;\r\n        // If you use the variable double you should divide 5.0 / 9\r\n        final double CONVERSION_FACTOR = 5.0 /9;\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.println(&quot;Enter A Fahrenheit:&quot;);\r\n        // to avoid the problem I described above use the nextInt() method instead of nextLine()\r\n        int message = scan.nextInt();\r\n\r\n        double CelsiusTemp = (message + BASE) * CONVERSION_FACTOR;\r\n        \r\n        // I replaced &quot;message&quot; with the converted value\r\n        System.out.println(&quot;Your conversion is:&quot; + CelsiusTemp);\r\n    }\r\n}\r\n```\r\nI hope I helped.\r\n","title":"Conversion of Fahrenheit to Celsius and taking input from the user to modify","body":"<p>I'm new to Java, but I probably know the solution to your problem.</p>\n<p>The problem is that you are trying to add an int to a String type variable.</p>\n<p>I suggest the following changes:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args)\n    //Computes the Celsius equivalent of the inputted Fahrenheit value\n    //using the formula C=(F-32)*5/9\n    {\n        final int BASE = -32;\n        // If you use the variable double you should divide 5.0 / 9\n        final double CONVERSION_FACTOR = 5.0 /9;\n\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter A Fahrenheit:&quot;);\n        // to avoid the problem I described above use the nextInt() method instead of nextLine()\n        int message = scan.nextInt();\n\n        double CelsiusTemp = (message + BASE) * CONVERSION_FACTOR;\n        \n        // I replaced &quot;message&quot; with the converted value\n        System.out.println(&quot;Your conversion is:&quot; + CelsiusTemp);\n    }\n}\n</code></pre>\n<p>I hope I helped.</p>\n"}],"owner":{"account_id":10226257,"reputation":125,"user_id":9982966,"display_name":"Abe Shudug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688065059,"accepted_answer_id":76583898,"answer_count":2,"score":0,"last_activity_date":1688064882,"creation_date":1688063709,"question_id":76583790,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class FHeightToCelsius {\r\n\r\n    public static void main(String[] args)\r\n    //Computes the Celsius equivalent of the inputted Fahrenheit value\r\n    //using the formula C=(F-32)*5/9\r\n    {\r\n        final int BASE = -32;\r\n        final double CONVERSION_FACTOR = 5/9;\r\n\r\n        Double message;\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.println(&quot;Enter A Fahrenheit:&quot;);\r\n        message = scan.nextDouble();\r\n\r\n        double CelsiusTemp;\r\n\r\n        CelsiusTemp = (message + BASE) * CONVERSION_FACTOR;\r\n\r\n        System.out.println(&quot;Your conversion is:&quot; + CelsiusTemp);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nMath isn&#39;t my strong suit, nor is problem solving (YET!!)\r\nWhat I also need help with is fleshing out and understanding if this formula is right or correct and how we come about that.  I looked up the formula online, but, I&#39;m not sure if I converted it right in code.\r\n\r\nI cannot get the math formula to work.","title":"Conversion of Fahrenheit to Celsius and taking input from the user to modify","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class FHeightToCelsius {\n\n    public static void main(String[] args)\n    //Computes the Celsius equivalent of the inputted Fahrenheit value\n    //using the formula C=(F-32)*5/9\n    {\n        final int BASE = -32;\n        final double CONVERSION_FACTOR = 5/9;\n\n        Double message;\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter A Fahrenheit:&quot;);\n        message = scan.nextDouble();\n\n        double CelsiusTemp;\n\n        CelsiusTemp = (message + BASE) * CONVERSION_FACTOR;\n\n        System.out.println(&quot;Your conversion is:&quot; + CelsiusTemp);\n\n    }\n}\n</code></pre>\n<p>Math isn't my strong suit, nor is problem solving (YET!!)\nWhat I also need help with is fleshing out and understanding if this formula is right or correct and how we come about that.  I looked up the formula online, but, I'm not sure if I converted it right in code.</p>\n<p>I cannot get the math formula to work.</p>\n"},{"tags":["java","android","kotlin","koin"],"comments":[{"owner":{"account_id":295108,"reputation":72036,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"score":0,"creation_date":1628610616,"post_id":68729881,"comment_id":121464833,"body_markdown":"If you are trying to use a ViewModel in a service (which you cant) then you are incorrectly using the viewmodel. Abstract your logic out into a class that can be used in both the ViewModel and a Service","body":"If you are trying to use a ViewModel in a service (which you cant) then you are incorrectly using the viewmodel. Abstract your logic out into a class that can be used in both the ViewModel and a Service"}],"owner":{"account_id":18324611,"reputation":81,"user_id":13344583,"display_name":"Fernando Amaral"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688063628,"creation_date":1628610459,"question_id":68729881,"body_markdown":"I need to use all the behaviors and attributes that a vieModel has inside a Service class\r\nbelow is an example of how I tried to do it.\r\n\r\n    val wifiViewModel by viewModel&lt;WifiNavViewModel&gt;()","title":"How to inject a viewModel into a Service class using Koin?","body":"<p>I need to use all the behaviors and attributes that a vieModel has inside a Service class\nbelow is an example of how I tried to do it.</p>\n<pre><code>val wifiViewModel by viewModel&lt;WifiNavViewModel&gt;()\n</code></pre>\n"},{"tags":["java","maven","maven-shade-plugin"],"comments":[{"owner":{"display_name":"user177800"},"score":3,"creation_date":1523628366,"post_id":49810578,"comment_id":86652472,"body_markdown":"[How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users) The answer, *&quot;A lot. An absurd amount. More than you think you are capable of. After you have reached the end of your rope and the pain of not having the answer exceeds the vast amount of shame received by posting your question, that&#39;s when you can go ahead and ask. Because at that point, you will have done whatever research necessary to make it a good question worth asking!&quot;*","body":"<a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a> The answer, <i>&quot;A lot. An absurd amount. More than you think you are capable of. After you have reached the end of your rope and the pain of not having the answer exceeds the vast amount of shame received by posting your question, that&#39;s when you can go ahead and ask. Because at that point, you will have done whatever research necessary to make it a good question worth asking!&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":2,"up_vote_count":179,"is_accepted":true,"score":177,"last_activity_date":1597327951,"creation_date":1523604941,"answer_id":49811665,"question_id":49810578,"body_markdown":"I&#39;ll explain what an uber JAR is first because this underpins the shading explanation.\r\n\r\n# Uber JAR\r\n\r\nAn uber JAR is a JAR which contains the contents of multiple JARs (or, less commonly, multiple other JARs themselves)\r\n\r\nYour application will almost certainly use other packages and these packages might be provided as JARs. When using Maven these dependencies would be expressed as follows:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;...&lt;/groupId&gt;\r\n        &lt;artifactId&gt;...&lt;/artifactId&gt;\r\n        &lt;version&gt;...&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAt runtime your application will expect to find the classes contained in this JAR on its classpath. \r\n\r\nRather than shipping each of these dependent JARs along with your application, you could create an uber JAR which contains all of the classes etc from these dependent JARs and then simply run your application from this uber JAR.\r\n\r\n# Shading\r\n\r\nShading provides a way of creating an uber JAR and renaming the packages which that uber JAR contains. If your uber JAR is likely to be used as a dependency in another application then there&#39;s a risk that the versions of the dependent classes in the uber JAR might clash with versions of those same dependencies in this other application. Shading helps to avoid any such issue by renaming the packages within the uber JAR.\r\n\r\nFor example:\r\n\r\n1. You create an uber JAR which contains v1.0.0 of the `Foo` library.\r\n1. Someone else uses your uber JAR in their application, `Bar`\r\n1. The `Bar` application has its own dependency on `Foo` but on v1.2.0 of that library. \r\n\r\nNow, if there is any clash between versions 1.0.0 and 1.2.0 of `Foo` we may have a problem because the owner of `Bar` cannot rely on which one will be loaded so either their code will misbehave or your code - when running within their application - will misbehave.\r\n\r\nShading helps to avoid issues such as this and also allows the provider of `Foo` to be explicit about the versions of the dependent libraries it uses.\r\n\r\nThe `maven-shade-plugin` allows you to (a) create an uber JAR and (b) to shade its contents.\r\n\r\n# Summary\r\nCreating an uber JAR is a useful technique for simplifying your deployment process.\r\n\r\nShading is an extension to the uber JAR idea which is typically limited to use cases where \r\n\r\n- The JAR is a library to be used inside another application/library\r\n- The authors of the JAR want to be sure that the dependencies used by the JAR are in their control\r\n- The authors of the JAR want to avoid &#39;version clash&#39; issues for any applications/libraries using the JAR ","title":"What is a shaded JAR file? And what is the difference/similarities between an uber JAR and shaded JAR?","body":"<p>I'll explain what an uber JAR is first because this underpins the shading explanation.</p>\n<h1>Uber JAR</h1>\n<p>An uber JAR is a JAR which contains the contents of multiple JARs (or, less commonly, multiple other JARs themselves)</p>\n<p>Your application will almost certainly use other packages and these packages might be provided as JARs. When using Maven these dependencies would be expressed as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;...&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>At runtime your application will expect to find the classes contained in this JAR on its classpath.</p>\n<p>Rather than shipping each of these dependent JARs along with your application, you could create an uber JAR which contains all of the classes etc from these dependent JARs and then simply run your application from this uber JAR.</p>\n<h1>Shading</h1>\n<p>Shading provides a way of creating an uber JAR and renaming the packages which that uber JAR contains. If your uber JAR is likely to be used as a dependency in another application then there's a risk that the versions of the dependent classes in the uber JAR might clash with versions of those same dependencies in this other application. Shading helps to avoid any such issue by renaming the packages within the uber JAR.</p>\n<p>For example:</p>\n<ol>\n<li>You create an uber JAR which contains v1.0.0 of the <code>Foo</code> library.</li>\n<li>Someone else uses your uber JAR in their application, <code>Bar</code></li>\n<li>The <code>Bar</code> application has its own dependency on <code>Foo</code> but on v1.2.0 of that library.</li>\n</ol>\n<p>Now, if there is any clash between versions 1.0.0 and 1.2.0 of <code>Foo</code> we may have a problem because the owner of <code>Bar</code> cannot rely on which one will be loaded so either their code will misbehave or your code - when running within their application - will misbehave.</p>\n<p>Shading helps to avoid issues such as this and also allows the provider of <code>Foo</code> to be explicit about the versions of the dependent libraries it uses.</p>\n<p>The <code>maven-shade-plugin</code> allows you to (a) create an uber JAR and (b) to shade its contents.</p>\n<h1>Summary</h1>\n<p>Creating an uber JAR is a useful technique for simplifying your deployment process.</p>\n<p>Shading is an extension to the uber JAR idea which is typically limited to use cases where</p>\n<ul>\n<li>The JAR is a library to be used inside another application/library</li>\n<li>The authors of the JAR want to be sure that the dependencies used by the JAR are in their control</li>\n<li>The authors of the JAR want to avoid 'version clash' issues for any applications/libraries using the JAR</li>\n</ul>\n"}],"owner":{"account_id":4251899,"reputation":853,"user_id":3478709,"display_name":"user3478709"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48368,"favorite_count":0,"down_vote_count":1,"up_vote_count":85,"closed_date":1523629966,"accepted_answer_id":49811665,"answer_count":1,"score":84,"last_activity_date":1688063386,"creation_date":1523600871,"question_id":49810578,"body_markdown":"What is a shaded [JAR][1] file and how is the `maven-shade-plugin` useful? Also, what is an uber JAR file?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JAR_%28file_format%29\r\n","title":"What is a shaded JAR file? And what is the difference/similarities between an uber JAR and shaded JAR?","body":"<p>What is a shaded <a href=\"https://en.wikipedia.org/wiki/JAR_%28file_format%29\" rel=\"noreferrer\">JAR</a> file and how is the <code>maven-shade-plugin</code> useful? Also, what is an uber JAR file?</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka","concurrentlinkedqueue"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687866879,"post_id":76564288,"comment_id":134993841,"body_markdown":"Why store it in a queue? Why not just process it directly? What is the added benefit here? Feels like what you are doing with the queue is already doable with Kafka in the first place.","body":"Why store it in a queue? Why not just process it directly? What is the added benefit here? Feels like what you are doing with the queue is already doable with Kafka in the first place."},{"owner":{"account_id":19529158,"reputation":3,"user_id":14289359,"display_name":"PrathamBhatTech"},"score":0,"creation_date":1687925415,"post_id":76564288,"comment_id":135003562,"body_markdown":"I need to batch process the data using spring batch. and the item reader of spring batch polls data one by one. I figured concurrent linked list is the best option to use. So Kafka will keep getting data while spring batch keeps processing it.","body":"I need to batch process the data using spring batch. and the item reader of spring batch polls data one by one. I figured concurrent linked list is the best option to use. So Kafka will keep getting data while spring batch keeps processing it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687932158,"post_id":76564288,"comment_id":135004285,"body_markdown":"Use a chunk, yes it will be pulled one by one but processed in a chunk. But if this is unlimited stream why use Spring Batch in the first place. Also you probably want to specify the number of messages to pull instead of shoehorning your own layer on top of that (which will lead to this problem).","body":"Use a chunk, yes it will be pulled one by one but processed in a chunk. But if this is unlimited stream why use Spring Batch in the first place. Also you probably want to specify the number of messages to pull instead of shoehorning your own layer on top of that (which will lead to this problem)."},{"owner":{"account_id":19529158,"reputation":3,"user_id":14289359,"display_name":"PrathamBhatTech"},"score":0,"creation_date":1687943697,"post_id":76564288,"comment_id":135006357,"body_markdown":"I used `KafkaConsumer` instead to create a consumer object and called it before the job starts. with this i can set the number polled and the length of time to  poll.","body":"I used <code>KafkaConsumer</code> instead to create a consumer object and called it before the job starts. with this i can set the number polled and the length of time to  poll."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1687955113,"post_id":76564288,"comment_id":135008678,"body_markdown":"Spring Batch has a Kafka item reader. https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/kafka/KafkaItemReader.html","body":"Spring Batch has a Kafka item reader. <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/kafka/KafkaItemReader.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":19529158,"reputation":3,"user_id":14289359,"display_name":"PrathamBhatTech"},"score":0,"creation_date":1688035429,"post_id":76564288,"comment_id":135021065,"body_markdown":"I first tried with KafkaItemReader but it gave ConcurrentModificationException. I found that it is not thread safe [here](https://stackoverflow.com/questions/61247780/spring-batch-kafkaconsumer-is-not-safe-for-multi-threaded-access)","body":"I first tried with KafkaItemReader but it gave ConcurrentModificationException. I found that it is not thread safe <a href=\"https://stackoverflow.com/questions/61247780/spring-batch-kafkaconsumer-is-not-safe-for-multi-threaded-access\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":19529158,"reputation":3,"user_id":14289359,"display_name":"PrathamBhatTech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687944081,"creation_date":1687944081,"answer_id":76571755,"question_id":76564288,"body_markdown":"Instead of using annotation I used the `KafkaConsumer` object to poll for data manually. With this there is more control.\r\n\r\n```java\r\nMap&lt;String, Object&gt; consumerConfig = Map.of(\r\n        &quot;bootstrap. Servers&quot;, &quot;localhost:9092&quot;,\r\n        &quot;key.deserializer&quot;, StringDeserializer.class,\r\n        &quot;value.deserializer&quot;, StringDeserializer.class,\r\n        &quot;group.id&quot;, &quot;batch-processor&quot;,\r\n        &quot;max.poll.records&quot;, 480000\r\n);\r\nKafkaConsumer&lt;String, Message&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(consumerConfig);\r\n\r\nkafkaConsumer.subscribe(List.of(&quot;topic&quot;));\r\n```\r\n\r\n```java\r\npublic void receive()    {\r\n    ConsumerRecords&lt;String, Message&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\r\n    consumerRecords.forEach(record -&gt; queue. Add(record. Value()));\r\n}\r\n```\r\n","title":"Limit number of messages from Kafka in Spring Batch","body":"<p>Instead of using annotation I used the <code>KafkaConsumer</code> object to poll for data manually. With this there is more control.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; consumerConfig = Map.of(\n        &quot;bootstrap. Servers&quot;, &quot;localhost:9092&quot;,\n        &quot;key.deserializer&quot;, StringDeserializer.class,\n        &quot;value.deserializer&quot;, StringDeserializer.class,\n        &quot;group.id&quot;, &quot;batch-processor&quot;,\n        &quot;max.poll.records&quot;, 480000\n);\nKafkaConsumer&lt;String, Message&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(consumerConfig);\n\nkafkaConsumer.subscribe(List.of(&quot;topic&quot;));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void receive()    {\n    ConsumerRecords&lt;String, Message&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\n    consumerRecords.forEach(record -&gt; queue. Add(record. Value()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688062794,"creation_date":1688062794,"answer_id":76583696,"question_id":76564288,"body_markdown":"Kafka Consumer can be paused and resumed by API. Check this methods for details:\r\n\r\n - [KafkaConsumer.pause()][1]\r\n - [KafkaConsumer.resume()][2]\r\n\r\n\r\n  [1]: https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\r\n  [2]: https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#resume(java.util.Collection)","title":"Limit number of messages from Kafka in Spring Batch","body":"<p>Kafka Consumer can be paused and resumed by API. Check this methods for details:</p>\n<ul>\n<li><a href=\"https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\" rel=\"nofollow noreferrer\">KafkaConsumer.pause()</a></li>\n<li><a href=\"https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#resume(java.util.Collection)\" rel=\"nofollow noreferrer\">KafkaConsumer.resume()</a></li>\n</ul>\n"}],"owner":{"account_id":19529158,"reputation":3,"user_id":14289359,"display_name":"PrathamBhatTech"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76571755,"answer_count":2,"score":0,"last_activity_date":1688062794,"creation_date":1687864460,"question_id":76564288,"body_markdown":"I am storing the data from KafkaListener in a ConcurrentLinkedQueue to be processed. Currently it consumes as many data as it can and completely fills up RAM. How do I limit the number of messages in the queue so that when it reaches the limit the KafkaListener pauses.\r\n\r\n```java\r\nConcurrentLinkedQueue&lt;Message&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n@KafkaListener(\r\n        topics = &quot;topic&quot;,\r\n        id = &quot;topic-kafka-listener&quot;,\r\n        groupId = &quot;batch-processor&quot;,\r\n        containerFactory = &quot;kafkaListenerContainerFactory&quot;\r\n)\r\npublic void receive(@NotNull @Payload List&lt;Message&gt; messages) {\r\n    queue.addAll(messages);\r\n}\r\n```\r\n\r\nHow do I limit the queue size to say 1 million?  \r\nWhenever the queue is polled and there is free space it should start listening again.\r\n\r\nOR\r\n\r\nHow do I limit the rate at which Kafka consumes messages to say 100,000 messages per second?","title":"Limit number of messages from Kafka in Spring Batch","body":"<p>I am storing the data from KafkaListener in a ConcurrentLinkedQueue to be processed. Currently it consumes as many data as it can and completely fills up RAM. How do I limit the number of messages in the queue so that when it reaches the limit the KafkaListener pauses.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConcurrentLinkedQueue&lt;Message&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\n\n@KafkaListener(\n        topics = &quot;topic&quot;,\n        id = &quot;topic-kafka-listener&quot;,\n        groupId = &quot;batch-processor&quot;,\n        containerFactory = &quot;kafkaListenerContainerFactory&quot;\n)\npublic void receive(@NotNull @Payload List&lt;Message&gt; messages) {\n    queue.addAll(messages);\n}\n</code></pre>\n<p>How do I limit the queue size to say 1 million?<br />\nWhenever the queue is polled and there is free space it should start listening again.</p>\n<p>OR</p>\n<p>How do I limit the rate at which Kafka consumes messages to say 100,000 messages per second?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1688060765,"post_id":76583459,"comment_id":135026646,"body_markdown":"Welcome to SO! If you want any body to help you, then first show your efforts in solve the issue.","body":"Welcome to SO! If you want any body to help you, then first show your efforts in solve the issue."}],"answers":[{"tags":[],"owner":{"account_id":28751477,"reputation":134,"user_id":22019464,"display_name":"Chander Parkash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688061363,"creation_date":1688061363,"answer_id":76583526,"question_id":76583459,"body_markdown":"You may tell Jackson to disregard certain data during serialisation by adding @JsonIgnore to the religious places field in the City class and the city field in the ReligiousPlace class.\r\n\r\n    @Entity\r\n    @Table(name = &quot;religious_places&quot;)\r\n    class ReligiousPlace {\r\n    \r\n    \t@ManyToOne\r\n        @JoinColumn(name = &quot;city_id&quot;)\r\n        @JsonIgnore\r\n        private City city;\r\n    \t\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;city&quot;)\t\r\n    class City {\r\n    \r\n    \t@OneToMany(mappedBy = &quot;city&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        private List&lt;ReligiousPlace&gt; religious_places;\r\n    }","title":"implementation issue on @OneToMany relationship recursive call infinite loop","body":"<p>You may tell Jackson to disregard certain data during serialisation by adding @JsonIgnore to the religious places field in the City class and the city field in the ReligiousPlace class.</p>\n<pre><code>@Entity\n@Table(name = &quot;religious_places&quot;)\nclass ReligiousPlace {\n\n    @ManyToOne\n    @JoinColumn(name = &quot;city_id&quot;)\n    @JsonIgnore\n    private City city;\n    \n}\n\n@Entity\n@Table(name = &quot;city&quot;)   \nclass City {\n\n    @OneToMany(mappedBy = &quot;city&quot;, cascade = CascadeType.ALL)\n    @JsonIgnore\n    private List&lt;ReligiousPlace&gt; religious_places;\n}\n</code></pre>\n"}],"owner":{"account_id":20214920,"reputation":53,"user_id":20633091,"display_name":"Ahmed Qureshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76583526,"answer_count":1,"score":3,"last_activity_date":1688061363,"creation_date":1688060700,"question_id":76583459,"body_markdown":"I&#39;ve two classes city and religious places where a city can have multiple religious places, but a religious place can have only one city, but when I implement as per requirement I got an error my response stuck in the recursive call.\r\n\r\nI am expecting response of all religious places which is located in requested city","title":"implementation issue on @OneToMany relationship recursive call infinite loop","body":"<p>I've two classes city and religious places where a city can have multiple religious places, but a religious place can have only one city, but when I implement as per requirement I got an error my response stuck in the recursive call.</p>\n<p>I am expecting response of all religious places which is located in requested city</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1688061631,"post_id":76583525,"comment_id":135026814,"body_markdown":"You forgot to post your attempt to solve this problem.","body":"You forgot to post your attempt to solve this problem."},{"owner":{"account_id":19947676,"reputation":61,"user_id":14617996,"display_name":"Hussam Barouqa"},"score":0,"creation_date":1688656735,"post_id":76583525,"comment_id":135106178,"body_markdown":"If all you need is to print the form with the overlay combined, you can simply print the resulting image directly. For example, using something like the [LEADTOOLS SDK](https://www.leadtools.com/sdk/image-processing) you can simply call [RasterCodecs.Load](https://www.leadtools.com/help/sdk/dh/co/rastercodecs-load.html) for each image, combine them using the [CombineCommand](https://www.leadtools.com/help/sdk/dh/pe/combinecommand.html) class, before putting the output in a print job and send it to the printer. (Disclaimer: I work for the vendor of the toolkit)","body":"If all you need is to print the form with the overlay combined, you can simply print the resulting image directly. For example, using something like the <a href=\"https://www.leadtools.com/sdk/image-processing\" rel=\"nofollow noreferrer\">LEADTOOLS SDK</a> you can simply call <a href=\"https://www.leadtools.com/help/sdk/dh/co/rastercodecs-load.html\" rel=\"nofollow noreferrer\">RasterCodecs.Load</a> for each image, combine them using the <a href=\"https://www.leadtools.com/help/sdk/dh/pe/combinecommand.html\" rel=\"nofollow noreferrer\">CombineCommand</a> class, before putting the output in a print job and send it to the printer. (Disclaimer: I work for the vendor of the toolkit)"}],"owner":{"account_id":2890104,"reputation":7,"user_id":2479098,"display_name":"cjingeorgia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688061355,"creation_date":1688061355,"question_id":76583525,"body_markdown":"I&#39;m using Java.\r\n\r\nI don&#39;t think I need to &quot;fill&quot; a PDF, as I think this is more complicated. What I have is a 2-page pdf called EmploymentApplication.pdf. It has empty spaces for Last Name, First Name, SSN, etc. \r\n\r\nI just want to print the existing pdf with some overlaid text fields (which I populate programmatically) in the appropriate position. I can do this on an image - I believe it&#39;s called &quot;watermarking&quot; - and convert to PDF but I wanted to save a step. \r\n\r\n\r\n\r\n","title":"Printing a PDF with overlaid text fields","body":"<p>I'm using Java.</p>\n<p>I don't think I need to &quot;fill&quot; a PDF, as I think this is more complicated. What I have is a 2-page pdf called EmploymentApplication.pdf. It has empty spaces for Last Name, First Name, SSN, etc.</p>\n<p>I just want to print the existing pdf with some overlaid text fields (which I populate programmatically) in the appropriate position. I can do this on an image - I believe it's called &quot;watermarking&quot; - and convert to PDF but I wanted to save a step.</p>\n"},{"tags":["java","maven","selenium","junit","allure"],"answers":[{"tags":[],"owner":{"account_id":4853449,"reputation":2312,"user_id":3915166,"display_name":"Dmitry Baev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1523017462,"creation_date":1523017462,"answer_id":49692764,"question_id":49685835,"body_markdown":"You missed Allure listener &amp; AspectJ configurations. Please follow the instructions from documentation page: https://github.com/allure-framework/allure1/wiki/JUnit\r\n\r\nAlso you can consider upgrading to latest Allure version. Docs for a new version can be found here https://docs.qameta.io/allure/#_junit_4","title":"Allure results don&#39;t generate on Maven build","body":"<p>You missed Allure listener &amp; AspectJ configurations. Please follow the instructions from documentation page: <a href=\"https://github.com/allure-framework/allure1/wiki/JUnit\" rel=\"nofollow noreferrer\">https://github.com/allure-framework/allure1/wiki/JUnit</a></p>\n\n<p>Also you can consider upgrading to latest Allure version. Docs for a new version can be found here <a href=\"https://docs.qameta.io/allure/#_junit_4\" rel=\"nofollow noreferrer\">https://docs.qameta.io/allure/#_junit_4</a></p>\n"},{"tags":[],"owner":{"account_id":27006822,"reputation":1,"user_id":20567149,"display_name":"Ahmed Adli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669070958,"creation_date":1669070958,"answer_id":74525698,"question_id":49685835,"body_markdown":"updating Aspect to the latest version solved the problem for me","title":"Allure results don&#39;t generate on Maven build","body":"<p>updating Aspect to the latest version solved the problem for me</p>\n"},{"tags":[],"owner":{"account_id":6167064,"reputation":453,"user_id":4806592,"display_name":"Karan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688061007,"creation_date":1688061007,"answer_id":76583488,"question_id":49685835,"body_markdown":"I spend too much time in the same problem and after long conversation with chatGPT i found below issue which was not creating allure-results folder \r\n\r\nI already had below configs in my pom.xml but it was not generating allure-results.\r\n\r\nConfiguration under maven-surefire plugin inside build tag\r\n\r\n    ` &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n    \r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;testNG.xml&lt;/suiteXmlFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                        &lt;argLine&gt;\r\n                            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                        &lt;/argLine&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;allure.results.directory&gt;${project.build.directory}/allure-results&lt;/allure.results.directory&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                         &lt;dependency&gt;\r\n                             &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;`\r\n\r\n\r\n&gt; other Dependencies are as below which were present\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-attachments&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-java-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.0&lt;/version&gt; &lt;!-- Replace with the desired version --&gt;\r\n   \r\n\r\n     &lt;/dependency&gt;\r\n\r\n \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${testng-version}&lt;/version&gt;\r\n        &lt;/dependency\r\n\r\n\r\nbut this was not solving the problem in my testNG + Maven + Selenium + Java + Allure Setup . On Researching too many blogs , links , ChatGPT i found that i was missing 2 important things. allureTestNG listener in TestNG.xml \r\n\r\n  \r\n\r\n      &lt;suite name=&quot;automation&quot;&gt;\r\n        &lt;listeners&gt;\r\n            &lt;listener class-name=&quot;io.qameta.allure.testng.AllureTestNg&quot;/&gt;\r\n        &lt;/listeners&gt;\r\n\r\nallure-maven plug\r\n\r\n    `   &lt;plugin&gt;\r\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.10.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;reportVersion&gt;2.14.0&lt;/reportVersion&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n`\r\n\r\nOn running `mvn clean test` now , my allure-results are getting generated in desired location mentioned in your pom.xml and i can simply write another command \r\n\r\n    allure generate target/allure-results\r\n    allure open \r\n\r\nand Bingo !!\r\n\r\nbeautiful Allure :) is there \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf you will not use the listener and other plugins i mentioned above  allure-results folder will not be generated \r\n\r\nyou will try to generate allure-report folder with below command \r\n\r\n    allure generate target/surefire-reports \r\n    allure open \r\n\r\nbut the report which will now open will be little less descriptive and will not contains many important aspects like @step details . Sample is as below \r\nsee the difference . \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ms4AG.png\r\n  [2]: https://i.stack.imgur.com/7fV71.png\r\n\r\nHope that helps !!\r\n\r\n","title":"Allure results don&#39;t generate on Maven build","body":"<p>I spend too much time in the same problem and after long conversation with chatGPT i found below issue which was not creating allure-results folder</p>\n<p>I already had below configs in my pom.xml but it was not generating allure-results.</p>\n<p>Configuration under maven-surefire plugin inside build tag</p>\n<pre><code>` &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;testNG.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;allure.results.directory&gt;${project.build.directory}/allure-results&lt;/allure.results.directory&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                     &lt;dependency&gt;\n                         &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;`\n</code></pre>\n<blockquote>\n<p>other Dependencies are as below which were present</p>\n</blockquote>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-attachments&lt;/artifactId&gt;\n        &lt;version&gt;2.13.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-java-commons&lt;/artifactId&gt;\n        &lt;version&gt;2.15.0&lt;/version&gt; &lt;!-- Replace with the desired version --&gt;\n\n\n &lt;/dependency&gt;\n\n\n\n &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;${testng-version}&lt;/version&gt;\n    &lt;/dependency\n</code></pre>\n<p>but this was not solving the problem in my testNG + Maven + Selenium + Java + Allure Setup . On Researching too many blogs , links , ChatGPT i found that i was missing 2 important things. allureTestNG listener in TestNG.xml</p>\n<pre><code>  &lt;suite name=&quot;automation&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;io.qameta.allure.testng.AllureTestNg&quot;/&gt;\n    &lt;/listeners&gt;\n</code></pre>\n<p>allure-maven plug</p>\n<pre><code>`   &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;2.10.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportVersion&gt;2.14.0&lt;/reportVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>`</p>\n<p>On running <code>mvn clean test</code> now , my allure-results are getting generated in desired location mentioned in your pom.xml and i can simply write another command</p>\n<pre><code>allure generate target/allure-results\nallure open \n</code></pre>\n<p>and Bingo !!</p>\n<p>beautiful Allure :) is there</p>\n<p><a href=\"https://i.stack.imgur.com/ms4AG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ms4AG.png\" alt=\"enter image description here\" /></a></p>\n<p>If you will not use the listener and other plugins i mentioned above  allure-results folder will not be generated</p>\n<p>you will try to generate allure-report folder with below command</p>\n<pre><code>allure generate target/surefire-reports \nallure open \n</code></pre>\n<p>but the report which will now open will be little less descriptive and will not contains many important aspects like @step details . Sample is as below\nsee the difference .</p>\n<p><a href=\"https://i.stack.imgur.com/7fV71.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7fV71.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope that helps !!</p>\n"}],"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49692764,"answer_count":3,"score":3,"last_activity_date":1688061007,"creation_date":1522991899,"question_id":49685835,"body_markdown":"I&#39;m running a Selenium test with Maven and would like to have an Allure report generated in the end. Unfortunately, I get an error message.\r\n\r\nMaven command line:\r\n\r\n    clean -Dtest=TestLogs test allure:report\r\n\r\nError message:\r\n\r\n    [INFO] --- allure-maven:2.9:report (default-cli) @ demo ---\r\n    [INFO] Allure installation directory C:\\Users\\Zoe\\Documents\\demo\\selenium_tests\\demo_selenium/.allure\r\n    [INFO] Try to finding out allure 2.3.1\r\n    [INFO] Generate Allure report (report) with version 2.3.1\r\n    [INFO] Generate Allure report to C:\\Users\\Zoe\\Documents\\demo\\selenium_tests\\demo_selenium\\target\\site/allure-maven-plugin \r\n    [ERROR] Directory C:\\Users\\Zoe\\Documents\\demo\\selenium_tests\\demo_selenium\\target\\target\\allure-results not found.\r\n    [WARNING] Allure report was skipped because there is no results directories found.\r\n\r\nMy POM.xml:\r\n\r\n    &lt;project\r\n    \t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    \t\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;org.wesh.nc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;!--&lt;packaging&gt;pom&lt;/packaging&gt;--&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;allure.version&gt;1.5.2&lt;/allure.version&gt;\r\n\t\t&lt;allure.maven.version&gt;2.0&lt;/allure.maven.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.20.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skip&gt;${skip.selenium.tests}&lt;/skip&gt;\r\n\t\t\t\t\t&lt;parallel&gt;none&lt;/parallel&gt;\r\n\t\t\t\t\t&lt;threadCount&gt;1&lt;/threadCount&gt;\r\n\t\t\t\t\t&lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n\t\t\t\t\t&lt;disableXmlReport&gt;false&lt;/disableXmlReport&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;runSeleniumTests&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;resultsDirectory&gt;target\\allure-results&lt;/resultsDirectory&gt;\r\n\t\t\t\t\t&lt;inputDirectories&gt;target\\allure-results&lt;/inputDirectories&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;target\\allure-report&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;reportVersion&gt;2.3.1&lt;/reportVersion&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${allure.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;resultsPattern&gt;target\\allure-results&lt;/resultsPattern&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;target\\target-report&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.gebish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;geb-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.gebish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;geb-spock&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spock-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0-groovy-2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.maven.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-junit-adaptor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-report-data&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-java-adaptor-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-model&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;reporting&gt;\r\n\t\t&lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${allure.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;target/allure-report&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/reporting&gt;\r\n&lt;/project&gt;\r\n\r\nI&#39;m aware this POM is messy, I&#39;ve been trying several things in order to make Allure work...\r\n\r\nIf someone knows what I can do to generate the allure-results directory, thanks in advance.","title":"Allure results don&#39;t generate on Maven build","body":"<p>I'm running a Selenium test with Maven and would like to have an Allure report generated in the end. Unfortunately, I get an error message.</p>\n\n<p>Maven command line:</p>\n\n<pre><code>clean -Dtest=TestLogs test allure:report\n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>[INFO] --- allure-maven:2.9:report (default-cli) @ demo ---\n[INFO] Allure installation directory C:\\Users\\Zoe\\Documents\\demo\\selenium_tests\\demo_selenium/.allure\n[INFO] Try to finding out allure 2.3.1\n[INFO] Generate Allure report (report) with version 2.3.1\n[INFO] Generate Allure report to C:\\Users\\Zoe\\Documents\\demo\\selenium_tests\\demo_selenium\\target\\site/allure-maven-plugin \n[ERROR] Directory C:\\Users\\Zoe\\Documents\\demo\\selenium_tests\\demo_selenium\\target\\target\\allure-results not found.\n[WARNING] Allure report was skipped because there is no results directories found.\n</code></pre>\n\n<p>My POM.xml:</p>\n\n<pre><code>&lt;project\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n        xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.wesh.nc&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;!--&lt;packaging&gt;pom&lt;/packaging&gt;--&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;allure.version&gt;1.5.2&lt;/allure.version&gt;\n    &lt;allure.maven.version&gt;2.0&lt;/allure.maven.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.20.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;${skip.selenium.tests}&lt;/skip&gt;\n                &lt;parallel&gt;none&lt;/parallel&gt;\n                &lt;threadCount&gt;1&lt;/threadCount&gt;\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                &lt;disableXmlReport&gt;false&lt;/disableXmlReport&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;runSeleniumTests&lt;/id&gt;\n                    &lt;phase&gt;integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n            &lt;version&gt;2.9&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;resultsDirectory&gt;target\\allure-results&lt;/resultsDirectory&gt;\n                &lt;inputDirectories&gt;target\\allure-results&lt;/inputDirectories&gt;\n                &lt;outputDirectory&gt;target\\allure-report&lt;/outputDirectory&gt;\n                &lt;reportVersion&gt;2.3.1&lt;/reportVersion&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${allure.maven.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;resultsPattern&gt;target\\allure-results&lt;/resultsPattern&gt;\n                &lt;outputDirectory&gt;target\\target-report&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;2.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.gebish&lt;/groupId&gt;\n        &lt;artifactId&gt;geb-core&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.gebish&lt;/groupId&gt;\n        &lt;artifactId&gt;geb-spock&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\n        &lt;version&gt;1.0-groovy-2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\n        &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${allure.maven.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-junit-adaptor&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-commons&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-report-data&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-java-adaptor-api&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-model&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;reporting&gt;\n    &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${allure.maven.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;target/allure-report&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'm aware this POM is messy, I've been trying several things in order to make Allure work...</p>\n\n<p>If someone knows what I can do to generate the allure-results directory, thanks in advance.</p>\n"},{"tags":["java","spring","jpa","spring-data"],"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688060280,"creation_date":1688057102,"question_id":76583053,"body_markdown":"I have the following repository:\r\n\r\n```\r\n@Repository\r\npublic interface MyEntityRepository\r\n    extends JpaRepository&lt;MyEntity, Long&gt;, JpaSpecificationExecutor&lt;MyEntity&gt; {\r\n\r\n  Page&lt;MyEntity&gt; findAll(\r\n      Specification&lt;MyEntity&gt; specification, Pageable pageable);\r\n}\r\n```\r\n\r\nThis query works fine without pagination (I already tried removing the pageable and returning a List and it works fine), but with pagination it breaks during the count with the following error:\r\n\r\n```\r\nCaused by: org.hibernate.query.SemanticException: query specified join fetching, but the owner of the fetched association was not present in the select list [SqmListJoin(com.test.MyEntity(250011453794600).children(250011454204100))]\r\n```\r\n\r\nMyEntity has a undirectional relation @OneToMany with children.\r\n\r\n```\r\n@Entity\r\npublic class MyEntity {\r\n\r\n  @Id private Long id;\r\n\r\n  @OneToMany(cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;my_entity_id&quot;)\r\n  private List&lt;Child&gt; children;\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nI instruct the Specification to fetch the children with:\r\n\r\n```\r\nroot.fetch(MyEntity_.children, JoinType.INNER);\r\n```\r\n\r\nAs I said, the query works fine without pagination, getting the correct results in one query (avoiding N+1 problem), but with pagination the count is not working.\r\n\r\nHow can I fix the count?\r\n\r\n**UPDATE**\r\n\r\nI verified that this problem happens to any JOIN operation. It seems that the count forces an JOIN FETCH for some reason.","title":"Spring Data query with Specification and Pagination breaks during count operation","body":"<p>I have the following repository:</p>\n<pre><code>@Repository\npublic interface MyEntityRepository\n    extends JpaRepository&lt;MyEntity, Long&gt;, JpaSpecificationExecutor&lt;MyEntity&gt; {\n\n  Page&lt;MyEntity&gt; findAll(\n      Specification&lt;MyEntity&gt; specification, Pageable pageable);\n}\n</code></pre>\n<p>This query works fine without pagination (I already tried removing the pageable and returning a List and it works fine), but with pagination it breaks during the count with the following error:</p>\n<pre><code>Caused by: org.hibernate.query.SemanticException: query specified join fetching, but the owner of the fetched association was not present in the select list [SqmListJoin(com.test.MyEntity(250011453794600).children(250011454204100))]\n</code></pre>\n<p>MyEntity has a undirectional relation @OneToMany with children.</p>\n<pre><code>@Entity\npublic class MyEntity {\n\n  @Id private Long id;\n\n  @OneToMany(cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;my_entity_id&quot;)\n  private List&lt;Child&gt; children;\n\n  // ...\n}\n</code></pre>\n<p>I instruct the Specification to fetch the children with:</p>\n<pre><code>root.fetch(MyEntity_.children, JoinType.INNER);\n</code></pre>\n<p>As I said, the query works fine without pagination, getting the correct results in one query (avoiding N+1 problem), but with pagination the count is not working.</p>\n<p>How can I fix the count?</p>\n<p><strong>UPDATE</strong></p>\n<p>I verified that this problem happens to any JOIN operation. It seems that the count forces an JOIN FETCH for some reason.</p>\n"},{"tags":["java","selenium","cucumber","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":13402707,"reputation":1,"user_id":9671714,"display_name":"Joel Narro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653281596,"creation_date":1653281596,"answer_id":72343398,"question_id":71432031,"body_markdown":"I had the same problem when I updated to version 3.2.0, it was fixed when I went back to version 2.3.5\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n      &lt;artifactId&gt;serenity-ensure&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Serenity BDD Ensure class not available from Screenplay Assertions","body":"<p>I had the same problem when I updated to version 3.2.0, it was fixed when I went back to version 2.3.5</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n  &lt;artifactId&gt;serenity-ensure&lt;/artifactId&gt;\n  &lt;version&gt;2.3.5&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":28920624,"reputation":1,"user_id":22151674,"display_name":"Romain G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688060269,"creation_date":1688060269,"answer_id":76583414,"question_id":71432031,"body_markdown":"The Serenity BDD author, John Ferguson Smart, proposed here to do a &#39;mvn verify&#39; oustide the IDE(blaming the IDE for that glitch). He talks about it here: https://github.com/serenity-bdd/serenity-core/issues/1235 ","title":"Serenity BDD Ensure class not available from Screenplay Assertions","body":"<p>The Serenity BDD author, John Ferguson Smart, proposed here to do a 'mvn verify' oustide the IDE(blaming the IDE for that glitch). He talks about it here: <a href=\"https://github.com/serenity-bdd/serenity-core/issues/1235\" rel=\"nofollow noreferrer\">https://github.com/serenity-bdd/serenity-core/issues/1235</a></p>\n"}],"owner":{"account_id":1363998,"reputation":162,"user_id":1300823,"display_name":"Marcelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688060269,"creation_date":1646955389,"question_id":71432031,"body_markdown":"I have a Java Maven project using Serenity BDD (serenity-bdd) combined with Selenium to run automated tests.\r\nThe pom.xml includes the serenity-bdd dependency\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-ensure --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    &lt;artifactId&gt;serenity-ensure&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWhen I import the **Ensure** class is not available. Other classes sush **Actor** are available:\r\n```\r\nimport net.serenitybdd.screenplay.Actor;\r\nimport net.serenitybdd.screenplay.ensure.Ensure;\r\n```\r\n```\r\nWebElementFacade lableObj = Find_ClientPage_Element(ObjectName);\r\nString actText = lableObj.getText();\r\nActor aster = Actor.named(&quot;QA&quot;);\r\naster.attemptsTo(Ensure.that(actText).isEqualToIgnoringCase(expText));\r\n```\r\n\r\nI have updated the Maven repo. I&#39;ve also followed this documentation:\r\nhttps://serenity-bdd.github.io/theserenitybook/latest/serenity-screenplay-ensure.html","title":"Serenity BDD Ensure class not available from Screenplay Assertions","body":"<p>I have a Java Maven project using Serenity BDD (serenity-bdd) combined with Selenium to run automated tests.\nThe pom.xml includes the serenity-bdd dependency</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-ensure --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n    &lt;artifactId&gt;serenity-ensure&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I import the <strong>Ensure</strong> class is not available. Other classes sush <strong>Actor</strong> are available:</p>\n<pre><code>import net.serenitybdd.screenplay.Actor;\nimport net.serenitybdd.screenplay.ensure.Ensure;\n</code></pre>\n<pre><code>WebElementFacade lableObj = Find_ClientPage_Element(ObjectName);\nString actText = lableObj.getText();\nActor aster = Actor.named(&quot;QA&quot;);\naster.attemptsTo(Ensure.that(actText).isEqualToIgnoringCase(expText));\n</code></pre>\n<p>I have updated the Maven repo. I've also followed this documentation:\n<a href=\"https://serenity-bdd.github.io/theserenitybook/latest/serenity-screenplay-ensure.html\" rel=\"nofollow noreferrer\">https://serenity-bdd.github.io/theserenitybook/latest/serenity-screenplay-ensure.html</a></p>\n"},{"tags":["java","data-structures","tree","queue"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688060115,"post_id":76583384,"comment_id":135026536,"body_markdown":"`Queue` is an interface (meaning `new Queue&lt;&gt;();` doesn&#39;t work) and `LinkedList` is the actual implementation of the interface.","body":"<code>Queue</code> is an interface (meaning <code>new Queue&lt;&gt;();</code> doesn&#39;t work) and <code>LinkedList</code> is the actual implementation of the interface."}],"owner":{"account_id":25225105,"reputation":1,"user_id":19061080,"display_name":"vampcarti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1688062601,"answer_count":0,"score":-1,"last_activity_date":1688060019,"creation_date":1688059998,"question_id":76583384,"body_markdown":"Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\r\n\r\nFull method in which i am creating queue object.\r\n \r\npublic ArrayList&lt;ArrayList&lt;Integer&gt;&gt; levelOrder(Node root) {\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        if (root == null) {\r\n            return list;\r\n        }\r\n\r\n        Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\r\n        queue.add(root);\r\n\r\n        while (!queue.isEmpty()) {\r\n            int size = queue.size();\r\n            ArrayList&lt;Integer&gt; level = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; size; i++) {\r\n                Node node = queue.poll();\r\n                level.add(node.value);\r\n                if (node.left != null) {\r\n                    queue.add(node.left);\r\n                }\r\n                if (node.right != null) {\r\n                    queue.add(node.right);\r\n                }\r\n            }\r\n            list.add(level);\r\n        }\r\n        return list;\r\n    }\r\n\r\n\r\nwhen ever i try open queue methods like queue.add() it opens Queue interface not LinkedList Class in intellij IDEA.\r\n\r\n\r\nI am trying to understand why are we using Linked List while creating queue object.","title":"why are we are creating queue object using Linked List?","body":"<p>Queue queue = new LinkedList&lt;&gt;();</p>\n<p>Full method in which i am creating queue object.</p>\n<p>public ArrayList&lt;ArrayList&gt; levelOrder(Node root) {\nArrayList&lt;ArrayList&gt; list = new ArrayList&lt;&gt;();</p>\n<pre><code>    if (root == null) {\n        return list;\n    }\n\n    Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\n    queue.add(root);\n\n    while (!queue.isEmpty()) {\n        int size = queue.size();\n        ArrayList&lt;Integer&gt; level = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; size; i++) {\n            Node node = queue.poll();\n            level.add(node.value);\n            if (node.left != null) {\n                queue.add(node.left);\n            }\n            if (node.right != null) {\n                queue.add(node.right);\n            }\n        }\n        list.add(level);\n    }\n    return list;\n}\n</code></pre>\n<p>when ever i try open queue methods like queue.add() it opens Queue interface not LinkedList Class in intellij IDEA.</p>\n<p>I am trying to understand why are we using Linked List while creating queue object.</p>\n"},{"tags":["java","android","ssl","soap"],"owner":{"account_id":24532734,"reputation":1,"user_id":21143328,"display_name":"Jesus Liscano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688059988,"creation_date":1688059963,"question_id":76583381,"body_markdown":"I am sending some data to a SOAP service, I am doing this with Java and Android, when I get to the part where I make the request, it gives me the following error:\r\n\r\n```\r\n2023-06-29 11:08:39.659 18904-19109/paquete D/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n2023-06-29 11:08:39.663 18904-19109/paquete I/DpmTcmClient: RegisterTcmMonitor from: com.android.okhttp.TcmIdleTimerMonitor\r\n2023-06-29 11:08:40.343 18904-19109/paquete W/System.err: javax.net.ssl.SSLHandshakeException: Handshake failed\r\n2023-06-29 11:08:40.344 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:429)\r\n2023-06-29 11:08:40.345 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connectTls(Connection.java:235)\r\n2023-06-29 11:08:40.346 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connectSocket(Connection.java:199)\r\n2023-06-29 11:08:40.347 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connect(Connection.java:172)\r\n2023-06-29 11:08:40.347 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connectAndSetOwner(Connection.java:367)\r\n2023-06-29 11:08:40.348 18904-19109/paquete W/System.err:     at com.android.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:130)\r\n2023-06-29 11:08:40.351 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:330)\r\n2023-06-29 11:08:40.352 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:247)\r\n2023-06-29 11:08:40.352 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:457)\r\n2023-06-29 11:08:40.353 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:126)\r\n2023-06-29 11:08:40.354 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:257)\r\n2023-06-29 11:08:40.355 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getOutputStream(DelegatingHttpsURLConnection.java:218)\r\n2023-06-29 11:08:40.356 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java)\r\n2023-06-29 11:08:40.357 18904-19109/paquete W/System.err:     at org.ksoap2.transport.ServiceConnectionSE.openOutputStream(ServiceConnectionSE.java:134)\r\n2023-06-29 11:08:40.357 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.sendData(HttpTransportSE.java:295)\r\n2023-06-29 11:08:40.358 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:184)\r\n2023-06-29 11:08:40.359 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:118)\r\n2023-06-29 11:08:40.360 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:113)\r\n2023-06-29 11:08:40.360 18904-19109/paquete W/System.err:     at paquete.api.ApiRequestSOAP.requestSOAPSend(ApiRequestSOAP.java:152)\r\n2023-06-29 11:08:40.361 18904-19109/paquete W/System.err:     at paquete.activity.apps.paqueteTransactionActivity$11$1$1.run(paqueteTransactionActivity.java:364)\r\n2023-06-29 11:08:40.362 18904-19109/paquete W/System.err:     at java.lang.Thread.run(Thread.java:761)\r\n2023-06-29 11:08:40.364 18904-19109/paquete W/System.err: \tSuppressed: javax.net.ssl.SSLHandshakeException: Handshake failed\r\n2023-06-29 11:08:40.365 18904-19109/paquete W/System.err: \t\t... 21 more\r\n2023-06-29 11:08:40.369 18904-19109/paquete W/System.err: \t\tSuppressed: javax.net.ssl.SSLHandshakeException: Handshake failed\r\n2023-06-29 11:08:40.369 18904-19109/paquete W/System.err: \t\t\t... 21 more\r\n2023-06-29 11:08:40.371 18904-19109/paquete W/System.err: \t\tCaused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x8ae799c0: Failure in SSL library, usually a protocol error\r\n2023-06-29 11:08:40.372 18904-19109/paquete W/System.err: error:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/s3_pkt.c:610 0x8bb040c0:0x00000001)\r\n2023-06-29 11:08:40.372 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\r\n2023-06-29 11:08:40.373 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)\r\n2023-06-29 11:08:40.373 18904-19109/paquete W/System.err: \t\t\t... 20 more\r\n2023-06-29 11:08:40.375 18904-19109/paquete W/System.err: \tCaused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x8ae799c0: Failure in SSL library, usually a protocol error\r\n2023-06-29 11:08:40.376 18904-19109/paquete W/System.err: error:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/s3_pkt.c:610 0x8bb040c0:0x00000001)\r\n2023-06-29 11:08:40.376 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\r\n2023-06-29 11:08:40.377 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)\r\n2023-06-29 11:08:40.377 18904-19109/paquete W/System.err: \t\t... 20 more\r\n2023-06-29 11:08:40.380 18904-19109/paquete W/System.err: Caused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x8ae799c0: Failure in SSL library, usually a protocol error\r\n2023-06-29 11:08:40.380 18904-19109/paquete W/System.err: error:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/s3_pkt.c:610 0x8bb040c0:0x00000001)\r\n2023-06-29 11:08:40.381 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\r\n2023-06-29 11:08:40.381 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)\r\n2023-06-29 11:08:40.382 18904-19109/paquete W/System.err: \t... 20 more\r\n2023-06-29 11:08:40.382 18904-19109/paquete D/FormOperacionActivity: javax.net.ssl.SSLHandshakeException: Handshake failed\r\n2023-06-29 11:08:40.394 18904-18904/paquete D/paqueteTransactionActivity: Error de conexi&#243;n\r\n2023-06-29 11:08:40.439 18904-18904/paquete V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@e4f5459\r\n2023-06-29 11:08:40.440 18904-18904/paquete V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@950381e\r\n```\r\nThe code I am using is the following:\r\n\r\n```\r\n\r\n            SoapObject request = new SoapObject(SOAP_NAMESPACE, SOAP_METODE_SEND);\r\n\r\n           \r\n            String bodySend = ApiConfig.createBodySendSOAP(dato1, dato2, dato3, String.valueOf(dato4), dato5);\r\n            request.addProperty(&quot;JsonIN&quot;, bodySend);\r\n\r\n           \r\n            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n            envelope.dotNet = true;\r\n            envelope.setOutputSoapObject(request);\r\n\r\n            \r\n            HttpTransportSE httpTransport = new HttpTransportSE(urlSoapSend);\r\n            httpTransport.debug = true;\r\n            //setSSLFactory(httpTransport);\r\n            \r\n            //httpTransport.setReadTimeout(SOAP_REQUEST_TIMEOUT);\r\n\r\n           \r\n            httpTransport.call(SOAP_ACTION_SEND, envelope);\r\n\r\n            \r\n            SoapPrimitive response = (SoapPrimitive) envelope.getResponse();\r\n\r\n            \r\n            result = response.toString();\r\n```\r\nAnd with this implementation\r\nimplementation &#39;com.google.code.ksoap2-android:ksoap2-android:3.6.4&#39;\r\n\r\nIt should be mentioned that if it works with operating systems to android 7\r\n\r\nTry to test with TLSv1.2, TLSv1.0, TLSv1\r\n\r\nAnd with this implementation implementation &#39;com.google.code.ksoap2-android:ksoap2-android:3.6.4&#39;\r\n\r\nIt should be mentioned that if it works with operating systems to android 7\r\n\r\nTry to test with TLSv1.2, TLSv1.0, TLSv1","title":"Failed to make request in SOAP [Android 7.1.2] SSLHandshakeException: Handshake failed ssl","body":"<p>I am sending some data to a SOAP service, I am doing this with Java and Android, when I get to the part where I make the request, it gives me the following error:</p>\n<pre><code>2023-06-29 11:08:39.659 18904-19109/paquete D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n2023-06-29 11:08:39.663 18904-19109/paquete I/DpmTcmClient: RegisterTcmMonitor from: com.android.okhttp.TcmIdleTimerMonitor\n2023-06-29 11:08:40.343 18904-19109/paquete W/System.err: javax.net.ssl.SSLHandshakeException: Handshake failed\n2023-06-29 11:08:40.344 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:429)\n2023-06-29 11:08:40.345 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connectTls(Connection.java:235)\n2023-06-29 11:08:40.346 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connectSocket(Connection.java:199)\n2023-06-29 11:08:40.347 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connect(Connection.java:172)\n2023-06-29 11:08:40.347 18904-19109/paquete W/System.err:     at com.android.okhttp.Connection.connectAndSetOwner(Connection.java:367)\n2023-06-29 11:08:40.348 18904-19109/paquete W/System.err:     at com.android.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:130)\n2023-06-29 11:08:40.351 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:330)\n2023-06-29 11:08:40.352 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:247)\n2023-06-29 11:08:40.352 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:457)\n2023-06-29 11:08:40.353 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:126)\n2023-06-29 11:08:40.354 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:257)\n2023-06-29 11:08:40.355 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getOutputStream(DelegatingHttpsURLConnection.java:218)\n2023-06-29 11:08:40.356 18904-19109/paquete W/System.err:     at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java)\n2023-06-29 11:08:40.357 18904-19109/paquete W/System.err:     at org.ksoap2.transport.ServiceConnectionSE.openOutputStream(ServiceConnectionSE.java:134)\n2023-06-29 11:08:40.357 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.sendData(HttpTransportSE.java:295)\n2023-06-29 11:08:40.358 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:184)\n2023-06-29 11:08:40.359 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:118)\n2023-06-29 11:08:40.360 18904-19109/paquete W/System.err:     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:113)\n2023-06-29 11:08:40.360 18904-19109/paquete W/System.err:     at paquete.api.ApiRequestSOAP.requestSOAPSend(ApiRequestSOAP.java:152)\n2023-06-29 11:08:40.361 18904-19109/paquete W/System.err:     at paquete.activity.apps.paqueteTransactionActivity$11$1$1.run(paqueteTransactionActivity.java:364)\n2023-06-29 11:08:40.362 18904-19109/paquete W/System.err:     at java.lang.Thread.run(Thread.java:761)\n2023-06-29 11:08:40.364 18904-19109/paquete W/System.err:   Suppressed: javax.net.ssl.SSLHandshakeException: Handshake failed\n2023-06-29 11:08:40.365 18904-19109/paquete W/System.err:       ... 21 more\n2023-06-29 11:08:40.369 18904-19109/paquete W/System.err:       Suppressed: javax.net.ssl.SSLHandshakeException: Handshake failed\n2023-06-29 11:08:40.369 18904-19109/paquete W/System.err:           ... 21 more\n2023-06-29 11:08:40.371 18904-19109/paquete W/System.err:       Caused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x8ae799c0: Failure in SSL library, usually a protocol error\n2023-06-29 11:08:40.372 18904-19109/paquete W/System.err: error:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/s3_pkt.c:610 0x8bb040c0:0x00000001)\n2023-06-29 11:08:40.372 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n2023-06-29 11:08:40.373 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)\n2023-06-29 11:08:40.373 18904-19109/paquete W/System.err:           ... 20 more\n2023-06-29 11:08:40.375 18904-19109/paquete W/System.err:   Caused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x8ae799c0: Failure in SSL library, usually a protocol error\n2023-06-29 11:08:40.376 18904-19109/paquete W/System.err: error:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/s3_pkt.c:610 0x8bb040c0:0x00000001)\n2023-06-29 11:08:40.376 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n2023-06-29 11:08:40.377 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)\n2023-06-29 11:08:40.377 18904-19109/paquete W/System.err:       ... 20 more\n2023-06-29 11:08:40.380 18904-19109/paquete W/System.err: Caused by: javax.net.ssl.SSLProtocolException: SSL handshake terminated: ssl=0x8ae799c0: Failure in SSL library, usually a protocol error\n2023-06-29 11:08:40.380 18904-19109/paquete W/System.err: error:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/s3_pkt.c:610 0x8bb040c0:0x00000001)\n2023-06-29 11:08:40.381 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n2023-06-29 11:08:40.381 18904-19109/paquete W/System.err:     at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:357)\n2023-06-29 11:08:40.382 18904-19109/paquete W/System.err:   ... 20 more\n2023-06-29 11:08:40.382 18904-19109/paquete D/FormOperacionActivity: javax.net.ssl.SSLHandshakeException: Handshake failed\n2023-06-29 11:08:40.394 18904-18904/paquete D/paqueteTransactionActivity: Error de conexión\n2023-06-29 11:08:40.439 18904-18904/paquete V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@e4f5459\n2023-06-29 11:08:40.440 18904-18904/paquete V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@950381e\n</code></pre>\n<p>The code I am using is the following:</p>\n<pre><code>\n            SoapObject request = new SoapObject(SOAP_NAMESPACE, SOAP_METODE_SEND);\n\n           \n            String bodySend = ApiConfig.createBodySendSOAP(dato1, dato2, dato3, String.valueOf(dato4), dato5);\n            request.addProperty(&quot;JsonIN&quot;, bodySend);\n\n           \n            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n            envelope.dotNet = true;\n            envelope.setOutputSoapObject(request);\n\n            \n            HttpTransportSE httpTransport = new HttpTransportSE(urlSoapSend);\n            httpTransport.debug = true;\n            //setSSLFactory(httpTransport);\n            \n            //httpTransport.setReadTimeout(SOAP_REQUEST_TIMEOUT);\n\n           \n            httpTransport.call(SOAP_ACTION_SEND, envelope);\n\n            \n            SoapPrimitive response = (SoapPrimitive) envelope.getResponse();\n\n            \n            result = response.toString();\n</code></pre>\n<p>And with this implementation\nimplementation 'com.google.code.ksoap2-android:ksoap2-android:3.6.4'</p>\n<p>It should be mentioned that if it works with operating systems to android 7</p>\n<p>Try to test with TLSv1.2, TLSv1.0, TLSv1</p>\n<p>And with this implementation implementation 'com.google.code.ksoap2-android:ksoap2-android:3.6.4'</p>\n<p>It should be mentioned that if it works with operating systems to android 7</p>\n<p>Try to test with TLSv1.2, TLSv1.0, TLSv1</p>\n"},{"tags":["java","algorithm","tomcat","logging"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1687981460,"post_id":76575698,"comment_id":135014321,"body_markdown":"Check if  [_JAVA_OPTIONS env var](https://stackoverflow.com/a/30305597/2834978) exists and what&#39;s the value. May be it&#39;s setting debug for that on JVM options. See also https://stackoverflow.com/a/30104610/2834978","body":"Check if  <a href=\"https://stackoverflow.com/a/30305597/2834978\">_JAVA_OPTIONS env var</a> exists and what&#39;s the value. May be it&#39;s setting debug for that on JVM options. See also <a href=\"https://stackoverflow.com/a/30104610/2834978\">stackoverflow.com/a/30104610/2834978</a>"}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688059832,"creation_date":1688059832,"answer_id":76583367,"question_id":76575698,"body_markdown":"Educated guess.  You don&#39;t have a truststore set up, so you&#39;re getting logs over and over again every time a certificate is presented.\r\n\r\nTry following the suggestions in https://stackoverflow.com/questions/21833732/configure-truststore-in-tomcat to set up a truststore and see if your logs get cleaned up.","title":"Tomcat stout logging filled with certificate records","body":"<p>Educated guess.  You don't have a truststore set up, so you're getting logs over and over again every time a certificate is presented.</p>\n<p>Try following the suggestions in <a href=\"https://stackoverflow.com/questions/21833732/configure-truststore-in-tomcat\">Configure Truststore in Tomcat</a> to set up a truststore and see if your logs get cleaned up.</p>\n"}],"owner":{"account_id":19251103,"reputation":234,"user_id":14069069,"display_name":"elementmg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76583367,"answer_count":1,"score":0,"last_activity_date":1688059832,"creation_date":1687975568,"question_id":76575698,"body_markdown":"My Tomcat stout log file seems to fill up with millions of lines related to certificates, algorithm signatures etc. Basically my log file is 8gb and 99% of it looks similar to: \r\n\r\n```\r\nadding as trusted cert:\r\n  Subject: CN=SomeCNHere CA, O=SomeOHere Corporation, C=SomeCHere\r\n  Issuer:  CN=SomeCNHere CA, O=SomeOHere Corporation, C=SomeCHere\r\n  Algorithm: RSA; Serial number: 0xcf08o5c34256a5bt427bf0eb6903054d0\r\n  Valid from Tue Nov 07 14:31:18 EST 2008 until Mon Dec 31 14:40:55 EST 2039\r\n```\r\n\r\nOR similar related logs regarding the algorithm signatures. \r\n\r\nI cant seem to find any log settings that would cause this. I&#39;m thinking maybe it is due to mis-configured trustStore settings or possibly some debug logs are on somewhere. \r\n\r\nWhere should I look to shut these types of logs off? \r\n\r\nThank you. ","title":"Tomcat stout logging filled with certificate records","body":"<p>My Tomcat stout log file seems to fill up with millions of lines related to certificates, algorithm signatures etc. Basically my log file is 8gb and 99% of it looks similar to:</p>\n<pre><code>adding as trusted cert:\n  Subject: CN=SomeCNHere CA, O=SomeOHere Corporation, C=SomeCHere\n  Issuer:  CN=SomeCNHere CA, O=SomeOHere Corporation, C=SomeCHere\n  Algorithm: RSA; Serial number: 0xcf08o5c34256a5bt427bf0eb6903054d0\n  Valid from Tue Nov 07 14:31:18 EST 2008 until Mon Dec 31 14:40:55 EST 2039\n</code></pre>\n<p>OR similar related logs regarding the algorithm signatures.</p>\n<p>I cant seem to find any log settings that would cause this. I'm thinking maybe it is due to mis-configured trustStore settings or possibly some debug logs are on somewhere.</p>\n<p>Where should I look to shut these types of logs off?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","one-to-one"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688060179,"post_id":76583332,"comment_id":135026548,"body_markdown":"It&#39;s hard to say without seeing the code of the service where you are saving entities. But one thing seems to be wrong in the Card entity class: `@Column(name = &quot;user_id&quot;)\nprivate Long cardId;` Shouldn&#39;t be `&quot;card_id&quot;`?","body":"It&#39;s hard to say without seeing the code of the service where you are saving entities. But one thing seems to be wrong in the Card entity class: <code>@Column(name = &quot;user_id&quot;) private Long cardId;</code> Shouldn&#39;t be <code>&quot;card_id&quot;</code>?"}],"owner":{"account_id":25979860,"reputation":9,"user_id":19712163,"display_name":"SealAnia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688059528,"creation_date":1688059528,"question_id":76583332,"body_markdown":"I try to create a new child entity Card. I want to attach a User(parent entity) to a new card. But I get a log with the following message: \r\n\r\n&gt; detached entity passed to persist: com.example.gig_hunt.model.entity.User\r\n\r\nParent entity User: \r\n\r\n    public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    protected Long userId;\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY, orphanRemoval = true)\r\n    @PrimaryKeyJoinColumn\r\n    private Card card; }\r\n\r\nChild class Card: \r\n\r\n    public class Card {\r\n\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long cardId;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user; }\r\n\r\nPostman: \r\n\r\n&gt; {\r\n    &quot;cardNumber&quot; : 62778948348,\r\n    &quot;cvv&quot; : 652,\r\n    &quot;holderName&quot; : &quot;snbhbdhjrjm&quot;,\r\n    &quot;validTo&quot; : &quot;2025-10-15&quot;,\r\n    &quot;user&quot; : {\r\n        &quot;userId&quot; : 3\r\n    }\r\n}","title":"detached entity passed to persist in one-to-one relationship","body":"<p>I try to create a new child entity Card. I want to attach a User(parent entity) to a new card. But I get a log with the following message:</p>\n<blockquote>\n<p>detached entity passed to persist: com.example.gig_hunt.model.entity.User</p>\n</blockquote>\n<p>Parent entity User:</p>\n<pre><code>public class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprotected Long userId;\n\n@OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY, orphanRemoval = true)\n@PrimaryKeyJoinColumn\nprivate Card card; }\n</code></pre>\n<p>Child class Card:</p>\n<pre><code>public class Card {\n\n@Id\n@Column(name = &quot;user_id&quot;)\nprivate Long cardId;\n\n@OneToOne\n@MapsId\n@JoinColumn(name = &quot;user_id&quot;)\nprivate User user; }\n</code></pre>\n<p>Postman:</p>\n<blockquote>\n<p>{\n&quot;cardNumber&quot; : 62778948348,\n&quot;cvv&quot; : 652,\n&quot;holderName&quot; : &quot;snbhbdhjrjm&quot;,\n&quot;validTo&quot; : &quot;2025-10-15&quot;,\n&quot;user&quot; : {\n&quot;userId&quot; : 3\n}\n}</p>\n</blockquote>\n"},{"tags":["java","interface","modelmapper"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1688069780,"post_id":76583304,"comment_id":135028283,"body_markdown":"`mapper.typeMap(Source.class, Dest.class).addMappings(m -&gt; m.map(Source::getFoo,Dest::setBar)).include(SourceImpl.class, Dest.class);`  ModelMapper added include() for inheritance","body":"<code>mapper.typeMap(Source.class, Dest.class).addMappings(m -&gt; m.map(Source::getFoo,Dest::setBar)).include(SourceImpl.class&zwnj;&#8203;, Dest.class);</code>  ModelMapper added include() for inheritance"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1688073433,"post_id":76583304,"comment_id":135028865,"body_markdown":"But that way, I end up writing `.include(SourceImpl1.class, Dest.class).include(SourceImpl2.class, Dest.class).include(SourceImpl3.class, Dest.class).include(SourceImpl4.class, Dest.class).include(SourceImpl5.class, Dest.class).include(SourceImpl6.class, Dest.class).include(SourceImpl7.class, Dest.class).include(SourceImpl8.class, Dest.class).include(SourceImpl9.class, Dest.class).include(SourceImpl10.class, Dest.class)`, which is not what I want. That&#39;s what I meant when I said &quot;in a way that I do not have to enumerate all the implementations&quot;. Remember the &quot;O&quot; in SOLID!","body":"But that way, I end up writing <code>.include(SourceImpl1.class, Dest.class).include(SourceImpl2.class, Dest.class).include(SourceImpl3.class, Dest.class).include(SourceImpl4.class, Dest.class).include(SourceImpl5.class, Dest.class).include(SourceImpl6.class, Dest.class).include(SourceImpl7.class, Dest.class).include(SourceImpl8.class, Dest.class).include(SourceImpl9.class, Dest.class).include(SourceImpl10.class, Dest.class)</code>, which is not what I want. That&#39;s what I meant when I said &quot;in a way that I do not have to enumerate all the implementations&quot;. Remember the &quot;O&quot; in SOLID!"}],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688059289,"creation_date":1688059289,"question_id":76583304,"body_markdown":"I have an interface Source and a class Dest:\r\n```java\r\npublic interface Source {\r\n    int getFoo();\r\n}\r\n```\r\n```java\r\n@Data\r\npublic class Dest {\r\n    private int bar;\r\n}\r\n```\r\nAnd I have some code that uses modelmapper to map from Source to Dest:\r\n```java\r\npublic class MyMapper {\r\n    private ModelMapper mapper;\r\n\r\n    public MyMapper() {\r\n        mapper = new ModelMapper();\r\n\r\n        mapper.addMappings(new PropertyMap&lt;Source, Dest&gt;() {\r\n            @Override\r\n            protected void configure() {\r\n                map().setBar(source.getFoo());\r\n            }\r\n        });\r\n    }\r\n\r\n    public Dest map(Source source) {\r\n        return mapper.map(source, Dest.class);\r\n    }\r\n}\r\n```\r\nUnfortunately, it doesn&#39;t work. The following test is red:\r\n```java\r\npublic class MyMapperTest {\r\n    @Test\r\n    public void testMyMapper() {\r\n        MyMapper subject = new MyMapper();\r\n\r\n        Source s = new SourceImpl();\r\n\r\n        Dest d = subject.map(s);\r\n\r\n        assertEquals(s.getFoo(), d.getBar());\r\n    }\r\n}\r\n```\r\n`d.getBar()` returns 0. It&#39;s as if modelmapper is ignoring my config?\r\n\r\nIs there a way to make this mapping work for all possible implementations of Source (obviously ignoring any additional properties these implementations might have), in a way that I do not have to enumerate all the implementations when configuring the mapper?\r\n\r\nFor completeness&#39; sake, here&#39;s the SourceImpl used in the test:\r\n```java\r\npublic class SourceImpl implements Source {\r\n    @Override\r\n    public int getFoo() {\r\n        return 3;\r\n    }\r\n}\r\n```","title":"mapping all possible implementations of an interface the same way","body":"<p>I have an interface Source and a class Dest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Source {\n    int getFoo();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Dest {\n    private int bar;\n}\n</code></pre>\n<p>And I have some code that uses modelmapper to map from Source to Dest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyMapper {\n    private ModelMapper mapper;\n\n    public MyMapper() {\n        mapper = new ModelMapper();\n\n        mapper.addMappings(new PropertyMap&lt;Source, Dest&gt;() {\n            @Override\n            protected void configure() {\n                map().setBar(source.getFoo());\n            }\n        });\n    }\n\n    public Dest map(Source source) {\n        return mapper.map(source, Dest.class);\n    }\n}\n</code></pre>\n<p>Unfortunately, it doesn't work. The following test is red:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyMapperTest {\n    @Test\n    public void testMyMapper() {\n        MyMapper subject = new MyMapper();\n\n        Source s = new SourceImpl();\n\n        Dest d = subject.map(s);\n\n        assertEquals(s.getFoo(), d.getBar());\n    }\n}\n</code></pre>\n<p><code>d.getBar()</code> returns 0. It's as if modelmapper is ignoring my config?</p>\n<p>Is there a way to make this mapping work for all possible implementations of Source (obviously ignoring any additional properties these implementations might have), in a way that I do not have to enumerate all the implementations when configuring the mapper?</p>\n<p>For completeness' sake, here's the SourceImpl used in the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SourceImpl implements Source {\n    @Override\n    public int getFoo() {\n        return 3;\n    }\n}\n</code></pre>\n"},{"tags":["java","sap-cloud-foundry"],"answers":[{"tags":[],"owner":{"account_id":16487340,"reputation":517,"user_id":11912321,"display_name":"Sasku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573642300,"creation_date":1573642300,"answer_id":58835486,"question_id":58823249,"body_markdown":"To deploy an APP you have several options. The standard is to add the manifest.yml\r\n\r\nyou can find more information about it [here ( CF devguide )][1]. CF need to know several things and you can define them in this file. please have a look into the Attribute Reference to see what you can enter into this file. \r\n\r\n\r\n  [1]: https://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html","title":"What is a manifest.yml file in cloud foundry and why do i need it?","body":"<p>To deploy an APP you have several options. The standard is to add the manifest.yml</p>\n\n<p>you can find more information about it <a href=\"https://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html\" rel=\"nofollow noreferrer\">here ( CF devguide )</a>. CF need to know several things and you can define them in this file. please have a look into the Attribute Reference to see what you can enter into this file. </p>\n"},{"tags":[],"owner":{"account_id":2088431,"reputation":199,"user_id":1858796,"accept_rate":100,"display_name":"user1858796"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1573822732,"creation_date":1573822732,"answer_id":58877586,"question_id":58823249,"body_markdown":"**What is a manifest.yml file in cloud foundry?**\r\n\r\nThe file is an application deployment descriptor.This means that it contains information needed to deploy the application on cloud doundry e.g. name of the application, path to the application .war or .jar file and so on.  \r\n\r\n**why do i need it?**\r\nIt is not needed. The file is optional. Although using the file is helpful so that we don&#39;t have to give the application name, path etc in the cli command when deploying the file every time. \r\nThe cf push command looks for a manifest.yml file in the directory from where the push command is executed and uses the deployment values from this file. \r\n\r\n**Why do i need to add this file to my JAVA projects before deploying the project on cloud foundry?**\r\nAs explained above, one does not need it.\r\n\r\n**Is it mandatory?**\r\nNot at all","title":"What is a manifest.yml file in cloud foundry and why do i need it?","body":"<p><strong>What is a manifest.yml file in cloud foundry?</strong></p>\n\n<p>The file is an application deployment descriptor.This means that it contains information needed to deploy the application on cloud doundry e.g. name of the application, path to the application .war or .jar file and so on.  </p>\n\n<p><strong>why do i need it?</strong>\nIt is not needed. The file is optional. Although using the file is helpful so that we don't have to give the application name, path etc in the cli command when deploying the file every time. \nThe cf push command looks for a manifest.yml file in the directory from where the push command is executed and uses the deployment values from this file. </p>\n\n<p><strong>Why do i need to add this file to my JAVA projects before deploying the project on cloud foundry?</strong>\nAs explained above, one does not need it.</p>\n\n<p><strong>Is it mandatory?</strong>\nNot at all</p>\n"}],"owner":{"account_id":2088431,"reputation":199,"user_id":1858796,"accept_rate":100,"display_name":"user1858796"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13765,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58877586,"answer_count":2,"score":5,"last_activity_date":1688059278,"creation_date":1573577627,"question_id":58823249,"body_markdown":"Why do I need to add this file to my JAVA projects before deploying the project on cloud foundry? Is it mandatory?","title":"What is a manifest.yml file in cloud foundry and why do i need it?","body":"<p>Why do I need to add this file to my JAVA projects before deploying the project on cloud foundry? Is it mandatory?</p>\n"},{"tags":["java","spring","session","struts2","httpsession"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1401112611,"post_id":23871707,"comment_id":36744753,"body_markdown":"Where do you use this code?","body":"Where do you use this code?"},{"owner":{"account_id":4425897,"reputation":11,"user_id":3604388,"accept_rate":25,"display_name":"user3604388"},"score":0,"creation_date":1401112691,"post_id":23871707,"comment_id":36744804,"body_markdown":"in my LoginAction class","body":"in my LoginAction class"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1401112752,"post_id":23871707,"comment_id":36744841,"body_markdown":"Could you post the source code related to your question?","body":"Could you post the source code related to your question?"},{"owner":{"account_id":4425897,"reputation":11,"user_id":3604388,"accept_rate":25,"display_name":"user3604388"},"score":0,"creation_date":1401113356,"post_id":23871707,"comment_id":36745135,"body_markdown":"Done! this is my LoginAction class","body":"Done! this is my LoginAction class"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1401127051,"post_id":23871707,"comment_id":36751491,"body_markdown":"Don&#39;t use S2 action as an `AuthenticationSuccessHandler`.","body":"Don&#39;t use S2 action as an <code>AuthenticationSuccessHandler</code>."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401114379,"creation_date":1401114379,"answer_id":23872355,"question_id":23871707,"body_markdown":"You can use action context when an action was initiated by the struts2 filter. The method   \r\n`onAuthenticationSuccess` has nothing with struts2 and action context. Use servlet request object to get session.\r\n\r\n    HttpSession session = request.getSession(false);","title":"ActionContext.getContext().getSession() and NullPointerException","body":"<p>You can use action context when an action was initiated by the struts2 filter. The method<br>\n<code>onAuthenticationSuccess</code> has nothing with struts2 and action context. Use servlet request object to get session.</p>\n\n<pre><code>HttpSession session = request.getSession(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4346013,"reputation":1904,"user_id":3547935,"display_name":"hari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401167347,"creation_date":1401167347,"answer_id":23881451,"question_id":23871707,"body_markdown":"try this one,initialize your Servlet Action Context,\r\n\r\n\r\n    public void onAuthenticationSuccess(HttpServletRequest request,HttpServletResponse response, Authentication authentication)\r\n        throws IOException, ServletException {\r\n\r\n               request=(HttpServletRequest)ActionContext.getContext().get(ServletActionContext.HTTP_REQUEST);\r\n               String userObject=request.getParameter(&quot;userConnecte&quot;);\r\n                Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n               if (!(auth instanceof AnonymousAuthenticationToken)) {\r\n                    this.userDetails =  (UserDetails) auth.getPrincipal();\r\n               }\r\n               this.userConnecte = this.userBO.retournerUserByEmail(this.userDetails.getUsername());\r\n               this.session= ActionContext.getContext().getSession();\r\n               if(this.userObject!=null){\r\n               session.put(&quot;userConnecte&quot;, userObject);\r\n               return &quot;login_successful&quot;;\r\n               }else{\r\n               logger.info(&quot; userObject is null.&quot;+userObject);\r\n               retrun &quot;re_login_page&quot;;\r\n                }\r\n     }","title":"ActionContext.getContext().getSession() and NullPointerException","body":"<p>try this one,initialize your Servlet Action Context,</p>\n\n<pre><code>public void onAuthenticationSuccess(HttpServletRequest request,HttpServletResponse response, Authentication authentication)\n    throws IOException, ServletException {\n\n           request=(HttpServletRequest)ActionContext.getContext().get(ServletActionContext.HTTP_REQUEST);\n           String userObject=request.getParameter(\"userConnecte\");\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n           if (!(auth instanceof AnonymousAuthenticationToken)) {\n                this.userDetails =  (UserDetails) auth.getPrincipal();\n           }\n           this.userConnecte = this.userBO.retournerUserByEmail(this.userDetails.getUsername());\n           this.session= ActionContext.getContext().getSession();\n           if(this.userObject!=null){\n           session.put(\"userConnecte\", userObject);\n           return \"login_successful\";\n           }else{\n           logger.info(\" userObject is null.\"+userObject);\n           retrun \"re_login_page\";\n            }\n }\n</code></pre>\n"}],"owner":{"account_id":4425897,"reputation":11,"user_id":3604388,"accept_rate":25,"display_name":"user3604388"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688058892,"creation_date":1401112231,"question_id":23871707,"body_markdown":"I am developping an application with Struts2, Spring, Spring security and Hibernate.\r\n\r\nI need to use session, I try to define my session with this code: \r\n\r\n```java\r\n    \r\nMap session =  ActionContext.getContext().getSession();//line 1\r\nsession.put(&quot;objet&quot;,objet);// line2\r\n```\r\nBut it returns an `java.lang.NullPointerException` (line1)\r\nDo you have any idea about this problem?\r\n\r\n\r\n**LoginAction.java**\r\n\r\n    \r\n\r\n    public class LoginAction  extends ActionSupport implements SessionAware, Preparable, AuthenticationSuccessHandler {\r\n\tprivate UserDetails userDetails;\r\n\tprivate User userConnecte;\r\n\tprivate Map session;\r\n\t@Autowired\r\n\tprivate UserBO userBO;\r\n\t// DI via spring\r\n\tpublic void setUserBO(UserBO userBO) {\r\n\t\tthis.userBO = userBO;\r\n\t}\r\n\t/**\r\n\t * Getters and setters\r\n\t * @return\r\n\t */\r\n\tpublic User getUserConnecte() {\r\n\t\treturn userConnecte;\r\n\t}\r\n\r\n\tpublic void setUserConnecte(User userConnecte) {\r\n\t\tthis.userConnecte = userConnecte;\r\n\t}\r\n\tpublic User getSession() {\r\n\t\treturn session;\r\n\t}\r\n\r\n\tpublic void setSession(Map session) {\r\n\t\tthis.session = session;\r\n\t}\r\n\t\r\n\tpublic void prepare() throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\tpublic void onAuthenticationSuccess(HttpServletRequest request,\r\n\t\t\tHttpServletResponse response, Authentication authentication)\r\n\tthrows IOException, ServletException {\r\n\r\n\t\t\r\n\t\t\tAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\t\t\tif (!(auth instanceof AnonymousAuthenticationToken)) {\r\n\t\t\t\tthis.userDetails =  (UserDetails) auth.getPrincipal();\r\n\t\t\t}\r\n\t\t\tthis.userConnecte = this.userBO.retournerUserByEmail(this.userDetails.getUsername());\r\n\t\t\tthis.session = ActionContext.getContext().getSession();\r\n\t\t\tsession.put(&quot;userConnecte&quot;, this.userConnecte);\r\n\t\t\t\r\n\t\r\n\t}\r\n\r\n    }\r\n\r\n\r\n","title":"ActionContext.getContext().getSession() and NullPointerException","body":"<p>I am developping an application with Struts2, Spring, Spring security and Hibernate.</p>\n<p>I need to use session, I try to define my session with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \nMap session =  ActionContext.getContext().getSession();//line 1\nsession.put(&quot;objet&quot;,objet);// line2\n</code></pre>\n<p>But it returns an <code>java.lang.NullPointerException</code> (line1)\nDo you have any idea about this problem?</p>\n<p><strong>LoginAction.java</strong></p>\n<pre><code>public class LoginAction  extends ActionSupport implements SessionAware, Preparable, AuthenticationSuccessHandler {\nprivate UserDetails userDetails;\nprivate User userConnecte;\nprivate Map session;\n@Autowired\nprivate UserBO userBO;\n// DI via spring\npublic void setUserBO(UserBO userBO) {\n    this.userBO = userBO;\n}\n/**\n * Getters and setters\n * @return\n */\npublic User getUserConnecte() {\n    return userConnecte;\n}\n\npublic void setUserConnecte(User userConnecte) {\n    this.userConnecte = userConnecte;\n}\npublic User getSession() {\n    return session;\n}\n\npublic void setSession(Map session) {\n    this.session = session;\n}\n\npublic void prepare() throws Exception {\n    // TODO Auto-generated method stub\n\n}\npublic void onAuthenticationSuccess(HttpServletRequest request,\n        HttpServletResponse response, Authentication authentication)\nthrows IOException, ServletException {\n\n    \n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        if (!(auth instanceof AnonymousAuthenticationToken)) {\n            this.userDetails =  (UserDetails) auth.getPrincipal();\n        }\n        this.userConnecte = this.userBO.retournerUserByEmail(this.userDetails.getUsername());\n        this.session = ActionContext.getContext().getSession();\n        session.put(&quot;userConnecte&quot;, this.userConnecte);\n        \n\n}\n\n}\n</code></pre>\n"},{"tags":["java","linux","pdf","ghostscript"],"comments":[{"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"score":3,"creation_date":1330523826,"post_id":9497120,"comment_id":12029176,"body_markdown":"Those parameters won&#39;t downsample images anyway. What version of GS are you using, and have reported the errors as a bug ? The -dPDFA switch needs extra information to create a conforming PDF/A file which you haven&#39;t supplied. Possibly the &#39;errors&#39; are actually warnings....","body":"Those parameters won&#39;t downsample images anyway. What version of GS are you using, and have reported the errors as a bug ? The -dPDFA switch needs extra information to create a conforming PDF/A file which you haven&#39;t supplied. Possibly the &#39;errors&#39; are actually warnings...."}],"answers":[{"tags":[],"owner":{"account_id":1287647,"reputation":31,"user_id":1240419,"display_name":"gvdmoort"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1330554639,"creation_date":1330523532,"answer_id":9500370,"question_id":9497120,"body_markdown":"Try [moonshiner][1], a GUI to ghostscript. \r\n\r\n\r\n  [1]: http://moonshiner.sourceforge.net/","title":"How to downsample images within PDF file?","body":"<p>Try <a href=\"http://moonshiner.sourceforge.net/\" rel=\"nofollow\">moonshiner</a>, a GUI to ghostscript. </p>\n"},{"tags":[],"owner":{"account_id":147884,"reputation":87632,"user_id":359307,"display_name":"Kurt Pfeifle"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1409576024,"creation_date":1330970180,"answer_id":9571488,"question_id":9497120,"body_markdown":"Here&#39;s an example of how you can downsample all (color, gray and mono) images to 72dpi with a Ghostscript commandline:\r\n\r\n    gs \\\r\n      -o downsampled.pdf \\\r\n      -sDEVICE=pdfwrite \\\r\n      -dDownsampleColorImages=true \\\r\n      -dDownsampleGrayImages=true \\\r\n      -dDownsampleMonoImages=true \\\r\n      -dColorImageResolution=72 \\\r\n      -dGrayImageResolution=72 \\\r\n      -dMonoImageResolution=72 \\\r\n      -dColorImageDownsampleThreshold=1.0 \\\r\n      -dGrayImageDownsampleThreshold=1.0 \\\r\n      -dMonoImageDownsampleThreshold=1.0 \\\r\n       input.pdf\r\n\r\n----\r\n\r\n**Update:**    \r\nThe `*ImageDownsampleThreshold=1.0` parameters enforce that ***all*** Images with a resolution higher than the target resolution of 72 dpi will be downsampled. If this parameter is not given (or set to a different value), the default values will be used: `*ImageDownsampleThreshold=1.5`. This default value will only downsample images with a value of 108 dpi (or higher) and leave the other ones untouched.","title":"How to downsample images within PDF file?","body":"<p>Here's an example of how you can downsample all (color, gray and mono) images to 72dpi with a Ghostscript commandline:</p>\n\n<pre><code>gs \\\n  -o downsampled.pdf \\\n  -sDEVICE=pdfwrite \\\n  -dDownsampleColorImages=true \\\n  -dDownsampleGrayImages=true \\\n  -dDownsampleMonoImages=true \\\n  -dColorImageResolution=72 \\\n  -dGrayImageResolution=72 \\\n  -dMonoImageResolution=72 \\\n  -dColorImageDownsampleThreshold=1.0 \\\n  -dGrayImageDownsampleThreshold=1.0 \\\n  -dMonoImageDownsampleThreshold=1.0 \\\n   input.pdf\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong><br>\nThe <code>*ImageDownsampleThreshold=1.0</code> parameters enforce that <strong><em>all</em></strong> Images with a resolution higher than the target resolution of 72 dpi will be downsampled. If this parameter is not given (or set to a different value), the default values will be used: <code>*ImageDownsampleThreshold=1.5</code>. This default value will only downsample images with a value of 108 dpi (or higher) and leave the other ones untouched.</p>\n"},{"tags":[],"owner":{"account_id":270035,"reputation":8356,"user_id":559742,"accept_rate":86,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1333284825,"creation_date":1333284825,"answer_id":9964532,"question_id":9497120,"body_markdown":"This is what I am using:\r\n\r\n`gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/ebook -dNOPAUSE -dQUIET -dBATCH -sOutputFile=OUTPUT.pdf INPUT.pdf`\r\n\r\nFor your reference:\r\n\r\n-dPDFSETTINGS=/screen   (screen-view-only quality, 72 dpi images)\r\n\r\n-dPDFSETTINGS=/ebook    (low quality, 150 dpi images)\r\n\r\n-dPDFSETTINGS=/printer  (high quality, 300 dpi images)\r\n\r\n-dPDFSETTINGS=/prepress (high quality, color preserving, 300 dpi imgs)\r\n\r\n-dPDFSETTINGS=/default  (almost identical to /screen)","title":"How to downsample images within PDF file?","body":"<p>This is what I am using:</p>\n\n<p><code>gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/ebook -dNOPAUSE -dQUIET -dBATCH -sOutputFile=OUTPUT.pdf INPUT.pdf</code></p>\n\n<p>For your reference:</p>\n\n<p>-dPDFSETTINGS=/screen   (screen-view-only quality, 72 dpi images)</p>\n\n<p>-dPDFSETTINGS=/ebook    (low quality, 150 dpi images)</p>\n\n<p>-dPDFSETTINGS=/printer  (high quality, 300 dpi images)</p>\n\n<p>-dPDFSETTINGS=/prepress (high quality, color preserving, 300 dpi imgs)</p>\n\n<p>-dPDFSETTINGS=/default  (almost identical to /screen)</p>\n"},{"tags":[],"owner":{"account_id":3878190,"reputation":21,"user_id":3211547,"display_name":"mlitty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390112412,"creation_date":1390112412,"answer_id":21213857,"question_id":9497120,"body_markdown":"For a scanned document in which each page is a full color image, I used a combination of the command line above and another that I found on a different site, \r\n\r\n\r\n    gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dDownsampleColorImages=true \\\r\n    -dColorImageResolution=150 -dNOPAUSE  -dBATCH -sOutputFile=output.pdf input.pdf\r\n\r\n\r\nEach of my pages was a color scan of a document.  This command line reduced the resolution of the pages to 150dpi, cutting the file size in half without significant loss of resolution.  It&#39;s still looks good and the text is comfortably readable on my Nexus 7.","title":"How to downsample images within PDF file?","body":"<p>For a scanned document in which each page is a full color image, I used a combination of the command line above and another that I found on a different site, </p>\n\n<pre><code>gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dDownsampleColorImages=true \\\n-dColorImageResolution=150 -dNOPAUSE  -dBATCH -sOutputFile=output.pdf input.pdf\n</code></pre>\n\n<p>Each of my pages was a color scan of a document.  This command line reduced the resolution of the pages to 150dpi, cutting the file size in half without significant loss of resolution.  It's still looks good and the text is comfortably readable on my Nexus 7.</p>\n"},{"tags":[],"owner":{"account_id":2085713,"reputation":29,"user_id":1856757,"display_name":"Supernuija"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688058687,"creation_date":1688056846,"answer_id":76583026,"question_id":9497120,"body_markdown":"I tested today, that for some reason Ghostscript (9.54.0) `-dPDFSETTINGS=/screen` will automatically increase the filesize, if the image resolution is set to 70 dpi or higher. If the dpi value is set just below 70, it will operate really well and create practically screen quality document in significantly smaller filesize, keeping all vector based fonts intact. **Here is my command line that really squeezes the air out of the massive PDF:s.**  \r\n\r\n    gswin64.exe -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/screen -dNOPAUSE -dBATCH -dQUIET -dDownsampleColorImages=true -dColorImageResolution=69 -dColorImageDownsampleType=/Bicubic -dAutoFilterColorImages=false -sOutputFile=YourOutputFile YourInputFile.pdf","title":"How to downsample images within PDF file?","body":"<p>I tested today, that for some reason Ghostscript (9.54.0) <code>-dPDFSETTINGS=/screen</code> will automatically increase the filesize, if the image resolution is set to 70 dpi or higher. If the dpi value is set just below 70, it will operate really well and create practically screen quality document in significantly smaller filesize, keeping all vector based fonts intact. <strong>Here is my command line that really squeezes the air out of the massive PDF:s.</strong></p>\n<pre><code>gswin64.exe -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/screen -dNOPAUSE -dBATCH -dQUIET -dDownsampleColorImages=true -dColorImageResolution=69 -dColorImageDownsampleType=/Bicubic -dAutoFilterColorImages=false -sOutputFile=YourOutputFile YourInputFile.pdf\n</code></pre>\n"}],"owner":{"account_id":463343,"reputation":417,"user_id":866185,"accept_rate":60,"display_name":"macromaniac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14105,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":5,"score":35,"last_activity_date":1688058687,"creation_date":1330510132,"question_id":9497120,"body_markdown":"Need a Java-based solution or, at the worst, command-line for Linux.\r\n\r\nI tried to use Ghostscript:\r\n\r\n    gs -sDEVICE=pdfwrite -dPDFA -dBATCH -dNOPAUSE -dUseCIEColor \\\r\n       -sProcessColorModel=DeviceCMYK -sPDFACompatibilityPolicy=1 \\\r\n       -sOutputFile=downgraded.pdf leon_range_my12_w22_brochure.pdf\r\n\r\nbut I got a lot of errors...\r\n","title":"How to downsample images within PDF file?","body":"<p>Need a Java-based solution or, at the worst, command-line for Linux.</p>\n\n<p>I tried to use Ghostscript:</p>\n\n<pre><code>gs -sDEVICE=pdfwrite -dPDFA -dBATCH -dNOPAUSE -dUseCIEColor \\\n   -sProcessColorModel=DeviceCMYK -sPDFACompatibilityPolicy=1 \\\n   -sOutputFile=downgraded.pdf leon_range_my12_w22_brochure.pdf\n</code></pre>\n\n<p>but I got a lot of errors...</p>\n"},{"tags":["java","scripting","sap-gui","silktest"],"answers":[{"tags":[],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1425547214,"creation_date":1425546721,"answer_id":28873935,"question_id":28873934,"body_markdown":"This answer is for Silk4J only, I have not tried to use the SAP scripting directly.\r\n\r\n**getColumnHeaders()**\r\n\r\ngetColumnHeaders() returns a list of all columns which are theoretically available. Some of them may have been unselected by the user via column configuration. Even if unselected, this method returns all technical column names, not the human readable names displayed on the screen.\r\n\r\n![SAP GUI column configuration][1]\r\n\r\nSome checkboxes in the column configuration dialog correspond to two columns in the tree. In the screenshot above, the checkbox at `G&#252;ltigkeitszeitraum` triggered both `ORG_BEGDA` and `ORG_ENDDA` columns. So the number of columns in the tree is not 1:1 related to the number of checkboxes in the column configuration.\r\n\r\nIt is not possible for the user to remove the first column, reported as `HierarchyHeader` by this method. There is no checkbox for it in the dialog.\r\n\r\nExample column headers to compare with other methods:\r\n\r\n    HierarchyHeader // this seems to be a fixed text for the first column\r\n    COL2 // here: ORG_OBJID for the Id column \r\n    COL3\r\n    COL4\r\n    COL5 // here: ORG_SHORT for the &quot;K&#252;rzel&quot; column\r\n    ...\r\n    COL14\r\n\r\n**getColumnNames()**\r\n\r\ngetColumnNames() returns a list of those columns currently displayed in the tree, i.e. selected by the user via the column configuration.\r\n\r\nImportant to know: the column names list is then padded to the left with `null` items. You cannot call `getColumnIndexFromName()` and `getColumnTitleFromName()` with `null` as parameter.\r\n\r\nExample output:\r\n\r\n    COL1 // corresponds to HierarchyHeader but is not the string &quot;HierarchyHeader&quot;\r\n    COL2 // here: ORG_OBJID\r\n    COL5 // here: ORG_SHORT\r\n    COL9 // here ORG_BEGDA\r\n    COL10 // here: ORG_ENDDA\r\n    null\r\n    ...\r\n    null\r\n\r\n**getColumnTitles()**\r\n\r\ngetColumnTitles() in Silk4J returns exactly the same result as `getColumnHeaders()`. This is a bit odd, because the method `getColumnTitleFromName()` returns the human readable text displayed on the screen, which suggests that `getColumnTitles()` should do that as well.\r\n\r\nThis does not seem to be a bug in Silk4J, since it uses the correct property name to get it from the SAP scripting automation (decompiled JAR):\r\n\r\n![Silk4J decompiled JAR][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/DnOlL.png\r\n  [2]: http://i.stack.imgur.com/J5uQ5.png","title":"Difference between getColumnHeaders(), getColumnNames() and getColumnTitles()","body":"<p>This answer is for Silk4J only, I have not tried to use the SAP scripting directly.</p>\n\n<p><strong>getColumnHeaders()</strong></p>\n\n<p>getColumnHeaders() returns a list of all columns which are theoretically available. Some of them may have been unselected by the user via column configuration. Even if unselected, this method returns all technical column names, not the human readable names displayed on the screen.</p>\n\n<p><img src=\"https://i.stack.imgur.com/DnOlL.png\" alt=\"SAP GUI column configuration\"></p>\n\n<p>Some checkboxes in the column configuration dialog correspond to two columns in the tree. In the screenshot above, the checkbox at <code>Gültigkeitszeitraum</code> triggered both <code>ORG_BEGDA</code> and <code>ORG_ENDDA</code> columns. So the number of columns in the tree is not 1:1 related to the number of checkboxes in the column configuration.</p>\n\n<p>It is not possible for the user to remove the first column, reported as <code>HierarchyHeader</code> by this method. There is no checkbox for it in the dialog.</p>\n\n<p>Example column headers to compare with other methods:</p>\n\n<pre><code>HierarchyHeader // this seems to be a fixed text for the first column\nCOL2 // here: ORG_OBJID for the Id column \nCOL3\nCOL4\nCOL5 // here: ORG_SHORT for the \"Kürzel\" column\n...\nCOL14\n</code></pre>\n\n<p><strong>getColumnNames()</strong></p>\n\n<p>getColumnNames() returns a list of those columns currently displayed in the tree, i.e. selected by the user via the column configuration.</p>\n\n<p>Important to know: the column names list is then padded to the left with <code>null</code> items. You cannot call <code>getColumnIndexFromName()</code> and <code>getColumnTitleFromName()</code> with <code>null</code> as parameter.</p>\n\n<p>Example output:</p>\n\n<pre><code>COL1 // corresponds to HierarchyHeader but is not the string \"HierarchyHeader\"\nCOL2 // here: ORG_OBJID\nCOL5 // here: ORG_SHORT\nCOL9 // here ORG_BEGDA\nCOL10 // here: ORG_ENDDA\nnull\n...\nnull\n</code></pre>\n\n<p><strong>getColumnTitles()</strong></p>\n\n<p>getColumnTitles() in Silk4J returns exactly the same result as <code>getColumnHeaders()</code>. This is a bit odd, because the method <code>getColumnTitleFromName()</code> returns the human readable text displayed on the screen, which suggests that <code>getColumnTitles()</code> should do that as well.</p>\n\n<p>This does not seem to be a bug in Silk4J, since it uses the correct property name to get it from the SAP scripting automation (decompiled JAR):</p>\n\n<p><img src=\"https://i.stack.imgur.com/J5uQ5.png\" alt=\"Silk4J decompiled JAR\"></p>\n"}],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28873935,"answer_count":1,"score":1,"last_activity_date":1688058614,"creation_date":1425546721,"question_id":28873934,"body_markdown":"I am automating tests using Silk4J. For the [SapTree [MicroFocus]][1] class, there are the methods [getColumnHeaders() [Microfocus]][2], [getColumnNames() [MicroFocus]][3] and [getColumnTitles() [MicroFocus]][4].\r\n\r\nThe description of them is very similar and I&#39;m trying to understand the differences.\r\n\r\nWhat I found out so far:\r\n\r\n* the methods return different results. In my case, it differs only in the first element and I&#39;m not sure whether it might differ in more cases.\r\n\r\nThis is how my tree looks like in SAP GUI (called a column tree):\r\n\r\n![SAPTree screenshot][5]\r\n\r\nThis is the difference between name and header - in my case is just in the first column:\r\n\r\n    Column name:   ZMAPP_STEXT\r\n    Column header: HierarchyHeader\r\n    Column name:   ORG_OBJID\r\n    Column header: ORG_OBJID\r\n    Column name:   ORG_SHORT\r\n    Column header: ORG_SHORT\r\n    Column name:   ORG_BEGDA\r\n    Column header: ORG_BEGDA\r\n    Column name:   ORG_ENDDA\r\n    Column header: ORG_ENDDA\r\n    ...\r\n\r\nI have tried:\r\n\r\n* I asked the MicroFocus support, but the answer is, that this is basically a copy of the SAP automation documentation\r\n* I got a copy of the [SAP GUI Scripting API [SAP]][6] and looked up the documentation of the GuiTree class, but that one is even worse.\r\n\r\nSo, **what is the difference between getColumnHeaders(), getColumnNames() and getColumnTitles()?** In which situation do I need which method? Does it depend on the tree type?\r\n\r\n  [1]: http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapTreeClass_ref.html\r\n  [2]: http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FColumnHeadersPropertySapTree_ref.html\r\n  [3]: http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FColumnNamesPropertySapTree_ref.html\r\n  [4]: http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FColumnTitlesPropertySapTree_ref.html\r\n  [5]: http://i.stack.imgur.com/wJt4n.png\r\n[6]: http://www.sdn.sap.com/irj/scn/index?rid=/library/uuid/a034a16b-3bfe-2a10-e2bb-8bd880db0b3c","title":"Difference between getColumnHeaders(), getColumnNames() and getColumnTitles()","body":"<p>I am automating tests using Silk4J. For the <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FSapTreeClass_ref.html\" rel=\"nofollow noreferrer\">SapTree [MicroFocus]</a> class, there are the methods <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FColumnHeadersPropertySapTree_ref.html\" rel=\"nofollow noreferrer\">getColumnHeaders() [Microfocus]</a>, <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FColumnNamesPropertySapTree_ref.html\" rel=\"nofollow noreferrer\">getColumnNames() [MicroFocus]</a> and <a href=\"http://documentation.microfocus.com/help/index.jsp?topic=%2Fcom.borland.silktest.silk4net.doc%2Flangref%2FSAP%2FColumnTitlesPropertySapTree_ref.html\" rel=\"nofollow noreferrer\">getColumnTitles() [MicroFocus]</a>.</p>\n\n<p>The description of them is very similar and I'm trying to understand the differences.</p>\n\n<p>What I found out so far:</p>\n\n<ul>\n<li>the methods return different results. In my case, it differs only in the first element and I'm not sure whether it might differ in more cases.</li>\n</ul>\n\n<p>This is how my tree looks like in SAP GUI (called a column tree):</p>\n\n<p><img src=\"https://i.stack.imgur.com/wJt4n.png\" alt=\"SAPTree screenshot\"></p>\n\n<p>This is the difference between name and header - in my case is just in the first column:</p>\n\n<pre><code>Column name:   ZMAPP_STEXT\nColumn header: HierarchyHeader\nColumn name:   ORG_OBJID\nColumn header: ORG_OBJID\nColumn name:   ORG_SHORT\nColumn header: ORG_SHORT\nColumn name:   ORG_BEGDA\nColumn header: ORG_BEGDA\nColumn name:   ORG_ENDDA\nColumn header: ORG_ENDDA\n...\n</code></pre>\n\n<p>I have tried:</p>\n\n<ul>\n<li>I asked the MicroFocus support, but the answer is, that this is basically a copy of the SAP automation documentation</li>\n<li>I got a copy of the <a href=\"http://www.sdn.sap.com/irj/scn/index?rid=/library/uuid/a034a16b-3bfe-2a10-e2bb-8bd880db0b3c\" rel=\"nofollow noreferrer\">SAP GUI Scripting API [SAP]</a> and looked up the documentation of the GuiTree class, but that one is even worse.</li>\n</ul>\n\n<p>So, <strong>what is the difference between getColumnHeaders(), getColumnNames() and getColumnTitles()?</strong> In which situation do I need which method? Does it depend on the tree type?</p>\n"},{"tags":["java","performancecounter"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687990670,"post_id":76576832,"comment_id":135015672,"body_markdown":"Why [ignore the exceptions?](https://technojeeves.com/index.php/aliasjava1/94-ignoring-exceptions-is-dangerous)","body":"Why <a href=\"https://technojeeves.com/index.php/aliasjava1/94-ignoring-exceptions-is-dangerous\" rel=\"nofollow noreferrer\">ignore the exceptions?</a>"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687997706,"post_id":76576832,"comment_id":135016285,"body_markdown":"What output are you getting currently?","body":"What output are you getting currently?"}],"answers":[{"tags":[],"owner":{"account_id":17567974,"reputation":1,"user_id":12744288,"display_name":"Bobby Singer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688058421,"creation_date":1688058421,"answer_id":76583207,"question_id":76576832,"body_markdown":"So I used a different method to solve the issue. Not sure why it wasn&#39;t working I suspect since the script itself is ancient and is made to run with Java 1.7. I would have preferred to write to environment variables so I could hook in the data into another script rather than reading the Javasoft key but for now, I have settled on using preferences.\r\n\r\n\r\n\timport java.util.prefs.*;\r\n\r\n\t//runs at the top of script set default to 0 if reboot\r\n\truncounter = Preferences.userNodeForPackage(xxx.class).getInt(&quot;Counter Number&quot;, 0);\r\n\t\r\n\t//runs after counter\r\n\truncounter = runcounter +1;\r\n\tPreferences.userNodeForPackage(xxx.class).putInt(&quot;Counter Number&quot;,  runcounter);\r\n","title":"Cant get Jna to recognize and set registry","body":"<p>So I used a different method to solve the issue. Not sure why it wasn't working I suspect since the script itself is ancient and is made to run with Java 1.7. I would have preferred to write to environment variables so I could hook in the data into another script rather than reading the Javasoft key but for now, I have settled on using preferences.</p>\n<pre><code>import java.util.prefs.*;\n\n//runs at the top of script set default to 0 if reboot\nruncounter = Preferences.userNodeForPackage(xxx.class).getInt(&quot;Counter Number&quot;, 0);\n\n//runs after counter\nruncounter = runcounter +1;\nPreferences.userNodeForPackage(xxx.class).putInt(&quot;Counter Number&quot;,  runcounter);\n</code></pre>\n"}],"owner":{"account_id":17567974,"reputation":1,"user_id":12744288,"display_name":"Bobby Singer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688058421,"creation_date":1687987835,"question_id":76576832,"body_markdown":"So essentially I am trying to read the data from registry to keep a persistent variable in case my Java program crashes which runs 7-8 hours a day\r\n\r\n```\r\nimport com.sun.jna.platform.win32.Advapi32;\r\nimport com.sun.jna.platform.win32.Advapi32Util;\r\nimport com.sun.jna.platform.win32.WinReg;\r\nimport com.sun.jna.platform.win32.WinReg.HKEY;\r\nimport com.sun.jna.platform.win32.WinReg.HKEYByReference;\r\n\r\n//Sets the data within registry in case of crash\r\ntry {\r\nAdvapi32Util.registrySetIntValue(WinReg.HKEY_LOCAL_MACHINE, &quot;System\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment&quot;, &quot;Tracked Counters&quot;, counter);\r\n} catch(Throwable e) {\r\n\treturn null;\r\n}\r\n\r\ntry {\r\nint counter = Advapi32Util.registryGetIntValue(WinReg.HKEY_LOCAL_MACHINE,\t\t\t&quot;System\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment&quot;, &quot;Tracked counters&quot;);\r\n} catch(Throwable e) {\r\n    return null;\r\n}\r\n\r\n```\r\n I can&#39;t figure out why it&#39;s not working. I have tried giving it admin access. I also tried setting the environment variable via Current_User and forgoing admin rights. I am not familar with Java\r\n\r\nI expected the counter in the registry to enumerate as the script ran instead the value stayed at 0","title":"Cant get Jna to recognize and set registry","body":"<p>So essentially I am trying to read the data from registry to keep a persistent variable in case my Java program crashes which runs 7-8 hours a day</p>\n<pre><code>import com.sun.jna.platform.win32.Advapi32;\nimport com.sun.jna.platform.win32.Advapi32Util;\nimport com.sun.jna.platform.win32.WinReg;\nimport com.sun.jna.platform.win32.WinReg.HKEY;\nimport com.sun.jna.platform.win32.WinReg.HKEYByReference;\n\n//Sets the data within registry in case of crash\ntry {\nAdvapi32Util.registrySetIntValue(WinReg.HKEY_LOCAL_MACHINE, &quot;System\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment&quot;, &quot;Tracked Counters&quot;, counter);\n} catch(Throwable e) {\n    return null;\n}\n\ntry {\nint counter = Advapi32Util.registryGetIntValue(WinReg.HKEY_LOCAL_MACHINE,           &quot;System\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment&quot;, &quot;Tracked counters&quot;);\n} catch(Throwable e) {\n    return null;\n}\n\n</code></pre>\n<p>I can't figure out why it's not working. I have tried giving it admin access. I also tried setting the environment variable via Current_User and forgoing admin rights. I am not familar with Java</p>\n<p>I expected the counter in the registry to enumerate as the script ran instead the value stayed at 0</p>\n"},{"tags":["python","java","hash"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1688045793,"post_id":76581535,"comment_id":135023295,"body_markdown":"You mean you want to reproduce exactly the same results as Java&#39;s `String.hashCode` in Python?","body":"You mean you want to reproduce exactly the same results as Java&#39;s <code>String.hashCode</code> in Python?"},{"owner":{"account_id":2776749,"reputation":72437,"user_id":2390182,"display_name":"user2390182"},"score":1,"creation_date":1688045860,"post_id":76581535,"comment_id":135023313,"body_markdown":"You can call `hash(obj)` for any object in Python. Mutable types (`dict`, `list`, etc) are however unhashable. Custom classes can define the behavior by implementing a `__hash__` method. Default for custom classes is based on object identity (memory location) with `hash(obj) == hash(id(obj)//16)`","body":"You can call <code>hash(obj)</code> for any object in Python. Mutable types (<code>dict</code>, <code>list</code>, etc) are however unhashable. Custom classes can define the behavior by implementing a <code>__hash__</code> method. Default for custom classes is based on object identity (memory location) with <code>hash(obj) == hash(id(obj)&#47;&#47;16)</code>"},{"owner":{"account_id":28918981,"reputation":23,"user_id":22150375,"display_name":"Пётр Кондратьев"},"score":0,"creation_date":1688046092,"post_id":76581535,"comment_id":135023360,"body_markdown":"@Sweeper, yes, exactly that","body":"@Sweeper, yes, exactly that"}],"answers":[{"tags":[],"owner":{"account_id":2776749,"reputation":72437,"user_id":2390182,"display_name":"user2390182"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688058414,"creation_date":1688047377,"answer_id":76581788,"question_id":76581535,"body_markdown":"According to java [String source code][0], the hash implementation is:\r\n\r\n    public int hashCode()\r\n        {\r\n          if (cachedHashCode != 0)\r\n            return cachedHashCode;\r\n        \r\n          // Compute the hash code using a local variable to be reentrant.\r\n          int hashCode = 0;\r\n          int limit = count + offset;\r\n          for (int i = offset; i &lt; limit; i++)\r\n            hashCode = hashCode * 31 + value[i];\r\n          return cachedHashCode = hashCode;\r\n        }\r\n\r\n\r\nYou can transfer this to Python (w/o caching):\r\n\r\n    class JavaHashStr(str):\r\n        def __hash__(self):\r\n            hashCode = 0\r\n            for char in self:\r\n                hashCode = hashCode * 31 + ord(char)\r\n            return hashCode\r\n\r\n    &gt;&gt;&gt; j = JavaHashStr(&quot;abcd&quot;)\r\n    &gt;&gt;&gt; hash(j)\r\n    2987074  # same as java\r\n    &gt;&gt;&gt; j = JavaHashStr(&quot;abcdef&quot;)\r\n    &gt;&gt;&gt; hash(j)\r\n    2870581347  # java: -1424385949\r\n\r\nNote, Python ints do not overflow like java, so this is wrong for many cases. You would have to add a simulation for the overflow (**Update**: thx to @PresidentJamesK.Polk for the improved version, [SO thread on the topic][2]):\r\n\r\n    class JavaHashStr(str):\r\n        def __hash__(self):\r\n            hashCode = 0\r\n            for char in self:\r\n                hashCode = (hashCode * 31 + ord(char)) &amp; (2**32 - 1)  # unsigned\r\n            if hashCode &amp; 2**31:\r\n                hashCode -= 2**32  # make it signed\r\n            return hashCode\r\n\r\nNow, even overflowing hashes behave the same:\r\n\r\n    &gt;&gt;&gt; j = JavaHashStr(&quot;abc&quot;)\r\n    &gt;&gt;&gt; hash(j)\r\n    96354\r\n    &gt;&gt;&gt; j = JavaHashStr(&quot;abcdef&quot;)\r\n    &gt;&gt;&gt; hash(j)\r\n    -1424385949  # Java hash for &quot;abcdef&quot;\r\n\r\nThis might still be off for characters from the latter unicode panes like emojis or the like. But for the most common punctuation and latin-based characters, this should work.\r\n\r\n[0]: https://developer.classpath.org/doc/java/lang/String-source.html\r\n[1]: https://stackoverflow.com/questions/61208181/simulate-integer-overflow-in-python\r\n[2]: https://stackoverflow.com/questions/61208181/simulate-integer-overflow-in-python\r\n\r\n","title":"Python equivalent for Java hashCode() function","body":"<p>According to java <a href=\"https://developer.classpath.org/doc/java/lang/String-source.html\" rel=\"nofollow noreferrer\">String source code</a>, the hash implementation is:</p>\n<pre><code>public int hashCode()\n    {\n      if (cachedHashCode != 0)\n        return cachedHashCode;\n    \n      // Compute the hash code using a local variable to be reentrant.\n      int hashCode = 0;\n      int limit = count + offset;\n      for (int i = offset; i &lt; limit; i++)\n        hashCode = hashCode * 31 + value[i];\n      return cachedHashCode = hashCode;\n    }\n</code></pre>\n<p>You can transfer this to Python (w/o caching):</p>\n<pre><code>class JavaHashStr(str):\n    def __hash__(self):\n        hashCode = 0\n        for char in self:\n            hashCode = hashCode * 31 + ord(char)\n        return hashCode\n\n&gt;&gt;&gt; j = JavaHashStr(&quot;abcd&quot;)\n&gt;&gt;&gt; hash(j)\n2987074  # same as java\n&gt;&gt;&gt; j = JavaHashStr(&quot;abcdef&quot;)\n&gt;&gt;&gt; hash(j)\n2870581347  # java: -1424385949\n</code></pre>\n<p>Note, Python ints do not overflow like java, so this is wrong for many cases. You would have to add a simulation for the overflow (<strong>Update</strong>: thx to @PresidentJamesK.Polk for the improved version, <a href=\"https://stackoverflow.com/questions/61208181/simulate-integer-overflow-in-python\">SO thread on the topic</a>):</p>\n<pre><code>class JavaHashStr(str):\n    def __hash__(self):\n        hashCode = 0\n        for char in self:\n            hashCode = (hashCode * 31 + ord(char)) &amp; (2**32 - 1)  # unsigned\n        if hashCode &amp; 2**31:\n            hashCode -= 2**32  # make it signed\n        return hashCode\n</code></pre>\n<p>Now, even overflowing hashes behave the same:</p>\n<pre><code>&gt;&gt;&gt; j = JavaHashStr(&quot;abc&quot;)\n&gt;&gt;&gt; hash(j)\n96354\n&gt;&gt;&gt; j = JavaHashStr(&quot;abcdef&quot;)\n&gt;&gt;&gt; hash(j)\n-1424385949  # Java hash for &quot;abcdef&quot;\n</code></pre>\n<p>This might still be off for characters from the latter unicode panes like emojis or the like. But for the most common punctuation and latin-based characters, this should work.</p>\n"},{"tags":[],"owner":{"account_id":76368,"reputation":11500,"user_id":218663,"display_name":"JonSG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688049087,"creation_date":1688048234,"answer_id":76581924,"question_id":76581535,"body_markdown":"This produces the same results for the string &quot;The Quick Brown Fox&quot; as [the answer by @user2390182](https://stackoverflow.com/a/76581788/218663) and an online tool I tried. I think it is a little easier to follow but it might be slower, not sure. You might want to test it for performance if that was critical.\r\n\r\n```python\r\ndef java_hasher(text):\r\n    size = 32\r\n    sign = 1 &lt;&lt; size-1\r\n    text_hashed = sum(ord(t)*31**i for i, t in enumerate(reversed(text)))\r\n    return (text_hashed &amp; sign-1) - (text_hashed &amp; sign)\r\n    \r\nprint(java_hasher(&quot;The Quick Brown Fox&quot;))\r\n```\r\n\r\nThat should give you: `-732416445`","title":"Python equivalent for Java hashCode() function","body":"<p>This produces the same results for the string &quot;The Quick Brown Fox&quot; as <a href=\"https://stackoverflow.com/a/76581788/218663\">the answer by @user2390182</a> and an online tool I tried. I think it is a little easier to follow but it might be slower, not sure. You might want to test it for performance if that was critical.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def java_hasher(text):\n    size = 32\n    sign = 1 &lt;&lt; size-1\n    text_hashed = sum(ord(t)*31**i for i, t in enumerate(reversed(text)))\n    return (text_hashed &amp; sign-1) - (text_hashed &amp; sign)\n    \nprint(java_hasher(&quot;The Quick Brown Fox&quot;))\n</code></pre>\n<p>That should give you: <code>-732416445</code></p>\n"}],"owner":{"account_id":28918981,"reputation":23,"user_id":22150375,"display_name":"Пётр Кондратьев"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76581788,"answer_count":2,"score":1,"last_activity_date":1688058414,"creation_date":1688045451,"question_id":76581535,"body_markdown":"I have an A/B test split based on the result of Java hashCode() function applied to user&#39;s id (a string). I want to emulate that split in my dataframe to analyse the results. \r\nIs there a python equivalent for that function?\r\nOr maybe a documentation on the specific hashing algorithm inside hashCode() so I can produce that function myself?\r\n\r\nThanks\r\n\r\nI searched for the documentation but couldn&#39;t find the specific details","title":"Python equivalent for Java hashCode() function","body":"<p>I have an A/B test split based on the result of Java hashCode() function applied to user's id (a string). I want to emulate that split in my dataframe to analyse the results.\nIs there a python equivalent for that function?\nOr maybe a documentation on the specific hashing algorithm inside hashCode() so I can produce that function myself?</p>\n<p>Thanks</p>\n<p>I searched for the documentation but couldn't find the specific details</p>\n"},{"tags":["java","linux","sap-gui"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476986119,"creation_date":1476986119,"answer_id":40161324,"question_id":40128160,"body_markdown":"Try using [Oracle Java](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) rather than the OpenJDK based version which ships with CentOS.  Unfortunately, the Java versions which ship with CentOS don&#39;t include JavaFX at the moment.\r\n\r\nSee also:\r\n\r\n * [Centos 7 - where is jfx library for openjdk8?](https://stackoverflow.com/questions/30011339/centos-7-where-is-jfx-library-for-openjdk8) - and related: [unix.stackexchange](https://unix.stackexchange.com/questions/200093/centos-7-where-is-jfx-library-for-openjdk8) version of the same question.","title":"JavaFX error while accessing SAP GUI on centOS","body":"<p>Try using <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Oracle Java</a> rather than the OpenJDK based version which ships with CentOS.  Unfortunately, the Java versions which ship with CentOS don't include JavaFX at the moment.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30011339/centos-7-where-is-jfx-library-for-openjdk8\">Centos 7 - where is jfx library for openjdk8?</a> - and related: <a href=\"https://unix.stackexchange.com/questions/200093/centos-7-where-is-jfx-library-for-openjdk8\">unix.stackexchange</a> version of the same question.</li>\n</ul>\n"}],"owner":{"account_id":9350410,"reputation":1,"user_id":6940294,"display_name":"Kartikay Tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688058290,"creation_date":1476871402,"question_id":40128160,"body_markdown":"I have installed SAP GUI 7.40 for linux on client computer including JRE 1.8.0.04 but when I try to access the GUI it gives error: \r\n\r\n&gt; The system requirement are not meet. Your Java Virtual machine does not support javafx required to run the SAP GUI for Java 7.40 rev 4. \r\n\r\nMy client OS is CentOS. I event changed `JAVA_HOME` path in `/etc/profile`, but its still giving the same error. \r\n\r\nAny suggestions?","title":"JavaFX error while accessing SAP GUI on centOS","body":"<p>I have installed SAP GUI 7.40 for linux on client computer including JRE 1.8.0.04 but when I try to access the GUI it gives error:</p>\n<blockquote>\n<p>The system requirement are not meet. Your Java Virtual machine does not support javafx required to run the SAP GUI for Java 7.40 rev 4.</p>\n</blockquote>\n<p>My client OS is CentOS. I event changed <code>JAVA_HOME</code> path in <code>/etc/profile</code>, but its still giving the same error.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1609855366,"post_id":65580309,"comment_id":115947727,"body_markdown":"You are printing the cause, which is the reason this exception occurred. YOu will get a `DataAccessException` from Spring which wraps the `TransactionException` from hibernate in this case.","body":"You are printing the cause, which is the reason this exception occurred. YOu will get a <code>DataAccessException</code> from Spring which wraps the <code>TransactionException</code> from hibernate in this case."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1609855943,"post_id":65580309,"comment_id":115948060,"body_markdown":"@M.Deinum Sorry. `DataAccessException` not being called.","body":"@M.Deinum Sorry. <code>DataAccessException</code> not being called."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1609856177,"post_id":65580309,"comment_id":115948175,"body_markdown":"@M.Deinum Updated the error trace","body":"@M.Deinum Updated the error trace"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1609857425,"post_id":65580309,"comment_id":115948840,"body_markdown":"Print the exception not the cause, you are loosing information here. The log is from hikari, which is detecting a broken connection, which will eventually be wrapped by Spring.","body":"Print the exception not the cause, you are loosing information here. The log is from hikari, which is detecting a broken connection, which will eventually be wrapped by Spring."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1609857726,"post_id":65580309,"comment_id":115949011,"body_markdown":"@M.Deinum `Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: `","body":"@M.Deinum <code>Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: </code>"},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1609858003,"post_id":65580309,"comment_id":115949173,"body_markdown":"@M.Deinum This `CannotCreateTransactionException` is the solution.","body":"@M.Deinum This <code>CannotCreateTransactionException</code> is the solution."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1609858122,"post_id":65580309,"comment_id":115949230,"body_markdown":"Which is a `TransactionException` however from the spring pacages, and your catch clause probably used the `TransactionException` from hibernate. Change the import..","body":"Which is a <code>TransactionException</code> however from the spring pacages, and your catch clause probably used the <code>TransactionException</code> from hibernate. Change the import.."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1609858280,"post_id":65580309,"comment_id":115949327,"body_markdown":"@M.Deinum Do you think `CannotCreateTransactionException` will be called for every exception e.g slow database connection etc?","body":"@M.Deinum Do you think <code>CannotCreateTransactionException</code> will be called for every exception e.g slow database connection etc?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1609858540,"post_id":65580309,"comment_id":115949491,"body_markdown":"No. This will only happen if a transaction cannot be created. If you get a timeout you will get another exception. Catch `org.springframework.transaction.TransactionException` (instead of the Hibernate one you are catching now) and `org.springframework.dao.DataAccessException` for any data/sql related exception. That should cover your bases.","body":"No. This will only happen if a transaction cannot be created. If you get a timeout you will get another exception. Catch <code>org.springframework.transaction.TransactionException</code> (instead of the Hibernate one you are catching now) and <code>org.springframework.dao.DataAccessException</code> for any data/sql related exception. That should cover your bases."},{"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"score":0,"creation_date":1609858746,"post_id":65580309,"comment_id":115949613,"body_markdown":"@M.Deinum Thank you.","body":"@M.Deinum Thank you."}],"answers":[{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688058028,"creation_date":1688058028,"answer_id":76583169,"question_id":65580309,"body_markdown":"It&#39;s because you are catching other than the actually caught `org.hibernate.TransactionException`; and I&#39;m pretty sure that `TransactionException e1` in in fact a `org.springframework.transaction.TransactionException`.","title":"TransactionException is never called from Spring JPA when I close my database - Why?","body":"<p>It's because you are catching other than the actually caught <code>org.hibernate.TransactionException</code>; and I'm pretty sure that <code>TransactionException e1</code> in in fact a <code>org.springframework.transaction.TransactionException</code>.</p>\n"}],"owner":{"account_id":991116,"reputation":2623,"user_id":1008405,"accept_rate":75,"display_name":"euraad"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688058028,"creation_date":1609855155,"question_id":65580309,"body_markdown":"I&#39;m trying to close my database connection, just to find out what type of exception is being called.\r\n\r\nI have my `entity` here that I want to save.\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdataService.save(dataLogg);\r\n\t\t\t}catch(TransactionException e1) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;hello Sending message!&quot;);\r\n\t\t\t\tmailService.sendMessage(alarm, email, &quot;Database connection is refused. Make sure that database is reestablish, or else, you cannot login. Logging shutting down.&quot;, message);\r\n\t\t\t\tbreak; // This will jump out of the while loop\r\n\t\t\t}catch(JDBCConnectionException e2) {\r\n\t\t\t\tSystem.out.println(&quot;hello JDBC!&quot;);\r\n\t\t\t}catch(Exception e3) {\r\n\t\t\t\tSystem.out.println(&quot;hello!&quot; + e3.getCause());\r\n\t\t\t\tsaveDataLater.add(dataLogg); // Save it for later if something just happen\r\n\t\t\t}\r\n\r\nBut the error I got is `TransactionException` and it being called from: `catch(Exception e3)` and not `catch(TransactionException e1)`.\r\n\r\nWhy is this happening?\r\n\r\nError:\r\n\r\n    \r\n    2021-01-05 15:11:50.438  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@7a66ace6 marked as broken because of SQLSTATE(08S01), ErrorCode(0)\r\n    \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2056) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:393) ~[HikariCP-3.4.1.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-3.4.1.jar:na]\r\n    \tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:259) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184) ~[spring-orm-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402) ~[spring-orm-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:376) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:560) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:347) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    \tat com.sun.proxy.$Proxy133.save(Unknown Source) ~[na:na]\r\n    \tat se.danielmartensson.service.DataService.save(DataService.java:26) ~[classes/:na]\r\n    \tat se.danielmartensson.threads.SamplingThread.run(SamplingThread.java:217) ~[classes/:na]\r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    \r\n    The last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:539) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:703) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:642) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:941) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:887) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2046) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \t... 23 common frames omitted\r\n    Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n    \tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:533) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \t... 29 common frames omitted\r\n    \r\n    hello!org.hibernate.TransactionException: JDBC begin transaction failed: \r\n    2021-01-05 15:11:52.121  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@70ff6675 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.123  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@342f2edc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.125  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@52b7731f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.126  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@22613161 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.130  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@29262796 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.132  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@64b2b5a0 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.134  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@d740da2 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.137  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4f59fb40 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:11:52.140  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@62ede614 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\r\n    2021-01-05 15:12:22.122  WARN 9685 --- [      Thread-15] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: null\r\n    2021-01-05 15:12:22.122 ERROR 9685 --- [      Thread-15] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30001ms.\r\n    hello!org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection","title":"TransactionException is never called from Spring JPA when I close my database - Why?","body":"<p>I'm trying to close my database connection, just to find out what type of exception is being called.</p>\n<p>I have my <code>entity</code> here that I want to save.</p>\n<pre><code>        try {\n            dataService.save(dataLogg);\n        }catch(TransactionException e1) {\n            \n            System.out.println(&quot;hello Sending message!&quot;);\n            mailService.sendMessage(alarm, email, &quot;Database connection is refused. Make sure that database is reestablish, or else, you cannot login. Logging shutting down.&quot;, message);\n            break; // This will jump out of the while loop\n        }catch(JDBCConnectionException e2) {\n            System.out.println(&quot;hello JDBC!&quot;);\n        }catch(Exception e3) {\n            System.out.println(&quot;hello!&quot; + e3.getCause());\n            saveDataLater.add(dataLogg); // Save it for later if something just happen\n        }\n</code></pre>\n<p>But the error I got is <code>TransactionException</code> and it being called from: <code>catch(Exception e3)</code> and not <code>catch(TransactionException e1)</code>.</p>\n<p>Why is this happening?</p>\n<p>Error:</p>\n<pre><code>2021-01-05 15:11:50.438  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@7a66ace6 marked as broken because of SQLSTATE(08S01), ErrorCode(0)\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2056) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:393) ~[HikariCP-3.4.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-3.4.1.jar:na]\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:259) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-5.4.6.Final.jar:5.4.6.Final]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184) ~[spring-orm-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402) ~[spring-orm-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:376) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:560) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:347) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at com.sun.proxy.$Proxy133.save(Unknown Source) ~[na:na]\n    at se.danielmartensson.service.DataService.save(DataService.java:26) ~[classes/:na]\n    at se.danielmartensson.threads.SamplingThread.run(SamplingThread.java:217) ~[classes/:na]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 4 milliseconds ago. The last packet sent successfully to the server was 4 milliseconds ago.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:539) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:703) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:642) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:941) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:887) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2046) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    ... 23 common frames omitted\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:533) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    ... 29 common frames omitted\n\nhello!org.hibernate.TransactionException: JDBC begin transaction failed: \n2021-01-05 15:11:52.121  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@70ff6675 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.123  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@342f2edc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.125  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@52b7731f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.126  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@22613161 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.130  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@29262796 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.132  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@64b2b5a0 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.134  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@d740da2 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.137  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4f59fb40 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:11:52.140  WARN 9685 --- [      Thread-15] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@62ede614 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.\n2021-01-05 15:12:22.122  WARN 9685 --- [      Thread-15] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: null\n2021-01-05 15:12:22.122 ERROR 9685 --- [      Thread-15] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30001ms.\nhello!org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n</code></pre>\n"},{"tags":["java","jakarta-ee","saprfc","netweaver"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1543137276,"post_id":53454647,"comment_id":93802948,"body_markdown":"As it stands your question is far too broad and vague for Stack Overflow. See [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) for more details.","body":"As it stands your question is far too broad and vague for Stack Overflow. See <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> for more details."}],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1543347785,"creation_date":1543344219,"answer_id":53506200,"question_id":53454647,"body_markdown":"I guess, the [SAP Java Connector][1] (JCo) SDK is most likely what you are looking for.\r\n\r\n  [1]: https://support.sap.com/jco","title":"How to write RFC services in Java?","body":"<p>I guess, the <a href=\"https://support.sap.com/jco\" rel=\"nofollow noreferrer\">SAP Java Connector</a> (JCo) SDK is most likely what you are looking for.</p>\n"}],"owner":{"account_id":4962915,"reputation":31,"user_id":3993372,"display_name":"Nagnath Pawar"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1610299170,"accepted_answer_id":53506200,"answer_count":1,"score":-2,"last_activity_date":1688057720,"creation_date":1543025991,"question_id":53454647,"body_markdown":"I want to write RFC services in java, so that I can receive call from SAP.\r\n\r\nHow I can start writing java application?  \r\n\r\nWhat kind of java project I have to create?\r\n","title":"How to write RFC services in Java?","body":"<p>I want to write RFC services in java, so that I can receive call from SAP.</p>\n<p>How I can start writing java application?</p>\n<p>What kind of java project I have to create?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":27508719,"reputation":41,"user_id":20991032,"display_name":"Barış Vural"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688057398,"creation_date":1687988254,"answer_id":76576864,"question_id":76576716,"body_markdown":"It looks like your endpoint ending with a slash     `@GetMapping(&quot;/creditcardslist/&quot;)`\r\n\r\nCan you change it to `/creditcardslist`?\r\n\r\n\r\nKind regards.","title":"ResourceHttpRequestHandler: Resource not found, DispatcherServlet: No view rendering, null ModelAndView returned","body":"<p>It looks like your endpoint ending with a slash     <code>@GetMapping(&quot;/creditcardslist/&quot;)</code></p>\n<p>Can you change it to <code>/creditcardslist</code>?</p>\n<p>Kind regards.</p>\n"}],"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688057398,"creation_date":1687986486,"question_id":76576716,"body_markdown":"I am trying to do a simple Spring app which gets all the entries inside a table calls &quot;creditcards&quot;.\r\n\r\nThis is the folder organization:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nCreditCardsManagerApplication.java:\r\n\r\n    package com.progetto.creditcardsmanagerApp;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class CreditCardsManagerApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CreditCardsManagerApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nCreditCard.java:\r\n\r\n    package com.progetto.creditcardsmanagerApp.creditcards;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;creditcards&quot;)\r\n    public class CreditCard {\r\n        @Id\r\n        private Integer id;\r\n        private String creditcardnumber;\r\n        private String owner;\r\n    \r\n        public CreditCardDTO toDTO(){\r\n            return new CreditCardDTO(this.creditcardnumber,this.owner);\r\n        }\r\n    }\r\n\r\nCreditCardDTO.java:\r\n\r\n    package com.progetto.creditcardsmanagerApp.creditcards;\r\n    \r\n    public class CreditCardDTO{\r\n        private String creditCardNumber;\r\n        private String owner;\r\n    \r\n        public CreditCardDTO(String creditCardNumber, String owner){\r\n            this.creditCardNumber = creditCardNumber;\r\n            this.owner = owner;\r\n        }\r\n    }\r\n\r\nCreditCardRepository.java:\r\n\r\n    package com.progetto.creditcardsmanagerApp.creditcards;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface CreditCardRepository extends JpaRepository&lt;CreditCard, Integer&gt; {\r\n    \r\n    }\r\n\r\nCreditCardService.java:\r\n\r\n    package com.progetto.creditcardsmanagerApp.creditcards;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface CreditCardService {\r\n    \r\n        public List&lt;CreditCardDTO&gt; getAll();\r\n    }\r\n\r\nCreditCardServiceImpl.java:\r\n\r\n    package com.progetto.creditcardsmanagerApp.creditcards;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class CreditCardServiceImpl implements CreditCardService{\r\n        private CreditCardRepository creditCardRepository;\r\n    \r\n        @Override\r\n        public List&lt;CreditCardDTO&gt; getAll() {\r\n            List&lt;CreditCardDTO&gt; l = new LinkedList&lt;CreditCardDTO&gt;();\r\n            for (CreditCard cr: this.creditCardRepository.findAll()) {\r\n                l.add(cr.toDTO());\r\n            }\r\n            System.out.println(l.toString());\r\n            return l;\r\n        }\r\n    }\r\n\r\nCreditCardcontroller.java:\r\n\r\n    package com.progetto.creditcardsmanagerApp.creditcards;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class CreditCardController {\r\n        private CreditCardService creditCardService;\r\n    \r\n        @GetMapping(&quot;/creditcardslist/&quot;)\r\n        public List&lt;CreditCardDTO&gt; getAll(){\r\n            return this.creditCardService.getAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public String test(){\r\n            return &quot;Hello World&quot;;    // THIS WORKS\r\n        }\r\n    }\r\n\r\n\r\nIf I go to localhost:8080/ it works and it displays &quot;Hello World&quot;, but if I go to localhost:8080/creditcardslist, it says:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/reXNk.png\r\n  [2]: https://i.stack.imgur.com/EeFgM.png\r\n\r\n\r\nand in the trace-logging-level console it displays:\r\n\r\n    2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request GET /creditcardslist\r\n    2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\r\n    2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\r\n    2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.apache.catalina.core.StandardWrapper   :   Returning instance\r\n    2023-06-28T22:55:10.153+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@75462fa7\r\n    2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\n    2023-06-28T22:55:10.154+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/creditcardslist&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-06-28T22:55:10.154+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 4 interceptors\r\n    2023-06-28T22:55:10.154+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] .i.SessionFactoryImpl$SessionBuilderImpl : Opening Hibernate Session.  tenant=null\r\n    2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] org.hibernate.internal.SessionImpl       : Opened Session [e30f86c1-e4f4-4874-ac25-242dda4c2ab2] at timestamp: 1687985710155\r\n    2023-06-28T22:55:10.155+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\n    2023-06-28T22:55:10.155+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] org.hibernate.internal.SessionImpl       : Closing session [e30f86c1-e4f4-4874-ac25-242dda4c2ab2]\r\n    2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.e.jdbc.internal.JdbcCoordinatorImpl  : Closing JDBC container [org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl@7b81df7f]\r\n    2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.r.j.i.ResourceRegistryStandardImpl   : Releasing JDBC resources\r\n    2023-06-28T22:55:10.156+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.r.j.i.LogicalConnectionManagedImpl   : Closing logical connection\r\n    2023-06-28T22:55:10.156+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.r.j.i.LogicalConnectionManagedImpl   : Logical connection closed\r\n    2023-06-28T22:55:10.156+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND, headers={masked}\r\n    2023-06-28T22:55:10.156+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@75462fa7\r\n    2023-06-28T22:55:10.156+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n    etc etc\r\n\r\nand these are the logs when I go to localhost:8080/ and it correctly displays &quot;Hello World&quot;:\r\n\r\n    2023-06-28T22:23:30.281+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-06-28T22:23:30.293+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;creditCardController&#39;\r\n    2023-06-28T22:23:30.294+02:00 TRACE 1663300 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.progetto.creditcardsmanagerApp.creditcards.CreditCardController#test()\r\n    2023-06-28T22:23:30.296+02:00 DEBUG 1663300 --- [nio-8080-exec-1] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2023-06-28T22:23:30.296+02:00 TRACE 1663300 --- [nio-8080-exec-1] .i.SessionFactoryImpl$SessionBuilderImpl : Opening Hibernate Session.  tenant=null\r\n    2023-06-28T22:23:30.296+02:00 TRACE 1663300 --- [nio-8080-exec-1] org.hibernate.internal.SessionImpl       : Opened Session [66de72e4-de4f-4e42-8402-61252358db48] at timestamp: 1687983810296\r\n    2023-06-28T22:23:30.309+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.web.method.HandlerMethod             : Arguments: []\r\n    2023-06-28T22:23:30.336+02:00 DEBUG 1663300 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [text/plain, */*, application/json, application/*+json]\r\n    2023-06-28T22:23:30.337+02:00 TRACE 1663300 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;Hello World&quot;]\r\n    2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Applying default cacheSeconds=-1\r\n    2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\n    2023-06-28T22:23:30.345+02:00 DEBUG 1663300 --- [nio-8080-exec-1] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] org.hibernate.internal.SessionImpl       : Closing session [66de72e4-de4f-4e42-8402-61252358db48]\r\n    2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.e.jdbc.internal.JdbcCoordinatorImpl  : Closing JDBC container [org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl@5f7b4697]\r\n    2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : Releasing JDBC resources\r\n    2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.r.j.i.LogicalConnectionManagedImpl   : Closing logical connection\r\n    2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.r.j.i.LogicalConnectionManagedImpl   : Logical connection closed\r\n    2023-06-28T22:23:30.346+02:00 DEBUG 1663300 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK, headers={masked}\r\n    etc etc\r\n\r\n\r\nWhat am I doing wrong?","title":"ResourceHttpRequestHandler: Resource not found, DispatcherServlet: No view rendering, null ModelAndView returned","body":"<p>I am trying to do a simple Spring app which gets all the entries inside a table calls &quot;creditcards&quot;.</p>\n<p>This is the folder organization:</p>\n<p><a href=\"https://i.stack.imgur.com/reXNk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/reXNk.png\" alt=\"enter image description here\" /></a></p>\n<p>CreditCardsManagerApplication.java:</p>\n<pre><code>package com.progetto.creditcardsmanagerApp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CreditCardsManagerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CreditCardsManagerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>CreditCard.java:</p>\n<pre><code>package com.progetto.creditcardsmanagerApp.creditcards;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name=&quot;creditcards&quot;)\npublic class CreditCard {\n    @Id\n    private Integer id;\n    private String creditcardnumber;\n    private String owner;\n\n    public CreditCardDTO toDTO(){\n        return new CreditCardDTO(this.creditcardnumber,this.owner);\n    }\n}\n</code></pre>\n<p>CreditCardDTO.java:</p>\n<pre><code>package com.progetto.creditcardsmanagerApp.creditcards;\n\npublic class CreditCardDTO{\n    private String creditCardNumber;\n    private String owner;\n\n    public CreditCardDTO(String creditCardNumber, String owner){\n        this.creditCardNumber = creditCardNumber;\n        this.owner = owner;\n    }\n}\n</code></pre>\n<p>CreditCardRepository.java:</p>\n<pre><code>package com.progetto.creditcardsmanagerApp.creditcards;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CreditCardRepository extends JpaRepository&lt;CreditCard, Integer&gt; {\n\n}\n</code></pre>\n<p>CreditCardService.java:</p>\n<pre><code>package com.progetto.creditcardsmanagerApp.creditcards;\n\nimport java.util.List;\n\npublic interface CreditCardService {\n\n    public List&lt;CreditCardDTO&gt; getAll();\n}\n</code></pre>\n<p>CreditCardServiceImpl.java:</p>\n<pre><code>package com.progetto.creditcardsmanagerApp.creditcards;\n\nimport org.springframework.stereotype.Service;\n\nimport java.util.LinkedList;\nimport java.util.List;\n\n@Service\npublic class CreditCardServiceImpl implements CreditCardService{\n    private CreditCardRepository creditCardRepository;\n\n    @Override\n    public List&lt;CreditCardDTO&gt; getAll() {\n        List&lt;CreditCardDTO&gt; l = new LinkedList&lt;CreditCardDTO&gt;();\n        for (CreditCard cr: this.creditCardRepository.findAll()) {\n            l.add(cr.toDTO());\n        }\n        System.out.println(l.toString());\n        return l;\n    }\n}\n</code></pre>\n<p>CreditCardcontroller.java:</p>\n<pre><code>package com.progetto.creditcardsmanagerApp.creditcards;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class CreditCardController {\n    private CreditCardService creditCardService;\n\n    @GetMapping(&quot;/creditcardslist/&quot;)\n    public List&lt;CreditCardDTO&gt; getAll(){\n        return this.creditCardService.getAll();\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String test(){\n        return &quot;Hello World&quot;;    // THIS WORKS\n    }\n}\n</code></pre>\n<p>If I go to localhost:8080/ it works and it displays &quot;Hello World&quot;, but if I go to localhost:8080/creditcardslist, it says:\n<a href=\"https://i.stack.imgur.com/EeFgM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EeFgM.png\" alt=\"enter image description here\" /></a></p>\n<p>and in the trace-logging-level console it displays:</p>\n<pre><code>2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request GET /creditcardslist\n2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\n2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\n2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.apache.catalina.core.StandardWrapper   :   Returning instance\n2023-06-28T22:55:10.153+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@75462fa7\n2023-06-28T22:55:10.153+02:00 DEBUG 1683317 --- [nio-8080-exec-2] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\n2023-06-28T22:55:10.154+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/creditcardslist&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2023-06-28T22:55:10.154+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 4 interceptors\n2023-06-28T22:55:10.154+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] .i.SessionFactoryImpl$SessionBuilderImpl : Opening Hibernate Session.  tenant=null\n2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] org.hibernate.internal.SessionImpl       : Opened Session [e30f86c1-e4f4-4874-ac25-242dda4c2ab2] at timestamp: 1687985710155\n2023-06-28T22:55:10.155+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\n2023-06-28T22:55:10.155+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] org.hibernate.internal.SessionImpl       : Closing session [e30f86c1-e4f4-4874-ac25-242dda4c2ab2]\n2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.e.jdbc.internal.JdbcCoordinatorImpl  : Closing JDBC container [org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl@7b81df7f]\n2023-06-28T22:55:10.155+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.r.j.i.ResourceRegistryStandardImpl   : Releasing JDBC resources\n2023-06-28T22:55:10.156+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.r.j.i.LogicalConnectionManagedImpl   : Closing logical connection\n2023-06-28T22:55:10.156+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.h.r.j.i.LogicalConnectionManagedImpl   : Logical connection closed\n2023-06-28T22:55:10.156+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND, headers={masked}\n2023-06-28T22:55:10.156+02:00 TRACE 1683317 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@75462fa7\n2023-06-28T22:55:10.156+02:00 DEBUG 1683317 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\netc etc\n</code></pre>\n<p>and these are the logs when I go to localhost:8080/ and it correctly displays &quot;Hello World&quot;:</p>\n<pre><code>2023-06-28T22:23:30.281+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2023-06-28T22:23:30.293+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'creditCardController'\n2023-06-28T22:23:30.294+02:00 TRACE 1663300 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.progetto.creditcardsmanagerApp.creditcards.CreditCardController#test()\n2023-06-28T22:23:30.296+02:00 DEBUG 1663300 --- [nio-8080-exec-1] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-06-28T22:23:30.296+02:00 TRACE 1663300 --- [nio-8080-exec-1] .i.SessionFactoryImpl$SessionBuilderImpl : Opening Hibernate Session.  tenant=null\n2023-06-28T22:23:30.296+02:00 TRACE 1663300 --- [nio-8080-exec-1] org.hibernate.internal.SessionImpl       : Opened Session [66de72e4-de4f-4e42-8402-61252358db48] at timestamp: 1687983810296\n2023-06-28T22:23:30.309+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.web.method.HandlerMethod             : Arguments: []\n2023-06-28T22:23:30.336+02:00 DEBUG 1663300 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [text/plain, */*, application/json, application/*+json]\n2023-06-28T22:23:30.337+02:00 TRACE 1663300 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;Hello World&quot;]\n2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Applying default cacheSeconds=-1\n2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\n2023-06-28T22:23:30.345+02:00 DEBUG 1663300 --- [nio-8080-exec-1] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] org.hibernate.internal.SessionImpl       : Closing session [66de72e4-de4f-4e42-8402-61252358db48]\n2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.e.jdbc.internal.JdbcCoordinatorImpl  : Closing JDBC container [org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl@5f7b4697]\n2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : Releasing JDBC resources\n2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.r.j.i.LogicalConnectionManagedImpl   : Closing logical connection\n2023-06-28T22:23:30.345+02:00 TRACE 1663300 --- [nio-8080-exec-1] o.h.r.j.i.LogicalConnectionManagedImpl   : Logical connection closed\n2023-06-28T22:23:30.346+02:00 DEBUG 1663300 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK, headers={masked}\netc etc\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1412227272,"post_id":26154657,"comment_id":41000916,"body_markdown":"You don&#39;t have to if you&#39;re fine with returning them null.","body":"You don&#39;t have to if you&#39;re fine with returning them null."},{"owner":{"account_id":113925,"reputation":1625,"user_id":299825,"accept_rate":57,"display_name":"jasonfungsing"},"score":0,"creation_date":1412227402,"post_id":26154657,"comment_id":41000948,"body_markdown":"I do need to use them in the method, sorry for not put this in the example.","body":"I do need to use them in the method, sorry for not put this in the example."}],"answers":[{"tags":[],"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1412227868,"creation_date":1412226413,"answer_id":26154762,"question_id":26154657,"body_markdown":"You can control the default answers of your mock. When you&#39;re creating the mock, use:\r\n\r\n    Mockito.mock(ObjectNeedToMock.class, new Answer() {\r\n        @Override\r\n        public Object answer(InvocationOnMock invocation) throws Throwable {\r\n            /* \r\n               Put your default answer logic here.\r\n               It should be based on type of arguments you consume and the type of arguments you return.\r\n               i.e.\r\n            */\r\n            if (String.class.equals(invocation.getMethod().getReturnType())) {\r\n                return &quot;This is my default answer for all methods that returns string&quot;;\r\n            } else {\r\n                return RETURNS_DEFAULTS.answer(invocation);\r\n            }\r\n        }\r\n    }));","title":"Mockito mock all methods call and return","body":"<p>You can control the default answers of your mock. When you're creating the mock, use:</p>\n\n<pre><code>Mockito.mock(ObjectNeedToMock.class, new Answer() {\n    @Override\n    public Object answer(InvocationOnMock invocation) throws Throwable {\n        /* \n           Put your default answer logic here.\n           It should be based on type of arguments you consume and the type of arguments you return.\n           i.e.\n        */\n        if (String.class.equals(invocation.getMethod().getReturnType())) {\n            return \"This is my default answer for all methods that returns string\";\n        } else {\n            return RETURNS_DEFAULTS.answer(invocation);\n        }\n    }\n}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4147098,"reputation":3733,"user_id":3400481,"accept_rate":67,"display_name":"ethanfar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412227428,"creation_date":1412227428,"answer_id":26154882,"question_id":26154657,"body_markdown":"If you&#39;re not interested in the result of `getField1()` to `getField20()` in a particular test case, you shouldn&#39;t mock it at all. In other words, if all the specific test case should be concerned about is `getTheImportantInt()`, then your test case should look like this:\r\n\r\n    @Test\r\n    public void testMethodNeedToTest() throws Exception {\r\n          ObjectNeedToMock o = mock(ObjectNeedToMock.class);\r\n          when(o.getTheImportantInt()).thenReturn(&quot;1&quot;);\r\n    \r\n          // test code goes here\r\n    }\r\n","title":"Mockito mock all methods call and return","body":"<p>If you're not interested in the result of <code>getField1()</code> to <code>getField20()</code> in a particular test case, you shouldn't mock it at all. In other words, if all the specific test case should be concerned about is <code>getTheImportantInt()</code>, then your test case should look like this:</p>\n\n<pre><code>@Test\npublic void testMethodNeedToTest() throws Exception {\n      ObjectNeedToMock o = mock(ObjectNeedToMock.class);\n      when(o.getTheImportantInt()).thenReturn(\"1\");\n\n      // test code goes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688056801,"creation_date":1566927729,"answer_id":57679779,"question_id":26154657,"body_markdown":"For Kotlin users:\r\n\r\n\r\n```kotlin\r\n    val mocked: MyClassToMock = Mockito.mock(\r\n        MyClassToMock::class.java,    \r\n\r\n        object:Answer&lt;Any&gt; {\r\n            override fun answer(invocation: InvocationOnMock?): Any {\r\n                if (String::class.java.equals (invocation?.method?.getReturnType())) {\r\n                    return &quot;Default answer for all methods that returns string&quot;\r\n                } else {\r\n                    return Mockito.RETURNS_DEFAULTS.answer(invocation)\r\n                }\r\n            }\r\n        }\r\n    )\r\n```\r\n","title":"Mockito mock all methods call and return","body":"<p>For Kotlin users:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    val mocked: MyClassToMock = Mockito.mock(\n        MyClassToMock::class.java,    \n\n        object:Answer&lt;Any&gt; {\n            override fun answer(invocation: InvocationOnMock?): Any {\n                if (String::class.java.equals (invocation?.method?.getReturnType())) {\n                    return &quot;Default answer for all methods that returns string&quot;\n                } else {\n                    return Mockito.RETURNS_DEFAULTS.answer(invocation)\n                }\n            }\n        }\n    )\n</code></pre>\n"}],"owner":{"account_id":113925,"reputation":1625,"user_id":299825,"accept_rate":57,"display_name":"jasonfungsing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34249,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":26154762,"answer_count":3,"score":20,"last_activity_date":1688056801,"creation_date":1412225651,"question_id":26154657,"body_markdown":"I have a problem when writing unit testing with mock. There is a object which I need to mock have a lot getter, which I do call them at the code. However, those are not the purpose of my unit test. So, is there is a way I can mock all the methods instead of mock them one by one.\r\n\r\nHere is the code example:\r\n\r\n    public class ObjectNeedToMock{\r\n\r\n\tprivate String field1;\r\n    ...\r\n    private String field20;\r\n\r\n    private int theImportantInt;\r\n\r\n    \r\n    public String getField1(){return this.field1;}\r\n    ...\r\n    \r\n    public String getField20(){return this.field20;}\r\n\r\n    public int getTheImportantInt(){return this.theImportantInt;}\r\n\r\n    }\r\n\r\nand this is the service class I need to test\r\n\r\n    public class Service{\r\n\r\n\tpublic void methodNeedToTest(ObjectNeedToMock objectNeedToMock){\r\n\t\tString stringThatIdontCare1 = objectNeedToMock.getField1();\r\n\t\t...\r\n\t\tString stringThatIdontCare20 = objectNeedToMock.getField20();\r\n        // do something with the field1 to field20\r\n\r\n\t\tint veryImportantInt = objectNeedToMock.getTheImportantInt();\r\n        // do something with the veryImportantInt\r\n\r\n    \t}\r\n    }\r\n\r\nwithin the test class, the test method is like\r\n\r\n    @Test\r\n    public void testMethodNeedToTest() throws Exception {\r\n          ObjectNeedToMock o = mock(ObjectNeedToMock.class);\r\n          when(o.getField1()).thenReturn(anyString());\r\n          ....\r\n          when(o.getField20()).thenReturn(anyString());\r\n          \r\n          when(o.getTheImportantInt()).thenReturn(&quot;1&quot;); //This &quot;1&quot; is the only thing I care\r\n    \r\n    }\r\n\r\n\r\nSo, is there a way that I can avoid writing all the &quot;when&quot; for the useless &quot;field1&quot; to &quot;field20&quot;","title":"Mockito mock all methods call and return","body":"<p>I have a problem when writing unit testing with mock. There is a object which I need to mock have a lot getter, which I do call them at the code. However, those are not the purpose of my unit test. So, is there is a way I can mock all the methods instead of mock them one by one.</p>\n\n<p>Here is the code example:</p>\n\n<pre><code>public class ObjectNeedToMock{\n\nprivate String field1;\n...\nprivate String field20;\n\nprivate int theImportantInt;\n\n\npublic String getField1(){return this.field1;}\n...\n\npublic String getField20(){return this.field20;}\n\npublic int getTheImportantInt(){return this.theImportantInt;}\n\n}\n</code></pre>\n\n<p>and this is the service class I need to test</p>\n\n<pre><code>public class Service{\n\npublic void methodNeedToTest(ObjectNeedToMock objectNeedToMock){\n    String stringThatIdontCare1 = objectNeedToMock.getField1();\n    ...\n    String stringThatIdontCare20 = objectNeedToMock.getField20();\n    // do something with the field1 to field20\n\n    int veryImportantInt = objectNeedToMock.getTheImportantInt();\n    // do something with the veryImportantInt\n\n    }\n}\n</code></pre>\n\n<p>within the test class, the test method is like</p>\n\n<pre><code>@Test\npublic void testMethodNeedToTest() throws Exception {\n      ObjectNeedToMock o = mock(ObjectNeedToMock.class);\n      when(o.getField1()).thenReturn(anyString());\n      ....\n      when(o.getField20()).thenReturn(anyString());\n\n      when(o.getTheImportantInt()).thenReturn(\"1\"); //This \"1\" is the only thing I care\n\n}\n</code></pre>\n\n<p>So, is there a way that I can avoid writing all the \"when\" for the useless \"field1\" to \"field20\"</p>\n"},{"tags":["java","ejb-3.0","netweaver"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547886949,"creation_date":1547886949,"answer_id":54265362,"question_id":54212053,"body_markdown":"The solution is revealed by author and given on another site. I just kindly give it here for further researchers.\r\n\r\nFirst we need to set following annotation for the WebService class:\r\n\r\n    @AuthenticationDT(authenticationLevel = AuthenticationEnumsAuthenticationLevel.BASIC)\r\n\r\nto do this you need following imports\r\n\r\n    import com.sap.engine.services.webservices.espbase.configuration.ann.dt.AuthenticationDT; \r\n    import com.sap.engine.services.webservices.espbase.configuration.ann.dt.AuthenticationEnumsAuthenticationLevel;\r\n\r\nThen one need to set Web security for the Web Service by these steps:\r\n\r\nhttps://help.sap.com/doc/saphelp_nw73ehp1/7.31.19/en-US/4b/5c8953d4be4cb9e10000000a42189b/frameset.htm\r\n\r\nThen web-service can be called from any REST-service by user/password like that:\r\n\r\n    try{\r\n      java.net.URL url =new java.net.URL(&quot;http://host.com/HelloBeanService/HelloBean?wsdl&quot;);\r\n      javax.xml.namespace.QName qName =new javax.xml.namespace.QName(&quot;http://sap.com/tutorial/helloworld/&quot;, &quot;HelloBeanService&quot;);\r\n      HelloBeanService client=new HelloBeanService(url, qName);\r\n      HelloBean helloService =client.getHelloBeanPort();\r\n    \r\n    \r\n      // Add username and password for Basic Authentication\r\n      Map&lt;String, Object&gt; reqContext = ((BindingProvider) helloService).getRequestContext();\r\n      reqContext.put(BindingProvider.USERNAME_PROPERTY, &quot;YOUR_USERNAME&quot;);\r\n      reqContext.put(BindingProvider.PASSWORD_PROPERTY, &quot;YOUR_PASSWORD&quot;);\r\n    \r\n      result= helloService.sayHello();\r\n    }\r\n    catch(Exceptione){\r\n      result=e.toString();\r\n    }","title":"Login in UME using UME API","body":"<p>The solution is revealed by author and given on another site. I just kindly give it here for further researchers.</p>\n\n<p>First we need to set following annotation for the WebService class:</p>\n\n<pre><code>@AuthenticationDT(authenticationLevel = AuthenticationEnumsAuthenticationLevel.BASIC)\n</code></pre>\n\n<p>to do this you need following imports</p>\n\n<pre><code>import com.sap.engine.services.webservices.espbase.configuration.ann.dt.AuthenticationDT; \nimport com.sap.engine.services.webservices.espbase.configuration.ann.dt.AuthenticationEnumsAuthenticationLevel;\n</code></pre>\n\n<p>Then one need to set Web security for the Web Service by these steps:</p>\n\n<p><a href=\"https://help.sap.com/doc/saphelp_nw73ehp1/7.31.19/en-US/4b/5c8953d4be4cb9e10000000a42189b/frameset.htm\" rel=\"nofollow noreferrer\">https://help.sap.com/doc/saphelp_nw73ehp1/7.31.19/en-US/4b/5c8953d4be4cb9e10000000a42189b/frameset.htm</a></p>\n\n<p>Then web-service can be called from any REST-service by user/password like that:</p>\n\n<pre><code>try{\n  java.net.URL url =new java.net.URL(\"http://host.com/HelloBeanService/HelloBean?wsdl\");\n  javax.xml.namespace.QName qName =new javax.xml.namespace.QName(\"http://sap.com/tutorial/helloworld/\", \"HelloBeanService\");\n  HelloBeanService client=new HelloBeanService(url, qName);\n  HelloBean helloService =client.getHelloBeanPort();\n\n\n  // Add username and password for Basic Authentication\n  Map&lt;String, Object&gt; reqContext = ((BindingProvider) helloService).getRequestContext();\n  reqContext.put(BindingProvider.USERNAME_PROPERTY, \"YOUR_USERNAME\");\n  reqContext.put(BindingProvider.PASSWORD_PROPERTY, \"YOUR_PASSWORD\");\n\n  result= helloService.sayHello();\n}\ncatch(Exceptione){\n  result=e.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":7915814,"reputation":1294,"user_id":5978281,"accept_rate":33,"display_name":"Amir Suhail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54265362,"answer_count":1,"score":1,"last_activity_date":1688056561,"creation_date":1547622964,"question_id":54212053,"body_markdown":"I&#39;m trying to connect to a SAP AS JAVA System and Manipulate the UME.\r\nI have a EJB WebService (HelloWorldEJB) in the Java System, I&#39;m trying to hit HelloWorldEJB from an External application&#39;s (AppService) Restful service.\r\n\r\nSo the flow is like: \r\n**UI5 Application (AppWeb) --&gt; AppService --&gt; HelloWorldEJB**\r\n\r\nI&#39;m able to hit the HelloWorldEJB, but when I check the logged in user its, show as &quot;Guest User&quot;. This is because user authorization is not done in HelloWorldEJB. \r\n\r\nHow I can login with a user in HelloWorldEJB using UME API?\r\n\r\nAppService code to call the HelloWorldEJB:\r\n\r\n    @Path(&quot;/services&quot;)\r\n    public class RestService {\r\n    \t@GET\r\n        @Path(&quot;/hello&quot;)\r\n        public String sayHello() {\r\n    \t\tString result = &quot;&quot;;\r\n    \t\ttry {\t\t\t\r\n    \t\t\tjava.net.URL url =  new java.net.URL(&quot;http:wsldUrl&quot;);\r\n    \t\t\tjavax.xml.namespace.QName qName =  new javax.xml.namespace.QName(&quot;http://sap.com/qName&quot;, &quot;HelloBeanService&quot;);\r\n    \t\t\tHelloBeanService client = new HelloBeanService(url, qName);\r\n    \t\t\tHelloBean helloService = client.getHelloBeanPort();\r\n    \t        result = helloService.sayHello();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tresult = e.toString();\r\n    \t\t}\r\n            return result;\r\n        }\r\n    }\r\n\t\r\n\r\nHelloWorldEJB code to check logged in user:\r\n\r\n    @WebService(endpointInterface = &quot;com.sap.tutorial.helloworld.HelloBeanRemote&quot;, portName = &quot;HelloBeanPort&quot;, serviceName = &quot;HelloBeanService&quot;, targetNamespace = &quot;http://sap.com/tutorial/helloworld/&quot;)\r\n    @Stateless(name=&quot;HelloBean&quot;)\r\n    public class HelloBean implements HelloBeanRemote, HelloBeanLocal {\r\n    \t\t\r\n            private String message = &quot;Hello, &quot;;\r\n            public String sayHello() {\r\n            \tIUser user = UMFactory.getAuthenticator().getLoggedInUser();\r\n            \treturn message + user.getDisplayName();\r\n            }\r\n    }\r\n\r\nI got to know we should use\r\n\r\n    ILogonAuthentication logonAuthentication = UMFactory.getLogonAuthenticator();\r\n\r\nand pass HttpServletRequest and HttpServletResponse\r\n\r\n    logonAuthentication.logon(request, response, &quot;default&quot;);\r\n\r\nBut I&#39;m not able to get HttpServletRequest and HttpServletResponse to pass to logon.\r\nI&#39;m not using a Servlet client to access the EJB.","title":"Login in UME using UME API","body":"<p>I'm trying to connect to a SAP AS JAVA System and Manipulate the UME.\nI have a EJB WebService (HelloWorldEJB) in the Java System, I'm trying to hit HelloWorldEJB from an External application's (AppService) Restful service.</p>\n<p>So the flow is like:\n<strong>UI5 Application (AppWeb) --&gt; AppService --&gt; HelloWorldEJB</strong></p>\n<p>I'm able to hit the HelloWorldEJB, but when I check the logged in user its, show as &quot;Guest User&quot;. This is because user authorization is not done in HelloWorldEJB.</p>\n<p>How I can login with a user in HelloWorldEJB using UME API?</p>\n<p>AppService code to call the HelloWorldEJB:</p>\n<pre><code>@Path(&quot;/services&quot;)\npublic class RestService {\n    @GET\n    @Path(&quot;/hello&quot;)\n    public String sayHello() {\n        String result = &quot;&quot;;\n        try {           \n            java.net.URL url =  new java.net.URL(&quot;http:wsldUrl&quot;);\n            javax.xml.namespace.QName qName =  new javax.xml.namespace.QName(&quot;http://sap.com/qName&quot;, &quot;HelloBeanService&quot;);\n            HelloBeanService client = new HelloBeanService(url, qName);\n            HelloBean helloService = client.getHelloBeanPort();\n            result = helloService.sayHello();\n        } catch (Exception e) {\n            result = e.toString();\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>HelloWorldEJB code to check logged in user:</p>\n<pre><code>@WebService(endpointInterface = &quot;com.sap.tutorial.helloworld.HelloBeanRemote&quot;, portName = &quot;HelloBeanPort&quot;, serviceName = &quot;HelloBeanService&quot;, targetNamespace = &quot;http://sap.com/tutorial/helloworld/&quot;)\n@Stateless(name=&quot;HelloBean&quot;)\npublic class HelloBean implements HelloBeanRemote, HelloBeanLocal {\n        \n        private String message = &quot;Hello, &quot;;\n        public String sayHello() {\n            IUser user = UMFactory.getAuthenticator().getLoggedInUser();\n            return message + user.getDisplayName();\n        }\n}\n</code></pre>\n<p>I got to know we should use</p>\n<pre><code>ILogonAuthentication logonAuthentication = UMFactory.getLogonAuthenticator();\n</code></pre>\n<p>and pass HttpServletRequest and HttpServletResponse</p>\n<pre><code>logonAuthentication.logon(request, response, &quot;default&quot;);\n</code></pre>\n<p>But I'm not able to get HttpServletRequest and HttpServletResponse to pass to logon.\nI'm not using a Servlet client to access the EJB.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1688056327,"post_id":76582969,"comment_id":135025798,"body_markdown":"I&#39;m not sure offhand, but this seems very easy to just try.","body":"I&#39;m not sure offhand, but this seems very easy to just try."}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688056197,"creation_date":1688056197,"question_id":76582969,"body_markdown":"I wonder what Jackson should do, when there are both @JsonProperty @JsonIgnore annotation for 1 field\r\n\r\n```java\r\n    @JsonProperty @JsonIgnore private boolean isSuperUser;\r\n    \r\n```","title":"both @JsonProperty @JsonIgnore annotation for the same field","body":"<p>I wonder what Jackson should do, when there are both @JsonProperty @JsonIgnore annotation for 1 field</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @JsonProperty @JsonIgnore private boolean isSuperUser;\n    \n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":4,"creation_date":1688056355,"post_id":76582945,"comment_id":135025803,"body_markdown":"Serious question: why would you do this in java at all? Using a tool like ffmpeg to do your transcoding is going to be so much faster, and is a known quantity in terms of how to invoke it to do literally anything to video streams you need. Is there a specific reason you&#39;re doing this in Java rather than having Java trigger an ffmpeg pass on your file and waiting for that process to compelete?","body":"Serious question: why would you do this in java at all? Using a tool like ffmpeg to do your transcoding is going to be so much faster, and is a known quantity in terms of how to invoke it to do literally anything to video streams you need. Is there a specific reason you&#39;re doing this in Java rather than having Java trigger an ffmpeg pass on your file and waiting for that process to compelete?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1688059273,"post_id":76582945,"comment_id":135026365,"body_markdown":"Absolutely agree. I can understand why you might try to simplify things though so yes, use ffmpeg as your back end and make it simple at the front end","body":"Absolutely agree. I can understand why you might try to simplify things though so yes, use ffmpeg as your back end and make it simple at the front end"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688056005,"creation_date":1688056005,"question_id":76582945,"body_markdown":"I need to build a JavaFx desktop app which compresses/transcodes a large video file (+2.5gb).\r\n\r\nI&#39;m looking into the IVCompressor framework, but it throws an error java.lang.OutOfMemoryError: Java heap space.\r\n\r\n```\r\n        String pathToSrc = &quot;/Users/tm/Desktop/source.mp4&quot;;\r\n        String pathToDst = &quot;/Users/tm/Desktop/target.mp4&quot;;\r\n\r\n        IVCompressor compressor = new IVCompressor();\r\n        IVSize customRes = new IVSize();\r\n        customRes.setWidth(400);\r\n        customRes.setHeight(300);\r\n        File file = new File(pathToSrc);\r\n        compressor.reduceVideoSizeAndSaveToAPath(file, VideoFormats.MP4, ResizeResolution.R480P,pathToDst);\r\n\r\n```\r\n\r\nMaybe this isn&#39;t the right framework for the job. Is there a native library which can be embeded in a JavaFx app for Windows and Os X? \r\n\r\n","title":"Issue transcoding video file","body":"<p>I need to build a JavaFx desktop app which compresses/transcodes a large video file (+2.5gb).</p>\n<p>I'm looking into the IVCompressor framework, but it throws an error java.lang.OutOfMemoryError: Java heap space.</p>\n<pre><code>        String pathToSrc = &quot;/Users/tm/Desktop/source.mp4&quot;;\n        String pathToDst = &quot;/Users/tm/Desktop/target.mp4&quot;;\n\n        IVCompressor compressor = new IVCompressor();\n        IVSize customRes = new IVSize();\n        customRes.setWidth(400);\n        customRes.setHeight(300);\n        File file = new File(pathToSrc);\n        compressor.reduceVideoSizeAndSaveToAPath(file, VideoFormats.MP4, ResizeResolution.R480P,pathToDst);\n\n</code></pre>\n<p>Maybe this isn't the right framework for the job. Is there a native library which can be embeded in a JavaFx app for Windows and Os X?</p>\n"},{"tags":["java","reference","instance-variables"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688049573,"creation_date":1688048742,"answer_id":76581993,"question_id":76577731,"body_markdown":"There are a couple things wrong with the intialization.\r\n-  didn&#39;t handle a null player name.  \r\n-  Assigned an uninitialized `ScoreCard` to a local card variable. Didn&#39;t really hurt anything but it is redundant and that value of card will go out of scope when the constructor is finished.\r\n\r\nCheck if the player is null or has a blank name (including being empty). Note you **must** check if `playerName` is null first before attempting to check if it is blank. Otherwise, you may get a null pointer exception if the playerName is null.\r\n\r\nFor the score card, just assign the card an instance of `ScoreCard`. It is presumed some of your player methods will modify the scorecard as needed by simply using the field `card`.\r\n\r\n```\r\n// Constructor for objects of class Player\r\npublic Player(String PlayerName)\r\n{\r\n       // initialize all instance variables\r\n       // look for and handle a null reference for playerName\r\n       // to initialize this.card create ScoreCard instance and assign reference\r\n      \r\n       if (playerName == null || playerName.isBlank()) {\r\n            this.name = &quot;UNKNOWN&quot;;\r\n       } else {\r\n           this.name = playerName;\r\n       }\r\n       this.card = new ScoreCard();\r\n       this.longestDrive = 0;\r\n       this.fullDriveYards = 0;\r\n       this.fullDrives = 0;\r\n       this.drivesOnTarget = 0;\r\n}","title":"How to reference variables in other classes","body":"<p>There are a couple things wrong with the intialization.</p>\n<ul>\n<li>didn't handle a null player name.</li>\n<li>Assigned an uninitialized <code>ScoreCard</code> to a local card variable. Didn't really hurt anything but it is redundant and that value of card will go out of scope when the constructor is finished.</li>\n</ul>\n<p>Check if the player is null or has a blank name (including being empty). Note you <strong>must</strong> check if <code>playerName</code> is null first before attempting to check if it is blank. Otherwise, you may get a null pointer exception if the playerName is null.</p>\n<p>For the score card, just assign the card an instance of <code>ScoreCard</code>. It is presumed some of your player methods will modify the scorecard as needed by simply using the field <code>card</code>.</p>\n<pre><code>// Constructor for objects of class Player\npublic Player(String PlayerName)\n{\n       // initialize all instance variables\n       // look for and handle a null reference for playerName\n       // to initialize this.card create ScoreCard instance and assign reference\n      \n       if (playerName == null || playerName.isBlank()) {\n            this.name = &quot;UNKNOWN&quot;;\n       } else {\n           this.name = playerName;\n       }\n       this.card = new ScoreCard();\n       this.longestDrive = 0;\n       this.fullDriveYards = 0;\n       this.fullDrives = 0;\n       this.drivesOnTarget = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688056002,"creation_date":1688056002,"answer_id":76582943,"question_id":76577731,"body_markdown":"&gt; _&quot;I just feel like I&#39;m not doing this correctly ...&quot;_\r\n\r\nIt&#39;s correct, there are just some inconsistencies, so you may not get the result you&#39;re looking for.\r\n\r\nIn your constructor method for _Player_, you are assigning _PlayerName_ to the _name_ field, and then subsequently assigning _PlayerName_ to _&quot;UNKNOWN&quot;_.\r\n\r\nAssigning _PlayerName_ will have no effect on _name_.\r\n\r\n```java\r\nthis.name = PlayerName;\r\nPlayerName = &quot;UNKNOWN&quot;;\r\n```\r\n\r\nIn your comment you mention,\r\n\r\n```java\r\n// look for and handle a null reference for playerName\r\n```\r\n\r\nYou&#39;ll need a _conditional statement_ for this.\r\n\r\n```java\r\nif (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\r\nthis.name = PlayerName;\r\n```\r\n\r\nFurthermore, you are assigning your class variable _card_ to a new local variable _card_.\r\n\r\nThis, again, will have no effect, since _this.card_ would be _null_ at this point.\r\n\r\n```java\r\n// to initialize this.card create ScoreCard instance and assign reference\r\n```\r\n\r\nThe following will suffice.\r\n\r\n```java\r\nthis.card = new ScoreCard();\r\n```\r\n\r\nSo, the complete constructor should look like the following.\r\n\r\n```java\r\npublic Player(String PlayerName)\r\n{\r\n    // initialize all instance variables\r\n    // look for and handle a null reference for playerName\r\n    // to initialize this.card create ScoreCard instance and assign reference\r\n    if (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\r\n    this.name = PlayerName;\r\n    this.card = new ScoreCard();\r\n    this.longestDrive = 0;\r\n    this.fullDriveYards = 0;\r\n    this.fullDrives = 0;\r\n    this.drivesOnTarget = 0;\r\n}\r\n```\r\n\r\n&gt; _&quot;... I have researched and just can&#39;t seem to wrap my head around how to initialize variable that have to reference another method or class. ...&quot;_\r\n\r\nYou&#39;re assignment is correct,\r\n\r\n```java\r\nthis.card = new ScoreCard();\r\n```\r\n\r\nSince you&#39;re _ScoreCard_ class variables are declared as _private_, you won&#39;t be able to access them via _dot-notation_&amp;mdash;e.g., _card.totalStrokes_.\r\n\r\nYou will need to either remove the modifier, change the modifier to _public_, or create methods that will provide the access.\r\n\r\n```java\r\npublic class ScoreCard\r\n{\r\n    private int totalStrokes;\r\n    private int versusPar;\r\n    private LinkedList&lt;Integer&gt; playerScoreCard;\r\n\r\n    public int getTotalStrokes() {\r\n        return totalStrokes;\r\n    }\r\n\r\n    public void setTotalStrokes(int totalStrokes) {\r\n        this.totalStrokes = totalStrokes;\r\n    }\r\n\r\n    public int getVersusPar() {\r\n        return versusPar;\r\n    }\r\n\r\n    public void setVersusPar(int versusPar) {\r\n        this.versusPar = versusPar;\r\n    }\r\n\r\n    public LinkedList&lt;Integer&gt; getPlayerScoreCard() {\r\n        return playerScoreCard;\r\n    }\r\n\r\n    public void setPlayerScoreCard(LinkedList&lt;Integer&gt; playerScoreCard) {\r\n        this.playerScoreCard = playerScoreCard;\r\n    }\r\n}\r\n```\r\n\r\nThen, you can access the values as follows.\r\n\r\n```java\r\ncard.setTotalStrokes(123);\r\ncard.setVersusPar(123);\r\ncard.setPlayerScoreCard(new LinkedList&lt;&gt;());\r\n```\r\n\r\nHere are some references by _Java_ which may help in your coding process.\r\n\r\n_[Classes (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html)._  \r\n_[Lesson: Object-Oriented Programming Concepts (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/concepts/index.html)._","title":"How to reference variables in other classes","body":"<blockquote>\n<p><em>&quot;I just feel like I'm not doing this correctly ...&quot;</em></p>\n</blockquote>\n<p>It's correct, there are just some inconsistencies, so you may not get the result you're looking for.</p>\n<p>In your constructor method for <em>Player</em>, you are assigning <em>PlayerName</em> to the <em>name</em> field, and then subsequently assigning <em>PlayerName</em> to <em>&quot;UNKNOWN&quot;</em>.</p>\n<p>Assigning <em>PlayerName</em> will have no effect on <em>name</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.name = PlayerName;\nPlayerName = &quot;UNKNOWN&quot;;\n</code></pre>\n<p>In your comment you mention,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// look for and handle a null reference for playerName\n</code></pre>\n<p>You'll need a <em>conditional statement</em> for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\nthis.name = PlayerName;\n</code></pre>\n<p>Furthermore, you are assigning your class variable <em>card</em> to a new local variable <em>card</em>.</p>\n<p>This, again, will have no effect, since <em>this.card</em> would be <em>null</em> at this point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// to initialize this.card create ScoreCard instance and assign reference\n</code></pre>\n<p>The following will suffice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.card = new ScoreCard();\n</code></pre>\n<p>So, the complete constructor should look like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Player(String PlayerName)\n{\n    // initialize all instance variables\n    // look for and handle a null reference for playerName\n    // to initialize this.card create ScoreCard instance and assign reference\n    if (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\n    this.name = PlayerName;\n    this.card = new ScoreCard();\n    this.longestDrive = 0;\n    this.fullDriveYards = 0;\n    this.fullDrives = 0;\n    this.drivesOnTarget = 0;\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I have researched and just can't seem to wrap my head around how to initialize variable that have to reference another method or class. ...&quot;</em></p>\n</blockquote>\n<p>You're assignment is correct,</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.card = new ScoreCard();\n</code></pre>\n<p>Since you're <em>ScoreCard</em> class variables are declared as <em>private</em>, you won't be able to access them via <em>dot-notation</em>—e.g., <em>card.totalStrokes</em>.</p>\n<p>You will need to either remove the modifier, change the modifier to <em>public</em>, or create methods that will provide the access.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScoreCard\n{\n    private int totalStrokes;\n    private int versusPar;\n    private LinkedList&lt;Integer&gt; playerScoreCard;\n\n    public int getTotalStrokes() {\n        return totalStrokes;\n    }\n\n    public void setTotalStrokes(int totalStrokes) {\n        this.totalStrokes = totalStrokes;\n    }\n\n    public int getVersusPar() {\n        return versusPar;\n    }\n\n    public void setVersusPar(int versusPar) {\n        this.versusPar = versusPar;\n    }\n\n    public LinkedList&lt;Integer&gt; getPlayerScoreCard() {\n        return playerScoreCard;\n    }\n\n    public void setPlayerScoreCard(LinkedList&lt;Integer&gt; playerScoreCard) {\n        this.playerScoreCard = playerScoreCard;\n    }\n}\n</code></pre>\n<p>Then, you can access the values as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>card.setTotalStrokes(123);\ncard.setVersusPar(123);\ncard.setPlayerScoreCard(new LinkedList&lt;&gt;());\n</code></pre>\n<p>Here are some references by <em>Java</em> which may help in your coding process.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">Classes (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a>.</em><br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/index.html\" rel=\"nofollow noreferrer\">Lesson: Object-Oriented Programming Concepts (The Java™ Tutorials &gt; Learning the Java Language)</a>.</em></p>\n"}],"owner":{"account_id":25765820,"reputation":23,"user_id":19515795,"display_name":"Amber Lyda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76582943,"answer_count":2,"score":1,"last_activity_date":1688056002,"creation_date":1688006012,"question_id":76577731,"body_markdown":"I just feel like I&#39;m not doing this correctly and I have researched and just can&#39;t seem to wrap my head around how to initialize variable that have to reference another method or class.\r\n\r\nPlayer class\r\n\r\n\r\n    public class Player\r\n    {\r\n       //instance variables\r\n       private String name;\r\n       private ScoreCard card;\r\n       private int fullDriveYards;\r\n       private int fullDrives;\r\n       private int drivesOnTarget;\r\n    }\r\n\r\n\r\nHere&#39;s the ScoreCard class variables \r\n\r\n    public class ScoreCard\r\n    {\r\n        private int totalStrokes;\r\n        private int versusPar;\r\n        private LinkedList&lt;Integer&gt; playerScoreCard;\r\n    }\r\n    \r\n\r\n\r\n\r\nSo this is how I have initialized the instance variables is Player class I did not code the Scorecard class as I didn&#39;t have to but I still added it so you can see what&#39;s going on. I just need to know if I am on the right track or completely off.\r\n\r\n\r\n    // Constructor for objects of class Player\r\n    public Player(String PlayerName)\r\n    {\r\n           // initialize all instance variables\r\n           // look for and handle a null reference for playerName\r\n           // to initialize this.card create ScoreCard instance and assign reference\r\n           this.name = PlayerName;\r\n           PlayerName = &quot;UNKNOWN&quot;;\r\n           ScoreCard card = this.card;\r\n           this.card = new ScoreCard();\r\n           this.longestDrive = 0;\r\n           this.fullDriveYards = 0;\r\n           this.fullDrives = 0;\r\n           this.drivesOnTarget = 0;\r\n    }\r\n","title":"How to reference variables in other classes","body":"<p>I just feel like I'm not doing this correctly and I have researched and just can't seem to wrap my head around how to initialize variable that have to reference another method or class.</p>\n<p>Player class</p>\n<pre><code>public class Player\n{\n   //instance variables\n   private String name;\n   private ScoreCard card;\n   private int fullDriveYards;\n   private int fullDrives;\n   private int drivesOnTarget;\n}\n</code></pre>\n<p>Here's the ScoreCard class variables</p>\n<pre><code>public class ScoreCard\n{\n    private int totalStrokes;\n    private int versusPar;\n    private LinkedList&lt;Integer&gt; playerScoreCard;\n}\n</code></pre>\n<p>So this is how I have initialized the instance variables is Player class I did not code the Scorecard class as I didn't have to but I still added it so you can see what's going on. I just need to know if I am on the right track or completely off.</p>\n<pre><code>// Constructor for objects of class Player\npublic Player(String PlayerName)\n{\n       // initialize all instance variables\n       // look for and handle a null reference for playerName\n       // to initialize this.card create ScoreCard instance and assign reference\n       this.name = PlayerName;\n       PlayerName = &quot;UNKNOWN&quot;;\n       ScoreCard card = this.card;\n       this.card = new ScoreCard();\n       this.longestDrive = 0;\n       this.fullDriveYards = 0;\n       this.fullDrives = 0;\n       this.drivesOnTarget = 0;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","pagination"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1687182496,"post_id":76506791,"comment_id":134897137,"body_markdown":"You can use the `map()` function on `Page` to map from `CustomResult` to a `CustomResultDto` in your web layer. For the ordering, just add an order in your query.","body":"You can use the <code>map()</code> function on <code>Page</code> to map from <code>CustomResult</code> to a <code>CustomResultDto</code> in your web layer. For the ordering, just add an order in your query."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1687184983,"post_id":76506791,"comment_id":134897649,"body_markdown":"@WimDeblauwe I am not sure of that, I just want to change the key name from `tupleBackedMaps` to `somethingElse` and don&#39;t want to touch my custom response. I will give it a try. Related to the ordering part I have already tried in the query and placed the way I want it still not helping it","body":"@WimDeblauwe I am not sure of that, I just want to change the key name from <code>tupleBackedMaps</code> to <code>somethingElse</code> and don&#39;t want to touch my custom response. I will give it a try. Related to the ordering part I have already tried in the query and placed the way I want it still not helping it"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1687186973,"post_id":76506791,"comment_id":134898131,"body_markdown":"If using native query is not a problem for you !! This worked for me \nhttps://stackoverflow.com/a/75623759/16769477","body":"If using native query is not a problem for you !! This worked for me  <a href=\"https://stackoverflow.com/a/75623759/16769477\">stackoverflow.com/a/75623759/16769477</a>"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1687535029,"post_id":76506791,"comment_id":134955473,"body_markdown":"@WimDeblauwe Can you help me figure this out ? I am not able to get this done using `map`","body":"@WimDeblauwe Can you help me figure this out ? I am not able to get this done using <code>map</code>"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1687610050,"post_id":76506791,"comment_id":134962736,"body_markdown":"@LokeshPandey Do you have a sample github project that shows the problem?","body":"@LokeshPandey Do you have a sample github project that shows the problem?"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1687617607,"post_id":76506791,"comment_id":134963488,"body_markdown":"@WimDeblauwe no, but the response is same as what I have shown as well as the query and interface data model","body":"@WimDeblauwe no, but the response is same as what I have shown as well as the query and interface data model"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1688055830,"post_id":76506791,"comment_id":135025694,"body_markdown":"@WimDeblauwe can you look at my answer if that&#39;s what you were referring ?","body":"@WimDeblauwe can you look at my answer if that&#39;s what you were referring ?"}],"answers":[{"tags":[],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688055938,"creation_date":1688016369,"answer_id":76578269,"question_id":76506791,"body_markdown":"The solution seems bit inefficient to me. But other than this I couldn&#39;t figure out anything. Please let me know if you have came across solution better than this. I also don&#39;t understand since the springboot provides interface based data projection why didn&#39;t it provides these small stuffs at the interface level ? Probably this is for another debate.\r\n\r\nSo what I have done here is I have created a class say\r\n\r\n    @Data\r\n    @Builder\r\n    @Relation()\r\n    public class CustomResultResponse extends RepresentationModel&lt;CustomResultResponse&gt; {\r\n        String courseName;\r\n        String teacherName;\r\n        String studentName;\r\n    }\r\n\r\nAnd extracted the result from the pagination\r\n\r\n    List&lt;CustomResult&gt; customResult = result.getContent()\r\n\r\nAnd then converted the list customResult to CustomResultResponse, something like this\r\n\r\n    //\r\n    List&lt;CustomResult&gt; customResult = result.getContent()\r\n    List&lt;CustomResultResponse&gt; formattedResponse = new ArrayList&lt;&gt;();\r\n    for(CustomResult custom : customResult) {\r\n        CustomResultResponse response = CustomResultResponse.builder()\r\n        .courseName(response.getCourseName())\r\n        .teacherName(response.getTeacherName())\r\n        .studentName(response.getStudentName())\r\n        .build()\r\n        formattedResponse.add(response);\r\n    }\r\n\r\nAnd then converted the list to page and returned.\r\n\r\nThe problem is I don&#39;t see much issue here since the result I am getting from the database is paginated, so at max there won&#39;t be more than 20 results. This seems fine for the smaller page size but I am pretty sure this will be not be efficient if page size grows.\r\nAlso I am not able to digest the idea of converting the response `CustomResult` to `CustomResultResponse`.","title":"Pagination with interface based projection spring boot","body":"<p>The solution seems bit inefficient to me. But other than this I couldn't figure out anything. Please let me know if you have came across solution better than this. I also don't understand since the springboot provides interface based data projection why didn't it provides these small stuffs at the interface level ? Probably this is for another debate.</p>\n<p>So what I have done here is I have created a class say</p>\n<pre><code>@Data\n@Builder\n@Relation()\npublic class CustomResultResponse extends RepresentationModel&lt;CustomResultResponse&gt; {\n    String courseName;\n    String teacherName;\n    String studentName;\n}\n</code></pre>\n<p>And extracted the result from the pagination</p>\n<pre><code>List&lt;CustomResult&gt; customResult = result.getContent()\n</code></pre>\n<p>And then converted the list customResult to CustomResultResponse, something like this</p>\n<pre><code>//\nList&lt;CustomResult&gt; customResult = result.getContent()\nList&lt;CustomResultResponse&gt; formattedResponse = new ArrayList&lt;&gt;();\nfor(CustomResult custom : customResult) {\n    CustomResultResponse response = CustomResultResponse.builder()\n    .courseName(response.getCourseName())\n    .teacherName(response.getTeacherName())\n    .studentName(response.getStudentName())\n    .build()\n    formattedResponse.add(response);\n}\n</code></pre>\n<p>And then converted the list to page and returned.</p>\n<p>The problem is I don't see much issue here since the result I am getting from the database is paginated, so at max there won't be more than 20 results. This seems fine for the smaller page size but I am pretty sure this will be not be efficient if page size grows.\nAlso I am not able to digest the idea of converting the response <code>CustomResult</code> to <code>CustomResultResponse</code>.</p>\n"}],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688055938,"creation_date":1687178883,"question_id":76506791,"body_markdown":"I am stuck on the pagination part for the interface based projection. So basically I am using an interface for the projection and building my custom response. This is the sample query\r\n\r\n    @Query(value = &quot;SELECT course AS courseName, teacher as teacherName, student AS studentName FROM table WHERE id = ?1 AND created_date &lt;= ?2 AND created_date &gt;= ?3 &quot;)\r\n    Page&lt;CustomResult&gt; getData(UUID id, LocalDateTime date, LocalDateTime date1, Pageable pageable);\r\n\r\nAnd this my interface\r\n\r\n    public interface CustomResult {\r\n    \tString getCourseName();\r\n    \tString getTeacherName();\r\n    \tString getStudentName();\r\n    }\r\n\r\nI am able to achieve the pagination here and I am getting the desired result something like this\r\n\r\n    {\r\n    \t&quot;_embedded&quot;:  {\r\n    \t\t&quot;tupleBackedMaps&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;courseName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;teacherName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;studentName&quot;: &quot;&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;courseName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;teacherName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;studentName&quot;: &quot;&quot;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t},\r\n    \t&quot;_links&quot;: {},\r\n    \t&quot;page&quot;: {\r\n    \t\t&quot;size&quot;: 10,\r\n    \t\t&quot;totalElements&quot;: 2,\r\n    \t\t&quot;totalPage&quot;: 1,\r\n    \t\t&quot;number&quot;: 0\r\n    \t}\r\n    }\r\n\r\nBut my problem here is little different I want to change the key name here `tupleBackedMaps` to `somethingElse`. And I also want to do the ordering of elements in the result. But I don&#39;t know how to do that with interface based projection. \r\n\r\nIf it was a class based projection I know there is something called `RepresentationModel` which can be used and `@Relation` and `JsonOrder` can be used to achieve what I want. But I don&#39;t know how to do this with interface.\r\n\r\nIs there a way ? Please let me know if there is any other way or workaround ?\r\n\r\n","title":"Pagination with interface based projection spring boot","body":"<p>I am stuck on the pagination part for the interface based projection. So basically I am using an interface for the projection and building my custom response. This is the sample query</p>\n<pre><code>@Query(value = &quot;SELECT course AS courseName, teacher as teacherName, student AS studentName FROM table WHERE id = ?1 AND created_date &lt;= ?2 AND created_date &gt;= ?3 &quot;)\nPage&lt;CustomResult&gt; getData(UUID id, LocalDateTime date, LocalDateTime date1, Pageable pageable);\n</code></pre>\n<p>And this my interface</p>\n<pre><code>public interface CustomResult {\n    String getCourseName();\n    String getTeacherName();\n    String getStudentName();\n}\n</code></pre>\n<p>I am able to achieve the pagination here and I am getting the desired result something like this</p>\n<pre><code>{\n    &quot;_embedded&quot;:  {\n        &quot;tupleBackedMaps&quot;: [\n            {\n                &quot;courseName&quot;: &quot;&quot;,\n                &quot;teacherName&quot;: &quot;&quot;,\n                &quot;studentName&quot;: &quot;&quot;\n            },\n            {\n                &quot;courseName&quot;: &quot;&quot;,\n                &quot;teacherName&quot;: &quot;&quot;,\n                &quot;studentName&quot;: &quot;&quot;\n            }\n        ]\n    },\n    &quot;_links&quot;: {},\n    &quot;page&quot;: {\n        &quot;size&quot;: 10,\n        &quot;totalElements&quot;: 2,\n        &quot;totalPage&quot;: 1,\n        &quot;number&quot;: 0\n    }\n}\n</code></pre>\n<p>But my problem here is little different I want to change the key name here <code>tupleBackedMaps</code> to <code>somethingElse</code>. And I also want to do the ordering of elements in the result. But I don't know how to do that with interface based projection.</p>\n<p>If it was a class based projection I know there is something called <code>RepresentationModel</code> which can be used and <code>@Relation</code> and <code>JsonOrder</code> can be used to achieve what I want. But I don't know how to do this with interface.</p>\n<p>Is there a way ? Please let me know if there is any other way or workaround ?</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687657077,"post_id":76548510,"comment_id":134966975,"body_markdown":"Who knows why this happens because it is unrealistic to create a frame that small. There is probably some kind of 1 pixel border. Post an [mre] demonstrating the problem. Also, why are you using a Frame. You should at least be using a JFrame since AWT is more outdated than Swing. What is the point of this? \n Maybe when using Swing you can use an undecorated JFrame..","body":"Who knows why this happens because it is unrealistic to create a frame that small. There is probably some kind of 1 pixel border. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. Also, why are you using a Frame. You should at least be using a JFrame since AWT is more outdated than Swing. What is the point of this?   Maybe when using Swing you can use an undecorated JFrame.."},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687659682,"post_id":76548510,"comment_id":134967120,"body_markdown":"@camickr It is undecorated. I do not see why it is unrealistic to create a frame of such size. It is exact same as JFrame.","body":"@camickr It is undecorated. I do not see why it is unrealistic to create a frame of such size. It is exact same as JFrame."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687663887,"post_id":76548510,"comment_id":134967326,"body_markdown":"Try setting it to be undecorated first, it &quot;could&quot; be a OS restriction (ps - seems to work fine on MacOS)","body":"Try setting it to be undecorated first, it &quot;could&quot; be a OS restriction (ps - seems to work fine on MacOS)"},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687665039,"post_id":76548510,"comment_id":134967374,"body_markdown":"@MadProgrammer thank you for the suggestion, will try on linux. Setting undecorated first did not change it, should not affect when it is set, as long as it&#39;s before frame.visible()","body":"@MadProgrammer thank you for the suggestion, will try on linux. Setting undecorated first did not change it, should not affect when it is set, as long as it&#39;s before frame.visible()"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687665347,"post_id":76548510,"comment_id":134967393,"body_markdown":"I always find “should not effect when it’s set” to be immediately undone by effecting it when it’s set (see any discussion on setResizable changing the window size)&#128540; - it seems to be a limitation on Linux. I added a ComponentListener which printed the window size before doing anything else, might be worth seeing when the frame size changes to your undesired size","body":"I always find “should not effect when it’s set” to be immediately undone by effecting it when it’s set (see any discussion on setResizable changing the window size)😜 - it seems to be a limitation on Linux. I added a ComponentListener which printed the window size before doing anything else, might be worth seeing when the frame size changes to your undesired size"},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687671838,"post_id":76548510,"comment_id":134967772,"body_markdown":"@MadProgrammer Thank you, setResizable fixed it. Did not know about this before. For some reason no posts about setResizable on stackoverflow were shown on google when searched, when had keywords.","body":"@MadProgrammer Thank you, setResizable fixed it. Did not know about this before. For some reason no posts about setResizable on stackoverflow were shown on google when searched, when had keywords."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687700300,"post_id":76548510,"comment_id":134970212,"body_markdown":"*I do not see why it is unrealistic to create a frame of such size* - Again, what is the purpose? A JFrame is a &quot;container&quot; component, which means it is designed to contain other components.  It&#39;s unrealistic in the sense that what can you do with a 1 pixel frame? How can it contain other components? Also, an [mre] should be actual code we can compile, not an image.","body":"<i>I do not see why it is unrealistic to create a frame of such size</i> - Again, what is the purpose? A JFrame is a &quot;container&quot; component, which means it is designed to contain other components.  It&#39;s unrealistic in the sense that what can you do with a 1 pixel frame? How can it contain other components? Also, an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be actual code we can compile, not an image."},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687705364,"post_id":76548510,"comment_id":134970759,"body_markdown":"@camickr I got it figured out. I like to know why something happens and not give the excuse of &quot;unrealistic&quot;. Sincerely apologize for giving the code in picture format and not code block. HOPEFULLY you can fill in the blanks and create and image object, and that is it.","body":"@camickr I got it figured out. I like to know why something happens and not give the excuse of &quot;unrealistic&quot;. Sincerely apologize for giving the code in picture format and not code block. HOPEFULLY you can fill in the blanks and create and image object, and that is it."}],"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688055912,"creation_date":1687654840,"question_id":76548510,"body_markdown":"As the title suggests, when trying to set `setSize(int x, int y)` and `x`, `y` are below `3`, it defaults to `2`.\r\n\r\nTrying `setSize(1, 1)` creates a 2x2 pixel frame, and `setSize(0, 0)` creates a 2x2 pixel frame.\r\n\r\nI could not find anything on the internet mentioning this. \r\n\r\nIf anyone understood why this happens, please tell me!\r\n\r\nThank you.\r\n\r\n\r\n  https://i.stack.imgur.com/CxWJm.png","title":"Java AWT/Swing Frame.setsize() does not set intended size when below 3x3","body":"<p>As the title suggests, when trying to set <code>setSize(int x, int y)</code> and <code>x</code>, <code>y</code> are below <code>3</code>, it defaults to <code>2</code>.</p>\n<p>Trying <code>setSize(1, 1)</code> creates a 2x2 pixel frame, and <code>setSize(0, 0)</code> creates a 2x2 pixel frame.</p>\n<p>I could not find anything on the internet mentioning this.</p>\n<p>If anyone understood why this happens, please tell me!</p>\n<p>Thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/CxWJm.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CxWJm.png</a></p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688055844,"creation_date":1688055141,"answer_id":76582848,"question_id":76582802,"body_markdown":"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-authorization-extraction   \r\n\r\n     http\r\n         .oauth2ResourceServer(configurer -&gt;\r\n                configurer.jwt(\r\n                    jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter())\r\n                )\r\n         )","title":"Updating depreacted jwt-function with custom JwtAuthenticationConverter","body":"<p><a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-authorization-extraction\" rel=\"noreferrer\">https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-authorization-extraction</a></p>\n<pre><code> http\n     .oauth2ResourceServer(configurer -&gt;\n            configurer.jwt(\n                jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter())\n            )\n     )\n</code></pre>\n"}],"owner":{"account_id":8589103,"reputation":774,"user_id":6434216,"accept_rate":50,"display_name":"Flocke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76582848,"answer_count":1,"score":2,"last_activity_date":1688055844,"creation_date":1688054809,"question_id":76582802,"body_markdown":"I have this line of code:\r\n\r\n    http.oauth2ResourceServer(server -&gt; server.jwt().jwtAuthenticationConverter(jwtAuthenticationConverter()));\r\nwith\r\n\r\n    @Bean\r\n    public JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n    ...\r\n    }\r\n\r\njwt() is deprecated and I&#39;m tried to use &lt;code&gt;jwt(JwtConfigurer)&lt;/code&gt;. How does that work? How to register my AuthenticationConverter with that function?\r\n\r\nThanks!","title":"Updating depreacted jwt-function with custom JwtAuthenticationConverter","body":"<p>I have this line of code:</p>\n<pre><code>http.oauth2ResourceServer(server -&gt; server.jwt().jwtAuthenticationConverter(jwtAuthenticationConverter()));\n</code></pre>\n<p>with</p>\n<pre><code>@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\n...\n}\n</code></pre>\n<p>jwt() is deprecated and I'm tried to use <code>jwt(JwtConfigurer)</code>. How does that work? How to register my AuthenticationConverter with that function?</p>\n<p>Thanks!</p>\n"},{"tags":["java","intellij-idea","javasound"],"comments":[{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1687584325,"post_id":76540894,"comment_id":134960581,"body_markdown":"Does your project use a module-info.java file? If so, can you show it&#39;s contents?","body":"Does your project use a module-info.java file? If so, can you show it&#39;s contents?"},{"owner":{"account_id":12500097,"reputation":61,"user_id":9098828,"display_name":"digitalway"},"score":0,"creation_date":1687635810,"post_id":76540894,"comment_id":134965415,"body_markdown":"I see this in the module-info.java module \n\ncom.example.music {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n\n    opens com.example.music to javafx.fxml;\n    exports com.example.music;\n}","body":"I see this in the module-info.java module   com.example.music {     requires javafx.controls;     requires javafx.fxml;       opens com.example.music to javafx.fxml;     exports com.example.music; }"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":1,"creation_date":1687744057,"post_id":76540894,"comment_id":134974556,"body_markdown":"I think you need to include a reference to java.desktop in your module-info file. I&#39;m not sure of the exact form/syntax, though. Perhaps it&#39;s simple adding the line &quot;requires java.desktop;&quot;? I&#39;d have to fiddle to know for sure.","body":"I think you need to include a reference to java.desktop in your module-info file. I&#39;m not sure of the exact form/syntax, though. Perhaps it&#39;s simple adding the line &quot;requires java.desktop;&quot;? I&#39;d have to fiddle to know for sure."},{"owner":{"account_id":12500097,"reputation":61,"user_id":9098828,"display_name":"digitalway"},"score":0,"creation_date":1687949801,"post_id":76540894,"comment_id":135007624,"body_markdown":"You are right @PhilFreihofner I added `requires java.desktop;` in module-info.java and it works! Thank you very much","body":"You are right @PhilFreihofner I added <code>requires java.desktop;</code> in module-info.java and it works! Thank you very much"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1688055535,"post_id":76540894,"comment_id":135025617,"body_markdown":"I&#39;m going to post an answer or if you like you can post your own. Main thing is to have an answer designated so that others don&#39;t think this issue still needs solving.","body":"I&#39;m going to post an answer or if you like you can post your own. Main thing is to have an answer designated so that others don&#39;t think this issue still needs solving."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688055425,"creation_date":1688055425,"answer_id":76582877,"question_id":76540894,"body_markdown":"(Posted after engaging in clarifying questions.)\r\n\r\nSometimes an error message like this occurs because the required module is not listed in the `module-info.java` file.\r\n\r\nAccording to the OP, adding the following line to `module-info.java`:\r\n\r\n    requires java.desktop;\r\n\r\nsolved the issue.","title":"Package &#39;javax.sound.midi&#39; is declared in module","body":"<p>(Posted after engaging in clarifying questions.)</p>\n<p>Sometimes an error message like this occurs because the required module is not listed in the <code>module-info.java</code> file.</p>\n<p>According to the OP, adding the following line to <code>module-info.java</code>:</p>\n<pre><code>requires java.desktop;\n</code></pre>\n<p>solved the issue.</p>\n"}],"owner":{"account_id":12500097,"reputation":61,"user_id":9098828,"display_name":"digitalway"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76582877,"answer_count":1,"score":0,"last_activity_date":1688055425,"creation_date":1687529281,"question_id":76540894,"body_markdown":"When I add this in my Java app in IntelliJ\r\n\r\n    import javax.sound.midi.*;\r\n\r\nI get this error\r\n&quot;Package &#39;javax.sound.midi&#39; is declared in module &#39;java.desktop&#39;, but module &#39;com.example.music&#39; does not read it&quot;\r\n\r\nI have read online that javax.sound is part of the OpenJDK 20 ...\r\n\r\nHave you an idea of why I get this error \r\n\r\nEd\r\n\r\n","title":"Package &#39;javax.sound.midi&#39; is declared in module","body":"<p>When I add this in my Java app in IntelliJ</p>\n<pre><code>import javax.sound.midi.*;\n</code></pre>\n<p>I get this error\n&quot;Package 'javax.sound.midi' is declared in module 'java.desktop', but module 'com.example.music' does not read it&quot;</p>\n<p>I have read online that javax.sound is part of the OpenJDK 20 ...</p>\n<p>Have you an idea of why I get this error</p>\n<p>Ed</p>\n"},{"tags":["java","maven","dependency-management","maven-shade-plugin"],"owner":{"account_id":26421235,"reputation":1,"user_id":20068882,"display_name":"Acech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688055349,"creation_date":1688055349,"question_id":76582870,"body_markdown":"I created a multi-module maven project in my IDE, which is structured in following form:\r\n\r\n```text\r\n├── pom.xml # root pom.xml\r\n├── commons\r\n│&#160;&#160; ├── pom.xml # commons pom.xml  -[child of     ]-&gt; root pom.xml\r\n│&#160;&#160; ├── bom     # bom pom.xml      -[detached from]-&gt; root pom.xml\r\n│&#160;&#160; └── core    # core             -[sub module of]-&gt; commons\r\n├── releases\r\n│&#160;&#160; ├── pom.xml # releases pom.xml -[detached from]-&gt; root pom.xml\r\n│&#160;&#160; └── client  # client           -[sub module of]-&gt; releases\r\n└── services\r\n    ├── pom.xml # services pom.xml -[child of     ]-&gt; root pom.xml\r\n    ├── xx-api  # xx-api           -[sub module of]-&gt; services \r\n    └── xx-impl # xx-impl          -[sub module of]-&gt; services\r\n```\r\n\r\nNote that **releases and its sub modules** is intended for deploying to a private maven repo,\r\nand here&#39;s an example of pom.xml files for those modules.&lt;br&gt;\r\n\r\nThe **ROOT** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;commons&lt;/module&gt;\r\n        &lt;module&gt;services&lt;/module&gt;\r\n        &lt;module&gt;releases&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **releases** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;releases&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;client&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    &lt;distributionManagement/&gt; &lt;!-- intended for a deploy into a private maven repo --&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **releases/client** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;releases&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xx-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- other dependencies --&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--\r\n                            ONLY shade com.demo:* artifacts in this uber jar!\r\n                            We don&#39;t want artifacts like core or xx-api\r\n                            being released to maven repo\r\n                            --&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;com.demo&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                            &lt;shadedClassifierName&gt;all&lt;/shadedClassifierName&gt;\r\n                            &lt;keepDependenciesWithProvidedScope&gt;true&lt;/keepDependenciesWithProvidedScope&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **services** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;services&lt;/artifactId&gt;\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;xx-impl&lt;/module&gt;\r\n        &lt;module&gt;xx-api&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **services/xx-api** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;services&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- other dependencies --&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAfter running `mvn clean install`, i installed those modules into my local maven repo,\r\nthen i cd into releases to execute `mvn deploy`. Then releases/pom.xml, releases/client.jar,\r\nreleases/client-all.jar were deployed into the private maven repo.&lt;br&gt; \r\n\r\nBut when i create a new maven project to import the client-all.jar for unit testing, i got\r\nan exception claimed that classess **xx-api** or **core** depended is missing.&lt;br&gt;\r\n\r\nIt turns out that module **client** is not depending on dependencies **xx-api** is depended on,\r\nand i want know how to make **client** depending on dependencies **xx-api** depended automaticly.\r\n\r\n\r\nAny reply will be appreciated.","title":"How to shade a jar into uber jar and make uber jar&#39;s pom depending on shaded jar&#39;s dependencies?","body":"<p>I created a multi-module maven project in my IDE, which is structured in following form:</p>\n<pre><code>├── pom.xml # root pom.xml\n├── commons\n│   ├── pom.xml # commons pom.xml  -[child of     ]-&gt; root pom.xml\n│   ├── bom     # bom pom.xml      -[detached from]-&gt; root pom.xml\n│   └── core    # core             -[sub module of]-&gt; commons\n├── releases\n│   ├── pom.xml # releases pom.xml -[detached from]-&gt; root pom.xml\n│   └── client  # client           -[sub module of]-&gt; releases\n└── services\n    ├── pom.xml # services pom.xml -[child of     ]-&gt; root pom.xml\n    ├── xx-api  # xx-api           -[sub module of]-&gt; services \n    └── xx-impl # xx-impl          -[sub module of]-&gt; services\n</code></pre>\n<p>Note that <strong>releases and its sub modules</strong> is intended for deploying to a private maven repo,\nand here's an example of pom.xml files for those modules.<br></p>\n<p>The <strong>ROOT</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;commons&lt;/module&gt;\n        &lt;module&gt;services&lt;/module&gt;\n        &lt;module&gt;releases&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.demo&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>releases</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;releases&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;client&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;distributionManagement/&gt; &lt;!-- intended for a deploy into a private maven repo --&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>releases/client</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;releases&lt;/artifactId&gt;\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\n            &lt;artifactId&gt;xx-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- other dependencies --&gt;\n   &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!--\n                            ONLY shade com.demo:* artifacts in this uber jar!\n                            We don't want artifacts like core or xx-api\n                            being released to maven repo\n                            --&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;com.demo&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;shadedClassifierName&gt;all&lt;/shadedClassifierName&gt;\n                            &lt;keepDependenciesWithProvidedScope&gt;true&lt;/keepDependenciesWithProvidedScope&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>services</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;services&lt;/artifactId&gt;\n\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;xx-impl&lt;/module&gt;\n        &lt;module&gt;xx-api&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>services/xx-api</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;services&lt;/artifactId&gt;\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\n        &lt;/dependency&gt;\n        &lt;!-- other dependencies --&gt;\n   &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After running <code>mvn clean install</code>, i installed those modules into my local maven repo,\nthen i cd into releases to execute <code>mvn deploy</code>. Then releases/pom.xml, releases/client.jar,\nreleases/client-all.jar were deployed into the private maven repo.<br></p>\n<p>But when i create a new maven project to import the client-all.jar for unit testing, i got\nan exception claimed that classess <strong>xx-api</strong> or <strong>core</strong> depended is missing.<br></p>\n<p>It turns out that module <strong>client</strong> is not depending on dependencies <strong>xx-api</strong> is depended on,\nand i want know how to make <strong>client</strong> depending on dependencies <strong>xx-api</strong> depended automaticly.</p>\n<p>Any reply will be appreciated.</p>\n"},{"tags":["java","gradle","groovy","build"],"comments":[{"owner":{"account_id":24721,"reputation":2004,"user_id":63066,"accept_rate":86,"display_name":"mrooney"},"score":3,"creation_date":1469120235,"post_id":11345193,"comment_id":64417943,"body_markdown":"It is worth mentioning that, as pre-cursor to solving this and as I ran into when I was getting this, you&#39;ll need to make sure you&#39;ve actually got a JDK installed :P And, on some systems, you&#39;ll need to install the devel JDK package to get tools.jar","body":"It is worth mentioning that, as pre-cursor to solving this and as I ran into when I was getting this, you&#39;ll need to make sure you&#39;ve actually got a JDK installed :P And, on some systems, you&#39;ll need to install the devel JDK package to get tools.jar"}],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341495252,"creation_date":1341495252,"answer_id":11345451,"question_id":11345193,"body_markdown":"Did you make sure that tools.jar made it on the compile class path? Maybe the path is incorrect.\r\n\r\n    task debug &lt;&lt; {\r\n        configurations.compile.each { println it }\r\n    }","title":"Gradle does not find tools.jar","body":"<p>Did you make sure that tools.jar made it on the compile class path? Maybe the path is incorrect.</p>\n\n<pre><code>task debug &lt;&lt; {\n    configurations.compile.each { println it }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125956,"reputation":5099,"user_id":322099,"accept_rate":88,"display_name":"raspayu"},"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1341496072,"creation_date":1341496072,"answer_id":11345708,"question_id":11345193,"body_markdown":"Found it. **System property &#39;java.home&#39; is not JAVA_HOME environment variable.** JAVA_HOME points to the JDK, while java.home points to the JRE. See [that page][1] for more info.\r\n\r\nSoo... My problem was that my startpoint was the jre folder (C:\\jdk1.6.0_26\\jre) and not the jdk folder (C:\\jdk1.6.0_26) as I thought(tools.jar is on the C:\\jdk1.6.0_26\\lib folder ). The compile line in dependencies.gradle should be:\r\n\r\n\tcompile files(&quot;${System.properties[&#39;java.home&#39;]}/../lib/tools.jar&quot;)\r\n\r\n\r\n  [1]: http://javahowto.blogspot.de/2006/05/javahome-vs-javahome.html","title":"Gradle does not find tools.jar","body":"<p>Found it. <strong>System property 'java.home' is not JAVA_HOME environment variable.</strong> JAVA_HOME points to the JDK, while java.home points to the JRE. See <a href=\"http://javahowto.blogspot.de/2006/05/javahome-vs-javahome.html\">that page</a> for more info.</p>\n\n<p>Soo... My problem was that my startpoint was the jre folder (C:\\jdk1.6.0_26\\jre) and not the jdk folder (C:\\jdk1.6.0_26) as I thought(tools.jar is on the C:\\jdk1.6.0_26\\lib folder ). The compile line in dependencies.gradle should be:</p>\n\n<pre><code>compile files(\"${System.properties['java.home']}/../lib/tools.jar\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":917777,"reputation":2579,"user_id":950189,"accept_rate":83,"display_name":"Andrei LED"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1425285118,"creation_date":1425285118,"answer_id":28805423,"question_id":11345193,"body_markdown":"It may be two years too late, but I ran into the same problem recently and this is the solution I ended up with after finding [this post][1]:\r\n\r\n    import javax.tools.ToolProvider\r\n\r\n    dependencies {\r\n      compile (\r\n        files(((URLClassLoader) ToolProvider.getSystemToolClassLoader()).getURLs()),\r\n        ...\r\n      }\r\n    }\r\n\r\nIt should work if java.home points to a directory that&#39;s not under the JDK directory and even on Mac OS where you&#39;d have classes.jar instead of tools.jar.\r\n\r\n  [1]: https://stackoverflow.com/questions/25626757/correct-way-of-referencing-tools-jar-in-a-cross-platform-way/25628156#25628156","title":"Gradle does not find tools.jar","body":"<p>It may be two years too late, but I ran into the same problem recently and this is the solution I ended up with after finding <a href=\"https://stackoverflow.com/questions/25626757/correct-way-of-referencing-tools-jar-in-a-cross-platform-way/25628156#25628156\">this post</a>:</p>\n\n<pre><code>import javax.tools.ToolProvider\n\ndependencies {\n  compile (\n    files(((URLClassLoader) ToolProvider.getSystemToolClassLoader()).getURLs()),\n    ...\n  }\n}\n</code></pre>\n\n<p>It should work if java.home points to a directory that's not under the JDK directory and even on Mac OS where you'd have classes.jar instead of tools.jar.</p>\n"},{"tags":[],"owner":{"account_id":3518834,"reputation":17752,"user_id":3828228,"accept_rate":98,"display_name":"benscabbia"},"down_vote_count":0,"up_vote_count":163,"is_accepted":false,"score":163,"last_activity_date":1456392347,"creation_date":1456392347,"answer_id":35623142,"question_id":11345193,"body_markdown":"I had this problem when I was trying to run commands through CLI. \r\n\r\nIt was a problem with system looking at the JRE folder i.e. \r\n`D:\\Program Files\\Java\\jre8\\bin`. If we look in there, there is no `Tools.jar`, hence the error. \r\n\r\nYou need to find where the `JDK` is, in my case: `D:\\Program Files\\Java\\jdk1.8.0_11`, and if you look in the `lib` directory, you will see `Tools.jar`.\r\n\r\nWhat I did I created a new environment variable `JAVA_HOME`:\r\n[![enter image description here][1]][1]\r\n\r\nAnd then you need to edit your PATH variable to include JAVA_HOME, i.e.  `%JAVA_HOME%/bin;`\r\n[![enter image description here][2]][2]\r\n\r\nRe-open command prompt and should run. \r\n\r\n  [1]: http://i.stack.imgur.com/rxvGT.jpg\r\n  [2]: http://i.stack.imgur.com/rzg4E.jpg","title":"Gradle does not find tools.jar","body":"<p>I had this problem when I was trying to run commands through CLI. </p>\n\n<p>It was a problem with system looking at the JRE folder i.e. \n<code>D:\\Program Files\\Java\\jre8\\bin</code>. If we look in there, there is no <code>Tools.jar</code>, hence the error. </p>\n\n<p>You need to find where the <code>JDK</code> is, in my case: <code>D:\\Program Files\\Java\\jdk1.8.0_11</code>, and if you look in the <code>lib</code> directory, you will see <code>Tools.jar</code>.</p>\n\n<p>What I did I created a new environment variable <code>JAVA_HOME</code>:\n<a href=\"https://i.stack.imgur.com/rxvGT.jpg\"><img src=\"https://i.stack.imgur.com/rxvGT.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And then you need to edit your PATH variable to include JAVA_HOME, i.e.  <code>%JAVA_HOME%/bin;</code>\n<a href=\"https://i.stack.imgur.com/rzg4E.jpg\"><img src=\"https://i.stack.imgur.com/rzg4E.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Re-open command prompt and should run. </p>\n"},{"tags":[],"owner":{"account_id":200939,"reputation":324,"user_id":447096,"display_name":"Mohammed"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1457696672,"creation_date":1457696672,"answer_id":35939443,"question_id":11345193,"body_markdown":"I was struggling as well for this Solution. Found a better way to it with Gradle as described [here][1].\r\nWe can get the JVM/JDK information from Gradle itself.\r\n\r\n    dependencies {\r\n       runtime files(org.gradle.internal.jvm.Jvm.current().toolsJar)\r\n    }\r\nSo simple.\r\n  [1]: http://mohammed-technical.blogspot.com/2016/03/getting-jdk-information-in-gradle-to.html?soo\r\n","title":"Gradle does not find tools.jar","body":"<p>I was struggling as well for this Solution. Found a better way to it with Gradle as described <a href=\"http://mohammed-technical.blogspot.com/2016/03/getting-jdk-information-in-gradle-to.html?soo\">here</a>.\nWe can get the JVM/JDK information from Gradle itself.</p>\n\n<pre><code>dependencies {\n   runtime files(org.gradle.internal.jvm.Jvm.current().toolsJar)\n}\n</code></pre>\n\n<p>So simple.</p>\n"},{"tags":[],"owner":{"account_id":25175,"reputation":890,"user_id":64529,"display_name":"bondehagen"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1467203433,"creation_date":1467203433,"answer_id":38099601,"question_id":11345193,"body_markdown":"I just added a `gradle.properties` file with the following content:\r\n\r\n    org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\r\n","title":"Gradle does not find tools.jar","body":"<p>I just added a <code>gradle.properties</code> file with the following content:</p>\n\n<pre><code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1510916799,"creation_date":1470648333,"answer_id":38825539,"question_id":11345193,"body_markdown":"Add this to `gradle.properties`:\r\n\r\n&gt; org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91","title":"Gradle does not find tools.jar","body":"<p>Add this to <code>gradle.properties</code>:</p>\n\n<blockquote>\n  <p>org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_91</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1855411,"reputation":1650,"user_id":1681103,"accept_rate":64,"display_name":"rattek"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1471612888,"creation_date":1471612888,"answer_id":39040163,"question_id":11345193,"body_markdown":"I got the same error using Eclipse trying to execute a Gradle Task. Every time I run a command (i.e. war) the process threw an exception like: \r\n\r\n&gt; Could not find tools.jar. Please check that C:\\Program Files\\Java\\Jre8&quot; is a valid JDK install.\r\n\r\nI tried the solution listed in this post but none of them solved this issue. Here my solution :\r\n\r\n 1. Go to the &quot;Gradle Task&quot; view \r\n 2. Right Click on the task you want to execute\r\n 3. Select Open Gradle Run Configuration\r\n 4. In the tab &quot;Java Home&quot; select your local JDK repository then click OK\r\n\r\nRun again, Enjoy! ","title":"Gradle does not find tools.jar","body":"<p>I got the same error using Eclipse trying to execute a Gradle Task. Every time I run a command (i.e. war) the process threw an exception like: </p>\n\n<blockquote>\n  <p>Could not find tools.jar. Please check that C:\\Program Files\\Java\\Jre8\" is a valid JDK install.</p>\n</blockquote>\n\n<p>I tried the solution listed in this post but none of them solved this issue. Here my solution :</p>\n\n<ol>\n<li>Go to the \"Gradle Task\" view </li>\n<li>Right Click on the task you want to execute</li>\n<li>Select Open Gradle Run Configuration</li>\n<li>In the tab \"Java Home\" select your local JDK repository then click OK</li>\n</ol>\n\n<p>Run again, Enjoy! </p>\n"},{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473482934,"creation_date":1473482934,"answer_id":39422668,"question_id":11345193,"body_markdown":"Like other answers I set **org.gradle.java.home** property in **gradle.properties** file. But path with \\ separators did not work (building on windows 10): \r\n\r\n&gt; Java home supplied via &#39;org.gradle.java.home&#39; is invalid. Invalid\r\n&gt; directory: C:Program FilesJavajdk1.8.0_65\r\n\r\nSo instead of \r\n\r\n&gt; org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_65\r\n\r\ni had to use\r\n&gt; org.gradle.java.home=C:/Program Files/Java/jdk1.8.0_65\r\n\r\nthen the build was successful\r\n\r\nProblem is that project is build with JRE instead of JDK and since I was building it from eclipse this also worked:\r\n\r\n - In Window&gt;Preferences&gt;Gradle&gt;Arguments specify Workspace JRE and specify your JDK. \r\n - In Window&gt;Preferences&gt;Java&gt;InstalledJREs specify your JDK as default","title":"Gradle does not find tools.jar","body":"<p>Like other answers I set <strong>org.gradle.java.home</strong> property in <strong>gradle.properties</strong> file. But path with \\ separators did not work (building on windows 10): </p>\n\n<blockquote>\n  <p>Java home supplied via 'org.gradle.java.home' is invalid. Invalid\n  directory: C:Program FilesJavajdk1.8.0_65</p>\n</blockquote>\n\n<p>So instead of </p>\n\n<blockquote>\n  <p>org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_65</p>\n</blockquote>\n\n<p>i had to use</p>\n\n<blockquote>\n  <p>org.gradle.java.home=C:/Program Files/Java/jdk1.8.0_65</p>\n</blockquote>\n\n<p>then the build was successful</p>\n\n<p>Problem is that project is build with JRE instead of JDK and since I was building it from eclipse this also worked:</p>\n\n<ul>\n<li>In Window>Preferences>Gradle>Arguments specify Workspace JRE and specify your JDK. </li>\n<li>In Window>Preferences>Java>InstalledJREs specify your JDK as default</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2419491,"reputation":819,"user_id":2112832,"display_name":"Ciro Mine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493129991,"creation_date":1493129991,"answer_id":43613289,"question_id":11345193,"body_markdown":"In my case (Windows 10) after Java update I lost my Enviroment Variables, so I fixed added the variables again, based in the following steps https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html","title":"Gradle does not find tools.jar","body":"<p>In my case (Windows 10) after Java update I lost my Enviroment Variables, so I fixed added the variables again, based in the following steps <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html</a></p>\n"},{"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1516233089,"creation_date":1501170445,"answer_id":45355487,"question_id":11345193,"body_markdown":"I had a similar case using **Ubuntu**. The machine had only the **JRE** installed. So, I just executed the command below to install the **JDK**.\r\n\r\n`sudo apt install openjdk-8-jdk`","title":"Gradle does not find tools.jar","body":"<p>I had a similar case using <strong>Ubuntu</strong>. The machine had only the <strong>JRE</strong> installed. So, I just executed the command below to install the <strong>JDK</strong>.</p>\n\n<p><code>sudo apt install openjdk-8-jdk</code></p>\n"},{"tags":[],"owner":{"account_id":8773666,"reputation":3569,"user_id":6559577,"accept_rate":38,"display_name":"Mortada Jafar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510572935,"creation_date":1510572935,"answer_id":47263391,"question_id":11345193,"body_markdown":"**Linux**\r\n\r\nOpen `/etc/environment` in any text editor like *nano* or *gedit* and add the following line:\r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/open-jdk&quot;\r\n\r\n**Windows**      \r\n\r\n 1. Start the System Control Panel applet (Start - Settings - Control\r\n    Panel - System). \r\n 2. Select the Advanced tab. \r\n 3. Click the Environment\r\n    Variables button. \r\n 4. Under System Variables, click add button, then past the following lines:\r\n \r\n    in Variable Name : `JAVA_HOME`\r\n\r\n    in Variable Value :  `C:\\Program Files\\Java\\jdk1.x.x_xxx` \r\n\r\n    where `x.x_xxx` jdk version you can get your jdk version from here `C:\\Program Files\\Java`\r\n\r\n 5. Under System Variables, select Path, then click Edit,then click new button then past the following line:\r\n\r\n    `%JAVA_HOME%/bin;`\r\n\r\n","title":"Gradle does not find tools.jar","body":"<p><strong>Linux</strong></p>\n\n<p>Open <code>/etc/environment</code> in any text editor like <em>nano</em> or <em>gedit</em> and add the following line:</p>\n\n<pre><code>JAVA_HOME=\"/usr/lib/jvm/open-jdk\"\n</code></pre>\n\n<p><strong>Windows</strong>      </p>\n\n<ol>\n<li>Start the System Control Panel applet (Start - Settings - Control\nPanel - System). </li>\n<li>Select the Advanced tab. </li>\n<li>Click the Environment\nVariables button. </li>\n<li><p>Under System Variables, click add button, then past the following lines:</p>\n\n<p>in Variable Name : <code>JAVA_HOME</code></p>\n\n<p>in Variable Value :  <code>C:\\Program Files\\Java\\jdk1.x.x_xxx</code> </p>\n\n<p>where <code>x.x_xxx</code> jdk version you can get your jdk version from here <code>C:\\Program Files\\Java</code></p></li>\n<li><p>Under System Variables, select Path, then click Edit,then click new button then past the following line:</p>\n\n<p><code>%JAVA_HOME%/bin;</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12520075,"reputation":11,"user_id":9111752,"display_name":"Haseena B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513572394,"creation_date":1513568117,"answer_id":47861816,"question_id":11345193,"body_markdown":"Adding JDK path through JAVA_HOME tab in &quot;Open Gradle Run Configuration&quot; will solve the problem.","title":"Gradle does not find tools.jar","body":"<p>Adding JDK path through JAVA_HOME tab in \"Open Gradle Run Configuration\" will solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1515294193,"creation_date":1515291994,"answer_id":48133797,"question_id":11345193,"body_markdown":"This worked for me:\r\n\r\nI was getting message \r\n\r\n&gt; Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; &gt; Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_121 contains a valid JDK installation.\r\n\r\n\r\n - In Android Studio, check your SDK Location.\r\n - File, Project Structure, SDK Location, JDK Location.\r\n - Example: C:\\android-studio\\android-studio\\jre\r\n - Copy the tools.jar file in the C:\\android-studio\\android-studio\\jre\\lib folder into the C:\\Program Files\\Java\\jre1.8.0_121\\lib folder.\r\n - Retry.","title":"Gradle does not find tools.jar","body":"<p>This worked for me:</p>\n\n<p>I was getting message </p>\n\n<blockquote>\n  <p>Execution failed for task ':app:compileDebugJavaWithJavac'.</p>\n  \n  <blockquote>\n    <p>Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_121 contains a valid JDK installation.</p>\n  </blockquote>\n</blockquote>\n\n<ul>\n<li>In Android Studio, check your SDK Location.</li>\n<li>File, Project Structure, SDK Location, JDK Location.</li>\n<li>Example: C:\\android-studio\\android-studio\\jre</li>\n<li>Copy the tools.jar file in the C:\\android-studio\\android-studio\\jre\\lib folder into the C:\\Program Files\\Java\\jre1.8.0_121\\lib folder.</li>\n<li>Retry.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2200783,"reputation":788,"user_id":1945240,"display_name":"Duncan O. N."},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1519047045,"creation_date":1518544585,"answer_id":48772824,"question_id":11345193,"body_markdown":"On windows 10, I encounter the same problem and this how I fixed the issue;\r\n\r\n 1. Access `Advance System Settings&gt;Environment Variables&gt;System\r\n    Variables` \r\n 2. Select **PATH** overwrite the default\r\n        `C:\\ProgramData\\Oracle\\Java\\javapath` \r\n 3. With your own jdk installation that is **JAVA_HOME**=`C:\\Program Files\\Java\\jdk1.8.0_162`","title":"Gradle does not find tools.jar","body":"<p>On windows 10, I encounter the same problem and this how I fixed the issue;</p>\n\n<ol>\n<li>Access <code>Advance System Settings&gt;Environment Variables&gt;System\nVariables</code> </li>\n<li>Select <strong>PATH</strong> overwrite the default\n    <code>C:\\ProgramData\\Oracle\\Java\\javapath</code> </li>\n<li>With your own jdk installation that is <strong>JAVA_HOME</strong>=<code>C:\\Program Files\\Java\\jdk1.8.0_162</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":333654,"reputation":764,"user_id":659615,"display_name":"Richard Ginsberg"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1521494381,"creation_date":1521494381,"answer_id":49372511,"question_id":11345193,"body_markdown":"In CentOS7 the development package will install tools.jar. The file is not present in java-1.8.0-openjdk\r\n\r\n`sudo yum install java-1.8.0-openjdk-devel`","title":"Gradle does not find tools.jar","body":"<p>In CentOS7 the development package will install tools.jar. The file is not present in java-1.8.0-openjdk</p>\n\n<p><code>sudo yum install java-1.8.0-openjdk-devel</code></p>\n"},{"tags":[],"owner":{"account_id":8767606,"reputation":143,"user_id":6555487,"display_name":"Stefan Densow"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1526983461,"creation_date":1526983461,"answer_id":50464943,"question_id":11345193,"body_markdown":"On my system (Win 10, JRE 1.8.0, Android Studio 3.1.2, Gradle 4.1) there is no `tools.jar` in the JRE directory (`C:\\Program Files\\Java\\jre1.8.0_171`).\r\n\r\nHowever, I found it in `C:\\Program Files\\Android\\Android Studio\\jre\\lib` and tried setting **`JAVA_HOME=C:\\Program Files\\Android\\Android Studio\\jre`**\r\n\r\nThat works (for me)!","title":"Gradle does not find tools.jar","body":"<p>On my system (Win 10, JRE 1.8.0, Android Studio 3.1.2, Gradle 4.1) there is no <code>tools.jar</code> in the JRE directory (<code>C:\\Program Files\\Java\\jre1.8.0_171</code>).</p>\n\n<p>However, I found it in <code>C:\\Program Files\\Android\\Android Studio\\jre\\lib</code> and tried setting <strong><code>JAVA_HOME=C:\\Program Files\\Android\\Android Studio\\jre</code></strong></p>\n\n<p>That works (for me)!</p>\n"},{"tags":[],"owner":{"account_id":5358637,"reputation":778,"user_id":4270641,"display_name":"Wiktor Wardzichowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529583661,"creation_date":1529583661,"answer_id":50968465,"question_id":11345193,"body_markdown":"If you use terminal to build and you have this error you can point to jdk bundled with android studio in your `gradle.properties` file:\r\n\r\n    org.gradle.java.home=/usr/local/android-studio/jre","title":"Gradle does not find tools.jar","body":"<p>If you use terminal to build and you have this error you can point to jdk bundled with android studio in your <code>gradle.properties</code> file:</p>\n\n<pre><code>org.gradle.java.home=/usr/local/android-studio/jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534430815,"creation_date":1534430815,"answer_id":51879818,"question_id":11345193,"body_markdown":"With Centos 7, I have found that **only JDK has `tools.jar`, while JRE has not**. I have installed the Java 8 JRE(`yum install java-1.8.0-openjdk`), but not the JDK(`yum install java-1.8.0-openjdk-devel`).\r\n\r\nInstalling the latter solves the problem. Also, remember to set `JAVA_HOME`.\r\n\r\n","title":"Gradle does not find tools.jar","body":"<p>With Centos 7, I have found that <strong>only JDK has <code>tools.jar</code>, while JRE has not</strong>. I have installed the Java 8 JRE(<code>yum install java-1.8.0-openjdk</code>), but not the JDK(<code>yum install java-1.8.0-openjdk-devel</code>).</p>\n\n<p>Installing the latter solves the problem. Also, remember to set <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550859462,"creation_date":1550859462,"answer_id":54832934,"question_id":11345193,"body_markdown":"I&#39;ve tried most of the top options but it seems that I had something wrong with my environment setup so they didn&#39;t help. What solved the issue for me was to **re-install** `jdk1.8.0_201` and `jre1.8.0_201` and this solved the error for me. Hope that helps someone.","title":"Gradle does not find tools.jar","body":"<p>I've tried most of the top options but it seems that I had something wrong with my environment setup so they didn't help. What solved the issue for me was to <strong>re-install</strong> <code>jdk1.8.0_201</code> and <code>jre1.8.0_201</code> and this solved the error for me. Hope that helps someone.</p>\n"},{"tags":[],"owner":{"account_id":6254326,"reputation":89,"user_id":4863417,"display_name":"Veljko P."},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1552497442,"creation_date":1552497442,"answer_id":55147764,"question_id":11345193,"body_markdown":"I solved problem on this way:\r\n\r\n - download file tools-1.8.0.jar on http://www.java2s.com/Code/Jar/t/Downloadtools180jar.htm\r\n - unzip file and rename to tools.jar\r\n - copy to C:\\Program Files\\Java\\jre1.8.0_191\\lib folder\r\n - Retry","title":"Gradle does not find tools.jar","body":"<p>I solved problem on this way:</p>\n\n<ul>\n<li>download file tools-1.8.0.jar on <a href=\"http://www.java2s.com/Code/Jar/t/Downloadtools180jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/t/Downloadtools180jar.htm</a></li>\n<li>unzip file and rename to tools.jar</li>\n<li>copy to C:\\Program Files\\Java\\jre1.8.0_191\\lib folder</li>\n<li>Retry</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19061901,"reputation":47,"user_id":13917830,"display_name":"Ad&#225;rio Muatelembe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602928226,"creation_date":1602928226,"answer_id":64401144,"question_id":11345193,"body_markdown":"Put in gradle.properties file the following code line:\r\n\r\n    org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\r\n\r\n[Example image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7LmtZ.png","title":"Gradle does not find tools.jar","body":"<p>Put in gradle.properties file the following code line:</p>\n<pre><code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7LmtZ.png\" rel=\"nofollow noreferrer\">Example image</a></p>\n"},{"tags":[],"owner":{"account_id":19879263,"reputation":51,"user_id":14563622,"display_name":"B. Robert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604317470,"creation_date":1604316985,"answer_id":64644821,"question_id":11345193,"body_markdown":"What solved it for me was the following:\r\n1. found tools.jar in C:\\Program Files\\Android\\Android Studio\\jre\\lib\r\n2. copy paste to C:\\Program Files (x86)\\Java\\jre1.8.0_271\\lib\r\n3. ran the code again and it worked.","title":"Gradle does not find tools.jar","body":"<p>What solved it for me was the following:</p>\n<ol>\n<li>found tools.jar in C:\\Program Files\\Android\\Android Studio\\jre\\lib</li>\n<li>copy paste to C:\\Program Files (x86)\\Java\\jre1.8.0_271\\lib</li>\n<li>ran the code again and it worked.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10256653,"reputation":965,"user_id":7569316,"accept_rate":75,"display_name":"SpkingR"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1607408245,"creation_date":1607408245,"answer_id":65194009,"question_id":11345193,"body_markdown":"My solution on Mac:\r\n\r\nadd this line to `gradle.properties`:\r\n\r\n    org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home\r\n\r\nnot this one:\r\n\r\n    org.gradle.java.home=/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nyou can open the last home directory and will find that there is no `lib/tools.jar` file existence, so change the path to `JavaVirtualMachines/jdk1.8.0_271.jdk` and it works for me.\r\n\r\nBy the way, in the terminal, I echo the `$JAVA_HOME` and it gets the first path, not the second one, I think this is why my Gradle cannot work properly.","title":"Gradle does not find tools.jar","body":"<p>My solution on Mac:</p>\n<p>add this line to <code>gradle.properties</code>:</p>\n<pre><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home\n</code></pre>\n<p>not this one:</p>\n<pre><code>org.gradle.java.home=/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<p>you can open the last home directory and will find that there is no <code>lib/tools.jar</code> file existence, so change the path to <code>JavaVirtualMachines/jdk1.8.0_271.jdk</code> and it works for me.</p>\n<p>By the way, in the terminal, I echo the <code>$JAVA_HOME</code> and it gets the first path, not the second one, I think this is why my Gradle cannot work properly.</p>\n"},{"tags":[],"owner":{"account_id":7730522,"reputation":341,"user_id":5853830,"display_name":"tiagorockman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610890111,"creation_date":1610890111,"answer_id":65761181,"question_id":11345193,"body_markdown":"For me this error ocurred after trying to use audioplayers flutter library. \r\nTo solve i got tools.jar of the folder: \r\n\r\n&gt; C:\\Program Files\\Android\\Android Studio\\jre\\lib\r\n\r\n and pasted on \r\n\r\n&gt; C:\\Program Files\\Java\\jre1.8.0_181\\lib.\r\n\r\n After this the build worked fine.","title":"Gradle does not find tools.jar","body":"<p>For me this error ocurred after trying to use audioplayers flutter library.\nTo solve i got tools.jar of the folder:</p>\n<blockquote>\n<p>C:\\Program Files\\Android\\Android Studio\\jre\\lib</p>\n</blockquote>\n<p>and pasted on</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jre1.8.0_181\\lib.</p>\n</blockquote>\n<p>After this the build worked fine.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618571028,"creation_date":1618568589,"answer_id":67123488,"question_id":11345193,"body_markdown":"**Could not find tools.jar**\r\n\r\nMacOS\r\n\r\n```\r\necho export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\r\n```\r\n\r\nAnd restart Shell ","title":"Gradle does not find tools.jar","body":"<p><strong>Could not find tools.jar</strong></p>\n<p>MacOS</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\n</code></pre>\n<p>And restart Shell</p>\n"},{"tags":[],"owner":{"account_id":1203638,"reputation":10037,"user_id":1173810,"accept_rate":62,"display_name":"Bashar Altakrouri"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1627849239,"creation_date":1621507358,"answer_id":67618805,"question_id":11345193,"body_markdown":"**In macOS Big Sur**\r\n\r\nThe issue happens because of the environment variable `JAVA_HOME` is not correctly set in macOS Big Sur.\r\n\r\nStep 1 - Confirm that you have issue with `JAVA_HOME` by printing its value in the terminal. You will most likely get an empty string.\r\n\r\n```\r\necho $JAVA_HOME\r\n```\r\n\r\nStep 2 - Find the correct path on your machine\r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nCopy that path associated with &quot;Java SE 8&quot; which usually looks like `/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home`\r\n\r\n\r\nStep 3 - Edit `.zshenv` using `nano`\r\n\r\n```\r\nnano ~/.zshenv\r\n```\r\n\r\nStep 4 - Add the path from step 2 to the file as follows\r\n\r\n```\r\nexport JAVA_HOME=YOUR_JAVA_PATH\r\n```\r\nexample:\r\n\r\n```\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n```\r\n\r\nStep 5 - Source the updated `.zshenv` file to activate the environment variable\r\n\r\n```\r\nsource ~/.zshenv\r\n```\r\n\r\n\r\nStep 6 - Print to confirm the path\r\n\r\n```\r\necho $JAVA_HOME\r\n```\r\n","title":"Gradle does not find tools.jar","body":"<p><strong>In macOS Big Sur</strong></p>\n<p>The issue happens because of the environment variable <code>JAVA_HOME</code> is not correctly set in macOS Big Sur.</p>\n<p>Step 1 - Confirm that you have issue with <code>JAVA_HOME</code> by printing its value in the terminal. You will most likely get an empty string.</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>Step 2 - Find the correct path on your machine</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>Copy that path associated with &quot;Java SE 8&quot; which usually looks like <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home</code></p>\n<p>Step 3 - Edit <code>.zshenv</code> using <code>nano</code></p>\n<pre><code>nano ~/.zshenv\n</code></pre>\n<p>Step 4 - Add the path from step 2 to the file as follows</p>\n<pre><code>export JAVA_HOME=YOUR_JAVA_PATH\n</code></pre>\n<p>example:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n</code></pre>\n<p>Step 5 - Source the updated <code>.zshenv</code> file to activate the environment variable</p>\n<pre><code>source ~/.zshenv\n</code></pre>\n<p>Step 6 - Print to confirm the path</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14529704,"reputation":11,"user_id":16267462,"display_name":"Ganesh Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624107386,"creation_date":1624107386,"answer_id":68046986,"question_id":11345193,"body_markdown":"\r\n**My Android Studio Version: 4.2.1**\r\n\r\nThe **&quot;tools.jar&quot;** is provided by Oracle JDK which is required by android studio for compilation - I have faced this issue after updating android studio to latest version in my PC.\r\n\r\n**To Resolve the issue follow below steps:**\r\n\r\n1. In Android studio File -&gt; Project Structure -&gt; SDKs (Under Platform Settings)\r\n\r\n   A) Add JDK path by pressing &#39;+&#39; symbol in middle pane if suppose JDK/JDK home path is not present in the middle pane already (Middle pane also contains the Downloaded Android SDK&#39;s)\r\n\r\n   B) Java sdk will be usually present/installed in the path 64 bit =&gt; &quot;C:\\Program Files\\Java\\jdk1.X.Y_ABC&quot; (In my PC it is 1.8.0_202) or 32 bit =&gt; &quot;C:\\Program Files (x86)\\Java\\jdk1.X.Y_ABC&quot;\r\n\r\n2. If suppose you don&#39;t have JDK installed in your PC, \r\nplease download and install from Oracle Java website \r\nhttps://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n\r\n3) Set JDK and JRE Path(Download both from webpage mentioned in step 2) in system environment variable\r\n\r\n   A) Press windows key type &quot;Edit the system environment variables&quot; and open the application\r\n\r\n   B) Go to Advanced -&gt; Environment Variables Under system variables add JAVA_HOME and JRE_HOME as below\r\n\r\n[Set Windows system environment variable][1]\r\n\r\n  [1]: https://i.stack.imgur.com/cUUlc.png\r\n\r\n4) Add jdk lib path on the Path environment variable under user variables (this step is required only if the error not resolves with the previous steps) \r\nC:\\Program Files\\Java\\jdk1.X.Y_ABC\\lib\r\n","title":"Gradle does not find tools.jar","body":"<p><strong>My Android Studio Version: 4.2.1</strong></p>\n<p>The <strong>&quot;tools.jar&quot;</strong> is provided by Oracle JDK which is required by android studio for compilation - I have faced this issue after updating android studio to latest version in my PC.</p>\n<p><strong>To Resolve the issue follow below steps:</strong></p>\n<ol>\n<li><p>In Android studio File -&gt; Project Structure -&gt; SDKs (Under Platform Settings)</p>\n<p>A) Add JDK path by pressing '+' symbol in middle pane if suppose JDK/JDK home path is not present in the middle pane already (Middle pane also contains the Downloaded Android SDK's)</p>\n<p>B) Java sdk will be usually present/installed in the path 64 bit =&gt; &quot;C:\\Program Files\\Java\\jdk1.X.Y_ABC&quot; (In my PC it is 1.8.0_202) or 32 bit =&gt; &quot;C:\\Program Files (x86)\\Java\\jdk1.X.Y_ABC&quot;</p>\n</li>\n<li><p>If suppose you don't have JDK installed in your PC,\nplease download and install from Oracle Java website\n<a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a></p>\n</li>\n</ol>\n<ol start=\"3\">\n<li><p>Set JDK and JRE Path(Download both from webpage mentioned in step 2) in system environment variable</p>\n<p>A) Press windows key type &quot;Edit the system environment variables&quot; and open the application</p>\n<p>B) Go to Advanced -&gt; Environment Variables Under system variables add JAVA_HOME and JRE_HOME as below</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/cUUlc.png\" rel=\"nofollow noreferrer\">Set Windows system environment variable</a></p>\n<ol start=\"4\">\n<li>Add jdk lib path on the Path environment variable under user variables (this step is required only if the error not resolves with the previous steps)\nC:\\Program Files\\Java\\jdk1.X.Y_ABC\\lib</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4569846,"reputation":54,"user_id":3709808,"display_name":"Chamiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629033951,"creation_date":1629033951,"answer_id":68791961,"question_id":11345193,"body_markdown":"For Windows add JDK home path to the Gradle property file as org.gradle.java.home.\r\nIf you don&#39;t have gradle.properties file then create a new one and add\r\n\r\nEx: org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_241","title":"Gradle does not find tools.jar","body":"<p>For Windows add JDK home path to the Gradle property file as org.gradle.java.home.\nIf you don't have gradle.properties file then create a new one and add</p>\n<p>Ex: org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_241</p>\n"},{"tags":[],"owner":{"account_id":408478,"reputation":358,"user_id":779173,"display_name":"Greg Allen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660225033,"creation_date":1649329953,"answer_id":71781112,"question_id":11345193,"body_markdown":"Use this with modern versions of gradle:\r\n\r\n```\r\ndef compiler = javaToolchains.compilerFor { languageVersion = JavaLanguageVersion.of(java.sourceCompatibility.majorVersion) }.get()\r\nimplementation compiler.metadata.installationPath.files(&#39;lib/tools.jar&#39;)\r\n```","title":"Gradle does not find tools.jar","body":"<p>Use this with modern versions of gradle:</p>\n<pre><code>def compiler = javaToolchains.compilerFor { languageVersion = JavaLanguageVersion.of(java.sourceCompatibility.majorVersion) }.get()\nimplementation compiler.metadata.installationPath.files('lib/tools.jar')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28920194,"reputation":1,"user_id":22151338,"display_name":"Jaskirat Singh Takhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688055096,"creation_date":1688055096,"answer_id":76582839,"question_id":11345193,"body_markdown":"In Case, Non of the above solutions work. Simply copy tools.jar file from jdk folder into the jre folder. Make sure you have elevated privileges before you make this move. \r\n","title":"Gradle does not find tools.jar","body":"<p>In Case, Non of the above solutions work. Simply copy tools.jar file from jdk folder into the jre folder. Make sure you have elevated privileges before you make this move.</p>\n"}],"owner":{"account_id":125956,"reputation":5099,"user_id":322099,"accept_rate":88,"display_name":"raspayu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381503,"favorite_count":0,"down_vote_count":0,"up_vote_count":196,"accepted_answer_id":11345708,"answer_count":31,"score":196,"last_activity_date":1688055096,"creation_date":1341494375,"question_id":11345193,"body_markdown":"I am using javadoc doclets with gradle, so I need to use the package tools.jar, which is in the lib folder from the jdk (1.6.0_26 in my case).\r\n\r\nThe point is that gradle does not take it automatically, so I was adding that tools package to my libs folder, and then adding it to dependencies.gradle . \r\n\r\nNow I want to take it directly from my JDK home into my dependencies.gradle. Is there a way to do that? I have tried the next in my dependencies.gradle:\r\n\r\n    compile files(&quot;${System.properties[&#39;java.home&#39;]}/lib/tools.jar&quot;)\r\n\r\nBut it does not find it while compiling.","title":"Gradle does not find tools.jar","body":"<p>I am using javadoc doclets with gradle, so I need to use the package tools.jar, which is in the lib folder from the jdk (1.6.0_26 in my case).</p>\n\n<p>The point is that gradle does not take it automatically, so I was adding that tools package to my libs folder, and then adding it to dependencies.gradle . </p>\n\n<p>Now I want to take it directly from my JDK home into my dependencies.gradle. Is there a way to do that? I have tried the next in my dependencies.gradle:</p>\n\n<pre><code>compile files(\"${System.properties['java.home']}/lib/tools.jar\")\n</code></pre>\n\n<p>But it does not find it while compiling.</p>\n"},{"tags":["java","instanceof"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1646826499,"post_id":71408265,"comment_id":126218805,"body_markdown":"actually `Book.class` is the type - it can be stored in a variable `Class&lt;?&gt; bookType = Book.class`  and used like in `if (bookType.isInstance(book))` (Note: often there are better solution {more OO} instead of using reflection)","body":"actually <code>Book.class</code> is the type - it can be stored in a variable <code>Class&lt;?&gt; bookType = Book.class</code>  and used like in <code>if (bookType.isInstance(book))</code> (Note: often there are better solution {more OO} instead of using reflection)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646835139,"post_id":71408265,"comment_id":126221952,"body_markdown":"As reflection should only be the really last resort, what is your &quot;true&quot; goal? `book.getClass()` returns the `Class&lt;Book&gt;` instance, but that cannot be used with the `instanceof` operator. The `instanceof` operator would even raise a compile time error if the expression on the left side would cause a `ClassCastException` at runtime, when you cast it to the type on the right side of the operator. With a variable on the right side, this would not be possible.","body":"As reflection should only be the really last resort, what is your &quot;true&quot; goal? <code>book.getClass()</code> returns the <code>Class&lt;Book&gt;</code> instance, but that cannot be used with the <code>instanceof</code> operator. The <code>instanceof</code> operator would even raise a compile time error if the expression on the left side would cause a <code>ClassCastException</code> at runtime, when you cast it to the type on the right side of the operator. With a variable on the right side, this would not be possible."},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1646835472,"post_id":71408265,"comment_id":126222090,"body_markdown":"I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class.","body":"I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646837309,"creation_date":1646836917,"answer_id":71411121,"question_id":71408265,"body_markdown":"The closest to what you originally asked&lt;sup&gt;1&lt;/sup&gt; for is something like this:\r\n\r\n       Class&lt;?&gt; clazz = Book.class;\r\n    \r\n       Object someObject = new Book(...);\r\n       \r\n       if (clazz.isInstance(someObject)) {\r\n          Object instanceOfClazz = clazz.cast(someObject);\r\n          // ...\r\n       }\r\n\r\n(Note that this Q&amp;A - https://stackoverflow.com/questions/949352 - directly answers the question in the your question title.)\r\n\r\nBut you objected that the result of the `cast` call:\r\n\r\n&gt; *&quot;would lose all the methods of the `Book` class&quot;*.\r\n\r\nFirst of all that is not technically correct.  The object that `instanceOfClazz` refers to is still and will always remain a `Book`.  It still has and will always have all of the methods of a `Book`.\r\n\r\nBut you do have a point (I think).  You cannot use the `cast` call&#39;s result effectively in the above code because you assigned it to a variable whose type is `Object`.  And you cannot call `Book` methods via a variable / value whose *static* type is `Object`.\r\n\r\nIf instead we had written this:\r\n\r\n       Class&lt;Book&gt; clazz = Book.class;\r\n    \r\n       Object someObject = new Book(...);\r\n       \r\n       if (clazz.isInstance(someObject)) {\r\n          Book book = clazz.cast(someObject);\r\n          // call some `Book` methods.\r\n       }\r\n\r\nNow you can call `Book` methods on `book`.  But the gotcha is that we had to write `Class&lt;Book&gt;` instead of `Class&lt;?&gt;` (or `Class`) to make that work.  So we have ended up wiring the class name `Book` into the code anyway.  Ooops!\r\n\r\nThe fundamental problem is that Java code cannot make regular method calls on an object unless the compiler knows what its type is ... and that it has those methods.  If you want to invoke `Book` methods in cases where the static type of the variable is (say) `Object`, then you have to use reflection to do it.  Something like this:\r\n\r\n      if (clazz.isInstance(someObject)) {\r\n          Method method = clazz.getMethod(&quot;setNosPages&quot;, int.class);\r\n          method.invoke(someObject, 99);\r\n      }\r\n\r\nand deal with the various exceptions that that might throw.\r\n\r\nBasically, you refer to the class and methods by name in the code, or you use reflection.\r\n\r\n----------------------\r\n\r\n&gt; *&quot;I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class.&quot;*\r\n\r\nIt won&#39;t work.   Java is a statically typed language&lt;sup&gt;2&lt;/sup&gt;. Think of another way to solve the problem.  For example, use reflection to assign to the field.\r\n\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - That is ... what the words of your question originally asked!&lt;br&gt;\r\n2 - OK ... that is over-simplifying.&lt;/sup&gt;","title":"How to assign instanceof type to a variable?","body":"<p>The closest to what you originally asked<sup>1</sup> for is something like this:</p>\n<pre><code>   Class&lt;?&gt; clazz = Book.class;\n\n   Object someObject = new Book(...);\n   \n   if (clazz.isInstance(someObject)) {\n      Object instanceOfClazz = clazz.cast(someObject);\n      // ...\n   }\n</code></pre>\n<p>(Note that this Q&amp;A - <a href=\"https://stackoverflow.com/questions/949352\">Is there something like instanceOf(Class&lt;?&gt; c) in Java?</a> - directly answers the question in the your question title.)</p>\n<p>But you objected that the result of the <code>cast</code> call:</p>\n<blockquote>\n<p><em>&quot;would lose all the methods of the <code>Book</code> class&quot;</em>.</p>\n</blockquote>\n<p>First of all that is not technically correct.  The object that <code>instanceOfClazz</code> refers to is still and will always remain a <code>Book</code>.  It still has and will always have all of the methods of a <code>Book</code>.</p>\n<p>But you do have a point (I think).  You cannot use the <code>cast</code> call's result effectively in the above code because you assigned it to a variable whose type is <code>Object</code>.  And you cannot call <code>Book</code> methods via a variable / value whose <em>static</em> type is <code>Object</code>.</p>\n<p>If instead we had written this:</p>\n<pre><code>   Class&lt;Book&gt; clazz = Book.class;\n\n   Object someObject = new Book(...);\n   \n   if (clazz.isInstance(someObject)) {\n      Book book = clazz.cast(someObject);\n      // call some `Book` methods.\n   }\n</code></pre>\n<p>Now you can call <code>Book</code> methods on <code>book</code>.  But the gotcha is that we had to write <code>Class&lt;Book&gt;</code> instead of <code>Class&lt;?&gt;</code> (or <code>Class</code>) to make that work.  So we have ended up wiring the class name <code>Book</code> into the code anyway.  Ooops!</p>\n<p>The fundamental problem is that Java code cannot make regular method calls on an object unless the compiler knows what its type is ... and that it has those methods.  If you want to invoke <code>Book</code> methods in cases where the static type of the variable is (say) <code>Object</code>, then you have to use reflection to do it.  Something like this:</p>\n<pre><code>  if (clazz.isInstance(someObject)) {\n      Method method = clazz.getMethod(&quot;setNosPages&quot;, int.class);\n      method.invoke(someObject, 99);\n  }\n</code></pre>\n<p>and deal with the various exceptions that that might throw.</p>\n<p>Basically, you refer to the class and methods by name in the code, or you use reflection.</p>\n<hr />\n<blockquote>\n<p><em>&quot;I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class.&quot;</em></p>\n</blockquote>\n<p>It won't work.   Java is a statically typed language<sup>2</sup>. Think of another way to solve the problem.  For example, use reflection to assign to the field.</p>\n<hr />\n<p><sup>1 - That is ... what the words of your question originally asked!<br>\n2 - OK ... that is over-simplifying.</sup></p>\n"},{"tags":[],"owner":{"account_id":23873528,"reputation":11,"user_id":17874946,"display_name":"DaveLTC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688054954,"creation_date":1688054954,"answer_id":76582826,"question_id":71408265,"body_markdown":"If you are only going to use it for `instanceOf` i think you should think about using this structure:\r\n\r\n    Object someObject = new Book(...);\r\n    \r\n    if(someObject instanceOf Book book) {\r\n        //use book as variable\r\n        book.read();\r\n    }\r\nTo my knowledge this is called Pattern Matching is is possible in Java 14.","title":"How to assign instanceof type to a variable?","body":"<p>If you are only going to use it for <code>instanceOf</code> i think you should think about using this structure:</p>\n<pre><code>Object someObject = new Book(...);\n\nif(someObject instanceOf Book book) {\n    //use book as variable\n    book.read();\n}\n</code></pre>\n<p>To my knowledge this is called Pattern Matching is is possible in Java 14.</p>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1432,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71411121,"answer_count":2,"score":-1,"last_activity_date":1688054954,"creation_date":1646823615,"question_id":71408265,"body_markdown":"I am wondering if it is possible and how to store a `type` reference into a variable so that it can be later used with the `instanceof` operator.\r\n\r\nFor example\r\n\r\n    Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\r\n    \r\n    BookType bookType = Book;\r\n    \r\n    if(book instanceof bookType){\r\n        // Do something\r\n    }\r\n\r\nInstead of having to hard code it:\r\n\r\n    Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\r\n    \r\n    if(book instanceof Book){\r\n        // Do something\r\n    }\r\n\r\nIs it possible to get the `Book type` from `Book.class` maybe using reflection?\r\n\r\nI did not found much about this topic.\r\n\r\nNote that this is not the same as using\r\n\r\n    Book.class.isInstance(book);\r\n    Object value = Book.class.cast(book);\r\n\r\nbecause I would lose all the methods of the Book class.","title":"How to assign instanceof type to a variable?","body":"<p>I am wondering if it is possible and how to store a <code>type</code> reference into a variable so that it can be later used with the <code>instanceof</code> operator.</p>\n<p>For example</p>\n<pre><code>Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\n\nBookType bookType = Book;\n\nif(book instanceof bookType){\n    // Do something\n}\n</code></pre>\n<p>Instead of having to hard code it:</p>\n<pre><code>Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\n\nif(book instanceof Book){\n    // Do something\n}\n</code></pre>\n<p>Is it possible to get the <code>Book type</code> from <code>Book.class</code> maybe using reflection?</p>\n<p>I did not found much about this topic.</p>\n<p>Note that this is not the same as using</p>\n<pre><code>Book.class.isInstance(book);\nObject value = Book.class.cast(book);\n</code></pre>\n<p>because I would lose all the methods of the Book class.</p>\n"},{"tags":["java","spring-boot","jpa","mapping"],"comments":[{"owner":{"account_id":12835453,"reputation":79,"user_id":9285231,"display_name":"FigureCodeOut"},"score":0,"creation_date":1688610731,"post_id":76576576,"comment_id":135097726,"body_markdown":"Is there any way to bump this?","body":"Is there any way to bump this?"}],"owner":{"account_id":12835453,"reputation":79,"user_id":9285231,"display_name":"FigureCodeOut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688054949,"creation_date":1687984840,"question_id":76576576,"body_markdown":"I have this big json that I am sending and trying to save the data. I am getting all the data. But when I am doing a db query just to even find the data I keep getting the following error:\r\n\r\n\r\n        2023-06-28 14:02:46.408 ERROR 2359 --- [ntContainer#2-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29\r\n        [.2023-06-28 14:02:46,408] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29 \r\n\r\nI used below query to find out what it is complaining for:\r\n\r\n     SELECT C.TABSCHEMA, C.TABNAME, C.COLNAME\r\n     FROM SYSCAT.TABLES AS T,\r\n     SYSCAT.COLUMNS AS C\r\n     WHERE T.TBSPACEID = 18\r\n     AND T.TABLEID = 11\r\n     AND C.COLNO = 1\r\n     AND C.TABSCHEMA = T.TABSCHEMA\r\n     AND C.TABNAME = T.TABNAME\r\n\r\nAnd I get the schema name, table name and property name. \r\n\r\nThe problem is it keep complaining for the mapping:\r\n\r\nHere is sample one :\r\n\r\n     @Entity\r\n     @Table(name=&quot;PROPERTY&quot;)\r\n     @EntityListeners(PropertyListener.class)\r\n     public class Property implements Serializable\r\n     {\r\n\r\n        private Document Document;\r\n\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;DOC_OBJ_ID&quot;, nullable = false)\r\n        @Schema(hidden = true)\r\n        public Document getDocument()\r\n        {\r\n          return document;\r\n        }\r\n        //more elements\r\n       }\r\n\r\nHere is the document class:\r\n\r\n         @Entity\r\n         @EntityListeners(DocumentEntityListener.class)\r\n         @Table(name=&quot;DOCUMENT&quot;)\r\n         @Schema(name = &quot;Document&quot;)\r\n         public class Document {\r\n\r\n           @Expose\r\n           @SerializedName(&quot;property&quot;)\r\n           @Schema(name=&quot;property&quot;)\r\n           private List&lt;Property&gt; propertyList;\r\n\r\n\r\n           @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy =   &quot;Document&quot;,targetEntity = Property.class)\r\n           public List&lt;Property&gt; getPropertyList() {\r\n              return propertyList;\r\n            }\r\n          }\r\n\r\nAm I missing something in mapping that I need to add. \r\n\r\nI have like 20 similar property classes in document. I am getting this error one after another for each one of them if I commented out property.  \r\n\r\nIs there any mapping guide/reference to make sure the mapping is done right?\r\n\r\nWhat else I can try?","title":"Resolve DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29","body":"<p>I have this big json that I am sending and trying to save the data. I am getting all the data. But when I am doing a db query just to even find the data I keep getting the following error:</p>\n<pre><code>    2023-06-28 14:02:46.408 ERROR 2359 --- [ntContainer#2-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29\n    [.2023-06-28 14:02:46,408] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29 \n</code></pre>\n<p>I used below query to find out what it is complaining for:</p>\n<pre><code> SELECT C.TABSCHEMA, C.TABNAME, C.COLNAME\n FROM SYSCAT.TABLES AS T,\n SYSCAT.COLUMNS AS C\n WHERE T.TBSPACEID = 18\n AND T.TABLEID = 11\n AND C.COLNO = 1\n AND C.TABSCHEMA = T.TABSCHEMA\n AND C.TABNAME = T.TABNAME\n</code></pre>\n<p>And I get the schema name, table name and property name.</p>\n<p>The problem is it keep complaining for the mapping:</p>\n<p>Here is sample one :</p>\n<pre><code> @Entity\n @Table(name=&quot;PROPERTY&quot;)\n @EntityListeners(PropertyListener.class)\n public class Property implements Serializable\n {\n\n    private Document Document;\n\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;DOC_OBJ_ID&quot;, nullable = false)\n    @Schema(hidden = true)\n    public Document getDocument()\n    {\n      return document;\n    }\n    //more elements\n   }\n</code></pre>\n<p>Here is the document class:</p>\n<pre><code>     @Entity\n     @EntityListeners(DocumentEntityListener.class)\n     @Table(name=&quot;DOCUMENT&quot;)\n     @Schema(name = &quot;Document&quot;)\n     public class Document {\n\n       @Expose\n       @SerializedName(&quot;property&quot;)\n       @Schema(name=&quot;property&quot;)\n       private List&lt;Property&gt; propertyList;\n\n\n       @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy =   &quot;Document&quot;,targetEntity = Property.class)\n       public List&lt;Property&gt; getPropertyList() {\n          return propertyList;\n        }\n      }\n</code></pre>\n<p>Am I missing something in mapping that I need to add.</p>\n<p>I have like 20 similar property classes in document. I am getting this error one after another for each one of them if I commented out property.</p>\n<p>Is there any mapping guide/reference to make sure the mapping is done right?</p>\n<p>What else I can try?</p>\n"},{"tags":["java","android","android-studio","android-imageview"],"owner":{"account_id":28107176,"reputation":21,"user_id":21475597,"display_name":"Ex0_ _DuS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688054746,"creation_date":1688054746,"question_id":76582794,"body_markdown":"I wanna check the alpha of the ImageView for another function but I don&#39;t now i can do this, also Android Studio outputs an error &quot;No speakable text present&quot;(for @+id/zxcursed).\r\n\r\nI tried to set size or something for ImageView but it didn&#39;t work\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/anime&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/animememe&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/zxcursed&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:onClick=&quot;animation&quot;\r\n        app:srcCompat=&quot;@drawable/zxcursed&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```","title":"How can I check Alpha of the ImageView And What is &quot;No speakable text present&quot;?","body":"<p>I wanna check the alpha of the ImageView for another function but I don't now i can do this, also Android Studio outputs an error &quot;No speakable text present&quot;(for @+id/zxcursed).</p>\n<p>I tried to set size or something for ImageView but it didn't work</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/anime&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/animememe&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/zxcursed&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:onClick=&quot;animation&quot;\n        app:srcCompat=&quot;@drawable/zxcursed&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","authentication","jsp","business-objects"],"comments":[{"owner":{"account_id":45726,"reputation":1746,"user_id":134921,"display_name":"Bryan Cain"},"score":0,"creation_date":1523626249,"post_id":49817101,"comment_id":86650871,"body_markdown":"I cannot fathom why you are hardcoding a username and password instead of just using SSO from active directory or similar.","body":"I cannot fathom why you are hardcoding a username and password instead of just using SSO from active directory or similar."},{"owner":{"account_id":7000382,"reputation":1,"user_id":5366596,"display_name":"Priyabrata"},"score":0,"creation_date":1523629167,"post_id":49817101,"comment_id":86653044,"body_markdown":"@BryanCain Thanks for your response Bryan. Actually I&#39;m doing kind of POC by putting hardcode values for now. Still I won&#39;t be able to run this code. Could you please help me out in this. Thanks again.","body":"@BryanCain Thanks for your response Bryan. Actually I&#39;m doing kind of POC by putting hardcode values for now. Still I won&#39;t be able to run this code. Could you please help me out in this. Thanks again."},{"owner":{"account_id":45726,"reputation":1746,"user_id":134921,"display_name":"Bryan Cain"},"score":0,"creation_date":1523639295,"post_id":49817101,"comment_id":86659407,"body_markdown":"Unfortunately, I don&#39;t have hands on experience with the sort of thing you&#39;re trying to do, so I can&#39;t help.  That&#39;s why I only commented, not answered.   I was trying to point out that perhaps solving this problem isn&#39;t worth the time, since it&#39;s not something you really ought to be doing.","body":"Unfortunately, I don&#39;t have hands on experience with the sort of thing you&#39;re trying to do, so I can&#39;t help.  That&#39;s why I only commented, not answered.   I was trying to point out that perhaps solving this problem isn&#39;t worth the time, since it&#39;s not something you really ought to be doing."}],"owner":{"account_id":7000382,"reputation":1,"user_id":5366596,"display_name":"Priyabrata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688054676,"creation_date":1523622805,"question_id":49817101,"body_markdown":"I&#39;m using `custom.jsp` in order to avoid the login screen and load the home screen directly, but still it&#39;s asking for login credentials after restarting the tomcat. The path of the `custom.jsp` file is &quot;`SAP BusinessObjects\\tomcat\\webapps\\BOE\\WEB-INF\\eclipse\\plugins\\webpath.InfoView\\web`&quot;.\r\n\r\nI don&#39;t know what I&#39;m missing here and I&#39;m new to this. Below is my jsp code. Thanks.\r\n\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.exception.SDKException&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.framework.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.infostore.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.security.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.net.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.enterprise.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.plugin.admin.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.sql.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.businessobjects.webutil.Encoder&quot; %&gt;\r\n\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    \r\n   \r\n    &lt;%\r\n\r\n    IEnterpriseSession enterpriseSession;\r\n\r\n\r\n    final String BO_CMS_NAME = &quot;BI98svr&quot;;\r\n    final String BO_AUTH_TYPE = &quot;secEnterprise&quot;;\r\n    final String BO_USERNAME = &quot;user121&quot;;\r\n    final String BO_PASSWORD = &quot;pass121&quot;;\r\n    ILogonTokenMgr logonTokenMgr;\r\n    String defaultToken = &quot;&quot;;\r\n\r\n\r\n    boolean loggedIn = true;\r\n    try {\r\n\r\n    enterpriseSession =\r\n    CrystalEnterprise.getSessionMgr().logon(BO_USERNAME,BO_PASSWORD, \r\n    BO_CMS_NAME,BO_AUTH_TYPE);\r\n    logonTokenMgr = enterpriseSession.getLogonTokenMgr();\r\n    defaultToken = logonTokenMgr.createWCAToken(&quot;&quot;, 20, 1);\r\n\r\n\r\n    response.sendRedirect(&quot;http://&quot;+BO_CMS_NAME+&quot;:8080/BOE/BI/logon/start.do?ivsLogonToken=&quot;+Encoder.encodeURL(defaultToken));\r\n\r\n\r\n    }\r\n    catch (Exception error)\r\n    {\r\n    loggedIn = false;\r\n    out.println(error);\r\n    }\r\n    %&gt;\r\n    \r\n    \r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"SAP BO login using custom.jsp","body":"<p>I'm using <code>custom.jsp</code> in order to avoid the login screen and load the home screen directly, but still it's asking for login credentials after restarting the tomcat. The path of the <code>custom.jsp</code> file is &quot;<code>SAP BusinessObjects\\tomcat\\webapps\\BOE\\WEB-INF\\eclipse\\plugins\\webpath.InfoView\\web</code>&quot;.</p>\n<p>I don't know what I'm missing here and I'm new to this. Below is my jsp code. Thanks.</p>\n<pre><code>&lt;%@ page import=&quot;com.crystaldecisions.sdk.exception.SDKException&quot; %&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.framework.*&quot; %&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.infostore.*&quot; %&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.security.*&quot;%&gt;\n&lt;%@ page import=&quot;java.net.*&quot;%&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.enterprise.*&quot;%&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.plugin.admin.*&quot;%&gt;\n&lt;%@ page import=&quot;java.sql.*&quot;%&gt;\n&lt;%@ page import=&quot;com.businessobjects.webutil.Encoder&quot; %&gt;\n\n\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\npageEncoding=&quot;ISO-8859-1&quot;%&gt;\n\n\n&lt;%\n\nIEnterpriseSession enterpriseSession;\n\n\nfinal String BO_CMS_NAME = &quot;BI98svr&quot;;\nfinal String BO_AUTH_TYPE = &quot;secEnterprise&quot;;\nfinal String BO_USERNAME = &quot;user121&quot;;\nfinal String BO_PASSWORD = &quot;pass121&quot;;\nILogonTokenMgr logonTokenMgr;\nString defaultToken = &quot;&quot;;\n\n\nboolean loggedIn = true;\ntry {\n\nenterpriseSession =\nCrystalEnterprise.getSessionMgr().logon(BO_USERNAME,BO_PASSWORD, \nBO_CMS_NAME,BO_AUTH_TYPE);\nlogonTokenMgr = enterpriseSession.getLogonTokenMgr();\ndefaultToken = logonTokenMgr.createWCAToken(&quot;&quot;, 20, 1);\n\n\nresponse.sendRedirect(&quot;http://&quot;+BO_CMS_NAME+&quot;:8080/BOE/BI/logon/start.do?ivsLogonToken=&quot;+Encoder.encodeURL(defaultToken));\n\n\n}\ncatch (Exception error)\n{\nloggedIn = false;\nout.println(error);\n}\n%&gt;\n\n\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","oracle","sdk","business-objects"],"answers":[{"tags":[],"owner":{"account_id":15658995,"reputation":53,"user_id":11298362,"display_name":"Lo0fah"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1566998815,"creation_date":1566994622,"answer_id":57692236,"question_id":56312276,"body_markdown":"Easiest way to retrieve metadata from the BO Server is to use CMS queries. You can use CMS queries with the REST API.\r\n\r\nA simple example to retrieve metadata from your universes in your cms:\r\n\r\n - **API URL**: http://host:port/biprws/v1/cmsquery\r\n - **HTTP Method**: GET\r\n - **Data Formats**: Application/JSON, Application/XML\r\n - **Headers**: x-sap-logontoken (you can retrieve a logontoken via the rest api as well)\r\n\r\nif you use json use following request body:\r\n\r\n{\r\n query:&quot;select * FROM CI_APPOBJECTS WHERE SI_KIND=&#39;Universe&#39; order by SI_NAME asc&quot;\r\n}\r\n\r\nThis blog is a good place to start:\r\nhttps://blogs.sap.com/2017/05/10/query-the-businessobjects-repository-using-bi-platform-rest-sdk-rws/","title":"How to get universe, classes, objects, report names, report fields from SAP BO using Java","body":"<p>Easiest way to retrieve metadata from the BO Server is to use CMS queries. You can use CMS queries with the REST API.</p>\n\n<p>A simple example to retrieve metadata from your universes in your cms:</p>\n\n<ul>\n<li><strong>API URL</strong>: <a href=\"http://host:port/biprws/v1/cmsquery\" rel=\"nofollow noreferrer\">http://host:port/biprws/v1/cmsquery</a></li>\n<li><strong>HTTP Method</strong>: GET</li>\n<li><strong>Data Formats</strong>: Application/JSON, Application/XML</li>\n<li><strong>Headers</strong>: x-sap-logontoken (you can retrieve a logontoken via the rest api as well)</li>\n</ul>\n\n<p>if you use json use following request body:</p>\n\n<p>{\n query:\"select * FROM CI_APPOBJECTS WHERE SI_KIND='Universe' order by SI_NAME asc\"\n}</p>\n\n<p>This blog is a good place to start:\n<a href=\"https://blogs.sap.com/2017/05/10/query-the-businessobjects-repository-using-bi-platform-rest-sdk-rws/\" rel=\"nofollow noreferrer\">https://blogs.sap.com/2017/05/10/query-the-businessobjects-repository-using-bi-platform-rest-sdk-rws/</a></p>\n"}],"owner":{"account_id":2304775,"reputation":89,"user_id":2024255,"display_name":"Rajendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1705,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688054638,"creation_date":1558862915,"question_id":56312276,"body_markdown":"I am able to connect SAP BO server via java (SDK) after this I don&#39;t know queries to get all BO Metadata (universe name, classes, objects, report names, report columns, report variables separately like oracle) as I need store all BO metadata into my local database (MySQL) from BO server.\r\n\r\nMy expected output would be that how retrieve all BO Metadata in tabular form like SQL tables.\r\n\r\nI am new to SAP BO. I was stuck on this. Please suggest any one on this. All leads are appreciable.  \r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n          IEnterpriseSession enterpriseSession = null;\r\n          try {\r\n             // Establish connection\r\n             System.out.println(&quot;Connecting...&quot;);\r\n             IEnterpriseSession enterpriseSession = sessionMgr.logon(user, pass, host, auth);\r\n             IInfoStore infoStore =(IInfoStore)enterpriseSession.getService(&quot;InfoStore&quot;);\r\n    }\r\n","title":"How to get universe, classes, objects, report names, report fields from SAP BO using Java","body":"<p>I am able to connect SAP BO server via java (SDK) after this I don't know queries to get all BO Metadata (universe name, classes, objects, report names, report columns, report variables separately like oracle) as I need store all BO metadata into my local database (MySQL) from BO server.</p>\n<p>My expected output would be that how retrieve all BO Metadata in tabular form like SQL tables.</p>\n<p>I am new to SAP BO. I was stuck on this. Please suggest any one on this. All leads are appreciable.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n      IEnterpriseSession enterpriseSession = null;\n      try {\n         // Establish connection\n         System.out.println(&quot;Connecting...&quot;);\n         IEnterpriseSession enterpriseSession = sessionMgr.logon(user, pass, host, auth);\n         IInfoStore infoStore =(IInfoStore)enterpriseSession.getService(&quot;InfoStore&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logback","spring-logback"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688056854,"post_id":76582600,"comment_id":135025884,"body_markdown":"Can you share an example `logback-spring.xml` file that shows how you&#39;re using the properties and an example `external.properties` file that shows how you&#39;re defining them? A [complete, minimal example](/help/mcve) would be ideal.","body":"Can you share an example <code>logback-spring.xml</code> file that shows how you&#39;re using the properties and an example <code>external.properties</code> file that shows how you&#39;re defining them? A <a href=\"/help/mcve\">complete, minimal example</a> would be ideal."},{"owner":{"account_id":1317274,"reputation":1240,"user_id":1263867,"accept_rate":100,"display_name":"Koos Gadellaa"},"score":0,"creation_date":1688109119,"post_id":76582600,"comment_id":135032343,"body_markdown":"I&#39;m guessing you&#39;re using the `variable file=...` syntax in your logback.xml\nOr are you using the `&lt;springProperty` method instead?\nAnd are your external.properties not loaded *at all* or are they only not loaded in logback? (a simple check would be to have a logback without properties and see if your application starts up properly)","body":"I&#39;m guessing you&#39;re using the <code>variable file=...</code> syntax in your logback.xml Or are you using the <code>&lt;springProperty</code> method instead? And are your external.properties not loaded <i>at all</i> or are they only not loaded in logback? (a simple check would be to have a logback without properties and see if your application starts up properly)"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688053665,"creation_date":1688053665,"answer_id":76582661,"question_id":76582600,"body_markdown":"The logback initialization occurs pretty early in the startup process, even before the Spring environment is completely set up, so any properties loaded by Spring Boot from your external file aren&#39;t available at the time logback is being initialized. Some steps to try in your case:\r\n1. Rename your logback-spring.xml to logback.xml, and add the following to your `application.properties`\r\n```properties\r\nlogging.config=classpath:logback.xml\r\n```\r\n2. Add the same `logging.config` property to your `external.properties` file and point it to the `logback.xml` file\r\n```properties\r\nlogging.config=file:/path/to/logback.xml\r\n```\r\n3. Run application\r\n```bash\r\njava -jar myapplication.jar --spring.config.location=classpath:/application.properties,file:/path/to/external.properties\r\n```","title":"logback-spring in java .jar is unable to read property from external properties","body":"<p>The logback initialization occurs pretty early in the startup process, even before the Spring environment is completely set up, so any properties loaded by Spring Boot from your external file aren't available at the time logback is being initialized. Some steps to try in your case:</p>\n<ol>\n<li>Rename your logback-spring.xml to logback.xml, and add the following to your <code>application.properties</code></li>\n</ol>\n<pre><code>logging.config=classpath:logback.xml\n</code></pre>\n<ol start=\"2\">\n<li>Add the same <code>logging.config</code> property to your <code>external.properties</code> file and point it to the <code>logback.xml</code> file</li>\n</ol>\n<pre><code>logging.config=file:/path/to/logback.xml\n</code></pre>\n<ol start=\"3\">\n<li>Run application</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar myapplication.jar --spring.config.location=classpath:/application.properties,file:/path/to/external.properties\n</code></pre>\n"}],"owner":{"account_id":17348048,"reputation":211,"user_id":12567170,"display_name":"programmer123456"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688053665,"creation_date":1688053133,"question_id":76582600,"body_markdown":"I have developed an application that is compiled into a .jar file. Now, I want to execute the application while utilizing certain properties included within the .jar file, as well as additional external properties.\r\n\r\nTo begin with, the .jar file contains an &quot;application.properties&quot; file internally. Subsequently, I intend to run the application by incorporating the &quot;external.properties&quot; file.\r\n\r\nHowever, I am encountering an issue where my &quot;logback-spring.xml&quot; file fails to recognize any of the properties. I have attempted to address this problem by executing the following command:\r\n\r\n\r\n    java -jar myapplication.jar -Dspring.config.location=classpath:/application.properties,file:external.properties\r\n\r\nIt appears that the &quot;external.properties&quot; are being loaded too late for the &quot;logback-spring.xml&quot; file to access. Is there a potential solution to this issue?","title":"logback-spring in java .jar is unable to read property from external properties","body":"<p>I have developed an application that is compiled into a .jar file. Now, I want to execute the application while utilizing certain properties included within the .jar file, as well as additional external properties.</p>\n<p>To begin with, the .jar file contains an &quot;application.properties&quot; file internally. Subsequently, I intend to run the application by incorporating the &quot;external.properties&quot; file.</p>\n<p>However, I am encountering an issue where my &quot;logback-spring.xml&quot; file fails to recognize any of the properties. I have attempted to address this problem by executing the following command:</p>\n<pre><code>java -jar myapplication.jar -Dspring.config.location=classpath:/application.properties,file:external.properties\n</code></pre>\n<p>It appears that the &quot;external.properties&quot; are being loaded too late for the &quot;logback-spring.xml&quot; file to access. Is there a potential solution to this issue?</p>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688050731,"post_id":76582234,"comment_id":135024546,"body_markdown":"In theory, simple `annotation.annotationType().getSimpleName()` prints you &quot;StringDomain&quot; in that case","body":"In theory, simple <code>annotation.annotationType().getSimpleName()</code> prints you &quot;StringDomain&quot; in that case"},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1688051098,"post_id":76582234,"comment_id":135024625,"body_markdown":"`annotation.annotationType().getSimpleName()` is printing `BaseDomain`","body":"<code>annotation.annotationType().getSimpleName()</code> is printing <code>BaseDomain</code>"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688051447,"post_id":76582234,"comment_id":135024699,"body_markdown":"Yeah, you can&#39;t directly use `AnnotationUtils.findAnnotation(field, BaseDomain.class)` since it is looking specifically for the `@BaseDomain`, so you may need to find all (!) annotations of the field and then check if any of those annotations themselves are annotated with `@BaseDomain` instead. Let me know if it&#39;s clear enough, or it&#39;s better to provide a snippet","body":"Yeah, you can&#39;t directly use <code>AnnotationUtils.findAnnotation(field, BaseDomain.class)</code> since it is looking specifically for the <code>@BaseDomain</code>, so you may need to find all (!) annotations of the field and then check if any of those annotations themselves are annotated with <code>@BaseDomain</code> instead. Let me know if it&#39;s clear enough, or it&#39;s better to provide a snippet"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689158483,"post_id":76582234,"comment_id":135172823,"body_markdown":"@bobbyrne01 Have you resolved your issue?","body":"@bobbyrne01 Have you resolved your issue?"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688052786,"creation_date":1688051992,"answer_id":76582443,"question_id":76582234,"body_markdown":"&lt;h3&gt;Before Spring 5.2&lt;/h3&gt;\r\n\r\nYou can use the `getAnnotations` method to find all non-meta present on the supplied element.\r\n\r\nEither get all direct annotations:\r\n\r\n```java\r\nvar field = ItemDto.class.getField(&quot;text&quot;);\r\nvar annotation = AnnotationUtils.getAnnotations(field)[0];\r\n\r\nSystem.out.println(annotation.annotationType().getSimpleName());\r\n```\r\n&gt; ```\r\n&gt; StringDomain\r\n&gt; ```\r\n\r\nHowever, this method is deprecated as of 5.2\r\n\r\n&lt;h3&gt;Spring 5.2 and newer&lt;/h3&gt;\r\n\r\nThe replacement for the deprecated method is MergedAnnotations API ([source][1]). \r\n\r\n```java\r\nvar field = ItemDto.class.getField(&quot;text&quot;);\r\nMergedAnnotations.from(field)\r\n        .stream()\r\n        .filter(a -&gt; a.getType().isAssignableFrom(StringDomain.class))\r\n        .findFirst()\r\n        .ifPresent(a -&gt; System.out.println(a.getType().getSimpleName()));\r\n\r\nSystem.out.println(annotations);\r\n```\r\n&gt; ```\r\n&gt; StringDomain\r\n&gt; ```\r\n\r\nOr check whether the particular one is present:\r\n\r\n```java\r\nvar field = ItemDto.class.getField(&quot;text&quot;);\r\nvar hasStringDomain = MergedAnnotations.from(field)\r\n    .isDirectlyPresent(StringDomain.class);\r\n\r\nSystem.out.println(hasStringDomain);\r\n```\r\n&gt; ```\r\n&gt; true\r\n&gt; ```\r\n\r\n\r\n  [1]: http://www.java2s.com/example/java-src/pkg/org/springframework/core/annotation/annotationutils-1c465.html","title":"Trying to find composite annotation by searching for one of its base annotations","body":"<h3>Before Spring 5.2</h3>\n<p>You can use the <code>getAnnotations</code> method to find all non-meta present on the supplied element.</p>\n<p>Either get all direct annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = ItemDto.class.getField(&quot;text&quot;);\nvar annotation = AnnotationUtils.getAnnotations(field)[0];\n\nSystem.out.println(annotation.annotationType().getSimpleName());\n</code></pre>\n<blockquote>\n<pre><code>StringDomain\n</code></pre>\n</blockquote>\n<p>However, this method is deprecated as of 5.2</p>\n<h3>Spring 5.2 and newer</h3>\n<p>The replacement for the deprecated method is MergedAnnotations API (<a href=\"http://www.java2s.com/example/java-src/pkg/org/springframework/core/annotation/annotationutils-1c465.html\" rel=\"nofollow noreferrer\">source</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = ItemDto.class.getField(&quot;text&quot;);\nMergedAnnotations.from(field)\n        .stream()\n        .filter(a -&gt; a.getType().isAssignableFrom(StringDomain.class))\n        .findFirst()\n        .ifPresent(a -&gt; System.out.println(a.getType().getSimpleName()));\n\nSystem.out.println(annotations);\n</code></pre>\n<blockquote>\n<pre><code>StringDomain\n</code></pre>\n</blockquote>\n<p>Or check whether the particular one is present:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = ItemDto.class.getField(&quot;text&quot;);\nvar hasStringDomain = MergedAnnotations.from(field)\n    .isDirectlyPresent(StringDomain.class);\n\nSystem.out.println(hasStringDomain);\n</code></pre>\n<blockquote>\n<pre><code>true\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16855187,"reputation":11,"user_id":12187211,"display_name":"Ishraq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688052324,"creation_date":1688052324,"answer_id":76582493,"question_id":76582234,"body_markdown":"In the given scenario, since the BaseDomain annotation is used as a meta-annotation (annotation on another annotation), you can determine if the returned BaseDomain annotation is part of StringDomain by checking if the field&#39;s annotation type is annotated with StringDomain. Here&#39;s how you can achieve this:\r\n\r\n    final BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\r\n\r\n    if (annotation != null) {\r\n    Annotation[] annotations = annotation.annotationType().getAnnotations();\r\n\r\n    for (Annotation ann : annotations) {\r\n        if (ann.annotationType() == StringDomain.class) {\r\n            // The returned BaseDomain is part of StringDomain\r\n            // Perform the desired processing for StringDomain annotation\r\n            // ...\r\n            break;\r\n        }\r\n    }\r\n}","title":"Trying to find composite annotation by searching for one of its base annotations","body":"<p>In the given scenario, since the BaseDomain annotation is used as a meta-annotation (annotation on another annotation), you can determine if the returned BaseDomain annotation is part of StringDomain by checking if the field's annotation type is annotated with StringDomain. Here's how you can achieve this:</p>\n<pre><code>final BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\n\nif (annotation != null) {\nAnnotation[] annotations = annotation.annotationType().getAnnotations();\n\nfor (Annotation ann : annotations) {\n    if (ann.annotationType() == StringDomain.class) {\n        // The returned BaseDomain is part of StringDomain\n        // Perform the desired processing for StringDomain annotation\n        // ...\n        break;\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688052832,"creation_date":1688050500,"question_id":76582234,"body_markdown":"I&#39;m writing a Java framework that allows consumers to write POJOs with custom annotations. The framework will cater to processing depending on the annotation type declared for each field.\r\n\r\nIn the framework I&#39;ve created a base domain annotation:\r\n\r\n```java\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\r\npublic @interface BaseDomain {}\r\n```\r\n\r\nAnd then `StringDomain.java` and `FloatDomain.java` which are annotated with `@BaseDomain`:\r\n```java\r\n@BaseDomain\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\r\npublic @interface StringDomain {}\r\n```\r\n\r\n```java\r\n@BaseDomain\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\r\npublic @interface FloatDomain {}\r\n```\r\n\r\nConsumers of the framework will be allowed to write their own annotations as long as those new annotation interfaces are themselves annotated by `@BaseDomain`, similar to `FloatDomain` and `StringDomain`. \r\n\r\nFor instance, a consumer could create an annotation named `Username` which has `StringDomain` as a &quot;parent&quot;.\r\n\r\nSample of a consumer&#39;s POJO:\r\n\r\n```java\r\npublic class ItemDTO {\r\n\r\n  @StringDomain\r\n  public String text;\r\n\r\n}\r\n```\r\n\r\nInside the framework I can find `BaseDomain` annotations present on the field using:\r\n\r\n```java\r\nimport org.springframework.core.annotation.AnnotationUtils;\r\n\r\nfinal BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\r\n```\r\n\r\nBut how can I determine that the returned `BaseDomain` is was actually part of `StringDomain`?\r\n\r\nIn normal inheritance I could get `BaseDomain` and check its type to know that its an instance of `StringDomain`.\r\n\r\n```java\r\nSystem.out.println(annotation.annotationType().getSimpleName());\r\nBaseDomain\r\n```","title":"Trying to find composite annotation by searching for one of its base annotations","body":"<p>I'm writing a Java framework that allows consumers to write POJOs with custom annotations. The framework will cater to processing depending on the annotation type declared for each field.</p>\n<p>In the framework I've created a base domain annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\npublic @interface BaseDomain {}\n</code></pre>\n<p>And then <code>StringDomain.java</code> and <code>FloatDomain.java</code> which are annotated with <code>@BaseDomain</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BaseDomain\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\npublic @interface StringDomain {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@BaseDomain\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\npublic @interface FloatDomain {}\n</code></pre>\n<p>Consumers of the framework will be allowed to write their own annotations as long as those new annotation interfaces are themselves annotated by <code>@BaseDomain</code>, similar to <code>FloatDomain</code> and <code>StringDomain</code>.</p>\n<p>For instance, a consumer could create an annotation named <code>Username</code> which has <code>StringDomain</code> as a &quot;parent&quot;.</p>\n<p>Sample of a consumer's POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemDTO {\n\n  @StringDomain\n  public String text;\n\n}\n</code></pre>\n<p>Inside the framework I can find <code>BaseDomain</code> annotations present on the field using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.core.annotation.AnnotationUtils;\n\nfinal BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\n</code></pre>\n<p>But how can I determine that the returned <code>BaseDomain</code> is was actually part of <code>StringDomain</code>?</p>\n<p>In normal inheritance I could get <code>BaseDomain</code> and check its type to know that its an instance of <code>StringDomain</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(annotation.annotationType().getSimpleName());\nBaseDomain\n</code></pre>\n"},{"tags":["java","spring-boot","trace","opentracing","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":1114420,"reputation":726,"user_id":1104124,"display_name":"brunocrt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688052676,"creation_date":1657581020,"answer_id":72945507,"question_id":71154186,"body_markdown":"First of all, Spring uses **Spring Cloud Sleuth** project for implementing distributed tracing and you need to add it to your project before configuring open telemetry. By default, Spring Cloud Sleuth uses **OpenZipkin Brave**, which is different from OpenTelemetry (Otel) implementation. \r\n\r\nTo configure your project to use **OpenTelemetry** you need to decide if you will go with auto-instrumentation which is more straightforward (using agents on not) or with manual instrumentation, with gives you more flexibility.\r\n\r\nWith auto-instrumentation, you can use the java agent with some properties like the example below\r\n\r\n    java -javaagent:opentelemetry-java-agent-all.jar -Dotel.exporter.otlp.traces.endpoint=http://yourTraceServerEndpointUrl yourApp.jar \r\n\r\nto your app execution script (ie. Dockerfile). More info on https://github.com/open-telemetry/opentelemetry-java-instrumentation\r\n\r\nor change your **pom.xml** and configure an exporter backend in your **application.yaml** and it will automatically generate and export the traces for you.\r\n\r\napplication.yaml\r\n\r\n    spring.sleuth.otel.exporter.otlp.endpoint=[URL TO YOUR OTEL BACKEND]\r\n*you can send the traces to zipkin, grafana tempo and etc..*\r\n\r\npom.xml\r\n&lt;!-- begin snippet: xml hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;spring-cloud.version&gt;2021.0.0-M2&lt;/spring-cloud.version&gt;\r\n      &lt;spring-cloud-sleuth-otel.version&gt;1.1.0-M3&lt;/spring-cloud-sleuth-otel.version&gt;\r\n      &lt;opentelemetry-exporter-otlp&gt;1.7.0&lt;/opentelemetry-exporter-otlp&gt;\r\n      &lt;grpc-netty-shaded&gt;1.41.0&lt;/grpc-netty-shaded&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Spring Cloud Sleuth OTel requires a Spring Cloud Sleuth OTel BOM --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring-cloud-sleuth-otel.version}&lt;/version&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;!-- Sleuth with Brave tracer implementation --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;!-- Exclude Brave (the default) --&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Add OpenTelemetry tracer --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.opentelemetry/opentelemetry-exporter-otlp --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n      &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\r\n      &lt;version&gt;${opentelemetry-exporter-otlp}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-netty --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n      &lt;version&gt;${grpc-netty-shaded}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n        &lt;snapshots&gt;\r\n          &lt;enabled&gt;true&lt;/enabled&gt;\r\n        &lt;/snapshots&gt;\r\n      &lt;/repository&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;spring-milestones&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n      &lt;pluginRepository&gt;\r\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n      &lt;/pluginRepository&gt;\r\n      &lt;pluginRepository&gt;\r\n        &lt;id&gt;spring-milestones&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n      &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMore references\r\n\r\n - https://github.com/open-telemetry/opentelemetry-java-instrumentation\r\n - https://opentelemetry.io/docs/instrumentation/java/\r\n - https://github.com/spring-projects-experimental/spring-cloud-sleuth-otel\r\n","title":"Adding Tracer beans in Spring Boot with OpenTelemetry","body":"<p>First of all, Spring uses <strong>Spring Cloud Sleuth</strong> project for implementing distributed tracing and you need to add it to your project before configuring open telemetry. By default, Spring Cloud Sleuth uses <strong>OpenZipkin Brave</strong>, which is different from OpenTelemetry (Otel) implementation.</p>\n<p>To configure your project to use <strong>OpenTelemetry</strong> you need to decide if you will go with auto-instrumentation which is more straightforward (using agents on not) or with manual instrumentation, with gives you more flexibility.</p>\n<p>With auto-instrumentation, you can use the java agent with some properties like the example below</p>\n<pre><code>java -javaagent:opentelemetry-java-agent-all.jar -Dotel.exporter.otlp.traces.endpoint=http://yourTraceServerEndpointUrl yourApp.jar \n</code></pre>\n<p>to your app execution script (ie. Dockerfile). More info on <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation</a></p>\n<p>or change your <strong>pom.xml</strong> and configure an exporter backend in your <strong>application.yaml</strong> and it will automatically generate and export the traces for you.</p>\n<p>application.yaml</p>\n<pre><code>spring.sleuth.otel.exporter.otlp.endpoint=[URL TO YOUR OTEL BACKEND]\n</code></pre>\n<p><em>you can send the traces to zipkin, grafana tempo and etc..</em></p>\n<p>pom.xml\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;properties&gt;\n  &lt;spring-cloud.version&gt;2021.0.0-M2&lt;/spring-cloud.version&gt;\n  &lt;spring-cloud-sleuth-otel.version&gt;1.1.0-M3&lt;/spring-cloud-sleuth-otel.version&gt;\n  &lt;opentelemetry-exporter-otlp&gt;1.7.0&lt;/opentelemetry-exporter-otlp&gt;\n  &lt;grpc-netty-shaded&gt;1.41.0&lt;/grpc-netty-shaded&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Cloud Sleuth OTel requires a Spring Cloud Sleuth OTel BOM --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;${spring-cloud-sleuth-otel.version}&lt;/version&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;!-- Sleuth with Brave tracer implementation --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;!-- Exclude Brave (the default) --&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;!-- Add OpenTelemetry tracer --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.opentelemetry/opentelemetry-exporter-otlp --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n  &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\n  &lt;version&gt;${opentelemetry-exporter-otlp}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-netty --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n  &lt;version&gt;${grpc-netty-shaded}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;spring-snapshots&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n    &lt;snapshots&gt;\n      &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n  &lt;/repository&gt;\n  &lt;repository&gt;\n    &lt;id&gt;spring-milestones&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n  &lt;pluginRepository&gt;\n    &lt;id&gt;spring-snapshots&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n  &lt;/pluginRepository&gt;\n  &lt;pluginRepository&gt;\n    &lt;id&gt;spring-milestones&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n  &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>More references</p>\n<ul>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation</a></li>\n<li><a href=\"https://opentelemetry.io/docs/instrumentation/java/\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/</a></li>\n<li><a href=\"https://github.com/spring-projects-experimental/spring-cloud-sleuth-otel\" rel=\"nofollow noreferrer\">https://github.com/spring-projects-experimental/spring-cloud-sleuth-otel</a></li>\n</ul>\n"}],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688052676,"creation_date":1645084025,"question_id":71154186,"body_markdown":"Context:\r\nI have to rewrite a parent library from Java EE to a more modern one in Spring Boot. For example, it has got some deprecated dependencies and CDI parts, Microprofiles that are not Spring compatible.\r\n\r\nProblem:\r\nI have hardly used OpenTelemetry and OpenTracing. I understand only the high-level concepts but I have never coded such things. I have trouble rewriting a part that involves OpenTracing. I know OpenTracing is deprecated and I should use OpenTelemetry. There is a dependency called &#39;[Tracer Resolver][1]&#39;.\r\n\r\nIts description from Github: *Resolver API for OpenTracing Tracer implementations. NOTE: The Tracer Resolver mechanism is only intended to be used at application startup/initialization time. This responsibility should be handled by the application, possibly using some runtime-specific support (e.g. providing a Tracer @Bean in Spring Boot, or a CDI producer). Framework integrations used to instrument-specific technologies should not use this library, but should allow a Tracer to be injected instead, with fallback to the GlobalTracer.*\r\n\r\nIn the code the only OpenTracing dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opentracing-tracerresolver&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I found the usage in the code as:\r\n\r\n    @ApplicationScoped\r\n    public class OpenTraceResolver {\r\n    \r\n        @Inject\r\n        private Instance&lt;Tracer&gt; tracerInstance;\r\n    \r\n    ...\r\n\r\nor\r\n\r\n    @Provider\r\n    public class OpenTraceErrorResponseFilter implements ContainerResponseFilter {\r\n    \r\n        @Inject\r\n        private Tracer configuredTracer;\r\n    \r\n    ...\r\n\r\nHow should I do the same with OpenTelemetry? Is there a way to use it in such a simple way?\r\n\r\nThank you for your help! \r\n\r\n  [1]: https://github.com/opentracing-contrib/java-tracerresolver","title":"Adding Tracer beans in Spring Boot with OpenTelemetry","body":"<p>Context:\nI have to rewrite a parent library from Java EE to a more modern one in Spring Boot. For example, it has got some deprecated dependencies and CDI parts, Microprofiles that are not Spring compatible.</p>\n<p>Problem:\nI have hardly used OpenTelemetry and OpenTracing. I understand only the high-level concepts but I have never coded such things. I have trouble rewriting a part that involves OpenTracing. I know OpenTracing is deprecated and I should use OpenTelemetry. There is a dependency called '<a href=\"https://github.com/opentracing-contrib/java-tracerresolver\" rel=\"nofollow noreferrer\">Tracer Resolver</a>'.</p>\n<p>Its description from Github: <em>Resolver API for OpenTracing Tracer implementations. NOTE: The Tracer Resolver mechanism is only intended to be used at application startup/initialization time. This responsibility should be handled by the application, possibly using some runtime-specific support (e.g. providing a Tracer @Bean in Spring Boot, or a CDI producer). Framework integrations used to instrument-specific technologies should not use this library, but should allow a Tracer to be injected instead, with fallback to the GlobalTracer.</em></p>\n<p>In the code the only OpenTracing dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;opentracing-tracerresolver&lt;/artifactId&gt;\n    &lt;version&gt;0.1.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I found the usage in the code as:</p>\n<pre><code>@ApplicationScoped\npublic class OpenTraceResolver {\n\n    @Inject\n    private Instance&lt;Tracer&gt; tracerInstance;\n\n...\n</code></pre>\n<p>or</p>\n<pre><code>@Provider\npublic class OpenTraceErrorResponseFilter implements ContainerResponseFilter {\n\n    @Inject\n    private Tracer configuredTracer;\n\n...\n</code></pre>\n<p>How should I do the same with OpenTelemetry? Is there a way to use it in such a simple way?</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","android","noclassdeffounderror"],"comments":[{"owner":{"account_id":9911981,"reputation":326,"user_id":7338350,"display_name":"Vishu"},"score":0,"creation_date":1526461173,"post_id":50365863,"comment_id":87749157,"body_markdown":"this may be multidex problem. Can you try 2ed solution from https://developer.android.com/studio/build/multidex.","body":"this may be multidex problem. Can you try 2ed solution from <a href=\"https://developer.android.com/studio/build/multidex\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/multidex</a>."},{"owner":{"account_id":3444631,"reputation":8971,"user_id":3872976,"accept_rate":85,"display_name":"deathangel908"},"score":0,"creation_date":1526464638,"post_id":50365863,"comment_id":87751655,"body_markdown":"I didn&#39;t read all of your post, what happens if you remove proguard? Does exception still occur? Do other classes from that lib (within the same package) present at runtime?)","body":"I didn&#39;t read all of your post, what happens if you remove proguard? Does exception still occur? Do other classes from that lib (within the same package) present at runtime?)"},{"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"score":0,"creation_date":1526472140,"post_id":50365863,"comment_id":87756631,"body_markdown":"@Vishu I added multidex but it doesnt work :/","body":"@Vishu I added multidex but it doesnt work :/"},{"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"score":0,"creation_date":1526472225,"post_id":50365863,"comment_id":87756705,"body_markdown":"@deathangel908 I removed the line `proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;` but it doesn&#39;t work","body":"@deathangel908 I removed the line <code>proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;</code> but it doesn&#39;t work"},{"owner":{"account_id":3444631,"reputation":8971,"user_id":3872976,"accept_rate":85,"display_name":"deathangel908"},"score":0,"creation_date":1526479197,"post_id":50365863,"comment_id":87761853,"body_markdown":"You have some conflicting libs in the projects, check `./gradlew app:dependencies`","body":"You have some conflicting libs in the projects, check <code>.&#47;gradlew app:dependencies</code>"},{"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"score":0,"creation_date":1528881059,"post_id":50365863,"comment_id":88670498,"body_markdown":"@deathangel908 I did it and the build was successful with 1 actionable task which was executed","body":"@deathangel908 I did it and the build was successful with 1 actionable task which was executed"}],"answers":[{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541352362,"creation_date":1541352362,"answer_id":53143446,"question_id":50365863,"body_markdown":"I had same problem, so be sure for class which is extending application to have below :\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(base);\r\n        MultiDex.install(this);\r\n    }\r\nOtherwise you need to make clean - rebuild.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>I had same problem, so be sure for class which is extending application to have below :</p>\n\n<pre><code>@Override\nprotected void attachBaseContext(Context base) {\n    super.attachBaseContext(base);\n    MultiDex.install(this);\n}\n</code></pre>\n\n<p>Otherwise you need to make clean - rebuild.</p>\n"},{"tags":[],"owner":{"account_id":4471460,"reputation":2059,"user_id":3808828,"accept_rate":73,"display_name":"Selali Adobor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570671959,"creation_date":1570671959,"answer_id":58314338,"question_id":50365863,"body_markdown":"Just ran into this due to `realm-db`\r\n\r\nIt was on an alpha build of gradle and a few other project-specific circumstances (AndroidX, Kotlin) so this isn&#39;t a general issue, but another thing to check","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>Just ran into this due to <code>realm-db</code></p>\n\n<p>It was on an alpha build of gradle and a few other project-specific circumstances (AndroidX, Kotlin) so this isn't a general issue, but another thing to check</p>\n"},{"tags":[],"owner":{"account_id":7570134,"reputation":3215,"user_id":5744335,"display_name":"Arshak"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1591705488,"creation_date":1582658461,"answer_id":60401794,"question_id":50365863,"body_markdown":"\r\n&gt; If you are using **Realm plugin** in your app, then you could try\r\n&gt; **upgrading your plugin** as it was one of the reason why app crashed while\r\n&gt; running.\r\n\r\n&lt;BR&gt;\r\n\r\n**Steps to update realm plugin:** \r\n\r\n - Open `build.gradle(Project: Project_name_here)` file.\r\n - Replace classpath of realm gradle plugin with the [latest stable version][1] as follows:\r\n - `classpath &quot;io.realm:realm-gradle-plugin:7.0.0&quot;`\r\n\r\n&lt;BR&gt;\r\nAlso, please check for any **outdated plugins** within `build.gradle` file as it may be one of the reason why the app crashes. \r\n\r\n&lt;BR&gt;\r\n\r\n **OR**\r\n&lt;BR&gt;\r\n&lt;BR&gt;    \r\n\r\nI faced similar issue **after updating Android Studio to 3.6** with **Gradle 3.6.0**. \r\n&lt;BR&gt;\r\n&lt;BR&gt;\r\n\r\n&gt; I **downgraded** my **Gradle to 3.5.3** in-order to resolve this issue until it gets fixed in future.\r\n\r\n&lt;BR&gt;\r\n\r\n\r\n**Steps:**\r\n\r\n - Open `build.gradle(Project: Project_name_here)` file.\r\n - Replace classpath of android tools build gradle under dependencies with the following:\r\n - `classpath &#39;com.android.tools.build:gradle:3.5.3&#39;`\r\n\r\n&lt;BR&gt;\r\n&lt;BR&gt;\r\n**Please Note:** This is a temporary fix. It may get fixed in future, so until then downgrade and continue with app development.\r\n\r\n\r\n  [1]: https://realm.io/docs/java/latest","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<blockquote>\n  <p>If you are using <strong>Realm plugin</strong> in your app, then you could try\n  <strong>upgrading your plugin</strong> as it was one of the reason why app crashed while\n  running.</p>\n</blockquote>\n\n<p><BR></p>\n\n<p><strong>Steps to update realm plugin:</strong> </p>\n\n<ul>\n<li>Open <code>build.gradle(Project: Project_name_here)</code> file.</li>\n<li>Replace classpath of realm gradle plugin with the <a href=\"https://realm.io/docs/java/latest\" rel=\"noreferrer\">latest stable version</a> as follows:</li>\n<li><code>classpath \"io.realm:realm-gradle-plugin:7.0.0\"</code></li>\n</ul>\n\n<p><BR>\nAlso, please check for any <strong>outdated plugins</strong> within <code>build.gradle</code> file as it may be one of the reason why the app crashes. </p>\n\n<p><BR></p>\n\n<p><strong>OR</strong>\n<BR>\n<BR>    </p>\n\n<p>I faced similar issue <strong>after updating Android Studio to 3.6</strong> with <strong>Gradle 3.6.0</strong>. \n<BR>\n<BR></p>\n\n<blockquote>\n  <p>I <strong>downgraded</strong> my <strong>Gradle to 3.5.3</strong> in-order to resolve this issue until it gets fixed in future.</p>\n</blockquote>\n\n<p><BR></p>\n\n<p><strong>Steps:</strong></p>\n\n<ul>\n<li>Open <code>build.gradle(Project: Project_name_here)</code> file.</li>\n<li>Replace classpath of android tools build gradle under dependencies with the following:</li>\n<li><code>classpath 'com.android.tools.build:gradle:3.5.3'</code></li>\n</ul>\n\n<p><BR>\n<BR>\n<strong>Please Note:</strong> This is a temporary fix. It may get fixed in future, so until then downgrade and continue with app development.</p>\n"},{"tags":[],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1582735602,"creation_date":1582735602,"answer_id":60418708,"question_id":50365863,"body_markdown":"If you have just updated your project to Gradle `3.6.0` and are using **Realm** there is a very high chance that this issue was caused by the **Realm plugin**.\r\nAccordingly to [this][1] comment, this issue happens for older Realm plugin versions, less than `5.13.1`.\r\nSo just updating to the latest Realm version will most likely solve the problem. \r\n\r\nAs of the time of writing it was:\r\n`classpath &quot;io.realm:realm-gradle-plugin:6.1.0&quot;`\r\n\r\n  [1]: https://github.com/firebase/firebase-android-sdk/issues/665#issuecomment-574431015","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>If you have just updated your project to Gradle <code>3.6.0</code> and are using <strong>Realm</strong> there is a very high chance that this issue was caused by the <strong>Realm plugin</strong>.\nAccordingly to <a href=\"https://github.com/firebase/firebase-android-sdk/issues/665#issuecomment-574431015\" rel=\"noreferrer\">this</a> comment, this issue happens for older Realm plugin versions, less than <code>5.13.1</code>.\nSo just updating to the latest Realm version will most likely solve the problem. </p>\n\n<p>As of the time of writing it was:\n<code>classpath \"io.realm:realm-gradle-plugin:6.1.0\"</code></p>\n"},{"tags":[],"owner":{"account_id":3494505,"reputation":694,"user_id":2923194,"accept_rate":25,"display_name":"Meysam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583313345,"creation_date":1583313345,"answer_id":60522589,"question_id":50365863,"body_markdown":"i remove all of the firebase and gms dependencies from my project and error happens with leakcanary and so remove this. and again error happens with calligraphy3 and so on ...\r\ni think its multidex bug.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>i remove all of the firebase and gms dependencies from my project and error happens with leakcanary and so remove this. and again error happens with calligraphy3 and so on ...\ni think its multidex bug.</p>\n"},{"tags":[],"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590627000,"creation_date":1590627000,"answer_id":62055187,"question_id":50365863,"body_markdown":"I recently also face same issue.\r\n\r\nusing `classpath(&#39;com.google.firebase:perf-plugin:1.2.1&#39;)`. and works after disabling it.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>I recently also face same issue.</p>\n\n<p>using <code>classpath('com.google.firebase:perf-plugin:1.2.1')</code>. and works after disabling it.</p>\n"},{"tags":[],"owner":{"account_id":13891214,"reputation":338,"user_id":10029164,"display_name":"rmindzstar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593770978,"creation_date":1593769956,"answer_id":62712890,"question_id":50365863,"body_markdown":"Hi I know its late in the question but for the current android version, I solved this problem.\r\n\r\n# on build.grade project-level dependencies update your:\r\n\r\n - com.android.tools.build:gradle to the latest stable (android updates don&#39;t do this)\r\n   - **link here** -&gt; [developer android gradle releases][1]\r\n\r\n - if using realm:\r\n   - **link here** -&gt;[realm lastest versions][2]\r\n\r\n - if using gms services\r\n   - update it aswell\r\n\r\n  [1]: https://developer.android.com/studio/releases/gradle-plugin\r\n  [2]: https://realm.io/docs/java/latest/\r\n\r\n# on build.grade app-level update your dependencies\r\n\r\nSome answers to this problem involved multidex and other fix&#39;s but none solved for me.\r\n\r\nThat&#39;s why this answer was made.\r\n\r\nmy current settings:\r\n\r\n**project-level**\r\n\r\n    dependencies {\r\n       classpath &#39;com.android.tools.build:gradle:4.0.0&#39;\r\n       classpath &quot;io.realm:realm-gradle-plugin:6.0.2&quot;\r\n       classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n    }\r\n\r\napp-level\r\n\r\n    dependencies {\r\n      implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n      implementation &#39;androidx.core:core:1.3.0&#39;\r\n      implementation &#39;androidx.annotation:annotation:1.1.0&#39;\r\n      implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n      implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n      implementation &#39;com.android.volley:volley:1.1.1&#39;\r\n      implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n      implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n      implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n      testImplementation &#39;junit:junit:4.12&#39;\r\n      androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n      androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n      implementation &#39;com.facebook.android:facebook-login:5.15.3&#39;\r\n      implementation &quot;com.google.android.gms:play-services-location:17.0.0&quot;\r\n      implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n      implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n      implementation &#39;commons-validator:commons-validator:1.6&#39;\r\n      implementation &#39;com.appeaser.sublimepickerlibrary:sublimepickerlibrary:2.1.2&#39;\r\n      implementation &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n      implementation &#39;com.google.maps.android:android-maps-utils:0.5+&#39;\r\n      implementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\n      implementation &#39;com.evrencoskun.library:tableview:0.8.8&#39;\r\n      implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n      implementation &#39;com.onesignal:OneSignal:[3.9.1, 3.99.99]&#39;\r\n      implementation &#39;com.google.firebase:firebase-core:17.4.3&#39;\r\n      implementation &#39;com.facebook.android:facebook-share:5.15.3&#39;\r\n      implementation(&#39;com.smartlook.recording:app:1.1.0-native&#39;)\r\n    }\r\n\r\n\r\n    \r\n\r\nHope I could help a few!\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>Hi I know its late in the question but for the current android version, I solved this problem.</p>\n<h1>on build.grade project-level dependencies update your:</h1>\n<ul>\n<li><p>com.android.tools.build:gradle to the latest stable (android updates don't do this)</p>\n<ul>\n<li><strong>link here</strong> -&gt; <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">developer android gradle releases</a></li>\n</ul>\n</li>\n<li><p>if using realm:</p>\n<ul>\n<li><strong>link here</strong> -&gt;<a href=\"https://realm.io/docs/java/latest/\" rel=\"nofollow noreferrer\">realm lastest versions</a></li>\n</ul>\n</li>\n<li><p>if using gms services</p>\n<ul>\n<li>update it aswell</li>\n</ul>\n</li>\n</ul>\n<h1>on build.grade app-level update your dependencies</h1>\n<p>Some answers to this problem involved multidex and other fix's but none solved for me.</p>\n<p>That's why this answer was made.</p>\n<p>my current settings:</p>\n<p><strong>project-level</strong></p>\n<pre><code>dependencies {\n   classpath 'com.android.tools.build:gradle:4.0.0'\n   classpath &quot;io.realm:realm-gradle-plugin:6.0.2&quot;\n   classpath 'com.google.gms:google-services:4.3.3'\n}\n</code></pre>\n<p>app-level</p>\n<pre><code>dependencies {\n  implementation fileTree(include: ['*.jar'], dir: 'libs')\n  implementation 'androidx.core:core:1.3.0'\n  implementation 'androidx.annotation:annotation:1.1.0'\n  implementation 'androidx.appcompat:appcompat:1.1.0'\n  implementation 'com.google.android.material:material:1.1.0'\n  implementation 'com.android.volley:volley:1.1.1'\n  implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n  implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n  implementation 'androidx.recyclerview:recyclerview:1.0.0'\n  testImplementation 'junit:junit:4.12'\n  androidTestImplementation 'androidx.test:runner:1.2.0'\n  androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n  implementation 'com.facebook.android:facebook-login:5.15.3'\n  implementation &quot;com.google.android.gms:play-services-location:17.0.0&quot;\n  implementation 'com.google.code.gson:gson:2.8.5'\n  implementation 'com.squareup.picasso:picasso:2.71828'\n  implementation 'commons-validator:commons-validator:1.6'\n  implementation 'com.appeaser.sublimepickerlibrary:sublimepickerlibrary:2.1.2'\n  implementation 'de.hdodenhof:circleimageview:2.2.0'\n  implementation 'com.google.maps.android:android-maps-utils:0.5+'\n  implementation 'com.google.android.gms:play-services-maps:17.0.0'\n  implementation 'com.evrencoskun.library:tableview:0.8.8'\n  implementation 'androidx.multidex:multidex:2.0.1'\n  implementation 'com.onesignal:OneSignal:[3.9.1, 3.99.99]'\n  implementation 'com.google.firebase:firebase-core:17.4.3'\n  implementation 'com.facebook.android:facebook-share:5.15.3'\n  implementation('com.smartlook.recording:app:1.1.0-native')\n}\n</code></pre>\n<p>Hope I could help a few!</p>\n"},{"tags":[],"owner":{"account_id":11562480,"reputation":6622,"user_id":8471798,"display_name":"canerkaseler"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1688052584,"creation_date":1596649334,"answer_id":63270703,"question_id":50365863,"body_markdown":"You have to update your ***REALM-PLUGIN*** and you need to write this in ***Top-Level Gradle (Project:Gradle)***, copy paste below &quot;***classpath***&quot; line:\r\n\r\n    buildscript {\r\n      ... \r\n      dependencies {\r\n        classpath &#39;io.realm:realm-gradle-plugin:7.0.0&#39; //&lt;--Your answer.\r\n      } \r\n    }\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>You have to update your <em><strong>REALM-PLUGIN</strong></em> and you need to write this in <em><strong>Top-Level Gradle (Project:Gradle)</strong></em>, copy paste below &quot;<em><strong>classpath</strong></em>&quot; line:</p>\n<pre><code>buildscript {\n  ... \n  dependencies {\n    classpath 'io.realm:realm-gradle-plugin:7.0.0' //&lt;--Your answer.\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1737025,"reputation":81,"user_id":1589349,"display_name":"Domoch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604066253,"creation_date":1604066253,"answer_id":64609777,"question_id":50365863,"body_markdown":"Recently, after the update to `Gradle 3.6.4`(and newer versions) faced the same problem `ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.common.R$string&quot;`. \r\n\r\nIn my case it was old deprecated `io.mironov.smuggler` plugin. \r\n\r\nIt seems that in most cases problem is with old plugins (especially ones thar use transform api), so to find which one you first should try to update them all. And if that doesn&#39;t help, just disable them one by one until app starts running with out the error. ","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>Recently, after the update to <code>Gradle 3.6.4</code>(and newer versions) faced the same problem <code>ClassNotFoundException: Didn't find class &quot;com.google.android.gms.common.R$string&quot;</code>.</p>\n<p>In my case it was old deprecated <code>io.mironov.smuggler</code> plugin.</p>\n<p>It seems that in most cases problem is with old plugins (especially ones thar use transform api), so to find which one you first should try to update them all. And if that doesn't help, just disable them one by one until app starts running with out the error.</p>\n"},{"tags":[],"owner":{"account_id":12741223,"reputation":193,"user_id":9251194,"display_name":"JustADeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610449751,"creation_date":1610449751,"answer_id":65682754,"question_id":50365863,"body_markdown":"As far as I see, this issue comes from version conflicts of dependencies in **&#39;project level&#39; build.gradle** file. \r\nAnd especially caught when the gradle version is updated. \r\n\r\n    buildscript {\r\n        ...\r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n            classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n            classpath &quot;io.objectbox:objectbox-gradle-plugin:2.8.1&quot;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.4.1&#39;\r\n        }\r\n    }\r\n\r\nWhen you update your gradle version (`classpath &#39;com.android.tools.build:gradle:4.1.1&#39;`), ensure that your other classpath dependencies are also up-to-date.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>As far as I see, this issue comes from version conflicts of dependencies in <strong>'project level' build.gradle</strong> file.\nAnd especially caught when the gradle version is updated.</p>\n<pre><code>buildscript {\n    ...\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.4'\n        classpath 'com.android.tools.build:gradle:4.1.1'\n        classpath &quot;io.objectbox:objectbox-gradle-plugin:2.8.1&quot;\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.4.1'\n    }\n}\n</code></pre>\n<p>When you update your gradle version (<code>classpath 'com.android.tools.build:gradle:4.1.1'</code>), ensure that your other classpath dependencies are also up-to-date.</p>\n"}],"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17108,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":10,"score":26,"last_activity_date":1688052584,"creation_date":1526459266,"question_id":50365863,"body_markdown":"I tried out many things, but it does not solve my problem. \r\n\r\nFull Error Code (kompletter Error Code):\r\n\r\n    05-16 09:59:53.428 25010-25010/main.faseflex.de.fgnapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: main.faseflex.de.fgnapp, PID: 25010\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;\r\n        at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14)\r\n        at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2)\r\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19)\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1925)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1900)\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6578)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043)\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.common.R$string&quot; on path: DexPathList[[zip file &quot;/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/lib/arm64, /system/lib64, /system/vendor/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14)&#160;\r\n        at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1925)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1900)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)&#160;\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6578)&#160;\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133)&#160;\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043)&#160;\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6944)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)&#160;\r\n\r\nbuild.gradle app:\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        //buildToolsVersion &quot;25.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;main.faseflex.de.fgnapp&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 25\r\n            multiDexEnabled true\r\n            dexOptions {\r\n                preDexLibraries true\r\n            }\r\n            versionCode 1\r\n            versionName &quot;0.98.41&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                multiDexKeepFile file(&#39;multidex-config.txt&#39;)\r\n            }\r\n    \r\n        }\r\n        productFlavors {\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.android.support:support-v4:25.4.0&#39;\r\n        implementation &#39;com.android.support:support-vector-drawable:25.4.0&#39;\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestImplementation(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        implementation &#39;com.google.firebase:firebase-core:15.0.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:15.0.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:15.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:15.1.0&#39;\r\n        implementation &#39;com.android.support:appcompat-v7:25.4.0&#39;\r\n        implementation &#39;com.android.support:design:25.4.0&#39;\r\n        implementation &#39;com.android.support:preference-v7:25.4.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.0&#39;\r\n        implementation &#39;com.github.SHashank02051997:FancyToast-Android:0.1.3&#39;\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:15.0.1&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    configurations.all {\r\n        resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n            def requested = details.requested\r\n            if (requested.group == &#39;com.android.support&#39;) {\r\n                if (!requested.name.startsWith(&quot;multidex&quot;)) {\r\n                    details.useVersion &#39;25.3.0&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nbuild.gradle project:\r\n\r\n        // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.1.2&#39;\r\n            classpath &#39;com.google.gms:google-services:3.2.0&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            google()\r\n            maven {\r\n                url &quot;https://jitpack.io&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAndroidManifest.xml:\r\n\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;main.faseflex.de.fgnapp&quot;\r\n        tools:node=&quot;replace&quot;&gt;\r\n    \r\n        &lt;supports-screens\r\n            android:anyDensity=&quot;true&quot;\r\n            android:compatibleWidthLimitDp=&quot;50&quot;\r\n            android:largeScreens=&quot;true&quot;\r\n            android:normalScreens=&quot;true&quot;\r\n            android:resizeable=&quot;false&quot;\r\n            android:smallScreens=&quot;false&quot;\r\n            android:xlargeScreens=&quot;false&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/fgn_icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:resizeableActivity=&quot;false&quot;\r\n            android:roundIcon=&quot;@mipmap/fgn_icon&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    \r\n            ------------------------------------------------\r\n            MAIN ACTIVITY\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.FGNmainActivity&quot;\r\n                android:label=&quot;FGN-App&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            STUNDENPLAN\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_timetable&quot;\r\n                android:label=&quot;FGN-App | Stundenplan&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            ESSENSBESTELLUNG\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_food&quot;\r\n                android:label=&quot;FGN-App | Essenplan&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            MDV\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_mdv&quot;\r\n                android:label=&quot;FGN-App | Verkehrsverbund&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            DOKUMENTE\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_documents&quot;\r\n                android:label=&quot;FGN-App | Dokumente&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            NEWS\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_news&quot;\r\n                android:label=&quot;FGN-App | News&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            LEHRER\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_teachers&quot;\r\n                android:label=&quot;FGN-App | Lehrer&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            MOODLE\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_moodle&quot;\r\n                android:label=&quot;FGN-App | Moodle&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            OFFICE 365\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_office&quot;\r\n                android:label=&quot;FGN-App | Office 365&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            KONTAKT\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_contact&quot;\r\n                android:label=&quot;FGN-App | Kontakt&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            TERMINE\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_termine&quot;\r\n                android:label=&quot;FGN-App | Termine&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            MITTAGSBAND\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_mittagsband&quot;\r\n                android:label=&quot;FGN-App | Mittagsband&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            FEEDBACK\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_menu_feedback&quot;\r\n                android:label=&quot;FGN-App | Feedback&quot;\r\n                android:parentActivityName=&quot;.SettingsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            IMPRESSUM\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_menu_impressum&quot;\r\n                android:label=&quot;FGN-App | Impressum&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            FIREBASE\r\n            ------------------------------------------------\r\n            &lt;service android:name=&quot;.MyFirebaseMessagingService&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service android:name=&quot;.FirebaseIDService&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service android:name=&quot;.MyInstanceIDListenerService&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            ------------------------------------------------\r\n            EINSTELLUNGEN\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.SettingsActivity&quot;\r\n                android:label=&quot;FGN-App | Einstellungen&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;main.faseflex.de.fgnapp.FGNmainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            SPLASH SCREEN\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.SplashActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            CHANGELOG\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.ChangelogActivity&quot;\r\n                android:label=&quot;FGN-App | Changelog&quot;\r\n                android:parentActivityName=&quot;.SettingsActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    \r\n    \r\n    &lt;/manifest&gt;\r\n\r\nI know what the NoClassDefFoundError does, but I did not find the problem. Ask if you need more files for solving the problem. ","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>I tried out many things, but it does not solve my problem. </p>\n\n<p>Full Error Code (kompletter Error Code):</p>\n\n<pre><code>05-16 09:59:53.428 25010-25010/main.faseflex.de.fgnapp E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: main.faseflex.de.fgnapp, PID: 25010\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;\n    at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14)\n    at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2)\n    at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19)\n    at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1925)\n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1900)\n    at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)\n    at android.app.ActivityThread.installProvider(ActivityThread.java:6578)\n    at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043)\n    at android.app.ActivityThread.-wrap1(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6944)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.common.R$string\" on path: DexPathList[[zip file \"/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/base.apk\"],nativeLibraryDirectories=[/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/lib/arm64, /system/lib64, /system/vendor/lib64]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14) \n    at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2) \n    at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19) \n    at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4) \n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1925) \n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1900) \n    at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23) \n    at android.app.ActivityThread.installProvider(ActivityThread.java:6578) \n    at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133) \n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043) \n    at android.app.ActivityThread.-wrap1(Unknown Source:0) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764) \n    at android.os.Handler.dispatchMessage(Handler.java:105) \n    at android.os.Looper.loop(Looper.java:164) \n    at android.app.ActivityThread.main(ActivityThread.java:6944) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \n</code></pre>\n\n<p>build.gradle app:</p>\n\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    //buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"main.faseflex.de.fgnapp\"\n        minSdkVersion 21\n        targetSdkVersion 25\n        multiDexEnabled true\n        dexOptions {\n            preDexLibraries true\n        }\n        versionCode 1\n        versionName \"0.98.41\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            multiDexKeepFile file('multidex-config.txt')\n        }\n\n    }\n    productFlavors {\n    }\n}\n\ndependencies {\n    implementation 'com.android.support:support-v4:25.4.0'\n    implementation 'com.android.support:support-vector-drawable:25.4.0'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation 'com.google.firebase:firebase-core:15.0.2'\n    implementation 'com.google.firebase:firebase-messaging:15.0.2'\n    implementation 'com.google.firebase:firebase-database:15.0.1'\n    implementation 'com.google.firebase:firebase-auth:15.1.0'\n    implementation 'com.android.support:appcompat-v7:25.4.0'\n    implementation 'com.android.support:design:25.4.0'\n    implementation 'com.android.support:preference-v7:25.4.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n    implementation 'com.github.SHashank02051997:FancyToast-Android:0.1.3'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.google.android.gms:play-services-auth:15.0.1'\n    testImplementation 'junit:junit:4.12'\n}\napply plugin: 'com.google.gms.google-services'\n\nconfigurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        def requested = details.requested\n        if (requested.group == 'com.android.support') {\n            if (!requested.name.startsWith(\"multidex\")) {\n                details.useVersion '25.3.0'\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>build.gradle project:</p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath 'com.google.gms:google-services:3.2.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n        maven {\n            url \"https://jitpack.io\"\n        }\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>AndroidManifest.xml:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"main.faseflex.de.fgnapp\"\n    tools:node=\"replace\"&gt;\n\n    &lt;supports-screens\n        android:anyDensity=\"true\"\n        android:compatibleWidthLimitDp=\"50\"\n        android:largeScreens=\"true\"\n        android:normalScreens=\"true\"\n        android:resizeable=\"false\"\n        android:smallScreens=\"false\"\n        android:xlargeScreens=\"false\" /&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/fgn_icon\"\n        android:label=\"@string/app_name\"\n        android:resizeableActivity=\"false\"\n        android:roundIcon=\"@mipmap/fgn_icon\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        ------------------------------------------------\n        MAIN ACTIVITY\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".FGNmainActivity\"\n            android:label=\"FGN-App\"\n            android:screenOrientation=\"portrait\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        STUNDENPLAN\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_timetable\"\n            android:label=\"FGN-App | Stundenplan\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        ESSENSBESTELLUNG\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_food\"\n            android:label=\"FGN-App | Essenplan\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        MDV\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_mdv\"\n            android:label=\"FGN-App | Verkehrsverbund\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        DOKUMENTE\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_documents\"\n            android:label=\"FGN-App | Dokumente\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        NEWS\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_news\"\n            android:label=\"FGN-App | News\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        LEHRER\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_teachers\"\n            android:label=\"FGN-App | Lehrer\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        MOODLE\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_moodle\"\n            android:label=\"FGN-App | Moodle\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        OFFICE 365\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_office\"\n            android:label=\"FGN-App | Office 365\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        KONTAKT\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_contact\"\n            android:label=\"FGN-App | Kontakt\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        TERMINE\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_termine\"\n            android:label=\"FGN-App | Termine\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        MITTAGSBAND\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_mittagsband\"\n            android:label=\"FGN-App | Mittagsband\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        FEEDBACK\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_menu_feedback\"\n            android:label=\"FGN-App | Feedback\"\n            android:parentActivityName=\".SettingsActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        IMPRESSUM\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_menu_impressum\"\n            android:label=\"FGN-App | Impressum\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        FIREBASE\n        ------------------------------------------------\n        &lt;service android:name=\".MyFirebaseMessagingService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service android:name=\".FirebaseIDService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service android:name=\".MyInstanceIDListenerService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        ------------------------------------------------\n        EINSTELLUNGEN\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".SettingsActivity\"\n            android:label=\"FGN-App | Einstellungen\"\n            android:parentActivityName=\".FGNmainActivity\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\"main.faseflex.de.fgnapp.FGNmainActivity\" /&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        SPLASH SCREEN\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".SplashActivity\"\n            android:screenOrientation=\"portrait\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        CHANGELOG\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".ChangelogActivity\"\n            android:label=\"FGN-App | Changelog\"\n            android:parentActivityName=\".SettingsActivity\"&gt;&lt;/activity&gt;\n    &lt;/application&gt;\n\n\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I know what the NoClassDefFoundError does, but I did not find the problem. Ask if you need more files for solving the problem. </p>\n"},{"tags":["java","maven","openrewrite"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688054763,"post_id":76582382,"comment_id":135025462,"body_markdown":"Why this: `@@@SNAPSHOT@@@`?","body":"Why this: <code>@@@SNAPSHOT@@@</code>?"}],"answers":[{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688052331,"creation_date":1688052331,"answer_id":76582495,"question_id":76582382,"body_markdown":"So the comment is inserted because OpenRewrite will try to resolve the the dependency, and is failing to find it. You might want to add an explicit Maven Repository with something similar to this:\r\n\r\nhttps://github.com/openrewrite/rewrite/blob/ad60832bb60e6da996f395d4abb09eb43f298822/rewrite-maven/src/test/java/org/openrewrite/maven/UpgradeParentVersionTest.java#L66-L72\r\n\r\n```java\r\n    @Test\r\n    void nonMavenCentralRepository() {\r\n        rewriteRun(\r\n          spec -&gt; spec\r\n            .recipe(new UpgradeParentVersion(&quot;org.jenkins-ci.plugins&quot;, &quot;plugin&quot;, &quot;4.40&quot;, null, null))\r\n            .executionContext(\r\n              MavenExecutionContextView\r\n                .view(new InMemoryExecutionContext())\r\n                .setRepositories(List.of(\r\n                  MavenRepository.builder().id(&quot;jenkins&quot;).uri(&quot;https://repo.jenkins-ci.org/public/&quot;).build()\r\n                ))\r\n            ),\r\n          pomXml(\r\n            &quot;&quot;&quot;\r\n              &lt;project&gt;\r\n                  &lt;parent&gt;\r\n```\r\n","title":"OpenRewrite: Enabling local Maven repository during JUnit testing of a recipe?","body":"<p>So the comment is inserted because OpenRewrite will try to resolve the the dependency, and is failing to find it. You might want to add an explicit Maven Repository with something similar to this:</p>\n<p><a href=\"https://github.com/openrewrite/rewrite/blob/ad60832bb60e6da996f395d4abb09eb43f298822/rewrite-maven/src/test/java/org/openrewrite/maven/UpgradeParentVersionTest.java#L66-L72\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite/blob/ad60832bb60e6da996f395d4abb09eb43f298822/rewrite-maven/src/test/java/org/openrewrite/maven/UpgradeParentVersionTest.java#L66-L72</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void nonMavenCentralRepository() {\n        rewriteRun(\n          spec -&gt; spec\n            .recipe(new UpgradeParentVersion(&quot;org.jenkins-ci.plugins&quot;, &quot;plugin&quot;, &quot;4.40&quot;, null, null))\n            .executionContext(\n              MavenExecutionContextView\n                .view(new InMemoryExecutionContext())\n                .setRepositories(List.of(\n                  MavenRepository.builder().id(&quot;jenkins&quot;).uri(&quot;https://repo.jenkins-ci.org/public/&quot;).build()\n                ))\n            ),\n          pomXml(\n            &quot;&quot;&quot;\n              &lt;project&gt;\n                  &lt;parent&gt;\n</code></pre>\n"}],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76582495,"answer_count":1,"score":-1,"last_activity_date":1688052331,"creation_date":1688051540,"question_id":76582382,"body_markdown":"I wrote an OpenRewrite recipe which changes Maven `pom.xml` from containing this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;a&lt;/groupId&gt;\r\n      &lt;artifactId&gt;b&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;c&lt;/groupId&gt;\r\n      &lt;artifactId&gt;d&lt;/artifactId&gt;\r\n      &lt;version&gt;@@@SNAPSHOT@@@&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen running the Rewrite Maven Plugin, everything works well, because `1.0.0` is in Maven Central, and `@@@SNAPSHOT@@@` is in my local repo. The rewriting succeeds. However, when running the same recipe in a test environment using JUnit, resolution of the SNAPSHOT fails, inserting the following into the rewritten POM:\r\n\r\n    &lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: HTTP 404)~~&gt;--&gt;\r\n    &lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: Did not attempt to download because of a previous failure to retrieve from this repository.)~~&gt;--&gt;\r\n\r\n\r\nIf I had to guess, it is because in that environment, OpenRewrite does not look into the local repo. What can I do to make it find the SNAPSHOT?","title":"OpenRewrite: Enabling local Maven repository during JUnit testing of a recipe?","body":"<p>I wrote an OpenRewrite recipe which changes Maven <code>pom.xml</code> from containing this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;a&lt;/groupId&gt;\n  &lt;artifactId&gt;b&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;c&lt;/groupId&gt;\n  &lt;artifactId&gt;d&lt;/artifactId&gt;\n  &lt;version&gt;@@@SNAPSHOT@@@&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When running the Rewrite Maven Plugin, everything works well, because <code>1.0.0</code> is in Maven Central, and <code>@@@SNAPSHOT@@@</code> is in my local repo. The rewriting succeeds. However, when running the same recipe in a test environment using JUnit, resolution of the SNAPSHOT fails, inserting the following into the rewritten POM:</p>\n<pre><code>&lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: HTTP 404)~~&gt;--&gt;\n&lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: Did not attempt to download because of a previous failure to retrieve from this repository.)~~&gt;--&gt;\n</code></pre>\n<p>If I had to guess, it is because in that environment, OpenRewrite does not look into the local repo. What can I do to make it find the SNAPSHOT?</p>\n"},{"tags":["java","return-value","increment"],"comments":[{"owner":{"account_id":3643318,"reputation":3489,"user_id":3138755,"accept_rate":40,"display_name":"Rahul"},"score":0,"creation_date":1405081457,"post_id":24697627,"comment_id":38298135,"body_markdown":"you can not perform constant++ i.e. 5++. In your method you are return 0 ;","body":"you can not perform constant++ i.e. 5++. In your method you are return 0 ;"},{"owner":{"account_id":4523492,"reputation":1277,"user_id":3676021,"accept_rate":57,"display_name":"Kartik_Koro"},"score":0,"creation_date":1405081513,"post_id":24697627,"comment_id":38298167,"body_markdown":"How different is obj.get()+1 from obj.get()++ ?","body":"How different is obj.get()+1 from obj.get()++ ?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1405081663,"post_id":24697627,"comment_id":38298275,"body_markdown":"What would you expect it to do? Translate into a call to `setInteger(getInteger() + 1)`? Don&#39;t forget that the Java *language* doesn&#39;t know anything about getters and setters...","body":"What would you expect it to do? Translate into a call to <code>setInteger(getInteger() + 1)</code>? Don&#39;t forget that the Java <i>language</i> doesn&#39;t know anything about getters and setters..."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1688009431,"post_id":24697627,"comment_id":135017066,"body_markdown":"I don&#39;t think this question is useful, because it can&#39;t be asked by someone who actually understands what `++` means. If you ask yourself *&quot;why is there a `++`, anyway, when `+1` is just as easy to write?&quot;*, and can answer correctly, then you already know the problem with the code in this question. (But then, it&#39;s a duplicate of something that got a lot of upvotes, so...)","body":"I don&#39;t think this question is useful, because it can&#39;t be asked by someone who actually understands what <code>++</code> means. If you ask yourself <i>&quot;why is there a <code>++</code>, anyway, when <code>+1</code> is just as easy to write?&quot;</i>, and can answer correctly, then you already know the problem with the code in this question. (But then, it&#39;s a duplicate of something that got a lot of upvotes, so...)"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1688009677,"post_id":24697627,"comment_id":135017082,"body_markdown":"Does this answer your question? [Why doesn&#39;t the post increment operator work on a method that returns an int?](https://stackoverflow.com/questions/15291861/why-doesnt-the-post-increment-operator-work-on-a-method-that-returns-an-int)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15291861/why-doesnt-the-post-increment-operator-work-on-a-method-that-returns-an-int\">Why doesn&#39;t the post increment operator work on a method that returns an int?</a>"}],"answers":[{"tags":[],"owner":{"account_id":55665,"reputation":357059,"user_id":166749,"accept_rate":94,"display_name":"Fred Foo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1687984233,"creation_date":1405081514,"answer_id":24697681,"question_id":24697627,"body_markdown":"`x++` is not the same as `x + 1`. It&#39;s short for `x += 1`, i.e. `x = x + 1`; increment, then assign. So `getInteger()++` means `getInteger() = getInteger() + 1`, which makes no sense. You&#39;re adding one to a value, not incrementing a variable.\r\n\r\nApart from that, `++` works on `int` but not `Integer`, but even if you were returning an `int` you couldn&#39;t increment it with `++`:\r\n\r\n    class Test {\r\n        static public void main() {\r\n            getint()++;\r\n        }\r\n        static int getint() {\r\n            int a = 0;\r\n            return a;\r\n        }\r\n    }\r\n\r\ngives\r\n\r\n```lang-none\r\nTest.java:3: error: unexpected type\r\n        getint()++;\r\n              ^\r\n  required: variable\r\n  found:    value\r\n```\r\n\r\n(In C++ you could make this work with references, but Java doesn&#39;t have those.)\r\n\r\n","title":"Why cannot I increment returned value?","body":"<p><code>x++</code> is not the same as <code>x + 1</code>. It's short for <code>x += 1</code>, i.e. <code>x = x + 1</code>; increment, then assign. So <code>getInteger()++</code> means <code>getInteger() = getInteger() + 1</code>, which makes no sense. You're adding one to a value, not incrementing a variable.</p>\n<p>Apart from that, <code>++</code> works on <code>int</code> but not <code>Integer</code>, but even if you were returning an <code>int</code> you couldn't increment it with <code>++</code>:</p>\n<pre><code>class Test {\n    static public void main() {\n        getint()++;\n    }\n    static int getint() {\n        int a = 0;\n        return a;\n    }\n}\n</code></pre>\n<p>gives</p>\n<pre class=\"lang-none prettyprint-override\"><code>Test.java:3: error: unexpected type\n        getint()++;\n              ^\n  required: variable\n  found:    value\n</code></pre>\n<p>(In C++ you could make this work with references, but Java doesn't have those.)</p>\n"},{"tags":[],"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688052181,"creation_date":1405081556,"answer_id":24697694,"question_id":24697627,"body_markdown":"You are not returning an `int`; you&#39;re returning an `Integer` object.  The `Integer` class is immutable and has no `++` operator of its own.\r\n\r\nAlso, the `++` operator requires that its operand be an `lvalue`, i.e. an assignable variable as opposed to a `value`.  The result of `getInteger()` is the latter.\r\n\r\nIn the case of your first test:\r\n\r\n```java\r\nInteger integer = 0; integer++;\r\n````\r\n\r\nJava&#39;s autoboxing allows the use of the `++` operator, but only because Java automatically converts the `Integer` into an `int` and then back again, and because the variable `integer` is an `lvalue`.  It&#39;s more or less equivalent to:\r\n\r\n```java\r\nint tmp_int = integer.intValue();\r\nint result = tmp_int++;\r\ninteger = Integer.getInteger(tmp_int);\r\n(void)result;\r\n```\r\n\r\n`result` - the effective &quot;value&quot; of the expression isn&#39;t `integer` because you&#39;ve used the &quot;post increment&quot; version of `++`, so the result is the value that `integer` had _before_ it was incremented.","title":"Why cannot I increment returned value?","body":"<p>You are not returning an <code>int</code>; you're returning an <code>Integer</code> object.  The <code>Integer</code> class is immutable and has no <code>++</code> operator of its own.</p>\n<p>Also, the <code>++</code> operator requires that its operand be an <code>lvalue</code>, i.e. an assignable variable as opposed to a <code>value</code>.  The result of <code>getInteger()</code> is the latter.</p>\n<p>In the case of your first test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer integer = 0; integer++;\n</code></pre>\n<p>Java's autoboxing allows the use of the <code>++</code> operator, but only because Java automatically converts the <code>Integer</code> into an <code>int</code> and then back again, and because the variable <code>integer</code> is an <code>lvalue</code>.  It's more or less equivalent to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int tmp_int = integer.intValue();\nint result = tmp_int++;\ninteger = Integer.getInteger(tmp_int);\n(void)result;\n</code></pre>\n<p><code>result</code> - the effective &quot;value&quot; of the expression isn't <code>integer</code> because you've used the &quot;post increment&quot; version of <code>++</code>, so the result is the value that <code>integer</code> had <em>before</em> it was incremented.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687984365,"creation_date":1405081588,"answer_id":24697701,"question_id":24697627,"body_markdown":"&gt; Why is the second construction forbidden?\r\n\r\n`Integer` is immutable, so you couldn&#39;t change it anyway.  `int` is mutable but since it only returns a *copy* on the value, this won&#39;t work either.\r\n\r\nE.g.,\r\n\r\n    public static Integer getInteger(){\r\n        return 0;\r\n    }\r\n\r\n    // what would this do\r\n    getInteger()++;\r\n\r\n    // now the method has been changed to \r\n    public static Integer getInteger(){\r\n        return 0+1;\r\n    }\r\n    // so now\r\n    System.out.println(getInteger()); // prints 1 ??\r\n\r\n&gt; obj.set(obj.get()+1);\r\n\r\nThis breaks encapsulation as well.  I would suggest a method like this:\r\n\r\n    AtomicInteger i = new AtomicInteger(0);\r\n    i.incrementAndGet();\r\n\r\nOr you could have your own:\r\n\r\n    i.incr();\r\n","title":"Why cannot I increment returned value?","body":"<blockquote>\n<p>Why is the second construction forbidden?</p>\n</blockquote>\n<p><code>Integer</code> is immutable, so you couldn't change it anyway.  <code>int</code> is mutable but since it only returns a <em>copy</em> on the value, this won't work either.</p>\n<p>E.g.,</p>\n<pre><code>public static Integer getInteger(){\n    return 0;\n}\n\n// what would this do\ngetInteger()++;\n\n// now the method has been changed to \npublic static Integer getInteger(){\n    return 0+1;\n}\n// so now\nSystem.out.println(getInteger()); // prints 1 ??\n</code></pre>\n<blockquote>\n<p>obj.set(obj.get()+1);</p>\n</blockquote>\n<p>This breaks encapsulation as well.  I would suggest a method like this:</p>\n<pre><code>AtomicInteger i = new AtomicInteger(0);\ni.incrementAndGet();\n</code></pre>\n<p>Or you could have your own:</p>\n<pre><code>i.incr();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687984416,"creation_date":1405081618,"answer_id":24697714,"question_id":24697627,"body_markdown":"`8++` will not make sense, while\r\n\r\n    int x=8;\r\n    x++;\r\n\r\ndoes make sense, because x++, is working like `x+=1`, i.e., `x=x+1`\r\nand `8=8+1` is something not acceptable.\r\n","title":"Why cannot I increment returned value?","body":"<p><code>8++</code> will not make sense, while</p>\n<pre><code>int x=8;\nx++;\n</code></pre>\n<p>does make sense, because x++, is working like <code>x+=1</code>, i.e., <code>x=x+1</code>\nand <code>8=8+1</code> is something not acceptable.</p>\n"},{"tags":[],"owner":{"account_id":4523492,"reputation":1277,"user_id":3676021,"accept_rate":57,"display_name":"Kartik_Koro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687984460,"creation_date":1405081819,"answer_id":24697779,"question_id":24697627,"body_markdown":"As it says, it requires a **variable** for `++` operator. `++` increments a value that is stored somewhere, so the incremented value is now stored in that location. Your function just returns a **value**, which is not a **variable**.\r\n\r\nIt&#39;s as simple as Rahul mentioned in the comment.\r\n\r\n    //This works\r\n    x=5;\r\n    x++; //Now x=6 since x++ is equivalent to x=x+1;\r\n\r\n    // This doesn&#39;t work\r\n    5++; // This doesn&#39;t even make sense, trying to do 5=5+1??\r\n\r\n    // Similarly, getNumber() is just a value that is returned, it is a value, not a variable\r\n    // So it is like the second case\r\n    // This doesn&#39;t work\r\n    getNumber()++; //Trying to do getNumber()=getNumber()+1; ??\r\n\r\n","title":"Why cannot I increment returned value?","body":"<p>As it says, it requires a <strong>variable</strong> for <code>++</code> operator. <code>++</code> increments a value that is stored somewhere, so the incremented value is now stored in that location. Your function just returns a <strong>value</strong>, which is not a <strong>variable</strong>.</p>\n<p>It's as simple as Rahul mentioned in the comment.</p>\n<pre><code>//This works\nx=5;\nx++; //Now x=6 since x++ is equivalent to x=x+1;\n\n// This doesn't work\n5++; // This doesn't even make sense, trying to do 5=5+1??\n\n// Similarly, getNumber() is just a value that is returned, it is a value, not a variable\n// So it is like the second case\n// This doesn't work\ngetNumber()++; //Trying to do getNumber()=getNumber()+1; ??\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":24697681,"answer_count":5,"score":1,"last_activity_date":1688052181,"creation_date":1405081354,"question_id":24697627,"body_markdown":"I noticed a surprising behaviour.\r\n\r\nI **can** write so:\r\n\r\n    Integer integer = 0;\r\n    integer++;\r\n\r\nBut I **cannot** write so:\r\n\r\n    getInteger()++;\r\n\r\nHere&#39;s my `getInteger()` method:\r\n\r\n    public static Integer getInteger(){\r\n        return 0;\r\n    }\r\n\r\nFor me, two snippets look the same.\r\n\r\nBut the second piece of code returns an error:\r\n\r\n```lang-none\r\nunexpected type\r\n        getInteger()++;\r\n                  ^\r\n  required: variable\r\n  found:    value\r\n```\r\n\r\nWhy is the second construction forbidden?\r\n\r\nOften, I feel forced to write &quot;ugly&quot; code like this:\r\n\r\n    obj.set(obj.get()+1);\r\n\r\nIt looks redundant.\r\n\r\n\r\n","title":"Why cannot I increment returned value?","body":"<p>I noticed a surprising behaviour.</p>\n<p>I <strong>can</strong> write so:</p>\n<pre><code>Integer integer = 0;\ninteger++;\n</code></pre>\n<p>But I <strong>cannot</strong> write so:</p>\n<pre><code>getInteger()++;\n</code></pre>\n<p>Here's my <code>getInteger()</code> method:</p>\n<pre><code>public static Integer getInteger(){\n    return 0;\n}\n</code></pre>\n<p>For me, two snippets look the same.</p>\n<p>But the second piece of code returns an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>unexpected type\n        getInteger()++;\n                  ^\n  required: variable\n  found:    value\n</code></pre>\n<p>Why is the second construction forbidden?</p>\n<p>Often, I feel forced to write &quot;ugly&quot; code like this:</p>\n<pre><code>obj.set(obj.get()+1);\n</code></pre>\n<p>It looks redundant.</p>\n"},{"tags":["java","timer","cancellation"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1372343116,"creation_date":1355494186,"answer_id":13880286,"question_id":13880202,"body_markdown":"How sure are you that you want to use `Timer`? Use [`ExecutorService`][1] instead, which has `isShutdown` and has a slew of other benefits to boot. A general recommendation as of Java 5 has been to replace `Timer`s with `ExecutorService`s.\r\n\r\nThere&#39;s a `ScheduledExecutorService` interface specifically for scheduled executor services. Instantiate using one of the `Executors.new...` methods.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html","title":"Checking if a Java Timer is cancelled","body":"<p>How sure are you that you want to use <code>Timer</code>? Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\"><code>ExecutorService</code></a> instead, which has <code>isShutdown</code> and has a slew of other benefits to boot. A general recommendation as of Java 5 has been to replace <code>Timer</code>s with <code>ExecutorService</code>s.</p>\n\n<p>There's a <code>ScheduledExecutorService</code> interface specifically for scheduled executor services. Instantiate using one of the <code>Executors.new...</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":10181473,"reputation":464,"user_id":7518083,"display_name":"Marfin. F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688051569,"creation_date":1688051569,"answer_id":76582385,"question_id":13880202,"body_markdown":"I have simpler solution for those people who still wondering how to check if timer is cancelled or not. You can utilize the override function from timer class something like this\r\n\r\n    val timerTask = object : TimerTask() {\r\n       override fun cancel(): Boolean {\r\n          isCancelled = true\r\n          return super.cancel()\r\n       }\r\n\r\n       override fun run() {\r\n          isCancelled = false\r\n          ...\r\n       }\r\n    }","title":"Checking if a Java Timer is cancelled","body":"<p>I have simpler solution for those people who still wondering how to check if timer is cancelled or not. You can utilize the override function from timer class something like this</p>\n<pre><code>val timerTask = object : TimerTask() {\n   override fun cancel(): Boolean {\n      isCancelled = true\n      return super.cancel()\n   }\n\n   override fun run() {\n      isCancelled = false\n      ...\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10227,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":13880286,"answer_count":2,"score":15,"last_activity_date":1688051569,"creation_date":1355493941,"question_id":13880202,"body_markdown":"Why is there no `isCancelled` method for a [java.util.Timer][1] object?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\r\n\r\nI would like to schedule a task if the Timer has not been cancelled, and run it directly (on the same thread) if it has been cancelled.\r\n\r\nIs the only option to catch the `IllegalStateException` that might occur if the Timer already has been cancelled? (It feels wrong to catch an `IllegalStateException`).","title":"Checking if a Java Timer is cancelled","body":"<p>Why is there no <code>isCancelled</code> method for a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\">java.util.Timer</a> object?</p>\n\n<p>I would like to schedule a task if the Timer has not been cancelled, and run it directly (on the same thread) if it has been cancelled.</p>\n\n<p>Is the only option to catch the <code>IllegalStateException</code> that might occur if the Timer already has been cancelled? (It feels wrong to catch an <code>IllegalStateException</code>).</p>\n"},{"tags":["java","spring-boot","kubernetes","spring-cloud","spring-cloud-kubernetes"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":3,"creation_date":1678231622,"post_id":75668043,"comment_id":133492727,"body_markdown":"You need to set `spring.config.import=kubernetes:`, see https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations Otherwise you need to enable bootstrap as documented","body":"You need to set <code>spring.config.import=kubernetes:</code>, see <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-kubernetes/docs/current/referenc&zwnj;&#8203;e/&hellip;</a> Otherwise you need to enable bootstrap as documented"},{"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1678235860,"post_id":75668043,"comment_id":133493349,"body_markdown":"Yup, that&#39;s what I was missing.  Also, note the trailing colon","body":"Yup, that&#39;s what I was missing.  Also, note the trailing colon"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680681516,"creation_date":1680681516,"answer_id":75936958,"question_id":75668043,"body_markdown":"As Spencer commented, you need to enable &quot;config-data&quot; support in `application.yaml` (see documentation [here](https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations)).\r\n\r\nThe thing to note is that, while we indeed added this support, at the moment it is a bit limited compared to bootstrap. For example, you can&#39;t read multiple secrets, for that you will need to still enable bootstrap. ","title":"How do I load properties from a Kubernetes configmap into my Spring Boot application using Spring Cloud?","body":"<p>As Spencer commented, you need to enable &quot;config-data&quot; support in <code>application.yaml</code> (see documentation <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>The thing to note is that, while we indeed added this support, at the moment it is a bit limited compared to bootstrap. For example, you can't read multiple secrets, for that you will need to still enable bootstrap.</p>\n"},{"tags":[],"owner":{"account_id":5117612,"reputation":276,"user_id":4102241,"display_name":"F&#225;bio Almeida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688051417,"creation_date":1688051417,"answer_id":76582359,"question_id":75668043,"body_markdown":"I faced this issue too. To solve this, I needed to insert 2 dependencies into my pom.xml.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe tip is the artifact `spring-cloud-starter-bootstrap`, as mentioned in documentation:\r\n\r\n&gt; If you would like to load Kubernetes PropertySources during the bootstrap phase like it worked prior to the 3.0.x release you can either add spring-cloud-starter-bootstrap to your application’s classpath or set spring.cloud.bootstrap.enabled=true as an environment variable.","title":"How do I load properties from a Kubernetes configmap into my Spring Boot application using Spring Cloud?","body":"<p>I faced this issue too. To solve this, I needed to insert 2 dependencies into my pom.xml.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The tip is the artifact <code>spring-cloud-starter-bootstrap</code>, as mentioned in documentation:</p>\n<blockquote>\n<p>If you would like to load Kubernetes PropertySources during the bootstrap phase like it worked prior to the 3.0.x release you can either add spring-cloud-starter-bootstrap to your application’s classpath or set spring.cloud.bootstrap.enabled=true as an environment variable.</p>\n</blockquote>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2625,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688051417,"creation_date":1678230801,"question_id":75668043,"body_markdown":"I am attempting to load properties from a K8s configmap into my Spring Boot service using Spring Cloud Kubernetes Fabric8, as described in the Spring Cloud docs [here][1].\r\n\r\nMy configmap for my service looks like this:\r\n\r\n```\r\napiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  name: foo-my-service\r\n  namespace: foo\r\n  labels:\r\n    helm.sh/chart: my-service-1.0.0-SNAPSHOT\r\n    app.kubernetes.io/name: my-service\r\n    app.kubernetes.io/instance: foo\r\n    app.kubernetes.io/version: &quot;1.0.0-SNAPSHOT&quot;\r\n    app.kubernetes.io/managed-by: Helm\r\ndata:\r\n  spring.datasource.url: jdbc:postgresql://foo-postgresql/mydb\r\n```\r\n\r\nAnd my Spring Boot `application.yaml` looks like this:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: foo-my-service\r\n  cloud:\r\n    kubernetes:\r\n      secrets:\r\n        enable-api: true\r\n\r\n```\r\n\r\nI&#39;m using Fabric8 to communicate with k8s.  This dependency is brought in as ` org.springframework.cloud:spring-cloud-starter-kubernetes-fabric8-config:jar:3.0.1` in my Maven pom.\r\n\r\nI&#39;m using Spring Boot version 3.0.3 and Spring Cloud 2022.0.1.\r\n\r\nWhat I expect to happen based on the Spring Cloud documentation is that my `spring.datasource.url` property will be set from the value in the configmap.\r\n\r\nWhat&#39;s actually happening is that the property is not detected, and the Spring Boot application fails to start when it tries to use the property to run a Flyway migration.\r\n\r\n```\r\n│ Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.                                                                                                                                       │\r\n│ Reason: Failed to determine suitable jdbc url                                                                                                                                                                                                            │\r\n```\r\n\r\nIf I downgrade my Spring Boot version to 2.x and Spring Cloud to the corresponding version, then this works (my application starts up and the `spring.datasource.url` property is set to the value in the configmap).\r\n\r\nHow do I get this to work in Spring Boot 3?\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#configmap-propertysource","title":"How do I load properties from a Kubernetes configmap into my Spring Boot application using Spring Cloud?","body":"<p>I am attempting to load properties from a K8s configmap into my Spring Boot service using Spring Cloud Kubernetes Fabric8, as described in the Spring Cloud docs <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#configmap-propertysource\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>My configmap for my service looks like this:</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: foo-my-service\n  namespace: foo\n  labels:\n    helm.sh/chart: my-service-1.0.0-SNAPSHOT\n    app.kubernetes.io/name: my-service\n    app.kubernetes.io/instance: foo\n    app.kubernetes.io/version: &quot;1.0.0-SNAPSHOT&quot;\n    app.kubernetes.io/managed-by: Helm\ndata:\n  spring.datasource.url: jdbc:postgresql://foo-postgresql/mydb\n</code></pre>\n<p>And my Spring Boot <code>application.yaml</code> looks like this:</p>\n<pre><code>spring:\n  application:\n    name: foo-my-service\n  cloud:\n    kubernetes:\n      secrets:\n        enable-api: true\n\n</code></pre>\n<p>I'm using Fabric8 to communicate with k8s.  This dependency is brought in as <code> org.springframework.cloud:spring-cloud-starter-kubernetes-fabric8-config:jar:3.0.1</code> in my Maven pom.</p>\n<p>I'm using Spring Boot version 3.0.3 and Spring Cloud 2022.0.1.</p>\n<p>What I expect to happen based on the Spring Cloud documentation is that my <code>spring.datasource.url</code> property will be set from the value in the configmap.</p>\n<p>What's actually happening is that the property is not detected, and the Spring Boot application fails to start when it tries to use the property to run a Flyway migration.</p>\n<pre><code>│ Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.                                                                                                                                       │\n│ Reason: Failed to determine suitable jdbc url                                                                                                                                                                                                            │\n</code></pre>\n<p>If I downgrade my Spring Boot version to 2.x and Spring Cloud to the corresponding version, then this works (my application starts up and the <code>spring.datasource.url</code> property is set to the value in the configmap).</p>\n<p>How do I get this to work in Spring Boot 3?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-autoconfiguration"],"answers":[{"tags":[],"owner":{"account_id":6338394,"reputation":402,"user_id":4921141,"accept_rate":100,"display_name":"Brent Thoenen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688050303,"creation_date":1688050303,"answer_id":76582213,"question_id":70960696,"body_markdown":"I moved away from the design pattern I&#39;m currently using, but I did find a way to make it work. Using the code from the question, my header already worked as is, since you can only write 1 header on a file. The issue was the footer. To mitigate the issues of writing multiple footers, I just set a boolean in the FooterItemWriter to determine if a single footer had been written yet. \r\n\r\n    @Component\r\n    public class ElectronicDocumentsFooterWriter implements FlatFileFooterCallback {\r\n\t    private static boolean footerWritten = false;\r\n\t    private final RecordService recordService;\r\n\r\n\t    public ElectronicDocumentsFooterWriter(RecordService recordService) {\r\n\t\t    this.recordService = recordService;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void writeFooter(Writer writer) throws IOException {\r\n\t\t    if (!footerWritten) {\r\n\t\t\t    writer.write(recordService.deriveFooter());\r\n\t\t\t    footerWritten = true;\r\n\t\t    }\r\n\t    }\r\n    }","title":"Spring Batch: How to specify a single header and footer line for ClassifierCompositeItemWriter writing into 1 file","body":"<p>I moved away from the design pattern I'm currently using, but I did find a way to make it work. Using the code from the question, my header already worked as is, since you can only write 1 header on a file. The issue was the footer. To mitigate the issues of writing multiple footers, I just set a boolean in the FooterItemWriter to determine if a single footer had been written yet.</p>\n<pre><code>@Component\npublic class ElectronicDocumentsFooterWriter implements FlatFileFooterCallback {\n    private static boolean footerWritten = false;\n    private final RecordService recordService;\n\n    public ElectronicDocumentsFooterWriter(RecordService recordService) {\n        this.recordService = recordService;\n    }\n\n    @Override\n    public void writeFooter(Writer writer) throws IOException {\n        if (!footerWritten) {\n            writer.write(recordService.deriveFooter());\n            footerWritten = true;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6338394,"reputation":402,"user_id":4921141,"accept_rate":100,"display_name":"Brent Thoenen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76582213,"answer_count":1,"score":1,"last_activity_date":1688050303,"creation_date":1643825532,"question_id":70960696,"body_markdown":"```\r\nStepConfig.java\r\n\r\npackage electronicdocumentdeliverybatch.config;\r\n\r\nimport electronicdocumentdeliverybatch.models.*;\r\nimport electronicdocumentdeliverybatch.models.properties.TestFileProperties;\r\nimport electronicdocumentdeliverybatch.models.stepModals.ElectronicDocumentsBatchOutput;\r\nimport electronicdocumentdeliverybatch.utils.FlatFileConstants;\r\nimport org.springframework.amqp.core.Message;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.item.ItemProcessor;\r\nimport org.springframework.batch.item.ItemReader;\r\nimport org.springframework.batch.item.ItemWriter;\r\nimport org.springframework.batch.item.file.FlatFileFooterCallback;\r\nimport org.springframework.batch.item.file.FlatFileHeaderCallback;\r\nimport org.springframework.batch.item.file.FlatFileItemWriter;\r\nimport org.springframework.batch.item.file.transform.BeanWrapperFieldExtractor;\r\nimport org.springframework.batch.item.file.transform.FormatterLineAggregator;\r\nimport org.springframework.batch.item.support.ClassifierCompositeItemWriter;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.classify.SubclassClassifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.FileSystemResource;\r\n\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\npublic class StepConfig {\r\n\r\n\tprivate &lt;T&gt; FormatterLineAggregator&lt;T&gt; createLineAggregator(String[] fieldNames, String fieldFormat) {\r\n\t\tFormatterLineAggregator&lt;T&gt; lineAggregator = new FormatterLineAggregator&lt;&gt;();\r\n\t\tBeanWrapperFieldExtractor&lt;T&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\r\n\t\tfieldExtractor.setNames(fieldNames);\r\n\t\tlineAggregator.setFormat(fieldFormat);\r\n\t\tlineAggregator.setFieldExtractor(fieldExtractor);\r\n\t\treturn lineAggregator;\r\n\t}\r\n\r\n\t@Bean(name = &quot;NP01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;NP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.NP01_CSV_FIELD_NAMES, FlatFileConstants.NP01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;FP01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;FP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.FP01_CSV_FIELD_NAMES, FlatFileConstants.FP01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;SJ01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;SJ01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.SJ01_CSV_FIELD_NAMES, FlatFileConstants.SJ01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;PR01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;PR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.PR01_CSV_FIELD_NAMES, FlatFileConstants.PR01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;FR01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;FR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.FR01_CSV_FIELD_NAMES, FlatFileConstants.FR01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;MR01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;MR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.MR01_CSV_FIELD_NAMES, FlatFileConstants.MR01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;DP01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;DP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.DP01_CSV_FIELD_NAMES, FlatFileConstants.DP01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;ClassifierCompositeItemWriter&quot;)\r\n\tpublic ClassifierCompositeItemWriter&lt;BatchOutput&gt; classifierCompositeItemWriter(SubclassClassifier subclassClassifier) {\r\n\t\tClassifierCompositeItemWriter&lt;BatchOutput&gt; writer = new ClassifierCompositeItemWriter&lt;&gt;();\r\n\t\twriter.setClassifier(subclassClassifier);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SubclassClassifier&lt;Object, Object&gt; subclassClassifier(\r\n\t\t\tFlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\r\n\t\t\tFlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\r\n\t\t\tFlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\r\n\t\t\tFlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\r\n\t\tSubclassClassifier&lt;Object, Object&gt; classifier = new SubclassClassifier&lt;&gt;();\r\n\t\tHashMap&lt;Class&lt;?&gt;, Object&gt; typeMap = new HashMap&lt;&gt;();\r\n\t\ttypeMap.put(NP01BatchOutput.class, np01FlatFileItemWriter);\r\n\t\ttypeMap.put(FP01BatchOutput.class, fp01FlatFileItemWriter);\r\n\t\ttypeMap.put(SJ01BatchOutput.class, sj01FlatFileItemWriter);\r\n\t\ttypeMap.put(PR01BatchOutput.class, pr01FlatFileItemWriter);\r\n\t\ttypeMap.put(FR01BatchOutput.class, fr01FlatFileItemWriter);\r\n\t\ttypeMap.put(MR01BatchOutput.class, mr01FlatFileItemWriter);\r\n\t\ttypeMap.put(DP01BatchOutput.class, dp01FlatFileItemWriter);\r\n\t\tclassifier.setTypeMap(typeMap);\r\n\t\treturn classifier;\r\n\t}\r\n\r\n\r\n\t@Bean(name = &quot;createFlatFileStep&quot;)\r\n\tpublic Step documentDeliveryStep(StepBuilderFactory stepBuilderFactory,\r\n\t\t\t\t\t\t\t\t\t @Qualifier(&quot;electronicDocumentsQueueItemReader&quot;) ItemReader&lt;Message&gt; reader,\r\n\t\t\t\t\t\t\t\t\t @Qualifier(&quot;electronicDocumentsQueueItemProcessor&quot;) ItemProcessor&lt;Message, ElectronicDocumentsBatchOutput&gt; itemProcessor,\r\n\t\t\t\t\t\t\t\t\t @Qualifier(&quot;electronicDocumentsQueueItemWriter&quot;) ItemWriter&lt;ElectronicDocumentsBatchOutput&gt; writer,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\r\n\t\treturn stepBuilderFactory.get(&quot;computeFlatFile&quot;)\r\n\t\t\t\t.&lt;Message, ElectronicDocumentsBatchOutput&gt;chunk(1)\r\n\t\t\t\t.reader(reader)\r\n\t\t\t\t.processor(itemProcessor)\r\n\t\t\t\t.writer(writer)\r\n\t\t\t\t.stream(np01FlatFileItemWriter)\r\n\t\t\t\t.stream(mr01FlatFileItemWriter)\r\n\t\t\t\t.stream(fp01FlatFileItemWriter)\r\n\t\t\t\t.stream(sj01FlatFileItemWriter)\r\n\t\t\t\t.stream(pr01FlatFileItemWriter)\r\n\t\t\t\t.stream(fr01FlatFileItemWriter)\r\n\t\t\t\t.stream(dp01FlatFileItemWriter)\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nI have a ClassifierCompositeItemWriter that contains multiple FlatFileItemWriters. The FlatFileItemWriters handle different object types, and output a single line into the SAME flat file. All of that works as of now. What I need to add is a single header and footer to the single output file from the batch. Using the current setup, I believe the header works, though not in as intentional of a way as I would prefer (First call to headerCallback will only happen once, from what I&#39;m noticing). My current footer setup calls for the footer string multiple times, as in it calls the footerCallback on every single writer, not just 1. I think I could do this manually just fine, but I was hoping I could find a solution that is more associated to spring configurations if possible. \r\n\r\nTo summarize, is there a way to Spring Boot auto-configure header and footer lines for a flat file when writing from multiple writers into a single file?\r\n\r\n","title":"Spring Batch: How to specify a single header and footer line for ClassifierCompositeItemWriter writing into 1 file","body":"<pre><code>StepConfig.java\n\npackage electronicdocumentdeliverybatch.config;\n\nimport electronicdocumentdeliverybatch.models.*;\nimport electronicdocumentdeliverybatch.models.properties.TestFileProperties;\nimport electronicdocumentdeliverybatch.models.stepModals.ElectronicDocumentsBatchOutput;\nimport electronicdocumentdeliverybatch.utils.FlatFileConstants;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.item.ItemProcessor;\nimport org.springframework.batch.item.ItemReader;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.batch.item.file.FlatFileFooterCallback;\nimport org.springframework.batch.item.file.FlatFileHeaderCallback;\nimport org.springframework.batch.item.file.FlatFileItemWriter;\nimport org.springframework.batch.item.file.transform.BeanWrapperFieldExtractor;\nimport org.springframework.batch.item.file.transform.FormatterLineAggregator;\nimport org.springframework.batch.item.support.ClassifierCompositeItemWriter;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.classify.SubclassClassifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.FileSystemResource;\n\nimport java.util.HashMap;\n\n@Configuration\npublic class StepConfig {\n\n    private &lt;T&gt; FormatterLineAggregator&lt;T&gt; createLineAggregator(String[] fieldNames, String fieldFormat) {\n        FormatterLineAggregator&lt;T&gt; lineAggregator = new FormatterLineAggregator&lt;&gt;();\n        BeanWrapperFieldExtractor&lt;T&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\n        fieldExtractor.setNames(fieldNames);\n        lineAggregator.setFormat(fieldFormat);\n        lineAggregator.setFieldExtractor(fieldExtractor);\n        return lineAggregator;\n    }\n\n    @Bean(name = &quot;NP01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;NP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.NP01_CSV_FIELD_NAMES, FlatFileConstants.NP01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;FP01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;FP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.FP01_CSV_FIELD_NAMES, FlatFileConstants.FP01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;SJ01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;SJ01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.SJ01_CSV_FIELD_NAMES, FlatFileConstants.SJ01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;PR01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;PR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.PR01_CSV_FIELD_NAMES, FlatFileConstants.PR01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;FR01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;FR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.FR01_CSV_FIELD_NAMES, FlatFileConstants.FR01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;MR01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;MR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.MR01_CSV_FIELD_NAMES, FlatFileConstants.MR01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;DP01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;DP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.DP01_CSV_FIELD_NAMES, FlatFileConstants.DP01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;ClassifierCompositeItemWriter&quot;)\n    public ClassifierCompositeItemWriter&lt;BatchOutput&gt; classifierCompositeItemWriter(SubclassClassifier subclassClassifier) {\n        ClassifierCompositeItemWriter&lt;BatchOutput&gt; writer = new ClassifierCompositeItemWriter&lt;&gt;();\n        writer.setClassifier(subclassClassifier);\n        return writer;\n    }\n\n    @Bean\n    public SubclassClassifier&lt;Object, Object&gt; subclassClassifier(\n            FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\n            FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\n            FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\n            FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\n        SubclassClassifier&lt;Object, Object&gt; classifier = new SubclassClassifier&lt;&gt;();\n        HashMap&lt;Class&lt;?&gt;, Object&gt; typeMap = new HashMap&lt;&gt;();\n        typeMap.put(NP01BatchOutput.class, np01FlatFileItemWriter);\n        typeMap.put(FP01BatchOutput.class, fp01FlatFileItemWriter);\n        typeMap.put(SJ01BatchOutput.class, sj01FlatFileItemWriter);\n        typeMap.put(PR01BatchOutput.class, pr01FlatFileItemWriter);\n        typeMap.put(FR01BatchOutput.class, fr01FlatFileItemWriter);\n        typeMap.put(MR01BatchOutput.class, mr01FlatFileItemWriter);\n        typeMap.put(DP01BatchOutput.class, dp01FlatFileItemWriter);\n        classifier.setTypeMap(typeMap);\n        return classifier;\n    }\n\n\n    @Bean(name = &quot;createFlatFileStep&quot;)\n    public Step documentDeliveryStep(StepBuilderFactory stepBuilderFactory,\n                                     @Qualifier(&quot;electronicDocumentsQueueItemReader&quot;) ItemReader&lt;Message&gt; reader,\n                                     @Qualifier(&quot;electronicDocumentsQueueItemProcessor&quot;) ItemProcessor&lt;Message, ElectronicDocumentsBatchOutput&gt; itemProcessor,\n                                     @Qualifier(&quot;electronicDocumentsQueueItemWriter&quot;) ItemWriter&lt;ElectronicDocumentsBatchOutput&gt; writer,\n                                     FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\n                                     FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\n                                     FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\n                                     FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\n        return stepBuilderFactory.get(&quot;computeFlatFile&quot;)\n                .&lt;Message, ElectronicDocumentsBatchOutput&gt;chunk(1)\n                .reader(reader)\n                .processor(itemProcessor)\n                .writer(writer)\n                .stream(np01FlatFileItemWriter)\n                .stream(mr01FlatFileItemWriter)\n                .stream(fp01FlatFileItemWriter)\n                .stream(sj01FlatFileItemWriter)\n                .stream(pr01FlatFileItemWriter)\n                .stream(fr01FlatFileItemWriter)\n                .stream(dp01FlatFileItemWriter)\n                .build();\n    }\n}\n\n</code></pre>\n<p>I have a ClassifierCompositeItemWriter that contains multiple FlatFileItemWriters. The FlatFileItemWriters handle different object types, and output a single line into the SAME flat file. All of that works as of now. What I need to add is a single header and footer to the single output file from the batch. Using the current setup, I believe the header works, though not in as intentional of a way as I would prefer (First call to headerCallback will only happen once, from what I'm noticing). My current footer setup calls for the footer string multiple times, as in it calls the footerCallback on every single writer, not just 1. I think I could do this manually just fine, but I was hoping I could find a solution that is more associated to spring configurations if possible.</p>\n<p>To summarize, is there a way to Spring Boot auto-configure header and footer lines for a flat file when writing from multiple writers into a single file?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","many-to-many"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688049528,"post_id":76582091,"comment_id":135024248,"body_markdown":"You are looking for `cascade`. I&#39;d expect that `@ManyToMany` and `@ManyToOne` allow you to configure it.","body":"You are looking for <code>cascade</code>. I&#39;d expect that <code>@ManyToMany</code> and <code>@ManyToOne</code> allow you to configure it."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688049761,"post_id":76582091,"comment_id":135024304,"body_markdown":"Thank You for pointing it out. Actually I need to delete the Many to Many relationship between PolicyCounty and the UserPolicyQuery table which is established by the query_policy_county table.","body":"Thank You for pointing it out. Actually I need to delete the Many to Many relationship between PolicyCounty and the UserPolicyQuery table which is established by the query_policy_county table."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688049809,"post_id":76582091,"comment_id":135024320,"body_markdown":"This is because a UserPolicyQuery might be associated with some other PolicyCounties which are not getting deleted. I have slightly changed the description in my question.","body":"This is because a UserPolicyQuery might be associated with some other PolicyCounties which are not getting deleted. I have slightly changed the description in my question."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688050185,"creation_date":1688049814,"answer_id":76582157,"question_id":76582091,"body_markdown":"You may need to:\r\n1. In `PolicyCounty`, just add a `UserPolicyQuery` relationship with `orphanRemoval=true` - this deletes queries when their associated PolicyCounty is deleted\r\n2. In `UserPolicyQuery` you need to remove `CascadeType.REMOVE` from the `PolicyCounty` relationship, since this prevents deletion of `PolicyCounty` when the query is deleted (!)\r\n3. In `Company`, add `CascadeType.REMOVE` to `InsurancePolicy` join - this deletes policies and associated `PolicyCounty` and `UserPolicyQueries` when a company is deleted\r\n\r\nSo you&#39;ll get something like:\r\n```java\r\n// `PolicyCounty`\r\n@OneToMany(mappedBy = &quot;policyCounty&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\nprivate Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\r\n```\r\n\r\n```java\r\n// `UserPolicyQuery`\r\n@ManyToMany(fetch = FetchType.LAZY)\r\n@JoinTable(name=&quot;query_policy_county&quot;,\r\n        joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\r\nprivate Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n```\r\n\r\n```\r\n// `Company`\r\n@OneToMany(mappedBy = &quot;company&quot;, cascade = CascadeType.REMOVE)\r\nprivate Set&lt;InsurancePolicy&gt; insurancePolicies = new HashSet&lt;&gt;();\r\n```\r\n\r\n**UPD:**\r\nYou may also use an `Entity Listener` to perform the manual deletion of the relationships, kinda:\r\n```java\r\npublic class PolicyCountyListener {\r\n\r\n    @PostRemove\r\n    public void postRemove(PolicyCounty policyCounty) {\r\n        for (UserPolicyQuery userPolicyQuery: policyCounty.getUserPolicyQueries()) {\r\n            userPolicyQuery.getPolicyCounties().remove(policyCounty);\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\n@EntityListeners(PolicyCountyListener.class)\r\npublic class PolicyCounty {\r\n...\r\n```\r\nSo when a `PolicyCounty` entity is deleted, it will automaticaly remove its associations with UserPolicyQuery entities as well, but not delete those entities completely","title":"Delete entities related by ManyToMany relationships, when one side is deleted: Spring Boot and JPA","body":"<p>You may need to:</p>\n<ol>\n<li>In <code>PolicyCounty</code>, just add a <code>UserPolicyQuery</code> relationship with <code>orphanRemoval=true</code> - this deletes queries when their associated PolicyCounty is deleted</li>\n<li>In <code>UserPolicyQuery</code> you need to remove <code>CascadeType.REMOVE</code> from the <code>PolicyCounty</code> relationship, since this prevents deletion of <code>PolicyCounty</code> when the query is deleted (!)</li>\n<li>In <code>Company</code>, add <code>CascadeType.REMOVE</code> to <code>InsurancePolicy</code> join - this deletes policies and associated <code>PolicyCounty</code> and <code>UserPolicyQueries</code> when a company is deleted</li>\n</ol>\n<p>So you'll get something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// `PolicyCounty`\n@OneToMany(mappedBy = &quot;policyCounty&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// `UserPolicyQuery`\n@ManyToMany(fetch = FetchType.LAZY)\n@JoinTable(name=&quot;query_policy_county&quot;,\n        joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\n        inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\nprivate Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n</code></pre>\n<pre><code>// `Company`\n@OneToMany(mappedBy = &quot;company&quot;, cascade = CascadeType.REMOVE)\nprivate Set&lt;InsurancePolicy&gt; insurancePolicies = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>UPD:</strong>\nYou may also use an <code>Entity Listener</code> to perform the manual deletion of the relationships, kinda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PolicyCountyListener {\n\n    @PostRemove\n    public void postRemove(PolicyCounty policyCounty) {\n        for (UserPolicyQuery userPolicyQuery: policyCounty.getUserPolicyQueries()) {\n            userPolicyQuery.getPolicyCounties().remove(policyCounty);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EntityListeners(PolicyCountyListener.class)\npublic class PolicyCounty {\n...\n</code></pre>\n<p>So when a <code>PolicyCounty</code> entity is deleted, it will automaticaly remove its associations with UserPolicyQuery entities as well, but not delete those entities completely</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688050185,"creation_date":1688049359,"question_id":76582091,"body_markdown":"I have a scenario with two **ManyToMany** relationships. I have following entities-  \r\n1. InsurancePolicy - hold policy details\r\n2. County -hold the country/state details\r\n3. PolicyCounty (entity maintaining ManyToMany relationship between InsurancePolicy and County, and an additional attribute in this relationship is cost).\r\n4. User -hold user details (has One To Many relationship with UserPolicyQuery)\r\n5. UserPolicyQuery (this has a many to many relationship with PolicyCounty).  \r\nHere is the code-  \r\n\r\n**User-**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column (name =&quot;userid&quot; )\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long userId;\r\n\r\n    @Column(name=&quot;firstname&quot;,nullable = false)\r\n    private String firstName;\r\n\r\n\r\n    @Column(name=&quot;lastname&quot;,nullable = false)\r\n    private String lastName;\r\n\r\n\r\n    @Column(name = &quot;useremail&quot;,nullable = false)\r\n    private String email;\r\n\r\n\r\n\r\n    @Column(name = &quot;phonenumber&quot;,nullable = false)\r\n    private long phoneNumber;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;userId=&quot; + userId +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, phoneNumber=&quot; + phoneNumber +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n**UserPolicyQuery-**\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name=&quot;user_policy_query&quot;)\r\npublic class UserPolicyQuery {\r\n\r\n    @Id\r\n    @Column(name=&quot;query_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long queryId;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\r\n    private User user;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;query_policy_county&quot;,\r\n            joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\r\n    private Set&lt;PolicyCounty&gt; policyCounties=new HashSet&lt;&gt;();\r\n\r\n\r\n    @Column(name=&quot;comment&quot;,nullable = true)\r\n    private String comment;\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;UserPolicyQuery{&quot; +\r\n                &quot;queryId=&quot; + queryId +\r\n                &quot;, user=&quot; + user +\r\n                &quot;, comment=&#39;&quot; + comment + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n**PolicyCounty-**\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@Setter\r\n@Entity\r\n@Table(name=&quot;policy_county&quot;)\r\npublic class PolicyCounty {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_county_id&quot;)\r\n    private long policyCountyId;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;policy_id&quot;)\r\n    private InsurancePolicy policy;\r\n\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;county_id&quot;)\r\n    private County county;\r\n\r\n    @Column(name=&quot;cost&quot;,nullable = false)\r\n    private double cost;\r\n\r\n\r\n\r\n\r\n\r\n    public long getPolicyCountyId() {\r\n        return policyCountyId;\r\n    }\r\n\r\n    public InsurancePolicy getPolicy() {\r\n        System.out.println(&quot;Policy County: getPolicy() called&quot;);\r\n        return policy;\r\n    }\r\n\r\n    public County getCounty() {\r\n        System.out.println(&quot;Policy county: getCounty() called&quot;);\r\n        return county;\r\n    }\r\n\r\n    public double getCost() {\r\n        return cost;\r\n    }\r\n}\r\n```\r\nand **InsurancePolicy-**  \r\n```\r\n@Entity\r\n@Table(name = &quot;insurance_policy&quot;)\r\n@Setter\r\n@NoArgsConstructor\r\npublic class InsurancePolicy {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_id&quot;)\r\n    private long policyId;\r\n\r\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\r\n    private String policyName;\r\n\r\n    //Short description\r\n    @Column(name=&quot;policy_description&quot;,nullable = false)\r\n    private String policyDescription;\r\n\r\n    //Long description\r\n    @Column(name=&quot;choose_description&quot;,nullable = false)\r\n    private String chooseDescription;\r\n\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\r\n    private Company company;\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\r\n    private Category category;\r\n\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n\r\n    public long getPolicyId() {\r\n        return policyId;\r\n    }\r\n\r\n    public String getPolicyName() {\r\n        return policyName;\r\n    }\r\n\r\n    public String getPolicyDescription() {\r\n        return policyDescription;\r\n    }\r\n\r\n    public String getChooseDescription() {\r\n        return chooseDescription;\r\n    }\r\n\r\n    public Company getCompany() {\r\n        System.out.println(&quot;InsurancePolicy.getCompany() called&quot;);\r\n        return company;\r\n    }\r\n\r\n    public Category getCategory() {\r\n        return category;\r\n    }\r\n\r\n\r\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\r\n        System.out.println(&quot;Insurance policy getPolicyCounties called&quot;);\r\n        return policyCounties;\r\n    }\r\n}\r\n```\r\nNow, my requirement is-  \r\n1. When I delete an **InsurancePolicy**, I need to delete the corresponding **PolicyCounty** (I have achieved till here), and also delete any mapping of **UserPolicyQueries which are referencing the **PolicyCounties** (i.e., I have to delete the record that a particular **UserPolicyQuery** is associated with the **PolicyCounty** (which is getting deleted).\r\n2. When a **User** or **UserPolicyQuery** is deleted, the mappings with **PolicyCounty** must be deleted, but not the **PolicyCounties**.  \r\n3. In case a company is deleted, all its policies will have to be deleted and thus, all its associated **PolicyCounty** and **UserPolicyQueries** mappings will have to be deleted.  \r\n\r\nIn short, I want to delete the relationship between **PolicyCounty** and **UserPolicyQuery** which is held by the table **query_policy_county** when policy is deleted (or **PolicyCounty** is deleted) and don&#39;t delete the **PolicyCounties** when query is deleted.\r\nDue to two ManyToMany relationships, I am not quite not able to understand what exactly to do in this case. Please help!","title":"Delete entities related by ManyToMany relationships, when one side is deleted: Spring Boot and JPA","body":"<p>I have a scenario with two <strong>ManyToMany</strong> relationships. I have following entities-</p>\n<ol>\n<li>InsurancePolicy - hold policy details</li>\n<li>County -hold the country/state details</li>\n<li>PolicyCounty (entity maintaining ManyToMany relationship between InsurancePolicy and County, and an additional attribute in this relationship is cost).</li>\n<li>User -hold user details (has One To Many relationship with UserPolicyQuery)</li>\n<li>UserPolicyQuery (this has a many to many relationship with PolicyCounty).<br />\nHere is the code-</li>\n</ol>\n<p><strong>User-</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User {\n\n    @Id\n    @Column (name =&quot;userid&quot; )\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long userId;\n\n    @Column(name=&quot;firstname&quot;,nullable = false)\n    private String firstName;\n\n\n    @Column(name=&quot;lastname&quot;,nullable = false)\n    private String lastName;\n\n\n    @Column(name = &quot;useremail&quot;,nullable = false)\n    private String email;\n\n\n\n    @Column(name = &quot;phonenumber&quot;,nullable = false)\n    private long phoneNumber;\n\n\n    @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\n\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;userId=&quot; + userId +\n                &quot;, firstName='&quot; + firstName + '\\'' +\n                &quot;, lastName='&quot; + lastName + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, phoneNumber=&quot; + phoneNumber +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>UserPolicyQuery-</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name=&quot;user_policy_query&quot;)\npublic class UserPolicyQuery {\n\n    @Id\n    @Column(name=&quot;query_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long queryId;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\n    private User user;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name=&quot;query_policy_county&quot;,\n            joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\n    private Set&lt;PolicyCounty&gt; policyCounties=new HashSet&lt;&gt;();\n\n\n    @Column(name=&quot;comment&quot;,nullable = true)\n    private String comment;\n\n\n    @Override\n    public String toString() {\n        return &quot;UserPolicyQuery{&quot; +\n                &quot;queryId=&quot; + queryId +\n                &quot;, user=&quot; + user +\n                &quot;, comment='&quot; + comment + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>PolicyCounty-</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@Setter\n@Entity\n@Table(name=&quot;policy_county&quot;)\npublic class PolicyCounty {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_county_id&quot;)\n    private long policyCountyId;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;policy_id&quot;)\n    private InsurancePolicy policy;\n\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;county_id&quot;)\n    private County county;\n\n    @Column(name=&quot;cost&quot;,nullable = false)\n    private double cost;\n\n\n\n\n\n    public long getPolicyCountyId() {\n        return policyCountyId;\n    }\n\n    public InsurancePolicy getPolicy() {\n        System.out.println(&quot;Policy County: getPolicy() called&quot;);\n        return policy;\n    }\n\n    public County getCounty() {\n        System.out.println(&quot;Policy county: getCounty() called&quot;);\n        return county;\n    }\n\n    public double getCost() {\n        return cost;\n    }\n}\n</code></pre>\n<p>and <strong>InsurancePolicy-</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;insurance_policy&quot;)\n@Setter\n@NoArgsConstructor\npublic class InsurancePolicy {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_id&quot;)\n    private long policyId;\n\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\n    private String policyName;\n\n    //Short description\n    @Column(name=&quot;policy_description&quot;,nullable = false)\n    private String policyDescription;\n\n    //Long description\n    @Column(name=&quot;choose_description&quot;,nullable = false)\n    private String chooseDescription;\n\n\n    //many policies can belong to one category\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\n    private Company company;\n\n    //many policies can belong to one category\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\n    private Category category;\n\n\n\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n\n    public long getPolicyId() {\n        return policyId;\n    }\n\n    public String getPolicyName() {\n        return policyName;\n    }\n\n    public String getPolicyDescription() {\n        return policyDescription;\n    }\n\n    public String getChooseDescription() {\n        return chooseDescription;\n    }\n\n    public Company getCompany() {\n        System.out.println(&quot;InsurancePolicy.getCompany() called&quot;);\n        return company;\n    }\n\n    public Category getCategory() {\n        return category;\n    }\n\n\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\n        System.out.println(&quot;Insurance policy getPolicyCounties called&quot;);\n        return policyCounties;\n    }\n}\n</code></pre>\n<p>Now, my requirement is-</p>\n<ol>\n<li>When I delete an <strong>InsurancePolicy</strong>, I need to delete the corresponding <strong>PolicyCounty</strong> (I have achieved till here), and also delete any mapping of **UserPolicyQueries which are referencing the <strong>PolicyCounties</strong> (i.e., I have to delete the record that a particular <strong>UserPolicyQuery</strong> is associated with the <strong>PolicyCounty</strong> (which is getting deleted).</li>\n<li>When a <strong>User</strong> or <strong>UserPolicyQuery</strong> is deleted, the mappings with <strong>PolicyCounty</strong> must be deleted, but not the <strong>PolicyCounties</strong>.</li>\n<li>In case a company is deleted, all its policies will have to be deleted and thus, all its associated <strong>PolicyCounty</strong> and <strong>UserPolicyQueries</strong> mappings will have to be deleted.</li>\n</ol>\n<p>In short, I want to delete the relationship between <strong>PolicyCounty</strong> and <strong>UserPolicyQuery</strong> which is held by the table <strong>query_policy_county</strong> when policy is deleted (or <strong>PolicyCounty</strong> is deleted) and don't delete the <strong>PolicyCounties</strong> when query is deleted.\nDue to two ManyToMany relationships, I am not quite not able to understand what exactly to do in this case. Please help!</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688049852,"creation_date":1688049852,"answer_id":76582167,"question_id":76581775,"body_markdown":"1. You should [avoid blocking](https://stackoverflow.com/a/75096742/2678097). Blocking is designed for cases where you have to interact with non reactive components.\r\n2. If you return a Mono, you should not subscribe yourself. It is the user/consumer that should do it.\r\n\r\nNow, you can achieve what you want by modifying your second example:\r\n\r\n1. Change *filter* with *filterWhen*, to allow a reactive stream as operator, instead of a blocking op.\r\n2. Return the resulting reactive pipeline directly, instead of subscribing to it.\r\n\r\n```java\r\nreturn repository.findById(id)\r\n                .filterWhen(t -&gt; getOrgs(orgId).hasElement(t.getOrgId()))\r\n                .switchIfEmpty(Mono.error(someError.error(id));\r\n\r\n```","title":"Filter a Mono&lt;T&gt; with a String Id matching one of a list of Flux&lt;String&gt;","body":"<ol>\n<li>You should <a href=\"https://stackoverflow.com/a/75096742/2678097\">avoid blocking</a>. Blocking is designed for cases where you have to interact with non reactive components.</li>\n<li>If you return a Mono, you should not subscribe yourself. It is the user/consumer that should do it.</li>\n</ol>\n<p>Now, you can achieve what you want by modifying your second example:</p>\n<ol>\n<li>Change <em>filter</em> with <em>filterWhen</em>, to allow a reactive stream as operator, instead of a blocking op.</li>\n<li>Return the resulting reactive pipeline directly, instead of subscribing to it.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>return repository.findById(id)\n                .filterWhen(t -&gt; getOrgs(orgId).hasElement(t.getOrgId()))\n                .switchIfEmpty(Mono.error(someError.error(id));\n\n</code></pre>\n"}],"owner":{"account_id":8688751,"reputation":13,"user_id":6502253,"display_name":"Oteoteote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76582167,"answer_count":1,"score":1,"last_activity_date":1688049852,"creation_date":1688047291,"question_id":76581775,"body_markdown":"I&#39;m fetching a Mono&lt;T&gt; (with T containing an `id` and `orgId` fields). I also have a Flux&lt;String&gt; of orgIds. I need to return the Mono&lt;T&gt; if T.getOrgId() is contained in the Flux.\r\n\r\nI&#39;m not entirely sure to understand the exact Mono/Flux flow. But so far I have tried 2 approaches, blocking and non-blocking.\r\n\r\nBlocking\r\n\r\n```\r\npublic Mono&lt;T&gt; getItemBlocking(final String orgId, final String id) {\r\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\r\n        final T t = repository.findById(id).block();\r\n        final Boolean tInOrg = orgs.hasElement(t.getOrgId()).subscribe().isDisposed();\r\n        return tInOrg ? repository.findById(id) : Mono.error(someError.error(id)); // Ideally would not make the request again\r\n}\r\n```\r\n\r\nThe code is not working, I&#39;m receiving the following exception:\r\n\r\n`&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread \r\n    reactor-http-nio-4\r\nat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)`\r\n\r\nNon-blocking\r\n\r\n```\r\npublic Mono&lt;T&gt; getItemNonBlocking(final String orgId, final String id) {\r\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\r\n        return (Mono&lt;T&gt;) repository.findById(id)\r\n                .filter(t -&gt; orgs.hasElement(t.getOrgId()).block()) // Need to make this non blocking but I&#39;m not able to, but need the Mono&lt;Boolean&gt; to be a Boolean\r\n                .switchIfEmpty(Mono.error(someError.error(id))\r\n                .subscribe();\r\n}\r\n```\r\nThis code is not working also, I&#39;m receiving the exception:\r\n`java.lang.ClassCastException: reactor.core.publisher.LambdaMonoSubscriber incompatible with \r\n        reactor.core.publisher.Mono\r\nat service.getItemNonBlocking`\r\n\r\nAny clue on what I&#39;m doing wrong?\r\n","title":"Filter a Mono&lt;T&gt; with a String Id matching one of a list of Flux&lt;String&gt;","body":"<p>I'm fetching a Mono (with T containing an <code>id</code> and <code>orgId</code> fields). I also have a Flux of orgIds. I need to return the Mono if T.getOrgId() is contained in the Flux.</p>\n<p>I'm not entirely sure to understand the exact Mono/Flux flow. But so far I have tried 2 approaches, blocking and non-blocking.</p>\n<p>Blocking</p>\n<pre><code>public Mono&lt;T&gt; getItemBlocking(final String orgId, final String id) {\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\n        final T t = repository.findById(id).block();\n        final Boolean tInOrg = orgs.hasElement(t.getOrgId()).subscribe().isDisposed();\n        return tInOrg ? repository.findById(id) : Mono.error(someError.error(id)); // Ideally would not make the request again\n}\n</code></pre>\n<p>The code is not working, I'm receiving the following exception:</p>\n<p><code>&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread  reactor-http-nio-4 at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)</code></p>\n<p>Non-blocking</p>\n<pre><code>public Mono&lt;T&gt; getItemNonBlocking(final String orgId, final String id) {\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\n        return (Mono&lt;T&gt;) repository.findById(id)\n                .filter(t -&gt; orgs.hasElement(t.getOrgId()).block()) // Need to make this non blocking but I'm not able to, but need the Mono&lt;Boolean&gt; to be a Boolean\n                .switchIfEmpty(Mono.error(someError.error(id))\n                .subscribe();\n}\n</code></pre>\n<p>This code is not working also, I'm receiving the exception:\n<code>java.lang.ClassCastException: reactor.core.publisher.LambdaMonoSubscriber incompatible with  reactor.core.publisher.Mono at service.getItemNonBlocking</code></p>\n<p>Any clue on what I'm doing wrong?</p>\n"},{"tags":["java","android","storage","android-permissions","file-permissions"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688048950,"creation_date":1688048950,"answer_id":76582031,"question_id":76581641,"body_markdown":"The solution is to use SAF and for exemple ACTION_OPEN_DOCUMENT to let the user pick the file.\r\n\r\nNo permissions needed at all.","title":"Android 13 - Permission to access PDF or other type of files","body":"<p>The solution is to use SAF and for exemple ACTION_OPEN_DOCUMENT to let the user pick the file.</p>\n<p>No permissions needed at all.</p>\n"}],"owner":{"account_id":28919269,"reputation":21,"user_id":22150604,"display_name":"User222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688049670,"creation_date":1688046395,"question_id":76581641,"body_markdown":"As required, for apps targeting Android 13+ I&#39;m using the following permission requests for the media files:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n```\r\n\r\nThe problem that I have is that this permissions doesn&#39;t seem to be enough to access other type of files such as pdfs, stickers etc that are saved in the storage.\r\nWhen I want to access such files it will through a `FileNotFoundException` due to lack of proper permissions.\r\n\r\nFor example:\r\n\r\n```\r\nFile file = new File(&lt;path_to_File&gt;);\r\nFileInputStream fileInputStream = new FileInputStream(file); // Here it will through the exception\r\n```\r\n\r\nFor other type of files it works just fine.\r\n\r\nAny solution for that?\r\n\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n```","title":"Android 13 - Permission to access PDF or other type of files","body":"<p>As required, for apps targeting Android 13+ I'm using the following permission requests for the media files:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n</code></pre>\n<p>The problem that I have is that this permissions doesn't seem to be enough to access other type of files such as pdfs, stickers etc that are saved in the storage.\nWhen I want to access such files it will through a <code>FileNotFoundException</code> due to lack of proper permissions.</p>\n<p>For example:</p>\n<pre><code>File file = new File(&lt;path_to_File&gt;);\nFileInputStream fileInputStream = new FileInputStream(file); // Here it will through the exception\n</code></pre>\n<p>For other type of files it works just fine.</p>\n<p>Any solution for that?</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n</code></pre>\n"},{"tags":["java",".net","parsing","parser-combinators","superpower"],"comments":[{"owner":{"account_id":14495574,"reputation":1786,"user_id":10470283,"display_name":"Ali Ali"},"score":0,"creation_date":1619342160,"post_id":56442108,"comment_id":118871448,"body_markdown":"Did you see ANTLR 4?? https://www.antlr.org/","body":"Did you see ANTLR 4?? <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">antlr.org</a>"},{"owner":{"account_id":14495574,"reputation":1786,"user_id":10470283,"display_name":"Ali Ali"},"score":0,"creation_date":1619342518,"post_id":56442108,"comment_id":118871544,"body_markdown":"ANTLR 4 has the ability to deal with left-recursive and ambiguous grammars, as I remember, I read the book, and you can implement the parser with c# and Java, I did work with java. Also, they offer starter grammars on their GitHub.","body":"ANTLR 4 has the ability to deal with left-recursive and ambiguous grammars, as I remember, I read the book, and you can implement the parser with c# and Java, I did work with java. Also, they offer starter grammars on their GitHub."}],"owner":{"account_id":177304,"reputation":13392,"user_id":1025407,"accept_rate":78,"display_name":"SuperJMN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":847,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"answer_count":0,"score":3,"last_activity_date":1688049336,"creation_date":1559644309,"question_id":56442108,"body_markdown":"I&#39;m really interested in parser combinators, especially those who can deal with left-recursive and ambiguous grammars. I know the fabulous [Superpower](https://github.com/datalust/superpower) by [Nicholas Blumhardt](https://github.com/nblumhardt) but it&#39;s unable to deal with this kind of grammars. \r\n\r\nI&#39;ve found some GLL parser combinators libraries like this https://github.com/djspiewak/gll-combinators, but it uses Scala and, that is a big inconvenience for me (I don&#39;t know that language).\r\n\r\nI would like to know if there is any of these in C# (or Java)\r\n","title":"Is there any GLL parser combinator library in C# / Java?","body":"<p>I'm really interested in parser combinators, especially those who can deal with left-recursive and ambiguous grammars. I know the fabulous <a href=\"https://github.com/datalust/superpower\" rel=\"nofollow noreferrer\">Superpower</a> by <a href=\"https://github.com/nblumhardt\" rel=\"nofollow noreferrer\">Nicholas Blumhardt</a> but it's unable to deal with this kind of grammars.</p>\n<p>I've found some GLL parser combinators libraries like this <a href=\"https://github.com/djspiewak/gll-combinators\" rel=\"nofollow noreferrer\">https://github.com/djspiewak/gll-combinators</a>, but it uses Scala and, that is a big inconvenience for me (I don't know that language).</p>\n<p>I would like to know if there is any of these in C# (or Java)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1688049118,"post_id":76581985,"comment_id":135024131,"body_markdown":"Why are you using both jackson and gson? That overcomplicates stuff...","body":"Why are you using both jackson and gson? That overcomplicates stuff..."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688049149,"post_id":76581985,"comment_id":135024138,"body_markdown":"@JsonProperty is for Jackson library. Use Jackson instead of Gson then it will work.","body":"@JsonProperty is for Jackson library. Use Jackson instead of Gson then it will work."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688049006,"creation_date":1688049006,"answer_id":76582037,"question_id":76581985,"body_markdown":"`@JsonProperty` is the Jackson annotaion. For Gson you have to use `@SerializedName` from package `com.google.gson.annotations`\r\n\r\n        @SerializedName(&quot;BackGround&quot;)\r\n        private String backGround;\r\n        \r\n","title":"How to get different variable name in result instead of getting the same variable name in POJO class","body":"<p><code>@JsonProperty</code> is the Jackson annotaion. For Gson you have to use <code>@SerializedName</code> from package <code>com.google.gson.annotations</code></p>\n<pre><code>    @SerializedName(&quot;BackGround&quot;)\n    private String backGround;\n    \n</code></pre>\n"}],"owner":{"account_id":21209365,"reputation":37,"user_id":15598320,"display_name":"iswarya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688049060,"creation_date":1688048710,"question_id":76581985,"body_markdown":"   I am using java and spring boot in my project and I am trying to get the key as &quot;BackGround&quot; instead of &quot;backGround&quot;. Could you please help me to get the expected result.\r\n        \r\n   Thanks in advance!   \r\n        \r\n   \r\n Code:\r\n         \r\n            @Entity \r\n            public class EmpEntity{\r\n            \r\n            private String backGround;\r\n            \r\n            }\r\n            \r\n\r\n            @Data\r\n            public class EmpPojo{\r\n            \r\n            @JsonProperty(&quot;BackGround&quot;)\r\n            private String backGround;\r\n            \r\n            }\r\n            \r\nImpl:\r\n\r\n            ObjectMapper obj=new ObjectMapper();\r\n            EmpEntity ent=new EmpEntity();\r\n            ent.setBackGround(&quot;value&quot;);\r\n            EmpPojo pojo=obj.readValue(new Gson().toJson(ent),EmpPojo.class);\r\n            \r\nExcepted Output:\r\n            \r\n            {\r\n            &quot;BackGround&quot;:&quot;value&quot;\r\n            }","title":"How to get different variable name in result instead of getting the same variable name in POJO class","body":"<p>I am using java and spring boot in my project and I am trying to get the key as &quot;BackGround&quot; instead of &quot;backGround&quot;. Could you please help me to get the expected result.</p>\n<p>Thanks in advance!</p>\n<p>Code:</p>\n<pre><code>        @Entity \n        public class EmpEntity{\n        \n        private String backGround;\n        \n        }\n        \n\n        @Data\n        public class EmpPojo{\n        \n        @JsonProperty(&quot;BackGround&quot;)\n        private String backGround;\n        \n        }\n        \n</code></pre>\n<p>Impl:</p>\n<pre><code>        ObjectMapper obj=new ObjectMapper();\n        EmpEntity ent=new EmpEntity();\n        ent.setBackGround(&quot;value&quot;);\n        EmpPojo pojo=obj.readValue(new Gson().toJson(ent),EmpPojo.class);\n        \n</code></pre>\n<p>Excepted Output:</p>\n<pre><code>        {\n        &quot;BackGround&quot;:&quot;value&quot;\n        }\n</code></pre>\n"},{"tags":["java","rest","http-headers","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688048983,"creation_date":1688048983,"answer_id":76582036,"question_id":76574169,"body_markdown":"The line `multipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);` is setting the content type on the multipart form itself, not on the HTTP request. To do what is required, instead the content-type header needs adding to the request itself - as follows:\r\n\r\n`request.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);`","title":"Sending multipart form but receiving application json","body":"<p>The line <code>multipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);</code> is setting the content type on the multipart form itself, not on the HTTP request. To do what is required, instead the content-type header needs adding to the request itself - as follows:</p>\n<p><code>request.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);</code></p>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76582036,"answer_count":1,"score":0,"last_activity_date":1688048983,"creation_date":1687962475,"question_id":76574169,"body_markdown":"I have a REST client calling a REST API.\r\n\r\nThe REST client uses:\r\n\r\n```java\r\nCloseableHttpClient client = HttpClients.createDefault();\r\nURIBuilder builder = new URIBuilder(uri);\r\nHttpPost request = new HttpPost(builder.build().toString());\r\nMultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\r\nmultipartEntityBuilder.addTextBody(&quot;user&quot;,username));\r\nmultipartEntityBuilder.addTextBody(&quot;pass&quot;,password));\r\nmultipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);\r\nmultipartEntityBuilder.setCharset(StandardCharsets.UTF_8);\r\nrequest.setEntity(multipartEntityBuilder.build());\r\nHttpResponse response = client.execute(request);\r\n```\r\n\r\nThe REST API endpoint is as follows:\r\n\r\n```java\r\n@POST\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.MULTIPART_FORM_DATA)\r\npublic Response authenticateUser(@FormParam(&quot;user&quot;) String username, \r\n                                 @FormParam(&quot;pass&quot;) String password) {\r\n    try {\r\n        String token = authenticate(username, password);\r\n        return Response.ok(token).build();\r\n         } catch (Exception e) {\r\n             return Response.status(Response.Status.FORBIDDEN).build(); }\r\n}\r\n```\r\n\r\nWhen the API receives the request, the logs show:\r\n\r\n&gt; Request Headers: {Accept=[application/json], accept-encoding=[gzip,deflate], Authorization=[\\*\\*\\*], Content-Length=[41], **content-type=[application/json]**, Host=[redacted], Proxy-Authorization=[***], User-Agent=[Apache-HttpClient/4.5.13 (Java/1.8.0_361)], X-Forwarded-For=[redacted], X-Forwarded-Port=[80], X-Forwarded-Proto=[http]}\r\n\r\ni.e. the content-type shown is `application/json`, not `multipart/form-data`. This leads to 415 unsupported media type.\r\n\r\nWhy would a MultipartEntityBuilder which is using `setContentType` of `MULTIPART_FORM_DATA` send `application/json`? How could I further troubleshoot this and get the API to receive the correct content type in the request?\r\n\r\nAs an aside, this approach works (from another client calling the same API call), but I want to know why the first one doesn&#39;t, as the first one isn&#39;t using Spring:\r\n\r\n```java\r\n@Autowired\r\nprivate RestTemplate restTemplate;\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\nmap.add(&quot;user&quot;, user);\r\nmap.add(&quot;pass&quot;, pass);\r\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, request, String.class);\r\nreturn response.getBody();\r\n```","title":"Sending multipart form but receiving application json","body":"<p>I have a REST client calling a REST API.</p>\n<p>The REST client uses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CloseableHttpClient client = HttpClients.createDefault();\nURIBuilder builder = new URIBuilder(uri);\nHttpPost request = new HttpPost(builder.build().toString());\nMultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\nmultipartEntityBuilder.addTextBody(&quot;user&quot;,username));\nmultipartEntityBuilder.addTextBody(&quot;pass&quot;,password));\nmultipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);\nmultipartEntityBuilder.setCharset(StandardCharsets.UTF_8);\nrequest.setEntity(multipartEntityBuilder.build());\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>The REST API endpoint is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@POST\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic Response authenticateUser(@FormParam(&quot;user&quot;) String username, \n                                 @FormParam(&quot;pass&quot;) String password) {\n    try {\n        String token = authenticate(username, password);\n        return Response.ok(token).build();\n         } catch (Exception e) {\n             return Response.status(Response.Status.FORBIDDEN).build(); }\n}\n</code></pre>\n<p>When the API receives the request, the logs show:</p>\n<blockquote>\n<p>Request Headers: {Accept=[application/json], accept-encoding=[gzip,deflate], Authorization=[***], Content-Length=[41], <strong>content-type=[application/json]</strong>, Host=[redacted], Proxy-Authorization=[***], User-Agent=[Apache-HttpClient/4.5.13 (Java/1.8.0_361)], X-Forwarded-For=[redacted], X-Forwarded-Port=[80], X-Forwarded-Proto=[http]}</p>\n</blockquote>\n<p>i.e. the content-type shown is <code>application/json</code>, not <code>multipart/form-data</code>. This leads to 415 unsupported media type.</p>\n<p>Why would a MultipartEntityBuilder which is using <code>setContentType</code> of <code>MULTIPART_FORM_DATA</code> send <code>application/json</code>? How could I further troubleshoot this and get the API to receive the correct content type in the request?</p>\n<p>As an aside, this approach works (from another client calling the same API call), but I want to know why the first one doesn't, as the first one isn't using Spring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate RestTemplate restTemplate;\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.MULTIPART_FORM_DATA);\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\nmap.add(&quot;user&quot;, user);\nmap.add(&quot;pass&quot;, pass);\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, request, String.class);\nreturn response.getBody();\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","nativescript"],"answers":[{"tags":[],"owner":{"account_id":8164973,"reputation":4238,"user_id":6147653,"display_name":"Alpha 1"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592144513,"creation_date":1592144513,"answer_id":62373810,"question_id":62373620,"body_markdown":"You are trying to create file in root directory which is not permitted. You can create files in the internal storage/SD card using `Environment.getExternalStorageDirectory()`.  Use the below code:\r\n\r\n    val myObj = File(Environment.getExternalStorageDirectory()+&quot;/&quot;+&quot;filename.txt&quot;)\r\n\r\nNote:  **Environment.getExternalStorageDirectory() is deprecated in API level 29 java** \r\n\r\nPlease refer https://stackoverflow.com/questions/57116335/environment-getexternalstoragedirectory-deprecated-in-api-level-29-java for more details. \r\n","title":"how to create a folder and file in internal storage using kotlin","body":"<p>You are trying to create file in root directory which is not permitted. You can create files in the internal storage/SD card using <code>Environment.getExternalStorageDirectory()</code>.  Use the below code:</p>\n\n<pre><code>val myObj = File(Environment.getExternalStorageDirectory()+\"/\"+\"filename.txt\")\n</code></pre>\n\n<p>Note:  <strong>Environment.getExternalStorageDirectory() is deprecated in API level 29 java</strong> </p>\n\n<p>Please refer <a href=\"https://stackoverflow.com/questions/57116335/environment-getexternalstoragedirectory-deprecated-in-api-level-29-java\">Environment.getExternalStorageDirectory() deprecated in API level 29 java</a> for more details. </p>\n"},{"tags":[],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1623943874,"creation_date":1592146414,"answer_id":62374161,"question_id":62373620,"body_markdown":"ok got it,not specifying proper path.   \r\n```\r\n        val data: String = &quot;om namah shivaya&quot;\r\n        val path = this.getExternalFilesDir(null)\r\n\r\n        val folder = File(path, &quot;avalakki&quot;)\r\n        folder.mkdirs()\r\n\r\n        println(folder.exists()) // u&#39;ll get true \r\n\r\n        val file = File(folder, &quot;file_name.txt&quot;)\r\n        file.appendText(&quot;$data&quot;)\r\n```\r\n\r\nthen to check this, navigate to\r\n\r\n\r\nAndroid -&gt; data -&gt; com.your.pkg_name -&gt; files -&gt; \r\n\r\nThere will see files got created.  \r\n\r\n\r\n***note:- we can use different paths*** \r\n\r\n`val path = this.externalCacheDir`    \r\nAndroid -&gt; data -&gt; com.your.pkg_name -&gt; cache -&gt;\r\n\r\n\r\n`val path = this.externalMediaDirs.first()`   \r\nAndroid -&gt; media\r\n\r\n`val path = this.getExternalFilesDirs(null).first()`   \r\n`val path = Environment.getExternalStorageDirectory().getPath()`\r\n\r\n\r\nprint and check what the path is.","title":"how to create a folder and file in internal storage using kotlin","body":"<p>ok got it,not specifying proper path.</p>\n<pre><code>        val data: String = &quot;om namah shivaya&quot;\n        val path = this.getExternalFilesDir(null)\n\n        val folder = File(path, &quot;avalakki&quot;)\n        folder.mkdirs()\n\n        println(folder.exists()) // u'll get true \n\n        val file = File(folder, &quot;file_name.txt&quot;)\n        file.appendText(&quot;$data&quot;)\n</code></pre>\n<p>then to check this, navigate to</p>\n<p>Android -&gt; data -&gt; com.your.pkg_name -&gt; files -&gt;</p>\n<p>There will see files got created.</p>\n<p><em><strong>note:- we can use different paths</strong></em></p>\n<p><code>val path = this.externalCacheDir</code><br />\nAndroid -&gt; data -&gt; com.your.pkg_name -&gt; cache -&gt;</p>\n<p><code>val path = this.externalMediaDirs.first()</code><br />\nAndroid -&gt; media</p>\n<p><code>val path = this.getExternalFilesDirs(null).first()</code><br />\n<code>val path = Environment.getExternalStorageDirectory().getPath()</code></p>\n<p>print and check what the path is.</p>\n"},{"tags":[],"owner":{"account_id":14165594,"reputation":505,"user_id":10233647,"display_name":"The_Long_Distance_Runner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688048868,"creation_date":1688048868,"answer_id":76582014,"question_id":62373620,"body_markdown":"**Actual in June 2023**\r\n\r\nIn order to write to Internal Storage from your activity, make use of this snippet:\r\n\r\n        applicationContext.openFileOutput(&quot;filename.txt&quot;, Context.MODE_PRIVATE).use {\r\n            it.write(&quot;your text&quot;.toByteArray())\r\n        }\r\n**Note!** Use `applicationContext` instead of `context` \r\n\r\nHowever, **now it is stronly advised to use DataStore**: https://developer.android.com/topic/libraries/architecture/datastore","title":"how to create a folder and file in internal storage using kotlin","body":"<p><strong>Actual in June 2023</strong></p>\n<p>In order to write to Internal Storage from your activity, make use of this snippet:</p>\n<pre><code>    applicationContext.openFileOutput(&quot;filename.txt&quot;, Context.MODE_PRIVATE).use {\n        it.write(&quot;your text&quot;.toByteArray())\n    }\n</code></pre>\n<p><strong>Note!</strong> Use <code>applicationContext</code> instead of <code>context</code></p>\n<p>However, <strong>now it is stronly advised to use DataStore</strong>: <a href=\"https://developer.android.com/topic/libraries/architecture/datastore\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/datastore</a></p>\n"}],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11323,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62374161,"answer_count":3,"score":6,"last_activity_date":1688048868,"creation_date":1592143586,"question_id":62373620,"body_markdown":"I&#39;m trying to create a file and folder on my internal storage   \r\nin manifest i have \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\nthese permissions.\r\n\r\n```\r\nfun test(view: View) {\r\n        try {\r\n            val myObj = File(&quot;filename.txt&quot;)\r\n            if (myObj.createNewFile()) {\r\n                println(&quot;File created: &quot; + myObj.name)\r\n            } else {\r\n                println(&quot;File already exists.&quot;)\r\n            }\r\n        } catch (e: IOException) {\r\n            println(&quot;An error occurred.&quot;)\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n}\r\n```\r\ni got this \r\n```\r\nAn error occurred.\r\njava.io.IOException: Read-only file system\r\n```\r\n\r\ni tried so many other thing from javatpoint to official java and kotlin tutorials.\r\nbut none worked\r\n","title":"how to create a folder and file in internal storage using kotlin","body":"<p>I'm trying to create a file and folder on my internal storage<br>\nin manifest i have </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>these permissions.</p>\n\n<pre><code>fun test(view: View) {\n        try {\n            val myObj = File(\"filename.txt\")\n            if (myObj.createNewFile()) {\n                println(\"File created: \" + myObj.name)\n            } else {\n                println(\"File already exists.\")\n            }\n        } catch (e: IOException) {\n            println(\"An error occurred.\")\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n\n<p>i got this </p>\n\n<pre><code>An error occurred.\njava.io.IOException: Read-only file system\n</code></pre>\n\n<p>i tried so many other thing from javatpoint to official java and kotlin tutorials.\nbut none worked</p>\n"},{"tags":["java","c#","dictionary","hashmap"],"comments":[{"owner":{"display_name":"user5638373"},"score":0,"creation_date":1650788819,"post_id":71986658,"comment_id":127201028,"body_markdown":"There is extension method GetValueOrDefault","body":"There is extension method GetValueOrDefault"}],"answers":[{"tags":[],"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650790095,"creation_date":1650788717,"answer_id":71986685,"question_id":71986658,"body_markdown":"One form:\r\n\r\n    dictionary[key] = dictionary.ContainsKey(key) ? dictionary[key] + 1 : 1;\r\n\r\nAnother form:\r\n\r\n    dictionary[key] = dictionary.TryGetValue(key, out var x) ? x + 1 : 1;\r\n\r\nYet another form:\r\n\r\n    if(!dictionary.TryAdd(key, 1)) dictionary[key]++;\r\n\r\nClose to your Java:\r\n\r\n    dictionary[key] = dictionary.GetValueOrDefault(key, 0) + 1;\r\n\r\nNote that availability of these methods vary across versions and flavours of .net - the examples above are in rough order of &quot;available since the start of time&quot; to &quot;available more recently&quot; -\r\n\r\nIn C# nothing stops you writing a [GetValueOrDefault](https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.collectionextensions.getvalueordefault?view=net-6.0) / [TryAdd](https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.tryadd?view=net-6.0) / [TryGetValue](https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.trygetvalue?view=net-6.0) extension if your version doesn&#39;t have some functionality you want. You don&#39;t have to subclass Dictionary to add it, see e.g. [here](https://stackoverflow.com/questions/53940405/not-able-to-use-getvalueordefault-for-dictionary-in-c-sharp) for an example of writing an extension method to add GetValueOrDefault","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>One form:</p>\n<pre><code>dictionary[key] = dictionary.ContainsKey(key) ? dictionary[key] + 1 : 1;\n</code></pre>\n<p>Another form:</p>\n<pre><code>dictionary[key] = dictionary.TryGetValue(key, out var x) ? x + 1 : 1;\n</code></pre>\n<p>Yet another form:</p>\n<pre><code>if(!dictionary.TryAdd(key, 1)) dictionary[key]++;\n</code></pre>\n<p>Close to your Java:</p>\n<pre><code>dictionary[key] = dictionary.GetValueOrDefault(key, 0) + 1;\n</code></pre>\n<p>Note that availability of these methods vary across versions and flavours of .net - the examples above are in rough order of &quot;available since the start of time&quot; to &quot;available more recently&quot; -</p>\n<p>In C# nothing stops you writing a <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.collectionextensions.getvalueordefault?view=net-6.0\" rel=\"nofollow noreferrer\">GetValueOrDefault</a> / <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.tryadd?view=net-6.0\" rel=\"nofollow noreferrer\">TryAdd</a> / <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.trygetvalue?view=net-6.0\" rel=\"nofollow noreferrer\">TryGetValue</a> extension if your version doesn't have some functionality you want. You don't have to subclass Dictionary to add it, see e.g. <a href=\"https://stackoverflow.com/questions/53940405/not-able-to-use-getvalueordefault-for-dictionary-in-c-sharp\">here</a> for an example of writing an extension method to add GetValueOrDefault</p>\n"},{"tags":[],"owner":{"display_name":"user5638373"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650789041,"creation_date":1650789041,"answer_id":71986717,"question_id":71986658,"body_markdown":"There is extension method GetValueOrDefault, so if you are ok with Java version you can easily port it.\r\n\r\nBeware that this single statement will do lookup twice. In perf critical code or when working with a lot of data, you can consider to store simple wrapper/holder over int value and in one search/lookup extract or add slot and then simply increment value without re-searching again.","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>There is extension method GetValueOrDefault, so if you are ok with Java version you can easily port it.</p>\n<p>Beware that this single statement will do lookup twice. In perf critical code or when working with a lot of data, you can consider to store simple wrapper/holder over int value and in one search/lookup extract or add slot and then simply increment value without re-searching again.</p>\n"},{"tags":[],"owner":{"account_id":23230108,"reputation":45,"user_id":17321009,"display_name":"Berkay Kulak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650789793,"creation_date":1650789793,"answer_id":71986798,"question_id":71986658,"body_markdown":"    public bool TryAdd(TKey key, TValue value);\r\n\r\nand in order not to make a mistake, you can act like this.\r\n\r\n    public bool TryAdd(TKey key, TValue value)\r\n    {\r\n        if (ContainsKey(key)) return false;\r\n        Add(key, value);\r\n        return true;\r\n    }","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<pre><code>public bool TryAdd(TKey key, TValue value);\n</code></pre>\n<p>and in order not to make a mistake, you can act like this.</p>\n<pre><code>public bool TryAdd(TKey key, TValue value)\n{\n    if (ContainsKey(key)) return false;\n    Add(key, value);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15495526,"reputation":36852,"user_id":11178549,"display_name":"Theodor Zoulias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650789902,"creation_date":1650789902,"answer_id":71986805,"question_id":71986658,"body_markdown":"​In .NET 6 it is possible to do it not only in one line, but also with only one hashcode lookup:\r\n\r\n```C#\r\nCollectionsMarshal.GetValueRefOrAddDefault(dictionary, key, out _)++;\r\n```\r\n\r\nThe [`System.Runtime.InteropServices.CollectionsMarshal.GetValueRefOrAddDefault`][1] method:\r\n\r\n&gt; Gets a reference to a `TValue` in the specified dictionary, adding a new entry with a default value if the key does not exist.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluereforadddefault","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>​In .NET 6 it is possible to do it not only in one line, but also with only one hashcode lookup:</p>\n<pre><code>CollectionsMarshal.GetValueRefOrAddDefault(dictionary, key, out _)++;\n</code></pre>\n<p>The <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluereforadddefault\" rel=\"nofollow noreferrer\"><code>System.Runtime.InteropServices.CollectionsMarshal.GetValueRefOrAddDefault</code></a> method:</p>\n<blockquote>\n<p>Gets a reference to a <code>TValue</code> in the specified dictionary, adding a new entry with a default value if the key does not exist.</p>\n</blockquote>\n"}],"owner":{"account_id":5607111,"reputation":13,"user_id":4441262,"display_name":"korem7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1688048714,"creation_date":1650788434,"question_id":71986658,"body_markdown":"In Java, it is possible to increase or decrease numeric value in *one line* while adding an element to a `HashMap`. Is there any way to do it in C# `Dictionary`? \r\n\r\nFor example in Java:\r\n```\r\nhashMap.put(key, hashMap.getOrDefault(key, 0) +1);\r\n```\r\n\r\nIn C#:\r\n\r\n```\r\nif (dictionary.ContainsKey(key)) dictionary[key]++;\r\nelse dictionary.Add(key, 1);\r\n```","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>In Java, it is possible to increase or decrease numeric value in <em>one line</em> while adding an element to a <code>HashMap</code>. Is there any way to do it in C# <code>Dictionary</code>?</p>\n<p>For example in Java:</p>\n<pre><code>hashMap.put(key, hashMap.getOrDefault(key, 0) +1);\n</code></pre>\n<p>In C#:</p>\n<pre><code>if (dictionary.ContainsKey(key)) dictionary[key]++;\nelse dictionary.Add(key, 1);\n</code></pre>\n"},{"tags":["java","oracle","jpa","liquibase"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688048638,"post_id":76581829,"comment_id":135024006,"body_markdown":"The error message refers to *identifier* length, not column size. What&#39;s the full liquibase changeset?","body":"The error message refers to <i>identifier</i> length, not column size. What&#39;s the full liquibase changeset?"}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688048706,"creation_date":1688048706,"answer_id":76581983,"question_id":76581829,"body_markdown":"The error is:\r\n\r\n```lang-none\r\nORA-00972: identifier is too long\r\n```\r\n\r\nIt is the identifier (i.e. the name of the table, column, constraint or index) that is too long and not the length of the value being stored in the column.\r\n\r\nYou need to look at the changeset and the DDL statements that Liquibase is generating for the table and see whether the name of the table, column, constraint or the index backing the primary key constraint are too long and correct that.","title":"Oracle 12.1 primary key length","body":"<p>The error is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ORA-00972: identifier is too long\n</code></pre>\n<p>It is the identifier (i.e. the name of the table, column, constraint or index) that is too long and not the length of the value being stored in the column.</p>\n<p>You need to look at the changeset and the DDL statements that Liquibase is generating for the table and see whether the name of the table, column, constraint or the index backing the primary key constraint are too long and correct that.</p>\n"}],"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76581983,"answer_count":1,"score":-2,"last_activity_date":1688048706,"creation_date":1688047705,"question_id":76581829,"body_markdown":"We are using Liquibase and are trying to create a table in Oracle 12c release (12.1.0.1.0).\r\n\r\nWhen trying to create a table I get exception:\r\n\r\n`Reason: liquibase.exception.DatabaseException: ORA-00972: identifier is too long`\r\n\r\nI googled and found out that prior to version 12.2 the length of the primary key column in Oracle is restricted to 30 characters and UUID (which we use as a primary key) is 36 including hyphens.\r\n\r\nAfter this I tried to execute create statement directly on the DB itself and it worked. I also tried inserting a few entries and all looks nice.\r\n\r\nWhat could be the issue causing Liquibase to complain if we&#39;re able to manually create table and insert entries?","title":"Oracle 12.1 primary key length","body":"<p>We are using Liquibase and are trying to create a table in Oracle 12c release (12.1.0.1.0).</p>\n<p>When trying to create a table I get exception:</p>\n<p><code>Reason: liquibase.exception.DatabaseException: ORA-00972: identifier is too long</code></p>\n<p>I googled and found out that prior to version 12.2 the length of the primary key column in Oracle is restricted to 30 characters and UUID (which we use as a primary key) is 36 including hyphens.</p>\n<p>After this I tried to execute create statement directly on the DB itself and it worked. I also tried inserting a few entries and all looks nice.</p>\n<p>What could be the issue causing Liquibase to complain if we're able to manually create table and insert entries?</p>\n"},{"tags":["java","spring-boot","properties-file"],"answers":[{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":1,"up_vote_count":799,"is_accepted":true,"score":798,"last_activity_date":1468265461,"creation_date":1432898868,"answer_id":30528430,"question_id":30528255,"body_markdown":"You can use the `@Value` annotation and access the property in whichever Spring bean you&#39;re using \r\n\r\n    @Value(&quot;${userBucket.path}&quot;)\r\n    private String userBucketPath;\r\n\r\nThe [Externalized Configuration][1] section of the Spring Boot docs, explains all the details that you might need.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the <code>@Value</code> annotation and access the property in whichever Spring bean you're using </p>\n\n<pre><code>@Value(\"${userBucket.path}\")\nprivate String userBucketPath;\n</code></pre>\n\n<p>The <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\">Externalized Configuration</a> section of the Spring Boot docs, explains all the details that you might need.</p>\n"},{"tags":[],"owner":{"account_id":2147392,"reputation":5406,"user_id":2308204,"accept_rate":83,"display_name":"Rodrigo Villalba Zayas"},"down_vote_count":0,"up_vote_count":354,"is_accepted":false,"score":354,"last_activity_date":1585001681,"creation_date":1468265060,"answer_id":38314645,"question_id":30528255,"body_markdown":"Another way is injecting `org.springframework.core.env.Environment` to your bean.\r\n\r\n    @Autowired\r\n\tprivate Environment env;\r\n    ....\r\n\r\n    public void method() {\r\n        .....  \r\n        String path = env.getProperty(&quot;userBucket.path&quot;);\r\n        .....\r\n    }","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Another way is injecting <code>org.springframework.core.env.Environment</code> to your bean.</p>\n\n<pre><code>@Autowired\nprivate Environment env;\n....\n\npublic void method() {\n    .....  \n    String path = env.getProperty(\"userBucket.path\");\n    .....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1562725953,"creation_date":1510141656,"answer_id":47178928,"question_id":30528255,"body_markdown":"`@ConfigurationProperties` can be used to map values from `.properties`( `.yml` also supported) to a POJO.\r\n\r\nConsider the following Example file.\r\n\r\n**.properties**\r\n\r\n    cust.data.employee.name=Sachin\r\n    cust.data.employee.dept=Cricket\r\n\r\n**Employee.java**\r\n\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @ConfigurationProperties(prefix = &quot;cust.data.employee&quot;)\r\n    @Configuration(&quot;employeeProperties&quot;)\r\n    public class Employee {\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String dept;\r\n    \t\r\n    \t//Getters and Setters go here\r\n    }\r\n\r\n\r\nNow the properties value can be accessed by autowiring `employeeProperties` as follows.\r\n\r\n    @Autowired\r\n    private Employee employeeProperties;\r\n    \r\n    public void method() {\r\n    \r\n       String employeeName = employeeProperties.getName();\r\n       String employeeDept = employeeProperties.getDept();\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p><code>@ConfigurationProperties</code> can be used to map values from <code>.properties</code>( <code>.yml</code> also supported) to a POJO.</p>\n\n<p>Consider the following Example file.</p>\n\n<p><strong>.properties</strong></p>\n\n<pre><code>cust.data.employee.name=Sachin\ncust.data.employee.dept=Cricket\n</code></pre>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@ConfigurationProperties(prefix = \"cust.data.employee\")\n@Configuration(\"employeeProperties\")\npublic class Employee {\n\n    private String name;\n    private String dept;\n\n    //Getters and Setters go here\n}\n</code></pre>\n\n<p>Now the properties value can be accessed by autowiring <code>employeeProperties</code> as follows.</p>\n\n<pre><code>@Autowired\nprivate Employee employeeProperties;\n\npublic void method() {\n\n   String employeeName = employeeProperties.getName();\n   String employeeDept = employeeProperties.getDept();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1658525267,"creation_date":1521595097,"answer_id":49396661,"question_id":30528255,"body_markdown":"You can use the `@Value` to load variables from the `application.properties` if you will use this value in one place, but if you need a more centralized way to load these variables `@ConfigurationProperties` is a better approach.\r\n\r\nAdditionally, you can load variables and cast them automatically if you need different data types to perform your validations and business logic.\r\n\r\n    application.properties\r\n    custom-app.enable-mocks = false\r\n    \r\n    @Value(&quot;${custom-app.enable-mocks}&quot;)\r\n    private boolean enableMocks;","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the <code>@Value</code> to load variables from the <code>application.properties</code> if you will use this value in one place, but if you need a more centralized way to load these variables <code>@ConfigurationProperties</code> is a better approach.</p>\n<p>Additionally, you can load variables and cast them automatically if you need different data types to perform your validations and business logic.</p>\n<pre><code>application.properties\ncustom-app.enable-mocks = false\n\n@Value(&quot;${custom-app.enable-mocks}&quot;)\nprivate boolean enableMocks;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10676508,"reputation":415,"user_id":7859828,"display_name":"lucifer"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1547665150,"creation_date":1547665150,"answer_id":54223602,"question_id":30528255,"body_markdown":"You can do it this way as well....\r\n \r\n    @Component\r\n\t@PropertySource(&quot;classpath:application.properties&quot;)\r\n\tpublic class ConfigProperties {\r\n\r\n\t    @Autowired\r\n\t    private Environment env;\r\n\r\n\t    public String getConfigValue(String configKey){\r\n\t        return env.getProperty(configKey);\r\n\t    }\r\n\t}\r\n\r\nThen wherever you want to read from application.properties, just pass the key to getConfigValue method.\r\n\r\n    @Autowired\r\n    ConfigProperties configProp;\r\n    \r\n    // Read server.port from app.prop\r\n    String portNumber = configProp.getConfigValue(&quot;server.port&quot;); \r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can do it this way as well....</p>\n\n<pre><code>@Component\n@PropertySource(\"classpath:application.properties\")\npublic class ConfigProperties {\n\n    @Autowired\n    private Environment env;\n\n    public String getConfigValue(String configKey){\n        return env.getProperty(configKey);\n    }\n}\n</code></pre>\n\n<p>Then wherever you want to read from application.properties, just pass the key to getConfigValue method.</p>\n\n<pre><code>@Autowired\nConfigProperties configProp;\n\n// Read server.port from app.prop\nString portNumber = configProp.getConfigValue(\"server.port\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676075435,"creation_date":1558064872,"answer_id":56179309,"question_id":30528255,"body_markdown":"Spring Boot allows us several methods to provide externalized configurations. You can try using file *application.yml* or YAML files instead of the property file and provide different property files setup according to different environments.\r\n\r\nWe can separate out the properties for each environment into separate YAML files under separate Spring profiles. Then during deployment you can use:\r\n\r\n```lang-none\r\njava -jar -Drun.profiles=SpringProfileName\r\n```\r\n\r\nto specify which Spring profile to use. Note that the YAML files should be named like\r\n\r\n```lang-none\r\napplication-{environmentName}.yml\r\n```\r\n\r\nfor them to be automatically taken up by Spring Boot.\r\n\r\nReference: *[2. Externalized Configuration][1]*\r\n\r\nTo read from the *application.yml* or property file:\r\n\r\nThe **easiest way** to read a value from the property file or YAML is to use the Spring @value annotation. Spring automatically loads all values from the YAML file to the Spring environment, so we can directly use those values from the environment like:\r\n\r\n    @Component\r\n    public class MySampleBean {\r\n\r\n        @Value(&quot;${name}&quot;)\r\n        private String sampleName;\r\n\r\n        // ...\r\n\r\n    }\r\n\r\nOr another method that Spring provides to read strongly-typed [beans][2] is as follows:\r\n\r\n```lang-none\r\nYML\r\n\r\nymca:\r\n    remote-address: 192.168.1.1\r\n    security:\r\n        username: admin\r\n```\r\n\r\nCorresponding [POJO][3] to read the YAML content:\r\n\r\n    @ConfigurationProperties(&quot;ymca&quot;)\r\n    public class YmcaProperties {\r\n        private InetAddress remoteAddress;\r\n        private final Security security = new Security();\r\n        public boolean isEnabled() { ... }\r\n        public void setEnabled(boolean enabled) { ... }\r\n        public InetAddress getRemoteAddress() { ... }\r\n        public void setRemoteAddress(InetAddress remoteAddress) { ... }\r\n        public Security getSecurity() { ... }\r\n        public static class Security {\r\n            private String username;\r\n            private String password;\r\n            public String getUsername() { ... }\r\n            public void setUsername(String username) { ... }\r\n            public String getPassword() { ... }\r\n            public void setPassword(String password) { ... }\r\n        }\r\n    }\r\n\r\nThe above method works well with YAML files.\r\n\r\nReference: *[2. Externalized Configuration][4]*\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\r\n  [2]: https://en.wikipedia.org/wiki/NetBeans\r\n  [3]: https://en.wikipedia.org/wiki/Plain_old_Java_object\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Spring Boot allows us several methods to provide externalized configurations. You can try using file <em>application.yml</em> or YAML files instead of the property file and provide different property files setup according to different environments.</p>\n<p>We can separate out the properties for each environment into separate YAML files under separate Spring profiles. Then during deployment you can use:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -jar -Drun.profiles=SpringProfileName\n</code></pre>\n<p>to specify which Spring profile to use. Note that the YAML files should be named like</p>\n<pre class=\"lang-none prettyprint-override\"><code>application-{environmentName}.yml\n</code></pre>\n<p>for them to be automatically taken up by Spring Boot.</p>\n<p>Reference: <em><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\" rel=\"nofollow noreferrer\">2. Externalized Configuration</a></em></p>\n<p>To read from the <em>application.yml</em> or property file:</p>\n<p>The <strong>easiest way</strong> to read a value from the property file or YAML is to use the Spring @value annotation. Spring automatically loads all values from the YAML file to the Spring environment, so we can directly use those values from the environment like:</p>\n<pre><code>@Component\npublic class MySampleBean {\n\n    @Value(&quot;${name}&quot;)\n    private String sampleName;\n\n    // ...\n\n}\n</code></pre>\n<p>Or another method that Spring provides to read strongly-typed <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">beans</a> is as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>YML\n\nymca:\n    remote-address: 192.168.1.1\n    security:\n        username: admin\n</code></pre>\n<p>Corresponding <a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">POJO</a> to read the YAML content:</p>\n<pre><code>@ConfigurationProperties(&quot;ymca&quot;)\npublic class YmcaProperties {\n    private InetAddress remoteAddress;\n    private final Security security = new Security();\n    public boolean isEnabled() { ... }\n    public void setEnabled(boolean enabled) { ... }\n    public InetAddress getRemoteAddress() { ... }\n    public void setRemoteAddress(InetAddress remoteAddress) { ... }\n    public Security getSecurity() { ... }\n    public static class Security {\n        private String username;\n        private String password;\n        public String getUsername() { ... }\n        public void setUsername(String username) { ... }\n        public String getPassword() { ... }\n        public void setPassword(String password) { ... }\n    }\n}\n</code></pre>\n<p>The above method works well with YAML files.</p>\n<p>Reference: <em><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">2. Externalized Configuration</a></em></p>\n"},{"tags":[],"owner":{"account_id":15647963,"reputation":89,"user_id":11289812,"display_name":"Rapalagui"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676074289,"creation_date":1566389186,"answer_id":57591245,"question_id":30528255,"body_markdown":"For me, none of the above did directly work for me.\r\nI did the following:\r\n\r\nIn addition to [Rodrigo Villalba Zayas&#39; answer][1], I added `implements InitializingBean` to the class and implemented the method\r\n\r\n    @Override\r\n    public void afterPropertiesSet() {\r\n        String path = env.getProperty(&quot;userBucket.path&quot;);\r\n    }\r\n\r\nSo that will look like\r\n\r\n    import org.springframework.core.env.Environment;\r\n    public class xyz implements InitializingBean {\r\n\r\n        @Autowired\r\n        private Environment env;\r\n        private String path;\r\n\r\n        ....\r\n\r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            path = env.getProperty(&quot;userBucket.path&quot;);\r\n        }\r\n\r\n        public void method() {\r\n            System.out.println(&quot;Path: &quot; + path);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot/38314645#38314645\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>For me, none of the above did directly work for me.\nI did the following:</p>\n<p>In addition to <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot/38314645#38314645\">Rodrigo Villalba Zayas' answer</a>, I added <code>implements InitializingBean</code> to the class and implemented the method</p>\n<pre><code>@Override\npublic void afterPropertiesSet() {\n    String path = env.getProperty(&quot;userBucket.path&quot;);\n}\n</code></pre>\n<p>So that will look like</p>\n<pre><code>import org.springframework.core.env.Environment;\npublic class xyz implements InitializingBean {\n\n    @Autowired\n    private Environment env;\n    private String path;\n\n    ....\n\n    @Override\n    public void afterPropertiesSet() {\n        path = env.getProperty(&quot;userBucket.path&quot;);\n    }\n\n    public void method() {\n        System.out.println(&quot;Path: &quot; + path);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8196165,"reputation":293,"user_id":6628739,"accept_rate":75,"display_name":"Naresh Bhadke"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1676074380,"creation_date":1566391862,"answer_id":57592069,"question_id":30528255,"body_markdown":"The best ways to get property values are using:\r\n\r\n**1. Using Value annotation**\r\n\r\n    @Value(&quot;${property.key}&quot;)\r\n    private String propertyKeyVariable;\r\n\r\n**2. Using the *Environment* bean**\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    public String getValue() {\r\n        return env.getProperty(&quot;property.key&quot;);\r\n    }\r\n\r\n    public void display() {\r\n        System.out.println(&quot;# Value : &quot; + getValue);\r\n    }\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>The best ways to get property values are using:</p>\n<p><strong>1. Using Value annotation</strong></p>\n<pre><code>@Value(&quot;${property.key}&quot;)\nprivate String propertyKeyVariable;\n</code></pre>\n<p><strong>2. Using the <em>Environment</em> bean</strong></p>\n<pre><code>@Autowired\nprivate Environment env;\n\npublic String getValue() {\n    return env.getProperty(&quot;property.key&quot;);\n}\n\npublic void display() {\n    System.out.println(&quot;# Value : &quot; + getValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1676074972,"creation_date":1569412009,"answer_id":58097643,"question_id":30528255,"body_markdown":"Currently, I know about the following three ways:\r\n\r\n**1. The `@Value` annotation**\r\n\r\n    @Value(&quot;${&lt;property.name&gt;}&quot;)\r\n    private static final &lt;datatype&gt; PROPERTY_NAME;\r\n\r\n   - In my experience there are some situations when you are not\r\nable to get the value or it is set to `null`.\r\nFor instance, when you try to set it in a `preConstruct()` method or an `init()` method. This happens because the value injection happens after the class is fully constructed. This is why it is better to use the third option.\r\n\r\n\r\n**2. The `@PropertySource` annotation**\r\n\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n\r\n    // &#39;env&#39; is an Environment variable\r\n    env.getProperty(configKey);\r\n\r\n  - `PropertySouce` sets values from the property source file in an `Environment` variable (in your class) when the class is loaded.\r\nSo you able to fetch easily afterword.\r\n   - Accessible through System Environment variable.\r\n\r\n**3. The `@ConfigurationProperties` annotation.**\r\n\r\n - This is mostly used in Spring projects to load configuration properties.\r\n - It initializes an entity based on property data.\r\n- `@ConfigurationProperties` identifies the property file to load.\r\n- `@Configuration` creates a bean based on configuration file variables.\r\n\r\n\r\n    &lt;pre&gt;@ConfigurationProperties(prefix = &quot;user&quot;)\r\n    @Configuration(&quot;UserData&quot;)\r\n    class user {\r\n      // Property &amp; their getter / setter\r\n    }\r\n\r\n    @Autowired\r\n    private UserData userData;\r\n\r\n    userData.getPropertyName();&lt;/pre&gt;\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Currently, I know about the following three ways:</p>\n<p><strong>1. The <code>@Value</code> annotation</strong></p>\n<pre><code>@Value(&quot;${&lt;property.name&gt;}&quot;)\nprivate static final &lt;datatype&gt; PROPERTY_NAME;\n</code></pre>\n<ul>\n<li>In my experience there are some situations when you are not\nable to get the value or it is set to <code>null</code>.\nFor instance, when you try to set it in a <code>preConstruct()</code> method or an <code>init()</code> method. This happens because the value injection happens after the class is fully constructed. This is why it is better to use the third option.</li>\n</ul>\n<p><strong>2. The <code>@PropertySource</code> annotation</strong></p>\n<pre><code>@PropertySource(&quot;classpath:application.properties&quot;)\n\n// 'env' is an Environment variable\nenv.getProperty(configKey);\n</code></pre>\n<ul>\n<li><code>PropertySouce</code> sets values from the property source file in an <code>Environment</code> variable (in your class) when the class is loaded.\nSo you able to fetch easily afterword.</li>\n<li>Accessible through System Environment variable.</li>\n</ul>\n<p><strong>3. The <code>@ConfigurationProperties</code> annotation.</strong></p>\n<ul>\n<li><p>This is mostly used in Spring projects to load configuration properties.</p>\n</li>\n<li><p>It initializes an entity based on property data.</p>\n</li>\n<li><p><code>@ConfigurationProperties</code> identifies the property file to load.</p>\n</li>\n<li><p><code>@Configuration</code> creates a bean based on configuration file variables.</p>\n  <pre>@ConfigurationProperties(prefix = \"user\")\n  @Configuration(\"UserData\")\n  class user {\n    // Property & their getter / setter\n  }\n\n  @Autowired\n  private UserData userData;\n\n  userData.getPropertyName();</pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676075052,"creation_date":1570700258,"answer_id":58319880,"question_id":30528255,"body_markdown":"The best thing is to use the `@Value` annotation. It will automatically assign a value to your object `private Environment en`.\r\n\r\nThis will reduce your code, and it will be easy to filter your files.\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>The best thing is to use the <code>@Value</code> annotation. It will automatically assign a value to your object <code>private Environment en</code>.</p>\n<p>This will reduce your code, and it will be easy to filter your files.</p>\n"},{"tags":[],"owner":{"account_id":17111412,"reputation":129,"user_id":12382107,"display_name":"sai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676075121,"creation_date":1573898756,"answer_id":58889595,"question_id":30528255,"body_markdown":" 1. Injecting a property with the @Value annotation is straightforward:\r\n\r\n        @Value(&quot;${jdbc.url}&quot;)\r\n        private String jdbcUrl;\r\n\r\n 2. We can obtain the value of a property using the *Environment* API\r\n\r\n        @Autowired\r\n        private Environment env;\r\n        ...\r\n        dataSource.setUrl(env.getProperty(&quot;jdbc.url&quot;));\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<ol>\n<li><p>Injecting a property with the @Value annotation is straightforward:</p>\n<pre><code>@Value(&quot;${jdbc.url}&quot;)\nprivate String jdbcUrl;\n</code></pre>\n</li>\n<li><p>We can obtain the value of a property using the <em>Environment</em> API</p>\n<pre><code>@Autowired\nprivate Environment env;\n...\ndataSource.setUrl(env.getProperty(&quot;jdbc.url&quot;));\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15536211,"reputation":241,"user_id":11208348,"display_name":"Fazle Subhan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1676076593,"creation_date":1583225334,"answer_id":60503321,"question_id":30528255,"body_markdown":"Follow these steps.\r\n\r\n1. Create your configuration class like below. You can see:\r\n\r\n    ```\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n\r\n    @Configuration\r\n    public class YourConfiguration {\r\n\r\n        // Passing the key which you set in application.properties\r\n        @Value(&quot;${userBucket.path}&quot;)\r\n        private String userBucket;\r\n\r\n        // Getting the value from that key which\r\n        // you set in application.properties\r\n        @Bean\r\n        public String getUserBucketPath() {\r\n            return userBucket;\r\n        }\r\n    }\r\n    ```\r\n\r\n2. When you have a configuration class then inject in the variable from a configuration where you need.\r\n\r\n    ```\r\n    @Component\r\n    public class YourService {\r\n\r\n        @Autowired\r\n        private String getUserBucketPath;\r\n\r\n        // Now you have a value in the getUserBucketPath\r\n        // variable automatically.\r\n    }\r\n    ```\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Follow these steps.</p>\n<ol>\n<li><p>Create your configuration class like below. You can see:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.beans.factory.annotation.Value;\n\n@Configuration\npublic class YourConfiguration {\n\n    // Passing the key which you set in application.properties\n    @Value(&quot;${userBucket.path}&quot;)\n    private String userBucket;\n\n    // Getting the value from that key which\n    // you set in application.properties\n    @Bean\n    public String getUserBucketPath() {\n        return userBucket;\n    }\n}\n</code></pre>\n</li>\n<li><p>When you have a configuration class then inject in the variable from a configuration where you need.</p>\n<pre><code>@Component\npublic class YourService {\n\n    @Autowired\n    private String getUserBucketPath;\n\n    // Now you have a value in the getUserBucketPath\n    // variable automatically.\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676076837,"creation_date":1583772149,"answer_id":60604941,"question_id":30528255,"body_markdown":"There are two ways,\r\n\r\n1. you can directly use `@Value` in your class\r\n\r\n    ```java\r\n    @Value(&quot;#{&#39;${application yml field name}&#39;}&quot;)\r\n    public String ymlField;\r\n    ```\r\n\r\n*Or*\r\n\r\n 2. To make it clean you can clean `@Configuration` class where you can add all your `@value`\r\n\r\n    ```java\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Value(&quot;#{&#39;${application yml field name}&#39;}&quot;)\r\n        public String ymlField;\r\n    }\r\n    ```\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are two ways,</p>\n<ol>\n<li><p>you can directly use <code>@Value</code> in your class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#{'${application yml field name}'}&quot;)\npublic String ymlField;\n</code></pre>\n</li>\n</ol>\n<p><em>Or</em></p>\n<ol start=\"2\">\n<li><p>To make it clean you can clean <code>@Configuration</code> class where you can add all your <code>@value</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Value(&quot;#{'${application yml field name}'}&quot;)\n    public String ymlField;\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1676076951,"creation_date":1589450941,"answer_id":61794669,"question_id":30528255,"body_markdown":"An application can read three types of values from the *application.properties* file.\r\n\r\n**application.properties**\r\n ---------------------\r\n\r\n    my.name = kelly\r\n\r\n    my.dbConnection = {connection_srting:&#39;http://localhost:...&#39;, username:&#39;benz&#39;, password:&#39;pwd&#39;}\r\n\r\n\r\nClass file\r\n-----------------\r\n\r\n    @Value(&quot;${my.name}&quot;)\r\n    private String name;\r\n\r\n    @Value(&quot;#{${my.dbConnection}}&quot;)\r\n    private Map&lt;String,String&gt; dbValues;\r\n\r\nIf you don&#39;t have a property in *application.properties* then you can use the default value:\r\n\r\n    @Value(&quot;${your_name: default value}&quot;)\r\n    private String msg;\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>An application can read three types of values from the <em>application.properties</em> file.</p>\n<h2><strong>application.properties</strong></h2>\n<pre><code>my.name = kelly\n\nmy.dbConnection = {connection_srting:'http://localhost:...', username:'benz', password:'pwd'}\n</code></pre>\n<h2>Class file</h2>\n<pre><code>@Value(&quot;${my.name}&quot;)\nprivate String name;\n\n@Value(&quot;#{${my.dbConnection}}&quot;)\nprivate Map&lt;String,String&gt; dbValues;\n</code></pre>\n<p>If you don't have a property in <em>application.properties</em> then you can use the default value:</p>\n<pre><code>@Value(&quot;${your_name: default value}&quot;)\nprivate String msg;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676077995,"creation_date":1595419002,"answer_id":63033635,"question_id":30528255,"body_markdown":"I had this problem too. But there is a very simple solution. Just declare your variable in the constructor.\r\n\r\nMy example:\r\n\r\n**application.propperties:**\r\n\r\n    #Session\r\n    session.timeout=15\r\n\r\n**SessionServiceImpl class:**\r\n\r\n    private final int SESSION_TIMEOUT;\r\n    private final SessionRepository sessionRepository;\r\n\r\n    @Autowired\r\n    public SessionServiceImpl(@Value(&quot;${session.timeout}&quot;) int sessionTimeout,\r\n                              SessionRepository sessionRepository) {\r\n        this.SESSION_TIMEOUT = sessionTimeout;\r\n        this.sessionRepository = sessionRepository;\r\n    }\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>I had this problem too. But there is a very simple solution. Just declare your variable in the constructor.</p>\n<p>My example:</p>\n<p><strong>application.propperties:</strong></p>\n<pre><code>#Session\nsession.timeout=15\n</code></pre>\n<p><strong>SessionServiceImpl class:</strong></p>\n<pre><code>private final int SESSION_TIMEOUT;\nprivate final SessionRepository sessionRepository;\n\n@Autowired\npublic SessionServiceImpl(@Value(&quot;${session.timeout}&quot;) int sessionTimeout,\n                          SessionRepository sessionRepository) {\n    this.SESSION_TIMEOUT = sessionTimeout;\n    this.sessionRepository = sessionRepository;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9608243,"reputation":87,"user_id":7133567,"display_name":"BRAIEK AYEMN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676080836,"creation_date":1596458877,"answer_id":63229744,"question_id":30528255,"body_markdown":"You can use @ConfigurationProperties. It&#39;s simple and easy to access a value defined in *application.properties*:\r\n\r\n```lang-none\r\n# Datasource\r\napp.datasource.first.jdbc-url=jdbc:mysql://x.x.x.x:3306/ovtools?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\napp.datasource.first.username=\r\napp.datasource.first.password=\r\napp.datasource.first.driver-class-name=com.mysql.cj.jdbc.Driver\r\nserver.port=8686\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.database=mysql\r\n```\r\n\r\n\r\n&lt;br&gt;\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class DataSourceConfig {\r\n        @Bean(name = &quot;tracenvDb&quot;)\r\n        @Primary\r\n        @ConfigurationProperties(prefix = &quot;app.datasource.first&quot;)\r\n        public DataSource mysqlDataSourceanomalie() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n\r\n        @Bean(name = &quot;JdbcTemplateenv&quot;)\r\n        public JdbcTemplate jdbcTemplateanomalie(@Qualifier(&quot;tracenvDb&quot;) DataSource datasourcetracenv) {\r\n            return new JdbcTemplate(datasourcetracenv);\r\n        }\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use @ConfigurationProperties. It's simple and easy to access a value defined in <em>application.properties</em>:</p>\n<pre class=\"lang-none prettyprint-override\"><code># Datasource\napp.datasource.first.jdbc-url=jdbc:mysql://x.x.x.x:3306/ovtools?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\napp.datasource.first.username=\napp.datasource.first.password=\napp.datasource.first.driver-class-name=com.mysql.cj.jdbc.Driver\nserver.port=8686\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.database=mysql\n</code></pre>\n<br>\n<pre><code>@Slf4j\n@Configuration\npublic class DataSourceConfig {\n    @Bean(name = &quot;tracenvDb&quot;)\n    @Primary\n    @ConfigurationProperties(prefix = &quot;app.datasource.first&quot;)\n    public DataSource mysqlDataSourceanomalie() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;JdbcTemplateenv&quot;)\n    public JdbcTemplate jdbcTemplateanomalie(@Qualifier(&quot;tracenvDb&quot;) DataSource datasourcetracenv) {\n        return new JdbcTemplate(datasourcetracenv);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8751003,"reputation":146,"user_id":6544271,"display_name":"Shreyanshi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1597036765,"creation_date":1597035628,"answer_id":63334369,"question_id":30528255,"body_markdown":" You can use `@Value(&quot;${property-name}&quot;)` from the\r\n   application.properties if your class is annotated with\r\n   `@Configuration` or `@Component`.\r\n\r\nThere&#39;s one more way I tried out was making a Utility class to read properties in the following way - \r\n\r\n     protected PropertiesUtility () throws IOException {\r\n\t\tproperties = new Properties();\r\n\t\tInputStream inputStream = \r\n       getClass().getClassLoader().getResourceAsStream(&quot;application.properties&quot;);\r\n\t\tproperties.load(inputStream);\r\n\t}\r\n \r\n\r\nYou can make use of static method to get the value of the key passed as the parameter.\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use <code>@Value(&quot;${property-name}&quot;)</code> from the\napplication.properties if your class is annotated with\n<code>@Configuration</code> or <code>@Component</code>.</p>\n<p>There's one more way I tried out was making a Utility class to read properties in the following way -</p>\n<pre><code> protected PropertiesUtility () throws IOException {\n    properties = new Properties();\n    InputStream inputStream = \n   getClass().getClassLoader().getResourceAsStream(&quot;application.properties&quot;);\n    properties.load(inputStream);\n}\n</code></pre>\n<p>You can make use of static method to get the value of the key passed as the parameter.</p>\n"},{"tags":[],"owner":{"account_id":19334518,"reputation":111,"user_id":14135348,"display_name":"Manju D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597905577,"creation_date":1597902299,"answer_id":63498960,"question_id":30528255,"body_markdown":"You can use the `@Value` annotation for reading values from an application.properties/yml file.\r\n\r\n```java\r\n@Value(&quot;${application.name}&quot;)\r\nprivate String applicationName;\r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the <code>@Value</code> annotation for reading values from an application.properties/yml file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${application.name}&quot;)\nprivate String applicationName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19648020,"reputation":81,"user_id":14382554,"display_name":"Shubham Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676078281,"creation_date":1602685516,"answer_id":64355454,"question_id":30528255,"body_markdown":"There are two ways to access the value from the *application.properties* file:\r\n\r\n1. Using the @Value annotation\r\n\r\n    ```\r\n    @Value(&quot;${property-name}&quot;)\r\n    private data_type var_name;\r\n    ```\r\n\r\n2. Using an instance of the *Environment* class\r\n\r\n    ````\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    // Access this way in the method where it&#39;s required\r\n\r\n    data_type var_name = environment.getProperty(&quot;property-name&quot;);\r\n    ````\r\n\r\nYou can also inject an instance of the environment using constructor injection or creating a bean yourself.\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are two ways to access the value from the <em>application.properties</em> file:</p>\n<ol>\n<li><p>Using the @Value annotation</p>\n<pre><code>@Value(&quot;${property-name}&quot;)\nprivate data_type var_name;\n</code></pre>\n</li>\n<li><p>Using an instance of the <em>Environment</em> class</p>\n<pre><code>@Autowired\nprivate Environment environment;\n\n// Access this way in the method where it's required\n\ndata_type var_name = environment.getProperty(&quot;property-name&quot;);\n</code></pre>\n</li>\n</ol>\n<p>You can also inject an instance of the environment using constructor injection or creating a bean yourself.</p>\n"},{"tags":[],"owner":{"account_id":8808403,"reputation":290,"user_id":6582191,"display_name":"Duleepa Wickramasinghe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1603079435,"creation_date":1602915420,"answer_id":64399557,"question_id":30528255,"body_markdown":"**@Value** Spring annotation is used for injecting values into fields in Spring-manged beans, and it can be applied to the field or constructor/method parameter level.\r\n\r\nExamples\r\n\r\n1. **String** value from the annotation to the field\r\n```java\r\n    @Value(&quot;string value identifire in property file&quot;)\r\n    private String stringValue;\r\n```\r\n2. We can also use the @Value annotation to inject a **Map** property.\r\n\r\n   First, we&#39;ll need to define the property in the `{key: ‘value&#39; }` form in our properties file:\r\n```java\r\n   valuesMap={key1: &#39;1&#39;, key2: &#39;2&#39;, key3: &#39;3&#39;}\r\n```\r\n   Not that the values in the Map must be in single quotes.\r\n\r\n   Now inject this value from the property file as a Map: \r\n```java\r\n   @Value(&quot;#{${valuesMap}}&quot;)\r\n   private Map&lt;String, Integer&gt; valuesMap;\r\n```\r\n   To get the value of a specific key\r\n```java\r\n   @Value(&quot;#{${valuesMap}.key1}&quot;)\r\n   private Integer valuesMapKey1;\r\n```\r\n3. We can also use the @Value annotation to inject a **List** property.\r\n```java\r\n   @Value(&quot;#{&#39;${listOfValues}&#39;.split(&#39;,&#39;)}&quot;)\r\n   private List&lt;String&gt; valuesList;\r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p><strong>@Value</strong> Spring annotation is used for injecting values into fields in Spring-manged beans, and it can be applied to the field or constructor/method parameter level.</p>\n<p>Examples</p>\n<ol>\n<li><strong>String</strong> value from the annotation to the field</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value(&quot;string value identifire in property file&quot;)\n    private String stringValue;\n</code></pre>\n<ol start=\"2\">\n<li><p>We can also use the @Value annotation to inject a <strong>Map</strong> property.</p>\n<p>First, we'll need to define the property in the <code>{key: ‘value' }</code> form in our properties file:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   valuesMap={key1: '1', key2: '2', key3: '3'}\n</code></pre>\n<p>Not that the values in the Map must be in single quotes.</p>\n<p>Now inject this value from the property file as a Map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Value(&quot;#{${valuesMap}}&quot;)\n   private Map&lt;String, Integer&gt; valuesMap;\n</code></pre>\n<p>To get the value of a specific key</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Value(&quot;#{${valuesMap}.key1}&quot;)\n   private Integer valuesMapKey1;\n</code></pre>\n<ol start=\"3\">\n<li>We can also use the @Value annotation to inject a <strong>List</strong> property.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   @Value(&quot;#{'${listOfValues}'.split(',')}&quot;)\n   private List&lt;String&gt; valuesList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11465683,"reputation":99,"user_id":8836967,"display_name":"yatheendra k v"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676078489,"creation_date":1609236475,"answer_id":65490481,"question_id":30528255,"body_markdown":"Try class [PropertiesLoaderUtils][1]. This approach doesn’t use any annotation of Spring Boot. It is a traditional class way.\r\n\r\nExample:\r\n\r\n    Resource resource = new ClassPathResource(&quot;/application.properties&quot;);\r\n    Properties props = PropertiesLoaderUtils.loadProperties(resource);\r\n    String url_server=props.getProperty(&quot;server_url&quot;);\r\n\r\nUse the getProperty() method to pass the key and access the value in the properties file.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/org/springframework/core/io/support/PropertiesLoaderUtils.html\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Try class <a href=\"https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/org/springframework/core/io/support/PropertiesLoaderUtils.html\" rel=\"nofollow noreferrer\">PropertiesLoaderUtils</a>. This approach doesn’t use any annotation of Spring Boot. It is a traditional class way.</p>\n<p>Example:</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;/application.properties&quot;);\nProperties props = PropertiesLoaderUtils.loadProperties(resource);\nString url_server=props.getProperty(&quot;server_url&quot;);\n</code></pre>\n<p>Use the getProperty() method to pass the key and access the value in the properties file.</p>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676078744,"creation_date":1609834986,"answer_id":65575303,"question_id":30528255,"body_markdown":"To pick the values from property file, we can have a *Config* reader class, something like *ApplicationConfigReader.java*.\r\nThen define all the variables against properties. Refer to the below example,\r\n\r\n    application.properties\r\n\r\n    myapp.nationality: INDIAN\r\n    myapp.gender: Male\r\n\r\nBelow is the corresponding reader class.\r\n\r\n    @Component\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix = &quot;myapp&quot;)\r\n    class AppConfigReader{\r\n        private String nationality;\r\n        private String gender\r\n\r\n        // Getter and setter\r\n    }\r\n\r\nNow we can auto-wire the reader class wherever we want to access property values.\r\n\r\nE.g.,\r\n\r\n    @Service\r\n    class ServiceImpl{\r\n        @Autowired\r\n        private AppConfigReader appConfigReader;\r\n\r\n        //...\r\n        // Fetching values from the configuration reader\r\n        String nationality = appConfigReader.getNationality() ;\r\n        String gender = appConfigReader.getGender();\r\n    }\r\n\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>To pick the values from property file, we can have a <em>Config</em> reader class, something like <em>ApplicationConfigReader.java</em>.\nThen define all the variables against properties. Refer to the below example,</p>\n<pre><code>application.properties\n\nmyapp.nationality: INDIAN\nmyapp.gender: Male\n</code></pre>\n<p>Below is the corresponding reader class.</p>\n<pre><code>@Component\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\nclass AppConfigReader{\n    private String nationality;\n    private String gender\n\n    // Getter and setter\n}\n</code></pre>\n<p>Now we can auto-wire the reader class wherever we want to access property values.</p>\n<p>E.g.,</p>\n<pre><code>@Service\nclass ServiceImpl{\n    @Autowired\n    private AppConfigReader appConfigReader;\n\n    //...\n    // Fetching values from the configuration reader\n    String nationality = appConfigReader.getNationality() ;\n    String gender = appConfigReader.getGender();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8116950,"reputation":436,"user_id":6115152,"accept_rate":100,"display_name":"LazyAnalyst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615884726,"creation_date":1615884726,"answer_id":66651846,"question_id":30528255,"body_markdown":"**application.yml or application.properties**\r\n\r\n    config.value1: 10\r\n    config.value2: 20\r\n    config.str: This is a simle str\r\n\r\n**MyConfig class**\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;config&quot;)\r\n    public class MyConfig {\r\n        int value1;\r\n        int value2;\r\n        String str;\r\n\r\n        public int getValue1() {\r\n            return value1;\r\n        }\r\n\r\n        // Add the rest of getters here...      \r\n        // Values are already mapped in this class. You can access them via getters.\r\n    }\r\n\r\n**Any class that wants to access config values**\r\n\r\n    @Import(MyConfig.class)\r\n    class MyClass {\r\n        private MyConfig myConfig;\r\n\r\n        @Autowired\r\n        public MyClass(MyConfig myConfig) {\r\n            this.myConfig = myConfig;\r\n            System.out.println( myConfig.getValue1() );\r\n        }\r\n    }\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p><strong>application.yml or application.properties</strong></p>\n<pre><code>config.value1: 10\nconfig.value2: 20\nconfig.str: This is a simle str\n</code></pre>\n<p><strong>MyConfig class</strong></p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;config&quot;)\npublic class MyConfig {\n    int value1;\n    int value2;\n    String str;\n\n    public int getValue1() {\n        return value1;\n    }\n\n    // Add the rest of getters here...      \n    // Values are already mapped in this class. You can access them via getters.\n}\n</code></pre>\n<p><strong>Any class that wants to access config values</strong></p>\n<pre><code>@Import(MyConfig.class)\nclass MyClass {\n    private MyConfig myConfig;\n\n    @Autowired\n    public MyClass(MyConfig myConfig) {\n        this.myConfig = myConfig;\n        System.out.println( myConfig.getValue1() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12807728,"reputation":311,"user_id":10891247,"display_name":"ZahraAsgharzade"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676080866,"creation_date":1618375276,"answer_id":67085637,"question_id":30528255,"body_markdown":"You should inject `@Autowired private Environment env;` from `import org.springframework.core.env.Environment;`\r\n\r\nAnd then use it this way: \r\n\r\n`env.getProperty(&quot;yourPropertyNameInApplication.properties&quot;)`\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You should inject <code>@Autowired private Environment env;</code> from <code>import org.springframework.core.env.Environment;</code></p>\n<p>And then use it this way:</p>\n<p><code>env.getProperty(&quot;yourPropertyNameInApplication.properties&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":5796459,"reputation":31,"user_id":4572126,"display_name":"Hammad Allauddin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676081112,"creation_date":1627422044,"answer_id":68552061,"question_id":30528255,"body_markdown":"You can use the @Value annotation and access the property in a Spring bean:\r\n\r\n    @Value(&quot;${userBucket.path}&quot;)\r\n    private String userBucketPath;\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the @Value annotation and access the property in a Spring bean:</p>\n<pre><code>@Value(&quot;${userBucket.path}&quot;)\nprivate String userBucketPath;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17623291,"reputation":19,"user_id":12788765,"display_name":"Souradeep Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633678373,"creation_date":1633678373,"answer_id":69492145,"question_id":30528255,"body_markdown":"The easiest way would be to use the @Value annotation provided by Spring Boot. You need to define a variable at class level. For example:\r\n\r\n@Value(&quot;${userBucket.path}&quot;)\r\nprivate String userBucketPath\r\n\r\nThere is another way you can do this via the Environment Class. For example:\r\n\r\n1. Autowire the environment variable to your class where you need to access this property:\r\n\r\n@Autowired\r\nprivate Environment environment\r\n\r\n2. Use the environment variable to get the property value in the line you need it using:\r\n\r\nenvironment.getProperty(&quot;userBucket.path&quot;);\r\n\r\nHope this answers your question! ","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>The easiest way would be to use the @Value annotation provided by Spring Boot. You need to define a variable at class level. For example:</p>\n<p>@Value(&quot;${userBucket.path}&quot;)\nprivate String userBucketPath</p>\n<p>There is another way you can do this via the Environment Class. For example:</p>\n<ol>\n<li>Autowire the environment variable to your class where you need to access this property:</li>\n</ol>\n<p>@Autowired\nprivate Environment environment</p>\n<ol start=\"2\">\n<li>Use the environment variable to get the property value in the line you need it using:</li>\n</ol>\n<p>environment.getProperty(&quot;userBucket.path&quot;);</p>\n<p>Hope this answers your question!</p>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637663945,"creation_date":1637663945,"answer_id":70079379,"question_id":30528255,"body_markdown":"Another way to find a key/value in the configuration.\r\n\r\n```java\r\n...\r\nimport org.springframework.core.env.ConfigurableEnvironment;\r\n...\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n\r\n    @Autowired\r\n    private ConfigurableEnvironment  myEnv;\r\n\r\n...\r\n  \r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic void doSomethingAfterStartup() \r\n\tthrows Exception {\r\n\t\t\r\n\t\tLOG.info(&quot;myEnv (userBucket.path): &quot; + myEnv.getProperty(&quot;userBucket.path&quot;));\r\n\t}\r\n} \r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Another way to find a key/value in the configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nimport org.springframework.core.env.ConfigurableEnvironment;\n...\n@SpringBootApplication\npublic class MyApplication {\n\n    @Autowired\n    private ConfigurableEnvironment  myEnv;\n\n...\n  \n    @EventListener(ApplicationReadyEvent.class)\n    public void doSomethingAfterStartup() \n    throws Exception {\n        \n        LOG.info(&quot;myEnv (userBucket.path): &quot; + myEnv.getProperty(&quot;userBucket.path&quot;));\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23595282,"reputation":151,"user_id":17632474,"display_name":"Mohit Kaushal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639027497,"creation_date":1639027383,"answer_id":70285080,"question_id":30528255,"body_markdown":"You can access the application.properties file values by using:\r\n\r\n    @Value(&quot;${key_of_declared_value}&quot;)","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can access the application.properties file values by using:</p>\n<pre><code>@Value(&quot;${key_of_declared_value}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5856157,"reputation":282,"user_id":4613329,"accept_rate":71,"display_name":"JavaLearner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688048575,"creation_date":1641886714,"answer_id":70663123,"question_id":30528255,"body_markdown":"There are 3 ways to read the `application.properties`:\r\n\r\n1st way:\r\n\r\nUsing `@Value`, `EnvironmentInterface` and `@ConfigurationProperties`:\r\n\r\n    @Value(&quot;${userBucket.path}&quot;)\r\n    private String value;\r\n\r\n2nd way:\r\n\r\n    @Autowired\r\n    private Environment environment; // org.springframework.core.env.Environment;\r\n\r\n    String s = environment.getProperty(&quot;userBucket.path&quot;);\r\n\r\n3rd way:\r\n\r\n```java\r\n@ConfigurationProperties(&quot;userbucket&quot;)\r\npublic class Config {\r\n   \r\n    private String path;\r\n\r\n    // getters and setters\r\n}\r\n```  \r\n\r\nCan be read with getters and setters..\r\n\r\nReference - [here][1]\r\n\r\n\r\n  [1]: https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are 3 ways to read the <code>application.properties</code>:</p>\n<p>1st way:</p>\n<p>Using <code>@Value</code>, <code>EnvironmentInterface</code> and <code>@ConfigurationProperties</code>:</p>\n<pre><code>@Value(&quot;${userBucket.path}&quot;)\nprivate String value;\n</code></pre>\n<p>2nd way:</p>\n<pre><code>@Autowired\nprivate Environment environment; // org.springframework.core.env.Environment;\n\nString s = environment.getProperty(&quot;userBucket.path&quot;);\n</code></pre>\n<p>3rd way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(&quot;userbucket&quot;)\npublic class Config {\n   \n    private String path;\n\n    // getters and setters\n}\n</code></pre>\n<p>Can be read with getters and setters..</p>\n<p>Reference - <a href=\"https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":18609341,"reputation":443,"user_id":13562196,"display_name":"Talat El Beick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651424958,"creation_date":1651424958,"answer_id":72078840,"question_id":30528255,"body_markdown":"To read `application.properties` or `application.yml` attributes follow the following steps:\r\n\r\n1. Add your attributes in application.properties or application.yaml\r\n2. Create config class and add your attributes\r\n\r\n\r\n```\r\napplication.jwt.secretKey=value\r\napplication.jwt.tokenPrefix=value\r\napplication.jwt.tokenExpiresAfterDays=value ## 14\r\n```\r\n\r\n```yaml\r\napplication:\r\n  jwt:\r\n    secret-key: value\r\n    token-prefix: value\r\n    token-expires-after-days: value ## 14\r\n```\r\n\r\n```java\r\n@Configuration(&quot;jwtProperties&quot;) // you can leave it empty\r\n@EnableConfigurationProperties\r\n@ConfigurationProperties(prefix = &quot;application.jwt&quot;) // prefix is required\r\npublic class JwtConfig {\r\n    private String secretKey;\r\n    private String tokenPrefix;\r\n    private int tokenExpiresAfterDays;\r\n\r\n    // getters and setters\r\n}\r\n```\r\n\r\nNOTE: in `.yaml` file you have to use kabab-case\r\n\r\nNow to use the config class just instantiate it, you can do this manualy or with dependency injection.\r\n\r\n```java\r\npublic class Target {\r\n\r\n  private final JwtConfig jwtConfig;\r\n\r\n  @Autowired\r\n  public Target(JwtConfig jwtConfig) {\r\n      this.jwtConfig = jwtConfig;\r\n  }\r\n\r\n  // jwtConfig.getSecretKey()\r\n\r\n}\r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>To read <code>application.properties</code> or <code>application.yml</code> attributes follow the following steps:</p>\n<ol>\n<li>Add your attributes in application.properties or application.yaml</li>\n<li>Create config class and add your attributes</li>\n</ol>\n<pre><code>application.jwt.secretKey=value\napplication.jwt.tokenPrefix=value\napplication.jwt.tokenExpiresAfterDays=value ## 14\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>application:\n  jwt:\n    secret-key: value\n    token-prefix: value\n    token-expires-after-days: value ## 14\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(&quot;jwtProperties&quot;) // you can leave it empty\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = &quot;application.jwt&quot;) // prefix is required\npublic class JwtConfig {\n    private String secretKey;\n    private String tokenPrefix;\n    private int tokenExpiresAfterDays;\n\n    // getters and setters\n}\n</code></pre>\n<p>NOTE: in <code>.yaml</code> file you have to use kabab-case</p>\n<p>Now to use the config class just instantiate it, you can do this manualy or with dependency injection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Target {\n\n  private final JwtConfig jwtConfig;\n\n  @Autowired\n  public Target(JwtConfig jwtConfig) {\n      this.jwtConfig = jwtConfig;\n  }\n\n  // jwtConfig.getSecretKey()\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676082346,"creation_date":1663584961,"answer_id":73772297,"question_id":30528255,"body_markdown":"There are actually three ways to read the *application.properties* file,\r\n\r\nUsing Environment,\r\n\r\n    @Autowired\r\n    Environment environment\r\n\r\n    environment.getProperty({propertyName})\r\n\r\nOr we can use @Value,\r\n\r\n    @Value(&quot;${property}&quot;)\r\n\r\nbut the problem with @Value is it might throw an exception if the value is not in the properties file.\r\n\r\nThe suggested way is using @ConfigurationProperties\r\n\r\n    @ConfigurationProperties(&quot;userBucket&quot;)\r\n    public class test{\r\n      private String path;\r\n      //getters and setters\r\n    }\r\n\r\nFor a detailed example - [Reading application.properties][1].\r\n\r\n  [1]: https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are actually three ways to read the <em>application.properties</em> file,</p>\n<p>Using Environment,</p>\n<pre><code>@Autowired\nEnvironment environment\n\nenvironment.getProperty({propertyName})\n</code></pre>\n<p>Or we can use @Value,</p>\n<pre><code>@Value(&quot;${property}&quot;)\n</code></pre>\n<p>but the problem with @Value is it might throw an exception if the value is not in the properties file.</p>\n<p>The suggested way is using @ConfigurationProperties</p>\n<pre><code>@ConfigurationProperties(&quot;userBucket&quot;)\npublic class test{\n  private String path;\n  //getters and setters\n}\n</code></pre>\n<p>For a detailed example - <a href=\"https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/\" rel=\"nofollow noreferrer\">Reading application.properties</a>.</p>\n"}],"owner":{"account_id":5862830,"reputation":9248,"user_id":4617914,"accept_rate":12,"display_name":"Qasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978363,"favorite_count":0,"down_vote_count":0,"up_vote_count":555,"accepted_answer_id":30528430,"answer_count":31,"score":555,"last_activity_date":1688048575,"creation_date":1432898368,"question_id":30528255,"body_markdown":"I want to access values provided in `application.properties`, e.g.:\r\n\r\n    logging.level.org.springframework.web: DEBUG\r\n    logging.level.org.hibernate: ERROR\r\n    logging.file=${HOME}/application.log\r\n    \r\n    userBucket.path=${HOME}/bucket\r\n\r\nI want to access `userBucket.path` in my main program in a Spring Boot application.","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>I want to access values provided in <code>application.properties</code>, e.g.:</p>\n\n<pre><code>logging.level.org.springframework.web: DEBUG\nlogging.level.org.hibernate: ERROR\nlogging.file=${HOME}/application.log\n\nuserBucket.path=${HOME}/bucket\n</code></pre>\n\n<p>I want to access <code>userBucket.path</code> in my main program in a Spring Boot application.</p>\n"},{"tags":["java","spring","sonarqube"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688048701,"post_id":76581955,"comment_id":135024030,"body_markdown":"If they aren&#39;t injected, what are they then? If this is for keeping state then don&#39;t do it, else you should be injecting it.","body":"If they aren&#39;t injected, what are they then? If this is for keeping state then don&#39;t do it, else you should be injecting it."},{"owner":{"account_id":9902451,"reputation":21,"user_id":7332041,"display_name":"Mariia"},"score":0,"creation_date":1688137632,"post_id":76581955,"comment_id":135038086,"body_markdown":"yes, they are keeping a state, and yes, this is not a good practice. But in my project I see that sometimes they are set to null in the constructor and Sonar is ok with this solution. And I do not understand why is he ok","body":"yes, they are keeping a state, and yes, this is not a good practice. But in my project I see that sometimes they are set to null in the constructor and Sonar is ok with this solution. And I do not understand why is he ok"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688146170,"post_id":76581955,"comment_id":135039779,"body_markdown":"Keeping state is indeed not a good practice and in concurrent situations will lead to errors, simply don&#39;t do this.","body":"Keeping state is indeed not a good practice and in concurrent situations will lead to errors, simply don&#39;t do this."}],"owner":{"account_id":9902451,"reputation":21,"user_id":7332041,"display_name":"Mariia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688048477,"creation_date":1688048477,"question_id":76581955,"body_markdown":"in the current project we are using Sonar for code checking and there is a rule Members of Spring components should be injected (https://rules.sonarsource.com/java/RSPEC-3749/) So let&#39;s say I have a service class with a field which is not neither injected nor static:\r\n\r\n`@Service\r\npublic class myService {\r\n    private  MyObject myObject;\r\n... }`\r\n\r\nIf I declare it as static or if I add initialization by null in constructor (i.e. this.myObject == null) it is ok for Sonar and the rule is not trigged. For the 1 option, if my class is singleton, modificator static should not change anything, is not it? For the second option, in Java objects are initialised as null by default, are not they? Could you please comment? Thank you very much in advance!  ","title":"Sonar: Members of Spring components should be injected","body":"<p>in the current project we are using Sonar for code checking and there is a rule Members of Spring components should be injected (<a href=\"https://rules.sonarsource.com/java/RSPEC-3749/\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-3749/</a>) So let's say I have a service class with a field which is not neither injected nor static:</p>\n<p><code>@Service public class myService { private  MyObject myObject; ... }</code></p>\n<p>If I declare it as static or if I add initialization by null in constructor (i.e. this.myObject == null) it is ok for Sonar and the rule is not trigged. For the 1 option, if my class is singleton, modificator static should not change anything, is not it? For the second option, in Java objects are initialised as null by default, are not they? Could you please comment? Thank you very much in advance!</p>\n"},{"tags":["java","jdeveloper","oc4j"],"answers":[{"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354716828,"creation_date":1354716828,"answer_id":13725157,"question_id":13725071,"body_markdown":"I just had The same Problem, renaming The classes, Files, and whatever was not working, solved the Problem. Sadly this happens pretty often","title":"latest compiled files are not taken by Jdeveloper","body":"<p>I just had The same Problem, renaming The classes, Files, and whatever was not working, solved the Problem. Sadly this happens pretty often</p>\n"},{"tags":[],"owner":{"account_id":371386,"reputation":3693,"user_id":719884,"display_name":"Shay Shmeltzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354750327,"creation_date":1354750327,"answer_id":13734442,"question_id":13725071,"body_markdown":"You can try the clean all option in the build menu.\r\n","title":"latest compiled files are not taken by Jdeveloper","body":"<p>You can try the clean all option in the build menu.</p>\n"},{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354836748,"creation_date":1354836748,"answer_id":13754548,"question_id":13725071,"body_markdown":"After performing the clean all, as Shay suggests,  you can delete all &#39;.data&#39; folders. They are normally not cleared by jdev, but are most of the time the reason you see this behavior. \r\nIf the &#39;.data&#39; folders are chills of the classes folder you can just delete the classes folder. ","title":"latest compiled files are not taken by Jdeveloper","body":"<p>After performing the clean all, as Shay suggests,  you can delete all '.data' folders. They are normally not cleared by jdev, but are most of the time the reason you see this behavior. \nIf the '.data' folders are chills of the classes folder you can just delete the classes folder. </p>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2097,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688048441,"creation_date":1354716558,"question_id":13725071,"body_markdown":"My application uses stuts and spring framework and we use Jdeveloper and OC4J server.\r\n\r\nYesterday I took the latest workspace and when I compile all the new class files are generated. When I make any changes rebuild and restart Jdev server I don&#39;t see my changes in the UI. I checked all the path and looks like it&#39;s pointing properly.\r\n\r\nWhat else could you guys think off?","title":"latest compiled files are not taken by Jdeveloper","body":"<p>My application uses stuts and spring framework and we use Jdeveloper and OC4J server.</p>\n<p>Yesterday I took the latest workspace and when I compile all the new class files are generated. When I make any changes rebuild and restart Jdev server I don't see my changes in the UI. I checked all the path and looks like it's pointing properly.</p>\n<p>What else could you guys think off?</p>\n"},{"tags":["java","gwt","maven","selenium"],"comments":[{"owner":{"account_id":1122880,"reputation":675,"user_id":1110808,"accept_rate":71,"display_name":"Anurag Kapur"},"score":2,"creation_date":1360709577,"post_id":14842974,"comment_id":20801800,"body_markdown":"Seems like a network issue as your logs say plexus-compiler-manager-1.8.1.jar failed to download due to network timeout. Try creating a vanilla maven project setup and ensure that works and then retry on this project. Do an eclipse restart and full project refresh after getting the vanilla project working.","body":"Seems like a network issue as your logs say plexus-compiler-manager-1.8.1.jar failed to download due to network timeout. Try creating a vanilla maven project setup and ensure that works and then retry on this project. Do an eclipse restart and full project refresh after getting the vanilla project working."},{"owner":{"account_id":1180841,"reputation":9537,"user_id":1155801,"accept_rate":80,"display_name":"appbootup"},"score":0,"creation_date":1360726909,"post_id":14842974,"comment_id":20806194,"body_markdown":"For beginners starting with Eclipse, Maven , M2E and GWT it would be tough ask to ramp on all the things new. You can instead start of from GWT Maven sample project and import it into eclipse using &quot;Import&quot; -&gt; &quot;Existing Maven projects&quot; . GWT&#39;s samples folder in the downloadable from here -&gt; http://google-web-toolkit.googlecode.com/files/gwt-2.5.0.zip","body":"For beginners starting with Eclipse, Maven , M2E and GWT it would be tough ask to ramp on all the things new. You can instead start of from GWT Maven sample project and import it into eclipse using &quot;Import&quot; -&gt; &quot;Existing Maven projects&quot; . GWT&#39;s samples folder in the downloadable from here -&gt; <a href=\"http://google-web-toolkit.googlecode.com/files/gwt-2.5.0.zip\" rel=\"nofollow noreferrer\">google-web-toolkit.googlecode.com/files/gwt-2.5.0.zip</a>"},{"owner":{"account_id":1180841,"reputation":9537,"user_id":1155801,"accept_rate":80,"display_name":"appbootup"},"score":1,"creation_date":1360726961,"post_id":14842974,"comment_id":20806202,"body_markdown":"I noticed you have &quot;selenium&quot; in your screenshot. Are you sure you need to tag it with GWT?","body":"I noticed you have &quot;selenium&quot; in your screenshot. Are you sure you need to tag it with GWT?"},{"owner":{"account_id":196934,"reputation":774,"user_id":1059689,"accept_rate":61,"display_name":"Pero"},"score":0,"creation_date":1360957224,"post_id":14842974,"comment_id":20902364,"body_markdown":"hmm i did it because i want to test my gwt app.","body":"hmm i did it because i want to test my gwt app."},{"owner":{"account_id":1737311,"reputation":746,"user_id":1589563,"display_name":"Marcin Stachniuk"},"score":0,"creation_date":1369340416,"post_id":14842974,"comment_id":24078664,"body_markdown":"Look there: http://stackoverflow.com/questions/8834806/m2eclipse-error \r\n\r\nDid that solved your problem?","body":"Look there: <a href=\"http://stackoverflow.com/questions/8834806/m2eclipse-error\">stackoverflow.com/questions/8834806/m2eclipse-error</a>     Did that solved your problem?"}],"answers":[{"tags":[],"owner":{"account_id":400196,"reputation":103,"user_id":766048,"display_name":"Ayyappadas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374576905,"creation_date":1374576905,"answer_id":17808182,"question_id":14842974,"body_markdown":"Eclipse Juno have some problem on creating a Maven project, the best way would to create Maven project,create Java and convert it.\r\n\r\nJuno also has the problem with life cycle configuration of Maven, in building,compiling,installing. so please turn off your build automatically too. \r\n\r\nFollow the below instruction to fix this issue.\r\n\r\nCheck if your proxy settings on Eclipse is behind your company corporate network.\r\n\r\nTo change this goto-&gt; window-&gt;prefernces-&gt;General-&gt; network connection and change the active providers.\r\n\r\nIf you have some proxy details, select Manaul as active provider and edit it.\r\nAdd the proxy details , ie., host name and port , and click save.\r\n\r\nElse try to get it from your company network team.\r\n\r\nAfter this goto maven settings by Goto-&gt;window-&gt;prefernces-&gt;Maven-&gt; user settings\r\n\r\nCheck if there is xml file called settings.xml if not add the code below to the file and save on the path.\r\n\r\nFor reference it will be locatedon : users\\your name\\.m2\r\n\r\n\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                          http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      &lt;localRepository/&gt;\r\n      &lt;interactiveMode/&gt;\r\n      &lt;usePluginRegistry/&gt;\r\n      &lt;offline/&gt;\r\n      &lt;pluginGroups/&gt;\r\n      &lt;servers/&gt;\r\n      &lt;mirrors/&gt;\r\n      &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n          &lt;id&gt;myproxy&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;host&gt;proxy name&lt;/host&gt;\r\n          &lt;port&gt;number&lt;/port&gt;\r\n          &lt;username&gt;&lt;/username&gt;\r\n          &lt;password&gt;&lt;/password&gt;\r\n          &lt;nonProxyHosts&gt;localhost,127.0.0.1&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n      &lt;/proxies&gt;\r\n      &lt;profiles/&gt;\r\n      &lt;activeProfiles/&gt;\r\n    &lt;/settings&gt;\r\n\r\nEven after this, if it does not works, \r\nGoto command prompt.\r\nnavigate to project location.\r\ntype command one after the other.\r\n-  mvn clean \r\n-  mvn compile \r\n-  mvn install \r\n\r\nHope it will work for you and others.","title":"Error in converted maven project in Eclipse","body":"<p>Eclipse Juno have some problem on creating a Maven project, the best way would to create Maven project,create Java and convert it.</p>\n\n<p>Juno also has the problem with life cycle configuration of Maven, in building,compiling,installing. so please turn off your build automatically too. </p>\n\n<p>Follow the below instruction to fix this issue.</p>\n\n<p>Check if your proxy settings on Eclipse is behind your company corporate network.</p>\n\n<p>To change this goto-> window->prefernces->General-> network connection and change the active providers.</p>\n\n<p>If you have some proxy details, select Manaul as active provider and edit it.\nAdd the proxy details , ie., host name and port , and click save.</p>\n\n<p>Else try to get it from your company network team.</p>\n\n<p>After this goto maven settings by Goto->window->prefernces->Maven-> user settings</p>\n\n<p>Check if there is xml file called settings.xml if not add the code below to the file and save on the path.</p>\n\n<p>For reference it will be locatedon : users\\your name.m2</p>\n\n<pre><code>&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n  &lt;localRepository/&gt;\n  &lt;interactiveMode/&gt;\n  &lt;usePluginRegistry/&gt;\n  &lt;offline/&gt;\n  &lt;pluginGroups/&gt;\n  &lt;servers/&gt;\n  &lt;mirrors/&gt;\n  &lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;id&gt;myproxy&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;host&gt;proxy name&lt;/host&gt;\n      &lt;port&gt;number&lt;/port&gt;\n      &lt;username&gt;&lt;/username&gt;\n      &lt;password&gt;&lt;/password&gt;\n      &lt;nonProxyHosts&gt;localhost,127.0.0.1&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n  &lt;/proxies&gt;\n  &lt;profiles/&gt;\n  &lt;activeProfiles/&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>Even after this, if it does not works, \nGoto command prompt.\nnavigate to project location.\ntype command one after the other.\n-  mvn clean \n-  mvn compile \n-  mvn install </p>\n\n<p>Hope it will work for you and others.</p>\n"},{"tags":[],"owner":{"account_id":5388310,"reputation":64,"user_id":4291594,"display_name":"Ramesh Korla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688048412,"creation_date":1688048412,"answer_id":76581948,"question_id":14842974,"body_markdown":"You can right-click on your project then Maven &gt; Update Project..., then select Force Update of Snapshots/Releases checkbox then click OK.","title":"Error in converted maven project in Eclipse","body":"<p>You can right-click on your project then Maven &gt; Update Project..., then select Force Update of Snapshots/Releases checkbox then click OK.</p>\n"}],"owner":{"account_id":196934,"reputation":774,"user_id":1059689,"accept_rate":61,"display_name":"Pero"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10572,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1688048412,"creation_date":1360707825,"question_id":14842974,"body_markdown":"I am using Eclipse Juno with the m2e plugin. I converted my java project into a maven project via Eclipse\r\n\r\n&gt; Right click on project &gt; goto menu configure &gt; Convert to maven project.\r\n\r\n\r\n\r\n![thats my pom.xml file][1]\r\n\r\nAnd these are the errors:\r\n\r\n    Multiple annotations found at this line:\r\n\t- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\r\n\t plugin:2.3.2:compile (execution: default-compile, phase: compile)\r\n\t- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\r\n\t plugin:2.3.2:testCompile (execution: default-testCompile, phase: test-compile)\r\n\t- CoreException: Could not get the value for parameter compilerId for plugin execution default-\r\n\t compile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one of \r\n\t its dependencies could not be resolved: The following artifacts could not be resolved: \r\n\t org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \r\n\t Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\r\n\t maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \r\n\t has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\r\n\t manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\r\n\t repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\r\n\t manager-1.8.1.jar\r\n\t- CoreException: Could not get the value for parameter compilerId for plugin execution default-\r\n\t testCompile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one \r\n\t of its dependencies could not be resolved: The following artifacts could not be resolved: \r\n\t org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \r\n\t Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\r\n\t maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \r\n\t has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\r\n\t manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\r\n\t repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\r\n\t manager-1.8.1.jar\r\n\r\nHow to solve this problem?\r\nPlease help.\r\n\r\n  [1]: http://i.stack.imgur.com/FYWZL.png","title":"Error in converted maven project in Eclipse","body":"<p>I am using Eclipse Juno with the m2e plugin. I converted my java project into a maven project via Eclipse</p>\n\n<blockquote>\n  <p>Right click on project > goto menu configure > Convert to maven project.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/FYWZL.png\" alt=\"thats my pom.xml file\"></p>\n\n<p>And these are the errors:</p>\n\n<pre><code>Multiple annotations found at this line:\n- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\n plugin:2.3.2:compile (execution: default-compile, phase: compile)\n- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\n plugin:2.3.2:testCompile (execution: default-testCompile, phase: test-compile)\n- CoreException: Could not get the value for parameter compilerId for plugin execution default-\n compile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one of \n its dependencies could not be resolved: The following artifacts could not be resolved: \n org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \n Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\n maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \n has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\n manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\n repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\n manager-1.8.1.jar\n- CoreException: Could not get the value for parameter compilerId for plugin execution default-\n testCompile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one \n of its dependencies could not be resolved: The following artifacts could not be resolved: \n org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \n Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\n maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \n has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\n manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\n repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\n manager-1.8.1.jar\n</code></pre>\n\n<p>How to solve this problem?\nPlease help.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1687961803,"post_id":76573919,"comment_id":135010431,"body_markdown":"have you tried to increase the memory allocated for the jvm? its not exactly solution but can help a bit. anyway, unrestrained use of recursion may cause stackoverflow - so, please exercise caution.","body":"have you tried to increase the memory allocated for the jvm? its not exactly solution but can help a bit. anyway, unrestrained use of recursion may cause stackoverflow - so, please exercise caution."},{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1687962735,"post_id":76573919,"comment_id":135010676,"body_markdown":"Thanks for the comment, I didn&#39;t increase the memory because it wouldn&#39;t be an alternative for our scenario. So I&#39;m thinking that this recursive algorithm would not be an option to solve this problem. I wanted to check other alternatives","body":"Thanks for the comment, I didn&#39;t increase the memory because it wouldn&#39;t be an alternative for our scenario. So I&#39;m thinking that this recursive algorithm would not be an option to solve this problem. I wanted to check other alternatives"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1687963182,"post_id":76573919,"comment_id":135010792,"body_markdown":"the cause for your out of memory error was.. you keep creating `Array`s which takes **contiguous** memory space. if its a `List` then jvm can sacrifice a bit of speed to sequeeze them around the `heap`. however, they can&#39;t do much if the memory space not wide enough.","body":"the cause for your out of memory error was.. you keep creating <code>Array</code>s which takes <b>contiguous</b> memory space. if its a <code>List</code> then jvm can sacrifice a bit of speed to sequeeze them around the <code>heap</code>. however, they can&#39;t do much if the memory space not wide enough."},{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1687964229,"post_id":76573919,"comment_id":135011026,"body_markdown":"Yeah, I think recursion here is not a good idea to go with. Now I wanted to see other possibilities without recursion","body":"Yeah, I think recursion here is not a good idea to go with. Now I wanted to see other possibilities without recursion"}],"answers":[{"tags":[],"owner":{"account_id":13851836,"reputation":11,"user_id":9999607,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687987929,"creation_date":1687964109,"answer_id":76574397,"question_id":76573919,"body_markdown":"It looks like the memory problem is caused by the number of arrays you have to copy and store. If it was a recursion problem, you would get StackOferflowError instead.\r\nSo in order to mitigate the current `Java heap space` issue, you could try to:\r\n\r\n1) increase heap size via JVM memory setting (`-Xmx&lt;size&gt;`, e.g. `java -Xmx6g program`)\r\n2) refactor the code in a way that it does not need to store all combinations in memory simultaneously (e.g. instead of saving a copy of an array, print or write it to a file)\r\n ","title":"Algorithm combinations of words in a Sentence","body":"<p>It looks like the memory problem is caused by the number of arrays you have to copy and store. If it was a recursion problem, you would get StackOferflowError instead.\nSo in order to mitigate the current <code>Java heap space</code> issue, you could try to:</p>\n<ol>\n<li>increase heap size via JVM memory setting (<code>-Xmx&lt;size&gt;</code>, e.g. <code>java -Xmx6g program</code>)</li>\n<li>refactor the code in a way that it does not need to store all combinations in memory simultaneously (e.g. instead of saving a copy of an array, print or write it to a file)</li>\n</ol>\n"}],"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688048054,"creation_date":1687960711,"question_id":76573919,"body_markdown":"I&#39;m testing an algorithm for generating combinations of a sentence Using  Backtracking, for example &quot;orange is sweet&quot; combinations &quot;orange is sweet, is orange sweet, sweet is orange, orange sweet is&quot;....\r\n[source geeksforgeeks][1]\r\n\r\n**Algorithm**\r\n\r\n```java\r\n    public static void calculatePermutations(String sentence)\r\n    {\r\n        // Stores all words in the sentence\r\n        String[] lis = sentence.split(&quot; &quot;);\r\n \r\n        // Stores all possible permutations\r\n        // of words in this list\r\n        List&lt;String[]&gt; permute = new ArrayList&lt;&gt;();\r\n \r\n        // Generate all permutations of words\r\n        generatePermutations(lis, 0, permute);\r\n \r\n        // Iterate over all permutations\r\n        for (String[] i : permute) {\r\n            // Print the words in the\r\n            // list separated by spaces\r\n            System.out.println(String.join(&quot; &quot;, i));\r\n        }\r\n    }\r\n \r\n    // Function to generate all permutations using\r\n    // backtracking\r\n    public static void generatePermutations(String[] arr, int index, List&lt;String[]&gt; permute)                        \r\n    {\r\n        // Base case: If the current index is equal to the\r\n        // length of the array add the current permutation\r\n        // to the list of permutations\r\n        if (index == arr.length) {\r\n            permute.add(Arrays.copyOf(arr, arr.length));\r\n            return;\r\n        }\r\n \r\n        // Iterate over the remaining words and generate\r\n        // permutations\r\n        for (int i = index; i &lt; arr.length; i++) {\r\n            // Swap the current word with the ith word\r\n            String temp = arr[i];\r\n            arr[i] = arr[index];\r\n            arr[index] = temp;\r\n \r\n            // Make a recursive call to generate\r\n            // permutations with the updated list and index\r\n            generatePermutations(arr, index + 1, permute);\r\n \r\n            // Swap back the current word with the\r\n            // previously swapped word\r\n            temp = arr[i];\r\n            arr[i] = arr[index];\r\n            arr[index] = temp;\r\n        }\r\n    }\r\n \r\n    // Driver Code\r\n    public static void main(String[] args)\r\n    {\r\n        String sentence = &quot;sky is blue&quot;;\r\n        calculatePermutations(sentence);\r\n    }\r\n```\r\n\r\nThe algorithm is doing the combinations well, but for a large volume of data it breaks\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOf(Arrays.java:3481)\r\n\r\nCopyOf arrays always generate a new instance so I think that&#39;s the problem\r\n\r\n```java\r\n   public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        T[] copy = ((Object) newType == (Object) Object[].class)\r\n            ? (T[]) new Object[newLength]\r\n            : (T[]) Array.newInstance(newType.getComponentType(), newLength);\r\n\r\n        System.arraycopy(original, 0, copy, 0,\r\n                         Math.min(original.length, newLength));\r\n\r\n        return copy;\r\n    }\r\n```\r\n\r\nThe biggest problem with this algorithm for a high processing volume, for example in my test was with more than 1 million phrases to generate combinations, would it be because it is recursive? What would be an alternative?\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/generate-all-possible-permutations-of-words-in-a-sentence","title":"Algorithm combinations of words in a Sentence","body":"<p>I'm testing an algorithm for generating combinations of a sentence Using  Backtracking, for example &quot;orange is sweet&quot; combinations &quot;orange is sweet, is orange sweet, sweet is orange, orange sweet is&quot;....\n<a href=\"https://www.geeksforgeeks.org/generate-all-possible-permutations-of-words-in-a-sentence\" rel=\"nofollow noreferrer\">source geeksforgeeks</a></p>\n<p><strong>Algorithm</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void calculatePermutations(String sentence)\n    {\n        // Stores all words in the sentence\n        String[] lis = sentence.split(&quot; &quot;);\n \n        // Stores all possible permutations\n        // of words in this list\n        List&lt;String[]&gt; permute = new ArrayList&lt;&gt;();\n \n        // Generate all permutations of words\n        generatePermutations(lis, 0, permute);\n \n        // Iterate over all permutations\n        for (String[] i : permute) {\n            // Print the words in the\n            // list separated by spaces\n            System.out.println(String.join(&quot; &quot;, i));\n        }\n    }\n \n    // Function to generate all permutations using\n    // backtracking\n    public static void generatePermutations(String[] arr, int index, List&lt;String[]&gt; permute)                        \n    {\n        // Base case: If the current index is equal to the\n        // length of the array add the current permutation\n        // to the list of permutations\n        if (index == arr.length) {\n            permute.add(Arrays.copyOf(arr, arr.length));\n            return;\n        }\n \n        // Iterate over the remaining words and generate\n        // permutations\n        for (int i = index; i &lt; arr.length; i++) {\n            // Swap the current word with the ith word\n            String temp = arr[i];\n            arr[i] = arr[index];\n            arr[index] = temp;\n \n            // Make a recursive call to generate\n            // permutations with the updated list and index\n            generatePermutations(arr, index + 1, permute);\n \n            // Swap back the current word with the\n            // previously swapped word\n            temp = arr[i];\n            arr[i] = arr[index];\n            arr[index] = temp;\n        }\n    }\n \n    // Driver Code\n    public static void main(String[] args)\n    {\n        String sentence = &quot;sky is blue&quot;;\n        calculatePermutations(sentence);\n    }\n</code></pre>\n<p>The algorithm is doing the combinations well, but for a large volume of data it breaks</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\nat java.base/java.util.Arrays.copyOf(Arrays.java:3481)\n</code></pre>\n<p>CopyOf arrays always generate a new instance so I think that's the problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        T[] copy = ((Object) newType == (Object) Object[].class)\n            ? (T[]) new Object[newLength]\n            : (T[]) Array.newInstance(newType.getComponentType(), newLength);\n\n        System.arraycopy(original, 0, copy, 0,\n                         Math.min(original.length, newLength));\n\n        return copy;\n    }\n</code></pre>\n<p>The biggest problem with this algorithm for a high processing volume, for example in my test was with more than 1 million phrases to generate combinations, would it be because it is recursive? What would be an alternative?</p>\n"},{"tags":["java","c++","math","lcm"],"comments":[{"owner":{"account_id":989775,"reputation":12101,"user_id":1007407,"display_name":"pnezis"},"score":0,"creation_date":1320159935,"post_id":7968364,"comment_id":9742869,"body_markdown":"Sounds like a homework assignment","body":"Sounds like a homework assignment"},{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":0,"creation_date":1320161235,"post_id":7968364,"comment_id":9743328,"body_markdown":"Java or C++?  The solutions may be different depending on the language.","body":"Java or C++?  The solutions may be different depending on the language."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":0,"creation_date":1320218617,"post_id":7968364,"comment_id":9755013,"body_markdown":"Best is to use `(a / gcd(a,b)) * b` to avoid integer overflow.  Using the factorization to compute `lcm` is much less efficient than using `gcd`.","body":"Best is to use <code>(a &#47; gcd(a,b)) * b</code> to avoid integer overflow.  Using the factorization to compute <code>lcm</code> is much less efficient than using <code>gcd</code>."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320159824,"creation_date":1320159824,"answer_id":7968439,"question_id":7968364,"body_markdown":"I believe the algorithm you suggest is [a method using a table](https://secure.wikimedia.org/wikipedia/en/wiki/Least_common_multiple#A_method_using_a_table), check to see if it works for you.","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>I believe the algorithm you suggest is <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Least_common_multiple#A_method_using_a_table\" rel=\"nofollow\">a method using a table</a>, check to see if it works for you.</p>\n"},{"tags":[],"owner":{"account_id":8519,"reputation":175107,"user_id":15416,"accept_rate":63,"display_name":"MSalters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1320315688,"creation_date":1320160725,"answer_id":7968657,"question_id":7968364,"body_markdown":"Almost. What&#39;s the LCM of 4 and 8? Obviously 8 (2&lt;sup&gt;3&lt;/sup&gt;), but in your method you&#39;d find 2. You need to keep track not just of all factors, but also how often they appear.","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>Almost. What's the LCM of 4 and 8? Obviously 8 (2<sup>3</sup>), but in your method you'd find 2. You need to keep track not just of all factors, but also how often they appear.</p>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545984204,"creation_date":1545984204,"answer_id":53955387,"question_id":7968364,"body_markdown":"You can get LCM of two number by getting GCD at first.\r\nHere is the solution for the above.\r\n\r\n    package com.practice.competitive.maths;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class LCMandGCD {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n    \t\t\tint testCases = scanner.nextInt();\r\n    \t\t\twhile (testCases-- &gt; 0) {\r\n    \t\t\t\tlong number1 = scanner.nextInt();\r\n    \t\t\t\tlong number2 = scanner.nextInt();\r\n    \t\t\t\tlong gcd = computeGCD(number1, number2);\r\n    \t\t\t\tlong lcm = computeLCM(number1, number2, gcd);\r\n    \t\t\t\tSystem.out.println(lcm + &quot; &quot; + gcd);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static long computeGCD(long number1, long number2) {\r\n    \t\twhile (number1 != number2) {\r\n    \t\t\tif (number1 &gt; number2)\r\n    \t\t\t\tnumber1 -= number2;\r\n    \t\t\telse\r\n    \t\t\t\tnumber2 -= number1;\r\n    \t\t}\t\r\n    \t\treturn number2;\r\n    \t}\r\n    \r\n    \tprivate static long computeLCM(long number1, long number2, long gcd) {\r\n    \t\treturn (number1*number2)/gcd;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>You can get LCM of two number by getting GCD at first.\nHere is the solution for the above.</p>\n\n<pre><code>package com.practice.competitive.maths;\n\nimport java.util.Scanner;\n\npublic class LCMandGCD {\n\n    public static void main(String[] args) {\n        try (Scanner scanner = new Scanner(System.in)) {\n            int testCases = scanner.nextInt();\n            while (testCases-- &gt; 0) {\n                long number1 = scanner.nextInt();\n                long number2 = scanner.nextInt();\n                long gcd = computeGCD(number1, number2);\n                long lcm = computeLCM(number1, number2, gcd);\n                System.out.println(lcm + \" \" + gcd);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static long computeGCD(long number1, long number2) {\n        while (number1 != number2) {\n            if (number1 &gt; number2)\n                number1 -= number2;\n            else\n                number2 -= number1;\n        }   \n        return number2;\n    }\n\n    private static long computeLCM(long number1, long number2, long gcd) {\n        return (number1*number2)/gcd;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13116414,"reputation":227,"user_id":9475439,"display_name":"Akshay "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555584451,"creation_date":1555584451,"answer_id":55744431,"question_id":7968364,"body_markdown":"LCM(Least Common Multiple) is always greater than or equal to the larger of the two numbers. So we will first check that the larger number itself a LCM of two numbers by checking that the larger number is divisible by the smaller one , if yes we found the LCM &amp; If no then we will increment the larger number by 1 and check again.\r\n\r\n    package com.company;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String args[]) {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the first Number : &quot;);\r\n        int number1 = scan.nextInt();\r\n        System.out.print(&quot;Enter the second number : &quot;);\r\n        int number2 =scan.nextInt();\r\n\r\n        int multiple;\r\n\r\n        if(number1 &gt;= number2) {\r\n            multiple = number1;\r\n        } else {\r\n            multiple = number2;\r\n        }\r\n\r\n        Boolean loopContinue = true;\r\n\r\n        while(loopContinue) {\r\n            if(multiple % number1 == 0 &amp;&amp; multiple % number2 == 0) {\r\n                System.out.println(&quot;LCM of Two Numbers is &quot; + multiple);\r\n                loopContinue = false;\r\n            }\r\n            multiple++;\r\n        }\r\n      }\r\n    }","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>LCM(Least Common Multiple) is always greater than or equal to the larger of the two numbers. So we will first check that the larger number itself a LCM of two numbers by checking that the larger number is divisible by the smaller one , if yes we found the LCM &amp; If no then we will increment the larger number by 1 and check again.</p>\n\n<pre><code>package com.company;\nimport java.util.Scanner;\n\npublic class Main {\n\npublic static void main(String args[]) {\n    Scanner scan = new Scanner(System.in);\n    System.out.print(\"Enter the first Number : \");\n    int number1 = scan.nextInt();\n    System.out.print(\"Enter the second number : \");\n    int number2 =scan.nextInt();\n\n    int multiple;\n\n    if(number1 &gt;= number2) {\n        multiple = number1;\n    } else {\n        multiple = number2;\n    }\n\n    Boolean loopContinue = true;\n\n    while(loopContinue) {\n        if(multiple % number1 == 0 &amp;&amp; multiple % number2 == 0) {\n            System.out.println(\"LCM of Two Numbers is \" + multiple);\n            loopContinue = false;\n        }\n        multiple++;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27877374,"reputation":11,"user_id":21286596,"display_name":"Thiruvengaden_R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688047128,"creation_date":1688047074,"answer_id":76581740,"question_id":7968364,"body_markdown":"**LCM of two numbers using while loop`**\r\n`\r\n\r\n    package whileloop1;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Lcm {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tLcm obj = new Lcm();\r\n\t\tobj.twoNumberLcm();\r\n\t}\r\n\tvoid twoNumberLcm\t\t\r\n\t{\r\n\t\tScanner Sobj = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter your First Number &quot;);\r\n\t\tint num1 = Sobj.nextInt();\r\n\t\tSystem.out.println(&quot;Enter your Second Number &quot;);\r\n\t\tint num2 = Sobj.nextInt();\r\n\t\tint big,small;\r\n\t\tif(num1&gt;num2)\r\n\t\t{\r\n\t\t\tbig = num1;\r\n\t\t\tsmall = num2;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tbig = num2;\r\n\t\t\tsmall = num1;\r\n\t\t}\r\n\t\tSystem.out.println(&quot; Bigger number is &quot; + big);\r\n\t\tSystem.out.println(&quot; Smaller number is &quot; + small);\r\n\t\tint smallcopy = small;\r\n\t\tint bigcopy = big;\r\n\t\tint count =1;\r\n\t\twhile(count&gt;0)\r\n\t\t{\r\n\t\t\twhile(big&gt;=small)\r\n\t\t\t{\r\n\t\t\t\tif(big == small)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Least common mutiples of given two numbers&quot; + small);\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tsmall=small+smallcopy;\r\n\t\t\t}\r\n\t\t\tbig = big+bigcopy;\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>**LCM of two numbers using while loop<code>** </code></p>\n<pre><code>package whileloop1;\n\nimport java.util.Scanner;\n\npublic class Lcm {\n\npublic static void main(String[] args) {\n    Lcm obj = new Lcm();\n    obj.twoNumberLcm();\n}\nvoid twoNumberLcm       \n{\n    Scanner Sobj = new Scanner(System.in);\n    System.out.println(&quot;Enter your First Number &quot;);\n    int num1 = Sobj.nextInt();\n    System.out.println(&quot;Enter your Second Number &quot;);\n    int num2 = Sobj.nextInt();\n    int big,small;\n    if(num1&gt;num2)\n    {\n        big = num1;\n        small = num2;\n    }\n    else\n    {\n        big = num2;\n        small = num1;\n    }\n    System.out.println(&quot; Bigger number is &quot; + big);\n    System.out.println(&quot; Smaller number is &quot; + small);\n    int smallcopy = small;\n    int bigcopy = big;\n    int count =1;\n    while(count&gt;0)\n    {\n        while(big&gt;=small)\n        {\n            if(big == small)\n            {\n                System.out.println(&quot;Least common mutiples of given two numbers&quot; + small);\n                count--;\n                break;\n            }\n            small=small+smallcopy;\n        }\n        big = big+bigcopy;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":895685,"reputation":365,"user_id":1005601,"accept_rate":93,"display_name":"Sharpzain120"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7370,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":7968657,"answer_count":5,"score":-1,"last_activity_date":1688047128,"creation_date":1320159461,"question_id":7968364,"body_markdown":"I have used Euclid&#39;s method to find the L.C.M for two numbers.\r\n\r\n    l.c.m=a*b/(gcd(a,b))\r\n\r\nHow can I do this without using this algorithm?\r\nI have an idea of first getting all factors of these two numbers and storing them in array. Then take 1 element from array 1 and search for it in array2, if it present there then remove it from there and make the result multiply by that num.\r\n\r\nIs this OK?","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>I have used Euclid's method to find the L.C.M for two numbers.</p>\n\n<pre><code>l.c.m=a*b/(gcd(a,b))\n</code></pre>\n\n<p>How can I do this without using this algorithm?\nI have an idea of first getting all factors of these two numbers and storing them in array. Then take 1 element from array 1 and search for it in array2, if it present there then remove it from there and make the result multiply by that num.</p>\n\n<p>Is this OK?</p>\n"},{"tags":["java","spring-boot","tomcat"],"owner":{"account_id":1670879,"reputation":1569,"user_id":1537370,"accept_rate":79,"display_name":"Damo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1688047075,"creation_date":1687986123,"question_id":76576683,"body_markdown":"in our Spring Boot 3 app, we are getting this well known discussed error when reading http cookies headers:\r\n\r\n*A cookie header was received [g_invalid=x&quot;;] that contained an invalid cookie. That cookie will be ignored.*\r\n\r\nThe previous solution of using Tomcat&#39;s `LegacyCookieProcessor` is no longer possible, without reverting back to Tomcat 9, which I don&#39;t want to do naturally. \r\n\r\nThere is no official solution being documented by Spring Boot 3 as to how to handle Version 0 cookies - https://github.com/spring-projects/spring-boot/issues/33021 - but its still a common problem, so wondering if other folks have encountered, etc.\r\n\r\nThe tomcat change-logs dont even mention that `LegacyCookieProcessor` was being removed, which is kinda annoying (as this is where I would expect an alternative to be described - or a reason as to why it was deleted - perhaps..)\r\n\r\nhttps://tomcat.apache.org/tomcat-10.1-doc/changelog.html \r\n\r\nThanks\r\n","title":"Spring Boot 3 / Tomcat 10 - process invalid cookies","body":"<p>in our Spring Boot 3 app, we are getting this well known discussed error when reading http cookies headers:</p>\n<p><em>A cookie header was received [g_invalid=x&quot;;] that contained an invalid cookie. That cookie will be ignored.</em></p>\n<p>The previous solution of using Tomcat's <code>LegacyCookieProcessor</code> is no longer possible, without reverting back to Tomcat 9, which I don't want to do naturally.</p>\n<p>There is no official solution being documented by Spring Boot 3 as to how to handle Version 0 cookies - <a href=\"https://github.com/spring-projects/spring-boot/issues/33021\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/33021</a> - but its still a common problem, so wondering if other folks have encountered, etc.</p>\n<p>The tomcat change-logs dont even mention that <code>LegacyCookieProcessor</code> was being removed, which is kinda annoying (as this is where I would expect an alternative to be described - or a reason as to why it was deleted - perhaps..)</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-10.1-doc/changelog.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.1-doc/changelog.html</a></p>\n<p>Thanks</p>\n"},{"tags":["java","redis","spring-data-redis"],"owner":{"account_id":28342694,"reputation":1,"user_id":21675425,"display_name":"Shivangi Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688047029,"creation_date":1687951779,"question_id":76572744,"body_markdown":"I was trying to upgrade the Spring Boot version of my project which was earlier running on version `2.4.13`, to version `3.1.1`. I have used Redis as a pub/sub in my project and the current version for the `spring-data-redis` is `3.1.1`. After running the application, I got the following error: \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;redisMessageListenerContainer&#39; defined in class path resource [com/XXX/XXX/XX/XXXXXX/config/redis/RedisPubSubConfiguration.class]: Container already initialized\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat XXX.xxx.xxxx.Application.main(Application.java:42)\r\n    Caused by: java.lang.IllegalStateException: Container already initialized\r\n    \tat org.springframework.util.Assert.state(Assert.java:76)\r\n    \tat org.springframework.data.redis.listener.RedisMessageListenerContainer.afterPropertiesSet(RedisMessageListenerContainer.java:171)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n\r\nI can see the `afterPropertiesSet` method is changed in the current version. I even tried the lower versions like `2.7.4` and `2.7.5` but got the same error. \r\n\r\nCan anybody let me know what I am missing or navigate to the correct resource which I can refer to for the migration?","title":"Error creating bean with name &#39;redisMessageListenerContainer&#39; : Container already initialized","body":"<p>I was trying to upgrade the Spring Boot version of my project which was earlier running on version <code>2.4.13</code>, to version <code>3.1.1</code>. I have used Redis as a pub/sub in my project and the current version for the <code>spring-data-redis</code> is <code>3.1.1</code>. After running the application, I got the following error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisMessageListenerContainer' defined in class path resource [com/XXX/XXX/XX/XXXXXX/config/redis/RedisPubSubConfiguration.class]: Container already initialized\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at XXX.xxx.xxxx.Application.main(Application.java:42)\nCaused by: java.lang.IllegalStateException: Container already initialized\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.data.redis.listener.RedisMessageListenerContainer.afterPropertiesSet(RedisMessageListenerContainer.java:171)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n</code></pre>\n<p>I can see the <code>afterPropertiesSet</code> method is changed in the current version. I even tried the lower versions like <code>2.7.4</code> and <code>2.7.5</code> but got the same error.</p>\n<p>Can anybody let me know what I am missing or navigate to the correct resource which I can refer to for the migration?</p>\n"},{"tags":["java","spring-boot","maven","jar"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688011997,"post_id":76577762,"comment_id":135017224,"body_markdown":"If it executes for a couple of seconds without printing an error message, that&#39;s what your application is doing: nothing to do with the command.","body":"If it executes for a couple of seconds without printing an error message, that&#39;s what your application is doing: nothing to do with the command."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688025111,"post_id":76577762,"comment_id":135018992,"body_markdown":"*I know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.* And what output do you see in the Eclipse console?","body":"<i>I know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.</i> And what output do you see in the Eclipse console?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688027616,"post_id":76577762,"comment_id":135019508,"body_markdown":"Please show the output while you tried to start it...","body":"Please show the output while you tried to start it..."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688041757,"post_id":76577762,"comment_id":135022357,"body_markdown":"@g00se and I have added what you asked for.","body":"@g00se and I have added what you asked for."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688041769,"post_id":76577762,"comment_id":135022364,"body_markdown":"@khmarbaise I have added what you asked for.","body":"@khmarbaise I have added what you asked for."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688045178,"post_id":76577762,"comment_id":135023148,"body_markdown":"Very confusing cmd.exe stuff. Exactly what directory is that jar in?","body":"Very confusing cmd.exe stuff. Exactly what directory is that jar in?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688045420,"post_id":76577762,"comment_id":135023211,"body_markdown":"If it&#39;s in the Desktop directory per the instructions, the command should be `java -jar C:\\Users\\mitch\\Desktop\\topic1-1.jar`","body":"If it&#39;s in the Desktop directory per the instructions, the command should be <code>java -jar C:\\Users\\mitch\\Desktop\\topic1-1.jar</code>"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688045567,"post_id":76577762,"comment_id":135023242,"body_markdown":"Well the instructions wanted me to copy and paste the .jar file from the target folder in my project onto my desktop. I have also changed my directory to the Desktop and it still doesn&#39;t work I get the same results","body":"Well the instructions wanted me to copy and paste the .jar file from the target folder in my project onto my desktop. I have also changed my directory to the Desktop and it still doesn&#39;t work I get the same results"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688045781,"post_id":76577762,"comment_id":135023290,"body_markdown":"Open a new cmd.exe. Paste the command I gave you into it and hit return. Copy ALL of the text out of that window and paste it into your question *formatted as code*","body":"Open a new cmd.exe. Paste the command I gave you into it and hit return. Copy ALL of the text out of that window and paste it into your question <i>formatted as code</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688046528,"post_id":76577762,"comment_id":135023480,"body_markdown":"Probably because it&#39;s a Spring app. You want instead `java -cp C:\\Users\\mitch\\Desktop\\topic1-1.jar fully.qualified.package.Application` Obviously you need to use the name of your actual Spring app class","body":"Probably because it&#39;s a Spring app. You want instead <code>java -cp C:\\Users\\mitch\\Desktop\\topic1-1.jar fully.qualified.package.Application</code> Obviously you need to use the name of your actual Spring app class"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688046558,"post_id":76577762,"comment_id":135023490,"body_markdown":"I added that info @g00se","body":"I added that info @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688046764,"post_id":76577762,"comment_id":135023545,"body_markdown":"See my comment above. And stop changing directories - it&#39;s pointless ;)","body":"See my comment above. And stop changing directories - it&#39;s pointless ;)"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688046965,"post_id":76577762,"comment_id":135023605,"body_markdown":"Roger that. So for needing the name of my Spring app class what would that be exactly? I&#39;ll paste the code from my project above.","body":"Roger that. So for needing the name of my Spring app class what would that be exactly? I&#39;ll paste the code from my project above."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688047268,"post_id":76577762,"comment_id":135023676,"body_markdown":"Also please stop posting pictures. cmd.exe is a *text* interface so post the *text* from it","body":"Also please stop posting pictures. cmd.exe is a <i>text</i> interface so post the <i>text</i> from it"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688048228,"post_id":76577762,"comment_id":135023901,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254302/discussion-between-mitchell-and-g00se).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254302/discussion-between-mitchell-and-g00se\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1448543,"reputation":24,"user_id":10291924,"display_name":"jalfonso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688044397,"creation_date":1688044397,"answer_id":76581422,"question_id":76577762,"body_markdown":"Maybe your problem is that your CMD is not pointing to your Desktop.\r\nA terminal pointing to Desktop should look like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYours, is pointing to the root of C filesystem\r\nTo change your working directory to Desktop, type:\r\n\r\n    cd Desktop\r\n\r\n  [1]: https://i.stack.imgur.com/S2avq.png","title":".jar file not executing when executed from CMD prompt","body":"<p>Maybe your problem is that your CMD is not pointing to your Desktop.\nA terminal pointing to Desktop should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/S2avq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2avq.png\" alt=\"enter image description here\" /></a></p>\n<p>Yours, is pointing to the root of C filesystem\nTo change your working directory to Desktop, type:</p>\n<pre><code>cd Desktop\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688047014,"creation_date":1688006492,"question_id":76577762,"body_markdown":"So I was following the instructions from my assignment on creating my Maven project and I followed them exactly but I am getting hung up on the last part. Here are the instructions below\r\n\r\n*Copy the JAR file (helloworld.jar) to the Desktop. Open a terminal window and run the JAR\r\napplication by using the following command. NOTE: the path to the Java application can\r\nbe found by going to the Spring Tool Suite IDE Properties, selecting Java &gt; Installed\r\nJREs, copying the path listed under the JRE 15.0, and appending /bin to that path. Note,\r\nthat if there are any spaces in the directory path then the Java command including the\r\npath should be entirely enclosed in double quotes.\r\nMac: [PATH to Java 15 JRE Install]/bin/java -jar helloworld.jar\r\nWindows: [PATH to Java 15 JRE Install]\\bin\\java.exe -jar helloworld.jar\r\n8. Open a browser and go to localhost:8080. The content of the index.html page should be\r\ndisplayed. Take a screenshot.*\r\n\r\nI know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.\r\n\r\nWhen I change my working directory to the desktop and run ```java -jar topic1-1.jar``` it executes for about a couple seconds and then it prompts for another command ```C:\\&gt;``` . I tried going to my local host as well and it isn&#39;t working. \r\n\r\nIs there any logging I can set up to get it to throw an error for me?\r\nHow do I make sure my path is set up right? Am I in the right working directory or do I need to be in ``\\Program Files\\Java\\jdk-16.0.2\\bin``` then execute my command? because when I execute it from that directory it is unable to access the file.... because it is on the desktop.\r\n\r\nConsole output when I run in Eclipse\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m              [2m (v3.1.1)[0;39m\r\n\r\n[2m2023-06-29T07:18:56.615-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Starting Topic11Application using Java 18.0.2.1 with PID 18568 (C:\\Users\\mitch\\git\\topic1-1\\target\\classes started by mitch in C:\\Users\\mitch\\git\\topic1-1)\r\n[2m2023-06-29T07:18:56.620-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n[2m2023-06-29T07:18:57.776-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\r\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.10]\r\n[2m2023-06-29T07:18:57.882-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2023-06-29T07:18:57.883-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1187 ms\r\n[2m2023-06-29T07:18:58.108-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.a.w.s.WelcomePageHandlerMapping   [0;39m [2m:[0;39m Adding welcome page: class path resource [static/index.html]\r\n[2m2023-06-29T07:18:58.205-05:00[0;39m [33m WARN[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mion$DefaultTemplateResolverConfiguration[0;39m [2m:[0;39m Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\r\n[2m2023-06-29T07:18:58.259-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.a.OptionalLiveReloadServer      [0;39m [2m:[0;39m LiveReload server is running on port 35729\r\n[2m2023-06-29T07:18:58.299-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[2m2023-06-29T07:18:58.310-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Started Topic11Application in 2.11 seconds (process running for 2.9)\r\n[2m2023-06-29T07:19:33.746-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2m2023-06-29T07:19:33.747-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2023-06-29T07:19:33.749-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\r\n```\r\n\r\noutput from cmd prompt\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the cmd prompt, it goes to the blank lines for a couple of seconds and then is done. The program should continue to run because when I run it in Eclipse as a Spring Boot App it continues to run until I terminate it. While running in Eclipse I can go to my localhost:8080 and it shows my webpage. In the cmd prompt, it does not.\r\n\r\nOutput when I changed my directory to Desktop and ran it. Again same thing, runs for a couple seconds and goes to next line.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nCommand to run suggested by @g00se\r\n```\r\nC:\\&gt;java -jar C:\\Users\\mitch\\OneDrive\\Desktop\\topic1-1.jar\r\n```\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jl72t.png\r\n  [2]: https://i.stack.imgur.com/qb2mF.png\r\n  [3]: https://i.stack.imgur.com/4n3ox.png\r\n\r\nCode from project\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Topic11Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Topic11Application.class, args);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":".jar file not executing when executed from CMD prompt","body":"<p>So I was following the instructions from my assignment on creating my Maven project and I followed them exactly but I am getting hung up on the last part. Here are the instructions below</p>\n<p><em>Copy the JAR file (helloworld.jar) to the Desktop. Open a terminal window and run the JAR\napplication by using the following command. NOTE: the path to the Java application can\nbe found by going to the Spring Tool Suite IDE Properties, selecting Java &gt; Installed\nJREs, copying the path listed under the JRE 15.0, and appending /bin to that path. Note,\nthat if there are any spaces in the directory path then the Java command including the\npath should be entirely enclosed in double quotes.\nMac: [PATH to Java 15 JRE Install]/bin/java -jar helloworld.jar\nWindows: [PATH to Java 15 JRE Install]\\bin\\java.exe -jar helloworld.jar\n8. Open a browser and go to localhost:8080. The content of the index.html page should be\ndisplayed. Take a screenshot.</em></p>\n<p>I know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.</p>\n<p>When I change my working directory to the desktop and run <code>java -jar topic1-1.jar</code> it executes for about a couple seconds and then it prompts for another command <code>C:\\&gt;</code> . I tried going to my local host as well and it isn't working.</p>\n<p>Is there any logging I can set up to get it to throw an error for me?\nHow do I make sure my path is set up right? Am I in the right working directory or do I need to be in ``\\Program Files\\Java\\jdk-16.0.2\\bin``` then execute my command? because when I execute it from that directory it is unable to access the file.... because it is on the desktop.</p>\n<p>Console output when I run in Eclipse</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m              [2m (v3.1.1)[0;39m\n\n[2m2023-06-29T07:18:56.615-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Starting Topic11Application using Java 18.0.2.1 with PID 18568 (C:\\Users\\mitch\\git\\topic1-1\\target\\classes started by mitch in C:\\Users\\mitch\\git\\topic1-1)\n[2m2023-06-29T07:18:56.620-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n[2m2023-06-29T07:18:57.776-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.10]\n[2m2023-06-29T07:18:57.882-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2023-06-29T07:18:57.883-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1187 ms\n[2m2023-06-29T07:18:58.108-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.a.w.s.WelcomePageHandlerMapping   [0;39m [2m:[0;39m Adding welcome page: class path resource [static/index.html]\n[2m2023-06-29T07:18:58.205-05:00[0;39m [33m WARN[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mion$DefaultTemplateResolverConfiguration[0;39m [2m:[0;39m Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\n[2m2023-06-29T07:18:58.259-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.a.OptionalLiveReloadServer      [0;39m [2m:[0;39m LiveReload server is running on port 35729\n[2m2023-06-29T07:18:58.299-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path ''\n[2m2023-06-29T07:18:58.310-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Started Topic11Application in 2.11 seconds (process running for 2.9)\n[2m2023-06-29T07:19:33.746-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2023-06-29T07:19:33.747-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2023-06-29T07:19:33.749-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\n</code></pre>\n<p>output from cmd prompt</p>\n<p><a href=\"https://i.stack.imgur.com/Jl72t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jl72t.png\" alt=\"enter image description here\" /></a></p>\n<p>In the cmd prompt, it goes to the blank lines for a couple of seconds and then is done. The program should continue to run because when I run it in Eclipse as a Spring Boot App it continues to run until I terminate it. While running in Eclipse I can go to my localhost:8080 and it shows my webpage. In the cmd prompt, it does not.</p>\n<p>Output when I changed my directory to Desktop and ran it. Again same thing, runs for a couple seconds and goes to next line.</p>\n<p><a href=\"https://i.stack.imgur.com/qb2mF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qb2mF.png\" alt=\"enter image description here\" /></a></p>\n<p>Command to run suggested by @g00se</p>\n<pre><code>C:\\&gt;java -jar C:\\Users\\mitch\\OneDrive\\Desktop\\topic1-1.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4n3ox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4n3ox.png\" alt=\"enter image description here\" /></a></p>\n<p>Code from project</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Topic11Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Topic11Application.class, args);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-vault-config"],"answers":[{"tags":[],"owner":{"account_id":5630280,"reputation":41,"user_id":4457423,"display_name":"fbiberger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606810034,"creation_date":1606810034,"answer_id":65086768,"question_id":64954966,"body_markdown":"I had the exact same problem yesterday. The issue had been solved in this question: https://stackoverflow.com/questions/53933508/caused-by-java-lang-illegalargumentexception-token-spring-cloud-vault-token\r\n\r\nYour test class is loaded in application context, but the error you get is thrown in bootstrap context. `spring.cloud`-properties are always loaded in that context. The solution is to set `spring.cloud.vault.enabled=false` in bootstrap context, e.g. you can put it in a bootstrap.yml file in your test-ressources.","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I had the exact same problem yesterday. The issue had been solved in this question: <a href=\"https://stackoverflow.com/questions/53933508/caused-by-java-lang-illegalargumentexception-token-spring-cloud-vault-token\">Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty - Hashicorp Vault</a></p>\n<p>Your test class is loaded in application context, but the error you get is thrown in bootstrap context. <code>spring.cloud</code>-properties are always loaded in that context. The solution is to set <code>spring.cloud.vault.enabled=false</code> in bootstrap context, e.g. you can put it in a bootstrap.yml file in your test-ressources.</p>\n"},{"tags":[],"owner":{"account_id":1277422,"reputation":179,"user_id":1232362,"accept_rate":64,"display_name":"Alexander Tilkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663851549,"creation_date":1663851549,"answer_id":73815073,"question_id":64954966,"body_markdown":"Spring Cloud Vault doesn&#39;t support bootstrap.yml anymore. Hence, you have to write the configuration in application.yml.\r\n\r\nWhen you use application context: WebFluxTest, SpringBootTest, Autowire, etc. the test loads application context that results in reading the application.yml file\r\n\r\nTo avoid loading Vault in UTs you need to create an application.yml file in the resources folder in the Test folder and add the following line: \r\n\r\n    spring.cloud.vault.enabled: false\r\n\r\nNote: yml = properties (whatever format you use) \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OdPDU.png","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>Spring Cloud Vault doesn't support bootstrap.yml anymore. Hence, you have to write the configuration in application.yml.</p>\n<p>When you use application context: WebFluxTest, SpringBootTest, Autowire, etc. the test loads application context that results in reading the application.yml file</p>\n<p>To avoid loading Vault in UTs you need to create an application.yml file in the resources folder in the Test folder and add the following line:</p>\n<pre><code>spring.cloud.vault.enabled: false\n</code></pre>\n<p>Note: yml = properties (whatever format you use)</p>\n<p><a href=\"https://i.stack.imgur.com/OdPDU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OdPDU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688046660,"creation_date":1688046660,"answer_id":76581682,"question_id":64954966,"body_markdown":"I&#39;m able to fix this issue using \r\n\r\n    azure.keyvault.enabled=false","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I'm able to fix this issue using</p>\n<pre><code>azure.keyvault.enabled=false\n</code></pre>\n"}],"owner":{"account_id":3751239,"reputation":2505,"user_id":3118692,"accept_rate":53,"display_name":"Syed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688046660,"creation_date":1606053162,"question_id":64954966,"body_markdown":"I&#39;ve disabled the spring vault in my unit tests. But however, its still enabling it and running in the back ground. This is my code. Is there any issue in the below code\r\n\r\n    @RunWith(SpringRunner.class)\r\n\r\n    @SpringBootTest(properties = &quot;spring.cloud.vault.enabled=false&quot;, classes = \r\n     DummyTest.class)\r\n    public class DummyTest{\r\n\t    \r\n\t\t@Test\r\n\t    public void getDummyTest() throws Exception{\r\n\t    \tassertTrue(true);\r\n\t    }\r\n\t\t\r\n    }\r\n\r\nFollowing is the exception that its printing in the console\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty\r\n\tat org.springframework.util.Assert.hasText(Assert.java:287)\r\n\tat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:108)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration.clientAuthentication(VaultBootstrapConfiguration.java:206)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.CGLIB$clientAuthentication$3(&lt;generated&gt;)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2$$FastClassBySpringCGLIB$$7f75c921.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.clientAuthentication(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 99 more","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I've disabled the spring vault in my unit tests. But however, its still enabling it and running in the back ground. This is my code. Is there any issue in the below code</p>\n<pre><code>@RunWith(SpringRunner.class)\n\n@SpringBootTest(properties = &quot;spring.cloud.vault.enabled=false&quot;, classes = \n DummyTest.class)\npublic class DummyTest{\n    \n    @Test\n    public void getDummyTest() throws Exception{\n        assertTrue(true);\n    }\n    \n}\n</code></pre>\n<p>Following is the exception that its printing in the console</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty\nat org.springframework.util.Assert.hasText(Assert.java:287)\nat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:108)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration.clientAuthentication(VaultBootstrapConfiguration.java:206)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.CGLIB$clientAuthentication$3(&lt;generated&gt;)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2$$FastClassBySpringCGLIB$$7f75c921.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.clientAuthentication(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 99 more\n</code></pre>\n"},{"tags":["java","soap","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688046315,"creation_date":1688046315,"answer_id":76581633,"question_id":76577257,"body_markdown":"I was able to find and fix my problem. Checking the javadocs some more, encodeValue() by default raises UnsupportedOperationException as it is expected that some encoders cannot produce a single buffer or cannot do so synchronously (e.g. encoding a Resource).\r\n\r\nSo, I redid these classes:\r\n\r\nclass Jaxb2RsaDecoder extends Jaxb2XmlDecoder\r\n\r\n    public Jaxb2RsaDecoder() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\r\n    public Object decode(DataBuffer dataBuffer, ResolvableType targetType,\r\n                         @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\r\n        log.debug(&quot;dataBuffer: {}, targetType: {}&quot;, dataBuffer, targetType);\r\n        try {\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\r\n            return unmarshal(message, targetType.toClass());\r\n        }\r\n        catch (Throwable ex) {\r\n            ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\r\n            throw Exceptions.propagate(ex);\r\n        }\r\n        finally {\r\n            DataBufferUtils.release(dataBuffer);\r\n        }\r\n    }\r\n\r\n    private Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\r\n        log.debug(&quot;message: {}, outputClass: {}&quot;, message, outputClass);\r\n        try {\r\n            Jaxb2Marshaller marshaller = initJaxb2Marshaller();\r\n            Object value = marshaller.unmarshal(message.getPayloadSource());\r\n            log.debug(&quot;value.class: {}, outputClass: {}&quot;, value.getClass(), outputClass);\r\n            return value;\r\n        }\r\n        catch (UnmarshalException ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n        catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        }\r\n        catch (Exception ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n    }\r\n\r\n    private Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(settings.getRsaPackage());\r\n\r\n        try {\r\n            marshaller.afterPropertiesSet();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Could not set properties, please check &quot;, e);\r\n        }\r\n\r\n        getUnmarshallerProcessor().apply(marshaller.createUnmarshaller());\r\n\r\n        return marshaller;\r\n    }\r\n\r\nclass Jaxb2RsaEncoder implements Encoder&lt;Object&gt;\r\n\r\n    @Override\r\n    public boolean canEncode(ResolvableType elementType, MimeType mimeType) {\r\n        Class&lt;?&gt; outputClass = elementType.toClass();\r\n        boolean result = (outputClass.isAnnotationPresent(XmlRootElement.class) ||\r\n                          outputClass.isAnnotationPresent(XmlType.class));\r\n        log.debug(&quot;outputClass: {}, canEncode: {}&quot;, outputClass, result);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\r\n        return Flux.from(inputStream)\r\n                .take(1)\r\n                .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\r\n                .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MimeType&gt; getEncodableMimeTypes() {\r\n        return Arrays.asList( MediaType.TEXT_XML );\r\n    }\r\n\r\n    private Flux&lt;DataBuffer&gt; encode(Object value,\r\n                                    DataBufferFactory bufferFactory,\r\n                                    ResolvableType type,\r\n                                    MimeType mimeType,\r\n                                    Map&lt;String, Object&gt; hints) {\r\n        return Mono.fromCallable(() -&gt; this.encodeValue(value, bufferFactory, type, mimeType, hints)).flux();\r\n    }\r\n\r\n    @Override\r\n    public DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType type,\r\n                                  @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\r\n        log.debug(&quot;encodeValue - start: {}&quot;, value.getClass());\r\n        boolean release = true;\r\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n        try {\r\n            OutputStream outputStream = buffer.asOutputStream();\r\n            Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\r\n            Marshaller marshaller = initJaxb2Marshaller().createMarshaller();\r\n\r\n            // here should be optimized\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage();\r\n\r\n            marshaller.marshal(value, message.getPayloadResult());\r\n            message.writeTo(outputStream);\r\n\r\n            release = false;\r\n            log.debug(&quot;encodeValue - buffer: {}&quot;, buffer);\r\n            return buffer;\r\n        } catch (MarshalException ex) {\r\n            throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        } catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        } catch (Exception ex) {\r\n            throw new EncodingException(&quot;Could not encode value &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        } finally {\r\n            if (release) {\r\n                DataBufferUtils.release(buffer);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(settings.getRsaPackage());\r\n\r\n        try {\r\n            marshaller.afterPropertiesSet();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Could not set properties, please check &quot;, e);\r\n        }\r\n\r\n        return marshaller;\r\n    }\r\n\r\nAnd then updated the ExchangeStrategy on the webClient:\r\n\r\n    @Bean(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient() {\r\n        ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\r\n            .codecs(clientCodecConfigurer -&gt; {\r\n                Encoder&lt;Object&gt; encoder = new Jaxb2RsaEncoder();\r\n                clientCodecConfigurer.customCodecs().encoder(encoder);\r\n                Decoder&lt;Object&gt; decoder = new Jaxb2RsaDecoder();\r\n                clientCodecConfigurer.customCodecs().decoder(decoder);\r\n                log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\r\n                log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\r\n                log.debug(&quot;encoder: {}, decoder: {}&quot;, encoder, decoder);\r\n            }).build();\r\n\r\n        WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient()))\r\n            .filter(this.logRequest())\r\n            .filter(this.logResponse())\r\n            .exchangeStrategies(exchangeStrategies)\r\n            .build();\r\n\r\n        log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\r\n        return webClient;\r\n    }\r\n\r\nNow, I can make synchronous requests and the exchange strategy will use my WSDL generated packages to handle encoding and decoding of the SOAP classes.","title":"Spring WebClient - SOAP Encoder UnsupportedOperationException: null","body":"<p>I was able to find and fix my problem. Checking the javadocs some more, encodeValue() by default raises UnsupportedOperationException as it is expected that some encoders cannot produce a single buffer or cannot do so synchronously (e.g. encoding a Resource).</p>\n<p>So, I redid these classes:</p>\n<p>class Jaxb2RsaDecoder extends Jaxb2XmlDecoder</p>\n<pre><code>public Jaxb2RsaDecoder() {\n    super();\n}\n\n@Override\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\npublic Object decode(DataBuffer dataBuffer, ResolvableType targetType,\n                     @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\n    log.debug(&quot;dataBuffer: {}, targetType: {}&quot;, dataBuffer, targetType);\n    try {\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\n        return unmarshal(message, targetType.toClass());\n    }\n    catch (Throwable ex) {\n        ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\n        throw Exceptions.propagate(ex);\n    }\n    finally {\n        DataBufferUtils.release(dataBuffer);\n    }\n}\n\nprivate Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\n    log.debug(&quot;message: {}, outputClass: {}&quot;, message, outputClass);\n    try {\n        Jaxb2Marshaller marshaller = initJaxb2Marshaller();\n        Object value = marshaller.unmarshal(message.getPayloadSource());\n        log.debug(&quot;value.class: {}, outputClass: {}&quot;, value.getClass(), outputClass);\n        return value;\n    }\n    catch (UnmarshalException ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n    catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    }\n    catch (Exception ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n}\n\nprivate Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(settings.getRsaPackage());\n\n    try {\n        marshaller.afterPropertiesSet();\n    } catch (Exception e) {\n        log.error(&quot;Could not set properties, please check &quot;, e);\n    }\n\n    getUnmarshallerProcessor().apply(marshaller.createUnmarshaller());\n\n    return marshaller;\n}\n</code></pre>\n<p>class Jaxb2RsaEncoder implements Encoder</p>\n<pre><code>@Override\npublic boolean canEncode(ResolvableType elementType, MimeType mimeType) {\n    Class&lt;?&gt; outputClass = elementType.toClass();\n    boolean result = (outputClass.isAnnotationPresent(XmlRootElement.class) ||\n                      outputClass.isAnnotationPresent(XmlType.class));\n    log.debug(&quot;outputClass: {}, canEncode: {}&quot;, outputClass, result);\n    return result;\n}\n\n@Override\npublic Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\n    return Flux.from(inputStream)\n            .take(1)\n            .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\n            .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\n}\n\n@Override\npublic List&lt;MimeType&gt; getEncodableMimeTypes() {\n    return Arrays.asList( MediaType.TEXT_XML );\n}\n\nprivate Flux&lt;DataBuffer&gt; encode(Object value,\n                                DataBufferFactory bufferFactory,\n                                ResolvableType type,\n                                MimeType mimeType,\n                                Map&lt;String, Object&gt; hints) {\n    return Mono.fromCallable(() -&gt; this.encodeValue(value, bufferFactory, type, mimeType, hints)).flux();\n}\n\n@Override\npublic DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType type,\n                              @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\n    log.debug(&quot;encodeValue - start: {}&quot;, value.getClass());\n    boolean release = true;\n    DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n    try {\n        OutputStream outputStream = buffer.asOutputStream();\n        Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\n        Marshaller marshaller = initJaxb2Marshaller().createMarshaller();\n\n        // here should be optimized\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage();\n\n        marshaller.marshal(value, message.getPayloadResult());\n        message.writeTo(outputStream);\n\n        release = false;\n        log.debug(&quot;encodeValue - buffer: {}&quot;, buffer);\n        return buffer;\n    } catch (MarshalException ex) {\n        throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    } catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    } catch (Exception ex) {\n        throw new EncodingException(&quot;Could not encode value &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    } finally {\n        if (release) {\n            DataBufferUtils.release(buffer);\n        }\n    }\n}\n\n\nprivate Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(settings.getRsaPackage());\n\n    try {\n        marshaller.afterPropertiesSet();\n    } catch (Exception e) {\n        log.error(&quot;Could not set properties, please check &quot;, e);\n    }\n\n    return marshaller;\n}\n</code></pre>\n<p>And then updated the ExchangeStrategy on the webClient:</p>\n<pre><code>@Bean(&quot;soapWebClient&quot;)\nWebClient soapWebClient() {\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\n        .codecs(clientCodecConfigurer -&gt; {\n            Encoder&lt;Object&gt; encoder = new Jaxb2RsaEncoder();\n            clientCodecConfigurer.customCodecs().encoder(encoder);\n            Decoder&lt;Object&gt; decoder = new Jaxb2RsaDecoder();\n            clientCodecConfigurer.customCodecs().decoder(decoder);\n            log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\n            log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\n            log.debug(&quot;encoder: {}, decoder: {}&quot;, encoder, decoder);\n        }).build();\n\n    WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(httpClient()))\n        .filter(this.logRequest())\n        .filter(this.logResponse())\n        .exchangeStrategies(exchangeStrategies)\n        .build();\n\n    log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\n    return webClient;\n}\n</code></pre>\n<p>Now, I can make synchronous requests and the exchange strategy will use my WSDL generated packages to handle encoding and decoding of the SOAP classes.</p>\n"}],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688046315,"creation_date":1687994882,"question_id":76577257,"body_markdown":"I am getting a UnsupportedOperationException: null on [Encoder.encodeValue() \\[spring-core-5.2.0.RELEASE\\]][1] when making a POST to a SOAP service using WebClient from Spring WebFlux.\r\n\r\nI am using spring-boot 2.2.0.RELEASE with JDK 1.8.0_252 (application has requirement to use this for compatibility reasons). The application also has a requirement to be able to run synchronously, but we are evaluating replacing a blocking WebClient from our old RestTemplate and WebServiceTemplate to have a standard way to make web requests since RestTemplate is now in maintenance only mode. The calls I made with WebClient replacing RestTemplate work as expected, I just need to fix this error to handle the replacing of the WebServiceTemplate.\r\n\r\nI setup the encoder and decoder with the clientCodecConfigurer object, but I can&#39;t seem to see the source of the code processing the Encoder.encodeValue() interface method. It doesn&#39;t look like it is going into the encoder I have setup, so I can&#39;t trace where the null value is coming from or why it is coming. Any help would be greatly appreciated.\r\n\r\n    2023-06-28T10:03:31.974-0400 DEBUG SpringService.rsa.RSAClient:42 - Making SOAP request to https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication 30\r\n    2023-06-28T10:03:31.974-0400 INFO SpringService.rsa.RSAClient:132 - Making analyze request now\r\n    2023-06-28T10:03:32.047-0400 INFO SpringService.config.WebClientConfig:99 - WebClient request: POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication org.springframework.web.reactive.function.BodyInserters$$Lambda$709/1296999056@320c5ef8\r\n    2023-06-28T10:03:32.051-0400 DEBUG SpringService.config.WebClientConfig:101 - Header: Content-Type: text/xml\r\n    2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:129 - -Dio.netty.leakDetection.level: simple\r\n    2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:130 - -Dio.netty.leakDetection.targetRecords: 4\r\n    2023-06-28T10:03:32.147-0400 DEBUG reactor.netty.resources.DefaultLoopEpoll:249 - Default Epoll support : true\r\n    2023-06-28T10:03:32.149-0400 DEBUG reactor.netty.resources.DefaultLoopKQueue:249 - Default KQueue support : false\r\n    2023-06-28T10:03:32.159-0400 DEBUG io.netty.channel.MultithreadEventLoopGroup:44 - -Dio.netty.eventLoopThreads: 8\r\n    2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:54 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n    2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:57 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n    2023-06-28T10:03:32.195-0400 DEBUG io.netty.util.internal.PlatformDependent:890 - org.jctools-core.MpscChunkedArrayQueue: available\r\n    2023-06-28T10:03:32.239-0400 DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions:91 - [73ba4b0e] HTTP POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication\r\n    2023-06-28T10:03:32.258-0400 DEBUG io.netty.handler.ssl.OpenSsl:124 - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.\r\n    2023-06-28T10:03:32.307-0400 DEBUG io.netty.handler.ssl.JdkSslContext:96 - Default protocols (JDK): [TLSv1.2, TLSv1.1, TLSv1] \r\n    2023-06-28T10:03:32.308-0400 DEBUG io.netty.handler.ssl.JdkSslContext:97 - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA]\r\n    2023-06-28T10:03:32.323-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - Creating new client pool [http-client] for {soap.url}:{soap.port}\r\n    2023-06-28T10:03:32.353-0400 DEBUG io.netty.channel.DefaultChannelId:79 - -Dio.netty.processId: 1351120 (auto-detected)\r\n    2023-06-28T10:03:32.355-0400 DEBUG io.netty.channel.DefaultChannelId:101 - -Dio.netty.machineId: 00:50:56:ff:fe:9e:25:8d (auto-detected)\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:142 - -Dio.netty.allocator.numHeapArenas: 4\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:143 - -Dio.netty.allocator.numDirectArenas: 4\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:145 - -Dio.netty.allocator.pageSize: 8192\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:150 - -Dio.netty.allocator.maxOrder: 11\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:154 - -Dio.netty.allocator.chunkSize: 16777216\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:155 - -Dio.netty.allocator.tinyCacheSize: 512\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:156 - -Dio.netty.allocator.smallCacheSize: 256\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:157 - -Dio.netty.allocator.normalCacheSize: 64\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:158 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:159 - -Dio.netty.allocator.cacheTrimInterval: 8192\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:160 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:161 - -Dio.netty.allocator.useCacheForAllThreads: true\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:162 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n    2023-06-28T10:03:32.391-0400 DEBUG io.netty.buffer.ByteBufUtil:85 - -Dio.netty.allocator.type: pooled\r\n    2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:94 - -Dio.netty.threadLocalDirectBufferSize: 0\r\n    2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:97 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n    2023-06-28T10:03:32.408-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88] Created new pooled channel, now 1 active connections and 0 inactive connections\r\n    2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:62 - -Dio.netty.buffer.checkAccessible: true\r\n    2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:63 - -Dio.netty.buffer.checkBounds: true\r\n    2023-06-28T10:03:32.434-0400 DEBUG io.netty.util.ResourceLeakDetectorFactory:195 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3cf5a5a0\r\n    2023-06-28T10:03:32.442-0400 DEBUG reactor.netty.tcp.SslProvider:254 - [id: 0x8f0f4d88] SSL enabled using engine SSLEngineImpl and SNI {soap.url}:{soap.port}\r\n    2023-06-28T10:03:32.447-0400 DEBUG reactor.netty.channel.BootstrapHandlers:254 - [id: 0x8f0f4d88] Initialized pipeline DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.sslReader = reactor.netty.tcp.SslProvider$SslReadHandler), (BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\r\n    2023-06-28T10:03:32.458-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Channel connected, now 1 active connections and 0 inactive connections\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:96 - -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:97 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:98 - -Dio.netty.recycler.linkCapacity: 16\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:99 - -Dio.netty.recycler.ratio: 8\r\n    2023-06-28T10:03:32.536-0400 DEBUG io.netty.handler.ssl.SslHandler:1748 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] HANDSHAKEN: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n    2023-06-28T10:03:32.537-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, [connected])\r\n    2023-06-28T10:03:32.539-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, newState=[connected]\r\n    2023-06-28T10:03:32.555-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, [configured])\r\n    2023-06-28T10:03:32.556-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, newState=[configured]\r\n    2023-06-28T10:03:32.557-0400 DEBUG reactor.netty.http.client.HttpClientConnect:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Handler is being applied: {uri=https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication, method=POST}\r\n    2023-06-28T10:03:32.570-0400 DEBUG reactor.netty.http.client.HttpClientOperations:259 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Outbound error happened\r\n    java.lang.UnsupportedOperationException: null\r\n    \tat org.springframework.core.codec.Encoder.encodeValue(Encoder.java:89) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n    \tat org.springframework.http.codec.EncoderHttpMessageWriter.lambda$write$1(EncoderHttpMessageWriter.java:125) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:1956) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:1830) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:430) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:473) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.resources.PooledConnectionProvider$DisposableAcquire.onStateChange(PooledConnectionProvider.java:525) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.resources.PooledConnectionProvider$PooledConnection.onStateChange(PooledConnectionProvider.java:434) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:414) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:213) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:731) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:341) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:327) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:319) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1750) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1409) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1224) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1271) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:505) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:283) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:483) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\r\n\r\nI have a @Configuration class: WebClientConfig implements ConnectionObserver, with the following Beans:\r\n\r\n    @Bean(&quot;httpClient&quot;)\r\n    HttpClient httpClient() {\r\n        ConnectionProvider connectionProvider = ConnectionProvider.fixed(&quot;http-client&quot;,\r\n                settings.getMaxConnections(),\r\n                settings.getAcquireTimeout(),\r\n                Duration.ofMillis(settings.getMaxIdleTime()));\r\n        HttpClient httpClient = HttpClient.create(connectionProvider)\r\n                .observe(this);\r\n        log.debug(&quot;connectionProvider: {}, httpClient: {}&quot;, connectionProvider, httpClient);\r\n        return httpClient;\r\n    }\r\n\r\n    @Bean(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient() {\r\n        ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\r\n            .codecs(clientCodecConfigurer -&gt; {\r\n                clientCodecConfigurer.customCodecs().encoder(new Jaxb2SoapEncoder());\r\n                clientCodecConfigurer.customCodecs().decoder(new Jaxb2SoapDecoder());\r\n                log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\r\n                log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\r\n            }).build();\r\n\r\n        WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient()))\r\n            .filter(this.logRequest())\r\n            .filter(this.logResponse())\r\n            .exchangeStrategies(exchangeStrategies)\r\n            .build();\r\n\r\n        log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\r\n        return webClient;\r\n    }\r\n\r\nclass: Jaxb2SoapDecoder extends Jaxb2XmlDecoder\r\n\r\n    private static final XMLInputFactory inputFactory = StaxUtils.createDefensiveInputFactory();\r\n\r\n    private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\r\n\r\n    public Jaxb2SoapDecoder() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\r\n    public Object decode(DataBuffer dataBuffer, ResolvableType targetType,\r\n                         @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\r\n        try {\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\r\n            return unmarshal(message, targetType.toClass());\r\n        }\r\n        catch (Throwable ex) {\r\n            ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\r\n            throw Exceptions.propagate(ex);\r\n        }\r\n        finally {\r\n            DataBufferUtils.release(dataBuffer);\r\n        }\r\n    }\r\n\r\n    private Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\r\n        try {\r\n            Unmarshaller unmarshaller = initUnmarshaller(outputClass);\r\n            JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(message.getPayloadSource(),outputClass);\r\n            return jaxbElement.getValue();\r\n        }\r\n        catch (UnmarshalException ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n        catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private Unmarshaller initUnmarshaller(Class&lt;?&gt; outputClass) throws CodecException, JAXBException {\r\n        Unmarshaller unmarshaller = this.jaxbContexts.createUnmarshaller(outputClass);\r\n        return getUnmarshallerProcessor().apply(unmarshaller);\r\n    }\r\n\r\nclass: Jaxb2SoapEncoder implements Encoder&lt;Object&gt;\r\n\r\n    private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\r\n\r\n    @Override\r\n    public boolean canEncode(ResolvableType elementType, MimeType mimeType) {\r\n        Class&lt;?&gt; outputClass = elementType.toClass();\r\n        return (outputClass.isAnnotationPresent(XmlRootElement.class) ||\r\n                outputClass.isAnnotationPresent(XmlType.class));\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\r\n        return Flux.from(inputStream)\r\n                .take(1)\r\n                .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\r\n                .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MimeType&gt; getEncodableMimeTypes() {\r\n        return Arrays.asList( MimeTypeUtils.TEXT_XML );\r\n    }\r\n\r\n    private Flux&lt;DataBuffer&gt; encode(Object value ,\r\n                                    DataBufferFactory bufferFactory,\r\n                                    ResolvableType type,\r\n                                    MimeType mimeType,\r\n                                    Map&lt;String, Object&gt; hints){\r\n        return Mono.fromCallable(() -&gt; {\r\n            boolean release = true;\r\n            DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n            try {\r\n                SoapEnvelopeRequest soapEnvelopeRequest = (SoapEnvelopeRequest)value;\r\n\r\n                OutputStream outputStream = buffer.asOutputStream();\r\n                Class&lt;?&gt; clazz = ClassUtils.getUserClass(soapEnvelopeRequest.getBody());\r\n                Marshaller marshaller = initMarshaller(clazz);\r\n\r\n                DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n                WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n                WebServiceMessage message = messageFactory.createWebServiceMessage();\r\n\r\n                if( soapEnvelopeRequest.getHeaderContent() != null ){\r\n                    SoapMessage soapMessage = (SoapMessage)message;\r\n                    SoapHeader header = soapMessage.getSoapHeader();\r\n                    StringSource headerSource = new StringSource(soapEnvelopeRequest.getHeaderContent());\r\n                    Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n                    transformer.transform(headerSource, header.getResult());\r\n                }\r\n\r\n                marshaller.marshal(soapEnvelopeRequest.getBody(), message.getPayloadResult());\r\n                message.writeTo(outputStream);\r\n\r\n                release = false;\r\n                return buffer;\r\n            }\r\n            catch (MarshalException ex) {\r\n                throw new EncodingException(\r\n                        &quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n            }\r\n            catch (JAXBException ex) {\r\n                throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n            }\r\n            finally {\r\n                if (release) {\r\n                    DataBufferUtils.release(buffer);\r\n                }\r\n            }\r\n        }).flux();\r\n    }\r\n\r\n    private Marshaller initMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        Marshaller marshaller = this.jaxbContexts.createMarshaller(clazz);\r\n        marshaller.setProperty(Marshaller.JAXB_ENCODING, StandardCharsets.UTF_8.name());\r\n        return marshaller;\r\n    }\r\n\r\nclass: JaxbContextContainer\r\n\r\n    private final ConcurrentMap&lt;Class&lt;?&gt;, JAXBContext&gt; jaxbContexts = new ConcurrentHashMap&lt;&gt;(64);\r\n\r\n\r\n    public Marshaller createMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        JAXBContext jaxbContext = getJaxbContext(clazz);\r\n        return jaxbContext.createMarshaller();\r\n    }\r\n\r\n    public Unmarshaller createUnmarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        JAXBContext jaxbContext = getJaxbContext(clazz);\r\n        return jaxbContext.createUnmarshaller();\r\n    }\r\n\r\n    private JAXBContext getJaxbContext(Class&lt;?&gt; clazz) throws JAXBException {\r\n        Assert.notNull(clazz, &quot;Class must not be null&quot;);\r\n        JAXBContext jaxbContext = this.jaxbContexts.get(clazz);\r\n        if (jaxbContext == null) {\r\n            jaxbContext = JAXBContext.newInstance(clazz);\r\n            this.jaxbContexts.putIfAbsent(clazz, jaxbContext);\r\n        }\r\n        return jaxbContext;\r\n    }\r\n\r\nAnd when I make the request:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient;\r\n\r\n    public &lt;I, O&gt; O marshalSendAndReceive(String soapServiceUrl, I request, Class&lt;I&gt; requestClass, Class&lt;O&gt; responseClass) {\r\n        log.debug(&quot;Making SOAP request to {} {}&quot;, soapServiceUrl, log.isTraceEnabled() ? String.valueOf(request) : String.valueOf(request).length());\r\n        return soapWebClient.post()\r\n            .uri(soapServiceUrl)\r\n            .contentType(MediaType.TEXT_XML)\r\n            .body(Mono.just(request), requestClass)\r\n            .retrieve()\r\n            .onStatus(HttpStatus::isError, clientResponse -&gt;\r\n                clientResponse.bodyToMono(String.class).flatMap(errorResponseBody -&gt; {\r\n                    log.error(&quot;Fault from SOAP call {} {} {}&quot;, soapServiceUrl, clientResponse.statusCode(), errorResponseBody);\r\n                    return Mono.error(new ResponseStatusHeadersException(\r\n                        clientResponse.statusCode(),\r\n                        clientResponse.headers().asHttpHeaders(),\r\n                        errorResponseBody\r\n                    ));\r\n                })\r\n            )\r\n            .bodyToMono(responseClass)\r\n            .block();\r\n    }\r\n\r\n    public AnalyzeResponse analyze(Analyze request) {\r\n        log.info(&quot;RSAClient - Processing the analyze request:&quot; + request.toString());\r\n        log.info(&quot;Making analyze request now&quot;);\r\n        \r\n        AnalyzeResponse response = null;\r\n        response = marshalSendAndReceive(settings.getRsaEntServerAddress(), request, Analyze.class, AnalyzeResponse.class);\r\n        \r\n        log.info(&quot;Successfully got analyze response: {}&quot;, response);\r\n        return response;\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/codec/Encoder.html#encodeValue-T-org.springframework.core.io.buffer.DataBufferFactory-org.springframework.core.ResolvableType-org.springframework.util.MimeType-java.util.Map-","title":"Spring WebClient - SOAP Encoder UnsupportedOperationException: null","body":"<p>I am getting a UnsupportedOperationException: null on <a href=\"https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/codec/Encoder.html#encodeValue-T-org.springframework.core.io.buffer.DataBufferFactory-org.springframework.core.ResolvableType-org.springframework.util.MimeType-java.util.Map-\" rel=\"nofollow noreferrer\">Encoder.encodeValue() [spring-core-5.2.0.RELEASE]</a> when making a POST to a SOAP service using WebClient from Spring WebFlux.</p>\n<p>I am using spring-boot 2.2.0.RELEASE with JDK 1.8.0_252 (application has requirement to use this for compatibility reasons). The application also has a requirement to be able to run synchronously, but we are evaluating replacing a blocking WebClient from our old RestTemplate and WebServiceTemplate to have a standard way to make web requests since RestTemplate is now in maintenance only mode. The calls I made with WebClient replacing RestTemplate work as expected, I just need to fix this error to handle the replacing of the WebServiceTemplate.</p>\n<p>I setup the encoder and decoder with the clientCodecConfigurer object, but I can't seem to see the source of the code processing the Encoder.encodeValue() interface method. It doesn't look like it is going into the encoder I have setup, so I can't trace where the null value is coming from or why it is coming. Any help would be greatly appreciated.</p>\n<pre><code>2023-06-28T10:03:31.974-0400 DEBUG SpringService.rsa.RSAClient:42 - Making SOAP request to https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication 30\n2023-06-28T10:03:31.974-0400 INFO SpringService.rsa.RSAClient:132 - Making analyze request now\n2023-06-28T10:03:32.047-0400 INFO SpringService.config.WebClientConfig:99 - WebClient request: POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication org.springframework.web.reactive.function.BodyInserters$$Lambda$709/1296999056@320c5ef8\n2023-06-28T10:03:32.051-0400 DEBUG SpringService.config.WebClientConfig:101 - Header: Content-Type: text/xml\n2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:129 - -Dio.netty.leakDetection.level: simple\n2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:130 - -Dio.netty.leakDetection.targetRecords: 4\n2023-06-28T10:03:32.147-0400 DEBUG reactor.netty.resources.DefaultLoopEpoll:249 - Default Epoll support : true\n2023-06-28T10:03:32.149-0400 DEBUG reactor.netty.resources.DefaultLoopKQueue:249 - Default KQueue support : false\n2023-06-28T10:03:32.159-0400 DEBUG io.netty.channel.MultithreadEventLoopGroup:44 - -Dio.netty.eventLoopThreads: 8\n2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:54 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\n2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:57 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\n2023-06-28T10:03:32.195-0400 DEBUG io.netty.util.internal.PlatformDependent:890 - org.jctools-core.MpscChunkedArrayQueue: available\n2023-06-28T10:03:32.239-0400 DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions:91 - [73ba4b0e] HTTP POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication\n2023-06-28T10:03:32.258-0400 DEBUG io.netty.handler.ssl.OpenSsl:124 - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.\n2023-06-28T10:03:32.307-0400 DEBUG io.netty.handler.ssl.JdkSslContext:96 - Default protocols (JDK): [TLSv1.2, TLSv1.1, TLSv1] \n2023-06-28T10:03:32.308-0400 DEBUG io.netty.handler.ssl.JdkSslContext:97 - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA]\n2023-06-28T10:03:32.323-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - Creating new client pool [http-client] for {soap.url}:{soap.port}\n2023-06-28T10:03:32.353-0400 DEBUG io.netty.channel.DefaultChannelId:79 - -Dio.netty.processId: 1351120 (auto-detected)\n2023-06-28T10:03:32.355-0400 DEBUG io.netty.channel.DefaultChannelId:101 - -Dio.netty.machineId: 00:50:56:ff:fe:9e:25:8d (auto-detected)\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:142 - -Dio.netty.allocator.numHeapArenas: 4\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:143 - -Dio.netty.allocator.numDirectArenas: 4\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:145 - -Dio.netty.allocator.pageSize: 8192\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:150 - -Dio.netty.allocator.maxOrder: 11\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:154 - -Dio.netty.allocator.chunkSize: 16777216\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:155 - -Dio.netty.allocator.tinyCacheSize: 512\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:156 - -Dio.netty.allocator.smallCacheSize: 256\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:157 - -Dio.netty.allocator.normalCacheSize: 64\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:158 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:159 - -Dio.netty.allocator.cacheTrimInterval: 8192\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:160 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:161 - -Dio.netty.allocator.useCacheForAllThreads: true\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:162 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\n2023-06-28T10:03:32.391-0400 DEBUG io.netty.buffer.ByteBufUtil:85 - -Dio.netty.allocator.type: pooled\n2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:94 - -Dio.netty.threadLocalDirectBufferSize: 0\n2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:97 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\n2023-06-28T10:03:32.408-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88] Created new pooled channel, now 1 active connections and 0 inactive connections\n2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:62 - -Dio.netty.buffer.checkAccessible: true\n2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:63 - -Dio.netty.buffer.checkBounds: true\n2023-06-28T10:03:32.434-0400 DEBUG io.netty.util.ResourceLeakDetectorFactory:195 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3cf5a5a0\n2023-06-28T10:03:32.442-0400 DEBUG reactor.netty.tcp.SslProvider:254 - [id: 0x8f0f4d88] SSL enabled using engine SSLEngineImpl and SNI {soap.url}:{soap.port}\n2023-06-28T10:03:32.447-0400 DEBUG reactor.netty.channel.BootstrapHandlers:254 - [id: 0x8f0f4d88] Initialized pipeline DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.sslReader = reactor.netty.tcp.SslProvider$SslReadHandler), (BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\n2023-06-28T10:03:32.458-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Channel connected, now 1 active connections and 0 inactive connections\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:96 - -Dio.netty.recycler.maxCapacityPerThread: 4096\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:97 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:98 - -Dio.netty.recycler.linkCapacity: 16\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:99 - -Dio.netty.recycler.ratio: 8\n2023-06-28T10:03:32.536-0400 DEBUG io.netty.handler.ssl.SslHandler:1748 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] HANDSHAKEN: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n2023-06-28T10:03:32.537-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, [connected])\n2023-06-28T10:03:32.539-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, newState=[connected]\n2023-06-28T10:03:32.555-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, [configured])\n2023-06-28T10:03:32.556-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, newState=[configured]\n2023-06-28T10:03:32.557-0400 DEBUG reactor.netty.http.client.HttpClientConnect:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Handler is being applied: {uri=https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication, method=POST}\n2023-06-28T10:03:32.570-0400 DEBUG reactor.netty.http.client.HttpClientOperations:259 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Outbound error happened\njava.lang.UnsupportedOperationException: null\n    at org.springframework.core.codec.Encoder.encodeValue(Encoder.java:89) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.http.codec.EncoderHttpMessageWriter.lambda$write$1(EncoderHttpMessageWriter.java:125) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:1956) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:1830) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:430) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:473) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.resources.PooledConnectionProvider$DisposableAcquire.onStateChange(PooledConnectionProvider.java:525) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.resources.PooledConnectionProvider$PooledConnection.onStateChange(PooledConnectionProvider.java:434) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:414) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:213) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:731) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:341) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:327) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:319) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1750) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1409) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1224) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1271) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:505) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:283) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:483) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\n</code></pre>\n<p>I have a @Configuration class: WebClientConfig implements ConnectionObserver, with the following Beans:</p>\n<pre><code>@Bean(&quot;httpClient&quot;)\nHttpClient httpClient() {\n    ConnectionProvider connectionProvider = ConnectionProvider.fixed(&quot;http-client&quot;,\n            settings.getMaxConnections(),\n            settings.getAcquireTimeout(),\n            Duration.ofMillis(settings.getMaxIdleTime()));\n    HttpClient httpClient = HttpClient.create(connectionProvider)\n            .observe(this);\n    log.debug(&quot;connectionProvider: {}, httpClient: {}&quot;, connectionProvider, httpClient);\n    return httpClient;\n}\n\n@Bean(&quot;soapWebClient&quot;)\nWebClient soapWebClient() {\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\n        .codecs(clientCodecConfigurer -&gt; {\n            clientCodecConfigurer.customCodecs().encoder(new Jaxb2SoapEncoder());\n            clientCodecConfigurer.customCodecs().decoder(new Jaxb2SoapDecoder());\n            log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\n            log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\n        }).build();\n\n    WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(httpClient()))\n        .filter(this.logRequest())\n        .filter(this.logResponse())\n        .exchangeStrategies(exchangeStrategies)\n        .build();\n\n    log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\n    return webClient;\n}\n</code></pre>\n<p>class: Jaxb2SoapDecoder extends Jaxb2XmlDecoder</p>\n<pre><code>private static final XMLInputFactory inputFactory = StaxUtils.createDefensiveInputFactory();\n\nprivate final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\n\npublic Jaxb2SoapDecoder() {\n    super();\n}\n\n@Override\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\npublic Object decode(DataBuffer dataBuffer, ResolvableType targetType,\n                     @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\n    try {\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\n        return unmarshal(message, targetType.toClass());\n    }\n    catch (Throwable ex) {\n        ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\n        throw Exceptions.propagate(ex);\n    }\n    finally {\n        DataBufferUtils.release(dataBuffer);\n    }\n}\n\nprivate Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\n    try {\n        Unmarshaller unmarshaller = initUnmarshaller(outputClass);\n        JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(message.getPayloadSource(),outputClass);\n        return jaxbElement.getValue();\n    }\n    catch (UnmarshalException ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n    catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    }\n}\n\nprivate Unmarshaller initUnmarshaller(Class&lt;?&gt; outputClass) throws CodecException, JAXBException {\n    Unmarshaller unmarshaller = this.jaxbContexts.createUnmarshaller(outputClass);\n    return getUnmarshallerProcessor().apply(unmarshaller);\n}\n</code></pre>\n<p>class: Jaxb2SoapEncoder implements Encoder</p>\n<pre><code>private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\n\n@Override\npublic boolean canEncode(ResolvableType elementType, MimeType mimeType) {\n    Class&lt;?&gt; outputClass = elementType.toClass();\n    return (outputClass.isAnnotationPresent(XmlRootElement.class) ||\n            outputClass.isAnnotationPresent(XmlType.class));\n}\n\n@Override\npublic Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\n    return Flux.from(inputStream)\n            .take(1)\n            .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\n            .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\n}\n\n@Override\npublic List&lt;MimeType&gt; getEncodableMimeTypes() {\n    return Arrays.asList( MimeTypeUtils.TEXT_XML );\n}\n\nprivate Flux&lt;DataBuffer&gt; encode(Object value ,\n                                DataBufferFactory bufferFactory,\n                                ResolvableType type,\n                                MimeType mimeType,\n                                Map&lt;String, Object&gt; hints){\n    return Mono.fromCallable(() -&gt; {\n        boolean release = true;\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n        try {\n            SoapEnvelopeRequest soapEnvelopeRequest = (SoapEnvelopeRequest)value;\n\n            OutputStream outputStream = buffer.asOutputStream();\n            Class&lt;?&gt; clazz = ClassUtils.getUserClass(soapEnvelopeRequest.getBody());\n            Marshaller marshaller = initMarshaller(clazz);\n\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n            WebServiceMessage message = messageFactory.createWebServiceMessage();\n\n            if( soapEnvelopeRequest.getHeaderContent() != null ){\n                SoapMessage soapMessage = (SoapMessage)message;\n                SoapHeader header = soapMessage.getSoapHeader();\n                StringSource headerSource = new StringSource(soapEnvelopeRequest.getHeaderContent());\n                Transformer transformer = TransformerFactory.newInstance().newTransformer();\n                transformer.transform(headerSource, header.getResult());\n            }\n\n            marshaller.marshal(soapEnvelopeRequest.getBody(), message.getPayloadResult());\n            message.writeTo(outputStream);\n\n            release = false;\n            return buffer;\n        }\n        catch (MarshalException ex) {\n            throw new EncodingException(\n                    &quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n        }\n        catch (JAXBException ex) {\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n        }\n        finally {\n            if (release) {\n                DataBufferUtils.release(buffer);\n            }\n        }\n    }).flux();\n}\n\nprivate Marshaller initMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    Marshaller marshaller = this.jaxbContexts.createMarshaller(clazz);\n    marshaller.setProperty(Marshaller.JAXB_ENCODING, StandardCharsets.UTF_8.name());\n    return marshaller;\n}\n</code></pre>\n<p>class: JaxbContextContainer</p>\n<pre><code>private final ConcurrentMap&lt;Class&lt;?&gt;, JAXBContext&gt; jaxbContexts = new ConcurrentHashMap&lt;&gt;(64);\n\n\npublic Marshaller createMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    JAXBContext jaxbContext = getJaxbContext(clazz);\n    return jaxbContext.createMarshaller();\n}\n\npublic Unmarshaller createUnmarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    JAXBContext jaxbContext = getJaxbContext(clazz);\n    return jaxbContext.createUnmarshaller();\n}\n\nprivate JAXBContext getJaxbContext(Class&lt;?&gt; clazz) throws JAXBException {\n    Assert.notNull(clazz, &quot;Class must not be null&quot;);\n    JAXBContext jaxbContext = this.jaxbContexts.get(clazz);\n    if (jaxbContext == null) {\n        jaxbContext = JAXBContext.newInstance(clazz);\n        this.jaxbContexts.putIfAbsent(clazz, jaxbContext);\n    }\n    return jaxbContext;\n}\n</code></pre>\n<p>And when I make the request:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;soapWebClient&quot;)\nWebClient soapWebClient;\n\npublic &lt;I, O&gt; O marshalSendAndReceive(String soapServiceUrl, I request, Class&lt;I&gt; requestClass, Class&lt;O&gt; responseClass) {\n    log.debug(&quot;Making SOAP request to {} {}&quot;, soapServiceUrl, log.isTraceEnabled() ? String.valueOf(request) : String.valueOf(request).length());\n    return soapWebClient.post()\n        .uri(soapServiceUrl)\n        .contentType(MediaType.TEXT_XML)\n        .body(Mono.just(request), requestClass)\n        .retrieve()\n        .onStatus(HttpStatus::isError, clientResponse -&gt;\n            clientResponse.bodyToMono(String.class).flatMap(errorResponseBody -&gt; {\n                log.error(&quot;Fault from SOAP call {} {} {}&quot;, soapServiceUrl, clientResponse.statusCode(), errorResponseBody);\n                return Mono.error(new ResponseStatusHeadersException(\n                    clientResponse.statusCode(),\n                    clientResponse.headers().asHttpHeaders(),\n                    errorResponseBody\n                ));\n            })\n        )\n        .bodyToMono(responseClass)\n        .block();\n}\n\npublic AnalyzeResponse analyze(Analyze request) {\n    log.info(&quot;RSAClient - Processing the analyze request:&quot; + request.toString());\n    log.info(&quot;Making analyze request now&quot;);\n    \n    AnalyzeResponse response = null;\n    response = marshalSendAndReceive(settings.getRsaEntServerAddress(), request, Analyze.class, AnalyzeResponse.class);\n    \n    log.info(&quot;Successfully got analyze response: {}&quot;, response);\n    return response;\n}\n</code></pre>\n"},{"tags":["java","couchbase"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1687785523,"post_id":76553888,"comment_id":134981007,"body_markdown":"What version of Couchbase are you using? Also, is this related to Spring Data? If so, perhaps paste the relevant portion of the code.","body":"What version of Couchbase are you using? Also, is this related to Spring Data? If so, perhaps paste the relevant portion of the code."},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1687934062,"post_id":76553888,"comment_id":135004556,"body_markdown":"Added details, as requested. Thanks.","body":"Added details, as requested. Thanks."},{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1688037725,"post_id":76553888,"comment_id":135021481,"body_markdown":"I see you removed the Spring tag, but this is the Java SDK, correct?","body":"I see you removed the Spring tag, but this is the Java SDK, correct?"},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1688046799,"post_id":76553888,"comment_id":135023555,"body_markdown":"That&#39;s right. It&#39;s the Java SDK.","body":"That&#39;s right. It&#39;s the Java SDK."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1688154053,"post_id":76553888,"comment_id":135040999,"body_markdown":"I think your hunch might be correct. What is your KV timeout set to? If you search your app log for CoreCreatedEvent you should see the timeout settings as part of the &quot;timeoutConfig&quot; object. This message is logged at INFO level to the &quot;com.couchbase.core&quot; category.","body":"I think your hunch might be correct. What is your KV timeout set to? If you search your app log for CoreCreatedEvent you should see the timeout settings as part of the &quot;timeoutConfig&quot; object. This message is logged at INFO level to the &quot;com.couchbase.core&quot; category."},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1688537721,"post_id":76553888,"comment_id":135084644,"body_markdown":"Is there a way to tell Step 2 to execute only once step 1 is finished executing?","body":"Is there a way to tell Step 2 to execute only once step 1 is finished executing?"},{"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"score":1,"creation_date":1688648628,"post_id":76553888,"comment_id":135104243,"body_markdown":"@YoYoMoneySingh Couchbase SDK engineer here, and looks to me like the SDK hasn&#39;t finished bootstrapping yet.  We occasionally see this in higher latency setups.  As David says, you could increase the KV timeout. You can also apply the &quot;wan-development&quot; environment profile, which will do the same.  Or - my preferred option - you could add a cluster.waitUntilReady() during initialisation, which will block until bootstrapping is complete.","body":"@YoYoMoneySingh Couchbase SDK engineer here, and looks to me like the SDK hasn&#39;t finished bootstrapping yet.  We occasionally see this in higher latency setups.  As David says, you could increase the KV timeout. You can also apply the &quot;wan-development&quot; environment profile, which will do the same.  Or - my preferred option - you could add a cluster.waitUntilReady() during initialisation, which will block until bootstrapping is complete."}],"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688045654,"creation_date":1687759322,"question_id":76553888,"body_markdown":"I am a newbie to couchbase. In one of my applications, we are occassionally getting\r\n`com.couchbase.client.core.error.RequestCancelledException` with `NO_MORE_TRIES (COLLECTION_MAP_REFRESH_IN_PROFRESS)` reason.\r\n\r\nI tried searching about this reason, but could find any relevant doc which explains this reason in detail. Can someone help?\r\n\r\n[Edit:]\r\nMy erroneous code looks like below, and error is triggered on second line (document fetch step).\r\n\r\nI have a hunch that the `Collection collection = ...` is an async step and the collection isn&#39;t fully populated by the time the `collection.get(id)` is invoked.\r\n\r\n\r\n```\r\n Collection collection = scope.collection(myCollection);\r\n MyEntity myEntity = collection.get(id).contentAs(MyEntity.class);\r\n```\r\n\r\nI will paste the couchbase version once I have that info, but rest assured it&#39;s quite a newer version.\r\n\r\n[Edit:]\r\nMy couchbase version is 7.1.3 EE. and Couchbase client SDK 3.2.4","title":"COLLECTION_MAP_REFRESH_IN_PROGRESS reason with RequestCancelledException while connecting to couchbase","body":"<p>I am a newbie to couchbase. In one of my applications, we are occassionally getting\n<code>com.couchbase.client.core.error.RequestCancelledException</code> with <code>NO_MORE_TRIES (COLLECTION_MAP_REFRESH_IN_PROFRESS)</code> reason.</p>\n<p>I tried searching about this reason, but could find any relevant doc which explains this reason in detail. Can someone help?</p>\n<p>[Edit:]\nMy erroneous code looks like below, and error is triggered on second line (document fetch step).</p>\n<p>I have a hunch that the <code>Collection collection = ...</code> is an async step and the collection isn't fully populated by the time the <code>collection.get(id)</code> is invoked.</p>\n<pre><code> Collection collection = scope.collection(myCollection);\n MyEntity myEntity = collection.get(id).contentAs(MyEntity.class);\n</code></pre>\n<p>I will paste the couchbase version once I have that info, but rest assured it's quite a newer version.</p>\n<p>[Edit:]\nMy couchbase version is 7.1.3 EE. and Couchbase client SDK 3.2.4</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9654,"page":338,"page_size":100}
