{"items":[{"tags":["java","apache-kafka","neo4j"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634139941,"post_id":69554497,"comment_id":122947522,"body_markdown":"Are you running Kafka on the same server as your Neo4j server? If not, obviously you need to change the address. Also, [neo4j streams exists already](https://neo4j.com/labs/kafka/), so why do you need this?","body":"Are you running Kafka on the same server as your Neo4j server? If not, obviously you need to change the address. Also, <a href=\"https://neo4j.com/labs/kafka/\" rel=\"nofollow noreferrer\">neo4j streams exists already</a>, so why do you need this?"},{"owner":{"account_id":13313986,"reputation":127,"user_id":9611069,"display_name":"Amirhosein Rajabi"},"score":0,"creation_date":1634202895,"post_id":69554497,"comment_id":122963990,"body_markdown":"Yes I am running them on a docker container,  neo4j streams is deprecated on version 4.3, and the Kafka Connect plugin on confluent is only availble","body":"Yes I am running them on a docker container,  neo4j streams is deprecated on version 4.3, and the Kafka Connect plugin on confluent is only availble"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634221780,"post_id":69554497,"comment_id":122971831,"body_markdown":"1) localhost of neo4j docker container, obviously is not Kafka 2) Deprecated doesn&#39;t mean it won&#39;t work. The one &quot;on Confluent&quot; is the same thing I linked to","body":"1) localhost of neo4j docker container, obviously is not Kafka 2) Deprecated doesn&#39;t mean it won&#39;t work. The one &quot;on Confluent&quot; is the same thing I linked to"}],"owner":{"account_id":13313986,"reputation":127,"user_id":9611069,"display_name":"Amirhosein Rajabi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635001342,"creation_date":1634123740,"question_id":69554497,"body_markdown":"I&#39;ve created a user-defined stored procedure and I am trying to produce messages to Kafka inside the procedure. And I am getting the following error: \r\n\r\n&gt; [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n\r\nHere is my code and it works perfectly when I run it in a sample project\r\n```\r\nclass KafkaProducer(topic: String, message: String) {\r\n    init {\r\n        val properties = Properties()\r\n\r\n        properties[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9092&quot;\r\n        properties[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\r\n        properties[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\r\n\r\n        val producer = KafkaProducer&lt;String, String&gt;(properties)\r\n\r\n        val record = ProducerRecord(topic, &quot;key&quot;, message)\r\n\r\n        producer.send(record)\r\n\r\n        producer.flush()\r\n        producer.close()\r\n    }\r\n}\r\n```","title":"Can&#39;t connect to Apace Kafka inside neo4j user-defined procedure","body":"<p>I've created a user-defined stored procedure and I am trying to produce messages to Kafka inside the procedure. And I am getting the following error:</p>\n<blockquote>\n<p>[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected</p>\n</blockquote>\n<p>Here is my code and it works perfectly when I run it in a sample project</p>\n<pre><code>class KafkaProducer(topic: String, message: String) {\n    init {\n        val properties = Properties()\n\n        properties[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9092&quot;\n        properties[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\n        properties[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\n\n        val producer = KafkaProducer&lt;String, String&gt;(properties)\n\n        val record = ProducerRecord(topic, &quot;key&quot;, message)\n\n        producer.send(record)\n\n        producer.flush()\n        producer.close()\n    }\n}\n</code></pre>\n"},{"tags":["java","android","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1274437048,"post_id":2881139,"comment_id":2927888,"body_markdown":"Why do you need to create such a large string? Can&#39;t you iterate through the collection &quot;manually&quot;?","body":"Why do you need to create such a large string? Can&#39;t you iterate through the collection &quot;manually&quot;?"},{"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"score":0,"creation_date":1274437221,"post_id":2881139,"comment_id":2927903,"body_markdown":"Sorry, no, it&#39;s part of a generation system.","body":"Sorry, no, it&#39;s part of a generation system."}],"answers":[{"tags":[],"owner":{"account_id":6040,"reputation":181950,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1274437282,"creation_date":1274437282,"answer_id":2881225,"question_id":2881139,"body_markdown":"It seems that there is a hard limit of 16 MB heap space on Android apps that can only be worked around by [altering the Android source][1]. Your program has hit this limit: &quot;Out of memory: Heap Size=15559KB&quot;. You&#39;ll need to figure out how to reduce your program&#39;s memory usage. A nice guide to doing this is [here][2].\r\n\r\n\r\n  [1]: http://tordtech.blogspot.com/2009/09/memory-limit-on-android.html\r\n  [2]: http://ttlnews.blogspot.com/2010/01/attacking-memory-problems-on-android.html","title":"OutOfMemoryError what to increase and how?","body":"<p>It seems that there is a hard limit of 16 MB heap space on Android apps that can only be worked around by <a href=\"http://tordtech.blogspot.com/2009/09/memory-limit-on-android.html\" rel=\"noreferrer\">altering the Android source</a>. Your program has hit this limit: \"Out of memory: Heap Size=15559KB\". You'll need to figure out how to reduce your program's memory usage. A nice guide to doing this is <a href=\"http://ttlnews.blogspot.com/2010/01/attacking-memory-problems-on-android.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":39531,"reputation":187638,"user_id":114066,"accept_rate":90,"display_name":"Janusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274437696,"creation_date":1274437696,"answer_id":2881272,"question_id":2881139,"body_markdown":"If you need to output a string with that size try to write it into a file on the SD-Card. That is the only way I can think of to get this string out of your app. If you append the items one by one to the file you want need that much memory.","title":"OutOfMemoryError what to increase and how?","body":"<p>If you need to output a string with that size try to write it into a file on the SD-Card. That is the only way I can think of to get this string out of your app. If you append the items one by one to the file you want need that much memory.</p>\n"}],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6941,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2881225,"answer_count":2,"score":13,"last_activity_date":1635000598,"creation_date":1274436294,"question_id":2881139,"body_markdown":"I have a really long collection with 10k items, and when running a toString() on the object it crashes. I need to use this output somehow.\r\n\r\n    05-21 12:59:44.586: ERROR/dalvikvm-heap(6415): Out of memory on a 847610-byte allocation.\r\n    05-21 12:59:44.636: ERROR/dalvikvm(6415): Out of memory: Heap Size=15559KB, Allocated=12932KB, Bitmap Size=613KB\r\n    05-21 12:59:44.636: ERROR/AndroidRuntime(6415): Uncaught handler: thread main exiting due to uncaught exception\r\n    05-21 12:59:44.636: ERROR/AndroidRuntime(6415): java.lang.OutOfMemoryError\r\n    05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.lang.AbstractStringBuilder.enlargeBuffer(AbstractStringBuilder.java:97)\r\n    05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:155)\r\n    05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.lang.StringBuilder.append(StringBuilder.java:202)\r\n    05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.util.AbstractCollection.toString(AbstractCollection.java:384)\r\n\r\nI need step by step guide how to increase the heap for and Android application. I don&#39;t run the command line.","title":"OutOfMemoryError what to increase and how?","body":"<p>I have a really long collection with 10k items, and when running a toString() on the object it crashes. I need to use this output somehow.</p>\n\n<pre><code>05-21 12:59:44.586: ERROR/dalvikvm-heap(6415): Out of memory on a 847610-byte allocation.\n05-21 12:59:44.636: ERROR/dalvikvm(6415): Out of memory: Heap Size=15559KB, Allocated=12932KB, Bitmap Size=613KB\n05-21 12:59:44.636: ERROR/AndroidRuntime(6415): Uncaught handler: thread main exiting due to uncaught exception\n05-21 12:59:44.636: ERROR/AndroidRuntime(6415): java.lang.OutOfMemoryError\n05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.lang.AbstractStringBuilder.enlargeBuffer(AbstractStringBuilder.java:97)\n05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:155)\n05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.lang.StringBuilder.append(StringBuilder.java:202)\n05-21 12:59:44.636: ERROR/AndroidRuntime(6415):     at java.util.AbstractCollection.toString(AbstractCollection.java:384)\n</code></pre>\n\n<p>I need step by step guide how to increase the heap for and Android application. I don't run the command line.</p>\n"},{"tags":["java","android","xml-parsing","heap-memory","saxparser"],"comments":[{"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1290755623,"post_id":4283174,"comment_id":4645976,"body_markdown":"Is there any way you could use an SQLite database rather than an XML file for your data?","body":"Is there any way you could use an SQLite database rather than an XML file for your data?"},{"owner":{"account_id":159984,"reputation":1457,"user_id":379712,"accept_rate":100,"display_name":"Ajith"},"score":0,"creation_date":1290755705,"post_id":4283174,"comment_id":4645988,"body_markdown":"im parsing XML files and storing it to SqliteDB mate.!","body":"im parsing XML files and storing it to SqliteDB mate.!"},{"owner":{"account_id":206292,"reputation":62091,"user_id":455493,"accept_rate":92,"display_name":"Tseng"},"score":3,"creation_date":1290765062,"post_id":4283174,"comment_id":4647034,"body_markdown":"I&#39;m not sure if the parsing itself is causing it or the storing in the List&lt;DbEntry&gt; list simply becoming too big. If latter, try to directly push the data to the sqlite DB instead of storing it in the List&lt;DbEntry&gt;. May be less efficient, but with huge number of records maybe a better solution. Or cache 20-30 entries and flush them into the DB, clear the list and cache another 20-30","body":"I&#39;m not sure if the parsing itself is causing it or the storing in the List&lt;DbEntry&gt; list simply becoming too big. If latter, try to directly push the data to the sqlite DB instead of storing it in the List&lt;DbEntry&gt;. May be less efficient, but with huge number of records maybe a better solution. Or cache 20-30 entries and flush them into the DB, clear the list and cache another 20-30"},{"owner":{"account_id":159984,"reputation":1457,"user_id":379712,"accept_rate":100,"display_name":"Ajith"},"score":0,"creation_date":1290880928,"post_id":4283174,"comment_id":4658528,"body_markdown":"Thanks mate,my List&lt;DbEntry&gt; was becoming huge..Problem solved..","body":"Thanks mate,my List&lt;DbEntry&gt; was becoming huge..Problem solved.."}],"answers":[{"tags":[],"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1307624548,"creation_date":1290757660,"answer_id":4283378,"question_id":4283174,"body_markdown":"There are heap restrictions for android, read the XML data in chunks from your file and parse it conveniently \r\n\r\nNinja edit: \r\n\r\nAs per [Tseng][1] : Caching `List&lt;DbEntry&gt;` by reading 20-30 entries into it makes much more sense. \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/455493/tseng","title":"Android OutOfMemoryError","body":"<p>There are heap restrictions for android, read the XML data in chunks from your file and parse it conveniently </p>\n\n<p>Ninja edit: </p>\n\n<p>As per <a href=\"https://stackoverflow.com/users/455493/tseng\">Tseng</a> : Caching <code>List&lt;DbEntry&gt;</code> by reading 20-30 entries into it makes much more sense. </p>\n"}],"owner":{"account_id":159984,"reputation":1457,"user_id":379712,"accept_rate":100,"display_name":"Ajith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4283378,"answer_count":1,"score":3,"last_activity_date":1635000550,"creation_date":1290755455,"question_id":4283174,"body_markdown":"My application is crashing when trying to parse a large XML file using SAXParser.  \r\nI found a question in SO regarding it &lt;a href=&quot;https://stackoverflow.com/questions/4159916/parsing-large-xml-files-in-android&quot; &gt;here&lt;/a&gt;  unanswered.  \r\nIt is working as intended  when i reduce the size of the XML  \r\nHere is my LogCat output.\r\n\r\n    11-26 12:08:45.099: WARN/dalvikvm(218): threadid=17: thread exiting with uncaught exception (group=0x4001aa28)\r\n    11-26 12:08:45.109: ERROR/AndroidRuntime(218): Uncaught handler: thread Thread-9 exiting due to uncaught exception\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218): java.lang.OutOfMemoryError\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.Object.internalClone(Native Method)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.Object.clone(Object.java:82)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:141)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.StringBuilder.append(StringBuilder.java:282)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at   com.google.android.iopex.SaxXMLHandler.characters(SaxXMLHandler.java:24)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.text(ExpatParser.java:166)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.append(Native Method)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.parseFragment(ExpatParser.java:506)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.parseDocument(ExpatParser.java:467)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:329)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:286)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at javax.xml.parsers.SAXParser.parse(SAXParser.java:361)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at javax.xml.parsers.SAXParser.parse(SAXParser.java:240)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at com.google.android.iopex.SaxParser.parse(SaxParser.java:22)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at com.google.android.iopex.iOPEXActivity$4.run(iOPEXActivity.java:112)\r\n    11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.Thread.run(Thread.java:1060)\r\n\r\n&lt;a href=&quot;http://pastebin.com/eeQ89cem&quot;&gt;**HERE**&lt;/a&gt; is the code that i&#39;m using to parse","title":"Android OutOfMemoryError","body":"<p>My application is crashing when trying to parse a large XML file using SAXParser.<br>\nI found a question in SO regarding it <a href=\"https://stackoverflow.com/questions/4159916/parsing-large-xml-files-in-android\" >here</a>  unanswered.<br>\nIt is working as intended  when i reduce the size of the XML<br>\nHere is my LogCat output.</p>\n\n<pre><code>11-26 12:08:45.099: WARN/dalvikvm(218): threadid=17: thread exiting with uncaught exception (group=0x4001aa28)\n11-26 12:08:45.109: ERROR/AndroidRuntime(218): Uncaught handler: thread Thread-9 exiting due to uncaught exception\n11-26 12:08:45.220: ERROR/AndroidRuntime(218): java.lang.OutOfMemoryError\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.Object.internalClone(Native Method)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.Object.clone(Object.java:82)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:141)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.StringBuilder.append(StringBuilder.java:282)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at   com.google.android.iopex.SaxXMLHandler.characters(SaxXMLHandler.java:24)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.text(ExpatParser.java:166)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.append(Native Method)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.parseFragment(ExpatParser.java:506)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatParser.parseDocument(ExpatParser.java:467)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:329)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:286)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at javax.xml.parsers.SAXParser.parse(SAXParser.java:361)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at javax.xml.parsers.SAXParser.parse(SAXParser.java:240)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at com.google.android.iopex.SaxParser.parse(SaxParser.java:22)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at com.google.android.iopex.iOPEXActivity$4.run(iOPEXActivity.java:112)\n11-26 12:08:45.220: ERROR/AndroidRuntime(218):     at java.lang.Thread.run(Thread.java:1060)\n</code></pre>\n\n<p><a href=\"http://pastebin.com/eeQ89cem\" rel=\"nofollow noreferrer\"><strong>HERE</strong></a> is the code that i'm using to parse</p>\n"},{"tags":["java","json","json-deserialization","lombok"],"comments":[{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1634995685,"post_id":69688233,"comment_id":123179557,"body_markdown":"is there some reason why you are manually deserializing Box2 instead of taking advantage of data binding?","body":"is there some reason why you are manually deserializing Box2 instead of taking advantage of data binding?"}],"answers":[{"tags":[],"owner":{"account_id":5066911,"reputation":1131,"user_id":4066802,"display_name":"lprakashv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635000425,"creation_date":1634998499,"answer_id":69688965,"question_id":69688233,"body_markdown":"You actually do not need a custom deserializer and the `@JsonDeserialize` annotation. The `ObjectMapper` provides a configuration to enable wrapping/unwrapping a root value which can be provided using the `@JsonRootName` annotation over the Wrapper object class.\r\n\r\n```java\r\n@Builder\r\n@Value\r\n@JsonRootName(&quot;data&quot;)\r\npublic class Box {\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    String name;\r\n\r\n    @JsonProperty(&quot;size&quot;)\r\n    String size;\r\n\r\n    public static Box of(String json) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\n        return mapper.readValue(json, Box.class);\r\n    }\r\n}\r\n```\r\n\r\nPS: Totally missed the `Dimension` part in the question, for that, you can use a custom deserializer as mentioned in other answer.","title":"Lombok with JsonDeserializer","body":"<p>You actually do not need a custom deserializer and the <code>@JsonDeserialize</code> annotation. The <code>ObjectMapper</code> provides a configuration to enable wrapping/unwrapping a root value which can be provided using the <code>@JsonRootName</code> annotation over the Wrapper object class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Value\n@JsonRootName(&quot;data&quot;)\npublic class Box {\n\n    @JsonProperty(&quot;name&quot;)\n    String name;\n\n    @JsonProperty(&quot;size&quot;)\n    String size;\n\n    public static Box of(String json) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\n        return mapper.readValue(json, Box.class);\n    }\n}\n</code></pre>\n<p>PS: Totally missed the <code>Dimension</code> part in the question, for that, you can use a custom deserializer as mentioned in other answer.</p>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634999970,"creation_date":1634999970,"answer_id":69689169,"question_id":69688233,"body_markdown":"I will add to @Iprakashv solution, besides only the needs for the `JsonRootName` type annotation and mapper serialization / deserialization for root node wrapping, you only need a custom type converter from a raw type to your custom type:\r\n\r\n    @Builder\r\n    @Value\r\n    @JsonRootName(&quot;data&quot;)\r\n    public class Box {\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        String name;\r\n    \r\n        @JsonDeserialize(converter = StringToDimensionConverter.class)\r\n        @JsonProperty(&quot;size&quot;)\r\n        Dimension size;\r\n    \r\n        public static Box of(String json) throws IOException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\n            mapper.enable(SerializationFeature.WRAP_ROOT_VALUE);\r\n            return mapper.readValue(json, Box.class);\r\n        }\r\n\r\n        private static class StringToDimensionConverter extends StdConverter&lt;String, Dimension&gt; {\r\n            @Override\r\n            public DataWrapper.Box1Data.Dimension convert(String s) {\r\n                return new DataWrapper.Box1Data.Dimension(s);\r\n            }\r\n        }\r\n    }","title":"Lombok with JsonDeserializer","body":"<p>I will add to @Iprakashv solution, besides only the needs for the <code>JsonRootName</code> type annotation and mapper serialization / deserialization for root node wrapping, you only need a custom type converter from a raw type to your custom type:</p>\n<pre><code>@Builder\n@Value\n@JsonRootName(&quot;data&quot;)\npublic class Box {\n\n    @JsonProperty(&quot;name&quot;)\n    String name;\n\n    @JsonDeserialize(converter = StringToDimensionConverter.class)\n    @JsonProperty(&quot;size&quot;)\n    Dimension size;\n\n    public static Box of(String json) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\n        mapper.enable(SerializationFeature.WRAP_ROOT_VALUE);\n        return mapper.readValue(json, Box.class);\n    }\n\n    private static class StringToDimensionConverter extends StdConverter&lt;String, Dimension&gt; {\n        @Override\n        public DataWrapper.Box1Data.Dimension convert(String s) {\n            return new DataWrapper.Box1Data.Dimension(s);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1110483,"reputation":1683,"user_id":1101040,"accept_rate":58,"display_name":"AweSIM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69689169,"answer_count":2,"score":1,"last_activity_date":1635000425,"creation_date":1634992686,"question_id":69688233,"body_markdown":"I have a JSON string that I want to deserialize into a class. The JSON looks like so:\r\n\r\n```json\r\n{ &quot;data&quot;: { &quot;name&quot;: &quot;Box 1&quot;, &quot;size&quot;: &quot;10x20&quot; } }\r\n```\r\n\r\nI can deserialize this into the following class:\r\n```java\r\n@Builder\r\n@Value\r\n@JsonDeserialize(builder = Box1.Box1Builder.class)\r\npublic class Box1 {\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    Box1Data data;\r\n\r\n    public static Box1 of(String json) throws IOException {\r\n        return new ObjectMapper().readValue(json, Box1.class);\r\n    }\r\n\r\n    @Builder\r\n    @Value\r\n    @JsonDeserialize(builder = Box1Data.Box1DataBuilder.class)\r\n    static class Box1Data {\r\n\r\n        @JsonProperty(&quot;name&quot;)\r\n        String name;\r\n\r\n        @JsonProperty(&quot;size&quot;)\r\n        String size;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe above class looks clumsy since it has a useless hierarchy of `data`. I can get rid of it like so:\r\n\r\n```java\r\n@Builder\r\n@Value\r\n@JsonDeserialize(using = Box2Deserializer.class)\r\npublic class Box2 {\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    String name;\r\n\r\n    @JsonProperty(&quot;size&quot;)\r\n    String size;\r\n\r\n    public static Box2 of(String json) throws IOException {\r\n        return new ObjectMapper().readValue(json, Box2.class);\r\n    }\r\n\r\n    static class Box2Deserializer extends JsonDeserializer&lt;Box2&gt; {\r\n\r\n        @Override\r\n        public Box2 deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n            var node = jsonParser.getCodec().readTree(jsonParser);\r\n            var dataNode = node.get(&quot;data&quot;);\r\n            return Box2.builder()\r\n                    .name(dataNode.get(&quot;name&quot;).toString())\r\n                    .size(dataNode.get(&quot;size&quot;).toString())\r\n                    .build();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut here, I hit a dead-end. I want the `size` field to be parsed into a `Dimension` instance. I can write a custom deserializer for `size` that parses a `String` and returns a proper `Dimension`, but I cannot use it via field annotations (`@JsonDeserialize(using = SizeDeserializer.class)` since the presence of `JsonDeserialize` class annotation forces it to be ignored in the case for `Box1`, and in the case for `Box2`, it&#39;s ignored cuz I&#39;m building the box manually.\r\n\r\nIs there an elegant solution to all this mess? What I want is to read the given JSON into a class like this:\r\n\r\n\r\n```java\r\n@Builder\r\n@Value\r\npublic class Box3 {\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    String name;\r\n\r\n    @JsonProperty(&quot;size&quot;)\r\n    Dimension size;\r\n\r\n    public static Box3 of(String json) {\r\n        ...\r\n    }\r\n\r\n}\r\n```\r\n\r\nThanks!\r\n\r\nAsim","title":"Lombok with JsonDeserializer","body":"<p>I have a JSON string that I want to deserialize into a class. The JSON looks like so:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;data&quot;: { &quot;name&quot;: &quot;Box 1&quot;, &quot;size&quot;: &quot;10x20&quot; } }\n</code></pre>\n<p>I can deserialize this into the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Value\n@JsonDeserialize(builder = Box1.Box1Builder.class)\npublic class Box1 {\n\n    @JsonProperty(&quot;data&quot;)\n    Box1Data data;\n\n    public static Box1 of(String json) throws IOException {\n        return new ObjectMapper().readValue(json, Box1.class);\n    }\n\n    @Builder\n    @Value\n    @JsonDeserialize(builder = Box1Data.Box1DataBuilder.class)\n    static class Box1Data {\n\n        @JsonProperty(&quot;name&quot;)\n        String name;\n\n        @JsonProperty(&quot;size&quot;)\n        String size;\n\n    }\n\n}\n</code></pre>\n<p>The above class looks clumsy since it has a useless hierarchy of <code>data</code>. I can get rid of it like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Value\n@JsonDeserialize(using = Box2Deserializer.class)\npublic class Box2 {\n\n    @JsonProperty(&quot;name&quot;)\n    String name;\n\n    @JsonProperty(&quot;size&quot;)\n    String size;\n\n    public static Box2 of(String json) throws IOException {\n        return new ObjectMapper().readValue(json, Box2.class);\n    }\n\n    static class Box2Deserializer extends JsonDeserializer&lt;Box2&gt; {\n\n        @Override\n        public Box2 deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n            var node = jsonParser.getCodec().readTree(jsonParser);\n            var dataNode = node.get(&quot;data&quot;);\n            return Box2.builder()\n                    .name(dataNode.get(&quot;name&quot;).toString())\n                    .size(dataNode.get(&quot;size&quot;).toString())\n                    .build();\n        }\n    }\n\n}\n</code></pre>\n<p>But here, I hit a dead-end. I want the <code>size</code> field to be parsed into a <code>Dimension</code> instance. I can write a custom deserializer for <code>size</code> that parses a <code>String</code> and returns a proper <code>Dimension</code>, but I cannot use it via field annotations (<code>@JsonDeserialize(using = SizeDeserializer.class)</code> since the presence of <code>JsonDeserialize</code> class annotation forces it to be ignored in the case for <code>Box1</code>, and in the case for <code>Box2</code>, it's ignored cuz I'm building the box manually.</p>\n<p>Is there an elegant solution to all this mess? What I want is to read the given JSON into a class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Value\npublic class Box3 {\n\n    @JsonProperty(&quot;name&quot;)\n    String name;\n\n    @JsonProperty(&quot;size&quot;)\n    Dimension size;\n\n    public static Box3 of(String json) {\n        ...\n    }\n\n}\n</code></pre>\n<p>Thanks!</p>\n<p>Asim</p>\n"},{"tags":["java","android","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1335174301,"creation_date":1335044711,"answer_id":10263267,"question_id":8860702,"body_markdown":"possible optimizations for both speed and memory:\r\n\r\n1.how about using a fixed size array of max touch events and update it instead of creating a new one every time ? it&#39;s a single thread that handle both so there should not be anything to worry about it .\r\n\r\n2.invalidate only the areas that should be updated. this could improve speed.\r\n\r\n3.update the touch events only before you know you wish to update .\r\n\r\n4.not sure what is the game , but you can use a fixed size bitmap and write to it instead of saving the touch events.\r\n\r\n5.since it&#39;s a game , most of the memory is probably used for images ,sounds and videos . try to check if that&#39;s a problem. since the classes that you&#39;ve checked are 1-byte arrays , it might be the case of images. for more information on loading heavy resources, check :\r\nhttp://developer.android.com/training/displaying-bitmaps/index.html\r\n\r\nhaving a large heap size might indicate that you are creating a lot of small objects or a few large objects in a short time , since the gc take some time till it does something.","title":"Android Heap 1-Byte array type extremely large","body":"<p>possible optimizations for both speed and memory:</p>\n\n<p>1.how about using a fixed size array of max touch events and update it instead of creating a new one every time ? it's a single thread that handle both so there should not be anything to worry about it .</p>\n\n<p>2.invalidate only the areas that should be updated. this could improve speed.</p>\n\n<p>3.update the touch events only before you know you wish to update .</p>\n\n<p>4.not sure what is the game , but you can use a fixed size bitmap and write to it instead of saving the touch events.</p>\n\n<p>5.since it's a game , most of the memory is probably used for images ,sounds and videos . try to check if that's a problem. since the classes that you've checked are 1-byte arrays , it might be the case of images. for more information on loading heavy resources, check :\n<a href=\"http://developer.android.com/training/displaying-bitmaps/index.html\" rel=\"nofollow\">http://developer.android.com/training/displaying-bitmaps/index.html</a></p>\n\n<p>having a large heap size might indicate that you are creating a lot of small objects or a few large objects in a short time , since the gc take some time till it does something.</p>\n"}],"owner":{"account_id":544029,"reputation":305,"user_id":913336,"accept_rate":88,"display_name":"William Hoskins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3055,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10263267,"answer_count":1,"score":4,"last_activity_date":1635000322,"creation_date":1326524216,"question_id":8860702,"body_markdown":"So, I am working on a game in android, and I was checking out the heap and allocations to see if there was anything going wrong with memory and what not. When I got to the heap, it told me that it had allocated 33 mb for my game, and 31 mb was allocated to 1-byte array types. I went through trying to figure out why this was as large as it was, but I had no luck, and no idea what to look for even. Does anyone have any ideas? Thanks in advance! Let me know if you need any more info.\r\n\r\nWill\r\n\r\nEdit:\r\n\r\nI wasn&#39;t exactly clear on what was happening, sorry, was late when I posted this.\r\n\r\nBasically I made a simple multitouch checker, code below, and when I ran it, I decided to check the heap. As I said above it was extremely large for what I was doing, just getting points and sticking a circle on it using draw\r\n\r\n    \tpublic void onDraw(Canvas c)\r\n\t\t{\r\n\t\t\tc.drawColor(Color.BLACK);\r\n\t\t\tPoint[] touchPlacesHolder = touchPlaces;\r\n\t\t\tfor(int i = 0; i &lt; touchPlacesHolder.length; i++)\r\n\t\t\t{\r\n\t\t\t\tc.drawCircle(touchPlacesHolder[i].x, touchPlacesHolder[i].y, 100, paint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic boolean onTouchEvent(MotionEvent event){\r\n\t\t\ttouchPlaces = new Point[event.getPointerCount()];\r\n\t\t\tfor (int i = 0; i &lt; event.getPointerCount(); i++) \r\n\t\t\t{\r\n\t\t\t\ttouchPlaces[i] = new Point((int) event.getX(i), (int) event.getY(i));\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\nI am running this activity by linking it to a button on another via intent, the code is below. I am not sure if it has anything to do with the way I linked the 2 or not, maybe I caused a memory leak there.\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tfinal Window win = getWindow();\r\n\t\twin.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); \r\n\t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n\t\tsetContentView(R.layout.main);\r\n\r\n\t\tfinal Button newGame = (Button) findViewById(R.id.new_game_button);\r\n\t\tnewGame.setOnClickListener(new OnClickListener() {\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// Perform action on clicks\r\n\t\t\t\tIntent intent = new Intent(v.getContext(), Platformer.class);\r\n\t\t\t\tstartActivity(intent);\r\n\t\t\t}\r\n\t\t});\r\n\t\tfinal Button levelEditor = (Button) findViewById(R.id.level_editor);\r\n\t\tlevelEditor.setOnClickListener(new OnClickListener() {\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\tIntent intent = new Intent(v.getContext(), LevelEditor.class);\r\n\t\t\t\tstartActivity(intent);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nAs you can see, I have another activity attached to the buttons in the second bit of code I showed, but I figured I would ask about the simpler example because they are both using the same amount of memory, even though one is using bitmaps and the other isn&#39;t. \r\n\r\nSo, basically my question is, why would something as simple as this require such a large heap, and why would it use so much of it when something much more complex like cut the rope is about half the size. Thanks!\r\n\r\nEdit again:\r\n\r\nI just changed the manifest to start with the simplest one and left the main menu and the other activity out. The multitouch tester had about 12 mbs used of its 13 mb heap. I did the same thing for the menu and it had about 25 mb allocated and was using most of it, and the other class I didn&#39;t show used about 25 as well. \r\n\r\nSo, I&#39;m guessing the extra memory being used it from it holding the menu in memory, but I am not sure why it is using so much memory for the menu in the first place. Any idea how to fix that or fix the way it is holding it in memory?","title":"Android Heap 1-Byte array type extremely large","body":"<p>So, I am working on a game in android, and I was checking out the heap and allocations to see if there was anything going wrong with memory and what not. When I got to the heap, it told me that it had allocated 33 mb for my game, and 31 mb was allocated to 1-byte array types. I went through trying to figure out why this was as large as it was, but I had no luck, and no idea what to look for even. Does anyone have any ideas? Thanks in advance! Let me know if you need any more info.</p>\n\n<p>Will</p>\n\n<p>Edit:</p>\n\n<p>I wasn't exactly clear on what was happening, sorry, was late when I posted this.</p>\n\n<p>Basically I made a simple multitouch checker, code below, and when I ran it, I decided to check the heap. As I said above it was extremely large for what I was doing, just getting points and sticking a circle on it using draw</p>\n\n<pre><code>    public void onDraw(Canvas c)\n    {\n        c.drawColor(Color.BLACK);\n        Point[] touchPlacesHolder = touchPlaces;\n        for(int i = 0; i &lt; touchPlacesHolder.length; i++)\n        {\n            c.drawCircle(touchPlacesHolder[i].x, touchPlacesHolder[i].y, 100, paint);\n        }\n    }\n\n    public boolean onTouchEvent(MotionEvent event){\n        touchPlaces = new Point[event.getPointerCount()];\n        for (int i = 0; i &lt; event.getPointerCount(); i++) \n        {\n            touchPlaces[i] = new Point((int) event.getX(i), (int) event.getY(i));\n        }\n        return true;\n    }\n</code></pre>\n\n<p>I am running this activity by linking it to a button on another via intent, the code is below. I am not sure if it has anything to do with the way I linked the 2 or not, maybe I caused a memory leak there.</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    final Window win = getWindow();\n    win.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); \n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    setContentView(R.layout.main);\n\n    final Button newGame = (Button) findViewById(R.id.new_game_button);\n    newGame.setOnClickListener(new OnClickListener() {\n        public void onClick(View v) {\n            // Perform action on clicks\n            Intent intent = new Intent(v.getContext(), Platformer.class);\n            startActivity(intent);\n        }\n    });\n    final Button levelEditor = (Button) findViewById(R.id.level_editor);\n    levelEditor.setOnClickListener(new OnClickListener() {\n        public void onClick(View v) {\n            Intent intent = new Intent(v.getContext(), LevelEditor.class);\n            startActivity(intent);\n        }\n    });\n}\n</code></pre>\n\n<p>As you can see, I have another activity attached to the buttons in the second bit of code I showed, but I figured I would ask about the simpler example because they are both using the same amount of memory, even though one is using bitmaps and the other isn't. </p>\n\n<p>So, basically my question is, why would something as simple as this require such a large heap, and why would it use so much of it when something much more complex like cut the rope is about half the size. Thanks!</p>\n\n<p>Edit again:</p>\n\n<p>I just changed the manifest to start with the simplest one and left the main menu and the other activity out. The multitouch tester had about 12 mbs used of its 13 mb heap. I did the same thing for the menu and it had about 25 mb allocated and was using most of it, and the other class I didn't show used about 25 as well. </p>\n\n<p>So, I'm guessing the extra memory being used it from it holding the menu in memory, but I am not sure why it is using so much memory for the menu in the first place. Any idea how to fix that or fix the way it is holding it in memory?</p>\n"},{"tags":["java","android","exception","crash","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":391456,"reputation":1007,"user_id":752129,"accept_rate":69,"display_name":"Murugesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1338531823,"creation_date":1328799634,"answer_id":9213214,"question_id":9212951,"body_markdown":"david\r\n \r\n  Try to increase heap size of the eclipse in vm arguments from eclipse.ini file for example by default it will like \r\n\r\n      -vmargs\r\n      -Dosgi.requiredJavaVersion=1.5\r\n      -Xms40m\r\n      -Xmx512m\r\nYou can change something like \r\n\r\n      -vmargs \r\n      -Dosgi.requiredJavaVersion=1.5\r\n      -Xms512m\r\n      -Xmx1024m\r\n      -XX:PermSize=256M\r\n      -XX:MaxPermSize=512M\r\n\r\n\r\n  ","title":"Eclipse crashing, getting heap exceptions - Out of Memory when trying to deploy an Android applicaiton","body":"<p>david</p>\n\n<p>Try to increase heap size of the eclipse in vm arguments from eclipse.ini file for example by default it will like </p>\n\n<pre><code>  -vmargs\n  -Dosgi.requiredJavaVersion=1.5\n  -Xms40m\n  -Xmx512m\n</code></pre>\n\n<p>You can change something like </p>\n\n<pre><code>  -vmargs \n  -Dosgi.requiredJavaVersion=1.5\n  -Xms512m\n  -Xmx1024m\n  -XX:PermSize=256M\n  -XX:MaxPermSize=512M\n</code></pre>\n"}],"owner":{"account_id":1191856,"reputation":241,"user_id":1164429,"accept_rate":55,"display_name":"user1164429"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2947,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9213214,"answer_count":1,"score":3,"last_activity_date":1635000267,"creation_date":1328798795,"question_id":9212951,"body_markdown":"I have one Android project that crashes when it is deployed.  Other projects in the same workspace work fine.  I increased the RAM usage on the AVD that I&#39;m using to 1 GB.  I don&#39;t think there is a memory leak because it seems to work on other peoples computer.  \r\n\r\nI&#39;d like to use the Memory Profiler, but the project crashes before launching, and I can&#39;t reach the Logcat files. \r\n\r\nRight now I&#39;m using eclipse, is there a way for me to launch it using ANT or the command line, where I can execute it step by step and find where the crash is happening? \r\n\r\nAny help would be greatly appreciated. \r\n\r\nThank you, \r\n\r\nDavid ","title":"Eclipse crashing, getting heap exceptions - Out of Memory when trying to deploy an Android applicaiton","body":"<p>I have one Android project that crashes when it is deployed.  Other projects in the same workspace work fine.  I increased the RAM usage on the AVD that I'm using to 1 GB.  I don't think there is a memory leak because it seems to work on other peoples computer.  </p>\n\n<p>I'd like to use the Memory Profiler, but the project crashes before launching, and I can't reach the Logcat files. </p>\n\n<p>Right now I'm using eclipse, is there a way for me to launch it using ANT or the command line, where I can execute it step by step and find where the crash is happening? </p>\n\n<p>Any help would be greatly appreciated. </p>\n\n<p>Thank you, </p>\n\n<p>David </p>\n"},{"tags":["java","reflection","interface","guava","extends"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1634985614,"post_id":69687231,"comment_id":123177605,"body_markdown":"For there to be an actual instantiated interface then its&#39; implementing class instance exists instantiated, that would depend on whether you would actually know what class would be a typeOf . reflection api may be able to do that faster and use loadClass() with a boolean argument whether its instantiated or wanted as new.","body":"For there to be an actual instantiated interface then its&#39; implementing class instance exists instantiated, that would depend on whether you would actually know what class would be a typeOf . reflection api may be able to do that faster and use loadClass() with a boolean argument whether its instantiated or wanted as new."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635000167,"creation_date":1634999518,"answer_id":69689105,"question_id":69687231,"body_markdown":"To answer your question, no I don&#39;t think there is.\r\n\r\nHowever, it strikes me that what you are doing is equivalent to this:\r\n\r\n    NetSession makeProxy(NetSession session) {\r\n        session.connect();\r\n        if (session instanceof HttpSession) {\r\n            HttpSession httpSession = (HttpSession) session;\r\n            httpSession.useRestApi();\r\n\r\n            // do something else\r\n        } else {\r\n            return session;\r\n        }\r\n    }\r\n\r\nIn short, your complicated Guava code doesn&#39;t achieve anything that you can&#39;t do *more elegantly* using `instanceof`.\r\n\r\nYou don&#39;t need to use reflection to find an interface if you then just intend to use the interface non-reflectively.","title":"How to get interface extending another one (aka super) by its super","body":"<p>To answer your question, no I don't think there is.</p>\n<p>However, it strikes me that what you are doing is equivalent to this:</p>\n<pre><code>NetSession makeProxy(NetSession session) {\n    session.connect();\n    if (session instanceof HttpSession) {\n        HttpSession httpSession = (HttpSession) session;\n        httpSession.useRestApi();\n\n        // do something else\n    } else {\n        return session;\n    }\n}\n</code></pre>\n<p>In short, your complicated Guava code doesn't achieve anything that you can't do <em>more elegantly</em> using <code>instanceof</code>.</p>\n<p>You don't need to use reflection to find an interface if you then just intend to use the interface non-reflectively.</p>\n"}],"owner":{"account_id":5101614,"reputation":1,"user_id":4091081,"display_name":"Николай Костин"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635000167,"creation_date":1634984800,"question_id":69687231,"body_markdown":"Here is my code using Guava:\r\n```\r\npublic interface NetSession {\r\n    void connect();\r\n}\r\n\r\npublic interface HttpSession extends NetSession {\r\n    void useRestApi();\r\n}\r\n\r\nclass HttpSessionImpl implements HttpSession {\r\n}\r\n\r\nclass Test {\r\n    NetSession makeProxy(NetSession session) {\r\n        TypeToken&lt;? extends NetSession&gt; sessionTT =\r\n                TypeToken.of(session.getClass());\r\n        TypeToken&lt;? extends NetSession&gt;.TypeSet ifaces =\r\n                sessionTT.getTypes().interfaces();\r\n        //  here we looking for real &lt;? extends NetSession&gt; interface\r\n        Class&lt;? extends NetSession&gt; sessionIface = \r\n            (Class&lt;? extends NetSession&gt;) ifaces.stream()\r\n                .filter(i -&gt; i.isSubtypeOf(NetSession.class))\r\n                .map(i -&gt; i.getRawType())\r\n                .findAny().orElse(null);\r\n        assert sessionIface != null;\r\n        \r\n        session.connect();\r\n        if (sessionIface == NetSession.class) {\r\n            return session; // as is\r\n        }\r\n        // make extra\r\n        HttpSession httpSession = (HttpSession) session;\r\n        httpSession.useRestApi();\r\n    }\r\n}\r\n```\r\n\r\nIs there more elegant way to find class of interface by its super?\r\nI mean something like:\r\n```\r\nClass&lt;? extends NetSession&gt; sessionIface = sessionTT.getInterfaceExtending(NetSession.class);\r\nassert sessionIface == HttpSession.class; // is ok in case above\r\n```\r\nWith Guava or else make no difference.","title":"How to get interface extending another one (aka super) by its super","body":"<p>Here is my code using Guava:</p>\n<pre><code>public interface NetSession {\n    void connect();\n}\n\npublic interface HttpSession extends NetSession {\n    void useRestApi();\n}\n\nclass HttpSessionImpl implements HttpSession {\n}\n\nclass Test {\n    NetSession makeProxy(NetSession session) {\n        TypeToken&lt;? extends NetSession&gt; sessionTT =\n                TypeToken.of(session.getClass());\n        TypeToken&lt;? extends NetSession&gt;.TypeSet ifaces =\n                sessionTT.getTypes().interfaces();\n        //  here we looking for real &lt;? extends NetSession&gt; interface\n        Class&lt;? extends NetSession&gt; sessionIface = \n            (Class&lt;? extends NetSession&gt;) ifaces.stream()\n                .filter(i -&gt; i.isSubtypeOf(NetSession.class))\n                .map(i -&gt; i.getRawType())\n                .findAny().orElse(null);\n        assert sessionIface != null;\n        \n        session.connect();\n        if (sessionIface == NetSession.class) {\n            return session; // as is\n        }\n        // make extra\n        HttpSession httpSession = (HttpSession) session;\n        httpSession.useRestApi();\n    }\n}\n</code></pre>\n<p>Is there more elegant way to find class of interface by its super?\nI mean something like:</p>\n<pre><code>Class&lt;? extends NetSession&gt; sessionIface = sessionTT.getInterfaceExtending(NetSession.class);\nassert sessionIface == HttpSession.class; // is ok in case above\n</code></pre>\n<p>With Guava or else make no difference.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1634998388,"post_id":69686691,"comment_id":123180208,"body_markdown":"Can you share the code for AccountRequestStatusServiceImpl?","body":"Can you share the code for AccountRequestStatusServiceImpl?"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1634998866,"post_id":69686691,"comment_id":123180321,"body_markdown":"@Pedro question updated.","body":"@Pedro question updated."},{"owner":{"account_id":355874,"reputation":3993,"user_id":695054,"accept_rate":80,"display_name":"Geoffrey De Vylder"},"score":0,"creation_date":1634999728,"post_id":69686691,"comment_id":123180524,"body_markdown":"Can you try to temporarily remove the readOnly = true from the outer @Transactional to see if that does something?","body":"Can you try to temporarily remove the readOnly = true from the outer @Transactional to see if that does something?"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1634999865,"post_id":69686691,"comment_id":123180568,"body_markdown":"You mean remove from `AccountRequestStatusServiceImpl `?","body":"You mean remove from <code>AccountRequestStatusServiceImpl </code>?"}],"answers":[{"tags":[],"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634999863,"creation_date":1634999863,"answer_id":69689156,"question_id":69686691,"body_markdown":"You are not setting the id field of accountRequestStatus before saving. How is Hibernate supposed to know which entity to update? I&#39;m guessing it is just generating a new id since you don&#39;t provide one. You need to somehow get the id of the already created accountRequestStatus and set it before updating. Or alternatively get the persisted accountRequestStatus entity and modify it.\r\n\r\nThat being said, I think you may be overcomplicating things here. Why does AccountRequestStatus need to be an entity? It does not seem to have an identity itself, it seems more like an attribute of AccountRequest. Can&#39;t you just add an AccountRequestStatusEnum field in AccountRequest, being after all a one-to-one relationship? If you are enclosing the status in a class because you foresee it may have more fields in the future, consider making it @Embeddable instead of an @Entity.\r\n\r\nThe general rule to know if a class must be an @Entity is that it must have an identity. The status of a request does not look like a good candidate, since its identity can simply be that of the request. Having the status be an @Entity means you now have an artificial id, which, surprise, is the root cause of your problem right now. If you want to better understand this topic, I recommend reading into the difference between @Entity and @Embeddable, and if you are feeling theoretical, read a bit about DDD(domain driven design).","title":"Problem in updating the entity with unidirectional @ManyToOne relation in SpringBoot application","body":"<p>You are not setting the id field of accountRequestStatus before saving. How is Hibernate supposed to know which entity to update? I'm guessing it is just generating a new id since you don't provide one. You need to somehow get the id of the already created accountRequestStatus and set it before updating. Or alternatively get the persisted accountRequestStatus entity and modify it.</p>\n<p>That being said, I think you may be overcomplicating things here. Why does AccountRequestStatus need to be an entity? It does not seem to have an identity itself, it seems more like an attribute of AccountRequest. Can't you just add an AccountRequestStatusEnum field in AccountRequest, being after all a one-to-one relationship? If you are enclosing the status in a class because you foresee it may have more fields in the future, consider making it @Embeddable instead of an @Entity.</p>\n<p>The general rule to know if a class must be an @Entity is that it must have an identity. The status of a request does not look like a good candidate, since its identity can simply be that of the request. Having the status be an @Entity means you now have an artificial id, which, surprise, is the root cause of your problem right now. If you want to better understand this topic, I recommend reading into the difference between @Entity and @Embeddable, and if you are feeling theoretical, read a bit about DDD(domain driven design).</p>\n"}],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1634999863,"creation_date":1634980365,"question_id":69686691,"body_markdown":"I have two entities as below and the main problem is when I want to update the `AccountRequestStatus` entity. I save the integer enum code of `AccountRequestStatusEnum` in the database to persist the AcountRequest status in the whole application.\r\n\r\n**AccountRequestStatusEnum** \r\n\r\n``` java\r\npublic enum AccountRequestStatusEnum {\r\n\r\n    INITIAL(0),\r\n    SUCCESS(1);\r\n\r\n    private final Integer type;\r\n\r\n    AccountRequestStatusEnum(Integer type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public Integer getType() {\r\n        return type;\r\n    }\r\n\r\n    public static AccountRequestStatusEnum of(Integer type) {\r\n        for (AccountRequestStatusEnum accountRequestStatusEnum : AccountRequestStatusEnum.values()) {\r\n            if (type.equals(accountRequestStatusEnum.getType()))\r\n                return accountRequestStatusEnum;\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**AccountRequest**  \r\n\r\n``` java\r\n@Entity\r\n@Table(name = &quot;T_ACCOUNT_REQUEST&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;ACCOUNT_NO&quot;, &quot;MESSAGE_ID&quot;})})\r\n@SequenceGenerator(\r\n        name = &quot;SEQ_T_ACCOUNT_REQUEST&quot;,\r\n        sequenceName = &quot;SEQ_T_ACCOUNT_REQUEST&quot;,\r\n        allocationSize = 1)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = false)\r\n@ToString\r\npublic class AccountRequest extends AbstractAuditingEntity {\r\n\r\n    private Long id;\r\n    private String messageId;\r\n    private String issuer;\r\n    private EventType type;\r\n    private EventName name;\r\n    private String accountNo;\r\n    private LocalDateTime dateTime;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_T_ACCOUNT_REQUEST&quot;)\r\n    @Column(name = &quot;ID&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Column(name = &quot;MESSAGE_ID&quot;)\r\n    public String getMessageId() {\r\n        return messageId;\r\n    }\r\n\r\n    public void setMessageId(String messageId) {\r\n        this.messageId = messageId;\r\n    }\r\n\r\n    @Column(name = &quot;ISSUER&quot;)\r\n    public String getIssuer() {\r\n        return issuer;\r\n    }\r\n\r\n    public void setIssuer(String issuer) {\r\n        this.issuer = issuer;\r\n    }\r\n\r\n    @Transient\r\n    public EventType getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(EventType type) {\r\n        this.type = type;\r\n    }\r\n\r\n    @Column(name = &quot;TYPE&quot;)\r\n    public Integer getEventTypeCode() {\r\n        if (Objects.nonNull(type)) {\r\n            return type.getType();\r\n        } else return null;\r\n    }\r\n\r\n    public void setEventTypeCode(Integer typeCode) {\r\n        type = EventType.of(typeCode);\r\n    }\r\n\r\n    @Transient\r\n    public EventName getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(EventName name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    public Integer getEventNameCode() {\r\n        if (Objects.nonNull(name)) {\r\n            return name.getType();\r\n        } else return null;\r\n    }\r\n\r\n    public void setEventNameCode(Integer type) {\r\n        name = EventName.of(type);\r\n    }\r\n\r\n    @Column(name = &quot;ACCOUNT_NO&quot;)\r\n    public String getAccountNo() {\r\n        return accountNo;\r\n    }\r\n\r\n    public void setAccountNo(String accountNo) {\r\n        this.accountNo = accountNo;\r\n    }\r\n\r\n    @Column(name = &quot;DATE_TIME&quot;)\r\n    public LocalDateTime getDateTime() {\r\n        return dateTime;\r\n    }\r\n\r\n    public void setDateTime(LocalDateTime dateTime) {\r\n        this.dateTime = dateTime;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**AccountRequestStatus**  \r\n\r\n``` java\r\n\r\n@Entity\r\n@Table(name = &quot;T_ACCOUNT_REQUEST_STATUS&quot;)\r\n@SequenceGenerator(\r\n        name = &quot;SEQ_T_ACCOUNT_REQUEST_STATUS&quot;,\r\n        sequenceName = &quot;SEQ_T_ACCOUNT_REQUEST_STATUS&quot;,\r\n        allocationSize = 1\r\n)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\npublic class AccountRequestStatus extends AbstractAuditingEntity {\r\n\r\n    private Long id;\r\n    private AccountRequestStatusEnum accountRequestStatusEnum;\r\n    private AccountRequest accountRequest;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_T_ACCOUNT_REQUEST_STATUS&quot;)\r\n    @Column(name = &quot;ID&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Transient\r\n    public AccountRequestStatusEnum getAccountRequestStatusEnum() {\r\n        return accountRequestStatusEnum;\r\n    }\r\n\r\n    public void setAccountRequestStatusEnum(AccountRequestStatusEnum accountRequestStatusEnum) {\r\n        this.accountRequestStatusEnum = accountRequestStatusEnum;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;ACCOUNT_REQUEST_STATUS&quot;)\r\n    public Integer getAccountRequestStatusCode() {\r\n        if (Objects.nonNull(accountRequestStatusEnum)) {\r\n            return accountRequestStatusEnum.getType();\r\n        } else return null;\r\n    }\r\n\r\n    public void setAccountRequestStatusCode(Integer type) {\r\n        accountRequestStatusEnum = AccountRequestStatusEnum.of(type);\r\n    }\r\n\r\n    @ManyToOne(targetEntity = AccountRequest.class)\r\n    @JoinColumn(name = &quot;ACCOUNT_REQUEST&quot;, referencedColumnName = &quot;ID&quot;)\r\n    public AccountRequest getAccountRequest() {\r\n        return accountRequest;\r\n    }\r\n\r\n    public void setAccountRequest(AccountRequest accountRequest) {\r\n        this.accountRequest = accountRequest;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe first time that an account request comes from MQ my to application, I save the `initial` code of `AccountRequestStatusEnum` in service like below. This status persists properly and there is no problem, but when I want to update the `AccountRequestStatus` and add a new `success` code of `AccountRequestStatusEnum` **(in another service)** it won&#39;t be saved in DB.\r\n\r\nThis is the first service that is called after receiving the account request and saving the `initial` code.\r\n\r\n``` java\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class AccountRequestServiceImpl implements IAccountRequestService {\r\n\r\n    @Value(&quot;${mq.event_argument_key}&quot;)\r\n    private String eventArgumentKey;\r\n\r\n    private final AccountRequestRepository accountRequestRepository;\r\n    private final AccountRequestStatusServiceImpl mqRequestStatusService;\r\n    private final EventToAccountRequestEntityMapper eventMapper;\r\n    private final AccountRequestMapper accountRequestMapper;\r\n\r\n    @Autowired\r\n    public AccountRequestServiceImpl(AccountRequestRepository accountRequestRepository,\r\n                                     AccountRequestStatusServiceImpl mqRequestStatusService,\r\n                                     EventToAccountRequestEntityMapper eventMapper,\r\n                                     AccountRequestMapper accountRequestMapper) {\r\n        this.accountRequestRepository = accountRequestRepository;\r\n        this.mqRequestStatusService = mqRequestStatusService;\r\n        this.eventMapper = eventMapper;\r\n        this.accountRequestMapper = accountRequestMapper;\r\n    }\r\n\r\n    @Override\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)// to prevent rollback for whole receive method in mq service\r\n    public void saveAccountRequest(Event event) {\r\n        AccountRequest accountRequest = eventMapper.eventToAccountRequest(event, eventArgumentKey);\r\n        accountRequestRepository.save(accountRequest);\r\n        AccountRequestDto accountRequestDto = accountRequestMapper.toDto(accountRequest);\r\n        saveAccountRequestStatus(accountRequestDto, AccountRequestStatusEnum.INITIAL);\r\n    }\r\n\r\n    private void saveAccountRequestStatus(AccountRequestDto accountRequestDto, AccountRequestStatusEnum status) {\r\n        AccountRequestStatusDto accountRequestStatusDto = new AccountRequestStatusDto();\r\n        accountRequestStatusDto.setAccountRequestStatusEnum(status);\r\n        accountRequestStatusDto.setAccountRequestDto(accountRequestDto);\r\n        mqRequestStatusService.saveAccountRequestStatus(accountRequestStatusDto);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is the second service that should save the `success` code of `AccountRequestStatus`.\r\n\r\n``` java\r\n\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class SyncLegacyAccountServiceImpl implements ISyncLegacyAccountService {\r\n\r\n    @Value(&quot;${mq.event_argument_key}&quot;)\r\n    private String eventArgumentKey;\r\n    @Value(&quot;${range.account_title_code}&quot;)\r\n    private String accountTitleCode;\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(SyncLegacyAccountServiceImpl.class);\r\n\r\n    private final AccountMapRepository accountMapRepository;\r\n    private final AccountRequestRepository accountRequestRepository;\r\n    private final CustomerRepository customerRepository;\r\n    private final CustomerPersonRepository customerPersonRepository;\r\n    private final CustomerCompanyRepository customerCompanyRepository;\r\n    private final IMQService iMQService;\r\n    private final AccountRequestStatusServiceImpl accountRequestStatusServiceImpl;\r\n    private final GalaxyApi galaxyApi;\r\n    private final RangeApi rangeApi;\r\n    private final CustomerMapper customerMapper;\r\n    private final InquiryMapper inquiryMapper;\r\n    private final AccountRequestMapper accountRequestMapper;\r\n    private final EventToAccountRequestEntityMapper eventToAccountRequestMapper;\r\n\r\n    @Override\r\n    public void handleSyncRequest(Event event) {\r\n        saveSuccessfulAccountStatus(event); // ****** This is the main issue******\r\n        try {\r\n            CustomerAccountResponseDto galaxyData = getGalaxyData(event);\r\n            Optional&lt;AccountMapEntity&gt; optAccountMapEntity = accountMapRepository.findByNewAccountNo(event.getArgument().get(eventArgumentKey).toString());\r\n            if (!optAccountMapEntity.isPresent()) {\r\n                //openAccount(event);\r\n            } else {\r\n                AccountMapEntity accountMapEntity = optAccountMapEntity.get();\r\n                CustomerAccountResponseDto customerData = getCustomerData(accountMapEntity);\r\n                // save in legacy\r\n\r\n            }\r\n        } catch (Exception exception) {\r\n            handleEventRequestException(exception, event); \r\n        }\r\n    }\r\n\r\n    private void handleEventRequestException(Exception exception, Event event) {\r\n        if (exception instanceof RangeServiceException) {\r\n            log.error(&quot;Something went wrong with the Range service!&quot;);\r\n            throw new RangeServiceException();\r\n        } else if (exception instanceof GalaxySystemException) {\r\n            log.error(&quot;Something went wrong with the Galaxy service!&quot;);\r\n            NotifyAccountChangeResponse notifyAccountChangeResponse = MQUtil.buildAccountChangeResponse(new GalaxySystemException(), null, event.getMessageId());\r\n            iMQService.send(notifyAccountChangeResponse);\r\n            throw new GalaxySystemException();\r\n        }\r\n    }\r\n\r\n    public void saveSuccessfulAccountStatus(Event event) {\r\n        AccountRequest accountRequest = eventToAccountRequestMapper.eventToAccountRequest(event, eventArgumentKey);\r\n        AccountRequestDto accountRequestDto = accountRequestMapper.toDto(accountRequest);\r\n        saveAccountRequestStatus(accountRequestDto, AccountRequestStatusEnum.SUCCESS);\r\n    }\r\n\r\n    public void saveAccountRequestStatus(AccountRequestDto accountRequestDto, AccountRequestStatusEnum status) {\r\n        AccountRequestStatusDto accountRequestStatusDto = new AccountRequestStatusDto();\r\n        accountRequestStatusDto.setAccountRequestStatusEnum(status);\r\n        accountRequestStatusDto.setAccountRequestDto(accountRequestDto);\r\n        accountRequestStatusServiceImpl.saveAccountRequestStatus(accountRequestStatusDto);\r\n    }\r\n \r\n}\r\n\r\n```\r\n\r\n- UPDATE\r\n\r\n**AccountRequestStatusServiceImpl**\r\n\r\n``` java\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class AccountRequestStatusServiceImpl implements IAccountRequestStatusService {\r\n\r\n    private final AccountRequestStatusRepository accountRequestStatusRepository;\r\n    private final AccountRequestStatusMapper accountRequestStatusMapper;\r\n\r\n    @Autowired\r\n    public AccountRequestStatusServiceImpl(AccountRequestStatusRepository accountRequestStatusRepository,\r\n                                           AccountRequestStatusMapper accountRequestStatusMapper) {\r\n        this.accountRequestStatusRepository = accountRequestStatusRepository;\r\n        this.accountRequestStatusMapper = accountRequestStatusMapper;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void saveAccountRequestStatus(AccountRequestStatusDto accountRequestStatusDto) {\r\n        AccountRequestStatus accountRequestStatus = accountRequestStatusMapper.toAccountRequestStatus(accountRequestStatusDto);\r\n        accountRequestStatusRepository.save(accountRequestStatus);\r\n    }\r\n}\r\n``` \r\n**AccountRequestDto**   \r\n\r\n```java\r\n@Data\r\npublic class AccountRequestDto {\r\n    private Long id;\r\n    private String messageId;\r\n    private String issuer;\r\n    private EventType type;\r\n    private EventName name;\r\n    private String accountNo;\r\n    private LocalDateTime dateTime;\r\n}\r\n```\r\n\r\n**AccountRequestStatusDto** \r\n```java\r\n@Data\r\npublic class AccountRequestStatusDto {\r\n\r\n    private Long id;\r\n    private AccountRequestStatusEnum accountRequestStatusEnum;\r\n    private AccountRequestDto accountRequestDto;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**AccountRequestStatusMapper** \r\n``` java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface AccountRequestStatusMapper extends EntityToDtoMapper&lt;AccountRequestStatusDto, AccountRequestStatus&gt;, DtoToEntityMapper&lt;AccountRequestStatusDto, AccountRequestStatus&gt; {\r\n \r\n\r\n    @Mapping(target = &quot;accountRequest.id&quot;, source = &quot;accountRequestDto.id&quot;)\r\n    @Mapping(target = &quot;accountRequest.messageId&quot;, source = &quot;accountRequestDto.messageId&quot;)\r\n    @Mapping(target = &quot;accountRequest.issuer&quot;, source = &quot;accountRequestDto.issuer&quot;)\r\n    @Mapping(target = &quot;accountRequest.type&quot;, source = &quot;accountRequestDto.type&quot;)\r\n    @Mapping(target = &quot;accountRequest.name&quot;, source = &quot;accountRequestDto.name&quot;)\r\n    @Mapping(target = &quot;accountRequest.accountNo&quot;, source = &quot;accountRequestDto.accountNo&quot;)\r\n    @Mapping(target = &quot;accountRequest.dateTime&quot;, source = &quot;accountRequestDto.dateTime&quot;)\r\n    @Named(value = &quot;toAccountRequestStatus&quot;)\r\n    AccountRequestStatus toAccountRequestStatus(AccountRequestStatusDto accountRequestStatusDto);\r\n\r\n    @Mapping(target = &quot;accountRequestDto.id&quot;, source = &quot;accountRequest.id&quot;)\r\n    @Mapping(target = &quot;accountRequestDto.messageId&quot;, source = &quot;accountRequest.messageId&quot;)\r\n    @Mapping(target = &quot;accountRequestDto.issuer&quot;, source = &quot;accountRequest.issuer&quot;)\r\n    @Mapping(target = &quot;accountRequestDto.type&quot;, source = &quot;accountRequest.type&quot;)\r\n    @Mapping(target = &quot;accountRequestDto.name&quot;, source = &quot;accountRequest.name&quot;)\r\n    @Mapping(target = &quot;accountRequestDto.accountNo&quot;, source = &quot;accountRequest.accountNo&quot;)\r\n    @Mapping(target = &quot;accountRequestDto.dateTime&quot;, source = &quot;accountRequest.dateTime&quot;)\r\n    @Named(value = &quot;toAccountRequestStatusDto&quot;)\r\n    AccountRequestStatusDto toAccountRequestStatusDto(AccountRequestStatus accountRequestStatus);\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Problem in updating the entity with unidirectional @ManyToOne relation in SpringBoot application","body":"<p>I have two entities as below and the main problem is when I want to update the <code>AccountRequestStatus</code> entity. I save the integer enum code of <code>AccountRequestStatusEnum</code> in the database to persist the AcountRequest status in the whole application.</p>\n<p><strong>AccountRequestStatusEnum</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AccountRequestStatusEnum {\n\n    INITIAL(0),\n    SUCCESS(1);\n\n    private final Integer type;\n\n    AccountRequestStatusEnum(Integer type) {\n        this.type = type;\n    }\n\n    public Integer getType() {\n        return type;\n    }\n\n    public static AccountRequestStatusEnum of(Integer type) {\n        for (AccountRequestStatusEnum accountRequestStatusEnum : AccountRequestStatusEnum.values()) {\n            if (type.equals(accountRequestStatusEnum.getType()))\n                return accountRequestStatusEnum;\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p><strong>AccountRequest</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;T_ACCOUNT_REQUEST&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;ACCOUNT_NO&quot;, &quot;MESSAGE_ID&quot;})})\n@SequenceGenerator(\n        name = &quot;SEQ_T_ACCOUNT_REQUEST&quot;,\n        sequenceName = &quot;SEQ_T_ACCOUNT_REQUEST&quot;,\n        allocationSize = 1)\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = false)\n@ToString\npublic class AccountRequest extends AbstractAuditingEntity {\n\n    private Long id;\n    private String messageId;\n    private String issuer;\n    private EventType type;\n    private EventName name;\n    private String accountNo;\n    private LocalDateTime dateTime;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_T_ACCOUNT_REQUEST&quot;)\n    @Column(name = &quot;ID&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Column(name = &quot;MESSAGE_ID&quot;)\n    public String getMessageId() {\n        return messageId;\n    }\n\n    public void setMessageId(String messageId) {\n        this.messageId = messageId;\n    }\n\n    @Column(name = &quot;ISSUER&quot;)\n    public String getIssuer() {\n        return issuer;\n    }\n\n    public void setIssuer(String issuer) {\n        this.issuer = issuer;\n    }\n\n    @Transient\n    public EventType getType() {\n        return type;\n    }\n\n    public void setType(EventType type) {\n        this.type = type;\n    }\n\n    @Column(name = &quot;TYPE&quot;)\n    public Integer getEventTypeCode() {\n        if (Objects.nonNull(type)) {\n            return type.getType();\n        } else return null;\n    }\n\n    public void setEventTypeCode(Integer typeCode) {\n        type = EventType.of(typeCode);\n    }\n\n    @Transient\n    public EventName getName() {\n        return name;\n    }\n\n    public void setName(EventName name) {\n        this.name = name;\n    }\n\n    @Column(name = &quot;NAME&quot;)\n    public Integer getEventNameCode() {\n        if (Objects.nonNull(name)) {\n            return name.getType();\n        } else return null;\n    }\n\n    public void setEventNameCode(Integer type) {\n        name = EventName.of(type);\n    }\n\n    @Column(name = &quot;ACCOUNT_NO&quot;)\n    public String getAccountNo() {\n        return accountNo;\n    }\n\n    public void setAccountNo(String accountNo) {\n        this.accountNo = accountNo;\n    }\n\n    @Column(name = &quot;DATE_TIME&quot;)\n    public LocalDateTime getDateTime() {\n        return dateTime;\n    }\n\n    public void setDateTime(LocalDateTime dateTime) {\n        this.dateTime = dateTime;\n    }\n}\n\n</code></pre>\n<p><strong>AccountRequestStatus</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name = &quot;T_ACCOUNT_REQUEST_STATUS&quot;)\n@SequenceGenerator(\n        name = &quot;SEQ_T_ACCOUNT_REQUEST_STATUS&quot;,\n        sequenceName = &quot;SEQ_T_ACCOUNT_REQUEST_STATUS&quot;,\n        allocationSize = 1\n)\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class AccountRequestStatus extends AbstractAuditingEntity {\n\n    private Long id;\n    private AccountRequestStatusEnum accountRequestStatusEnum;\n    private AccountRequest accountRequest;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_T_ACCOUNT_REQUEST_STATUS&quot;)\n    @Column(name = &quot;ID&quot;, nullable = true, insertable = true, updatable = true, precision = 0)\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Transient\n    public AccountRequestStatusEnum getAccountRequestStatusEnum() {\n        return accountRequestStatusEnum;\n    }\n\n    public void setAccountRequestStatusEnum(AccountRequestStatusEnum accountRequestStatusEnum) {\n        this.accountRequestStatusEnum = accountRequestStatusEnum;\n    }\n\n\n    @Column(name = &quot;ACCOUNT_REQUEST_STATUS&quot;)\n    public Integer getAccountRequestStatusCode() {\n        if (Objects.nonNull(accountRequestStatusEnum)) {\n            return accountRequestStatusEnum.getType();\n        } else return null;\n    }\n\n    public void setAccountRequestStatusCode(Integer type) {\n        accountRequestStatusEnum = AccountRequestStatusEnum.of(type);\n    }\n\n    @ManyToOne(targetEntity = AccountRequest.class)\n    @JoinColumn(name = &quot;ACCOUNT_REQUEST&quot;, referencedColumnName = &quot;ID&quot;)\n    public AccountRequest getAccountRequest() {\n        return accountRequest;\n    }\n\n    public void setAccountRequest(AccountRequest accountRequest) {\n        this.accountRequest = accountRequest;\n    }\n}\n</code></pre>\n<p>The first time that an account request comes from MQ my to application, I save the <code>initial</code> code of <code>AccountRequestStatusEnum</code> in service like below. This status persists properly and there is no problem, but when I want to update the <code>AccountRequestStatus</code> and add a new <code>success</code> code of <code>AccountRequestStatusEnum</code> <strong>(in another service)</strong> it won't be saved in DB.</p>\n<p>This is the first service that is called after receiving the account request and saving the <code>initial</code> code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional(readOnly = true)\npublic class AccountRequestServiceImpl implements IAccountRequestService {\n\n    @Value(&quot;${mq.event_argument_key}&quot;)\n    private String eventArgumentKey;\n\n    private final AccountRequestRepository accountRequestRepository;\n    private final AccountRequestStatusServiceImpl mqRequestStatusService;\n    private final EventToAccountRequestEntityMapper eventMapper;\n    private final AccountRequestMapper accountRequestMapper;\n\n    @Autowired\n    public AccountRequestServiceImpl(AccountRequestRepository accountRequestRepository,\n                                     AccountRequestStatusServiceImpl mqRequestStatusService,\n                                     EventToAccountRequestEntityMapper eventMapper,\n                                     AccountRequestMapper accountRequestMapper) {\n        this.accountRequestRepository = accountRequestRepository;\n        this.mqRequestStatusService = mqRequestStatusService;\n        this.eventMapper = eventMapper;\n        this.accountRequestMapper = accountRequestMapper;\n    }\n\n    @Override\n    @Transactional(propagation = Propagation.REQUIRES_NEW)// to prevent rollback for whole receive method in mq service\n    public void saveAccountRequest(Event event) {\n        AccountRequest accountRequest = eventMapper.eventToAccountRequest(event, eventArgumentKey);\n        accountRequestRepository.save(accountRequest);\n        AccountRequestDto accountRequestDto = accountRequestMapper.toDto(accountRequest);\n        saveAccountRequestStatus(accountRequestDto, AccountRequestStatusEnum.INITIAL);\n    }\n\n    private void saveAccountRequestStatus(AccountRequestDto accountRequestDto, AccountRequestStatusEnum status) {\n        AccountRequestStatusDto accountRequestStatusDto = new AccountRequestStatusDto();\n        accountRequestStatusDto.setAccountRequestStatusEnum(status);\n        accountRequestStatusDto.setAccountRequestDto(accountRequestDto);\n        mqRequestStatusService.saveAccountRequestStatus(accountRequestStatusDto);\n    }\n}\n\n</code></pre>\n<p>This is the second service that should save the <code>success</code> code of <code>AccountRequestStatus</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\n@Transactional(readOnly = true)\npublic class SyncLegacyAccountServiceImpl implements ISyncLegacyAccountService {\n\n    @Value(&quot;${mq.event_argument_key}&quot;)\n    private String eventArgumentKey;\n    @Value(&quot;${range.account_title_code}&quot;)\n    private String accountTitleCode;\n\n    private static final Logger log = LoggerFactory.getLogger(SyncLegacyAccountServiceImpl.class);\n\n    private final AccountMapRepository accountMapRepository;\n    private final AccountRequestRepository accountRequestRepository;\n    private final CustomerRepository customerRepository;\n    private final CustomerPersonRepository customerPersonRepository;\n    private final CustomerCompanyRepository customerCompanyRepository;\n    private final IMQService iMQService;\n    private final AccountRequestStatusServiceImpl accountRequestStatusServiceImpl;\n    private final GalaxyApi galaxyApi;\n    private final RangeApi rangeApi;\n    private final CustomerMapper customerMapper;\n    private final InquiryMapper inquiryMapper;\n    private final AccountRequestMapper accountRequestMapper;\n    private final EventToAccountRequestEntityMapper eventToAccountRequestMapper;\n\n    @Override\n    public void handleSyncRequest(Event event) {\n        saveSuccessfulAccountStatus(event); // ****** This is the main issue******\n        try {\n            CustomerAccountResponseDto galaxyData = getGalaxyData(event);\n            Optional&lt;AccountMapEntity&gt; optAccountMapEntity = accountMapRepository.findByNewAccountNo(event.getArgument().get(eventArgumentKey).toString());\n            if (!optAccountMapEntity.isPresent()) {\n                //openAccount(event);\n            } else {\n                AccountMapEntity accountMapEntity = optAccountMapEntity.get();\n                CustomerAccountResponseDto customerData = getCustomerData(accountMapEntity);\n                // save in legacy\n\n            }\n        } catch (Exception exception) {\n            handleEventRequestException(exception, event); \n        }\n    }\n\n    private void handleEventRequestException(Exception exception, Event event) {\n        if (exception instanceof RangeServiceException) {\n            log.error(&quot;Something went wrong with the Range service!&quot;);\n            throw new RangeServiceException();\n        } else if (exception instanceof GalaxySystemException) {\n            log.error(&quot;Something went wrong with the Galaxy service!&quot;);\n            NotifyAccountChangeResponse notifyAccountChangeResponse = MQUtil.buildAccountChangeResponse(new GalaxySystemException(), null, event.getMessageId());\n            iMQService.send(notifyAccountChangeResponse);\n            throw new GalaxySystemException();\n        }\n    }\n\n    public void saveSuccessfulAccountStatus(Event event) {\n        AccountRequest accountRequest = eventToAccountRequestMapper.eventToAccountRequest(event, eventArgumentKey);\n        AccountRequestDto accountRequestDto = accountRequestMapper.toDto(accountRequest);\n        saveAccountRequestStatus(accountRequestDto, AccountRequestStatusEnum.SUCCESS);\n    }\n\n    public void saveAccountRequestStatus(AccountRequestDto accountRequestDto, AccountRequestStatusEnum status) {\n        AccountRequestStatusDto accountRequestStatusDto = new AccountRequestStatusDto();\n        accountRequestStatusDto.setAccountRequestStatusEnum(status);\n        accountRequestStatusDto.setAccountRequestDto(accountRequestDto);\n        accountRequestStatusServiceImpl.saveAccountRequestStatus(accountRequestStatusDto);\n    }\n \n}\n\n</code></pre>\n<ul>\n<li>UPDATE</li>\n</ul>\n<p><strong>AccountRequestStatusServiceImpl</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional(readOnly = true)\npublic class AccountRequestStatusServiceImpl implements IAccountRequestStatusService {\n\n    private final AccountRequestStatusRepository accountRequestStatusRepository;\n    private final AccountRequestStatusMapper accountRequestStatusMapper;\n\n    @Autowired\n    public AccountRequestStatusServiceImpl(AccountRequestStatusRepository accountRequestStatusRepository,\n                                           AccountRequestStatusMapper accountRequestStatusMapper) {\n        this.accountRequestStatusRepository = accountRequestStatusRepository;\n        this.accountRequestStatusMapper = accountRequestStatusMapper;\n    }\n\n    @Override\n    @Transactional\n    public void saveAccountRequestStatus(AccountRequestStatusDto accountRequestStatusDto) {\n        AccountRequestStatus accountRequestStatus = accountRequestStatusMapper.toAccountRequestStatus(accountRequestStatusDto);\n        accountRequestStatusRepository.save(accountRequestStatus);\n    }\n}\n</code></pre>\n<p><strong>AccountRequestDto</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class AccountRequestDto {\n    private Long id;\n    private String messageId;\n    private String issuer;\n    private EventType type;\n    private EventName name;\n    private String accountNo;\n    private LocalDateTime dateTime;\n}\n</code></pre>\n<p><strong>AccountRequestStatusDto</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class AccountRequestStatusDto {\n\n    private Long id;\n    private AccountRequestStatusEnum accountRequestStatusEnum;\n    private AccountRequestDto accountRequestDto;\n\n}\n\n</code></pre>\n<p><strong>AccountRequestStatusMapper</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AccountRequestStatusMapper extends EntityToDtoMapper&lt;AccountRequestStatusDto, AccountRequestStatus&gt;, DtoToEntityMapper&lt;AccountRequestStatusDto, AccountRequestStatus&gt; {\n \n\n    @Mapping(target = &quot;accountRequest.id&quot;, source = &quot;accountRequestDto.id&quot;)\n    @Mapping(target = &quot;accountRequest.messageId&quot;, source = &quot;accountRequestDto.messageId&quot;)\n    @Mapping(target = &quot;accountRequest.issuer&quot;, source = &quot;accountRequestDto.issuer&quot;)\n    @Mapping(target = &quot;accountRequest.type&quot;, source = &quot;accountRequestDto.type&quot;)\n    @Mapping(target = &quot;accountRequest.name&quot;, source = &quot;accountRequestDto.name&quot;)\n    @Mapping(target = &quot;accountRequest.accountNo&quot;, source = &quot;accountRequestDto.accountNo&quot;)\n    @Mapping(target = &quot;accountRequest.dateTime&quot;, source = &quot;accountRequestDto.dateTime&quot;)\n    @Named(value = &quot;toAccountRequestStatus&quot;)\n    AccountRequestStatus toAccountRequestStatus(AccountRequestStatusDto accountRequestStatusDto);\n\n    @Mapping(target = &quot;accountRequestDto.id&quot;, source = &quot;accountRequest.id&quot;)\n    @Mapping(target = &quot;accountRequestDto.messageId&quot;, source = &quot;accountRequest.messageId&quot;)\n    @Mapping(target = &quot;accountRequestDto.issuer&quot;, source = &quot;accountRequest.issuer&quot;)\n    @Mapping(target = &quot;accountRequestDto.type&quot;, source = &quot;accountRequest.type&quot;)\n    @Mapping(target = &quot;accountRequestDto.name&quot;, source = &quot;accountRequest.name&quot;)\n    @Mapping(target = &quot;accountRequestDto.accountNo&quot;, source = &quot;accountRequest.accountNo&quot;)\n    @Mapping(target = &quot;accountRequestDto.dateTime&quot;, source = &quot;accountRequest.dateTime&quot;)\n    @Named(value = &quot;toAccountRequestStatusDto&quot;)\n    AccountRequestStatusDto toAccountRequestStatusDto(AccountRequestStatus accountRequestStatus);\n\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634935090,"post_id":69682624,"comment_id":123170106,"body_markdown":"Similar question, but I don&#39;t think it quite explains this case https://stackoverflow.com/questions/15722184/method-in-is-defined-in-inaccessible-class-or-interface-compilation/15810050","body":"Similar question, but I don&#39;t think it quite explains this case <a href=\"https://stackoverflow.com/questions/15722184/method-in-is-defined-in-inaccessible-class-or-interface-compilation/15810050\" title=\"method in is defined in inaccessible class or interface compilation\">stackoverflow.com/questions/15722184/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":6,"creation_date":1634935266,"post_id":69682624,"comment_id":123170157,"body_markdown":"This has been raised as a bug https://bugs.openjdk.java.net/browse/JDK-8178701 but has not had feedback from the Java maintainers, as far as I can see. So whether it&#39;s considered a valid bug is unclear.","body":"This has been raised as a bug <a href=\"https://bugs.openjdk.java.net/browse/JDK-8178701\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8178701</a> but has not had feedback from the Java maintainers, as far as I can see. So whether it&#39;s considered a valid bug is unclear."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1634949429,"post_id":69682624,"comment_id":123172667,"body_markdown":"@tgdavies Perhaps you should post your comment as an Answer, to be accepted.","body":"@tgdavies Perhaps you should post your comment as an Answer, to be accepted."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634967171,"creation_date":1634967171,"answer_id":69685417,"question_id":69682624,"body_markdown":"\r\nThis has been raised as a bug bugs.openjdk.java.net/browse/JDK-8178701 but has not had feedback from the Java maintainers, as far as I can see. So whether it&#39;s considered a valid bug is unclear.\r\n","title":"SomeEnum.values() is defined in an inaccessible class or interface when doing switch over enum","body":"<p>This has been raised as a bug bugs.openjdk.java.net/browse/JDK-8178701 but has not had feedback from the Java maintainers, as far as I can see. So whether it's considered a valid bug is unclear.</p>\n"},{"tags":[],"owner":{"account_id":20292521,"reputation":211,"user_id":14883879,"display_name":"basti394"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634999522,"creation_date":1634999522,"answer_id":69689107,"question_id":69682624,"body_markdown":"**Possible Solvings:**\r\n\r\nThe first solution I found, was that A has to extend from Base, not InnerA. So yout can acces the protected BaseEnum in yout inner class InnerA.\r\n\r\nThe second solution is simply to make the BaseEnum public.\r\n\r\n**Why is this so?**\r\n\r\nThe switch statement is the problem, as you presumed in your question. But I have neither a clue nor found something why this is a problem for the switch statement to switch through an protected enum in this constellation.\r\n\r\n","title":"SomeEnum.values() is defined in an inaccessible class or interface when doing switch over enum","body":"<p><strong>Possible Solvings:</strong></p>\n<p>The first solution I found, was that A has to extend from Base, not InnerA. So yout can acces the protected BaseEnum in yout inner class InnerA.</p>\n<p>The second solution is simply to make the BaseEnum public.</p>\n<p><strong>Why is this so?</strong></p>\n<p>The switch statement is the problem, as you presumed in your question. But I have neither a clue nor found something why this is a problem for the switch statement to switch through an protected enum in this constellation.</p>\n"}],"owner":{"account_id":4464206,"reputation":363,"user_id":4138353,"display_name":"Kirill Gagarski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":69685417,"answer_count":2,"score":7,"last_activity_date":1634999522,"creation_date":1634933716,"question_id":69682624,"body_markdown":"Let&#39;s consider the base class:\r\n```java\r\npackage base;\r\n\r\npublic abstract class Base {\r\n    protected enum BaseEnum {\r\n        FIRST, SECOND, THIRD\r\n    }\r\n}\r\n```\r\n\r\nAnd its subclass:\r\n\r\n```java\r\npackage a;\r\n\r\nimport base.Base;\r\n\r\npublic class A {\r\n    // The error message appears in case when NestedA is a nested or inner class\r\n    protected /* static */ class InnerA extends Base {\r\n        protected BaseEnum getEnumA() {\r\n            return BaseEnum.FIRST;\r\n        }\r\n\r\n        protected int xxx() {\r\n            BaseEnum enumA = getEnumA();\r\n            switch (enumA) {\r\n            // ^^ base.NestedBase.BaseEnum.values() is defined in an inaccessible class or interface\r\n                case FIRST:\r\n                case SECOND:\r\n                    return 1;\r\n                default:\r\n                    return 2;\r\n            }\r\n        }\r\n\r\n        protected int xxx2() {\r\n            BaseEnum enumA = getEnumA();\r\n            if (enumA == BaseEnum.FIRST || enumA == BaseEnum.SECOND) {\r\n                return 1;\r\n            } else {\r\n                return 2;\r\n            }\r\n        }\r\n\r\n        protected int xxx3() {\r\n            System.out.println(BaseEnum.values());\r\n            return 2;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I am trying to compile it, a compilation error appears on line with switch statement in `xxx()` saying:\r\n\r\n`java: base.Base.BaseEnum.values() is defined in an inaccessible class or interface`\r\n\r\n\r\nBriefly the question is what exactly going on here? Why `values()` is even called here? If it is really called, why is it inaccessible? As you can see, I can properly access `BaseEnum` and its members from this class (see `xxx2()`) and even the `values()` method (which is public method of protected nested enum inside `InnerA` superclass, see `xxx3()`). Is access calculated as if this switch would be inside `A` class? If so, why?\r\n\r\n","title":"SomeEnum.values() is defined in an inaccessible class or interface when doing switch over enum","body":"<p>Let's consider the base class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package base;\n\npublic abstract class Base {\n    protected enum BaseEnum {\n        FIRST, SECOND, THIRD\n    }\n}\n</code></pre>\n<p>And its subclass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package a;\n\nimport base.Base;\n\npublic class A {\n    // The error message appears in case when NestedA is a nested or inner class\n    protected /* static */ class InnerA extends Base {\n        protected BaseEnum getEnumA() {\n            return BaseEnum.FIRST;\n        }\n\n        protected int xxx() {\n            BaseEnum enumA = getEnumA();\n            switch (enumA) {\n            // ^^ base.NestedBase.BaseEnum.values() is defined in an inaccessible class or interface\n                case FIRST:\n                case SECOND:\n                    return 1;\n                default:\n                    return 2;\n            }\n        }\n\n        protected int xxx2() {\n            BaseEnum enumA = getEnumA();\n            if (enumA == BaseEnum.FIRST || enumA == BaseEnum.SECOND) {\n                return 1;\n            } else {\n                return 2;\n            }\n        }\n\n        protected int xxx3() {\n            System.out.println(BaseEnum.values());\n            return 2;\n        }\n    }\n}\n</code></pre>\n<p>When I am trying to compile it, a compilation error appears on line with switch statement in <code>xxx()</code> saying:</p>\n<p><code>java: base.Base.BaseEnum.values() is defined in an inaccessible class or interface</code></p>\n<p>Briefly the question is what exactly going on here? Why <code>values()</code> is even called here? If it is really called, why is it inaccessible? As you can see, I can properly access <code>BaseEnum</code> and its members from this class (see <code>xxx2()</code>) and even the <code>values()</code> method (which is public method of protected nested enum inside <code>InnerA</code> superclass, see <code>xxx3()</code>). Is access calculated as if this switch would be inside <code>A</code> class? If so, why?</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1134620,"reputation":2808,"user_id":1119940,"accept_rate":96,"display_name":"ageoff"},"score":0,"creation_date":1370267439,"post_id":16898305,"comment_id":24384938,"body_markdown":"Deprecated. As of JDK version 1.1, replaced by DateFormat.parse(String s).","body":"Deprecated. As of JDK version 1.1, replaced by DateFormat.parse(String s)."},{"owner":{"account_id":1186311,"reputation":2082,"user_id":1160207,"accept_rate":72,"display_name":"Never Quit"},"score":0,"creation_date":1370267568,"post_id":16898305,"comment_id":24385006,"body_markdown":"@Johnathon Ender , Check http://stackoverflow.com/a/9886992/1160207 and reference http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html","body":"@Johnathon Ender , Check <a href=\"http://stackoverflow.com/a/9886992/1160207\">stackoverflow.com/a/9886992/1160207</a> and reference <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/text/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2769644,"reputation":882,"user_id":2384497,"accept_rate":53,"display_name":"A-SM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370267706,"creation_date":1370267706,"answer_id":16898463,"question_id":16898305,"body_markdown":"You mean like this one:\r\n\r\n    import java.util.Date;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    public class DateFormat{\r\n      public static void main(String[] args){\r\n\r\n        Date date=new Date();\r\n        SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n        String yourDate=sdf.format(date);\r\n        System.out.println(yourDate);\r\n\r\n      }\r\n    }","title":"Converting Date time format in Java","body":"<p>You mean like this one:</p>\n\n<pre><code>import java.util.Date;\nimport java.text.SimpleDateFormat;\n\npublic class DateFormat{\n  public static void main(String[] args){\n\n    Date date=new Date();\n    SimpleDateFormat sdf=new SimpleDateFormat(\"yyyy-MM-dd\");\n\n    String yourDate=sdf.format(date);\n    System.out.println(yourDate);\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573492,"reputation":2240,"user_id":1460626,"accept_rate":67,"display_name":"Djon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1370267710,"creation_date":1370267710,"answer_id":16898464,"question_id":16898305,"body_markdown":"You can use:\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-ddTHH:mm:ssZ&quot;);\r\n    Date date = format.parse(myString);\r\n\r\nBe sure to check the locale if it&#39;s appropriate, and to check that the fields are the same (as I don&#39;t know what you intended to parse, I just copied them).\r\n\r\n(For example &quot;T&quot; does not exist.)","title":"Converting Date time format in Java","body":"<p>You can use:</p>\n\n<pre><code>DateFormat format = new SimpleDateFormat(\"yyyy-MM-ddTHH:mm:ssZ\");\nDate date = format.parse(myString);\n</code></pre>\n\n<p>Be sure to check the locale if it's appropriate, and to check that the fields are the same (as I don't know what you intended to parse, I just copied them).</p>\n\n<p>(For example \"T\" does not exist.)</p>\n"},{"tags":[],"owner":{"account_id":2297199,"reputation":1214,"user_id":2018361,"display_name":"Bob Flannigon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370267722,"creation_date":1370267722,"answer_id":16898469,"question_id":16898305,"body_markdown":"\r\n      Date d = new Date();\r\n      (java.text) SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n      sdf.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n      String formatted = sdf.format(d);","title":"Converting Date time format in Java","body":"<pre><code>  Date d = new Date();\n  (java.text) SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n  sdf.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n  String formatted = sdf.format(d);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461987839,"creation_date":1461987839,"answer_id":36950454,"question_id":16898305,"body_markdown":"The other answers are outdated, using old legacy classes.\r\n\r\n# java.time\r\n\r\nThe java.time framework built into Java 8 and later supplants the troublesome old date-time classes.\r\n\r\n# ISO 8601\r\n\r\nYour input string happens to be in standard ISO 8601 format. \r\n\r\nThe java.time classes use [ISO 8601][1] formats by default when parsing/generating String representations of date-time values. So no need to specify a formatting pattern. \r\n\r\nAn `Instant` represents a moment on the timeline in [UTC][2] with a resolution of [nanoseconds][3].\r\n\r\n    Instant instant = Instant.parse( &quot;2016-04-29T22:04:07Z&quot; );\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: https://en.wikipedia.org/wiki/Nanosecond","title":"Converting Date time format in Java","body":"<p>The other answers are outdated, using old legacy classes.</p>\n\n<h1>java.time</h1>\n\n<p>The java.time framework built into Java 8 and later supplants the troublesome old date-time classes.</p>\n\n<h1>ISO 8601</h1>\n\n<p>Your input string happens to be in standard ISO 8601 format. </p>\n\n<p>The java.time classes use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> formats by default when parsing/generating String representations of date-time values. So no need to specify a formatting pattern. </p>\n\n<p>An <code>Instant</code> represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow\">nanoseconds</a>.</p>\n\n<pre><code>Instant instant = Instant.parse( \"2016-04-29T22:04:07Z\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121327,"reputation":1,"user_id":17227817,"display_name":"virendra Kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634999179,"creation_date":1634995186,"answer_id":69688532,"question_id":16898305,"body_markdown":"```\r\npackage com.pnac;\r\n\r\nimport org.joda.time.DateTime;\r\n\r\npublic class TestDateTime {\r\n\tpublic static void main(String[] args) {\r\n\t\tDateTime dateTime = new DateTime();\r\n\r\n\t\tSystem.out.println(&quot;@@@@@@@@@@ &quot; + dateTime.minusHours(10).toString(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n\t}\r\n}\r\n```","title":"Converting Date time format in Java","body":"<pre><code>package com.pnac;\n\nimport org.joda.time.DateTime;\n\npublic class TestDateTime {\n    public static void main(String[] args) {\n        DateTime dateTime = new DateTime();\n\n        System.out.println(&quot;@@@@@@@@@@ &quot; + dateTime.minusHours(10).toString(&quot;yyyy-MM-dd HH:mm:ss&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1944634,"reputation":2303,"user_id":1750067,"accept_rate":69,"display_name":"JME"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33386,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":16898464,"answer_count":5,"score":-2,"last_activity_date":1634999179,"creation_date":1370267264,"question_id":16898305,"body_markdown":"I have a line of C# code that I am trying to replicate in Java. The code looks as follows. \r\n\r\n    n.InnerText = DateTime.Parse(n.InnerText).ToUniversalTime().ToString(&quot;yyyy-MM-ddTHH:mm:ssZ&quot;);\r\n\r\nThe intent is to replace the DateTime already in the xml context with one representing universal time. \r\n\r\nI have attempted to use \r\n\r\n    node.setTextContent = Date.parse(node.getTextContent())\r\n\r\nbut I am unable to continue due to the Date.parse() being deprecated. I read through the note in Eclipse and tried DateFormat as suggested but DateFormat does not have a parse method. \r\n\r\nCan someone suggest a solution to my problem that does not use any third party libraries?\r\n\r\n","title":"Converting Date time format in Java","body":"<p>I have a line of C# code that I am trying to replicate in Java. The code looks as follows. </p>\n\n<pre><code>n.InnerText = DateTime.Parse(n.InnerText).ToUniversalTime().ToString(\"yyyy-MM-ddTHH:mm:ssZ\");\n</code></pre>\n\n<p>The intent is to replace the DateTime already in the xml context with one representing universal time. </p>\n\n<p>I have attempted to use </p>\n\n<pre><code>node.setTextContent = Date.parse(node.getTextContent())\n</code></pre>\n\n<p>but I am unable to continue due to the Date.parse() being deprecated. I read through the note in Eclipse and tried DateFormat as suggested but DateFormat does not have a parse method. </p>\n\n<p>Can someone suggest a solution to my problem that does not use any third party libraries?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1627651748,"creation_date":1483325213,"answer_id":41420835,"question_id":41420512,"body_markdown":"Amazon Lambda will not download your dependencies for you. It expects your deployment file to contain all dependencies necessary to run your Lambda function. You will need to switch to using the zip deployment method that allows you to include multiple jar files (your Lambda function jar and all dependency jars). Follow the instructions [here][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-package.html","title":"AWS Lambda JAVA: usage of external libraries","body":"<p>Amazon Lambda will not download your dependencies for you. It expects your deployment file to contain all dependencies necessary to run your Lambda function. You will need to switch to using the zip deployment method that allows you to include multiple jar files (your Lambda function jar and all dependency jars). Follow the instructions <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-package.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1879420,"reputation":5451,"user_id":1699956,"accept_rate":83,"display_name":"Mangat Rai Modi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1483332002,"creation_date":1483332002,"answer_id":41421428,"question_id":41420512,"body_markdown":"Another option is to create a fat jar file. That is a jar which already contains all your dependency. Such file will be larger to deploy but easier to manage. I would recommend you to use some build tool like [Maven][1] to build a fat jar.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven","title":"AWS Lambda JAVA: usage of external libraries","body":"<p>Another option is to create a fat jar file. That is a jar which already contains all your dependency. Such file will be larger to deploy but easier to manage. I would recommend you to use some build tool like <a href=\"https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven\">Maven</a> to build a fat jar.</p>\n"},{"tags":[],"owner":{"account_id":10066751,"reputation":1,"user_id":7441722,"display_name":"Curious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516811219,"creation_date":1516811219,"answer_id":48427231,"question_id":41420512,"body_markdown":"Simply include your dependency jar in dependencyManagement&gt;dependencies&gt;dependency tag in pom.xml in addition to normal dependencies tree. That will also create fat jar.","title":"AWS Lambda JAVA: usage of external libraries","body":"<p>Simply include your dependency jar in dependencyManagement>dependencies>dependency tag in pom.xml in addition to normal dependencies tree. That will also create fat jar.</p>\n"},{"tags":[],"owner":{"account_id":382598,"reputation":12314,"user_id":737925,"accept_rate":96,"display_name":"Mohammad Ersan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557003438,"creation_date":1557003438,"answer_id":55986729,"question_id":41420512,"body_markdown":"Maybe this is a bit late to answer, but if you are using `Gradle` you need to run `shadowJar` task that will generate a fat jar contains all required dependencies.\r\n\r\nex. `./gradlew shadowJar`\r\n\r\nor if you use `serverless` you can use `./gradlew deploy` where `deploy` task depending on `shadowJar` and it will deploy the whole stack.\r\n\r\nI made a simple task to help me with this in my project `build.gradle` script:\r\n\r\n```\r\ntask deployF() {\r\n    group = &#39;serveless&#39;\r\n    dependsOn = [&#39;shadowJar&#39;]\r\n    def functionName = project.findProperty(&quot;fun&quot;)\r\n    doLast {\r\n        exec {\r\n            commandLine &#39;serverless&#39;, &#39;deploy&#39;, &#39;-f&#39;, functionName\r\n        }\r\n    }\r\n}\r\n```\r\nto use it you need to call `./gradle deployF -Pfun=YOUR_FUNCTION_NAME`\r\nthis will build the jar file and deploy the selected function to **lambda**","title":"AWS Lambda JAVA: usage of external libraries","body":"<p>Maybe this is a bit late to answer, but if you are using <code>Gradle</code> you need to run <code>shadowJar</code> task that will generate a fat jar contains all required dependencies.</p>\n\n<p>ex. <code>./gradlew shadowJar</code></p>\n\n<p>or if you use <code>serverless</code> you can use <code>./gradlew deploy</code> where <code>deploy</code> task depending on <code>shadowJar</code> and it will deploy the whole stack.</p>\n\n<p>I made a simple task to help me with this in my project <code>build.gradle</code> script:</p>\n\n<pre><code>task deployF() {\n    group = 'serveless'\n    dependsOn = ['shadowJar']\n    def functionName = project.findProperty(\"fun\")\n    doLast {\n        exec {\n            commandLine 'serverless', 'deploy', '-f', functionName\n        }\n    }\n}\n</code></pre>\n\n<p>to use it you need to call <code>./gradle deployF -Pfun=YOUR_FUNCTION_NAME</code>\nthis will build the jar file and deploy the selected function to <strong>lambda</strong></p>\n"}],"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9681,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1634998939,"creation_date":1483320495,"question_id":41420512,"body_markdown":"After I upload and run my java .jar file, I get a warning and an error. \r\nThe warning is:\r\n\r\n    This function contains external libraries. Uploading a new file will override these libraries.\r\n\r\nAnd The error is:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/http/client/methods/HttpUriRequest\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.client.methods.HttpUriRequest\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)   \r\n\r\n\r\nI can build the jar no problem, all dependencies are in my pom. I have a handful of libraries that I&#39;m using, like org.json that also throw the same java.lang.NoClassDefFoundError error. I do import these classes. My jar however doesn&#39;t include these files, only my class. I&#39;m suspecting that&#39;s related. Is that true? Do I need to find amazon class substitution for these &quot;external&quot; classes that I&#39;m using? I&#39;m confused.    \r\n    ","title":"AWS Lambda JAVA: usage of external libraries","body":"<p>After I upload and run my java .jar file, I get a warning and an error. \nThe warning is:</p>\n\n<pre><code>This function contains external libraries. Uploading a new file will override these libraries.\n</code></pre>\n\n<p>And The error is:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/http/client/methods/HttpUriRequest\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:348)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.client.methods.HttpUriRequest\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)   \n</code></pre>\n\n<p>I can build the jar no problem, all dependencies are in my pom. I have a handful of libraries that I'm using, like org.json that also throw the same java.lang.NoClassDefFoundError error. I do import these classes. My jar however doesn't include these files, only my class. I'm suspecting that's related. Is that true? Do I need to find amazon class substitution for these \"external\" classes that I'm using? I'm confused.    </p>\n"},{"tags":["java","google-cloud-functions","google-cloud-pubsub"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":1,"creation_date":1635011889,"post_id":69688810,"comment_id":123183560,"body_markdown":"how did you deploy your function? Did you use special parameters? (ingress, egress, VPC conntector...). Is a public URL? Is there IP filtering on the IP that you call?","body":"how did you deploy your function? Did you use special parameters? (ingress, egress, VPC conntector...). Is a public URL? Is there IP filtering on the IP that you call?"},{"owner":{"account_id":18115205,"reputation":1150,"user_id":13171940,"display_name":"Rogelio Monter"},"score":0,"creation_date":1635276048,"post_id":69688810,"comment_id":123252619,"body_markdown":"Is your URL reachable from outside of your network?\nSince you’ve said that it works in eclipse (locally) I would think that a firewall or something else is blocking Cloud Function to reach the server.","body":"Is your URL reachable from outside of your network? Since you’ve said that it works in eclipse (locally) I would think that a firewall or something else is blocking Cloud Function to reach the server."}],"owner":{"account_id":22871231,"reputation":11,"user_id":17014235,"display_name":"Pravin Kadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634998538,"creation_date":1634997489,"question_id":69688810,"body_markdown":"I am trying to call external http URL using google cloud function. I have created topic in google pub/sub model and whenever there is new message received in topic, this function gets triggered. So this function should call that external http URL and request should be received at other side on http server. But request is not received on http server and in google cloud function logs i see only message as &quot;Function execution took 60003 ms, finished with status: &#39;timeout&#39;&quot;. I have increased timeout to 300 seconds then also same error. When i run same code in eclipse it works fine and request received on http server but it doesn&#39;t execute via google cloud function. Not sure what went wrong? Can someone please help here to solve/debug?\r\n\r\nMy java code and pom.xml file as below:\r\n\r\n\r\n    public class Example implements BackgroundFunction&lt;PubSubMessage&gt; {\r\n      private static final Logger logger = Logger.getLogger(Example.class.getName());\r\n    \r\n      @Override\r\n      public void accept(PubSubMessage message, Context context) throws URISyntaxException, IOException, InterruptedException {\r\n        String data = message.data != null\r\n          ? new String(Base64.getDecoder().decode(message.data))\r\n          : &quot;Hello, World&quot;;\r\n        logger.info(data);\r\n        HttpClient client = HttpClient.newHttpClient();\r\n    \tHttpRequest request = HttpRequest.newBuilder(new URI(&quot;http://&lt;&lt;host&gt;&gt;:&lt;&lt;port&gt;&gt;&quot;)).build();\r\n    \tHttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString());\r\n    \tSystem.out.println(response.statusCode());\r\n    \tSystem.out.println(response.body());\r\n    \r\n      }\r\n    \r\n      public static class PubSubMessage {\r\n        String data;\r\n        Map&lt;String, String&gt; attributes;\r\n        String messageId;\r\n        String publishTime;\r\n      }\r\n    }\r\n    \r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;cloudfunctions&lt;/groupId&gt;\r\n      &lt;artifactId&gt;pubsub-function&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\r\n          &lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.1&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;!-- Required for Java 11 functions in the inline editor --&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;excludes&gt;\r\n                &lt;exclude&gt;.google/&lt;/exclude&gt;\r\n              &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Unable call external http URL using google cloud function","body":"<p>I am trying to call external http URL using google cloud function. I have created topic in google pub/sub model and whenever there is new message received in topic, this function gets triggered. So this function should call that external http URL and request should be received at other side on http server. But request is not received on http server and in google cloud function logs i see only message as &quot;Function execution took 60003 ms, finished with status: 'timeout'&quot;. I have increased timeout to 300 seconds then also same error. When i run same code in eclipse it works fine and request received on http server but it doesn't execute via google cloud function. Not sure what went wrong? Can someone please help here to solve/debug?</p>\n<p>My java code and pom.xml file as below:</p>\n<pre><code>public class Example implements BackgroundFunction&lt;PubSubMessage&gt; {\n  private static final Logger logger = Logger.getLogger(Example.class.getName());\n\n  @Override\n  public void accept(PubSubMessage message, Context context) throws URISyntaxException, IOException, InterruptedException {\n    String data = message.data != null\n      ? new String(Base64.getDecoder().decode(message.data))\n      : &quot;Hello, World&quot;;\n    logger.info(data);\n    HttpClient client = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder(new URI(&quot;http://&lt;&lt;host&gt;&gt;:&lt;&lt;port&gt;&gt;&quot;)).build();\n    HttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString());\n    System.out.println(response.statusCode());\n    System.out.println(response.body());\n\n  }\n\n  public static class PubSubMessage {\n    String data;\n    Map&lt;String, String&gt; attributes;\n    String messageId;\n    String publishTime;\n  }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;cloudfunctions&lt;/groupId&gt;\n  &lt;artifactId&gt;pubsub-function&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\n      &lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0.1&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;!-- Required for Java 11 functions in the inline editor --&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;.google/&lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","listbox","vaadin","listboxitem","vaadin-flow"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1634715247,"post_id":69636188,"comment_id":123096159,"body_markdown":"For the entity you don&#39;t need to handle this, the ListBox will return your POJO item, and then you can use all of your mehtods. Also setting the selected item works via the item himself","body":"For the entity you don&#39;t need to handle this, the ListBox will return your POJO item, and then you can use all of your mehtods. Also setting the selected item works via the item himself"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634920053,"creation_date":1634672507,"answer_id":69636813,"question_id":69636188,"body_markdown":"You need to apply a renderer for the items, something like:\r\n\r\n```\r\nentityListBox.setRenderer(new TextRenderer&lt;&gt;(entity -&gt; entity.getDescription()));\r\n```","title":"Selecting display field for Vaadin ListBox","body":"<p>You need to apply a renderer for the items, something like:</p>\n<pre><code>entityListBox.setRenderer(new TextRenderer&lt;&gt;(entity -&gt; entity.getDescription()));\n</code></pre>\n"}],"owner":{"account_id":139414,"reputation":166,"user_id":344996,"accept_rate":25,"display_name":"the Ben B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69636813,"answer_count":1,"score":3,"last_activity_date":1634998323,"creation_date":1634669028,"question_id":69636188,"body_markdown":"I&#39;m populating a ListBox with a list of entities from a MySQL source.\r\nI can&#39;t see how to tell it which field to use as its ID, and which to use as its display.\r\n\r\nFor ComboBox I can use setItemLabelGenerator to tell it which field to use for display, but I can&#39;t see what the equivalent would be for ListBox.\r\n\r\n    ListBox&lt;MyEntitySource&gt; entityListBox = new ListBox&lt;MyEntitySource&gt;();\r\n    List&lt;MyEntitySource&gt; entitySource = (List&lt;MyEntitySource&gt;) entityRepository.findAll();\r\n    entityListBox.setItems(entitySource);\r\n\r\nThis ends up displaying as eg:\r\nMyEntity{id=1, description=Item 1}\r\n\r\nHow do I tell it to hold the ID as field &quot;id&quot; and display the value as field &quot;description&quot;?\r\n","title":"Selecting display field for Vaadin ListBox","body":"<p>I'm populating a ListBox with a list of entities from a MySQL source.\nI can't see how to tell it which field to use as its ID, and which to use as its display.</p>\n<p>For ComboBox I can use setItemLabelGenerator to tell it which field to use for display, but I can't see what the equivalent would be for ListBox.</p>\n<pre><code>ListBox&lt;MyEntitySource&gt; entityListBox = new ListBox&lt;MyEntitySource&gt;();\nList&lt;MyEntitySource&gt; entitySource = (List&lt;MyEntitySource&gt;) entityRepository.findAll();\nentityListBox.setItems(entitySource);\n</code></pre>\n<p>This ends up displaying as eg:\nMyEntity{id=1, description=Item 1}</p>\n<p>How do I tell it to hold the ID as field &quot;id&quot; and display the value as field &quot;description&quot;?</p>\n"},{"tags":["java","swing","focus"],"answers":[{"tags":[],"owner":{"account_id":56100,"reputation":8638,"user_id":168034,"accept_rate":85,"display_name":"phunehehe"},"down_vote_count":1,"up_vote_count":95,"is_accepted":true,"score":94,"last_activity_date":1460126355,"creation_date":1252994857,"answer_id":1425406,"question_id":1425392,"body_markdown":"Would [`Component.requestFocus()`][1] give you what you need?\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/Component.html#requestFocus()","title":"How do you set a focus on JTextField in Swing?","body":"<p>Would <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Component.html#requestFocus()\" rel=\"noreferrer\"><code>Component.requestFocus()</code></a> give you what you need?</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1253052436,"creation_date":1253052436,"answer_id":1429876,"question_id":1425392,"body_markdown":"Now that we&#39;ve searched the API all we need to do is read the API.\r\n\r\nAccording to the API documentation: \r\n\r\n&gt; &quot;Because the focus behavior of this\r\n&gt; method is platform-dependent,\r\n&gt; developers are strongly encouraged to\r\n&gt; use requestFocusInWindow when\r\n&gt; possible. &quot;","title":"How do you set a focus on JTextField in Swing?","body":"<p>Now that we've searched the API all we need to do is read the API.</p>\n\n<p>According to the API documentation: </p>\n\n<blockquote>\n  <p>\"Because the focus behavior of this\n  method is platform-dependent,\n  developers are strongly encouraged to\n  use requestFocusInWindow when\n  possible. \"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1103311,"reputation":301,"user_id":1095233,"display_name":"Rhea"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1323761251,"creation_date":1323761251,"answer_id":8485703,"question_id":1425392,"body_markdown":"***This would work..***\r\n\r\n    SwingUtilities.invokeLater( new Runnable() { \r\n    \r\n    public void run() { \r\n    \t\tComponent.requestFocus(); \r\n    \t} \r\n    } );","title":"How do you set a focus on JTextField in Swing?","body":"<p><em><strong>This would work..</em></strong></p>\n\n<pre><code>SwingUtilities.invokeLater( new Runnable() { \n\npublic void run() { \n        Component.requestFocus(); \n    } \n} );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1265927,"reputation":1852,"user_id":1223230,"accept_rate":52,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413380969,"creation_date":1413380969,"answer_id":26384263,"question_id":1425392,"body_markdown":"Note that all of the above fails for some reason in a JOptionPane.  After much trial and error (more than the above stated 5 minutes, anyway), here is what finally worked:\r\n\r\n    \t\tfinal JTextField usernameField = new JTextField();\r\n    // ...\r\n    \t\tusernameField.addAncestorListener(new RequestFocusListener());\r\n    \t\tJOptionPane.showOptionDialog(this, panel, &quot;Credentials&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE, null, null, null);\r\n\r\n\r\n\tpublic class RequestFocusListener implements AncestorListener {\r\n\t\t@Override\r\n\t\tpublic void ancestorAdded(final AncestorEvent e) {\r\n\t\t\tfinal AncestorListener al = this;\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tfinal JComponent component = e.getComponent();\r\n\t\t\t\t\tcomponent.requestFocusInWindow();\r\n\t\t\t\t\tcomponent.removeAncestorListener(al);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void ancestorMoved(final AncestorEvent e) {\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void ancestorRemoved(final AncestorEvent e) {\r\n\t\t}\r\n\t}\r\n\r\n","title":"How do you set a focus on JTextField in Swing?","body":"<p>Note that all of the above fails for some reason in a JOptionPane.  After much trial and error (more than the above stated 5 minutes, anyway), here is what finally worked:</p>\n\n<pre><code>        final JTextField usernameField = new JTextField();\n// ...\n        usernameField.addAncestorListener(new RequestFocusListener());\n        JOptionPane.showOptionDialog(this, panel, \"Credentials\", JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE, null, null, null);\n\n\npublic class RequestFocusListener implements AncestorListener {\n    @Override\n    public void ancestorAdded(final AncestorEvent e) {\n        final AncestorListener al = this;\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                final JComponent component = e.getComponent();\n                component.requestFocusInWindow();\n                component.removeAncestorListener(al);\n            }\n        });\n    }\n\n    @Override\n    public void ancestorMoved(final AncestorEvent e) {\n    }\n\n    @Override\n    public void ancestorRemoved(final AncestorEvent e) {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432367633,"creation_date":1432367633,"answer_id":30410330,"question_id":1425392,"body_markdown":"You can use also `JComponent.grabFocus();` it is the same","title":"How do you set a focus on JTextField in Swing?","body":"<p>You can use also <code>JComponent.grabFocus();</code> it is the same</p>\n"}],"owner":{"account_id":56246,"reputation":4189,"user_id":168461,"accept_rate":35,"display_name":"om."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90670,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":1425406,"answer_count":5,"score":49,"last_activity_date":1634998303,"creation_date":1252994617,"question_id":1425392,"body_markdown":"I created a form using Swing in Java. In the form I have used a `JTextField` on which I have to set the focus whenever I press a key. How do I set focus on a particular component in Swing?","title":"How do you set a focus on JTextField in Swing?","body":"<p>I created a form using Swing in Java. In the form I have used a <code>JTextField</code> on which I have to set the focus whenever I press a key. How do I set focus on a particular component in Swing?</p>\n"},{"tags":["java","multithreading","concurrency","volatile"],"comments":[{"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"score":0,"creation_date":1374242681,"post_id":17748078,"comment_id":25877011,"body_markdown":"A past post talks of it extensively http://stackoverflow.com/questions/7212155/java-threading-volatile","body":"A past post talks of it extensively <a href=\"http://stackoverflow.com/questions/7212155/java-threading-volatile\" title=\"java threading volatile\">stackoverflow.com/questions/7212155/java-threading-volatile</a>"},{"owner":{"account_id":50396,"reputation":37361,"user_id":150339,"accept_rate":71,"display_name":"Bruno Reis"},"score":6,"creation_date":1374243808,"post_id":17748078,"comment_id":25877741,"body_markdown":"You are thinking backwards. *Ideally, if keepRunning wasn&#39;t volatile, thread should keep on running indefinitely*. Actually, it is the opposite: adding `volatile` *guarantees* that the change to the field will be visible. Without the keyword, simply there are no guarantees at all, anything can happen; you cannot state that *thread should keep on running [...]*.","body":"You are thinking backwards. <i>Ideally, if keepRunning wasn&#39;t volatile, thread should keep on running indefinitely</i>. Actually, it is the opposite: adding <code>volatile</code> <i>guarantees</i> that the change to the field will be visible. Without the keyword, simply there are no guarantees at all, anything can happen; you cannot state that <i>thread should keep on running [...]</i>."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1374244099,"post_id":17748078,"comment_id":25877933,"body_markdown":"Here&#39;s the thing: memory visibility bugs are by their nature hard (impossible?) to demonstrate by a simple example that will fail every time. Assuming you&#39;ve got a multi-core machine, your example will probably fail at least a couple times if you run it a lot (say, 1000 runs). If you&#39;ve got a big program -- such that the whole program and its objects don&#39;t fit on a CPU cache, for instance -- then that increases the probability of seeing a bug. Basically, concurrency bugs are such that if the theory says it can break, it probably will, but only once every few months, and probably in production.","body":"Here&#39;s the thing: memory visibility bugs are by their nature hard (impossible?) to demonstrate by a simple example that will fail every time. Assuming you&#39;ve got a multi-core machine, your example will probably fail at least a couple times if you run it a lot (say, 1000 runs). If you&#39;ve got a big program -- such that the whole program and its objects don&#39;t fit on a CPU cache, for instance -- then that increases the probability of seeing a bug. Basically, concurrency bugs are such that if the theory says it can break, it probably will, but only once every few months, and probably in production."},{"owner":{"account_id":3458496,"reputation":1319,"user_id":2896382,"display_name":"gurubelli"},"score":0,"creation_date":1442696752,"post_id":17748078,"comment_id":53192049,"body_markdown":"There is good example already listed http://stackoverflow.com/questions/5816790/the-code-example-which-can-prove-volatile-declare-should-be-used","body":"There is good example already listed <a href=\"http://stackoverflow.com/questions/5816790/the-code-example-which-can-prove-volatile-declare-should-be-used\" title=\"the code example which can prove volatile declare should be used\">stackoverflow.com/questions/5816790/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1451404889,"post_id":17748078,"comment_id":56769905,"body_markdown":"Here is an example with a write up http://vanillajava.blogspot.co.uk/2012/01/demonstrating-when-volatile-is-required.html","body":"Here is an example with a write up <a href=\"http://vanillajava.blogspot.co.uk/2012/01/demonstrating-when-volatile-is-required.html\" rel=\"nofollow noreferrer\">vanillajava.blogspot.co.uk/2012/01/&hellip;</a>"},{"owner":{"account_id":247414,"reputation":1157,"user_id":2809546,"accept_rate":80,"display_name":"Vlad"},"score":0,"creation_date":1548315093,"post_id":17748078,"comment_id":95498744,"body_markdown":"@PeterLawrey - that post is full of misleading speculations and false info, RequiresVolatileMain can NOT show the necessity of volatile. If each thread cached its own copy of &quot;value&quot; we&#39;d always seen this: `Sets true: value=true target=true` and `Sets false: value=false target=false`, BUT: tons of circumstances can lead to same output... Tried to put same on blogspot, but &quot;Comments are restricted to team members&quot;","body":"@PeterLawrey - that post is full of misleading speculations and false info, RequiresVolatileMain can NOT show the necessity of volatile. If each thread cached its own copy of &quot;value&quot; we&#39;d always seen this: <code>Sets true: value=true target=true</code> and <code>Sets false: value=false target=false</code>, BUT: tons of circumstances can lead to same output... Tried to put same on blogspot, but &quot;Comments are restricted to team members&quot;"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571963120,"creation_date":1374242665,"answer_id":17748108,"question_id":17748078,"body_markdown":"&gt; Ideally, if keepRunning wasn&#39;t volatile, thread should keep on running indefinitely. But, it does stop after few seconds.\r\n\r\nIf you are running in a single-processor or if your system is very busy, the OS may be swapping out the threads which causes some levels of cache invalidation.   Not having a `volatile` doesn&#39;t mean that memory will _not_ be shared, but the JVM is trying to not synchronize memory if it can for performance reasons so the memory may not be updated.\r\n\r\nAnother thing to note is that `System.out.println(...)` is synchronized because the underlying `PrintStream` does synchronization to stop overlapping output.  So you are getting memory synchronization &quot;for free&quot; in the main-thread.  This still doesn&#39;t explain why the reading loop sees the updates at all however.\r\n\r\nWhether the `println(...)` lines are in or out, your program spins for me under Java6 on a MacBook Pro with an Intel i7.\r\n\r\n&gt; Can anyone explain volatile with example ? Not with theory from JLS.\r\n\r\nI think your example is good.  Not sure why it isn&#39;t working with all `System.out.println(...)` statements removed.  It works for me.\r\n\r\n&gt; Is volatile substitute for synchronization ? Does it achieve atomicity ?\r\n\r\nIn terms of memory synchronization, `volatile` throws up the same memory barriers as a `synchronized` block except that the `volatile` barrier is uni-directional versus bi-directional.  `volatile` reads throw up a load-barrier while writes throw up a store-barrier.  A `synchronized` block is a bi-directional barrier with the addition of mutex locking.\r\n\r\nIn terms of `atomicity`, however, the answer is &quot;it depends&quot;.  If you are reading or writing a value from a field then `volatile` provides proper atomicity.  However, incrementing a `volatile` field suffers from the limitation that `++` is actually 3 operations: read, increment, write.  In that case or more complex mutex cases, a full `synchronized` block may be necessary.  `AtomicInteger` solves the `++` issue with a complicated test-and-set spin-loop.\r\n","title":"Simplest and understandable example of volatile keyword in Java","body":"<blockquote>\n  <p>Ideally, if keepRunning wasn't volatile, thread should keep on running indefinitely. But, it does stop after few seconds.</p>\n</blockquote>\n\n<p>If you are running in a single-processor or if your system is very busy, the OS may be swapping out the threads which causes some levels of cache invalidation.   Not having a <code>volatile</code> doesn't mean that memory will <em>not</em> be shared, but the JVM is trying to not synchronize memory if it can for performance reasons so the memory may not be updated.</p>\n\n<p>Another thing to note is that <code>System.out.println(...)</code> is synchronized because the underlying <code>PrintStream</code> does synchronization to stop overlapping output.  So you are getting memory synchronization \"for free\" in the main-thread.  This still doesn't explain why the reading loop sees the updates at all however.</p>\n\n<p>Whether the <code>println(...)</code> lines are in or out, your program spins for me under Java6 on a MacBook Pro with an Intel i7.</p>\n\n<blockquote>\n  <p>Can anyone explain volatile with example ? Not with theory from JLS.</p>\n</blockquote>\n\n<p>I think your example is good.  Not sure why it isn't working with all <code>System.out.println(...)</code> statements removed.  It works for me.</p>\n\n<blockquote>\n  <p>Is volatile substitute for synchronization ? Does it achieve atomicity ?</p>\n</blockquote>\n\n<p>In terms of memory synchronization, <code>volatile</code> throws up the same memory barriers as a <code>synchronized</code> block except that the <code>volatile</code> barrier is uni-directional versus bi-directional.  <code>volatile</code> reads throw up a load-barrier while writes throw up a store-barrier.  A <code>synchronized</code> block is a bi-directional barrier with the addition of mutex locking.</p>\n\n<p>In terms of <code>atomicity</code>, however, the answer is \"it depends\".  If you are reading or writing a value from a field then <code>volatile</code> provides proper atomicity.  However, incrementing a <code>volatile</code> field suffers from the limitation that <code>++</code> is actually 3 operations: read, increment, write.  In that case or more complex mutex cases, a full <code>synchronized</code> block may be necessary.  <code>AtomicInteger</code> solves the <code>++</code> issue with a complicated test-and-set spin-loop.</p>\n"},{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374242740,"creation_date":1374242740,"answer_id":17748135,"question_id":17748078,"body_markdown":"`volatile` is not going to necessarily create giant changes, depending on the JVM and compiler. However, for many (edge) cases, it can be the difference between optimization causing a variable&#39;s changes to fail to be noticed as opposed to them being correctly written.\r\n\r\nBasically, an optimizer may choose to put non-volatile variables on registers or on the stack. If another thread changes them in the heap or the classes&#39; primitives, the other thread will keep looking for it on the stack, and it&#39;ll be stale.\r\n\r\n`volatile` ensures such optimizations don&#39;t happen and all reads and writes are directly to the heap or another place where all threads will see it.","title":"Simplest and understandable example of volatile keyword in Java","body":"<p><code>volatile</code> is not going to necessarily create giant changes, depending on the JVM and compiler. However, for many (edge) cases, it can be the difference between optimization causing a variable's changes to fail to be noticed as opposed to them being correctly written.</p>\n\n<p>Basically, an optimizer may choose to put non-volatile variables on registers or on the stack. If another thread changes them in the heap or the classes' primitives, the other thread will keep looking for it on the stack, and it'll be stale.</p>\n\n<p><code>volatile</code> ensures such optimizations don't happen and all reads and writes are directly to the heap or another place where all threads will see it.</p>\n"},{"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1552466432,"creation_date":1374242751,"answer_id":17748137,"question_id":17748078,"body_markdown":"When a variable is `volatile`, it is guaranteeing that it will not be cached and that different threads will see the updated value. However, not marking it `volatile` does not guarantee the opposite. `volatile` was one of those things that was broken in the JVM for a long time and still not always well understood.","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>When a variable is <code>volatile</code>, it is guaranteeing that it will not be cached and that different threads will see the updated value. However, not marking it <code>volatile</code> does not guarantee the opposite. <code>volatile</code> was one of those things that was broken in the JVM for a long time and still not always well understood.</p>\n"},{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1374243748,"creation_date":1374242824,"answer_id":17748170,"question_id":17748078,"body_markdown":"Volatile --&gt; Guarantees visibility and NOT atomicity\r\n\r\nSynchronization (Locking) --&gt; Guarantees visibility and atomicity (if done properly)\r\n\r\n**Volatile is not a substitute for synchronization**\r\n\r\nUse volatile only when you are updating the reference and not performing some other operations on it.\r\n\r\nExample:\r\n\r\n    volatile int i = 0;\r\n\r\n    public void incrementI(){\r\n       i++;\r\n    }\r\n\r\nwill not be thread safe without use of synchronization or AtomicInteger as incrementing is an compound operation.\r\n\r\n&gt; Why program does not run indefinitely?\r\n\r\nWell that depends on various circumstances. In most cases JVM is smart enough to flush the contents.\r\n\r\n[Correct use of volatile][1] discusses various possible uses of volatile. Using volatile correctly is tricky, I would say &quot;When in doubt, Leave it out&quot;, use synchronized block instead.\r\n\r\nAlso:\r\n\r\n**synchronized block can be used in place of volatile but the inverse is not true**. \r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp06197/index.html","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>Volatile --> Guarantees visibility and NOT atomicity</p>\n\n<p>Synchronization (Locking) --> Guarantees visibility and atomicity (if done properly)</p>\n\n<p><strong>Volatile is not a substitute for synchronization</strong></p>\n\n<p>Use volatile only when you are updating the reference and not performing some other operations on it.</p>\n\n<p>Example:</p>\n\n<pre><code>volatile int i = 0;\n\npublic void incrementI(){\n   i++;\n}\n</code></pre>\n\n<p>will not be thread safe without use of synchronization or AtomicInteger as incrementing is an compound operation.</p>\n\n<blockquote>\n  <p>Why program does not run indefinitely?</p>\n</blockquote>\n\n<p>Well that depends on various circumstances. In most cases JVM is smart enough to flush the contents.</p>\n\n<p><a href=\"http://www.ibm.com/developerworks/java/library/j-jtp06197/index.html\" rel=\"noreferrer\">Correct use of volatile</a> discusses various possible uses of volatile. Using volatile correctly is tricky, I would say \"When in doubt, Leave it out\", use synchronized block instead.</p>\n\n<p>Also:</p>\n\n<p><strong>synchronized block can be used in place of volatile but the inverse is not true</strong>. </p>\n"},{"tags":[],"owner":{"account_id":473230,"reputation":2271,"user_id":882209,"accept_rate":83,"display_name":"Sokolof"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1553623790,"creation_date":1374243851,"answer_id":17748517,"question_id":17748078,"body_markdown":"For your particular example: if not declared volatile the server JVM could hoist the `keepRunning` variable out of the loop because it is not modified **in** the loop (turning it into an infinite loop), but the client JVM would not. That is why you see different results.\r\n\r\nGeneral explanation about volatile variables follows:\r\n\r\nWhen a field is declared `volatile`, the compiler and runtime are put on notice that this variable is shared and that operations on it should not be reordered with other memory operations. Volatile variables are not cached in registers or in caches where they are hidden from other processors, so **a read of a volatile variable always returns the most recent write by any thread**. \r\n\r\nThe visibility effects of volatile variables extend beyond the value of the volatile variable itself. When thread A writes to a volatile variable and subsequently thread B reads that same variable, the values of all variables that were visible to A prior to writing to the volatile variable become visible to B after reading the volatile variable.\r\n\r\nThe  most  common  use  for  volatile  variables  is  as  a completion, interruption, or status flag:\r\n\r\n      volatile boolean flag;\r\n      while (!flag)  {\r\n         // do something untill flag is true\r\n      }\r\n\r\nVolatile variables can be used for other kinds of state information, but more care is required when attempting this. For example, the semantics of volatile are not strong enough to make the increment operation (`count++`) atomic, unless you can guarantee that the variable is written only from a single thread.\r\n\r\n**Locking can guarantee both visibility and atomicity; volatile variables can only guarantee visibility.**\r\n\r\nYou can use volatile variables only when all the following criteria are met: \r\n\r\n - Writes to the variable do not depend on its current value, or you can\r\n   ensure that only a single thread ever updates the value;\r\n - The variable does not participate in invariants with other state variables; and\r\n - Locking is not required for any other reason while the variable is being accessed.\r\n\r\n\r\n**Debugging tip**: be sure to always specify the `-server` JVM command line switch when invoking the JVM, even for development and testing. The server JVM performs more optimization than the client JVM, such as hoisting variables out of a loop that are not modified in the loop; code that might appear to work in the development environment (client JVM) can break in the deployment environment \r\n(server JVM).\r\n\r\nThis is an excerpt from [&quot;Java Concurrency in Practice&quot;](http://jcip.net/), the best book you can find on this subject.","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>For your particular example: if not declared volatile the server JVM could hoist the <code>keepRunning</code> variable out of the loop because it is not modified <strong>in</strong> the loop (turning it into an infinite loop), but the client JVM would not. That is why you see different results.</p>\n\n<p>General explanation about volatile variables follows:</p>\n\n<p>When a field is declared <code>volatile</code>, the compiler and runtime are put on notice that this variable is shared and that operations on it should not be reordered with other memory operations. Volatile variables are not cached in registers or in caches where they are hidden from other processors, so <strong>a read of a volatile variable always returns the most recent write by any thread</strong>. </p>\n\n<p>The visibility effects of volatile variables extend beyond the value of the volatile variable itself. When thread A writes to a volatile variable and subsequently thread B reads that same variable, the values of all variables that were visible to A prior to writing to the volatile variable become visible to B after reading the volatile variable.</p>\n\n<p>The  most  common  use  for  volatile  variables  is  as  a completion, interruption, or status flag:</p>\n\n<pre><code>  volatile boolean flag;\n  while (!flag)  {\n     // do something untill flag is true\n  }\n</code></pre>\n\n<p>Volatile variables can be used for other kinds of state information, but more care is required when attempting this. For example, the semantics of volatile are not strong enough to make the increment operation (<code>count++</code>) atomic, unless you can guarantee that the variable is written only from a single thread.</p>\n\n<p><strong>Locking can guarantee both visibility and atomicity; volatile variables can only guarantee visibility.</strong></p>\n\n<p>You can use volatile variables only when all the following criteria are met: </p>\n\n<ul>\n<li>Writes to the variable do not depend on its current value, or you can\nensure that only a single thread ever updates the value;</li>\n<li>The variable does not participate in invariants with other state variables; and</li>\n<li>Locking is not required for any other reason while the variable is being accessed.</li>\n</ul>\n\n<p><strong>Debugging tip</strong>: be sure to always specify the <code>-server</code> JVM command line switch when invoking the JVM, even for development and testing. The server JVM performs more optimization than the client JVM, such as hoisting variables out of a loop that are not modified in the loop; code that might appear to work in the development environment (client JVM) can break in the deployment environment \n(server JVM).</p>\n\n<p>This is an excerpt from <a href=\"http://jcip.net/\" rel=\"noreferrer\">\"Java Concurrency in Practice\"</a>, the best book you can find on this subject.</p>\n"},{"tags":[],"owner":{"account_id":3011380,"reputation":191,"user_id":2554822,"display_name":"user2554822"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382989758,"creation_date":1382989758,"answer_id":19643803,"question_id":17748078,"body_markdown":"Objects that are declared as volatile are usually used to communicate state information among threads,To ensure CPU caches are updated, that is, kept in sync, in the presence of volatile fields, a CPU instruction, a memory barrier, often called a membar or fence, is emitted to update CPU caches with a change in a volatile field’s value.\r\n\r\nThe volatile modifier tells the compiler that the variable modified by volatile can be changed unexpectedly by other parts of your program.\r\n\r\nThe volatile variable must be used in Thread Context only. see the example [here][1]\r\n\r\n\r\n  [1]: http://www.youtube.com/watch?v=y8_jrkHEZpg&amp;list=PLrUFyg1unBb9bhxd9ck0LEL89UB_G6-ZJ&amp;index=5","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>Objects that are declared as volatile are usually used to communicate state information among threads,To ensure CPU caches are updated, that is, kept in sync, in the presence of volatile fields, a CPU instruction, a memory barrier, often called a membar or fence, is emitted to update CPU caches with a change in a volatile field’s value.</p>\n\n<p>The volatile modifier tells the compiler that the variable modified by volatile can be changed unexpectedly by other parts of your program.</p>\n\n<p>The volatile variable must be used in Thread Context only. see the example <a href=\"http://www.youtube.com/watch?v=y8_jrkHEZpg&amp;list=PLrUFyg1unBb9bhxd9ck0LEL89UB_G6-ZJ&amp;index=5\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3811590,"reputation":225,"user_id":3162256,"display_name":"paritosht"},"down_vote_count":4,"up_vote_count":23,"is_accepted":false,"score":19,"last_activity_date":1519683080,"creation_date":1388916172,"answer_id":20932269,"question_id":17748078,"body_markdown":"I have modified your example slightly. Now use the example with keepRunning as volatile and non volatile member :\r\n\r\n    class TestVolatile extends Thread{\r\n        //volatile\r\n        boolean keepRunning = true;\r\n    \r\n        public void run() {\r\n            long count=0;\r\n            while (keepRunning) {\r\n                count++;\r\n            }\r\n    \r\n            System.out.println(&quot;Thread terminated.&quot; + count);\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            TestVolatile t = new TestVolatile();\r\n            t.start();\r\n            Thread.sleep(1000);\r\n            System.out.println(&quot;after sleeping in main&quot;);\r\n            t.keepRunning = false;\r\n            t.join();\r\n            System.out.println(&quot;keepRunning set to &quot; + t.keepRunning);\r\n        }\r\n    }","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>I have modified your example slightly. Now use the example with keepRunning as volatile and non volatile member :</p>\n\n<pre><code>class TestVolatile extends Thread{\n    //volatile\n    boolean keepRunning = true;\n\n    public void run() {\n        long count=0;\n        while (keepRunning) {\n            count++;\n        }\n\n        System.out.println(\"Thread terminated.\" + count);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        TestVolatile t = new TestVolatile();\n        t.start();\n        Thread.sleep(1000);\n        System.out.println(\"after sleeping in main\");\n        t.keepRunning = false;\n        t.join();\n        System.out.println(\"keepRunning set to \" + t.keepRunning);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2668781,"reputation":631,"user_id":2306593,"accept_rate":45,"display_name":"Azhaguvel A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414508640,"creation_date":1414503808,"answer_id":26609937,"question_id":17748078,"body_markdown":"Please find the solution below,\r\n\r\nThe value of this variable will never be cached thread-locally: all reads and writes will go straight to &quot;main memory&quot;. The volatile force the thread to update the original variable for each time. \r\n\r\n    public class VolatileDemo {\r\n    \r\n    \tprivate static volatile int MY_INT = 0;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tChangeMaker changeMaker = new ChangeMaker();\r\n    \t\tchangeMaker.start();\r\n    \t\t\r\n    \t\tChangeListener changeListener = new ChangeListener();\r\n    \t\tchangeListener.start();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tstatic class ChangeMaker extends Thread {\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\twhile (MY_INT &lt; 5){\r\n    \t\t\t\tSystem.out.println(&quot;Incrementing MY_INT &quot;+ ++MY_INT);\r\n    \t\t\t\ttry{\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t}catch(InterruptedException exception) {\r\n    \t\t\t\t\texception.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic class ChangeListener extends Thread {\r\n    \t\t\r\n    \t\tint local_value = MY_INT;\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\twhile ( MY_INT &lt; 5){\r\n    \t\t\t\tif( local_value!= MY_INT){\r\n    \t\t\t\t\tSystem.out.println(&quot;Got Change for MY_INT &quot;+ MY_INT);\r\n    \t\t\t\t\tlocal_value = MY_INT;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nPlease refer this link http://java.dzone.com/articles/java-volatile-keyword-0 to get more clarity in it.","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>Please find the solution below,</p>\n\n<p>The value of this variable will never be cached thread-locally: all reads and writes will go straight to \"main memory\". The volatile force the thread to update the original variable for each time. </p>\n\n<pre><code>public class VolatileDemo {\n\n    private static volatile int MY_INT = 0;\n\n    public static void main(String[] args) {\n\n        ChangeMaker changeMaker = new ChangeMaker();\n        changeMaker.start();\n\n        ChangeListener changeListener = new ChangeListener();\n        changeListener.start();\n\n    }\n\n    static class ChangeMaker extends Thread {\n\n        @Override\n        public void run() {\n            while (MY_INT &lt; 5){\n                System.out.println(\"Incrementing MY_INT \"+ ++MY_INT);\n                try{\n                    Thread.sleep(1000);\n                }catch(InterruptedException exception) {\n                    exception.printStackTrace();\n                }\n            }\n        }\n    }\n\n    static class ChangeListener extends Thread {\n\n        int local_value = MY_INT;\n\n        @Override\n        public void run() {\n            while ( MY_INT &lt; 5){\n                if( local_value!= MY_INT){\n                    System.out.println(\"Got Change for MY_INT \"+ MY_INT);\n                    local_value = MY_INT;\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Please refer this link <a href=\"http://java.dzone.com/articles/java-volatile-keyword-0\" rel=\"nofollow\">http://java.dzone.com/articles/java-volatile-keyword-0</a> to get more clarity in it.</p>\n"},{"tags":[],"owner":{"account_id":5374207,"reputation":3969,"user_id":4281711,"accept_rate":63,"display_name":"Prateek Joshi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1634997392,"creation_date":1437250094,"answer_id":31495118,"question_id":17748078,"body_markdown":"What is the `volatile` keyword? The `volatile` keyword prevents caching of variables.\r\n\r\nConsider this code, first without the `volatile` keyword:\r\n\r\n    class MyThread extends Thread {\r\n    \tprivate boolean running = true;   //non-volatile keyword\r\n    \r\n    \tpublic void run() {\r\n    \t\twhile (running) {\r\n    \t\t\tSystem.out.println(&quot;hello&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void shutdown() {\r\n    \t\trunning = false;\r\n    \t}\r\n    }\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyThread obj = new MyThread();\r\n    \t\tobj.start();\r\n    \r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tinput.nextLine(); \r\n    \t\tobj.shutdown();   \r\n    \t}    \r\n    }\r\n\r\nIdeally, this program should print `hello` until the &lt;kbd&gt;Return&lt;/kbd&gt; key is pressed. But on some machines it may happen that the variable `running` is cached and you cannot change its value from the `shutdown()` method which results in infinite printing of the `hello` text.\r\n\r\nThus, by using the `volatile` keyword, it is guaranteed that your variable will not be cached and the code will run fine on all machines. \r\n\r\n    private volatile boolean running = true;  //volatile keyword\r\n\r\nUsing the `volatile` keyword is a good and safer programming practice.","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>What is the <code>volatile</code> keyword? The <code>volatile</code> keyword prevents caching of variables.</p>\n<p>Consider this code, first without the <code>volatile</code> keyword:</p>\n<pre><code>class MyThread extends Thread {\n    private boolean running = true;   //non-volatile keyword\n\n    public void run() {\n        while (running) {\n            System.out.println(&quot;hello&quot;);\n        }\n    }\n\n    public void shutdown() {\n        running = false;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        MyThread obj = new MyThread();\n        obj.start();\n\n        Scanner input = new Scanner(System.in);\n        input.nextLine(); \n        obj.shutdown();   \n    }    \n}\n</code></pre>\n<p>Ideally, this program should print <code>hello</code> until the <kbd>Return</kbd> key is pressed. But on some machines it may happen that the variable <code>running</code> is cached and you cannot change its value from the <code>shutdown()</code> method which results in infinite printing of the <code>hello</code> text.</p>\n<p>Thus, by using the <code>volatile</code> keyword, it is guaranteed that your variable will not be cached and the code will run fine on all machines.</p>\n<pre><code>private volatile boolean running = true;  //volatile keyword\n</code></pre>\n<p>Using the <code>volatile</code> keyword is a good and safer programming practice.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1512741541,"creation_date":1512651763,"answer_id":47695757,"question_id":17748078,"body_markdown":"[**`Variable Volatile`**](https://docs.oracle.com/cd/E19683-01/806-5222/codingpractices-1/index.html): Volatile Keyword is applicable to variables. volatile keyword in Java guarantees that value of the volatile variable will always be read from main memory and not from Thread&#39;s local cache.\r\n\r\n    Access_Modifier volatile DataType Variable_Name;\r\n\r\nVolatile Field: An indication to the VM that multiple threads may try to access/update the field&#39;s value at the same time. To a special kind of instance variables which has to shared among all the threads with Modified value. Similar to Static(Class) variable, Only one copy of volatile value is cached in main memory, So that before doing any ALU Operations each thread has to read the updated value from Main memory after ALU operation it has to write to main memory direclty. (A write to a volatile variable v synchronizes-with all subsequent reads of v by any thread) ***This means that changes to a volatile variable are always visible to other threads.***\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere to a `nonvoltaile variable` if Thread t1 changes the value in t1&#39;s cache, Thread t2 can&#39;t access the changed value untill t1 writes, t2 read from main memory for the most recent modified value, which may lead to `Data-Inconsistancy`.\r\n\r\n&gt; [**volatile cannot be cached**](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.5-200-A.1) - [assembler](http://hg.openjdk.java.net/icedtea/jdk7/hotspot/file/d9f0ed25f7ed/src/share/vm/opto/memnode.cpp#l2862)\r\n&gt;\r\n&gt; \t      +--------------+--------+-------------------------------------+\r\n\t\t|  Flag Name   |  Value\t| Interpretation                      |\r\n\t\t+--------------+--------+-------------------------------------+\r\n\t\t| ACC_VOLATILE | 0x0040\t| Declared volatile; cannot be cached.|\r\n\t\t+--------------+--------+-------------------------------------+\r\n\t\t|ACC_TRANSIENT | 0x0080\t| Declared transient; not written or  |\r\n\t\t|              |        | read by a persistent object manager.|\r\n\t\t+--------------+--------+-------------------------------------+\r\n\r\n[`Shared Variables`](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.1):\r\nMemory that can be shared between threads is called shared memory or heap memory. All instance fields, static fields, and array elements are stored in heap memory.\r\n\r\n[Synchronization](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-3.html#jvms-3.14): synchronized is applicable to methods, blocks. allows to execute only 1-thread at a time on object. If t1 takes control, then remaining threads has to wait untill it release the control.\r\n\r\nExample:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tpublic class VolatileTest implements Runnable {\r\n\t\t\r\n\t\tprivate static final int MegaBytes = 10241024;\r\n\t\t\r\n\t\tprivate static final Object counterLock = new Object();\r\n\t\tprivate static int counter = 0;\r\n\t\tprivate static volatile int counter1 = 0;\r\n\t\t\r\n\t\tprivate volatile int counter2 = 0;\r\n\t\tprivate int counter3 = 0;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\t\tconcurrentMethodWrong();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tvoid addInstanceVolatile() {\r\n\t\t\tsynchronized (counterLock) {\r\n\t\t\t\tcounter2 = counter2 + 1;\r\n\t\t\t\tSystem.out.println( Thread.currentThread().getName() +&quot;\\t\\t &#171; InstanceVolatile :: &quot;+ counter2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void concurrentMethodWrong() {\r\n\t\t\tcounter = counter + 1;\r\n\t\t\tSystem.out.println( Thread.currentThread().getName() +&quot; &#171; Static :: &quot;+ counter);\r\n\t\t\tsleepThread( 1/4 );\r\n\t\t\t\r\n\t\t\tcounter1 = counter1 + 1;\r\n\t\t\tSystem.out.println( Thread.currentThread().getName() +&quot;\\t &#171; StaticVolatile :: &quot;+ counter1);\r\n\t\t\tsleepThread( 1/4 );\r\n\t\t\t\r\n\t\t\taddInstanceVolatile();\r\n\t\t\tsleepThread( 1/4 );\r\n\t\t\t\r\n\t\t\tcounter3 = counter3 + 1;\r\n\t\t\tsleepThread( 1/4 );\r\n\t\t\tSystem.out.println( Thread.currentThread().getName() +&quot;\\t\\t\\t\\t\\t &#171; Instance :: &quot;+ counter3);\r\n\t\t}\r\n\t\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\tRuntime runtime = Runtime.getRuntime();\r\n\t\t\t\r\n\t\t\tint availableProcessors = runtime.availableProcessors();\r\n\t\t\tSystem.out.println(&quot;availableProcessors :: &quot;+availableProcessors);\r\n\t\t\tSystem.out.println(&quot;MAX JVM will attempt to use : &quot;+ runtime.maxMemory() / MegaBytes );\r\n\t\t\tSystem.out.println(&quot;JVM totalMemory also equals to initial heap size of JVM : &quot;+ runtime.totalMemory() / MegaBytes );\r\n\t\t\tSystem.out.println(&quot;Returns the amount of free memory in the JVM : &quot;+ untime.freeMemory() / MegaBytes );\r\n\t\t\tSystem.out.println(&quot; ===== ----- ===== &quot;);\r\n\t\t\t\r\n\t\t\tVolatileTest volatileTest = new VolatileTest();\r\n\t\t\tThread t1 = new Thread( volatileTest );\r\n\t\t\tt1.start();\r\n\t\t\t\r\n\t\t\tThread t2 = new Thread( volatileTest );\r\n\t\t\tt2.start();\r\n\t\t\t\r\n\t\t\tThread t3 = new Thread( volatileTest );\r\n\t\t\tt3.start();\r\n\t\t\t\r\n\t\t\tThread t4 = new Thread( volatileTest );\r\n\t\t\tt4.start();\r\n\t\t\t\r\n\t\t\tThread.sleep( 10 );;\r\n\t\t\t\r\n\t\t\tThread optimizeation = new Thread() {\r\n\t\t\t\t@Override public void run() {\r\n\t\t\t\t\tSystem.out.println(&quot;Thread Start.&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tInteger appendingVal = volatileTest.counter2 + volatileTest.counter2 + volatileTest.counter2;\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;End of Thread.&quot; + appendingVal);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\toptimizeation.start();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void sleepThread( long sec ) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep( sec * 1000 );\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n&gt; Static[`Class Field`] **vs** Volatile[`Instance Field`] - Both are not cached by threads\r\n&gt;\r\n&gt; * Static fields are common to all threads and get stored in Method Area. Static with volatile no use. Static field cant be serialized.\r\n&gt;\r\n&gt; * Volatile mainly used with instance variable which get stored in heap area. The main use of volatile is to maintain updated value over all the Threads. instance volatile field can be [Serialized](https://stackoverflow.com/a/31651945/5081877).\r\n\r\n@see\r\n\r\n* [Volatile Vs Static in java](https://stackoverflow.com/a/7943472/5081877)\r\n* [System with multiple cores sharing an L2 cache](https://www.ibm.com/developerworks/aix/library/au-aix-multicore-multiprocessor/index.html#fig3)\r\n* [JVM memory model](https://stackoverflow.com/a/31103100/5081877)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xiXRN.png","title":"Simplest and understandable example of volatile keyword in Java","body":"<p><a href=\"https://docs.oracle.com/cd/E19683-01/806-5222/codingpractices-1/index.html\" rel=\"noreferrer\"><strong><code>Variable Volatile</code></strong></a>: Volatile Keyword is applicable to variables. volatile keyword in Java guarantees that value of the volatile variable will always be read from main memory and not from Thread's local cache.</p>\n\n<pre><code>Access_Modifier volatile DataType Variable_Name;\n</code></pre>\n\n<p>Volatile Field: An indication to the VM that multiple threads may try to access/update the field's value at the same time. To a special kind of instance variables which has to shared among all the threads with Modified value. Similar to Static(Class) variable, Only one copy of volatile value is cached in main memory, So that before doing any ALU Operations each thread has to read the updated value from Main memory after ALU operation it has to write to main memory direclty. (A write to a volatile variable v synchronizes-with all subsequent reads of v by any thread) <strong><em>This means that changes to a volatile variable are always visible to other threads.</em></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/xiXRN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xiXRN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here to a <code>nonvoltaile variable</code> if Thread t1 changes the value in t1's cache, Thread t2 can't access the changed value untill t1 writes, t2 read from main memory for the most recent modified value, which may lead to <code>Data-Inconsistancy</code>.</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.5-200-A.1\" rel=\"noreferrer\"><strong>volatile cannot be cached</strong></a> - <a href=\"http://hg.openjdk.java.net/icedtea/jdk7/hotspot/file/d9f0ed25f7ed/src/share/vm/opto/memnode.cpp#l2862\" rel=\"noreferrer\">assembler</a></p>\n\n<pre><code>    +--------------+--------+-------------------------------------+\n    |  Flag Name   |  Value | Interpretation                      |\n    +--------------+--------+-------------------------------------+\n    | ACC_VOLATILE | 0x0040 | Declared volatile; cannot be cached.|\n    +--------------+--------+-------------------------------------+\n    |ACC_TRANSIENT | 0x0080 | Declared transient; not written or  |\n    |              |        | read by a persistent object manager.|\n    +--------------+--------+-------------------------------------+\n</code></pre>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.1\" rel=\"noreferrer\"><code>Shared Variables</code></a>:\nMemory that can be shared between threads is called shared memory or heap memory. All instance fields, static fields, and array elements are stored in heap memory.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-3.html#jvms-3.14\" rel=\"noreferrer\">Synchronization</a>: synchronized is applicable to methods, blocks. allows to execute only 1-thread at a time on object. If t1 takes control, then remaining threads has to wait untill it release the control.</p>\n\n<p>Example:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public class VolatileTest implements Runnable {\n\n    private static final int MegaBytes = 10241024;\n\n    private static final Object counterLock = new Object();\n    private static int counter = 0;\n    private static volatile int counter1 = 0;\n\n    private volatile int counter2 = 0;\n    private int counter3 = 0;\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 5; i++) {\n            concurrentMethodWrong();\n        }\n\n    }\n\n    void addInstanceVolatile() {\n        synchronized (counterLock) {\n            counter2 = counter2 + 1;\n            System.out.println( Thread.currentThread().getName() +\"\\t\\t « InstanceVolatile :: \"+ counter2);\n        }\n    }\n\n    public void concurrentMethodWrong() {\n        counter = counter + 1;\n        System.out.println( Thread.currentThread().getName() +\" « Static :: \"+ counter);\n        sleepThread( 1/4 );\n\n        counter1 = counter1 + 1;\n        System.out.println( Thread.currentThread().getName() +\"\\t « StaticVolatile :: \"+ counter1);\n        sleepThread( 1/4 );\n\n        addInstanceVolatile();\n        sleepThread( 1/4 );\n\n        counter3 = counter3 + 1;\n        sleepThread( 1/4 );\n        System.out.println( Thread.currentThread().getName() +\"\\t\\t\\t\\t\\t « Instance :: \"+ counter3);\n    }\n    public static void main(String[] args) throws InterruptedException {\n        Runtime runtime = Runtime.getRuntime();\n\n        int availableProcessors = runtime.availableProcessors();\n        System.out.println(\"availableProcessors :: \"+availableProcessors);\n        System.out.println(\"MAX JVM will attempt to use : \"+ runtime.maxMemory() / MegaBytes );\n        System.out.println(\"JVM totalMemory also equals to initial heap size of JVM : \"+ runtime.totalMemory() / MegaBytes );\n        System.out.println(\"Returns the amount of free memory in the JVM : \"+ untime.freeMemory() / MegaBytes );\n        System.out.println(\" ===== ----- ===== \");\n\n        VolatileTest volatileTest = new VolatileTest();\n        Thread t1 = new Thread( volatileTest );\n        t1.start();\n\n        Thread t2 = new Thread( volatileTest );\n        t2.start();\n\n        Thread t3 = new Thread( volatileTest );\n        t3.start();\n\n        Thread t4 = new Thread( volatileTest );\n        t4.start();\n\n        Thread.sleep( 10 );;\n\n        Thread optimizeation = new Thread() {\n            @Override public void run() {\n                System.out.println(\"Thread Start.\");\n\n                Integer appendingVal = volatileTest.counter2 + volatileTest.counter2 + volatileTest.counter2;\n\n                System.out.println(\"End of Thread.\" + appendingVal);\n            }\n        };\n        optimizeation.start();\n    }\n\n    public void sleepThread( long sec ) {\n        try {\n            Thread.sleep( sec * 1000 );\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n\n\n<blockquote>\n  <p>Static[<code>Class Field</code>] <strong>vs</strong> Volatile[<code>Instance Field</code>] - Both are not cached by threads</p>\n  \n  <ul>\n  <li><p>Static fields are common to all threads and get stored in Method Area. Static with volatile no use. Static field cant be serialized.</p></li>\n  <li><p>Volatile mainly used with instance variable which get stored in heap area. The main use of volatile is to maintain updated value over all the Threads. instance volatile field can be <a href=\"https://stackoverflow.com/a/31651945/5081877\">Serialized</a>.</p></li>\n  </ul>\n</blockquote>\n\n<p>@see</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/7943472/5081877\">Volatile Vs Static in java</a></li>\n<li><a href=\"https://www.ibm.com/developerworks/aix/library/au-aix-multicore-multiprocessor/index.html#fig3\" rel=\"noreferrer\">System with multiple cores sharing an L2 cache</a></li>\n<li><a href=\"https://stackoverflow.com/a/31103100/5081877\">JVM memory model</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6564153,"reputation":91,"user_id":5074337,"display_name":"Adarsh Mathew Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549607467,"creation_date":1549607467,"answer_id":54587083,"question_id":17748078,"body_markdown":"The volatile keyword tells the JVM that it may be modified by another thread.\r\nEach thread has its own stack, and so its own copy of variables it can access. When a thread is created, it copies the value of all accessible variables in its own memory. \r\n\r\n\r\n```\r\npublic class VolatileTest {\r\n    private static final Logger LOGGER = MyLoggerFactory.getSimplestLogger();\r\n\r\n    private static volatile int MY_INT = 0;\r\n\r\n    public static void main(String[] args) {\r\n        new ChangeListener().start();\r\n        new ChangeMaker().start();\r\n    }\r\n\r\n    static class ChangeListener extends Thread {\r\n        @Override\r\n        public void run() {\r\n            int local_value = MY_INT;\r\n            while ( local_value &lt; 5){\r\n                if( local_value!= MY_INT){\r\n                    LOGGER.log(Level.INFO,&quot;Got Change for MY_INT : {0}&quot;, MY_INT);\r\n                     local_value= MY_INT;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static class ChangeMaker extends Thread{\r\n        @Override\r\n        public void run() {\r\n\r\n            int local_value = MY_INT;\r\n            while (MY_INT &lt;5){\r\n                LOGGER.log(Level.INFO, &quot;Incrementing MY_INT to {0}&quot;, local_value+1);\r\n                MY_INT = ++local_value;\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) { e.printStackTrace(); }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\ntry out this example with and without volatile.","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>The volatile keyword tells the JVM that it may be modified by another thread.\nEach thread has its own stack, and so its own copy of variables it can access. When a thread is created, it copies the value of all accessible variables in its own memory. </p>\n\n<pre><code>public class VolatileTest {\n    private static final Logger LOGGER = MyLoggerFactory.getSimplestLogger();\n\n    private static volatile int MY_INT = 0;\n\n    public static void main(String[] args) {\n        new ChangeListener().start();\n        new ChangeMaker().start();\n    }\n\n    static class ChangeListener extends Thread {\n        @Override\n        public void run() {\n            int local_value = MY_INT;\n            while ( local_value &lt; 5){\n                if( local_value!= MY_INT){\n                    LOGGER.log(Level.INFO,\"Got Change for MY_INT : {0}\", MY_INT);\n                     local_value= MY_INT;\n                }\n            }\n        }\n    }\n\n    static class ChangeMaker extends Thread{\n        @Override\n        public void run() {\n\n            int local_value = MY_INT;\n            while (MY_INT &lt;5){\n                LOGGER.log(Level.INFO, \"Incrementing MY_INT to {0}\", local_value+1);\n                MY_INT = ++local_value;\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) { e.printStackTrace(); }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>try out this example with and without volatile.</p>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565118477,"creation_date":1565038667,"answer_id":57366013,"question_id":17748078,"body_markdown":"Lot&#39;s of great examples, but I just want to add that there are a number of scenarios where `volatile` is required so there is no one concrete example to rule them a.\r\n\r\n1. You can use `volatile` to force all threads to get latest value of the variable from main memory.\r\n2. You can use `synchronization` to guard critical data\r\n3. You can use `Lock` API\r\n4. You can use `Atomic` variables\r\n\r\nCheck it out for more [Java volatile examples][1].\r\n\r\n  [1]: https://javatutorial.net/java-volatile-example","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>Lot's of great examples, but I just want to add that there are a number of scenarios where <code>volatile</code> is required so there is no one concrete example to rule them a.</p>\n\n<ol>\n<li>You can use <code>volatile</code> to force all threads to get latest value of the variable from main memory.</li>\n<li>You can use <code>synchronization</code> to guard critical data</li>\n<li>You can use <code>Lock</code> API</li>\n<li>You can use <code>Atomic</code> variables</li>\n</ol>\n\n<p>Check it out for more <a href=\"https://javatutorial.net/java-volatile-example\" rel=\"nofollow noreferrer\">Java volatile examples</a>.</p>\n"},{"tags":[],"owner":{"account_id":2855454,"reputation":99,"user_id":2451814,"display_name":"bhosleviraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620401979,"creation_date":1620401979,"answer_id":67437925,"question_id":17748078,"body_markdown":"    public class VolatileDemo {\r\n        static class Processor {\r\n            //without volatile program keeps running on my platform\r\n            private boolean flag = false;\r\n    \r\n            public void setFlag() {\r\n                System.out.println(&quot;setting flag true&quot;);\r\n                this.flag = true;\r\n            }\r\n    \r\n            public void process() {\r\n                while(!flag) {\r\n                    int x = 5;\r\n                    // using sleep or sout will end the program without volatile.\r\n                    // Probably these operations, cause thread to be rescheduled, read from memory. Thus read new flag value and end.\r\n                }\r\n    \r\n                System.out.println(&quot;Ending&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            Processor processor = new Processor();\r\n            Thread t1 = new Thread(processor::process);\r\n    \r\n            t1.start();\r\n    \r\n            Thread.sleep(2000);\r\n            processor.setFlag();\r\n    \r\n        }\r\n    }","title":"Simplest and understandable example of volatile keyword in Java","body":"<pre><code>public class VolatileDemo {\n    static class Processor {\n        //without volatile program keeps running on my platform\n        private boolean flag = false;\n\n        public void setFlag() {\n            System.out.println(&quot;setting flag true&quot;);\n            this.flag = true;\n        }\n\n        public void process() {\n            while(!flag) {\n                int x = 5;\n                // using sleep or sout will end the program without volatile.\n                // Probably these operations, cause thread to be rescheduled, read from memory. Thus read new flag value and end.\n            }\n\n            System.out.println(&quot;Ending&quot;);\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        Processor processor = new Processor();\n        Thread t1 = new Thread(processor::process);\n\n        t1.start();\n\n        Thread.sleep(2000);\n        processor.setFlag();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2988790,"reputation":1187,"user_id":2546848,"accept_rate":50,"display_name":"tmgr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85185,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"answer_count":13,"score":85,"last_activity_date":1634997392,"creation_date":1374242553,"question_id":17748078,"body_markdown":"I&#39;m reading about *volatile* keyword in Java and completely understand the theory part of it.\r\n\r\nBut, what I&#39;m searching for is, a good case example, which shows what would happen if variable wasn&#39;t *volatile* and if it were.\r\n\r\nBelow code snippet doesn&#39;t work as expected (taken from [here][1]):\r\n\r\n    class Test extends Thread {\r\n    \r\n        boolean keepRunning = true;\r\n    \r\n        public void run() {\r\n            while (keepRunning) {\r\n            }\r\n    \r\n            System.out.println(&quot;Thread terminated.&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            Test t = new Test();\r\n            t.start();\r\n            Thread.sleep(1000);\r\n            t.keepRunning = false;\r\n            System.out.println(&quot;keepRunning set to false.&quot;);\r\n        }\r\n    }\r\n\r\nIdeally, if `keepRunning` wasn&#39;t *volatile*, thread should keep on running indefinitely. But, it does stop after few seconds.\r\n\r\nI&#39;ve got two basic questions:\r\n\r\n - Can anyone explain volatile with example? Not with theory from JLS.\r\n - Is volatile substitute for synchronization? Does it achieve atomicity?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10764147/2546848","title":"Simplest and understandable example of volatile keyword in Java","body":"<p>I'm reading about <em>volatile</em> keyword in Java and completely understand the theory part of it.</p>\n\n<p>But, what I'm searching for is, a good case example, which shows what would happen if variable wasn't <em>volatile</em> and if it were.</p>\n\n<p>Below code snippet doesn't work as expected (taken from <a href=\"https://stackoverflow.com/a/10764147/2546848\">here</a>):</p>\n\n<pre><code>class Test extends Thread {\n\n    boolean keepRunning = true;\n\n    public void run() {\n        while (keepRunning) {\n        }\n\n        System.out.println(\"Thread terminated.\");\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        Test t = new Test();\n        t.start();\n        Thread.sleep(1000);\n        t.keepRunning = false;\n        System.out.println(\"keepRunning set to false.\");\n    }\n}\n</code></pre>\n\n<p>Ideally, if <code>keepRunning</code> wasn't <em>volatile</em>, thread should keep on running indefinitely. But, it does stop after few seconds.</p>\n\n<p>I've got two basic questions:</p>\n\n<ul>\n<li>Can anyone explain volatile with example? Not with theory from JLS.</li>\n<li>Is volatile substitute for synchronization? Does it achieve atomicity?</li>\n</ul>\n"},{"tags":["java","android","android-recyclerview","android-adapter"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1616388907,"post_id":66740465,"comment_id":117976950,"body_markdown":"You&#39;ve chosen to handle the configuration change yourself. That means you, not the system, needs to manually swap every single thing that needs to change. Why are you saying you want to handle orientation changes when you seem to want the default behavior of automatically swapping out resources?","body":"You&#39;ve chosen to handle the configuration change yourself. That means you, not the system, needs to manually swap every single thing that needs to change. Why are you saying you want to handle orientation changes when you seem to want the default behavior of automatically swapping out resources?"},{"owner":{"account_id":14006810,"reputation":87,"user_id":10116694,"display_name":"Shibil M"},"score":0,"creation_date":1616389377,"post_id":66740465,"comment_id":117977034,"body_markdown":"I am a beginner in native app development, I&#39;m just trying out some pieces of stuff.so I&#39;m not sure ...","body":"I am a beginner in native app development, I&#39;m just trying out some pieces of stuff.so I&#39;m not sure ..."},{"owner":{"account_id":14006810,"reputation":87,"user_id":10116694,"display_name":"Shibil M"},"score":0,"creation_date":1616390552,"post_id":66740465,"comment_id":117977247,"body_markdown":"How should I fix this manually??","body":"How should I fix this manually??"}],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616493682,"creation_date":1616493682,"answer_id":66760964,"question_id":66740465,"body_markdown":"There are two ways for your reference.\r\n\r\n1.1 Change `AndroidManifest.xml`\r\n\r\nAdd the following content to the activity in the AndroidManifest.xml file:\r\n\r\nlandscape ：\r\n            `android:screenOrientation=”landscape”`\r\n\r\nportrait :\r\n             `android:screenOrientation=”portrait”`\r\n\r\n1.2 `setRequestedOrientation` (Code Settings)\r\n\r\nlandscape：\r\n`setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);`\r\n\r\nportrait：\r\n`setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);`\r\n","title":"How to notify RecyclerView in adapter class to update when changes occur in room database","body":"<p>There are two ways for your reference.</p>\n<p>1.1 Change <code>AndroidManifest.xml</code></p>\n<p>Add the following content to the activity in the AndroidManifest.xml file:</p>\n<p>landscape ：\n<code>android:screenOrientation=”landscape”</code></p>\n<p>portrait :\n<code>android:screenOrientation=”portrait”</code></p>\n<p>1.2 <code>setRequestedOrientation</code> (Code Settings)</p>\n<p>landscape：\n<code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);</code></p>\n<p>portrait：\n<code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);</code></p>\n"}],"owner":{"account_id":14006810,"reputation":87,"user_id":10116694,"display_name":"Shibil M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634997326,"creation_date":1616388423,"question_id":66740465,"body_markdown":"I want to update my recycler view data when a user deletes an item from the room database. I tried `notifyDataSetChanged()` in the adapter but it&#39;s not updating.\r\n\r\nthis is my adapte&#39;s codes\r\n\r\n    public class WatchlistAdapter extends RecyclerView.Adapter&lt;WatchlistAdapter.MyHolder&gt; {\r\n    \r\n        Context mContext;\r\n        List&lt;Task&gt; watchList;\r\n    \r\n    \r\n    \r\n        public WatchlistAdapter(Context mContext, List&lt;Task&gt; watchList) {\r\n            this.mContext = mContext;\r\n            this.watchList = watchList;\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public MyHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(mContext).inflate(R.layout.watch_list_layout, parent, false);\r\n            return new MyHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyHolder holder, int position) {\r\n            Task t = watchList.get(position);\r\n    \r\n            holder.title.setText(t.getTitle());\r\n            holder.type.setText(t.getType());\r\n    \r\n            holder.deleteIcon.setOnClickListener(V-&gt;{\r\n                deleteItem(t);\r\n                Log.d(&quot;myapp&quot;, &quot;deleted:&quot;+ t.toString());\r\n                notifyDataSetChanged();\r\n    \r\n    \r\n    \r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return watchList.size();\r\n        }\r\n    \r\n        public static class MyHolder extends RecyclerView.ViewHolder {\r\n    \r\n            TextView title;\r\n            TextView type;\r\n            ImageView deleteIcon;\r\n    \r\n            public MyHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                title = itemView.findViewById(R.id.title_name);\r\n                type = itemView.findViewById(R.id.type);\r\n                deleteIcon = itemView.findViewById(R.id.delete);\r\n            }\r\n        }\r\n    \r\n        private void deleteItem(final Task task){\r\n            class Delete extends AsyncTask&lt;Void, Void, Void&gt;{\r\n    \r\n                @Override\r\n                protected Void doInBackground(Void... voids) {\r\n                    DatabaseClient.getInstance(mContext)\r\n                            .getAppDatabase()\r\n                            .taskDao()\r\n                            .delete(task);\r\n    \r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                protected void onPostExecute(Void unused) {\r\n                    super.onPostExecute(unused);\r\n                    Toast.makeText(mContext, &quot;Removed&quot; , Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            }\r\n            Delete dt = new Delete();\r\n            dt.execute();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to notify RecyclerView in adapter class to update when changes occur in room database","body":"<p>I want to update my recycler view data when a user deletes an item from the room database. I tried <code>notifyDataSetChanged()</code> in the adapter but it's not updating.</p>\n<p>this is my adapte's codes</p>\n<pre><code>public class WatchlistAdapter extends RecyclerView.Adapter&lt;WatchlistAdapter.MyHolder&gt; {\n\n    Context mContext;\n    List&lt;Task&gt; watchList;\n\n\n\n    public WatchlistAdapter(Context mContext, List&lt;Task&gt; watchList) {\n        this.mContext = mContext;\n        this.watchList = watchList;\n\n    }\n\n    @NonNull\n    @Override\n    public MyHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(mContext).inflate(R.layout.watch_list_layout, parent, false);\n        return new MyHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyHolder holder, int position) {\n        Task t = watchList.get(position);\n\n        holder.title.setText(t.getTitle());\n        holder.type.setText(t.getType());\n\n        holder.deleteIcon.setOnClickListener(V-&gt;{\n            deleteItem(t);\n            Log.d(&quot;myapp&quot;, &quot;deleted:&quot;+ t.toString());\n            notifyDataSetChanged();\n\n\n\n        });\n\n\n    }\n\n\n\n    @Override\n    public int getItemCount() {\n        return watchList.size();\n    }\n\n    public static class MyHolder extends RecyclerView.ViewHolder {\n\n        TextView title;\n        TextView type;\n        ImageView deleteIcon;\n\n        public MyHolder(@NonNull View itemView) {\n            super(itemView);\n\n            title = itemView.findViewById(R.id.title_name);\n            type = itemView.findViewById(R.id.type);\n            deleteIcon = itemView.findViewById(R.id.delete);\n        }\n    }\n\n    private void deleteItem(final Task task){\n        class Delete extends AsyncTask&lt;Void, Void, Void&gt;{\n\n            @Override\n            protected Void doInBackground(Void... voids) {\n                DatabaseClient.getInstance(mContext)\n                        .getAppDatabase()\n                        .taskDao()\n                        .delete(task);\n\n                return null;\n            }\n\n            @Override\n            protected void onPostExecute(Void unused) {\n                super.onPostExecute(unused);\n                Toast.makeText(mContext, &quot;Removed&quot; , Toast.LENGTH_SHORT).show();\n\n            }\n        }\n        Delete dt = new Delete();\n        dt.execute();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634994091,"creation_date":1634994091,"answer_id":69688406,"question_id":69687764,"body_markdown":"If the task is not of academic nature or does not consist of implementing an algorithm, I would use a library and focus on the core of the task the application is supposed to solve. Such a library would be for example [combinatoricslib3][1]. Google guava or Apache commons certainly have similar methods. With [combinatoricslib3][1] the solution to your issue above would be a one-liner:\r\n\r\n    Generator.combination(1,2,3)\r\n            .simple(2)\r\n            .stream()\r\n            .forEach(System.out::println);\r\n\r\nOutput:\r\n\r\n    [1, 2]\r\n    [1, 3]\r\n    [2, 3]\r\n\r\nor something like:\r\n\r\n    List&lt;List&lt;String&gt;&gt; result = Generator.combination(&quot;FOO&quot;, &quot;BAR&quot;, &quot;BAZ&quot;)\r\n                                         .simple(2)\r\n                                         .stream()\r\n                                         .collect(Collectors.toList());\r\n    System.out.println(result);\r\n\r\nto get \r\n\r\n    [[FOO, BAR], [FOO, BAZ], [BAR, BAZ]]\r\n\r\nIt works not only for primitive data types like ints or strings as shown above, you can also use your own custom objects and use a list of your objects as a parameter. Assuming you have a `Node` class:\r\n\r\n    public class Node {\r\n        String name;\r\n        // getter, setter, toString ...\r\n    }\r\n\r\n    List&lt;Node&gt; nodeList = List.of(new Node(&quot;node1&quot;), new Node(&quot;node2&quot;), new Node(&quot;node3&quot;));\r\n    Generator.combination(nodeList)\r\n            .simple(2)\r\n            .stream()\r\n            .forEach(System.out::println);\r\n\r\nOutput:\r\n\r\n    [Node(name=node1), Node(name=node2)]\r\n    [Node(name=node1), Node(name=node3)]\r\n    [Node(name=node2), Node(name=node3)]\r\n\r\nTo use the lib add the dependency to your pom.xml or download the jar and add to classpath. mvn dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.dpaukov&lt;/groupId&gt;\r\n        &lt;artifactId&gt;combinatoricslib3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/dpaukov/combinatoricslib3","title":"Looping over All Possible combinations of ArrayList","body":"<p>If the task is not of academic nature or does not consist of implementing an algorithm, I would use a library and focus on the core of the task the application is supposed to solve. Such a library would be for example <a href=\"https://github.com/dpaukov/combinatoricslib3\" rel=\"nofollow noreferrer\">combinatoricslib3</a>. Google guava or Apache commons certainly have similar methods. With <a href=\"https://github.com/dpaukov/combinatoricslib3\" rel=\"nofollow noreferrer\">combinatoricslib3</a> the solution to your issue above would be a one-liner:</p>\n<pre><code>Generator.combination(1,2,3)\n        .simple(2)\n        .stream()\n        .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 2]\n[1, 3]\n[2, 3]\n</code></pre>\n<p>or something like:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; result = Generator.combination(&quot;FOO&quot;, &quot;BAR&quot;, &quot;BAZ&quot;)\n                                     .simple(2)\n                                     .stream()\n                                     .collect(Collectors.toList());\nSystem.out.println(result);\n</code></pre>\n<p>to get</p>\n<pre><code>[[FOO, BAR], [FOO, BAZ], [BAR, BAZ]]\n</code></pre>\n<p>It works not only for primitive data types like ints or strings as shown above, you can also use your own custom objects and use a list of your objects as a parameter. Assuming you have a <code>Node</code> class:</p>\n<pre><code>public class Node {\n    String name;\n    // getter, setter, toString ...\n}\n\nList&lt;Node&gt; nodeList = List.of(new Node(&quot;node1&quot;), new Node(&quot;node2&quot;), new Node(&quot;node3&quot;));\nGenerator.combination(nodeList)\n        .simple(2)\n        .stream()\n        .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>[Node(name=node1), Node(name=node2)]\n[Node(name=node1), Node(name=node3)]\n[Node(name=node2), Node(name=node3)]\n</code></pre>\n<p>To use the lib add the dependency to your pom.xml or download the jar and add to classpath. mvn dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.dpaukov&lt;/groupId&gt;\n    &lt;artifactId&gt;combinatoricslib3&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634994977,"creation_date":1634994665,"answer_id":69688477,"question_id":69687764,"body_markdown":"Try this.\r\n\r\n    static &lt;T&gt; List&lt;List&lt;T&gt;&gt; combinations(List&lt;T&gt; list, int n) {\r\n        int length = list.size();\r\n        List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        T[] selections = (T[])new Object[n];\r\n        new Object() {\r\n            void select(int start, int index) {\r\n                if (index &gt;= n)\r\n                    result.add(List.of(selections));\r\n                else if (start &lt; length){\r\n                    selections[index] = list.get(start);\r\n                    select(start + 1, index + 1);\r\n                    select(start + 1, index);\r\n                }\r\n            }\r\n        }.select(0, 0);\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = List.of(1, 2, 3);\r\n        System.out.println(combinations(list, 2));\r\n    }\r\n\r\noutput:\r\n\r\n    [[1, 2], [1, 3], [2, 3]]\r\n","title":"Looping over All Possible combinations of ArrayList","body":"<p>Try this.</p>\n<pre><code>static &lt;T&gt; List&lt;List&lt;T&gt;&gt; combinations(List&lt;T&gt; list, int n) {\n    int length = list.size();\n    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\n    T[] selections = (T[])new Object[n];\n    new Object() {\n        void select(int start, int index) {\n            if (index &gt;= n)\n                result.add(List.of(selections));\n            else if (start &lt; length){\n                selections[index] = list.get(start);\n                select(start + 1, index + 1);\n                select(start + 1, index);\n            }\n        }\n    }.select(0, 0);\n    return result;\n}\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; list = List.of(1, 2, 3);\n    System.out.println(combinations(list, 2));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[[1, 2], [1, 3], [2, 3]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634996352,"creation_date":1634996352,"answer_id":69688686,"question_id":69687764,"body_markdown":"Using a combinatorics library may be a bit overkill in your case. Your task is indeed finding combinations of size 2, but the fact that the size is two simplifies it drastically.\r\nA good old index-based for-loop does the trick here, with no check for duplicates necessary. Notice how the second loop starts from i + 1. Go over the algorithm in a scratchpad and you will see how this avoids duplicates.\r\n\r\n    List&lt;List&lt;Node&gt;&gt; pairs = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; nodes.size(); i++) {\r\n      for (int j = i + 1; j &lt; nodes.size(); j++) {\r\n        pairs.add(Arrays.asList(nodes.get(i), nodes.get(j)));\r\n      }\r\n    }","title":"Looping over All Possible combinations of ArrayList","body":"<p>Using a combinatorics library may be a bit overkill in your case. Your task is indeed finding combinations of size 2, but the fact that the size is two simplifies it drastically.\nA good old index-based for-loop does the trick here, with no check for duplicates necessary. Notice how the second loop starts from i + 1. Go over the algorithm in a scratchpad and you will see how this avoids duplicates.</p>\n<pre><code>List&lt;List&lt;Node&gt;&gt; pairs = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; nodes.size(); i++) {\n  for (int j = i + 1; j &lt; nodes.size(); j++) {\n    pairs.add(Arrays.asList(nodes.get(i), nodes.get(j)));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21472639,"reputation":85,"user_id":15821391,"display_name":"Patrick Schulz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69688686,"answer_count":3,"score":0,"last_activity_date":1634996352,"creation_date":1634989014,"question_id":69687764,"body_markdown":"I want to loop over the same list to process possible combinations of that list. For example : From a list consisting `[1,2,3]` I want to get an `ArrayList` which looks like this: `[[1,2], [1,3], [2,3]]`\r\nI am processing a list of nodes instead of integers. For now i am trying something like the following :\r\n\r\n\t\t\t\t\r\n\r\n    ArrayList&lt;ArrayList&lt;Node&gt;&gt; saveList = new ArrayList&lt;ArrayList&lt;Node&gt;&gt;();\r\n\tfor (Node n1 : nodes) \r\n\t\tArrayList&lt;Node&gt; saveList2 = new ArrayList&lt;Node&gt;();\r\n        for (Node n2 : nodes) \r\n\t\t\tif n2.name == n1.name\r\n\t\t\t\tcontinue;\r\n\t\t\tsaveList2.add(n1).add(n2);\r\n\t\t\tif (!saveList.containsAll(saveList2)) \r\n\t\t\t\tthen process graph;\r\n\t\t\telse continue;\r\nI don&#39;t process the same node and avoid the combination already processed. Is there a better solution ?","title":"Looping over All Possible combinations of ArrayList","body":"<p>I want to loop over the same list to process possible combinations of that list. For example : From a list consisting <code>[1,2,3]</code> I want to get an <code>ArrayList</code> which looks like this: <code>[[1,2], [1,3], [2,3]]</code>\nI am processing a list of nodes instead of integers. For now i am trying something like the following :</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Node&gt;&gt; saveList = new ArrayList&lt;ArrayList&lt;Node&gt;&gt;();\nfor (Node n1 : nodes) \n    ArrayList&lt;Node&gt; saveList2 = new ArrayList&lt;Node&gt;();\n    for (Node n2 : nodes) \n        if n2.name == n1.name\n            continue;\n        saveList2.add(n1).add(n2);\n        if (!saveList.containsAll(saveList2)) \n            then process graph;\n        else continue;\n</code></pre>\n<p>I don't process the same node and avoid the combination already processed. Is there a better solution ?</p>\n"},{"tags":["java","spring","hibernate","transactions"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1634921133,"post_id":69680433,"comment_id":123165583,"body_markdown":"Is your daoimpl a spring component?","body":"Is your daoimpl a spring component?"},{"owner":{"account_id":1476495,"reputation":1229,"user_id":1386768,"accept_rate":95,"display_name":"Steve Atkinson"},"score":0,"creation_date":1634922782,"post_id":69680433,"comment_id":123166153,"body_markdown":"yes, I&#39;ve edited the question to show the DAO bean being defined. I also tried adding @Service to the bean but get the same result.","body":"yes, I&#39;ve edited the question to show the DAO bean being defined. I also tried adding @Service to the bean but get the same result."},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1634923309,"post_id":69680433,"comment_id":123166313,"body_markdown":"where are you calling saveOrUpdateOne from?","body":"where are you calling saveOrUpdateOne from?"},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1634923803,"post_id":69680433,"comment_id":123166483,"body_markdown":"do you have &lt;tx:annotation-driven/&gt; in your xml, or alternatively the annotation EnableTransactionManagement in some @Configuration class?","body":"do you have &lt;tx:annotation-driven/&gt; in your xml, or alternatively the annotation EnableTransactionManagement in some @Configuration class?"}],"answers":[{"tags":[],"owner":{"account_id":16726047,"reputation":1,"user_id":12089648,"display_name":"Christina Dawoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634923608,"creation_date":1634923608,"answer_id":69680936,"question_id":69680433,"body_markdown":"@Transactional is used if you want to update 2 tables if one of them failed the other one will rollback automatic \r\nyou can use it above method\r\nand you can call save or update using bean of a Repository class ","title":"Spring @transactional with hibernate issue - not valid without an active transaction","body":"<p>@Transactional is used if you want to update 2 tables if one of them failed the other one will rollback automatic\nyou can use it above method\nand you can call save or update using bean of a Repository class</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634995606,"creation_date":1634929231,"answer_id":69681925,"question_id":69680433,"body_markdown":"It is because you do not enable `@Transactional` yet and also not begin the transaction  when calling `session.saveOrUpdate()`, so it gives you the error &#39;not valid without an active transaction&#39; .\r\n\r\nTo enable `@Transactional`, you have to use `@EnableTransactionManagement` or add `&lt;tx:annotation-driven/&gt;` in case you are using XML configuration . It basically does the following for you ([source][1]) : \r\n\r\n\r\n&gt; @EnableTransactionManagement and &lt;tx:annotation-driven/&gt; are\r\n&gt; responsible for registering the necessary Spring components that power\r\n&gt; annotation-driven transaction management, such as the\r\n&gt; `TransactionInterceptor` and the proxy- or AspectJ-based advice that\r\n&gt; weaves the interceptor into the call stack when JdbcFooRepository&#39;s\r\n&gt; @Transactional methods are invoked.\r\n\r\n\r\nYour working example works because you manually manage the transaction by yourself .It is nothing to do with `@Transactional` since you never enable it.  \r\n\r\nTake the working codes as an example , what `@Transactional` does for you is that you no longer need to manually write the following transaction codes as all of them will be encapsulated in the `TransactionInterceptor` and execute around your `@Transactional` method based on AOP : \r\n\r\n\r\n``` java\r\npublic Object invoke() {\r\n    Session session = null;\r\n    Transaction trans = null;\r\n    try {\r\n        session = sessionFactory.getCurrentSession();\r\n        trans = session.beginTransaction();\r\n        TransactionStatus status = trans.getStatus();\r\n             \r\n        /***********************************************/\r\n         Here it will invoke your @Transactional Method\r\n        /************************************************/\r\n\r\n        trans.commit();\r\n    } catch (Exception e) {\r\n        LOGGER.error(&quot;Exception saving data: {}&quot;, e.getMessage());\r\n        if (trans != null) {\r\n            try {\r\n                trans.rollback();\r\n            } catch (RuntimeException rbe) {\r\n                LOGGER.error(&quot;Couldn’t roll back transaction&quot;, rbe);\r\n            }\r\n        }\r\n    } finally {\r\n        if (session != null &amp;&amp; session.isOpen()) {\r\n            try {\r\n                session.close();\r\n            } catch (HibernateException ne) {\r\n                LOGGER.error(&quot;Couldn’t close session&quot;, ne);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo you can see that your `@Transactional` method will become very clean after removing these &quot;ceremony&quot; codes.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html","title":"Spring @transactional with hibernate issue - not valid without an active transaction","body":"<p>It is because you do not enable <code>@Transactional</code> yet and also not begin the transaction  when calling <code>session.saveOrUpdate()</code>, so it gives you the error 'not valid without an active transaction' .</p>\n<p>To enable <code>@Transactional</code>, you have to use <code>@EnableTransactionManagement</code> or add <code>&lt;tx:annotation-driven/&gt;</code> in case you are using XML configuration . It basically does the following for you (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html\" rel=\"nofollow noreferrer\">source</a>) :</p>\n<blockquote>\n<p>@EnableTransactionManagement and &lt;tx:annotation-driven/&gt; are\nresponsible for registering the necessary Spring components that power\nannotation-driven transaction management, such as the\n<code>TransactionInterceptor</code> and the proxy- or AspectJ-based advice that\nweaves the interceptor into the call stack when JdbcFooRepository's\n@Transactional methods are invoked.</p>\n</blockquote>\n<p>Your working example works because you manually manage the transaction by yourself .It is nothing to do with <code>@Transactional</code> since you never enable it.</p>\n<p>Take the working codes as an example , what <code>@Transactional</code> does for you is that you no longer need to manually write the following transaction codes as all of them will be encapsulated in the <code>TransactionInterceptor</code> and execute around your <code>@Transactional</code> method based on AOP :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object invoke() {\n    Session session = null;\n    Transaction trans = null;\n    try {\n        session = sessionFactory.getCurrentSession();\n        trans = session.beginTransaction();\n        TransactionStatus status = trans.getStatus();\n             \n        /***********************************************/\n         Here it will invoke your @Transactional Method\n        /************************************************/\n\n        trans.commit();\n    } catch (Exception e) {\n        LOGGER.error(&quot;Exception saving data: {}&quot;, e.getMessage());\n        if (trans != null) {\n            try {\n                trans.rollback();\n            } catch (RuntimeException rbe) {\n                LOGGER.error(&quot;Couldn’t roll back transaction&quot;, rbe);\n            }\n        }\n    } finally {\n        if (session != null &amp;&amp; session.isOpen()) {\n            try {\n                session.close();\n            } catch (HibernateException ne) {\n                LOGGER.error(&quot;Couldn’t close session&quot;, ne);\n            }\n        }\n    }\n}\n</code></pre>\n<p>So you can see that your <code>@Transactional</code> method will become very clean after removing these &quot;ceremony&quot; codes.</p>\n"}],"owner":{"account_id":1476495,"reputation":1229,"user_id":1386768,"accept_rate":95,"display_name":"Steve Atkinson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69681925,"answer_count":2,"score":1,"last_activity_date":1634995606,"creation_date":1634920974,"question_id":69680433,"body_markdown":"Preamble - using Spring\r\n\r\nI am confused as to the purpose of the spring @Transactional annotation. I thought from a few blog posts I&#39;ve read that it would allow me to simplify transaction management and just write this, and it would handle connection/commit/rollback automagically:\r\n\r\n    public class DaoImpl implements Dao {\r\n       @Autowired\r\n       private SessionFactory sessionFactory;\r\n\r\n        @Transactional\r\n        public void saveOrUpdateOne(final AdditionalDataItem item) {\r\n            Session session = sessionFactory.getCurrentSession();\r\n                session.saveOrUpdate(p_item);\r\n        }\r\n    }\r\nHowever this gives me an exception: &quot; Calling method &#39;saveOrUpdate&#39; is not valid without an active transaction&quot;\r\n\r\nIf I instead change the save method to this, it all works - so my question is, what is @Transactional doing? \r\n\r\n    @Override\r\n    @Transactional\r\n    public void saveOrUpdateOne(final AdditionalDataItem p_item) {\r\n        Session session = null;\r\n        Transaction trans = null;\r\n        try {\r\n            session = sessionFactory.getCurrentSession();\r\n            trans = session.beginTransaction();\r\n            TransactionStatus status = trans.getStatus();\r\n            session.saveOrUpdate(p_item);\r\n            trans.commit();\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Exception saving data: {}&quot;, e.getMessage());\r\n            if (trans != null) {\r\n                try {\r\n                    trans.rollback();\r\n                } catch (RuntimeException rbe) {\r\n                    LOGGER.error(&quot;Couldn’t roll back transaction&quot;, rbe);\r\n                }\r\n            }\r\n        } finally {\r\n            if (session != null &amp;&amp; session.isOpen()) {\r\n                try {\r\n                    session.close();\r\n                } catch (HibernateException ne) {\r\n                    LOGGER.error(&quot;Couldn’t close session&quot;, ne);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nFor reference, I&#39;m using Java 11 with Spring Framework 5.3.7 and hibernate 5.5.7 and have appropriate dao, session factory and tx manager beans:\r\n\r\n        &lt;bean id=&quot;sessionFactory&quot; \r\n          class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;${sessionFactory.datasource}&quot; /&gt;\r\n        &lt;property name=&quot;configLocation&quot; value=&quot;${sessionFactory.configLocation}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;txManager&quot; \r\n      class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;Dao&quot; class=&quot;com.xxxxx.dao.DaoImpl&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    &lt;/bean&gt;","title":"Spring @transactional with hibernate issue - not valid without an active transaction","body":"<p>Preamble - using Spring</p>\n<p>I am confused as to the purpose of the spring @Transactional annotation. I thought from a few blog posts I've read that it would allow me to simplify transaction management and just write this, and it would handle connection/commit/rollback automagically:</p>\n<pre><code>public class DaoImpl implements Dao {\n   @Autowired\n   private SessionFactory sessionFactory;\n\n    @Transactional\n    public void saveOrUpdateOne(final AdditionalDataItem item) {\n        Session session = sessionFactory.getCurrentSession();\n            session.saveOrUpdate(p_item);\n    }\n}\n</code></pre>\n<p>However this gives me an exception: &quot; Calling method 'saveOrUpdate' is not valid without an active transaction&quot;</p>\n<p>If I instead change the save method to this, it all works - so my question is, what is @Transactional doing?</p>\n<pre><code>@Override\n@Transactional\npublic void saveOrUpdateOne(final AdditionalDataItem p_item) {\n    Session session = null;\n    Transaction trans = null;\n    try {\n        session = sessionFactory.getCurrentSession();\n        trans = session.beginTransaction();\n        TransactionStatus status = trans.getStatus();\n        session.saveOrUpdate(p_item);\n        trans.commit();\n    } catch (Exception e) {\n        LOGGER.error(&quot;Exception saving data: {}&quot;, e.getMessage());\n        if (trans != null) {\n            try {\n                trans.rollback();\n            } catch (RuntimeException rbe) {\n                LOGGER.error(&quot;Couldn’t roll back transaction&quot;, rbe);\n            }\n        }\n    } finally {\n        if (session != null &amp;&amp; session.isOpen()) {\n            try {\n                session.close();\n            } catch (HibernateException ne) {\n                LOGGER.error(&quot;Couldn’t close session&quot;, ne);\n            }\n        }\n    }\n}\n</code></pre>\n<p>For reference, I'm using Java 11 with Spring Framework 5.3.7 and hibernate 5.5.7 and have appropriate dao, session factory and tx manager beans:</p>\n<pre><code>    &lt;bean id=&quot;sessionFactory&quot; \n      class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;${sessionFactory.datasource}&quot; /&gt;\n    &lt;property name=&quot;configLocation&quot; value=&quot;${sessionFactory.configLocation}&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;txManager&quot; \n  class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;Dao&quot; class=&quot;com.xxxxx.dao.DaoImpl&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1460407978,"post_id":11048783,"comment_id":60718501,"body_markdown":"Have you considered consulting the Javadoc?","body":"Have you considered consulting the Javadoc?"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1339755593,"creation_date":1339755593,"answer_id":11048822,"question_id":11048783,"body_markdown":"[`map.keySet()`][1] would give you all the keys\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#keySet%28%29","title":"Java HashMap key value storage and retrieval","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#keySet%28%29\" rel=\"noreferrer\"><code>map.keySet()</code></a> would give you all the keys</p>\n"},{"tags":[],"owner":{"account_id":1077525,"reputation":7289,"user_id":1075341,"accept_rate":96,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339755729,"creation_date":1339755729,"answer_id":11048858,"question_id":11048783,"body_markdown":"You can use `keySet()` to retrieve the keys.\r\nYou should also consider adding typing in your Map, e.g :\r\n\r\n    Map&lt;Integer, String&gt; hm = new HashMap&lt;Integer, String&gt;();\r\n    hm.put(1,&quot;godric gryfindor&quot;);\r\n    hm.put(2,&quot;helga hufflepuff&quot;); \r\n    hm.put(3,&quot;rowena ravenclaw&quot;);\r\n    hm.put(4,&quot;salazaar slytherin&quot;);\r\n\t\t\r\n    Set&lt;Integer&gt; keys = hm.keySet();","title":"Java HashMap key value storage and retrieval","body":"<p>You can use <code>keySet()</code> to retrieve the keys.\nYou should also consider adding typing in your Map, e.g :</p>\n\n<pre><code>Map&lt;Integer, String&gt; hm = new HashMap&lt;Integer, String&gt;();\nhm.put(1,\"godric gryfindor\");\nhm.put(2,\"helga hufflepuff\"); \nhm.put(3,\"rowena ravenclaw\");\nhm.put(4,\"salazaar slytherin\");\n\nSet&lt;Integer&gt; keys = hm.keySet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1485874032,"creation_date":1339756176,"answer_id":11048982,"question_id":11048783,"body_markdown":"I use these three ways to iterate a map. All methods ([`keySet`][1], [`values`][2], [`entrySet`][3]) return a collection.\r\n\r\n\t// Given the following map\r\n\tMap&lt;KeyClass, ValueClass&gt; myMap;\r\n\t\r\n\t// Iterate all keys\r\n\tfor (KeyClass key  : myMap.keySet()) \r\n\t\tSystem.out.println(key);\r\n\t\r\n\t// Iterate all values\r\n\tfor (ValueClass value  : myMap.values()) \r\n\t\tSystem.out.println(value);\r\n\t\r\n\t// Iterate all key/value pairs\r\n\tfor (Entry&lt;KeyClass, ValueClass&gt; entry  : myMap.entrySet()) \r\n\t\tSystem.out.println(entry.getKey() + &quot; - &quot; + entry.getValue());\r\n\r\nSince Java 8 i often use [`Stream`s][5] with [lambda expressions][4].\r\n\r\n\t\t// Iterate all keys\r\n\t\tmyMap.keySet().stream().forEach(key -&gt; System.out.println(key));\r\n\r\n\t\t// Iterate all values\r\n\t\tmyMap.values().parallelStream().forEach(value -&gt; System.out.println(value));\r\n\r\n\t\t// Iterate all key/value pairs\r\n\t\tmyMap.entrySet().stream().forEach(entry -&gt; System.out.println(entry.getKey() + &quot; - &quot; + entry.getValue()));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#keySet%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#values%28%29\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet%28%29\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Java HashMap key value storage and retrieval","body":"<p>I use these three ways to iterate a map. All methods (<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#keySet%28%29\" rel=\"noreferrer\"><code>keySet</code></a>, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#values%28%29\" rel=\"noreferrer\"><code>values</code></a>, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html#entrySet%28%29\" rel=\"noreferrer\"><code>entrySet</code></a>) return a collection.</p>\n\n<pre><code>// Given the following map\nMap&lt;KeyClass, ValueClass&gt; myMap;\n\n// Iterate all keys\nfor (KeyClass key  : myMap.keySet()) \n    System.out.println(key);\n\n// Iterate all values\nfor (ValueClass value  : myMap.values()) \n    System.out.println(value);\n\n// Iterate all key/value pairs\nfor (Entry&lt;KeyClass, ValueClass&gt; entry  : myMap.entrySet()) \n    System.out.println(entry.getKey() + \" - \" + entry.getValue());\n</code></pre>\n\n<p>Since Java 8 i often use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code>s</a> with <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">lambda expressions</a>.</p>\n\n<pre><code>    // Iterate all keys\n    myMap.keySet().stream().forEach(key -&gt; System.out.println(key));\n\n    // Iterate all values\n    myMap.values().parallelStream().forEach(value -&gt; System.out.println(value));\n\n    // Iterate all key/value pairs\n    myMap.entrySet().stream().forEach(entry -&gt; System.out.println(entry.getKey() + \" - \" + entry.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1477239"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1460407160,"creation_date":1340478931,"answer_id":11172268,"question_id":11048783,"body_markdown":"**Java Hashmap key value example:**\r\n\r\n    public void processHashMap() {\r\n        //add keys-&gt;value pairs to a hashmap:\r\n        HashMap hm = new HashMap();\r\n        hm.put(1, &quot;godric gryfindor&quot;);\r\n        hm.put(2, &quot;helga hufflepuff&quot;);\r\n        hm.put(3, &quot;rowena ravenclaw&quot;);\r\n        hm.put(4, &quot;salazaar slytherin&quot;);\r\n\r\n        //Then get data back out of it:\r\n        LinkedList ll = new LinkedList();\r\n        Iterator itr = hm.keySet().iterator();\r\n        while(itr.hasNext()) {\r\n            String key = itr.next();\r\n            ll.add(key);\r\n        }\r\n\r\n        System.out.print(ll);  //The key list will be printed.\r\n    }\r\n","title":"Java HashMap key value storage and retrieval","body":"<p><strong>Java Hashmap key value example:</strong></p>\n\n<pre><code>public void processHashMap() {\n    //add keys-&gt;value pairs to a hashmap:\n    HashMap hm = new HashMap();\n    hm.put(1, \"godric gryfindor\");\n    hm.put(2, \"helga hufflepuff\");\n    hm.put(3, \"rowena ravenclaw\");\n    hm.put(4, \"salazaar slytherin\");\n\n    //Then get data back out of it:\n    LinkedList ll = new LinkedList();\n    Iterator itr = hm.keySet().iterator();\n    while(itr.hasNext()) {\n        String key = itr.next();\n        ll.add(key);\n    }\n\n    System.out.print(ll);  //The key list will be printed.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4063214,"reputation":31,"user_id":3339147,"display_name":"user3339147"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1393021639,"creation_date":1393021639,"answer_id":21946474,"question_id":11048783,"body_markdown":"\r\n    //import statements\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.TreeMap;\r\n\r\n    // hashmap test class\r\n    public class HashMapTest {\r\n\r\n        public static void main(String args[]) {\r\n\r\n            HashMap&lt;Integer,String&gt; hashMap = new HashMap&lt;Integer,String&gt;(); \r\n\r\n            hashMap.put(91, &quot;India&quot;);\r\n            hashMap.put(34, &quot;Spain&quot;);\r\n            hashMap.put(63, &quot;Philippines&quot;);\r\n            hashMap.put(41, &quot;Switzerland&quot;);\r\n\r\n            // sorting elements\r\n            System.out.println(&quot;Unsorted HashMap: &quot; + hashMap);\r\n            TreeMap&lt;Integer,String&gt; sortedHashMap = new TreeMap&lt;Integer,String&gt;(hashMap);\r\n            System.out.println(&quot;Sorted HashMap: &quot; + sortedHashMap);\r\n\r\n            // hashmap empty check\r\n            boolean isHashMapEmpty = hashMap.isEmpty();\r\n            System.out.println(&quot;HashMap Empty: &quot; + isHashMapEmpty);\r\n\r\n            // hashmap size\r\n            System.out.println(&quot;HashMap Size: &quot; + hashMap.size());\r\n\r\n            // hashmap iteration and printing\r\n            Iterator&lt;Integer&gt; keyIterator = hashMap.keySet().iterator();\r\n            while(keyIterator.hasNext()) {\r\n                Integer key = keyIterator.next();\r\n                System.out.println(&quot;Code=&quot; + key + &quot;  Country=&quot; + hashMap.get(key));\r\n            }\r\n\r\n            // searching element by key and value\r\n            System.out.println(&quot;Does HashMap contains 91 as key: &quot; + hashMap.containsKey(91));\r\n            System.out.println(&quot;Does HashMap contains India as value: &quot; + hashMap.containsValue(&quot;India&quot;));\r\n\r\n            // deleting element by key\r\n            Integer key = 91;\r\n            Object value = hashMap.remove(key);\r\n            System.out.println(&quot;Following item is removed from HashMap: &quot; + value);\r\n\r\n        }\r\n\r\n    }","title":"Java HashMap key value storage and retrieval","body":"<pre><code>//import statements\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.TreeMap;\n\n// hashmap test class\npublic class HashMapTest {\n\n    public static void main(String args[]) {\n\n        HashMap&lt;Integer,String&gt; hashMap = new HashMap&lt;Integer,String&gt;(); \n\n        hashMap.put(91, \"India\");\n        hashMap.put(34, \"Spain\");\n        hashMap.put(63, \"Philippines\");\n        hashMap.put(41, \"Switzerland\");\n\n        // sorting elements\n        System.out.println(\"Unsorted HashMap: \" + hashMap);\n        TreeMap&lt;Integer,String&gt; sortedHashMap = new TreeMap&lt;Integer,String&gt;(hashMap);\n        System.out.println(\"Sorted HashMap: \" + sortedHashMap);\n\n        // hashmap empty check\n        boolean isHashMapEmpty = hashMap.isEmpty();\n        System.out.println(\"HashMap Empty: \" + isHashMapEmpty);\n\n        // hashmap size\n        System.out.println(\"HashMap Size: \" + hashMap.size());\n\n        // hashmap iteration and printing\n        Iterator&lt;Integer&gt; keyIterator = hashMap.keySet().iterator();\n        while(keyIterator.hasNext()) {\n            Integer key = keyIterator.next();\n            System.out.println(\"Code=\" + key + \"  Country=\" + hashMap.get(key));\n        }\n\n        // searching element by key and value\n        System.out.println(\"Does HashMap contains 91 as key: \" + hashMap.containsKey(91));\n        System.out.println(\"Does HashMap contains India as value: \" + hashMap.containsValue(\"India\"));\n\n        // deleting element by key\n        Integer key = 91;\n        Object value = hashMap.remove(key);\n        System.out.println(\"Following item is removed from HashMap: \" + value);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8582911,"reputation":1,"user_id":6429970,"display_name":"Saurav Mondal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465367726,"creation_date":1465367726,"answer_id":37694920,"question_id":11048783,"body_markdown":"    void hashMapExample(){\r\n    \t\r\n    \tHashMap&lt;String, String&gt; hMap = new HashMap&lt;String, String&gt;();\r\n    \thMap.put(&quot;key1&quot;, &quot;val1&quot;);\r\n    \thMap.put(&quot;key2&quot;, &quot;val2&quot;);\r\n    \thMap.put(&quot;key3&quot;, &quot;val3&quot;);\r\n    \thMap.put(&quot;key4&quot;, &quot;val4&quot;);\r\n    \thMap.put(&quot;key5&quot;, &quot;val5&quot;);\r\n    \t\r\n    \tif(hMap != null &amp;&amp; !hMap.isEmpty()){\r\n    \t\tfor(String key : hMap.keySet()){\r\n    \t\t\tSystem.out.println(key+&quot;:&quot;+hMap.get(key));\r\n    \t\t}\r\n    \t}\r\n    }","title":"Java HashMap key value storage and retrieval","body":"<pre><code>void hashMapExample(){\n\n    HashMap&lt;String, String&gt; hMap = new HashMap&lt;String, String&gt;();\n    hMap.put(\"key1\", \"val1\");\n    hMap.put(\"key2\", \"val2\");\n    hMap.put(\"key3\", \"val3\");\n    hMap.put(\"key4\", \"val4\");\n    hMap.put(\"key5\", \"val5\");\n\n    if(hMap != null &amp;&amp; !hMap.isEmpty()){\n        for(String key : hMap.keySet()){\n            System.out.println(key+\":\"+hMap.get(key));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1568717,"reputation":2081,"user_id":1456914,"accept_rate":67,"display_name":"Arjun K P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104470,"favorite_count":0,"down_vote_count":2,"up_vote_count":22,"accepted_answer_id":11172268,"answer_count":6,"score":20,"last_activity_date":1634995574,"creation_date":1339755463,"question_id":11048783,"body_markdown":"I want to store values and retrieve them from a Java HashMap.\r\n\r\nThis is what I have so far:\r\n\r\n    public void processHashMap()\r\n    {\r\n        HashMap hm = new HashMap();\r\n        hm.put(1,&quot;godric gryfindor&quot;);\r\n        hm.put(2,&quot;helga hufflepuff&quot;); \r\n        hm.put(3,&quot;rowena ravenclaw&quot;);\r\n        hm.put(4,&quot;salazaar slytherin&quot;);\r\n    }\r\n\r\nI want to retrieve all Keys and Values from the HashMap as a Java Collection or utility set (for example `LinkedList`).\r\n\r\nI know I can get the value if I know the key, like this:  \r\n\r\n    hm.get(1);\r\n\r\nIs there a way to retrieve key values as a list?","title":"Java HashMap key value storage and retrieval","body":"<p>I want to store values and retrieve them from a Java HashMap.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>public void processHashMap()\n{\n    HashMap hm = new HashMap();\n    hm.put(1,\"godric gryfindor\");\n    hm.put(2,\"helga hufflepuff\"); \n    hm.put(3,\"rowena ravenclaw\");\n    hm.put(4,\"salazaar slytherin\");\n}\n</code></pre>\n\n<p>I want to retrieve all Keys and Values from the HashMap as a Java Collection or utility set (for example <code>LinkedList</code>).</p>\n\n<p>I know I can get the value if I know the key, like this:  </p>\n\n<pre><code>hm.get(1);\n</code></pre>\n\n<p>Is there a way to retrieve key values as a list?</p>\n"},{"tags":["java","mp4","mpeg","mp4parser","fmp4"],"comments":[{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1634954240,"post_id":69684510,"comment_id":123173054,"body_markdown":"This is a continuation of my quest from https://stackoverflow.com/questions/69625970/java-mp4parser-to-create-a-single-m4s-fragment-invalid-moov-box/","body":"This is a continuation of my quest from <a href=\"https://stackoverflow.com/questions/69625970/java-mp4parser-to-create-a-single-m4s-fragment-invalid-moov-box/\" title=\"java mp4parser to create a single m4s fragment invalid moov box\">stackoverflow.com/questions/69625970/&hellip;</a>"},{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1634968657,"post_id":69684510,"comment_id":123174665,"body_markdown":"This isn&#39;t properly an answer to the question, ***but*** I was able to resolve the issue by rebuilding my ChunkFragmentM4sBuilder class from Sebastian Annies FragmentedMp4Builder instead of his DefaultMp4Builder class (from the original mp4parser builders)\n\n    https://github.com/charneykaye/encode-fmp4-demo/commit/b90f05d6eb59dd1ad6394df40479f36347846dcb","body":"This isn&#39;t properly an answer to the question, <b><i>but</i></b> I was able to resolve the issue by rebuilding my ChunkFragmentM4sBuilder class from Sebastian Annies FragmentedMp4Builder instead of his DefaultMp4Builder class (from the original mp4parser builders)      <a href=\"https://github.com/charneykaye/encode-fmp4-demo/commit/b90f05d6eb59dd1ad6394df40479f36347846dcb\" rel=\"nofollow noreferrer\">github.com/charneykaye/encode-fmp4-demo/commit/&hellip;</a>"},{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1634975862,"post_id":69684510,"comment_id":123175679,"body_markdown":"The saga continues... https://stackoverflow.com/questions/69686039/java-mp4parser-fragment-sequence-discontinuity","body":"The saga continues... <a href=\"https://stackoverflow.com/questions/69686039/java-mp4parser-fragment-sequence-discontinuity\" title=\"java mp4parser fragment sequence discontinuity\">stackoverflow.com/questions/69686039/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5928434,"reputation":30317,"user_id":4663670,"display_name":"aergistal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1634994433,"creation_date":1634984523,"answer_id":69687196,"question_id":69684510,"body_markdown":"`test-java-mp4parser.mp4` is not empty but is invalid because:\r\n\r\n- the `sidx` entry referenced size is wrong\r\n- the `tfhd` is overriding the default sample description index (`1`) with `0`\r\n- the `trun` doesn&#39;t specify the data offset\r\n- the `mdat` AAC data starts with 8 zero bytes which cause the decoding to fail\r\n\r\nThe file plays with FFmpeg if these are fixed.\r\n\r\nThe `m4s` segments listed are also malformed and don&#39;t seem to correspond to the concatenation result. For example the sequence number is used as the sample description index.","title":"Java mp4parser output is empty","body":"<p><code>test-java-mp4parser.mp4</code> is not empty but is invalid because:</p>\n<ul>\n<li>the <code>sidx</code> entry referenced size is wrong</li>\n<li>the <code>tfhd</code> is overriding the default sample description index (<code>1</code>) with <code>0</code></li>\n<li>the <code>trun</code> doesn't specify the data offset</li>\n<li>the <code>mdat</code> AAC data starts with 8 zero bytes which cause the decoding to fail</li>\n</ul>\n<p>The file plays with FFmpeg if these are fixed.</p>\n<p>The <code>m4s</code> segments listed are also malformed and don't seem to correspond to the concatenation result. For example the sequence number is used as the sample description index.</p>\n"}],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69687196,"answer_count":1,"score":0,"last_activity_date":1634994433,"creation_date":1634953704,"question_id":69684510,"body_markdown":"This use case is a service that manually encodes a series of uncompressed .wav media segments into .m4s fragments for broadcast via MPEG-DASH, using ffmpeg to compress the .wav to .aac and sannies/mp4parser to assemble the aac audio into a .m4s media fragment.\r\n\r\nI created [this public GitHub project](https://github.com/charneykaye/encode-fmp4-demo) to reproduce the issue in its entirety.\r\n\r\nFor example, here&#39;s the custom [ChunkFragmentM4sBuilder.java](https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/main/java/com/charneykaye/ChunkFragmentM4sBuilder.java) class.\r\n\r\n----------\r\n\r\n\r\nThe first example using MP4 box works, insofar as I am able to generate an initializing MP4 + series of fragment M4s\r\nfiles which can then be concatenated to form a playable MPEG4 stream.\r\n\r\nNote: it&#39;s a requirement for this use case that each media segment is encoded from an individually generated source segment, versus using a tool such as MP4Box to stream from a continuous audio source.\r\n\r\n**Attempts to manually build media segments via mp4parser are still failing overall,** because the fragments written by\r\nmy [ChunkFragmentM4sBuilder.java](https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/main/java/com/charneykaye/ChunkFragmentM4sBuilder.java) used below are malformed.\r\nBut I&#39;m having a difficult time understanding *how* exactly they are malformed.\r\n\r\nIt&#39;s been helpful for me to compare the two test logs side by\r\nside, [ChunkFragmentM4sBuilderTest.log.txt](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/ChunkFragmentM4sBuilderTest.log.txt)\r\nand [MP4BoxTest.log.txt](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/MP4BoxTest.log.txt).\r\n\r\n### via Java mp4parser (malformed)\r\n\r\nThe former [log](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/ChunkFragmentM4sBuilderTest.log.txt) is\r\nfrom [ChunkFragmentM4sBuilderTest.java](https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/test/java/com/charneykaye/ChunkFragmentM4sBuilderTest.java) which results in\r\nthe concatenated test output [test-java-mp4parser.mp4](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test-java-mp4parser.mp4) which is in\r\nfact empty:\r\n[![Concatenated output from Java mp4parser method is empty][1]][1]\r\n\r\n```java\r\nFiles.deleteIfExists(Path.of(m4sFilePath));\r\nAACTrackImpl aacTrack=new AACTrackImpl(new FileDataSourceImpl(aacFilePath));\r\nMovie movie=new Movie();\r\nmovie.addTrack(aacTrack);\r\nContainer mp4file=new ChunkFragmentM4sBuilder(hz,seconds,seqNum,bufferSize).build(movie);\r\nFileChannel fc=new FileOutputStream(m4sFilePath).getChannel();\r\nmp4file.writeContainer(fc);\r\nfc.close();\r\n```\r\n\r\n- [test5.mpd](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5.mpd)\r\n- [test5-128k-163493804.m4s](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-163493804.m4s)\r\n- [test5-128k-163493805.m4s](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-163493805.m4s)\r\n- [test5-128k-163493806.m4s](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-163493806.m4s)\r\n- [test5-128k-IS.mp4](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-IS.mp4)\r\n\r\nConcatenated boxes:\r\n\r\n```\r\nFileTypeBox[majorBrand=iso5;minorVersion=512;compatibleBrand=iso6;compatibleBrand=mp41]\r\nMovieBox[MovieHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=1000;duration=0;rate=1.0;volume=1.0;matrix=Rotate 0&#176;;nextTrackId=2];TrackBox[TrackHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;trackId=1;duration=0;layer=0;alternateGroup=1;volume=1.0;matrix=Rotate 0&#176;;width=0.0;height=0.0];EditBox[EditListBox{entries=[Entry{segmentDuration=0, mediaTime=1024, mediaRate=1.0}]}];MediaBox[MediaHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=48000;duration=0;language=und];HandlerBox[handlerType=soun;name=SoundHandler];MediaInformationBox[SoundMediaHeaderBox[balance=0.0];DataInformationBox[DataReferenceBox[DataEntryUrlBox[]]];SampleTableBox[SampleDescriptionBox[AudioSampleEntry{bytesPerSample=0, bytesPerFrame=0, bytesPerPacket=0, samplesPerPacket=0, packetSize=0, compressionId=0, soundVersion=0, sampleRate=48000, sampleSize=16, channelCount=2, boxes=[org.mp4parser.boxes.iso14496.part14.ESDescriptorBox@bed094d2]}];TimeToSampleBox[entryCount=0];SampleToChunkBox[entryCount=0];SampleSizeBox[sampleSize=0;sampleCount=0];StaticChunkOffsetBox[entryCount=0]]]]];MovieExtendsBox[org.mp4parser.boxes.iso14496.part12.TrackExtendsBox@11e7301d];UserDataBox[MetaBox[HandlerBox[handlerType=mdir;name=];AppleItemListBox[org.mp4parser.boxes.apple.AppleEncoderBox@691fba4]]]]\r\nSegmentTypeBox[majorBrand=msdh;minorVersion=0;compatibleBrand=msdh;compatibleBrand=msix]\r\nSegmentIndexBox{entries=[Entry{referenceType=0, referencedSize=160944, subsegmentDuration=480000, startsWithSap=1, sapType=0, sapDeltaTime=0}], referenceId=1, timeScale=48000, earliestPresentationTime=0, firstOffset=0, reserved=0}\r\nMovieFragmentBox[MovieFragmentHeaderBox{sequenceNumber=151304042};TrackFragmentBox[TrackFragmentHeaderBox{trackId=1, baseDataOffset=-1, sampleDescriptionIndex=0, defaultSampleDuration=-1, defaultSampleSize=-1, defaultSampleFlags=null, durationIsEmpty=true, defaultBaseIsMoof=true};TrackFragmentBaseMediaDecodeTimeBox{baseMediaDecodeTime=0};TrackRunBox{sampleCount=470, dataOffset=-1, dataOffsetPresent=false, sampleSizePresent=true, sampleDurationPresent=true, sampleFlagsPresentPresent=false, sampleCompositionTimeOffsetPresent=false, firstSampleFlags=null}]]\r\norg.mp4parser.boxes.iso14496.part12.MediaDataBox@3969adb0\r\n```\r\n\r\n### via MP4Box (ok)\r\n\r\nThe latter [log](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/MP4BoxTest.log.txt) is\r\nfrom [MP4BoxTest.java](https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/test/java/com/charneykaye/MP4BoxTest.java) which results in the concatenated test output\r\n[test-mp4box.mp4](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test-mp4box.mp4) which is OK.\r\n\r\nNote however, this method is not acceptable for the final use case, because of the imperfections in the blocks that are output by this hack method.\r\n\r\n[![Concatenated output from MP4Box method is ok][2]][2]\r\n\r\n```shell\r\nMP4Box \\\r\n  -profile live \\\r\n  -add aacFilePath \\\r\n  -dash 10000 \\\r\n  -frag 10000 \\\r\n  -idx ${NUM} \\\r\n  -moof-sn ${NUM} \\\r\n  -out test5.mpd \\\r\n  -segment-name test5-128k- \\\r\n  -segment-ext m4s \\\r\n  -single-traf \\\r\n  -subsegs-per-sidx 0 \\\r\n  -daisy-chain \\\r\n  -single-segment \\\r\n  /tmp\r\n```\r\n\r\n- [test5.mpd](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5.mpd)\r\n- [test5-128k-163494320.m4s](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-163494320.m4s)\r\n- [test5-128k-163494321.m4s](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-163494321.m4s)\r\n- [test5-128k-163494322.m4s](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-163494322.m4s)\r\n- [test5-128k-IS.mp4](https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-IS.mp4)\r\n\r\nConcatenated boxes:\r\n\r\n```\r\nFileTypeBox[majorBrand=iso5;minorVersion=512;compatibleBrand=iso6;compatibleBrand=mp41]\r\nMovieBox[MovieHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=1000;duration=0;rate=1.0;volume=1.0;matrix=Rotate 0&#176;;nextTrackId=2];TrackBox[TrackHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;trackId=1;duration=0;layer=0;alternateGroup=1;volume=1.0;matrix=Rotate 0&#176;;width=0.0;height=0.0];EditBox[EditListBox{entries=[Entry{segmentDuration=0, mediaTime=1024, mediaRate=1.0}]}];MediaBox[MediaHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=48000;duration=0;language=und];HandlerBox[handlerType=soun;name=SoundHandler];MediaInformationBox[SoundMediaHeaderBox[balance=0.0];DataInformationBox[DataReferenceBox[DataEntryUrlBox[]]];SampleTableBox[SampleDescriptionBox[AudioSampleEntry{bytesPerSample=0, bytesPerFrame=0, bytesPerPacket=0, samplesPerPacket=0, packetSize=0, compressionId=0, soundVersion=0, sampleRate=48000, sampleSize=16, channelCount=2, boxes=[org.mp4parser.boxes.iso14496.part14.ESDescriptorBox@bed094d2]}];TimeToSampleBox[entryCount=0];SampleToChunkBox[entryCount=0];SampleSizeBox[sampleSize=0;sampleCount=0];StaticChunkOffsetBox[entryCount=0]]]]];MovieExtendsBox[org.mp4parser.boxes.iso14496.part12.TrackExtendsBox@7ce1e496];UserDataBox[MetaBox[HandlerBox[handlerType=mdir;name=];AppleItemListBox[org.mp4parser.boxes.apple.AppleEncoderBox@51da5351]]]]\r\nSegmentTypeBox[majorBrand=msdh;minorVersion=0;compatibleBrand=msdh;compatibleBrand=msix]\r\nSegmentIndexBox{entries=[Entry{referenceType=0, referencedSize=162267, subsegmentDuration=479232, startsWithSap=1, sapType=1, sapDeltaTime=0}], referenceId=1, timeScale=48000, earliestPresentationTime=0, firstOffset=0, reserved=0}\r\nMovieFragmentBox[MovieFragmentHeaderBox{sequenceNumber=151304042};TrackFragmentBox[TrackFragmentHeaderBox{trackId=1, baseDataOffset=-1, sampleDescriptionIndex=0, defaultSampleDuration=-1, defaultSampleSize=-1, defaultSampleFlags=null, durationIsEmpty=false, defaultBaseIsMoof=true};TrackFragmentBaseMediaDecodeTimeBox{baseMediaDecodeTime=0};TrackRunBox{sampleCount=468, dataOffset=1964, dataOffsetPresent=true, sampleSizePresent=true, sampleDurationPresent=false, sampleFlagsPresentPresent=false, sampleCompositionTimeOffsetPresent=false, firstSampleFlags=null}]]\r\norg.mp4parser.boxes.iso14496.part12.MediaDataBox@640d3ba5\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ppR3E.png\r\n  [2]: https://i.stack.imgur.com/MW9g8.png","title":"Java mp4parser output is empty","body":"<p>This use case is a service that manually encodes a series of uncompressed .wav media segments into .m4s fragments for broadcast via MPEG-DASH, using ffmpeg to compress the .wav to .aac and sannies/mp4parser to assemble the aac audio into a .m4s media fragment.</p>\n<p>I created <a href=\"https://github.com/charneykaye/encode-fmp4-demo\" rel=\"nofollow noreferrer\">this public GitHub project</a> to reproduce the issue in its entirety.</p>\n<p>For example, here's the custom <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/main/java/com/charneykaye/ChunkFragmentM4sBuilder.java\" rel=\"nofollow noreferrer\">ChunkFragmentM4sBuilder.java</a> class.</p>\n<hr />\n<p>The first example using MP4 box works, insofar as I am able to generate an initializing MP4 + series of fragment M4s\nfiles which can then be concatenated to form a playable MPEG4 stream.</p>\n<p>Note: it's a requirement for this use case that each media segment is encoded from an individually generated source segment, versus using a tool such as MP4Box to stream from a continuous audio source.</p>\n<p><strong>Attempts to manually build media segments via mp4parser are still failing overall,</strong> because the fragments written by\nmy <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/main/java/com/charneykaye/ChunkFragmentM4sBuilder.java\" rel=\"nofollow noreferrer\">ChunkFragmentM4sBuilder.java</a> used below are malformed.\nBut I'm having a difficult time understanding <em>how</em> exactly they are malformed.</p>\n<p>It's been helpful for me to compare the two test logs side by\nside, <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/ChunkFragmentM4sBuilderTest.log.txt\" rel=\"nofollow noreferrer\">ChunkFragmentM4sBuilderTest.log.txt</a>\nand <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/MP4BoxTest.log.txt\" rel=\"nofollow noreferrer\">MP4BoxTest.log.txt</a>.</p>\n<h3>via Java mp4parser (malformed)</h3>\n<p>The former <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/ChunkFragmentM4sBuilderTest.log.txt\" rel=\"nofollow noreferrer\">log</a> is\nfrom <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/test/java/com/charneykaye/ChunkFragmentM4sBuilderTest.java\" rel=\"nofollow noreferrer\">ChunkFragmentM4sBuilderTest.java</a> which results in\nthe concatenated test output <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test-java-mp4parser.mp4\" rel=\"nofollow noreferrer\">test-java-mp4parser.mp4</a> which is in\nfact empty:\n<a href=\"https://i.stack.imgur.com/ppR3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ppR3E.png\" alt=\"Concatenated output from Java mp4parser method is empty\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.deleteIfExists(Path.of(m4sFilePath));\nAACTrackImpl aacTrack=new AACTrackImpl(new FileDataSourceImpl(aacFilePath));\nMovie movie=new Movie();\nmovie.addTrack(aacTrack);\nContainer mp4file=new ChunkFragmentM4sBuilder(hz,seconds,seqNum,bufferSize).build(movie);\nFileChannel fc=new FileOutputStream(m4sFilePath).getChannel();\nmp4file.writeContainer(fc);\nfc.close();\n</code></pre>\n<ul>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5.mpd\" rel=\"nofollow noreferrer\">test5.mpd</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-163493804.m4s\" rel=\"nofollow noreferrer\">test5-128k-163493804.m4s</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-163493805.m4s\" rel=\"nofollow noreferrer\">test5-128k-163493805.m4s</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-163493806.m4s\" rel=\"nofollow noreferrer\">test5-128k-163493806.m4s</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-java-mp4parser/test5-128k-IS.mp4\" rel=\"nofollow noreferrer\">test5-128k-IS.mp4</a></li>\n</ul>\n<p>Concatenated boxes:</p>\n<pre><code>FileTypeBox[majorBrand=iso5;minorVersion=512;compatibleBrand=iso6;compatibleBrand=mp41]\nMovieBox[MovieHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=1000;duration=0;rate=1.0;volume=1.0;matrix=Rotate 0°;nextTrackId=2];TrackBox[TrackHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;trackId=1;duration=0;layer=0;alternateGroup=1;volume=1.0;matrix=Rotate 0°;width=0.0;height=0.0];EditBox[EditListBox{entries=[Entry{segmentDuration=0, mediaTime=1024, mediaRate=1.0}]}];MediaBox[MediaHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=48000;duration=0;language=und];HandlerBox[handlerType=soun;name=SoundHandler];MediaInformationBox[SoundMediaHeaderBox[balance=0.0];DataInformationBox[DataReferenceBox[DataEntryUrlBox[]]];SampleTableBox[SampleDescriptionBox[AudioSampleEntry{bytesPerSample=0, bytesPerFrame=0, bytesPerPacket=0, samplesPerPacket=0, packetSize=0, compressionId=0, soundVersion=0, sampleRate=48000, sampleSize=16, channelCount=2, boxes=[org.mp4parser.boxes.iso14496.part14.ESDescriptorBox@bed094d2]}];TimeToSampleBox[entryCount=0];SampleToChunkBox[entryCount=0];SampleSizeBox[sampleSize=0;sampleCount=0];StaticChunkOffsetBox[entryCount=0]]]]];MovieExtendsBox[org.mp4parser.boxes.iso14496.part12.TrackExtendsBox@11e7301d];UserDataBox[MetaBox[HandlerBox[handlerType=mdir;name=];AppleItemListBox[org.mp4parser.boxes.apple.AppleEncoderBox@691fba4]]]]\nSegmentTypeBox[majorBrand=msdh;minorVersion=0;compatibleBrand=msdh;compatibleBrand=msix]\nSegmentIndexBox{entries=[Entry{referenceType=0, referencedSize=160944, subsegmentDuration=480000, startsWithSap=1, sapType=0, sapDeltaTime=0}], referenceId=1, timeScale=48000, earliestPresentationTime=0, firstOffset=0, reserved=0}\nMovieFragmentBox[MovieFragmentHeaderBox{sequenceNumber=151304042};TrackFragmentBox[TrackFragmentHeaderBox{trackId=1, baseDataOffset=-1, sampleDescriptionIndex=0, defaultSampleDuration=-1, defaultSampleSize=-1, defaultSampleFlags=null, durationIsEmpty=true, defaultBaseIsMoof=true};TrackFragmentBaseMediaDecodeTimeBox{baseMediaDecodeTime=0};TrackRunBox{sampleCount=470, dataOffset=-1, dataOffsetPresent=false, sampleSizePresent=true, sampleDurationPresent=true, sampleFlagsPresentPresent=false, sampleCompositionTimeOffsetPresent=false, firstSampleFlags=null}]]\norg.mp4parser.boxes.iso14496.part12.MediaDataBox@3969adb0\n</code></pre>\n<h3>via MP4Box (ok)</h3>\n<p>The latter <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/MP4BoxTest.log.txt\" rel=\"nofollow noreferrer\">log</a> is\nfrom <a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/src/test/java/com/charneykaye/MP4BoxTest.java\" rel=\"nofollow noreferrer\">MP4BoxTest.java</a> which results in the concatenated test output\n<a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test-mp4box.mp4\" rel=\"nofollow noreferrer\">test-mp4box.mp4</a> which is OK.</p>\n<p>Note however, this method is not acceptable for the final use case, because of the imperfections in the blocks that are output by this hack method.</p>\n<p><a href=\"https://i.stack.imgur.com/MW9g8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MW9g8.png\" alt=\"Concatenated output from MP4Box method is ok\" /></a></p>\n<pre class=\"lang-sh prettyprint-override\"><code>MP4Box \\\n  -profile live \\\n  -add aacFilePath \\\n  -dash 10000 \\\n  -frag 10000 \\\n  -idx ${NUM} \\\n  -moof-sn ${NUM} \\\n  -out test5.mpd \\\n  -segment-name test5-128k- \\\n  -segment-ext m4s \\\n  -single-traf \\\n  -subsegs-per-sidx 0 \\\n  -daisy-chain \\\n  -single-segment \\\n  /tmp\n</code></pre>\n<ul>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5.mpd\" rel=\"nofollow noreferrer\">test5.mpd</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-163494320.m4s\" rel=\"nofollow noreferrer\">test5-128k-163494320.m4s</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-163494321.m4s\" rel=\"nofollow noreferrer\">test5-128k-163494321.m4s</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-163494322.m4s\" rel=\"nofollow noreferrer\">test5-128k-163494322.m4s</a></li>\n<li><a href=\"https://github.com/charneykaye/encode-fmp4-demo/blob/main/notes/via-mp4box/test5-128k-IS.mp4\" rel=\"nofollow noreferrer\">test5-128k-IS.mp4</a></li>\n</ul>\n<p>Concatenated boxes:</p>\n<pre><code>FileTypeBox[majorBrand=iso5;minorVersion=512;compatibleBrand=iso6;compatibleBrand=mp41]\nMovieBox[MovieHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=1000;duration=0;rate=1.0;volume=1.0;matrix=Rotate 0°;nextTrackId=2];TrackBox[TrackHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;trackId=1;duration=0;layer=0;alternateGroup=1;volume=1.0;matrix=Rotate 0°;width=0.0;height=0.0];EditBox[EditListBox{entries=[Entry{segmentDuration=0, mediaTime=1024, mediaRate=1.0}]}];MediaBox[MediaHeaderBox[creationTime=Thu Dec 31 16:00:00 PST 1903;modificationTime=Thu Dec 31 16:00:00 PST 1903;timescale=48000;duration=0;language=und];HandlerBox[handlerType=soun;name=SoundHandler];MediaInformationBox[SoundMediaHeaderBox[balance=0.0];DataInformationBox[DataReferenceBox[DataEntryUrlBox[]]];SampleTableBox[SampleDescriptionBox[AudioSampleEntry{bytesPerSample=0, bytesPerFrame=0, bytesPerPacket=0, samplesPerPacket=0, packetSize=0, compressionId=0, soundVersion=0, sampleRate=48000, sampleSize=16, channelCount=2, boxes=[org.mp4parser.boxes.iso14496.part14.ESDescriptorBox@bed094d2]}];TimeToSampleBox[entryCount=0];SampleToChunkBox[entryCount=0];SampleSizeBox[sampleSize=0;sampleCount=0];StaticChunkOffsetBox[entryCount=0]]]]];MovieExtendsBox[org.mp4parser.boxes.iso14496.part12.TrackExtendsBox@7ce1e496];UserDataBox[MetaBox[HandlerBox[handlerType=mdir;name=];AppleItemListBox[org.mp4parser.boxes.apple.AppleEncoderBox@51da5351]]]]\nSegmentTypeBox[majorBrand=msdh;minorVersion=0;compatibleBrand=msdh;compatibleBrand=msix]\nSegmentIndexBox{entries=[Entry{referenceType=0, referencedSize=162267, subsegmentDuration=479232, startsWithSap=1, sapType=1, sapDeltaTime=0}], referenceId=1, timeScale=48000, earliestPresentationTime=0, firstOffset=0, reserved=0}\nMovieFragmentBox[MovieFragmentHeaderBox{sequenceNumber=151304042};TrackFragmentBox[TrackFragmentHeaderBox{trackId=1, baseDataOffset=-1, sampleDescriptionIndex=0, defaultSampleDuration=-1, defaultSampleSize=-1, defaultSampleFlags=null, durationIsEmpty=false, defaultBaseIsMoof=true};TrackFragmentBaseMediaDecodeTimeBox{baseMediaDecodeTime=0};TrackRunBox{sampleCount=468, dataOffset=1964, dataOffsetPresent=true, sampleSizePresent=true, sampleDurationPresent=false, sampleFlagsPresentPresent=false, sampleCompositionTimeOffsetPresent=false, firstSampleFlags=null}]]\norg.mp4parser.boxes.iso14496.part12.MediaDataBox@640d3ba5\n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","micronaut"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1598458477,"post_id":63599741,"comment_id":112467902,"body_markdown":"which JDK are you running?","body":"which JDK are you running?"},{"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"score":0,"creation_date":1598464221,"post_id":63599741,"comment_id":112470515,"body_markdown":"I tried with Corretto 8 and 11","body":"I tried with Corretto 8 and 11"},{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1598464362,"post_id":63599741,"comment_id":112470570,"body_markdown":"Are you using maven? If so try to reimport your project or do a mvn clean install","body":"Are you using maven? If so try to reimport your project or do a mvn clean install"},{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":0,"creation_date":1598464403,"post_id":63599741,"comment_id":112470594,"body_markdown":"Do it with JDK 8. I believe they revamped the whole Javax namespace from Java 9","body":"Do it with JDK 8. I believe they revamped the whole Javax namespace from Java 9"},{"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"score":0,"creation_date":1598466091,"post_id":63599741,"comment_id":112471386,"body_markdown":"I am using gradle (as said above) and also the example project is using gradle. I did *Reload all gradle projects* several times by now. I even invalidated IntelliJ caches. Nothing helps. Gradle by itself works and and the application starts.","body":"I am using gradle (as said above) and also the example project is using gradle. I did <i>Reload all gradle projects</i> several times by now. I even invalidated IntelliJ caches. Nothing helps. Gradle by itself works and and the application starts."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1598466317,"post_id":63599741,"comment_id":112471493,"body_markdown":"&quot;Do it with JDK 8.&quot; - That is unlikely to make a difference with respect to this problem.  The issue is likely that the classpath configured in the IDE is incorrect.","body":"&quot;Do it with JDK 8.&quot; - That is unlikely to make a difference with respect to this problem.  The issue is likely that the classpath configured in the IDE is incorrect."},{"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"score":0,"creation_date":1598472376,"post_id":63599741,"comment_id":112473977,"body_markdown":"@JeffScottBrown I am not so sure about that. Any other class that is defined as dependency is loaded correctly. Only `javax.inject` is an empty jar.","body":"@JeffScottBrown I am not so sure about that. Any other class that is defined as dependency is loaded correctly. Only <code>javax.inject</code> is an empty jar."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1598475114,"post_id":63599741,"comment_id":112475026,"body_markdown":"&quot; I am not so sure about that.&quot; - It is definitely not the case that you have to use Java 8.  The fact that your build works from Gradle means that the classes are available.  The problem is how the IDE project is configured.  If you want some help, submit the free consultation form at https://objectcomputing.com/products/micronaut and I will jump on a screen share with you and we will work it out.","body":"&quot; I am not so sure about that.&quot; - It is definitely not the case that you have to use Java 8.  The fact that your build works from Gradle means that the classes are available.  The problem is how the IDE project is configured.  If you want some help, submit the free consultation form at <a href=\"https://objectcomputing.com/products/micronaut\" rel=\"nofollow noreferrer\">objectcomputing.com/products/micronaut</a> and I will jump on a screen share with you and we will work it out."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1598476267,"post_id":63599741,"comment_id":112475389,"body_markdown":"See if http://jeffscreencasts.s3.amazonaws.com/javax_java11.mp4 is helpful.","body":"See if <a href=\"http://jeffscreencasts.s3.amazonaws.com/javax_java11.mp4\" rel=\"nofollow noreferrer\">jeffscreencasts.s3.amazonaws.com/javax_java11.mp4</a> is helpful."},{"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"score":0,"creation_date":1598553125,"post_id":63599741,"comment_id":112504393,"body_markdown":"@JeffScottBrown Thanks for the video, everything looks the same configuration wise. I tried on my Win10 machine (originally I was using Ubuntu) and there everything is fine. For the most part both installations have the same configuration (apart from the OS, obviously)","body":"@JeffScottBrown Thanks for the video, everything looks the same configuration wise. I tried on my Win10 machine (originally I was using Ubuntu) and there everything is fine. For the most part both installations have the same configuration (apart from the OS, obviously)"}],"answers":[{"tags":[],"owner":{"account_id":1147663,"reputation":23,"user_id":1130077,"display_name":"Kr10n1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634910599,"creation_date":1634910599,"answer_id":69678027,"question_id":63599741,"body_markdown":"[Micronaut 3 M2 Released][1]\r\n\r\nThis should answer your question. Adding this below to dependencies should help if you prefer using javax\r\n\r\n    implementation(&quot;javax.inject:javax.inject:1&quot;)\r\n\r\n  [1]: https://i.stack.imgur.com/YE0dn.png","title":"javax.inject imports missing in IntelliJ for Micronaut Kotlin project","body":"<p><a href=\"https://i.stack.imgur.com/YE0dn.png\" rel=\"nofollow noreferrer\">Micronaut 3 M2 Released</a></p>\n<p>This should answer your question. Adding this below to dependencies should help if you prefer using javax</p>\n<pre><code>implementation(&quot;javax.inject:javax.inject:1&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634993565,"creation_date":1634993565,"answer_id":69688342,"question_id":63599741,"body_markdown":"Since Micronaut 3.0, micronaut Gradle plugin adds new `jakarta.inejct` artifact automatically. No need add it explicitly.\r\n\r\nTry to build the project by command line(`./gradlew  build`) in Intellij IDEA *terminal* windows, then refresh the project in the Gradle pane.\r\n\r\nCheck my example to demo [Kotlin and Kotlin Coroutines](https://github.com/hantsy/micronaut-sandbox).","title":"javax.inject imports missing in IntelliJ for Micronaut Kotlin project","body":"<p>Since Micronaut 3.0, micronaut Gradle plugin adds new <code>jakarta.inejct</code> artifact automatically. No need add it explicitly.</p>\n<p>Try to build the project by command line(<code>./gradlew  build</code>) in Intellij IDEA <em>terminal</em> windows, then refresh the project in the Gradle pane.</p>\n<p>Check my example to demo <a href=\"https://github.com/hantsy/micronaut-sandbox\" rel=\"nofollow noreferrer\">Kotlin and Kotlin Coroutines</a>.</p>\n"}],"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69688342,"answer_count":2,"score":4,"last_activity_date":1634993565,"creation_date":1598451772,"question_id":63599741,"body_markdown":"I wanted to get started with Micronaut using Kotlin in IntelliJ. I can setup [this exmaple project from github][1]. Running the project with gradle works just fine. Still IntelliJ will not let me import any annotation from `javax.inject`. The editor will always display `import javax.inject.Singleton` as compilation error (e.g. red font). Mouse over displays\r\n\r\n&gt; Unresolved reference: Singleton\r\n\r\nBrowsing *External Libraries* in the project tree shows a dependency `javax.inject:javax.inject:1` that should contain said annotations but it is displayed as empty folder.\r\n\r\nSince IntelliJ is using gradle for building the build works without compilation error. As mentioned in the docs: annotation processing is enabled in IntelliJ.\r\n\r\nAm I missing something or is this broken in IntelliJ (Build #IU-202.6397.94, built on July 27, 2020, Kotlin plugin 1.4.0)\r\n\r\n  [1]: https://github.com/micronaut-guides/micronaut-cache-kotlin","title":"javax.inject imports missing in IntelliJ for Micronaut Kotlin project","body":"<p>I wanted to get started with Micronaut using Kotlin in IntelliJ. I can setup <a href=\"https://github.com/micronaut-guides/micronaut-cache-kotlin\" rel=\"nofollow noreferrer\">this exmaple project from github</a>. Running the project with gradle works just fine. Still IntelliJ will not let me import any annotation from <code>javax.inject</code>. The editor will always display <code>import javax.inject.Singleton</code> as compilation error (e.g. red font). Mouse over displays</p>\n<blockquote>\n<p>Unresolved reference: Singleton</p>\n</blockquote>\n<p>Browsing <em>External Libraries</em> in the project tree shows a dependency <code>javax.inject:javax.inject:1</code> that should contain said annotations but it is displayed as empty folder.</p>\n<p>Since IntelliJ is using gradle for building the build works without compilation error. As mentioned in the docs: annotation processing is enabled in IntelliJ.</p>\n<p>Am I missing something or is this broken in IntelliJ (Build #IU-202.6397.94, built on July 27, 2020, Kotlin plugin 1.4.0)</p>\n"},{"tags":["java","testing","mockito","junit4","powermockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634973082,"post_id":69685816,"comment_id":123175257,"body_markdown":"Please add the full exception stack trace to your question.","body":"Please add the full exception stack trace to your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635026652,"post_id":69685816,"comment_id":123186627,"body_markdown":"Is that the whole stack trace? I would have expected a &quot;caused by&quot; exception after the one you&#39;ve shown. Can you add the MyCache constructor to your question.","body":"Is that the whole stack trace? I would have expected a &quot;caused by&quot; exception after the one you&#39;ve shown. Can you add the MyCache constructor to your question."}],"answers":[{"tags":[],"owner":{"account_id":6121895,"reputation":1,"user_id":4775196,"display_name":"Sireon Buta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634978166,"creation_date":1634978166,"answer_id":69686444,"question_id":69685816,"body_markdown":"Make sure you have at least one test method. Something like:\r\n\r\n\r\n    @org.junit.Test\r\n    public void testMethod() {\r\n    }","title":"Getting &#39;ExceptionInInitializerError&#39; while on with arg constructor mocking","body":"<p>Make sure you have at least one test method. Something like:</p>\n<pre><code>@org.junit.Test\npublic void testMethod() {\n}\n</code></pre>\n"}],"owner":{"account_id":2550873,"reputation":794,"user_id":2214646,"accept_rate":66,"display_name":"Pamba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634993534,"creation_date":1634971797,"question_id":69685816,"body_markdown":"I am using Junit4 for testing external java class.\r\nI want to Mock the below line of code\r\n\r\n    MySearch mySearch = MyCache.getData(new MyAlgorithm(keyword.trim()), MySearch.class);\r\n\r\nI tried like this\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({MyCache.class, MyAlgorithm.class})\r\n    public class Test {\r\n    \r\n    @BeforeClass\r\n      public static void setUpBeforeClass() throws Exception {\r\n    \r\n        PowerMockito.mockStatic(MyCache.class);\r\n    \r\n        MyAlgorithm alg = Mockito.mock(MyAlgorithm.class);\r\n        PowerMockito.whenNew(MyAlgorithm.class).withArguments(&quot;ABC&quot;).thenReturn(alg);\r\n    \r\n        MySearch mySearch = Mockito.mock(MySearch.class);\r\n        PowerMockito.when(MyCache.getData(alg,MySearch.class)).thenReturn(mySearch);\r\n    \r\n        //...\r\n      }\r\n      \r\n    }\r\n\r\n\r\nBut still i am getting this error &quot;**java.lang.ExceptionInInitializerError**&quot;\r\n\r\n-------------------\r\njava.lang.ExceptionInInitializerError\r\n\tat sun.reflect.GeneratedSerializationConstructorAccessor6.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.objenesis.instantiator.sun.SunReflectionFactoryInstantiator.newInstance(SunReflectionFactoryInstantiator.java:45)\r\n\tat org.objenesis.ObjenesisBase.newInstance(ObjenesisBase.java:73)\r\n\tat org.mockito.internal.creation.instance.ObjenesisInstantiator.newInstance(ObjenesisInstantiator.java:14)\r\n\tat org.powermock.api.mockito.repackaged.ClassImposterizer.createProxy(ClassImposterizer.java:143)\r\n\tat org.powermock.api.mockito.repackaged.ClassImposterizer.imposterise(ClassImposterizer.java:58)\r\n\tat org.powermock.api.mockito.internal.mockcreation.MockCreator.createMethodInvocationControl(MockCreator.java:111)\r\n\tat org.powermock.api.mockito.internal.mockcreation.MockCreator.mock(MockCreator.java:59)\r\n\tat org.powermock.api.mockito.PowerMockito.mockStatic(PowerMockito.java:70)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.internal.runners.ClassRoadie.runBefores(ClassRoadie.java:57)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:122)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:106)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)","title":"Getting &#39;ExceptionInInitializerError&#39; while on with arg constructor mocking","body":"<p>I am using Junit4 for testing external java class.\nI want to Mock the below line of code</p>\n<pre><code>MySearch mySearch = MyCache.getData(new MyAlgorithm(keyword.trim()), MySearch.class);\n</code></pre>\n<p>I tried like this</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({MyCache.class, MyAlgorithm.class})\npublic class Test {\n\n@BeforeClass\n  public static void setUpBeforeClass() throws Exception {\n\n    PowerMockito.mockStatic(MyCache.class);\n\n    MyAlgorithm alg = Mockito.mock(MyAlgorithm.class);\n    PowerMockito.whenNew(MyAlgorithm.class).withArguments(&quot;ABC&quot;).thenReturn(alg);\n\n    MySearch mySearch = Mockito.mock(MySearch.class);\n    PowerMockito.when(MyCache.getData(alg,MySearch.class)).thenReturn(mySearch);\n\n    //...\n  }\n  \n}\n</code></pre>\n<p>But still i am getting this error &quot;<strong>java.lang.ExceptionInInitializerError</strong>&quot;</p>\n<hr />\n<p>java.lang.ExceptionInInitializerError\nat sun.reflect.GeneratedSerializationConstructorAccessor6.newInstance(Unknown Source)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.objenesis.instantiator.sun.SunReflectionFactoryInstantiator.newInstance(SunReflectionFactoryInstantiator.java:45)\nat org.objenesis.ObjenesisBase.newInstance(ObjenesisBase.java:73)\nat org.mockito.internal.creation.instance.ObjenesisInstantiator.newInstance(ObjenesisInstantiator.java:14)\nat org.powermock.api.mockito.repackaged.ClassImposterizer.createProxy(ClassImposterizer.java:143)\nat org.powermock.api.mockito.repackaged.ClassImposterizer.imposterise(ClassImposterizer.java:58)\nat org.powermock.api.mockito.internal.mockcreation.MockCreator.createMethodInvocationControl(MockCreator.java:111)\nat org.powermock.api.mockito.internal.mockcreation.MockCreator.mock(MockCreator.java:59)\nat org.powermock.api.mockito.PowerMockito.mockStatic(PowerMockito.java:70)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.internal.runners.ClassRoadie.runBefores(ClassRoadie.java:57)\nat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:122)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:106)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1448338910,"post_id":33885401,"comment_id":55534919,"body_markdown":"That won&#39;t compile. Please post real code, please tell us in detail what problems your code is having.","body":"That won&#39;t compile. Please post real code, please tell us in detail what problems your code is having."},{"owner":{"account_id":6953304,"reputation":49,"user_id":5335227,"accept_rate":50,"display_name":"Abhishek Dalakoti"},"score":0,"creation_date":1448338958,"post_id":33885401,"comment_id":55534932,"body_markdown":"I know that,that&#39;s why I asked.","body":"I know that,that&#39;s why I asked."},{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1448340366,"post_id":33885401,"comment_id":55535337,"body_markdown":"@AbhishekDalakoti have a look now to the answer","body":"@AbhishekDalakoti have a look now to the answer"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448344508,"creation_date":1448344508,"answer_id":33886393,"question_id":33885401,"body_markdown":"Your solution seems way too complex to me. Your question implies that item at position i = fib(i) + sqr(i + 4). If that&#39;s the case then it&#39;s best if you just code it explicitly like that:\r\n\r\n    class WeirdSequence {\r\n        private int current = 1;\r\n        private int previous = 0;\r\n        private int count = 0;\r\n        public int current() {\r\n            return current + (count + 4) * (count + 4);\r\n        }\r\n        public void next() {\r\n            int next = current + previous;\r\n            previous = current;\r\n            current = next;\r\n            count++;\r\n        }\r\n    }\r\n\r\nYou can then generate as many of these as you want:\r\n\r\n    WeirdSequence sequence = new WeirdSequence();\r\n    System.out.println(sequence.current());\r\n    sequence.next();","title":"I need to print the series in Java","body":"<p>Your solution seems way too complex to me. Your question implies that item at position i = fib(i) + sqr(i + 4). If that's the case then it's best if you just code it explicitly like that:</p>\n\n<pre><code>class WeirdSequence {\n    private int current = 1;\n    private int previous = 0;\n    private int count = 0;\n    public int current() {\n        return current + (count + 4) * (count + 4);\n    }\n    public void next() {\n        int next = current + previous;\n        previous = current;\n        current = next;\n        count++;\n    }\n}\n</code></pre>\n\n<p>You can then generate as many of these as you want:</p>\n\n<pre><code>WeirdSequence sequence = new WeirdSequence();\nSystem.out.println(sequence.current());\nsequence.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23118517,"reputation":1,"user_id":17225374,"display_name":"malla deepika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634993096,"creation_date":1634983722,"answer_id":69687117,"question_id":33885401,"body_markdown":"```\r\npublic class Example {\r\n    static void Fibonacci(int N)\r\n    {\r\n        int num1 = 0, num2 = 1;\r\n        int counter = 0;\r\n\r\n        while (counter &lt; N) \r\n        {\r\n            for(int i=3; i&lt;10 ;i++)\r\n            {\r\n                int y = num1+i*i;\r\n                System.out.print(y+ &quot; &quot;);\r\n  \r\n                int num3 = num2 + num1;\r\n                num1 = num2;\r\n                num2 = num3;\r\n                counter = counter + 1;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static void main(String args[])\r\n    {\r\n        int N = 10;\r\n  \r\n        Fibonacci(N);\r\n    }\r\n}\r\n```","title":"I need to print the series in Java","body":"<pre><code>public class Example {\n    static void Fibonacci(int N)\n    {\n        int num1 = 0, num2 = 1;\n        int counter = 0;\n\n        while (counter &lt; N) \n        {\n            for(int i=3; i&lt;10 ;i++)\n            {\n                int y = num1+i*i;\n                System.out.print(y+ &quot; &quot;);\n  \n                int num3 = num2 + num1;\n                num1 = num2;\n                num2 = num3;\n                counter = counter + 1;\n            }\n        }\n    }\n    \n    public static void main(String args[])\n    {\n        int N = 10;\n  \n        Fibonacci(N);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6953304,"reputation":49,"user_id":5335227,"accept_rate":50,"display_name":"Abhishek Dalakoti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1634993096,"creation_date":1448338742,"question_id":33885401,"body_markdown":"I would like to print the following series in Java as 9,17,26,38,52......\r\nIn this first is Fibonacci series and other is square of a number\r\n(0+3*3),(1+4*4),(1+5*5),(2+6*6),(3+7*7)\r\n\r\n\r\n    Class Program\r\n\r\n    {\r\n    \r\n    int n1,n2,n3,n4;\r\n    \r\n    public static void main(String args[])\r\n    \r\n    {\r\n    \r\n    for(int i=2;i &lt; count; i++)\r\n    \r\n    n3 =  n1 + n2;\r\n    \r\n    for(int a=3; a &lt; count;a++)\r\n    \r\n    n4=  n3 + Math.(a,2);\r\n    \r\n    System.out.println(&quot;&quot;+n4);\r\n    \r\n    n1=n2;\r\n    \r\n    n2=n3;\r\n    }","title":"I need to print the series in Java","body":"<p>I would like to print the following series in Java as 9,17,26,38,52......\nIn this first is Fibonacci series and other is square of a number\n(0+3*3),(1+4*4),(1+5*5),(2+6*6),(3+7*7)</p>\n\n<pre><code>Class Program\n\n{\n\nint n1,n2,n3,n4;\n\npublic static void main(String args[])\n\n{\n\nfor(int i=2;i &lt; count; i++)\n\nn3 =  n1 + n2;\n\nfor(int a=3; a &lt; count;a++)\n\nn4=  n3 + Math.(a,2);\n\nSystem.out.println(\"\"+n4);\n\nn1=n2;\n\nn2=n3;\n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate","date"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630213924,"creation_date":1630212601,"answer_id":68969952,"question_id":68969881,"body_markdown":"For the HQL query option, you should be binding the Java `Date` to a named parameter:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Date dob = DateUtils.parseDate(&quot;28/09/2002&quot;);\r\n    session.createQuery(&quot;UPDATE Employee SET dateOfBirth = :dob WHERE id = 1&quot;)\r\n           .setParameter(&quot;dob&quot;, dob)\r\n           .executeUpdate();\r\n    session.getTransaction().commit();","title":"Unable to update date through sql query using hibernate","body":"<p>For the HQL query option, you should be binding the Java <code>Date</code> to a named parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date dob = DateUtils.parseDate(&quot;28/09/2002&quot;);\nsession.createQuery(&quot;UPDATE Employee SET dateOfBirth = :dob WHERE id = 1&quot;)\n       .setParameter(&quot;dob&quot;, dob)\n       .executeUpdate();\nsession.getTransaction().commit();\n</code></pre>\n"}],"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68969952,"answer_count":1,"score":1,"last_activity_date":1634992818,"creation_date":1630211479,"question_id":68969881,"body_markdown":"I have a database table as follows:\r\n```\r\n+----+------------+-----------+---------------------+---------+\r\n| id | first_name | last_name | date_of_birth       | company |\r\n+----+------------+-----------+---------------------+---------+\r\n|  1 | Vyom       | Yadav     | 2002-09-28 00:00:00 | Google  |\r\n+----+------------+-----------+---------------------+---------+\r\n```\r\n\r\nHere `date_of_birth` is of type `DATETIME`.\r\n\r\nConfigured annotations for `dateOfBirth`:\r\n\r\n    @Column(name = &quot;date_of_birth&quot;)\r\n    @Temporal(TemporalType.DATE)\r\n    private Date dateOfBirth;\r\n\r\nI am trying to update the date through Hibernate. I was able to update it the following way:\r\n\r\n    Date dob = DateUtils.parseDate(&quot;28/09/2002&quot;);\r\n    Employee foo = session.get(Employee.class, 1);\r\n    foo.setDateOfBirth(dob);\r\n    session.getTransaction().commit();\r\n\r\nHere, `DateUtils` is a simple class that uses `SimpleDateFormatter` to format the date. When I try to update the date like:\r\n\r\n    Date dob = DateUtils.parseDate(&quot;28/09/2002&quot;);\r\n    session.createQuery(&quot;UPDATE Employee SET dateOfBirth=&#39;&quot;+ dob +&quot;&#39; WHERE id=1&quot;).executeUpdate();\r\n    session.getTransaction().commit();\r\n\r\nI get an error saying:\r\n\r\n&gt; Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data\r\n&gt; truncation: Incorrect datetime value: &#39;Sat Sep 28 00:00:00 IST 2002&#39;\r\n&gt; for column &#39;date_of_birth&#39; at row 1\r\n\r\nIf the `datetime` value is incorrect, then how am I able to update the date using setter?\r\n\r\nCan anyone please help with this and tell me what is the best practice? \r\n\r\n**Note-** Format of date used in Java code is `dd/MM/yyyy`","title":"Unable to update date through sql query using hibernate","body":"<p>I have a database table as follows:</p>\n<pre><code>+----+------------+-----------+---------------------+---------+\n| id | first_name | last_name | date_of_birth       | company |\n+----+------------+-----------+---------------------+---------+\n|  1 | Vyom       | Yadav     | 2002-09-28 00:00:00 | Google  |\n+----+------------+-----------+---------------------+---------+\n</code></pre>\n<p>Here <code>date_of_birth</code> is of type <code>DATETIME</code>.</p>\n<p>Configured annotations for <code>dateOfBirth</code>:</p>\n<pre><code>@Column(name = &quot;date_of_birth&quot;)\n@Temporal(TemporalType.DATE)\nprivate Date dateOfBirth;\n</code></pre>\n<p>I am trying to update the date through Hibernate. I was able to update it the following way:</p>\n<pre><code>Date dob = DateUtils.parseDate(&quot;28/09/2002&quot;);\nEmployee foo = session.get(Employee.class, 1);\nfoo.setDateOfBirth(dob);\nsession.getTransaction().commit();\n</code></pre>\n<p>Here, <code>DateUtils</code> is a simple class that uses <code>SimpleDateFormatter</code> to format the date. When I try to update the date like:</p>\n<pre><code>Date dob = DateUtils.parseDate(&quot;28/09/2002&quot;);\nsession.createQuery(&quot;UPDATE Employee SET dateOfBirth='&quot;+ dob +&quot;' WHERE id=1&quot;).executeUpdate();\nsession.getTransaction().commit();\n</code></pre>\n<p>I get an error saying:</p>\n<blockquote>\n<p>Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data\ntruncation: Incorrect datetime value: 'Sat Sep 28 00:00:00 IST 2002'\nfor column 'date_of_birth' at row 1</p>\n</blockquote>\n<p>If the <code>datetime</code> value is incorrect, then how am I able to update the date using setter?</p>\n<p>Can anyone please help with this and tell me what is the best practice?</p>\n<p><strong>Note-</strong> Format of date used in Java code is <code>dd/MM/yyyy</code></p>\n"},{"tags":["java","lambda","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1624453588,"post_id":68093946,"comment_id":120363166,"body_markdown":"Answers below explain why lambdas in Java &quot;can&#39;t&quot; refer to the local variables from enclosing scopes. But that exact feature _is_ found in some other programming languages. It&#39;s called a _lexical closure._ I don&#39;t have time to write a proper answer that would explain closures, but [the Wikipedia article](https://en.wikipedia.org/wiki/Closure_(computer_programming)) is a good place to start if you want to learn more. TLDR version: implementing closures is more work for the language designers, and it invites programmers who don&#39;t understand them to make new categories of mistakes.","body":"Answers below explain why lambdas in Java &quot;can&#39;t&quot; refer to the local variables from enclosing scopes. But that exact feature <i>is</i> found in some other programming languages. It&#39;s called a <i>lexical closure.</i> I don&#39;t have time to write a proper answer that would explain closures, but <a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\">the Wikipedia article</a> is a good place to start if you want to learn more. TLDR version: implementing closures is more work for the language designers, and it invites programmers who don&#39;t understand them to make new categories of mistakes."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624427802,"creation_date":1624426422,"answer_id":68094015,"question_id":68093946,"body_markdown":"It is for the same reason the anonymous classes require the variables used in their coming out from the scope of themselves must be read-only -&gt; `final`.\r\n\r\n```\r\nfinal int finalInt = 0;\r\nint effectivelyFinalInt = 0;\r\nint brokenInt = 0;\r\nbrokenInt = 0;\r\n\r\nSupplier&lt;Integer&gt; supplier = new Supplier&lt;Integer&gt;() {\r\n\t@Override\r\n\tpublic Integer get() {\r\n        return finalInt;                        // compiles\r\n        return effectivelyFinalInt;             // compiles\r\n\t\treturn brokenInt;                       // doesn&#39;t compile\r\n\t}\r\n};\r\n```\r\n\r\nLambda expressions are only shortcuts for instances implementing the interface with only one abstract method (`@FunctionalInterface`).\r\n\r\n```\r\nSupplier&lt;Integer&gt; supplier = () -&gt; brokenInt;   // compiles\r\nSupplier&lt;Integer&gt; supplier = () -&gt; brokenInt;   // compiles\r\nSupplier&lt;Integer&gt; supplier = () -&gt; brokenInt;   // doesn&#39;t compile\r\n```\r\nI struggle to read the [Java Language specification][1] to provide support to my statements below, however, they are logical:\r\n\r\n- Note that evaluation of a lambda expression produces an instance of a functional interface.\r\n- Note that instantiating an interface requires implementing all its abstract methods. Doing as an expression produces an anonymous class.\r\n- Note that an anonymous class is always an inner class.\r\n- Each inner class can access only final or effectively-final variables outside of its scope: [Accessing Members of an Enclosing Class][2]\r\n\r\n   &gt; In addition, a local class has access to local variables. However, a local class can only access local variables that are declared final. When a local class accesses a local variable or parameter of the enclosing block, it captures that variable or parameter.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se10/html/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html#accessing-members-of-an-enclosing-class","title":"Why variable used in lambda expression should be final or effectively final","body":"<p>It is for the same reason the anonymous classes require the variables used in their coming out from the scope of themselves must be read-only -&gt; <code>final</code>.</p>\n<pre><code>final int finalInt = 0;\nint effectivelyFinalInt = 0;\nint brokenInt = 0;\nbrokenInt = 0;\n\nSupplier&lt;Integer&gt; supplier = new Supplier&lt;Integer&gt;() {\n    @Override\n    public Integer get() {\n        return finalInt;                        // compiles\n        return effectivelyFinalInt;             // compiles\n        return brokenInt;                       // doesn't compile\n    }\n};\n</code></pre>\n<p>Lambda expressions are only shortcuts for instances implementing the interface with only one abstract method (<code>@FunctionalInterface</code>).</p>\n<pre><code>Supplier&lt;Integer&gt; supplier = () -&gt; brokenInt;   // compiles\nSupplier&lt;Integer&gt; supplier = () -&gt; brokenInt;   // compiles\nSupplier&lt;Integer&gt; supplier = () -&gt; brokenInt;   // doesn't compile\n</code></pre>\n<p>I struggle to read the <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/index.html\" rel=\"nofollow noreferrer\">Java Language specification</a> to provide support to my statements below, however, they are logical:</p>\n<ul>\n<li><p>Note that evaluation of a lambda expression produces an instance of a functional interface.</p>\n</li>\n<li><p>Note that instantiating an interface requires implementing all its abstract methods. Doing as an expression produces an anonymous class.</p>\n</li>\n<li><p>Note that an anonymous class is always an inner class.</p>\n</li>\n<li><p>Each inner class can access only final or effectively-final variables outside of its scope: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html#accessing-members-of-an-enclosing-class\" rel=\"nofollow noreferrer\">Accessing Members of an Enclosing Class</a></p>\n<blockquote>\n<p>In addition, a local class has access to local variables. However, a local class can only access local variables that are declared final. When a local class accesses a local variable or parameter of the enclosing block, it captures that variable or parameter.</p>\n</blockquote>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624429057,"creation_date":1624429057,"answer_id":68094482,"question_id":68093946,"body_markdown":"When an instance of a lambda expression is created, any variables in the enclosing scope that it refers are copied into it. Now, suppose if that were allowed to modify, and now you are working with a stale value which is there in that copy. On the other hand, suppose the copy is modified inside the lambda, and still the value in the enclosing scope is not updated, leaving an inconsistency. Thus, to prevent such occurrences, the language designers have imposed this restriction. It would probably have made their life easier too. A related answer for an anonymous inner class can be found [here][1].\r\n\r\nAnother point is that you will be able to pass the lambda expression around and if it is escaped and a different thread executes it, while current thread is updating the same local variable, then there will be some concurrency issues too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class","title":"Why variable used in lambda expression should be final or effectively final","body":"<p>When an instance of a lambda expression is created, any variables in the enclosing scope that it refers are copied into it. Now, suppose if that were allowed to modify, and now you are working with a stale value which is there in that copy. On the other hand, suppose the copy is modified inside the lambda, and still the value in the enclosing scope is not updated, leaving an inconsistency. Thus, to prevent such occurrences, the language designers have imposed this restriction. It would probably have made their life easier too. A related answer for an anonymous inner class can be found <a href=\"https://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class\">here</a>.</p>\n<p>Another point is that you will be able to pass the lambda expression around and if it is escaped and a different thread executes it, while current thread is updating the same local variable, then there will be some concurrency issues too.</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1624432893,"creation_date":1624432548,"answer_id":68095208,"question_id":68093946,"body_markdown":"_I&#39;d like to preface this answer by saying what I show below is not actually how lambdas are implemented. The actual implementation involves_ `java.lang.invoke.LambdaMetafactory` _if I&#39;m not mistaken. My answer makes use of some inaccuracies to better demonstrate the point_.\r\n\r\n---\r\n\r\nLet&#39;s say you have the following:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  String foo = &quot;Hello, World!&quot;;\r\n  Runnable r = () -&gt; System.out.println(foo);\r\n  r.run();\r\n}\r\n```\r\n\r\nRemember that a lambda expression is shorthand for declaring an implementation of a functional interface. The lambda body is the implementation of the single abstract method of said functional interface. At run-time an actual object is created. So the above results in an object whose class implements `Runnable`.\r\n\r\nNow, the above lambda body references a local variable from the enclosing method. The instance created as a result of the lambda expression &quot;captures&quot; the value of that local variable. It&#39;s almost (but not really) like you have the following:\r\n\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  String foo = &quot;Hello, World!&quot;;\r\n\r\n  final class GeneratedClass implements Runnable {\r\n    \r\n    private final String generatedField;\r\n\r\n    private GeneratedClass(String generatedParam) {\r\n      generatedField = generatedParam;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n      System.out.println(generatedField);\r\n    }\r\n  }\r\n\r\n  Runnable r = new GeneratedClass(foo);\r\n  r.run();\r\n}\r\n```\r\n\r\nAnd now it should be easier to see the problems with supporting concurrency here:\r\n\r\n1. Local variables are not considered &quot;shared variables&quot;. This is stated in [&#167;17.4.1 of the _Java Language Specification_][1]:\r\n\r\n   &gt;Memory that can be shared between threads is called shared memory or heap memory.\r\n   &gt;\r\n   &gt;All instance fields, static fields, and array elements are stored in heap memory. In this chapter, we use the term variable to refer to both fields and array elements.\r\n   &gt;\r\n   &gt;Local variables (&#167;14.4), formal method parameters (&#167;8.4.1), and exception handler parameters (&#167;14.20) are never shared between threads and are unaffected by the memory model. \r\n\r\n   In other words, local variables are not covered by the concurrency rules of Java and cannot be shared between threads.\r\n\r\n2. At a source code level you only have access to the local variable. You don&#39;t see the generated field.\r\n\r\nI suppose Java could be designed so that modifying the local variable inside the lambda body only writes to the generated field, and modifying the local variable outside the lambda body only writes to the local variable. But as you can probably imagine that&#39;d be confusing and counterintuitive. You&#39;d have two variables that appear to be one variable based on the source code. And what&#39;s worse those two variables can diverge in value.\r\n\r\nThe other option is to have no generated field. But consider the following:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  String foo = &quot;Hello, World!&quot;;\r\n  Runnable r = () -&gt; {\r\n    foo = &quot;Goodbye, World!&quot;; // won&#39;t compile\r\n    System.out.println(foo);\r\n  }\r\n  new Thread(r).start();\r\n  System.out.println(foo);\r\n}\r\n```\r\n\r\nWhat is supposed to happen here? If there is no generated field then the local variable is being modified by a second thread. But local variables cannot be shared between threads. Thus this approach is not possible, at least not without a likely non-trivial change to Java and the JVM.\r\n\r\nSo, as I understand it, the designers put in the rule that the local variable must be final or effectively final in this context in order to avoid concurrency problems and confusing developers with esoteric problems.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.1","title":"Why variable used in lambda expression should be final or effectively final","body":"<p><em>I'd like to preface this answer by saying what I show below is not actually how lambdas are implemented. The actual implementation involves</em> <code>java.lang.invoke.LambdaMetafactory</code> <em>if I'm not mistaken. My answer makes use of some inaccuracies to better demonstrate the point</em>.</p>\n<hr />\n<p>Let's say you have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  String foo = &quot;Hello, World!&quot;;\n  Runnable r = () -&gt; System.out.println(foo);\n  r.run();\n}\n</code></pre>\n<p>Remember that a lambda expression is shorthand for declaring an implementation of a functional interface. The lambda body is the implementation of the single abstract method of said functional interface. At run-time an actual object is created. So the above results in an object whose class implements <code>Runnable</code>.</p>\n<p>Now, the above lambda body references a local variable from the enclosing method. The instance created as a result of the lambda expression &quot;captures&quot; the value of that local variable. It's almost (but not really) like you have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  String foo = &quot;Hello, World!&quot;;\n\n  final class GeneratedClass implements Runnable {\n    \n    private final String generatedField;\n\n    private GeneratedClass(String generatedParam) {\n      generatedField = generatedParam;\n    }\n\n    @Override\n    public void run() {\n      System.out.println(generatedField);\n    }\n  }\n\n  Runnable r = new GeneratedClass(foo);\n  r.run();\n}\n</code></pre>\n<p>And now it should be easier to see the problems with supporting concurrency here:</p>\n<ol>\n<li><p>Local variables are not considered &quot;shared variables&quot;. This is stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\">§17.4.1 of the <em>Java Language Specification</em></a>:</p>\n<blockquote>\n<p>Memory that can be shared between threads is called shared memory or heap memory.</p>\n<p>All instance fields, static fields, and array elements are stored in heap memory. In this chapter, we use the term variable to refer to both fields and array elements.</p>\n<p>Local variables (§14.4), formal method parameters (§8.4.1), and exception handler parameters (§14.20) are never shared between threads and are unaffected by the memory model.</p>\n</blockquote>\n<p>In other words, local variables are not covered by the concurrency rules of Java and cannot be shared between threads.</p>\n</li>\n<li><p>At a source code level you only have access to the local variable. You don't see the generated field.</p>\n</li>\n</ol>\n<p>I suppose Java could be designed so that modifying the local variable inside the lambda body only writes to the generated field, and modifying the local variable outside the lambda body only writes to the local variable. But as you can probably imagine that'd be confusing and counterintuitive. You'd have two variables that appear to be one variable based on the source code. And what's worse those two variables can diverge in value.</p>\n<p>The other option is to have no generated field. But consider the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  String foo = &quot;Hello, World!&quot;;\n  Runnable r = () -&gt; {\n    foo = &quot;Goodbye, World!&quot;; // won't compile\n    System.out.println(foo);\n  }\n  new Thread(r).start();\n  System.out.println(foo);\n}\n</code></pre>\n<p>What is supposed to happen here? If there is no generated field then the local variable is being modified by a second thread. But local variables cannot be shared between threads. Thus this approach is not possible, at least not without a likely non-trivial change to Java and the JVM.</p>\n<p>So, as I understand it, the designers put in the rule that the local variable must be final or effectively final in this context in order to avoid concurrency problems and confusing developers with esoteric problems.</p>\n"}],"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9111,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68095208,"answer_count":3,"score":4,"last_activity_date":1634992754,"creation_date":1624425953,"question_id":68093946,"body_markdown":"This question has been previously asked over [here](https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final)\r\n&lt;br&gt;\r\nMy question regarding why which was answered over [here](https://stackoverflow.com/a/50341404/15412365)\r\n&lt;br&gt;\r\nBut I have some doubts about the answer.\r\nThe answer provided mentions-\r\n&gt;&gt; Although other answers prove the requirement, they don&#39;t explain *why* the requirement exists.\r\n\r\n&gt;The JLS mentions why in [&#167;15.27.2](https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.27.2):\r\n\r\n&gt;&gt;The restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems.\r\n\r\n&gt;To lower the risk of bugs, they decided to ensure captured variables are never mutated. \r\nI am confused by the statement that it would lead to concurrency problems. \r\n&lt;br&gt;\r\n\r\nI read the article about concurrency problems on [Baeldung](https://www.baeldung.com/java-common-concurrency-pitfalls) but still, I am a bit confused about how it will cause concurrency problems, can anybody help me out with an example.\r\nThanks in advance.","title":"Why variable used in lambda expression should be final or effectively final","body":"<p>This question has been previously asked over <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">here</a>\n<br>\nMy question regarding why which was answered over <a href=\"https://stackoverflow.com/a/50341404/15412365\">here</a>\n<br>\nBut I have some doubts about the answer.\nThe answer provided mentions-</p>\n<blockquote>\n<blockquote>\n<p>Although other answers prove the requirement, they don't explain <em>why</em> the requirement exists.</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>The JLS mentions why in <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">§15.27.2</a>:</p>\n</blockquote>\n<blockquote>\n<blockquote>\n<p>The restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems.</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>To lower the risk of bugs, they decided to ensure captured variables are never mutated.\nI am confused by the statement that it would lead to concurrency problems.\n<br></p>\n</blockquote>\n<p>I read the article about concurrency problems on <a href=\"https://www.baeldung.com/java-common-concurrency-pitfalls\" rel=\"nofollow noreferrer\">Baeldung</a> but still, I am a bit confused about how it will cause concurrency problems, can anybody help me out with an example.\nThanks in advance.</p>\n"},{"tags":["java","spring-boot","maven","java.nio.file"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634988633,"post_id":69687682,"comment_id":123178159,"body_markdown":"Don&#39;t use images, but actually add your code to the question. Thanks!","body":"Don&#39;t use images, but actually add your code to the question. Thanks!"},{"owner":{"account_id":19712581,"reputation":29,"user_id":14432758,"display_name":"Chathura Kawshalya"},"score":0,"creation_date":1634988914,"post_id":69687682,"comment_id":123178216,"body_markdown":"Sorry for that, I have added the code.","body":"Sorry for that, I have added the code."}],"answers":[{"tags":[],"owner":{"account_id":18260588,"reputation":56,"user_id":13293490,"display_name":"Ali Dandach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634988886,"creation_date":1634988886,"answer_id":69687746,"question_id":69687682,"body_markdown":"1. Could you try &#39;src/main/resources/imagesuploads&#39; (without .)\r\n 2. Just a reminder: This directory will disappear when you package your application (production mode)\r\n 3. This directory should be configurable from an external file (application. properties for example)","title":"SpringBoot absolute path clarification","body":"<ol>\n<li>Could you try 'src/main/resources/imagesuploads' (without .)</li>\n<li>Just a reminder: This directory will disappear when you package your application (production mode)</li>\n<li>This directory should be configurable from an external file (application. properties for example)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19712581,"reputation":29,"user_id":14432758,"display_name":"Chathura Kawshalya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634992094,"creation_date":1634992094,"answer_id":69688157,"question_id":69687682,"body_markdown":"Thank you Ali, your response gave a lead to the solution. My project sits on MacOS partition therefore, I couldn&#39;t write a file without permission. I simply changed the location to another partition and it worked. \r\n\r\n    \t@RequestMapping(value=&quot;/upload&quot;, method = RequestMethod.POST)\r\n\tpublic String FileUpload(@RequestParam(&quot;file1Url&quot;) MultipartFile multipartfile, Model model) throws IOException {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;advertsim&quot;,new advertsummary());\r\n\t\t\r\n\t\tadvertsummary advert = new advertsummary();\r\n\t\t  \r\n\t\tString file1Urlname= StringUtils.cleanPath(multipartfile.getOriginalFilename());\r\n\t\tadvert.setFile1Url(file1Urlname);\r\n\t\t                                           \r\n\t\tadvertsummary savedadvert = AdvertService.addadvert(advert);\r\n\t\t\r\n\t\tString uploaddir = &quot;/Volumes/My Data/Fileupload&quot;+ savedadvert.getId();\t\r\n\t\r\n\t\tFileUploadUtil.saveFile(multipartfile, file1Urlname, uploaddir);\t\r\n\t\t\r\n\t\treturn &quot;uploadview&quot;;\r\n\t}\r\n\r\nThank you","title":"SpringBoot absolute path clarification","body":"<p>Thank you Ali, your response gave a lead to the solution. My project sits on MacOS partition therefore, I couldn't write a file without permission. I simply changed the location to another partition and it worked.</p>\n<pre><code>    @RequestMapping(value=&quot;/upload&quot;, method = RequestMethod.POST)\npublic String FileUpload(@RequestParam(&quot;file1Url&quot;) MultipartFile multipartfile, Model model) throws IOException {\n    \n    model.addAttribute(&quot;advertsim&quot;,new advertsummary());\n    \n    advertsummary advert = new advertsummary();\n      \n    String file1Urlname= StringUtils.cleanPath(multipartfile.getOriginalFilename());\n    advert.setFile1Url(file1Urlname);\n                                               \n    advertsummary savedadvert = AdvertService.addadvert(advert);\n    \n    String uploaddir = &quot;/Volumes/My Data/Fileupload&quot;+ savedadvert.getId();  \n\n    FileUploadUtil.saveFile(multipartfile, file1Urlname, uploaddir);    \n    \n    return &quot;uploadview&quot;;\n}\n</code></pre>\n<p>Thank you</p>\n"}],"owner":{"account_id":19712581,"reputation":29,"user_id":14432758,"display_name":"Chathura Kawshalya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1354,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1634992094,"creation_date":1634988233,"question_id":69687682,"body_markdown":"I&#39;m new to SpringBoot web dev. \r\nI need to save an image to a directory in the current project. I have given path as &quot;String uploaddir = &quot;./src/main/imageuploads/&quot;+ savedadvert.getId();&quot; but the image not save to the &quot;./src/main/imageuploads/&quot; directory in eclipse project.\r\n\r\n    @RequestMapping(value=&quot;/upload&quot;, method = RequestMethod.POST)\r\n\tpublic String FileUpload(@RequestParam(&quot;file1Url&quot;) MultipartFile multipartfile, Model model) throws IOException {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;advertsim&quot;,new advertsummary());\r\n\t\t\r\n\t\tadvertsummary advert = new advertsummary();\r\n\t\t  \r\n\t\tString file1Urlname= StringUtils.cleanPath(multipartfile.getOriginalFilename());\r\n\t\tadvert.setFile1Url(file1Urlname);\r\n\t\t                                           \r\n\t\tadvertsummary savedadvert = AdvertService.addadvert(advert);\r\n\t\t\r\n\t\tString uploaddir = &quot;./src/main/imageuploads/&quot;+ savedadvert.getId();\t\r\n\t\r\n\t\tFileUploadUtil.saveFile(multipartfile, file1Urlname, uploaddir);\t\r\n\t\t\r\n\t\treturn &quot;uploadview&quot;;\r\n\t}\r\n\r\nThis is the saveFile method for ref.\r\n\r\n    public static void saveFile(MultipartFile multipartFile, String fileName, String uploadDir) throws IOException {\r\n\t\t Path uploadPath = Paths.get(uploadDir);\r\n         \r\n\t        if (!Files.exists(uploadPath)) {\r\n\t            Files.createDirectories(uploadPath);\r\n\t        }\r\n\t          \r\n\t        try (InputStream inputStream = multipartFile.getInputStream()) {\r\n\t            Path filePath = uploadPath.resolve(fileName);\r\n\t            System.out.println(filePath.toFile().getAbsolutePath());\r\n\t            Files.copy(inputStream, filePath, StandardCopyOption.REPLACE_EXISTING);\r\n\t        } catch (IOException ioe) {       \r\n\t            throw new IOException(&quot;Could not save image file: &quot; + fileName, ioe);\r\n\t        }\r\n\t\t\r\n\t}\r\n\r\nI need to upload the image to this directory,\r\n[![enter image description here][3]][3]\r\n\r\nwhen I get the absolute path, it shows like this &quot;/Users/chathura/eclipse/jee-2021-03/Eclipse.app/Contents/MacOS/./src/main/imageuploads/24/new file.jpg&quot;. \r\nThere is no way to go to this directory but I can access that directory using the terminal.\r\n\r\n[![enter image description here][4]][4] \r\n\r\nPlease tell me what is the mistake here?\r\n\r\nNote : I&#39;m using macos\r\n\r\nThanks in advance \r\n\r\n  [1]: https://i.stack.imgur.com/oWGTy.png\r\n  [2]: https://i.stack.imgur.com/zMAjY.png\r\n  [3]: https://i.stack.imgur.com/uCvkk.png\r\n  [4]: https://i.stack.imgur.com/O2ICD.png","title":"SpringBoot absolute path clarification","body":"<p>I'm new to SpringBoot web dev.\nI need to save an image to a directory in the current project. I have given path as &quot;String uploaddir = &quot;./src/main/imageuploads/&quot;+ savedadvert.getId();&quot; but the image not save to the &quot;./src/main/imageuploads/&quot; directory in eclipse project.</p>\n<pre><code>@RequestMapping(value=&quot;/upload&quot;, method = RequestMethod.POST)\npublic String FileUpload(@RequestParam(&quot;file1Url&quot;) MultipartFile multipartfile, Model model) throws IOException {\n    \n    model.addAttribute(&quot;advertsim&quot;,new advertsummary());\n    \n    advertsummary advert = new advertsummary();\n      \n    String file1Urlname= StringUtils.cleanPath(multipartfile.getOriginalFilename());\n    advert.setFile1Url(file1Urlname);\n                                               \n    advertsummary savedadvert = AdvertService.addadvert(advert);\n    \n    String uploaddir = &quot;./src/main/imageuploads/&quot;+ savedadvert.getId(); \n\n    FileUploadUtil.saveFile(multipartfile, file1Urlname, uploaddir);    \n    \n    return &quot;uploadview&quot;;\n}\n</code></pre>\n<p>This is the saveFile method for ref.</p>\n<pre><code>public static void saveFile(MultipartFile multipartFile, String fileName, String uploadDir) throws IOException {\n     Path uploadPath = Paths.get(uploadDir);\n     \n        if (!Files.exists(uploadPath)) {\n            Files.createDirectories(uploadPath);\n        }\n          \n        try (InputStream inputStream = multipartFile.getInputStream()) {\n            Path filePath = uploadPath.resolve(fileName);\n            System.out.println(filePath.toFile().getAbsolutePath());\n            Files.copy(inputStream, filePath, StandardCopyOption.REPLACE_EXISTING);\n        } catch (IOException ioe) {       \n            throw new IOException(&quot;Could not save image file: &quot; + fileName, ioe);\n        }\n    \n}\n</code></pre>\n<p>I need to upload the image to this directory,\n<a href=\"https://i.stack.imgur.com/uCvkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uCvkk.png\" alt=\"enter image description here\" /></a></p>\n<p>when I get the absolute path, it shows like this &quot;/Users/chathura/eclipse/jee-2021-03/Eclipse.app/Contents/MacOS/./src/main/imageuploads/24/new file.jpg&quot;.\nThere is no way to go to this directory but I can access that directory using the terminal.</p>\n<p><a href=\"https://i.stack.imgur.com/O2ICD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2ICD.png\" alt=\"enter image description here\" /></a></p>\n<p>Please tell me what is the mistake here?</p>\n<p>Note : I'm using macos</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":2,"creation_date":1397570625,"post_id":2732260,"comment_id":35283966,"body_markdown":"You should accept @TomHawtin&#39;s [answer](http://stackoverflow.com/a/2732760/281545)","body":"You should accept @TomHawtin&#39;s <a href=\"http://stackoverflow.com/a/2732760/281545\">answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":15,"up_vote_count":38,"is_accepted":true,"score":23,"last_activity_date":1471014788,"creation_date":1272480449,"answer_id":2732264,"question_id":2732260,"body_markdown":"Close() always flushes so no need to call.\r\n\r\nEDIT: This answer is based on common sense and all the outputstream I encountered. Who is going to implement a close() for a buffered stream without flushing buffer first? There is no harm to call flush right before close(). However, there are consequences if flush() is called excessively. It may defeat underneath buffering mechanism.","title":"In Java, when I call OutputStream.close() do I always need to call OutputStream.flush() before?","body":"<p>Close() always flushes so no need to call.</p>\n\n<p>EDIT: This answer is based on common sense and all the outputstream I encountered. Who is going to implement a close() for a buffered stream without flushing buffer first? There is no harm to call flush right before close(). However, there are consequences if flush() is called excessively. It may defeat underneath buffering mechanism.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1634992007,"creation_date":1272485161,"answer_id":2732760,"question_id":2732260,"body_markdown":"Whilst `close` should call `flush`, it&#39;s a bit more complicated than that...\r\n\r\nFirstly, decorators (such as `BufferedOutputStream`) are common in Java. Construction of the decorator may fail, so you need to `close` the &quot;raw&quot; stream in a `finally` block whose `try` includes the decorator. In the case of an exception, you don&#39;t usually need to `close` the decorator (except, for instance, for badly implemented compression decorators). You do typically need to `flush` the decorator in the non-exception case. Therefore:\r\n\r\n    final RawOutputStream rawOut = new RawOutputStream(rawThing);\r\n    try {\r\n        final DecoratedOutputStream out = new DecoratedOutputStream(rawOut);\r\n        // ... stuff with out within ...\r\n        out.flush();\r\n    } finally {\r\n        rawOut.close();\r\n    }\r\n\r\nTo top it, decorator `close` methods are often implemented incorrectly. That includes some in `java.io` until recently.\r\n\r\nOf course, you probably want to use the Execute Around idiom to keep in DRY(ish).\r\n\r\n**Edit:** Since Java 8 you can use try-with-resource statements that should handle everything nicely and concisely. The code will call close on each resource even if unnecessary.\r\n\r\n    try (\r\n        RawOutputStream rawOut = new RawOutputStream(rawThing);\r\n        DecoratedOutputStream out = new DecoratedOutputStream(rawOut)\r\n    ) {\r\n        // ... stuff with out within ...\r\n    }\r\n","title":"In Java, when I call OutputStream.close() do I always need to call OutputStream.flush() before?","body":"<p>Whilst <code>close</code> should call <code>flush</code>, it's a bit more complicated than that...</p>\n<p>Firstly, decorators (such as <code>BufferedOutputStream</code>) are common in Java. Construction of the decorator may fail, so you need to <code>close</code> the &quot;raw&quot; stream in a <code>finally</code> block whose <code>try</code> includes the decorator. In the case of an exception, you don't usually need to <code>close</code> the decorator (except, for instance, for badly implemented compression decorators). You do typically need to <code>flush</code> the decorator in the non-exception case. Therefore:</p>\n<pre><code>final RawOutputStream rawOut = new RawOutputStream(rawThing);\ntry {\n    final DecoratedOutputStream out = new DecoratedOutputStream(rawOut);\n    // ... stuff with out within ...\n    out.flush();\n} finally {\n    rawOut.close();\n}\n</code></pre>\n<p>To top it, decorator <code>close</code> methods are often implemented incorrectly. That includes some in <code>java.io</code> until recently.</p>\n<p>Of course, you probably want to use the Execute Around idiom to keep in DRY(ish).</p>\n<p><strong>Edit:</strong> Since Java 8 you can use try-with-resource statements that should handle everything nicely and concisely. The code will call close on each resource even if unnecessary.</p>\n<pre><code>try (\n    RawOutputStream rawOut = new RawOutputStream(rawThing);\n    DecoratedOutputStream out = new DecoratedOutputStream(rawOut)\n) {\n    // ... stuff with out within ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1161721,"reputation":9621,"user_id":1141093,"accept_rate":87,"display_name":"brianmearns"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1461700622,"creation_date":1461700622,"answer_id":36874583,"question_id":2732260,"body_markdown":"If you want the stream to be flushed, then **yes**, call `flush()` before calling `close()`.\r\n\r\nDespite all the other answers to the contrary (but as noted correctly in some comments), the default implementation of `java.io.OutputStream::close()` **does not** call `flush()`. In fact, it does nothing. If you have a source distribution, you can easily check it out for yourself, otherwise just trust the [official javadoc][1], quoted here:\r\n\r\n&gt; The general contract of close is that it closes the output stream. A\r\n&gt; closed stream cannot perform output operations and cannot be reopened.\r\n&gt; \r\n&gt; The close method of OutputStream does nothing.\r\n\r\nRegardless of whether `close()` flushes or not, the safest approach should be to flush it manually. If it gets flushed again, who cares?\r\n\r\nThe answer by &quot;Tom Hawtin - tackline&quot; has additional details on safely closing streams (but doesn&#39;t really answer the original question clearly =P).\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html#close%28%29","title":"In Java, when I call OutputStream.close() do I always need to call OutputStream.flush() before?","body":"<p>If you want the stream to be flushed, then <strong>yes</strong>, call <code>flush()</code> before calling <code>close()</code>.</p>\n\n<p>Despite all the other answers to the contrary (but as noted correctly in some comments), the default implementation of <code>java.io.OutputStream::close()</code> <strong>does not</strong> call <code>flush()</code>. In fact, it does nothing. If you have a source distribution, you can easily check it out for yourself, otherwise just trust the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html#close%28%29\" rel=\"noreferrer\">official javadoc</a>, quoted here:</p>\n\n<blockquote>\n  <p>The general contract of close is that it closes the output stream. A\n  closed stream cannot perform output operations and cannot be reopened.</p>\n  \n  <p>The close method of OutputStream does nothing.</p>\n</blockquote>\n\n<p>Regardless of whether <code>close()</code> flushes or not, the safest approach should be to flush it manually. If it gets flushed again, who cares?</p>\n\n<p>The answer by \"Tom Hawtin - tackline\" has additional details on safely closing streams (but doesn't really answer the original question clearly =P).</p>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1471060653,"creation_date":1470983568,"answer_id":38911375,"question_id":2732260,"body_markdown":"There are so many dangerous answers and comments here. Keep read why I used the word *dangerous*.\r\n\r\nFirst things first. Check these out.\r\n\r\n* [`AutoCloseable#close()`](http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--)\r\n* [`Closeable#close()`](http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html#close--)\r\n* [`OutputStream#close()`](http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html#close--)\r\n* [&lt;del&gt;`Writer#close()`&lt;/del&gt;](http://docs.oracle.com/javase/8/docs/api/java/io/Writer.html#close--)\r\n\r\n\r\n\r\nYou shall find that there is no single statement that saying `close()` will call `flush()`. Fix me if I missed any.\r\n\r\nUse `flush()` whenever you need to or need to guarantee the buffered data flushed at least into OS level.\r\n\r\n`flush()` has its own purpose(s).\r\n\r\n    // client\r\n    // sends exactly 234 bytes\r\n    // and returns exactly 124 bytes from the server\r\n    static byte[] sendAndReceive(final OutputStream output,\r\n                                 final InputStream input)\r\n        throws IOException {\r\n        final byte[] request = new byte[234];\r\n        output.write(request);\r\n        // output.flush(); // @@? is this required or not?\r\n        final byte[] response = new byte[124];\r\n        new DataInputStream(input).readFully(response);\r\n        return response;\r\n    }\r\n\r\n    // server\r\n    // recieve exactly 234 bytes from the client\r\n    // sends exactly 124 bytes\r\n    static void receiveAndSend(final InputStream input,\r\n                               final OutputStream output)\r\n        throws IOException {\r\n        final byte[] request = new byte[234];\r\n        new DataInputStream(input).readFully(request);\r\n        final byte[] response = new byte[124];\r\n        output.write(response);\r\n        // output.flush(); // @@? is this required or not?\r\n    }\r\n\r\nThings might have been changed, but I experienced for myself about a decade ago. Above source code (client) worked with Windows XP and failed with Windows 2000 Server for a same endpoint(server).\r\n\r\n\r\nAnd (you) do not (have to) rely on any implementation specific behaviour of `close()`.\r\n\r\n\r\n    static void writeFile(File file, byte[] bytes) throws IOException {\r\n        try (OutputStream out = new FileOutputStream(bytes)) {\r\n            out.write(bytes);\r\n            out.flush(); // who cares what FileInputStream#close does?\r\n        }\r\n    }\r\n\r\nNote, also, that the `flush()` doesn&#39;t mean to writing/sending your data to physical disk or remote endpoint. It, mostly, just flushes the buffered data in the JVM into the underlying OS.\r\n\r\n----\r\n**errata**\r\n\r\n[`Writer#close()`](http://docs.oracle.com/javase/8/docs/api/java/io/Writer.html#close--) explicitly says that it\r\n&gt; closes the stream, flushing it first.\r\n\r\nBut it doesn&#39;t mean all subclasses keep this root contract. See [`PrintWriter#close()`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/Writer.java#Writer.close%28%29) which (without `flush()`) closes the internal `out`(`Writer`) which, again, depends one the `out`&#39;s `close()` implementation.","title":"In Java, when I call OutputStream.close() do I always need to call OutputStream.flush() before?","body":"<p>There are so many dangerous answers and comments here. Keep read why I used the word <em>dangerous</em>.</p>\n\n<p>First things first. Check these out.</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--\" rel=\"noreferrer\"><code>AutoCloseable#close()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html#close--\" rel=\"noreferrer\"><code>Closeable#close()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html#close--\" rel=\"noreferrer\"><code>OutputStream#close()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/Writer.html#close--\" rel=\"noreferrer\"><del><code>Writer#close()</code></del></a></li>\n</ul>\n\n<p>You shall find that there is no single statement that saying <code>close()</code> will call <code>flush()</code>. Fix me if I missed any.</p>\n\n<p>Use <code>flush()</code> whenever you need to or need to guarantee the buffered data flushed at least into OS level.</p>\n\n<p><code>flush()</code> has its own purpose(s).</p>\n\n<pre><code>// client\n// sends exactly 234 bytes\n// and returns exactly 124 bytes from the server\nstatic byte[] sendAndReceive(final OutputStream output,\n                             final InputStream input)\n    throws IOException {\n    final byte[] request = new byte[234];\n    output.write(request);\n    // output.flush(); // @@? is this required or not?\n    final byte[] response = new byte[124];\n    new DataInputStream(input).readFully(response);\n    return response;\n}\n\n// server\n// recieve exactly 234 bytes from the client\n// sends exactly 124 bytes\nstatic void receiveAndSend(final InputStream input,\n                           final OutputStream output)\n    throws IOException {\n    final byte[] request = new byte[234];\n    new DataInputStream(input).readFully(request);\n    final byte[] response = new byte[124];\n    output.write(response);\n    // output.flush(); // @@? is this required or not?\n}\n</code></pre>\n\n<p>Things might have been changed, but I experienced for myself about a decade ago. Above source code (client) worked with Windows XP and failed with Windows 2000 Server for a same endpoint(server).</p>\n\n<p>And (you) do not (have to) rely on any implementation specific behaviour of <code>close()</code>.</p>\n\n<pre><code>static void writeFile(File file, byte[] bytes) throws IOException {\n    try (OutputStream out = new FileOutputStream(bytes)) {\n        out.write(bytes);\n        out.flush(); // who cares what FileInputStream#close does?\n    }\n}\n</code></pre>\n\n<p>Note, also, that the <code>flush()</code> doesn't mean to writing/sending your data to physical disk or remote endpoint. It, mostly, just flushes the buffered data in the JVM into the underlying OS.</p>\n\n<hr>\n\n<p><strong>errata</strong></p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/Writer.html#close--\" rel=\"noreferrer\"><code>Writer#close()</code></a> explicitly says that it</p>\n\n<blockquote>\n  <p>closes the stream, flushing it first.</p>\n</blockquote>\n\n<p>But it doesn't mean all subclasses keep this root contract. See <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/io/Writer.java#Writer.close%28%29\" rel=\"noreferrer\"><code>PrintWriter#close()</code></a> which (without <code>flush()</code>) closes the internal <code>out</code>(<code>Writer</code>) which, again, depends one the <code>out</code>'s <code>close()</code> implementation.</p>\n"}],"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36504,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":2732264,"answer_count":4,"score":50,"last_activity_date":1634992007,"creation_date":1272480412,"question_id":2732260,"body_markdown":"If I just call `close()` in a output stream, the output is guaranteed, or need I call `flush()` always?","title":"In Java, when I call OutputStream.close() do I always need to call OutputStream.flush() before?","body":"<p>If I just call <code>close()</code> in a output stream, the output is guaranteed, or need I call <code>flush()</code> always?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1634976906,"post_id":69686242,"comment_id":123175888,"body_markdown":"I tried that and I see no flickering.","body":"I tried that and I see no flickering."},{"owner":{"account_id":20111186,"reputation":97,"user_id":14747555,"display_name":"narutouzumaki 99"},"score":0,"creation_date":1634978609,"post_id":69686242,"comment_id":123176198,"body_markdown":"Thank you, I&#39;ll start learning that. This was exercise for school, and I have to add some action listeners to the buttons.","body":"Thank you, I&#39;ll start learning that. This was exercise for school, and I have to add some action listeners to the buttons."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1634977399,"creation_date":1634977399,"answer_id":69686352,"question_id":69686242,"body_markdown":"It is because of the default `LayoutManager` which you dont want to use anyway since you are using strict bounds on your components. Remove layout manager with \r\n\r\n\r\n     setLayout(null);\r\n\r\nAnd it will work as intended\r\n\r\n    public ButtonFrame(){\r\n\r\n        setLayout(null); //this will do the trick\r\n\r\n        JButton b1 = new JButton(&quot;1. Dugme&quot;);\r\n        ...rest of your code\r\n\r\n    }","title":"Weird problem with GUI programming in Java","body":"<p>It is because of the default <code>LayoutManager</code> which you dont want to use anyway since you are using strict bounds on your components. Remove layout manager with</p>\n<pre><code> setLayout(null);\n</code></pre>\n<p>And it will work as intended</p>\n<pre><code>public ButtonFrame(){\n\n    setLayout(null); //this will do the trick\n\n    JButton b1 = new JButton(&quot;1. Dugme&quot;);\n    ...rest of your code\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634983649,"creation_date":1634980830,"answer_id":69686754,"question_id":69686242,"body_markdown":"I did not see the flickering you claim to be getting when I copied and ran your code on my Windows 10 computer with JDK 17. However, when I changed your code and added the label to the frame before adding the buttons and check-boxes (as you stated in your question), I did see &quot;flickering&quot;.\r\n\r\nAlthough you have already accepted @Antoniossss [answer][1], it is **not** recommended to **not** use a layout manager. Refer to the following excerpts from [Doing Without a Layout Manager][2]\r\n&gt; Although it is possible to do without a layout manager, you should use a layout manager if at all possible.\r\n------\r\n&gt; If a container holds components whose size is not affected by the container&#39;s size or by font, look-and-feel, or language changes, then absolute positioning might make sense.\r\n\r\nOne of the layout managers that your GUI lends itself to is [GridBagLayout][3], although that is not the only suitable one. The below code shows how. (Note that in the below code I set the text of the `JLabel` so that you can see it.)\r\n```java\r\nimport java.awt.Container;\r\nimport java.awt.EventQueue;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\n\r\npublic class BtnFrame {\r\n    private void createAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;Dugme&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(new GridBagLayout());\r\n        createForm(frame.getContentPane());\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private void createForm(Container contentPane) {\r\n        if (contentPane instanceof JComponent) {\r\n            JComponent jCmpt = (JComponent) contentPane;\r\n            jCmpt.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n        }\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.LINE_START;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.insets.bottom = 5;\r\n        gbc.insets.left = 5;\r\n        gbc.insets.right = 5;\r\n        gbc.insets.top = 5;\r\n        JButton b1 = new JButton(&quot;1. Dugme&quot;);\r\n        contentPane.add(b1, gbc);\r\n        gbc.gridx = 1;\r\n        JCheckBox c1 = new JCheckBox(&quot;Prvo dugme&quot;);\r\n        contentPane.add(c1, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        JButton b2 = new JButton(&quot;2. Dugme&quot;);\r\n        contentPane.add(b2, gbc);\r\n        gbc.gridx = 1;\r\n        JCheckBox c2 = new JCheckBox(&quot;Drugo dugme&quot;);\r\n        contentPane.add(c2, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        gbc.anchor = GridBagConstraints.CENTER;\r\n        JLabel l1 = new JLabel(&quot;label&quot;);\r\n        contentPane.add(l1, gbc);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final BtnFrame gui = new BtnFrame();\r\n        EventQueue.invokeLater(() -&gt; gui.createAndDisplayGui());\r\n    }\r\n}\r\n```\r\nHere is a screen capture of the application.\r\n\r\n[![screen capture of running application][4]][4]\r\n\r\nWhen setting the layout manager to null in your code (as @Antoniossss said in his answer), the GUI looks like the below screen capture. (Again, I also set the text of the `JLabel` so that you can see it.)\r\n\r\n[![screen capture of OP app][5]][5]\r\n\r\nAs you can see, the two screen captures are practically identical.\r\n\r\nFor completeness, here is your code, with my changes, that produce the above screen capture. As you can see, I moved the line `this.add(l1)` and also added the line `cp.setLayout(null)`.\r\n```java\r\nimport java.awt.Container;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\n\r\npublic class ButtonFrame extends JFrame {\r\n    public ButtonFrame(){\r\n        \r\n        JButton b1 = new JButton(&quot;1. Dugme&quot;);\r\n        JButton b2 = new JButton(&quot;2. Dugme&quot;);\r\n        JLabel l1 = new JLabel();\r\n        JCheckBox c1 = new JCheckBox(&quot;Prvo dugme&quot;);\r\n        JCheckBox c2 = new JCheckBox(&quot;Drugo dugme&quot;);\r\n        Container cp = getContentPane();\r\n        cp.setLayout(null); // Added this line.\r\n        setTitle(&quot;Dugme&quot;);\r\n        setSize(400,400);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        this.add(l1);\r\n        this.add(b1);\r\n        this.add(b2);\r\n        this.add(c1);\r\n        this.add(c2);\r\n//        this.add(l1);\r\n        b1.setBounds(20, 30, 90, 20);\r\n        b2.setBounds(20,70,90,20);\r\n        l1.setBounds(70,120,90,20);\r\n        c1.setBounds(120,30,120,20);\r\n        c2.setBounds(120,70,120,20);\r\n        \r\n        l1.setText(&quot;label&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ButtonFrame bf = new ButtonFrame();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69686242/weird-problem-with-gui-programming-in-java/69686352#69686352\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\r\n  [4]: https://i.stack.imgur.com/eGvVp.png\r\n  [5]: https://i.stack.imgur.com/r6A3t.png","title":"Weird problem with GUI programming in Java","body":"<p>I did not see the flickering you claim to be getting when I copied and ran your code on my Windows 10 computer with JDK 17. However, when I changed your code and added the label to the frame before adding the buttons and check-boxes (as you stated in your question), I did see &quot;flickering&quot;.</p>\n<p>Although you have already accepted @Antoniossss <a href=\"https://stackoverflow.com/questions/69686242/weird-problem-with-gui-programming-in-java/69686352#69686352\">answer</a>, it is <strong>not</strong> recommended to <strong>not</strong> use a layout manager. Refer to the following excerpts from <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html\" rel=\"nofollow noreferrer\">Doing Without a Layout Manager</a></p>\n<blockquote>\n<p>Although it is possible to do without a layout manager, you should use a layout manager if at all possible.</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>If a container holds components whose size is not affected by the container's size or by font, look-and-feel, or language changes, then absolute positioning might make sense.</p>\n</blockquote>\n<p>One of the layout managers that your GUI lends itself to is <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">GridBagLayout</a>, although that is not the only suitable one. The below code shows how. (Note that in the below code I set the text of the <code>JLabel</code> so that you can see it.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Container;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\n\npublic class BtnFrame {\n    private void createAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;Dugme&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(new GridBagLayout());\n        createForm(frame.getContentPane());\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private void createForm(Container contentPane) {\n        if (contentPane instanceof JComponent) {\n            JComponent jCmpt = (JComponent) contentPane;\n            jCmpt.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        }\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.insets.bottom = 5;\n        gbc.insets.left = 5;\n        gbc.insets.right = 5;\n        gbc.insets.top = 5;\n        JButton b1 = new JButton(&quot;1. Dugme&quot;);\n        contentPane.add(b1, gbc);\n        gbc.gridx = 1;\n        JCheckBox c1 = new JCheckBox(&quot;Prvo dugme&quot;);\n        contentPane.add(c1, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        JButton b2 = new JButton(&quot;2. Dugme&quot;);\n        contentPane.add(b2, gbc);\n        gbc.gridx = 1;\n        JCheckBox c2 = new JCheckBox(&quot;Drugo dugme&quot;);\n        contentPane.add(c2, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        gbc.anchor = GridBagConstraints.CENTER;\n        JLabel l1 = new JLabel(&quot;label&quot;);\n        contentPane.add(l1, gbc);\n    }\n\n    public static void main(String[] args) {\n        final BtnFrame gui = new BtnFrame();\n        EventQueue.invokeLater(() -&gt; gui.createAndDisplayGui());\n    }\n}\n</code></pre>\n<p>Here is a screen capture of the application.</p>\n<p><a href=\"https://i.stack.imgur.com/eGvVp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eGvVp.png\" alt=\"screen capture of running application\" /></a></p>\n<p>When setting the layout manager to null in your code (as @Antoniossss said in his answer), the GUI looks like the below screen capture. (Again, I also set the text of the <code>JLabel</code> so that you can see it.)</p>\n<p><a href=\"https://i.stack.imgur.com/r6A3t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6A3t.png\" alt=\"screen capture of OP app\" /></a></p>\n<p>As you can see, the two screen captures are practically identical.</p>\n<p>For completeness, here is your code, with my changes, that produce the above screen capture. As you can see, I moved the line <code>this.add(l1)</code> and also added the line <code>cp.setLayout(null)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Container;\n\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class ButtonFrame extends JFrame {\n    public ButtonFrame(){\n        \n        JButton b1 = new JButton(&quot;1. Dugme&quot;);\n        JButton b2 = new JButton(&quot;2. Dugme&quot;);\n        JLabel l1 = new JLabel();\n        JCheckBox c1 = new JCheckBox(&quot;Prvo dugme&quot;);\n        JCheckBox c2 = new JCheckBox(&quot;Drugo dugme&quot;);\n        Container cp = getContentPane();\n        cp.setLayout(null); // Added this line.\n        setTitle(&quot;Dugme&quot;);\n        setSize(400,400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n        this.add(l1);\n        this.add(b1);\n        this.add(b2);\n        this.add(c1);\n        this.add(c2);\n//        this.add(l1);\n        b1.setBounds(20, 30, 90, 20);\n        b2.setBounds(20,70,90,20);\n        l1.setBounds(70,120,90,20);\n        c1.setBounds(120,30,120,20);\n        c2.setBounds(120,70,120,20);\n        \n        l1.setText(&quot;label&quot;);\n    }\n\n    public static void main(String[] args) {\n        ButtonFrame bf = new ButtonFrame();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20111186,"reputation":97,"user_id":14747555,"display_name":"narutouzumaki 99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69686754,"answer_count":2,"score":1,"last_activity_date":1634991224,"creation_date":1634976429,"question_id":69686242,"body_markdown":"I have made a simple GUI in Java. The problem is, when I add label to the frame before buttons and check-buttons I get weird flickering when hovering over buttons, and GUI doesn&#39;t look right. But when I add label after buttons and check-buttons everything is working fine. Why is this happening?\r\n\r\nHere is my code:\r\n\r\n\r\n    package javaapplication13;\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n    public class JavaApplication13 {\r\n        public static void main(String[] args) {\r\n            ButtonFrame bf = new ButtonFrame();\r\n        }\r\n    }\r\n\r\n    class ButtonFrame extends JFrame {\r\n        public ButtonFrame() {\r\n            JButton b1 = new JButton(&quot;1. Dugme&quot;);\r\n            JButton b2 = new JButton(&quot;2. Dugme&quot;);\r\n            JLabel l1 = new JLabel();\r\n            JCheckBox c1 = new JCheckBox(&quot;Prvo dugme&quot;);\r\n            JCheckBox c2 = new JCheckBox(&quot;Drugo dugme&quot;);\r\n            Container cp = getContentPane();\r\n            setTitle(&quot;Dugme&quot;);\r\n            setSize(400,400);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setVisible(true);\r\n            this.add(b1);\r\n            this.add(b2);\r\n            this.add(c1);\r\n            this.add(c2);\r\n            this.add(l1);\r\n            b1.setBounds(20, 30, 90, 20);\r\n            b2.setBounds(20,70,90,20);\r\n            l1.setBounds(70,120,90,20);\r\n            c1.setBounds(120,30,120,20);\r\n            c2.setBounds(120,70,120,20);\r\n\r\n            l1.setText(&quot;&quot;);\r\n        }\r\n    }\r\n","title":"Weird problem with GUI programming in Java","body":"<p>I have made a simple GUI in Java. The problem is, when I add label to the frame before buttons and check-buttons I get weird flickering when hovering over buttons, and GUI doesn't look right. But when I add label after buttons and check-buttons everything is working fine. Why is this happening?</p>\n<p>Here is my code:</p>\n<pre><code>package javaapplication13;\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class JavaApplication13 {\n    public static void main(String[] args) {\n        ButtonFrame bf = new ButtonFrame();\n    }\n}\n\nclass ButtonFrame extends JFrame {\n    public ButtonFrame() {\n        JButton b1 = new JButton(&quot;1. Dugme&quot;);\n        JButton b2 = new JButton(&quot;2. Dugme&quot;);\n        JLabel l1 = new JLabel();\n        JCheckBox c1 = new JCheckBox(&quot;Prvo dugme&quot;);\n        JCheckBox c2 = new JCheckBox(&quot;Drugo dugme&quot;);\n        Container cp = getContentPane();\n        setTitle(&quot;Dugme&quot;);\n        setSize(400,400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n        this.add(b1);\n        this.add(b2);\n        this.add(c1);\n        this.add(c2);\n        this.add(l1);\n        b1.setBounds(20, 30, 90, 20);\n        b2.setBounds(20,70,90,20);\n        l1.setBounds(70,120,90,20);\n        c1.setBounds(120,30,120,20);\n        c2.setBounds(120,70,120,20);\n\n        l1.setText(&quot;&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","jtds"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":1,"creation_date":1291854805,"post_id":4393766,"comment_id":4788913,"body_markdown":"I can&#39;t imagine choosing a Microsoft Java integration component over something like jTDS.","body":"I can&#39;t imagine choosing a Microsoft Java integration component over something like jTDS."},{"owner":{"account_id":45798,"reputation":327462,"user_id":135152,"accept_rate":100,"display_name":"OMG Ponies"},"score":0,"creation_date":1291855091,"post_id":4393766,"comment_id":4788944,"body_markdown":"Atlassian&#39;s documentation for Confluence recommends using JTDS over the MS JDBC jar when connecting to SQL Server...","body":"Atlassian&#39;s documentation for Confluence recommends using JTDS over the MS JDBC jar when connecting to SQL Server..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1291860505,"post_id":4393766,"comment_id":4789516,"body_markdown":"See this question: http://stackoverflow.com/questions/1186932/using-jtds-driver","body":"See this question: <a href=\"http://stackoverflow.com/questions/1186932/using-jtds-driver\">stackoverflow.com/questions/1186932/using-jtds-driver</a>"},{"owner":{"account_id":20091,"reputation":61036,"user_id":47633,"accept_rate":61,"display_name":"opensas"},"score":0,"creation_date":1291864511,"post_id":4393766,"comment_id":4789859,"body_markdown":"Thanks for the link, Stephen, I really did a search on SO but I seem to have missed that question...","body":"Thanks for the link, Stephen, I really did a search on SO but I seem to have missed that question..."},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":1,"creation_date":1543928521,"post_id":4393766,"comment_id":94087842,"body_markdown":"&quot;besides one of them being open-source&quot; - Microsoft&#39;s JDBC driver for SQL Server is now [open-source](https://github.com/Microsoft/mssql-jdbc) and is under active development.","body":"&quot;besides one of them being open-source&quot; - Microsoft&#39;s JDBC driver for SQL Server is now <a href=\"https://github.com/Microsoft/mssql-jdbc\" rel=\"nofollow noreferrer\">open-source</a> and is under active development."}],"answers":[{"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1291904756,"creation_date":1291904756,"answer_id":4399254,"question_id":4393766,"body_markdown":"They are distinct implementations.  The jTDS driver is a type 4 and in my experience has better performance.  I have been using the jTDS driver in a production environment without any issues for 5 years.\r\n\r\nI would recommend going with jTDS.","title":"differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver","body":"<p>They are distinct implementations.  The jTDS driver is a type 4 and in my experience has better performance.  I have been using the jTDS driver in a production environment without any issues for 5 years.</p>\n\n<p>I would recommend going with jTDS.</p>\n"},{"tags":[],"owner":{"account_id":1608256,"reputation":1159,"user_id":1487868,"display_name":"felvhage"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414429880,"creation_date":1414429880,"answer_id":26592984,"question_id":4393766,"body_markdown":"One relevant difference is, that the JDBC 4.0 Implementation of the JTDS-Driver (v1.3.1) requires at least Java 7, whereas the JDBC 4.0 Implementation of the Microsoft driver is available in Java 6.\r\n\r\nThis is important if you want to use Hibernate 4.3 (relying on JDBC 4.0 API) and support Java 6. In that case JTDS is not an option.","title":"differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver","body":"<p>One relevant difference is, that the JDBC 4.0 Implementation of the JTDS-Driver (v1.3.1) requires at least Java 7, whereas the JDBC 4.0 Implementation of the Microsoft driver is available in Java 6.</p>\n\n<p>This is important if you want to use Hibernate 4.3 (relying on JDBC 4.0 API) and support Java 6. In that case JTDS is not an option.</p>\n"},{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463559351,"creation_date":1463559351,"answer_id":37293891,"question_id":4393766,"body_markdown":"The key reason FOR using jTDS is that it uses the lesser GPL license where Microsoft&#39;s driver uses their own license which has much more restrictions to it. One restriction of note is that you may not\r\n\r\n&gt; * work around any technical limitations in the software\r\n\r\nThere are more restrictions within the license such as:\r\n\r\n&gt; * transfer the software or this agreement to any third party\r\n&gt; * use the software for commercial software hosting services\r\n\r\nWhich could be interpreted that you may not use it in production code, however earlier points in the license seem to allow it.\r\n\r\nHaving said all of this, I don&#39;t know of the licenses within SQL Server itself which may or may not restrict third-party drivers such as jTDS connecting to it.\r\n\r\nAnother point is that jTDS is available via maven, the Microsoft driver is not.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId\r\n        &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor my choice, use jTDS, it is more permissive and least likely to get you into trouble, and; it&#39;s a better driver.","title":"differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver","body":"<p>The key reason FOR using jTDS is that it uses the lesser GPL license where Microsoft's driver uses their own license which has much more restrictions to it. One restriction of note is that you may not</p>\n\n<blockquote>\n  <ul>\n  <li>work around any technical limitations in the software</li>\n  </ul>\n</blockquote>\n\n<p>There are more restrictions within the license such as:</p>\n\n<blockquote>\n  <ul>\n  <li>transfer the software or this agreement to any third party</li>\n  <li>use the software for commercial software hosting services</li>\n  </ul>\n</blockquote>\n\n<p>Which could be interpreted that you may not use it in production code, however earlier points in the license seem to allow it.</p>\n\n<p>Having said all of this, I don't know of the licenses within SQL Server itself which may or may not restrict third-party drivers such as jTDS connecting to it.</p>\n\n<p>Another point is that jTDS is available via maven, the Microsoft driver is not.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId\n    &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For my choice, use jTDS, it is more permissive and least likely to get you into trouble, and; it's a better driver.</p>\n"},{"tags":[],"owner":{"account_id":10370819,"reputation":41,"user_id":7648563,"display_name":"Anil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536847244,"creation_date":1536847244,"answer_id":52315421,"question_id":4393766,"body_markdown":"jTDSperformance is good, but looks like the fail-over property is not supported by jTDS, if the SQL Server switches to secondary, needed to restart the application/server for picking the new ip and reseting the connection.","title":"differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver","body":"<p>jTDSperformance is good, but looks like the fail-over property is not supported by jTDS, if the SQL Server switches to secondary, needed to restart the application/server for picking the new ip and reseting the connection.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1543925564,"creation_date":1538748502,"answer_id":52667483,"question_id":4393766,"body_markdown":"While for many years jTDS was much superior than buggy mssql&#39;s own driver, the things are changing to the opposite recently.\r\n\r\nHere is qoute from https://confluence.atlassian.com/bitbucketserver/transitioning-from-jtds-to-microsoft-s-jdbc-driver-776640388.html:\r\n\r\n&gt; **Why change drivers?**\r\n&gt; \r\n&gt; Recent releases of Hibernate, which Bitbucket Server uses to simplify\r\n&gt; its persistence layer, have introduced a requirement that the JDBC\r\n&gt; drivers and connection pools used be JDBC4-compliant. JDBC4 was\r\n&gt; introduced with Java 6.\r\n&gt; \r\n&gt; The jTDS driver used by releases prior to Bitbucket Server 2.1 is a\r\n&gt; JDBC3 driver, compatible with Java 1.3, and therefore cannot be used\r\n&gt; with newer versions of Hibernate. While jTDS 1.3.0 and 1.3.1 claim to\r\n&gt; implement JDBC4, and JDBC4.1, they actually don&#39;t. The new methods\r\n&gt; have been &quot;implemented&quot;, but their implementations are all throw new\r\n&gt; AbstractMethodError(), which means they can&#39;t actually be used. (See\r\n&gt; an example [here, on GitHub][1].)\r\n&gt; \r\n&gt; Since jTDS 1.3.1 does not provide a functioning JDBC4 implementation,\r\n&gt; the decision was made to replace jTDS with Microsoft&#39;s own SQL Server\r\n&gt; driver. Microsoft&#39;s driver is actively maintained, where jTDS hasn&#39;t\r\n&gt; been updated since 2014 (and prior to the small round of updates done\r\n&gt; in 2014 it hadn&#39;t been updated for multiple years). Microsoft offers a\r\n&gt; full JDBC4.2 (Java 8) driver and supports all the features of SQL\r\n&gt; Server, including SQL Server 2016.\r\n\r\n\r\n  [1]: https://github.com/milesibastos/jTDS/blob/master/src/main/net/sourceforge/jtds/jdbc/JtdsPreparedStatement.java#L1261-L1265","title":"differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver","body":"<p>While for many years jTDS was much superior than buggy mssql's own driver, the things are changing to the opposite recently.</p>\n\n<p>Here is qoute from <a href=\"https://confluence.atlassian.com/bitbucketserver/transitioning-from-jtds-to-microsoft-s-jdbc-driver-776640388.html\" rel=\"noreferrer\">https://confluence.atlassian.com/bitbucketserver/transitioning-from-jtds-to-microsoft-s-jdbc-driver-776640388.html</a>:</p>\n\n<blockquote>\n  <p><strong>Why change drivers?</strong></p>\n  \n  <p>Recent releases of Hibernate, which Bitbucket Server uses to simplify\n  its persistence layer, have introduced a requirement that the JDBC\n  drivers and connection pools used be JDBC4-compliant. JDBC4 was\n  introduced with Java 6.</p>\n  \n  <p>The jTDS driver used by releases prior to Bitbucket Server 2.1 is a\n  JDBC3 driver, compatible with Java 1.3, and therefore cannot be used\n  with newer versions of Hibernate. While jTDS 1.3.0 and 1.3.1 claim to\n  implement JDBC4, and JDBC4.1, they actually don't. The new methods\n  have been \"implemented\", but their implementations are all throw new\n  AbstractMethodError(), which means they can't actually be used. (See\n  an example <a href=\"https://github.com/milesibastos/jTDS/blob/master/src/main/net/sourceforge/jtds/jdbc/JtdsPreparedStatement.java#L1261-L1265\" rel=\"noreferrer\">here, on GitHub</a>.)</p>\n  \n  <p>Since jTDS 1.3.1 does not provide a functioning JDBC4 implementation,\n  the decision was made to replace jTDS with Microsoft's own SQL Server\n  driver. Microsoft's driver is actively maintained, where jTDS hasn't\n  been updated since 2014 (and prior to the small round of updates done\n  in 2014 it hadn't been updated for multiple years). Microsoft offers a\n  full JDBC4.2 (Java 8) driver and supports all the features of SQL\n  Server, including SQL Server 2016.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19092020,"reputation":21,"user_id":13942120,"display_name":"Globares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634991011,"creation_date":1634224277,"answer_id":69573149,"question_id":4393766,"body_markdown":"jTDS 1.3.1 (the latest released version) has problem with the TLS, what can be a game-changer for some people. The problems might have started with Java 8 - I saw such comment - but it&#39;s not verified. There&#39;s a &quot;private&quot;, not released fix - see e.g. https://community.microfocus.com/cyberres/idm/w/identity_mgr_tips/19661/enforcing-ssl-tlsv1-2-jdbc-connection-via-jtds-jdbc-driver \r\nIt worked for me. \r\nBelow you can find an exception generated while trying to connect to the MS SQL using the original jTDS 1.3.1 and TLS:\r\n\r\n    java.sql.SQLException: Network error IOException: Connection reset\r\n    \tat net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:436)\r\n    \tat net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat jtds.JtdsMain.getData(JtdsMain.java:30)\r\n    \tat jtds.JtdsMain.start(JtdsMain.java:15)\r\n    \tat jtds.JtdsMain.main(JtdsMain.java:9)\r\n    Caused by: java.net.SocketException: Connection reset\r\n    \tat java.net.SocketInputStream.read(Unknown Source)\r\n    \tat java.net.SocketInputStream.read(Unknown Source)\r\n    \tat net.sourceforge.jtds.ssl.TdsTlsInputStream.readFully(TdsTlsInputStream.java:131)\r\n    \tat net.sourceforge.jtds.ssl.TdsTlsInputStream.primeBuffer(TdsTlsInputStream.java:100)\r\n    \tat net.sourceforge.jtds.ssl.TdsTlsInputStream.read(TdsTlsInputStream.java:78)\r\n    \tat sun.security.ssl.InputRecord.readFully(Unknown Source)\r\n    \tat sun.security.ssl.InputRecord.read(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat net.sourceforge.jtds.ssl.SocketFactories$TdsTlsSocketFactory.createSocket(SocketFactories.java:101)\r\n    \tat net.sourceforge.jtds.jdbc.SharedSocket.enableEncryption(SharedSocket.java:330)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.negotiateSSL(TdsCore.java:577)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:365)\r\n    \t... 6 more\r\n\r\n","title":"differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver","body":"<p>jTDS 1.3.1 (the latest released version) has problem with the TLS, what can be a game-changer for some people. The problems might have started with Java 8 - I saw such comment - but it's not verified. There's a &quot;private&quot;, not released fix - see e.g. <a href=\"https://community.microfocus.com/cyberres/idm/w/identity_mgr_tips/19661/enforcing-ssl-tlsv1-2-jdbc-connection-via-jtds-jdbc-driver\" rel=\"nofollow noreferrer\">https://community.microfocus.com/cyberres/idm/w/identity_mgr_tips/19661/enforcing-ssl-tlsv1-2-jdbc-connection-via-jtds-jdbc-driver</a>\nIt worked for me.\nBelow you can find an exception generated while trying to connect to the MS SQL using the original jTDS 1.3.1 and TLS:</p>\n<pre><code>java.sql.SQLException: Network error IOException: Connection reset\n    at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:436)\n    at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at jtds.JtdsMain.getData(JtdsMain.java:30)\n    at jtds.JtdsMain.start(JtdsMain.java:15)\n    at jtds.JtdsMain.main(JtdsMain.java:9)\nCaused by: java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(Unknown Source)\n    at java.net.SocketInputStream.read(Unknown Source)\n    at net.sourceforge.jtds.ssl.TdsTlsInputStream.readFully(TdsTlsInputStream.java:131)\n    at net.sourceforge.jtds.ssl.TdsTlsInputStream.primeBuffer(TdsTlsInputStream.java:100)\n    at net.sourceforge.jtds.ssl.TdsTlsInputStream.read(TdsTlsInputStream.java:78)\n    at sun.security.ssl.InputRecord.readFully(Unknown Source)\n    at sun.security.ssl.InputRecord.read(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at net.sourceforge.jtds.ssl.SocketFactories$TdsTlsSocketFactory.createSocket(SocketFactories.java:101)\n    at net.sourceforge.jtds.jdbc.SharedSocket.enableEncryption(SharedSocket.java:330)\n    at net.sourceforge.jtds.jdbc.TdsCore.negotiateSSL(TdsCore.java:577)\n    at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:365)\n    ... 6 more\n</code></pre>\n"}],"owner":{"account_id":20091,"reputation":61036,"user_id":47633,"accept_rate":61,"display_name":"opensas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40976,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":4399254,"answer_count":6,"score":33,"last_activity_date":1634991011,"creation_date":1291854650,"question_id":4393766,"body_markdown":"What are the differences between each driver? I mean, besides one of them being open-source\r\n\r\nWhat are the pros / cons of each one?\r\n\r\nWhich one would you recommend?\r\n\r\n---\r\n\r\nhere&#39;s jTDS own opinion on the subject: http://jtds.sourceforge.net/","title":"differences between ms sql microsoft&#39;s jdbc drivers and jTDS&#39;s driver","body":"<p>What are the differences between each driver? I mean, besides one of them being open-source</p>\n\n<p>What are the pros / cons of each one?</p>\n\n<p>Which one would you recommend?</p>\n\n<hr>\n\n<p>here's jTDS own opinion on the subject: <a href=\"http://jtds.sourceforge.net/\">http://jtds.sourceforge.net/</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1634744087,"post_id":69648938,"comment_id":123109078,"body_markdown":"Which `Base64` class are you using? Are you sure you&#39;re not declaring your own one somewhere? If you could provide a [mcve] that would help. (I&#39;d also recommend following Java naming conventions, as an aside - and stopping swallowing exceptions.)","body":"Which <code>Base64</code> class are you using? Are you sure you&#39;re not declaring your own one somewhere? If you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that would help. (I&#39;d also recommend following Java naming conventions, as an aside - and stopping swallowing exceptions.)"},{"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"score":1,"creation_date":1634744179,"post_id":69648938,"comment_id":123109128,"body_markdown":"`java.util.Base64`  does not contain &#39;DEFAULT&#39;","body":"<code>java.util.Base64</code>  does not contain &#39;DEFAULT&#39;"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634744953,"post_id":69648938,"comment_id":123109464,"body_markdown":"Are you sure you want to use `DEFAULT` and not `NO_WRAP`? Probably import `android.util.Base64` too.","body":"Are you sure you want to use <code>DEFAULT</code> and not <code>NO_WRAP</code>? Probably import <code>android.util.Base64</code> too."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634776716,"post_id":69648938,"comment_id":123119478,"body_markdown":"You can&#39;t *compile your code* that converts an image to base-64. Not the same thing as your title.","body":"You can&#39;t <i>compile your code</i> that converts an image to base-64. Not the same thing as your title."}],"answers":[{"tags":[],"owner":{"account_id":7611247,"reputation":174,"user_id":5772008,"display_name":"Kushal Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634744537,"creation_date":1634744537,"answer_id":69649100,"question_id":69648938,"body_markdown":"For a Java project, from https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html#encodeToString-byte:A-, you don&#39;t give a second argument for a default encoding using the ISO-8859-1 charset. So, try using\r\n\r\n    return Base64.encodeToString(imageBytes);\r\n\r\nOR, for Android,\r\nFrom https://developer.android.com/reference/android/util/Base64,\r\nyou can put second argument as DEFAULT. So, try using\r\n\r\n    return Base64.encodeToString(imageBytes, DEFAULT);\r\n\r\nas your return statement.\r\n\r\n","title":"I can&#39;t convert the image to Base 64","body":"<p>For a Java project, from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html#encodeToString-byte:A-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html#encodeToString-byte:A-</a>, you don't give a second argument for a default encoding using the ISO-8859-1 charset. So, try using</p>\n<pre><code>return Base64.encodeToString(imageBytes);\n</code></pre>\n<p>OR, for Android,\nFrom <a href=\"https://developer.android.com/reference/android/util/Base64\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/util/Base64</a>,\nyou can put second argument as DEFAULT. So, try using</p>\n<pre><code>return Base64.encodeToString(imageBytes, DEFAULT);\n</code></pre>\n<p>as your return statement.</p>\n"}],"owner":{"account_id":16608415,"reputation":15,"user_id":12004631,"display_name":"JUAN MIGUEL DIAZ HERNANDEZ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69649100,"answer_count":1,"score":-1,"last_activity_date":1634989886,"creation_date":1634743887,"question_id":69648938,"body_markdown":"I do not understand why it marks me in red as an error. In both private String\r\nThe error is in this line : **return Base64.encodeToString(imageBytes, Base64.DEFAULT)** , in **encodeToString** y **DEFAULT**\r\n\r\nAs error in both private strings it shows me this:\r\n\r\nC:\\Users\\juan_\\AndroidStudioProjects\\OttavisHotelCafe\\app\\src\\main\\java\\com\\juanrichard\\ottavishotelcafe\\MainActivity_Registrar_Habitacion_H.java:488: error: cannot find symbol\r\n\r\n      return Base64.encodeToString(imageBytes, Base64.DEFAULT);\r\n                                                     ^\r\n      symbol:   variable DEFAULT\r\n      location: class Base64\r\n\r\n****************************************************************************\r\n\r\n    private String GetStringImagen(Bitmap bitmap){\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG,100, baos);\r\n        byte[ ]imageBytes = baos.toByteArray();\r\n\r\n        return Base64.encodeToString(imageBytes, Base64.DEFAULT);\r\n    }\r\n\r\n*********************************************************************************\r\n\r\n    private String GetStringImagen(Bitmap bitmap) {\r\n        String str = &quot;&quot;;\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\r\n        byte [] imageBytes = baos.toByteArray();\r\n        try {\r\n            str = Base64.encodeToString(imageBytes, Base64.DEFAULT);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return str;\r\n    }\r\n\r\n","title":"I can&#39;t convert the image to Base 64","body":"<p>I do not understand why it marks me in red as an error. In both private String\nThe error is in this line : <strong>return Base64.encodeToString(imageBytes, Base64.DEFAULT)</strong> , in <strong>encodeToString</strong> y <strong>DEFAULT</strong></p>\n<p>As error in both private strings it shows me this:</p>\n<p>C:\\Users\\juan_\\AndroidStudioProjects\\OttavisHotelCafe\\app\\src\\main\\java\\com\\juanrichard\\ottavishotelcafe\\MainActivity_Registrar_Habitacion_H.java:488: error: cannot find symbol</p>\n<pre><code>  return Base64.encodeToString(imageBytes, Base64.DEFAULT);\n                                                 ^\n  symbol:   variable DEFAULT\n  location: class Base64\n</code></pre>\n<hr />\n<pre><code>private String GetStringImagen(Bitmap bitmap){\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    bitmap.compress(Bitmap.CompressFormat.JPEG,100, baos);\n    byte[ ]imageBytes = baos.toByteArray();\n\n    return Base64.encodeToString(imageBytes, Base64.DEFAULT);\n}\n</code></pre>\n<hr />\n<pre><code>private String GetStringImagen(Bitmap bitmap) {\n    String str = &quot;&quot;;\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\n    byte [] imageBytes = baos.toByteArray();\n    try {\n        str = Base64.encodeToString(imageBytes, Base64.DEFAULT);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return str;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1634988934,"post_id":69687710,"comment_id":123178222,"body_markdown":"You should format your log output properly as code. Otherwise, it is a mess and most people won&#39;t read it and can&#39;t help you.","body":"You should format your log output properly as code. Otherwise, it is a mess and most people won&#39;t read it and can&#39;t help you."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1634991535,"post_id":69687710,"comment_id":123178708,"body_markdown":"What is your interpretation of the bottommost exception message?","body":"What is your interpretation of the bottommost exception message?"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1634996613,"post_id":69687710,"comment_id":123179787,"body_markdown":"Also annotate your repository with @Repository","body":"Also annotate your repository with @Repository"}],"answers":[{"tags":[],"owner":{"account_id":8154877,"reputation":271,"user_id":6140782,"display_name":"Stoica Raul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634989590,"creation_date":1634989590,"answer_id":69687845,"question_id":69687710,"body_markdown":"The error is caused by wrongly defining the repository method inside `RoleRepository`\r\n\r\n    public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n    public Role findByName(String name);\r\n\r\nThe role entity only has these attributes:\r\n\r\n    private Long id;\r\n    private String role;\r\n\r\nYou are using findByName, but you do not have a name attribute on the Role entity.\r\n\r\n\r\nIt should by findByRole, given that role attribute is the &#39;name&#39; you want to search for.\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;roleRepository&#39;","body":"<p>The error is caused by wrongly defining the repository method inside <code>RoleRepository</code></p>\n<pre><code>public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\npublic Role findByName(String name);\n</code></pre>\n<p>The role entity only has these attributes:</p>\n<pre><code>private Long id;\nprivate String role;\n</code></pre>\n<p>You are using findByName, but you do not have a name attribute on the Role entity.</p>\n<p>It should by findByRole, given that role attribute is the 'name' you want to search for.</p>\n"}],"owner":{"account_id":19727548,"reputation":13,"user_id":14443800,"display_name":"Gafar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69687845,"answer_count":1,"score":0,"last_activity_date":1634989833,"creation_date":1634988582,"question_id":69687710,"body_markdown":"I&#39;m learning spring boot. While following one of the tutorials I found on Youtube, I run into this error.\r\n\r\n**UserController**\r\n\r\n    package io.techerd.userservice.controllers;\r\n    \r\n    import io.techerd.userservice.models.AppUser;\r\n    import io.techerd.userservice.services.UserService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private final UserService userService;\r\n    \r\n        public UserController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @GetMapping(&quot;/users&quot;)\r\n        public ResponseEntity&lt;List&lt;AppUser&gt;&gt; getUsers(){\r\n            return ResponseEntity.ok().body(userService.getUsers());\r\n        }\r\n    }\r\n    \r\n   **UserEntity**\r\n    package io.techerd.userservice.models;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    \r\n    @Entity\r\n    public class AppUser {\r\n        @Id @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String name;\r\n        private String username;\r\n        private String password;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    \r\n        public AppUser() {\r\n        }\r\n    \r\n        public AppUser(Long id, String name, String username, String password, Collection&lt;Role&gt; roles) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.username = username;\r\n            this.password = password;\r\n            this.roles = roles;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        public Collection&lt;Role&gt; getRoles() {\r\n            return roles;\r\n        }\r\n    \r\n        public void setRoles(Collection&lt;Role&gt; roles) {\r\n            this.roles = roles;\r\n        }\r\n    }\r\n    \r\n**RoleEntity**\r\n    package io.techerd.userservice.models;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Role {\r\n        @Id @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String role;\r\n    \r\n        public Role() {\r\n        }\r\n    \r\n        public Role(Long id, String role) {\r\n            this.id = id;\r\n            this.role = role;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getRole() {\r\n            return role;\r\n        }\r\n    \r\n        public void setRole(String role) {\r\n            this.role = role;\r\n        }\r\n    }\r\n    \r\n    \r\n    **RoleRepository**\r\n    package io.techerd.userservice.repository;\r\n    \r\n    import io.techerd.userservice.models.Role;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n        public Role findByName(String name);\r\n    }\r\n    \r\n    \r\n**UserRepository**\r\n    package io.techerd.userservice.repository;\r\n    \r\n    import io.techerd.userservice.models.AppUser;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;AppUser, Long&gt; {\r\n        public AppUser findByUsername(String username);\r\n    }\r\n    \r\n    \r\n**ServiceImplementation**\r\n    package io.techerd.userservice.services;\r\n    \r\n    import io.techerd.userservice.models.AppUser;\r\n    import io.techerd.userservice.models.Role;\r\n    import io.techerd.userservice.repository.RoleRepository;\r\n    import io.techerd.userservice.repository.UserRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.transaction.Transactional;\r\n    import java.util.List;\r\n    \r\n    @Service @Transactional @Slf4j\r\n    public class UserServiceImpl implements UserService {\r\n        private final UserRepository userRepository;\r\n        private final RoleRepository roleRepository;\r\n    \r\n        public UserServiceImpl(UserRepository userRepository, RoleRepository roleRepository) {\r\n            this.userRepository = userRepository;\r\n            this.roleRepository = roleRepository;\r\n        }\r\n    \r\n        @Override\r\n        public AppUser saveUser(AppUser user) {\r\n            return userRepository.save(user);\r\n        }\r\n    \r\n        @Override\r\n        public Role saveRole(Role role) {\r\n            return roleRepository.save(role);\r\n        }\r\n    \r\n        @Override\r\n        public void addRoleToUser(String username, String roleName) {\r\n            AppUser user = userRepository.findByUsername(username);\r\n            Role role = roleRepository.findByName(roleName);\r\n            user.getRoles().add(role);\r\n        }\r\n    \r\n        @Override\r\n        public AppUser getUser(String username) {\r\n            return userRepository.findByUsername(username);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;AppUser&gt; getUsers() {\r\n            return userRepository.findAll();\r\n        }\r\n    }\r\n    \r\n    \r\n**Error Log**\r\n  \r\n\r\n      org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;roleRepository&#39; defined in io.techerd.userservice.repository.RoleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! Reason: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n        \tat io.techerd.userservice.UserserviceApplication.main(UserserviceApplication.java:10) ~[classes/:na]\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n        \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.6.jar:2.5.6]\r\n        Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! Reason: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!\r\n        \tat org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n        \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n        \tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\r\n        \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n        \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n        \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n        \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat java.base/java.util.Optional.map(Optional.java:258) ~[na:na]\r\n        \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:360) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\r\n        \t... 21 common frames omitted\r\n        Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!\r\n        \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \t... 43 common frames omitted\r\n        Caused by: org.springframework.data.mapping.PropertyReferenceException: No property name found for type Role!\r\n        \tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n        \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n        \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n        \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n        \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n        \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n        \tat org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n        \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n        \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n        \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n        \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n        \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n        \tat org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:95) ~[spring-data-commons-2.5.6.jar:2.5.6]\r\n        \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.5.6.jar:2.5.6]\r\n        \t... 47 common frames omitted\r\n        \r\n        \r\n        Process finished with exit code 0","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;roleRepository&#39;","body":"<p>I'm learning spring boot. While following one of the tutorials I found on Youtube, I run into this error.</p>\n<p><strong>UserController</strong></p>\n<pre><code>package io.techerd.userservice.controllers;\n\nimport io.techerd.userservice.models.AppUser;\nimport io.techerd.userservice.services.UserService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class UserController {\n\n    @Autowired\n    private final UserService userService;\n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(&quot;/users&quot;)\n    public ResponseEntity&lt;List&lt;AppUser&gt;&gt; getUsers(){\n        return ResponseEntity.ok().body(userService.getUsers());\n    }\n}\n</code></pre>\n<p><strong>UserEntity</strong>\npackage io.techerd.userservice.models;</p>\n<pre><code>import javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.Collection;\n\n@Entity\npublic class AppUser {\n    @Id @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    private String username;\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n    public AppUser() {\n    }\n\n    public AppUser(Long id, String name, String username, String password, Collection&lt;Role&gt; roles) {\n        this.id = id;\n        this.name = name;\n        this.username = username;\n        this.password = password;\n        this.roles = roles;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Collection&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Collection&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p><strong>RoleEntity</strong>\npackage io.techerd.userservice.models;</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Role {\n    @Id @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String role;\n\n    public Role() {\n    }\n\n    public Role(Long id, String role) {\n        this.id = id;\n        this.role = role;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n}\n\n\n**RoleRepository**\npackage io.techerd.userservice.repository;\n\nimport io.techerd.userservice.models.Role;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n    public Role findByName(String name);\n}\n</code></pre>\n<p><strong>UserRepository</strong>\npackage io.techerd.userservice.repository;</p>\n<pre><code>import io.techerd.userservice.models.AppUser;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface UserRepository extends JpaRepository&lt;AppUser, Long&gt; {\n    public AppUser findByUsername(String username);\n}\n</code></pre>\n<p><strong>ServiceImplementation</strong>\npackage io.techerd.userservice.services;</p>\n<pre><code>import io.techerd.userservice.models.AppUser;\nimport io.techerd.userservice.models.Role;\nimport io.techerd.userservice.repository.RoleRepository;\nimport io.techerd.userservice.repository.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\nimport java.util.List;\n\n@Service @Transactional @Slf4j\npublic class UserServiceImpl implements UserService {\n    private final UserRepository userRepository;\n    private final RoleRepository roleRepository;\n\n    public UserServiceImpl(UserRepository userRepository, RoleRepository roleRepository) {\n        this.userRepository = userRepository;\n        this.roleRepository = roleRepository;\n    }\n\n    @Override\n    public AppUser saveUser(AppUser user) {\n        return userRepository.save(user);\n    }\n\n    @Override\n    public Role saveRole(Role role) {\n        return roleRepository.save(role);\n    }\n\n    @Override\n    public void addRoleToUser(String username, String roleName) {\n        AppUser user = userRepository.findByUsername(username);\n        Role role = roleRepository.findByName(roleName);\n        user.getRoles().add(role);\n    }\n\n    @Override\n    public AppUser getUser(String username) {\n        return userRepository.findByUsername(username);\n    }\n\n    @Override\n    public List&lt;AppUser&gt; getUsers() {\n        return userRepository.findAll();\n    }\n}\n</code></pre>\n<p><strong>Error Log</strong></p>\n<pre><code>  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'roleRepository' defined in io.techerd.userservice.repository.RoleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! Reason: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n        at io.techerd.userservice.UserserviceApplication.main(UserserviceApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.6.jar:2.5.6]\n    Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! Reason: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!\n        at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n        at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at java.base/java.util.Optional.map(Optional.java:258) ~[na:na]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:360) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\n        ... 21 common frames omitted\n    Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract io.techerd.userservice.models.Role io.techerd.userservice.repository.RoleRepository.findByName(java.lang.String)! No property name found for type Role!\n        at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n        at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n        at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n        at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        ... 43 common frames omitted\n    Caused by: org.springframework.data.mapping.PropertyReferenceException: No property name found for type Role!\n        at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n        at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n        at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n        at org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n        at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n        at org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:95) ~[spring-data-commons-2.5.6.jar:2.5.6]\n        at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n        ... 47 common frames omitted\n    \n    \n    Process finished with exit code 0\n</code></pre>\n"},{"tags":["java","playframework"],"answers":[{"tags":[],"owner":{"account_id":251562,"reputation":445,"user_id":529049,"display_name":"chargedPeptide"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1499017216,"creation_date":1499017216,"answer_id":44873530,"question_id":44872603,"body_markdown":"I couldn&#39;t find anything wrong with your code, so set up an identical Play project locally.\r\nWhen submitting the form I do not hit this issue.\r\nThis is a base project created via: \r\n\r\n    sbt new playframework/play-java-seed.g8\r\nPosting &quot;Testing testing&quot; as the content of the textArea returns the following Json (as displayed by browser):\r\n\t\r\n    raw_text\t\r\n    0\t&quot;            Testing testing&quot;\r\n    csrfToken\t\r\n    0\t&quot;8fdc72b2d628e4fc0d8f6359f2ea247cc0f22e5c-1499016237415-3c043ab2a02c18020df21a1f&quot;\r\n\r\nThe one thing I took from my own projects, is a modified Filters class which looks like this:\r\n\r\n    import play.mvc.EssentialFilter;\r\n    import play.filters.cors.CORSFilter;\r\n    import play.http.HttpFilters;\r\n    import play.filters.csrf.CSRFFilter;\r\n    import play.filters.headers.SecurityHeadersFilter;\r\n    import java.util.List;\r\n    import javax.inject.Inject;\r\n    import javax.inject.Named;\r\n    import java.util.Arrays;\r\n    public class Filters implements HttpFilters {\r\n        @Inject \r\n        CSRFFilter csrfFilter;\r\n        @Inject\r\n        CORSFilter corsFilter;\r\n        @Inject \r\n        SecurityHeadersFilter secHeaders;\r\n\r\n        @Override\r\n        public List&lt;EssentialFilter&gt; getFilters() {\r\n        \r\n            return Arrays.&lt;EssentialFilter&gt;asList(new EssentialFilter[] { corsFilter.asJava(),secHeaders.asJava(), csrfFilter.asJava()});\r\n                    }\r\n    }\r\nAlso my routes are as follows in conf/routes:\r\n\r\n    # Map static resources from the /public folder to the /assets URL path\r\n    GET     /assets/*file               controllers.Assets.versioned(path=&quot;/public&quot;, file: Asset)\r\n    GET / controllers.HomeController.test()\r\n    POST /test controllers.HomeController.testPost()\r\n\r\nRemoving the @CSRF.formField caused a CSRF unauthorized just as for you. \r\n\r\nIf you have any obvious differences with your setup I&#39;d be happy to dig further but this seems to not be a direct problem with your code.\r\n","title":"Play Framework CSRF error &quot;[CSRF] Check failed because no token found in headers&quot;","body":"<p>I couldn't find anything wrong with your code, so set up an identical Play project locally.\nWhen submitting the form I do not hit this issue.\nThis is a base project created via: </p>\n\n<pre><code>sbt new playframework/play-java-seed.g8\n</code></pre>\n\n<p>Posting \"Testing testing\" as the content of the textArea returns the following Json (as displayed by browser):</p>\n\n<pre><code>raw_text    \n0   \"            Testing testing\"\ncsrfToken   \n0   \"8fdc72b2d628e4fc0d8f6359f2ea247cc0f22e5c-1499016237415-3c043ab2a02c18020df21a1f\"\n</code></pre>\n\n<p>The one thing I took from my own projects, is a modified Filters class which looks like this:</p>\n\n<pre><code>import play.mvc.EssentialFilter;\nimport play.filters.cors.CORSFilter;\nimport play.http.HttpFilters;\nimport play.filters.csrf.CSRFFilter;\nimport play.filters.headers.SecurityHeadersFilter;\nimport java.util.List;\nimport javax.inject.Inject;\nimport javax.inject.Named;\nimport java.util.Arrays;\npublic class Filters implements HttpFilters {\n    @Inject \n    CSRFFilter csrfFilter;\n    @Inject\n    CORSFilter corsFilter;\n    @Inject \n    SecurityHeadersFilter secHeaders;\n\n    @Override\n    public List&lt;EssentialFilter&gt; getFilters() {\n\n        return Arrays.&lt;EssentialFilter&gt;asList(new EssentialFilter[] { corsFilter.asJava(),secHeaders.asJava(), csrfFilter.asJava()});\n                }\n}\n</code></pre>\n\n<p>Also my routes are as follows in conf/routes:</p>\n\n<pre><code># Map static resources from the /public folder to the /assets URL path\nGET     /assets/*file               controllers.Assets.versioned(path=\"/public\", file: Asset)\nGET / controllers.HomeController.test()\nPOST /test controllers.HomeController.testPost()\n</code></pre>\n\n<p>Removing the @CSRF.formField caused a CSRF unauthorized just as for you. </p>\n\n<p>If you have any obvious differences with your setup I'd be happy to dig further but this seems to not be a direct problem with your code.</p>\n"},{"tags":[],"owner":{"account_id":14755297,"reputation":205,"user_id":10656102,"display_name":"Duman Zhanbolatov"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1542267009,"creation_date":1542267009,"answer_id":53314388,"question_id":44872603,"body_markdown":"I have faced with it. And i solved it very simply. Just add to your *application.conf*:\r\n\r\n    play.filters.enabled += &quot;play.filters.csrf.CSRFFilter&quot;\r\n\r\nand in the *routes* file add the nocsrf modifier tag before your route:\r\n\r\n    +nocsrf\r\n    POST        /login                     controllers.AuthController.authorize()\r\n\r\njust like that..\r\nI hope my answer help you. Thank you!\r\n\r\n","title":"Play Framework CSRF error &quot;[CSRF] Check failed because no token found in headers&quot;","body":"<p>I have faced with it. And i solved it very simply. Just add to your <em>application.conf</em>:</p>\n\n<pre><code>play.filters.enabled += \"play.filters.csrf.CSRFFilter\"\n</code></pre>\n\n<p>and in the <em>routes</em> file add the nocsrf modifier tag before your route:</p>\n\n<pre><code>+nocsrf\nPOST        /login                     controllers.AuthController.authorize()\n</code></pre>\n\n<p>just like that..\nI hope my answer help you. Thank you!</p>\n"},{"tags":[],"owner":{"account_id":10384971,"reputation":2631,"user_id":7658403,"display_name":"toshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571472587,"creation_date":1571472587,"answer_id":58461726,"question_id":44872603,"body_markdown":"This might not be applicable to all situation but in my case, the reason was that I was resetting the session in the controller so CSRF token somehow becomes invalid. \r\n\r\nIf you are calling &quot;withNewSession&quot; in your code and having this error, try removing it and see if the error has gone.","title":"Play Framework CSRF error &quot;[CSRF] Check failed because no token found in headers&quot;","body":"<p>This might not be applicable to all situation but in my case, the reason was that I was resetting the session in the controller so CSRF token somehow becomes invalid. </p>\n\n<p>If you are calling \"withNewSession\" in your code and having this error, try removing it and see if the error has gone.</p>\n"},{"tags":[],"owner":{"account_id":10279692,"reputation":2683,"user_id":7585327,"display_name":"John"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1634989363,"creation_date":1576333431,"answer_id":59335986,"question_id":44872603,"body_markdown":"By doing Duman Zhanbolatov&#39;s answer the error can be avoided but it is not the answer. It will push the app to security flaw. \r\n\r\nThe reason the application is facing the problem is for the **PLAY_SESSION**(or your customed session name) cookie of form page **request** is empty, where csrfToken=value should have been encrypted.  Because somehow **csrfToken=value** in cookies has been removed. It may be happened if you send a **response** with new-session or discarding cookies. \r\nSo if you discard cookies or sending response with new-session send it with **csrfToken=value** session.\r\n\r\n    def logout: Action[AnyContent] = Action {\r\n        implicit request =&gt;\r\n          val csrfToken = CSRF.getToken.get.value\r\n          \r\n          Ok(logIn(&quot;Please log in&quot;)).withNewSession.withSession(&quot;csrfToken&quot;-&gt;csrfToken)\r\n    \r\n      }  \r\n\r\n\r\nThen you will get rid of this problem. \r\n\r\n**Second reason** of this problem is: You have run another play application under the domain/localhost/Ip . So the Cookie of that domain/localhost/Ip is still in the cache of browser. When you try to create post req by new play app  that cookie is passed into the server, as a result the csrf validation problem occurs. In this case just clear the cookies in browser. ","title":"Play Framework CSRF error &quot;[CSRF] Check failed because no token found in headers&quot;","body":"<p>By doing Duman Zhanbolatov's answer the error can be avoided but it is not the answer. It will push the app to security flaw.</p>\n<p>The reason the application is facing the problem is for the <strong>PLAY_SESSION</strong>(or your customed session name) cookie of form page <strong>request</strong> is empty, where csrfToken=value should have been encrypted.  Because somehow <strong>csrfToken=value</strong> in cookies has been removed. It may be happened if you send a <strong>response</strong> with new-session or discarding cookies.\nSo if you discard cookies or sending response with new-session send it with <strong>csrfToken=value</strong> session.</p>\n<pre><code>def logout: Action[AnyContent] = Action {\n    implicit request =&gt;\n      val csrfToken = CSRF.getToken.get.value\n      \n      Ok(logIn(&quot;Please log in&quot;)).withNewSession.withSession(&quot;csrfToken&quot;-&gt;csrfToken)\n\n  }  \n</code></pre>\n<p>Then you will get rid of this problem.</p>\n<p><strong>Second reason</strong> of this problem is: You have run another play application under the domain/localhost/Ip . So the Cookie of that domain/localhost/Ip is still in the cache of browser. When you try to create post req by new play app  that cookie is passed into the server, as a result the csrf validation problem occurs. In this case just clear the cookies in browser.</p>\n"}],"owner":{"account_id":11178336,"reputation":374,"user_id":8203139,"display_name":"Illia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15855,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":44873530,"answer_count":4,"score":11,"last_activity_date":1634989363,"creation_date":1499010563,"question_id":44872603,"body_markdown":"I&#39;m new in Play Framework, and trying to submit the form, but\r\nget this error: &quot;p.filters.CSRF - [CSRF] Check failed because no token found in headers&quot; . I&#39;m using Play 2.6, here&#39;s my controller code: \r\n\r\n        package controllers;\r\n    \r\n    import play.libs.Json;\r\n    import play.mvc.*;\r\n    \r\n    import views.html.*;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class HomeController extends Controller {\r\n    \r\n        public Result index() {\r\n            return ok(index.render(&quot;Your new application is ready.&quot;));\r\n        }\r\n    \r\n        public Result test() {\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(&quot;Jobs&quot;);\r\n            list.add(&quot;Work&quot;);\r\n            list.add(&quot;Say&quot;);\r\n            list.add(&quot;Stop&quot;);\r\n            return ok(test.render(&quot;test&quot;, list));\r\n        }\r\n    \r\n        public Result testPost() {\r\n           Map&lt;String,String[]&gt; form =  request().body().asFormUrlEncoded();\r\n           return ok(Json.toJson(form)).as(&quot;application/json&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nTemplate: \r\n\r\n    @(title: String, list: List[String])\r\n    \r\n    @import helper._\r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;@title&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;form action=&quot;/test&quot; method=&quot;post&quot;&gt;\r\n                &lt;textarea name=&quot;raw_text&quot;&gt;\r\n    \r\n                &lt;/textarea&gt;\r\n                @CSRF.formField\r\n                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhat I am doing wrong?\r\n","title":"Play Framework CSRF error &quot;[CSRF] Check failed because no token found in headers&quot;","body":"<p>I'm new in Play Framework, and trying to submit the form, but\nget this error: \"p.filters.CSRF - [CSRF] Check failed because no token found in headers\" . I'm using Play 2.6, here's my controller code: </p>\n\n<pre><code>    package controllers;\n\nimport play.libs.Json;\nimport play.mvc.*;\n\nimport views.html.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\npublic class HomeController extends Controller {\n\n    public Result index() {\n        return ok(index.render(\"Your new application is ready.\"));\n    }\n\n    public Result test() {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(\"Jobs\");\n        list.add(\"Work\");\n        list.add(\"Say\");\n        list.add(\"Stop\");\n        return ok(test.render(\"test\", list));\n    }\n\n    public Result testPost() {\n       Map&lt;String,String[]&gt; form =  request().body().asFormUrlEncoded();\n       return ok(Json.toJson(form)).as(\"application/json\");\n    }\n\n}\n</code></pre>\n\n<p>Template: </p>\n\n<pre><code>@(title: String, list: List[String])\n\n@import helper._\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;@title&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form action=\"/test\" method=\"post\"&gt;\n            &lt;textarea name=\"raw_text\"&gt;\n\n            &lt;/textarea&gt;\n            @CSRF.formField\n            &lt;input type=\"submit\" value=\"Submit\" /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>What I am doing wrong?</p>\n"},{"tags":["java","eclipse","javafx","parameters"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":4,"creation_date":1634887994,"post_id":69672892,"comment_id":123152095,"body_markdown":"Please read [ask]. Please post your code as code, not as images. Also please read the code carefully. The error message is telling you all that you need to know. Basically that the method you are trying to use does not exist.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Please post your code as code, not as images. Also please read the code carefully. The error message is telling you all that you need to know. Basically that the method you are trying to use does not exist."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1634891071,"post_id":69672892,"comment_id":123153233,"body_markdown":"I think the error message is clear enough: your `Gui` class has no method `launch()` that takes two parameters. Since `Gui` is your class you are the one to write such a method.","body":"I think the error message is clear enough: your <code>Gui</code> class has no method <code>launch()</code> that takes two parameters. Since <code>Gui</code> is your class you are the one to write such a method."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1634894110,"post_id":69672892,"comment_id":123154529,"body_markdown":"Thomas’s comment is slightly wrong, [launch()](https://openjfx.io/javadoc/16/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)) is inherited from the framework application code, it is not user code.  It takes a [varargs](https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html) parameter callable with with any number of parameters including two. But they must all be the correct type (a string or, if just one, it could be an array of strings). You could pass just a string array instead of both the string and map.","body":"Thomas’s comment is slightly wrong, <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\">launch()</a> is inherited from the framework application code, it is not user code.  It takes a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a> parameter callable with with any number of parameters including two. But they must all be the correct type (a string or, if just one, it could be an array of strings). You could pass just a string array instead of both the string and map."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1634894833,"post_id":69672892,"comment_id":123154857,"body_markdown":"I advise not doing the file read in `main()`, only call launch from main passing the baths from main to launch with no change. An alternative to what you have is to implement the logic as a function of a utility class and call it from an [`init()`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#init()) method you implement in the application, saving the data read somewhere, e.g. in an instance variable in the application.","body":"I advise not doing the file read in <code>main()</code>, only call launch from main passing the baths from main to launch with no change. An alternative to what you have is to implement the logic as a function of a utility class and call it from an <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#init()\" rel=\"nofollow noreferrer\"><code>init()</code></a> method you implement in the application, saving the data read somewhere, e.g. in an instance variable in the application."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1634894933,"post_id":69672892,"comment_id":123154897,"body_markdown":"no screenshots of plain text, please - they are unreadable and unsearchable. Instead c&amp;p (errors/stacktraces formatted as code), and best make any code a [mcve]. Also make sure you are familiar with java language basics ...","body":"no screenshots of plain text, please - they are unreadable and unsearchable. Instead c&amp;p (errors/stacktraces formatted as code), and best make any code a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also make sure you are familiar with java language basics ..."}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634906398,"creation_date":1634906398,"answer_id":69677043,"question_id":69672892,"body_markdown":"This is because ```launch(args);``` is a &quot;predefined&quot; JavaFX method, located in an abstract class.\r\n&lt;br&gt;&lt;br&gt;\r\nTake a look at the following:\r\n&lt;br&gt;\r\nAs you can see, the method only accepts one argument. \r\n```\r\npublic static void launch(String... var0) {\r\n      // Heres the logic\r\n}\r\n```\r\nTo Fix that, you could do the following:\r\n1. Declare your ```Map&lt;String, String&gt;``` outside of your main()\r\n2. Only initialize it in your main method\r\n3. Access it via this.userInformation in your start-method\r\n&lt;br&gt;To visualize everything, heres some code\r\n\r\n```\r\npublic class Gui {\r\n\r\n   private static Map&lt;String, String&gt; userInformation;\r\n\r\n   public static void main(String[] args) {\r\n      \r\n      // All the other logic\r\n      userIformation = scanDocument(file);\r\n      launch(args);\r\n   }\r\n\r\n   public static void start(Stage primaryStage) {\r\n      \r\n      // All the other logic\r\n      // Here you can access your Map&lt;&gt; by\r\n      // simply using userInformation.blablabla();\r\n   \r\n}\r\n```\r\n\r\nI hope this helped you a at least a little bit. &lt;br&gt;\r\n&lt;br&gt;\r\nAnd also... Please never use german words or none of the english letters (like &#246;&#228;&#252;) in variablenames...\r\n&lt;br&gt;&lt;br&gt;\r\nSidenote: Uhrzeitmacher?","title":"Why can&#39;t I add more then this one parameter to the method","body":"<p>This is because <code>launch(args);</code> is a &quot;predefined&quot; JavaFX method, located in an abstract class.\n<br><br>\nTake a look at the following:\n<br>\nAs you can see, the method only accepts one argument.</p>\n<pre><code>public static void launch(String... var0) {\n      // Heres the logic\n}\n</code></pre>\n<p>To Fix that, you could do the following:</p>\n<ol>\n<li>Declare your <code>Map&lt;String, String&gt;</code> outside of your main()</li>\n<li>Only initialize it in your main method</li>\n<li>Access it via this.userInformation in your start-method\n<br>To visualize everything, heres some code</li>\n</ol>\n<pre><code>public class Gui {\n\n   private static Map&lt;String, String&gt; userInformation;\n\n   public static void main(String[] args) {\n      \n      // All the other logic\n      userIformation = scanDocument(file);\n      launch(args);\n   }\n\n   public static void start(Stage primaryStage) {\n      \n      // All the other logic\n      // Here you can access your Map&lt;&gt; by\n      // simply using userInformation.blablabla();\n   \n}\n</code></pre>\n<p>I hope this helped you a at least a little bit. <br>\n<br>\nAnd also... Please never use german words or none of the english letters (like öäü) in variablenames...\n<br><br>\nSidenote: Uhrzeitmacher?</p>\n"}],"owner":{"account_id":19485443,"reputation":31,"user_id":14254906,"display_name":"HelloWorldJava"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1634989212,"answer_count":1,"score":-1,"last_activity_date":1634989293,"creation_date":1634887615,"question_id":69672892,"body_markdown":"I&#39;m using JavaFX since a couple of days, so the code I&#39;m complaining with is just copy pasted (it&#39;s only one line though), and I don&#39;t know why I can&#39;t add more than this one parameter to the method.\r\n\r\n[![first picture][1]][1]\r\n\r\nWhen I only write args to the parameters, it&#39;s working.\r\nHere&#39;s the method I want to use:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D4M2L.png\r\n  [2]: https://i.stack.imgur.com/I6ayl.png","title":"Why can&#39;t I add more then this one parameter to the method","body":"<p>I'm using JavaFX since a couple of days, so the code I'm complaining with is just copy pasted (it's only one line though), and I don't know why I can't add more than this one parameter to the method.</p>\n<p><a href=\"https://i.stack.imgur.com/D4M2L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D4M2L.png\" alt=\"first picture\" /></a></p>\n<p>When I only write args to the parameters, it's working.\nHere's the method I want to use:</p>\n<p><a href=\"https://i.stack.imgur.com/I6ayl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I6ayl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-bean"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1634912888,"post_id":69678282,"comment_id":123162360,"body_markdown":"*a run time bean created* You almost certainly shouldn&#39;t be using a _Spring_ bean. You haven&#39;t adequately explained what you think you need your `Access` for.","body":"<i>a run time bean created</i> You almost certainly shouldn&#39;t be using a <i>Spring</i> bean. You haven&#39;t adequately explained what you think you need your <code>Access</code> for."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634912024,"creation_date":1634912024,"answer_id":69678399,"question_id":69678282,"body_markdown":"I would suggest not to `@Autowired` the `Student` object but instead, pass it as a parameter to a function. Something as follows:\r\n```java\r\npublic class Access {\r\n    void print(Student s) {\r\n        System.out.println(s.name);\r\n    }\r\n}\r\n```\r\n\r\nNow you just need to call `print()` method with the given `Student`. If you need `Access` to be a Spring-managed Bean so that you can inject it into your Controller, you would need to annotate it with `@Component`.","title":"How to create a bean and autowire at run time dynamically based on user input param","body":"<p>I would suggest not to <code>@Autowired</code> the <code>Student</code> object but instead, pass it as a parameter to a function. Something as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Access {\n    void print(Student s) {\n        System.out.println(s.name);\n    }\n}\n</code></pre>\n<p>Now you just need to call <code>print()</code> method with the given <code>Student</code>. If you need <code>Access</code> to be a Spring-managed Bean so that you can inject it into your Controller, you would need to annotate it with <code>@Component</code>.</p>\n"},{"tags":[],"owner":{"account_id":1085200,"reputation":1184,"user_id":1081060,"display_name":"Jebil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634922379,"creation_date":1634922379,"answer_id":69680706,"question_id":69678282,"body_markdown":"Instead of creating bean, you can create a thread local variable and initialise it as the first thing. Then it&#39;ll be available throughout the request / response scope","title":"How to create a bean and autowire at run time dynamically based on user input param","body":"<p>Instead of creating bean, you can create a thread local variable and initialise it as the first thing. Then it'll be available throughout the request / response scope</p>\n"}],"owner":{"account_id":11951440,"reputation":11,"user_id":8744994,"display_name":"Ramu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634989107,"creation_date":1634911600,"question_id":69678282,"body_markdown":"How to create Student class object at run time dynamically based  on the parameters received in the URL and inject in to WebapplicationContext so the IoC container can auto wire it automaticallly to Access class?\r\n\r\nI need to create a bean at run time based on user parameters.\r\n\r\n    @RestController\r\n    public class FunRestController {\r\n    \t\r\n    \t@GetMapping(&quot;/{id}/{name}&quot;)\r\n    \tpublic String welcomeToBoot(@PathVariable int id, @PathVariable String name) {\r\n                     // How to create Student class object at run time dynamically based \r\n                     // on the param received in the URL and can auto wire it dynamically to ***Access*** class below ?\r\n    \t\treturn &quot;Welcome &quot; + name;\r\n    \t}\r\n    }\r\n\r\nI need to Autowire a run time bean created\r\n\r\n    public class Access {\r\n    \t@Autowired\r\n    \tStudent s;\r\n    \tvoid print() {\r\n    \t\tSystem.out.println(s.name);\r\n    \t}\r\n    }\r\n\r\nPOJO:\r\n\r\n    public class Student {\r\n    \tpublic int id;\r\n    \tpublic String name;\r\n    \tpublic Student(int id, String name) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }","title":"How to create a bean and autowire at run time dynamically based on user input param","body":"<p>How to create Student class object at run time dynamically based  on the parameters received in the URL and inject in to WebapplicationContext so the IoC container can auto wire it automaticallly to Access class?</p>\n<p>I need to create a bean at run time based on user parameters.</p>\n<pre><code>@RestController\npublic class FunRestController {\n    \n    @GetMapping(&quot;/{id}/{name}&quot;)\n    public String welcomeToBoot(@PathVariable int id, @PathVariable String name) {\n                 // How to create Student class object at run time dynamically based \n                 // on the param received in the URL and can auto wire it dynamically to ***Access*** class below ?\n        return &quot;Welcome &quot; + name;\n    }\n}\n</code></pre>\n<p>I need to Autowire a run time bean created</p>\n<pre><code>public class Access {\n    @Autowired\n    Student s;\n    void print() {\n        System.out.println(s.name);\n    }\n}\n</code></pre>\n<p>POJO:</p>\n<pre><code>public class Student {\n    public int id;\n    public String name;\n    public Student(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633694172,"post_id":69495350,"comment_id":122834330,"body_markdown":"Hi, can you post some more of your code? is it in a loop? please post some more and don&#39;t use image for the log file, you can add it as code also in order members to be able to copy paste it when trying to replicate your issue. thanks","body":"Hi, can you post some more of your code? is it in a loop? please post some more and don&#39;t use image for the log file, you can add it as code also in order members to be able to copy paste it when trying to replicate your issue. thanks"},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633694201,"post_id":69495350,"comment_id":122834347,"body_markdown":"moreover `AppSessionId` is it a variable or a string `&quot;AppSessionId&quot;`? If it is a variable what&#39;s its value? You need to post more of your method or class that does the log file reading/processing.","body":"moreover <code>AppSessionId</code> is it a variable or a string <code>&quot;AppSessionId&quot;</code>? If it is a variable what&#39;s its value? You need to post more of your method or class that does the log file reading/processing."},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633694290,"post_id":69495350,"comment_id":122834385,"body_markdown":"Please no screenshots!!!! Edit your question and copy-paste code please!","body":"Please no screenshots!!!! Edit your question and copy-paste code please!"},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633694451,"post_id":69495350,"comment_id":122834448,"body_markdown":"See my previous comment, screenshots of code are not useful, edit your question and add the code itself. if you post screenshots your question will be downvoted and/or closed","body":"See my previous comment, screenshots of code are not useful, edit your question and add the code itself. if you post screenshots your question will be downvoted and/or closed"},{"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"score":0,"creation_date":1633694475,"post_id":69495350,"comment_id":122834456,"body_markdown":"I updated my code now","body":"I updated my code now"},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633694599,"post_id":69495350,"comment_id":122834496,"body_markdown":"Thanks. Please do the same with the log file (or a part of it that works reproduces the output of your code)","body":"Thanks. Please do the same with the log file (or a part of it that works reproduces the output of your code)"},{"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"score":0,"creation_date":1633695539,"post_id":69495350,"comment_id":122834860,"body_markdown":"I have add it too","body":"I have add it too"},{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633695811,"post_id":69495350,"comment_id":122834971,"body_markdown":"Sorry but the lines you posted are too few, giving this as input it wont get past `if (line.contains(&quot;Inside /buyairtime&quot;)) {`. Please post a whole piece of the log file that works correctly until the problem you are facing. Read here on Minimal, Reproducible Example: https://stackoverflow.com/help/minimal-reproducible-example","body":"Sorry but the lines you posted are too few, giving this as input it wont get past <code>if (line.contains(&quot;Inside &#47;buyairtime&quot;)) {</code>. Please post a whole piece of the log file that works correctly until the problem you are facing. Read here on Minimal, Reproducible Example: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634504013,"creation_date":1634504013,"answer_id":69608513,"question_id":69495350,"body_markdown":"To get requestMap that is not in the next line I used grep by using Unix4j library to search it through the file and get it.","title":"Pick an item from the next line base on a condition","body":"<p>To get requestMap that is not in the next line I used grep by using Unix4j library to search it through the file and get it.</p>\n"},{"tags":[],"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634988695,"creation_date":1634988695,"answer_id":69687720,"question_id":69495350,"body_markdown":"1. Add this dependency in your pom  \r\n```                                  \r\n   &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.unix4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;unix4j-command&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;  \r\n```\r\n2. This is the code to find the responseMap                                                                     \r\n\r\n```                                                    \r\nFile file = new File(decompressedFilePath);\r\nList&lt;Line&gt; lines = Unix4j.grep(AppSessionId, file).toLineList();\r\n\r\n String transactionId = null;\r\n for (Line grepLine : lines) {\r\n      String grepLineStr = grepLine.toString();                                                                                 \r\n      if (grepLineStr.contains(&quot;responseMap&quot;)) {\r\n          String[] response = grepLineStr.split(&quot;\\\\|&quot;);\r\n          String responseMap = response[1].trim();\r\n          String[] responseMap2 = responseMap.split(&quot;::&quot;);\r\n          String responseMapItem = responseMap2[1].trim();\r\n          logger.info(&quot;SessionId =&quot; + sessionId + &quot; responseMap =&quot; + responseMapItem); \r\n}\r\n}\r\n```","title":"Pick an item from the next line base on a condition","body":"<ol>\n<li>Add this dependency in your pom</li>\n</ol>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.unix4j&lt;/groupId&gt;\n        &lt;artifactId&gt;unix4j-command&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n    &lt;/dependency&gt;  \n</code></pre>\n<ol start=\"2\">\n<li>This is the code to find the responseMap</li>\n</ol>\n<pre><code>File file = new File(decompressedFilePath);\nList&lt;Line&gt; lines = Unix4j.grep(AppSessionId, file).toLineList();\n\n String transactionId = null;\n for (Line grepLine : lines) {\n      String grepLineStr = grepLine.toString();                                                                                 \n      if (grepLineStr.contains(&quot;responseMap&quot;)) {\n          String[] response = grepLineStr.split(&quot;\\\\|&quot;);\n          String responseMap = response[1].trim();\n          String[] responseMap2 = responseMap.split(&quot;::&quot;);\n          String responseMapItem = responseMap2[1].trim();\n          logger.info(&quot;SessionId =&quot; + sessionId + &quot; responseMap =&quot; + responseMapItem); \n}\n}\n</code></pre>\n"}],"owner":{"account_id":22141203,"reputation":37,"user_id":16391202,"display_name":"BALDE"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69687720,"answer_count":2,"score":0,"last_activity_date":1634988695,"creation_date":1633693637,"question_id":69495350,"body_markdown":"[enter image description here][1]Good morning everyone, please I am reading a file that has multiple entries, I am supposed to get an appSessionId from the first entry line then look for the requestMap in the next line that has the same appSessionId.\r\n\r\nHere is my code:\r\n\r\n        try(BufferedReader br = new BufferedReader(fileReader)) {\r\n            for (String line = br.readLine(); line != null; line = br.readLine()) {\r\n                if (line.contains(&quot;Inside /buyairtime&quot;)) {\r\n                    String[] item = line.split(&quot;\\\\|&quot;);\r\n                    String AppSessionId = item[1].trim();\r\n                    logger.info(&quot;SessionId =&quot; + sessionId + &quot; AppSessionId =&quot; + AppSessionId);\r\n\r\n                    line = br.readLine(); // Jump to the next line\r\n                    if (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;requestBody&quot;)) {\r\n\r\n                        String[] request = line.split(&quot;\\\\|&quot;);\r\n                        String requestBody = request[2].replace(&quot;#&quot;, &quot;&quot;).trim();\r\n                        String[] requestElement = requestBody.split(&quot;=&quot;);\r\n                        String requestItem = requestElement[1].trim();\r\n                        logger.info(&quot;SessionId =&quot; + sessionId + &quot; requestBody =&quot; + requestItem);\r\n\r\n                        try {\r\n                            JSONObject jsonObject = new JSONObject(requestItem);\r\n                            String transactionId = (String) jsonObject.get(&quot;transactionid&quot;);\r\n                            logger.info(&quot;SessionId =&quot; + sessionId + &quot; transactionId = &quot; + transactionId);\r\n\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\n\r\n                    line = br.readLine();  //Jump to the next line\r\n                    if (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;responseMap&quot;)) {\r\n                        String[] response = line.split(&quot;\\\\|&quot;);\r\n                        String responseMap = response[1].trim();\r\n                        logger.info(&quot;SessionId =&quot; + sessionId + &quot; responseMap =&quot; + responseMap);\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\nthe issue here is my second if statement is not executing, any help will be appreciated, I have attached an image for the log file entry lines.\r\n\r\nExample of log file entries\r\n\r\n    2021-09-22 23:55:41.294  INFO 293404 --- [http-nio-8090-exec-62] g.c.vodafone.MCASBroker.model.LdapUtil   : AppSessionId: MB-11FFECB23437494 \r\n    | Attribute Value: EVENT=SENDTEXT;ID=;STATUS=PASS;REASON=Success - Adjustment Applied ,New Balance Is 0,New CED Is 20211221; New Balance Is 0\r\n    \r\n    2021-09-22 23:55:41.294  INFO 293404 --- [http-nio-8090-exec-62] g.c.vodafone.MCASBroker.model.LdapUtil   : AppSessionId: MB-11FFECB23437494 \r\n    | responseMap:: {&quot;res&quot;:&quot;00&quot;,&quot;rd&quot;:&quot;EVENT=SENDTEXT;ID=;STATUS=PASS;REASON=Success - Adjustment Applied ,New Balance Is 0,New CED Is 20211221; New Balance Is 0&quot;}\r\n\r\n","title":"Pick an item from the next line base on a condition","body":"<p>[enter image description here][1]Good morning everyone, please I am reading a file that has multiple entries, I am supposed to get an appSessionId from the first entry line then look for the requestMap in the next line that has the same appSessionId.</p>\n<p>Here is my code:</p>\n<pre><code>    try(BufferedReader br = new BufferedReader(fileReader)) {\n        for (String line = br.readLine(); line != null; line = br.readLine()) {\n            if (line.contains(&quot;Inside /buyairtime&quot;)) {\n                String[] item = line.split(&quot;\\\\|&quot;);\n                String AppSessionId = item[1].trim();\n                logger.info(&quot;SessionId =&quot; + sessionId + &quot; AppSessionId =&quot; + AppSessionId);\n\n                line = br.readLine(); // Jump to the next line\n                if (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;requestBody&quot;)) {\n\n                    String[] request = line.split(&quot;\\\\|&quot;);\n                    String requestBody = request[2].replace(&quot;#&quot;, &quot;&quot;).trim();\n                    String[] requestElement = requestBody.split(&quot;=&quot;);\n                    String requestItem = requestElement[1].trim();\n                    logger.info(&quot;SessionId =&quot; + sessionId + &quot; requestBody =&quot; + requestItem);\n\n                    try {\n                        JSONObject jsonObject = new JSONObject(requestItem);\n                        String transactionId = (String) jsonObject.get(&quot;transactionid&quot;);\n                        logger.info(&quot;SessionId =&quot; + sessionId + &quot; transactionId = &quot; + transactionId);\n\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n\n\n                line = br.readLine();  //Jump to the next line\n                if (line.contains(AppSessionId) &amp;&amp; line.contains(&quot;responseMap&quot;)) {\n                    String[] response = line.split(&quot;\\\\|&quot;);\n                    String responseMap = response[1].trim();\n                    logger.info(&quot;SessionId =&quot; + sessionId + &quot; responseMap =&quot; + responseMap);\n                }\n\n            }\n        }\n    }\n</code></pre>\n<p>the issue here is my second if statement is not executing, any help will be appreciated, I have attached an image for the log file entry lines.</p>\n<p>Example of log file entries</p>\n<pre><code>2021-09-22 23:55:41.294  INFO 293404 --- [http-nio-8090-exec-62] g.c.vodafone.MCASBroker.model.LdapUtil   : AppSessionId: MB-11FFECB23437494 \n| Attribute Value: EVENT=SENDTEXT;ID=;STATUS=PASS;REASON=Success - Adjustment Applied ,New Balance Is 0,New CED Is 20211221; New Balance Is 0\n\n2021-09-22 23:55:41.294  INFO 293404 --- [http-nio-8090-exec-62] g.c.vodafone.MCASBroker.model.LdapUtil   : AppSessionId: MB-11FFECB23437494 \n| responseMap:: {&quot;res&quot;:&quot;00&quot;,&quot;rd&quot;:&quot;EVENT=SENDTEXT;ID=;STATUS=PASS;REASON=Success - Adjustment Applied ,New Balance Is 0,New CED Is 20211221; New Balance Is 0&quot;}\n</code></pre>\n"},{"tags":["java","search","artificial-intelligence","path-finding","a-star"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1634726508,"post_id":69644365,"comment_id":123100889,"body_markdown":"In your test scenarios the path is basically an unobstructed, straight line. Try making a labyrinth or at least paths that require moving away from the target. In such cases A* should be much more efficient.","body":"In your test scenarios the path is basically an unobstructed, straight line. Try making a labyrinth or at least paths that require moving away from the target. In such cases A* should be much more efficient."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634727261,"post_id":69644365,"comment_id":123101186,"body_markdown":"As the question includes code, please add programming-language-tag.","body":"As the question includes code, please add programming-language-tag."},{"owner":{"account_id":9926016,"reputation":41,"user_id":7347563,"display_name":"Hannes Elfving"},"score":1,"creation_date":1634727390,"post_id":69644365,"comment_id":123101235,"body_markdown":"Done! Scenarios with obstacles and tag added.","body":"Done! Scenarios with obstacles and tag added."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1634728300,"post_id":69644365,"comment_id":123101588,"body_markdown":"The frontier of the A* search looks more like a BFS than A*. Pleas post [mre]","body":"The frontier of the A* search looks more like a BFS than A*. Pleas post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634728693,"post_id":69644365,"comment_id":123101736,"body_markdown":"Tip include @username (i.e @c0der) in a comment to address it to this user.","body":"Tip include @username (i.e @c0der) in a comment to address it to this user."},{"owner":{"account_id":9926016,"reputation":41,"user_id":7347563,"display_name":"Hannes Elfving"},"score":0,"creation_date":1634731557,"post_id":69644365,"comment_id":123102958,"body_markdown":"@c0der I have now included additional code!","body":"@c0der I have now included additional code!"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634733001,"post_id":69644365,"comment_id":123103601,"body_markdown":"Please post mre as required.","body":"Please post mre as required."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634735324,"post_id":69644365,"comment_id":123104709,"body_markdown":"Note that `heuristic(Node n)` does not return the heuristic but the total cost. Side note: whenever the comparator is used you invoke `heuristic(i)` and `heuristic(j)` up to 3 times.","body":"Note that <code>heuristic(Node n)</code> does not return the heuristic but the total cost. Side note: whenever the comparator is used you invoke <code>heuristic(i)</code> and <code>heuristic(j)</code> up to 3 times."},{"owner":{"account_id":9926016,"reputation":41,"user_id":7347563,"display_name":"Hannes Elfving"},"score":0,"creation_date":1634748554,"post_id":69644365,"comment_id":123110867,"body_markdown":"@c0der, correct - it should more accurately be named evaluation(Node n)","body":"@c0der, correct - it should more accurately be named evaluation(Node n)"}],"owner":{"account_id":9926016,"reputation":41,"user_id":7347563,"display_name":"Hannes Elfving"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634987938,"creation_date":1634725878,"question_id":69644365,"body_markdown":"The evaluation function of A* Search is, according to AI: A Modern Approach, `f(x) = h(x) + g(x)`, where f(x) is the evaluation function, h(x) the heuristic function (Euclidian straight line in my case), and g(x) the path-cost. f(x) for greedy search is simply `f(x) = h(x)`.\r\n\r\nTo test these I made a visualization program. \r\n\r\n[![Greedy Search][1]][1]\r\n\r\n\r\n[![A*-Search][2]][2]\r\n\r\n\r\nWith obstacle:\r\n\r\n[![greed][3]][3]\r\n\r\n[![A* obstacle][4]][4]\r\n\r\nAs you can see, the greedy search was far more effective than A*. This surprised me, so I wonder if this is expected and whether there is something wrong with my A*-code; either the heuristic or the priority queue. \r\n\r\n    int heuristic(Node n) {\r\n\t\tint i=distanceFrom(n.state, grid.goalState) + n.state.pCost;\r\n\t\treturn i;\r\n\t}\r\n\r\n    PriorityQueue&lt;Node&gt; front = new PriorityQueue&lt;Node&gt;(30, new Comparator&lt;Node&gt;() {\r\n    \t\t\t\t\t// override compare method\r\n    \t\t\t\t\tpublic int compare(Node i, Node j) {\r\n    \t\t\t\t\t\tif (heuristic(i) &gt; heuristic(j)) {\r\n    \t\t\t\t\t\t\treturn 1;\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\telse if (heuristic(i) &lt; heuristic(j)) {\r\n    \t\t\t\t\t\t\treturn -1;\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\telse {\r\n    \t\t\t\t\t\t\treturn 0;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t});\r\n\r\nIf I try making pCost less significant and more similar to Greedy by dividing it by an integer, it will perform better. Is A* supposed to perform like this?\r\n\r\nThe entire A* execute-function looks like this:\r\n\r\n    public void execute() {\t\r\n    \t\r\n    \tSwingWorker worker = new SwingWorker() {\r\n    \t\t\t\t\r\n    \t\t@Override\r\n    \t\tprotected Void doInBackground() throws Exception {\r\n    \t\t\tboolean retGoal = false;\r\n    \t\t\r\n    \t\t\tPriorityQueue&lt;Node&gt; front = new PriorityQueue&lt;Node&gt;(30, new Comparator&lt;Node&gt;() {\r\n    \t\t\t\t// override compare method\r\n    \t\t\t\tpublic int compare(Node i, Node j) {\r\n    \t\t\t\t\tif (heuristic(i) &gt; heuristic(j)) {\r\n    \t\t\t\t\t\treturn 1;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (heuristic(i) &lt; heuristic(j)) {\r\n    \t\t\t\t\t\treturn -1;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse {\r\n    \t\t\t\t\t\treturn 0;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t\tHashtable&lt;State,Node&gt; reached = new Hashtable&lt;State,Node&gt;();\t\t\t\t\r\n    \t\t\tState s;\r\n    \t\t\tNode goal = null;\r\n    \t\t\tn = new Node(grid.startState, null);\r\n    \t\t\tint pCost = 0;\r\n    \t\t\tn.pathCost = pCost;\r\n    \t\t\tn.state.pCost = pCost;\r\n    \t\t\tfront.add(n);\r\n    \t\t\treached.put(n.state, n);\r\n    \t\t\tn.state.front=true;\r\n    \t\t\tpanel.repaint();\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\twhile(!front.isEmpty()) {\r\n    \t\t\t\tThread.sleep(Main.delay);\r\n    \t\t\t\tn.state.front=false;\r\n    \t\t\t\tn=front.poll();\r\n    \t\t\t\tif(grid.isGoal(n.state)) {\r\n    \t\t\t\t\tgoal = n;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tpCost=n.state.pCost+1;\r\n    \t\t\t\tpanel.repaint();\r\n    \t\t\t\tfor (Node child : expand(n, grid)) {\r\n    \t\t\t\t\ts = child.state;\r\n    \t\t\t\t\tif(!reached.containsKey(s) &amp;&amp; !s.isObstacle) {\r\n    \t\t\t\t\ts.pCost = pCost; //steps from goal\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif((!reached.containsKey(s) || heuristic(child) &lt; heuristic(reached.get(s))) &amp;&amp; !s.isObstacle) {\r\n    \t\t\t\t\t\ts.reached = true;\r\n    \t\t\t\t\t\ts.front = true;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\treached.put(s, child);\r\n    \t\t\t\t\t\tfront.add(child);\t\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\t\r\n    \t\t\t\t\tpanel.repaint();\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(goal != null) {\r\n    \t\t\t\tNode n = goal.parent;\r\n    \t\t\t\twhile(n.parent != null) {\r\n    \t\t\t\t\tn.state.isPath=true;\r\n    \t\t\t\t\tn = n.parent;\r\n    \t\t\t\t}\t\r\n    \t\t\t}\r\n    \t\t\tpanel.repaint();\r\n    \t\t\t\t\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t};\r\n    \tworker.execute();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kLwgr.png\r\n  [2]: https://i.stack.imgur.com/1FTUM.png\r\n  [3]: https://i.stack.imgur.com/Wap8H.png\r\n  [4]: https://i.stack.imgur.com/1D6GJ.png","title":"A*-Search evaluation seems to perform worse than Greedy Search","body":"<p>The evaluation function of A* Search is, according to AI: A Modern Approach, <code>f(x) = h(x) + g(x)</code>, where f(x) is the evaluation function, h(x) the heuristic function (Euclidian straight line in my case), and g(x) the path-cost. f(x) for greedy search is simply <code>f(x) = h(x)</code>.</p>\n<p>To test these I made a visualization program.</p>\n<p><a href=\"https://i.stack.imgur.com/kLwgr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kLwgr.png\" alt=\"Greedy Search\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1FTUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1FTUM.png\" alt=\"A*-Search\" /></a></p>\n<p>With obstacle:</p>\n<p><a href=\"https://i.stack.imgur.com/Wap8H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wap8H.png\" alt=\"greed\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1D6GJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1D6GJ.png\" alt=\"A* obstacle\" /></a></p>\n<p>As you can see, the greedy search was far more effective than A*. This surprised me, so I wonder if this is expected and whether there is something wrong with my A*-code; either the heuristic or the priority queue.</p>\n<pre><code>int heuristic(Node n) {\n    int i=distanceFrom(n.state, grid.goalState) + n.state.pCost;\n    return i;\n}\n\nPriorityQueue&lt;Node&gt; front = new PriorityQueue&lt;Node&gt;(30, new Comparator&lt;Node&gt;() {\n                    // override compare method\n                    public int compare(Node i, Node j) {\n                        if (heuristic(i) &gt; heuristic(j)) {\n                            return 1;\n                        }\n\n                        else if (heuristic(i) &lt; heuristic(j)) {\n                            return -1;\n                        }\n\n                        else {\n                            return 0;\n                        }\n                    }\n\n                });\n</code></pre>\n<p>If I try making pCost less significant and more similar to Greedy by dividing it by an integer, it will perform better. Is A* supposed to perform like this?</p>\n<p>The entire A* execute-function looks like this:</p>\n<pre><code>public void execute() { \n    \n    SwingWorker worker = new SwingWorker() {\n                \n        @Override\n        protected Void doInBackground() throws Exception {\n            boolean retGoal = false;\n        \n            PriorityQueue&lt;Node&gt; front = new PriorityQueue&lt;Node&gt;(30, new Comparator&lt;Node&gt;() {\n                // override compare method\n                public int compare(Node i, Node j) {\n                    if (heuristic(i) &gt; heuristic(j)) {\n                        return 1;\n                    }\n\n                    else if (heuristic(i) &lt; heuristic(j)) {\n                        return -1;\n                    }\n\n                    else {\n                        return 0;\n                    }\n                }\n\n            });\n            \n            Hashtable&lt;State,Node&gt; reached = new Hashtable&lt;State,Node&gt;();                \n            State s;\n            Node goal = null;\n            n = new Node(grid.startState, null);\n            int pCost = 0;\n            n.pathCost = pCost;\n            n.state.pCost = pCost;\n            front.add(n);\n            reached.put(n.state, n);\n            n.state.front=true;\n            panel.repaint();\n            \n        \n            \n            \n            \n            while(!front.isEmpty()) {\n                Thread.sleep(Main.delay);\n                n.state.front=false;\n                n=front.poll();\n                if(grid.isGoal(n.state)) {\n                    goal = n;\n                    break;\n                }\n                \n                pCost=n.state.pCost+1;\n                panel.repaint();\n                for (Node child : expand(n, grid)) {\n                    s = child.state;\n                    if(!reached.containsKey(s) &amp;&amp; !s.isObstacle) {\n                    s.pCost = pCost; //steps from goal\n                    }\n                    if((!reached.containsKey(s) || heuristic(child) &lt; heuristic(reached.get(s))) &amp;&amp; !s.isObstacle) {\n                        s.reached = true;\n                        s.front = true;\n                        \n                        reached.put(s, child);\n                        front.add(child);   \n                        \n                    }   \n                    panel.repaint();\n                }\n            \n            }\n            \n            if(goal != null) {\n                Node n = goal.parent;\n                while(n.parent != null) {\n                    n.state.isPath=true;\n                    n = n.parent;\n                }   \n            }\n            panel.repaint();\n                \n            return null;\n        }\n        \n        \n    };\n    worker.execute();\n}\n</code></pre>\n"},{"tags":["java","arrays","unique"],"comments":[{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":2,"creation_date":1626373495,"post_id":68399014,"comment_id":120882619,"body_markdown":"Sort the numbers in a copy array before counting","body":"Sort the numbers in a copy array before counting"},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":2,"creation_date":1626373585,"post_id":68399014,"comment_id":120882646,"body_markdown":"Java has a Set collection. This would fit your use case perfectly.","body":"Java has a Set collection. This would fit your use case perfectly."},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1626374257,"post_id":68399014,"comment_id":120882879,"body_markdown":"@Moritz Makowsi &#39;s answer would be the best starting point. Best to use a debugger or output some logs to figure out what your code is doing.","body":"@Moritz Makowsi &#39;s answer would be the best starting point. Best to use a debugger or output some logs to figure out what your code is doing."},{"owner":{"account_id":9965615,"reputation":851,"user_id":7373404,"accept_rate":80,"display_name":"JonZarate"},"score":0,"creation_date":1626375840,"post_id":68399014,"comment_id":120883393,"body_markdown":"Your question isn&#39;t clear. There are 5 unique elements in `[1, 2, 3, 4, 5, 1, 5]`: `[1, 2, 3, 4, 5]`. How are there only 3 ? What do you mean ?","body":"Your question isn&#39;t clear. There are 5 unique elements in <code>[1, 2, 3, 4, 5, 1, 5]</code>: <code>[1, 2, 3, 4, 5]</code>. How are there only 3 ? What do you mean ?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1626377445,"post_id":68399014,"comment_id":120883923,"body_markdown":"@JonZarate There are 3 elements that appear only once.","body":"@JonZarate There are 3 elements that appear only once."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1626373730,"creation_date":1626373730,"answer_id":68399094,"question_id":68399014,"body_markdown":"You can create a frequency `Map` and then get the number of keys that have only one occurrence.\r\n\r\n```\r\nstatic int numberOfUniqueIntegers(int[] number) {\r\n    Map&lt;Integer, Long&gt; freq = Arrays.stream(number).boxed().collect(\r\n       Collectors.groupingBy(x -&gt; x, Collectors.counting()));\r\n    return (int) freq.entrySet().stream().filter(e -&gt; e.getValue().equals(1L))\r\n        .map(Map.Entry::getKey).count();\r\n}\r\n```\r\n\r\n[&lt;kbd&gt;Demo&lt;/kbd&gt;](https://ideone.com/JH0WfX)","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>You can create a frequency <code>Map</code> and then get the number of keys that have only one occurrence.</p>\n<pre><code>static int numberOfUniqueIntegers(int[] number) {\n    Map&lt;Integer, Long&gt; freq = Arrays.stream(number).boxed().collect(\n       Collectors.groupingBy(x -&gt; x, Collectors.counting()));\n    return (int) freq.entrySet().stream().filter(e -&gt; e.getValue().equals(1L))\n        .map(Map.Entry::getKey).count();\n}\n</code></pre>\n<p><a href=\"https://ideone.com/JH0WfX\" rel=\"nofollow noreferrer\"><kbd>Demo</kbd></a></p>\n"},{"tags":[],"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626374188,"creation_date":1626373767,"answer_id":68399101,"question_id":68399014,"body_markdown":"Normally asking questions like this, many stack overflow answers will give you solutions, however, that might not be conducive to working through the problem yourself.\r\n\r\nKeep in mind there are multiple ways to solve this kind of problem.\r\n\r\n* Use a Set (a data structure to deal specifically to deal with uniques)\r\n* Sort and count. On duplicates, move on. \r\n\r\n\r\nJust want to point out a potential issue with your code. You are using a terminator on your conditional clause `if(i == j);`\r\n\r\nYour code will compile and run correctly, however it will simply check the comparison and run `count++` every time. You will want to fix this clause.\r\n\r\nThe correct syntax should be \r\n    \r\n    if (i == j) {\r\n       count++\r\n    } \r\n\r\nCheck comment for the exact lines:\r\n\r\n    static int numberOfUniqueIntegers(int[] number, int len) {\r\n        int unique = 0;\r\n         for (int i = 0; i &lt; len; i++){\r\n            int j;\r\n            for (j = 0; j &lt; i; j ++) {\r\n                if (number[i] == number[j]) {\r\n                    break;\r\n                }\r\n            }\r\n            if (i == j); // This comparison is always ignored.\r\n            unique++; // This line is always happening\r\n        }\r\n\r\n        return unique;\r\n\r\n    }","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>Normally asking questions like this, many stack overflow answers will give you solutions, however, that might not be conducive to working through the problem yourself.</p>\n<p>Keep in mind there are multiple ways to solve this kind of problem.</p>\n<ul>\n<li>Use a Set (a data structure to deal specifically to deal with uniques)</li>\n<li>Sort and count. On duplicates, move on.</li>\n</ul>\n<p>Just want to point out a potential issue with your code. You are using a terminator on your conditional clause <code>if(i == j);</code></p>\n<p>Your code will compile and run correctly, however it will simply check the comparison and run <code>count++</code> every time. You will want to fix this clause.</p>\n<p>The correct syntax should be</p>\n<pre><code>if (i == j) {\n   count++\n} \n</code></pre>\n<p>Check comment for the exact lines:</p>\n<pre><code>static int numberOfUniqueIntegers(int[] number, int len) {\n    int unique = 0;\n     for (int i = 0; i &lt; len; i++){\n        int j;\n        for (j = 0; j &lt; i; j ++) {\n            if (number[i] == number[j]) {\n                break;\n            }\n        }\n        if (i == j); // This comparison is always ignored.\n        unique++; // This line is always happening\n    }\n\n    return unique;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21985871,"reputation":21,"user_id":16260148,"display_name":"Torche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626374762,"creation_date":1626373844,"answer_id":68399117,"question_id":68399014,"body_markdown":"This one should work, just retain the elements already seen in a separate array :\r\n\r\n    static int numberOfUniqueIntegers(int[] number, int len) {\r\n        int unique = 0;\r\n        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; len; i++){\r\n            if (!temp.contains(number[i]))\r\n            {\r\n                unique ++;\r\n                temp.add(number[i]);\r\n            }\r\n        }\r\n\r\n        return unique;\r\n\r\n    }\r\n","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>This one should work, just retain the elements already seen in a separate array :</p>\n<pre><code>static int numberOfUniqueIntegers(int[] number, int len) {\n    int unique = 0;\n    List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; len; i++){\n        if (!temp.contains(number[i]))\n        {\n            unique ++;\n            temp.add(number[i]);\n        }\n    }\n\n    return unique;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22219774,"reputation":11,"user_id":16457649,"display_name":"Ashish Chaurasia "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626374758,"creation_date":1626374758,"answer_id":68399280,"question_id":68399014,"body_markdown":"You can use set \r\n\r\n    public static int numberOfUniqueIntegers(int[] number, int len) {\r\n\r\n        Set&lt;Integer&gt; st = new HashSet();\r\n        int unique = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n\r\n            if (!st.add(number[i])) {\r\n                unique = unique - 1;\r\n            } else {\r\n                unique = unique + 1;\r\n            }\r\n        }\r\n\r\n        return unique;\r\n    }\r\n\r\n","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>You can use set</p>\n<pre><code>public static int numberOfUniqueIntegers(int[] number, int len) {\n\n    Set&lt;Integer&gt; st = new HashSet();\n    int unique = 0;\n    for (int i = 0; i &lt; len; i++) {\n\n        if (!st.add(number[i])) {\n            unique = unique - 1;\n        } else {\n            unique = unique + 1;\n        }\n    }\n\n    return unique;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626379117,"creation_date":1626375600,"answer_id":68399471,"question_id":68399014,"body_markdown":"The easiest way is to just use `Set`.\r\n\r\n```\r\nint[] s = { 1, 2, 1, 5, 3, 4, 5, 1, 1, 5 };\r\nint count = numberOfUniqueIntegers(s);\r\nSystem.out.println(&quot;Count = &quot; + count);\r\n```\r\nPrints\r\n```\r\nCount = 3\r\n```\t\r\n- `Set#add` returns `false` if element exists, `true` otherwise\r\n- if `seen` doesn&#39;t contain it, add to `unique`.\r\n- if it has already been seen, remove from `unique`.\r\n- only the unique ones will remain.\r\n```\r\nstatic int numberOfUniqueIntegers(int[] number) {\r\n\tSet&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n\tSet&lt;Integer&gt; unique = new HashSet&lt;&gt;();\r\n\tfor (int i : number) {\r\n\t\tif (!seen.add(i)) {\r\n\t\t\tunique.remove(i);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tunique.add(i);\r\n\t}\r\n\treturn unique.size();\r\n}\r\n\r\n```\r\nDue to the nature of `Set` the above works in `O(n)` and no explicit counting of elements needs to be done.","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>The easiest way is to just use <code>Set</code>.</p>\n<pre><code>int[] s = { 1, 2, 1, 5, 3, 4, 5, 1, 1, 5 };\nint count = numberOfUniqueIntegers(s);\nSystem.out.println(&quot;Count = &quot; + count);\n</code></pre>\n<p>Prints</p>\n<pre><code>Count = 3\n</code></pre>\n<ul>\n<li><code>Set#add</code> returns <code>false</code> if element exists, <code>true</code> otherwise</li>\n<li>if <code>seen</code> doesn't contain it, add to <code>unique</code>.</li>\n<li>if it has already been seen, remove from <code>unique</code>.</li>\n<li>only the unique ones will remain.</li>\n</ul>\n<pre><code>static int numberOfUniqueIntegers(int[] number) {\n    Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n    Set&lt;Integer&gt; unique = new HashSet&lt;&gt;();\n    for (int i : number) {\n        if (!seen.add(i)) {\n            unique.remove(i);\n            continue;\n        }\n        unique.add(i);\n    }\n    return unique.size();\n}\n\n</code></pre>\n<p>Due to the nature of <code>Set</code> the above works in <code>O(n)</code> and no explicit counting of elements needs to be done.</p>\n"},{"tags":[],"owner":{"account_id":20488182,"reputation":51,"user_id":15034828,"display_name":"SUNNY PAUL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626376193,"creation_date":1626376193,"answer_id":68399586,"question_id":68399014,"body_markdown":"```\r\nstatic int numberOfUniqueIntegers(int[] number, int len) {\r\n    int unique = 0;\r\n    boolean isRepeated;\r\n    for (int i = 0; i &lt; len; i++){\r\n      isRepeated = false;//setting to defalut value\r\n        int j;\r\n        for (j = 0; j &lt; len; j ++) {\r\n          if(j == i) continue;\r\n            if (number[i] == number[j]) {\r\n              isRepeated = true;//if caught duplicate\r\n                break;\r\n            }\r\n        }\r\n        //if not caught duplicate then increment unique ++\r\n        if(!isRepeated) unique++;\r\n    }\r\n\r\n    return unique;\r\n\r\n}\r\n```\r\n\r\n**What wen wrong?**  \r\n``You have to match every value with everyother value which you did not as because you are just using an array and there is no way to figure if futures values had a match in past. So, you have to cover the length of array and check each value against every value in it.\r\nif it was to be written using java collections then it be would much simpler and with less time complexity``","title":"A method for counting unique elements in a array with loop (Java)","body":"<pre><code>static int numberOfUniqueIntegers(int[] number, int len) {\n    int unique = 0;\n    boolean isRepeated;\n    for (int i = 0; i &lt; len; i++){\n      isRepeated = false;//setting to defalut value\n        int j;\n        for (j = 0; j &lt; len; j ++) {\n          if(j == i) continue;\n            if (number[i] == number[j]) {\n              isRepeated = true;//if caught duplicate\n                break;\n            }\n        }\n        //if not caught duplicate then increment unique ++\n        if(!isRepeated) unique++;\n    }\n\n    return unique;\n\n}\n</code></pre>\n<p><strong>What wen wrong?</strong><br />\n<code>You have to match every value with everyother value which you did not as because you are just using an array and there is no way to figure if futures values had a match in past. So, you have to cover the length of array and check each value against every value in it. if it was to be written using java collections then it be would much simpler and with less time complexity</code></p>\n"},{"tags":[],"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626376279,"creation_date":1626376279,"answer_id":68399602,"question_id":68399014,"body_markdown":"If you need to do this without using any additional space, e.g. a `Set`, then you have no option but to compare each element in the array against all others, an `O(n^2)` solution.\r\n\r\n    static int numberOfUniqueIntegers(int[] number, int len)\r\n    {\r\n    \tint unique = 0;\r\n    \r\n    \tfor (int i = 0; i &lt; len; i++)\r\n    \t{\r\n    \t\tint j = 0;\r\n    \t\tfor (; j &lt; len; j++)\r\n    \t\t\tif (i != j &amp;&amp; number[i] == number[j]) break;\r\n    \t\tif (j == len) unique++;\r\n    \t}\r\n    \r\n    \treturn unique;\r\n    \r\n    }\r\n\r\nIf you can use additional space then are [options][1] that use a `Set`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68338704/return-elements-that-appear-only-once-in-array/68339955#68339955","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>If you need to do this without using any additional space, e.g. a <code>Set</code>, then you have no option but to compare each element in the array against all others, an <code>O(n^2)</code> solution.</p>\n<pre><code>static int numberOfUniqueIntegers(int[] number, int len)\n{\n    int unique = 0;\n\n    for (int i = 0; i &lt; len; i++)\n    {\n        int j = 0;\n        for (; j &lt; len; j++)\n            if (i != j &amp;&amp; number[i] == number[j]) break;\n        if (j == len) unique++;\n    }\n\n    return unique;\n\n}\n</code></pre>\n<p>If you can use additional space then are <a href=\"https://stackoverflow.com/questions/68338704/return-elements-that-appear-only-once-in-array/68339955#68339955\">options</a> that use a <code>Set</code>.</p>\n"},{"tags":[],"owner":{"account_id":22219774,"reputation":11,"user_id":16457649,"display_name":"Ashish Chaurasia "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626377313,"creation_date":1626377313,"answer_id":68399794,"question_id":68399014,"body_markdown":"You can try this with O(2n) complexity\r\n\r\n    static int numberOfUniqueIntegers() {\r\n        //int[] abc = { 1, 2, 3, 4, 5, 1, 5 };\r\n\r\n        int[] abc = { 1, 1, 1 };\r\n\r\n        Map&lt;Integer, Integer&gt; st = new HashMap();\r\n        int unique = 0;\r\n        for (int i = 0; i &lt; abc.length; i++) {\r\n            if (st.isEmpty() || st.containsKey(abc[i])) {\r\n                Integer vl = st.get(abc[i]);\r\n                st.put(abc[i], Objects.nonNull(vl) ? (vl + 1) : 1);\r\n            } else {\r\n                st.put(abc[i], 1);\r\n            }\r\n\r\n        }\r\n        for (int i : st.keySet()) {\r\n            if (st.get(i) == 1) {\r\n                unique = unique + 1;\r\n            }\r\n        }\r\n        System.out.println(st);\r\n        return unique;\r\n    }","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>You can try this with O(2n) complexity</p>\n<pre><code>static int numberOfUniqueIntegers() {\n    //int[] abc = { 1, 2, 3, 4, 5, 1, 5 };\n\n    int[] abc = { 1, 1, 1 };\n\n    Map&lt;Integer, Integer&gt; st = new HashMap();\n    int unique = 0;\n    for (int i = 0; i &lt; abc.length; i++) {\n        if (st.isEmpty() || st.containsKey(abc[i])) {\n            Integer vl = st.get(abc[i]);\n            st.put(abc[i], Objects.nonNull(vl) ? (vl + 1) : 1);\n        } else {\n            st.put(abc[i], 1);\n        }\n\n    }\n    for (int i : st.keySet()) {\n        if (st.get(i) == 1) {\n            unique = unique + 1;\n        }\n    }\n    System.out.println(st);\n    return unique;\n}\n</code></pre>\n"}],"owner":{"account_id":22219635,"reputation":11,"user_id":16457529,"display_name":"fnoteln"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":946,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":8,"score":0,"last_activity_date":1634987578,"creation_date":1626373361,"question_id":68399014,"body_markdown":"I&#39;m trying to make a method that counts the number of unique elements in an array. For example, if the array contains [1,2,3,4,5,1,5] there are 3 unique elements and my method should return the number 3.\r\n\r\nThis is what I&#180;ve got so far:\r\n\r\n    static int numberOfUniqueIntegers(int[] number, int len) {\r\n        int unique = 0;\r\n        for (int i = 0; i &lt; len; i++){\r\n            int j;\r\n            for (j = 0; j &lt; i; j ++) {\r\n                if (number[i] == number[j]) {\r\n                    break;\r\n                }\r\n            }\r\n            if (i == j);\r\n            unique++;\r\n        }\r\n\r\n        return unique;\r\n\r\n    }\r\n\r\nThe method takes in the array *number* and an integer *len* (which is the length of the array). \r\n\r\nBut in this case: [1,2,3,4,5,1,5] my method would return 5, instead of 3. I somehow need to check if the number has been repeated before, and if not *unique++*. \r\n\r\n\r\n","title":"A method for counting unique elements in a array with loop (Java)","body":"<p>I'm trying to make a method that counts the number of unique elements in an array. For example, if the array contains [1,2,3,4,5,1,5] there are 3 unique elements and my method should return the number 3.</p>\n<p>This is what I´ve got so far:</p>\n<pre><code>static int numberOfUniqueIntegers(int[] number, int len) {\n    int unique = 0;\n    for (int i = 0; i &lt; len; i++){\n        int j;\n        for (j = 0; j &lt; i; j ++) {\n            if (number[i] == number[j]) {\n                break;\n            }\n        }\n        if (i == j);\n        unique++;\n    }\n\n    return unique;\n\n}\n</code></pre>\n<p>The method takes in the array <em>number</em> and an integer <em>len</em> (which is the length of the array).</p>\n<p>But in this case: [1,2,3,4,5,1,5] my method would return 5, instead of 3. I somehow need to check if the number has been repeated before, and if not <em>unique++</em>.</p>\n"},{"tags":["java","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634986901,"creation_date":1634986901,"answer_id":69687513,"question_id":69686466,"body_markdown":"It should be pretty clear if you are using annotations to generate openAPI description file. Since this generation is based on your annotated Controllers, it will be pretty simple to find where the parameter is declared.","title":"correlation between open api and code in springdoc","body":"<p>It should be pretty clear if you are using annotations to generate openAPI description file. Since this generation is based on your annotated Controllers, it will be pretty simple to find where the parameter is declared.</p>\n"}],"owner":{"account_id":22898881,"reputation":31,"user_id":17037964,"display_name":"juan carlos Jj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634986901,"creation_date":1634978346,"question_id":69686466,"body_markdown":"Im working with Springdoc to create the specification of a rest API; it is possible when you create that specification, know where it came from? For example, if I have a parameter in mi openAPI, know in which part of the code I declared that variable, so if you have something you want to change, you know where to change it... maybe the line of the code or the piece of code so I can do the search with that, I also thought of changing the spring doc lib to do something like that but seems complicated. If anyone has an idea, please comment.\r\n\r\nThank you very much.","title":"correlation between open api and code in springdoc","body":"<p>Im working with Springdoc to create the specification of a rest API; it is possible when you create that specification, know where it came from? For example, if I have a parameter in mi openAPI, know in which part of the code I declared that variable, so if you have something you want to change, you know where to change it... maybe the line of the code or the piece of code so I can do the search with that, I also thought of changing the spring doc lib to do something like that but seems complicated. If anyone has an idea, please comment.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":7740333,"reputation":530,"user_id":5860344,"display_name":"Abhinav"},"score":0,"creation_date":1634966156,"post_id":69685293,"comment_id":123174360,"body_markdown":"Did you actually check whether your xpath has any Elements? Just before iterating, put this statement: driver.findElements(listNotificationType) in sysout &amp; check the values!","body":"Did you actually check whether your xpath has any Elements? Just before iterating, put this statement: driver.findElements(listNotificationType) in sysout &amp; check the values!"},{"owner":{"account_id":22636254,"reputation":327,"user_id":16813026,"display_name":"enthusiasticCoder"},"score":0,"creation_date":1634968534,"post_id":69685293,"comment_id":123174656,"body_markdown":"Yes, 11 values when I checked my Xpath.","body":"Yes, 11 values when I checked my Xpath."}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634972069,"creation_date":1634971653,"answer_id":69685797,"question_id":69685293,"body_markdown":"Instead of \r\n\r\n    List&lt;WebElement&gt; drpdwnData = new ArrayList&lt;&gt;();\r\n\r\nyou should define list of WebElement like this \r\n\r\n    List&lt;WebElement&gt; drpdwnData = new ArrayList&lt;WebElement&gt;();\r\n\r\n\r\nAlso, We do not need `;` for for loop declaration. Please see this line :\r\n\r\n    for(WebElement a: driver.findElements(listNotificationType));\r\n\r\nI would also suggest not using `text()` in XPath. Instead, try with the below code.\r\n\r\nYou should also put a if condition, before iterating, If the size of list `&gt;0` then go inside for loop, otherwise do not enter inside loop. In that way you will have bit optimized code. \r\n\r\n\r\n\r\n**Code:**\r\n\r\n\tprivate final By listNotificationType = By.xpath(&quot;//*[@id=&#39;a24687a9017f&#39;]//p&quot;);\r\n\r\n\tpublic List&lt;WebElement&gt; verifyListNotificationType()\r\n\t{\r\n\t\tList&lt;WebElement&gt; drpdwnData = new ArrayList&lt;WebElement&gt;();\r\n\t\tList&lt;WebElement&gt; actualList = driver.findElements(listNotificationType);\r\n\t\tif (actualList.size() &gt; 0) {\r\n\t\t\tSystem.out.println(&quot;actualList does have at least one web element, So Bot will go inside loop.&quot;);\r\n\t\t\tfor(WebElement a : actualList)\r\n\t\t\t\tdrpdwnData.add(a);\r\n\t\t}\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;actualList does not have any web element, So Bot will not go inside loop.&quot;);\r\n\t\treturn drpdwnData;\r\n\t}","title":"List&lt;WebElement&gt; returns empty List","body":"<p>Instead of</p>\n<pre><code>List&lt;WebElement&gt; drpdwnData = new ArrayList&lt;&gt;();\n</code></pre>\n<p>you should define list of WebElement like this</p>\n<pre><code>List&lt;WebElement&gt; drpdwnData = new ArrayList&lt;WebElement&gt;();\n</code></pre>\n<p>Also, We do not need <code>;</code> for for loop declaration. Please see this line :</p>\n<pre><code>for(WebElement a: driver.findElements(listNotificationType));\n</code></pre>\n<p>I would also suggest not using <code>text()</code> in XPath. Instead, try with the below code.</p>\n<p>You should also put a if condition, before iterating, If the size of list <code>&gt;0</code> then go inside for loop, otherwise do not enter inside loop. In that way you will have bit optimized code.</p>\n<p><strong>Code:</strong></p>\n<pre><code>private final By listNotificationType = By.xpath(&quot;//*[@id='a24687a9017f']//p&quot;);\n\npublic List&lt;WebElement&gt; verifyListNotificationType()\n{\n    List&lt;WebElement&gt; drpdwnData = new ArrayList&lt;WebElement&gt;();\n    List&lt;WebElement&gt; actualList = driver.findElements(listNotificationType);\n    if (actualList.size() &gt; 0) {\n        System.out.println(&quot;actualList does have at least one web element, So Bot will go inside loop.&quot;);\n        for(WebElement a : actualList)\n            drpdwnData.add(a);\n    }\n    else\n        System.out.println(&quot;actualList does not have any web element, So Bot will not go inside loop.&quot;);\n    return drpdwnData;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634984131,"creation_date":1634984131,"answer_id":69687157,"question_id":69685293,"body_markdown":"Capture the `WebelEments` before loop begins.\r\n\r\n&gt; My xpath is accurate as I rechecked it but still I am unable to\r\n&gt; iterate over it, while debugging the for loop is not even getting\r\n&gt; executed.\r\n\r\nMay be returning `0` elements so use some wait statement.\r\n\r\n\tprivate final By listNotificationType = By.xpath(&quot;//*[@id=&#39;a24687a9017f&#39;]//p&quot;);\r\n\tWebDriverWait wait = new WebDriverWait(driver, 20);\r\n\tList&lt;WebElement&gt; actualList = wait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(listNotificationType));\r\n\r\n\tpublic List&lt;WebElement&gt; verifyListNotificationType() {\r\n\t\tList&lt;WebElement&gt; drpdwnData = new ArrayList&lt;&gt;();\r\n\t\tfor (WebElement a : actualList) {\r\n\t\t\tdrpdwnData.add(a);\r\n\t\t}\r\n\t\treturn drpdwnData;\r\n\t}","title":"List&lt;WebElement&gt; returns empty List","body":"<p>Capture the <code>WebelEments</code> before loop begins.</p>\n<blockquote>\n<p>My xpath is accurate as I rechecked it but still I am unable to\niterate over it, while debugging the for loop is not even getting\nexecuted.</p>\n</blockquote>\n<p>May be returning <code>0</code> elements so use some wait statement.</p>\n<pre><code>private final By listNotificationType = By.xpath(&quot;//*[@id='a24687a9017f']//p&quot;);\nWebDriverWait wait = new WebDriverWait(driver, 20);\nList&lt;WebElement&gt; actualList = wait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(listNotificationType));\n\npublic List&lt;WebElement&gt; verifyListNotificationType() {\n    List&lt;WebElement&gt; drpdwnData = new ArrayList&lt;&gt;();\n    for (WebElement a : actualList) {\n        drpdwnData.add(a);\n    }\n    return drpdwnData;\n}\n</code></pre>\n"}],"owner":{"account_id":22636254,"reputation":327,"user_id":16813026,"display_name":"enthusiasticCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":945,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69685797,"answer_count":2,"score":0,"last_activity_date":1634986644,"creation_date":1634965518,"question_id":69685293,"body_markdown":"I am trying to loop over a List&lt;WebElement&gt; and store the items in another List to compare data, but my List&lt;WebElement&gt; is not getting iterated over,\r\n\r\nHere is my implementation\r\n```\r\n    private final By listNotificationType = By.xpath(&quot;//*[@id=&#39;a24687a9017f&#39;]//p/text()&quot;);\r\n   \r\n    public List&lt;WebElement&gt; verifyListNotificationType()\r\n    \t{\r\n    \t\tList&lt;WebElement&gt; drpdwnData = new ArrayList&lt;&gt;();\r\n    \t\tfor(WebElement a: driver.findElements(listNotificationType))\r\n    \t\t{\r\n    \t\t\tdrpdwnData.add(a);\r\n    \t\t}\r\n    \t\treturn drpdwnData;\r\n    \t}\r\n        \r\n    String[] arrNotifications = { &quot;Abc&quot;, &quot;Xyz&quot;, &quot;Def&quot; };\r\n    List&lt;Object&gt; listNotifications = Arrays.asList(arrNotifications);\r\n    \r\n    MyPage myPage = new MyPage();\r\n    System.out.println(&quot;Final Data:: &quot;+myPage.verifyListNotificationType());    \t \r\n  Assertions.assertThat(listNotifications).hasSameElementsAs(myPage.verifyListNotificationType());\r\n```\r\n\r\nWhat happens when I execute the code is I get the result\r\n**Final Data:: []**\r\n\r\nCan someone please tell me why the list is returning empty, my xpath is accurate as I rechecked it but still I am unable to iterate over it, while debugging the for loop is not even getting executed. I am not sure where I am going wrong.","title":"List&lt;WebElement&gt; returns empty List","body":"<p>I am trying to loop over a List and store the items in another List to compare data, but my List is not getting iterated over,</p>\n<p>Here is my implementation</p>\n<pre><code>    private final By listNotificationType = By.xpath(&quot;//*[@id='a24687a9017f']//p/text()&quot;);\n   \n    public List&lt;WebElement&gt; verifyListNotificationType()\n        {\n            List&lt;WebElement&gt; drpdwnData = new ArrayList&lt;&gt;();\n            for(WebElement a: driver.findElements(listNotificationType))\n            {\n                drpdwnData.add(a);\n            }\n            return drpdwnData;\n        }\n        \n    String[] arrNotifications = { &quot;Abc&quot;, &quot;Xyz&quot;, &quot;Def&quot; };\n    List&lt;Object&gt; listNotifications = Arrays.asList(arrNotifications);\n    \n    MyPage myPage = new MyPage();\n    System.out.println(&quot;Final Data:: &quot;+myPage.verifyListNotificationType());         \n  Assertions.assertThat(listNotifications).hasSameElementsAs(myPage.verifyListNotificationType());\n</code></pre>\n<p>What happens when I execute the code is I get the result\n<strong>Final Data:: []</strong></p>\n<p>Can someone please tell me why the list is returning empty, my xpath is accurate as I rechecked it but still I am unable to iterate over it, while debugging the for loop is not even getting executed. I am not sure where I am going wrong.</p>\n"},{"tags":["java","spring-boot","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":9434206,"reputation":1786,"user_id":7016666,"display_name":"apatniv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634956571,"creation_date":1634953827,"answer_id":69684517,"question_id":69684286,"body_markdown":"First of all, `doOnNext` methods are for side-effects and not for changing the flow of events. Also, if you are converting something to reactive, the whole pipeline needs to be non-blocking and you should avoid calling any code that is blocking. In case if you have blocking code that can&#39;t be changed, [you can follow the advice here:](https://projectreactor.io/docs/core/release/reference/index.html#faq.wrap-blocking)\r\n\r\nFor filtering you can use `filter` and for using `cId` at multiple places either pass it as tuple down the chain (lot of libraries out there) or you can create your own class for that purpose. \r\n\r\n ","title":"Converting nested for loops to reactive Flux","body":"<p>First of all, <code>doOnNext</code> methods are for side-effects and not for changing the flow of events. Also, if you are converting something to reactive, the whole pipeline needs to be non-blocking and you should avoid calling any code that is blocking. In case if you have blocking code that can't be changed, <a href=\"https://projectreactor.io/docs/core/release/reference/index.html#faq.wrap-blocking\" rel=\"nofollow noreferrer\">you can follow the advice here:</a></p>\n<p>For filtering you can use <code>filter</code> and for using <code>cId</code> at multiple places either pass it as tuple down the chain (lot of libraries out there) or you can create your own class for that purpose.</p>\n"},{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634986431,"creation_date":1634986431,"answer_id":69687455,"question_id":69684286,"body_markdown":"&gt; 1. How can I incorporate the IsValid() method into the query.\r\n\r\nThere&#39;s an operator for that:\r\n\r\n    Flux.fromIterable(getC())\r\n                .filter(c -&gt; valid(c))\r\n\r\n\r\n&gt; 2. I need to reuse the cId value I get on the first map - .map(c -&gt; c.getId), in two places. How can I keep track of that value if not\r\n&gt; used immediately in the next step.\r\n\r\nIn the particular simple case you can simply use nested `flatmap`s like this:\r\n```java\r\n.flatMap(id -&gt;\r\n        Flux.fromIterable(getM(id))\r\n            .flatMap(m -&gt; {\r\n                String q = Message.Format(&quot;query: {}&quot;, m);\r\n                List&lt;D&gt; dList = getD(id, q);\r\n                return sendDToKafka(dList);\r\n            })\r\n    )\r\n```\r\n\r\nSee [What is a good idiom for nested flatMaps in Java Reactor?][1]\r\n\r\n&gt; 3. Is there a way to form the q variable within the reactive query to pass as argument in getD()\r\n\r\n\r\nYou can&#39;t use the non-final `q` variable within the stream. Have a look at `AtomicReference&lt;String&gt;`.\r\n\r\nAs already mentioned in the other answer, `doOnNext` is for side effects, `map` is for mapping something from one type to another type.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58053494/what-is-a-good-idiom-for-nested-flatmaps-in-java-reactor","title":"Converting nested for loops to reactive Flux","body":"<blockquote>\n<ol>\n<li>How can I incorporate the IsValid() method into the query.</li>\n</ol>\n</blockquote>\n<p>There's an operator for that:</p>\n<pre><code>Flux.fromIterable(getC())\n            .filter(c -&gt; valid(c))\n</code></pre>\n<blockquote>\n<ol start=\"2\">\n<li>I need to reuse the cId value I get on the first map - .map(c -&gt; c.getId), in two places. How can I keep track of that value if not\nused immediately in the next step.</li>\n</ol>\n</blockquote>\n<p>In the particular simple case you can simply use nested <code>flatmap</code>s like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.flatMap(id -&gt;\n        Flux.fromIterable(getM(id))\n            .flatMap(m -&gt; {\n                String q = Message.Format(&quot;query: {}&quot;, m);\n                List&lt;D&gt; dList = getD(id, q);\n                return sendDToKafka(dList);\n            })\n    )\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/58053494/what-is-a-good-idiom-for-nested-flatmaps-in-java-reactor\">What is a good idiom for nested flatMaps in Java Reactor?</a></p>\n<blockquote>\n<ol start=\"3\">\n<li>Is there a way to form the q variable within the reactive query to pass as argument in getD()</li>\n</ol>\n</blockquote>\n<p>You can't use the non-final <code>q</code> variable within the stream. Have a look at <code>AtomicReference&lt;String&gt;</code>.</p>\n<p>As already mentioned in the other answer, <code>doOnNext</code> is for side effects, <code>map</code> is for mapping something from one type to another type.</p>\n"}],"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69687455,"answer_count":2,"score":1,"last_activity_date":1634986431,"creation_date":1634949768,"question_id":69684286,"body_markdown":"I have a code logic that needs to be in a series of nested loops.\r\nHere is the sample:\r\n\r\n    String q = null;\r\n    for(C c in getC()){\r\n        if(Valid(c)){\r\n            String Id = c.Id;\r\n            List&lt;M&gt; mList = getM(Id);\r\n            for(M m in mList){\r\n                q = Message.Format(&quot;query:{}&quot;,m);\r\n                List&lt;D&gt; dList = getD(Id, q);\r\n                sendDToKafka(dList);\r\n            }\r\n        }\r\n    }\r\n\r\nI am trying to convert the above logic to be reactive using project reactor.\r\nThe code I have so far:\r\n\r\n    Flux.fromIterable(getC())\r\n        .map(c -&gt; c.getId)\r\n        .doOnNext(cId -&gt; getM(cId))\r\n        .map(m -&gt; m.trim())\r\n        .doOnNext(m -&gt; getD()) // need to pass in query and Id to getD()\r\n        .subscribe();\r\n\r\nThere are few issues I am facing:\r\n\r\n 1. How can I incorporate the IsValid() method into the query.\r\n 2. I need to reuse the cId value I get on the first map - .map(c -&gt; c.getId), in two places. How can I keep track of that value if not used immediately in the next step.\r\n 3. Is there a way to form the q variable within the reactive query to pass as argument in getD()\r\n 4. I would really appreciate any feedback if the code is an efficient approach.\r\n\r\n","title":"Converting nested for loops to reactive Flux","body":"<p>I have a code logic that needs to be in a series of nested loops.\nHere is the sample:</p>\n<pre><code>String q = null;\nfor(C c in getC()){\n    if(Valid(c)){\n        String Id = c.Id;\n        List&lt;M&gt; mList = getM(Id);\n        for(M m in mList){\n            q = Message.Format(&quot;query:{}&quot;,m);\n            List&lt;D&gt; dList = getD(Id, q);\n            sendDToKafka(dList);\n        }\n    }\n}\n</code></pre>\n<p>I am trying to convert the above logic to be reactive using project reactor.\nThe code I have so far:</p>\n<pre><code>Flux.fromIterable(getC())\n    .map(c -&gt; c.getId)\n    .doOnNext(cId -&gt; getM(cId))\n    .map(m -&gt; m.trim())\n    .doOnNext(m -&gt; getD()) // need to pass in query and Id to getD()\n    .subscribe();\n</code></pre>\n<p>There are few issues I am facing:</p>\n<ol>\n<li>How can I incorporate the IsValid() method into the query.</li>\n<li>I need to reuse the cId value I get on the first map - .map(c -&gt; c.getId), in two places. How can I keep track of that value if not used immediately in the next step.</li>\n<li>Is there a way to form the q variable within the reactive query to pass as argument in getD()</li>\n<li>I would really appreciate any feedback if the code is an efficient approach.</li>\n</ol>\n"},{"tags":["java","android","visual-studio","xamarin","xamarin.forms"],"comments":[{"owner":{"account_id":14715114,"reputation":8457,"user_id":10627299,"display_name":"Leon"},"score":0,"creation_date":1578970231,"post_id":59723889,"comment_id":105603856,"body_markdown":"First of all , please create a new project, If this issue is still existed. If you install JDK1.6 or .17 ,please Uninstall Java JDK 1.6 and Java JDK 1.7 using the &quot;Programs and Features&quot; control panel. On Windows, Then,please close your VS delete the `bin` and `obj` in your project folders,  rebuild your project. If still have this issue, please click the `repair` in the VS installer.","body":"First of all , please create a new project, If this issue is still existed. If you install JDK1.6 or .17 ,please Uninstall Java JDK 1.6 and Java JDK 1.7 using the &quot;Programs and Features&quot; control panel. On Windows, Then,please close your VS delete the <code>bin</code> and <code>obj</code> in your project folders,  rebuild your project. If still have this issue, please click the <code>repair</code> in the VS installer."}],"answers":[{"tags":[],"owner":{"account_id":23120389,"reputation":1,"user_id":17226998,"display_name":"ABDOU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634986395,"creation_date":1634986395,"answer_id":69687449,"question_id":59723889,"body_markdown":"try to Install the “Desktop development with C++” workload will workaround this issue.","title":"Connection to layout renderer failed","body":"<p>try to Install the “Desktop development with C++” workload will workaround this issue.</p>\n"}],"owner":{"account_id":17013984,"reputation":21,"user_id":12308352,"display_name":"Victor Lima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634986395,"creation_date":1578948253,"question_id":59723889,"body_markdown":"I just installed Xamarin on my Visual Studio and opened a blank project so I could test the debugging for mobile. But when I open the activity_mail.xml the designer shows the following error:\r\n\r\n&quot;Connection to the layout renderer failed. This may be caused by misconfiguration of Java.&quot;\r\n\r\n[![Connection to the layout renderer failed. This may be caused by misconfiguration of Java.][1]][1]\r\n\r\n\r\nInitially, the SDK version was the default from Xamarin installation, but I&#39;ve also tried to use version 1.8_231 and 1.7_80, with no success. I&#39;ve also updated Android SDK to latest version, but also no success. The Android configuration page is set as following:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is the log of the error:\r\n\r\n```\r\n[2020-01-13 17:51:33.7] INFO: : Android Designer version: 16.4.464 (4abf337c3)\r\n[2020-01-13 17:51:40.2] INFO: : JDK version: 1.8.0-25\r\n[2020-01-13 17:51:40.2] INFO: : JDK vendor: Microsoft\r\n[2020-01-13 17:51:57.5] INFO: : Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n[2020-01-13 17:51:57.5] INFO: : \tat mono.android.HostProcessConnection.log(HostProcessConnection.java:92)\r\n[2020-01-13 17:51:57.5] INFO: : \tat mono.android.HostProcessConnection.logError(HostProcessConnection.java:69)\r\n[2020-01-13 17:51:57.5] INFO: : \tat mono.android.JniHelper.loadJniLibrary(JniHelper.java:25)\r\n[2020-01-13 17:51:57.5] INFO: : \tat mono.android.AndroidDesignerHost.main(AndroidDesignerHost.java:44)\r\n[2020-01-13 17:51:58.0] ERROR: : Connection failed\r\nXamarin.AndroidDesigner.Java.JavaProcessNotStartedException: Error at starting designer&#39;s Java process\r\n   in Xamarin.AndroidDesigner.Java.JavaProcessConnection.&lt;DoConnect&gt;d__49.MoveNext() at E:\\A\\_work\\283\\s\\Xamarin.Designer.Android\\Xamarin.AndroidDesigner\\Java\\JavaProcessConnection.cs:line 176\r\n--- Fim do rastreamento de pilha do local anterior onde a exce&#231;&#227;o foi gerada ---\r\n```\r\nVisual Studio also doesn&#39;t let me build the application.\r\n\r\nHow can I solve this issue?\r\n\r\nVersion info:\r\nXamarin.Essentials: 1.3.1\r\n\r\nXamarin.Android.Support.Design, .Support.CustomTabs and .Support.Core.Utils: 20.0.0.3\r\n\r\nAndroid SDK Tools: 26.1.1\r\n\r\nAndroid SDK platform-tools: 29.0.4\r\n\r\nAndroid Sdk Build tools: 28.0.3\r\n\r\nOS: Windows 7 32-bit\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dvk1U.png\r\n  [2]: https://i.stack.imgur.com/AxuQt.png","title":"Connection to layout renderer failed","body":"<p>I just installed Xamarin on my Visual Studio and opened a blank project so I could test the debugging for mobile. But when I open the activity_mail.xml the designer shows the following error:</p>\n\n<p>\"Connection to the layout renderer failed. This may be caused by misconfiguration of Java.\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/dvk1U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dvk1U.png\" alt=\"Connection to the layout renderer failed. This may be caused by misconfiguration of Java.\"></a></p>\n\n<p>Initially, the SDK version was the default from Xamarin installation, but I've also tried to use version 1.8_231 and 1.7_80, with no success. I've also updated Android SDK to latest version, but also no success. The Android configuration page is set as following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AxuQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AxuQt.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the log of the error:</p>\n\n<pre><code>[2020-01-13 17:51:33.7] INFO: : Android Designer version: 16.4.464 (4abf337c3)\n[2020-01-13 17:51:40.2] INFO: : JDK version: 1.8.0-25\n[2020-01-13 17:51:40.2] INFO: : JDK vendor: Microsoft\n[2020-01-13 17:51:57.5] INFO: : Exception in thread \"main\" java.lang.NullPointerException\n[2020-01-13 17:51:57.5] INFO: :     at mono.android.HostProcessConnection.log(HostProcessConnection.java:92)\n[2020-01-13 17:51:57.5] INFO: :     at mono.android.HostProcessConnection.logError(HostProcessConnection.java:69)\n[2020-01-13 17:51:57.5] INFO: :     at mono.android.JniHelper.loadJniLibrary(JniHelper.java:25)\n[2020-01-13 17:51:57.5] INFO: :     at mono.android.AndroidDesignerHost.main(AndroidDesignerHost.java:44)\n[2020-01-13 17:51:58.0] ERROR: : Connection failed\nXamarin.AndroidDesigner.Java.JavaProcessNotStartedException: Error at starting designer's Java process\n   in Xamarin.AndroidDesigner.Java.JavaProcessConnection.&lt;DoConnect&gt;d__49.MoveNext() at E:\\A\\_work\\283\\s\\Xamarin.Designer.Android\\Xamarin.AndroidDesigner\\Java\\JavaProcessConnection.cs:line 176\n--- Fim do rastreamento de pilha do local anterior onde a exceção foi gerada ---\n</code></pre>\n\n<p>Visual Studio also doesn't let me build the application.</p>\n\n<p>How can I solve this issue?</p>\n\n<p>Version info:\nXamarin.Essentials: 1.3.1</p>\n\n<p>Xamarin.Android.Support.Design, .Support.CustomTabs and .Support.Core.Utils: 20.0.0.3</p>\n\n<p>Android SDK Tools: 26.1.1</p>\n\n<p>Android SDK platform-tools: 29.0.4</p>\n\n<p>Android Sdk Build tools: 28.0.3</p>\n\n<p>OS: Windows 7 32-bit</p>\n"},{"tags":["java","android","video","capture","mediastore"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634985993,"creation_date":1634985993,"answer_id":69687392,"question_id":69685500,"body_markdown":"&gt; I&#39;m trying to get a real mp4 file from the capture of MediaStore.ACTION_VIDEO_CAPTURE\r\n\r\nThere are dozens, if not hundreds, of different apps that will respond to your `Intent`. This includes both pre-installed camera apps from phone manufacturers and user-installed camera apps from places like the Play store. How these apps handle your request is up to their developers. `ACTION_VIDEO_CAPTURE`, like `ACTION_IMAGE_CAPTURE`, is for cases where you do not care about the details of the capture operation.\r\n\r\nSince in your case you care about those details, you need to capture the video yourself, whether using `MediaRecorder` directly or using [third-party libraries](https://android-arsenal.com/tag/141?sort=created).\r\n","title":"Need MediaStore.ACTION_VIDEO_CAPTURE create an MP4 video","body":"<blockquote>\n<p>I'm trying to get a real mp4 file from the capture of MediaStore.ACTION_VIDEO_CAPTURE</p>\n</blockquote>\n<p>There are dozens, if not hundreds, of different apps that will respond to your <code>Intent</code>. This includes both pre-installed camera apps from phone manufacturers and user-installed camera apps from places like the Play store. How these apps handle your request is up to their developers. <code>ACTION_VIDEO_CAPTURE</code>, like <code>ACTION_IMAGE_CAPTURE</code>, is for cases where you do not care about the details of the capture operation.</p>\n<p>Since in your case you care about those details, you need to capture the video yourself, whether using <code>MediaRecorder</code> directly or using <a href=\"https://android-arsenal.com/tag/141?sort=created\" rel=\"nofollow noreferrer\">third-party libraries</a>.</p>\n"}],"owner":{"account_id":22264731,"reputation":1,"user_id":16495688,"display_name":"Sam By"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634985993,"creation_date":1634968197,"question_id":69685500,"body_markdown":"I&#39;m trying to get a real mp4 file from the capture of MediaStore.ACTION_VIDEO_CAPTURE\r\n.\r\nThe generated file is not a real MP4 because an iPhone can&#39;t read this file. The android produce a 3gpp but with mp4 extension.\r\n\r\nI try with an web converter to produce an mp4 from this fake mp4 file and the result works in an Iphone !\r\n\r\nPlease, how can I do to get a real MP4 ?\r\n\r\nMy code :\r\n\r\n   \r\n\r\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                                        ContentValues values = new ContentValues(1);\r\n                                        values.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\n                                        getContentResolver().delete(MediaStore.Video.Media.EXTERNAL_CONTENT_URI,null);\r\n                                        Uri outputFileUri = getContentResolver().insert(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, values);\r\n                                        Intent captureIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\r\n                                        captureIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                                        captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\r\n                                        activityResultLauncher.launch(captureIntent);\r\n                                        Log.i(&quot;IFFFFF&quot;,&quot;&quot;);\r\n    \r\n                                    } else {\r\n                                        Log.i(&quot;ELOOSSEEEE&quot;,&quot;&quot;);\r\n                                        Intent captureIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\r\n                                        File file = new File(Environment.getExternalStorageDirectory(), &quot;video.mp4&quot;);\r\n                                        Uri outputFileUri = Uri.fromFile(file);\r\n                                        captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\r\n                                        activityResultLauncher.launch(captureIntent);\r\n                                    }\r\n\r\n\r\n","title":"Need MediaStore.ACTION_VIDEO_CAPTURE create an MP4 video","body":"<p>I'm trying to get a real mp4 file from the capture of MediaStore.ACTION_VIDEO_CAPTURE\n.\nThe generated file is not a real MP4 because an iPhone can't read this file. The android produce a 3gpp but with mp4 extension.</p>\n<p>I try with an web converter to produce an mp4 from this fake mp4 file and the result works in an Iphone !</p>\n<p>Please, how can I do to get a real MP4 ?</p>\n<p>My code :</p>\n<pre><code>  if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                                    ContentValues values = new ContentValues(1);\n                                    values.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\n                                    getContentResolver().delete(MediaStore.Video.Media.EXTERNAL_CONTENT_URI,null);\n                                    Uri outputFileUri = getContentResolver().insert(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, values);\n                                    Intent captureIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\n                                    captureIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n                                    captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\n                                    activityResultLauncher.launch(captureIntent);\n                                    Log.i(&quot;IFFFFF&quot;,&quot;&quot;);\n\n                                } else {\n                                    Log.i(&quot;ELOOSSEEEE&quot;,&quot;&quot;);\n                                    Intent captureIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\n                                    File file = new File(Environment.getExternalStorageDirectory(), &quot;video.mp4&quot;);\n                                    Uri outputFileUri = Uri.fromFile(file);\n                                    captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\n                                    activityResultLauncher.launch(captureIntent);\n                                }\n</code></pre>\n"},{"tags":["java","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":127168,"reputation":13053,"user_id":324157,"accept_rate":82,"display_name":"Eben Roux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634985879,"creation_date":1579165468,"answer_id":59766139,"question_id":59756182,"body_markdown":"The distinction, for me anyway, is that an application service is used in the integration layer/concern.  Integration appears on the periphery of your solution where the &quot;outside&quot; (front-ends) access the &quot;inside&quot; (web-api / message processors).\r\n\r\nAs such they typically don&#39;t receive input in terms of domain objects but rather in primitives such as Ids and raw data.  If the interaction is simple enough then the object performing the interaction (controller/message processor) could use a repository or query mechanism directly.  The integration layer is where you perform transaction processing (begin/commit).  \r\n\r\nHowever, if your interaction requires orchestrating between two or more domain objects then you would typically opt for an application service and pass the primitive data to *that*.  You *could*, again, perform the interaction yourself by coding all that in the object performing the interaction (controller/message processor). If you find you are duplicating code then an application service is certainly required.\r\n\r\nApplication services, therefore, would perform gathering of any additional data to be passed along to the domain.\r\n\r\nA domain service, on the other hand, typically operates directly on domain objects.  It does not do any additional data gathering.  I like to pass everything the domain needs *to* the domain.  The domain should not need to ***call out*** to obtain anything extra.  I have also moved away from *double dispatch* and rather perform the relevant call outside the domain.  If there is only a single object involved you may want to check whether the functionality cannot be moved to the domain object itself.  For instance, you could go with `driver.HiredBy(company);` and the invariants could be applied in the `HiredBy` method.  Same with `Fired()`.  Also, I like returning domain events from the objects themselves: on the `Driver` class we could have `DriverFirstEvent Fire(Company currentCompany);`\r\n\r\nThese guidelines may vary depending on your requirements as nothing is cast in stone.\r\n\r\nWhat you have as a sample I would categorise as an *application service*.","title":"Domain Service vs Application Service By Example","body":"<p>The distinction, for me anyway, is that an application service is used in the integration layer/concern.  Integration appears on the periphery of your solution where the &quot;outside&quot; (front-ends) access the &quot;inside&quot; (web-api / message processors).</p>\n<p>As such they typically don't receive input in terms of domain objects but rather in primitives such as Ids and raw data.  If the interaction is simple enough then the object performing the interaction (controller/message processor) could use a repository or query mechanism directly.  The integration layer is where you perform transaction processing (begin/commit).</p>\n<p>However, if your interaction requires orchestrating between two or more domain objects then you would typically opt for an application service and pass the primitive data to <em>that</em>.  You <em>could</em>, again, perform the interaction yourself by coding all that in the object performing the interaction (controller/message processor). If you find you are duplicating code then an application service is certainly required.</p>\n<p>Application services, therefore, would perform gathering of any additional data to be passed along to the domain.</p>\n<p>A domain service, on the other hand, typically operates directly on domain objects.  It does not do any additional data gathering.  I like to pass everything the domain needs <em>to</em> the domain.  The domain should not need to <em><strong>call out</strong></em> to obtain anything extra.  I have also moved away from <em>double dispatch</em> and rather perform the relevant call outside the domain.  If there is only a single object involved you may want to check whether the functionality cannot be moved to the domain object itself.  For instance, you could go with <code>driver.HiredBy(company);</code> and the invariants could be applied in the <code>HiredBy</code> method.  Same with <code>Fired()</code>.  Also, I like returning domain events from the objects themselves: on the <code>Driver</code> class we could have <code>DriverFirstEvent Fire(Company currentCompany);</code></p>\n<p>These guidelines may vary depending on your requirements as nothing is cast in stone.</p>\n<p>What you have as a sample I would categorise as an <em>application service</em>.</p>\n"}],"owner":{"account_id":1732356,"reputation":1865,"user_id":1585701,"accept_rate":73,"display_name":"Vitor Villar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59766139,"answer_count":1,"score":0,"last_activity_date":1634985879,"creation_date":1579107286,"question_id":59756182,"body_markdown":"I know there is a lot of questions (And answers) about the difference between Domain Service and Application Service.\r\n\r\nOne of the most viewed answers regarding this is this one: https://stackoverflow.com/questions/2268699/domain-driven-design-domain-service-application-service\r\n\r\nBut I&#39;m still having trouble to draw the line between this two kind of services. So I brought here an example.\r\n\r\nThis is entity I have:\r\n\r\n```\r\npackage com.transportifygame.core.domain.entities;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.transportifygame.core.domain.constants.Drivers;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.ZonedDateTime;\r\nimport java.util.UUID;\r\n\r\n@Getter\r\n@Setter\r\n\r\n@Entity\r\n@Table(name = &quot;drivers&quot;)\r\npublic class Driver\r\n{\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Column(name = &quot;salary&quot;, nullable = false)\r\n    private Double salary;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n    @Column(name = &quot;hired_at&quot;)\r\n    private ZonedDateTime hiredAt;\r\n\r\n    @Column(name = &quot;bonus&quot;)\r\n    private Integer bonus;\r\n\r\n    @Column(name = &quot;experience_level&quot;, nullable = false)\r\n    private Integer experienceLevel = Drivers.ExperienceLevel.BEGINNER.ordinal();\r\n\r\n// And keep going...\r\n}\r\n\r\n```\r\n\r\nAnd this is a **Domain Service** I have:\r\n\r\n```\r\npackage com.transportifygame.core.domain.services;\r\n\r\nimport com.transportifygame.core.domain.entities.Company;\r\nimport com.transportifygame.core.domain.entities.Driver;\r\nimport com.transportifygame.core.domain.events.drivers.DriverFired;\r\nimport com.transportifygame.core.domain.exceptions.drivers.DriverInDeliveryException;\r\nimport com.transportifygame.core.domain.exceptions.drivers.DriverNotFoundException;\r\nimport com.transportifygame.core.application.repositories.DriverRepository;\r\nimport com.transportifygame.core.application.utils.DateTime;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.UUID;\r\n\r\n@Service\r\npublic class DriverService extends AbstractService\r\n{\r\n    private DriverRepository driverRepository;\r\n    private DriverAvailableService driverAvailableService;\r\n\r\n    @Autowired\r\n    public DriverService(\r\n        DriverRepository driverRepository,\r\n        DriverAvailableService driverAvailableService\r\n    )\r\n    {\r\n        this.driverRepository = driverRepository;\r\n        this.driverAvailableService = driverAvailableService;\r\n    }\r\n\r\n    @Transactional\r\n    public Driver hire(Company company, UUID driverAvailableId) throws DriverNotFoundException\r\n    {\r\n        // First load the driver\r\n        var driver = this.driverAvailableService.getDriver(driverAvailableId);\r\n\r\n        // copy the data from the driver available\r\n        var newDriver = new Driver();\r\n        newDriver.setName(driver.getName());\r\n        newDriver.setAge(driver.getAge());\r\n        newDriver.setBonus(driver.getBonus());\r\n        newDriver.setHiredAt(DateTime.getCurrentDateTime(company.getUser().getTimezone()));\r\n        newDriver.setSalary(driver.getSalary());\r\n        newDriver.setCompany(company);\r\n\r\n        // save it\r\n        newDriver = this.driverRepository.save(newDriver);\r\n        this.driverAvailableService.deleteDriver(driver);\r\n\r\n        return newDriver;\r\n    }\r\n\r\n    public void fire(Company company, UUID driverId) throws DriverInDeliveryException, DriverNotFoundException\r\n    {\r\n        var driver = this.getDriverDetails(driverId);\r\n        if (!driver.getCompany().getId().equals(company.getId())) {\r\n            throw new DriverNotFoundException();\r\n        }\r\n\r\n        // First check if the driver it&#39;s in the middle of a delivery\r\n        if (driver.getCurrentDelivery() != null) {\r\n            throw new DriverInDeliveryException();\r\n        }\r\n\r\n        var driverFiredEvent = new DriverFired(this, company, driver.getName(), driver.getSalary());\r\n        this.publishEvent(driverFiredEvent);\r\n\r\n        // And delete the driver in the end\r\n        this.driverRepository.delete(driver);\r\n    }\r\n\r\n    public Iterable&lt;Driver&gt; getAllCompanyDrivers(Company company)\r\n    {\r\n        return this.driverRepository.findAllByCompanyId(company.getId());\r\n    }\r\n\r\n    public Driver getDriverDetails(UUID id) throws DriverNotFoundException\r\n    {\r\n        var driver = this.driverRepository.findById(id);\r\n\r\n        if (driver.isEmpty()) {\r\n            throw new DriverNotFoundException();\r\n        }\r\n\r\n        return driver.get();\r\n    }\r\n}\r\n```\r\n\r\nCan this service be classified as *Domain Service*? If not what can it be sliced down to turn it in a *ApplicationService*?\r\n\r\nThanks!","title":"Domain Service vs Application Service By Example","body":"<p>I know there is a lot of questions (And answers) about the difference between Domain Service and Application Service.</p>\n\n<p>One of the most viewed answers regarding this is this one: <a href=\"https://stackoverflow.com/questions/2268699/domain-driven-design-domain-service-application-service\">Domain Driven Design: Domain Service, Application Service</a></p>\n\n<p>But I'm still having trouble to draw the line between this two kind of services. So I brought here an example.</p>\n\n<p>This is entity I have:</p>\n\n<pre><code>package com.transportifygame.core.domain.entities;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.transportifygame.core.domain.constants.Drivers;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.time.ZonedDateTime;\nimport java.util.UUID;\n\n@Getter\n@Setter\n\n@Entity\n@Table(name = \"drivers\")\npublic class Driver\n{\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @Column(name = \"name\", nullable = false)\n    private String name;\n\n    @Column(name = \"salary\", nullable = false)\n    private Double salary;\n\n    @Column(name = \"age\")\n    private Integer age;\n\n    @Column(name = \"hired_at\")\n    private ZonedDateTime hiredAt;\n\n    @Column(name = \"bonus\")\n    private Integer bonus;\n\n    @Column(name = \"experience_level\", nullable = false)\n    private Integer experienceLevel = Drivers.ExperienceLevel.BEGINNER.ordinal();\n\n// And keep going...\n}\n\n</code></pre>\n\n<p>And this is a <strong>Domain Service</strong> I have:</p>\n\n<pre><code>package com.transportifygame.core.domain.services;\n\nimport com.transportifygame.core.domain.entities.Company;\nimport com.transportifygame.core.domain.entities.Driver;\nimport com.transportifygame.core.domain.events.drivers.DriverFired;\nimport com.transportifygame.core.domain.exceptions.drivers.DriverInDeliveryException;\nimport com.transportifygame.core.domain.exceptions.drivers.DriverNotFoundException;\nimport com.transportifygame.core.application.repositories.DriverRepository;\nimport com.transportifygame.core.application.utils.DateTime;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\nimport java.util.UUID;\n\n@Service\npublic class DriverService extends AbstractService\n{\n    private DriverRepository driverRepository;\n    private DriverAvailableService driverAvailableService;\n\n    @Autowired\n    public DriverService(\n        DriverRepository driverRepository,\n        DriverAvailableService driverAvailableService\n    )\n    {\n        this.driverRepository = driverRepository;\n        this.driverAvailableService = driverAvailableService;\n    }\n\n    @Transactional\n    public Driver hire(Company company, UUID driverAvailableId) throws DriverNotFoundException\n    {\n        // First load the driver\n        var driver = this.driverAvailableService.getDriver(driverAvailableId);\n\n        // copy the data from the driver available\n        var newDriver = new Driver();\n        newDriver.setName(driver.getName());\n        newDriver.setAge(driver.getAge());\n        newDriver.setBonus(driver.getBonus());\n        newDriver.setHiredAt(DateTime.getCurrentDateTime(company.getUser().getTimezone()));\n        newDriver.setSalary(driver.getSalary());\n        newDriver.setCompany(company);\n\n        // save it\n        newDriver = this.driverRepository.save(newDriver);\n        this.driverAvailableService.deleteDriver(driver);\n\n        return newDriver;\n    }\n\n    public void fire(Company company, UUID driverId) throws DriverInDeliveryException, DriverNotFoundException\n    {\n        var driver = this.getDriverDetails(driverId);\n        if (!driver.getCompany().getId().equals(company.getId())) {\n            throw new DriverNotFoundException();\n        }\n\n        // First check if the driver it's in the middle of a delivery\n        if (driver.getCurrentDelivery() != null) {\n            throw new DriverInDeliveryException();\n        }\n\n        var driverFiredEvent = new DriverFired(this, company, driver.getName(), driver.getSalary());\n        this.publishEvent(driverFiredEvent);\n\n        // And delete the driver in the end\n        this.driverRepository.delete(driver);\n    }\n\n    public Iterable&lt;Driver&gt; getAllCompanyDrivers(Company company)\n    {\n        return this.driverRepository.findAllByCompanyId(company.getId());\n    }\n\n    public Driver getDriverDetails(UUID id) throws DriverNotFoundException\n    {\n        var driver = this.driverRepository.findById(id);\n\n        if (driver.isEmpty()) {\n            throw new DriverNotFoundException();\n        }\n\n        return driver.get();\n    }\n}\n</code></pre>\n\n<p>Can this service be classified as <em>Domain Service</em>? If not what can it be sliced down to turn it in a <em>ApplicationService</em>?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","selenium","web","browser"],"comments":[{"owner":{"account_id":5269973,"reputation":92,"user_id":4208564,"display_name":"op_"},"score":0,"creation_date":1634916665,"post_id":69679016,"comment_id":123164027,"body_markdown":"Can you copy xpath from browser and paste here?","body":"Can you copy xpath from browser and paste here?"}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634985774,"creation_date":1634985774,"answer_id":69687370,"question_id":69679016,"body_markdown":"Special character `\\` is being added in your `xPath` I guess it&#39;s happened while you copy paste. Please use the below `xPath`,\r\n\r\n\tdriver.findElement(By.xpath(&quot;(.//*[normalize-space(text()) and normalize-space(.)=&#39;Incorrect: Type your incorrect message here&#39;])[1]/following::label[1]&quot;));\r\n\r\nIf you still unable to access element then please use some `Explicit` wait statement.\r\n\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, 10);\r\n\t\twait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(\r\n\t\t\t\t&quot;(.//*[normalize-space(text()) and normalize-space(.)=&#39;Incorrect: Type your incorrect message here&#39;])[1]/following::label[1]&quot;)));\r\n\t\tdriver.findElement(By.xpath(\r\n\t\t\t\t&quot;(.//*[normalize-space(text()) and normalize-space(.)=&#39;Incorrect: Type your incorrect message here&#39;])[1]/following::label[1]&quot;));\r\n\r\n\r\n\r\n ","title":"Xpath code is working in Katalon but doesn&#39;t work in Selenium Java","body":"<p>Special character <code>\\</code> is being added in your <code>xPath</code> I guess it's happened while you copy paste. Please use the below <code>xPath</code>,</p>\n<pre><code>driver.findElement(By.xpath(&quot;(.//*[normalize-space(text()) and normalize-space(.)='Incorrect: Type your incorrect message here'])[1]/following::label[1]&quot;));\n</code></pre>\n<p>If you still unable to access element then please use some <code>Explicit</code> wait statement.</p>\n<pre><code>    WebDriverWait wait = new WebDriverWait(driver, 10);\n    wait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(\n            &quot;(.//*[normalize-space(text()) and normalize-space(.)='Incorrect: Type your incorrect message here'])[1]/following::label[1]&quot;)));\n    driver.findElement(By.xpath(\n            &quot;(.//*[normalize-space(text()) and normalize-space(.)='Incorrect: Type your incorrect message here'])[1]/following::label[1]&quot;));\n</code></pre>\n"}],"owner":{"account_id":4922597,"reputation":121,"user_id":3964789,"accept_rate":45,"display_name":"Ђорђе Ђашић"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634985774,"creation_date":1634914481,"question_id":69679016,"body_markdown":"I am using Katalon addon for Chrome which works fine. But I wanted to create small app with Selenium in Java to do simmilar thing. I am having the problem with xpath which is working with Katalon on chrome, but it is not working when I use it in my Java application in Selenium.\r\n\r\nThis it the xpath from Katalon:\r\n\r\n    xpath=(.//*[normalize-space(text()) and normalize-space(.)=&#39;Incorrect: Type your incorrect message here&#39;])[1]/following::label[1]\r\n\r\nAnd this is what I use with Selenium in Java:\r\n\r\n    WebElement el = driver_1.findElement(By.xpath(&quot;(.//*[normalize-space(text()) and normalize-space(.)=\\&#39;Incorrect: Type your incorrect message here\\&#39;])[1]/following::label[1]&quot;));\r\n\r\nIt returns:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:\r\n\r\n","title":"Xpath code is working in Katalon but doesn&#39;t work in Selenium Java","body":"<p>I am using Katalon addon for Chrome which works fine. But I wanted to create small app with Selenium in Java to do simmilar thing. I am having the problem with xpath which is working with Katalon on chrome, but it is not working when I use it in my Java application in Selenium.</p>\n<p>This it the xpath from Katalon:</p>\n<pre><code>xpath=(.//*[normalize-space(text()) and normalize-space(.)='Incorrect: Type your incorrect message here'])[1]/following::label[1]\n</code></pre>\n<p>And this is what I use with Selenium in Java:</p>\n<pre><code>WebElement el = driver_1.findElement(By.xpath(&quot;(.//*[normalize-space(text()) and normalize-space(.)=\\'Incorrect: Type your incorrect message here\\'])[1]/following::label[1]&quot;));\n</code></pre>\n<p>It returns:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:\n</code></pre>\n"},{"tags":["java","eclipse","search",".class-file"],"answers":[{"tags":[],"owner":{"account_id":297076,"reputation":1893,"user_id":602398,"display_name":"Dirk"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1310144468,"creation_date":1310144468,"answer_id":6627841,"question_id":6627195,"body_markdown":"I am not sure why you would prefer class-files over java sources (as in order to understand the program, the latter are much more useful), but you should be able to open find the most appropriate files by either\r\n\r\n - pressing `F3` on the desired variable / class in the source code which jumps to its definition\r\n - searching it by name using `CTRL + SHIFT + R` (or `T` to only find types) which lets you find java / class files by name \r\n\r\n ","title":"Searching for .class files in an eclipse project&#39;s Referenced Library","body":"<p>I am not sure why you would prefer class-files over java sources (as in order to understand the program, the latter are much more useful), but you should be able to open find the most appropriate files by either</p>\n\n<ul>\n<li>pressing <code>F3</code> on the desired variable / class in the source code which jumps to its definition</li>\n<li>searching it by name using <code>CTRL + SHIFT + R</code> (or <code>T</code> to only find types) which lets you find java / class files by name </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634985626,"creation_date":1634985626,"answer_id":69687344,"question_id":6627195,"body_markdown":"Search the classes from the project\r\n\r\n    CTRL + SHIFT + R\r\n\r\n\r\nSearch the classes from the referenced libraries and project\r\n\r\n    CTRL + SHIFT + T","title":"Searching for .class files in an eclipse project&#39;s Referenced Library","body":"<p>Search the classes from the project</p>\n<pre><code>CTRL + SHIFT + R\n</code></pre>\n<p>Search the classes from the referenced libraries and project</p>\n<pre><code>CTRL + SHIFT + T\n</code></pre>\n"}],"owner":{"account_id":429470,"reputation":552,"user_id":812381,"accept_rate":94,"display_name":"alex28"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7235,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6627841,"answer_count":2,"score":3,"last_activity_date":1634985626,"creation_date":1310141073,"question_id":6627195,"body_markdown":"I&#39;m deconstructing a program, and tracing various .class files from its Referenced Libraries in order to do so. I&#39;ve tried to use Eclipse&#39;s file search but while it can easily find all the .java files given the name it does not seem to be able to find .class files making up the Referenced Libraries&#39; jars the same way. Is there any easy way to trace class files without individually looking through the jars/packages?","title":"Searching for .class files in an eclipse project&#39;s Referenced Library","body":"<p>I'm deconstructing a program, and tracing various .class files from its Referenced Libraries in order to do so. I've tried to use Eclipse's file search but while it can easily find all the .java files given the name it does not seem to be able to find .class files making up the Referenced Libraries' jars the same way. Is there any easy way to trace class files without individually looking through the jars/packages?</p>\n"},{"tags":["java","intellij-idea","clojure"],"comments":[{"owner":{"account_id":20892163,"reputation":2171,"user_id":15347316,"display_name":"Steffan Westcott"},"score":3,"creation_date":1634931290,"post_id":69681918,"comment_id":123168971,"body_markdown":"The Module SDK is set in File &gt; Project Structure dialog, under Project Settings &gt; Modules. Select the &#39;hello&#39; module and look in the Dependencies tab, Module SDK selector. If you see &lt;None&gt;, then set it to a valid SDK. What setting do you see there currently?","body":"The Module SDK is set in File &gt; Project Structure dialog, under Project Settings &gt; Modules. Select the &#39;hello&#39; module and look in the Dependencies tab, Module SDK selector. If you see &lt;None&gt;, then set it to a valid SDK. What setting do you see there currently?"},{"owner":{"account_id":16978164,"reputation":199,"user_id":12280889,"display_name":"FullyFunctional"},"score":0,"creation_date":1634969657,"post_id":69681918,"comment_id":123174792,"body_markdown":"yes, It was set to &lt;None&gt;, fixed it, now it works, thank you very much!","body":"yes, It was set to &lt;None&gt;, fixed it, now it works, thank you very much!"},{"owner":{"account_id":20892163,"reputation":2171,"user_id":15347316,"display_name":"Steffan Westcott"},"score":1,"creation_date":1634985761,"post_id":69681918,"comment_id":123177633,"body_markdown":"I&#39;m glad you&#39;ve fixed it! I&#39;ve added the resolution as an answer to this question.","body":"I&#39;m glad you&#39;ve fixed it! I&#39;ve added the resolution as an answer to this question."}],"answers":[{"tags":[],"owner":{"account_id":20892163,"reputation":2171,"user_id":15347316,"display_name":"Steffan Westcott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634985588,"creation_date":1634985588,"answer_id":69687338,"question_id":69681918,"body_markdown":"The **Module SDK** setting can seen in the **Project Structure** dialog. If the highlighted setting is `&lt;None&gt;`, set it to a valid SDK:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VonXm.png","title":"Clojure Intellij Cursive plugin JDK error","body":"<p>The <strong>Module SDK</strong> setting can seen in the <strong>Project Structure</strong> dialog. If the highlighted setting is <code>&lt;None&gt;</code>, set it to a valid SDK:</p>\n<p><a href=\"https://i.stack.imgur.com/VonXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VonXm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16978164,"reputation":199,"user_id":12280889,"display_name":"FullyFunctional"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634985588,"creation_date":1634929219,"question_id":69681918,"body_markdown":"I have a problem with Intellij Cursive plugin: when I&#39;m trying to run New REPL, I receive Error: No JDK for module &#39;hello&#39;\r\n[![enter image description here][1]][1]\r\nBut when I start REPL from Terminal: everting works fine. What should I do? Thanks a lot.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RrZzU.png","title":"Clojure Intellij Cursive plugin JDK error","body":"<p>I have a problem with Intellij Cursive plugin: when I'm trying to run New REPL, I receive Error: No JDK for module 'hello'\n<a href=\"https://i.stack.imgur.com/RrZzU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RrZzU.png\" alt=\"enter image description here\" /></a>\nBut when I start REPL from Terminal: everting works fine. What should I do? Thanks a lot.</p>\n<p><a href=\"https://i.stack.imgur.com/RrZzU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RrZzU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","class","decompiling","decompiler"],"comments":[{"owner":{"account_id":1411876,"reputation":535,"user_id":1338305,"display_name":"Snake Eye"},"score":0,"creation_date":1352350961,"post_id":13282575,"comment_id":18108843,"body_markdown":"And why would want to do something like this?","body":"And why would want to do something like this?"},{"owner":{"account_id":1880243,"reputation":5612,"user_id":1700618,"accept_rate":100,"display_name":"Vineet Kosaraju"},"score":1,"creation_date":1352351367,"post_id":13282575,"comment_id":18108930,"body_markdown":"You might be able to execute the process of running the decompiler tool (I use JD-GUI) and then edit the code and recompile? I think it is &quot;Runtime.exec()&quot;?","body":"You might be able to execute the process of running the decompiler tool (I use JD-GUI) and then edit the code and recompile? I think it is &quot;Runtime.exec()&quot;?"},{"owner":{"account_id":1796603,"reputation":1061,"user_id":1635886,"accept_rate":89,"display_name":"Daanish"},"score":0,"creation_date":1352450597,"post_id":13282575,"comment_id":18144590,"body_markdown":"@SnakeEye I&#39;m instrumenting the class file. After instrumenting it I want to parse the instrumented file(which I will get by decompiling the class file) in the same program.","body":"@SnakeEye I&#39;m instrumenting the class file. After instrumenting it I want to parse the instrumented file(which I will get by decompiling the class file) in the same program."},{"owner":{"account_id":1796603,"reputation":1061,"user_id":1635886,"accept_rate":89,"display_name":"Daanish"},"score":0,"creation_date":1352450722,"post_id":13282575,"comment_id":18144631,"body_markdown":"Thank you for your answer @Bucco .I&#39;d appreciate it if you could elaborate on how I could use a GUI decompiler in  `Runtime.exec()`.","body":"Thank you for your answer @Bucco .I&#39;d appreciate it if you could elaborate on how I could use a GUI decompiler in  <code>Runtime.exec()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1880243,"reputation":5612,"user_id":1700618,"accept_rate":100,"display_name":"Vineet Kosaraju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352483840,"creation_date":1352483840,"answer_id":13313426,"question_id":13282575,"body_markdown":"Here is a possible answer (this is what I use for compiling source files)\r\n\r\n    private int runProcess(String command) throws Exception\r\n    {\r\n        Process pro = Runtime.getRuntime().exec(command);\r\n        System.out.println(command);\r\n        printLines(&quot;&quot;, pro.getInputStream());\r\n        printLines(&quot;&quot;,pro.getErrorStream());\r\n        pro.waitFor();\r\n        return(pro.exitValue());\r\n    }\r\n\r\nThen you can use something like:\r\n\r\n    int exitValue = runProcess(your command here);\r\n\r\nI guess JD-GUI will not work; you need a command line java decompiler.\r\n\r\nThese links **might** help: &lt;br /&gt;\r\nhttps://stackoverflow.com/questions/1384619/command-line-java-decompiler-alternative-to-jd-gui\r\n&lt;br /&gt;\r\nhttp://en.wikipedia.org/wiki/JAD_%28JAva_Decompiler%29\r\n&lt;br /&gt;\r\nhttp://viralpatel.net/blogs/decompile-class-file-java-decompiler-class-java-class/\r\n\r\nThe last link has a download link to JAD, a command line tool for windows computers.\r\n\r\nDepending on the OS the command might vary but it might just be &quot;jad classname.class&quot; if you move jad to your cmd class path. I have mac os x so I am not sure where this is located.\r\n\r\nI hope this helps!","title":"Decompile java class file","body":"<p>Here is a possible answer (this is what I use for compiling source files)</p>\n\n<pre><code>private int runProcess(String command) throws Exception\n{\n    Process pro = Runtime.getRuntime().exec(command);\n    System.out.println(command);\n    printLines(\"\", pro.getInputStream());\n    printLines(\"\",pro.getErrorStream());\n    pro.waitFor();\n    return(pro.exitValue());\n}\n</code></pre>\n\n<p>Then you can use something like:</p>\n\n<pre><code>int exitValue = runProcess(your command here);\n</code></pre>\n\n<p>I guess JD-GUI will not work; you need a command line java decompiler.</p>\n\n<p>These links <strong>might</strong> help: <br />\n<a href=\"https://stackoverflow.com/questions/1384619/command-line-java-decompiler-alternative-to-jd-gui\">Batch decompiling of Java files with JD-GUI</a>\n<br />\n<a href=\"http://en.wikipedia.org/wiki/JAD_%28JAva_Decompiler%29\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/JAD_%28JAva_Decompiler%29</a>\n<br />\n<a href=\"http://viralpatel.net/blogs/decompile-class-file-java-decompiler-class-java-class/\" rel=\"nofollow noreferrer\">http://viralpatel.net/blogs/decompile-class-file-java-decompiler-class-java-class/</a></p>\n\n<p>The last link has a download link to JAD, a command line tool for windows computers.</p>\n\n<p>Depending on the OS the command might vary but it might just be \"jad classname.class\" if you move jad to your cmd class path. I have mac os x so I am not sure where this is located.</p>\n\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":993756,"reputation":1090,"user_id":1127980,"accept_rate":50,"display_name":"Friso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352500767,"creation_date":1352500767,"answer_id":13317069,"question_id":13282575,"body_markdown":"If you&#39;re looking to modify the class at runtime it may not be needed to decompile the class. You can manipulate the bytecode. Take a look at http://cglib.sourceforge.net/, maybe that&#39;ll help you","title":"Decompile java class file","body":"<p>If you're looking to modify the class at runtime it may not be needed to decompile the class. You can manipulate the bytecode. Take a look at <a href=\"http://cglib.sourceforge.net/\" rel=\"nofollow\">http://cglib.sourceforge.net/</a>, maybe that'll help you</p>\n"},{"tags":[],"owner":{"account_id":22377784,"reputation":21,"user_id":16591796,"display_name":"AZetZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634985549,"creation_date":1634985549,"answer_id":69687335,"question_id":13282575,"body_markdown":"Java IDE works fine to decompile class files. Try IntelliJ as an example, even Community Edition. It is not able to update (read only mode) but I hope it can help","title":"Decompile java class file","body":"<p>Java IDE works fine to decompile class files. Try IntelliJ as an example, even Community Edition. It is not able to update (read only mode) but I hope it can help</p>\n"}],"owner":{"account_id":1796603,"reputation":1061,"user_id":1635886,"accept_rate":89,"display_name":"Daanish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634985549,"creation_date":1352349983,"question_id":13282575,"body_markdown":"Is it possible to decompile a java .class file within another program ?\r\nI&#39;m aware of tools like CAVAJ and DJ Java Decompiler.\r\n**Why ?** : I&#39;m modifying a class file within the program and dumping it into the same. I want to then parse the source file of the modified class file.\r\nThanks in advance.\r\n\r\n","title":"Decompile java class file","body":"<p>Is it possible to decompile a java .class file within another program ?\nI'm aware of tools like CAVAJ and DJ Java Decompiler.\n<strong>Why ?</strong> : I'm modifying a class file within the program and dumping it into the same. I want to then parse the source file of the modified class file.\nThanks in advance.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634985487,"creation_date":1634980275,"answer_id":69686681,"question_id":69686585,"body_markdown":"Spring only injects value while the bean is managed by spring. You are creating an instance of the bean by calling new. This is where you are taking control of yourself and spring is no longer able to inject value. Rather you should do this: \r\n\r\n    @Autowired\r\n    private ApiKey apk;\r\n\r\nAnd also you marked the ApiKey class with @Component. So, spring will create an instance and then inject it to the main call by auto wiring. And when spring takes control over instantiation, you will get your desired value.\r\n\r\nComplete code:\r\n\r\n```\r\n\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n    \r\n        private final ApiKey apk;\r\n    \r\n        public Application( ApiKey apk ) {\r\n            this.apk = apk;\r\n        }\r\n    \r\n    \r\n        public static void main( String[] args ) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run( String... args ) throws Exception {\r\n            \r\n            String serviceKey = &quot;apikey&quot;;\r\n            String pageNo = &quot;1&quot;;\r\n            String numOfRows = &quot;12&quot;;\r\n            String dataType = &quot;JSON&quot;;\r\n            String base_date = &quot;20211020&quot;;\r\n            String base_time = &quot;2300&quot;;\r\n            String nx = &quot;55&quot;;\r\n            String ny = &quot;127&quot;;\r\n    \r\n            DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL);\r\n            factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\r\n    \r\n            WebClient wc = WebClient.builder().uriBuilderFactory(factory).baseUrl(BASE_URL).build();\r\n    \r\n            String response = wc.get()\r\n                    .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\r\n                            .queryParam(&quot;serviceKey&quot;, serviceKey)\r\n                            .queryParam(&quot;numOfRows&quot;, numOfRows)\r\n                            .queryParam(&quot;pageNo&quot;, pageNo)\r\n                            .queryParam(&quot;dataType&quot;, dataType)\r\n                            .queryParam(&quot;base_date&quot;, base_date)\r\n                            .queryParam(&quot;base_time&quot;, base_time)\r\n                            .queryParam(&quot;nx&quot;, nx)\r\n                            .queryParam(&quot;ny&quot;, ny).build())\r\n                    .retrieve().bodyToMono(String.class).block();\r\n    \r\n            System.out.println(response);\r\n            System.out.println(apk.getApiKey());\r\n        }\r\n    }\r\n\r\n```\r\n\r\n","title":"Spring Boot @Value annotaion return null","body":"<p>Spring only injects value while the bean is managed by spring. You are creating an instance of the bean by calling new. This is where you are taking control of yourself and spring is no longer able to inject value. Rather you should do this:</p>\n<pre><code>@Autowired\nprivate ApiKey apk;\n</code></pre>\n<p>And also you marked the ApiKey class with @Component. So, spring will create an instance and then inject it to the main call by auto wiring. And when spring takes control over instantiation, you will get your desired value.</p>\n<p>Complete code:</p>\n<pre><code>\n    @SpringBootApplication\n    public class Application implements CommandLineRunner {\n    \n        private final ApiKey apk;\n    \n        public Application( ApiKey apk ) {\n            this.apk = apk;\n        }\n    \n    \n        public static void main( String[] args ) {\n            SpringApplication.run(Application.class, args);\n        }\n    \n        @Override\n        public void run( String... args ) throws Exception {\n            \n            String serviceKey = &quot;apikey&quot;;\n            String pageNo = &quot;1&quot;;\n            String numOfRows = &quot;12&quot;;\n            String dataType = &quot;JSON&quot;;\n            String base_date = &quot;20211020&quot;;\n            String base_time = &quot;2300&quot;;\n            String nx = &quot;55&quot;;\n            String ny = &quot;127&quot;;\n    \n            DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL);\n            factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\n    \n            WebClient wc = WebClient.builder().uriBuilderFactory(factory).baseUrl(BASE_URL).build();\n    \n            String response = wc.get()\n                    .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\n                            .queryParam(&quot;serviceKey&quot;, serviceKey)\n                            .queryParam(&quot;numOfRows&quot;, numOfRows)\n                            .queryParam(&quot;pageNo&quot;, pageNo)\n                            .queryParam(&quot;dataType&quot;, dataType)\n                            .queryParam(&quot;base_date&quot;, base_date)\n                            .queryParam(&quot;base_time&quot;, base_time)\n                            .queryParam(&quot;nx&quot;, nx)\n                            .queryParam(&quot;ny&quot;, ny).build())\n                    .retrieve().bodyToMono(String.class).block();\n    \n            System.out.println(response);\n            System.out.println(apk.getApiKey());\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634985487,"creation_date":1634979498,"question_id":69686585,"body_markdown":"I&#39;m trying to put api key in application.properties and get api key from it.\r\n\r\nSo I put api key in application.properties.\r\n\r\napplication.properties\r\n\r\n    server.port=8090\r\n    \r\n    #My Key will be placed in here\r\n    shortweather.key=myapikey\r\n\r\nAnd then I made a class to get api key from application.properties\r\n\r\nApiKey.java class\r\n\r\n    package com.wook.weather;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ApiKey {\r\n    \t@Value(&quot;${shortweather.key}&quot;)\r\n    \tprivate String apiKey;\r\n    \r\n    \tpublic String getApiKey() {\r\n    \t\treturn apiKey;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ApiKey [apiKey=&quot; + apiKey + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd I made an instance at main method and try to call **getApiKey()**\r\n\r\nApplication.java\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    import org.springframework.web.util.DefaultUriBuilderFactory;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tprivate final static String BASE_URL = &quot;http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t\t\r\n    \t\tString serviceKey = &quot;apikey&quot;;\r\n    \t\tString pageNo = &quot;1&quot;;\r\n    \t\tString numOfRows = &quot;12&quot;;\r\n    \t\tString dataType = &quot;JSON&quot;;\r\n    \t\tString base_date = &quot;20211020&quot;;\r\n    \t\tString base_time = &quot;2300&quot;;\r\n    \t\tString nx = &quot;55&quot;;\r\n    \t\tString ny = &quot;127&quot;;\r\n    \r\n    \t\tDefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL);\r\n    \t\tfactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\r\n    \r\n    \t\tWebClient wc = WebClient.builder().uriBuilderFactory(factory).baseUrl(BASE_URL).build();\r\n    \r\n    \t\tString response = wc.get()\r\n    \t\t\t\t.uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\r\n    \t\t\t\t\t\t.queryParam(&quot;serviceKey&quot;, serviceKey)\r\n    \t\t\t\t\t\t.queryParam(&quot;numOfRows&quot;, numOfRows)\r\n    \t\t\t\t\t\t.queryParam(&quot;pageNo&quot;, pageNo)\r\n    \t\t\t\t\t\t.queryParam(&quot;dataType&quot;, dataType)\r\n    \t\t\t\t\t\t.queryParam(&quot;base_date&quot;, base_date)\r\n    \t\t\t\t\t\t.queryParam(&quot;base_time&quot;, base_time)\r\n    \t\t\t\t\t\t.queryParam(&quot;nx&quot;, nx)\r\n    \t\t\t\t\t\t.queryParam(&quot;ny&quot;, ny).build())\r\n    \t\t\t\t.retrieve().bodyToMono(String.class).block();\r\n    \r\n    \t\tSystem.out.println(response);\r\n    \t\t\r\n    \t\t\r\n    \t\t//I made ApiKey instance here\r\n    \t\tApiKey apk = new ApiKey();\r\n    \t\t//This part return null\r\n    \t\tSystem.out.println(apk.getApiKey());\r\n    \t}\r\n    }\r\n\r\nBut I get null.\r\n\r\nI want to get value that is in application.properties.\r\n\r\nHow can I fix this issue?","title":"Spring Boot @Value annotaion return null","body":"<p>I'm trying to put api key in application.properties and get api key from it.</p>\n<p>So I put api key in application.properties.</p>\n<p>application.properties</p>\n<pre><code>server.port=8090\n\n#My Key will be placed in here\nshortweather.key=myapikey\n</code></pre>\n<p>And then I made a class to get api key from application.properties</p>\n<p>ApiKey.java class</p>\n<pre><code>package com.wook.weather;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ApiKey {\n    @Value(&quot;${shortweather.key}&quot;)\n    private String apiKey;\n\n    public String getApiKey() {\n        return apiKey;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ApiKey [apiKey=&quot; + apiKey + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>And I made an instance at main method and try to call <strong>getApiKey()</strong></p>\n<p>Application.java</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport org.springframework.web.util.DefaultUriBuilderFactory;\n\n@SpringBootApplication\npublic class Application {\n\n    private final static String BASE_URL = &quot;http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0&quot;;\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n        \n        String serviceKey = &quot;apikey&quot;;\n        String pageNo = &quot;1&quot;;\n        String numOfRows = &quot;12&quot;;\n        String dataType = &quot;JSON&quot;;\n        String base_date = &quot;20211020&quot;;\n        String base_time = &quot;2300&quot;;\n        String nx = &quot;55&quot;;\n        String ny = &quot;127&quot;;\n\n        DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL);\n        factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);\n\n        WebClient wc = WebClient.builder().uriBuilderFactory(factory).baseUrl(BASE_URL).build();\n\n        String response = wc.get()\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\n                        .queryParam(&quot;serviceKey&quot;, serviceKey)\n                        .queryParam(&quot;numOfRows&quot;, numOfRows)\n                        .queryParam(&quot;pageNo&quot;, pageNo)\n                        .queryParam(&quot;dataType&quot;, dataType)\n                        .queryParam(&quot;base_date&quot;, base_date)\n                        .queryParam(&quot;base_time&quot;, base_time)\n                        .queryParam(&quot;nx&quot;, nx)\n                        .queryParam(&quot;ny&quot;, ny).build())\n                .retrieve().bodyToMono(String.class).block();\n\n        System.out.println(response);\n        \n        \n        //I made ApiKey instance here\n        ApiKey apk = new ApiKey();\n        //This part return null\n        System.out.println(apk.getApiKey());\n    }\n}\n</code></pre>\n<p>But I get null.</p>\n<p>I want to get value that is in application.properties.</p>\n<p>How can I fix this issue?</p>\n"},{"tags":["java","wait"],"comments":[{"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"score":0,"creation_date":1634968491,"post_id":69685266,"comment_id":123174646,"body_markdown":"use single instance instead of `new TestSync()` in each thread.","body":"use single instance instead of <code>new TestSync()</code> in each thread."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634969436,"creation_date":1634969436,"answer_id":69685603,"question_id":69685266,"body_markdown":"The code in your question does not compile. What is `Print`? It appears twice in your code. Once in method `main`\r\n```java\r\nPrint.sleep(1000);\r\n```\r\nIn the below code, I simply created a class named `Print` and defined a static method `sleep`.\r\n\r\n\r\n[Locks](https://docs.oracle.com/javase/tutorial/essential/concurrency/) work on objects that are shared between threads. In your code you create a separate `TestSync` object for each thread. Hence no shared objects. Try creating one instance of `TestSync` and send it to both threads. Also, you don&#39;t need a separate `ExecutorService` for each thread. You can use a single `ExecutorService` to launch many threads. The below code demonstrates.\r\n```java\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ThreadFactory;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class TestSync {\r\n    private volatile Integer amount = 0;\r\n    private final Object LOCK_OBJECT = new Object();\r\n    private final Object FULL = new Object();\r\n\r\n    public void doubleSync() throws InterruptedException {\r\n        System.out.println(&quot;Producer  trying to get LOCK_OBJECT lock &quot;);\r\n        synchronized (LOCK_OBJECT) {\r\n            System.out.println(&quot;Producer get LOCK_OBJECT lock &quot;);\r\n            Print.sleep(3000);\r\n            while (amount &gt;= 0) {\r\n                synchronized (FULL) {\r\n                    System.out.println(&quot;full！&quot;);\r\n                    FULL.wait();\r\n                }\r\n            }\r\n            System.out.println(&quot;continue~&quot;);\r\n            amount++;\r\n        }\r\n    }\r\n\r\n    public void simpleSync() {\r\n        System.out.println(&quot;Consumer trying to get LOCK_OBJECT lock &quot;);\r\n        synchronized (LOCK_OBJECT) {\r\n            System.out.println(&quot;Consumer get LOCK_OBJECT lock&quot;);\r\n        }\r\n        System.out.println(&quot;Consumer release LOCK_OBJECT lock&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        AtomicInteger atomicInteger = new AtomicInteger(0);\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(2, new ThreadFactory() {\r\n            @Override\r\n            public Thread newThread(Runnable r) {\r\n                int index = atomicInteger.incrementAndGet();\r\n                System.out.println(&quot;create no &quot; + index + &quot; thread&quot;);\r\n                Thread t = new Thread(r, &quot;Thread-&quot; + index);\r\n                return t;\r\n            }\r\n        });\r\n        TestSync ts = new TestSync();\r\n        threadPool.execute(() -&gt; {\r\n            try {\r\n                ts.doubleSync();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n        Print.sleep(1000);\r\n        threadPool.execute(() -&gt; {\r\n            try {\r\n                ts.simpleSync();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n        threadPool.shutdown();\r\n    }\r\n}\r\n\r\nclass Print {\r\n    public static void sleep(long interval) {\r\n        System.out.println(&quot;sleep &quot; + interval);\r\n    }\r\n}\r\n```\r\nNote that it is recommended to call method `shutdown()`, of interface `ExecutorService`, after you have submitted all your tasks.\r\n\r\nHere is the output when I run the above code.\r\n```none\r\ncreate no 1 thread\r\nProducer  trying to get LOCK_OBJECT lock \r\nProducer get LOCK_OBJECT lock \r\nsleep 1000\r\ncreate no 2 thread\r\nConsumer trying to get LOCK_OBJECT lock \r\nsleep 3000\r\nfull！\r\n```\r\nAs you can see, the *consumer* does not obtain the lock.\r\n","title":"Does wait() release all locks?","body":"<p>The code in your question does not compile. What is <code>Print</code>? It appears twice in your code. Once in method <code>main</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Print.sleep(1000);\n</code></pre>\n<p>In the below code, I simply created a class named <code>Print</code> and defined a static method <code>sleep</code>.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">Locks</a> work on objects that are shared between threads. In your code you create a separate <code>TestSync</code> object for each thread. Hence no shared objects. Try creating one instance of <code>TestSync</code> and send it to both threads. Also, you don't need a separate <code>ExecutorService</code> for each thread. You can use a single <code>ExecutorService</code> to launch many threads. The below code demonstrates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadFactory;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class TestSync {\n    private volatile Integer amount = 0;\n    private final Object LOCK_OBJECT = new Object();\n    private final Object FULL = new Object();\n\n    public void doubleSync() throws InterruptedException {\n        System.out.println(&quot;Producer  trying to get LOCK_OBJECT lock &quot;);\n        synchronized (LOCK_OBJECT) {\n            System.out.println(&quot;Producer get LOCK_OBJECT lock &quot;);\n            Print.sleep(3000);\n            while (amount &gt;= 0) {\n                synchronized (FULL) {\n                    System.out.println(&quot;full！&quot;);\n                    FULL.wait();\n                }\n            }\n            System.out.println(&quot;continue~&quot;);\n            amount++;\n        }\n    }\n\n    public void simpleSync() {\n        System.out.println(&quot;Consumer trying to get LOCK_OBJECT lock &quot;);\n        synchronized (LOCK_OBJECT) {\n            System.out.println(&quot;Consumer get LOCK_OBJECT lock&quot;);\n        }\n        System.out.println(&quot;Consumer release LOCK_OBJECT lock&quot;);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        AtomicInteger atomicInteger = new AtomicInteger(0);\n        ExecutorService threadPool = Executors.newFixedThreadPool(2, new ThreadFactory() {\n            @Override\n            public Thread newThread(Runnable r) {\n                int index = atomicInteger.incrementAndGet();\n                System.out.println(&quot;create no &quot; + index + &quot; thread&quot;);\n                Thread t = new Thread(r, &quot;Thread-&quot; + index);\n                return t;\n            }\n        });\n        TestSync ts = new TestSync();\n        threadPool.execute(() -&gt; {\n            try {\n                ts.doubleSync();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        Print.sleep(1000);\n        threadPool.execute(() -&gt; {\n            try {\n                ts.simpleSync();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n        threadPool.shutdown();\n    }\n}\n\nclass Print {\n    public static void sleep(long interval) {\n        System.out.println(&quot;sleep &quot; + interval);\n    }\n}\n</code></pre>\n<p>Note that it is recommended to call method <code>shutdown()</code>, of interface <code>ExecutorService</code>, after you have submitted all your tasks.</p>\n<p>Here is the output when I run the above code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>create no 1 thread\nProducer  trying to get LOCK_OBJECT lock \nProducer get LOCK_OBJECT lock \nsleep 1000\ncreate no 2 thread\nConsumer trying to get LOCK_OBJECT lock \nsleep 3000\nfull！\n</code></pre>\n<p>As you can see, the <em>consumer</em> does not obtain the lock.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634984920,"creation_date":1634969677,"answer_id":69685632,"question_id":69685266,"body_markdown":"&gt; Does `wait()` release all locks?\r\n\r\nNo.  It only releases the lock for the object you call `wait()` on.\r\n\r\nAs for the behavior of your code ... we cannot fully explain it because it is missing a crucial method: `Print`.\r\n\r\nHowever, it looks like you are using multiple instances of `TestSync`.  That would mean that the producer and consumer threads have different objects for the respective lock objects ... and there is no mutual exclusion.\r\n\r\n-------------------\r\n\r\nIt is also a bad idea (wasteful) to use multiple thread pools, and particularly to create and destroy them dynamically.  The primary advantage of thread pools compared with disposable threads is that the (significant) thread creation is amortized.  But when you shut down (or &quot;lose&quot;) a thread pool, the threads get discarded anyway ... and have to be created again for the &quot;next&quot; thread pool.\r\n\r\n(This doesn&#39;t affect the behavior of your example.  But it is a bad habit ... and it is liable to bite you if you do it in a real application.)\r\n\r\n\r\n-------------------\r\n\r\n**Lesson:**  Programming with primitive mutexes and wait/notify requires considerable care.  It is better to use the higher level concurrency primitives ... where possible.\r\n\r\n","title":"Does wait() release all locks?","body":"<blockquote>\n<p>Does <code>wait()</code> release all locks?</p>\n</blockquote>\n<p>No.  It only releases the lock for the object you call <code>wait()</code> on.</p>\n<p>As for the behavior of your code ... we cannot fully explain it because it is missing a crucial method: <code>Print</code>.</p>\n<p>However, it looks like you are using multiple instances of <code>TestSync</code>.  That would mean that the producer and consumer threads have different objects for the respective lock objects ... and there is no mutual exclusion.</p>\n<hr />\n<p>It is also a bad idea (wasteful) to use multiple thread pools, and particularly to create and destroy them dynamically.  The primary advantage of thread pools compared with disposable threads is that the (significant) thread creation is amortized.  But when you shut down (or &quot;lose&quot;) a thread pool, the threads get discarded anyway ... and have to be created again for the &quot;next&quot; thread pool.</p>\n<p>(This doesn't affect the behavior of your example.  But it is a bad habit ... and it is liable to bite you if you do it in a real application.)</p>\n<hr />\n<p><strong>Lesson:</strong>  Programming with primitive mutexes and wait/notify requires considerable care.  It is better to use the higher level concurrency primitives ... where possible.</p>\n"},{"tags":[],"owner":{"account_id":19316542,"reputation":21,"user_id":14121202,"display_name":"Avinash Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634969867,"creation_date":1634969867,"answer_id":69685655,"question_id":69685266,"body_markdown":"1.It is always better to proceed with a one ExecutorService implementation (as we maintain limited number of thread alive all the time for performance reasons) \r\n\r\n2.wait() does releases the lock for a single object but after that all the threads (considering same priority) are equally probable to get the lock\r\n","title":"Does wait() release all locks?","body":"<p>1.It is always better to proceed with a one ExecutorService implementation (as we maintain limited number of thread alive all the time for performance reasons)</p>\n<p>2.wait() does releases the lock for a single object but after that all the threads (considering same priority) are equally probable to get the lock</p>\n"}],"owner":{"account_id":18689873,"reputation":13,"user_id":13624438,"display_name":"kebukeyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69685603,"answer_count":3,"score":1,"last_activity_date":1634984920,"creation_date":1634965149,"question_id":69685266,"body_markdown":"I wrote this program to check if a thread_1 holding lock on two different objects: `LOCK_OBJECT` and `FULL` goes into waiting mode on `LOCK_OBJECT` using `FULL.wait()`. I didn&#39;t think the consumer would get the `LOCK_OBJECT` lock, but the print didn&#39;t. So is there anything you missed?\r\n\r\nWhy does the consumer get the `LOCK_OBJECT` lock based on the printed results?\r\n\r\nThis is my code:\r\n\r\n```java\r\npublic class TestSync {\r\n\r\n    private volatile Integer amount = 0;\r\n    private final Object LOCK_OBJECT = new Object();\r\n    private final Object FULL = new Object();\r\n\r\n    public void doubleSync() throws InterruptedException {\r\n        System.out.println(&quot;Producer  trying to get LOCK_OBJECT lock &quot;);\r\n        synchronized (LOCK_OBJECT) {\r\n            System.out.println(&quot;Producer get LOCK_OBJECT lock &quot;);\r\n            Print.sleep(3000);\r\n            while (amount &gt;= 0) {\r\n                synchronized (FULL) {\r\n                    System.out.println(&quot;full！&quot;);\r\n                    FULL.wait();\r\n                }\r\n            }\r\n            System.out.println(&quot;continue~&quot;);\r\n            amount++;\r\n        }\r\n    }\r\n\r\n    public void simpleSync() {\r\n        System.out.println(&quot;Consumer trying to get LOCK_OBJECT lock &quot;);\r\n        synchronized (LOCK_OBJECT) {\r\n            System.out.println(&quot;Consumer get LOCK_OBJECT lock&quot;);\r\n        }\r\n        System.out.println(&quot;Consumer release LOCK_OBJECT lock&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        AtomicInteger atomicInteger = new AtomicInteger(0);\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(1, new ThreadFactory() {\r\n            @Override\r\n            public Thread newThread(Runnable r) {\r\n                int index = atomicInteger.incrementAndGet();\r\n                System.out.println(&quot;create no &quot; + index + &quot; thread&quot;);\r\n                Thread t = new Thread(r, &quot;one Thread-&quot; + index);\r\n                return t;\r\n            }\r\n        });\r\n        threadPool.execute(() -&gt; {\r\n            try {\r\n                new TestSync().doubleSync();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n        Print.sleep(1000);\r\n        ExecutorService executorService = Executors.newFixedThreadPool(1, new ThreadFactory() {\r\n            @Override\r\n            public Thread newThread(Runnable r) {\r\n                int index = atomicInteger.incrementAndGet();\r\n                System.out.println(&quot;create no &quot; + index + &quot; thread&quot;);\r\n                Thread t = new Thread(r, &quot;two Thread-&quot; + index);\r\n                return t;\r\n            }\r\n        });\r\n        executorService.execute(() -&gt; {\r\n            try {\r\n                new TestSync().simpleSync();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the print result:\r\n\r\n```\r\ncreate no 1 thread\r\nsleep 1000\r\nProducer  trying to get LOCK_OBJECT lock \r\nProducer get LOCK_OBJECT lock \r\nsleep 3000\r\ncreate no 2 thread\r\nConsumer trying to get LOCK_OBJECT lock \r\nConsumer get LOCK_OBJECT lock\r\nConsumer release LOCK_OBJECT lock\r\nfull！\r\n```","title":"Does wait() release all locks?","body":"<p>I wrote this program to check if a thread_1 holding lock on two different objects: <code>LOCK_OBJECT</code> and <code>FULL</code> goes into waiting mode on <code>LOCK_OBJECT</code> using <code>FULL.wait()</code>. I didn't think the consumer would get the <code>LOCK_OBJECT</code> lock, but the print didn't. So is there anything you missed?</p>\n<p>Why does the consumer get the <code>LOCK_OBJECT</code> lock based on the printed results?</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestSync {\n\n    private volatile Integer amount = 0;\n    private final Object LOCK_OBJECT = new Object();\n    private final Object FULL = new Object();\n\n    public void doubleSync() throws InterruptedException {\n        System.out.println(&quot;Producer  trying to get LOCK_OBJECT lock &quot;);\n        synchronized (LOCK_OBJECT) {\n            System.out.println(&quot;Producer get LOCK_OBJECT lock &quot;);\n            Print.sleep(3000);\n            while (amount &gt;= 0) {\n                synchronized (FULL) {\n                    System.out.println(&quot;full！&quot;);\n                    FULL.wait();\n                }\n            }\n            System.out.println(&quot;continue~&quot;);\n            amount++;\n        }\n    }\n\n    public void simpleSync() {\n        System.out.println(&quot;Consumer trying to get LOCK_OBJECT lock &quot;);\n        synchronized (LOCK_OBJECT) {\n            System.out.println(&quot;Consumer get LOCK_OBJECT lock&quot;);\n        }\n        System.out.println(&quot;Consumer release LOCK_OBJECT lock&quot;);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        AtomicInteger atomicInteger = new AtomicInteger(0);\n        ExecutorService threadPool = Executors.newFixedThreadPool(1, new ThreadFactory() {\n            @Override\n            public Thread newThread(Runnable r) {\n                int index = atomicInteger.incrementAndGet();\n                System.out.println(&quot;create no &quot; + index + &quot; thread&quot;);\n                Thread t = new Thread(r, &quot;one Thread-&quot; + index);\n                return t;\n            }\n        });\n        threadPool.execute(() -&gt; {\n            try {\n                new TestSync().doubleSync();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        Print.sleep(1000);\n        ExecutorService executorService = Executors.newFixedThreadPool(1, new ThreadFactory() {\n            @Override\n            public Thread newThread(Runnable r) {\n                int index = atomicInteger.incrementAndGet();\n                System.out.println(&quot;create no &quot; + index + &quot; thread&quot;);\n                Thread t = new Thread(r, &quot;two Thread-&quot; + index);\n                return t;\n            }\n        });\n        executorService.execute(() -&gt; {\n            try {\n                new TestSync().simpleSync();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n}\n</code></pre>\n<p>And this is the print result:</p>\n<pre><code>create no 1 thread\nsleep 1000\nProducer  trying to get LOCK_OBJECT lock \nProducer get LOCK_OBJECT lock \nsleep 3000\ncreate no 2 thread\nConsumer trying to get LOCK_OBJECT lock \nConsumer get LOCK_OBJECT lock\nConsumer release LOCK_OBJECT lock\nfull！\n</code></pre>\n"},{"tags":["java","html","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":21209836,"reputation":114,"user_id":15598693,"display_name":"sourcloud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634984917,"creation_date":1634984917,"answer_id":69687244,"question_id":69687187,"body_markdown":"You are creating an ordered list for each item instead of listitems.\r\n\r\nThis should work:\r\n\r\n    &lt;ol&gt;\r\n        &lt;li th:each=&quot;test: ${tests}&quot; th:text=&quot;${test.toString()}&quot;&gt;&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n\r\n","title":"Thymeleaf iterating over a list","body":"<p>You are creating an ordered list for each item instead of listitems.</p>\n<p>This should work:</p>\n<pre><code>&lt;ol&gt;\n    &lt;li th:each=&quot;test: ${tests}&quot; th:text=&quot;${test.toString()}&quot;&gt;&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n"}],"owner":{"account_id":22949557,"reputation":121,"user_id":17081061,"display_name":"Tomek Nowak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634984917,"creation_date":1634984437,"question_id":69687187,"body_markdown":"I want to iterate over a list using thymeleaf. My code looks like this:\r\n\r\n    &lt;ol th:each=&quot;test: ${tests}&quot;&gt;\r\n        &lt;li th:text=&quot;${test.toString()}&quot;&gt;&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\nAt this moment, tests Set contains 2 elements, which have a toString() representation, respectively test1 and test2\r\n\r\nMy output in html looks like this:\r\n\r\n    1.test1\r\n    1.test2\r\n\r\nI am wondering why do both of them have the number 1, instead of 1 and 2? \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/raEkZ.png","title":"Thymeleaf iterating over a list","body":"<p>I want to iterate over a list using thymeleaf. My code looks like this:</p>\n<pre><code>&lt;ol th:each=&quot;test: ${tests}&quot;&gt;\n    &lt;li th:text=&quot;${test.toString()}&quot;&gt;&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n<p>At this moment, tests Set contains 2 elements, which have a toString() representation, respectively test1 and test2</p>\n<p>My output in html looks like this:</p>\n<pre><code>1.test1\n1.test2\n</code></pre>\n<p>I am wondering why do both of them have the number 1, instead of 1 and 2?</p>\n"},{"tags":["java","algorithm","data-structures","time-complexity","space-complexity"],"comments":[{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":0,"creation_date":1634976059,"post_id":69686148,"comment_id":123175720,"body_markdown":"The time complexity is O(n^2), for space you have O(1)","body":"The time complexity is O(n^2), for space you have O(1)"},{"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"score":1,"creation_date":1634976277,"post_id":69686148,"comment_id":123175770,"body_markdown":"Does this answer your question? [How to find time complexity of an algorithm](https://stackoverflow.com/questions/11032015/how-to-find-time-complexity-of-an-algorithm)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11032015/how-to-find-time-complexity-of-an-algorithm\">How to find time complexity of an algorithm</a>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634984557,"creation_date":1634984557,"answer_id":69687199,"question_id":69686148,"body_markdown":"The outer loop will have log&lt;sub&gt;3&lt;/sub&gt; n iterations, the inner loop will have n / 2 iterations (2 is a constant and can be ignored), thus time complexity is `O(N log N)`.\r\n\r\nThe space complexity is O(1) because no arrays/lists is created here with regard to N.","title":"Time and Space Complexity of Nested loop","body":"<p>The outer loop will have log<sub>3</sub> n iterations, the inner loop will have n / 2 iterations (2 is a constant and can be ignored), thus time complexity is <code>O(N log N)</code>.</p>\n<p>The space complexity is O(1) because no arrays/lists is created here with regard to N.</p>\n"}],"owner":{"account_id":16483858,"reputation":21,"user_id":11909827,"display_name":"Arun E.R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1634986721,"accepted_answer_id":69687199,"answer_count":1,"score":-3,"last_activity_date":1634984557,"creation_date":1634975390,"question_id":69686148,"body_markdown":"Please consider the following algorithm -\r\n```\r\nfor( j = 1; j &lt; n ; j = j * 3)\r\n{\r\n\tfor( k = 1 ; k &lt;= n ; k = k + 2 )\r\n\t{\r\n\t  r = i + j + k ;\r\n\r\n\tSystem.out.println(r);\r\n\t}\r\n}\r\n```\r\nHow is the time and space complexity found for this?\r\n","title":"Time and Space Complexity of Nested loop","body":"<p>Please consider the following algorithm -</p>\n<pre><code>for( j = 1; j &lt; n ; j = j * 3)\n{\n    for( k = 1 ; k &lt;= n ; k = k + 2 )\n    {\n      r = i + j + k ;\n\n    System.out.println(r);\n    }\n}\n</code></pre>\n<p>How is the time and space complexity found for this?</p>\n"},{"tags":["java","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1634982657,"post_id":69686908,"comment_id":123177027,"body_markdown":"I think in your `@Query` you are mixing jpa and native SQL. What kind of statement are you going to write? If it is JPA you should also post the Entities code e.g. `Address`, `City` etc. If it is going to be an SQL query you should post your DB table structure e.g. `address_table` and city table","body":"I think in your <code>@Query</code> you are mixing jpa and native SQL. What kind of statement are you going to write? If it is JPA you should also post the Entities code e.g. <code>Address</code>, <code>City</code> etc. If it is going to be an SQL query you should post your DB table structure e.g. <code>address_table</code> and city table"}],"answers":[{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634982923,"creation_date":1634982923,"answer_id":69687028,"question_id":69686908,"body_markdown":"If `city` is a String then:\r\n\r\n\r\n**AddressRepository** \r\n\r\n    @Query(&quot;SELECT a.state FROM address_table a WHERE a.city = :city &quot;, nativeQuery = true) \r\n    String getState(@Param(&quot;city&quot;) String city);\r\n\r\n**AddressManager**\r\n\r\n    user.setCity (ua.getCity());\r\n    user.setState(aRepo.getState(ua.getCity()));\r\n\r\n\r\n","title":"WHERE conditional queries without using string","body":"<p>If <code>city</code> is a String then:</p>\n<p><strong>AddressRepository</strong></p>\n<pre><code>@Query(&quot;SELECT a.state FROM address_table a WHERE a.city = :city &quot;, nativeQuery = true) \nString getState(@Param(&quot;city&quot;) String city);\n</code></pre>\n<p><strong>AddressManager</strong></p>\n<pre><code>user.setCity (ua.getCity());\nuser.setState(aRepo.getState(ua.getCity()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634984039,"creation_date":1634984039,"answer_id":69687148,"question_id":69686908,"body_markdown":"Using JPQL query with a named parameter would look like this taking into account that several states may have namesake cities:\r\n```java\r\n@Repository\r\npublic interface AddressRepository extends JpaRepository&lt;Address, Long&gt;\r\n{       \r\n    @Query(&quot;SELECT a.state FROM Address a WHERE a.city = :city &quot;)\r\n    List&lt;String&gt; getState(@Param(&quot;city&quot;) String city);\r\n}\r\n```\r\nAs for the condition, this may be implemented using `CASE ... END` a similar way:\r\n```java\r\n    @Query(&quot;SELECT a.state FROM Address a WHERE a.city = (CASE :city = &#39;&#39; THEN :userCity ELSE :city END) &quot;) \r\n    List&lt;String&gt; getState(\r\n        @Param(&quot;city&quot;) String city,\r\n        @Param(&quot;userCity&quot;) String userCity\r\n    );\r\n```","title":"WHERE conditional queries without using string","body":"<p>Using JPQL query with a named parameter would look like this taking into account that several states may have namesake cities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface AddressRepository extends JpaRepository&lt;Address, Long&gt;\n{       \n    @Query(&quot;SELECT a.state FROM Address a WHERE a.city = :city &quot;)\n    List&lt;String&gt; getState(@Param(&quot;city&quot;) String city);\n}\n</code></pre>\n<p>As for the condition, this may be implemented using <code>CASE ... END</code> a similar way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(&quot;SELECT a.state FROM Address a WHERE a.city = (CASE :city = '' THEN :userCity ELSE :city END) &quot;) \n    List&lt;String&gt; getState(\n        @Param(&quot;city&quot;) String city,\n        @Param(&quot;userCity&quot;) String userCity\n    );\n</code></pre>\n"}],"owner":{"account_id":21596157,"reputation":47,"user_id":15925094,"display_name":"xb2107"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":728,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1634984039,"creation_date":1634981983,"question_id":69686908,"body_markdown":"I have to return the State corresponding to its City in the `address_table` sent through a POST request. I used a `WHERE` clause in the query, but it requires a string. What should I do if I want it to contain the city returned from a method in `AddressManager`?\r\n\r\nThis code is working if the City sent as a post request is what I put in `WHERE a.city = &#39;&#39;`\r\n\r\n**Repository**\r\n    \r\n    @Repository\r\n    public interface AddressRepository extends JpaRepository&lt;Address, Long&gt;\r\n    {\t\t\r\n    \t@Query(&quot;SELECT a.state FROM address_table a WHERE a.city = &#39;&#39; &quot;) \r\n    \tString getState();\r\n        // the blank city should be the city from user.setCity (ua.getCity())\r\n    }\r\n\r\n\r\n**Manager**\r\n    \r\n    @Component \r\n    public class AddressManager\r\n    {\r\n    \t@Autowired\r\n    \tprivate AddressRepository aRepo;\r\n\r\n        @Autowired\r\n        private UserRepository uRepo\t\r\n    \r\n    \tpublic void save(UserAddressDto ua)\r\n    \t{\t\t\t\t\r\n    \t\tUser user = new User();\r\n    \t\t\t\r\n    \t\tuser.setCity (ua.getCity());\r\n    \t\tuser.setState(aRepo.getState());\r\n    \t\t\t\t\t\r\n    \t\tuRepo.save(user);\r\n    \t}\r\n    }\r\n","title":"WHERE conditional queries without using string","body":"<p>I have to return the State corresponding to its City in the <code>address_table</code> sent through a POST request. I used a <code>WHERE</code> clause in the query, but it requires a string. What should I do if I want it to contain the city returned from a method in <code>AddressManager</code>?</p>\n<p>This code is working if the City sent as a post request is what I put in <code>WHERE a.city = ''</code></p>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface AddressRepository extends JpaRepository&lt;Address, Long&gt;\n{       \n    @Query(&quot;SELECT a.state FROM address_table a WHERE a.city = '' &quot;) \n    String getState();\n    // the blank city should be the city from user.setCity (ua.getCity())\n}\n</code></pre>\n<p><strong>Manager</strong></p>\n<pre><code>@Component \npublic class AddressManager\n{\n    @Autowired\n    private AddressRepository aRepo;\n\n    @Autowired\n    private UserRepository uRepo    \n\n    public void save(UserAddressDto ua)\n    {               \n        User user = new User();\n            \n        user.setCity (ua.getCity());\n        user.setState(aRepo.getState());\n                    \n        uRepo.save(user);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":1,"creation_date":1634989722,"post_id":69687023,"comment_id":123178351,"body_markdown":"Just a sidenote. Check which bean really needs to be in that scope. Most likely it suffices to put a „configbean“ into that scope, which holds f.e. the dynamic properties/credentials. You probably dont need to recreate the clients „all the time“.","body":"Just a sidenote. Check which bean really needs to be in that scope. Most likely it suffices to put a „configbean“ into that scope, which holds f.e. the dynamic properties/credentials. You probably dont need to recreate the clients „all the time“."}],"answers":[{"tags":[],"owner":{"account_id":233645,"reputation":1683,"user_id":499280,"accept_rate":76,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634984005,"creation_date":1634984005,"answer_id":69687140,"question_id":69687023,"body_markdown":"It seems you need to also define the proxyMode which injects an AOP proxy instead of a static reference to a string. Note that the bean class cant be final. This solved it:\r\n\r\n    @Configuration\r\n    @Import(CyberArkScopeConfig.class)\r\n    public class TestConfig {\r\n      @Bean\r\n      @Scope(scopeName = &quot;CyberArk&quot;, proxyMode=ScopedProxyMode.TARGET_CLASS)\r\n      public NonFinalString dateString(){\r\n        return new NonFinalString(LocalDateTime.now());\r\n      }\r\n    }","title":"Spring custom Scope with timed refresh of beans","body":"<p>It seems you need to also define the proxyMode which injects an AOP proxy instead of a static reference to a string. Note that the bean class cant be final. This solved it:</p>\n<pre><code>@Configuration\n@Import(CyberArkScopeConfig.class)\npublic class TestConfig {\n  @Bean\n  @Scope(scopeName = &quot;CyberArk&quot;, proxyMode=ScopedProxyMode.TARGET_CLASS)\n  public NonFinalString dateString(){\n    return new NonFinalString(LocalDateTime.now());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":233645,"reputation":1683,"user_id":499280,"accept_rate":76,"display_name":"Evan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69687140,"answer_count":1,"score":0,"last_activity_date":1634984005,"creation_date":1634982880,"question_id":69687023,"body_markdown":"I am working within an environment that changes credentials every several minutes. In order for beans that implement clients who depend on these credentials to work, the beans need to be refreshed. I decided that a good approach for that would be implementing a custom scope for it.\r\nAfter looking around a bit on the documentation I found that the main method for a scope to be implemented is the `get` method:\r\n\r\n    public class CyberArkScope implements Scope {\r\n    \r\n      private Map&lt;String, Pair&lt;LocalDateTime, Object&gt;&gt; scopedObjects = new ConcurrentHashMap&lt;&gt;();\r\n      private Map&lt;String, Runnable&gt; destructionCallbacks = new ConcurrentHashMap&lt;&gt;();\r\n      private Integer scopeRefresh;\r\n    \r\n    \r\n      public CyberArkScope(Integer scopeRefresh) {\r\n        this.scopeRefresh = scopeRefresh;\r\n      }\r\n    \r\n      @Override\r\n      public Object get(String name, ObjectFactory&lt;?&gt; objectFactory) {\r\n        if (!scopedObjects.containsKey(name) || scopedObjects.get(name).getKey()\r\n            .isBefore(LocalDateTime.now().minusMinutes(scopeRefresh))) {\r\n          scopedObjects.put(name, Pair.of(LocalDateTime.now(), objectFactory.getObject()));\r\n        }\r\n        return scopedObjects.get(name).getValue();\r\n      }\r\n    \r\n      @Override\r\n      public Object remove(String name) {\r\n        destructionCallbacks.remove(name);\r\n        return scopedObjects.remove(name);\r\n      }\r\n    \r\n      @Override\r\n      public void registerDestructionCallback(String name, Runnable runnable) {\r\n        destructionCallbacks.put(name, runnable);\r\n      }\r\n    \r\n      @Override\r\n      public Object resolveContextualObject(String name) {\r\n        return null;\r\n      }\r\n    \r\n      @Override\r\n      public String getConversationId() {\r\n        return &quot;CyberArk&quot;;\r\n      }\r\n    }\r\n\r\n    @Configuration\r\n    @Import(CyberArkScopeConfig.class)\r\n    public class TestConfig {\r\n      @Bean\r\n      @Scope(scopeName = &quot;CyberArk&quot;)\r\n      public String dateString(){\r\n        return LocalDateTime.now().toString();\r\n      }\r\n    }\r\n\r\n    @RestController\r\n    public class HelloWorld {\r\n    \r\n        @Autowired\r\n        private String dateString;\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String index() {\r\n            return dateString;\r\n        }\r\n    }\r\n\r\nWhen I debug this implemetation with a simple String scope autowired in a controller I see that the get method is only called once in the startup and never again. So this means that the bean is never again refreshed. Is there something wrong in this behaviour or is that how the get method is supposed to work?","title":"Spring custom Scope with timed refresh of beans","body":"<p>I am working within an environment that changes credentials every several minutes. In order for beans that implement clients who depend on these credentials to work, the beans need to be refreshed. I decided that a good approach for that would be implementing a custom scope for it.\nAfter looking around a bit on the documentation I found that the main method for a scope to be implemented is the <code>get</code> method:</p>\n<pre><code>public class CyberArkScope implements Scope {\n\n  private Map&lt;String, Pair&lt;LocalDateTime, Object&gt;&gt; scopedObjects = new ConcurrentHashMap&lt;&gt;();\n  private Map&lt;String, Runnable&gt; destructionCallbacks = new ConcurrentHashMap&lt;&gt;();\n  private Integer scopeRefresh;\n\n\n  public CyberArkScope(Integer scopeRefresh) {\n    this.scopeRefresh = scopeRefresh;\n  }\n\n  @Override\n  public Object get(String name, ObjectFactory&lt;?&gt; objectFactory) {\n    if (!scopedObjects.containsKey(name) || scopedObjects.get(name).getKey()\n        .isBefore(LocalDateTime.now().minusMinutes(scopeRefresh))) {\n      scopedObjects.put(name, Pair.of(LocalDateTime.now(), objectFactory.getObject()));\n    }\n    return scopedObjects.get(name).getValue();\n  }\n\n  @Override\n  public Object remove(String name) {\n    destructionCallbacks.remove(name);\n    return scopedObjects.remove(name);\n  }\n\n  @Override\n  public void registerDestructionCallback(String name, Runnable runnable) {\n    destructionCallbacks.put(name, runnable);\n  }\n\n  @Override\n  public Object resolveContextualObject(String name) {\n    return null;\n  }\n\n  @Override\n  public String getConversationId() {\n    return &quot;CyberArk&quot;;\n  }\n}\n\n@Configuration\n@Import(CyberArkScopeConfig.class)\npublic class TestConfig {\n  @Bean\n  @Scope(scopeName = &quot;CyberArk&quot;)\n  public String dateString(){\n    return LocalDateTime.now().toString();\n  }\n}\n\n@RestController\npublic class HelloWorld {\n\n    @Autowired\n    private String dateString;\n\n    @RequestMapping(&quot;/&quot;)\n    public String index() {\n        return dateString;\n    }\n}\n</code></pre>\n<p>When I debug this implemetation with a simple String scope autowired in a controller I see that the get method is only called once in the startup and never again. So this means that the bean is never again refreshed. Is there something wrong in this behaviour or is that how the get method is supposed to work?</p>\n"},{"tags":["java","error-handling","runtime-error"],"comments":[{"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"score":0,"creation_date":1417319686,"post_id":27198856,"comment_id":42901347,"body_markdown":"@EJP, I was prepared to see that the question had already been answered, but the question that you linked to is... entirely different?  Perhaps you meant to link to a different question?  The answer given by David Wallace seems right, though.","body":"@EJP, I was prepared to see that the question had already been answered, but the question that you linked to is... entirely different?  Perhaps you meant to link to a different question?  The answer given by David Wallace seems right, though."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1417329364,"post_id":27198856,"comment_id":42902852,"body_markdown":"I&#39;ve reopened this.  It&#39;s clearly NOT a duplicate of the one that it had been closed as.","body":"I&#39;ve reopened this.  It&#39;s clearly NOT a duplicate of the one that it had been closed as."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1417235713,"creation_date":1417235398,"answer_id":27198881,"question_id":27198856,"body_markdown":"There are two streams to the console, that your program can use for output.  There&#39;s &quot;standard out&quot; and &quot;standard error&quot;.  You&#39;re explicitly putting messages on &quot;standard out&quot;; and your exception message goes to &quot;standard error&quot;.\r\n\r\nNow, although both of these streams end up at the console, &quot;standard out&quot; has a small buffer.  Therefore, text going to &quot;standard error&quot; can arrive at the console AHEAD OF text that went to &quot;standard out&quot; first.\r\n\r\nYou can experiment with this by mixing up calls to `System.out.print` and `System.err.print`.\r\n\r\nThere&#39;s some good information on [this page](http://en.wikipedia.org/wiki/Standard_streams).","title":"Unexpected runtime error placement in simple Java code","body":"<p>There are two streams to the console, that your program can use for output.  There's \"standard out\" and \"standard error\".  You're explicitly putting messages on \"standard out\"; and your exception message goes to \"standard error\".</p>\n\n<p>Now, although both of these streams end up at the console, \"standard out\" has a small buffer.  Therefore, text going to \"standard error\" can arrive at the console AHEAD OF text that went to \"standard out\" first.</p>\n\n<p>You can experiment with this by mixing up calls to <code>System.out.print</code> and <code>System.err.print</code>.</p>\n\n<p>There's some good information on <a href=\"http://en.wikipedia.org/wiki/Standard_streams\" rel=\"nofollow\">this page</a>.</p>\n"}],"owner":{"account_id":5187045,"reputation":1064,"user_id":4151129,"accept_rate":100,"display_name":"Ben I."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1427,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27198881,"answer_count":1,"score":3,"last_activity_date":1634983437,"creation_date":1417235196,"question_id":27198856,"body_markdown":"I generated the following code for a multiple choice question on an exam:\r\n\r\n\t\tString a = &quot;&quot;;\r\n\t\tString b = null;\r\n\t\tString c = null;\r\n\t\tString d = &quot;&quot;;\r\n\t\tString e = new String(&quot;&quot;);\r\n\t\tSystem.out.print((b==c) +&quot; &quot;);\r\n\t\tSystem.out.print((a==d) +&quot; &quot;);\r\n\t\tSystem.out.print((d==e) +&quot; &quot;);\r\n\t\tSystem.out.print((d.equals(e)) +&quot; &quot;);\r\n\t\tSystem.out.println(c.equals(b));\r\n\r\nThe output I expected was:\r\n\r\n    true true false true Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\r\nThe output I received was very close to that, but out of order:\r\n\r\n    true true false Exception in thread &quot;main&quot; true java.lang.NullPointerException\r\n\r\nIt did get that last `true` value, but it got it after the exception began.  And while, on some level I suppose this is a silly question (because the code did sort-of what it was supposed to), I can&#39;t help but wonder why the error came in before the prior command fully terminated.  What is going on in the program execution stack to make this happen?\r\n","title":"Unexpected runtime error placement in simple Java code","body":"<p>I generated the following code for a multiple choice question on an exam:</p>\n\n<pre><code>    String a = \"\";\n    String b = null;\n    String c = null;\n    String d = \"\";\n    String e = new String(\"\");\n    System.out.print((b==c) +\" \");\n    System.out.print((a==d) +\" \");\n    System.out.print((d==e) +\" \");\n    System.out.print((d.equals(e)) +\" \");\n    System.out.println(c.equals(b));\n</code></pre>\n\n<p>The output I expected was:</p>\n\n<pre><code>true true false true Exception in thread \"main\" java.lang.NullPointerException\n</code></pre>\n\n<p>The output I received was very close to that, but out of order:</p>\n\n<pre><code>true true false Exception in thread \"main\" true java.lang.NullPointerException\n</code></pre>\n\n<p>It did get that last <code>true</code> value, but it got it after the exception began.  And while, on some level I suppose this is a silly question (because the code did sort-of what it was supposed to), I can't help but wonder why the error came in before the prior command fully terminated.  What is going on in the program execution stack to make this happen?</p>\n"},{"tags":["java","oracle","hibernate","clob"],"comments":[{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1634923631,"post_id":69679824,"comment_id":123166436,"body_markdown":"Have you tried to use `@Lob` annotation instead ? I know Hibernate support it for CLOBs the use of String, but perhaps it would help in your case","body":"Have you tried to use <code>@Lob</code> annotation instead ? I know Hibernate support it for CLOBs the use of String, but perhaps it would help in your case"},{"owner":{"account_id":3830808,"reputation":35,"user_id":3176373,"display_name":"Roman"},"score":0,"creation_date":1634982832,"post_id":69679824,"comment_id":123177065,"body_markdown":"Thanks a lot, such a simple trickhelped!\nStill remains question, why it works without @Lob annotation for all other CLOB columns (14 columns in 5 tables), and only the last one start to fail. But this is not so important.","body":"Thanks a lot, such a simple trickhelped! Still remains question, why it works without @Lob annotation for all other CLOB columns (14 columns in 5 tables), and only the last one start to fail. But this is not so important."},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1634982894,"post_id":69679824,"comment_id":123177082,"body_markdown":"I will put that as an answer. Please, accept it as others can benefit from it","body":"I will put that as an answer. Please, accept it as others can benefit from it"},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1634983072,"post_id":69679824,"comment_id":123177126,"body_markdown":"I believe Hibernate has still some deal to do with Strings annotations handling clob.","body":"I believe Hibernate has still some deal to do with Strings annotations handling clob."}],"answers":[{"tags":[],"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634983408,"creation_date":1634983017,"answer_id":69687039,"question_id":69679824,"body_markdown":"One solution would be to use `@Lob` annotation instead. Although Hibernate supports strings to deal with `clob` columns, I found always better to use this annotation and avoid therefore any potential issue.\r\n\r\nHere you can find a nice article on how to use it \r\n\r\n[Hibernate LOB][1]\r\n\r\nMy personal believe is that Hibernate still has some issues when dealing with `CLOB` using `string`. I found myself in other strange scenarios and using `@LOB` always solved them. \r\n\r\n  [1]: https://www.baeldung.com/hibernate-lob","title":"Empty CLOB instead of NULL in Oracle CLOB field","body":"<p>One solution would be to use <code>@Lob</code> annotation instead. Although Hibernate supports strings to deal with <code>clob</code> columns, I found always better to use this annotation and avoid therefore any potential issue.</p>\n<p>Here you can find a nice article on how to use it</p>\n<p><a href=\"https://www.baeldung.com/hibernate-lob\" rel=\"nofollow noreferrer\">Hibernate LOB</a></p>\n<p>My personal believe is that Hibernate still has some issues when dealing with <code>CLOB</code> using <code>string</code>. I found myself in other strange scenarios and using <code>@LOB</code> always solved them.</p>\n"}],"owner":{"account_id":3830808,"reputation":35,"user_id":3176373,"display_name":"Roman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69687039,"answer_count":1,"score":1,"last_activity_date":1634983408,"creation_date":1634918052,"question_id":69679824,"body_markdown":"Writing null string into Oracle CLOB field using Hibernate ***sometimes*** result in an empty CLOB instead of NULL in the field.\r\n\r\nTable STEP with a mix of varchar2, number and CLOB fields once was extended with a new CLOB field.\r\n```\r\nALTER TABLE STEP \r\n    ADD (IN_PAR_A CLOB) \r\n    LOB(IN_PAR_A) STORE AS CLOB_STEP_IN_PAR_A \r\n        (NOCACHE FILESYSTEM_LIKE_LOGGING COMPRESS HIGH TABLESPACE &lt;tblspace for LOBs&gt;);\r\n```\r\nand a corresponding field was added to entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;STEP&quot;)\r\n@Data\r\npublic class Step {\r\n  //some other fields\r\n  @Column(name = &quot;IN_PAR_A&quot;)\r\n  private String inParA;\r\n}\r\n```\r\n\r\nAll work as expected when non-null value stored. But when new record stored with non-null value which later updated to null (using transaction) sometimes there is an empty CLOB stored in the field instead of NULL.\r\n\r\n```\r\nStep entity = session.get(Step.class, &quot;some ID&quot;);\r\nentity.setInParA(null);\r\n//other fields\r\nsession.update(entity);\r\n```\r\n\r\nMain problem is instability - non-null value is written only in 1/3..1/4 of records. I was unable to reproduce at dev instance of system via direct hibernate storing Step entity with any combinations of NULL and &quot;&quot; in the step.inParA field. But it happens on product system. I was able to debug a little Oracle by adding a trigger and found that sometimes it got &quot;&quot; from driver, which I again unable to reproduce at dev. Also I was able to initiate about two dozen times the exactly same sequence, which lead to new STEP records, and some of them stored empty CLOB while most stored null.\r\nI have tried adding a trigger to replace empty to NULL, but it ruined the record - somehow instead of NULL or empty the field stored some random data from other fields.\r\n\r\nIt is required that STEP.IN_PAR_A contain NULL instead of empty CLOB, but I have no idea what to fix.\r\n\r\nAny advice would be appreciated.\r\n\r\nUPD As suggested just adding @Lob annotation helped. Old 14 columns in 5 tables without this annotation works fine (but now annotations are added)\r\n","title":"Empty CLOB instead of NULL in Oracle CLOB field","body":"<p>Writing null string into Oracle CLOB field using Hibernate <em><strong>sometimes</strong></em> result in an empty CLOB instead of NULL in the field.</p>\n<p>Table STEP with a mix of varchar2, number and CLOB fields once was extended with a new CLOB field.</p>\n<pre><code>ALTER TABLE STEP \n    ADD (IN_PAR_A CLOB) \n    LOB(IN_PAR_A) STORE AS CLOB_STEP_IN_PAR_A \n        (NOCACHE FILESYSTEM_LIKE_LOGGING COMPRESS HIGH TABLESPACE &lt;tblspace for LOBs&gt;);\n</code></pre>\n<p>and a corresponding field was added to entity</p>\n<pre><code>@Entity\n@Table(name = &quot;STEP&quot;)\n@Data\npublic class Step {\n  //some other fields\n  @Column(name = &quot;IN_PAR_A&quot;)\n  private String inParA;\n}\n</code></pre>\n<p>All work as expected when non-null value stored. But when new record stored with non-null value which later updated to null (using transaction) sometimes there is an empty CLOB stored in the field instead of NULL.</p>\n<pre><code>Step entity = session.get(Step.class, &quot;some ID&quot;);\nentity.setInParA(null);\n//other fields\nsession.update(entity);\n</code></pre>\n<p>Main problem is instability - non-null value is written only in 1/3..1/4 of records. I was unable to reproduce at dev instance of system via direct hibernate storing Step entity with any combinations of NULL and &quot;&quot; in the step.inParA field. But it happens on product system. I was able to debug a little Oracle by adding a trigger and found that sometimes it got &quot;&quot; from driver, which I again unable to reproduce at dev. Also I was able to initiate about two dozen times the exactly same sequence, which lead to new STEP records, and some of them stored empty CLOB while most stored null.\nI have tried adding a trigger to replace empty to NULL, but it ruined the record - somehow instead of NULL or empty the field stored some random data from other fields.</p>\n<p>It is required that STEP.IN_PAR_A contain NULL instead of empty CLOB, but I have no idea what to fix.</p>\n<p>Any advice would be appreciated.</p>\n<p>UPD As suggested just adding @Lob annotation helped. Old 14 columns in 5 tables without this annotation works fine (but now annotations are added)</p>\n"},{"tags":["java","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1634979678,"post_id":69686580,"comment_id":123176418,"body_markdown":"You&#39;re re-creating a new `Scanner` object for each invocation in `getInput` which is bad, because any kind of buffering or pre-reading that might happen inside the `Scanner` can mess up your result, you should only ever create one `Scanner` per input. I don&#39;t know enough about Scanner to know for sure that fixing this alone will fix your issue though. Generally speaking I&#39;d discourage the use of `Scanner` for getting user input, as that API has a few ... peculiarities that make it ill-suited for that task.","body":"You&#39;re re-creating a new <code>Scanner</code> object for each invocation in <code>getInput</code> which is bad, because any kind of buffering or pre-reading that might happen inside the <code>Scanner</code> can mess up your result, you should only ever create one <code>Scanner</code> per input. I don&#39;t know enough about Scanner to know for sure that fixing this alone will fix your issue though. Generally speaking I&#39;d discourage the use of <code>Scanner</code> for getting user input, as that API has a few ... peculiarities that make it ill-suited for that task."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1634981792,"post_id":69686580,"comment_id":123176859,"body_markdown":"If you use `scan.close();` you are closing the underlying `System.in` which will cause and future `System.in` calls, or related scanners to fail. Either create a single scanner and use it for all inputs as suggested above, or simply don&#39;t close the scanner.","body":"If you use <code>scan.close();</code> you are closing the underlying <code>System.in</code> which will cause and future <code>System.in</code> calls, or related scanners to fail. Either create a single scanner and use it for all inputs as suggested above, or simply don&#39;t close the scanner."},{"owner":{"account_id":23119490,"reputation":31,"user_id":17226224,"display_name":"yftach"},"score":0,"creation_date":1634982616,"post_id":69686580,"comment_id":123177017,"body_markdown":"Managed to solve the isusse by passing the scanner as a parameter of the function and it solved the isuee but then I encountered it in other places so what I endded up doing is creating the scanner as a global object and passing it through the constructor to initialize it and it works perfectly now. Thank you guys! I wouldn&#39;t have managed to solve it without your comments!","body":"Managed to solve the isusse by passing the scanner as a parameter of the function and it solved the isuee but then I encountered it in other places so what I endded up doing is creating the scanner as a global object and passing it through the constructor to initialize it and it works perfectly now. Thank you guys! I wouldn&#39;t have managed to solve it without your comments!"}],"answers":[{"tags":[],"owner":{"account_id":1722402,"reputation":1299,"user_id":1577867,"display_name":"Lahcen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634982568,"creation_date":1634982568,"answer_id":69686984,"question_id":69686580,"body_markdown":"You can put \r\n\r\n&gt; Scanner scan = new Scanner(System.in)\r\n\r\n outside of getInput method to not call it each iteration in your class\r\n\r\n \r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    \r\n    private char getInput() {\r\n       \r\n        String current = &quot;&quot;; \r\n        \r\n        do {\r\n            current = scan.next();\r\n            if(current.length() &gt; 1) \r\n                System.out.println(&quot;Please enter only one character&quot;);\r\n            \r\n            else if(usedLetters.contains(current.charAt(0))) \r\n                System.out.println(&quot;This character has already been used&quot;);\r\n            \r\n            else if(!Character.isLetter(current.charAt(0)) || !Character.isLowerCase(current.charAt(0)))  //Check if input is a lower case letter\r\n                System.out.println(&quot;Invalid input&quot;);\r\n            else {\r\n                usedLetters.add(current.charAt(0));\r\n                break;  \r\n            }\r\n        } while(true);\r\n        \r\n       \r\n        return current.charAt(0);\r\n    \r\n    }\r\n    \r\n    ....\r\n    // then your loop \r\n    \r\n    while(!isAnagram(playerLetters,cw.toString())) {\r\n            char userChar = getInput(); //crash on the second call\r\n            System.out.println(userChar); //for debugging\r\n            if(cw.toString().indexOf(userChar) == -1) \r\n                System.out.println(&quot;Character not in the word, try again&quot;);\r\n            else {\r\n                for(int i = 0; i &lt; cw.numOfOccurrences(userChar); i++)//add the letter to correct guessed letter the number of time it occurs in the word \r\n                    playerLetters = playerLetters + userChar;\r\n                System.out.println(&quot;The character is in the word!&quot;);\r\n            }\r\n            System.out.println(userChar);   //for debugging\r\n            printUI();\r\n            trys++;\r\n        }\r\n    \r\n    // dont forget to close your scanner after the loop\r\n     scan.close();\r\n     \r\n\r\n","title":"java No Such Element Exception when trying to get input","body":"<p>You can put</p>\n<blockquote>\n<p>Scanner scan = new Scanner(System.in)</p>\n</blockquote>\n<p>outside of getInput method to not call it each iteration in your class</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\nprivate char getInput() {\n   \n    String current = &quot;&quot;; \n    \n    do {\n        current = scan.next();\n        if(current.length() &gt; 1) \n            System.out.println(&quot;Please enter only one character&quot;);\n        \n        else if(usedLetters.contains(current.charAt(0))) \n            System.out.println(&quot;This character has already been used&quot;);\n        \n        else if(!Character.isLetter(current.charAt(0)) || !Character.isLowerCase(current.charAt(0)))  //Check if input is a lower case letter\n            System.out.println(&quot;Invalid input&quot;);\n        else {\n            usedLetters.add(current.charAt(0));\n            break;  \n        }\n    } while(true);\n    \n   \n    return current.charAt(0);\n\n}\n\n....\n// then your loop \n\nwhile(!isAnagram(playerLetters,cw.toString())) {\n        char userChar = getInput(); //crash on the second call\n        System.out.println(userChar); //for debugging\n        if(cw.toString().indexOf(userChar) == -1) \n            System.out.println(&quot;Character not in the word, try again&quot;);\n        else {\n            for(int i = 0; i &lt; cw.numOfOccurrences(userChar); i++)//add the letter to correct guessed letter the number of time it occurs in the word \n                playerLetters = playerLetters + userChar;\n            System.out.println(&quot;The character is in the word!&quot;);\n        }\n        System.out.println(userChar);   //for debugging\n        printUI();\n        trys++;\n    }\n\n// dont forget to close your scanner after the loop\n scan.close();\n \n</code></pre>\n"}],"owner":{"account_id":23119490,"reputation":31,"user_id":17226224,"display_name":"yftach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634986712,"accepted_answer_id":69686984,"answer_count":1,"score":1,"last_activity_date":1634982568,"creation_date":1634979405,"question_id":69686580,"body_markdown":"I&#39;m trying to get user input in a loop but it crashes on the second iteration of the while. I get input once but it crashes on the second time calling `getInput()`, I know for a fact that the first iteration is done fully.\r\n\r\n    while(!isAnagram(playerLetters,cw.toString())) {\r\n\t\t\tchar userChar = getInput(); //crash on the second call\r\n\t\t\tSystem.out.println(userChar); //for debugging\r\n\t\t\tif(cw.toString().indexOf(userChar) == -1) \r\n\t\t\t\tSystem.out.println(&quot;Character not in the word, try again&quot;);\r\n\t\t\telse {\r\n\t\t\t\tfor(int i = 0; i &lt; cw.numOfOccurrences(userChar); i++)//add the letter to correct guessed letter the number of time it occurs in the word \r\n\t\t\t\t\tplayerLetters = playerLetters + userChar;\r\n\t\t\t\tSystem.out.println(&quot;The character is in the word!&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(userChar);\t//for debugging\r\n\t\t\tprintUI();\r\n\t\t\ttrys++;\r\n\t\t}\r\n\t\t\r\nAnd this is `getInput()`:\r\n\r\n    private char getInput() {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tString current = &quot;&quot;; \r\n\t\t\r\n\t\tdo {\r\n\t\t\tcurrent = scan.next();\r\n\t\t\tif(current.length() &gt; 1) \r\n\t\t\t\tSystem.out.println(&quot;Please enter only one character&quot;);\r\n\t\t\t\r\n\t\t\telse if(usedLetters.contains(current.charAt(0))) \r\n\t\t\t\tSystem.out.println(&quot;This character has already been used&quot;);\r\n\t\t\t\r\n\t\t\telse if(!Character.isLetter(current.charAt(0)) || !Character.isLowerCase(current.charAt(0)))  //Check if input is a lower case letter\r\n\t\t\t\tSystem.out.println(&quot;Invalid input&quot;);\r\n\t\t\telse {\r\n\t\t\t\tusedLetters.add(current.charAt(0));\r\n\t\t\t\tbreak;\t\r\n\t\t\t}\r\n\t\t} while(true);\r\n\t\t\r\n\t\tscan.close();\r\n\t\treturn current.charAt(0);\r\n\t\r\n\t}\r\n\r\n","title":"java No Such Element Exception when trying to get input","body":"<p>I'm trying to get user input in a loop but it crashes on the second iteration of the while. I get input once but it crashes on the second time calling <code>getInput()</code>, I know for a fact that the first iteration is done fully.</p>\n<pre><code>while(!isAnagram(playerLetters,cw.toString())) {\n        char userChar = getInput(); //crash on the second call\n        System.out.println(userChar); //for debugging\n        if(cw.toString().indexOf(userChar) == -1) \n            System.out.println(&quot;Character not in the word, try again&quot;);\n        else {\n            for(int i = 0; i &lt; cw.numOfOccurrences(userChar); i++)//add the letter to correct guessed letter the number of time it occurs in the word \n                playerLetters = playerLetters + userChar;\n            System.out.println(&quot;The character is in the word!&quot;);\n        }\n        System.out.println(userChar);   //for debugging\n        printUI();\n        trys++;\n    }\n    \n</code></pre>\n<p>And this is <code>getInput()</code>:</p>\n<pre><code>private char getInput() {\n    Scanner scan = new Scanner(System.in);\n    String current = &quot;&quot;; \n    \n    do {\n        current = scan.next();\n        if(current.length() &gt; 1) \n            System.out.println(&quot;Please enter only one character&quot;);\n        \n        else if(usedLetters.contains(current.charAt(0))) \n            System.out.println(&quot;This character has already been used&quot;);\n        \n        else if(!Character.isLetter(current.charAt(0)) || !Character.isLowerCase(current.charAt(0)))  //Check if input is a lower case letter\n            System.out.println(&quot;Invalid input&quot;);\n        else {\n            usedLetters.add(current.charAt(0));\n            break;  \n        }\n    } while(true);\n    \n    scan.close();\n    return current.charAt(0);\n\n}\n</code></pre>\n"},{"tags":["java","scala","maven","apache-spark","sbt"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1635004032,"post_id":69676073,"comment_id":123181603,"body_markdown":"How do you get the error? `sbt clean compile`?","body":"How do you get the error? <code>sbt clean compile</code>?"},{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":0,"creation_date":1635147864,"post_id":69676073,"comment_id":123208085,"body_markdown":"Just build project from intellij","body":"Just build project from intellij"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1635160755,"post_id":69676073,"comment_id":123212749,"body_markdown":"Did you try with sbt to be sure this is not an issue with IntelliJ not being aware of some dependencies change.","body":"Did you try with sbt to be sure this is not an issue with IntelliJ not being aware of some dependencies change."}],"answers":[{"tags":[],"owner":{"account_id":16048024,"reputation":1160,"user_id":11582682,"display_name":"Jarrod Baker"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634982557,"creation_date":1634914599,"answer_id":69679044,"question_id":69676073,"body_markdown":"You&#39;re using an incompatible Scala version (2.13.6). From the Spark documentation:\r\n\r\n```\r\nSpark runs on Java 8/11, Scala 2.12, Python 3.6+ and R 3.5+. Python 3.6\r\nsupport is deprecated as of Spark 3.2.0. Java 8 prior to version 8u201 support \r\nis deprecated as of Spark 3.2.0. For the Scala API, Spark 3.2.0 uses Scala 2.12. \r\nYou will need to use a compatible Scala version (2.12.x).\r\n```\r\n\r\nIf you use a Scala version from the 2.12.x family you should be fine.","title":"Symbol &#39;type scala.package.Serializable&#39; is missing from the classpath","body":"<p>You're using an incompatible Scala version (2.13.6). From the Spark documentation:</p>\n<pre><code>Spark runs on Java 8/11, Scala 2.12, Python 3.6+ and R 3.5+. Python 3.6\nsupport is deprecated as of Spark 3.2.0. Java 8 prior to version 8u201 support \nis deprecated as of Spark 3.2.0. For the Scala API, Spark 3.2.0 uses Scala 2.12. \nYou will need to use a compatible Scala version (2.12.x).\n</code></pre>\n<p>If you use a Scala version from the 2.12.x family you should be fine.</p>\n"}],"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2096,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":69679044,"answer_count":1,"score":1,"last_activity_date":1634982557,"creation_date":1634901992,"question_id":69676073,"body_markdown":" my classpath is missing serializable and cloneable classes.. \r\ni am not sure how to fix this.\r\n\r\ni have a sbt application which looks like this \r\n```\r\nname := &quot;realtime-spark-streaming&quot;\r\n\r\nversion := &quot;0.1&quot;\r\nresolvers += &quot;confluent&quot; at &quot;https://packages.confluent.io/maven/&quot;\r\nresolvers += &quot;Public Maven Repository&quot; at &quot;https://repository.com/content/repositories/pangaea_releases&quot;\r\n\r\n\r\nval sparkVersion = &quot;3.2.0&quot;\r\n// https://mvnrepository.com/artifact/org.apache.spark/spark-core\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.2.0&quot;\r\n\r\n// https://mvnrepository.com/artifact/org.apache.spark/spark-streaming\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.2.0&quot;\r\n\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.0&quot;\r\n\r\nlibraryDependencies += &quot;com.walmart.grcaml&quot; % &quot;us-aml-commons&quot; % &quot;latest.release&quot;\r\n\r\n\r\n\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-streaming-kafka-0-10&quot; % sparkVersion\r\n//libraryDependencies += &quot;org.apache.spark&quot; % &quot;spark-streaming-kafka-0-10_2.11&quot; % &quot;3.2.0&quot; % &quot;2.1.3&quot;\r\n\r\n//libraryDependencies += &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.12&quot;\r\n// https://mvnrepository.com/artifact/org.apache.kafka/kafka\r\nlibraryDependencies += &quot;org.apache.kafka&quot; %% &quot;kafka&quot; % &quot;6.1.0-ccs&quot;\r\nresolvers += Resolver.mavenLocal\r\nscalaVersion := &quot;2.13.6&quot;\r\n```\r\n\r\nwhen i do a sbt build i am getting..\r\n\r\n```\r\nSymbol &#39;type scala.package.Serializable&#39; is missing from the classpath.\r\nThis symbol is required by &#39;class org.apache.spark.sql.SparkSession&#39;.\r\nMake sure that type Serializable is in your classpath and check for conflicting dependencies with `-Ylog-classpath`.\r\nA full rebuild may help if &#39;SparkSession.class&#39; was compiled against an incompatible version of scala.package.\r\nimport org.apache.spark.sql.{DataFrame, SparkSession}\r\n```\r\n\r\n```\r\nSymbol &#39;type scala.package.Serializable&#39; is missing from the classpath.\r\nThis symbol is required by &#39;class org.apache.spark.sql.Dataset&#39;.\r\nMake sure that type Serializable is in your classpath and check for conflicting dependencies with `-Ylog-classpath`.\r\nA full rebuild may help if &#39;Dataset.class&#39; was compiled against an incompatible version of scala.package.\r\n  def extractData(spark: SparkSession, configDetails: ReadProperties, pcSql: String, query: String): DataFrame = {\r\n\r\n```\r\n\r\nmy dependency tree only shows jars, but this seems to be a class/package conflict or missing..","title":"Symbol &#39;type scala.package.Serializable&#39; is missing from the classpath","body":"<p>my classpath is missing serializable and cloneable classes..\ni am not sure how to fix this.</p>\n<p>i have a sbt application which looks like this</p>\n<pre><code>name := &quot;realtime-spark-streaming&quot;\n\nversion := &quot;0.1&quot;\nresolvers += &quot;confluent&quot; at &quot;https://packages.confluent.io/maven/&quot;\nresolvers += &quot;Public Maven Repository&quot; at &quot;https://repository.com/content/repositories/pangaea_releases&quot;\n\n\nval sparkVersion = &quot;3.2.0&quot;\n// https://mvnrepository.com/artifact/org.apache.spark/spark-core\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.2.0&quot;\n\n// https://mvnrepository.com/artifact/org.apache.spark/spark-streaming\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.2.0&quot;\n\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.0&quot;\n\nlibraryDependencies += &quot;com.walmart.grcaml&quot; % &quot;us-aml-commons&quot; % &quot;latest.release&quot;\n\n\n\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-streaming-kafka-0-10&quot; % sparkVersion\n//libraryDependencies += &quot;org.apache.spark&quot; % &quot;spark-streaming-kafka-0-10_2.11&quot; % &quot;3.2.0&quot; % &quot;2.1.3&quot;\n\n//libraryDependencies += &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.12&quot;\n// https://mvnrepository.com/artifact/org.apache.kafka/kafka\nlibraryDependencies += &quot;org.apache.kafka&quot; %% &quot;kafka&quot; % &quot;6.1.0-ccs&quot;\nresolvers += Resolver.mavenLocal\nscalaVersion := &quot;2.13.6&quot;\n</code></pre>\n<p>when i do a sbt build i am getting..</p>\n<pre><code>Symbol 'type scala.package.Serializable' is missing from the classpath.\nThis symbol is required by 'class org.apache.spark.sql.SparkSession'.\nMake sure that type Serializable is in your classpath and check for conflicting dependencies with `-Ylog-classpath`.\nA full rebuild may help if 'SparkSession.class' was compiled against an incompatible version of scala.package.\nimport org.apache.spark.sql.{DataFrame, SparkSession}\n</code></pre>\n<pre><code>Symbol 'type scala.package.Serializable' is missing from the classpath.\nThis symbol is required by 'class org.apache.spark.sql.Dataset'.\nMake sure that type Serializable is in your classpath and check for conflicting dependencies with `-Ylog-classpath`.\nA full rebuild may help if 'Dataset.class' was compiled against an incompatible version of scala.package.\n  def extractData(spark: SparkSession, configDetails: ReadProperties, pcSql: String, query: String): DataFrame = {\n\n</code></pre>\n<p>my dependency tree only shows jars, but this seems to be a class/package conflict or missing..</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":1556478,"reputation":762,"user_id":1447419,"display_name":"a2k42"},"score":0,"creation_date":1634932137,"post_id":69681858,"comment_id":123169233,"body_markdown":"It might be helpful to link those other posts you&#39;ve looked at. Also, have you developed a strategy for solving the problem before thinking about code?\n\nIn your examples the elements are ordered 0-8, is it the case that any integer could be at any position e.g. `{{8, 1, 3}, {2, 7, 6}, {5, 0, 4}}` or `{{54, 873, 932} ... }? By &quot;always stay the same&quot; did you mean after initialisation?\n\nI&#39;d first think about how you can tell if elements are next to each other, then think about how to deal with the (literal) edge cases.","body":"It might be helpful to link those other posts you&#39;ve looked at. Also, have you developed a strategy for solving the problem before thinking about code?  In your examples the elements are ordered 0-8, is it the case that any integer could be at any position e.g. <code>{{8, 1, 3}, {2, 7, 6}, {5, 0, 4}}</code> or `{{54, 873, 932} ... }? By &quot;always stay the same&quot; did you mean after initialisation?  I&#39;d first think about how you can tell if elements are next to each other, then think about how to deal with the (literal) edge cases."}],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634962543,"creation_date":1634932383,"answer_id":69682415,"question_id":69681858,"body_markdown":"Here is an example that might gives an idea. But you still have to do some coding though.\r\n```java\r\npublic class Main\r\n{\r\n\tprivate static final int MAX_COLUMNS = 3; //matrix[0].length\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tfinal int[][] matrix = {\r\n\t\t\t{ 1, 2, 3 },\r\n\t\t\t{ 4, 5, 6 },\r\n\t\t\t{ 7, 8, 9 },\r\n\t\t};\r\n\r\n\t\tfor(int i=1; i &lt;= 9; ++i) {\r\n\t\t\tfinal int start = i;\r\n\t\t\t//final int target = 7;\r\n\r\n\t\t\tfinal int row = getRow(start - 1);\r\n\t\t\tfinal int column = getColumn(start - 1);\r\n\r\n\t\t\tfinal int left = getLeft(matrix, row, column);\r\n\t\t\tfinal int top = getTop(matrix, row, column);\r\n\t\t\tfinal int right = getRight(matrix, row, column);\r\n\t\t\tfinal int bottom = getBottom(matrix, row, column);\r\n\r\n\t\t\tSystem.out.printf(&quot;[%d] L: %2d, T: %2d, R: %2d, B: %2d%n&quot;, start, left, top, right, bottom);\r\n\r\n\t\t\t//[1] L: -1, T: -1, R:  2, B:  4\r\n\t\t\t//[2] L:  1, T: -1, R:  3, B:  5\r\n\t\t\t//[3] L:  2, T: -1, R: -1, B:  6\r\n\t\t\t//[4] L: -1, T:  1, R:  5, B:  7\r\n\t\t\t//[5] L:  4, T:  2, R:  6, B:  8\r\n\t\t\t//[6] L:  5, T:  3, R: -1, B:  9\r\n\t\t\t//[7] L: -1, T:  4, R:  8, B: -1\r\n\t\t\t//[8] L:  7, T:  5, R:  9, B: -1\r\n\t\t\t//[9] L:  8, T:  6, R: -1, B: -1\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static final int getColumn(final int index)\r\n\t{\r\n\t\treturn (index % MAX_COLUMNS);\r\n\t}\r\n\r\n\tprivate static final int getRow(final int index)\r\n\t{\r\n\t\treturn (index / MAX_COLUMNS);\r\n\t}\r\n\t\r\n\tprivate static final int getLeft(final int[][] matrix, final int row, final int column)\r\n\t{\r\n\t\tif(column == 0) return -1;\r\n\t\treturn matrix[row][column - 1];\r\n\t}\r\n\t\r\n\tprivate static final int getTop(final int[][] matrix, final int row, final int column)\r\n\t{\r\n\t\tif(row == 0) return -1;\r\n\t\treturn matrix[row - 1][column];\r\n\t}\r\n\t\r\n\tprivate static final int getRight(final int[][] matrix, final int row, final int column)\r\n\t{\r\n\t\tif(column == (MAX_COLUMNS - 1)) return -1;\r\n\t\treturn matrix[row][column + 1];\r\n\t}\r\n\t\r\n\tprivate static final int getBottom(final int[][] matrix, final int row, final int column)\r\n\t{\r\n\t\tif(row == (matrix.length - 1)) return -1;\r\n\t\treturn matrix[row + 1][column];\r\n\t}\r\n\r\n  // Unused in this example. In case someone need it.\r\n\tprivate static final int getIndex(final int row, final int column)\r\n\t{\r\n\t\treturn row * MAX_COLUMNS + column;\r\n\t}\r\n\r\n}\r\n```","title":"How to check if 2 elements are adjacent to one another in 2D array","body":"<p>Here is an example that might gives an idea. But you still have to do some coding though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    private static final int MAX_COLUMNS = 3; //matrix[0].length\n\n    public static void main(String[] args)\n    {\n        final int[][] matrix = {\n            { 1, 2, 3 },\n            { 4, 5, 6 },\n            { 7, 8, 9 },\n        };\n\n        for(int i=1; i &lt;= 9; ++i) {\n            final int start = i;\n            //final int target = 7;\n\n            final int row = getRow(start - 1);\n            final int column = getColumn(start - 1);\n\n            final int left = getLeft(matrix, row, column);\n            final int top = getTop(matrix, row, column);\n            final int right = getRight(matrix, row, column);\n            final int bottom = getBottom(matrix, row, column);\n\n            System.out.printf(&quot;[%d] L: %2d, T: %2d, R: %2d, B: %2d%n&quot;, start, left, top, right, bottom);\n\n            //[1] L: -1, T: -1, R:  2, B:  4\n            //[2] L:  1, T: -1, R:  3, B:  5\n            //[3] L:  2, T: -1, R: -1, B:  6\n            //[4] L: -1, T:  1, R:  5, B:  7\n            //[5] L:  4, T:  2, R:  6, B:  8\n            //[6] L:  5, T:  3, R: -1, B:  9\n            //[7] L: -1, T:  4, R:  8, B: -1\n            //[8] L:  7, T:  5, R:  9, B: -1\n            //[9] L:  8, T:  6, R: -1, B: -1\n        }\n    }\n\n    private static final int getColumn(final int index)\n    {\n        return (index % MAX_COLUMNS);\n    }\n\n    private static final int getRow(final int index)\n    {\n        return (index / MAX_COLUMNS);\n    }\n    \n    private static final int getLeft(final int[][] matrix, final int row, final int column)\n    {\n        if(column == 0) return -1;\n        return matrix[row][column - 1];\n    }\n    \n    private static final int getTop(final int[][] matrix, final int row, final int column)\n    {\n        if(row == 0) return -1;\n        return matrix[row - 1][column];\n    }\n    \n    private static final int getRight(final int[][] matrix, final int row, final int column)\n    {\n        if(column == (MAX_COLUMNS - 1)) return -1;\n        return matrix[row][column + 1];\n    }\n    \n    private static final int getBottom(final int[][] matrix, final int row, final int column)\n    {\n        if(row == (matrix.length - 1)) return -1;\n        return matrix[row + 1][column];\n    }\n\n  // Unused in this example. In case someone need it.\n    private static final int getIndex(final int row, final int column)\n    {\n        return row * MAX_COLUMNS + column;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634932892,"creation_date":1634932507,"answer_id":69682434,"question_id":69681858,"body_markdown":"If your `start` element is in the matrix there are 4 possible spots to check for your `destination` element: `LEFT, RIGHT, UP, DOWN`. You could just add a variable which is set by default to false and check the 4 spots keeping in mind to don&#39;t get out of bounds:\r\n\r\n    public static double check(int start, int destination) {\r\n        for (int row = 0; row &lt; matrix.length; row++) {\r\n            for (int col = 0; col &lt; matrix[0].length; col++) {\r\n                // check if the start integer is in the matrix\r\n                if (matrix[row][col] == start) {\r\n                    // check if destination integer is adjacent to starting integer:\r\n                    boolean destIsAdj = false;\r\n                    //left\r\n                    if (col - 1 &gt; 0 &amp;&amp; matrix[row][col-1] == destination) \r\n                        destIsAdj = true;\r\n                    //right\r\n                    else if (col + 1 &lt; matrix[0].length &amp;&amp; matrix[row][col+1] == destination) \r\n                        destIsAdj = true;\r\n                    //up\r\n                    else if (row - 1 &gt; 0 &amp;&amp; matrix[row-1][col] == destination) \r\n                        destIsAdj = true;\r\n                    //down\r\n                    else if (row + 1 &lt; matrix.length &amp;&amp; matrix[row+1][col] == destination) \r\n                        destIsAdj = true;\r\n\r\n                    if (destIsAdj){\r\n                        // adjacent! do something\r\n                    }\r\n                    else {\r\n                        // not adjacent! do something else\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return 0.0;\r\n    }","title":"How to check if 2 elements are adjacent to one another in 2D array","body":"<p>If your <code>start</code> element is in the matrix there are 4 possible spots to check for your <code>destination</code> element: <code>LEFT, RIGHT, UP, DOWN</code>. You could just add a variable which is set by default to false and check the 4 spots keeping in mind to don't get out of bounds:</p>\n<pre><code>public static double check(int start, int destination) {\n    for (int row = 0; row &lt; matrix.length; row++) {\n        for (int col = 0; col &lt; matrix[0].length; col++) {\n            // check if the start integer is in the matrix\n            if (matrix[row][col] == start) {\n                // check if destination integer is adjacent to starting integer:\n                boolean destIsAdj = false;\n                //left\n                if (col - 1 &gt; 0 &amp;&amp; matrix[row][col-1] == destination) \n                    destIsAdj = true;\n                //right\n                else if (col + 1 &lt; matrix[0].length &amp;&amp; matrix[row][col+1] == destination) \n                    destIsAdj = true;\n                //up\n                else if (row - 1 &gt; 0 &amp;&amp; matrix[row-1][col] == destination) \n                    destIsAdj = true;\n                //down\n                else if (row + 1 &lt; matrix.length &amp;&amp; matrix[row+1][col] == destination) \n                    destIsAdj = true;\n\n                if (destIsAdj){\n                    // adjacent! do something\n                }\n                else {\n                    // not adjacent! do something else\n                }\n            }\n        }\n    }\n    return 0.0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634982348,"creation_date":1634944572,"answer_id":69683947,"question_id":69681858,"body_markdown":"If the contents of the matrix is known to contain only the numbers in the range `[min..max)` within the dimensions `rows x cols`, it may be better to check if both `start` and `destination` belong to this range and that they have to be different (self-adjacent is ignored).\r\n\r\nUsing `start` value it is possible to calculate `row` and `col` values.\r\n\r\nAnd last check if destination is in adjacent cells.\r\n\r\nNote: the method should return boolean `true` if the `start` and `destination` are adjacent, `false` otherwise.\r\n\r\n```java\r\n// default matrix 3x3, starting from 0\r\npublic static boolean check(int start, int destination) {\r\n    return check(start, destination, 3);\r\n}\r\n\r\n// square matrix n x n, starting from 0\r\npublic static boolean check(int start, int destination, int n) {\r\n    return check(start, destination, 0, n, n);\r\n}\r\n\r\n// rectangular matrix rows x cols, starting from 0\r\npublic static boolean check(int start, int destination, int rows, int cols) {\r\n    return check(start, destination, 0, rows, cols);\r\n}\r\n\r\n// rectangular matrix rows x cols, starting from min\r\npublic static boolean check(int start, int destination, int min, int rows, int cols) {\r\n    int max = min + rows * cols - 1;\r\n    if (start &lt; min || start &gt; max || destination &lt; min || destination &gt; max || start == destination) {\r\n        return false;\r\n    }\r\n    int rs = (start - min) / cols;\r\n    int cs = (start - min) % cols;\r\n\r\n    int rd = (destination - min) / cols;\r\n    int cd = (destination - min) % cols;\r\n    \r\n    return ((rs == rd + 1 || rd == rs + 1) &amp;&amp; (cs == cd))\r\n        || ((cs == cd + 1 || cd == cs + 1) &amp;&amp; (rs == rd));\r\n}    \r\n```\r\nTest (printing the matrix, and the adjacency map):\r\n```java\r\npublic static void matrix(int min, int rows, int cols) {\r\n    System.out.print(&quot; | &quot;);\r\n    for (int i = 0; i &lt; cols; i++) {\r\n        System.out.printf(&quot;%2d  &quot;, i);\r\n    }\r\n    System.out.println(&quot;\\n&quot; + &quot;=&quot;.repeat(1 + cols * 4));\r\n\r\n    int max = min + rows * cols;\r\n    for (int i = 0; i &lt; rows; i++) {\r\n        System.out.print(i + &quot;| &quot;);\r\n        for (int j = 0; j &lt; cols; j++) {\r\n            System.out.printf(&quot;%2d  &quot;, min + cols * i + j);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n\r\npublic static void adjacency(int min, int rows, int cols) {\r\n    int max = min + rows * cols;\r\n    System.out.printf(&quot;Range: [ %2d, %2d)%n&quot;, min, max);\r\n    System.out.print(&quot;  | &quot;);\r\n    for (int i = min; i &lt; max; i++) {\r\n        System.out.printf(&quot;%2d  &quot;, i);\r\n    }\r\n    System.out.println(&quot;\\n&quot; + &quot;=&quot;.repeat(4 + rows * cols * 4));\r\n    for (int i = min; i &lt; max; i++) {\r\n        System.out.printf(&quot;%2d| &quot;, i);\r\n        for (int j = min; j &lt; max; j++) {\r\n            System.out.printf(&quot;%2s  &quot;, check(i, j, min, rows, cols) ? &quot;Y&quot;: &quot;.&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\nTest:\r\n```\r\nint min = -4, rows = 3, cols = 4;\r\nmatrix(min, rows, cols);\r\nadjacency(min, rows, cols);\r\n```\r\nOutput:\r\n```\r\n |  0   1   2   3  \r\n=================\r\n0| -4  -3  -2  -1  \r\n1|  0   1   2   3  \r\n2|  4   5   6   7  \r\nRange: [ -4,  8)\r\n  | -4  -3  -2  -1   0   1   2   3   4   5   6   7  \r\n====================================================\r\n-4|  .   Y   .   .   Y   .   .   .   .   .   .   .  \r\n-3|  Y   .   Y   .   .   Y   .   .   .   .   .   .  \r\n-2|  .   Y   .   Y   .   .   Y   .   .   .   .   .  \r\n-1|  .   .   Y   .   .   .   .   Y   .   .   .   .  \r\n 0|  Y   .   .   .   .   Y   .   .   Y   .   .   .  \r\n 1|  .   Y   .   .   Y   .   Y   .   .   Y   .   .  \r\n 2|  .   .   Y   .   .   Y   .   Y   .   .   Y   .  \r\n 3|  .   .   .   Y   .   .   Y   .   .   .   .   Y  \r\n 4|  .   .   .   .   Y   .   .   .   .   Y   .   .  \r\n 5|  .   .   .   .   .   Y   .   .   Y   .   Y   .  \r\n 6|  .   .   .   .   .   .   Y   .   .   Y   .   Y  \r\n 7|  .   .   .   .   .   .   .   Y   .   .   Y   .  \r\n```\r\nfor min = 0, rows = 3, cols = 3:\r\n```\r\nRange: [  0,  9)\r\n  |  0   1   2   3   4   5   6   7   8  \r\n========================================\r\n 0|  .   Y   .   Y   .   .   .   .   .  \r\n 1|  Y   .   Y   .   Y   .   .   .   .  \r\n 2|  .   Y   .   .   .   Y   .   .   .  \r\n 3|  Y   .   .   .   Y   .   Y   .   .  \r\n 4|  .   Y   .   Y   .   Y   .   Y   .  \r\n 5|  .   .   Y   .   Y   .   .   .   Y  \r\n 6|  .   .   .   Y   .   .   .   Y   .  \r\n 7|  .   .   .   .   Y   .   Y   .   Y  \r\n 8|  .   .   .   .   .   Y   .   Y   .  \r\n```","title":"How to check if 2 elements are adjacent to one another in 2D array","body":"<p>If the contents of the matrix is known to contain only the numbers in the range <code>[min..max)</code> within the dimensions <code>rows x cols</code>, it may be better to check if both <code>start</code> and <code>destination</code> belong to this range and that they have to be different (self-adjacent is ignored).</p>\n<p>Using <code>start</code> value it is possible to calculate <code>row</code> and <code>col</code> values.</p>\n<p>And last check if destination is in adjacent cells.</p>\n<p>Note: the method should return boolean <code>true</code> if the <code>start</code> and <code>destination</code> are adjacent, <code>false</code> otherwise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// default matrix 3x3, starting from 0\npublic static boolean check(int start, int destination) {\n    return check(start, destination, 3);\n}\n\n// square matrix n x n, starting from 0\npublic static boolean check(int start, int destination, int n) {\n    return check(start, destination, 0, n, n);\n}\n\n// rectangular matrix rows x cols, starting from 0\npublic static boolean check(int start, int destination, int rows, int cols) {\n    return check(start, destination, 0, rows, cols);\n}\n\n// rectangular matrix rows x cols, starting from min\npublic static boolean check(int start, int destination, int min, int rows, int cols) {\n    int max = min + rows * cols - 1;\n    if (start &lt; min || start &gt; max || destination &lt; min || destination &gt; max || start == destination) {\n        return false;\n    }\n    int rs = (start - min) / cols;\n    int cs = (start - min) % cols;\n\n    int rd = (destination - min) / cols;\n    int cd = (destination - min) % cols;\n    \n    return ((rs == rd + 1 || rd == rs + 1) &amp;&amp; (cs == cd))\n        || ((cs == cd + 1 || cd == cs + 1) &amp;&amp; (rs == rd));\n}    \n</code></pre>\n<p>Test (printing the matrix, and the adjacency map):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void matrix(int min, int rows, int cols) {\n    System.out.print(&quot; | &quot;);\n    for (int i = 0; i &lt; cols; i++) {\n        System.out.printf(&quot;%2d  &quot;, i);\n    }\n    System.out.println(&quot;\\n&quot; + &quot;=&quot;.repeat(1 + cols * 4));\n\n    int max = min + rows * cols;\n    for (int i = 0; i &lt; rows; i++) {\n        System.out.print(i + &quot;| &quot;);\n        for (int j = 0; j &lt; cols; j++) {\n            System.out.printf(&quot;%2d  &quot;, min + cols * i + j);\n        }\n        System.out.println();\n    }\n}\n\npublic static void adjacency(int min, int rows, int cols) {\n    int max = min + rows * cols;\n    System.out.printf(&quot;Range: [ %2d, %2d)%n&quot;, min, max);\n    System.out.print(&quot;  | &quot;);\n    for (int i = min; i &lt; max; i++) {\n        System.out.printf(&quot;%2d  &quot;, i);\n    }\n    System.out.println(&quot;\\n&quot; + &quot;=&quot;.repeat(4 + rows * cols * 4));\n    for (int i = min; i &lt; max; i++) {\n        System.out.printf(&quot;%2d| &quot;, i);\n        for (int j = min; j &lt; max; j++) {\n            System.out.printf(&quot;%2s  &quot;, check(i, j, min, rows, cols) ? &quot;Y&quot;: &quot;.&quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>int min = -4, rows = 3, cols = 4;\nmatrix(min, rows, cols);\nadjacency(min, rows, cols);\n</code></pre>\n<p>Output:</p>\n<pre><code> |  0   1   2   3  \n=================\n0| -4  -3  -2  -1  \n1|  0   1   2   3  \n2|  4   5   6   7  \nRange: [ -4,  8)\n  | -4  -3  -2  -1   0   1   2   3   4   5   6   7  \n====================================================\n-4|  .   Y   .   .   Y   .   .   .   .   .   .   .  \n-3|  Y   .   Y   .   .   Y   .   .   .   .   .   .  \n-2|  .   Y   .   Y   .   .   Y   .   .   .   .   .  \n-1|  .   .   Y   .   .   .   .   Y   .   .   .   .  \n 0|  Y   .   .   .   .   Y   .   .   Y   .   .   .  \n 1|  .   Y   .   .   Y   .   Y   .   .   Y   .   .  \n 2|  .   .   Y   .   .   Y   .   Y   .   .   Y   .  \n 3|  .   .   .   Y   .   .   Y   .   .   .   .   Y  \n 4|  .   .   .   .   Y   .   .   .   .   Y   .   .  \n 5|  .   .   .   .   .   Y   .   .   Y   .   Y   .  \n 6|  .   .   .   .   .   .   Y   .   .   Y   .   Y  \n 7|  .   .   .   .   .   .   .   Y   .   .   Y   .  \n</code></pre>\n<p>for min = 0, rows = 3, cols = 3:</p>\n<pre><code>Range: [  0,  9)\n  |  0   1   2   3   4   5   6   7   8  \n========================================\n 0|  .   Y   .   Y   .   .   .   .   .  \n 1|  Y   .   Y   .   Y   .   .   .   .  \n 2|  .   Y   .   .   .   Y   .   .   .  \n 3|  Y   .   .   .   Y   .   Y   .   .  \n 4|  .   Y   .   Y   .   Y   .   Y   .  \n 5|  .   .   Y   .   Y   .   .   .   Y  \n 6|  .   .   .   Y   .   .   .   Y   .  \n 7|  .   .   .   .   Y   .   Y   .   Y  \n 8|  .   .   .   .   .   Y   .   Y   .  \n</code></pre>\n"}],"owner":{"account_id":9760121,"reputation":331,"user_id":7235481,"display_name":"Gentian Gashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1753,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69682434,"answer_count":3,"score":2,"last_activity_date":1634982348,"creation_date":1634928858,"question_id":69681858,"body_markdown":"I&#39;m trying to figure out how to take in 2 integer parameters, an initial integer referred to as &quot;start&quot; and a second integer referred to as &quot;destination&quot;. I&#39;m wanting to use both parameters from my method, first checking if the starting integer is within the matrix and then checking if the destination integer is adjacent within the 4 elements around it - (north, east, south, west).\r\n\r\nExample 1:\r\n\r\n![example1](https://i.stack.imgur.com/0Bbtg.png)\r\n\r\nIf the starting integer is (6), check whether the destination integer (7) is adjacent to the starting integer. If true then do something.\r\n\r\nExample 2:\r\n\r\n![example1](https://i.stack.imgur.com/ZijPF.png)\r\n\r\nIn this case if the starting integer = 4 and the destination integer = 2. The program would not consider these elements adjacent.\r\n\r\nInitialising array:\r\n\r\n\tint[][] matrix = {{0,1,2,}, \r\n\t\t\t\t\t  {3,4,5,}, \r\n\t\t\t\t\t  {6,7,8}};\r\nCheck method:\r\n\r\n    public static  double check(int start, int destination)\r\n    {\r\n\r\n\t    for(int row = 0; row &lt; matrix.length; row++)\r\n        {\r\n            for(int col = 0; col &lt; matrix[0].length; col++)\r\n            {\r\n                // check if the start integer is in the matrix\r\n                if(matrix[row][col] == start)\r\n                {\r\n                    // check if destination integer is adjacent to starting integer:\r\n                    if (destination is adjacent to start)\r\n                    {\r\n                       // do something\r\n                    }\r\n\r\n                }\r\n            }\r\n         }\r\n    }\r\n\r\nBear in mind, the matrix won&#39;t have duplicate numbers and will always stay the same.\r\n\r\nHow would I go about checking this?\r\n\r\nI&#39;ve spent a few hours looking at similar StackOverflow posts but I really can&#39;t seem to grasp the examples given. Could someone guide me through it?\r\n","title":"How to check if 2 elements are adjacent to one another in 2D array","body":"<p>I'm trying to figure out how to take in 2 integer parameters, an initial integer referred to as &quot;start&quot; and a second integer referred to as &quot;destination&quot;. I'm wanting to use both parameters from my method, first checking if the starting integer is within the matrix and then checking if the destination integer is adjacent within the 4 elements around it - (north, east, south, west).</p>\n<p>Example 1:</p>\n<p><img src=\"https://i.stack.imgur.com/0Bbtg.png\" alt=\"example1\" /></p>\n<p>If the starting integer is (6), check whether the destination integer (7) is adjacent to the starting integer. If true then do something.</p>\n<p>Example 2:</p>\n<p><img src=\"https://i.stack.imgur.com/ZijPF.png\" alt=\"example1\" /></p>\n<p>In this case if the starting integer = 4 and the destination integer = 2. The program would not consider these elements adjacent.</p>\n<p>Initialising array:</p>\n<pre><code>int[][] matrix = {{0,1,2,}, \n                  {3,4,5,}, \n                  {6,7,8}};\n</code></pre>\n<p>Check method:</p>\n<pre><code>public static  double check(int start, int destination)\n{\n\n    for(int row = 0; row &lt; matrix.length; row++)\n    {\n        for(int col = 0; col &lt; matrix[0].length; col++)\n        {\n            // check if the start integer is in the matrix\n            if(matrix[row][col] == start)\n            {\n                // check if destination integer is adjacent to starting integer:\n                if (destination is adjacent to start)\n                {\n                   // do something\n                }\n\n            }\n        }\n     }\n}\n</code></pre>\n<p>Bear in mind, the matrix won't have duplicate numbers and will always stay the same.</p>\n<p>How would I go about checking this?</p>\n<p>I've spent a few hours looking at similar StackOverflow posts but I really can't seem to grasp the examples given. Could someone guide me through it?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23114703,"reputation":5,"user_id":17222147,"display_name":"Yama Lomama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634980828,"creation_date":1634980828,"answer_id":69686753,"question_id":69681325,"body_markdown":"I found the answer to my question, you need to use onTouchListener. My code looks like this: \r\n\r\n    ImageView ballView;\r\n    float xDown = 0, yDown = 0;\r\n\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        getSupportActionBar().hide();\r\n\r\n\r\n        ballView = findViewById(R.id.ball);\r\n        ballView.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                switch (motionEvent.getActionMasked()) {\r\n\r\n                    ///пользователь просто прикоснулся к мячу\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        xDown = motionEvent.getX();\r\n                        yDown = motionEvent.getY();\r\n                        break;\r\n\r\n                    ///пользователь водит по экрану\r\n                    case MotionEvent.ACTION_MOVE:\r\n                        float movedX, movedY;\r\n                        movedX = motionEvent.getX();\r\n                        movedY = motionEvent.getY();\r\n\r\n                        float distanceX = movedX - xDown;\r\n                        float distanceY = movedY - yDown;\r\n\r\n                        ballView.setX(ballView.getX() + distanceX);\r\n                        ballView.setY(ballView.getY() + distanceY);\r\n\r\n                        break;\r\n                }\r\n\r\n\r\n                return true;\r\n            }\r\n        });\r\n","title":"How to track a touch on the screen","body":"<p>I found the answer to my question, you need to use onTouchListener. My code looks like this:</p>\n<pre><code>ImageView ballView;\nfloat xDown = 0, yDown = 0;\n\n@SuppressLint(&quot;ClickableViewAccessibility&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    getSupportActionBar().hide();\n\n\n    ballView = findViewById(R.id.ball);\n    ballView.setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View view, MotionEvent motionEvent) {\n            switch (motionEvent.getActionMasked()) {\n\n                ///пользователь просто прикоснулся к мячу\n                case MotionEvent.ACTION_DOWN:\n                    xDown = motionEvent.getX();\n                    yDown = motionEvent.getY();\n                    break;\n\n                ///пользователь водит по экрану\n                case MotionEvent.ACTION_MOVE:\n                    float movedX, movedY;\n                    movedX = motionEvent.getX();\n                    movedY = motionEvent.getY();\n\n                    float distanceX = movedX - xDown;\n                    float distanceY = movedY - yDown;\n\n                    ballView.setX(ballView.getX() + distanceX);\n                    ballView.setY(ballView.getY() + distanceY);\n\n                    break;\n            }\n\n\n            return true;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":23114703,"reputation":5,"user_id":17222147,"display_name":"Yama Lomama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69686753,"answer_count":1,"score":0,"last_activity_date":1634980828,"creation_date":1634925880,"question_id":69681325,"body_markdown":"I want to write a penalty shootout application, now I have set up the background and added the ball and the goalkeeper to the map. How do I make it so that when I tap on the screen, the ball follows my touch on the screen. How to do this? How to track the touch on the screen and enter the ball after my touch. \r\n\r\n**MainActivity.kt**\r\n``` \r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        window.decorView.systemUiVisibility =\r\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE or\r\n                    View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN or\r\n                    View.SYSTEM_UI_FLAG_FULLSCREEN\r\n    }\r\n``` \r\n\r\n**activity_main.xml**\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/main_bg&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ball&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/ball&quot;\r\n        app:layout_editor_absoluteX=&quot;150dp&quot;\r\n        app:layout_editor_absoluteY=&quot;500dp&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        app:layout_editor_absoluteX=&quot;125dp&quot;\r\n        app:layout_editor_absoluteY=&quot;300dp&quot;\r\n        android:src=&quot;@drawable/goalkeeper&quot;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n``` \r\n[Screen app][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ySyb3.jpg","title":"How to track a touch on the screen","body":"<p>I want to write a penalty shootout application, now I have set up the background and added the ball and the goalkeeper to the map. How do I make it so that when I tap on the screen, the ball follows my touch on the screen. How to do this? How to track the touch on the screen and enter the ball after my touch.</p>\n<p><strong>MainActivity.kt</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        window.decorView.systemUiVisibility =\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE or\n                    View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN or\n                    View.SYSTEM_UI_FLAG_FULLSCREEN\n    }\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/main_bg&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/ball&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ball&quot;\n        app:layout_editor_absoluteX=&quot;150dp&quot;\n        app:layout_editor_absoluteY=&quot;500dp&quot;\n        tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;150dp&quot;\n        app:layout_editor_absoluteX=&quot;125dp&quot;\n        app:layout_editor_absoluteY=&quot;300dp&quot;\n        android:src=&quot;@drawable/goalkeeper&quot;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ySyb3.jpg\" rel=\"nofollow noreferrer\">Screen app</a></p>\n"},{"tags":["java","apache-camel","camel-file"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":1,"creation_date":1635156764,"post_id":69686574,"comment_id":123211234,"body_markdown":"Since you seem to want to process a pair of files you could also check out [poll enrich](https://camel.apache.org/components/latest/eips/pollEnrich-eip.html) pattern to get **matching** xml file for your pdf or vice versa. For my understanding aggregation strategy using count with consumer endpoint accepting both pdf and xml files would trigger even with 2 pdf files or 2 xml files which might not be what you want.","body":"Since you seem to want to process a pair of files you could also check out <a href=\"https://camel.apache.org/components/latest/eips/pollEnrich-eip.html\" rel=\"nofollow noreferrer\">poll enrich</a> pattern to get <b>matching</b> xml file for your pdf or vice versa. For my understanding aggregation strategy using count with consumer endpoint accepting both pdf and xml files would trigger even with 2 pdf files or 2 xml files which might not be what you want."},{"owner":{"account_id":3398370,"reputation":741,"user_id":4854090,"display_name":"dev-random"},"score":0,"creation_date":1635362769,"post_id":69686574,"comment_id":123280865,"body_markdown":"Hi @Pasi&#214;sterman, your answer is slightly off-topic but nonetheless interesting. So you would recommend something like: https://gist.github.com/zregvart/982ba400978349c1dd60412484d91038 ?\n\nThis question is specifically about why the File component doesn&#39;t move the file to the .error folder when an exception is thrown _after_ the aggregation although this works when an exception is thrown _before_ the aggregation.","body":"Hi @Pasi&#214;sterman, your answer is slightly off-topic but nonetheless interesting. So you would recommend something like: <a href=\"https://gist.github.com/zregvart/982ba400978349c1dd60412484d91038\" rel=\"nofollow noreferrer\">gist.github.com/zregvart/982ba400978349c1dd60412484d91038</a> ?  This question is specifically about why the File component doesn&#39;t move the file to the .error folder when an exception is thrown <i>after</i> the aggregation although this works when an exception is thrown <i>before</i> the aggregation."},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":1,"creation_date":1635489738,"post_id":69686574,"comment_id":123317015,"body_markdown":"That&#39;s why it&#39;s a comment not an answer, as for your link yeah something like that but you can keep both files separate ifyou wish by for example adding them both to a list, array or object. As for aggregate problem it probably cuts the connection to the original consumer endpoint as it&#39;s kinda &quot;consumer endpoint&quot; of it&#39;s own creating and eventually consuming aggregated message based on the strategy given. Don&#39;t know if there&#39;s option for it to support your use case.","body":"That&#39;s why it&#39;s a comment not an answer, as for your link yeah something like that but you can keep both files separate ifyou wish by for example adding them both to a list, array or object. As for aggregate problem it probably cuts the connection to the original consumer endpoint as it&#39;s kinda &quot;consumer endpoint&quot; of it&#39;s own creating and eventually consuming aggregated message based on the strategy given. Don&#39;t know if there&#39;s option for it to support your use case."}],"owner":{"account_id":3398370,"reputation":741,"user_id":4854090,"display_name":"dev-random"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634979302,"creation_date":1634979302,"question_id":69686574,"body_markdown":"My goal is to move a pdf and a xml file from an input to an output folder when both files are available in the input folder. If one file is not available it should retry a couple of times and then move the file to an .error folder.\r\n\r\nI noticed that the File component&#39;s error handling seems to be affected by the aggregator and I don&#39;t know how exactly:\r\n\r\nWhen throwing an exception after the aggregation, the File component moves the file to the .done folder instead of the .error folder, see (2) in code.\r\nHowever, when throwing the exception *before* the aggregation it works as expected, see (1).\r\n\r\nMy questions are:\r\n1. What is missing to make (2) work?\r\n2. Is it possible to achieve the same without throwing an exception? There&#39;s the [discardOnCompletionTimeout](https://camel.apache.org/components/latest/eips/aggregate-eip.html#_aggregator_options) option but this doesn&#39;t work for me as well.\r\n\r\n```\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Expression;\r\nimport org.apache.camel.RoutesBuilder;\r\nimport org.apache.camel.builder.AggregationStrategies;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.apache.camel.component.mock.MockEndpoint;\r\nimport org.apache.camel.test.junit5.CamelTestSupport;\r\nimport org.apache.commons.io.FilenameUtils;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.io.TempDir;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.ArrayList;\r\n\r\npublic class SimpleMockTest extends CamelTestSupport {\r\n    public static final int COMPLETION_TIMEOUT = 1000;\r\n\r\n    @TempDir\r\n    Path tempDir;\r\n\r\n    @Test\r\n    public void exceptionAfterAggregation() throws Exception {\r\n        final MockEndpoint mockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n        mockEndpoint.setResultWaitTime(COMPLETION_TIMEOUT * 3);\r\n        mockEndpoint.expectedFileExists(tempDir.resolve(&quot;.done/willMoveToDone.xml&quot;));\r\n        mockEndpoint.expectedFileExists(tempDir.resolve(&quot;.done/willMoveToDone.pdf&quot;));\r\n        mockEndpoint.expectedFileExists(tempDir.resolve(&quot;.error/shouldMoveToError.xml&quot;)); // this fails\r\n\r\n        createFile(&quot;willMoveToDone.xml&quot;, &quot;&lt;xml&gt;1&lt;/xml&gt;&quot;);\r\n        createFile(&quot;willMoveToDone.pdf&quot;, &quot;pdfFileContent&quot;);\r\n        createFile(&quot;shouldMoveToError.xml&quot;, &quot;&lt;xml&gt;2&lt;/xml&gt;&quot;);\r\n\r\n        mockEndpoint.assertIsSatisfied();\r\n    }\r\n\r\n    @Override\r\n    protected RoutesBuilder createRouteBuilder() {\r\n        return new RouteBuilder() {\r\n            @Override\r\n            public void configure() {\r\n                from(&quot;file://&quot; + tempDir + &quot;?include=.*\\\\.(xml|pdf)&amp;moveFailed=.error&amp;move=.done&quot;)\r\n//                        .process(exchange -&gt; {\r\n//                            throw new RuntimeException(&quot;Files would be moved to .error as expected&quot;);     // (1)\r\n//                        })\r\n                        .aggregate(CORRELATION_EXPRESSION, AggregationStrategies.flexible().accumulateInCollection(ArrayList.class))\r\n                        .completionTimeout(COMPLETION_TIMEOUT)\r\n                        .completionSize(2)\r\n\r\n                        .choice()\r\n                            .when(simple(&quot;${body.size()} != 2&quot;))\r\n                                .throwException(RuntimeException.class, &quot;Why doesn&#39;t the File component move this file to .error?&quot;)     // (2)\r\n                        .otherwise()\r\n                            .to(&quot;mock:result&quot;)\r\n                        .routeId(&quot;fileAggregationRoute&quot;);\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n    private final Expression CORRELATION_EXPRESSION = new Expression() {\r\n        @Override\r\n        public &lt;T&gt; T evaluate(Exchange exchange, Class&lt;T&gt; type) {\r\n            final String fileName = exchange.getIn().getHeader(Exchange.FILE_NAME, String.class);\r\n            final String correlationExpression = FilenameUtils.getBaseName(fileName);\r\n            return exchange.getContext().getTypeConverter().convertTo(\r\n                    type,\r\n                    correlationExpression\r\n            );\r\n        }\r\n    };\r\n\r\n    private void createFile(String filename, String content) throws IOException {\r\n        final File xmlFile = tempDir.resolve(filename).toFile();\r\n        Files.write(xmlFile.toPath(), content.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;camel-playground&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;my-app&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.3&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-test-junit5&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"Apache Camel File Component: Exception after aggregation should move file to .error folder","body":"<p>My goal is to move a pdf and a xml file from an input to an output folder when both files are available in the input folder. If one file is not available it should retry a couple of times and then move the file to an .error folder.</p>\n<p>I noticed that the File component's error handling seems to be affected by the aggregator and I don't know how exactly:</p>\n<p>When throwing an exception after the aggregation, the File component moves the file to the .done folder instead of the .error folder, see (2) in code.\nHowever, when throwing the exception <em>before</em> the aggregation it works as expected, see (1).</p>\n<p>My questions are:</p>\n<ol>\n<li>What is missing to make (2) work?</li>\n<li>Is it possible to achieve the same without throwing an exception? There's the <a href=\"https://camel.apache.org/components/latest/eips/aggregate-eip.html#_aggregator_options\" rel=\"nofollow noreferrer\">discardOnCompletionTimeout</a> option but this doesn't work for me as well.</li>\n</ol>\n<pre><code>import org.apache.camel.Exchange;\nimport org.apache.camel.Expression;\nimport org.apache.camel.RoutesBuilder;\nimport org.apache.camel.builder.AggregationStrategies;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.junit5.CamelTestSupport;\nimport org.apache.commons.io.FilenameUtils;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.io.TempDir;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\n\npublic class SimpleMockTest extends CamelTestSupport {\n    public static final int COMPLETION_TIMEOUT = 1000;\n\n    @TempDir\n    Path tempDir;\n\n    @Test\n    public void exceptionAfterAggregation() throws Exception {\n        final MockEndpoint mockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n        mockEndpoint.setResultWaitTime(COMPLETION_TIMEOUT * 3);\n        mockEndpoint.expectedFileExists(tempDir.resolve(&quot;.done/willMoveToDone.xml&quot;));\n        mockEndpoint.expectedFileExists(tempDir.resolve(&quot;.done/willMoveToDone.pdf&quot;));\n        mockEndpoint.expectedFileExists(tempDir.resolve(&quot;.error/shouldMoveToError.xml&quot;)); // this fails\n\n        createFile(&quot;willMoveToDone.xml&quot;, &quot;&lt;xml&gt;1&lt;/xml&gt;&quot;);\n        createFile(&quot;willMoveToDone.pdf&quot;, &quot;pdfFileContent&quot;);\n        createFile(&quot;shouldMoveToError.xml&quot;, &quot;&lt;xml&gt;2&lt;/xml&gt;&quot;);\n\n        mockEndpoint.assertIsSatisfied();\n    }\n\n    @Override\n    protected RoutesBuilder createRouteBuilder() {\n        return new RouteBuilder() {\n            @Override\n            public void configure() {\n                from(&quot;file://&quot; + tempDir + &quot;?include=.*\\\\.(xml|pdf)&amp;moveFailed=.error&amp;move=.done&quot;)\n//                        .process(exchange -&gt; {\n//                            throw new RuntimeException(&quot;Files would be moved to .error as expected&quot;);     // (1)\n//                        })\n                        .aggregate(CORRELATION_EXPRESSION, AggregationStrategies.flexible().accumulateInCollection(ArrayList.class))\n                        .completionTimeout(COMPLETION_TIMEOUT)\n                        .completionSize(2)\n\n                        .choice()\n                            .when(simple(&quot;${body.size()} != 2&quot;))\n                                .throwException(RuntimeException.class, &quot;Why doesn't the File component move this file to .error?&quot;)     // (2)\n                        .otherwise()\n                            .to(&quot;mock:result&quot;)\n                        .routeId(&quot;fileAggregationRoute&quot;);\n            }\n\n        };\n    }\n\n    private final Expression CORRELATION_EXPRESSION = new Expression() {\n        @Override\n        public &lt;T&gt; T evaluate(Exchange exchange, Class&lt;T&gt; type) {\n            final String fileName = exchange.getIn().getHeader(Exchange.FILE_NAME, String.class);\n            final String correlationExpression = FilenameUtils.getBaseName(fileName);\n            return exchange.getContext().getTypeConverter().convertTo(\n                    type,\n                    correlationExpression\n            );\n        }\n    };\n\n    private void createFile(String filename, String content) throws IOException {\n        final File xmlFile = tempDir.resolve(filename).toFile();\n        Files.write(xmlFile.toPath(), content.getBytes(StandardCharsets.UTF_8));\n    }\n}\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;camel-playground&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;my-app&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\n        &lt;version&gt;3.11.3&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-test-junit5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n      &lt;version&gt;1.7.32&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n      &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1634975678,"post_id":69686116,"comment_id":123175654,"body_markdown":"simply not running or giving errors for specific input? cause it&#39;s working for me.","body":"simply not running or giving errors for specific input? cause it&#39;s working for me."},{"owner":{"account_id":13669590,"reputation":5,"user_id":17225886,"display_name":"Arzidal"},"score":0,"creation_date":1634976224,"post_id":69686116,"comment_id":123175755,"body_markdown":"The program that tests my solutions puts in values by itself and in the console i get :\n```\nException in thread &quot;main&quot; java.util.InputMismatchException\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n\tat SalaryCountingWithMethods.askHours(SalaryCountingWithMethods.java:29)\n\tat SalaryCountingWithMethods.main(SalaryCountingWithMethods.java:14)\n```","body":"The program that tests my solutions puts in values by itself and in the console i get : ``` Exception in thread &quot;main&quot; java.util.InputMismatchException \tat java.base/java.util.Scanner.throwFor(Scanner.java:939) \tat java.base/java.util.Scanner.next(Scanner.java:1594) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212) \tat SalaryCountingWithMethods.askHours(SalaryCountingWithMethods&zwnj;&#8203;.java:29) \tat SalaryCountingWithMethods.main(SalaryCountingWithMethods.jav&zwnj;&#8203;a:14) ```"},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1634976335,"post_id":69686116,"comment_id":123175777,"body_markdown":"ok, what values is it putting?any example?","body":"ok, what values is it putting?any example?"}],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634976801,"creation_date":1634976583,"answer_id":69686258,"question_id":69686116,"body_markdown":"*The class SalaryCountingWithMethods below asks for three floating point numbers*&lt;br&gt;\r\nThe issue might be you are dealing with floating-point numbers but the methods you are defining are accepting `integer` input. This will cause `java.util.InputMismatchException` error when you give double instead of integer.\r\n````\r\nprivate static int askHours(){\r\n   System.out.print(&quot;Type in the number of work hours: &quot;);\r\n   int hours = reader.nextInt();\r\n   return hours;\r\n}\r\n````\r\nYou should accept double as input not integer.\r\n````\r\nprivate static double askHours(){\r\n   System.out.print(&quot;Type in the number of work hours: &quot;);\r\n   double hours = reader.nextDouble();\r\n   return hours;\r\n}\r\n````\r\nYou should do the same for other two methods `askSalaryPerHour()` and `askTaxPercent()`.","title":"Issue with addressing variables from different method","body":"<p><em>The class SalaryCountingWithMethods below asks for three floating point numbers</em><br>\nThe issue might be you are dealing with floating-point numbers but the methods you are defining are accepting <code>integer</code> input. This will cause <code>java.util.InputMismatchException</code> error when you give double instead of integer.</p>\n<pre><code>private static int askHours(){\n   System.out.print(&quot;Type in the number of work hours: &quot;);\n   int hours = reader.nextInt();\n   return hours;\n}\n</code></pre>\n<p>You should accept double as input not integer.</p>\n<pre><code>private static double askHours(){\n   System.out.print(&quot;Type in the number of work hours: &quot;);\n   double hours = reader.nextDouble();\n   return hours;\n}\n</code></pre>\n<p>You should do the same for other two methods <code>askSalaryPerHour()</code> and <code>askTaxPercent()</code>.</p>\n"}],"owner":{"account_id":13669590,"reputation":5,"user_id":17225886,"display_name":"Arzidal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69686258,"answer_count":1,"score":0,"last_activity_date":1634979001,"creation_date":1634975153,"question_id":69686116,"body_markdown":"I am just learning to code in Java and ran into a problem.\r\nThe task description was following: &quot;The class SalaryCountingWithMethods below asks for three floating point numbers (work hours, salary per hour and tax percent) and then counts the salary before and after taxes as well as the tax part of the salary based on the information given to the program.&quot;\r\nI have been stuck on the problem for days now and i just cannot find a solution.\r\nThis is my progress so far: \r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class SalaryCountingWithMethods {\r\n    public static void main (String [] args) {\r\n        double hours, salaryPerHour, taxPercent, taxlessSalary, taxPart;\r\n \r\n        hours =  askHours();\r\n        salaryPerHour = askSalaryPerHour();\r\n        taxPercent = askTaxPercent();\r\n        \r\n        taxlessSalary = countTaxlessSalary(hours, salaryPerHour);\r\n \r\n        taxPart = taxlessSalary * taxPercent /100;\r\n \r\n        System.out.println(&quot;\\nSalary before taxes: &quot; + taxlessSalary);\r\n        System.out.println(&quot;Tax part of the salary: &quot; + taxPart);\r\n        System.out.println(&quot;Salary after taxes: &quot; + (taxlessSalary-taxPart));        \r\n    }\r\nstatic Scanner reader = new Scanner(System.in);\r\n    private static int askHours(){\r\n        System.out.print(&quot;Type in the number of work hours: &quot;);\r\n        int hours = reader.nextInt();\r\n        return hours;\r\n        }\r\n    \r\n    private static int askSalaryPerHour(){\r\n        System.out.print(&quot;Type in salary per hour: &quot;);\r\n        int perHour = reader.nextInt();\r\n        return perHour;\r\n        }\r\n        \r\n    public static int askTaxPercent(){\r\n        \r\n        System.out.print(&quot;Type in the number of work hours: &quot;);\r\n        int taxPercent = reader.nextInt();\r\n        return taxPercent;\r\n        }\r\nprivate static double countTaxlessSalary(double hours, double salaryPerHour){\r\n\tdouble taxPercent = 0;\r\n\tdouble fullSalary = (float)hours * (float)salaryPerHour;\r\n\tdouble taxPart = (float)fullSalary * (float)taxPercent /100;\r\n\tdouble taxLess = (float)fullSalary - (float)taxPart;\r\n\treturn taxLess;\r\n\t}\r\n}\r\n```\r\nand i am getting the following error: \r\n```\r\nYour program returned a none-zero value. You should return 0 from the main() function.\r\nException in thread &quot;main&quot; java.util.InputMismatchException at java.base/java.util.Scanner.throwFor(Scanner.java:939) at java.base/java.util.Scanner.next(Scanner.java:1594) at java.base/java.util.Scanner.nextInt(Scanner.java:2258) at java.base/java.util.Scanner.nextInt(Scanner.java:2212) at SalaryCountingWithMethods.askHours(SalaryCountingWithMethods.java:29) at SalaryCountingWithMethods.main(SalaryCountingWithMethods.java:14)\r\n```                                       \r\n","title":"Issue with addressing variables from different method","body":"<p>I am just learning to code in Java and ran into a problem.\nThe task description was following: &quot;The class SalaryCountingWithMethods below asks for three floating point numbers (work hours, salary per hour and tax percent) and then counts the salary before and after taxes as well as the tax part of the salary based on the information given to the program.&quot;\nI have been stuck on the problem for days now and i just cannot find a solution.\nThis is my progress so far:</p>\n<pre><code>import java.util.Scanner;\npublic class SalaryCountingWithMethods {\n    public static void main (String [] args) {\n        double hours, salaryPerHour, taxPercent, taxlessSalary, taxPart;\n \n        hours =  askHours();\n        salaryPerHour = askSalaryPerHour();\n        taxPercent = askTaxPercent();\n        \n        taxlessSalary = countTaxlessSalary(hours, salaryPerHour);\n \n        taxPart = taxlessSalary * taxPercent /100;\n \n        System.out.println(&quot;\\nSalary before taxes: &quot; + taxlessSalary);\n        System.out.println(&quot;Tax part of the salary: &quot; + taxPart);\n        System.out.println(&quot;Salary after taxes: &quot; + (taxlessSalary-taxPart));        \n    }\nstatic Scanner reader = new Scanner(System.in);\n    private static int askHours(){\n        System.out.print(&quot;Type in the number of work hours: &quot;);\n        int hours = reader.nextInt();\n        return hours;\n        }\n    \n    private static int askSalaryPerHour(){\n        System.out.print(&quot;Type in salary per hour: &quot;);\n        int perHour = reader.nextInt();\n        return perHour;\n        }\n        \n    public static int askTaxPercent(){\n        \n        System.out.print(&quot;Type in the number of work hours: &quot;);\n        int taxPercent = reader.nextInt();\n        return taxPercent;\n        }\nprivate static double countTaxlessSalary(double hours, double salaryPerHour){\n    double taxPercent = 0;\n    double fullSalary = (float)hours * (float)salaryPerHour;\n    double taxPart = (float)fullSalary * (float)taxPercent /100;\n    double taxLess = (float)fullSalary - (float)taxPart;\n    return taxLess;\n    }\n}\n</code></pre>\n<p>and i am getting the following error:</p>\n<pre><code>Your program returned a none-zero value. You should return 0 from the main() function.\nException in thread &quot;main&quot; java.util.InputMismatchException at java.base/java.util.Scanner.throwFor(Scanner.java:939) at java.base/java.util.Scanner.next(Scanner.java:1594) at java.base/java.util.Scanner.nextInt(Scanner.java:2258) at java.base/java.util.Scanner.nextInt(Scanner.java:2212) at SalaryCountingWithMethods.askHours(SalaryCountingWithMethods.java:29) at SalaryCountingWithMethods.main(SalaryCountingWithMethods.java:14)\n</code></pre>\n"},{"tags":["java","list","multidimensional-array","reverse","sublist"],"answers":[{"tags":[],"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634974025,"creation_date":1634974025,"answer_id":69686009,"question_id":69685693,"body_markdown":"You are overcomplicating your code with unnecessary variables that makes it difficult to find the problem. Please se a more simple code with explanation:\r\n\r\n    public static void main(String[] args) {\r\n    \tList&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\r\n    \tList&lt;List&lt;Integer&gt;&gt; operations = new ArrayList&lt;&gt;(2);\r\n        // Initialize your operations\r\n    \toperations.add(Arrays.asList(0,1));\r\n    \toperations.add(Arrays.asList(1,3));\r\n    \tsubList(list, operations);\r\n    }\r\n    public static void subList (List&lt;Integer&gt; list, List&lt;List&lt;Integer&gt;&gt; operations) {\r\n        // You just iterate over the operations\r\n    \tfor (List&lt;Integer&gt; operation : operations) {\r\n            // For each operation, store left and right indexes.\r\n    \t\tint left = operation.get(0);\r\n    \t\tint right = operation.get(1);\r\n            // Iterate until both indexes find each other\r\n    \t\twhile (left &lt; right) {\r\n                // Swap left and right elements in input list\r\n    \t\t\tint aux = list.get(left);\r\n    \t\t\tlist.set(left, list.get(right));\r\n    \t\t\tlist.set(right, aux);\r\n\r\n                // Now you move your indexes\r\n    \t\t\t++left;\r\n    \t\t\t--right;\r\n    \t\t}\r\n    \t}\r\n    \tSystem.out.println(list);\r\n    }\r\n\r\nPlease note that, depending on what the question asks, you may also need to verify if the operations indexes are within the list boundaries so you won&#39;t end up getting an ArrayIndexOutOfBoundsException. So be always careful with edge cases.","title":"Reverse subset of ArrayList using multidimensional ArrayList in Java","body":"<p>You are overcomplicating your code with unnecessary variables that makes it difficult to find the problem. Please se a more simple code with explanation:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\n    List&lt;List&lt;Integer&gt;&gt; operations = new ArrayList&lt;&gt;(2);\n    // Initialize your operations\n    operations.add(Arrays.asList(0,1));\n    operations.add(Arrays.asList(1,3));\n    subList(list, operations);\n}\npublic static void subList (List&lt;Integer&gt; list, List&lt;List&lt;Integer&gt;&gt; operations) {\n    // You just iterate over the operations\n    for (List&lt;Integer&gt; operation : operations) {\n        // For each operation, store left and right indexes.\n        int left = operation.get(0);\n        int right = operation.get(1);\n        // Iterate until both indexes find each other\n        while (left &lt; right) {\n            // Swap left and right elements in input list\n            int aux = list.get(left);\n            list.set(left, list.get(right));\n            list.set(right, aux);\n\n            // Now you move your indexes\n            ++left;\n            --right;\n        }\n    }\n    System.out.println(list);\n}\n</code></pre>\n<p>Please note that, depending on what the question asks, you may also need to verify if the operations indexes are within the list boundaries so you won't end up getting an ArrayIndexOutOfBoundsException. So be always careful with edge cases.</p>\n"},{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634977064,"creation_date":1634976221,"answer_id":69686228,"question_id":69685693,"body_markdown":"This can be done as simple as this.\r\n```java\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\t//Given a List&lt;Integer&gt; list and List&lt;List&lt;Integer&gt;&gt; operations\r\n\t\t//reverse the sublist and print out the list after all the operations have been done.\r\n\t\t//Ex: [5, 3, 2, 1, 3] \r\n\t\t//    [[0,1], [1, 3]]\r\n\t\t//Target: [3, 1, 2, 5, 3]\r\n\t\t\r\n\t\t//Steps:\r\n\t\t// 0  1  2  3  4 (Indices)\r\n\t\t//###############\r\n\t\t//[5, 3, 2, 1, 3]\r\n\t\t//[3, 5, 2, 1, 3] // Swap index of 0 and 1.\r\n\t\t//[3, 1, 2, 5, 3] // Swap index of 1 and 3.\r\n\t\t\r\n\t\tList&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\r\n\t\t\r\n\t\tList&lt;List&lt;Integer&gt;&gt; listOfList = new ArrayList&lt;List&lt;Integer&gt;&gt;(2);\r\n\t\tlistOfList.add(Arrays.asList(0, 1));\r\n\t\tlistOfList.add(Arrays.asList(1, 3));\r\n\t\t\r\n\t\tfor(int i=0; i &lt; listOfList.size(); ++i) {\r\n\t\t\tfinal int indexA = listOfList.get(i).get(0); //[0 , [1\r\n\t\t\tfinal int indexB = listOfList.get(i).get(1); // 1],  3]\r\n\t\t\t\r\n\t\t\t//Swap the indices.\r\n\t\t\tfinal int tmpValue = list.get(indexA);\r\n\t\t\tlist.set(indexA, list.get(indexB));\r\n\t\t\tlist.set(indexB, tmpValue);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(list);\r\n\t\t//[3, 1, 2, 5, 3]\r\n\t}\r\n}\r\n```","title":"Reverse subset of ArrayList using multidimensional ArrayList in Java","body":"<p>This can be done as simple as this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        //Given a List&lt;Integer&gt; list and List&lt;List&lt;Integer&gt;&gt; operations\n        //reverse the sublist and print out the list after all the operations have been done.\n        //Ex: [5, 3, 2, 1, 3] \n        //    [[0,1], [1, 3]]\n        //Target: [3, 1, 2, 5, 3]\n        \n        //Steps:\n        // 0  1  2  3  4 (Indices)\n        //###############\n        //[5, 3, 2, 1, 3]\n        //[3, 5, 2, 1, 3] // Swap index of 0 and 1.\n        //[3, 1, 2, 5, 3] // Swap index of 1 and 3.\n        \n        List&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\n        \n        List&lt;List&lt;Integer&gt;&gt; listOfList = new ArrayList&lt;List&lt;Integer&gt;&gt;(2);\n        listOfList.add(Arrays.asList(0, 1));\n        listOfList.add(Arrays.asList(1, 3));\n        \n        for(int i=0; i &lt; listOfList.size(); ++i) {\n            final int indexA = listOfList.get(i).get(0); //[0 , [1\n            final int indexB = listOfList.get(i).get(1); // 1],  3]\n            \n            //Swap the indices.\n            final int tmpValue = list.get(indexA);\n            list.set(indexA, list.get(indexB));\n            list.set(indexB, tmpValue);\n        }\n        \n        System.out.println(list);\n        //[3, 1, 2, 5, 3]\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634978391,"creation_date":1634977143,"answer_id":69686318,"question_id":69685693,"body_markdown":"You can get subset by [List.subList()](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#subList(int,int)) , and reverse by [Collections.reverse()](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)).\r\n\r\n    static void reverseSubsets(List&lt;Integer&gt; list, List&lt;List&lt;Integer&gt;&gt; subsets) {\r\n        for (List&lt;Integer&gt; subset : subsets)\r\n            Collections.reverse(list.subList(subset.get(0), subset.get(1) + 1));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\r\n        List&lt;List&lt;Integer&gt;&gt; subsets = List.of(List.of(0, 1), List.of(1, 3));\r\n        reverseSubsets(list, subsets);\r\n        System.out.println(list);\r\n    }\r\n\r\noutput:\r\n\r\n    [3, 1, 2, 5, 3]\r\n\r\n**Note:**\r\n`toIndex` in [List.subList(int fromIndex, int toIndex)](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#subList(int,int)) is exclusive high endpoint of the subList. So you must add 1 to `subset.get(1)`.","title":"Reverse subset of ArrayList using multidimensional ArrayList in Java","body":"<p>You can get subset by <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\">List.subList()</a> , and reverse by <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"nofollow noreferrer\">Collections.reverse()</a>.</p>\n<pre><code>static void reverseSubsets(List&lt;Integer&gt; list, List&lt;List&lt;Integer&gt;&gt; subsets) {\n    for (List&lt;Integer&gt; subset : subsets)\n        Collections.reverse(list.subList(subset.get(0), subset.get(1) + 1));\n}\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\n    List&lt;List&lt;Integer&gt;&gt; subsets = List.of(List.of(0, 1), List.of(1, 3));\n    reverseSubsets(list, subsets);\n    System.out.println(list);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[3, 1, 2, 5, 3]\n</code></pre>\n<p><strong>Note:</strong>\n<code>toIndex</code> in <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\">List.subList(int fromIndex, int toIndex)</a> is exclusive high endpoint of the subList. So you must add 1 to <code>subset.get(1)</code>.</p>\n"}],"owner":{"account_id":17938786,"reputation":7,"user_id":13034566,"display_name":"NewDev_X606"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69686228,"answer_count":3,"score":0,"last_activity_date":1634978391,"creation_date":1634970373,"question_id":69685693,"body_markdown":"I am trying to reverse a sublist in a List using the indices provided in a multidimensional List. \r\nI don&#39;t have much experience using multidimensional lists/arrays. I don&#39;t understand why this doesn&#39;t work.\r\n\r\n ```\r\n/*\r\n    Given a List&lt;Integer&gt; list and List&lt;List&lt;Integer&gt;&gt; operations\r\n    reverse the sublist and print out the list after all the operations have been done.\r\n    Ex: [5, 3, 2, 1, 3]\r\n        [[0,1], [1, 3]]\r\n */\r\n\r\nimport java.util.*;\r\npublic class ReverseParameters {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\r\n        List&lt;List&lt;Integer&gt;&gt; operations = new ArrayList&lt;&gt;(2);\r\n        for(int i= 0; i &lt; 3; i++){\r\n            operations.add(new ArrayList&lt;&gt;());\r\n        }\r\n        operations.get(0).add(1);\r\n        operations.get(1).add(3);\r\n\r\n        subList(list, operations);\r\n    }\r\n    public static void subList (List&lt;Integer&gt; list, List&lt;List&lt;Integer&gt;&gt; operations) {\r\n        System.out.println(list);\r\n        int vertCount = operations.size();\r\n        for (int i = 0; i &lt; vertCount; i++) {\r\n            int edgeCount = operations.get(i).size();\r\n            for (int j = 0; j &lt; edgeCount; j++) {\r\n                int startInd = i;\r\n                int endInd = operations.get(i).get(j);\r\n                int shift = endInd - startInd;\r\n                int right = Math.min(i + shift - 1, list.size() - 1);\r\n                int temp = 0;\r\n                while (startInd &lt; right) {\r\n                    temp = list.get(startInd);\r\n                    list.set(startInd, list.get(right));\r\n                    list.set(right, temp);\r\n                    startInd+=1;\r\n                    right-=1;\r\n                }\r\n                System.out.println();\r\n                System.out.printf(&quot; %d %d%n&quot;, startInd, endInd);\r\n                System.out.println();\r\n            }\r\n        }\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\nThe output of this code using [[0,1], [1, 3]] as the indecies is:\r\n```\r\n[5, 2, 3, 1, 3]\r\n```\r\nbut it should be:\r\n```\r\n[3, 1, 2, 5, 3]\r\n```\r\nCan someone please help point me in the right direction?","title":"Reverse subset of ArrayList using multidimensional ArrayList in Java","body":"<p>I am trying to reverse a sublist in a List using the indices provided in a multidimensional List.\nI don't have much experience using multidimensional lists/arrays. I don't understand why this doesn't work.</p>\n<pre><code>/*\n   Given a List&lt;Integer&gt; list and List&lt;List&lt;Integer&gt;&gt; operations\n   reverse the sublist and print out the list after all the operations have been done.\n   Ex: [5, 3, 2, 1, 3]\n       [[0,1], [1, 3]]\n*/\n\nimport java.util.*;\npublic class ReverseParameters {\n   public static void main(String[] args) {\n       List&lt;Integer&gt; list = Arrays.asList(5, 3, 2, 1, 3);\n       List&lt;List&lt;Integer&gt;&gt; operations = new ArrayList&lt;&gt;(2);\n       for(int i= 0; i &lt; 3; i++){\n           operations.add(new ArrayList&lt;&gt;());\n       }\n       operations.get(0).add(1);\n       operations.get(1).add(3);\n\n       subList(list, operations);\n   }\n   public static void subList (List&lt;Integer&gt; list, List&lt;List&lt;Integer&gt;&gt; operations) {\n       System.out.println(list);\n       int vertCount = operations.size();\n       for (int i = 0; i &lt; vertCount; i++) {\n           int edgeCount = operations.get(i).size();\n           for (int j = 0; j &lt; edgeCount; j++) {\n               int startInd = i;\n               int endInd = operations.get(i).get(j);\n               int shift = endInd - startInd;\n               int right = Math.min(i + shift - 1, list.size() - 1);\n               int temp = 0;\n               while (startInd &lt; right) {\n                   temp = list.get(startInd);\n                   list.set(startInd, list.get(right));\n                   list.set(right, temp);\n                   startInd+=1;\n                   right-=1;\n               }\n               System.out.println();\n               System.out.printf(&quot; %d %d%n&quot;, startInd, endInd);\n               System.out.println();\n           }\n       }\n       System.out.println(list);\n   }\n}\n</code></pre>\n<p>The output of this code using [[0,1], [1, 3]] as the indecies is:</p>\n<pre><code>[5, 2, 3, 1, 3]\n</code></pre>\n<p>but it should be:</p>\n<pre><code>[3, 1, 2, 5, 3]\n</code></pre>\n<p>Can someone please help point me in the right direction?</p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1634927551,"post_id":69681518,"comment_id":123167693,"body_markdown":"Maybe something like `&quot;SELECT * FROM Employees ORDER BY last_name ASC&quot;`. I think these guides have what you want: [SQL ORDERBY](https://www.sqltutorial.org/sql-order-by/) and [JDBC ORDERBY tutorial](https://www.tutorialspoint.com/jdbc/jdbc-sorting-data.htm).","body":"Maybe something like <code>&quot;SELECT * FROM Employees ORDER BY last_name ASC&quot;</code>. I think these guides have what you want: <a href=\"https://www.sqltutorial.org/sql-order-by/\" rel=\"nofollow noreferrer\">SQL ORDERBY</a> and <a href=\"https://www.tutorialspoint.com/jdbc/jdbc-sorting-data.htm\" rel=\"nofollow noreferrer\">JDBC ORDERBY tutorial</a>."}],"answers":[{"tags":[],"owner":{"account_id":10118822,"reputation":191,"user_id":7476542,"display_name":"Sayandip Ghatak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634941379,"creation_date":1634941379,"answer_id":69683641,"question_id":69681518,"body_markdown":"If there is a separate column for last name then it is very much easy to achieve.\r\n\r\n    SELECT * FROM EMPLOYEE ORDER BY LAST_NAME ASC;\r\n\r\nIf there is only one column i.e. full name , then split the string from the last white space and extract the last name.\r\n\r\n    SELECT * FROM EMPLOYEE ORDER BY SUBSTR(FULL_NAME,INSTR(FULL_NAME,&#39; &#39;,-1)) ASC;","title":"Select all employees sorted by last name in ascending order","body":"<p>If there is a separate column for last name then it is very much easy to achieve.</p>\n<pre><code>SELECT * FROM EMPLOYEE ORDER BY LAST_NAME ASC;\n</code></pre>\n<p>If there is only one column i.e. full name , then split the string from the last white space and extract the last name.</p>\n<pre><code>SELECT * FROM EMPLOYEE ORDER BY SUBSTR(FULL_NAME,INSTR(FULL_NAME,' ',-1)) ASC;\n</code></pre>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":69683641,"answer_count":1,"score":0,"last_activity_date":1634977998,"creation_date":1634926959,"question_id":69681518,"body_markdown":"How can I implement SQL query in order to select all employees sorted by last name in ascending order in the following Java class:\r\n\r\n    public class SqlQueries {\r\n        //Select all employees sorted by last name in ascending order\r\n        //language=HSQLDB\r\n        String select = &quot;&quot;;\r\n    }","title":"Select all employees sorted by last name in ascending order","body":"<p>How can I implement SQL query in order to select all employees sorted by last name in ascending order in the following Java class:</p>\n<pre><code>public class SqlQueries {\n    //Select all employees sorted by last name in ascending order\n    //language=HSQLDB\n    String select = &quot;&quot;;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-fragments","android-menu"],"comments":[{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1609556350,"post_id":65535621,"comment_id":115866140,"body_markdown":"&quot;so their content and views do not dissapear when I switch between them&quot; i didn&#39;t quite get it , if you are putting a new fragment at the place of old one the old one will get disappear","body":"&quot;so their content and views do not dissapear when I switch between them&quot; i didn&#39;t quite get it , if you are putting a new fragment at the place of old one the old one will get disappear"},{"owner":{"account_id":13021243,"reputation":77,"user_id":9410596,"display_name":"Rajendra Mahato"},"score":0,"creation_date":1609568040,"post_id":65535621,"comment_id":115867526,"body_markdown":"your code is good but my doubt is what you want to achieve. Can you please share more info?","body":"your code is good but my doubt is what you want to achieve. Can you please share more info?"},{"owner":{"account_id":16246836,"reputation":85,"user_id":11931665,"display_name":"Pablo Asenjo Navas-Parejo"},"score":0,"creation_date":1609591527,"post_id":65535621,"comment_id":115872183,"body_markdown":"@abhinavchauhan I want the fragment to visually disspaear but without destroying the Class and creating a new one.","body":"@abhinavchauhan I want the fragment to visually disspaear but without destroying the Class and creating a new one."},{"owner":{"account_id":16246836,"reputation":85,"user_id":11931665,"display_name":"Pablo Asenjo Navas-Parejo"},"score":0,"creation_date":1609591568,"post_id":65535621,"comment_id":115872192,"body_markdown":"@rajendramahato","body":"@rajendramahato"},{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1682596281,"post_id":65535621,"comment_id":134242588,"body_markdown":"See https://stackoverflow.com/a/76120054/14773942","body":"See <a href=\"https://stackoverflow.com/a/76120054/14773942\">stackoverflow.com/a/76120054/14773942</a>"}],"answers":[{"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609594759,"creation_date":1609594759,"answer_id":65539695,"question_id":65535621,"body_markdown":"`replace()` means destroy this one and add new one at its place and as your code is right now you can&#39;t use `add()` either because according to that switch case you will create a new fragment instance every time you navigate.\r\nIt will waste memory and eventually app is going to crash with `OutOfMemoryException` \r\n\r\n**What can you do?**\r\n\r\nunfortunately with bottom navigation there are not much options but you can improve using following options\r\n\r\n**1** &lt;i&gt;use `viewmodels` for each fragment and attach all `viewmodels` with host activiy that way you will not have to load data every time that fragment is created, data will survive in the viewmodels&lt;/i&gt;\r\n\r\n**2** &lt;i&gt; or use a viewpager to hold your fragments a viewpager will be able to hold all of them in memory and to see the desired fragment , set the current fragment programatically\r\nby calling `setCurrentItem()` on the viewpager from `OnNavigationItemSelected()`&lt;/i&gt;\r\n\r\n**3** &lt;i&gt;use `add()` instead of `replace()` and make your fragments are *singleton* so that you don&#39;t load data every time (if you are not using view model) also keep track of last fragment now if a user goes to another fragment and before going anywhere else return to this one you just  pop the back using `getSupportFragmantManager().popBackStack()` to remove this fragment stack, otherwise pop the back stack and add that other fragment &lt;/i&gt;\r\n\r\n**4** &lt;i&gt;use some other form of navigation see [navigation components][1] to make your life little easier&lt;/i&gt;\r\n\r\nmaybe there are better solution but that is all i could think of according to my experience which is not very much , although navigation components also do the replacing thing i don&#39;t think it is very bad if you use view models to hold the data.\r\n\r\n**Happy Coding**\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-getting-started","title":"How can I switch between Fragments without destroying and re-creating them? (in a static-like way)","body":"<p><code>replace()</code> means destroy this one and add new one at its place and as your code is right now you can't use <code>add()</code> either because according to that switch case you will create a new fragment instance every time you navigate.\nIt will waste memory and eventually app is going to crash with <code>OutOfMemoryException</code></p>\n<p><strong>What can you do?</strong></p>\n<p>unfortunately with bottom navigation there are not much options but you can improve using following options</p>\n<p><strong>1</strong> <i>use <code>viewmodels</code> for each fragment and attach all <code>viewmodels</code> with host activiy that way you will not have to load data every time that fragment is created, data will survive in the viewmodels</i></p>\n<p><strong>2</strong> <i> or use a viewpager to hold your fragments a viewpager will be able to hold all of them in memory and to see the desired fragment , set the current fragment programatically\nby calling <code>setCurrentItem()</code> on the viewpager from <code>OnNavigationItemSelected()</code></i></p>\n<p><strong>3</strong> <i>use <code>add()</code> instead of <code>replace()</code> and make your fragments are <em>singleton</em> so that you don't load data every time (if you are not using view model) also keep track of last fragment now if a user goes to another fragment and before going anywhere else return to this one you just  pop the back using <code>getSupportFragmantManager().popBackStack()</code> to remove this fragment stack, otherwise pop the back stack and add that other fragment </i></p>\n<p><strong>4</strong> <i>use some other form of navigation see <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">navigation components</a> to make your life little easier</i></p>\n<p>maybe there are better solution but that is all i could think of according to my experience which is not very much , although navigation components also do the replacing thing i don't think it is very bad if you use view models to hold the data.</p>\n<p><strong>Happy Coding</strong></p>\n"},{"tags":[],"owner":{"account_id":16246836,"reputation":85,"user_id":11931665,"display_name":"Pablo Asenjo Navas-Parejo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1609603305,"creation_date":1609603305,"answer_id":65541149,"question_id":65535621,"body_markdown":"**This is how I solved the problem succesfully:**\r\n-------------------------------------------------\r\n\r\n - First of all, all of the Fragments are declared as fields inside `MainActivity` class, as well as the variable `selected`, which will be used later:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public KeyboardFragment keyboard_fragment = new KeyboardFragment();\r\n    public CameraFragment camera_fragment = new CameraFragment();\r\n    public SettingsFragment settings_fragment = new SettingsFragment();\r\n    \r\n    Fragment selected = teclado_fragment;`\r\n\r\n    //...\r\n````\r\n\r\n - Then, the following methods are defined inside the class too, where `R.id.container` is the FrameLayout or whatever view that is being used to display the inflated Fragments:\r\n\r\n```\r\n    private void createFragment(Fragment fragment){\r\n                 getSupportFragmentManager().beginTransaction()\r\n                .add(R.id.container, fragment)\r\n                .hide(fragment)\r\n                .commit();\r\n    }\r\n    private void showFragment(Fragment fragment){\r\n                 getSupportFragmentManager().beginTransaction()\r\n                .show(fragment)\r\n                .commit();\r\n    }\r\n    private void hideFragment(Fragment fragment){\r\n                 getSupportFragmentManager().beginTransaction()\r\n                .hide(fragment)\r\n                .commit();\r\n    }\r\n```\r\n\r\n - Finally, whatever menu&#39;s listener is defined this way inside `MainActivity`&#39;s `OnCreate()` method:\r\n\r\n```\r\nprivate BottomNavigationView.OnNavigationItemSelectedListener navListener =\r\n            new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n                    switch (item.getItemId()){\r\n                        case R.id.camera:\r\n                            hideFragment(selected);\r\n                            selected = camera_fragment;\r\n                            showFragment(seleccionado);\r\n                            break;\r\n                        case R.id.keyboard:\r\n                            hideFragment(selected);\r\n                            selected = keyboard_fragment;\r\n                            showFragment(seleccionado);\r\n                            break;\r\n                        case R.id.settings:\r\n                            hideFragment(selected);\r\n                            selected = settings_fragment;\r\n                            showFragment(seleccionado);\r\n                            break;\r\n                    }\r\n\r\n                    return true;\r\n\r\n                }\r\n            };\r\n```\r\n\r\nThis way, **the menu just hides and shows Fragments visually**, and they are only declared once not to be destroyed until the app closes, thus mantaining all their fields and views in memory as long as the app is running. \r\n\r\n\r\n\r\n","title":"How can I switch between Fragments without destroying and re-creating them? (in a static-like way)","body":"<h2><strong>This is how I solved the problem succesfully:</strong></h2>\n<ul>\n<li>First of all, all of the Fragments are declared as fields inside <code>MainActivity</code> class, as well as the variable <code>selected</code>, which will be used later:</li>\n</ul>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public KeyboardFragment keyboard_fragment = new KeyboardFragment();\n    public CameraFragment camera_fragment = new CameraFragment();\n    public SettingsFragment settings_fragment = new SettingsFragment();\n    \n    Fragment selected = teclado_fragment;`\n\n    //...\n</code></pre>\n<ul>\n<li>Then, the following methods are defined inside the class too, where <code>R.id.container</code> is the FrameLayout or whatever view that is being used to display the inflated Fragments:</li>\n</ul>\n<pre><code>    private void createFragment(Fragment fragment){\n                 getSupportFragmentManager().beginTransaction()\n                .add(R.id.container, fragment)\n                .hide(fragment)\n                .commit();\n    }\n    private void showFragment(Fragment fragment){\n                 getSupportFragmentManager().beginTransaction()\n                .show(fragment)\n                .commit();\n    }\n    private void hideFragment(Fragment fragment){\n                 getSupportFragmentManager().beginTransaction()\n                .hide(fragment)\n                .commit();\n    }\n</code></pre>\n<ul>\n<li>Finally, whatever menu's listener is defined this way inside <code>MainActivity</code>'s <code>OnCreate()</code> method:</li>\n</ul>\n<pre><code>private BottomNavigationView.OnNavigationItemSelectedListener navListener =\n            new BottomNavigationView.OnNavigationItemSelectedListener() {\n                @Override\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n                    switch (item.getItemId()){\n                        case R.id.camera:\n                            hideFragment(selected);\n                            selected = camera_fragment;\n                            showFragment(seleccionado);\n                            break;\n                        case R.id.keyboard:\n                            hideFragment(selected);\n                            selected = keyboard_fragment;\n                            showFragment(seleccionado);\n                            break;\n                        case R.id.settings:\n                            hideFragment(selected);\n                            selected = settings_fragment;\n                            showFragment(seleccionado);\n                            break;\n                    }\n\n                    return true;\n\n                }\n            };\n</code></pre>\n<p>This way, <strong>the menu just hides and shows Fragments visually</strong>, and they are only declared once not to be destroyed until the app closes, thus mantaining all their fields and views in memory as long as the app is running.</p>\n"},{"tags":[],"owner":{"account_id":11625285,"reputation":73,"user_id":8515227,"display_name":"M.Chithirai Perumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634977054,"creation_date":1634977054,"answer_id":69686309,"question_id":65535621,"body_markdown":"The first Check fragment is exist or not if its exist show the fragment and hide the old fragment\r\n                        \r\nshow Fragment\r\nfragmentManager.beginTransaction().show(fragmentManager.findFragmentByTag(tag)).commit();\r\n\r\nHide Fragment                      fragmentManager.beginTransaction().hide(fragmentManager.findFragmentByTag(HomeFragment.class.getSimpleName())).commit();\r\n\r\n   \r\nSecond If Not Exist Add the Fragment\r\n                        fragmentManager.beginTransaction().add(R.id.fragment_activity, fragment, tag).commit();\r\n","title":"How can I switch between Fragments without destroying and re-creating them? (in a static-like way)","body":"<p>The first Check fragment is exist or not if its exist show the fragment and hide the old fragment</p>\n<p>show Fragment\nfragmentManager.beginTransaction().show(fragmentManager.findFragmentByTag(tag)).commit();</p>\n<p>Hide Fragment                      fragmentManager.beginTransaction().hide(fragmentManager.findFragmentByTag(HomeFragment.class.getSimpleName())).commit();</p>\n<p>Second If Not Exist Add the Fragment\nfragmentManager.beginTransaction().add(R.id.fragment_activity, fragment, tag).commit();</p>\n"}],"owner":{"account_id":16246836,"reputation":85,"user_id":11931665,"display_name":"Pablo Asenjo Navas-Parejo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65541149,"answer_count":3,"score":3,"last_activity_date":1634977054,"creation_date":1609555689,"question_id":65535621,"body_markdown":"My app uses a BottomNavigationBar to switch between Fragments, and it does it this way:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        BottomNavigationView bottomNav = findViewById(R.id.barra);\r\n        bottomNav.setOnNavigationItemSelectedListener(navListener);\r\n\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.container, new KeyboardFragment()).commit();\r\n        bottomNav.setSelectedItemId(R.id.keyboard);\r\n\r\n    }\r\n\r\n\r\n    private BottomNavigationView.OnNavigationItemSelectedListener navListener =\r\n            new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    Fragment selectedFragment = null;\r\n\r\n                    switch (item.getItemId()){\r\n                        case R.id.camera:\r\n                            selectedFragment = new CameraFragment();\r\n                            break;\r\n                        case R.id.keyboard:\r\n                            selectedFragment = new KeyboardFragment();\r\n                            break;\r\n                        case R.id.settings:\r\n                            selectedFragment = new SettingsFragment();\r\n                            break;\r\n                    }\r\n\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.container,\r\n                            selectedFragment).commit();\r\n\r\n                    return true;\r\n\r\n                }\r\n            };\r\n}\r\n```\r\n\r\nI want those `Fragments` to be static, so their content and views do not dissapear when I switch between them. I have tried to create them inside `MainActivity`&#39;s `onCreate()` method, but it only helps with retaining text inside `EditText` widgets, the rest of the views and content dissapear.\r\n\r\nI have seen other similar questions, but they are answered poorly and I am new to this. Following some answers to similar questions, I have tried to use functions like `add()` or `attach()` instead of `replace()` but I don&#39;t think I&#39;m doing it well; in fact sometimes my app crashes. \r\n\r\nShould I paste here my layout.xml files too? The fragments are &quot;displayed&quot; into a simple `FrameLayout`. **Thanks beforehand :)**","title":"How can I switch between Fragments without destroying and re-creating them? (in a static-like way)","body":"<p>My app uses a BottomNavigationBar to switch between Fragments, and it does it this way:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        BottomNavigationView bottomNav = findViewById(R.id.barra);\n        bottomNav.setOnNavigationItemSelectedListener(navListener);\n\n        getSupportFragmentManager().beginTransaction().replace(R.id.container, new KeyboardFragment()).commit();\n        bottomNav.setSelectedItemId(R.id.keyboard);\n\n    }\n\n\n    private BottomNavigationView.OnNavigationItemSelectedListener navListener =\n            new BottomNavigationView.OnNavigationItemSelectedListener() {\n                @Override\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                    Fragment selectedFragment = null;\n\n                    switch (item.getItemId()){\n                        case R.id.camera:\n                            selectedFragment = new CameraFragment();\n                            break;\n                        case R.id.keyboard:\n                            selectedFragment = new KeyboardFragment();\n                            break;\n                        case R.id.settings:\n                            selectedFragment = new SettingsFragment();\n                            break;\n                    }\n\n                    getSupportFragmentManager().beginTransaction().replace(R.id.container,\n                            selectedFragment).commit();\n\n                    return true;\n\n                }\n            };\n}\n</code></pre>\n<p>I want those <code>Fragments</code> to be static, so their content and views do not dissapear when I switch between them. I have tried to create them inside <code>MainActivity</code>'s <code>onCreate()</code> method, but it only helps with retaining text inside <code>EditText</code> widgets, the rest of the views and content dissapear.</p>\n<p>I have seen other similar questions, but they are answered poorly and I am new to this. Following some answers to similar questions, I have tried to use functions like <code>add()</code> or <code>attach()</code> instead of <code>replace()</code> but I don't think I'm doing it well; in fact sometimes my app crashes.</p>\n<p>Should I paste here my layout.xml files too? The fragments are &quot;displayed&quot; into a simple <code>FrameLayout</code>. <strong>Thanks beforehand :)</strong></p>\n"},{"tags":["java","android","url"],"comments":[{"owner":{"account_id":1109560,"reputation":490,"user_id":1100288,"display_name":"Parmesh"},"score":2,"creation_date":1634973469,"post_id":69685850,"comment_id":123175315,"body_markdown":"I will suggest you to have one column named as &quot;type&quot; and keep 0 for image and 1 for video when you are saving image/video into data base. This way you can recognise the type easily.","body":"I will suggest you to have one column named as &quot;type&quot; and keep 0 for image and 1 for video when you are saving image/video into data base. This way you can recognise the type easily."},{"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"score":0,"creation_date":1634973608,"post_id":69685850,"comment_id":123175331,"body_markdown":"@Parmesh Yeah u are right but user have choice to upload either Video or Image so please can you give me answer of my question.","body":"@Parmesh Yeah u are right but user have choice to upload either Video or Image so please can you give me answer of my question."},{"owner":{"account_id":1109560,"reputation":490,"user_id":1100288,"display_name":"Parmesh"},"score":0,"creation_date":1634974159,"post_id":69685850,"comment_id":123175411,"body_markdown":"You may need to tweak UI little bit. You can provide an option to capture image from UI and launch camera app only to capture image. Similarly provide an option to capture only video. This way you can make sure at front end user is capturing either image or video at a time. Save that type value in firebase db as per my comment above.","body":"You may need to tweak UI little bit. You can provide an option to capture image from UI and launch camera app only to capture image. Similarly provide an option to capture only video. This way you can make sure at front end user is capturing either image or video at a time. Save that type value in firebase db as per my comment above."},{"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"score":0,"creation_date":1634974286,"post_id":69685850,"comment_id":123175425,"body_markdown":"@Parmesh Your First Suggestion is Nice I can do this when choosing image to upload thank you for your wonderful response.","body":"@Parmesh Your First Suggestion is Nice I can do this when choosing image to upload thank you for your wonderful response."},{"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"score":0,"creation_date":1634975392,"post_id":69685850,"comment_id":123175597,"body_markdown":"You can use urlconnection to get content type from ur url but i think this might not work in every case.","body":"You can use urlconnection to get content type from ur url but i think this might not work in every case."},{"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"score":0,"creation_date":1634975449,"post_id":69685850,"comment_id":123175608,"body_markdown":"Give this a try and see if it works for url without extension or not.   URLConnection conn = url.connect();\nString type = conn.getContentType();","body":"Give this a try and see if it works for url without extension or not.   URLConnection conn = url.connect(); String type = conn.getContentType();"},{"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"score":0,"creation_date":1634976130,"post_id":69685850,"comment_id":123175741,"body_markdown":"@Danish `url.connect();` is not working means I am getting Error. by the way I am getting the url in string so How could it work. thank you for your response","body":"@Danish <code>url.connect();</code> is not working means I am getting Error. by the way I am getting the url in string so How could it work. thank you for your response"},{"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"score":1,"creation_date":1634976846,"post_id":69685850,"comment_id":123175877,"body_markdown":"I am not sure this will work or not but you can give this a try:  \n                       MimeTypeMap.getFileExtensionFromUrl(Url)","body":"I am not sure this will work or not but you can give this a try:                          MimeTypeMap.getFileExtensionFromUrl(Url)"},{"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"score":0,"creation_date":1634977035,"post_id":69685850,"comment_id":123175906,"body_markdown":"@Danish I will give this a try.","body":"@Danish I will give this a try."},{"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"score":0,"creation_date":1634977178,"post_id":69685850,"comment_id":123175926,"body_markdown":"@Danish can you tell me what will return that code ie - `String` or `something` becasue when I am logging this  it is printing `Nothing`.","body":"@Danish can you tell me what will return that code ie - <code>String</code> or <code>something</code> becasue when I am logging this  it is printing <code>Nothing</code>."},{"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"score":0,"creation_date":1634977406,"post_id":69685850,"comment_id":123175964,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/238451/discussion-between-jack-sparrow-and-danish).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/238451/discussion-between-jack-sparrow-and-danish\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1109560,"reputation":490,"user_id":1100288,"display_name":"Parmesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634974476,"creation_date":1634974476,"answer_id":69686054,"question_id":69685850,"body_markdown":"I will suggest you to have one column named as &quot;type&quot; and keep 0 for image and 1 for video when you are saving image/video into data base. This way you can recognise the type easily.\r\n\r\nYou may need to tweak UI little bit. You can provide an option to capture image from UI and launch camera app only to capture image. Similarly provide an option to capture only video. This way you can make sure at front end user is capturing either image or video at a time. Save that type value in firebase db as above.\r\n","title":"How to know that provided URL is Image or Video in Android Studio","body":"<p>I will suggest you to have one column named as &quot;type&quot; and keep 0 for image and 1 for video when you are saving image/video into data base. This way you can recognise the type easily.</p>\n<p>You may need to tweak UI little bit. You can provide an option to capture image from UI and launch camera app only to capture image. Similarly provide an option to capture only video. This way you can make sure at front end user is capturing either image or video at a time. Save that type value in firebase db as above.</p>\n"}],"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69686054,"answer_count":1,"score":0,"last_activity_date":1634976878,"creation_date":1634972192,"question_id":69685850,"body_markdown":"I am Using Firebase as Database where user can Upload Image or Video so I am Fetching URL from my database so I am getting two URLs one of them can be either video or image so what can I do to detect the URL.\r\n\r\nLet Suppose this is the URL.\r\n[This is the example URL. NOTE URL can be different][1]\r\n\r\nany help will be appreciated\r\n\r\n## Edited\r\n\r\nfor better understanding I will providing some example code:\r\n\r\n    MyUserModel model; //this is the model class where I can get the url in String\r\n    \r\n    String Url = model.getUrl(); //its URL can be video or image\r\n    \r\n    //Can I write something like this:\r\n\r\n    //does any method like this : isVideo();\r\n    // if the url is video then this function will return true else false;\r\n  \r\n    if(isVideo(Url)){\r\n     videoView.setVideoPath(Url); //and other stuffs\r\n    }else{\r\n      Glide.with(context).load(Url).into(ImagView); //something like this.\r\n    }\r\n\r\n     ...\r\n\r\n\r\n&gt;NOTE : SOME URLS DON&#39;T HAVE EXTENTIONS LIKE `PNG`, `MP4`, `JPG` ETC. I am saying this because I have a some URLs with no extension related to mp4 or png etc.\r\n\r\n\r\n\r\n  [1]: https://firebasestorage.googleapis.com/v0/b/purple-e-commerce.appspot.com/o/hhhhhhh.mp4?alt=media&amp;token=9938aba0-4b79-4192-8f93-b04c60021827","title":"How to know that provided URL is Image or Video in Android Studio","body":"<p>I am Using Firebase as Database where user can Upload Image or Video so I am Fetching URL from my database so I am getting two URLs one of them can be either video or image so what can I do to detect the URL.</p>\n<p>Let Suppose this is the URL.\n<a href=\"https://firebasestorage.googleapis.com/v0/b/purple-e-commerce.appspot.com/o/hhhhhhh.mp4?alt=media&amp;token=9938aba0-4b79-4192-8f93-b04c60021827\" rel=\"nofollow noreferrer\">This is the example URL. NOTE URL can be different</a></p>\n<p>any help will be appreciated</p>\n<h2>Edited</h2>\n<p>for better understanding I will providing some example code:</p>\n<pre><code>MyUserModel model; //this is the model class where I can get the url in String\n\nString Url = model.getUrl(); //its URL can be video or image\n\n//Can I write something like this:\n\n//does any method like this : isVideo();\n// if the url is video then this function will return true else false;\n\nif(isVideo(Url)){\n videoView.setVideoPath(Url); //and other stuffs\n}else{\n  Glide.with(context).load(Url).into(ImagView); //something like this.\n}\n\n ...\n</code></pre>\n<blockquote>\n<p>NOTE : SOME URLS DON'T HAVE EXTENTIONS LIKE <code>PNG</code>, <code>MP4</code>, <code>JPG</code> ETC. I am saying this because I have a some URLs with no extension related to mp4 or png etc.</p>\n</blockquote>\n"},{"tags":["java","hadoop","mapreduce","pseudocode"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1388804436,"post_id":20916258,"comment_id":31401849,"body_markdown":"possible duplicate of [Hadoop - How does reducer gets it data?](http://stackoverflow.com/questions/10527271/hadoop-how-does-reducer-gets-it-data) - see also: http://stackoverflow.com/questions/20757318/what-two-different-keys-go-to-the-same-reducer-by-the-default-hash-partitioner-i and http://hadoop.apache.org/docs/stable/api/org/apache/hadoop/mapreduce/Partitioner.html","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10527271/hadoop-how-does-reducer-gets-it-data\">Hadoop - How does reducer gets it data?</a> - see also: <a href=\"http://stackoverflow.com/questions/20757318/what-two-different-keys-go-to-the-same-reducer-by-the-default-hash-partitioner-i\" title=\"what two different keys go to the same reducer by the default hash partitioner i\">stackoverflow.com/questions/20757318/&hellip;</a> and <a href=\"http://hadoop.apache.org/docs/stable/api/org/apache/hadoop/mapreduce/Partitioner.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/stable/api/org/apache/hadoop/mapreduc&zwnj;&#8203;e/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2773602,"reputation":5844,"user_id":2387673,"accept_rate":94,"display_name":"keelar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1388804828,"creation_date":1388804828,"answer_id":20916351,"question_id":20916258,"body_markdown":"It is the [Partitioner][1] that decides how to distribute the output of mappers to different reducers.\r\n\r\n&gt; Partitioner controls the partitioning of the keys of the intermediate map-outputs. The key (or a subset of the key) is used to derive the partition, typically by a hash function. The total number of partitions is the same as the number of reduce tasks for the job. Hence this controls which of the m reduce tasks the intermediate key (and hence the record) is sent for reduction.\r\n\r\n\r\n  [1]: http://hadoop.apache.org/docs/stable/api/org/apache/hadoop/mapreduce/Partitioner.html","title":"Map Reduce flow in Hadoop","body":"<p>It is the <a href=\"http://hadoop.apache.org/docs/stable/api/org/apache/hadoop/mapreduce/Partitioner.html\" rel=\"nofollow\">Partitioner</a> that decides how to distribute the output of mappers to different reducers.</p>\n\n<blockquote>\n  <p>Partitioner controls the partitioning of the keys of the intermediate map-outputs. The key (or a subset of the key) is used to derive the partition, typically by a hash function. The total number of partitions is the same as the number of reduce tasks for the job. Hence this controls which of the m reduce tasks the intermediate key (and hence the record) is sent for reduction.</p>\n</blockquote>\n"}],"owner":{"account_id":430906,"reputation":7815,"user_id":814601,"accept_rate":85,"display_name":"Fernando"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":20916351,"answer_count":1,"score":3,"last_activity_date":1634976625,"creation_date":1388803911,"question_id":20916258,"body_markdown":"I&#39;m learning Hadoop using the book `Hadoop in Practice`, and while reading chapter 1 i came across this diagram:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vBomu.png\r\n\r\nFrom the Hadoop docs:(http://hadoop.apache.org/docs/current2/api/org/apache/hadoop/mapred/Reducer.html)\r\n\r\n###1.Shuffle\r\n&gt;Reducer is input the grouped output of a Mapper. In the phase the framework, for each Reducer, fetches the relevant partition of the output of all the Mappers, via HTTP.\r\n\r\n###2.Sort\r\n&gt;The framework groups Reducer inputs by keys (since different Mappers may have output the same key) in this stage.\r\nThe shuffle and sort phases occur simultaneously i.e. while outputs are being fetched they are merged.\r\n\r\n\r\nWhile i understand that `shuffle` and `sorting` happens at the same time, it&#39;s not clear to me how the framework decides which `reducer` receives which `mapper` output. From the docs, it seems that each `reducer` has a way to know which `map`output to collect, but i can&#39;t understand how.\r\n\r\nSo my question is, given the mappers output above, the final result is always the same for each reducer? If so, what are the steps to achieve this result?\r\n\r\nThanks for any clarifications!\r\n","title":"Map Reduce flow in Hadoop","body":"<p>I'm learning Hadoop using the book <code>Hadoop in Practice</code>, and while reading chapter 1 i came across this diagram:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vBomu.png\" alt=\"enter image description here\"></p>\n\n<p>From the Hadoop docs:(<a href=\"http://hadoop.apache.org/docs/current2/api/org/apache/hadoop/mapred/Reducer.html\" rel=\"nofollow noreferrer\">http://hadoop.apache.org/docs/current2/api/org/apache/hadoop/mapred/Reducer.html</a>)</p>\n\n<h3>1.Shuffle</h3>\n\n<blockquote>\n  <p>Reducer is input the grouped output of a Mapper. In the phase the framework, for each Reducer, fetches the relevant partition of the output of all the Mappers, via HTTP.</p>\n</blockquote>\n\n<h3>2.Sort</h3>\n\n<blockquote>\n  <p>The framework groups Reducer inputs by keys (since different Mappers may have output the same key) in this stage.\n  The shuffle and sort phases occur simultaneously i.e. while outputs are being fetched they are merged.</p>\n</blockquote>\n\n<p>While i understand that <code>shuffle</code> and <code>sorting</code> happens at the same time, it's not clear to me how the framework decides which <code>reducer</code> receives which <code>mapper</code> output. From the docs, it seems that each <code>reducer</code> has a way to know which <code>map</code>output to collect, but i can't understand how.</p>\n\n<p>So my question is, given the mappers output above, the final result is always the same for each reducer? If so, what are the steps to achieve this result?</p>\n\n<p>Thanks for any clarifications!</p>\n"},{"tags":["java","reflections"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1634939443,"post_id":69683256,"comment_id":123171166,"body_markdown":"Did you try with a regex that matches just `foo.bar` such as `.*foo.*\\.bar`? What happens then?","body":"Did you try with a regex that matches just <code>foo.bar</code> such as <code>.*foo.*\\.bar</code>? What happens then?"},{"owner":{"account_id":3949403,"reputation":1141,"user_id":3260495,"display_name":"Robert Hume"},"score":0,"creation_date":1634976170,"post_id":69683256,"comment_id":123175748,"body_markdown":"@DavidConrad the regex works, thanks, but, as I said, I would avoid regexps because, in the real scenarios, predicate can be more complex than this.","body":"@DavidConrad the regex works, thanks, but, as I said, I would avoid regexps because, in the real scenarios, predicate can be more complex than this."}],"owner":{"account_id":3949403,"reputation":1141,"user_id":3260495,"display_name":"Robert Hume"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634976550,"creation_date":1634938180,"question_id":69683256,"body_markdown":"I use the [Reflections][1] library to list resources located in Java packages and I have the following code based on Reflections 0.9.x which works perfectly:\r\n\r\n\tReflections r = new Reflections(&quot;com.example.so&quot;, new ResourcesScanner());\r\n\tSet&lt;String&gt; set = r.getResources(s -&gt; s.contains(&quot;foo&quot;) &amp;&amp; s.endsWith(&quot;.bar&quot;))\r\n        .stream()\r\n        .map(s -&gt; &#39;/&#39; + s)\r\n        .collect(Collectors.toSet());\r\n\tSystem.out.println(set);\r\n\r\nIndeed, assuming the existence of the following resources in the classpath:\r\n\t\r\n    /com/example/so/foo.bar\r\n\t/com/example/so/foo.baz\r\n\r\nthe output of this code is correct:\r\n\r\n\t[/com/example/so/foo.bar]\r\n\r\nNow I&#39;m trying to upgrade Reflections to 0.10.x, but the API has been changed heavily:\r\n\r\n1) `ResourcesScanner` is deprecated and should be replaced with `Scanners.Resources` (straightforward);\r\n2) `Reflections.getResources(Predicate)` has been removed and I cannot find a direct replacement for it. There is an overload that takes a regex pattern, but I would like to avoid it because, IMHO, complex regexps are harder to mantain than equivalent Java predicates.\r\n\r\nI tried the following new code, but, apart the regex `.*` that is totally useless, it does not work; in particular, the `Resources.filterResultsBy(Predicate)` method seems not filtering anything:\r\n\r\n\tReflections r = new Reflections(&quot;com.example.so&quot;, Scanners.Resources.filterResultsBy(s -&gt; s.contains(&quot;foo&quot;) &amp;&amp; s.endsWith(&quot;.bar&quot;)));\r\n\tSet&lt;String&gt; set = r.getResources(&quot;.*&quot;).stream().map(s -&gt; &#39;/&#39; + s).collect(Collectors.toSet());\r\n\tSystem.out.println(set);\r\n\r\nNow the output is (wrong):\r\n\t\r\n\t[/com/example/so/foo.bar, /com/example/so/foo.baz]\r\n\r\nAm I missing something of the new API? Should I filter the set afterwards?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://github.com/ronmamo/reflections","title":"Resource scanning with Java Reflections (upgrading from 0.9.x to 0.10.x)","body":"<p>I use the <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">Reflections</a> library to list resources located in Java packages and I have the following code based on Reflections 0.9.x which works perfectly:</p>\n<pre><code>Reflections r = new Reflections(&quot;com.example.so&quot;, new ResourcesScanner());\nSet&lt;String&gt; set = r.getResources(s -&gt; s.contains(&quot;foo&quot;) &amp;&amp; s.endsWith(&quot;.bar&quot;))\n    .stream()\n    .map(s -&gt; '/' + s)\n    .collect(Collectors.toSet());\nSystem.out.println(set);\n</code></pre>\n<p>Indeed, assuming the existence of the following resources in the classpath:</p>\n<pre><code>/com/example/so/foo.bar\n/com/example/so/foo.baz\n</code></pre>\n<p>the output of this code is correct:</p>\n<pre><code>[/com/example/so/foo.bar]\n</code></pre>\n<p>Now I'm trying to upgrade Reflections to 0.10.x, but the API has been changed heavily:</p>\n<ol>\n<li><code>ResourcesScanner</code> is deprecated and should be replaced with <code>Scanners.Resources</code> (straightforward);</li>\n<li><code>Reflections.getResources(Predicate)</code> has been removed and I cannot find a direct replacement for it. There is an overload that takes a regex pattern, but I would like to avoid it because, IMHO, complex regexps are harder to mantain than equivalent Java predicates.</li>\n</ol>\n<p>I tried the following new code, but, apart the regex <code>.*</code> that is totally useless, it does not work; in particular, the <code>Resources.filterResultsBy(Predicate)</code> method seems not filtering anything:</p>\n<pre><code>Reflections r = new Reflections(&quot;com.example.so&quot;, Scanners.Resources.filterResultsBy(s -&gt; s.contains(&quot;foo&quot;) &amp;&amp; s.endsWith(&quot;.bar&quot;)));\nSet&lt;String&gt; set = r.getResources(&quot;.*&quot;).stream().map(s -&gt; '/' + s).collect(Collectors.toSet());\nSystem.out.println(set);\n</code></pre>\n<p>Now the output is (wrong):</p>\n<pre><code>[/com/example/so/foo.bar, /com/example/so/foo.baz]\n</code></pre>\n<p>Am I missing something of the new API? Should I filter the set afterwards?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1634567111,"post_id":69617279,"comment_id":123053005,"body_markdown":"1) What does &quot;it not work&quot; mean here? I.e. when you set a breakpoint on each line, and then run the code in a debugger, which is the first line that doesn&#39;t do what you expect it to do? What are all the variables used on that line? 2) Never leave `onCancelled` empty, as you&#39;re ignoring errors. At its minimum it should be: `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`","body":"1) What does &quot;it not work&quot; mean here? I.e. when you set a breakpoint on each line, and then run the code in a debugger, which is the first line that doesn&#39;t do what you expect it to do? What are all the variables used on that line? 2) Never leave <code>onCancelled</code> empty, as you&#39;re ignoring errors. At its minimum it should be: <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634568059,"post_id":69617279,"comment_id":123053488,"body_markdown":"Please edit your question and add the information Frank van Puffelen asked for, and please also responded with @.","body":"Please edit your question and add the information Frank van Puffelen asked for, and please also responded with @."},{"owner":{"account_id":18838598,"reputation":1,"user_id":13740674,"display_name":"Bryan Sanchez"},"score":0,"creation_date":1634673808,"post_id":69617279,"comment_id":123087773,"body_markdown":"@FrankvanPuffelen question updated","body":"@FrankvanPuffelen question updated"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1634677344,"post_id":69617279,"comment_id":123088877,"body_markdown":"I don&#39;t see any calls to the `getScheda` method in the code that you shared. Are you sure that error is coming from this code?","body":"I don&#39;t see any calls to the <code>getScheda</code> method in the code that you shared. Are you sure that error is coming from this code?"},{"owner":{"account_id":18838598,"reputation":1,"user_id":13740674,"display_name":"Bryan Sanchez"},"score":0,"creation_date":1634682829,"post_id":69617279,"comment_id":123090078,"body_markdown":"The error is coming from another class, but in the debug I see that the problem is in the listener because the program skip it and I can see that user is null. So I sull’ send in the class a null object.","body":"The error is coming from another class, but in the debug I see that the problem is in the listener because the program skip it and I can see that user is null. So I sull’ send in the class a null object."},{"owner":{"account_id":18838598,"reputation":1,"user_id":13740674,"display_name":"Bryan Sanchez"},"score":0,"creation_date":1634716876,"post_id":69617279,"comment_id":123096811,"body_markdown":"@FrankvanPuffelen addListenerForSingleValueEvent is async, right? So maybe this is the problem?","body":"@FrankvanPuffelen addListenerForSingleValueEvent is async, right? So maybe this is the problem?"}],"answers":[{"tags":[],"owner":{"account_id":18838598,"reputation":1,"user_id":13740674,"display_name":"Bryan Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634975983,"creation_date":1634771033,"answer_id":69653973,"question_id":69617279,"body_markdown":"So I resolved the problem. \r\n\r\nThe problem was that the second button was in a switch, so I don&#39;t know why, but addValueEventListener not work in switchs. So I placed the listener in a onClickListener in the onViewCreated (in his fragment).\r\n    \r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        view.findViewById(R.id.buttonScheda).setOnClickListener(v -&gt; {\r\n            if(mAuth.getCurrentUser() == null) {\r\n                accessoFragment.show(getActivity().getSupportFragmentManager(), accessoFragment.getTag());\r\n            }\r\n\r\n            if (mAuth.getCurrentUser() != null) {\r\n                mDatabase.child(mAuth.getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        utente = snapshot.getValue(Utente.class);\r\n                        toListaFragment();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Log.d(&quot;DatabaseError&quot;, error.getDetails());\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }","title":"Can&#39;t read user data from Firebase","body":"<p>So I resolved the problem.</p>\n<p>The problem was that the second button was in a switch, so I don't know why, but addValueEventListener not work in switchs. So I placed the listener in a onClickListener in the onViewCreated (in his fragment).</p>\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    view.findViewById(R.id.buttonScheda).setOnClickListener(v -&gt; {\n        if(mAuth.getCurrentUser() == null) {\n            accessoFragment.show(getActivity().getSupportFragmentManager(), accessoFragment.getTag());\n        }\n\n        if (mAuth.getCurrentUser() != null) {\n            mDatabase.child(mAuth.getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    utente = snapshot.getValue(Utente.class);\n                    toListaFragment();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    Log.d(&quot;DatabaseError&quot;, error.getDetails());\n                }\n            });\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":18838598,"reputation":1,"user_id":13740674,"display_name":"Bryan Sanchez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69653973,"answer_count":1,"score":0,"last_activity_date":1634975983,"creation_date":1634564959,"question_id":69617279,"body_markdown":"I&#39;m developing an Android app in Java using Firebase.\r\nThe app has 2 tasks that need user data. So, when I click on the first button, it work, but when I restart the app and I click on the second button (same code), it not work.\r\n[app&#39;s image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LWmk1.png\r\n\r\nFirst button&#39;s code:\r\n    \r\n    if(mAuth.getCurrentUser() == null) {\r\n            accessoFragment.show(getSupportFragmentManager(), accessoFragment.getTag());\r\n        }\r\n\r\n        if (mAuth.getCurrentUser() != null) {\r\n            prelevaDati();\r\n\r\n            getSupportFragmentManager().beginTransaction().\r\n                    add(R.id.fragmentContainerView, ProfiloFragment.class, null).commit();\r\n\r\n            toolbar.setSubtitle(&quot;Profilo&quot;);\r\n    }\r\n\r\n\r\nSecond button&#39;s code:\r\n\r\n\r\n    case R.id.buttonScheda:\r\n                if(mAuth.getCurrentUser() == null) {\r\n                accessoFragment.show(getSupportFragmentManager(), accessoFragment.getTag());\r\n            }\r\n\r\n                if (mAuth.getCurrentUser() != null) {\r\n                    prelevaDati();\r\n                    toolbar.setSubtitle(&quot;SCHEDA&quot;);\r\n                    child = &quot;Scheda&quot;;\r\n                } else return;\r\n\r\n                break;    \r\n\r\n\r\nRead data function:\r\n\r\n    public void prelevaDati() {\r\n        mDatabase.child(&quot;Utenti&quot;).child(mAuth.getCurrentUser().getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                utente = snapshot.getValue(Utente.class);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) { }\r\n        });\r\n    }\r\n\r\nHelp me please\r\n\r\nQuestion updated thanks to @FrankvanPuffelen:\r\nThe object user is null after pressed the second button because the onDataChange and onCancelled functions are skipped. So, when I try to use user methods, the program stop running and show a NullPointException in the console: \r\n\r\n&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.HashMap com.example.app.Utente.getScheda()&#39; on a null object reference\r\n\r\n","title":"Can&#39;t read user data from Firebase","body":"<p>I'm developing an Android app in Java using Firebase.\nThe app has 2 tasks that need user data. So, when I click on the first button, it work, but when I restart the app and I click on the second button (same code), it not work.\n<a href=\"https://i.stack.imgur.com/LWmk1.png\" rel=\"nofollow noreferrer\">app's image</a></p>\n<p>First button's code:</p>\n<pre><code>if(mAuth.getCurrentUser() == null) {\n        accessoFragment.show(getSupportFragmentManager(), accessoFragment.getTag());\n    }\n\n    if (mAuth.getCurrentUser() != null) {\n        prelevaDati();\n\n        getSupportFragmentManager().beginTransaction().\n                add(R.id.fragmentContainerView, ProfiloFragment.class, null).commit();\n\n        toolbar.setSubtitle(&quot;Profilo&quot;);\n}\n</code></pre>\n<p>Second button's code:</p>\n<pre><code>case R.id.buttonScheda:\n            if(mAuth.getCurrentUser() == null) {\n            accessoFragment.show(getSupportFragmentManager(), accessoFragment.getTag());\n        }\n\n            if (mAuth.getCurrentUser() != null) {\n                prelevaDati();\n                toolbar.setSubtitle(&quot;SCHEDA&quot;);\n                child = &quot;Scheda&quot;;\n            } else return;\n\n            break;    \n</code></pre>\n<p>Read data function:</p>\n<pre><code>public void prelevaDati() {\n    mDatabase.child(&quot;Utenti&quot;).child(mAuth.getCurrentUser().getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            utente = snapshot.getValue(Utente.class);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) { }\n    });\n}\n</code></pre>\n<p>Help me please</p>\n<p>Question updated thanks to @FrankvanPuffelen:\nThe object user is null after pressed the second button because the onDataChange and onCancelled functions are skipped. So, when I try to use user methods, the program stop running and show a NullPointException in the console:</p>\n<blockquote>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.util.HashMap com.example.app.Utente.getScheda()' on a null object reference</p>\n</blockquote>\n"},{"tags":["java","angular","selenium"],"answers":[{"tags":[],"owner":{"account_id":9354501,"reputation":41,"user_id":6943011,"display_name":"Vadym Serdiuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634939025,"creation_date":1634939025,"answer_id":69683362,"question_id":69681642,"body_markdown":"I suggest you select elements using XPath and check their CSS style that disables the element.\r\nFor example &quot;pointer-events&quot; is set to the &quot;none&quot; value instead of &quot;auto&quot; or some CSS class that disables and changes the element&#39;s behavior.\r\nIf you&#39;ve found this kind of element then you should click on it otherwise, you should select the element that corresponds to the &quot;next month&quot; reference and click it instead, starting to search for the clickable day elements again.\r\nI hope that will be helpful.","title":"How can check and select available date in selenium","body":"<p>I suggest you select elements using XPath and check their CSS style that disables the element.\nFor example &quot;pointer-events&quot; is set to the &quot;none&quot; value instead of &quot;auto&quot; or some CSS class that disables and changes the element's behavior.\nIf you've found this kind of element then you should click on it otherwise, you should select the element that corresponds to the &quot;next month&quot; reference and click it instead, starting to search for the clickable day elements again.\nI hope that will be helpful.</p>\n"}],"owner":{"account_id":22108391,"reputation":29,"user_id":17217360,"display_name":"Anox Software technology"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634975082,"creation_date":1634927684,"question_id":69681642,"body_markdown":"There is inspect code and this web site using angular application for front end. How can I select date. If all date disable then go to next month and check if not available then go to next month \r\n\r\n\r\n**HTML :**\r\n\r\n    &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/td&gt;\r\n    &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-06&quot;&gt;\r\n       &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;6&lt;/a&gt;&lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n       &lt;/div&gt;\r\n    &lt;/td&gt;\r\n    &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future&quot; data-date=&quot;2022-01-07&quot;&gt;\r\n       &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;7&lt;/a&gt;&lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n       &lt;/div&gt;\r\n    &lt;/td&gt;\r\n    &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-08&quot;&gt;\r\n       &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;8&lt;/a&gt;&lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n       &lt;/div&gt;\r\n    &lt;/td&gt;\r\n    &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-09&quot;&gt;\r\n       &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;9&lt;/a&gt;&lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n       &lt;/div&gt;\r\n    &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-future&quot; data-date=&quot;2022-01-10&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;10&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-future&quot; data-date=&quot;2022-01-11&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;11&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-future&quot; data-date=&quot;2022-01-12&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;12&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-13&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;13&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future&quot; data-date=&quot;2022-01-14&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;14&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-15&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;15&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-16&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;16&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-future&quot; data-date=&quot;2022-01-17&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;17&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-future&quot; data-date=&quot;2022-01-18&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;18&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-future&quot; data-date=&quot;2022-01-19&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;19&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-20&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;20&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future&quot; data-date=&quot;2022-01-21&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;21&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-22&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;22&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-23&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;23&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-future&quot; data-date=&quot;2022-01-24&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;24&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-future&quot; data-date=&quot;2022-01-25&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;25&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-future&quot; data-date=&quot;2022-01-26&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;26&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-27&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;27&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future date-availiable&quot; data-date=&quot;2022-01-28&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;28&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-event-harness&quot; style=&quot;margin-top: 0px;&quot;&gt;\r\n                   &lt;a class=&quot;fc-daygrid-event fc-daygrid-block-event fc-h-event fc-event fc-event-start fc-event-end fc-event-future availiable&quot;&gt;\r\n                      &lt;div class=&quot;fc-event-main&quot;&gt;\r\n                         &lt;div class=&quot;fc-event-main-frame&quot;&gt;\r\n                            &lt;div class=&quot;fc-event-title-container&quot;&gt;\r\n                               &lt;div class=&quot;fc-event-title fc-sticky&quot;&gt;availiable&lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                         &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                   &lt;/a&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-29&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;29&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-30&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;30&lt;/a&gt;&lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-disabled&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-disabled&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-disabled&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-disabled&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-disabled&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-disabled&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n                &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n             &lt;/div&gt;\r\n             &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n       &lt;/td&gt;\r\n       &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-disabled&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\r\n          &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\r\n\r\n\r\n\r\n\r\nHere is date picker [![Attched][1]][1]\r\n\r\nwhen date available then click first one other wise go to next month and check if find any available date then click.\r\n\r\nhow can I do that help me I tried but I couldn&#39;t\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rjhKD.png","title":"How can check and select available date in selenium","body":"<p>There is inspect code and this web site using angular application for front end. How can I select date. If all date disable then go to next month and check if not available then go to next month</p>\n<p><strong>HTML :</strong></p>\n<pre><code>&lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-06&quot;&gt;\n   &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;6&lt;/a&gt;&lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n   &lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future&quot; data-date=&quot;2022-01-07&quot;&gt;\n   &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;7&lt;/a&gt;&lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n   &lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-08&quot;&gt;\n   &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;8&lt;/a&gt;&lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n   &lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-09&quot;&gt;\n   &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;9&lt;/a&gt;&lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n   &lt;/div&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-future&quot; data-date=&quot;2022-01-10&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;10&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-future&quot; data-date=&quot;2022-01-11&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;11&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-future&quot; data-date=&quot;2022-01-12&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;12&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-13&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;13&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future&quot; data-date=&quot;2022-01-14&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;14&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-15&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;15&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-16&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;16&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-future&quot; data-date=&quot;2022-01-17&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;17&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-future&quot; data-date=&quot;2022-01-18&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;18&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-future&quot; data-date=&quot;2022-01-19&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;19&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-20&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;20&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future&quot; data-date=&quot;2022-01-21&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;21&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-22&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;22&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-23&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;23&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-future&quot; data-date=&quot;2022-01-24&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;24&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-future&quot; data-date=&quot;2022-01-25&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;25&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-future&quot; data-date=&quot;2022-01-26&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;26&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-future&quot; data-date=&quot;2022-01-27&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;27&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-future date-availiable&quot; data-date=&quot;2022-01-28&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;28&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-event-harness&quot; style=&quot;margin-top: 0px;&quot;&gt;\n               &lt;a class=&quot;fc-daygrid-event fc-daygrid-block-event fc-h-event fc-event fc-event-start fc-event-end fc-event-future availiable&quot;&gt;\n                  &lt;div class=&quot;fc-event-main&quot;&gt;\n                     &lt;div class=&quot;fc-event-main-frame&quot;&gt;\n                        &lt;div class=&quot;fc-event-title-container&quot;&gt;\n                           &lt;div class=&quot;fc-event-title fc-sticky&quot;&gt;availiable&lt;/div&gt;\n                        &lt;/div&gt;\n                     &lt;/div&gt;\n                  &lt;/div&gt;\n               &lt;/a&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-future&quot; data-date=&quot;2022-01-29&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;29&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-future&quot; data-date=&quot;2022-01-30&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-top&quot;&gt;&lt;a class=&quot;fc-daygrid-day-number&quot;&gt;30&lt;/a&gt;&lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-mon fc-day-disabled&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-tue fc-day-disabled&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-wed fc-day-disabled&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-thu fc-day-disabled&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-fri fc-day-disabled&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sat fc-day-disabled&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n         &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n            &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;fc-daygrid-day-bg&quot;&gt;&lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/td&gt;\n   &lt;td class=&quot;fc-daygrid-day fc-day fc-day-sun fc-day-disabled&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-frame fc-scrollgrid-sync-inner&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-events&quot;&gt;\n      &lt;div class=&quot;fc-daygrid-day-bottom&quot; style=&quot;margin-top: 0px;&quot;&gt;&lt;/div&gt;\n</code></pre>\n<p>Here is date picker <a href=\"https://i.stack.imgur.com/rjhKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rjhKD.png\" alt=\"Attched\" /></a></p>\n<p>when date available then click first one other wise go to next month and check if find any available date then click.</p>\n<p>how can I do that help me I tried but I couldn't</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1634940026,"post_id":69683377,"comment_id":123171281,"body_markdown":"`ThreadLocalRandom.current().ints(0, rows * columns).distinct().limit(5).forEach(i -&gt; array[i / rows][i % rows] = 0);`","body":"<code>ThreadLocalRandom.current().ints(0, rows * columns).distinct().limit(5).forEach(i -&gt; array[i &#47; rows][i % rows] = 0);</code>"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634941896,"creation_date":1634941896,"answer_id":69683687,"question_id":69683377,"body_markdown":"You can first evaluate random positions where your matrix would have zeros:\r\n\r\n```java\r\nstatic int[] zeroPositions(int totalPositions, int zeroPositions){\r\n    int[] result = new int[zeroPositions];\r\n    Random random = new Random();\r\n    for(int i = 0; i &lt; zeroPositions; i++){\r\n        int currentPosition = random.nextInt(totalPositions);\r\n        while (contains(result, currentPosition)){\r\n            currentPosition = (currentPosition + 1) % totalPositions;\r\n        }\r\n        result[i] = currentPosition;\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nAt the above code I omit some checks like that zero positions to be not greater than total positions (to save space).\r\n\r\nAnother what you need here and a bit later is a method that checks if an array contains a value:\r\n\r\n```java\r\npublic static boolean contains(int[] source, int value){\r\n    for(int i = 0; i &lt; source.length; i++){\r\n        if(source[i] == value){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nNow you should amend your `randomNumber` method in order to have minim as `1` since zeroes would be just not filled cells.\r\n\r\n```java\r\npublic static int randomNumber() {\r\n    int min = 1; // skip 0\r\n    int max = 90;\r\n    return min + (int) (Math.random() * ((max - min) + 1));\r\n} \r\n```\r\n\r\nAnd amend `populateArray` method to test if a current position has to hold zero:\r\n\r\n```java\r\npublic static void populateArray(int[][] array, int rows, int columns, int[] zeroPositions) {\r\n\r\n    for (int indexRow = 0; indexRow &lt; rows; indexRow++) {\r\n        for (int indexColumn = 0; indexColumn &lt; columns; indexColumn++) {\r\n            if(!contains(zeroPositions, indexRow * columns + indexColumn)){\r\n                array[indexRow][indexColumn] = randomNumber();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow let&#39;s run everything:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    int rows = 3;\r\n    int cols = 5;\r\n    int[][] matrix = new int[rows][cols];\r\n    populateArray(matrix, rows, cols, zeroPositions(rows * cols, 5));\r\n    for(int i = 0; i &lt; rows; i++){\r\n        for(int j = 0; j &lt; cols; j++){\r\n            System.out.print(matrix[i][j] + &quot; &quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd finally some outputs:\r\n\r\n```plain\r\n8 58 0 0 28 \r\n39 79 54 0 0 \r\n28 0 30 51 56 \r\n\r\n65 81 27 0 0 \r\n17 21 74 0 0 \r\n0 16 47 69 80 \r\n\r\n44 0 18 57 30 \r\n0 0 37 76 61 \r\n0 0 38 77 20 \r\n```\r\n","title":"Populate 2D array with range of random integers, but keep a fixed number of X elements always the same","body":"<p>You can first evaluate random positions where your matrix would have zeros:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int[] zeroPositions(int totalPositions, int zeroPositions){\n    int[] result = new int[zeroPositions];\n    Random random = new Random();\n    for(int i = 0; i &lt; zeroPositions; i++){\n        int currentPosition = random.nextInt(totalPositions);\n        while (contains(result, currentPosition)){\n            currentPosition = (currentPosition + 1) % totalPositions;\n        }\n        result[i] = currentPosition;\n    }\n    return result;\n}\n</code></pre>\n<p>At the above code I omit some checks like that zero positions to be not greater than total positions (to save space).</p>\n<p>Another what you need here and a bit later is a method that checks if an array contains a value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean contains(int[] source, int value){\n    for(int i = 0; i &lt; source.length; i++){\n        if(source[i] == value){\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Now you should amend your <code>randomNumber</code> method in order to have minim as <code>1</code> since zeroes would be just not filled cells.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int randomNumber() {\n    int min = 1; // skip 0\n    int max = 90;\n    return min + (int) (Math.random() * ((max - min) + 1));\n} \n</code></pre>\n<p>And amend <code>populateArray</code> method to test if a current position has to hold zero:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void populateArray(int[][] array, int rows, int columns, int[] zeroPositions) {\n\n    for (int indexRow = 0; indexRow &lt; rows; indexRow++) {\n        for (int indexColumn = 0; indexColumn &lt; columns; indexColumn++) {\n            if(!contains(zeroPositions, indexRow * columns + indexColumn)){\n                array[indexRow][indexColumn] = randomNumber();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now let's run everything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int rows = 3;\n    int cols = 5;\n    int[][] matrix = new int[rows][cols];\n    populateArray(matrix, rows, cols, zeroPositions(rows * cols, 5));\n    for(int i = 0; i &lt; rows; i++){\n        for(int j = 0; j &lt; cols; j++){\n            System.out.print(matrix[i][j] + &quot; &quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>And finally some outputs:</p>\n<pre><code>8 58 0 0 28 \n39 79 54 0 0 \n28 0 30 51 56 \n\n65 81 27 0 0 \n17 21 74 0 0 \n0 16 47 69 80 \n\n44 0 18 57 30 \n0 0 37 76 61 \n0 0 38 77 20 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634959882,"creation_date":1634943467,"answer_id":69683847,"question_id":69683377,"body_markdown":"Ok, I went a little overboard to make it more general.\r\n```\r\nint[][] result = create(3,5,5,90);\r\nfor (int[] r : result) {\r\n\tSystem.out.println(Arrays.toString(r));\r\n}\r\n```\r\nprints\r\n```\r\n[0, 48, 0, 0, 41]\r\n[0, 32, 0, 0, 0]\r\n[0, 0, 0, 81, 25]\r\n\r\n```\r\n- first check the invariant to ensure the count is &lt;= row * cols\r\n- create an array of 0&#39;s to fill result array\r\n- then generate an array of indices into the result array\r\n- Then fill result array by randomly selecting and index and the new\r\nnumber to be stored.\r\n- adjust the indices array to not repeat the previous index.\r\n- return the result.\r\n```\r\n// rows, cols - the array dimensions\r\n// count - is the number of randoms numbers and the \r\n// max - is the max size of that number.\t\r\npublic static int[][] create(int rows, int cols, int count, int max) {\r\n\tint size = rows * cols;\r\n\tif (count &gt; size) {\r\n\t\tthrow new IllegalArgumentException(\r\n\t\t\t\t&quot;Size and count don&#39;t match&quot;);\r\n\t}\r\n\tRandom r = new Random();\r\n\t// an array of zeroes\r\n\tint[][] result = new int[rows][cols];\r\n\t// an array of indices into result\r\n    int[] indices = new int[size];\r\n\tArrays.setAll(indices, i-&gt;i++);\r\n\t// now loop thru filling in result array without\r\n\t// repeating any index.\r\n\tfor (int i = 0; i &lt; count; i++) {\r\n\t    int pos = r.nextInt(size);\r\n\t    result[indices[pos]/cols][indices[pos]%cols] = r.nextInt(max)+1;\r\n\t    indices[pos] = indices[--size];\r\n\t}\r\n\treturn result;\r\n\t    \r\n}","title":"Populate 2D array with range of random integers, but keep a fixed number of X elements always the same","body":"<p>Ok, I went a little overboard to make it more general.</p>\n<pre><code>int[][] result = create(3,5,5,90);\nfor (int[] r : result) {\n    System.out.println(Arrays.toString(r));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[0, 48, 0, 0, 41]\n[0, 32, 0, 0, 0]\n[0, 0, 0, 81, 25]\n\n</code></pre>\n<ul>\n<li>first check the invariant to ensure the count is &lt;= row * cols</li>\n<li>create an array of 0's to fill result array</li>\n<li>then generate an array of indices into the result array</li>\n<li>Then fill result array by randomly selecting and index and the new\nnumber to be stored.</li>\n<li>adjust the indices array to not repeat the previous index.</li>\n<li>return the result.</li>\n</ul>\n<pre><code>// rows, cols - the array dimensions\n// count - is the number of randoms numbers and the \n// max - is the max size of that number.    \npublic static int[][] create(int rows, int cols, int count, int max) {\n    int size = rows * cols;\n    if (count &gt; size) {\n        throw new IllegalArgumentException(\n                &quot;Size and count don't match&quot;);\n    }\n    Random r = new Random();\n    // an array of zeroes\n    int[][] result = new int[rows][cols];\n    // an array of indices into result\n    int[] indices = new int[size];\n    Arrays.setAll(indices, i-&gt;i++);\n    // now loop thru filling in result array without\n    // repeating any index.\n    for (int i = 0; i &lt; count; i++) {\n        int pos = r.nextInt(size);\n        result[indices[pos]/cols][indices[pos]%cols] = r.nextInt(max)+1;\n        indices[pos] = indices[--size];\n    }\n    return result;\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634945288,"creation_date":1634945288,"answer_id":69684006,"question_id":69683377,"body_markdown":"Try this.\r\n\r\n    public static void populateArray(int[][] array, int fixedNumber, int fixedNumberCount) {\r\n        int rows = array.length, cols = array[0].length, size = rows * cols;\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; fixedNumberCount; ++i)\r\n            list.add(fixedNumber);\r\n        for (int i = fixedNumberCount; i &lt; size;) {\r\n            int r = randomNumber();\r\n            if (r == fixedNumber) continue;\r\n            list.add(r);\r\n            ++i;\r\n        }\r\n        Collections.shuffle(list);\r\n        for (int r = 0, i = 0; r &lt; rows; ++r)\r\n            for (int c = 0; c &lt; cols; ++c, ++i)\r\n                array[r][c] = list.get(i);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[][] array = new int[5][5];\r\n        populateArray(array, 0, 5);\r\n        for (int[] row : array)\r\n            System.out.println(Arrays.toString(row));\r\n    }\r\n\r\noutput:\r\n\r\n    [9, 71, 57, 86, 70]\r\n    [0, 0, 17, 70, 22]\r\n    [21, 0, 72, 7, 83]\r\n    [18, 37, 45, 8, 10]\r\n    [42, 8, 0, 85, 0]\r\n\r\n","title":"Populate 2D array with range of random integers, but keep a fixed number of X elements always the same","body":"<p>Try this.</p>\n<pre><code>public static void populateArray(int[][] array, int fixedNumber, int fixedNumberCount) {\n    int rows = array.length, cols = array[0].length, size = rows * cols;\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; fixedNumberCount; ++i)\n        list.add(fixedNumber);\n    for (int i = fixedNumberCount; i &lt; size;) {\n        int r = randomNumber();\n        if (r == fixedNumber) continue;\n        list.add(r);\n        ++i;\n    }\n    Collections.shuffle(list);\n    for (int r = 0, i = 0; r &lt; rows; ++r)\n        for (int c = 0; c &lt; cols; ++c, ++i)\n            array[r][c] = list.get(i);\n}\n\npublic static void main(String[] args) {\n    int[][] array = new int[5][5];\n    populateArray(array, 0, 5);\n    for (int[] row : array)\n        System.out.println(Arrays.toString(row));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[9, 71, 57, 86, 70]\n[0, 0, 17, 70, 22]\n[21, 0, 72, 7, 83]\n[18, 37, 45, 8, 10]\n[42, 8, 0, 85, 0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23117725,"reputation":1,"user_id":17224674,"display_name":"Raghavendra Palthiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634963763,"creation_date":1634963763,"answer_id":69685157,"question_id":69683377,"body_markdown":"    import java.security.SecureRandom;\r\n    public class RandomNumber{\r\n    static int[] createUniqueRandomNumber(int from,int to)\r\n    {\r\n     int n=to-from+1;\r\n     int a[] =new int[n];\r\n     for(int i=0;i&lt;n;i++)\r\n     {\r\n      a[i]=i;\r\n     }\r\n     int[] result =new int[n];\r\n      int x=n;\r\n     SecureRandom rd=new SecureRandom();\r\n      for(int i=0;i&lt;n;i++)\r\n      {\r\n       int k=rd.nextInt(x);\r\n        a[k] =a[x-1];\r\n        x--\r\n      }\r\n      return result;\r\n      }\r\n     }\r\n     public static void main(Strin[] args)\r\n      {\r\n       int[] result =createUniqueRandomNumber(4,15);\r\n        for(int i=0;i&lt;resuly.length;i++)\r\n         {\r\n           System.out.println(result[i] + &quot; &quot;);\r\n          }\r\n        }","title":"Populate 2D array with range of random integers, but keep a fixed number of X elements always the same","body":"<pre><code>import java.security.SecureRandom;\npublic class RandomNumber{\nstatic int[] createUniqueRandomNumber(int from,int to)\n{\n int n=to-from+1;\n int a[] =new int[n];\n for(int i=0;i&lt;n;i++)\n {\n  a[i]=i;\n }\n int[] result =new int[n];\n  int x=n;\n SecureRandom rd=new SecureRandom();\n  for(int i=0;i&lt;n;i++)\n  {\n   int k=rd.nextInt(x);\n    a[k] =a[x-1];\n    x--\n  }\n  return result;\n  }\n }\n public static void main(Strin[] args)\n  {\n   int[] result =createUniqueRandomNumber(4,15);\n    for(int i=0;i&lt;resuly.length;i++)\n     {\n       System.out.println(result[i] + &quot; &quot;);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":3177433,"reputation":81,"user_id":11300845,"display_name":"Alessandro Ghio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1634974907,"creation_date":1634939127,"question_id":69683377,"body_markdown":"I generate random unique integers from 0 to 90:\r\n```\r\npublic static int randomNumber() {\r\n    int min = 0;\r\n    int max = 90;\r\n    return min + (int) (Math.random() * ((max - min) + 1));\r\n}\r\n```\r\n... and use those generated integers to populate a multidimensional 3*5 array:\r\n```\r\nint rows = 3;\r\nint columns = 5;\r\nint[][] array = new int[rows][columns];\r\n\r\npublic static void populateArray(int[][] array, int rows, int columns) {\r\n    for (int indexRow = 0; indexRow &lt; rows; indexRow++) {\r\n        for (int indexColumn = 0; indexColumn &lt; columns; indexColumn++) {\r\n            array[indexRow][indexColumn] = randomNumber();\r\n        }\r\n    }\r\n}\r\n```\r\n... and this generates something like this:\r\n```\r\n56\t64\t22\t38\t78\t\r\n73\t18\t69\t39\t70\t\r\n49\t24\t3\t49\t25\r\n```\r\nHowever, I would like a **fixed number** of, say, 5 **random elements** in the array (no more, no less than 5 random elements) to be always 0, like this:\r\n```\r\n0\t64\t22\t38\t0\t\r\n73\t18\t0\t39\t70\t\r\n0\t24\t3\t0\t25\r\n```\r\nIs there any way to achieve that?","title":"Populate 2D array with range of random integers, but keep a fixed number of X elements always the same","body":"<p>I generate random unique integers from 0 to 90:</p>\n<pre><code>public static int randomNumber() {\n    int min = 0;\n    int max = 90;\n    return min + (int) (Math.random() * ((max - min) + 1));\n}\n</code></pre>\n<p>... and use those generated integers to populate a multidimensional 3*5 array:</p>\n<pre><code>int rows = 3;\nint columns = 5;\nint[][] array = new int[rows][columns];\n\npublic static void populateArray(int[][] array, int rows, int columns) {\n    for (int indexRow = 0; indexRow &lt; rows; indexRow++) {\n        for (int indexColumn = 0; indexColumn &lt; columns; indexColumn++) {\n            array[indexRow][indexColumn] = randomNumber();\n        }\n    }\n}\n</code></pre>\n<p>... and this generates something like this:</p>\n<pre><code>56  64  22  38  78  \n73  18  69  39  70  \n49  24  3   49  25\n</code></pre>\n<p>However, I would like a <strong>fixed number</strong> of, say, 5 <strong>random elements</strong> in the array (no more, no less than 5 random elements) to be always 0, like this:</p>\n<pre><code>0   64  22  38  0   \n73  18  0   39  70  \n0   24  3   0   25\n</code></pre>\n<p>Is there any way to achieve that?</p>\n"},{"tags":["java","android","android-studio","eval","calculation"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1634970004,"post_id":69685652,"comment_id":123174849,"body_markdown":"Please [edit] the post and include the **relevant** code. --- &quot;*... it directly turning to the `Exception`...*&quot; - Please [edit] the post and include the stack trace. --- &quot;*please help*&quot; - Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please <a href=\"https://stackoverflow.com/posts/69685652/edit\">edit</a> the post and include the <b>relevant</b> code. --- &quot;<i>... it directly turning to the <code>Exception</code>...</i>&quot; - Please <a href=\"https://stackoverflow.com/posts/69685652/edit\">edit</a> the post and include the stack trace. --- &quot;<i>please help</i>&quot; - Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1634971142,"post_id":69685652,"comment_id":123175009,"body_markdown":"What text are you actually passing to the `eval()` function?  It&#39;s not clear from your code.  I suggest you use your debugger to find the value that you&#39;re passing.  You may be able to tell what&#39;s wrong by looking at it directly.  If not, you could try adding it to this question.  As it is though, this question is unanswerable, so I&#39;ve voted to close it.","body":"What text are you actually passing to the <code>eval()</code> function?  It&#39;s not clear from your code.  I suggest you use your debugger to find the value that you&#39;re passing.  You may be able to tell what&#39;s wrong by looking at it directly.  If not, you could try adding it to this question.  As it is though, this question is unanswerable, so I&#39;ve voted to close it."},{"owner":{"account_id":21276731,"reputation":11,"user_id":15655590,"display_name":"Rahasyar Desh"},"score":0,"creation_date":1634974654,"post_id":69685652,"comment_id":123175490,"body_markdown":"It&#39;s a String value and the value like &quot;10 + 10&quot;","body":"It&#39;s a String value and the value like &quot;10 + 10&quot;"}],"owner":{"account_id":21276731,"reputation":11,"user_id":15655590,"display_name":"Rahasyar Desh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634974747,"creation_date":1634969848,"question_id":69685652,"body_markdown":"my script is kinda long so I pasted it on a website. Click the link below to view the script:\r\n\r\nLink - https://dpaste.org/K0mc\r\n\r\nThere line 474 the ```eval()``` function not working it directly turning to the ```Exception```\r\n\r\nAnd I was passing a String value through ```eval()``` and the value like ```&quot;10 + 10&quot;``` please help","title":"javax eval function not working I don&#39;t know why it&#39;s turning to the exception","body":"<p>my script is kinda long so I pasted it on a website. Click the link below to view the script:</p>\n<p>Link - <a href=\"https://dpaste.org/K0mc\" rel=\"nofollow noreferrer\">https://dpaste.org/K0mc</a></p>\n<p>There line 474 the <code>eval()</code> function not working it directly turning to the <code>Exception</code></p>\n<p>And I was passing a String value through <code>eval()</code> and the value like <code>&quot;10 + 10&quot;</code> please help</p>\n"},{"tags":["java","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442490024,"creation_date":1442483041,"answer_id":32627223,"question_id":32626477,"body_markdown":"With Spring Boot [try to register array of `HttpMessageConverter`s][1]:\r\n\r\n    import org.springframework.boot.autoconfigure.web.HttpMessageConverters;\r\n    import org.springframework.context.annotation.*;\r\n    import org.springframework.http.converter.*;\r\n    \r\n    @Configuration\r\n    public class MyConfiguration {\r\n    \r\n        @Bean\r\n        public HttpMessageConverters customConverters() {\r\n            HttpMessageConverter&lt;?&gt; additional = ...\r\n            HttpMessageConverter&lt;?&gt; another = ...\r\n            return new HttpMessageConverters(additional, another);\r\n        }\r\n    \r\n    }\r\n\r\nOr if you are not using Spring Boot&#39;s auto-configuration, you can use standard Spring [`WebMvcConfigurer` for registering converters][2]:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfiguration extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\r\n                    .indentOutput(true)\r\n                    .dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))\r\n                    .modulesToInstall(new ParameterNamesModule());\r\n            converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\r\n            converters.add(new MappingJackson2XmlHttpMessageConverter(builder.xml().build()));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-message-converters\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc-config-message-converters","title":"Spring boot MVC does not use the specified custom StringHttpMessageConverter","body":"<p>With Spring Boot <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-message-converters\" rel=\"nofollow\">try to register array of <code>HttpMessageConverter</code>s</a>:</p>\n\n<pre><code>import org.springframework.boot.autoconfigure.web.HttpMessageConverters;\nimport org.springframework.context.annotation.*;\nimport org.springframework.http.converter.*;\n\n@Configuration\npublic class MyConfiguration {\n\n    @Bean\n    public HttpMessageConverters customConverters() {\n        HttpMessageConverter&lt;?&gt; additional = ...\n        HttpMessageConverter&lt;?&gt; another = ...\n        return new HttpMessageConverters(additional, another);\n    }\n\n}\n</code></pre>\n\n<p>Or if you are not using Spring Boot's auto-configuration, you can use standard Spring <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc-config-message-converters\" rel=\"nofollow\"><code>WebMvcConfigurer</code> for registering converters</a>:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n                .indentOutput(true)\n                .dateFormat(new SimpleDateFormat(\"yyyy-MM-dd\"))\n                .modulesToInstall(new ParameterNamesModule());\n        converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\n        converters.add(new MappingJackson2XmlHttpMessageConverter(builder.xml().build()));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9997205,"reputation":11,"user_id":7394426,"display_name":"Eric.Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634974682,"creation_date":1483965122,"answer_id":41548167,"question_id":32626477,"body_markdown":"You need 2 steps to support utf-8 StringHttpMessageConverter;\r\nFirst add StringHttpMessageConverter;Second specify charset in produces,code is below;\r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/plain&quot;)\r\npublic class PlainController {\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET,\r\n            produces = {&quot;text/plain;charset=UTF-8&quot;})\r\n    public Response&lt;String&gt; test() {\r\n\r\n        return new Response&lt;String&gt;(&quot;success&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n    @Bean\r\n    public HttpMessageConverters fastJsonHttpMessageConverters() {\r\n        FastJsonHttpMessageConverter fastConverter = new FastJsonHttpMessageConverter();\r\n        FastJsonConfig fastJsonConfig = new FastJsonConfig();\r\n        fastJsonConfig.setSerializerFeatures(SerializerFeature.PrettyFormat);\r\n        fastConverter.setFastJsonConfig(fastJsonConfig);\r\n        HttpMessageConverter&lt;?&gt; converter = fastConverter;\r\n\r\n        StringHttpMessageConverter stringHttpMessageConverter =\r\n                new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;));\r\n        return new HttpMessageConverters(converter, stringHttpMessageConverter);\r\n    }\r\n```\r\n\r\n","title":"Spring boot MVC does not use the specified custom StringHttpMessageConverter","body":"<p>You need 2 steps to support utf-8 StringHttpMessageConverter;\nFirst add StringHttpMessageConverter;Second specify charset in produces,code is below;</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/plain&quot;)\npublic class PlainController {\n\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET,\n            produces = {&quot;text/plain;charset=UTF-8&quot;})\n    public Response&lt;String&gt; test() {\n\n        return new Response&lt;String&gt;(&quot;success&quot;);\n    }\n}\n</code></pre>\n<pre><code>    @Bean\n    public HttpMessageConverters fastJsonHttpMessageConverters() {\n        FastJsonHttpMessageConverter fastConverter = new FastJsonHttpMessageConverter();\n        FastJsonConfig fastJsonConfig = new FastJsonConfig();\n        fastJsonConfig.setSerializerFeatures(SerializerFeature.PrettyFormat);\n        fastConverter.setFastJsonConfig(fastJsonConfig);\n        HttpMessageConverter&lt;?&gt; converter = fastConverter;\n\n        StringHttpMessageConverter stringHttpMessageConverter =\n                new StringHttpMessageConverter(Charset.forName(&quot;UTF-8&quot;));\n        return new HttpMessageConverters(converter, stringHttpMessageConverter);\n    }\n</code></pre>\n"}],"owner":{"account_id":1559437,"reputation":11728,"user_id":1449676,"accept_rate":37,"display_name":"ps-aux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3267,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1634974682,"creation_date":1442480816,"question_id":32626477,"body_markdown":"In the class responsible for app config is this code:\r\n\r\n\r\n    @Bean\r\n    public HttpMessageConverter&lt;String&gt; createStringHttpMessageConverter() {\r\n\r\n        StringHttpMessageConverter converter = new StringHttpMessageConverter\r\n                (Charset.forName(&quot;UTF-8&quot;));\r\n\r\n        return converter;\r\n    }\r\n\r\nI checked in debugger that it is actually executed and also tried alternative with `StringHttpMessageConverter` as the return type.\r\n\r\n\r\nHowever when I debug `WebMvcConfig.extendMessageConverters()` I see that the StringHttpMessageConverter with the default charset is used instead of my converter with UTF-8 charset. \r\n\r\nWhy does not Spring Boot use the specified `StringHttpMessageConverter` ?\r\n\r\nI know the workaround might be to change the converters list according to my needs in `WebMvcConfig.extendMessageConverters()` but I would like to do it the right way\r\n   ","title":"Spring boot MVC does not use the specified custom StringHttpMessageConverter","body":"<p>In the class responsible for app config is this code:</p>\n\n<pre><code>@Bean\npublic HttpMessageConverter&lt;String&gt; createStringHttpMessageConverter() {\n\n    StringHttpMessageConverter converter = new StringHttpMessageConverter\n            (Charset.forName(\"UTF-8\"));\n\n    return converter;\n}\n</code></pre>\n\n<p>I checked in debugger that it is actually executed and also tried alternative with <code>StringHttpMessageConverter</code> as the return type.</p>\n\n<p>However when I debug <code>WebMvcConfig.extendMessageConverters()</code> I see that the StringHttpMessageConverter with the default charset is used instead of my converter with UTF-8 charset. </p>\n\n<p>Why does not Spring Boot use the specified <code>StringHttpMessageConverter</code> ?</p>\n\n<p>I know the workaround might be to change the converters list according to my needs in <code>WebMvcConfig.extendMessageConverters()</code> but I would like to do it the right way</p>\n"},{"tags":["java","spring-boot","api","http-status-code-404"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1634974416,"post_id":69685995,"comment_id":123175448,"body_markdown":"Please add your test request.","body":"Please add your test request."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1634975108,"post_id":69685995,"comment_id":123175560,"body_markdown":"You don&#39;t include the way you test, how is header of request? Do you specify consumer/producer to application/json ... in your test request? Does web application run normally with other endpoint...","body":"You don&#39;t include the way you test, how is header of request? Do you specify consumer/producer to application/json ... in your test request? Does web application run normally with other endpoint..."},{"owner":{"account_id":21542674,"reputation":144,"user_id":15880135,"display_name":"gierol"},"score":0,"creation_date":1634975200,"post_id":69685995,"comment_id":123175571,"body_markdown":"is this a hyperskill project Recipes?","body":"is this a hyperskill project Recipes?"},{"owner":{"account_id":18742617,"reputation":1,"user_id":13665572,"display_name":"Andrew Ivanov"},"score":0,"creation_date":1634975691,"post_id":69685995,"comment_id":123175657,"body_markdown":"Yeah. It is. May be you know where is my problem)","body":"Yeah. It is. May be you know where is my problem)"},{"owner":{"account_id":18742617,"reputation":1,"user_id":13665572,"display_name":"Andrew Ivanov"},"score":0,"creation_date":1634979176,"post_id":69685995,"comment_id":123176313,"body_markdown":"Huy, no with the rest of endpoints the same","body":"Huy, no with the rest of endpoints the same"},{"owner":{"account_id":18742617,"reputation":1,"user_id":13665572,"display_name":"Andrew Ivanov"},"score":0,"creation_date":1634989518,"post_id":69685995,"comment_id":123178318,"body_markdown":"The problem is gone. I had to send JSON object with one field &quot;id&quot; instead of sending Integer value. However thank you all","body":"The problem is gone. I had to send JSON object with one field &quot;id&quot; instead of sending Integer value. However thank you all"}],"owner":{"account_id":18742617,"reputation":1,"user_id":13665572,"display_name":"Andrew Ivanov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634974491,"creation_date":1634973875,"question_id":69685995,"body_markdown":"Here is Spring boot application &quot;Recipes&quot;. We can add a recipe on endpoint /api/recipe/new, also we can get recipe by id on endpoint /api/recipe/{id}. In this case we&#39;re using HashMap as a storage.\r\n\r\nThis is the Recipe class:\r\n\r\n    package recipes;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class Recipe {\r\n    \r\n        private String name;\r\n        private String description;\r\n        private String[] ingredients;\r\n        private String[] directions;\r\n    }\r\n\r\nThis is the RestController\r\n\r\n    package recipes;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.server.ResponseStatusException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class RecipeRestController {\r\n    \r\n        int id = 0;\r\n        Map&lt;Integer, Recipe&gt; recipeBook = new HashMap&lt;&gt;();\r\n    \r\n        @PostMapping(path = &quot;/recipe/new&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n        public Integer adding(@RequestBody Recipe recipe) {\r\n            if (!recipeBook.containsValue(recipe)) {\r\n                recipeBook.put(++id, recipe);\r\n            }\r\n            return id;\r\n        }\r\n    \r\n        @GetMapping(&quot;/recipe/{id}&quot;)\r\n        public Recipe retrieving(@PathVariable int id) {\r\n            Recipe recipe = recipeBook.get(id);\r\n            if (recipe == null) {\r\n                throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Not found&quot;);\r\n            }\r\n            return recipe;\r\n        }\r\n    }\r\n\r\nThe Main class is here \r\n\r\n    package recipes;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class RecipesApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(RecipesApplication.class, args);\r\n        }\r\n    }\r\n\r\nTest request is JSON\r\n\r\n    {\r\n       &quot;name&quot;: &quot;Fresh Mint Tea&quot;,\r\n       &quot;description&quot;: &quot;Light, aromatic and refreshing beverage, ...&quot;,\r\n       &quot;ingredients&quot;: [&quot;boiled water&quot;, &quot;honey&quot;, &quot;fresh mint leaves&quot;],\r\n       &quot;directions&quot;: [&quot;Boil water&quot;, &quot;Pour boiling hot water into a mug&quot;, &quot;Add fresh mint leaves&quot;, &quot;Mix and let the mint leaves seep for 3-5 minutes&quot;, &quot;Add honey and mix again&quot;]\r\n    }\r\n\r\n**Although it&#39;s pretty simple application I can&#39;t understand where is the problem...**","title":"Spring Boot application POST /api/recipe/new should respond with status code 200, responded: 404","body":"<p>Here is Spring boot application &quot;Recipes&quot;. We can add a recipe on endpoint /api/recipe/new, also we can get recipe by id on endpoint /api/recipe/{id}. In this case we're using HashMap as a storage.</p>\n<p>This is the Recipe class:</p>\n<pre><code>package recipes;\n\nimport lombok.Data;\n\n@Data\npublic class Recipe {\n\n    private String name;\n    private String description;\n    private String[] ingredients;\n    private String[] directions;\n}\n</code></pre>\n<p>This is the RestController</p>\n<pre><code>package recipes;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.server.ResponseStatusException;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class RecipeRestController {\n\n    int id = 0;\n    Map&lt;Integer, Recipe&gt; recipeBook = new HashMap&lt;&gt;();\n\n    @PostMapping(path = &quot;/recipe/new&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\n    public Integer adding(@RequestBody Recipe recipe) {\n        if (!recipeBook.containsValue(recipe)) {\n            recipeBook.put(++id, recipe);\n        }\n        return id;\n    }\n\n    @GetMapping(&quot;/recipe/{id}&quot;)\n    public Recipe retrieving(@PathVariable int id) {\n        Recipe recipe = recipeBook.get(id);\n        if (recipe == null) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Not found&quot;);\n        }\n        return recipe;\n    }\n}\n</code></pre>\n<p>The Main class is here</p>\n<pre><code>package recipes;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class RecipesApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(RecipesApplication.class, args);\n    }\n}\n</code></pre>\n<p>Test request is JSON</p>\n<pre><code>{\n   &quot;name&quot;: &quot;Fresh Mint Tea&quot;,\n   &quot;description&quot;: &quot;Light, aromatic and refreshing beverage, ...&quot;,\n   &quot;ingredients&quot;: [&quot;boiled water&quot;, &quot;honey&quot;, &quot;fresh mint leaves&quot;],\n   &quot;directions&quot;: [&quot;Boil water&quot;, &quot;Pour boiling hot water into a mug&quot;, &quot;Add fresh mint leaves&quot;, &quot;Mix and let the mint leaves seep for 3-5 minutes&quot;, &quot;Add honey and mix again&quot;]\n}\n</code></pre>\n<p><strong>Although it's pretty simple application I can't understand where is the problem...</strong></p>\n"},{"tags":["java","android","firebase-realtime-database","onclicklistener"],"comments":[{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1632827026,"post_id":69360358,"comment_id":122593066,"body_markdown":"Thanks for your answer a_local_nobody. Is there not a more direct way of doing this without the interface and the callback functions? Basically I only want to modify the values of a boolean variable.","body":"Thanks for your answer a_local_nobody. Is there not a more direct way of doing this without the interface and the callback functions? Basically I only want to modify the values of a boolean variable."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1632828374,"post_id":69360358,"comment_id":122593652,"body_markdown":"Thanks for your answer a_local_nobody. I can&#39;t do the things in the scope because basically I have a loop that tries to send the data multiple times to firebase if the writing was not successfull. So I need this information of the boolean values to stop the loop of sending. You wrote &quot;you ARE changing the boolean variables, but they&#39;re not changed by the time you&#39;re trying to use them&quot;--&gt; Can I just pause the current Thread such that the variables are changed before I use them or is there another way of telling Java to wait some time before using those variables?","body":"Thanks for your answer a_local_nobody. I can&#39;t do the things in the scope because basically I have a loop that tries to send the data multiple times to firebase if the writing was not successfull. So I need this information of the boolean values to stop the loop of sending. You wrote &quot;you ARE changing the boolean variables, but they&#39;re not changed by the time you&#39;re trying to use them&quot;--&gt; Can I just pause the current Thread such that the variables are changed before I use them or is there another way of telling Java to wait some time before using those variables?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1632830316,"post_id":69360358,"comment_id":122594462,"body_markdown":"Thanks for your answer a_local_nobody and your effort. I really appreciate it. Well, when using Firebase DB you need a Internet connection. Sometime my Wireless Lan network does not work for a couple of seconds and then it works again. Because of this I would like to try to send it 5 times with a delay of 2 seconds and pause the UI thread in between. If after those 5 tries the information is not written, a Toast should tell the user/customer to ask for help. If I ask the user to retry as you suggested, he or she could get mutiple errors before a successfull try.","body":"Thanks for your answer a_local_nobody and your effort. I really appreciate it. Well, when using Firebase DB you need a Internet connection. Sometime my Wireless Lan network does not work for a couple of seconds and then it works again. Because of this I would like to try to send it 5 times with a delay of 2 seconds and pause the UI thread in between. If after those 5 tries the information is not written, a Toast should tell the user/customer to ask for help. If I ask the user to retry as you suggested, he or she could get mutiple errors before a successfull try."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1632855869,"post_id":69360358,"comment_id":122605627,"body_markdown":"@a_local_nobody: You wrote &quot;you ARE changing the boolean variables, but they&#39;re not changed by the time you&#39;re trying to use them&quot;--&gt; Can I just pause the current Thread such that the variables are changed before I use them or is there another way of telling Java to wait some time before using those variables? Or do you think that static boolean variables can be used for my purpose?","body":"@a_local_nobody: You wrote &quot;you ARE changing the boolean variables, but they&#39;re not changed by the time you&#39;re trying to use them&quot;--&gt; Can I just pause the current Thread such that the variables are changed before I use them or is there another way of telling Java to wait some time before using those variables? Or do you think that static boolean variables can be used for my purpose?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1632946757,"post_id":69360358,"comment_id":122634214,"body_markdown":"@a_local_nobody: Any comments to my last comment? I&#39;ll highly appreciate every further comment from you.","body":"@a_local_nobody: Any comments to my last comment? I&#39;ll highly appreciate every further comment from you."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1632988470,"post_id":69360358,"comment_id":122643124,"body_markdown":"@a_local_nobody: Thanks for your answer and effort. I commented on the live data approach below your answer. Maybe just comming back to my idea of just delaying the current Thread such that the variables are changed before I use them. Is thsi possible according to your point of view or not?","body":"@a_local_nobody: Thanks for your answer and effort. I commented on the live data approach below your answer. Maybe just comming back to my idea of just delaying the current Thread such that the variables are changed before I use them. Is thsi possible according to your point of view or not?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1633074527,"post_id":69360358,"comment_id":122668108,"body_markdown":"You could use an `AtomicBoolean` instead of a `boolean[]`, for I think that&#39;s neater. Regarding the booleans not being updated – you may want to read about [the `volatile` keyword](https://stackoverflow.com/questions/106591/what-is-the-volatile-keyword-useful-for).","body":"You could use an <code>AtomicBoolean</code> instead of a <code>boolean[]</code>, for I think that&#39;s neater. Regarding the booleans not being updated – you may want to read about <a href=\"https://stackoverflow.com/questions/106591/what-is-the-volatile-keyword-useful-for\">the <code>volatile</code> keyword</a>."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633077126,"post_id":69360358,"comment_id":122669023,"body_markdown":"@MCEmperor: Thanks for your answer. Can I use only the AtomicBoolean without the volatile keyword or do I have to use it in combination?","body":"@MCEmperor: Thanks for your answer. Can I use only the AtomicBoolean without the volatile keyword or do I have to use it in combination?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1633077477,"post_id":69360358,"comment_id":122669145,"body_markdown":"You *have* to use `volatile` in order to make sure that the variable updates are visible to all threads. `AtomicBoolean` instead of `boolean[]` is just preference of style.","body":"You <i>have</i> to use <code>volatile</code> in order to make sure that the variable updates are visible to all threads. <code>AtomicBoolean</code> instead of <code>boolean[]</code> is just preference of style."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1633077941,"post_id":69360358,"comment_id":122669316,"body_markdown":"You may want to read [more about `volatile`](https://www.baeldung.com/java-volatile).","body":"You may want to read <a href=\"https://www.baeldung.com/java-volatile\" rel=\"nofollow noreferrer\">more about <code>volatile</code></a>."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633078842,"post_id":69360358,"comment_id":122669660,"body_markdown":"@MCEmperor: Thanks for your comments. I will try to use volatile and see if it works or not in my example.","body":"@MCEmperor: Thanks for your comments. I will try to use volatile and see if it works or not in my example."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633163838,"post_id":69360358,"comment_id":122691438,"body_markdown":"@MCEmperor: I tried your suggested solution but unfortunately it does not work. I think the problem is that the listener command `firebase_DB.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {` is executed asychnchronosly. Because of that everything that comes after this command will be executed even before that command. So the changes made by the listener will not be made immediately but after the higher-level method has been executed.","body":"@MCEmperor: I tried your suggested solution but unfortunately it does not work. I think the problem is that the listener command <code>firebase_DB.child(id).setValue(currentOrder).addOnCompleteLi&zwnj;&#8203;stener(new OnCompleteListener&lt;Void&gt;() {</code> is executed asychnchronosly. Because of that everything that comes after this command will be executed even before that command. So the changes made by the listener will not be made immediately but after the higher-level method has been executed."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633164345,"post_id":69360358,"comment_id":122691527,"body_markdown":"@MCEmperor: I updated the code that I use now in my answer. From the logTags that I set I can see that the code inside the listener is just exectuted after the while loop and not during the while loop as I intended","body":"@MCEmperor: I updated the code that I use now in my answer. From the logTags that I set I can see that the code inside the listener is just exectuted after the while loop and not during the while loop as I intended"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633332888,"post_id":69360358,"comment_id":122721673,"body_markdown":"@MCEmperor: Any comments to my last comments about the problems when using your suggested approach? I&#39;ll highly appreciate every further comment from you.","body":"@MCEmperor: Any comments to my last comments about the problems when using your suggested approach? I&#39;ll highly appreciate every further comment from you."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1633335999,"post_id":69360358,"comment_id":122722707,"body_markdown":"Well, indeed, you set two variables (`writingSuccessfull` and `writingNotSuccessfull`) to a certain value within the `onComplete` method, but then you read those values *outside* of the `onComplete` method. You need to move your code showing the Toasts to inside the `onComplete` method.","body":"Well, indeed, you set two variables (<code>writingSuccessfull</code> and <code>writingNotSuccessfull</code>) to a certain value within the <code>onComplete</code> method, but then you read those values <i>outside</i> of the <code>onComplete</code> method. You need to move your code showing the Toasts to inside the <code>onComplete</code> method."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633343533,"post_id":69360358,"comment_id":122725662,"body_markdown":"@MCEmperor: Thanks MC for your answer and effort. I have 3 remarks. 1) I want to have different tries writing the data into the db (5 tries with a delay of 2 sec). So do I have to put the loop also inside the oncreate method? 2) if I put the code of the toas inside the onCreate method I could have done this before even without the AtomicBoolean and the volatile variables. What do I gain from the Atomic and volatile booleans then? 3) The general problem is that the onCreate methods is weirdly executed asychronously. I have to find a way to write boolean variables in asychronous code.","body":"@MCEmperor: Thanks MC for your answer and effort. I have 3 remarks. 1) I want to have different tries writing the data into the db (5 tries with a delay of 2 sec). So do I have to put the loop also inside the oncreate method? 2) if I put the code of the toas inside the onCreate method I could have done this before even without the AtomicBoolean and the volatile variables. What do I gain from the Atomic and volatile booleans then? 3) The general problem is that the onCreate methods is weirdly executed asychronously. I have to find a way to write boolean variables in asychronous code."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633507494,"post_id":69360358,"comment_id":122774903,"body_markdown":"@MCEmperor: Any comments to my last comment? I&#39;ll highly appreciate any further comment from you. The big problem is that the method onComplete is unfortunately executed asynchronously and I don&#39;t know how to change the booleans in asynchronously exectued methods.","body":"@MCEmperor: Any comments to my last comment? I&#39;ll highly appreciate any further comment from you. The big problem is that the method onComplete is unfortunately executed asynchronously and I don&#39;t know how to change the booleans in asynchronously exectued methods."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633594373,"post_id":69360358,"comment_id":122802581,"body_markdown":"@MCEmperor: Any comments to my last comments? I&#39;ll highly appreciate any further comment from you.","body":"@MCEmperor: Any comments to my last comments? I&#39;ll highly appreciate any further comment from you."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1633690130,"post_id":69360358,"comment_id":122832863,"body_markdown":"@MCEmperor Any comments to my last comments? I&#39;ll highly appreciate any further comment from you as I tried many different approaches without any success. Do you have any further idea?","body":"@MCEmperor Any comments to my last comments? I&#39;ll highly appreciate any further comment from you as I tried many different approaches without any success. Do you have any further idea?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1633942386,"post_id":69360358,"comment_id":122885069,"body_markdown":"Well, your code is fairly difficult to reason about, because your indentation is poor and the code contains a lot of surplus statements. Please try to narrow your code down, so it is better readable. You could also try to use `firebase_DB.child(id).setValue(currentOrder, new OnCompleteListener&lt;&gt;() { ... })`. You also need to provide a little more information. You say &quot;even if the code inside the listener is executed&quot;, but does the output confirm that?","body":"Well, your code is fairly difficult to reason about, because your indentation is poor and the code contains a lot of surplus statements. Please try to narrow your code down, so it is better readable. You could also try to use <code>firebase_DB.child(id).setValue(currentOrder, new OnCompleteListener&lt;&gt;() { ... })</code>. You also need to provide a little more information. You say &quot;even if the code inside the listener is executed&quot;, but does the output confirm that?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1634376892,"post_id":69360358,"comment_id":123011247,"body_markdown":"Thanks for your answer MC Emperor. I slightly changed the code hoping that you can now understand it better. Opposed to what you mentioned, there are no surplus statements in it. All of them are solely related to my problem (or to get information about it). I also tried what you suggested with `firebase_DB.child(id).setValue(currentOrder, new OnCompleteListener&lt;&gt;() { ... })` but this leads to the following error message &quot;Class &#39;Anonymous class derived from OnCompleteListener&#39; must either be declared abstract or implement abstract method &#39;onComplete(Task&lt;TResult&gt;)&#39; in &#39;OnCompleteListener&#39;&quot;","body":"Thanks for your answer MC Emperor. I slightly changed the code hoping that you can now understand it better. Opposed to what you mentioned, there are no surplus statements in it. All of them are solely related to my problem (or to get information about it). I also tried what you suggested with <code>firebase_DB.child(id).setValue(currentOrder, new OnCompleteListener&lt;&gt;() { ... })</code> but this leads to the following error message &quot;Class &#39;Anonymous class derived from OnCompleteListener&#39; must either be declared abstract or implement abstract method &#39;onComplete(Task&lt;TResult&gt;)&#39; in &#39;OnCompleteListener&#39;&quot;"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1634748349,"post_id":69360358,"comment_id":123110789,"body_markdown":"@MCEmperor: Any comments on my last comment MC. I&#39;ll highly appreciate every further comment from you.","body":"@MCEmperor: Any comments on my last comment MC. I&#39;ll highly appreciate every further comment from you."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1634809147,"post_id":69360358,"comment_id":123127783,"body_markdown":"Well, having a variable for both writingSuccessfull and writingNotSuccessfull is what I would call &quot;surplus&quot;.","body":"Well, having a variable for both writingSuccessfull and writingNotSuccessfull is what I would call &quot;surplus&quot;."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1634809281,"post_id":69360358,"comment_id":123127837,"body_markdown":"Further, you haven&#39;t answered my question: You say &quot;even if the code inside the listener is executed&quot;, but does the output confirm that? You need to provide more details. Do the values of your *writing (un)successful* variables ever update?","body":"Further, you haven&#39;t answered my question: You say &quot;even if the code inside the listener is executed&quot;, but does the output confirm that? You need to provide more details. Do the values of your <i>writing (un)successful</i> variables ever update?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1634835118,"post_id":69360358,"comment_id":123139831,"body_markdown":"@MCEmperor: Thanks for your comment. I added the output of the code. There you can see the values of the boolean variables for each iteration.","body":"@MCEmperor: Thanks for your comment. I added the output of the code. There you can see the values of the boolean variables for each iteration."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1634997893,"post_id":69360358,"comment_id":123180070,"body_markdown":"@MCEmperor: Any further idea? Or do you think that what I want to do (try to write something to the firebase database several times if it is not successfull) is just not possible?","body":"@MCEmperor: Any further idea? Or do you think that what I want to do (try to write something to the firebase database several times if it is not successfull) is just not possible?"}],"answers":[{"tags":[],"owner":{"account_id":22796090,"reputation":26,"user_id":16949631,"display_name":"Roy Katz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632847914,"creation_date":1632847914,"answer_id":69365665,"question_id":69360358,"body_markdown":"maybe you should not use boolean, you can use return method when the task succeeded and execute setValue() inside while(true) or for loop so when the task is successful the loop will stop working or when the loop reached to her limit.\r\nlike this:\r\n\r\n    for (int i=0;i&lt;5;i++) {\r\n            firebase_DB.child(&quot;id&quot;).setValue(&quot;currentOrder&quot;).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Log.e(&quot;dbTAG&quot;, &quot;Data successfully written.&quot;);\r\n                        return;\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        Toast.makeText(MainActivity.this, &quot;ask for help&quot;,Toast.LENGTH_LONG);","title":"How to modify an external boolean value in a newly created listener in Java for Android","body":"<p>maybe you should not use boolean, you can use return method when the task succeeded and execute setValue() inside while(true) or for loop so when the task is successful the loop will stop working or when the loop reached to her limit.\nlike this:</p>\n<pre><code>for (int i=0;i&lt;5;i++) {\n        firebase_DB.child(&quot;id&quot;).setValue(&quot;currentOrder&quot;).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful()) {\n                    Log.e(&quot;dbTAG&quot;, &quot;Data successfully written.&quot;);\n                    return;\n\n                }\n            }\n        });\n    }\n    Toast.makeText(MainActivity.this, &quot;ask for help&quot;,Toast.LENGTH_LONG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21605054,"reputation":256,"user_id":15932606,"display_name":"Preetam Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633352573,"creation_date":1633187279,"answer_id":69418159,"question_id":69360358,"body_markdown":"Create a custom class that extends AndroidViewModel\r\n\r\n\t\t\tpublic class MyViewModel extends AndroidViewModel{\r\n\r\n\t\t\tprivate MutableLiveData&lt;Boolean&gt; writingSuccessful=new MutableLiveData&lt;&gt;();\r\n\r\n\t\t\t\tpublic MyViewModel(@NonNull Application application)\r\n\t\t\t\t{\r\n                    // you can do any other stuff here if you want\r\n\t\t\t\t   }\r\n\r\n\r\n\t\t\t\tpublic void setBooleanWritingSuccessful(Boolean b)\r\n\t\t\t\t{\r\n\t\t\t\t\twritingSuccessful.setValue(b);\r\n\t\t\t\t }\r\n\r\n\r\n\t\t\t\tpublic LiveData&lt;Boolean&gt; getBooleanWritingSuccessful()\r\n\t\t\t\t{\r\n\t\t\t\t   return writingSuccessful;\r\n\t\t\t\t }\r\n\r\n\r\n\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAnd then use this custom viewmodel class in your fragment for observing changes to the values\r\n\r\n\r\n\r\n\t\tpublic class FR_Fragment extends Fragment implements View.OnClickListener {\r\n\t\t   \r\n\r\n\t\t   private MyViewModel myViewModel;\r\n\t\t   private boolean writingSuccessfull= false;\r\n\r\n\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onCreate(Bundle savedInstanceState)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// your stuffs\r\n\r\n\t\t\t\t\t\t// initialize viewmodel\r\n\r\n\t\t\t\t\t\tmyViewModel=new ViewModelProvider(this,ViewModelProvider.AndroidViewModelFactory.getInstance(getActivity().getApplication())).get(MyViewModel.class);\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onCreateView(LayoutInflater inflater, ViewGroup container,\r\n\t\t\t\t\t                             Bundle savedInstanceState)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// set your viewmodel for observing the changes in boolean values.\r\n\r\n\t\t\t\t\t\t\tmyViewModel.getBooleanWritingSuccessful().observe(getViewLifecycleOwner(),new Observer&lt;Boolean&gt;(){\r\n\r\n\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\tpublic void onChanged(Boolean b)\r\n\t\t\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t\t\t// update your writingSuccessful variable here.\r\n                                    writingSuccessfull=b;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t// In onClick update your viewmodel&#39;s mutablelivedata;\r\n\r\n\t\t\t\t\t\tpublic void onClick(View view) {\r\n\t\t\t\t\t\t...\r\n\r\n\t\t\t\t\t\tfirebase_DB.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n\t\t\t\t\t\t                 @Override\r\n\t\t\t\t\t\t                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\t\t\t\t\t\t                     if (task.isSuccessful()) {\r\n\r\n\r\n\t\t\t\t\t\t                         //writingSuccessfull=true;\r\n\t\t\t\t\t\t                         //writingNotSuccessfull= false;\r\n\r\n\t\t\t\t\t\t                         //update the viewmodel&#39;s mutableLiveData \r\n\t\t\t\t\t\t                         myViewModel.setBooleanWritingSuccessful(true);\r\n\r\n\r\n\r\n\t\t\t\t\t\t                         Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\r\n\r\n\t\t\t\t\t\t                        } else {\r\n\r\n\r\n\t\t\t\t\t\t                         //writingSuccessfull=false;\r\n\t\t\t\t\t\t                         //writingNotSuccessfull= true;\r\n\r\n\r\n\r\n\t\t\t\t\t\t                         //update the viewmodel&#39;s mutableLiveData \r\n\t\t\t\t\t\t                         myViewModel.setBooleanWritingSuccessful(false);\r\n\r\n\r\n\t\t\t\t\t\t                         Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\r\n\t\t\t\t\t\t                        }\r\n\t\t\t\t\t\t                    }\r\n\t\t\t\t\t\t            });\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\nThis is a simple snippet of the MVVM Architecture. Hope now it works. Thank you.\r\n","title":"How to modify an external boolean value in a newly created listener in Java for Android","body":"<p>Create a custom class that extends AndroidViewModel</p>\n<pre><code>        public class MyViewModel extends AndroidViewModel{\n\n        private MutableLiveData&lt;Boolean&gt; writingSuccessful=new MutableLiveData&lt;&gt;();\n\n            public MyViewModel(@NonNull Application application)\n            {\n                // you can do any other stuff here if you want\n               }\n\n\n            public void setBooleanWritingSuccessful(Boolean b)\n            {\n                writingSuccessful.setValue(b);\n             }\n\n\n            public LiveData&lt;Boolean&gt; getBooleanWritingSuccessful()\n            {\n               return writingSuccessful;\n             }\n\n\n\n        }\n</code></pre>\n<p>And then use this custom viewmodel class in your fragment for observing changes to the values</p>\n<pre><code>    public class FR_Fragment extends Fragment implements View.OnClickListener {\n       \n\n       private MyViewModel myViewModel;\n       private boolean writingSuccessfull= false;\n\n\n\n                @Override\n                public void onCreate(Bundle savedInstanceState)\n                {\n                    // your stuffs\n\n                    // initialize viewmodel\n\n                    myViewModel=new ViewModelProvider(this,ViewModelProvider.AndroidViewModelFactory.getInstance(getActivity().getApplication())).get(MyViewModel.class);\n\n\n\n\n                }\n\n\n\n\n\n                @Override\n                public void onCreateView(LayoutInflater inflater, ViewGroup container,\n                                             Bundle savedInstanceState)\n                {\n                    \n                        \n                        // set your viewmodel for observing the changes in boolean values.\n\n                        myViewModel.getBooleanWritingSuccessful().observe(getViewLifecycleOwner(),new Observer&lt;Boolean&gt;(){\n\n                            @Override\n                            public void onChanged(Boolean b)\n                            {\n\n                                // update your writingSuccessful variable here.\n                                writingSuccessfull=b;\n\n                            }\n                        });\n\n\n\n                }\n\n\n\n    // In onClick update your viewmodel's mutablelivedata;\n\n                    public void onClick(View view) {\n                    ...\n\n                    firebase_DB.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                     @Override\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                         if (task.isSuccessful()) {\n\n\n                                             //writingSuccessfull=true;\n                                             //writingNotSuccessfull= false;\n\n                                             //update the viewmodel's mutableLiveData \n                                             myViewModel.setBooleanWritingSuccessful(true);\n\n\n\n                                             Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\n\n                                            } else {\n\n\n                                             //writingSuccessfull=false;\n                                             //writingNotSuccessfull= true;\n\n\n\n                                             //update the viewmodel's mutableLiveData \n                                             myViewModel.setBooleanWritingSuccessful(false);\n\n\n                                             Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\n                                            }\n                                        }\n                                });\n\n\n                    }\n\n\n\n\n                }\n</code></pre>\n<p>This is a simple snippet of the MVVM Architecture. Hope now it works. Thank you.</p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":26,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634974376,"creation_date":1632826238,"question_id":69360358,"body_markdown":"I have an Android Fragment class that has a method to write something on an external firebase database after a button is clicked.\r\n\r\n```java\r\npublic class FR_Fragment extends Fragment implements View.OnClickListener {\r\n\r\n    public void onClick(View view) {\r\n        boolean writingSuccessfull = false;\r\n        boolean writingNotSuccessfull = false;\r\n        firebase_DB.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    writingSuccessfull = true;\r\n                    writingNotSuccessfull = false;\r\n                    Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\r\n                }\r\n                else {\r\n                    writingSuccessfull = false;\r\n                    writingNotSuccessfull = true;\r\n                    Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nHowever, I somehow can&#39;t access the boolean variables `writingSuccessfull` and `writingNotSuccessfull`  and that I define in the method onClick in the OnCompleteListener. With the shown code I get an error &quot;Variable &#39;writingSuccessfull&#39; is accessed from within inner class, needs to be final or effectively final&quot;\r\n\r\nWhen I let Android Studio fix this problem the code looks like this:\r\n\r\n```\r\npublic class FR_Fragment extends Fragment implements View.OnClickListener {\r\n\r\n    public void onClick(View view) {\r\n        final boolean[] writingSuccessfull = { false };\r\n        final boolean[] writingNotSuccessfull = { false };\r\n        firebase_DB.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    writingSuccessfull[0] = true;\r\n                    writingNotSuccessfull[0] = false\r\n                    Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\r\n                }\r\n                else {\r\n                    writingSuccessfull[0] = false;\r\n                    writingNotSuccessfull[0] = true\r\n                    Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nNow I can execute the code, but the values of the booleans do not change, even if the code inside the listener is executed. I also tried it without the &quot;final&quot; before the boolean variables. But this did not change anything. I can&#39;t modify the boolean variables inside this listener. But this is something that I need to do because I would like to know whether the data was written successfully into the database. \r\n\r\nAny idea why I get this problem and how to solve it? I&#39;ll appreciate every comment. \r\n\r\n**Update**: Here is the updated code with volatile and AtomicBooleas:\r\n\r\n    public class FR_Fragment extends Fragment implements View.OnClickListener {\r\n        private volatile AtomicBoolean writingOrderToTheDatabaseWasSuccessful;\r\n        private volatile AtomicBoolean writingOrderToTheDatabaseWasNotSuccessful;\r\n    ...\r\n    public void onClick(View view) {\r\n    \r\n            int internalCounterAttempsWriteDataInTheFBDatabase =0;\r\n            writingOrderToTheDatabaseWasSuccessful = new AtomicBoolean (false);\r\n            writingOrderToTheDatabaseWasNotSuccessful = new AtomicBoolean (false);\r\n    \r\n    \r\n            while(writingOrderToTheDatabaseWasSuccessful.get() == false &amp;&amp; writingOrderToTheDatabaseWasNotSuccessful.get()==false) {\r\n                internalCounterAttempsWriteDataInTheFBDatabase++;\r\n                Log.e(&quot;LogTag&quot;, &quot;internalCounterAttempsWriteDataInTheFBDatabase: &quot; +internalCounterAttempsWriteDataInTheFBDatabase );\r\n                Log.e(&quot;LogTag&quot;, &quot;writingOrderToTheDatabaseWasSuccessful: &quot; + writingOrderToTheDatabaseWasSuccessful.get());\r\n                Log.e(&quot;LogTag&quot;, &quot;writingOrderToTheDatabaseWasNotSuccessful: &quot; + writingOrderToTheDatabaseWasNotSuccessful.get());\r\n    \r\n    \r\n                DatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;https://drink-server-db-default-rtdb.europe-west1.firebasedatabase.app&quot;).getReference();\r\n                DatabaseReference ordersRef = rootRef.child(&quot;orders&quot;);\r\n                String id =...;\r\n                FirebaseDBItem_Order currentOrder = ...;\r\n    \r\n                ordersRef.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                     if (task.isSuccessful()) {\r\n                          writingOrderToTheDatabaseWasSuccessful.set(true);\r\n                          writingOrderToTheDatabaseWasNotSuccessful.set(false);\r\n                          Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\r\n                          Log.e(&quot;LogTag&quot;, &quot;Listener: writingOrderToTheDatabaseWasSuccessful: &quot; + writingOrderToTheDatabaseWasSuccessful.get());\r\n                          Log.e(&quot;LogTag&quot;, &quot;Listener: writingOrderToTheDatabaseWasNotSuccessful: &quot; + writingOrderToTheDatabaseWasNotSuccessful.get());\r\n    \r\n                     } else {\r\n    \r\n                        Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\r\n                     }\r\n                        }//end method onComplete\r\n                    });//end addOnCompleteListener\r\n                if (internalCounterAttempsWriteDataInTheFBDatabase &gt;=10) {\r\n                    writingOrderToTheDatabaseWasNotSuccessful.set(true);\r\n                }\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }//end while loop\r\n            Log.e(&quot;LogTag&quot;, &quot;EndWhile: writingOrderToTheDatabaseWasSuccessful: &quot; + writingOrderToTheDatabaseWasSuccessful.get());\r\n            Log.e(&quot;LogTag&quot;, &quot;EndWhile: writingOrderToTheDatabaseWasNotSuccessful: &quot; + writingOrderToTheDatabaseWasNotSuccessful.get());\r\n    \r\n    \r\n            //Show a toast about the order\r\n            if (writingOrderToTheDatabaseWasSuccessful.get() ==true) {\r\n                int duration = Toast.LENGTH_LONG;\r\n                Toast toast = Toast.makeText(getContext(), getString(R.string.message_orderSubmittedSuccessfully), duration);\r\n                toast.setGravity(Gravity.CENTER, 0, 0);\r\n                toast.show();\r\n            }\r\n    \r\n            if (writingOrderToTheDatabaseWasNotSuccessful.get() ==true) {\r\n                int duration = Toast.LENGTH_LONG;\r\n                Toast toast = Toast.makeText(getContext(), getString(R.string.message_orderSubmittedNotSuccessfully), duration);\r\n                toast.setGravity(Gravity.CENTER, 0, 0);\r\n                toast.show();\r\n            }\r\n    \r\n    \r\n    \r\n            Navigation.findNavController(...);\r\n    \r\n        }//end method onClick\r\n    \r\n    }//end class\r\n\r\nThe problem is the asnychronous call of the onComplete method. The code to change the booleans is not called immediately as it is in the onComplete method that is called asynchronously. This means in my example that the code in the onComplete method is just called after the 10 while-loop iterations and not during the loop as intended. The biggest question now is how to call any code in the onComplete method during the while loop.\r\n\r\n**Update**: Here is the (relevant) output from logcat when running the code:\r\n\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 1\r\n        writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 2\r\n    E/LogTag: writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 3\r\n        writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 4\r\n    E/LogTag: writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 5\r\n    E/LogTag: writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 6\r\n        writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 7\r\n    E/LogTag: writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 8\r\n        writingOrderToTheDatabaseWasSuccessful: false\r\n    E/LogTag: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 9\r\n        writingOrderToTheDatabaseWasSuccessful: false\r\n        writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 10\r\n    E/LogTag: writingOrderToTheDatabaseWasSuccessful: false\r\n    E/LogTag: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/LogTag: EndWhile: writingOrderToTheDatabaseWasSuccessful: false\r\n        EndWhile: writingOrderToTheDatabaseWasNotSuccessful: true\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n        Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n        Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n        Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n        Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n        Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n        Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n    E/dbTAG: Data successfully written.\r\n    E/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\r\n        Listener: writingOrderToTheDatabaseWasNotSuccessful: false\r\n\r\nThe result is that the item is saved 10 times in the firebase database. What I want is to try to store the item once in the firebase db. If this is successfull, the loop should stop and there should be a toast telling that it was successfull. If it was not successfull the loop should try it 10 times (with a delay of 1 second). If even after 10 attemps the item could not be stored in the firebase database, the loop should be stopped and there should be a toast message telling that the item could not be stored.\r\n\r\n\r\n","title":"How to modify an external boolean value in a newly created listener in Java for Android","body":"<p>I have an Android Fragment class that has a method to write something on an external firebase database after a button is clicked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FR_Fragment extends Fragment implements View.OnClickListener {\n\n    public void onClick(View view) {\n        boolean writingSuccessfull = false;\n        boolean writingNotSuccessfull = false;\n        firebase_DB.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful()) {\n                    writingSuccessfull = true;\n                    writingNotSuccessfull = false;\n                    Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\n                }\n                else {\n                    writingSuccessfull = false;\n                    writingNotSuccessfull = true;\n                    Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>However, I somehow can't access the boolean variables <code>writingSuccessfull</code> and <code>writingNotSuccessfull</code>  and that I define in the method onClick in the OnCompleteListener. With the shown code I get an error &quot;Variable 'writingSuccessfull' is accessed from within inner class, needs to be final or effectively final&quot;</p>\n<p>When I let Android Studio fix this problem the code looks like this:</p>\n<pre><code>public class FR_Fragment extends Fragment implements View.OnClickListener {\n\n    public void onClick(View view) {\n        final boolean[] writingSuccessfull = { false };\n        final boolean[] writingNotSuccessfull = { false };\n        firebase_DB.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful()) {\n                    writingSuccessfull[0] = true;\n                    writingNotSuccessfull[0] = false\n                    Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\n                }\n                else {\n                    writingSuccessfull[0] = false;\n                    writingNotSuccessfull[0] = true\n                    Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>Now I can execute the code, but the values of the booleans do not change, even if the code inside the listener is executed. I also tried it without the &quot;final&quot; before the boolean variables. But this did not change anything. I can't modify the boolean variables inside this listener. But this is something that I need to do because I would like to know whether the data was written successfully into the database.</p>\n<p>Any idea why I get this problem and how to solve it? I'll appreciate every comment.</p>\n<p><strong>Update</strong>: Here is the updated code with volatile and AtomicBooleas:</p>\n<pre><code>public class FR_Fragment extends Fragment implements View.OnClickListener {\n    private volatile AtomicBoolean writingOrderToTheDatabaseWasSuccessful;\n    private volatile AtomicBoolean writingOrderToTheDatabaseWasNotSuccessful;\n...\npublic void onClick(View view) {\n\n        int internalCounterAttempsWriteDataInTheFBDatabase =0;\n        writingOrderToTheDatabaseWasSuccessful = new AtomicBoolean (false);\n        writingOrderToTheDatabaseWasNotSuccessful = new AtomicBoolean (false);\n\n\n        while(writingOrderToTheDatabaseWasSuccessful.get() == false &amp;&amp; writingOrderToTheDatabaseWasNotSuccessful.get()==false) {\n            internalCounterAttempsWriteDataInTheFBDatabase++;\n            Log.e(&quot;LogTag&quot;, &quot;internalCounterAttempsWriteDataInTheFBDatabase: &quot; +internalCounterAttempsWriteDataInTheFBDatabase );\n            Log.e(&quot;LogTag&quot;, &quot;writingOrderToTheDatabaseWasSuccessful: &quot; + writingOrderToTheDatabaseWasSuccessful.get());\n            Log.e(&quot;LogTag&quot;, &quot;writingOrderToTheDatabaseWasNotSuccessful: &quot; + writingOrderToTheDatabaseWasNotSuccessful.get());\n\n\n            DatabaseReference rootRef = FirebaseDatabase.getInstance(&quot;https://drink-server-db-default-rtdb.europe-west1.firebasedatabase.app&quot;).getReference();\n            DatabaseReference ordersRef = rootRef.child(&quot;orders&quot;);\n            String id =...;\n            FirebaseDBItem_Order currentOrder = ...;\n\n            ordersRef.child(id).setValue(currentOrder).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                 if (task.isSuccessful()) {\n                      writingOrderToTheDatabaseWasSuccessful.set(true);\n                      writingOrderToTheDatabaseWasNotSuccessful.set(false);\n                      Log.e(&quot;dbTAG&quot;,  &quot;Data successfully written.&quot;);\n                      Log.e(&quot;LogTag&quot;, &quot;Listener: writingOrderToTheDatabaseWasSuccessful: &quot; + writingOrderToTheDatabaseWasSuccessful.get());\n                      Log.e(&quot;LogTag&quot;, &quot;Listener: writingOrderToTheDatabaseWasNotSuccessful: &quot; + writingOrderToTheDatabaseWasNotSuccessful.get());\n\n                 } else {\n\n                    Log.e(&quot;dbTAG&quot;, task.getException().getMessage());\n                 }\n                    }//end method onComplete\n                });//end addOnCompleteListener\n            if (internalCounterAttempsWriteDataInTheFBDatabase &gt;=10) {\n                writingOrderToTheDatabaseWasNotSuccessful.set(true);\n            }\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n        }//end while loop\n        Log.e(&quot;LogTag&quot;, &quot;EndWhile: writingOrderToTheDatabaseWasSuccessful: &quot; + writingOrderToTheDatabaseWasSuccessful.get());\n        Log.e(&quot;LogTag&quot;, &quot;EndWhile: writingOrderToTheDatabaseWasNotSuccessful: &quot; + writingOrderToTheDatabaseWasNotSuccessful.get());\n\n\n        //Show a toast about the order\n        if (writingOrderToTheDatabaseWasSuccessful.get() ==true) {\n            int duration = Toast.LENGTH_LONG;\n            Toast toast = Toast.makeText(getContext(), getString(R.string.message_orderSubmittedSuccessfully), duration);\n            toast.setGravity(Gravity.CENTER, 0, 0);\n            toast.show();\n        }\n\n        if (writingOrderToTheDatabaseWasNotSuccessful.get() ==true) {\n            int duration = Toast.LENGTH_LONG;\n            Toast toast = Toast.makeText(getContext(), getString(R.string.message_orderSubmittedNotSuccessfully), duration);\n            toast.setGravity(Gravity.CENTER, 0, 0);\n            toast.show();\n        }\n\n\n\n        Navigation.findNavController(...);\n\n    }//end method onClick\n\n}//end class\n</code></pre>\n<p>The problem is the asnychronous call of the onComplete method. The code to change the booleans is not called immediately as it is in the onComplete method that is called asynchronously. This means in my example that the code in the onComplete method is just called after the 10 while-loop iterations and not during the loop as intended. The biggest question now is how to call any code in the onComplete method during the while loop.</p>\n<p><strong>Update</strong>: Here is the (relevant) output from logcat when running the code:</p>\n<pre><code>E/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 1\n    writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 2\nE/LogTag: writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 3\n    writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 4\nE/LogTag: writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 5\nE/LogTag: writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 6\n    writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 7\nE/LogTag: writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 8\n    writingOrderToTheDatabaseWasSuccessful: false\nE/LogTag: writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 9\n    writingOrderToTheDatabaseWasSuccessful: false\n    writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: internalCounterAttempsWriteDataInTheFBDatabase: 10\nE/LogTag: writingOrderToTheDatabaseWasSuccessful: false\nE/LogTag: writingOrderToTheDatabaseWasNotSuccessful: false\nE/LogTag: EndWhile: writingOrderToTheDatabaseWasSuccessful: false\n    EndWhile: writingOrderToTheDatabaseWasNotSuccessful: true\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\n    Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\n    Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\n    Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\nE/LogTag: Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\n    Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\n    Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\n    Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\nE/LogTag: Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\nE/LogTag: Listener: writingOrderToTheDatabaseWasNotSuccessful: false\nE/dbTAG: Data successfully written.\nE/LogTag: Listener: writingOrderToTheDatabaseWasSuccessful: true\n    Listener: writingOrderToTheDatabaseWasNotSuccessful: false\n</code></pre>\n<p>The result is that the item is saved 10 times in the firebase database. What I want is to try to store the item once in the firebase db. If this is successfull, the loop should stop and there should be a toast telling that it was successfull. If it was not successfull the loop should try it 10 times (with a delay of 1 second). If even after 10 attemps the item could not be stored in the firebase database, the loop should be stopped and there should be a toast message telling that the item could not be stored.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634440388,"creation_date":1634440388,"answer_id":69601060,"question_id":69601030,"body_markdown":"Because `(` and `)` are grouping operators in *regular expression*. You need to escape them in the match term. Like,\r\n\r\n    x = x.replaceFirst(&quot; &quot; + y + &quot;\\\\(S\\\\)&quot;, &quot; &quot; + y + &quot;(I)&quot;);\r\n\r\nAnd I get\r\n\r\n     22(I)\r\n\r\nwith no other changes.","title":"Trying to replace something inside a string that has parentheses, java","body":"<p>Because <code>(</code> and <code>)</code> are grouping operators in <em>regular expression</em>. You need to escape them in the match term. Like,</p>\n<pre><code>x = x.replaceFirst(&quot; &quot; + y + &quot;\\\\(S\\\\)&quot;, &quot; &quot; + y + &quot;(I)&quot;);\n</code></pre>\n<p>And I get</p>\n<pre><code> 22(I)\n</code></pre>\n<p>with no other changes.</p>\n"},{"tags":[],"owner":{"account_id":23058934,"reputation":1,"user_id":17174575,"display_name":"Yellapu Pavani Sai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634973703,"creation_date":1634969009,"answer_id":69685568,"question_id":69601030,"body_markdown":"    public class Replace {\r\n        public static void main(String[] args) {\r\n        \r\n            int y = 22;\r\n            String x = &quot; 22(S)&quot;;\r\n            x = x.replaceAll(&quot; &quot; + y + &quot;\\\\(S\\\\)&quot;, &quot; &quot; + y + &quot;(I)&quot;);\r\n            System.out.println(x);\r\n        }\r\n    }\r\n\r\nBy using `replaceAll` also we can replace all the S letters to I","title":"Trying to replace something inside a string that has parentheses, java","body":"<pre><code>public class Replace {\n    public static void main(String[] args) {\n    \n        int y = 22;\n        String x = &quot; 22(S)&quot;;\n        x = x.replaceAll(&quot; &quot; + y + &quot;\\\\(S\\\\)&quot;, &quot; &quot; + y + &quot;(I)&quot;);\n        System.out.println(x);\n    }\n}\n</code></pre>\n<p>By using <code>replaceAll</code> also we can replace all the S letters to I</p>\n"}],"owner":{"account_id":23055670,"reputation":21,"user_id":17171734,"display_name":"Remrem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1634973703,"creation_date":1634439923,"question_id":69601030,"body_markdown":"Hi I&#39;m petty new to java and I have a question,\r\n\r\nI&#39;m trying to replace the String &quot; 22(S)&quot; with &quot; 22(I)&quot; but for some reason the replace first doesn&#39;t replace the String. \r\n\r\nHere is my code:\r\n\r\n    public class tes {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int y = 22;\r\n        String x = &quot; 22(S)&quot;;\r\n        \r\n        x = x.replaceFirst(&quot; &quot; + y + &quot;(S)&quot;, &quot; &quot; + y + &quot;(I)&quot;);                   \r\n\r\n        System.out.println(x);\r\n \r\n    }\r\n}\r\n\r\nWhile I know that I can do x.replaceFirst(&quot;S&quot;,&quot;I&quot;) , I want to understand why this is still producing 22(S) with my current code. Thanks.\r\n\r\n","title":"Trying to replace something inside a string that has parentheses, java","body":"<p>Hi I'm petty new to java and I have a question,</p>\n<p>I'm trying to replace the String &quot; 22(S)&quot; with &quot; 22(I)&quot; but for some reason the replace first doesn't replace the String.</p>\n<p>Here is my code:</p>\n<pre><code>public class tes {\n\npublic static void main(String[] args) {\n\n    int y = 22;\n    String x = &quot; 22(S)&quot;;\n    \n    x = x.replaceFirst(&quot; &quot; + y + &quot;(S)&quot;, &quot; &quot; + y + &quot;(I)&quot;);                   \n\n    System.out.println(x);\n\n}\n</code></pre>\n<p>}</p>\n<p>While I know that I can do x.replaceFirst(&quot;S&quot;,&quot;I&quot;) , I want to understand why this is still producing 22(S) with my current code. Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":0,"creation_date":1426799494,"post_id":29154983,"comment_id":46531004,"body_markdown":"You should see this related question: http://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value?rq=1","body":"You should see this related question: <a href=\"http://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value?rq=1\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":2785683,"reputation":2653,"user_id":2397162,"accept_rate":61,"display_name":"niceman"},"score":0,"creation_date":1426800216,"post_id":29154983,"comment_id":46531332,"body_markdown":"I think you should really accept an answer from the ones listed below, anyway I suggest to read Arkanon question and have full grasp of java always-pass-by-value thing","body":"I think you should really accept an answer from the ones listed below, anyway I suggest to read Arkanon question and have full grasp of java always-pass-by-value thing"}],"answers":[{"tags":[],"owner":{"account_id":3700506,"reputation":1879,"user_id":3080422,"accept_rate":67,"display_name":"slnowak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426799119,"creation_date":1426799119,"answer_id":29155003,"question_id":29154983,"body_markdown":"Because you&#39;re simply not using the computation of your function. It doesn&#39;t change value of x, it returns new value.\r\n\r\nYou should do something like:\r\n\r\n    int y = addFive(x);","title":"returning a value from a method to another method","body":"<p>Because you're simply not using the computation of your function. It doesn't change value of x, it returns new value.</p>\n\n<p>You should do something like:</p>\n\n<pre><code>int y = addFive(x);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1731947,"reputation":856,"user_id":1585375,"accept_rate":80,"display_name":"Sidmeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426799547,"creation_date":1426799128,"answer_id":29155005,"question_id":29154983,"body_markdown":"You are calling the method `addFive(int x)` with `x`, but not assigning the returned value to anything. So, inside `main()`&#39;s scope `x` remains as before, 3 - which is what is being printed. So, you can either store the returned value to `x` itself:\r\n\r\n    x = addFive(x);\r\n\r\nor make the function call within print statement:\r\n\r\n    System.out.println(&quot;x = &quot; + addFive(x));","title":"returning a value from a method to another method","body":"<p>You are calling the method <code>addFive(int x)</code> with <code>x</code>, but not assigning the returned value to anything. So, inside <code>main()</code>'s scope <code>x</code> remains as before, 3 - which is what is being printed. So, you can either store the returned value to <code>x</code> itself:</p>\n\n<pre><code>x = addFive(x);\n</code></pre>\n\n<p>or make the function call within print statement:</p>\n\n<pre><code>System.out.println(\"x = \" + addFive(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426800389,"creation_date":1426799129,"answer_id":29155007,"question_id":29154983,"body_markdown":"You have to set the returned value to a variable, otherwise it is lost and you are retrieving the value of &quot;x&quot; in your main method. Do this instead to capture the return value.\r\n\r\n       public static void main(String[] args) {\r\n           int x=3;\r\n           x = addFive(x);\r\n           System.out.println(&quot;x = &quot; + x);\r\n       }\r\n\r\n\r\nIf you only want to see the returned value and not store it, you can even put the function call inside the `System.out.println`.\r\n\r\n       public static void main(String[] args) {\r\n           int x=3;\r\n           System.out.println(&quot;x = &quot; + addFive(x));\r\n\r\n       }","title":"returning a value from a method to another method","body":"<p>You have to set the returned value to a variable, otherwise it is lost and you are retrieving the value of \"x\" in your main method. Do this instead to capture the return value.</p>\n\n<pre><code>   public static void main(String[] args) {\n       int x=3;\n       x = addFive(x);\n       System.out.println(\"x = \" + x);\n   }\n</code></pre>\n\n<p>If you only want to see the returned value and not store it, you can even put the function call inside the <code>System.out.println</code>.</p>\n\n<pre><code>   public static void main(String[] args) {\n       int x=3;\n       System.out.println(\"x = \" + addFive(x));\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3080636,"reputation":1334,"user_id":2752265,"accept_rate":89,"display_name":"Jud"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1426799328,"creation_date":1426799328,"answer_id":29155056,"question_id":29154983,"body_markdown":"You want `x=addFive(x);` rather than just `addFive(x)`. Calling `addFive(x)` on it&#39;s own does not apply the returned value to any variable.","title":"returning a value from a method to another method","body":"<p>You want <code>x=addFive(x);</code> rather than just <code>addFive(x)</code>. Calling <code>addFive(x)</code> on it's own does not apply the returned value to any variable.</p>\n"},{"tags":[],"owner":{"account_id":3714976,"reputation":29,"user_id":3091421,"display_name":"adamclmns"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426799394,"creation_date":1426799394,"answer_id":29155078,"question_id":29154983,"body_markdown":"Like everyone else is saying, you need to assign your return value. Because you&#39;re doing &quot;addFive(x)&quot; instead of &quot;x=addFive(x);&quot; you&#39;re just printing the instance of &quot;x&quot; in main, and not ever getting the value that your function returns. \r\n\r\nThis is because &quot;x&quot; in your main function is an instance variable, and your &quot;x&quot; in addFive() is a local variable. These are not the same variable, even if they have the same name. \r\nThis might clarify a bit - [http://www.tutorialspoint.com/java/java_variable_types.htm][1]\r\n\r\n\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/java_variable_types.htm","title":"returning a value from a method to another method","body":"<p>Like everyone else is saying, you need to assign your return value. Because you're doing \"addFive(x)\" instead of \"x=addFive(x);\" you're just printing the instance of \"x\" in main, and not ever getting the value that your function returns. </p>\n\n<p>This is because \"x\" in your main function is an instance variable, and your \"x\" in addFive() is a local variable. These are not the same variable, even if they have the same name. \nThis might clarify a bit - <a href=\"http://www.tutorialspoint.com/java/java_variable_types.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/java/java_variable_types.htm</a></p>\n"},{"tags":[],"owner":{"account_id":5820911,"reputation":295,"user_id":4589030,"accept_rate":100,"display_name":"Mehmood Arbaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426799775,"creation_date":1426799775,"answer_id":29155165,"question_id":29154983,"body_markdown":"The value in the main function is completely different from the value in the `addFive(int x )` function. You send an `x` from main to `addFive(int x)` method. \r\n\r\nJVM makes a copy of x and send it to `addFive(int x)` method. Then `x` changes in the `addFive(int x)` method. But the `x` in `main()` method remains unchanged. \r\n\r\nIf you want to get the changed value returned by `addFive(int x)` from main method you can do the following - \r\n\r\n    int returnedValueFromAddFive = addFive(x)  \r\n\r\nHope it will help.  \r\nThanks a lot. ","title":"returning a value from a method to another method","body":"<p>The value in the main function is completely different from the value in the <code>addFive(int x )</code> function. You send an <code>x</code> from main to <code>addFive(int x)</code> method. </p>\n\n<p>JVM makes a copy of x and send it to <code>addFive(int x)</code> method. Then <code>x</code> changes in the <code>addFive(int x)</code> method. But the <code>x</code> in <code>main()</code> method remains unchanged. </p>\n\n<p>If you want to get the changed value returned by <code>addFive(int x)</code> from main method you can do the following - </p>\n\n<pre><code>int returnedValueFromAddFive = addFive(x)  \n</code></pre>\n\n<p>Hope it will help.<br>\nThanks a lot. </p>\n"},{"tags":[],"owner":{"account_id":2629832,"reputation":141,"user_id":2276097,"display_name":"Joe Doe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426799881,"creation_date":1426799881,"answer_id":29155193,"question_id":29154983,"body_markdown":"when you call a method in java and you don&#39;t assign for any variable, the changes will happen in the method call, after that this value will be lost and go back to the value that you assign. to see the result you should do that  `System.out.println(addFive(x));` but if you want to change the value of `x` you have to assign `x = addFive(x);`\r\n","title":"returning a value from a method to another method","body":"<p>when you call a method in java and you don't assign for any variable, the changes will happen in the method call, after that this value will be lost and go back to the value that you assign. to see the result you should do that  <code>System.out.println(addFive(x));</code> but if you want to change the value of <code>x</code> you have to assign <code>x = addFive(x);</code></p>\n"},{"tags":[],"owner":{"account_id":5935915,"reputation":111,"user_id":4668919,"accept_rate":92,"display_name":"Ski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426800208,"creation_date":1426800208,"answer_id":29155284,"question_id":29154983,"body_markdown":"The method does return a value, but you have to set the value to a variable too when you return it, or else how would it know which variable you want to return the value to? You can have 10 variable, and if you just call the method, how will it know which variable to return the number to? That&#39;s why you have to set the returning number it to a variable like this:\r\n\r\n    x = addFive(x);","title":"returning a value from a method to another method","body":"<p>The method does return a value, but you have to set the value to a variable too when you return it, or else how would it know which variable you want to return the value to? You can have 10 variable, and if you just call the method, how will it know which variable to return the number to? That's why you have to set the returning number it to a variable like this:</p>\n\n<pre><code>x = addFive(x);\n</code></pre>\n"}],"owner":{"account_id":2773987,"reputation":6376,"user_id":2387962,"accept_rate":24,"display_name":"flutter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62225,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":8,"score":4,"last_activity_date":1634973697,"creation_date":1426799032,"question_id":29154983,"body_markdown":"Can somebody tell me why the value returned is 3 and not 8. Doesn&#39;t the `return x` statement from the `addFive` method change the value of `x` in the `main` method?\r\n\r\n\tpublic class App {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint x=3;\r\n\t\t\taddFive(x);\r\n\t\t\tSystem.out.println(&quot;x = &quot; + x);\r\n\t\t}\r\n\r\n\t\tprivate static int addFive(int x) {\r\n\t\t\tx += 5;\r\n\t\t\treturn x;\r\n\t\t}\r\n\t}","title":"returning a value from a method to another method","body":"<p>Can somebody tell me why the value returned is 3 and not 8. Doesn't the <code>return x</code> statement from the <code>addFive</code> method change the value of <code>x</code> in the <code>main</code> method?</p>\n\n<pre><code>public class App {\n    public static void main(String[] args) {\n        int x=3;\n        addFive(x);\n        System.out.println(\"x = \" + x);\n    }\n\n    private static int addFive(int x) {\n        x += 5;\n        return x;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1634932505,"post_id":69681639,"comment_id":123169344,"body_markdown":"You could use the `retry` operator. However it&#39;s seems there are several issues with your code. Do you use webflux? Why do you subscribe manually?","body":"You could use the <code>retry</code> operator. However it&#39;s seems there are several issues with your code. Do you use webflux? Why do you subscribe manually?"},{"owner":{"account_id":23114900,"reputation":33,"user_id":17222311,"display_name":"tsvlad"},"score":0,"creation_date":1634967987,"post_id":69681639,"comment_id":123174565,"body_markdown":"@lkatiforis This service method is called by callback on Kafka message. Not by controller. That&#39;s why i am using subscribe manually","body":"@lkatiforis This service method is called by callback on Kafka message. Not by controller. That&#39;s why i am using subscribe manually"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634972802,"creation_date":1634972802,"answer_id":69685903,"question_id":69681639,"body_markdown":"The following retries every 2 seconds in case `OptimisticLockingFailureException` is thrown.\r\n\r\n    private static final int MAX_ATTEMPTS = Integer.MAX_VALUE;\r\n\r\n    public void updateStatus(String id, EventStatus status) {\r\n        eventRepository.findById(id)\r\n                .map(eventDocument -&gt; {\r\n                    eventDocument.setStatus(status);\r\n                    return eventDocument;\r\n                })\r\n                .flatMap(event -&gt; Mono.defer(() -&gt; eventRepository.save(eventDocument)\r\n                        .retryWhen(Retry.backoff(MAX_ATTEMPTS, Duration.ofSeconds(2))\r\n                                .filter(t -&gt; t instanceof OptimisticLockingFailureException))))\r\n                .subscribe();\r\n    }","title":"Retry for specific exception in Reactor","body":"<p>The following retries every 2 seconds in case <code>OptimisticLockingFailureException</code> is thrown.</p>\n<pre><code>private static final int MAX_ATTEMPTS = Integer.MAX_VALUE;\n\npublic void updateStatus(String id, EventStatus status) {\n    eventRepository.findById(id)\n            .map(eventDocument -&gt; {\n                eventDocument.setStatus(status);\n                return eventDocument;\n            })\n            .flatMap(event -&gt; Mono.defer(() -&gt; eventRepository.save(eventDocument)\n                    .retryWhen(Retry.backoff(MAX_ATTEMPTS, Duration.ofSeconds(2))\n                            .filter(t -&gt; t instanceof OptimisticLockingFailureException))))\n            .subscribe();\n}\n</code></pre>\n"}],"owner":{"account_id":23114900,"reputation":33,"user_id":17222311,"display_name":"tsvlad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1642,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69685903,"answer_count":1,"score":3,"last_activity_date":1634973275,"creation_date":1634927644,"question_id":69681639,"body_markdown":"I have microservices application. For collaborating each service uses async messaging. I know, that spring data jpa uses optimistic lock by default. But in case of this lock in methods called  not by user, but by another service (in my example there are validation services, that can update status of object to valid or non valid) I want to handle exception and retry to update object. Also I had to use webflux stack on this microservice. Now i have such code:\r\n\r\n    public void updateStatus(String id, EventStatus status) {\r\n        eventRepository.findById(id)\r\n                .doOnNext(eventDocument -&gt; {\r\n                    eventDocument.setStatus(status);\r\n                    eventRepository.save(eventDocument).subscribe();\r\n                }).doOnError(OptimisticLockingFailureException.class, exception -&gt; { //Retry in 2 sec if optimistic lock occurs on update\r\n                    try {\r\n                        Thread.sleep(2000);\r\n                    } catch (InterruptedException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                    updateStatus(id, status);\r\n                })\r\n                .subscribe();\r\n    }\r\n\r\nI don&#39;t like recursion here. Is there any better solution for this?","title":"Retry for specific exception in Reactor","body":"<p>I have microservices application. For collaborating each service uses async messaging. I know, that spring data jpa uses optimistic lock by default. But in case of this lock in methods called  not by user, but by another service (in my example there are validation services, that can update status of object to valid or non valid) I want to handle exception and retry to update object. Also I had to use webflux stack on this microservice. Now i have such code:</p>\n<pre><code>public void updateStatus(String id, EventStatus status) {\n    eventRepository.findById(id)\n            .doOnNext(eventDocument -&gt; {\n                eventDocument.setStatus(status);\n                eventRepository.save(eventDocument).subscribe();\n            }).doOnError(OptimisticLockingFailureException.class, exception -&gt; { //Retry in 2 sec if optimistic lock occurs on update\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException ex) {\n                    ex.printStackTrace();\n                }\n                updateStatus(id, status);\n            })\n            .subscribe();\n}\n</code></pre>\n<p>I don't like recursion here. Is there any better solution for this?</p>\n"},{"tags":["java","android","android-espresso"],"answers":[{"tags":[],"owner":{"account_id":22435751,"reputation":21,"user_id":16641030,"display_name":"Emmcy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634973240,"creation_date":1634973240,"answer_id":69685941,"question_id":69678636,"body_markdown":"I&#39;m not sure if it&#39;s the best answer but I have found this code thats works perfectly well.\r\n\r\n```\r\nUiDevice uiDevice = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation());\r\n        UiObject spinnerItem = uiDevice.findObject(new UiSelector().text(&quot;Projet Lucidia&quot;));\r\n        spinnerItem.click();\r\n```","title":"Espresso, click on a spinner Item","body":"<p>I'm not sure if it's the best answer but I have found this code thats works perfectly well.</p>\n<pre><code>UiDevice uiDevice = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation());\n        UiObject spinnerItem = uiDevice.findObject(new UiSelector().text(&quot;Projet Lucidia&quot;));\n        spinnerItem.click();\n</code></pre>\n"}],"owner":{"account_id":22435751,"reputation":21,"user_id":16641030,"display_name":"Emmcy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634973240,"creation_date":1634912967,"question_id":69678636,"body_markdown":"I&#39;m desperately trying to simulate a click on a spinner item with Espresso.\r\n\r\nThe spinner is populated with objects from the class Project. This class has a toString() method, which allows the spinner to display String.\r\n```\r\nprivate void populateDialogSpinner() {\r\n        final ArrayAdapter&lt;Project&gt; adapter2 = new ArrayAdapter&lt;Project&gt;(this, android.R.layout.simple_spinner_item, allProjects);\r\n        adapter2.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        vm.getAllProjects().observe(this, projects -&gt; {\r\n            allProjects.clear();\r\n            allProjects.addAll(projects);\r\n            adapter2.notifyDataSetChanged();\r\n        });\r\n\r\n```\r\n\r\nI have found several solutions in order to use this spinner with Espresso but none of them has worked. This is my Test class.\r\n\r\n```\r\n    @Test\r\n    public void addActivity () throws InterruptedException {\r\n        onView(withId(R.id.fab_add_task)).perform(click()); \r\n        onView(withId(R.id.txt_task_name)).perform(replaceText(textTaskText), closeSoftKeyboard()); \r\n        onView(withId(R.id.project_spinner)).perform(click());\r\n\r\n// A few solutions I have tried : \r\n// 1 onView(withText(&quot;Projet Lucidia&quot;)).perform(click());\r\n// 2 onData(anything())\r\n//       .inAdapterView(withId(R.id.project_spinner))\r\n//       .onChildView(withMyValue(&quot;Projet L&quot;))\r\n//       .perform(click());\r\n// 3 onData(anything()).atPosition(1).perform(click());\r\n// 4 onView(allOf(withId(R.id.project_spinner), withSpinnerText(&quot;Project Lucidia&quot;))).perform(click());\r\n\r\n``` \r\n\r\nwithMyValue refers to this class \r\n```\r\npublic static Matcher&lt;View&gt; childAtPosition(final Matcher&lt;View&gt; parentMatcher, final int position) {\r\n\r\n        return new TypeSafeMatcher&lt;View&gt;() {\r\n            @Override\r\n            public void describeTo(Description description) {\r\n                description.appendText(&quot;Child at position &quot; + position + &quot; in parent &quot;);\r\n                parentMatcher.describeTo(description);\r\n            }\r\n\r\n            @Override\r\n            public boolean matchesSafely(View view) {\r\n                ViewParent parent = view.getParent();\r\n                return parent instanceof ViewGroup &amp;&amp; parentMatcher.matches(parent) &amp;&amp; view.equals(((ViewGroup) parent).getChildAt(position));\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nEach time, the emulator stays with the spinner open like this : \r\n[![Emulator][1]][1]\r\n\r\nAny idea of how I can handle this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tq5uA.jpg","title":"Espresso, click on a spinner Item","body":"<p>I'm desperately trying to simulate a click on a spinner item with Espresso.</p>\n<p>The spinner is populated with objects from the class Project. This class has a toString() method, which allows the spinner to display String.</p>\n<pre><code>private void populateDialogSpinner() {\n        final ArrayAdapter&lt;Project&gt; adapter2 = new ArrayAdapter&lt;Project&gt;(this, android.R.layout.simple_spinner_item, allProjects);\n        adapter2.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        vm.getAllProjects().observe(this, projects -&gt; {\n            allProjects.clear();\n            allProjects.addAll(projects);\n            adapter2.notifyDataSetChanged();\n        });\n\n</code></pre>\n<p>I have found several solutions in order to use this spinner with Espresso but none of them has worked. This is my Test class.</p>\n<pre><code>    @Test\n    public void addActivity () throws InterruptedException {\n        onView(withId(R.id.fab_add_task)).perform(click()); \n        onView(withId(R.id.txt_task_name)).perform(replaceText(textTaskText), closeSoftKeyboard()); \n        onView(withId(R.id.project_spinner)).perform(click());\n\n// A few solutions I have tried : \n// 1 onView(withText(&quot;Projet Lucidia&quot;)).perform(click());\n// 2 onData(anything())\n//       .inAdapterView(withId(R.id.project_spinner))\n//       .onChildView(withMyValue(&quot;Projet L&quot;))\n//       .perform(click());\n// 3 onData(anything()).atPosition(1).perform(click());\n// 4 onView(allOf(withId(R.id.project_spinner), withSpinnerText(&quot;Project Lucidia&quot;))).perform(click());\n\n</code></pre>\n<p>withMyValue refers to this class</p>\n<pre><code>public static Matcher&lt;View&gt; childAtPosition(final Matcher&lt;View&gt; parentMatcher, final int position) {\n\n        return new TypeSafeMatcher&lt;View&gt;() {\n            @Override\n            public void describeTo(Description description) {\n                description.appendText(&quot;Child at position &quot; + position + &quot; in parent &quot;);\n                parentMatcher.describeTo(description);\n            }\n\n            @Override\n            public boolean matchesSafely(View view) {\n                ViewParent parent = view.getParent();\n                return parent instanceof ViewGroup &amp;&amp; parentMatcher.matches(parent) &amp;&amp; view.equals(((ViewGroup) parent).getChildAt(position));\n            }\n        };\n    }\n</code></pre>\n<p>Each time, the emulator stays with the spinner open like this :\n<a href=\"https://i.stack.imgur.com/tq5uA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tq5uA.jpg\" alt=\"Emulator\" /></a></p>\n<p>Any idea of how I can handle this?</p>\n"},{"tags":["java","eclipse","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634940786,"creation_date":1634940786,"answer_id":69683572,"question_id":69682425,"body_markdown":"1. Copying JAR files to `lib` folders is old-school. Such you also set aside Maven&#39;s sophisticated dependency (and transitive dependency) resolution. The clean Maven way is to put your core-framework JAR to a Maven repo (remote or [local at the users machine][dep]) and let the users of it declare it as dependency in their projects.\r\n\r\n2. What do you exactly mean by &quot;_additional files and folders apart from the normal folders that maven provides_&quot;? What is there more than code and resources?\r\n\r\n3. To make your users&#39; life easier concerning dependencies you could a) use a [BOM] (Bill Of Material) dependency or b) use [inheritance] (i.e. `&lt;parent&gt;` ← child relationship).\r\n\r\n[dep]: https://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html\r\n[BOM]: https://stackoverflow.com/a/38501872/1744774\r\n[inheritance]: https://maven.apache.org/pom.html#Inheritance","title":"How to get folders, resources and pom file from a maven project to another maven project?","body":"<ol>\n<li><p>Copying JAR files to <code>lib</code> folders is old-school. Such you also set aside Maven's sophisticated dependency (and transitive dependency) resolution. The clean Maven way is to put your core-framework JAR to a Maven repo (remote or <a href=\"https://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html\" rel=\"nofollow noreferrer\">local at the users machine</a>) and let the users of it declare it as dependency in their projects.</p>\n</li>\n<li><p>What do you exactly mean by &quot;<em>additional files and folders apart from the normal folders that maven provides</em>&quot;? What is there more than code and resources?</p>\n</li>\n<li><p>To make your users' life easier concerning dependencies you could a) use a <a href=\"https://stackoverflow.com/a/38501872/1744774\">BOM</a> (Bill Of Material) dependency or b) use <a href=\"https://maven.apache.org/pom.html#Inheritance\" rel=\"nofollow noreferrer\">inheritance</a> (i.e. <code>&lt;parent&gt;</code> ← child relationship).</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634972793,"creation_date":1634972793,"answer_id":69685901,"question_id":69682425,"body_markdown":"Adding a dependency will not change your project in any way. You cannot add folders from a dependency to the project.\r\n\r\nYou can write a Maven archetype that is a kind of project template. Then people can use it to create new projects where the files are at the right places.","title":"How to get folders, resources and pom file from a maven project to another maven project?","body":"<p>Adding a dependency will not change your project in any way. You cannot add folders from a dependency to the project.</p>\n<p>You can write a Maven archetype that is a kind of project template. Then people can use it to create new projects where the files are at the right places.</p>\n"}],"owner":{"account_id":6740894,"reputation":95,"user_id":5194183,"accept_rate":38,"display_name":"Chandan Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634972793,"creation_date":1634932449,"question_id":69682425,"body_markdown":"I am trying my luck in eclipse to achieve something that I am able to successfully achieve using Visual Studio(.net project). I have a core-framework maven project with additional files and folders apart from the normal folders that maven provides. I exported it as jar file and added it as an external library to another maven project. Is there a way that when I add it as a library to the second project, the second project gets all the folders, files from the first maven project overwriting the pom file in the second maven project too? Inshort I want to make sure whoever takes the framework jar as reference follows the same folder structure as framework with required files such as config file, pom.xml file to avoid errors on missing path/files. I read about dependency management but even for that I have to define all the dependencies in child pom file which I want to avoid. Any help would be appreciated, I didn&#39;t find much info around the query.","title":"How to get folders, resources and pom file from a maven project to another maven project?","body":"<p>I am trying my luck in eclipse to achieve something that I am able to successfully achieve using Visual Studio(.net project). I have a core-framework maven project with additional files and folders apart from the normal folders that maven provides. I exported it as jar file and added it as an external library to another maven project. Is there a way that when I add it as a library to the second project, the second project gets all the folders, files from the first maven project overwriting the pom file in the second maven project too? Inshort I want to make sure whoever takes the framework jar as reference follows the same folder structure as framework with required files such as config file, pom.xml file to avoid errors on missing path/files. I read about dependency management but even for that I have to define all the dependencies in child pom file which I want to avoid. Any help would be appreciated, I didn't find much info around the query.</p>\n"},{"tags":["java","maven","jdbc","jar","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":22771851,"reputation":1650,"user_id":16929145,"display_name":"Raul Saucedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634833212,"creation_date":1634832319,"answer_id":69665294,"question_id":69648891,"body_markdown":"You can use [this example code][1], how to use it, in a code.\r\n\r\n    @Experimental(Experimental.Kind.SOURCE_SINK)\r\n    public class JdbcIO {\r\n      /**\r\n       * Read data from a JDBC datasource.\r\n       *\r\n       * @param  Type of the data to be read.\r\n       */\r\n      public static  Read read() {\r\n        return new AutoValue_JdbcIO_Read.Builder().build();\r\n      }\r\n    \r\n      /**\r\n       * Like {@link #read}, but executes multiple instances of the query substituting each element\r\n       * of a {@link PCollection} as query parameters.\r\n       *\r\n       * @param  Type of the data representing query parameters.\r\n       * @param  Type of the data to be read.\r\n       */\r\n      public static  ReadAll readAll() {\r\n        return new AutoValue_JdbcIO_ReadAll.Builder().build();\r\n      }\r\n    \r\n      /**\r\n       * Write data to a JDBC datasource.\r\n       *\r\n       * @param  Type of the data to be written.\r\n       */\r\n      public static  Write write() {\r\n        return new AutoValue_JdbcIO_Write.Builder().build();\r\n      }\r\n    \r\n      private JdbcIO() {}\r\n    \r\n      /**\r\n       * An interface used by {@link JdbcIO.Read} for converting each row of the {@link ResultSet} into\r\n       * an element of the resulting {@link PCollection}.\r\n       */\r\n      @FunctionalInterface\r\n      public interface RowMapper extends Serializable {\r\n        T mapRow(ResultSet resultSet) throws Exception;\r\n      }\r\n    \r\n      /**\r\n       * A POJO describing a {@link DataSource}, either providing directly a {@link DataSource} or all\r\n       * properties allowing to create a {@link DataSource}.\r\n       */\r\n      @AutoValue\r\n      public abstract static class DataSourceConfiguration implements Serializable {\r\n        @Nullable abstract String getDriverClassName();\r\n        @Nullable abstract String getUrl();\r\n        @Nullable abstract String getUsername();\r\n        @Nullable abstract String getPassword();\r\n        @Nullable abstract String getConnectionProperties();\r\n        @Nullable abstract DataSource getDataSource();\r\n    \r\n        abstract Builder builder();\r\n    \r\n        @AutoValue.Builder\r\n        abstract static class Builder {\r\n          abstract Builder setDriverClassName(String driverClassName);\r\n          abstract Builder setUrl(String url);\r\n          abstract Builder setUsername(String username);\r\n          abstract Builder setPassword(String password);\r\n          abstract Builder setConnectionProperties(String connectionProperties);\r\n          abstract Builder setDataSource(DataSource dataSource);\r\n          abstract DataSourceConfiguration build();\r\n        }\r\n    \r\n        public static DataSourceConfiguration create(DataSource dataSource) {\r\n          checkArgument(dataSource != null, &quot;dataSource can not be null&quot;);\r\n          checkArgument(dataSource instanceof Serializable, &quot;dataSource must be Serializable&quot;);\r\n          return new AutoValue_JdbcIO_DataSourceConfiguration.Builder()\r\n              .setDataSource(dataSource)\r\n              .build();\r\n        }\r\n    \r\n        public static DataSourceConfiguration create(String driverClassName, String url) {\r\n          checkArgument(driverClassName != null, &quot;driverClassName can not be null&quot;);\r\n          checkArgument(url != null, &quot;url can not be null&quot;);\r\n          return new AutoValue_JdbcIO_DataSourceConfiguration.Builder()\r\n              .setDriverClassName(driverClassName)\r\n              .setUrl(url)\r\n              .build();\r\n        }\r\n    \r\n        public DataSourceConfiguration withUsername(String username) {\r\n          return builder().setUsername(username).build();\r\n        }\r\n    \r\n        public DataSourceConfiguration withPassword(String password) {\r\n          return builder().setPassword(password).build();\r\n        }\r\n    \r\n        /**\r\n\r\nYou can build and run your file as this example. You can see more [documentation][2]\r\n\r\n    # Build the project.\r\n    gradle(&#39;build&#39;)\r\n     \r\n    # Check the generated build files.\r\n    run(&#39;ls -lh build/libs/&#39;)\r\n     \r\n    # Run the shadow (fat jar) build.\r\n    gradle(&#39;runShadow&#39;)\r\n     \r\n    # Sample the first 20 results, remember there are no ordering guarantees.\r\n    run(&#39;head -n 20 outputs/part-00000-of-*&#39;)\r\n\r\n \r\n  [1]: https://jar-download.com/artifacts/org.apache.beam/beam-sdks-java-io-jdbc/2.2.0/source-code/org/apache/beam/sdk/io/jdbc/JdbcIO.java\r\n  [2]: https://colab.sandbox.google.com/github/apache/beam/blob/master/examples/notebooks/get-started/try-apache-beam-java.ipynb","title":"How to use custom JDBC jar file from GCS in Apache Beam Java SDK","body":"<p>You can use <a href=\"https://jar-download.com/artifacts/org.apache.beam/beam-sdks-java-io-jdbc/2.2.0/source-code/org/apache/beam/sdk/io/jdbc/JdbcIO.java\" rel=\"nofollow noreferrer\">this example code</a>, how to use it, in a code.</p>\n<pre><code>@Experimental(Experimental.Kind.SOURCE_SINK)\npublic class JdbcIO {\n  /**\n   * Read data from a JDBC datasource.\n   *\n   * @param  Type of the data to be read.\n   */\n  public static  Read read() {\n    return new AutoValue_JdbcIO_Read.Builder().build();\n  }\n\n  /**\n   * Like {@link #read}, but executes multiple instances of the query substituting each element\n   * of a {@link PCollection} as query parameters.\n   *\n   * @param  Type of the data representing query parameters.\n   * @param  Type of the data to be read.\n   */\n  public static  ReadAll readAll() {\n    return new AutoValue_JdbcIO_ReadAll.Builder().build();\n  }\n\n  /**\n   * Write data to a JDBC datasource.\n   *\n   * @param  Type of the data to be written.\n   */\n  public static  Write write() {\n    return new AutoValue_JdbcIO_Write.Builder().build();\n  }\n\n  private JdbcIO() {}\n\n  /**\n   * An interface used by {@link JdbcIO.Read} for converting each row of the {@link ResultSet} into\n   * an element of the resulting {@link PCollection}.\n   */\n  @FunctionalInterface\n  public interface RowMapper extends Serializable {\n    T mapRow(ResultSet resultSet) throws Exception;\n  }\n\n  /**\n   * A POJO describing a {@link DataSource}, either providing directly a {@link DataSource} or all\n   * properties allowing to create a {@link DataSource}.\n   */\n  @AutoValue\n  public abstract static class DataSourceConfiguration implements Serializable {\n    @Nullable abstract String getDriverClassName();\n    @Nullable abstract String getUrl();\n    @Nullable abstract String getUsername();\n    @Nullable abstract String getPassword();\n    @Nullable abstract String getConnectionProperties();\n    @Nullable abstract DataSource getDataSource();\n\n    abstract Builder builder();\n\n    @AutoValue.Builder\n    abstract static class Builder {\n      abstract Builder setDriverClassName(String driverClassName);\n      abstract Builder setUrl(String url);\n      abstract Builder setUsername(String username);\n      abstract Builder setPassword(String password);\n      abstract Builder setConnectionProperties(String connectionProperties);\n      abstract Builder setDataSource(DataSource dataSource);\n      abstract DataSourceConfiguration build();\n    }\n\n    public static DataSourceConfiguration create(DataSource dataSource) {\n      checkArgument(dataSource != null, &quot;dataSource can not be null&quot;);\n      checkArgument(dataSource instanceof Serializable, &quot;dataSource must be Serializable&quot;);\n      return new AutoValue_JdbcIO_DataSourceConfiguration.Builder()\n          .setDataSource(dataSource)\n          .build();\n    }\n\n    public static DataSourceConfiguration create(String driverClassName, String url) {\n      checkArgument(driverClassName != null, &quot;driverClassName can not be null&quot;);\n      checkArgument(url != null, &quot;url can not be null&quot;);\n      return new AutoValue_JdbcIO_DataSourceConfiguration.Builder()\n          .setDriverClassName(driverClassName)\n          .setUrl(url)\n          .build();\n    }\n\n    public DataSourceConfiguration withUsername(String username) {\n      return builder().setUsername(username).build();\n    }\n\n    public DataSourceConfiguration withPassword(String password) {\n      return builder().setPassword(password).build();\n    }\n\n    /**\n</code></pre>\n<p>You can build and run your file as this example. You can see more <a href=\"https://colab.sandbox.google.com/github/apache/beam/blob/master/examples/notebooks/get-started/try-apache-beam-java.ipynb\" rel=\"nofollow noreferrer\">documentation</a></p>\n<pre><code># Build the project.\ngradle('build')\n \n# Check the generated build files.\nrun('ls -lh build/libs/')\n \n# Run the shadow (fat jar) build.\ngradle('runShadow')\n \n# Sample the first 20 results, remember there are no ordering guarantees.\nrun('head -n 20 outputs/part-00000-of-*')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634972393,"creation_date":1634972393,"answer_id":69685863,"question_id":69648891,"body_markdown":"To use additional dependency jars, you can simply add such jars to CLASSPATH when running the Beam Java pipeline. All jars in the CLASSPATH should be staged by Beam runners.\r\n\r\nYou can also use [this](https://github.com/apache/beam/blob/7134cfdd9daffa649c5401c79cc321732302c53b/sdks/java/core/src/main/java/org/apache/beam/sdk/options/FileStagingOptions.java#L36) PipelineOption to specify dependencies.","title":"How to use custom JDBC jar file from GCS in Apache Beam Java SDK","body":"<p>To use additional dependency jars, you can simply add such jars to CLASSPATH when running the Beam Java pipeline. All jars in the CLASSPATH should be staged by Beam runners.</p>\n<p>You can also use <a href=\"https://github.com/apache/beam/blob/7134cfdd9daffa649c5401c79cc321732302c53b/sdks/java/core/src/main/java/org/apache/beam/sdk/options/FileStagingOptions.java#L36\" rel=\"nofollow noreferrer\">this</a> PipelineOption to specify dependencies.</p>\n"}],"owner":{"account_id":7211252,"reputation":67,"user_id":5505283,"display_name":"Sourav Chatterjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634972393,"creation_date":1634743718,"question_id":69648891,"body_markdown":"I have a use-case i.e. to read a file from GCS and write it to our own data-warehouse product through Apache Beam. We have a custom JDBC driver(.jar) to connect the warehouse and I am trying to use Apache Beam&#39;s JdbcIO to perform the ETL and maven-pom to manage dependency. Can someone help me to understand how can I leverage this custom jar file in Apache Beam?\r\n\r\n\r\n----------\r\n\r\n\r\n```\r\np.apply(JdbcIO.&lt;KV&lt;Integer, String&gt;&gt;read()\r\n.withDataSourceConfiguration(JdbcIO.DataSourceConfiguration.create(\r\n&quot;MYDRIVERCLASS&quot;, &quot;DATABASE_URL&quot;)\r\n.withUsername(&quot;username&quot;)\r\n.withPassword(&quot;password&quot;))\r\n.withQuery(&quot;select id,name from Person&quot;)\r\n.withCoder(KvCoder.of(BigEndianIntegerCoder.of(), StringUtf8Coder.of()))\r\n.withRowMapper(new JdbcIO.RowMapper&lt;KV&lt;Integer, String&gt;&gt;() {\r\npublic KV&lt;Integer, String&gt; mapRow(ResultSet resultSet) throws Exception {\r\n    return KV.of(resultSet.getInt(1), resultSet.getString(2));\r\n}\r\n})\r\n);\r\n```","title":"How to use custom JDBC jar file from GCS in Apache Beam Java SDK","body":"<p>I have a use-case i.e. to read a file from GCS and write it to our own data-warehouse product through Apache Beam. We have a custom JDBC driver(.jar) to connect the warehouse and I am trying to use Apache Beam's JdbcIO to perform the ETL and maven-pom to manage dependency. Can someone help me to understand how can I leverage this custom jar file in Apache Beam?</p>\n<hr />\n<pre><code>p.apply(JdbcIO.&lt;KV&lt;Integer, String&gt;&gt;read()\n.withDataSourceConfiguration(JdbcIO.DataSourceConfiguration.create(\n&quot;MYDRIVERCLASS&quot;, &quot;DATABASE_URL&quot;)\n.withUsername(&quot;username&quot;)\n.withPassword(&quot;password&quot;))\n.withQuery(&quot;select id,name from Person&quot;)\n.withCoder(KvCoder.of(BigEndianIntegerCoder.of(), StringUtf8Coder.of()))\n.withRowMapper(new JdbcIO.RowMapper&lt;KV&lt;Integer, String&gt;&gt;() {\npublic KV&lt;Integer, String&gt; mapRow(ResultSet resultSet) throws Exception {\n    return KV.of(resultSet.getInt(1), resultSet.getString(2));\n}\n})\n);\n</code></pre>\n"},{"tags":["java","swing","jtextpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1634971303,"post_id":69685717,"comment_id":123175033,"body_markdown":"Can you write that as HTML? A `JTextPane` (or `JEditorPane`) supports (simple) HTML formatting.","body":"Can you write that as HTML? A <code>JTextPane</code> (or <code>JEditorPane</code>) supports (simple) HTML formatting."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1634971988,"post_id":69685717,"comment_id":123175119,"body_markdown":"Looks like you&#39;ll need to use a Markdown to HTML converter, this will require you to do some googling to find a suitable library","body":"Looks like you&#39;ll need to use a Markdown to HTML converter, this will require you to do some googling to find a suitable library"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1634972081,"post_id":69685717,"comment_id":123175137,"body_markdown":"`JTextPane` also supports _Rich Text Format_ (RTF). For converting plain text to RTF, refer to [Java 8: how to convert plain UTF-8 text into RTF (with symbols &gt; 127)?](https://stackoverflow.com/questions/63549122/java-8-how-to-convert-plain-utf-8-text-into-rtf-with-symbols-127) and for using RTF in `JTextPane` refer to [load RTF into JTextPane](https://stackoverflow.com/questions/29524208/load-rtf-into-jtextpane)","body":"<code>JTextPane</code> also supports <i>Rich Text Format</i> (RTF). For converting plain text to RTF, refer to <a href=\"https://stackoverflow.com/questions/63549122/java-8-how-to-convert-plain-utf-8-text-into-rtf-with-symbols-127\">Java 8: how to convert plain UTF-8 text into RTF (with symbols &gt; 127)?</a> and for using RTF in <code>JTextPane</code> refer to <a href=\"https://stackoverflow.com/questions/29524208/load-rtf-into-jtextpane\">load RTF into JTextPane</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1634987015,"post_id":69685717,"comment_id":123177863,"body_markdown":"your text has to be placed into a styleddocument object wrapper first https://stackoverflow.com/questions/6068398/how-to-add-text-different-color-on-jtextpane  nb you may need to call repaint() on your textpane component from time to time and call a useless abstract call to setColor method to cause the java.awt to load to another color in the code also. (long time since i&#39;ve done that one).","body":"your text has to be placed into a styleddocument object wrapper first <a href=\"https://stackoverflow.com/questions/6068398/how-to-add-text-different-color-on-jtextpane\" title=\"how to add text different color on jtextpane\">stackoverflow.com/questions/6068398/&hellip;</a>  nb you may need to call repaint() on your textpane component from time to time and call a useless abstract call to setColor method to cause the java.awt to load to another color in the code also. (long time since i&#39;ve done that one)."}],"owner":{"account_id":11389024,"reputation":43,"user_id":8349761,"display_name":"thu.vix"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634971235,"creation_date":1634970633,"question_id":69685717,"body_markdown":"I have a txt file that contains data for a dictionary project, and the file is formatted as below: \r\n\r\n\r\n\r\n    @acute /ei, ə/\r\n    * noun\r\n    - a mark that means excellent, given to something of the highest quality, esp. school work:\r\n    = The teacher gave me an A for my essay.+ C&#244; gi&#225;o cho t&#244;i điểm A cho b&#224;i luận. \r\n    - the first letter of the English alphabet\r\n    * preposition\r\n    - in or for each or every; per:\r\n    = Take one tablet three times a day.+ Uống thuốc 3 lần một ng&#224;y \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBasically, a word starts with an @, its types start with *, its meanings start with - and examples start with =, Vietnamese translation of examples start with +\r\n\r\nI want to display this content in a `JTextPane` in Java Swing, in the following format but do not know how to start. \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/hpXuz.png&quot;&gt;\r\n\r\nCan someone give me advice on how to do it? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hpXuz.png","title":"How to display formatted text in Swing JTextPane?","body":"<p>I have a txt file that contains data for a dictionary project, and the file is formatted as below:</p>\n<pre><code>@acute /ei, ə/\n* noun\n- a mark that means excellent, given to something of the highest quality, esp. school work:\n= The teacher gave me an A for my essay.+ Cô giáo cho tôi điểm A cho bài luận. \n- the first letter of the English alphabet\n* preposition\n- in or for each or every; per:\n= Take one tablet three times a day.+ Uống thuốc 3 lần một ngày \n</code></pre>\n\n<p>Basically, a word starts with an @, its types start with *, its meanings start with - and examples start with =, Vietnamese translation of examples start with +</p>\n<p>I want to display this content in a <code>JTextPane</code> in Java Swing, in the following format but do not know how to start.</p>\n<img src=\"https://i.stack.imgur.com/hpXuz.png\">\n<p>Can someone give me advice on how to do it?</p>\n"},{"tags":["java","hibernate","spring-boot","flyway"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1535725971,"post_id":52117586,"comment_id":91186220,"body_markdown":"The main issue here is that you have 2 competing mechanisms to manage your DB schema. That is what gives you troubles. Also letting Hibernate create (and thus manage) your schema is generally a bad idea in production (also your schema (keys, indexes etc.) will probably be different then the one with flyway).","body":"The main issue here is that you have 2 competing mechanisms to manage your DB schema. That is what gives you troubles. Also letting Hibernate create (and thus manage) your schema is generally a bad idea in production (also your schema (keys, indexes etc.) will probably be different then the one with flyway)."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1535817111,"post_id":52117586,"comment_id":91209890,"body_markdown":"jsut like @M.Deinum said, don&#39;t let Hibernate create the tables. We use Flyway scripts like V0_1__Tables.sql, V0_2__Sequences.sql, V03__Data.sql to initially setup the necessary DB objects and populate them and then use the version from 1 upward to evolve our database.","body":"jsut like @M.Deinum said, don&#39;t let Hibernate create the tables. We use Flyway scripts like V0_1__Tables.sql, V0_2__Sequences.sql, V03__Data.sql to initially setup the necessary DB objects and populate them and then use the version from 1 upward to evolve our database."},{"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"score":0,"creation_date":1535893566,"post_id":52117586,"comment_id":91224227,"body_markdown":"We have been using Hibernate to generate DB structures for years in multiple projects and multiple environments and we never had an issue with it. But while this approach is great for creating new stuff (tables, columns, indexes, etc.), it cannot be used for modifying or removing existing stuff. That&#39;s why we started using Flyway (for modification of existing structures). If we were to start managing the schema completely by Flyway (i.e. manually) , this would bring us a lot more work. The whole point of using Flyway should be to make our (developers) lives easier not harder...","body":"We have been using Hibernate to generate DB structures for years in multiple projects and multiple environments and we never had an issue with it. But while this approach is great for creating new stuff (tables, columns, indexes, etc.), it cannot be used for modifying or removing existing stuff. That&#39;s why we started using Flyway (for modification of existing structures). If we were to start managing the schema completely by Flyway (i.e. manually) , this would bring us a lot more work. The whole point of using Flyway should be to make our (developers) lives easier not harder..."}],"answers":[{"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536065201,"creation_date":1536065201,"answer_id":52166704,"question_id":52117586,"body_markdown":"\r\nAs comments already mentioned, flyway and hibernate should not be used together to update the schema, but this does not mean that you can&#39;t use Hibernate at all to help you maintaining your schema.\r\n\r\n**Baseline**:\r\nThis feature is definitely not designed to prevent migration execution on empty databases. This should be rather used when your database already exists (i.e. it has already tables and data, and you want to keep those data). For empty databases it is useless.\r\n\r\nExample:\r\nSuppose you have an existing database, generated with 2 scripts:\r\n\r\n    V1__create_tables.sql\r\n    V2__create_constraints.sql\r\n\r\nNow you want to manage further schema updates with flyway:\r\n\r\n    V3__First_update.sql\r\n    V4__Second_update.sql\r\n\r\nV2 is your baseline, meaning that migration of database will not execute migrations V1 and V2, because they already exist.\r\n\r\nIf you want to combine **Spring Boot + Hibernate + Flyway**:\r\n\r\n* Disable automatic schema update by hibernate - as already mentioned, this might be dangerous (hbm2ddl.auto=false)\r\n* Use Hibernate SchemaGenerator to generate a big SQL-file, let&#39;s call it `V1__initial_schema.sql`, like in this [old-but-still-valid article][1].\r\n* If you happen to have a database in V1 with [data you want to keep, you should baseline it][2]. Otherwise just start from an empty schema. (`flyway clean`) and migrate (`flyway migrate`). *WARNING: `flyway clean` will drop all your tables!*\r\n\r\nNow you are ready to use both Hibernate and Flyway for each upcoming schema modification.\r\nLet&#39;s suppose you have just updated your model:\r\n\r\n* Use Hibernate SchemaGenerator to generate the same big SQL-file, let&#39;s call it `generator-output.sql`.\r\n* Do a side-by-side comparison of `V1__initial_schema.sql` and `generator-output.sql`. This will help you identify the differences between the 2 files. Based on these differences, you can generate a new migration file, let&#39;s call it `V2__update.sql`.\r\n* Do a `flyway migrate` on your database(s).\r\n\r\n\r\n  [1]: http://www.javarticles.com/2015/06/generating-database-schema-using-hibernate.html\r\n  [2]: https://flywaydb.org/documentation/existing","title":"Spring Boot + Hibernate + Flyway: don&#39;t run migrations on new database","body":"<p>As comments already mentioned, flyway and hibernate should not be used together to update the schema, but this does not mean that you can't use Hibernate at all to help you maintaining your schema.</p>\n\n<p><strong>Baseline</strong>:\nThis feature is definitely not designed to prevent migration execution on empty databases. This should be rather used when your database already exists (i.e. it has already tables and data, and you want to keep those data). For empty databases it is useless.</p>\n\n<p>Example:\nSuppose you have an existing database, generated with 2 scripts:</p>\n\n<pre><code>V1__create_tables.sql\nV2__create_constraints.sql\n</code></pre>\n\n<p>Now you want to manage further schema updates with flyway:</p>\n\n<pre><code>V3__First_update.sql\nV4__Second_update.sql\n</code></pre>\n\n<p>V2 is your baseline, meaning that migration of database will not execute migrations V1 and V2, because they already exist.</p>\n\n<p>If you want to combine <strong>Spring Boot + Hibernate + Flyway</strong>:</p>\n\n<ul>\n<li>Disable automatic schema update by hibernate - as already mentioned, this might be dangerous (hbm2ddl.auto=false)</li>\n<li>Use Hibernate SchemaGenerator to generate a big SQL-file, let's call it <code>V1__initial_schema.sql</code>, like in this <a href=\"http://www.javarticles.com/2015/06/generating-database-schema-using-hibernate.html\" rel=\"nofollow noreferrer\">old-but-still-valid article</a>.</li>\n<li>If you happen to have a database in V1 with <a href=\"https://flywaydb.org/documentation/existing\" rel=\"nofollow noreferrer\">data you want to keep, you should baseline it</a>. Otherwise just start from an empty schema. (<code>flyway clean</code>) and migrate (<code>flyway migrate</code>). <em>WARNING: <code>flyway clean</code> will drop all your tables!</em></li>\n</ul>\n\n<p>Now you are ready to use both Hibernate and Flyway for each upcoming schema modification.\nLet's suppose you have just updated your model:</p>\n\n<ul>\n<li>Use Hibernate SchemaGenerator to generate the same big SQL-file, let's call it <code>generator-output.sql</code>.</li>\n<li>Do a side-by-side comparison of <code>V1__initial_schema.sql</code> and <code>generator-output.sql</code>. This will help you identify the differences between the 2 files. Based on these differences, you can generate a new migration file, let's call it <code>V2__update.sql</code>.</li>\n<li>Do a <code>flyway migrate</code> on your database(s).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1553603947,"creation_date":1536582059,"answer_id":52257696,"question_id":52117586,"body_markdown":"Solved: I created a custom `FlywayMigrationStrategy` bean where I manually check if Flyway has been already introduced to the database (by checking if the migration table exists). If not, I run the `baseline` command. Then I call the `migrate` command as usual.\r\n\r\nHere is the Spring Boot configuration:\r\n\r\n    import java.sql.DatabaseMetaData;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n\r\n    import javax.sql.DataSource;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.autoconfigure.flyway.FlywayMigrationStrategy;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    public class FlywayConfig {\r\n\r\n    \t@Autowired\r\n    \tprivate DataSource dataSource;\r\n\r\n    \t@Value(&quot;${flyway.table}&quot;)\r\n    \tprivate String flywayTableName;\r\n\r\n    \t@Value(&quot;${flyway.baselineVersionAsString}&quot;)\r\n    \tprivate String baselineVersion;\r\n\r\n    \t@Bean\r\n    \tpublic FlywayMigrationStrategy flywayMigrationStrategy() {\r\n    \t\treturn flyway -&gt; {\r\n    \t\t\tif (!isFlywayInitialized()) {\r\n    \t\t\t\tflyway.setBaselineVersionAsString(baselineVersion);\r\n    \t\t\t\tflyway.baseline();\r\n    \t\t\t}\r\n    \t\t\tflyway.migrate();\r\n    \t\t};\r\n    \t}\r\n\r\n    \tprivate boolean isFlywayInitialized() {\r\n\r\n    \t\ttry (Connection connection = dataSource.getConnection()) {\r\n    \t\t\tDatabaseMetaData metadata = connection.getMetaData();\r\n    \t\t\tResultSet result = metadata.getTables(null, null, flywayTableName, null);\r\n    \t\t\treturn result.next();\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\tthrow new RuntimeException(&quot;Failed to check if Flyway is initialized&quot;, e);\r\n    \t\t}\r\n    \t}\r\n\r\n    }","title":"Spring Boot + Hibernate + Flyway: don&#39;t run migrations on new database","body":"<p>Solved: I created a custom <code>FlywayMigrationStrategy</code> bean where I manually check if Flyway has been already introduced to the database (by checking if the migration table exists). If not, I run the <code>baseline</code> command. Then I call the <code>migrate</code> command as usual.</p>\n\n<p>Here is the Spring Boot configuration:</p>\n\n<pre><code>import java.sql.DatabaseMetaData;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.flyway.FlywayMigrationStrategy;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class FlywayConfig {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Value(\"${flyway.table}\")\n    private String flywayTableName;\n\n    @Value(\"${flyway.baselineVersionAsString}\")\n    private String baselineVersion;\n\n    @Bean\n    public FlywayMigrationStrategy flywayMigrationStrategy() {\n        return flyway -&gt; {\n            if (!isFlywayInitialized()) {\n                flyway.setBaselineVersionAsString(baselineVersion);\n                flyway.baseline();\n            }\n            flyway.migrate();\n        };\n    }\n\n    private boolean isFlywayInitialized() {\n\n        try (Connection connection = dataSource.getConnection()) {\n            DatabaseMetaData metadata = connection.getMetaData();\n            ResultSet result = metadata.getTables(null, null, flywayTableName, null);\n            return result.next();\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Failed to check if Flyway is initialized\", e);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5219040,"reputation":743,"user_id":4173048,"display_name":"withoutOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634971186,"creation_date":1634971186,"answer_id":69685759,"question_id":52117586,"body_markdown":"By the way When I try a inserting new version, I have seen that case sensitive filenames are important.\r\nAlso everytime remember set this property: `spring.flyway.ignore-future-migrations=false`\r\nI used `V100__script.sql` instead `v100__script.sql`","title":"Spring Boot + Hibernate + Flyway: don&#39;t run migrations on new database","body":"<p>By the way When I try a inserting new version, I have seen that case sensitive filenames are important.\nAlso everytime remember set this property: <code>spring.flyway.ignore-future-migrations=false</code>\nI used <code>V100__script.sql</code> instead <code>v100__script.sql</code></p>\n"}],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16237,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":52257696,"answer_count":3,"score":7,"last_activity_date":1634971186,"creation_date":1535725664,"question_id":52117586,"body_markdown":"I&#39;m using Flyway to update the DB schema. Currently, the latest version of the schema is 3 (the latest migration file is named `V3__postgres.sql`).\r\n\r\nIf I run the application on a database which has an older schema version, Flyway executes the update scripts as expected. However, if I run the app on a new (empty) database, flyway tries to execute the update scripts, but it doesn&#39;t find any tables (because Hibernate didn&#39;t create them yet), and the app terminates on error.\r\n\r\nI would like Flyway to **not** execute the update scripts on an empty database, since when Hibernate creates the tables, they will be at the latest version anyway.\r\n\r\nIf I understand it correctly, I should be able to use parameter `flyway.baseline-version` for this. My theory is that if Flyway doesn&#39;t find table `schema_version`, it should create it and insert a record saying that the DB is at version 3. But even if I set `flyway.baseline-version=3`, Flyway executes the scripts anyway. I also tried to set parameter `flyway.baseline-on-migrate=true` and their different combinations but I couldn&#39;t get it to work.\r\n\r\nDo I understand the `baseline-version` parameter correctly or am I missing something?\r\n\r\n**Note:** I&#39;m aware that since Spring Boot 2 the parameter namespace has changed to `spring.flyway.*`, but I&#39;m using Spring Boot 1 so that is not the problem.","title":"Spring Boot + Hibernate + Flyway: don&#39;t run migrations on new database","body":"<p>I'm using Flyway to update the DB schema. Currently, the latest version of the schema is 3 (the latest migration file is named <code>V3__postgres.sql</code>).</p>\n\n<p>If I run the application on a database which has an older schema version, Flyway executes the update scripts as expected. However, if I run the app on a new (empty) database, flyway tries to execute the update scripts, but it doesn't find any tables (because Hibernate didn't create them yet), and the app terminates on error.</p>\n\n<p>I would like Flyway to <strong>not</strong> execute the update scripts on an empty database, since when Hibernate creates the tables, they will be at the latest version anyway.</p>\n\n<p>If I understand it correctly, I should be able to use parameter <code>flyway.baseline-version</code> for this. My theory is that if Flyway doesn't find table <code>schema_version</code>, it should create it and insert a record saying that the DB is at version 3. But even if I set <code>flyway.baseline-version=3</code>, Flyway executes the scripts anyway. I also tried to set parameter <code>flyway.baseline-on-migrate=true</code> and their different combinations but I couldn't get it to work.</p>\n\n<p>Do I understand the <code>baseline-version</code> parameter correctly or am I missing something?</p>\n\n<p><strong>Note:</strong> I'm aware that since Spring Boot 2 the parameter namespace has changed to <code>spring.flyway.*</code>, but I'm using Spring Boot 1 so that is not the problem.</p>\n"},{"tags":["java","micronaut","micronaut-security"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1634911737,"post_id":69303305,"comment_id":123161872,"body_markdown":"Are you able to enable the introspection endpoint and hit the latter? https://micronaut-projects.github.io/micronaut-security/latest/guide/#introspectionendpoint","body":"Are you able to enable the introspection endpoint and hit the latter? <a href=\"https://micronaut-projects.github.io/micronaut-security/latest/guide/#introspectionendpoint\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-security/latest/guide&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1634912866,"post_id":69303305,"comment_id":123162346,"body_markdown":"I did, 401 on http://localhost:8080/token_info","body":"I did, 401 on <a href=\"http://localhost:8080/token_info\" rel=\"nofollow noreferrer\">localhost:8080/token_info</a>"},{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1634915667,"post_id":69303305,"comment_id":123163561,"body_markdown":"Then the token validation (using the JWKs) is failing for sure. Are you able to retrieve the contents of the key set through the configured link https://localhost:5001/.well-known/openid-configuration/jwks ?","body":"Then the token validation (using the JWKs) is failing for sure. Are you able to retrieve the contents of the key set through the configured link <a href=\"https://localhost:5001/.well-known/openid-configuration/jwks\" rel=\"nofollow noreferrer\">localhost:5001/.well-known/openid-configuration/jwks</a> ?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1634916630,"post_id":69303305,"comment_id":123164015,"body_markdown":"Yes I am able to fetch the content of key set","body":"Yes I am able to fetch the content of key set"}],"answers":[{"tags":[],"owner":{"account_id":1596,"reputation":77155,"user_id":2138,"accept_rate":58,"display_name":"Sergio del Amo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634918284,"creation_date":1634918284,"answer_id":69679874,"question_id":69303305,"body_markdown":"Add a breakpoint to [JwtValidator](https://github.com/micronaut-projects/micronaut-security/blob/master/security-jwt/src/main/java/io/micronaut/security/token/jwt/validator/JwtValidator.java)\r\n\r\nand increase the log level for security. Add the following line in `logback.xml`: \r\n\r\n```\r\n&lt;logger name=&quot;io.micronaut.security&quot; level=&quot;TRACE&quot;/&gt;\r\n```\r\n","title":"Authentication is null Micronaut 3","body":"<p>Add a breakpoint to <a href=\"https://github.com/micronaut-projects/micronaut-security/blob/master/security-jwt/src/main/java/io/micronaut/security/token/jwt/validator/JwtValidator.java\" rel=\"nofollow noreferrer\">JwtValidator</a></p>\n<p>and increase the log level for security. Add the following line in <code>logback.xml</code>:</p>\n<pre><code>&lt;logger name=&quot;io.micronaut.security&quot; level=&quot;TRACE&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634969691,"creation_date":1634969357,"answer_id":69685595,"question_id":69303305,"body_markdown":"Thanks to Sergio del Amo I was able to find the issue with my application. It was an `javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error`\r\n\r\nLocalhost certificate was not added in java cacerts. \r\n\r\nSince I am using Intellj download java 17 the file location might be different others java sdk\r\n\r\n\r\nAdding the certificate for application to the truststore file of the used JVM located at `/Users/macbook/Library/Java/JavaVirtualMachines/openjdk-17.0.1/Contents/Home/lib/security/cacerts`.\r\n\r\n\r\nCheck if your certificate is already in the truststore by running the following command: `keytool -list -keystore /Users/macbook/Library/Java/JavaVirtualMachines/openjdk-17.0.1/Contents/Home/lib/security/cacerts`\r\n\r\n\r\nDownload the certificate from browser and add it to the truststore with the following command:\r\n\r\n    keytool -import -noprompt -trustcacerts -alias &lt;AliasName&gt; -file   &lt;certificate&gt; -keystore &lt;KeystoreFile&gt; -storepass &lt;Password&gt;\r\n\r\nExample\r\n\r\n    keytool -import -noprompt -trustcacerts -alias falconIdentity -file /Users/macbook/Desktop/localhost.cer -keystore /Users/macbook/Library/Java/JavaVirtualMachines/openjdk-17.0.1/Contents/Home/lib/security/cacerts/keystore.jks -storepass changeit","title":"Authentication is null Micronaut 3","body":"<p>Thanks to Sergio del Amo I was able to find the issue with my application. It was an <code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error</code></p>\n<p>Localhost certificate was not added in java cacerts.</p>\n<p>Since I am using Intellj download java 17 the file location might be different others java sdk</p>\n<p>Adding the certificate for application to the truststore file of the used JVM located at <code>/Users/macbook/Library/Java/JavaVirtualMachines/openjdk-17.0.1/Contents/Home/lib/security/cacerts</code>.</p>\n<p>Check if your certificate is already in the truststore by running the following command: <code>keytool -list -keystore /Users/macbook/Library/Java/JavaVirtualMachines/openjdk-17.0.1/Contents/Home/lib/security/cacerts</code></p>\n<p>Download the certificate from browser and add it to the truststore with the following command:</p>\n<pre><code>keytool -import -noprompt -trustcacerts -alias &lt;AliasName&gt; -file   &lt;certificate&gt; -keystore &lt;KeystoreFile&gt; -storepass &lt;Password&gt;\n</code></pre>\n<p>Example</p>\n<pre><code>keytool -import -noprompt -trustcacerts -alias falconIdentity -file /Users/macbook/Desktop/localhost.cer -keystore /Users/macbook/Library/Java/JavaVirtualMachines/openjdk-17.0.1/Contents/Home/lib/security/cacerts/keystore.jks -storepass changeit\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69679874,"answer_count":2,"score":1,"last_activity_date":1634969691,"creation_date":1632412556,"question_id":69303305,"body_markdown":"I have a Micronaut 3 application, while using the JWT token the Authentication attribute on check method is null, however, I need to get all the roles from the JWT.\r\n\r\nAs per latest change from Micronaut\r\n\r\n**SecurityRule Changes**\r\n\r\nThe SecurityRule API has changed. The last argument to the method was a map that represented the user attributes. Instead that argument was replaced with a reference to the Authentication. This has the benefit of rules now having access to the username of the logged in user as well as access to the convenience method getRoles().\r\n\r\n\r\n    @Singleton\r\n    public class AuthorityHandler implements SecurityRule {\r\n        @Override\r\n        public Publisher&lt;SecurityRuleResult&gt; check(HttpRequest&lt;?&gt; request, RouteMatch&lt;?&gt; routeMatch, Authentication authentication) {\r\n            if (routeMatch instanceof MethodBasedRouteMatch methodBasedRouteMatch) {\r\n                if (methodBasedRouteMatch.hasAnnotation(IRequirement.class)) {\r\n                    AnnotationValue&lt;IRequirement&gt; requiredPermissionAnnotation = methodBasedRouteMatch.getAnnotation(IRequirement.class);\r\n                    Optional&lt;String&gt; resourceIdName = requiredPermissionAnnotation.stringValue(&quot;resourceName&quot;);\r\n                    String[] permissions = requiredPermissionAnnotation.stringValues(&quot;permission&quot;);\r\n                    if (permissions.length &gt; 0 &amp;&amp; resourceIdName.isPresent() &amp;&amp; authentication != null) {\r\n                        List&lt;String&gt; identityClaims = (List&lt;String&gt;) authentication.getRoles();\r\n                        if (Arrays.stream(permissions).anyMatch(element -&gt; identityClaims.contains(element)))\r\n                            return Mono.just(SecurityRuleResult.ALLOWED);\r\n                        else\r\n                            return Mono.just(SecurityRuleResult.REJECTED);\r\n                    }\r\n                }\r\n            }\r\n            return Mono.just(SecurityRuleResult.UNKNOWN);\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    @Post\r\n        @IRequirement(resourceName = ClaimType.TAG_PRODUCT, permission = {ClaimValue.TAG_OWNER,ClaimValue.TAG_CREATOR,ClaimValue.TAG_VIEWER })\r\n        Mono&lt;MutableHttpResponse&lt;?&gt;&gt; post(@Body @Valid CategoryCommand model);\r\n\r\nI am login to the application and passing the JWT token from request received from Identity server and it has roles as well. What I am missing or making mistake?\r\n\r\nconfiguration\r\n\r\n    micronaut:\r\n      application:\r\n        name: fetebirdApigateway\r\n      server:\r\n        port: 8080\r\n        cors:\r\n          enabled: true\r\n        http-version: 2.0\r\n      security:\r\n        enabled: true\r\n        token:\r\n          jwt:\r\n            enabled: true\r\n            signatures:\r\n              jwks:\r\n                IdentityServer:\r\n                  url: &#39;https://localhost:5001/.well-known/openid-configuration/jwks&#39;\r\n          propagation:\r\n            enabled: true\r\n            header:\r\n              enabled: true\r\n              header-name: &quot;Authorization&quot;\r\n              prefix: &quot;Bearer &quot;\r\n            service-id-regex: &quot;fetebirdProductPublisher|feteBirdService&quot;\r\n        intercept-url-map:\r\n          - pattern: /swagger-ui/**\r\n            httpMethod: GET\r\n            access:\r\n              - isAnonymous()\r\n          - pattern: /swagger/**\r\n            access:\r\n              - isAnonymous()\r\n      router:\r\n        static-resources:\r\n          swagger:\r\n            paths: classpath:META-INF/swagger\r\n            mapping: /swagger/**\r\n          swagger-ui:\r\n            paths: classpath:META-INF/swagger/views/swagger-ui\r\n            mapping: /swagger-ui/**\r\n    tracing:\r\n      zipkin:\r\n        enabled: true\r\n        http:\r\n          url: http://localhost:9411\r\n        sampler:\r\n          probability: 0.1\r\n    consul:\r\n      client:\r\n        registration:\r\n          enabled: true\r\n        defaultZone: ${CONSUL_HOST:localhost}:${CONSUL_PORT:8500}\r\n    jackson:\r\n      serializationInclusion: ALWAYS\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J1EkR.png\r\n  [2]: https://i.stack.imgur.com/0aF48.png\r\n\r\nDecoding JWT \r\n\r\n    {\r\n      &quot;nbf&quot;: 1634908283,\r\n      &quot;exp&quot;: 1634908483,\r\n      &quot;iss&quot;: &quot;https://localhost:5001&quot;,\r\n      &quot;client_id&quot;: &quot;Fete_Bird_UI&quot;,\r\n      &quot;sub&quot;: &quot;673533cc-7c0b-40f3-80ac-222696df385d&quot;,\r\n      &quot;auth_time&quot;: 1634906895,\r\n      &quot;idp&quot;: &quot;local&quot;,\r\n      &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier&quot;: &quot;673533cc-7c0b-40f3-80ac-222696df385d&quot;,\r\n      &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name&quot;: &quot;admin@local.com&quot;,\r\n      &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress&quot;: &quot;admin@local.com&quot;,\r\n      &quot;AspNet.Identity.SecurityStamp&quot;: &quot;812aa4cb-b9f1-48ac-9e39-1f0dceb6f1c4&quot;,\r\n      &quot;identityserver&quot;: &quot;owner&quot;,\r\n      &quot;fb_product&quot;: &quot;owner&quot;,\r\n      &quot;fb_order&quot;: &quot;owner&quot;,\r\n      &quot;fb_payment&quot;: &quot;owner&quot;,\r\n      &quot;jti&quot;: &quot;4AD786103632F389C21E10794E87BEC2&quot;,\r\n      &quot;sid&quot;: &quot;D0423E9D4C5DDC6575448F6C65537B63&quot;,\r\n      &quot;iat&quot;: 1634908283,\r\n      &quot;scope&quot;: [\r\n        &quot;openid&quot;,\r\n        &quot;profile&quot;,\r\n        &quot;email&quot;\r\n      ],\r\n      &quot;amr&quot;: [\r\n        &quot;pwd&quot;\r\n      ]\r\n    }\r\n\r\nClaims\r\n\r\n    &quot;identityserver&quot;: &quot;owner&quot;,\r\n      &quot;fb_product&quot;: &quot;owner&quot;,\r\n      &quot;fb_order&quot;: &quot;owner&quot;,\r\n      &quot;fb_payment&quot;: &quot;owner&quot;,","title":"Authentication is null Micronaut 3","body":"<p>I have a Micronaut 3 application, while using the JWT token the Authentication attribute on check method is null, however, I need to get all the roles from the JWT.</p>\n<p>As per latest change from Micronaut</p>\n<p><strong>SecurityRule Changes</strong></p>\n<p>The SecurityRule API has changed. The last argument to the method was a map that represented the user attributes. Instead that argument was replaced with a reference to the Authentication. This has the benefit of rules now having access to the username of the logged in user as well as access to the convenience method getRoles().</p>\n<pre><code>@Singleton\npublic class AuthorityHandler implements SecurityRule {\n    @Override\n    public Publisher&lt;SecurityRuleResult&gt; check(HttpRequest&lt;?&gt; request, RouteMatch&lt;?&gt; routeMatch, Authentication authentication) {\n        if (routeMatch instanceof MethodBasedRouteMatch methodBasedRouteMatch) {\n            if (methodBasedRouteMatch.hasAnnotation(IRequirement.class)) {\n                AnnotationValue&lt;IRequirement&gt; requiredPermissionAnnotation = methodBasedRouteMatch.getAnnotation(IRequirement.class);\n                Optional&lt;String&gt; resourceIdName = requiredPermissionAnnotation.stringValue(&quot;resourceName&quot;);\n                String[] permissions = requiredPermissionAnnotation.stringValues(&quot;permission&quot;);\n                if (permissions.length &gt; 0 &amp;&amp; resourceIdName.isPresent() &amp;&amp; authentication != null) {\n                    List&lt;String&gt; identityClaims = (List&lt;String&gt;) authentication.getRoles();\n                    if (Arrays.stream(permissions).anyMatch(element -&gt; identityClaims.contains(element)))\n                        return Mono.just(SecurityRuleResult.ALLOWED);\n                    else\n                        return Mono.just(SecurityRuleResult.REJECTED);\n                }\n            }\n        }\n        return Mono.just(SecurityRuleResult.UNKNOWN);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/J1EkR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1EkR.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@Post\n    @IRequirement(resourceName = ClaimType.TAG_PRODUCT, permission = {ClaimValue.TAG_OWNER,ClaimValue.TAG_CREATOR,ClaimValue.TAG_VIEWER })\n    Mono&lt;MutableHttpResponse&lt;?&gt;&gt; post(@Body @Valid CategoryCommand model);\n</code></pre>\n<p>I am login to the application and passing the JWT token from request received from Identity server and it has roles as well. What I am missing or making mistake?</p>\n<p>configuration</p>\n<pre><code>micronaut:\n  application:\n    name: fetebirdApigateway\n  server:\n    port: 8080\n    cors:\n      enabled: true\n    http-version: 2.0\n  security:\n    enabled: true\n    token:\n      jwt:\n        enabled: true\n        signatures:\n          jwks:\n            IdentityServer:\n              url: 'https://localhost:5001/.well-known/openid-configuration/jwks'\n      propagation:\n        enabled: true\n        header:\n          enabled: true\n          header-name: &quot;Authorization&quot;\n          prefix: &quot;Bearer &quot;\n        service-id-regex: &quot;fetebirdProductPublisher|feteBirdService&quot;\n    intercept-url-map:\n      - pattern: /swagger-ui/**\n        httpMethod: GET\n        access:\n          - isAnonymous()\n      - pattern: /swagger/**\n        access:\n          - isAnonymous()\n  router:\n    static-resources:\n      swagger:\n        paths: classpath:META-INF/swagger\n        mapping: /swagger/**\n      swagger-ui:\n        paths: classpath:META-INF/swagger/views/swagger-ui\n        mapping: /swagger-ui/**\ntracing:\n  zipkin:\n    enabled: true\n    http:\n      url: http://localhost:9411\n    sampler:\n      probability: 0.1\nconsul:\n  client:\n    registration:\n      enabled: true\n    defaultZone: ${CONSUL_HOST:localhost}:${CONSUL_PORT:8500}\njackson:\n  serializationInclusion: ALWAYS\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0aF48.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0aF48.png\" alt=\"enter image description here\" /></a></p>\n<p>Decoding JWT</p>\n<pre><code>{\n  &quot;nbf&quot;: 1634908283,\n  &quot;exp&quot;: 1634908483,\n  &quot;iss&quot;: &quot;https://localhost:5001&quot;,\n  &quot;client_id&quot;: &quot;Fete_Bird_UI&quot;,\n  &quot;sub&quot;: &quot;673533cc-7c0b-40f3-80ac-222696df385d&quot;,\n  &quot;auth_time&quot;: 1634906895,\n  &quot;idp&quot;: &quot;local&quot;,\n  &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier&quot;: &quot;673533cc-7c0b-40f3-80ac-222696df385d&quot;,\n  &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name&quot;: &quot;admin@local.com&quot;,\n  &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress&quot;: &quot;admin@local.com&quot;,\n  &quot;AspNet.Identity.SecurityStamp&quot;: &quot;812aa4cb-b9f1-48ac-9e39-1f0dceb6f1c4&quot;,\n  &quot;identityserver&quot;: &quot;owner&quot;,\n  &quot;fb_product&quot;: &quot;owner&quot;,\n  &quot;fb_order&quot;: &quot;owner&quot;,\n  &quot;fb_payment&quot;: &quot;owner&quot;,\n  &quot;jti&quot;: &quot;4AD786103632F389C21E10794E87BEC2&quot;,\n  &quot;sid&quot;: &quot;D0423E9D4C5DDC6575448F6C65537B63&quot;,\n  &quot;iat&quot;: 1634908283,\n  &quot;scope&quot;: [\n    &quot;openid&quot;,\n    &quot;profile&quot;,\n    &quot;email&quot;\n  ],\n  &quot;amr&quot;: [\n    &quot;pwd&quot;\n  ]\n}\n</code></pre>\n<p>Claims</p>\n<pre><code>&quot;identityserver&quot;: &quot;owner&quot;,\n  &quot;fb_product&quot;: &quot;owner&quot;,\n  &quot;fb_order&quot;: &quot;owner&quot;,\n  &quot;fb_payment&quot;: &quot;owner&quot;,\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","geckodriver","firefox-marionette"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":2,"creation_date":1479716042,"post_id":40715319,"comment_id":68658291,"body_markdown":"Have you looked into Selenium Grid? https://github.com/SeleniumHQ/selenium/wiki/Grid2","body":"Have you looked into Selenium Grid? <a href=\"https://github.com/SeleniumHQ/selenium/wiki/Grid2\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/wiki/Grid2</a>"}],"answers":[{"tags":[],"owner":{"account_id":6778078,"reputation":612,"user_id":5219300,"accept_rate":94,"display_name":"Master Azazel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479717041,"creation_date":1479717041,"answer_id":40715732,"question_id":40715319,"body_markdown":"\r\n[Selenium Standalone Server][1]\r\n\r\nThe **Selenium Server** is needed in order to run **Remote Selenium WebDriver**.\r\n\r\n\r\n  [1]: http://www.seleniumhq.org/download/","title":"Is there a way to run Selenium tests on a remote host?","body":"<p><a href=\"http://www.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Selenium Standalone Server</a></p>\n\n<p>The <strong>Selenium Server</strong> is needed in order to run <strong>Remote Selenium WebDriver</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2261458,"reputation":421,"user_id":1991441,"display_name":"Shubhasmit Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1479718930,"creation_date":1479718930,"answer_id":40716231,"question_id":40715319,"body_markdown":"Use Selenium Grid.\r\nCheck this [link][1] for detailed documentation.\r\n\r\n\r\n  [1]: http://www.seleniumhq.org/docs/07_selenium_grid.jsp","title":"Is there a way to run Selenium tests on a remote host?","body":"<p>Use Selenium Grid.\nCheck this <a href=\"http://www.seleniumhq.org/docs/07_selenium_grid.jsp\" rel=\"nofollow noreferrer\">link</a> for detailed documentation.</p>\n"}],"owner":{"account_id":221356,"reputation":1627,"user_id":479288,"accept_rate":82,"display_name":"Cos64"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10866,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40716231,"answer_count":2,"score":2,"last_activity_date":1634969454,"creation_date":1479715259,"question_id":40715319,"body_markdown":"I would like to run the following setup:\r\n\r\n - on `host_1`, execute some Selenium tests\r\n - on `host_2`, run Firefox\r\n\r\n(On `host_1` there would be a Jenkins instance running the tests and `host_2` would be a Docker container running on `host_1`, and Firefox would run headless, using xvfb - but this shouldn&#39;t be relevant for the question)\r\n\r\nTo run on the same host, I would just do:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/path/to/geckodriver&quot;);\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.get(&quot;https://google.com/&quot;);\r\n    driver.quit();\r\n\r\nBut I would like the Selenium tests to use the Firefox instance on the other host. Is that possible?","title":"Is there a way to run Selenium tests on a remote host?","body":"<p>I would like to run the following setup:</p>\n\n<ul>\n<li>on <code>host_1</code>, execute some Selenium tests</li>\n<li>on <code>host_2</code>, run Firefox</li>\n</ul>\n\n<p>(On <code>host_1</code> there would be a Jenkins instance running the tests and <code>host_2</code> would be a Docker container running on <code>host_1</code>, and Firefox would run headless, using xvfb - but this shouldn't be relevant for the question)</p>\n\n<p>To run on the same host, I would just do:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\nSystem.setProperty(\"webdriver.gecko.driver\", \"/path/to/geckodriver\");\n\nWebDriver driver = new FirefoxDriver();\ndriver.get(\"https://google.com/\");\ndriver.quit();\n</code></pre>\n\n<p>But I would like the Selenium tests to use the Firefox instance on the other host. Is that possible?</p>\n"},{"tags":["java","maven","visual-studio-code","package"],"answers":[{"tags":[],"owner":{"account_id":7990276,"reputation":11,"user_id":6028337,"display_name":"Sajid1987"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634968886,"creation_date":1634968886,"answer_id":69685554,"question_id":69683328,"body_markdown":"Q: *Is there a way to create a package without using Maven?*\r\n\r\nI don’t see any direct relation between the two. \r\n\r\nPackages are the logical grouping of classes in a folder structure in Java whereas Maven is just a Java build tool.\r\n\r\nYes, you can create packages without using Maven.\r\n\r\nIf you are using any IDE, for example VS Code you can always create packages as below:\r\n1.\tCreate a Maven based Java project. Maven projects have the following structure \r\nsrc/main/java (all your source code goes here) and src/main/test (unit test goes here) , src/main/resources(non java files goes here).\r\n2.\tInitially  while creating the project you would have created a package with name com.example\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n3.\tTo create a new package, right click and select New folder\r\n\r\n\r\n4.\tEnter the folder name(this is your package name),for example &quot;view&quot;.\r\n \r\n5.\tNow you will have a new package com.example.vew. Similarly we can create packages at any folder level and place our Java file inside that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YfGeI.png\r\n  [2]: https://i.stack.imgur.com/vOlpB.png\r\n  [3]: https://i.stack.imgur.com/kdO6E.png\r\n\r\nLet me know if you this is good enough for you.","title":"How do I run java with command line arguments in VSCode?","body":"<p>Q: <em>Is there a way to create a package without using Maven?</em></p>\n<p>I don’t see any direct relation between the two.</p>\n<p>Packages are the logical grouping of classes in a folder structure in Java whereas Maven is just a Java build tool.</p>\n<p>Yes, you can create packages without using Maven.</p>\n<p>If you are using any IDE, for example VS Code you can always create packages as below:</p>\n<ol>\n<li><p>Create a Maven based Java project. Maven projects have the following structure\nsrc/main/java (all your source code goes here) and src/main/test (unit test goes here) , src/main/resources(non java files goes here).</p>\n</li>\n<li><p>Initially  while creating the project you would have created a package with name com.example</p>\n</li>\n<li><p>To create a new package, right click and select New folder</p>\n</li>\n<li><p>Enter the folder name(this is your package name),for example &quot;view&quot;.</p>\n</li>\n<li><p>Now you will have a new package com.example.vew. Similarly we can create packages at any folder level and place our Java file inside that.</p>\n</li>\n</ol>\n<p>Let me know if you this is good enough for you.</p>\n"}],"owner":{"account_id":2755692,"reputation":65,"user_id":14370428,"display_name":"Cat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635004126,"answer_count":1,"score":-2,"last_activity_date":1634968886,"creation_date":1634938743,"question_id":69683328,"body_markdown":"My employer has given me access to a site that teaches many things (not sure if allowed to post the name or not). I have decided to try and learn Java. The way this site teaches it is through IntelliJ, but I have learned JavaScript, Python, Node, and React in VSCode, and I don&#39;t want to learn another system.\r\n\r\nThrough Google, I downloaded JDK 11, as well as the Java Extension Pack. I have had a few errors that I have been able to resolve, but I am now stuck on java App.java. Earlier in the day, I was able to make it work, but now when I try to run javac App.java and then java com.example.App, it&#39;s not found. Nothing I have tried has made it work. Maybe it only worked before I used Maven...can&#39;t remember.\r\n\r\nOn the topic of com.example.App, is there an easy way to create a package? Google says it&#39;s almost always needed to create a package. Only way I&#39;ve figured out how to do that is with Maven, but the quickstart version is 1.7 or 8 (when I have 11). So I have to go into the POM and edit\r\n\r\n      &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\nto\r\n\r\n      &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\r\nIs there a way to create a package without using Maven?\r\n\r\nI just realized that I haven&#39;t even explained my title. So on the site I&#39;m learning Java, it says there&#39;s a way to use command line arguments, for example:\r\n\r\n    java com.example.App &quot;I am an argument&quot;\r\n\r\nSince I can no longer run my code with java, I can not do that. If anyone can help, you&#39;d be amazing!","title":"How do I run java with command line arguments in VSCode?","body":"<p>My employer has given me access to a site that teaches many things (not sure if allowed to post the name or not). I have decided to try and learn Java. The way this site teaches it is through IntelliJ, but I have learned JavaScript, Python, Node, and React in VSCode, and I don't want to learn another system.</p>\n<p>Through Google, I downloaded JDK 11, as well as the Java Extension Pack. I have had a few errors that I have been able to resolve, but I am now stuck on java App.java. Earlier in the day, I was able to make it work, but now when I try to run javac App.java and then java com.example.App, it's not found. Nothing I have tried has made it work. Maybe it only worked before I used Maven...can't remember.</p>\n<p>On the topic of com.example.App, is there an easy way to create a package? Google says it's almost always needed to create a package. Only way I've figured out how to do that is with Maven, but the quickstart version is 1.7 or 8 (when I have 11). So I have to go into the POM and edit</p>\n<pre><code>  &lt;properties&gt;\n&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>to</p>\n<pre><code>  &lt;properties&gt;\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>Is there a way to create a package without using Maven?</p>\n<p>I just realized that I haven't even explained my title. So on the site I'm learning Java, it says there's a way to use command line arguments, for example:</p>\n<pre><code>java com.example.App &quot;I am an argument&quot;\n</code></pre>\n<p>Since I can no longer run my code with java, I can not do that. If anyone can help, you'd be amazing!</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634975377,"post_id":69684933,"comment_id":123175594,"body_markdown":"Remove the .DATA column from projection.","body":"Remove the .DATA column from projection."}],"answers":[{"tags":[],"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634968580,"creation_date":1634968580,"answer_id":69685527,"question_id":69684933,"body_markdown":"Add these two line to your manifest:\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;","title":"how to get all pdf file available in my phone storage in android 11 scope storage without using manage external storage permission","body":"<p>Add these two line to your manifest:</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":23117567,"reputation":1,"user_id":17224536,"display_name":"ronak patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634968580,"creation_date":1634960384,"question_id":69684933,"body_markdown":"    \r\nI am trying to this code. Can someone tell me how can I get only .pdf files in my phone storage?\r\n\r\n\r\n        protected ArrayList&lt;String&gt; getPdfList() {\r\n        ArrayList&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\r\n        Uri collection;\r\n\r\n        final String[] projection = new String[]{\r\n                MediaStore.Files.FileColumns.DISPLAY_NAME,\r\n                MediaStore.Files.FileColumns.DATE_ADDED,\r\n                MediaStore.Files.FileColumns.DATA,\r\n                MediaStore.Files.FileColumns.MIME_TYPE,\r\n        };\r\n\r\n        final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\r\n\r\n        final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\r\n\r\n        final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n        final String[] selectionArgs = new String[]{mimeType};\r\n\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n        } else {\r\n            collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n        }\r\n\r\n\r\n        try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\r\n            assert cursor != null;\r\n\r\n            if (cursor.moveToFirst()) {\r\n                int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\r\n                int columnName = cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME);\r\n                do {\r\n                    if (new File(cursor.getString(columnData)).exists()) {\r\n                        pdfList.add((cursor.getString(columnData)));\r\n                        Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\r\n                        //you can get your pdf files\r\n                    }\r\n                } while (cursor.moveToNext());\r\n            }\r\n        }\r\n        return pdfList;\r\n    }\r\n\r\n&gt; above code work fine upto android 10 with requestLegacyExternalStorage = true but in android 11 cursor.moveToFirst() geting false\r\n\r\n ","title":"how to get all pdf file available in my phone storage in android 11 scope storage without using manage external storage permission","body":"<p>I am trying to this code. Can someone tell me how can I get only .pdf files in my phone storage?</p>\n<pre><code>    protected ArrayList&lt;String&gt; getPdfList() {\n    ArrayList&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\n    Uri collection;\n\n    final String[] projection = new String[]{\n            MediaStore.Files.FileColumns.DISPLAY_NAME,\n            MediaStore.Files.FileColumns.DATE_ADDED,\n            MediaStore.Files.FileColumns.DATA,\n            MediaStore.Files.FileColumns.MIME_TYPE,\n    };\n\n    final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\n\n    final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\n\n    final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    final String[] selectionArgs = new String[]{mimeType};\n\n    if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\n    } else {\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n    }\n\n\n    try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\n        assert cursor != null;\n\n        if (cursor.moveToFirst()) {\n            int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\n            int columnName = cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME);\n            do {\n                if (new File(cursor.getString(columnData)).exists()) {\n                    pdfList.add((cursor.getString(columnData)));\n                    Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\n                    //you can get your pdf files\n                }\n            } while (cursor.moveToNext());\n        }\n    }\n    return pdfList;\n}\n</code></pre>\n<blockquote>\n<p>above code work fine upto android 10 with requestLegacyExternalStorage = true but in android 11 cursor.moveToFirst() geting false</p>\n</blockquote>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1462470207,"post_id":37056931,"comment_id":61660765,"body_markdown":"Why do you want to make a defensive copy?","body":"Why do you want to make a defensive copy?"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1462470255,"post_id":37056931,"comment_id":61660794,"body_markdown":"Under what conditions would the method change in ways you want to avoid?","body":"Under what conditions would the method change in ways you want to avoid?"},{"owner":{"account_id":235528,"reputation":12632,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":0,"creation_date":1462470270,"post_id":37056931,"comment_id":61660807,"body_markdown":"@SotiriosDelimanolis: Because mutating constructor arguments is generally a surprising thing to do.  And to avoid situations where the client later calls `setAccessible(false)`.","body":"@SotiriosDelimanolis: Because mutating constructor arguments is generally a surprising thing to do.  And to avoid situations where the client later calls <code>setAccessible(false)</code>."},{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":0,"creation_date":1462470337,"post_id":37056931,"comment_id":61660857,"body_markdown":"@TavianBarnes Can you give an example of a class where bridge methods mess up your current solution? As far as two methods with the same name and parameter types, but different return types: That cannot happen. They would be considered duplicate methods.","body":"@TavianBarnes Can you give an example of a class where bridge methods mess up your current solution? As far as two methods with the same name and parameter types, but different return types: That cannot happen. They would be considered duplicate methods."},{"owner":{"account_id":235528,"reputation":12632,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":0,"creation_date":1462471150,"post_id":37056931,"comment_id":61661426,"body_markdown":"@Jeffrey I added one.  A more dangerous example is something like ProGuard, which can rename two completely different methods to have the same name but different return types.","body":"@Jeffrey I added one.  A more dangerous example is something like ProGuard, which can rename two completely different methods to have the same name but different return types."},{"owner":{"account_id":40136,"reputation":1112,"user_id":116183,"accept_rate":78,"display_name":"Humberto Pinheiro"},"score":0,"creation_date":1462476536,"post_id":37056931,"comment_id":61664467,"body_markdown":"This API is yours? This looks so messy, why don&#39;t you use something like a Command Design Pattern ? (http://www.tutorialspoint.com/design_pattern/command_pattern.htm). Using reflection in java should be your last option. Instead of keeping Methods, just store objects implementing an interface, there&#39;s no need for reflection this way.","body":"This API is yours? This looks so messy, why don&#39;t you use something like a Command Design Pattern ? (<a href=\"http://www.tutorialspoint.com/design_pattern/command_pattern.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/design_pattern/command_pattern.htm</a>). Using reflection in java should be your last option. Instead of keeping Methods, just store objects implementing an interface, there&#39;s no need for reflection this way."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1462768035,"post_id":37056931,"comment_id":61757489,"body_markdown":"What quantity of methods are you likely to *actually* deal with in this way?","body":"What quantity of methods are you likely to <i>actually</i> deal with in this way?"},{"owner":{"account_id":235528,"reputation":12632,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":0,"creation_date":1462813441,"post_id":37056931,"comment_id":61783834,"body_markdown":"@Bohemian Perhaps ~100 at startup, and ~5 per request","body":"@Bohemian Perhaps ~100 at startup, and ~5 per request"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1462826687,"post_id":37056931,"comment_id":61791014,"body_markdown":"But overall, during the life of the server, how many *different* methods will be invoked? The reason I ask, is if it&#39;s only a few thousand, you can cache the method found for a given method request, say in a `ConcurrentHashMap`.. It would be your current speed on the first access, but then would be lightening fast thereafter. You could actively warm the cache up on start up by collecting stats on the methods actually used and prime your cache to avoid the cost of the first lookup during transactions.","body":"But overall, during the life of the server, how many <i>different</i> methods will be invoked? The reason I ask, is if it&#39;s only a few thousand, you can cache the method found for a given method request, say in a <code>ConcurrentHashMap</code>.. It would be your current speed on the first access, but then would be lightening fast thereafter. You could actively warm the cache up on start up by collecting stats on the methods actually used and prime your cache to avoid the cost of the first lookup during transactions."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634968132,"creation_date":1462764171,"answer_id":37107332,"question_id":37056931,"body_markdown":"You&#39;ll have to do what you originally suggested and rely on the contract of [`Method#equals(Object)`][1] which states\r\n\r\n&gt; Compares this `Method` against the specified object. Returns `true` if\r\n&gt; the objects are the same. Two `Method`s are the same if they were\r\n&gt; declared by the same class and have the same name and formal parameter\r\n&gt; types and return type.\r\n\r\nSo you won&#39;t be able to use the `getDeclaredMethod(String, Object...)` method. You&#39;ll have to do an array lookup on the `Method[]` returned by `getDeclaredMethods()`. For example,\r\n\r\n    private Method copy(Method method) {\r\n        Class&lt;?&gt; clazz = method.getDeclaringClass();\r\n        for (Method declaredMethod : clazz.getDeclaredMethods()) {\r\n            if (declaredMethod.equals(method)) {\r\n                return declaredMethod; // return the new one\r\n            }\r\n        }\r\n        throw new RuntimeException(&quot;This should not happen.&quot;);\r\n    }\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#equals-java.lang.Object-","title":"How can I copy a java.lang.reflect.Method?","body":"<p>You'll have to do what you originally suggested and rely on the contract of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Method#equals(Object)</code></a> which states</p>\n<blockquote>\n<p>Compares this <code>Method</code> against the specified object. Returns <code>true</code> if\nthe objects are the same. Two <code>Method</code>s are the same if they were\ndeclared by the same class and have the same name and formal parameter\ntypes and return type.</p>\n</blockquote>\n<p>So you won't be able to use the <code>getDeclaredMethod(String, Object...)</code> method. You'll have to do an array lookup on the <code>Method[]</code> returned by <code>getDeclaredMethods()</code>. For example,</p>\n<pre><code>private Method copy(Method method) {\n    Class&lt;?&gt; clazz = method.getDeclaringClass();\n    for (Method declaredMethod : clazz.getDeclaredMethods()) {\n        if (declaredMethod.equals(method)) {\n            return declaredMethod; // return the new one\n        }\n    }\n    throw new RuntimeException(&quot;This should not happen.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":235528,"reputation":12632,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1634968132,"creation_date":1462469997,"question_id":37056931,"body_markdown":"I have an API that takes in a `Method` and stores it to call later.  In order to invoke it I have to do `setAccessible(true)`.  Before I do that, I&#39;d like to make a defensive copy.  But how?\r\n\r\nI thought of\r\n\r\n    method.getDeclaringClass()\r\n          .getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n\r\nbut that won&#39;t necessarily give me the same method back in the presence of bridge methods (or other cases where two methods have the same name/parameter types but different return types).\r\n\r\nI could loop over `method.getDeclaringClass().getDeclaredMethod()` and look for an exact match, but that seems inefficient.\r\n\r\n---\r\n\r\nAn example that illustrates why a defensive copy might be nice:\r\n\r\n    Method method = ...;\r\n\r\n    // Does setAccessible(true)\r\n    MyInvoker invoker = new MyInvoker(method);\r\n\r\n    // Sometime later, the user uses the same Method rather than re-retrieving it\r\n    method.setAccessible(true);\r\n    method.invoke(...);\r\n    method.setAccessible(false);\r\n    // Oops, now MyInvoker is broken\r\n\r\n---\r\n\r\nAn example where `getDeclaredMethod()` returns a different method:\r\n\r\n    interface Iface {\r\n        Object get();\r\n    }\r\n    \r\n    class Impl implements Iface {\r\n        @Override\r\n        public String get() {\r\n            return &quot;foo&quot;;\r\n        }\r\n    }\r\n\r\n    for (Method method : Impl.class.getDeclaredMethods()) {\r\n        System.out.println(method);\r\n        System.out.println(copy(method));\r\n        System.out.println();\r\n    }\r\n\r\n    private Method copy(Method method) {\r\n        try {\r\n            return method.getDeclaringClass()\r\n                    .getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n        } catch (ReflectiveOperationException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nFor me, this prints:\r\n\r\n&gt;     public java.lang.String com.maluuba.api.Impl.get()\r\n&gt;     public java.lang.String com.maluuba.api.Impl.get()\r\n&gt;     \r\n&gt;     public java.lang.Object com.maluuba.api.Impl.get()\r\n&gt;     public java.lang.String com.maluuba.api.Impl.get()","title":"How can I copy a java.lang.reflect.Method?","body":"<p>I have an API that takes in a <code>Method</code> and stores it to call later.  In order to invoke it I have to do <code>setAccessible(true)</code>.  Before I do that, I'd like to make a defensive copy.  But how?</p>\n\n<p>I thought of</p>\n\n<pre><code>method.getDeclaringClass()\n      .getDeclaredMethod(method.getName(), method.getParameterTypes());\n</code></pre>\n\n<p>but that won't necessarily give me the same method back in the presence of bridge methods (or other cases where two methods have the same name/parameter types but different return types).</p>\n\n<p>I could loop over <code>method.getDeclaringClass().getDeclaredMethod()</code> and look for an exact match, but that seems inefficient.</p>\n\n<hr>\n\n<p>An example that illustrates why a defensive copy might be nice:</p>\n\n<pre><code>Method method = ...;\n\n// Does setAccessible(true)\nMyInvoker invoker = new MyInvoker(method);\n\n// Sometime later, the user uses the same Method rather than re-retrieving it\nmethod.setAccessible(true);\nmethod.invoke(...);\nmethod.setAccessible(false);\n// Oops, now MyInvoker is broken\n</code></pre>\n\n<hr>\n\n<p>An example where <code>getDeclaredMethod()</code> returns a different method:</p>\n\n<pre><code>interface Iface {\n    Object get();\n}\n\nclass Impl implements Iface {\n    @Override\n    public String get() {\n        return \"foo\";\n    }\n}\n\nfor (Method method : Impl.class.getDeclaredMethods()) {\n    System.out.println(method);\n    System.out.println(copy(method));\n    System.out.println();\n}\n\nprivate Method copy(Method method) {\n    try {\n        return method.getDeclaringClass()\n                .getDeclaredMethod(method.getName(), method.getParameterTypes());\n    } catch (ReflectiveOperationException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>For me, this prints:</p>\n\n<blockquote>\n<pre><code>public java.lang.String com.maluuba.api.Impl.get()\npublic java.lang.String com.maluuba.api.Impl.get()\n\npublic java.lang.Object com.maluuba.api.Impl.get()\npublic java.lang.String com.maluuba.api.Impl.get()\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","xml","multithreading"],"answers":[{"tags":[],"owner":{"account_id":8372473,"reputation":847,"user_id":6287129,"display_name":"fhofmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634968115,"creation_date":1462467810,"answer_id":37056251,"question_id":37056107,"body_markdown":"You dont need to write your XML line by line. You can use a [SAX][1] parser.\r\n\r\n  [1]: https://www.tutorialspoint.com/java_xml/java_sax_parser.htm\r\n\r\n&lt;p&gt;The parser will read the input and dispach events for each tag it reads. The parser will be responsible for buffering the input and notify your code when a TAG start or end.&lt;/p&gt;","title":"xml processing on a client server application in java using sockets","body":"<p>You dont need to write your XML line by line. You can use a <a href=\"https://www.tutorialspoint.com/java_xml/java_sax_parser.htm\" rel=\"nofollow noreferrer\">SAX</a> parser.</p>\n<p>The parser will read the input and dispach events for each tag it reads. The parser will be responsible for buffering the input and notify your code when a TAG start or end.</p>\n"}],"owner":{"account_id":4870113,"reputation":11,"user_id":3926935,"display_name":"prabal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634968115,"creation_date":1462467311,"question_id":37056107,"body_markdown":"I am writing a client server application in java for XML processing.\r\n\r\nI have successfully implemented a multi-threaded server that can handle multiple clients. The XML file has a number of transaction tags that are like commands for the server, instructing him to do something( they can have a number of values including binary data). So single client can send multiple commands. These commands are also processed in separate threads that I create using Executors. I have successfully transmitted an xml file and executed its commands.\r\n\r\n\r\nI am stuck while I am trying to incorporate additional functionality. I want the transfer to resume from the point where it stopped say due to a network disconnection. For this I am splitting the file into bundles and then transmitting these bundles and keeping a track of the last bundle successfully transmitted (through acknowledgement) so that the transmission can resume from the bundle number last transmitted. Obviously there are other fields like total number of bundles to be transmitted and so on.&lt;/p&gt;\r\n\r\nNow suppose some part of the XML file is transmitted and received at the server when the network is disconnected. This part may have some transaction tags or commands. \r\n\r\n&lt;b&gt;I want them  to be processed by the server without waiting for the complete file to be received&lt;/b&gt;. In fact the correct solution would be to read the XML file being received and keep calling the command handler as soon as a complete transaction tag is received, without waiting for the complete XML file to be received.\r\n\r\nOne naive way of doing it would be to create my XML file line by line, that is having line separators for each line and then reading the socket line by line to determine location of transaction tags. I would be really grateful if anybody can give me a better solution.","title":"xml processing on a client server application in java using sockets","body":"<p>I am writing a client server application in java for XML processing.</p>\n\n<p>I have successfully implemented a multi-threaded server that can handle multiple clients. The XML file has a number of transaction tags that are like commands for the server, instructing him to do something( they can have a number of values including binary data). So single client can send multiple commands. These commands are also processed in separate threads that I create using Executors. I have successfully transmitted an xml file and executed its commands.</p>\n\n<p>I am stuck while I am trying to incorporate additional functionality. I want the transfer to resume from the point where it stopped say due to a network disconnection. For this I am splitting the file into bundles and then transmitting these bundles and keeping a track of the last bundle successfully transmitted (through acknowledgement) so that the transmission can resume from the bundle number last transmitted. Obviously there are other fields like total number of bundles to be transmitted and so on.</p></p>\n\n<p>Now suppose some part of the XML file is transmitted and received at the server when the network is disconnected. This part may have some transaction tags or commands. </p>\n\n<p><b>I want them  to be processed by the server without waiting for the complete file to be received</b>. In fact the correct solution would be to read the XML file being received and keep calling the command handler as soon as a complete transaction tag is received, without waiting for the complete XML file to be received.</p>\n\n<p>One naive way of doing it would be to create my XML file line by line, that is having line separators for each line and then reading the socket line by line to determine location of transaction tags. I would be really grateful if anybody can give me a better solution.</p>\n"},{"tags":["java","swing","java-8","weblogic12c","jnlp"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1634122083,"post_id":69553264,"comment_id":122939538,"body_markdown":"The error means that class `SubstanceLookAndFeel` was in the CLASSPATH when you compiled your application but it is not in the CLASSPATH when you run your application. If you packaged your application into a JAR file, then you probably need to add the `Class-Path` header to the JAR manifest file. By the way, please don&#39;t post images of errors. Copy and paste the text.","body":"The error means that class <code>SubstanceLookAndFeel</code> was in the CLASSPATH when you compiled your application but it is not in the CLASSPATH when you run your application. If you packaged your application into a JAR file, then you probably need to add the <code>Class-Path</code> header to the JAR manifest file. By the way, please don&#39;t post images of errors. Copy and paste the text."},{"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"score":0,"creation_date":1634123327,"post_id":69553264,"comment_id":122940068,"body_markdown":"@Abra: Its a WAR file and I added the Class-Path in the manifest file and still facing the same error.","body":"@Abra: Its a WAR file and I added the Class-Path in the manifest file and still facing the same error."},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1634673037,"post_id":69553264,"comment_id":123087516,"body_markdown":"Do you see any errors downloading the jar files? Add `deployment.trace=true` and `deployment.trace.level=all` to your `deployment.properties` file. By default, Java downloads all the jars eagerly. The `Class-Path` inside the jar should be ignored by deployment stack; try to remove it from all the jars and, when launching locally, add all the required jar files via `-cp`: `java -cp libs/substance-lite-4.3.jar;libs/swing-worker-1.1.jar;...;libs/test-SNAPSHOT.jar com.example.Login`. This would be closer to what deployment stack is using.","body":"Do you see any errors downloading the jar files? Add <code>deployment.trace=true</code> and <code>deployment.trace.level=all</code> to your <code>deployment.properties</code> file. By default, Java downloads all the jars eagerly. The <code>Class-Path</code> inside the jar should be ignored by deployment stack; try to remove it from all the jars and, when launching locally, add all the required jar files via <code>-cp</code>: <code>java -cp libs&#47;substance-lite-4.3.jar;libs&#47;swing-worker-1.1.jar;...;li&zwnj;&#8203;bs&#47;test-SNAPSHOT.jar com.example.Login</code>. This would be closer to what deployment stack is using."}],"owner":{"account_id":5845962,"reputation":342,"user_id":5023024,"accept_rate":0,"display_name":"Atul Rai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634967582,"creation_date":1634118590,"question_id":69553264,"body_markdown":"I&#39;m migrating a Swing Application from Java 6 to 8. Build and compilation is done successfully but when I deploy it over the WebLogic server and launch the application, I get the error below: \r\n\r\n    java.lang.NoClassDefFoundError: org/jvnet/substance/SubstanceLookAndFeel\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n    \tat java.lang.Class.getMethod0(Class.java:3018)\r\n    \tat java.lang.Class.getMethod(Class.java:1784)\r\n    \tat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\n    \tat com.sun.javaws.Launcher.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: org.jvnet.substance.SubstanceLookAndFeel\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 8 more\r\n\r\n\r\n[![getting error when launch the application][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IsHQw.png\r\n\r\nHere is the JNLP file configuration. \r\n\r\n&lt;!-- language: lang-XML --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;jnlp       spec=&quot;1.6+&quot;     codebase=&quot;http://SERVER_NAME:8080/jnlp/&quot; href=&quot;test.jnlp&quot;&gt;\r\n        &lt;information&gt;\r\n            &lt;title&gt;Test&lt;/title&gt;\r\n            &lt;vendor&gt;ABC&lt;/vendor&gt;\r\n            &lt;offline-allowed/&gt;\r\n        &lt;/information&gt;\r\n        &lt;security&gt;\r\n            &lt;all-permissions/&gt;\r\n        &lt;/security&gt;\r\n        &lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\r\n        &lt;resources&gt;\r\n            &lt;j2se version=&quot;1.6+&quot; max-heap-size=&quot;512M&quot; initial-heap-size=&quot;256m&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; /&gt;\r\n            &lt;property name=&quot;weblogic.MaxMessageSize&quot; value=&quot;2000000000&quot;/&gt;\r\n            &lt;!-- Environment --&gt;\r\n            &lt;property name=&quot;env&quot; value=&quot;test&quot;/&gt;\r\n            &lt;!-- SSO authentication parameters for DEBUGGING --&gt;\r\n            &lt;property name=&quot;abc.xyx.debug&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;aaaa.rrrr.debug&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;tttt.rrrr.eee.enable&quot; value=&quot;true&quot;/&gt;\r\n            &lt;jar href=&quot;libs/test-SNAPSHOT.jar&quot; main=&quot;true&quot;/&gt;\r\n            ..........SOME OTHER JAR&#39;s\r\n            &lt;jar href=&quot;libs/swingx-0.9.5.jar&quot;/&gt;\r\n            &lt;jar href=&quot;libs/swing-worker-1.1.jar&quot;/&gt;\r\n            &lt;jar href=&quot;libs/substance-lite-4.3.jar&quot;/&gt;\r\n           \r\n        &lt;/resources&gt;\r\n        &lt;resources os=&quot;Windows&quot; arch=&quot;x86&quot;&gt;\r\n            &lt;nativelib href=&quot;libs/XYZ-1.0.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;application-desc main-class=&quot;com.example.Login&quot; /&gt;\r\n    &lt;/jnlp&gt;\r\n\r\nDoes anyone have an idea what could be the root cause of this issue, why it&#39;s throwing `NoClassDefFoundEroor`?\r\n\r\nP.S. Same build is working fine with Java 6 and it is also working with Java 8 when I execute the application from Eclipse (Run as Java Application).","title":"Swing application failed to start in Java 8 via calling it through JNLP","body":"<p>I'm migrating a Swing Application from Java 6 to 8. Build and compilation is done successfully but when I deploy it over the WebLogic server and launch the application, I get the error below:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/jvnet/substance/SubstanceLookAndFeel\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\n    at com.sun.javaws.Launcher.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.jvnet.substance.SubstanceLookAndFeel\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 8 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IsHQw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IsHQw.png\" alt=\"getting error when launch the application\" /></a></p>\n<p>Here is the JNLP file configuration.</p>\n<pre class=\"lang-XML prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;jnlp       spec=&quot;1.6+&quot;     codebase=&quot;http://SERVER_NAME:8080/jnlp/&quot; href=&quot;test.jnlp&quot;&gt;\n    &lt;information&gt;\n        &lt;title&gt;Test&lt;/title&gt;\n        &lt;vendor&gt;ABC&lt;/vendor&gt;\n        &lt;offline-allowed/&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n        &lt;all-permissions/&gt;\n    &lt;/security&gt;\n    &lt;update check=&quot;always&quot; policy=&quot;always&quot; /&gt;\n    &lt;resources&gt;\n        &lt;j2se version=&quot;1.6+&quot; max-heap-size=&quot;512M&quot; initial-heap-size=&quot;256m&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; /&gt;\n        &lt;property name=&quot;weblogic.MaxMessageSize&quot; value=&quot;2000000000&quot;/&gt;\n        &lt;!-- Environment --&gt;\n        &lt;property name=&quot;env&quot; value=&quot;test&quot;/&gt;\n        &lt;!-- SSO authentication parameters for DEBUGGING --&gt;\n        &lt;property name=&quot;abc.xyx.debug&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;aaaa.rrrr.debug&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;tttt.rrrr.eee.enable&quot; value=&quot;true&quot;/&gt;\n        &lt;jar href=&quot;libs/test-SNAPSHOT.jar&quot; main=&quot;true&quot;/&gt;\n        ..........SOME OTHER JAR's\n        &lt;jar href=&quot;libs/swingx-0.9.5.jar&quot;/&gt;\n        &lt;jar href=&quot;libs/swing-worker-1.1.jar&quot;/&gt;\n        &lt;jar href=&quot;libs/substance-lite-4.3.jar&quot;/&gt;\n       \n    &lt;/resources&gt;\n    &lt;resources os=&quot;Windows&quot; arch=&quot;x86&quot;&gt;\n        &lt;nativelib href=&quot;libs/XYZ-1.0.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;application-desc main-class=&quot;com.example.Login&quot; /&gt;\n&lt;/jnlp&gt;\n</code></pre>\n<p>Does anyone have an idea what could be the root cause of this issue, why it's throwing <code>NoClassDefFoundEroor</code>?</p>\n<p>P.S. Same build is working fine with Java 6 and it is also working with Java 8 when I execute the application from Eclipse (Run as Java Application).</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1634942598,"post_id":69683667,"comment_id":123171757,"body_markdown":"Don&#39;t use `Date` or `SimpleDateFormat` in new code. These are legacy classes that have been replaced by the `java.time` API.","body":"Don&#39;t use <code>Date</code> or <code>SimpleDateFormat</code> in new code. These are legacy classes that have been replaced by the <code>java.time</code> API."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1634942911,"post_id":69683667,"comment_id":123171829,"body_markdown":"Additionally, you call `formatter.format` with a `String` which is surely not valid.","body":"Additionally, you call <code>formatter.format</code> with a <code>String</code> which is surely not valid."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1634948924,"post_id":69683667,"comment_id":123172613,"body_markdown":"I recommend using standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats for exchanging date-time values, such as your API. For a date-only value, that would be YYYY-MM-DD. Bonus: The *java.time* classes use these standard formats by default when parsing/generating text. `LocalDate.of( 2022 , Month.JANUARY , 23 ).toString()` and `LocalDate.parse( &quot;2022-01-23&quot; )`.","body":"I recommend using standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for exchanging date-time values, such as your API. For a date-only value, that would be YYYY-MM-DD. Bonus: The <i>java.time</i> classes use these standard formats by default when parsing/generating text. <code>LocalDate.of( 2022 , Month.JANUARY , 23 ).toString()</code> and <code>LocalDate.parse( &quot;2022-01-23&quot; )</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1634948984,"post_id":69683667,"comment_id":123172622,"body_markdown":"The terrible `SimpleDateFormat`, `Date`, and `Calendar` classes are legacy, supplanted years ago by the modern *java.time* classes defined in JSR 310.","body":"The terrible <code>SimpleDateFormat</code>, <code>Date</code>, and <code>Calendar</code> classes are legacy, supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634979753,"post_id":69683667,"comment_id":123176435,"body_markdown":"What did your search bring up? Were you awsre that you are supposed to search before posting a question here, and in your question report what you found and how it fell short of answering your question? Please.","body":"What did your search bring up? Were you awsre that you are supposed to search before posting a question here, and in your question report what you found and how it fell short of answering your question? Please."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635144422,"post_id":69683667,"comment_id":123207040,"body_markdown":"Don’t do `private String date;`. In you `Ship` object keep the date as a `LocalDate` (from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/)), not a `String`.","body":"Don’t do <code>private String date;</code>. In you <code>Ship</code> object keep the date as a <code>LocalDate</code> (from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>), not a <code>String</code>."}],"answers":[{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634942926,"creation_date":1634942926,"answer_id":69683795,"question_id":69683667,"body_markdown":"You should change\r\n\r\n        String newDate=date.toString();\r\n        this.date=formatter.format(newDate);\r\n\r\nto\r\n\r\n        this.date=formatter.format(date);\r\n","title":"How to convert Date format to dd-MM-yyyy in Java which return a Date object","body":"<p>You should change</p>\n<pre><code>    String newDate=date.toString();\n    this.date=formatter.format(newDate);\n</code></pre>\n<p>to</p>\n<pre><code>    this.date=formatter.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634943709,"creation_date":1634943709,"answer_id":69683877,"question_id":69683667,"body_markdown":"I can&#39;t think of any good reason to not save a date in anything other than a date object. (As mentioned `Date` is outdated, so `LocalDate` is a better choice.)\r\n\r\nFrom what I see in your code you are using jackson to read/write a file. Instead of changing your own class so it will output what you expect in the file you change the library you are using, in this case jackson, to write and read the values in the format you want them to be.\r\n\r\nYou have many different ways to do it. For example you can set your format as the default format like this:\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    objectMapper.setDateFormat(df);\r\n\r\nOr you only change it for one attribute\r\n\r\n    public class Ship {\r\n        // Code\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\r\n        private Date date;\r\n        // Code\r\n    }","title":"How to convert Date format to dd-MM-yyyy in Java which return a Date object","body":"<p>I can't think of any good reason to not save a date in anything other than a date object. (As mentioned <code>Date</code> is outdated, so <code>LocalDate</code> is a better choice.)</p>\n<p>From what I see in your code you are using jackson to read/write a file. Instead of changing your own class so it will output what you expect in the file you change the library you are using, in this case jackson, to write and read the values in the format you want them to be.</p>\n<p>You have many different ways to do it. For example you can set your format as the default format like this:</p>\n<pre><code>DateFormat df = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\nobjectMapper.setDateFormat(df);\n</code></pre>\n<p>Or you only change it for one attribute</p>\n<pre><code>public class Ship {\n    // Code\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\n    private Date date;\n    // Code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23118067,"reputation":1,"user_id":17224973,"display_name":"Edukondalu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634967264,"creation_date":1634967264,"answer_id":69685422,"question_id":69683667,"body_markdown":"import java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\n    public class SamDateFormat\r\n     {\r\n        public static void main(String[] args)\r\n          {\r\n             Date date = new Date();\r\n              SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n              String currDate= formatter.format(date);\r\n              System.out.println(currDate);\r\n           }\r\n      }","title":"How to convert Date format to dd-MM-yyyy in Java which return a Date object","body":"<p>import java.text.SimpleDateFormat;\nimport java.util.Date;</p>\n<pre><code>public class SamDateFormat\n {\n    public static void main(String[] args)\n      {\n         Date date = new Date();\n          SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n          String currDate= formatter.format(date);\n          System.out.println(currDate);\n       }\n  }\n</code></pre>\n"}],"owner":{"account_id":16925968,"reputation":3,"user_id":12241557,"display_name":"Roshan Kannaujiya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2541,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635144277,"accepted_answer_id":69683877,"answer_count":3,"score":-2,"last_activity_date":1634967264,"creation_date":1634941681,"question_id":69683667,"body_markdown":"I am Making an API which handle date in dd-MM-yyyy format. But Using Date object I get yyyy-MM-dd format. I tried to change Date format By many way like this code - \r\n```   \r\npackage com.example.internshala.model;\r\n\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\n\r\n\r\npublic class Ship {\r\n\r\n    private String loadingPoint;\r\n    private String unloadingPoint;\r\n    private String productType;\r\n    private String truckType;\r\n    private int noOfTrucks;\r\n    private int weight;\r\n    private String comment;\r\n    private UUID shipperId;\r\n    private String date;\r\n\r\n    //--------------------------------------\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\r\n    //--------------------------------------\r\n\r\n    public String getLoadingPoint() {\r\n        return loadingPoint;\r\n    }\r\n\r\n\r\n    public String getUnloadingPoint() {\r\n        return unloadingPoint;\r\n    }\r\n\r\n\r\n    public String getProductType() {\r\n        return productType;\r\n    }\r\n\r\n\r\n    public String getTruckType() {\r\n        return truckType;\r\n    }\r\n\r\n\r\n    public int getNoOfTrucks() {\r\n        return noOfTrucks;\r\n    }\r\n\r\n\r\n    public int getWeight() {\r\n        return weight;\r\n    }\r\n\r\n\r\n    public String getComment() {\r\n        return comment;\r\n    }\r\n\r\n\r\n    public UUID getShipperId() {\r\n        return shipperId;\r\n    }\r\n\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n\r\n    public Ship(@JsonProperty(&quot;loadingPoint&quot;) String loadingPoint,\r\n                @JsonProperty(&quot;unloadingPoint&quot;) String unloadingPoint,\r\n                @JsonProperty(&quot;productType&quot;) String productType,\r\n                @JsonProperty(&quot;truckType&quot;) String truckType,\r\n                @JsonProperty(&quot;noOfTrucks&quot;) int noOfTrucks,\r\n                @JsonProperty(&quot;weight&quot;) int weight,\r\n                @JsonProperty(&quot;comment&quot;) String comment,\r\n                @JsonProperty(&quot;shipperId&quot;) UUID shipperId,\r\n                @JsonProperty(&quot;Date&quot;) Date date) {\r\n        this.loadingPoint = loadingPoint;\r\n        this.unloadingPoint = unloadingPoint;\r\n        this.productType = productType;\r\n        this.truckType = truckType;\r\n        this.noOfTrucks = noOfTrucks;\r\n        this.weight = weight;\r\n        this.comment = comment;\r\n        this.shipperId = shipperId;\r\n        String newDate=date.toString();\r\n        this.date=formatter.format(newDate);\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI also Applied it to direct Date object as Constructor parameter but It give error --*com.fasterxml.jackson.databind.exc.ValueInstantiationException*\r\n \r\n","title":"How to convert Date format to dd-MM-yyyy in Java which return a Date object","body":"<p>I am Making an API which handle date in dd-MM-yyyy format. But Using Date object I get yyyy-MM-dd format. I tried to change Date format By many way like this code -</p>\n<pre><code>package com.example.internshala.model;\n\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.UUID;\n\n\npublic class Ship {\n\n    private String loadingPoint;\n    private String unloadingPoint;\n    private String productType;\n    private String truckType;\n    private int noOfTrucks;\n    private int weight;\n    private String comment;\n    private UUID shipperId;\n    private String date;\n\n    //--------------------------------------\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n\n    //--------------------------------------\n\n    public String getLoadingPoint() {\n        return loadingPoint;\n    }\n\n\n    public String getUnloadingPoint() {\n        return unloadingPoint;\n    }\n\n\n    public String getProductType() {\n        return productType;\n    }\n\n\n    public String getTruckType() {\n        return truckType;\n    }\n\n\n    public int getNoOfTrucks() {\n        return noOfTrucks;\n    }\n\n\n    public int getWeight() {\n        return weight;\n    }\n\n\n    public String getComment() {\n        return comment;\n    }\n\n\n    public UUID getShipperId() {\n        return shipperId;\n    }\n\n\n    public String getDate() {\n        return date;\n    }\n\n\n    public Ship(@JsonProperty(&quot;loadingPoint&quot;) String loadingPoint,\n                @JsonProperty(&quot;unloadingPoint&quot;) String unloadingPoint,\n                @JsonProperty(&quot;productType&quot;) String productType,\n                @JsonProperty(&quot;truckType&quot;) String truckType,\n                @JsonProperty(&quot;noOfTrucks&quot;) int noOfTrucks,\n                @JsonProperty(&quot;weight&quot;) int weight,\n                @JsonProperty(&quot;comment&quot;) String comment,\n                @JsonProperty(&quot;shipperId&quot;) UUID shipperId,\n                @JsonProperty(&quot;Date&quot;) Date date) {\n        this.loadingPoint = loadingPoint;\n        this.unloadingPoint = unloadingPoint;\n        this.productType = productType;\n        this.truckType = truckType;\n        this.noOfTrucks = noOfTrucks;\n        this.weight = weight;\n        this.comment = comment;\n        this.shipperId = shipperId;\n        String newDate=date.toString();\n        this.date=formatter.format(newDate);\n\n\n\n    }\n}\n</code></pre>\n<p>I also Applied it to direct Date object as Constructor parameter but It give error --<em>com.fasterxml.jackson.databind.exc.ValueInstantiationException</em></p>\n"},{"tags":["java","if-statement","hashmap"],"comments":[{"owner":{"account_id":2131420,"reputation":28903,"user_id":1892179,"accept_rate":84,"display_name":"Theodoros Chatzigiannakis"},"score":1,"creation_date":1426342922,"post_id":29049895,"comment_id":46338015,"body_markdown":"A HashMap isn&#39;t supposed to be fast or efficient, a HashMap is simply supposed to be O(1).","body":"A HashMap isn&#39;t supposed to be fast or efficient, a HashMap is simply supposed to be O(1)."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":2,"creation_date":1426343359,"post_id":29049895,"comment_id":46338147,"body_markdown":"Damn, the competition for this answer was intense.","body":"Damn, the competition for this answer was intense."},{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1548161305,"post_id":29049895,"comment_id":95436798,"body_markdown":"have you tried a 2d array    \n```\n    quadArray[0][0] = Quadrant.Q1;\n    quadArray[0][1] = Quadrant.Q2;\n    quadArray[1][0] = Quadrant.Q3;\n    quadArray[1][1] = Quadrant.Q4;\n```","body":"have you tried a 2d array     ```     quadArray[0][0] = Quadrant.Q1;     quadArray[0][1] = Quadrant.Q2;     quadArray[1][0] = Quadrant.Q3;     quadArray[1][1] = Quadrant.Q4; ```"}],"answers":[{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426342500,"creation_date":1426342500,"answer_id":29049910,"question_id":29049895,"body_markdown":"**Most likely `HashMap`, but it depends on couple of things:**\r\n\r\n1. the `Coordinate` class have to have efficient `equals()` and `hashCode()` implementation\r\n2. whether the `Coordinate` is immutable and the hash code could be cached\r\n3. which kind of coordinates you will be passing","title":"What is more efficient? An If Else or a HashMap?","body":"<p><strong>Most likely <code>HashMap</code>, but it depends on couple of things:</strong></p>\n\n<ol>\n<li>the <code>Coordinate</code> class have to have efficient <code>equals()</code> and <code>hashCode()</code> implementation</li>\n<li>whether the <code>Coordinate</code> is immutable and the hash code could be cached</li>\n<li>which kind of coordinates you will be passing</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426342543,"creation_date":1426342543,"answer_id":29049917,"question_id":29049895,"body_markdown":"It depends on how many Coordinates you will have. If you have a very small number then a if else will be slightly quicker than calculating the hash and looking it up. If you are only ever going to have 4 Coordinates then it is likely faster to use if/else than using a HashMap. ","title":"What is more efficient? An If Else or a HashMap?","body":"<p>It depends on how many Coordinates you will have. If you have a very small number then a if else will be slightly quicker than calculating the hash and looking it up. If you are only ever going to have 4 Coordinates then it is likely faster to use if/else than using a HashMap. </p>\n"},{"tags":[],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426345087,"creation_date":1426342574,"answer_id":29049920,"question_id":29049895,"body_markdown":"What you are utilizing in your first example is called [Double-Brace Initialization](https://stackoverflow.com/q/1958636/296974). It creates an anonymous class only for the purpose of laziness, which is [extremely inefficient](https://stackoverflow.com/q/924285/296974) on multiple levels. Also, unless you cache it, a hashmap consumes a lot of memory and has a relatively slow initialization time. A simple `if` is definitely more efficient here.\r\n\r\nGenerally, if-else will always be more efficient. But with a certain number of cases, you should use a (properly initialized) Map for the sake of readablity.","title":"What is more efficient? An If Else or a HashMap?","body":"<p>What you are utilizing in your first example is called <a href=\"https://stackoverflow.com/q/1958636/296974\">Double-Brace Initialization</a>. It creates an anonymous class only for the purpose of laziness, which is <a href=\"https://stackoverflow.com/q/924285/296974\">extremely inefficient</a> on multiple levels. Also, unless you cache it, a hashmap consumes a lot of memory and has a relatively slow initialization time. A simple <code>if</code> is definitely more efficient here.</p>\n\n<p>Generally, if-else will always be more efficient. But with a certain number of cases, you should use a (properly initialized) Map for the sake of readablity.</p>\n"},{"tags":[],"owner":{"account_id":15634,"reputation":3535,"user_id":33229,"accept_rate":60,"display_name":"ReneS"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1426773294,"creation_date":1426342727,"answer_id":29049937,"question_id":29049895,"body_markdown":"For just four entries? The if-else will be faster. The hashmap has to do  more commands to get you there. Fetch hashcode, calculate distance/position, fetch the array entry, and run an equals operation. ","title":"What is more efficient? An If Else or a HashMap?","body":"<p>For just four entries? The if-else will be faster. The hashmap has to do  more commands to get you there. Fetch hashcode, calculate distance/position, fetch the array entry, and run an equals operation. </p>\n"},{"tags":[],"owner":{"account_id":1563104,"reputation":1396,"user_id":1452522,"display_name":"tinker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426343005,"creation_date":1426343005,"answer_id":29049986,"question_id":29049895,"body_markdown":"All these answers are based on difference in if-else and hashmap, but from an algorithm point of view, your if-else will always work more optimally and you don&#39;t need all that space in a hashmap. Whenever you get a co-ordinate, if you pass it through the if-else then you will get the answer and that way you don&#39;t need to use a map and you can save memory. Make a utility function of the if block for ease of use anywhere in your program.","title":"What is more efficient? An If Else or a HashMap?","body":"<p>All these answers are based on difference in if-else and hashmap, but from an algorithm point of view, your if-else will always work more optimally and you don't need all that space in a hashmap. Whenever you get a co-ordinate, if you pass it through the if-else then you will get the answer and that way you don't need to use a map and you can save memory. Make a utility function of the if block for ease of use anywhere in your program.</p>\n"},{"tags":[],"owner":{"account_id":928118,"reputation":1,"user_id":7518948,"display_name":"Henry Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536037134,"creation_date":1536037134,"answer_id":52159068,"question_id":29049895,"body_markdown":"I had the same questions here. and i did some tests.\r\n\r\nit was my &quot;universal data convert function&quot;, that takes a class and an Object data as inputs, and convert the &quot;data&quot; to the required class.\r\n\r\nto handle all &quot;primitive&quot; classes, i have many &quot;if else&quot; statements in the function (like 20 or so).\r\n\r\n\r\nand one day, i try to use hashmap to store the &quot;class&quot; as keys and the &quot;convert function&quot; as values. \r\n\r\ncompared the two version, even i used the input which will reach the last of the &quot;if else&quot; statements, the &quot;if else&quot; version is still 4-5 times faster than hashmap (hashmap is initialized at the beginning and cached). \r\n\r\n( and actually, when i used the  input which will reach only the first &quot;if else&quot; statement and return, the test result is almost the same )\r\n\r\n( my env is windows 10 + java 1.8)","title":"What is more efficient? An If Else or a HashMap?","body":"<p>I had the same questions here. and i did some tests.</p>\n\n<p>it was my \"universal data convert function\", that takes a class and an Object data as inputs, and convert the \"data\" to the required class.</p>\n\n<p>to handle all \"primitive\" classes, i have many \"if else\" statements in the function (like 20 or so).</p>\n\n<p>and one day, i try to use hashmap to store the \"class\" as keys and the \"convert function\" as values. </p>\n\n<p>compared the two version, even i used the input which will reach the last of the \"if else\" statements, the \"if else\" version is still 4-5 times faster than hashmap (hashmap is initialized at the beginning and cached). </p>\n\n<p>( and actually, when i used the  input which will reach only the first \"if else\" statement and return, the test result is almost the same )</p>\n\n<p>( my env is windows 10 + java 1.8)</p>\n"},{"tags":[],"owner":{"account_id":22954192,"reputation":1,"user_id":17085030,"display_name":"Tushar Kurhekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634967159,"creation_date":1634967159,"answer_id":69685416,"question_id":29049895,"body_markdown":"Just consider a very basic example of Two Sum. We can solve it with hashmap or simple If-else loops. For sure compiler has to do a lot fewer threads in if-else and consumes less memory. But if we consider large inputs or real-life examples like finding a sum from large datasets, the Iteration of if-else is going to take time and will be complex to write ( as a number of if-else loops will be increased ), Hence we will use Hashing in that case. \r\n","title":"What is more efficient? An If Else or a HashMap?","body":"<p>Just consider a very basic example of Two Sum. We can solve it with hashmap or simple If-else loops. For sure compiler has to do a lot fewer threads in if-else and consumes less memory. But if we consider large inputs or real-life examples like finding a sum from large datasets, the Iteration of if-else is going to take time and will be complex to write ( as a number of if-else loops will be increased ), Hence we will use Hashing in that case.</p>\n"}],"owner":{"account_id":5583714,"reputation":1606,"user_id":4424838,"accept_rate":100,"display_name":"Rien"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8189,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":29049937,"answer_count":7,"score":9,"last_activity_date":1634967159,"creation_date":1426342377,"question_id":29049895,"body_markdown":"I&#39;m writing some code in Java to check in which quadrant a coordinate is and I was wondering which method is more efficient to check this: a if-else block or the use of a HashMap.\r\n\r\nA HashMap would look like this:\r\n\r\n    private static final Map&lt;Coordinate,Quadrant&gt; quadMap = new HashMap&lt;Coordinate, Quadrant&gt;(){{\r\n        put(new Coordinate(0,0), Quadrant.Q1);\r\n        put(new Coordinate(0, 1), Quadrant.Q2);\r\n        put(new Coordinate(1, 0), Quadrant.Q3);\r\n        put(new Coordinate(1, 1), Quadrant.Q4);\r\n    }};\r\nAnd then where I want to get my quadrant:\r\n\r\n    return quadMap.get(coordinate)\r\n\r\nThe if-else implementation:\r\n\r\n    if (x &lt; 1){\r\n            if (y &lt; 1){\r\n                return Quadrant.Q1;\r\n            } else {\r\n                return Quadrant.Q2;\r\n            }\r\n        } else {\r\n            if (y &lt; 1){\r\n                return Quadrant.Q3;\r\n            } else {\r\n                return Quadrant.Q4;\r\n            }\r\n        }\r\n\r\nOr is there another, more efficient way to do this?","title":"What is more efficient? An If Else or a HashMap?","body":"<p>I'm writing some code in Java to check in which quadrant a coordinate is and I was wondering which method is more efficient to check this: a if-else block or the use of a HashMap.</p>\n\n<p>A HashMap would look like this:</p>\n\n<pre><code>private static final Map&lt;Coordinate,Quadrant&gt; quadMap = new HashMap&lt;Coordinate, Quadrant&gt;(){{\n    put(new Coordinate(0,0), Quadrant.Q1);\n    put(new Coordinate(0, 1), Quadrant.Q2);\n    put(new Coordinate(1, 0), Quadrant.Q3);\n    put(new Coordinate(1, 1), Quadrant.Q4);\n}};\n</code></pre>\n\n<p>And then where I want to get my quadrant:</p>\n\n<pre><code>return quadMap.get(coordinate)\n</code></pre>\n\n<p>The if-else implementation:</p>\n\n<pre><code>if (x &lt; 1){\n        if (y &lt; 1){\n            return Quadrant.Q1;\n        } else {\n            return Quadrant.Q2;\n        }\n    } else {\n        if (y &lt; 1){\n            return Quadrant.Q3;\n        } else {\n            return Quadrant.Q4;\n        }\n    }\n</code></pre>\n\n<p>Or is there another, more efficient way to do this?</p>\n"},{"tags":["java","mysql","spring","hibernate","tomcat"],"comments":[{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1438049122,"post_id":31666193,"comment_id":51276654,"body_markdown":"Have you uncommented the  bind-address directive in your mysql config file: my.cnf ?","body":"Have you uncommented the  bind-address directive in your mysql config file: my.cnf ?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1438049162,"post_id":31666193,"comment_id":51276662,"body_markdown":"Well, since you connected with the user root on the console, have you tried to use it as a connection user and password on your configuration?","body":"Well, since you connected with the user root on the console, have you tried to use it as a connection user and password on your configuration?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1438049205,"post_id":31666193,"comment_id":51276671,"body_markdown":"Also, did you created the user pankaj on the mysql ? have you tried to connect with it on the mysql console ?","body":"Also, did you created the user pankaj on the mysql ? have you tried to connect with it on the mysql console ?"},{"owner":{"account_id":1027023,"reputation":575,"user_id":1036121,"accept_rate":68,"display_name":"Brandon Mcq"},"score":0,"creation_date":1438049377,"post_id":31666193,"comment_id":51276706,"body_markdown":"Where would the my.cnf be on OS X?","body":"Where would the my.cnf be on OS X?"},{"owner":{"account_id":1027023,"reputation":575,"user_id":1036121,"accept_rate":68,"display_name":"Brandon Mcq"},"score":0,"creation_date":1438049984,"post_id":31666193,"comment_id":51276823,"body_markdown":"I created a my.cnf filling the instructions here, and restarted the MySQL service. And no dice.","body":"I created a my.cnf filling the instructions here, and restarted the MySQL service. And no dice."},{"owner":{"account_id":1027023,"reputation":575,"user_id":1036121,"accept_rate":68,"display_name":"Brandon Mcq"},"score":0,"creation_date":1438054276,"post_id":31666193,"comment_id":51277757,"body_markdown":"The password is actually lowercase in the file. I had to go back and edit my post with my phone and auto-correct thought it was being super helpful.","body":"The password is actually lowercase in the file. I had to go back and edit my post with my phone and auto-correct thought it was being super helpful."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1438052356,"creation_date":1438051991,"answer_id":31666595,"question_id":31666193,"body_markdown":"Let&#39;s look at this from first principles.\r\n\r\nThe JDBC URL you are using, which says that you are trying to connect to &quot;localhost:3307&quot;\r\n\r\nThe `java.net.ConnectException: Connection refused` means that the database was not listening for requests on the IP address and port number that your client was trying to use.\r\n\r\nSo why could be going wrong?\r\n\r\n  -  It could be that the database simply wasn&#39;t running, but you have probably eliminated that.  (You can run the `mysql` client from the command line?)\r\n\r\n  -  It could be that you (or someone) has misguidedly configured `localhost` to resolve to something other than `127.0.0.1`.  (Some people do crazy things ...)\r\n\r\n  - But I think that the most likely explanation is that MySQL is not listening for requests 127.0.0.1.\r\n\r\nOne way to be sure of this is to start the database, and then run &quot;netstat -an | grep LISTEN | grep tcp&quot;.  That will show you all of the IP addresses and port numbers that are currently being &quot;listened&quot; on.  Make sure that the address/port combination you are trying to use is included.\r\n\r\n(Note that an IPv4 address `0.0.0.0` means any address.  It is a wildcard.)\r\n\r\nOnce you have figure out what the server is listening on you can decide between changing the JDBC URL to match that, or getting the server to listen on the IP / port you want to use.\r\n\r\n---------------------\r\n\r\nOther people are suggesting a problem with user-names and passwords.  These suggestions are red herrings.  If that was the problem, the exception would be different.","title":"Unable to local MySQL database with Spring app deployed through Tomcat","body":"<p>Let's look at this from first principles.</p>\n\n<p>The JDBC URL you are using, which says that you are trying to connect to \"localhost:3307\"</p>\n\n<p>The <code>java.net.ConnectException: Connection refused</code> means that the database was not listening for requests on the IP address and port number that your client was trying to use.</p>\n\n<p>So why could be going wrong?</p>\n\n<ul>\n<li><p>It could be that the database simply wasn't running, but you have probably eliminated that.  (You can run the <code>mysql</code> client from the command line?)</p></li>\n<li><p>It could be that you (or someone) has misguidedly configured <code>localhost</code> to resolve to something other than <code>127.0.0.1</code>.  (Some people do crazy things ...)</p></li>\n<li><p>But I think that the most likely explanation is that MySQL is not listening for requests 127.0.0.1.</p></li>\n</ul>\n\n<p>One way to be sure of this is to start the database, and then run \"netstat -an | grep LISTEN | grep tcp\".  That will show you all of the IP addresses and port numbers that are currently being \"listened\" on.  Make sure that the address/port combination you are trying to use is included.</p>\n\n<p>(Note that an IPv4 address <code>0.0.0.0</code> means any address.  It is a wildcard.)</p>\n\n<p>Once you have figure out what the server is listening on you can decide between changing the JDBC URL to match that, or getting the server to listen on the IP / port you want to use.</p>\n\n<hr>\n\n<p>Other people are suggesting a problem with user-names and passwords.  These suggestions are red herrings.  If that was the problem, the exception would be different.</p>\n"},{"tags":[],"owner":{"account_id":13406436,"reputation":2189,"user_id":9895452,"display_name":"Sandeep Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634967075,"creation_date":1580923523,"answer_id":60081068,"question_id":31666193,"body_markdown":"Make Sure your MySql Server Service is Started, if not go to controlPanel -&gt; Services and Search for **Mysql80** and start it.\r\n","title":"Unable to local MySQL database with Spring app deployed through Tomcat","body":"<p>Make Sure your MySql Server Service is Started, if not go to controlPanel -&gt; Services and Search for <strong>Mysql80</strong> and start it.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595092644,"creation_date":1595092644,"answer_id":62971470,"question_id":31666193,"body_markdown":"I solved this problem update `my.cnf` file search on :\r\n\r\n`skip-networking`\r\n\r\nand update it to be : \r\n\r\n`#skip-networking`\r\n\r\nfinally restart `Mysql` ","title":"Unable to local MySQL database with Spring app deployed through Tomcat","body":"<p>I solved this problem update <code>my.cnf</code> file search on :</p>\n<p><code>skip-networking</code></p>\n<p>and update it to be :</p>\n<p><code>#skip-networking</code></p>\n<p>finally restart <code>Mysql</code></p>\n"}],"owner":{"account_id":1027023,"reputation":575,"user_id":1036121,"accept_rate":68,"display_name":"Brandon Mcq"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12670,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31666595,"answer_count":3,"score":3,"last_activity_date":1634967075,"creation_date":1438048688,"question_id":31666193,"body_markdown":"I&#39;m trying to create a web application using Spring and Hibernate, deploying it through Tomcat 8. I&#39;ve setup MySQL and Tomcat 8 locally on my machine, and am able to deploy the web application to it. The app fails to launch due to the application/tomcat failing to connect to the database.\r\n\r\nI&#39;m following the setup tutorial here (Using Hibernate 4): [Tutorial][1]\r\n\r\nWhen I try to deploy the application I receive the following error, which I abbreviated to the first error that occurred:\r\n\r\n    2015-07-27 20:42:46.768  INFO 77092 --- [n(11)-127.0.0.1] o.h.s.j.c.i.ConnectionProviderInitiator  : HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider\r\n    2015-07-27 20:42:46.794  WARN 77092 --- [n(11)-127.0.0.1] o.h.e.jdbc.internal.JdbcServicesImpl     : HHH000342: Could not obtain connection to query metadata : Communications link failure\r\n    27-Jul-2015 20:42:46.793 SEVERE [RMI TCP Connection(11)-127.0.0.1] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool.\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:400)\r\n\tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1038)\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:339)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2247)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2280)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2079)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:794)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:400)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:307)\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:200)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:699)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:633)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:484)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:142)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:115)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:102)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:126)\r\n\tat org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:70)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcServicesImpl.java:242)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:117)\r\n\tat org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:85)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:184)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:156)\r\n\tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1827)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1785)\r\n\tat org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:96)\r\n\tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:915)\r\n\tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateEjbPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateEjbPersistenceProvider.java:51)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1633)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1570)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:956)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:747)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\r\n\tat org.springframework.boot.context.web.SpringBootServletInitializer.run(SpringBootServletInitializer.java:119)\r\n\tat org.springframework.boot.context.web.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:110)\r\n\tat org.springframework.boot.context.web.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:69)\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5156)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1648)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:463)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:413)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1399)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:828)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:323)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:178)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:175)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:174)\r\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:557)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:812)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:671)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n    Caused by: java.net.ConnectException: Connection refused\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:589)\r\n\tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:214)\r\n\tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:298)\r\n\t... 95 more\r\n\r\n**Application Setup (spring.xml)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\r\n\r\n        &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot;\r\n          destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3307/myDatabase&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;Root&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;Root&quot; /&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\n        &lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\r\n        &lt;bean id=&quot;hibernate4AnnotatedSessionFactory&quot;\r\n          class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.journaldev.model.Person&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\n        &lt;bean id=&quot;userDAO&quot; class=&quot;fionn.dao.UserDAOImpl&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\nI tried following the suggestion outlined here: [Suggested solution][2]\r\n\r\nIt seems to be a problem with the database setup, as I am unable to ping it through terminal. Although I can login to it:\r\n\r\nMySQL Checks\r\n-----------\r\n\r\n**Login:**\r\n\r\n    mysql -u root -p\r\n    Enter password: \r\n\r\n    mysql&gt; USE myDatabase\r\n    Reading table information for completion of table and column names\r\n    You can turn off this feature to get a quicker startup with -A\r\n\r\n    Database changed\r\n    mysql&gt; SHOW TABLES;\r\n    +--------------------------+\r\n    | Tables_in_gofeisda_fionn |\r\n    +--------------------------+\r\n    | User                     |\r\n    +--------------------------+\r\n    1 row in set (0.00 sec)\r\n\r\n**MySQL Timeout:**\r\n\r\n    mysql&gt; show global variables like &#39;%timeout%&#39;;\r\n    +---------------------------------+-------------------+\r\n    | Variable_name                   | Value             |\r\n    +---------------------------------+-------------------+\r\n    | connect_timeout                 | 10                |\r\n    | delayed_insert_timeout          | 300               |\r\n    | innodb_flush_log_at_timeout     | 1                 |\r\n    | innodb_lock_wait_timeout        | 50                |\r\n    | innodb_rollback_on_timeout      | OFF               |\r\n    | interactive_timeout             | 28800             |\r\n    | lock_wait_timeout               | 31536000          |\r\n    | net_read_timeout                | 30                |\r\n    | net_write_timeout               | 60                |\r\n    | rpl_stop_slave_timeout          | 31536000          |\r\n    | slave_net_timeout               | 3600              |\r\n    | slow_launch_time                | 2                 |\r\n    | wait_timeout                    | 28800             |\r\n    +---------------------------------+-------------------+\r\n    13 rows in set (0.00 sec)\r\n\r\n**Check MySQL Timeout:**\r\n\r\n    mysql&gt; show global variables like &#39;%network%&#39;;\r\n    +-----------------+-------+\r\n    | Variable_name   | Value |\r\n    +-----------------+-------+\r\n    | skip_networking | OFF   |\r\n    +-----------------+-------+\r\n    1 row in set (0.00 sec)\r\n\r\n**Check MySQL host:**\r\n\r\n    mysql&gt; select user();\r\n    +----------------+\r\n    | user()         |\r\n    +----------------+\r\n    | root@localhost |\r\n    +----------------+\r\n    1 row in set (0.01 sec)\r\n\r\n**Check MySQL Port**\r\n\r\n    mysql&gt; show variables like &#39;%port%&#39;;\r\n    +---------------------+-------+\r\n    | Variable_name       | Value |\r\n    +---------------------+-------+\r\n    | innodb_support_xa   | ON    |\r\n    | large_files_support | ON    |\r\n    | port                | 3307  |\r\n    | report_host         |       |\r\n    | report_password     |       |\r\n    | report_port         | 3307  |\r\n    | report_user         |       |\r\n    +---------------------+-------+\r\n    7 rows in set (0.01 sec)\r\n\r\n**Check Skip Networking**\r\n\r\n    mysql&gt; show global variables like &#39;%skip%&#39;;\r\n    +------------------------+-------+\r\n    | Variable_name          | Value |\r\n    +------------------------+-------+\r\n    | skip_external_locking  | ON    |\r\n    | skip_name_resolve      | OFF   |\r\n    | skip_networking        | OFF   |\r\n    | skip_show_database     | OFF   |\r\n    | slave_skip_errors      | OFF   |\r\n    | sql_slave_skip_counter | 0     |\r\n    +------------------------+-------+\r\n    6 rows in set (0.00 sec)\r\n\r\nPing Checks\r\n-----------\r\n\r\n**127.0.0.1**\r\n\r\n    $ ping 127.0.0.1\r\n    PING 127.0.0.1 (127.0.0.1): 56 data bytes\r\n    64 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.079 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.194 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.200 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.166 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=4 ttl=64 time=0.171 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=5 ttl=64 time=0.216 ms\r\n    ^C\r\n    --- 127.0.0.1 ping statistics ---\r\n    6 packets transmitted, 6 packets received, 0.0% packet loss\r\n    round-trip min/avg/max/stddev = 0.079/0.171/0.216/0.045 ms\r\n\r\n**localhost**\r\n\r\n    $ ping localhost\r\n    PING localhost (127.0.0.1): 56 data bytes\r\n    64 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.058 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.054 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.202 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.071 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=4 ttl=64 time=0.119 ms\r\n    64 bytes from 127.0.0.1: icmp_seq=5 ttl=64 time=0.222 ms\r\n    ^C\r\n    --- localhost ping statistics ---\r\n    6 packets transmitted, 6 packets received, 0.0% packet loss\r\n    round-trip min/avg/max/stddev = 0.054/0.121/0.222/0.068 ms\r\n\r\n**localhost MySQL port**\r\n\r\n    $ ping localhost:3307\r\n    PING localhost:3307 (198.105.254.228): 56 data bytes\r\n    Request timeout for icmp_seq 0\r\n    Request timeout for icmp_seq 1\r\n    Request timeout for icmp_seq 2\r\n    Request timeout for icmp_seq 3\r\n    Request timeout for icmp_seq 4\r\n    Request timeout for icmp_seq 5\r\n    ^C\r\n    --- localhost:3307 ping statistics ---\r\n    7 packets transmitted, 0 packets received, 100.0% packet loss\r\n\r\nWhat else do I need to make sure that the database / tomcat / application are set up properly.\r\n\r\n**Update 1:**\r\n\r\nFollowing the instructions outlined here: [setup][3]\r\n\r\nI added the bind address parameter to the configuration file using 127.0.0.1, as well as setting the port to 3306. I don&#39;t think that worked, as after restarting MySQL, the port was still set to 3307. \r\n\r\n  [1]: http://www.journaldev.com/3524/spring-hibernate-integration-example-tutorial-spring-4-hibernate-3-and-hibernate-4\r\n  [2]: https://stackoverflow.com/questions/2983248/com-mysql-jdbc-exceptions-jdbc4-communicationsexception-communications-link-fai\r\n[3]: http://forums.mysql.com/read.php?11,366143,376017#msg-376017\r\n\r\n","title":"Unable to local MySQL database with Spring app deployed through Tomcat","body":"<p>I'm trying to create a web application using Spring and Hibernate, deploying it through Tomcat 8. I've setup MySQL and Tomcat 8 locally on my machine, and am able to deploy the web application to it. The app fails to launch due to the application/tomcat failing to connect to the database.</p>\n\n<p>I'm following the setup tutorial here (Using Hibernate 4): <a href=\"http://www.journaldev.com/3524/spring-hibernate-integration-example-tutorial-spring-4-hibernate-3-and-hibernate-4\" rel=\"nofollow noreferrer\">Tutorial</a></p>\n\n<p>When I try to deploy the application I receive the following error, which I abbreviated to the first error that occurred:</p>\n\n<pre><code>2015-07-27 20:42:46.768  INFO 77092 --- [n(11)-127.0.0.1] o.h.s.j.c.i.ConnectionProviderInitiator  : HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider\n2015-07-27 20:42:46.794  WARN 77092 --- [n(11)-127.0.0.1] o.h.e.jdbc.internal.JdbcServicesImpl     : HHH000342: Could not obtain connection to query metadata : Communications link failure\n27-Jul-2015 20:42:46.793 SEVERE [RMI TCP Connection(11)-127.0.0.1] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool.\n\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:400)\nat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1038)\nat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:339)\nat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2247)\nat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2280)\nat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2079)\nat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:794)\nat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:400)\nat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\nat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\nat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:307)\nat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:200)\nat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:699)\nat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:633)\nat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:484)\nat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:142)\nat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:115)\nat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:102)\nat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:126)\nat org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:70)\nat org.hibernate.engine.jdbc.internal.JdbcServicesImpl$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcServicesImpl.java:242)\nat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:117)\nat org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:85)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:184)\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:156)\nat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1827)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1785)\nat org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:96)\nat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:915)\nat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:900)\nat org.springframework.orm.jpa.vendor.SpringHibernateEjbPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateEjbPersistenceProvider.java:51)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1633)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1570)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:956)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:747)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\nat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\nat org.springframework.boot.context.web.SpringBootServletInitializer.run(SpringBootServletInitializer.java:119)\nat org.springframework.boot.context.web.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:110)\nat org.springframework.boot.context.web.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:69)\nat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5156)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\nat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1648)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:463)\nat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:413)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\nat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\nat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\nat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1399)\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:828)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:323)\nat sun.rmi.transport.Transport$1.run(Transport.java:178)\nat sun.rmi.transport.Transport$1.run(Transport.java:175)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:174)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:557)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:812)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:671)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n\nCaused by: java.net.ConnectException: Connection refused\nat java.net.PlainSocketImpl.socketConnect(Native Method)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:589)\nat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:214)\nat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:298)\n... 95 more\n</code></pre>\n\n<p><strong>Application Setup (spring.xml)</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\"\n   xmlns:tx=\"http://www.springframework.org/schema/tx\"\n   xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\"&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp2.BasicDataSource\"\n      destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3307/myDatabase\" /&gt;\n    &lt;property name=\"username\" value=\"Root\" /&gt;\n    &lt;property name=\"password\" value=\"Root\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\n    &lt;bean id=\"hibernate4AnnotatedSessionFactory\"\n      class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.journaldev.model.Person&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\n            &lt;prop key=\"hibernate.current_session_context_class\"&gt;thread&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"userDAO\" class=\"fionn.dao.UserDAOImpl\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>I tried following the suggestion outlined here: <a href=\"https://stackoverflow.com/questions/2983248/com-mysql-jdbc-exceptions-jdbc4-communicationsexception-communications-link-fai\">Suggested solution</a></p>\n\n<p>It seems to be a problem with the database setup, as I am unable to ping it through terminal. Although I can login to it:</p>\n\n<h2>MySQL Checks</h2>\n\n<p><strong>Login:</strong></p>\n\n<pre><code>mysql -u root -p\nEnter password: \n\nmysql&gt; USE myDatabase\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql&gt; SHOW TABLES;\n+--------------------------+\n| Tables_in_gofeisda_fionn |\n+--------------------------+\n| User                     |\n+--------------------------+\n1 row in set (0.00 sec)\n</code></pre>\n\n<p><strong>MySQL Timeout:</strong></p>\n\n<pre><code>mysql&gt; show global variables like '%timeout%';\n+---------------------------------+-------------------+\n| Variable_name                   | Value             |\n+---------------------------------+-------------------+\n| connect_timeout                 | 10                |\n| delayed_insert_timeout          | 300               |\n| innodb_flush_log_at_timeout     | 1                 |\n| innodb_lock_wait_timeout        | 50                |\n| innodb_rollback_on_timeout      | OFF               |\n| interactive_timeout             | 28800             |\n| lock_wait_timeout               | 31536000          |\n| net_read_timeout                | 30                |\n| net_write_timeout               | 60                |\n| rpl_stop_slave_timeout          | 31536000          |\n| slave_net_timeout               | 3600              |\n| slow_launch_time                | 2                 |\n| wait_timeout                    | 28800             |\n+---------------------------------+-------------------+\n13 rows in set (0.00 sec)\n</code></pre>\n\n<p><strong>Check MySQL Timeout:</strong></p>\n\n<pre><code>mysql&gt; show global variables like '%network%';\n+-----------------+-------+\n| Variable_name   | Value |\n+-----------------+-------+\n| skip_networking | OFF   |\n+-----------------+-------+\n1 row in set (0.00 sec)\n</code></pre>\n\n<p><strong>Check MySQL host:</strong></p>\n\n<pre><code>mysql&gt; select user();\n+----------------+\n| user()         |\n+----------------+\n| root@localhost |\n+----------------+\n1 row in set (0.01 sec)\n</code></pre>\n\n<p><strong>Check MySQL Port</strong></p>\n\n<pre><code>mysql&gt; show variables like '%port%';\n+---------------------+-------+\n| Variable_name       | Value |\n+---------------------+-------+\n| innodb_support_xa   | ON    |\n| large_files_support | ON    |\n| port                | 3307  |\n| report_host         |       |\n| report_password     |       |\n| report_port         | 3307  |\n| report_user         |       |\n+---------------------+-------+\n7 rows in set (0.01 sec)\n</code></pre>\n\n<p><strong>Check Skip Networking</strong></p>\n\n<pre><code>mysql&gt; show global variables like '%skip%';\n+------------------------+-------+\n| Variable_name          | Value |\n+------------------------+-------+\n| skip_external_locking  | ON    |\n| skip_name_resolve      | OFF   |\n| skip_networking        | OFF   |\n| skip_show_database     | OFF   |\n| slave_skip_errors      | OFF   |\n| sql_slave_skip_counter | 0     |\n+------------------------+-------+\n6 rows in set (0.00 sec)\n</code></pre>\n\n<h2>Ping Checks</h2>\n\n<p><strong>127.0.0.1</strong></p>\n\n<pre><code>$ ping 127.0.0.1\nPING 127.0.0.1 (127.0.0.1): 56 data bytes\n64 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.079 ms\n64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.194 ms\n64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.200 ms\n64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.166 ms\n64 bytes from 127.0.0.1: icmp_seq=4 ttl=64 time=0.171 ms\n64 bytes from 127.0.0.1: icmp_seq=5 ttl=64 time=0.216 ms\n^C\n--- 127.0.0.1 ping statistics ---\n6 packets transmitted, 6 packets received, 0.0% packet loss\nround-trip min/avg/max/stddev = 0.079/0.171/0.216/0.045 ms\n</code></pre>\n\n<p><strong>localhost</strong></p>\n\n<pre><code>$ ping localhost\nPING localhost (127.0.0.1): 56 data bytes\n64 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.058 ms\n64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.054 ms\n64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.202 ms\n64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.071 ms\n64 bytes from 127.0.0.1: icmp_seq=4 ttl=64 time=0.119 ms\n64 bytes from 127.0.0.1: icmp_seq=5 ttl=64 time=0.222 ms\n^C\n--- localhost ping statistics ---\n6 packets transmitted, 6 packets received, 0.0% packet loss\nround-trip min/avg/max/stddev = 0.054/0.121/0.222/0.068 ms\n</code></pre>\n\n<p><strong>localhost MySQL port</strong></p>\n\n<pre><code>$ ping localhost:3307\nPING localhost:3307 (198.105.254.228): 56 data bytes\nRequest timeout for icmp_seq 0\nRequest timeout for icmp_seq 1\nRequest timeout for icmp_seq 2\nRequest timeout for icmp_seq 3\nRequest timeout for icmp_seq 4\nRequest timeout for icmp_seq 5\n^C\n--- localhost:3307 ping statistics ---\n7 packets transmitted, 0 packets received, 100.0% packet loss\n</code></pre>\n\n<p>What else do I need to make sure that the database / tomcat / application are set up properly.</p>\n\n<p><strong>Update 1:</strong></p>\n\n<p>Following the instructions outlined here: <a href=\"http://forums.mysql.com/read.php?11,366143,376017#msg-376017\" rel=\"nofollow noreferrer\">setup</a></p>\n\n<p>I added the bind address parameter to the configuration file using 127.0.0.1, as well as setting the port to 3306. I don't think that worked, as after restarting MySQL, the port was still set to 3307. </p>\n"},{"tags":["java","android","kotlin","payumoney"],"comments":[{"owner":{"account_id":8008917,"reputation":2248,"user_id":6041365,"display_name":"Upendra Shah"},"score":0,"creation_date":1634906706,"post_id":69675763,"comment_id":123159682,"body_markdown":"Please mention CheckoutActivity in your manifest. or share your manifest file. and after adding share your logs","body":"Please mention CheckoutActivity in your manifest. or share your manifest file. and after adding share your logs"},{"owner":{"account_id":21017758,"reputation":125,"user_id":15444835,"display_name":"hardik koladiya"},"score":1,"creation_date":1634965970,"post_id":69675763,"comment_id":123174338,"body_markdown":"@UpendraShah - Checkout Activity mensioned in menifest and run-logcat and menifest file also mensioned in same question","body":"@UpendraShah - Checkout Activity mensioned in menifest and run-logcat and menifest file also mensioned in same question"}],"owner":{"account_id":21017758,"reputation":125,"user_id":15444835,"display_name":"hardik koladiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634965471,"creation_date":1634900641,"question_id":69675763,"body_markdown":"here is my manifest\r\n\r\n       /*Pay-U Money*/\r\n    implementation &#39;in.payu:payu-checkout-pro:1.7.5&#39;\r\n    implementation &#39;in.payu:olamoney:1.1.0&#39;\r\n    implementation &#39;in.payu:phonepe-intent:1.6.1&#39;\r\n    implementation &#39;in.payu:payu-gpay:1.4.0&#39;\r\n\r\nthis is my on-create function in activity\r\n\r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_offer_redeem_by_me)\r\n\r\n\r\n        val paymentParams = preparePayUBizParams()\r\n        initUiSdk(paymentParams)\r\n    }\r\n    fun preparePayUBizParams(): PayUPaymentParams {\r\n\r\n        val additionalParamsMap: HashMap&lt;String, Any?&gt; = HashMap()\r\n        additionalParamsMap[PayUCheckoutProConstants.CP_UDF1] = &quot;udf1&quot;\r\n        additionalParamsMap[PayUCheckoutProConstants.CP_UDF2] = &quot;udf2&quot;\r\n        additionalParamsMap[PayUCheckoutProConstants.CP_UDF3] = &quot;udf3&quot;\r\n        additionalParamsMap[PayUCheckoutProConstants.CP_UDF4] = &quot;udf4&quot;\r\n        additionalParamsMap[PayUCheckoutProConstants.CP_UDF5] = &quot;udf5&quot;\r\n\r\n        return PayUPaymentParams.Builder().setAmount(amount)\r\n                .setIsProduction(true)\r\n                .setKey(PaymentParams.PRODUCTION_MERCHANT_KEY.toString())\r\n                .setProductInfo(&quot;Macbook Pro&quot;)\r\n                .setPhone(phone.toString())\r\n                .setTransactionId(System.currentTimeMillis().toString())\r\n                .setFirstName(&quot;Abc&quot;)\r\n                .setEmail(email)\r\n                .setSurl(surl)\r\n                .setFurl(furl)\r\n                .setUserCredential(&quot;f&quot;)\r\n                .setAdditionalParams(additionalParamsMap)\r\n                .build()\r\n    }\r\n\r\n    private fun initUiSdk(payUPaymentParams: PayUPaymentParams) {\r\n        PayUCheckoutPro.open(\r\n                this,\r\n                payUPaymentParams,\r\n                object : PayUCheckoutProListener {\r\n\r\n                    override fun onPaymentSuccess(response: Any) {\r\n                        Log.d(&quot;aalkfnaljfna&quot;,&quot;afasf&quot;)\r\n                    }\r\n\r\n                    override fun onPaymentFailure(response: Any) {\r\n                        Log.d(&quot;aalkfnaljfna&quot;,&quot;afasf&quot;)\r\n                    }\r\n\r\n                    override fun onPaymentCancel(isTxnInitiated: Boolean) {\r\n                        Log.d(&quot;aalkfnaljfna&quot;,&quot;asfasf&quot;)\r\n                    }\r\n\r\n                    override fun onError(errorResponse: ErrorResponse) {\r\n\r\n                        val errorMessage: String\r\n                        if (errorResponse != null &amp;&amp; errorResponse.errorMessage != null &amp;&amp; errorResponse.errorMessage!!.isNotEmpty())\r\n                            errorMessage = errorResponse.errorMessage!!\r\n                        else\r\n                            errorMessage = resources.getString(R.string.some_error_occurred)\r\n\r\n                        Log.d(&quot;aalkfnaljfna&quot;,errorMessage.toString())\r\n\r\n                    }\r\n\r\n                    override fun generateHash(\r\n                            map: HashMap&lt;String, String?&gt;,\r\n                            hashGenerationListener: PayUHashGenerationListener\r\n                    ) {\r\n                        if (map.containsKey(PayUCheckoutProConstants.CP_HASH_STRING)\r\n                                &amp;&amp; map.containsKey(PayUCheckoutProConstants.CP_HASH_STRING) != null\r\n                                &amp;&amp; map.containsKey(PayUCheckoutProConstants.CP_HASH_NAME)\r\n                                &amp;&amp; map.containsKey(PayUCheckoutProConstants.CP_HASH_NAME) != null\r\n                        ) {\r\n\r\n                            val hashData = map[PayUCheckoutProConstants.CP_HASH_STRING]\r\n                            val hashName = map[PayUCheckoutProConstants.CP_HASH_NAME]\r\n\r\n                            var hash: String? = null\r\n\r\n                            //Below hash should be calculated only when integrating Multi-currency support. If not integrating MCP\r\n                            // then no need to have this if check.\r\n                            if (hashName.equals(PayUCheckoutProConstants.CP_LOOKUP_API_HASH, ignoreCase = true)){\r\n\r\n                                //Calculate HmacSHA1 hash using the hashData and merchant secret key\r\n                                hash = HashGenerationUtils.generateHashFromSDK(\r\n                                        hashData!!,\r\n                                        PaymentParams.PRODUCTION_SALT.toString(),\r\n                                        PaymentParams.PRODUCTION_MERCHANT_ID\r\n                                )\r\n                            } else {\r\n                                //calculate SDH-512 hash using hashData and salt\r\n                                hash = HashGenerationUtils.generateHashFromSDK(\r\n                                        hashData!!,\r\n                                        PaymentParams.PRODUCTION_SALT.toString()\r\n                                )\r\n                            }\r\n\r\n                            if (!TextUtils.isEmpty(hash)) {\r\n                                val hashMap: HashMap&lt;String, String?&gt; = HashMap()\r\n                                hashMap[hashName!!] = hash!!\r\n                                hashGenerationListener.onHashGenerated(hashMap)\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    override fun setWebViewProperties(webView: WebView?, bank: Any?) {\r\n                    }\r\n                })\r\n    }\r\n\r\ni getting this error in log when print onError response in to logcat\r\n\r\n    2021-10-22 16:19:01.163 16468-16468/com.example.myAppname D/aalkfnaljfna: Unable to find explicit activity class {com.example.myAppname/com.payu.ui.view.activities.CheckoutActivity}; have you declared this activity in your AndroidManifest.xml?\r\n\r\nnote :- i tried to write these activity in manifest and it opens the payment sceen but then it gives activitynotfound exception for next activity\r\n\r\n-if anyone reaquired more information than please comment below \r\n\r\nEDIT:\r\n\r\nafter mension CheckoutActivity in manifest i got this error in run logcat\r\n\r\n    W/System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.redjinni/com.payu.upisdk.upiintent.PaymentResponseUpiSdkActivity}; have you declared this activity in your AndroidManifest.xml?\r\n        at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1941)\r\n            at android.app.Instrumentation.execStartActivity(Instrumentation.java:1620)\r\n            at android.app.Activity.startActivityForResult(Activity.java:4541)\r\n    W/System.err:     at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:597)\r\n            at android.app.Activity.startActivityForResult(Activity.java:4499)\r\n            at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:583)\r\n            at android.app.Activity.startActivity(Activity.java:4860)\r\n            at android.app.Activity.startActivity(Activity.java:4828)\r\n            at com.payu.upisdk.Upi.makePayment(SourceFile:174)\r\n            at com.payu.upisdk.UpiWrapper.makePayment(SourceFile:30)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.payu.custombrowser.wrapper.b.a(SourceFile:219)\r\n            at com.payu.custombrowser.CustomBrowser.a(SourceFile:163)\r\n    W/System.err:     at com.payu.custombrowser.CustomBrowser.addCustomBrowser(SourceFile:115)\r\n            at com.payu.checkoutpro.utils.f.a(SourceFile:1150)\r\n            at com.payu.checkoutpro.models.k.a(SourceFile:386)\r\n            at com.payu.checkoutpro.models.k.a(SourceFile:85)\r\n            at com.payu.checkoutpro.models.k.onHashGenerated(SourceFile:2)\r\n            at com.payu.ui.viewmodel.j.onHashGenerated(SourceFile:15)\r\n            at com.example.redjinni.Activitys.Offer_redeem_by_me$initUiSdk$1.generateHash(Offer_redeem_by_me.kt:129)\r\n            at com.payu.ui.viewmodel.j.generateHash(SourceFile:3)\r\n            at com.payu.checkoutpro.utils.c.a(SourceFile:573)\r\n            at com.payu.checkoutpro.layers.PayUbizApiLayer.a(SourceFile:10)\r\n    W/System.err:     at com.payu.checkoutpro.layers.PayUbizApiLayer.makePayment(SourceFile:32)\r\n            at com.payu.ui.viewmodel.o.c(SourceFile:31)\r\n            at com.payu.ui.view.fragments.y3.onClick(SourceFile:303)\r\n            at android.view.View.performClick(View.java:6310)\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n            at android.view.View$PerformClick.run(View.java:24970)\r\n            at android.os.Handler.handleCallback(Handler.java:794)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:176)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6662)\r\n    W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n    W/Looper: Slow Frame: doFrame is 434ms late\r\n\r\nedited manifest file\r\n\r\n    &lt;activity\r\n            android:name=&quot;com.payu.ui.view.activities.CheckoutActivity&quot;\r\n            android:label=&quot;Preferences&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.payu.ui.view.activities.CheckoutActivity&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n","title":"Unable to find explicit activity class in PayUCheckoutPro Payumoney PaymentGateways Integration","body":"<p>here is my manifest</p>\n<pre><code>   /*Pay-U Money*/\nimplementation 'in.payu:payu-checkout-pro:1.7.5'\nimplementation 'in.payu:olamoney:1.1.0'\nimplementation 'in.payu:phonepe-intent:1.6.1'\nimplementation 'in.payu:payu-gpay:1.4.0'\n</code></pre>\n<p>this is my on-create function in activity</p>\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_offer_redeem_by_me)\n\n\n    val paymentParams = preparePayUBizParams()\n    initUiSdk(paymentParams)\n}\nfun preparePayUBizParams(): PayUPaymentParams {\n\n    val additionalParamsMap: HashMap&lt;String, Any?&gt; = HashMap()\n    additionalParamsMap[PayUCheckoutProConstants.CP_UDF1] = &quot;udf1&quot;\n    additionalParamsMap[PayUCheckoutProConstants.CP_UDF2] = &quot;udf2&quot;\n    additionalParamsMap[PayUCheckoutProConstants.CP_UDF3] = &quot;udf3&quot;\n    additionalParamsMap[PayUCheckoutProConstants.CP_UDF4] = &quot;udf4&quot;\n    additionalParamsMap[PayUCheckoutProConstants.CP_UDF5] = &quot;udf5&quot;\n\n    return PayUPaymentParams.Builder().setAmount(amount)\n            .setIsProduction(true)\n            .setKey(PaymentParams.PRODUCTION_MERCHANT_KEY.toString())\n            .setProductInfo(&quot;Macbook Pro&quot;)\n            .setPhone(phone.toString())\n            .setTransactionId(System.currentTimeMillis().toString())\n            .setFirstName(&quot;Abc&quot;)\n            .setEmail(email)\n            .setSurl(surl)\n            .setFurl(furl)\n            .setUserCredential(&quot;f&quot;)\n            .setAdditionalParams(additionalParamsMap)\n            .build()\n}\n\nprivate fun initUiSdk(payUPaymentParams: PayUPaymentParams) {\n    PayUCheckoutPro.open(\n            this,\n            payUPaymentParams,\n            object : PayUCheckoutProListener {\n\n                override fun onPaymentSuccess(response: Any) {\n                    Log.d(&quot;aalkfnaljfna&quot;,&quot;afasf&quot;)\n                }\n\n                override fun onPaymentFailure(response: Any) {\n                    Log.d(&quot;aalkfnaljfna&quot;,&quot;afasf&quot;)\n                }\n\n                override fun onPaymentCancel(isTxnInitiated: Boolean) {\n                    Log.d(&quot;aalkfnaljfna&quot;,&quot;asfasf&quot;)\n                }\n\n                override fun onError(errorResponse: ErrorResponse) {\n\n                    val errorMessage: String\n                    if (errorResponse != null &amp;&amp; errorResponse.errorMessage != null &amp;&amp; errorResponse.errorMessage!!.isNotEmpty())\n                        errorMessage = errorResponse.errorMessage!!\n                    else\n                        errorMessage = resources.getString(R.string.some_error_occurred)\n\n                    Log.d(&quot;aalkfnaljfna&quot;,errorMessage.toString())\n\n                }\n\n                override fun generateHash(\n                        map: HashMap&lt;String, String?&gt;,\n                        hashGenerationListener: PayUHashGenerationListener\n                ) {\n                    if (map.containsKey(PayUCheckoutProConstants.CP_HASH_STRING)\n                            &amp;&amp; map.containsKey(PayUCheckoutProConstants.CP_HASH_STRING) != null\n                            &amp;&amp; map.containsKey(PayUCheckoutProConstants.CP_HASH_NAME)\n                            &amp;&amp; map.containsKey(PayUCheckoutProConstants.CP_HASH_NAME) != null\n                    ) {\n\n                        val hashData = map[PayUCheckoutProConstants.CP_HASH_STRING]\n                        val hashName = map[PayUCheckoutProConstants.CP_HASH_NAME]\n\n                        var hash: String? = null\n\n                        //Below hash should be calculated only when integrating Multi-currency support. If not integrating MCP\n                        // then no need to have this if check.\n                        if (hashName.equals(PayUCheckoutProConstants.CP_LOOKUP_API_HASH, ignoreCase = true)){\n\n                            //Calculate HmacSHA1 hash using the hashData and merchant secret key\n                            hash = HashGenerationUtils.generateHashFromSDK(\n                                    hashData!!,\n                                    PaymentParams.PRODUCTION_SALT.toString(),\n                                    PaymentParams.PRODUCTION_MERCHANT_ID\n                            )\n                        } else {\n                            //calculate SDH-512 hash using hashData and salt\n                            hash = HashGenerationUtils.generateHashFromSDK(\n                                    hashData!!,\n                                    PaymentParams.PRODUCTION_SALT.toString()\n                            )\n                        }\n\n                        if (!TextUtils.isEmpty(hash)) {\n                            val hashMap: HashMap&lt;String, String?&gt; = HashMap()\n                            hashMap[hashName!!] = hash!!\n                            hashGenerationListener.onHashGenerated(hashMap)\n                        }\n                    }\n                }\n\n                override fun setWebViewProperties(webView: WebView?, bank: Any?) {\n                }\n            })\n}\n</code></pre>\n<p>i getting this error in log when print onError response in to logcat</p>\n<pre><code>2021-10-22 16:19:01.163 16468-16468/com.example.myAppname D/aalkfnaljfna: Unable to find explicit activity class {com.example.myAppname/com.payu.ui.view.activities.CheckoutActivity}; have you declared this activity in your AndroidManifest.xml?\n</code></pre>\n<p>note :- i tried to write these activity in manifest and it opens the payment sceen but then it gives activitynotfound exception for next activity</p>\n<p>-if anyone reaquired more information than please comment below</p>\n<p>EDIT:</p>\n<p>after mension CheckoutActivity in manifest i got this error in run logcat</p>\n<pre><code>W/System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.redjinni/com.payu.upisdk.upiintent.PaymentResponseUpiSdkActivity}; have you declared this activity in your AndroidManifest.xml?\n    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1941)\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1620)\n        at android.app.Activity.startActivityForResult(Activity.java:4541)\nW/System.err:     at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:597)\n        at android.app.Activity.startActivityForResult(Activity.java:4499)\n        at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:583)\n        at android.app.Activity.startActivity(Activity.java:4860)\n        at android.app.Activity.startActivity(Activity.java:4828)\n        at com.payu.upisdk.Upi.makePayment(SourceFile:174)\n        at com.payu.upisdk.UpiWrapper.makePayment(SourceFile:30)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.payu.custombrowser.wrapper.b.a(SourceFile:219)\n        at com.payu.custombrowser.CustomBrowser.a(SourceFile:163)\nW/System.err:     at com.payu.custombrowser.CustomBrowser.addCustomBrowser(SourceFile:115)\n        at com.payu.checkoutpro.utils.f.a(SourceFile:1150)\n        at com.payu.checkoutpro.models.k.a(SourceFile:386)\n        at com.payu.checkoutpro.models.k.a(SourceFile:85)\n        at com.payu.checkoutpro.models.k.onHashGenerated(SourceFile:2)\n        at com.payu.ui.viewmodel.j.onHashGenerated(SourceFile:15)\n        at com.example.redjinni.Activitys.Offer_redeem_by_me$initUiSdk$1.generateHash(Offer_redeem_by_me.kt:129)\n        at com.payu.ui.viewmodel.j.generateHash(SourceFile:3)\n        at com.payu.checkoutpro.utils.c.a(SourceFile:573)\n        at com.payu.checkoutpro.layers.PayUbizApiLayer.a(SourceFile:10)\nW/System.err:     at com.payu.checkoutpro.layers.PayUbizApiLayer.makePayment(SourceFile:32)\n        at com.payu.ui.viewmodel.o.c(SourceFile:31)\n        at com.payu.ui.view.fragments.y3.onClick(SourceFile:303)\n        at android.view.View.performClick(View.java:6310)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View$PerformClick.run(View.java:24970)\n        at android.os.Handler.handleCallback(Handler.java:794)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:176)\n        at android.app.ActivityThread.main(ActivityThread.java:6662)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\nW/Looper: Slow Frame: doFrame is 434ms late\n</code></pre>\n<p>edited manifest file</p>\n<pre><code>&lt;activity\n        android:name=&quot;com.payu.ui.view.activities.CheckoutActivity&quot;\n        android:label=&quot;Preferences&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.payu.ui.view.activities.CheckoutActivity&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5269973,"reputation":92,"user_id":4208564,"display_name":"op_"},"score":0,"creation_date":1634964588,"post_id":69685192,"comment_id":123174175,"body_markdown":"use ```java -version``` in command line to check if new java version is used","body":"use <code>java -version</code> in command line to check if new java version is used"},{"owner":{"account_id":22821636,"reputation":19,"user_id":16971411,"display_name":"camelCase"},"score":0,"creation_date":1634964686,"post_id":69685192,"comment_id":123174190,"body_markdown":"java version is 1.8.0_311, I used that command already to check the version being used to update the JAVA_HOME","body":"java version is 1.8.0_311, I used that command already to check the version being used to update the JAVA_HOME"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634965421,"creation_date":1634964692,"answer_id":69685230,"question_id":69685192,"body_markdown":"The short answer is that you can&#39;t.\r\n\r\nIf you want to run that program you have two options:\r\n\r\n1.  Install a newer version of Java on your machine.  The program&#39;s bytecode version number is 55, so that means that you need to install Java 11 or later.\r\n\r\n2.  Get hold of the source code for the application (and if necessary, its dependent libraries) and build it for the Java 8 platform (version 52).  \r\n\r\n    If you are not a Java programmer, this may be difficult.  If you cannot get the source code for the program it will be (virtually) impossible.\r\n\r\n----------------\r\n\r\nNote that it is possible to have multiple versions of Java installed on a machine.  Once you have the correct version of Java installed, it is possible to select the version you want to use.  The simplest way is to use the full path of the java command; e.g.\r\n\r\n\r\n    &gt; C:\\Program Files\\Java\\jdk...\\bin\\java \r\n\r\nAlternatively, modify the PATH variable, either in the command shell itself or via the Windows settings.  (I assume that understand, or can find out, how Windows environment variables and specifically PATH work.)\r\n\r\n---------------\r\n\r\nLooking at the screenshot of your command prompt, it looks like you also maybe in the wrong directory when trying to compile and/or run things.  Read about how the classpath works when compiling and running Java code.\r\n\r\n\r\n","title":"How to bypass JNI error (Java vile version error) file has been compiled by more recent version of the java runtime","body":"<p>The short answer is that you can't.</p>\n<p>If you want to run that program you have two options:</p>\n<ol>\n<li><p>Install a newer version of Java on your machine.  The program's bytecode version number is 55, so that means that you need to install Java 11 or later.</p>\n</li>\n<li><p>Get hold of the source code for the application (and if necessary, its dependent libraries) and build it for the Java 8 platform (version 52).</p>\n<p>If you are not a Java programmer, this may be difficult.  If you cannot get the source code for the program it will be (virtually) impossible.</p>\n</li>\n</ol>\n<hr />\n<p>Note that it is possible to have multiple versions of Java installed on a machine.  Once you have the correct version of Java installed, it is possible to select the version you want to use.  The simplest way is to use the full path of the java command; e.g.</p>\n<pre><code>&gt; C:\\Program Files\\Java\\jdk...\\bin\\java \n</code></pre>\n<p>Alternatively, modify the PATH variable, either in the command shell itself or via the Windows settings.  (I assume that understand, or can find out, how Windows environment variables and specifically PATH work.)</p>\n<hr />\n<p>Looking at the screenshot of your command prompt, it looks like you also maybe in the wrong directory when trying to compile and/or run things.  Read about how the classpath works when compiling and running Java code.</p>\n"}],"owner":{"account_id":22821636,"reputation":19,"user_id":16971411,"display_name":"camelCase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634965421,"creation_date":1634964266,"question_id":69685192,"body_markdown":" I am trying to run a program that has been compiled on version 55.0 but my compiler only accepts versions up to 52.0. I am not sure if this information is useful or not but the program has been written using visual studio. I have;\r\n\r\n1. Uninstalled old version of java.\r\n2. Re-installed new version of java. \r\n3. Editted the JAVA_HOME location. (Could be an incorrect location so am including a screenshot).\r\n\r\nStill nothing seems to fix the problem. I have encountered this problem before and saw a bypass command of some description which allowed my program to run but stupidly forgot to record it. Alternatively solutions that fix the problem entirely are more than welcome :).\r\n[![JAVA_HOME location][1]][1]\r\n\r\n\r\n[![Commands I am using and full error code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4L2eE.png\r\n  [2]: https://i.stack.imgur.com/9bV1E.png","title":"How to bypass JNI error (Java vile version error) file has been compiled by more recent version of the java runtime","body":"<p>I am trying to run a program that has been compiled on version 55.0 but my compiler only accepts versions up to 52.0. I am not sure if this information is useful or not but the program has been written using visual studio. I have;</p>\n<ol>\n<li>Uninstalled old version of java.</li>\n<li>Re-installed new version of java.</li>\n<li>Editted the JAVA_HOME location. (Could be an incorrect location so am including a screenshot).</li>\n</ol>\n<p>Still nothing seems to fix the problem. I have encountered this problem before and saw a bypass command of some description which allowed my program to run but stupidly forgot to record it. Alternatively solutions that fix the problem entirely are more than welcome :).\n<a href=\"https://i.stack.imgur.com/4L2eE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4L2eE.png\" alt=\"JAVA_HOME location\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9bV1E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9bV1E.png\" alt=\"Commands I am using and full error code\" /></a></p>\n"},{"tags":["java","json","maven","jackson"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1634963309,"post_id":69685098,"comment_id":123174011,"body_markdown":"Do you use any editor like eclipse or something? Because readTree method throws IOException and JsonProcessingException. It should be handle by try/catch or throws in your main method. With editor tool, it show emit an error/warning for you.","body":"Do you use any editor like eclipse or something? Because readTree method throws IOException and JsonProcessingException. It should be handle by try/catch or throws in your main method. With editor tool, it show emit an error/warning for you."},{"owner":{"account_id":3511470,"reputation":369,"user_id":10011520,"display_name":"Samha&#39;"},"score":0,"creation_date":1634963526,"post_id":69685098,"comment_id":123174043,"body_markdown":"@huy I use VSCode and the terminal, I&#39;ve tried enclosing them in a `try ... catch`, but just suppressing the errors with no clear benefit doesn&#39;t address the main issue.","body":"@huy I use VSCode and the terminal, I&#39;ve tried enclosing them in a <code>try ... catch</code>, but just suppressing the errors with no clear benefit doesn&#39;t address the main issue."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1634963690,"post_id":69685098,"comment_id":123174069,"body_markdown":"I just guess from your including code, it will throw compile error, you should include the update and full stack trace error. Then others can know your problem more easily.","body":"I just guess from your including code, it will throw compile error, you should include the update and full stack trace error. Then others can know your problem more easily."},{"owner":{"account_id":3511470,"reputation":369,"user_id":10011520,"display_name":"Samha&#39;"},"score":0,"creation_date":1634963871,"post_id":69685098,"comment_id":123174091,"body_markdown":"@huy the above code is the latest minified version producing this error. Enclosing them in  a `try ... catch` clause suppressed the errors -- as expected -- but didn&#39;t give the desired output.","body":"@huy the above code is the latest minified version producing this error. Enclosing them in  a <code>try ... catch</code> clause suppressed the errors -- as expected -- but didn&#39;t give the desired output."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1634964049,"post_id":69685098,"comment_id":123174115,"body_markdown":"Old error is &quot;must be caught or declared to be thrown&quot;... It relative to my previous command, you don&#39;t include new stack trace yet ...","body":"Old error is &quot;must be caught or declared to be thrown&quot;... It relative to my previous command, you don&#39;t include new stack trace yet ..."},{"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"score":1,"creation_date":1634964255,"post_id":69685098,"comment_id":123174137,"body_markdown":"In my case, I am working well. I enclosed try.. catch. I think you had better modify your code and Error&#39;s detail.","body":"In my case, I am working well. I enclosed try.. catch. I think you had better modify your code and Error&#39;s detail."},{"owner":{"account_id":3511470,"reputation":369,"user_id":10011520,"display_name":"Samha&#39;"},"score":0,"creation_date":1634964829,"post_id":69685098,"comment_id":123174200,"body_markdown":"@huy @lionThunder It worked successfully when I enclosed it in `try ... catch`, must&#39;ve been trying something wrong. Thank you!","body":"@huy @lionThunder It worked successfully when I enclosed it in <code>try ... catch</code>, must&#39;ve been trying something wrong. Thank you!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1663044349,"post_id":69685098,"comment_id":130140141,"body_markdown":"Note: this is a **compilation** error.  Therefore it can be nothing to do with the actual JSON that you are trying to parse.  And there **won&#39;t** be a stacktrace.  The compilation error is telling you that your code must catch a checked exception that *could* be thrown when the program is run.","body":"Note: this is a <b>compilation</b> error.  Therefore it can be nothing to do with the actual JSON that you are trying to parse.  And there <b>won&#39;t</b> be a stacktrace.  The compilation error is telling you that your code must catch a checked exception that <i>could</i> be thrown when the program is run."}],"answers":[{"tags":[],"owner":{"account_id":3511470,"reputation":369,"user_id":10011520,"display_name":"Samha&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634964612,"creation_date":1634964612,"answer_id":69685220,"question_id":69685098,"body_markdown":"Thanks to @huy&#39;s comment, the message is descriptive enough and it was a matter of enclosing the parsing function in a `try ... catch` clause.\r\n\r\nThe updated code would be:\r\n\r\nmain.java\r\n```java\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\n\r\nclass Main {\r\n  static String tags = &quot;[]&quot;;\r\n  public static void main(String[] args) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode root;\r\n    try {\r\n      root = mapper.readTree(tags);\r\n      System.out.println(root.toString());\r\n    } catch (JsonProcessingException e) {}\r\n  }\r\n}\r\n```","title":"Cannot parse a simple empty JSON array with Jackson","body":"<p>Thanks to @huy's comment, the message is descriptive enough and it was a matter of enclosing the parsing function in a <code>try ... catch</code> clause.</p>\n<p>The updated code would be:</p>\n<p>main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.core.JsonProcessingException;\n\nclass Main {\n  static String tags = &quot;[]&quot;;\n  public static void main(String[] args) {\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode root;\n    try {\n      root = mapper.readTree(tags);\n      System.out.println(root.toString());\n    } catch (JsonProcessingException e) {}\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634965090,"creation_date":1634965090,"answer_id":69685259,"question_id":69685098,"body_markdown":"    public JsonNode readTree(String content)\r\n                      throws IOException,\r\n                             JsonProcessingException\r\n\r\nYou should handle exception with try/catch or throws in main method. ","title":"Cannot parse a simple empty JSON array with Jackson","body":"<pre><code>public JsonNode readTree(String content)\n                  throws IOException,\n                         JsonProcessingException\n</code></pre>\n<p>You should handle exception with try/catch or throws in main method.</p>\n"}],"owner":{"account_id":3511470,"reputation":369,"user_id":10011520,"display_name":"Samha&#39;"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663044274,"accepted_answer_id":69685259,"answer_count":2,"score":0,"last_activity_date":1634965090,"creation_date":1634962934,"question_id":69685098,"body_markdown":"I&#39;m trying to play with the `Jackson` package in a very simple custom-layout java project:\r\n```\r\n├── main.java\r\n└── pom.xml\r\n```\r\nAnd here are the contents of both files:\r\n\r\nmain.java\r\n```java\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nclass Main {\r\n  static String tags = &quot;[]&quot;;\r\n  public static void main(String[] args) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode root;\r\n    root = mapper.readTree(tags);\r\n  }\r\n}\r\n```\r\npom.xml\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n \r\n  &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n \r\n  &lt;name&gt;my-app&lt;/name&gt;\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n              &lt;mainClass&gt;Main&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nNow, when I run `mvn package` it gives me this error:\r\n\r\n`... main.java:[9,27] unreported exception com.fasterxml.jackson.core.JsonProcessingException; must be caught or declared to be thrown`\r\n\r\nWhen I first had this error, I had a bigger JSON string to test with, then I suspected the issue might be a parsing one, so I simplified things by replacing it with just a simple empty array `[]` as shown in the code, with no luck.\r\n\r\nHow can I fix this error?","title":"Cannot parse a simple empty JSON array with Jackson","body":"<p>I'm trying to play with the <code>Jackson</code> package in a very simple custom-layout java project:</p>\n<pre><code>├── main.java\n└── pom.xml\n</code></pre>\n<p>And here are the contents of both files:</p>\n<p>main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nclass Main {\n  static String tags = &quot;[]&quot;;\n  public static void main(String[] args) {\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode root;\n    root = mapper.readTree(tags);\n  }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n  &lt;groupId&gt;my-group&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n \n  &lt;name&gt;my-app&lt;/name&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  \n  &lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;Main&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now, when I run <code>mvn package</code> it gives me this error:</p>\n<p><code>... main.java:[9,27] unreported exception com.fasterxml.jackson.core.JsonProcessingException; must be caught or declared to be thrown</code></p>\n<p>When I first had this error, I had a bigger JSON string to test with, then I suspected the issue might be a parsing one, so I simplified things by replacing it with just a simple empty array <code>[]</code> as shown in the code, with no luck.</p>\n<p>How can I fix this error?</p>\n"},{"tags":["java","android-studio","autocomplete","android-room","android-jetpack"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634964908,"creation_date":1634951614,"answer_id":69684400,"question_id":69683821,"body_markdown":"You need a comma between column names (* denoting all columns so no need for *,city_name). \r\n\r\nThat is `SELECT * FROM city....` is the equivalent, in your case, of saying `SELECT id,city_name,state,country,lon,lat FROM city ....`\r\n\r\nWhilst `SELECT *,city_name ....` is saying `SELECT id,city_name,state,country,lon,lat,city_name FROM city ....`\r\n\r\nAlthough valid SQL why get the same value twice (rhetorical)? Furthermore which (even though they are the same) city_name should Room use(rehtorical)? *It&#39;s ambiguous and has the potential to result in errors (I think room handles this and picks the last)*\r\n\r\nYou want either :-\r\n\r\n\r\n    @Dao\r\n    public interface DAO {\r\n        //this class contains methods that accesses the database\r\n        @Query(&quot;SELECT * FROM city WHERE city_name LIKE :cityName&quot;)\r\n        List&lt;Entity&gt; getCity(String cityName); //&lt;&lt;&lt;&lt; The method that is called from the code\r\n    }\r\n\r\n   This will return a List&lt;Entity&gt; i.e. a list of Entity objects\r\n\r\nOr :-\r\n\r\n    @Dao\r\n    public interface DAO {\r\n        //this class contains methods that accesses the database\r\n        @Query(&quot;SELECT city_name FROM city WHERE city_name LIKE :cityName&quot;)\r\n        List&lt;String&gt; getCityName(cityName);\r\n    }\r\n\r\n - this returns a List&lt;String&gt; where each string will just be the city_name&#39;s\r\n- *you could have both*\r\n\r\nwhen invoking if the string passed (cityName) was &quot;New%&quot; then you would get New York, Newcastle etc (i.e. the % is a wild character for 1 or more characters _ for a single character)\r\n\r\n**Example**\r\n\r\nUsing your code, with some minor changes, the above compiles and runs OK.\r\n\r\nThe changes as suggested above have been included (both) so theDAO class used was :-\r\n\r\n    @Dao\r\n    public interface DAO {\r\n    \r\n        //this class contains methods that accesses the database\r\n        @Query(&quot;SELECT * FROM city WHERE city_name LIKE :cityName&quot;)\r\n        List&lt;Entity&gt; getCitiesByName(String cityName);\r\n    \r\n        @Query(&quot;SELECT city_name FROM city WHERE city_name LIKE :cityName&quot;)\r\n        List&lt;String&gt; getCityNamesByName(String cityName);\r\n    }\r\n\r\nI made a few changes to the **Database class** to a) allow running on the main thread (added `.allowMainThreadQueries()`) and b) to not create from an assets file (commented out `.createFromAsset(&quot;city_db.db&quot;)`) as per :-\r\n\r\n    @androidx.room.Database(entities = Entity.class,version = 1)\r\n    //must include the entity associated with database\r\n    public abstract class Database extends RoomDatabase {\r\n        //must be abstract\r\n        public abstract DAO dao();\r\n        //must declare this\r\n        //check if a database instance is existing\r\n        //if not, create one and return it\r\n        private static volatile Database db;\r\n        static Database getDatabase(final Context context){\r\n            if(db==null){\r\n                synchronized (Database.class){\r\n                    if(db == null){\r\n                        db = Room.databaseBuilder(context.getApplicationContext(),\r\n                                Database.class, &quot;Database&quot;)\r\n                                //.createFromAsset(&quot;city_db.db&quot;)\r\n                                .allowMainThreadQueries()\r\n                                .build();\r\n                    }\r\n                }\r\n            }\r\n            return db;\r\n        }\r\n    }\r\n\r\nThe **MainActivity** used was :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Database db;\r\n        DAO dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = Database.getDatabase(this);\r\n            dao = db.dao();\r\n            dao.getCitiesByName(&quot;Somewhere%&quot;);\r\n            dao.getCityNamesByName(&quot;Nowhere%&quot;);\r\n        }\r\n    }\r\n\r\nThus even though nothing is done with the results (no data inside the database) the above opens the database (creating it as .createFromAsset is not used).\r\n\r\nYou can see this as per App Inspection (aka Database Inspector) in Android Studio :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**As such you code, bar the copy of the assets file works when amended as suggested.** \r\n\r\n**Ongoing issues**\r\n\r\nAccording to your screenshot, then you will likely have ongoing issues when it comes to the the `.build()`.\r\n\r\nRoom **EXPECTS** the copied database to exactly match the schema that is derived from the Entities (for the entities defined in the entities parameter of the @Database annotation).\r\n\r\nAs one example, the screen shot shows that the name of the city is in the column(field) named **name**, whilst in your entity the equivalent column names, as per the entity Entity is city_name. Room build will fail. Likewise for  coord.lon and coord.lat which are lon and lat.\r\n\r\nFurthermore, the column definitions (columns types and constraints such as NOT NULL) must also match, otherwise the Room build will fail.\r\n\r\nAs such you MUST ensure that the schemas match. This may require using one of available tools to convert the database accordingly (it is probably much easier to convert the database being copied than to trying to match an existing database due to the limitations imposed by Room).\r\n\r\nThe starting point would be the SQL that Room generates when you compile with a valid/usable @Database that includes the entities.\r\n\r\ne.g. in your case in the generated java (visible from the Android View in Android Studio) in the class named the same as the class that has the @Database annotation but suffixed with _IMPL.\r\n\r\nSo as your @Database class is named Database then there will be a class Database_IMPL.\r\n\r\nWithin the class there will be a method **createAllTables** this has the SQL for all the tables (any SQL that deal&#39;s with room_ can be ignored).\r\n\r\nE.g. yours will be something like :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou will very likely need to convert the database using an SQLite tool such as DB Browser for SQLite, SQlite Studio, DBeaver, Navicat For SQlite to use the schema. \r\n\r\nRoughly speaking use the SQL as obtained from the generated java to create the table and then copy the data.\r\n\r\nThe conversion itself would be pretty simple. First create a copy of the city_db.db file.\r\n\r\nOpen either (as you prefer in your preferred SQLite tool, for demonstration \r\n\r\n- I&#39;ve used Navicat and used a query to generate the an example of the original (with just a couple of countries)) as per :- \r\n\r\n    ```DROP TABLE IF EXISTS city;\r\n    CREATE TABLE IF NOT EXISTS city (id INTEGER PRIMARY KEY, name TEXT,state TEXT, country TEXT, `coord.lon` REAL, `coord.lat`);\r\n    INSERT INTO city VALUES\r\n    \t(3904809,&#39;Santa Rita&#39;,&#39;&#39;,&#39;BO&#39;,-63.3499,-17.966),\r\n    \t(3904890,&#39;Santa Elenta&#39;,&#39;&#39;,&#39;BO&#39;,-64.7833,-20.5496)\r\n    ;\r\n\r\n  - don&#39;t use the above\r\n\r\nThen use the following SQL noting that this will delete the original table (don&#39;t want an oversized asset file). *This will fail if run a second time as the original has effectively been overridden so the original column names don&#39;t exist.*\r\n\r\n    DROP TABLE IF EXISTS room_city;\r\n    \r\n    /*As copied from the App&#39;s generated java */\r\n    /* BUT table name changed to room_city from city */\r\n    CREATE TABLE IF NOT EXISTS `room_city` (`id` INTEGER NOT NULL, `city_name` TEXT, `state` TEXT, `country` TEXT, `lon` TEXT, `lat` TEXT, PRIMARY KEY(`id`));\r\n    INSERT INTO room_city SELECT id,name AS city_name, state, country, `coord.lon` AS lon, `coord.lat` AS lat FROM city;\r\n    /* To clean up so as to not include the original in the asset\r\n    \tyou don&#39;t want the asset hold twice the data that it needs to\r\n    \t!!!!!NOTE!!!!! you should use a copy of the original city database\r\n    */\r\n    DROP TABLE IF EXISTS city;\r\n    ALTER TABLE `room_city` RENAME TO `city`;\r\n    VACUUM;\r\n    /* Below not needed but good to check all is as expected */\r\n    SELECT * FROM city;\r\n    SELECT * FROm sqlite_master;\r\n\r\n - Note that this assumes that the original database is as per the screen shot.\r\n- the first SELECT after the VACUUM shows:-\r\n- [![enter image description here][3]][3]\r\n\r\n- The second shows the schema:-\r\n- [![enter image description here][4]][4]\r\n  - it matches the schema EXPECTED by Room\r\n\r\nThe database and connection should be closed (open checked and closed again to double check that the file to be copied is saved).\r\n\r\nIt&#39;s then a mattter of copying the file into the assets folder (you may need to create this) ensuring that it is named (can be renamed) **city_db.db**. :-\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIn the case of the demo from above being utilised the **Database** class was changed to now include the line `.createFromAsset(&quot;city_db.db&quot;) // &lt;&lt;&lt;&lt;&lt; reinstated`\r\n\r\nand **MainActivity** was changed to be :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Database db;\r\n        DAO dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = Database.getDatabase(this);\r\n            dao = db.dao();\r\n    \r\n            for(Entity city: dao.getCitiesByName(&quot;%&quot;)) { //* &lt;&lt;&lt;&lt;&lt;&lt; changed to show all as only 2 cities in demo\r\n                Log.d(&quot;CITYINFO-1&quot;,&quot;CityName is &quot; + city.name + &quot; state/county is &quot; + city.state + &quot; etc.....&quot;);\r\n            }\r\n            for(String cityname: dao.getCityNamesByName(&quot;%&quot;)) { //* &lt;&lt;&lt;&lt;&lt;&lt; changed to show all as only 2 cities in demo\r\n                Log.d(&quot;CITYINFO-2&quot;,&quot;CityName is &quot; + cityname);\r\n            }\r\n            dao.getCityNamesByName(&quot;New%&quot;);\r\n        }\r\n    }\r\n\r\nWhen run the log shows :-\r\n\r\n    2021-10-23 15:44:37.480 D/CITYINFO-1: CityName is Santa Rita state/county is  etc.....\r\n    2021-10-23 15:44:37.480 D/CITYINFO-1: CityName is Santa Elenta state/county is  etc.....\r\n    2021-10-23 15:44:37.482 D/CITYINFO-2: CityName is Santa Rita\r\n    2021-10-23 15:44:37.482 D/CITYINFO-2: CityName is Santa Elenta\r\n\r\nSo the database works.\r\n\r\n**What happens if you don&#39;t convert?**\r\n\r\nAgain based upon the screen shot then the App fail with :-\r\n\r\n    2021-10-23 15:50:53.826 6345-6345/a.a.so69683821cities E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: a.a.so69683821cities, PID: 6345\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{a.a.so69683821cities/a.a.so69683821cities.MainActivity}: java.lang.IllegalStateException: Pre-packaged database has an invalid schema: city(a.a.so69683821cities.Entity).\r\n         Expected:\r\n        TableInfo{name=&#39;city&#39;, columns={country=Column{name=&#39;country&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, city_name=Column{name=&#39;city_name&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, lon=Column{name=&#39;lon&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, id=Column{name=&#39;id&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=true, primaryKeyPosition=1, defaultValue=&#39;null&#39;}, state=Column{name=&#39;state&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, lat=Column{name=&#39;lat&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}}, foreignKeys=[], indices=[]}\r\n         Found:\r\n        TableInfo{name=&#39;city&#39;, columns={country=Column{name=&#39;country&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, name=Column{name=&#39;name&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, id=Column{name=&#39;id&#39;, type=&#39;INTEGER&#39;, affinity=&#39;3&#39;, notNull=false, primaryKeyPosition=1, defaultValue=&#39;null&#39;}, state=Column{name=&#39;state&#39;, type=&#39;TEXT&#39;, affinity=&#39;2&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, coord.lat=Column{name=&#39;coord.lat&#39;, type=&#39;&#39;, affinity=&#39;1&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}, coord.lon=Column{name=&#39;coord.lon&#39;, type=&#39;REAL&#39;, affinity=&#39;4&#39;, notNull=false, primaryKeyPosition=0, defaultValue=&#39;null&#39;}}, foreignKeys=[], indices=[]}\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n\r\nwhere the **EXPECTED** is what Room expects the schema to be according to the Entity class BUT Room **FOUND** the mismatching schema from the asset.\r\n\r\n  [1]: https://i.stack.imgur.com/9pvV2.png\r\n  [2]: https://i.stack.imgur.com/cuqAQ.png\r\n  [3]: https://i.stack.imgur.com/FEtAv.png\r\n  [4]: https://i.stack.imgur.com/uLYXG.png\r\n  [5]: https://i.stack.imgur.com/JNvXR.png","title":"confused about Populating AutoCompleteTextView Suggestions with a Room Database","body":"<p>You need a comma between column names (* denoting all columns so no need for *,city_name).</p>\n<p>That is <code>SELECT * FROM city....</code> is the equivalent, in your case, of saying <code>SELECT id,city_name,state,country,lon,lat FROM city ....</code></p>\n<p>Whilst <code>SELECT *,city_name ....</code> is saying <code>SELECT id,city_name,state,country,lon,lat,city_name FROM city ....</code></p>\n<p>Although valid SQL why get the same value twice (rhetorical)? Furthermore which (even though they are the same) city_name should Room use(rehtorical)? <em>It's ambiguous and has the potential to result in errors (I think room handles this and picks the last)</em></p>\n<p>You want either :-</p>\n<pre><code>@Dao\npublic interface DAO {\n    //this class contains methods that accesses the database\n    @Query(&quot;SELECT * FROM city WHERE city_name LIKE :cityName&quot;)\n    List&lt;Entity&gt; getCity(String cityName); //&lt;&lt;&lt;&lt; The method that is called from the code\n}\n</code></pre>\n<p>This will return a List i.e. a list of Entity objects</p>\n<p>Or :-</p>\n<pre><code>@Dao\npublic interface DAO {\n    //this class contains methods that accesses the database\n    @Query(&quot;SELECT city_name FROM city WHERE city_name LIKE :cityName&quot;)\n    List&lt;String&gt; getCityName(cityName);\n}\n</code></pre>\n<ul>\n<li>this returns a List where each string will just be the city_name's</li>\n<li><em>you could have both</em></li>\n</ul>\n<p>when invoking if the string passed (cityName) was &quot;New%&quot; then you would get New York, Newcastle etc (i.e. the % is a wild character for 1 or more characters _ for a single character)</p>\n<p><strong>Example</strong></p>\n<p>Using your code, with some minor changes, the above compiles and runs OK.</p>\n<p>The changes as suggested above have been included (both) so theDAO class used was :-</p>\n<pre><code>@Dao\npublic interface DAO {\n\n    //this class contains methods that accesses the database\n    @Query(&quot;SELECT * FROM city WHERE city_name LIKE :cityName&quot;)\n    List&lt;Entity&gt; getCitiesByName(String cityName);\n\n    @Query(&quot;SELECT city_name FROM city WHERE city_name LIKE :cityName&quot;)\n    List&lt;String&gt; getCityNamesByName(String cityName);\n}\n</code></pre>\n<p>I made a few changes to the <strong>Database class</strong> to a) allow running on the main thread (added <code>.allowMainThreadQueries()</code>) and b) to not create from an assets file (commented out <code>.createFromAsset(&quot;city_db.db&quot;)</code>) as per :-</p>\n<pre><code>@androidx.room.Database(entities = Entity.class,version = 1)\n//must include the entity associated with database\npublic abstract class Database extends RoomDatabase {\n    //must be abstract\n    public abstract DAO dao();\n    //must declare this\n    //check if a database instance is existing\n    //if not, create one and return it\n    private static volatile Database db;\n    static Database getDatabase(final Context context){\n        if(db==null){\n            synchronized (Database.class){\n                if(db == null){\n                    db = Room.databaseBuilder(context.getApplicationContext(),\n                            Database.class, &quot;Database&quot;)\n                            //.createFromAsset(&quot;city_db.db&quot;)\n                            .allowMainThreadQueries()\n                            .build();\n                }\n            }\n        }\n        return db;\n    }\n}\n</code></pre>\n<p>The <strong>MainActivity</strong> used was :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Database db;\n    DAO dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = Database.getDatabase(this);\n        dao = db.dao();\n        dao.getCitiesByName(&quot;Somewhere%&quot;);\n        dao.getCityNamesByName(&quot;Nowhere%&quot;);\n    }\n}\n</code></pre>\n<p>Thus even though nothing is done with the results (no data inside the database) the above opens the database (creating it as .createFromAsset is not used).</p>\n<p>You can see this as per App Inspection (aka Database Inspector) in Android Studio :-</p>\n<p><a href=\"https://i.stack.imgur.com/9pvV2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9pvV2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>As such you code, bar the copy of the assets file works when amended as suggested.</strong></p>\n<p><strong>Ongoing issues</strong></p>\n<p>According to your screenshot, then you will likely have ongoing issues when it comes to the the <code>.build()</code>.</p>\n<p>Room <strong>EXPECTS</strong> the copied database to exactly match the schema that is derived from the Entities (for the entities defined in the entities parameter of the @Database annotation).</p>\n<p>As one example, the screen shot shows that the name of the city is in the column(field) named <strong>name</strong>, whilst in your entity the equivalent column names, as per the entity Entity is city_name. Room build will fail. Likewise for  coord.lon and coord.lat which are lon and lat.</p>\n<p>Furthermore, the column definitions (columns types and constraints such as NOT NULL) must also match, otherwise the Room build will fail.</p>\n<p>As such you MUST ensure that the schemas match. This may require using one of available tools to convert the database accordingly (it is probably much easier to convert the database being copied than to trying to match an existing database due to the limitations imposed by Room).</p>\n<p>The starting point would be the SQL that Room generates when you compile with a valid/usable @Database that includes the entities.</p>\n<p>e.g. in your case in the generated java (visible from the Android View in Android Studio) in the class named the same as the class that has the @Database annotation but suffixed with _IMPL.</p>\n<p>So as your @Database class is named Database then there will be a class Database_IMPL.</p>\n<p>Within the class there will be a method <strong>createAllTables</strong> this has the SQL for all the tables (any SQL that deal's with room_ can be ignored).</p>\n<p>E.g. yours will be something like :-</p>\n<p><a href=\"https://i.stack.imgur.com/cuqAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cuqAQ.png\" alt=\"enter image description here\" /></a></p>\n<p>You will very likely need to convert the database using an SQLite tool such as DB Browser for SQLite, SQlite Studio, DBeaver, Navicat For SQlite to use the schema.</p>\n<p>Roughly speaking use the SQL as obtained from the generated java to create the table and then copy the data.</p>\n<p>The conversion itself would be pretty simple. First create a copy of the city_db.db file.</p>\n<p>Open either (as you prefer in your preferred SQLite tool, for demonstration</p>\n<ul>\n<li><p>I've used Navicat and used a query to generate the an example of the original (with just a couple of countries)) as per :-</p>\n<pre><code>CREATE TABLE IF NOT EXISTS city (id INTEGER PRIMARY KEY, name TEXT,state TEXT, country TEXT, `coord.lon` REAL, `coord.lat`);\nINSERT INTO city VALUES\n    (3904809,'Santa Rita','','BO',-63.3499,-17.966),\n    (3904890,'Santa Elenta','','BO',-64.7833,-20.5496)\n;\n\n- don't use the above\n\n</code></pre>\n</li>\n</ul>\n<p>Then use the following SQL noting that this will delete the original table (don't want an oversized asset file). <em>This will fail if run a second time as the original has effectively been overridden so the original column names don't exist.</em></p>\n<pre><code>DROP TABLE IF EXISTS room_city;\n\n/*As copied from the App's generated java */\n/* BUT table name changed to room_city from city */\nCREATE TABLE IF NOT EXISTS `room_city` (`id` INTEGER NOT NULL, `city_name` TEXT, `state` TEXT, `country` TEXT, `lon` TEXT, `lat` TEXT, PRIMARY KEY(`id`));\nINSERT INTO room_city SELECT id,name AS city_name, state, country, `coord.lon` AS lon, `coord.lat` AS lat FROM city;\n/* To clean up so as to not include the original in the asset\n    you don't want the asset hold twice the data that it needs to\n    !!!!!NOTE!!!!! you should use a copy of the original city database\n*/\nDROP TABLE IF EXISTS city;\nALTER TABLE `room_city` RENAME TO `city`;\nVACUUM;\n/* Below not needed but good to check all is as expected */\nSELECT * FROM city;\nSELECT * FROm sqlite_master;\n</code></pre>\n<ul>\n<li><p>Note that this assumes that the original database is as per the screen shot.</p>\n</li>\n<li><p>the first SELECT after the VACUUM shows:-</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/FEtAv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEtAv.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>The second shows the schema:-</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/uLYXG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uLYXG.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>it matches the schema EXPECTED by Room</li>\n</ul>\n</li>\n</ul>\n<p>The database and connection should be closed (open checked and closed again to double check that the file to be copied is saved).</p>\n<p>It's then a mattter of copying the file into the assets folder (you may need to create this) ensuring that it is named (can be renamed) <strong>city_db.db</strong>. :-</p>\n<p><a href=\"https://i.stack.imgur.com/JNvXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JNvXR.png\" alt=\"enter image description here\" /></a></p>\n<p>In the case of the demo from above being utilised the <strong>Database</strong> class was changed to now include the line <code>.createFromAsset(&quot;city_db.db&quot;) // &lt;&lt;&lt;&lt;&lt; reinstated</code></p>\n<p>and <strong>MainActivity</strong> was changed to be :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Database db;\n    DAO dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = Database.getDatabase(this);\n        dao = db.dao();\n\n        for(Entity city: dao.getCitiesByName(&quot;%&quot;)) { //* &lt;&lt;&lt;&lt;&lt;&lt; changed to show all as only 2 cities in demo\n            Log.d(&quot;CITYINFO-1&quot;,&quot;CityName is &quot; + city.name + &quot; state/county is &quot; + city.state + &quot; etc.....&quot;);\n        }\n        for(String cityname: dao.getCityNamesByName(&quot;%&quot;)) { //* &lt;&lt;&lt;&lt;&lt;&lt; changed to show all as only 2 cities in demo\n            Log.d(&quot;CITYINFO-2&quot;,&quot;CityName is &quot; + cityname);\n        }\n        dao.getCityNamesByName(&quot;New%&quot;);\n    }\n}\n</code></pre>\n<p>When run the log shows :-</p>\n<pre><code>2021-10-23 15:44:37.480 D/CITYINFO-1: CityName is Santa Rita state/county is  etc.....\n2021-10-23 15:44:37.480 D/CITYINFO-1: CityName is Santa Elenta state/county is  etc.....\n2021-10-23 15:44:37.482 D/CITYINFO-2: CityName is Santa Rita\n2021-10-23 15:44:37.482 D/CITYINFO-2: CityName is Santa Elenta\n</code></pre>\n<p>So the database works.</p>\n<p><strong>What happens if you don't convert?</strong></p>\n<p>Again based upon the screen shot then the App fail with :-</p>\n<pre><code>2021-10-23 15:50:53.826 6345-6345/a.a.so69683821cities E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: a.a.so69683821cities, PID: 6345\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{a.a.so69683821cities/a.a.so69683821cities.MainActivity}: java.lang.IllegalStateException: Pre-packaged database has an invalid schema: city(a.a.so69683821cities.Entity).\n     Expected:\n    TableInfo{name='city', columns={country=Column{name='country', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, city_name=Column{name='city_name', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, lon=Column{name='lon', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, id=Column{name='id', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=1, defaultValue='null'}, state=Column{name='state', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, lat=Column{name='lat', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}}, foreignKeys=[], indices=[]}\n     Found:\n    TableInfo{name='city', columns={country=Column{name='country', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, name=Column{name='name', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, id=Column{name='id', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=1, defaultValue='null'}, state=Column{name='state', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0, defaultValue='null'}, coord.lat=Column{name='coord.lat', type='', affinity='1', notNull=false, primaryKeyPosition=0, defaultValue='null'}, coord.lon=Column{name='coord.lon', type='REAL', affinity='4', notNull=false, primaryKeyPosition=0, defaultValue='null'}}, foreignKeys=[], indices=[]}\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n</code></pre>\n<p>where the <strong>EXPECTED</strong> is what Room expects the schema to be according to the Entity class BUT Room <strong>FOUND</strong> the mismatching schema from the asset.</p>\n"}],"owner":{"account_id":22919348,"reputation":51,"user_id":17055411,"display_name":"MUCHUAN SU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69684400,"answer_count":1,"score":0,"last_activity_date":1634964908,"creation_date":1634943215,"question_id":69683821,"body_markdown":"I am a newbie and trying to implement an **autoComplete** function in my android app in JAVA(not Kotlin cause I haven&#39;t learned about it) with this tutorial: \r\n\r\n[link][1]\r\n\r\nUsers can search city names in the autocomplete Text view, and when they type, suggestions should appear on the dropdown list based on what they typed, **e.g If they typed &quot;N&quot;, then the suggestions should show &quot;New York&quot;, &quot;New castle&quot; etc.**\r\n\r\n\r\nThe suggestions should be prepopulated with an existing database of thousands of city info(data are already inside), I saved this city_db.db file in my assets folder.\r\n\r\nI have several questions:\r\n\r\n1. When writing My DAO.java class, I should include my query commands, and I only include the query part because I only need to read from the database, not write in, so I wrote:\r\n     \r\n``` \r\npackage com.example.roomtest;\r\nimport androidx.room.Dao;\r\nimport androidx.room.Query;\r\n@Dao\r\npublic interface DAO {\r\n    //this class contains methods that accesses the database\r\n    @Query(&quot;SELECT * city_name FROM city&quot;)\r\n}\r\n``` \r\n\r\n\r\nbut it just shows the red line and tells me **&quot;Annotations are not allowed here&quot;**.\r\n\r\nand I&#39;m not sure if this is the right query command, shouldn&#39;t it be like\r\n\r\n    &quot;SELECT * city_name FROM city where like &quot;what the user typed%&quot; &quot;?\r\n\r\n2. I am not sure if I need more classes for this auto-complete function,\r\nNow I have these classes:\r\n\r\n1.MainActivity.java\r\n\r\n2.Entity.java\r\n\r\n3.Dao.java\r\n\r\n4.Database.java\r\n\r\nDo I need more classes to implement this auto-complete function? I think I&#39;m missing something.\r\n\r\nHeres&#39;s my code in all the classes:\r\n```\r\n\r\npackage com.example.roomtest;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.widget.AutoCompleteTextView;\r\n    import android.widget.EditText;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private AutoCompleteTextView at;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            at = findViewById(R.id.att);\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n\r\npackage com.example.roomtest;\r\n    import android.content.Context;\r\n    import androidx.room.Room;\r\n    import androidx.room.RoomDatabase;\r\n    \r\n    @androidx.room.Database(entities = Entity.class,version = 1)\r\n    //must include the entity associated with database\r\n    public abstract class Database extends RoomDatabase {\r\n        //must be abstract\r\n        public abstract DAO dao();\r\n        //must declare this\r\n        //check if a database instance is existing\r\n        //if not, create one and return it\r\n        private static volatile Database db;\r\n        static Database getDatabase(final Context context){\r\n            if(db==null){\r\n                synchronized (Database.class){\r\n                    if(db == null){\r\n                        db =Room.databaseBuilder(context.getApplicationContext(),\r\n                                Database.class, &quot;Database&quot;)\r\n                                .createFromAsset(&quot;city_db.db&quot;).build();\r\n                    }\r\n                }\r\n            }\r\n            return db;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\npackage com.example.roomtest;\r\n    \r\n    import androidx.room.ColumnInfo;\r\n    import androidx.room.PrimaryKey;\r\n    \r\n    \r\n    @androidx.room.Entity(tableName = &quot;city&quot;)\r\n    public class Entity {\r\n        //define data types in this class\r\n        @PrimaryKey\r\n        public int id;\r\n        @ColumnInfo(name = &quot;city_name&quot;)\r\n        public String name;\r\n    \r\n        public String state;\r\n        public String country;\r\n        public String lon;\r\n        public String lat;\r\n    }\r\n```\r\n```\r\npackage com.example.roomtest;\r\n    import androidx.room.Dao;\r\n    import androidx.room.Query;\r\n    @Dao\r\n    public interface DAO {\r\n        //this class contains methods that accesses the database\r\n        @Query(&quot;SELECT * city_name FROM city&quot;)\r\n    }\r\n```\r\n\r\nmy gradle dependencies:\r\n```\r\ndependencies {\r\n    //room components\r\n    def room_version = &quot;2.3.0&quot;\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n    testImplementation &quot;androidx.room:room-testing:$room_version&quot;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n\r\n```\r\nAlso here are the attributes for my database:\r\n\r\n[![enter image description here][2]][2]\r\nI am sorry for the long post, but I&#39;m just too confused about all the works needed for this simple function, If anyone knows a good tutorial about this, please kindly share with me, Thank you.\r\n\r\n\r\n  [1]: https://learntodroid.com/android-autocompletetextview-tutorial-with-examples/\r\n  [2]: https://i.stack.imgur.com/OnD2I.png","title":"confused about Populating AutoCompleteTextView Suggestions with a Room Database","body":"<p>I am a newbie and trying to implement an <strong>autoComplete</strong> function in my android app in JAVA(not Kotlin cause I haven't learned about it) with this tutorial:</p>\n<p><a href=\"https://learntodroid.com/android-autocompletetextview-tutorial-with-examples/\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Users can search city names in the autocomplete Text view, and when they type, suggestions should appear on the dropdown list based on what they typed, <strong>e.g If they typed &quot;N&quot;, then the suggestions should show &quot;New York&quot;, &quot;New castle&quot; etc.</strong></p>\n<p>The suggestions should be prepopulated with an existing database of thousands of city info(data are already inside), I saved this city_db.db file in my assets folder.</p>\n<p>I have several questions:</p>\n<ol>\n<li>When writing My DAO.java class, I should include my query commands, and I only include the query part because I only need to read from the database, not write in, so I wrote:</li>\n</ol>\n<pre><code>package com.example.roomtest;\nimport androidx.room.Dao;\nimport androidx.room.Query;\n@Dao\npublic interface DAO {\n    //this class contains methods that accesses the database\n    @Query(&quot;SELECT * city_name FROM city&quot;)\n}\n</code></pre>\n<p>but it just shows the red line and tells me <strong>&quot;Annotations are not allowed here&quot;</strong>.</p>\n<p>and I'm not sure if this is the right query command, shouldn't it be like</p>\n<pre><code>&quot;SELECT * city_name FROM city where like &quot;what the user typed%&quot; &quot;?\n</code></pre>\n<ol start=\"2\">\n<li>I am not sure if I need more classes for this auto-complete function,\nNow I have these classes:</li>\n</ol>\n<p>1.MainActivity.java</p>\n<p>2.Entity.java</p>\n<p>3.Dao.java</p>\n<p>4.Database.java</p>\n<p>Do I need more classes to implement this auto-complete function? I think I'm missing something.</p>\n<p>Heres's my code in all the classes:</p>\n<pre><code>\npackage com.example.roomtest;\n    import androidx.appcompat.app.AppCompatActivity;\n    import android.os.Bundle;\n    import android.widget.AutoCompleteTextView;\n    import android.widget.EditText;\n    \n    public class MainActivity extends AppCompatActivity {\n        private AutoCompleteTextView at;\n    \n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            at = findViewById(R.id.att);\n        }\n    }\n</code></pre>\n<pre><code>\npackage com.example.roomtest;\n    import android.content.Context;\n    import androidx.room.Room;\n    import androidx.room.RoomDatabase;\n    \n    @androidx.room.Database(entities = Entity.class,version = 1)\n    //must include the entity associated with database\n    public abstract class Database extends RoomDatabase {\n        //must be abstract\n        public abstract DAO dao();\n        //must declare this\n        //check if a database instance is existing\n        //if not, create one and return it\n        private static volatile Database db;\n        static Database getDatabase(final Context context){\n            if(db==null){\n                synchronized (Database.class){\n                    if(db == null){\n                        db =Room.databaseBuilder(context.getApplicationContext(),\n                                Database.class, &quot;Database&quot;)\n                                .createFromAsset(&quot;city_db.db&quot;).build();\n                    }\n                }\n            }\n            return db;\n        }\n    }\n</code></pre>\n<pre><code>package com.example.roomtest;\n    \n    import androidx.room.ColumnInfo;\n    import androidx.room.PrimaryKey;\n    \n    \n    @androidx.room.Entity(tableName = &quot;city&quot;)\n    public class Entity {\n        //define data types in this class\n        @PrimaryKey\n        public int id;\n        @ColumnInfo(name = &quot;city_name&quot;)\n        public String name;\n    \n        public String state;\n        public String country;\n        public String lon;\n        public String lat;\n    }\n</code></pre>\n<pre><code>package com.example.roomtest;\n    import androidx.room.Dao;\n    import androidx.room.Query;\n    @Dao\n    public interface DAO {\n        //this class contains methods that accesses the database\n        @Query(&quot;SELECT * city_name FROM city&quot;)\n    }\n</code></pre>\n<p>my gradle dependencies:</p>\n<pre><code>dependencies {\n    //room components\n    def room_version = &quot;2.3.0&quot;\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n    testImplementation &quot;androidx.room:room-testing:$room_version&quot;\n\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n\n</code></pre>\n<p>Also here are the attributes for my database:</p>\n<p><a href=\"https://i.stack.imgur.com/OnD2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OnD2I.png\" alt=\"enter image description here\" /></a>\nI am sorry for the long post, but I'm just too confused about all the works needed for this simple function, If anyone knows a good tutorial about this, please kindly share with me, Thank you.</p>\n"},{"tags":["java","android","android-layout","local-storage","sharedpreferences"],"comments":[{"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"score":0,"creation_date":1464777818,"post_id":37566183,"comment_id":62619842,"body_markdown":"can&#39;t get you. explain in brief.","body":"can&#39;t get you. explain in brief."},{"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"score":0,"creation_date":1464778201,"post_id":37566183,"comment_id":62620116,"body_markdown":"I want first time user register with four digit number then redirect on login page. In login page user put same four digit number if its match then user can access otherwise they can&#39;t access.","body":"I want first time user register with four digit number then redirect on login page. In login page user put same four digit number if its match then user can access otherwise they can&#39;t access."},{"owner":{"account_id":6312955,"reputation":2777,"user_id":4903925,"accept_rate":71,"display_name":"Bonatti"},"score":0,"creation_date":1464780244,"post_id":37566183,"comment_id":62621629,"body_markdown":"Possible duplicate of [how to directly pass value of a variable from 1st activty to 3rd activity using putextra?](http://stackoverflow.com/questions/12178793/how-to-directly-pass-value-of-a-variable-from-1st-activty-to-3rd-activity-using)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/12178793/how-to-directly-pass-value-of-a-variable-from-1st-activty-to-3rd-activity-using\">how to directly pass value of a variable from 1st activty to 3rd activity using putextra?</a>"},{"owner":{"account_id":5043336,"reputation":13459,"user_id":4407266,"accept_rate":95,"display_name":"Aditya Vyas-Lakhan"},"score":0,"creation_date":1464783485,"post_id":37566183,"comment_id":62623911,"body_markdown":"First try to understand preference","body":"First try to understand preference"}],"answers":[{"tags":[],"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464783045,"creation_date":1464778621,"answer_id":37566699,"question_id":37566183,"body_markdown":"Simple..\r\n\r\n  Considering `signupText`, `loginText` as object.\r\n\r\n\r\n   1. Store sign up text in preference.\r\n   I have used a separate class for preference. For more how to write preference in separate class and use it means, please [refer](https://stackoverflow.com/a/34654799/1921263) here for preference..\r\n\r\n**store signupText in preference.**\r\n\r\n    mPreferenceData.storeInPreference(&quot;signup&quot;,     \r\n    signupText.getText().toString().trim()));\r\n\r\n\r\n**in login page** \r\n\r\n    String signUpText = mPreferenceData.getStoreInPreference(&quot;signup&quot;);\r\n    //now you will have data in signupText\r\n    button.setOnClickListener(new View.OnClickListener(){        \r\n        if(loginText.getText().toString().trim().equalsIgnoreCase(signUpText)){\r\n            // now loginText whatever data that matches with signUpText will make to login successful\r\n        } else{\r\n            //failure\r\n        }\r\n    \r\n    });\r\n\r\n\r\n","title":"how to check stored value using shared preferences in android?","body":"<p>Simple..</p>\n\n<p>Considering <code>signupText</code>, <code>loginText</code> as object.</p>\n\n<ol>\n<li>Store sign up text in preference.\nI have used a separate class for preference. For more how to write preference in separate class and use it means, please <a href=\"https://stackoverflow.com/a/34654799/1921263\">refer</a> here for preference..</li>\n</ol>\n\n<p><strong>store signupText in preference.</strong></p>\n\n<pre><code>mPreferenceData.storeInPreference(\"signup\",     \nsignupText.getText().toString().trim()));\n</code></pre>\n\n<p><strong>in login page</strong> </p>\n\n<pre><code>String signUpText = mPreferenceData.getStoreInPreference(\"signup\");\n//now you will have data in signupText\nbutton.setOnClickListener(new View.OnClickListener(){        \n    if(loginText.getText().toString().trim().equalsIgnoreCase(signUpText)){\n        // now loginText whatever data that matches with signUpText will make to login successful\n    } else{\n        //failure\n    }\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5043336,"reputation":13459,"user_id":4407266,"accept_rate":95,"display_name":"Aditya Vyas-Lakhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464783666,"creation_date":1464783666,"answer_id":37568501,"question_id":37566183,"body_markdown":"To compare values in different Actitvities first you need to store value in Preferences, To how to store values in preference Check [Android User Session Management using Shared Preferences](http://www.androidhive.info/2012/08/android-session-management-using-shared-preferences/) then you can compare values.\r\n\r\n\r\n\r\n    package com.androidhive.sessions;\r\n     \r\n    import java.util.HashMap;\r\n     \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.content.SharedPreferences.Editor;\r\n     \r\n    public class SessionManager {\r\n        // Shared Preferences\r\n        SharedPreferences pref;\r\n         \r\n        // Editor for Shared preferences\r\n        Editor editor;\r\n         \r\n        // Context\r\n        Context _context;\r\n         \r\n        // Shared pref mode\r\n        int PRIVATE_MODE = 0;\r\n         \r\n        // Sharedpref file name\r\n        private static final String PREF_NAME = &quot;AndroidHivePref&quot;;\r\n         \r\n        // All Shared Preferences Keys\r\n        private static final String IS_LOGIN = &quot;IsLoggedIn&quot;;\r\n         \r\n        // User name (make variable public to access from outside)\r\n        public static final String KEY_NAME = &quot;name&quot;;\r\n         \r\n        // Email address (make variable public to access from outside)\r\n        public static final String KEY_EMAIL = &quot;email&quot;;\r\n         \r\n        // Constructor\r\n        public SessionManager(Context context){\r\n            this._context = context;\r\n            pref = _context.getSharedPreferences(PREF_NAME, PRIVATE_MODE);\r\n            editor = pref.edit();\r\n        }\r\n         \r\n        /**\r\n         * Create login session\r\n         * */\r\n        public void createLoginSession(String name, String email){\r\n            // Storing login value as TRUE\r\n            editor.putBoolean(IS_LOGIN, true);\r\n             \r\n            // Storing name in pref\r\n            editor.putString(KEY_NAME, name);\r\n             \r\n            // Storing email in pref\r\n            editor.putString(KEY_EMAIL, email);\r\n             \r\n            // commit changes\r\n            editor.commit();\r\n        }   \r\n         \r\n        /**\r\n         * Check login method wil check user login status\r\n         * If false it will redirect user to login page\r\n         * Else won&#39;t do anything\r\n         * */\r\n        public void checkLogin(){\r\n            // Check login status\r\n            if(!this.isLoggedIn()){\r\n                // user is not logged in redirect him to Login Activity\r\n                Intent i = new Intent(_context, LoginActivity.class);\r\n                // Closing all the Activities\r\n                i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                 \r\n                // Add new Flag to start new Activity\r\n                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                 \r\n                // Staring Login Activity\r\n                _context.startActivity(i);\r\n            }\r\n             \r\n        }\r\n         \r\n         \r\n         \r\n        /**\r\n         * Get stored session data\r\n         * */\r\n        public HashMap&lt;String, String&gt; getUserDetails(){\r\n            HashMap&lt;String, String&gt; user = new HashMap&lt;String, String&gt;();\r\n            // user name\r\n            user.put(KEY_NAME, pref.getString(KEY_NAME, null));\r\n             \r\n            // user email id\r\n            user.put(KEY_EMAIL, pref.getString(KEY_EMAIL, null));\r\n             \r\n            // return user\r\n            return user;\r\n        }\r\n         \r\n        /**\r\n         * Clear session details\r\n         * */\r\n        public void logoutUser(){\r\n            // Clearing all data from Shared Preferences\r\n            editor.clear();\r\n            editor.commit();\r\n             \r\n            // After logout redirect user to Loing Activity\r\n            Intent i = new Intent(_context, LoginActivity.class);\r\n            // Closing all the Activities\r\n            i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n             \r\n            // Add new Flag to start new Activity\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n             \r\n            // Staring Login Activity\r\n            _context.startActivity(i);\r\n        }\r\n         \r\n        /**\r\n         * Quick check for login\r\n         * **/\r\n        // Get Login State\r\n        public boolean isLoggedIn(){\r\n            return pref.getBoolean(IS_LOGIN, false);\r\n        }\r\n    }","title":"how to check stored value using shared preferences in android?","body":"<p>To compare values in different Actitvities first you need to store value in Preferences, To how to store values in preference Check <a href=\"http://www.androidhive.info/2012/08/android-session-management-using-shared-preferences/\" rel=\"nofollow\">Android User Session Management using Shared Preferences</a> then you can compare values.</p>\n\n<pre><code>package com.androidhive.sessions;\n\nimport java.util.HashMap;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.SharedPreferences.Editor;\n\npublic class SessionManager {\n    // Shared Preferences\n    SharedPreferences pref;\n\n    // Editor for Shared preferences\n    Editor editor;\n\n    // Context\n    Context _context;\n\n    // Shared pref mode\n    int PRIVATE_MODE = 0;\n\n    // Sharedpref file name\n    private static final String PREF_NAME = \"AndroidHivePref\";\n\n    // All Shared Preferences Keys\n    private static final String IS_LOGIN = \"IsLoggedIn\";\n\n    // User name (make variable public to access from outside)\n    public static final String KEY_NAME = \"name\";\n\n    // Email address (make variable public to access from outside)\n    public static final String KEY_EMAIL = \"email\";\n\n    // Constructor\n    public SessionManager(Context context){\n        this._context = context;\n        pref = _context.getSharedPreferences(PREF_NAME, PRIVATE_MODE);\n        editor = pref.edit();\n    }\n\n    /**\n     * Create login session\n     * */\n    public void createLoginSession(String name, String email){\n        // Storing login value as TRUE\n        editor.putBoolean(IS_LOGIN, true);\n\n        // Storing name in pref\n        editor.putString(KEY_NAME, name);\n\n        // Storing email in pref\n        editor.putString(KEY_EMAIL, email);\n\n        // commit changes\n        editor.commit();\n    }   \n\n    /**\n     * Check login method wil check user login status\n     * If false it will redirect user to login page\n     * Else won't do anything\n     * */\n    public void checkLogin(){\n        // Check login status\n        if(!this.isLoggedIn()){\n            // user is not logged in redirect him to Login Activity\n            Intent i = new Intent(_context, LoginActivity.class);\n            // Closing all the Activities\n            i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n            // Add new Flag to start new Activity\n            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n            // Staring Login Activity\n            _context.startActivity(i);\n        }\n\n    }\n\n\n\n    /**\n     * Get stored session data\n     * */\n    public HashMap&lt;String, String&gt; getUserDetails(){\n        HashMap&lt;String, String&gt; user = new HashMap&lt;String, String&gt;();\n        // user name\n        user.put(KEY_NAME, pref.getString(KEY_NAME, null));\n\n        // user email id\n        user.put(KEY_EMAIL, pref.getString(KEY_EMAIL, null));\n\n        // return user\n        return user;\n    }\n\n    /**\n     * Clear session details\n     * */\n    public void logoutUser(){\n        // Clearing all data from Shared Preferences\n        editor.clear();\n        editor.commit();\n\n        // After logout redirect user to Loing Activity\n        Intent i = new Intent(_context, LoginActivity.class);\n        // Closing all the Activities\n        i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n        // Add new Flag to start new Activity\n        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n        // Staring Login Activity\n        _context.startActivity(i);\n    }\n\n    /**\n     * Quick check for login\n     * **/\n    // Get Login State\n    public boolean isLoggedIn(){\n        return pref.getBoolean(IS_LOGIN, false);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":37566699,"answer_count":2,"score":-3,"last_activity_date":1634964379,"creation_date":1464777253,"question_id":37566183,"body_markdown":"I have one text box in SignUp layout and one text box in logIn layout. Now how to validate text box value using shared preferences in android?","title":"how to check stored value using shared preferences in android?","body":"<p>I have one text box in SignUp layout and one text box in logIn layout. Now how to validate text box value using shared preferences in android?</p>\n"},{"tags":["java","jakarta-ee","interceptor"],"comments":[{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":5,"creation_date":1379430046,"post_id":18853221,"comment_id":27817395,"body_markdown":"Have a look at the [section on interceptors in the official tutorial](http://docs.oracle.com/javaee/6/tutorial/doc/gkigq.html), it also contains a ready to run example showing interceptors on a stateless bean.","body":"Have a look at the <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gkigq.html\" rel=\"nofollow noreferrer\">section on interceptors in the official tutorial</a>, it also contains a ready to run example showing interceptors on a stateless bean."}],"answers":[{"tags":[],"owner":{"account_id":1773932,"reputation":11088,"user_id":1618135,"accept_rate":78,"display_name":"blackpanther"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1379433966,"creation_date":1379433624,"answer_id":18854533,"question_id":18853221,"body_markdown":"I like this definition: Interceptors are components that intercept calls to EJB methods. They can be used for auditing and logging as and when EJBs are accessed.\r\n\r\nIn another situation, they can be used in a situation where we need to check whether a client has the authority or clearance to execute a transaction on a particular object in the database. Well, this is where Interceptors come in handy; they can check whether the client/user has that authority by checking whether he/she can invoke that method on that database object or EJB. \r\n\r\nHowever, I would still have a look at the following [article][1] and the following [tutorial][2] to get an idea of how they are used in a Java EE setting/environment.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/gkigq.html\r\n  [2]: http://www.javacodegeeks.com/2013/07/java-ee-ejb-interceptors-tutorial-and-example.html","title":"What are Interceptors in Java EE?","body":"<p>I like this definition: Interceptors are components that intercept calls to EJB methods. They can be used for auditing and logging as and when EJBs are accessed.</p>\n\n<p>In another situation, they can be used in a situation where we need to check whether a client has the authority or clearance to execute a transaction on a particular object in the database. Well, this is where Interceptors come in handy; they can check whether the client/user has that authority by checking whether he/she can invoke that method on that database object or EJB. </p>\n\n<p>However, I would still have a look at the following <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gkigq.html\">article</a> and the following <a href=\"http://www.javacodegeeks.com/2013/07/java-ee-ejb-interceptors-tutorial-and-example.html\">tutorial</a> to get an idea of how they are used in a Java EE setting/environment.</p>\n"},{"tags":[],"owner":{"account_id":341561,"reputation":3985,"user_id":672246,"accept_rate":32,"display_name":"Arun Gupta"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1379508756,"creation_date":1379508756,"answer_id":18872795,"question_id":18853221,"body_markdown":"Interceptors are used to implement cross-cutting concerns, such as logging, auditing, and security, from the business logic.\r\n\r\nIn Java EE 5, Interceptors were allowed only on EJBs. In Java EE 6, Interceptors became a new specification of its own, abstracted at a higher level so that it can be more generically applied to a broader set of specifications in the platform.\r\n\r\nThey intercept invocations and life-cycle events on an associated target class. Basically, an interceptor is a class whose methods are invoked when business methods on a target class are invoked, life-cycle events such as methods that create/destroy the bean occur, or an EJB timeout method occurs. The CDI specification defines a type-safe mechanism for associating interceptors to beans using interceptor bindings.\r\n\r\nLook for a working code sample at:\r\n\r\nhttps://github.com/arun-gupta/javaee7-samples/tree/master/cdi/interceptors\r\n\r\nJava EE 7 also introduced a new @Transactional annotation in Java Transaction API. This allows you to have container-managed transactions outside an EJB. This annotation is defined as an interceptor binding and implemented by the Java EE runtime. A working sample of @Transactional is at:\r\n\r\nhttps://github.com/arun-gupta/javaee7-samples/tree/master/jta/transaction-scope","title":"What are Interceptors in Java EE?","body":"<p>Interceptors are used to implement cross-cutting concerns, such as logging, auditing, and security, from the business logic.</p>\n\n<p>In Java EE 5, Interceptors were allowed only on EJBs. In Java EE 6, Interceptors became a new specification of its own, abstracted at a higher level so that it can be more generically applied to a broader set of specifications in the platform.</p>\n\n<p>They intercept invocations and life-cycle events on an associated target class. Basically, an interceptor is a class whose methods are invoked when business methods on a target class are invoked, life-cycle events such as methods that create/destroy the bean occur, or an EJB timeout method occurs. The CDI specification defines a type-safe mechanism for associating interceptors to beans using interceptor bindings.</p>\n\n<p>Look for a working code sample at:</p>\n\n<p><a href=\"https://github.com/arun-gupta/javaee7-samples/tree/master/cdi/interceptors\">https://github.com/arun-gupta/javaee7-samples/tree/master/cdi/interceptors</a></p>\n\n<p>Java EE 7 also introduced a new @Transactional annotation in Java Transaction API. This allows you to have container-managed transactions outside an EJB. This annotation is defined as an interceptor binding and implemented by the Java EE runtime. A working sample of @Transactional is at:</p>\n\n<p><a href=\"https://github.com/arun-gupta/javaee7-samples/tree/master/jta/transaction-scope\">https://github.com/arun-gupta/javaee7-samples/tree/master/jta/transaction-scope</a></p>\n"},{"tags":[],"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1501177505,"creation_date":1449024303,"answer_id":34033987,"question_id":18853221,"body_markdown":"Interceptors are used to **add AOP capability** to managed beans.\r\n\r\nWe can attach Interceptor to our class using @Interceptor annotation.\r\n**Whenever a method in our class is called**, the attached Interceptor will intercept that method invocation and execute its interceptor method. \r\n\r\nThis can be achieved using @AroundInvoke annotation ( see example below ).\r\n\r\n[![Method Interceptors][1]][1]\r\n\r\n\r\n\r\nWe can intercept life cycle events of a class ( object creation,destroy etc) using @AroundConstruct annotation.\r\n\r\n**Main difference** between Interceptor and **Servlet Filters** is We can use Interceptor outside WebContext, but Filters are specific to Web applications.\r\n\r\nCommon uses of interceptors are logging, auditing, and profiling.\r\n\r\nFor more detailed introduction, you can read this article.\r\nhttps://abhirockzz.wordpress.com/2015/01/03/java-ee-interceptors/ \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5wVf9.png","title":"What are Interceptors in Java EE?","body":"<p>Interceptors are used to <strong>add AOP capability</strong> to managed beans.</p>\n\n<p>We can attach Interceptor to our class using @Interceptor annotation.\n<strong>Whenever a method in our class is called</strong>, the attached Interceptor will intercept that method invocation and execute its interceptor method. </p>\n\n<p>This can be achieved using @AroundInvoke annotation ( see example below ).</p>\n\n<p><a href=\"https://i.stack.imgur.com/5wVf9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5wVf9.png\" alt=\"Method Interceptors\"></a></p>\n\n<p>We can intercept life cycle events of a class ( object creation,destroy etc) using @AroundConstruct annotation.</p>\n\n<p><strong>Main difference</strong> between Interceptor and <strong>Servlet Filters</strong> is We can use Interceptor outside WebContext, but Filters are specific to Web applications.</p>\n\n<p>Common uses of interceptors are logging, auditing, and profiling.</p>\n\n<p>For more detailed introduction, you can read this article.\n<a href=\"https://abhirockzz.wordpress.com/2015/01/03/java-ee-interceptors/\" rel=\"noreferrer\">https://abhirockzz.wordpress.com/2015/01/03/java-ee-interceptors/</a> </p>\n"},{"tags":[],"owner":{"account_id":6746622,"reputation":26,"user_id":5198047,"display_name":"Ruwan Prasad"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1634964352,"creation_date":1634963508,"answer_id":69685144,"question_id":18853221,"body_markdown":"You can use Interceptor for the places where you want to perform some tasks before sending a request to the Controller class and before sending a request to a responce.\r\nEx:- Think you want to validate the auth token before sending a request to the Controller class in this case, you can use Intercepters.\r\nSample code: \r\n\r\n    @Component\r\n    public class AuthInterceptor implements HandlerInterceptor {\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse \r\n    response, Object handler) throws Exception {\r\n        //Here you can write code to validate the auth token.\r\n        }\r\n    }\r\n\r\n","title":"What are Interceptors in Java EE?","body":"<p>You can use Interceptor for the places where you want to perform some tasks before sending a request to the Controller class and before sending a request to a responce.\nEx:- Think you want to validate the auth token before sending a request to the Controller class in this case, you can use Intercepters.\nSample code:</p>\n<pre><code>@Component\npublic class AuthInterceptor implements HandlerInterceptor {\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse \nresponse, Object handler) throws Exception {\n    //Here you can write code to validate the auth token.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2571068,"reputation":860,"user_id":2229782,"accept_rate":92,"display_name":"Umair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101139,"favorite_count":0,"down_vote_count":2,"up_vote_count":62,"accepted_answer_id":18872795,"answer_count":4,"score":60,"last_activity_date":1634964352,"creation_date":1379429847,"question_id":18853221,"body_markdown":"I&#39;m trying to clear my concept about Interceptors in Java EE. I have read Java EE specification but I&#39;m little confused about it. Please provide me some useful link or tutorial which could clear my concept. How, When, Why do we use interceptors?","title":"What are Interceptors in Java EE?","body":"<p>I'm trying to clear my concept about Interceptors in Java EE. I have read Java EE specification but I'm little confused about it. Please provide me some useful link or tutorial which could clear my concept. How, When, Why do we use interceptors?</p>\n"},{"tags":["java","android","json","retrofit"],"comments":[{"owner":{"account_id":19821621,"reputation":33,"user_id":14518054,"display_name":"Miasto"},"score":0,"creation_date":1634958114,"post_id":69684767,"comment_id":123173394,"body_markdown":"Just to add since I think I left some info out. I need to get into the Day{} but i need to get a List so I can attach it to a recyclerView. I&#39;m either coming at this the wrong way or something It&#39;s so frustrating.","body":"Just to add since I think I left some info out. I need to get into the Day{} but i need to get a List so I can attach it to a recyclerView. I&#39;m either coming at this the wrong way or something It&#39;s so frustrating."}],"answers":[{"tags":[],"owner":{"account_id":21192804,"reputation":1215,"user_id":15584964,"display_name":"RaBaKa 78"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634964187,"creation_date":1634964187,"answer_id":69685183,"question_id":69684767,"body_markdown":"I think you should create a model class for all the data that you are getting from the api, so you can work with data more easily.\r\n\r\nThis article explains that,\r\n\r\nhttps://medium.com/swlh/basic-usage-of-retrofit-in-kotlin-for-fetching-json-8b9d37999058","title":"Parsing Through JSON Object From Retrofit Response","body":"<p>I think you should create a model class for all the data that you are getting from the api, so you can work with data more easily.</p>\n<p>This article explains that,</p>\n<p><a href=\"https://medium.com/swlh/basic-usage-of-retrofit-in-kotlin-for-fetching-json-8b9d37999058\" rel=\"nofollow noreferrer\">https://medium.com/swlh/basic-usage-of-retrofit-in-kotlin-for-fetching-json-8b9d37999058</a></p>\n"}],"owner":{"account_id":19821621,"reputation":33,"user_id":14518054,"display_name":"Miasto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69685183,"answer_count":1,"score":-1,"last_activity_date":1634964187,"creation_date":1634957929,"question_id":69684767,"body_markdown":"I&#39;m pretty new to android dev and I first made a weather app that displays the horly forecast along with the current forecast. I wanted to add a button that allows the user to see the daily forecast but from the API call it looks like it returns a JSON object. I have been stuck on this for days and I have no idea what to do. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p35Lt.png\r\n\r\n\r\n```    public void getHourDataFromAPI(String latlong, int days) {\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://api.weatherapi.com/v1/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n        APICall apiCall = retrofit.create(APICall.class);\r\n        Call&lt;WeatherModel&gt; call = apiCall.getHourAndAstroDetails(latlong, &quot;7&quot;);\r\n        System.out.println(call.request().url());\r\n        call.enqueue(new Callback&lt;WeatherModel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;WeatherModel&gt; call, Response&lt;WeatherModel&gt; response) {\r\n                if (days == 1) {\r\n                    weatherList = response.body().getForecast().getForecastday().get(0).getHour();\r\n                    System.out.println(&quot;this is the size of weatherList&quot; + weatherList.size());\r\n                    setAdapter(weatherList);\r\n                } else if (days == 7) {\r\n                    dailyForcast = response.body().getForecast().getForecastday().get(0).getDay();\r\n                }\r\n\r\n\r\n                String sunriseTime = response.body().getForecast().getForecastday().get(0).getAstro().getSunrise();\r\n                String sunsetTime = response.body().getForecast().getForecastday().get(0).getAstro().getSunset();\r\n                sunriseTextView.setText(sunriseTime);\r\n                sunsetTextView.setText(sunsetTime);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;WeatherModel&gt; call, Throwable t) {\r\n            }\r\n        });\r\n    }\r\n```","title":"Parsing Through JSON Object From Retrofit Response","body":"<p>I'm pretty new to android dev and I first made a weather app that displays the horly forecast along with the current forecast. I wanted to add a button that allows the user to see the daily forecast but from the API call it looks like it returns a JSON object. I have been stuck on this for days and I have no idea what to do. <a href=\"https://i.stack.imgur.com/p35Lt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p35Lt.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;https://api.weatherapi.com/v1/&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n        APICall apiCall = retrofit.create(APICall.class);\n        Call&lt;WeatherModel&gt; call = apiCall.getHourAndAstroDetails(latlong, &quot;7&quot;);\n        System.out.println(call.request().url());\n        call.enqueue(new Callback&lt;WeatherModel&gt;() {\n            @Override\n            public void onResponse(Call&lt;WeatherModel&gt; call, Response&lt;WeatherModel&gt; response) {\n                if (days == 1) {\n                    weatherList = response.body().getForecast().getForecastday().get(0).getHour();\n                    System.out.println(&quot;this is the size of weatherList&quot; + weatherList.size());\n                    setAdapter(weatherList);\n                } else if (days == 7) {\n                    dailyForcast = response.body().getForecast().getForecastday().get(0).getDay();\n                }\n\n\n                String sunriseTime = response.body().getForecast().getForecastday().get(0).getAstro().getSunrise();\n                String sunsetTime = response.body().getForecast().getForecastday().get(0).getAstro().getSunset();\n                sunriseTextView.setText(sunriseTime);\n                sunsetTextView.setText(sunsetTime);\n            }\n\n            @Override\n            public void onFailure(Call&lt;WeatherModel&gt; call, Throwable t) {\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","swing","netbeans","master-detail"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633324114,"creation_date":1633306037,"answer_id":69429773,"question_id":69427661,"body_markdown":"I can&#39;t find it either. There is an old NetBeans Bug Report [NETBEANS-582 Missing menuitem &quot;Swing GUI Forms &gt; Master/Detailed Sample Form&quot;](https://issues.apache.org/jira/browse/NETBEANS-582) which raised this issue for NetBeans 9, and it remains unresolved.\r\n\r\nA comment for that bug suggested &quot;*The fact that that specific sample is missing is somehow connected to the fact that it is the only sample found in the forms.j2ee module*&quot;, so I tried &quot;*Activating Java Web and EE*&quot; on NetBeans 12.4 but that didn&#39;t help.\r\n\r\nSince the wizard for a **Master/Detail Sample Form** does exist in NetBeans 8.2, I suppose you could generate the form on 8.2, and then copy the generated code over to NetBeans 12.4, but that may not be as simple as it sounds, and even it works it is not a satisfactory approach.\r\n\r\nBeyond that, all you can really do is to post a new comment for the existing bug stating that the issue still exists in NetBeans 12.4, and request a resolution.","title":"Netbeans 12.4 - Where is the option to create a Master/Detail Sample Form?","body":"<p>I can't find it either. There is an old NetBeans Bug Report <a href=\"https://issues.apache.org/jira/browse/NETBEANS-582\" rel=\"nofollow noreferrer\">NETBEANS-582 Missing menuitem &quot;Swing GUI Forms &gt; Master/Detailed Sample Form&quot;</a> which raised this issue for NetBeans 9, and it remains unresolved.</p>\n<p>A comment for that bug suggested &quot;<em>The fact that that specific sample is missing is somehow connected to the fact that it is the only sample found in the forms.j2ee module</em>&quot;, so I tried &quot;<em>Activating Java Web and EE</em>&quot; on NetBeans 12.4 but that didn't help.</p>\n<p>Since the wizard for a <strong>Master/Detail Sample Form</strong> does exist in NetBeans 8.2, I suppose you could generate the form on 8.2, and then copy the generated code over to NetBeans 12.4, but that may not be as simple as it sounds, and even it works it is not a satisfactory approach.</p>\n<p>Beyond that, all you can really do is to post a new comment for the existing bug stating that the issue still exists in NetBeans 12.4, and request a resolution.</p>\n"}],"owner":{"account_id":12868524,"reputation":505,"user_id":9307869,"display_name":"Freddx L."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634963849,"creation_date":1633285241,"question_id":69427661,"body_markdown":"Past versions of Netbeans have the option to create a **Master/Detail Sample Form** but I can&#39;t find that in Netbeans 12.4:\r\n\r\n![](https://icdn.isrgrajan.com/in/2019/09/New-file-master-detail-form.jpg)","title":"Netbeans 12.4 - Where is the option to create a Master/Detail Sample Form?","body":"<p>Past versions of Netbeans have the option to create a <strong>Master/Detail Sample Form</strong> but I can't find that in Netbeans 12.4:</p>\n<p><img src=\"https://icdn.isrgrajan.com/in/2019/09/New-file-master-detail-form.jpg\" alt=\"\" /></p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8074,"page":1918,"page_size":100}
