{"items":[{"tags":["java","csv","processing"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1639162913,"post_id":70309236,"comment_id":124287025,"body_markdown":"Print `i` before and in the `if-statement`.","body":"Print <code>i</code> before and in the <code>if-statement</code>."},{"owner":{"account_id":215245,"reputation":4343,"user_id":469755,"display_name":"Cadin"},"score":0,"creation_date":1639163688,"post_id":70309236,"comment_id":124287244,"body_markdown":"What you are showing here works fine. Can you show more of the code (like where `def` gets created, or otherwise manipulated)?","body":"What you are showing here works fine. Can you show more of the code (like where <code>def</code> gets created, or otherwise manipulated)?"},{"owner":{"account_id":22982446,"reputation":35,"user_id":17109144,"display_name":"Phil_Software"},"score":0,"creation_date":1639164903,"post_id":70309236,"comment_id":124287630,"body_markdown":"@Cadin I just edited and added the whole code","body":"@Cadin I just edited and added the whole code"}],"answers":[{"tags":[],"owner":{"account_id":215245,"reputation":4343,"user_id":469755,"display_name":"Cadin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639166998,"creation_date":1639166998,"answer_id":70309874,"question_id":70309236,"body_markdown":"When you set the row data using the `i` variable, you&#39;re putting the data into that specific numbered row.\r\n\r\nSo, even if your condition is only triggered once, if `i` is 37 at that time then you&#39;ll be putting the data into the 37th row (with blank rows filling in before). Remember that `i` continues to increment every loop even when the condition is not met.\r\n\r\nTo fix it, you can get the row that is returned from [`addRow`](https://processing.org/reference/Table_addRow_.html) and add data using that specific reference, instead of using `i` to insert into a numbered row.\r\n\r\n```\r\nTableRow newRow = def.addRow();\r\nnewRow.setInt(&quot;Year&quot;, int(dates[0]));\r\nnewRow.setInt(&quot;Month&quot;, int(dates[1]));\r\nnewRow.setInt(&quot;Day&quot;, int(dates[2]));\r\n\r\n// etc...\r\n```","title":"Processing library CSV keeps adding rows even if condition not fulfilled","body":"<p>When you set the row data using the <code>i</code> variable, you're putting the data into that specific numbered row.</p>\n<p>So, even if your condition is only triggered once, if <code>i</code> is 37 at that time then you'll be putting the data into the 37th row (with blank rows filling in before). Remember that <code>i</code> continues to increment every loop even when the condition is not met.</p>\n<p>To fix it, you can get the row that is returned from <a href=\"https://processing.org/reference/Table_addRow_.html\" rel=\"nofollow noreferrer\"><code>addRow</code></a> and add data using that specific reference, instead of using <code>i</code> to insert into a numbered row.</p>\n<pre><code>TableRow newRow = def.addRow();\nnewRow.setInt(&quot;Year&quot;, int(dates[0]));\nnewRow.setInt(&quot;Month&quot;, int(dates[1]));\nnewRow.setInt(&quot;Day&quot;, int(dates[2]));\n\n// etc...\n</code></pre>\n"}],"owner":{"account_id":22982446,"reputation":35,"user_id":17109144,"display_name":"Phil_Software"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70309874,"answer_count":1,"score":1,"last_activity_date":1639166998,"creation_date":1639162726,"question_id":70309236,"body_markdown":"**USING THE PROCESSING LIBRARY WITH THEIR** ```Table``` **OBJECT**\r\n\r\nI have set the code so that it creates a new row in a Table object ```def``` only when a condition is fulfilled inside a loop, however, it just adds a new row each time the code iterates through the loop:\r\n\r\n    for (int i=0; i!=data.getRowCount(); i++) {   //data is my original table object (37 rows)\r\n     if (i%3==0) {\r\n      def.addRow();   // def is my result object, which should have about 1/3 of the elements\r\n     }\r\n    }\r\n    \r\n    print(def.getRowCount());   //will output the same as data.getRowCount()\r\n\r\nThe problem doesn&#39;t seem to be inside the loop, since if you ask it to ```print()``` something, it will do it about 1/3 of ```data.getRowCount()``` times. However, by just running: ```print(def.getRowCount())```, the result will be the same as ```data.getRowCount()``` when it should be around 1/3.\r\n\r\nFull code:\r\n\r\n    Table data, def;\r\n\r\n    void setup() {\r\n\r\n    data=loadTable(&quot;binance_data.csv&quot;, &quot;header&quot;);\r\n    def=new Table();\r\n\r\n     def.addColumn(&quot;Year&quot;, Table.INT);\r\n     def.addColumn(&quot;Month&quot;, Table.INT);\r\n     def.addColumn(&quot;Day&quot;, Table.INT);\r\n     def.addColumn(&quot;Hour&quot;, Table.INT);\r\n     def.addColumn(&quot;Minute&quot;, Table.INT);\r\n     def.addColumn(&quot;Second&quot;, Table.INT);\r\n\r\n     def.addColumn(&quot;Pair&quot;, Table.STRING);\r\n     def.addColumn(&quot;Side&quot;, Table.STRING);\r\n     def.addColumn(&quot;Price&quot;, Table.FLOAT);\r\n     def.addColumn(&quot;Amount&quot;, Table.FLOAT);\r\n\r\n    for (int i=0; i!=data.getRowCount(); i++) {\r\n     if (data.getString(i, &quot;Status&quot;).equals(&quot;FILLED&quot;)) { //this is the actual condition.\r\n\r\n      String[] blocks=data.getString(i, &quot;Date(UTC)&quot;).split(&quot; &quot;);\r\n      String[] dates=blocks[0].split(&quot;-&quot;);\r\n      String[] times=blocks[1].split(&quot;:&quot;);\r\n\r\n      def.addRow();\r\n\r\n      def.setInt(i, &quot;Year&quot;, int(dates[0]));\r\n      def.setInt(i, &quot;Month&quot;, int(dates[1]));\r\n      def.setInt(i, &quot;Day&quot;, int(dates[2]));\r\n\r\n      def.setInt(i, &quot;Hour&quot;, int(times[0]));\r\n      def.setInt(i, &quot;Minute&quot;, int(times[1]));\r\n      def.setInt(i, &quot;Second&quot;, int(times[2]));\r\n\r\n      def.setString(i, &quot;Pair&quot;, data.getString(i, &quot;Pair&quot;));\r\n      def.setString(i, &quot;Side&quot;, data.getString(i, &quot;Side&quot;));\r\n      def.setFloat(i, &quot;Price&quot;, data.getFloat(i, &quot;Average Price&quot;));\r\n      def.setFloat(i, &quot;Amount&quot;, data.getFloat(i, &quot;Order Amount&quot;));\r\n      }\r\n     }\r\n    }","title":"Processing library CSV keeps adding rows even if condition not fulfilled","body":"<p><strong>USING THE PROCESSING LIBRARY WITH THEIR</strong> <code>Table</code> <strong>OBJECT</strong></p>\n<p>I have set the code so that it creates a new row in a Table object <code>def</code> only when a condition is fulfilled inside a loop, however, it just adds a new row each time the code iterates through the loop:</p>\n<pre><code>for (int i=0; i!=data.getRowCount(); i++) {   //data is my original table object (37 rows)\n if (i%3==0) {\n  def.addRow();   // def is my result object, which should have about 1/3 of the elements\n }\n}\n\nprint(def.getRowCount());   //will output the same as data.getRowCount()\n</code></pre>\n<p>The problem doesn't seem to be inside the loop, since if you ask it to <code>print()</code> something, it will do it about 1/3 of <code>data.getRowCount()</code> times. However, by just running: <code>print(def.getRowCount())</code>, the result will be the same as <code>data.getRowCount()</code> when it should be around 1/3.</p>\n<p>Full code:</p>\n<pre><code>Table data, def;\n\nvoid setup() {\n\ndata=loadTable(&quot;binance_data.csv&quot;, &quot;header&quot;);\ndef=new Table();\n\n def.addColumn(&quot;Year&quot;, Table.INT);\n def.addColumn(&quot;Month&quot;, Table.INT);\n def.addColumn(&quot;Day&quot;, Table.INT);\n def.addColumn(&quot;Hour&quot;, Table.INT);\n def.addColumn(&quot;Minute&quot;, Table.INT);\n def.addColumn(&quot;Second&quot;, Table.INT);\n\n def.addColumn(&quot;Pair&quot;, Table.STRING);\n def.addColumn(&quot;Side&quot;, Table.STRING);\n def.addColumn(&quot;Price&quot;, Table.FLOAT);\n def.addColumn(&quot;Amount&quot;, Table.FLOAT);\n\nfor (int i=0; i!=data.getRowCount(); i++) {\n if (data.getString(i, &quot;Status&quot;).equals(&quot;FILLED&quot;)) { //this is the actual condition.\n\n  String[] blocks=data.getString(i, &quot;Date(UTC)&quot;).split(&quot; &quot;);\n  String[] dates=blocks[0].split(&quot;-&quot;);\n  String[] times=blocks[1].split(&quot;:&quot;);\n\n  def.addRow();\n\n  def.setInt(i, &quot;Year&quot;, int(dates[0]));\n  def.setInt(i, &quot;Month&quot;, int(dates[1]));\n  def.setInt(i, &quot;Day&quot;, int(dates[2]));\n\n  def.setInt(i, &quot;Hour&quot;, int(times[0]));\n  def.setInt(i, &quot;Minute&quot;, int(times[1]));\n  def.setInt(i, &quot;Second&quot;, int(times[2]));\n\n  def.setString(i, &quot;Pair&quot;, data.getString(i, &quot;Pair&quot;));\n  def.setString(i, &quot;Side&quot;, data.getString(i, &quot;Side&quot;));\n  def.setFloat(i, &quot;Price&quot;, data.getFloat(i, &quot;Average Price&quot;));\n  def.setFloat(i, &quot;Amount&quot;, data.getFloat(i, &quot;Order Amount&quot;));\n  }\n }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1639121382,"post_id":70301059,"comment_id":124272543,"body_markdown":"Could you please share the **full error message** (the full stacktrace)? Voting to close since missing debugging information.","body":"Could you please share the <b>full error message</b> (the full stacktrace)? Voting to close since missing debugging information."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1639121428,"post_id":70301059,"comment_id":124272559,"body_markdown":"and mark the line where the exception occurs","body":"and mark the line where the exception occurs"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1639121430,"post_id":70301059,"comment_id":124272560,"body_markdown":"Given that `Vertex.getAdjacentVertices(vertex)` is a static method call, it is impossible that this line is the source of the NPE. Either the NPE is thrown somewhere inside it or you are misinterpreting the error message.","body":"Given that <code>Vertex.getAdjacentVertices(vertex)</code> is a static method call, it is impossible that this line is the source of the NPE. Either the NPE is thrown somewhere inside it or you are misinterpreting the error message."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1639121459,"post_id":70301059,"comment_id":124272569,"body_markdown":"I&#39;d strongly advise you to step through the code in the debugger, very carefully. Each time you&#39;re about to step into/over something, check whether everything is initialized as you expect.","body":"I&#39;d strongly advise you to step through the code in the debugger, very carefully. Each time you&#39;re about to step into/over something, check whether everything is initialized as you expect."},{"owner":{"account_id":23113921,"reputation":1,"user_id":17221486,"display_name":"Sam"},"score":0,"creation_date":1639166347,"post_id":70301059,"comment_id":124288049,"body_markdown":"@Zabuzard Updated the initial question with the full error message","body":"@Zabuzard Updated the initial question with the full error message"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1639223289,"post_id":70301059,"comment_id":124296705,"body_markdown":"So whats line `Graph.java:69`?","body":"So whats line <code>Graph.java:69</code>?"}],"owner":{"account_id":23113921,"reputation":1,"user_id":17221486,"display_name":"Sam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639121379,"answer_count":0,"score":0,"last_activity_date":1639166275,"creation_date":1639121264,"question_id":70301059,"body_markdown":"I asked about this same project recently but every time I fix an error another one pops up. The problem is mostly with NullPointerExceptions when referencing the adjacentVertices Hashtable. Currently I&#39;m having an issue with the for each loop in breadthFirstSearch(), it says &quot;Vertex.getAdjacentVertices(vertex)&quot; has a NullPointerException, so it wasn&#39;t initialized properly somewhere but I can&#39;t figure out what the null object is or how to re-initialize it for that loop. I have attached the entire code below.\r\n```\r\nimport java.util.Map;\r\nimport java.util.Hashtable;\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\nclass Vertex //Creates a class that will be used to add vertices to the graph, a separate class is needed because the Vertex is not a recognized Java object\r\n{\r\n   int label; //The label for the vertex, which the vertex will be called\r\n   Vertex(int label) //Constructor, uses an int to create a Vertex\r\n   {\r\n      this.label = label; //Initializes the label for use outside the method\r\n   }\r\n   public String toString() //Overwrites Java&#39;s toString method to print the int value of the Vertex and not an object code\r\n   {\r\n      return &quot;&quot; + this.label + &quot;&quot;;\r\n   }\r\n   \r\n   public static LinkedList&lt;Vertex&gt; getAdjacentVertices(int label) //A method for getting adjacent vertices, which will be used in Graph class\r\n   {\r\n      return Graph.adjacentVertices.get(new Vertex(label)); //Obtains the vertex adjacent to the current vertex\r\n   }\r\n}\r\n\r\npublic class Graph //A new class is needed for Graph because it is an object\r\n{\r\n   static Hashtable&lt;Vertex, LinkedList&lt;Vertex&gt;&gt; adjacentVertices = new Hashtable(); //Creates a graph with a vertex and a list of adjacent vertices, using a Hashtable\r\n   static LinkedList&lt;Vertex&gt; visitedNodes = new LinkedList&lt;Vertex&gt;(); //Creates a list of visited nodes, currently empty, to be used by BFS\r\n   public static void addVertex(int label) //Method for creating a vertex\r\n   {\r\n      Vertex vertex = new Vertex(label); //Creates a new Vertex using the int in the parameter\r\n      LinkedList&lt;Vertex&gt; list = new LinkedList&lt;Vertex&gt;(); //Creates an empty list that will hold vertices connected to that vertex by an edge\r\n      adjacentVertices.put(vertex, list); //Adds the new Vertex and accompanying list to the Graph\r\n   }\r\n   \r\n   public static void addEdge(int startVertex, int endVertex) //Method to create an edge using a start and end vertex\r\n   {\r\n      Vertex start = new Vertex(startVertex); //Creates a new vertex from the first parameter\r\n      Vertex end = new Vertex(endVertex); //Creates a new vertex from the second parameter\r\n      LinkedList&lt;Vertex&gt; list = adjacentVertices.get(start); //This line makes a list to be used in the rest of this method, that will reference the original list\r\n      if(list == null) //If the list for the first vertex is empty or nonexistent, this will create a new list to add edges\r\n      {\r\n         list = new LinkedList&lt;Vertex&gt;();\r\n         adjacentVertices.put(start, list);\r\n      }\r\n      LinkedList&lt;Vertex&gt; list2 = adjacentVertices.get(end); //This does the same thing for the end vertex\r\n      if(list2 == null)\r\n      {\r\n         list2 = new LinkedList&lt;Vertex&gt;();\r\n         adjacentVertices.put(end, list2);\r\n      }\r\n      adjacentVertices.get(start).addFirst(end); //Puts the second vertex into the first vertex&#39;s list of adjacent vertices\r\n      adjacentVertices.get(end).addFirst(start); //If vertex A is adjacent to vertex B, then vertex B is adjacent to vertex A\r\n   }\r\n   \r\n   public static void breadthFirstSearch(Graph G, int root) //Initializes a search of the graph using the graph and a vertex to start from (default: 0)\r\n   {\r\n      Vertex rootVertex = new Vertex(root); //Creates a reference to the original root vertex to be used to make a &quot;cloud of vertices&quot;\r\n      Queue&lt;Vertex&gt; queue = new LinkedList&lt;Vertex&gt;(); //Makes a Queue that will hold the visited vertices\r\n      queue.add(rootVertex); //Adds the root vertex to the Queue\r\n      visitedNodes.add(rootVertex); //Adds the root vertex to the list of visited vertices since it has been visited\r\n      while(!queue.isEmpty()) //This loop will be executed until the Queue is empty\r\n      {\r\n         Vertex refVertex = queue.poll();\r\n         String listHead = &quot;&quot; + refVertex + &quot;&quot;; //Obtains the first vertex in the queue and converts it to a String\r\n         Scanner scan = new Scanner(listHead); //This is so the String can be converted to an int with Scanner&#39;s nextInt() and be made into a Vertex for referencing\r\n         int vertex = scan.nextInt(); //This needs to be an int because getAdjacentVertices() uses an int parameter\r\n         for(Vertex v : Vertex.getAdjacentVertices(vertex)) //&quot;For every vertex in the current vertex&#39;s list of adjacent vertices&quot; this loop will execute\r\n         {\r\n            if(!visitedNodes.contains(v)) //If the vertex is not in the list of visited nodes, now it is!\r\n            {\r\n               visitedNodes.add(v);\r\n               queue.add(v);\r\n            }\r\n         }\r\n      }\r\n      String BFSorder = &quot;&quot;; //Initializes an empty String that will hold the list of visited vertices in the order in which they were visited\r\n      for(int i = 0; i &lt; visitedNodes.size(); i++) //Iterates through the list of visitedNodes\r\n      {\r\n         String currNode = &quot;&quot; + visitedNodes.get(i) + &quot; &quot;; //Transforms the current vertex into a String so it can be added to BFSorder\r\n         BFSorder = BFSorder + currNode; //Adds the String representing the current Node to BFSorder\r\n      }\r\n      System.out.println(&quot;Graph nodes visited in BFS Order: &quot; + BFSorder + &quot;&quot;); //Prints out the list of visited vertices\r\n   }\r\n   \r\n   public static void print(Graph G) //This method prints out an Adjacency List Matrix using the parameter Graph\r\n   {\r\n      for(int i = 0; i &lt; visitedNodes.size(); i++) //Iterates through the list of visited nodes\r\n      {\r\n         String adjVertex = &quot;Adjacency list for vertex &quot; + visitedNodes.get(i) + &quot; Head &quot;; //For each node, a new String is made\r\n         String currVertex = &quot;&quot; + visitedNodes.get(i) + &quot;&quot;; //These next three lines convert the vertex to an integer so it can be used for the for loop\r\n         Scanner scan = new Scanner(currVertex);\r\n         int vertex = scan.nextInt();\r\n         for(Vertex v : Vertex.getAdjacentVertices(vertex)) //Goes through the list of vertices adjacent to the current Vertex\r\n         {\r\n            String currNode = &quot; -&gt; &quot; + v + &quot;&quot;; //Makes the vertex into a String with special formatting\r\n            adjVertex = adjVertex + currNode; //Adds the new string to adjVertex\r\n         }\r\n         System.out.println(adjVertex); //Prints out the list of adjacent vertices for the current vertex\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nSorry for asking tons of questions, and thanks for your time.\r\n\r\nUPDATE: The full error is\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\nat Graph.breadthFirstSearch(Graph.java:69)\r\nat GraphProject.main(GraphProject.java:16)\r\n```\r\nLine 69 is &quot;for(Vertex v : Vertex.getAdjacentVertices(vertex))&quot;\r\nGraph is the class that is posted above.\r\nGraphProject is the name of the class with the main method, that specific line calling breadthFirstSearch.","title":"I have a NullPointerException and cannot figure out what I didn&#39;t initialize","body":"<p>I asked about this same project recently but every time I fix an error another one pops up. The problem is mostly with NullPointerExceptions when referencing the adjacentVertices Hashtable. Currently I'm having an issue with the for each loop in breadthFirstSearch(), it says &quot;Vertex.getAdjacentVertices(vertex)&quot; has a NullPointerException, so it wasn't initialized properly somewhere but I can't figure out what the null object is or how to re-initialize it for that loop. I have attached the entire code below.</p>\n<pre><code>import java.util.Map;\nimport java.util.Hashtable;\nimport java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\nclass Vertex //Creates a class that will be used to add vertices to the graph, a separate class is needed because the Vertex is not a recognized Java object\n{\n   int label; //The label for the vertex, which the vertex will be called\n   Vertex(int label) //Constructor, uses an int to create a Vertex\n   {\n      this.label = label; //Initializes the label for use outside the method\n   }\n   public String toString() //Overwrites Java's toString method to print the int value of the Vertex and not an object code\n   {\n      return &quot;&quot; + this.label + &quot;&quot;;\n   }\n   \n   public static LinkedList&lt;Vertex&gt; getAdjacentVertices(int label) //A method for getting adjacent vertices, which will be used in Graph class\n   {\n      return Graph.adjacentVertices.get(new Vertex(label)); //Obtains the vertex adjacent to the current vertex\n   }\n}\n\npublic class Graph //A new class is needed for Graph because it is an object\n{\n   static Hashtable&lt;Vertex, LinkedList&lt;Vertex&gt;&gt; adjacentVertices = new Hashtable(); //Creates a graph with a vertex and a list of adjacent vertices, using a Hashtable\n   static LinkedList&lt;Vertex&gt; visitedNodes = new LinkedList&lt;Vertex&gt;(); //Creates a list of visited nodes, currently empty, to be used by BFS\n   public static void addVertex(int label) //Method for creating a vertex\n   {\n      Vertex vertex = new Vertex(label); //Creates a new Vertex using the int in the parameter\n      LinkedList&lt;Vertex&gt; list = new LinkedList&lt;Vertex&gt;(); //Creates an empty list that will hold vertices connected to that vertex by an edge\n      adjacentVertices.put(vertex, list); //Adds the new Vertex and accompanying list to the Graph\n   }\n   \n   public static void addEdge(int startVertex, int endVertex) //Method to create an edge using a start and end vertex\n   {\n      Vertex start = new Vertex(startVertex); //Creates a new vertex from the first parameter\n      Vertex end = new Vertex(endVertex); //Creates a new vertex from the second parameter\n      LinkedList&lt;Vertex&gt; list = adjacentVertices.get(start); //This line makes a list to be used in the rest of this method, that will reference the original list\n      if(list == null) //If the list for the first vertex is empty or nonexistent, this will create a new list to add edges\n      {\n         list = new LinkedList&lt;Vertex&gt;();\n         adjacentVertices.put(start, list);\n      }\n      LinkedList&lt;Vertex&gt; list2 = adjacentVertices.get(end); //This does the same thing for the end vertex\n      if(list2 == null)\n      {\n         list2 = new LinkedList&lt;Vertex&gt;();\n         adjacentVertices.put(end, list2);\n      }\n      adjacentVertices.get(start).addFirst(end); //Puts the second vertex into the first vertex's list of adjacent vertices\n      adjacentVertices.get(end).addFirst(start); //If vertex A is adjacent to vertex B, then vertex B is adjacent to vertex A\n   }\n   \n   public static void breadthFirstSearch(Graph G, int root) //Initializes a search of the graph using the graph and a vertex to start from (default: 0)\n   {\n      Vertex rootVertex = new Vertex(root); //Creates a reference to the original root vertex to be used to make a &quot;cloud of vertices&quot;\n      Queue&lt;Vertex&gt; queue = new LinkedList&lt;Vertex&gt;(); //Makes a Queue that will hold the visited vertices\n      queue.add(rootVertex); //Adds the root vertex to the Queue\n      visitedNodes.add(rootVertex); //Adds the root vertex to the list of visited vertices since it has been visited\n      while(!queue.isEmpty()) //This loop will be executed until the Queue is empty\n      {\n         Vertex refVertex = queue.poll();\n         String listHead = &quot;&quot; + refVertex + &quot;&quot;; //Obtains the first vertex in the queue and converts it to a String\n         Scanner scan = new Scanner(listHead); //This is so the String can be converted to an int with Scanner's nextInt() and be made into a Vertex for referencing\n         int vertex = scan.nextInt(); //This needs to be an int because getAdjacentVertices() uses an int parameter\n         for(Vertex v : Vertex.getAdjacentVertices(vertex)) //&quot;For every vertex in the current vertex's list of adjacent vertices&quot; this loop will execute\n         {\n            if(!visitedNodes.contains(v)) //If the vertex is not in the list of visited nodes, now it is!\n            {\n               visitedNodes.add(v);\n               queue.add(v);\n            }\n         }\n      }\n      String BFSorder = &quot;&quot;; //Initializes an empty String that will hold the list of visited vertices in the order in which they were visited\n      for(int i = 0; i &lt; visitedNodes.size(); i++) //Iterates through the list of visitedNodes\n      {\n         String currNode = &quot;&quot; + visitedNodes.get(i) + &quot; &quot;; //Transforms the current vertex into a String so it can be added to BFSorder\n         BFSorder = BFSorder + currNode; //Adds the String representing the current Node to BFSorder\n      }\n      System.out.println(&quot;Graph nodes visited in BFS Order: &quot; + BFSorder + &quot;&quot;); //Prints out the list of visited vertices\n   }\n   \n   public static void print(Graph G) //This method prints out an Adjacency List Matrix using the parameter Graph\n   {\n      for(int i = 0; i &lt; visitedNodes.size(); i++) //Iterates through the list of visited nodes\n      {\n         String adjVertex = &quot;Adjacency list for vertex &quot; + visitedNodes.get(i) + &quot; Head &quot;; //For each node, a new String is made\n         String currVertex = &quot;&quot; + visitedNodes.get(i) + &quot;&quot;; //These next three lines convert the vertex to an integer so it can be used for the for loop\n         Scanner scan = new Scanner(currVertex);\n         int vertex = scan.nextInt();\n         for(Vertex v : Vertex.getAdjacentVertices(vertex)) //Goes through the list of vertices adjacent to the current Vertex\n         {\n            String currNode = &quot; -&gt; &quot; + v + &quot;&quot;; //Makes the vertex into a String with special formatting\n            adjVertex = adjVertex + currNode; //Adds the new string to adjVertex\n         }\n         System.out.println(adjVertex); //Prints out the list of adjacent vertices for the current vertex\n      }\n   }\n}\n</code></pre>\n<p>Sorry for asking tons of questions, and thanks for your time.</p>\n<p>UPDATE: The full error is</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat Graph.breadthFirstSearch(Graph.java:69)\nat GraphProject.main(GraphProject.java:16)\n</code></pre>\n<p>Line 69 is &quot;for(Vertex v : Vertex.getAdjacentVertices(vertex))&quot;\nGraph is the class that is posted above.\nGraphProject is the name of the class with the main method, that specific line calling breadthFirstSearch.</p>\n"},{"tags":["java","web-scraping","ui4j"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1552990127,"post_id":55238322,"comment_id":97209656,"body_markdown":"Try: `doc.query(&quot;.sc-gZMcBi .btn .btn-primary .jcDsfy&quot;).focus().click();`","body":"Try: <code>doc.query(&quot;.sc-gZMcBi .btn .btn-primary .jcDsfy&quot;).focus().click();</code>"},{"owner":{"account_id":15560161,"reputation":1,"user_id":11225483,"display_name":"Jon Osterman"},"score":0,"creation_date":1552996102,"post_id":55238322,"comment_id":97213230,"body_markdown":"Thanks Lino, but is the same. I updated the code, maybe you can see something else.","body":"Thanks Lino, but is the same. I updated the code, maybe you can see something else."}],"owner":{"account_id":15560161,"reputation":1,"user_id":11225483,"display_name":"Jon Osterman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639166221,"creation_date":1552990015,"question_id":55238322,"body_markdown":"I have the following:\r\nLogin textbox.... \r\n\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usr&quot; value=&quot;&quot;&gt;\r\nPassword textbox..\r\n\r\n    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;pwd&quot; value=&quot;&quot;&gt;\r\nLogin button......\r\n\r\n    &lt;button type=&quot;submit&quot; class=&quot;sc-gZMcBi btn btn-primary jcDsfy&quot;&gt;Login&lt;/button&gt;\r\n\r\nI am able to send text to login and password textbox, but I can&#39;t find the button to submit.\r\nhere is my code...\r\n\r\n    doc.query(&quot;input[id=&#39;usr&#39;]&quot;)\r\n            .setValue(&quot;xxxx&quot;);\r\n    try { Thread.sleep(2000); } catch (InterruptedException ex) { }\r\n\r\n    doc.query(&quot;input[id=&#39;pwd&#39;]&quot;).setValue(&quot;yyyyyy&quot;);\r\n\r\n    try { Thread.sleep(2000); } catch (InterruptedException ex) { }\r\n\r\n    doc.query(&quot;sc-gZMcBi btn btn-primary jcDsfy&quot;).focus().click();\r\nI have been trying changing the last part with differents values and using submit() and others, but getting always NULL element.\r\n\r\nThe code I am trying to scrape is like this:\r\n\r\n    &lt;body style=&quot;margin: 0;&quot;&gt;\r\n      &lt;div id=&quot;app&quot;&gt;\r\n         &lt;div data-reactroot=&quot;&quot;&gt;\r\n             &lt;header&gt;\r\n                 &lt;div class=&quot;sc-htpNat giiXMO sc-bwzfXH boSKPF&quot;&gt;\r\n                     &lt;svg viewBox=&quot;0 0 100 20&quot; width=&quot;250px&quot; height=&quot;50px&quot; class=&quot;sc-bdVaJa fXhIFv&quot;&gt;&lt;path fill=&quot;#FFF&quot; d=&quot;M23.8 14.3L21 10.6h-1.1v3.7h-3.3V4.6h4.9c3.6 0 5.9 1 5.9 3 0 1.4-1.3 2.2-3.1 2.7l3.2 4h-3.7zm-2.5-8h-1.5V9h1.6c1.7 0 2.6-.5 2.6-1.3.1-1-.7-1.4-2.7-1.4zM35.6 10.6v3.7h-3.3v-3.6l-4.8-6.1h3.6l1.4 2c.6.8 1.2 1.8 1.4 2.3.2-.5.8-1.5 1.4-2.3l1.4-2h3.6l-4.7 6zM48.1 14.3l-.9-2h-4.1l-.9 2h-3.4l4.7-9.7h3.2l4.7 9.7h-3.3zM46 9.5c-.3-.7-.7-1.9-.9-2.4-.1.5-.5 1.5-.8 2.3l-.5 1.2h2.7L46 9.5zM60.5 14.3L57.1 10c-.5-.6-1.1-1.4-1.4-2 0 .6.1 1.6.1 2.2v4.1h-3V4.6h3.3l3.2 4.3c.4.6 1.1 1.5 1.5 2 0-.6-.1-1.7-.1-2.3v-4h3v9.7h-3.2zM74.3 14.3l-.9-2h-4.1l-.9 2H65l4.7-9.7H73l4.7 9.7h-3.4zm-2.1-4.8c-.3-.7-.7-1.9-.9-2.4-.1.5-.5 1.5-.8 2.3l-.5 1.2h2.7l-.5-1.1zM79 14.3V4.6h3.3v9.7H79zM92.4 14.3l-2.9-3.7h-1.1v3.7h-3.3V4.6H90c3.6 0 5.9 1 5.9 3 0 1.4-1.3 2.2-3.1 2.7l3.2 4h-3.6zm-2.5-8h-1.5V9H90c1.7 0 2.6-.5 2.6-1.3.1-1-.7-1.4-2.7-1.4z&quot;&gt;&lt;/path&gt;&lt;g fill=&quot;#F1C931&quot;&gt;&lt;path d=&quot;M11.2 4.2c.7.2 1.4.4 2.1.5h.5c.3 0 .5-.1.8-.2h.1c0 .1 0 .1-.1.2-.4.3-.8.5-1.2.6-.1 0-.3.1-.4.1-.5.2-1.1.2-1.6.2-1-.1-1.9-.4-2.9-.4-.9-.1-1.8.3-2.3 1-.1.4-.3.8-.3 1.2 0 .4.6.5.8.8l.3.6c.1.4.3.8.6 1.2.2.2.4.5.7.6.4.3.7.6.9 1 .2.4.4.7.5 1.1.1.2.2.4.2.7v.1c.1.2.1.4.2.5v.1c0 .1.1.3 0 .3-.2-.2-.3-.4-.4-.6-.1-.4-.4-.8-.7-1.2-.2-.2-.4-.5-.6-.7-.8-.9-2-1.5-2.9-2.3 0 0 0-.1-.1-.2-.1-.2-.2-.3-.3-.5-.2-.4-.5-.8-.7-1.3 0-.2-.1-.4-.1-.6v-.1c0-.2-.5-.3-.2-.7.2-.2.8-.4 1-.8v-.2s0-.1-.1-.1-.4.2-.4-.1v-.3c.1-.2.1-.4.1-.6 0-.1.1-.1.2-.1s.3-.1.4-.1c.3 0 .7 0 .9.2.1.2 0 .4 0 .6 0 .2-.2.3-.1.4h.2c.4-.3.8-.7 1.2-1.1.3-.3.8-.4 1.2-.3.9 0 1.6.3 2.5.5z&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M8.9 5.8c.1.2 0 .3-.1.5-.5.7-.7 1.6-1 2.4h-.1c-.1 0-.1-.1-.1-.2 0-.9.3-1.7.7-2.5.1-.1.2-.3.4-.2.1-.1.1 0 .2 0zM10.3 6c.1.3-.1.5-.2.8-.5 1-1.1 2-1.4 3.1 0 0 0 .1-.1.1h-.1c-.1-.4 0-.9.1-1.3.3-.9.6-1.8 1.1-2.7.1 0 .1-.1.1-.1.2 0 .4 0 .5.1zM11.7 6.1c.1.1.1.3 0 .4-.6 1.3-1.5 2.4-1.9 3.8l-.3.9c0 .1-.1.1-.1 0-.1-.1 0-.3 0-.4.1-1.1.4-2.2.9-3.1.2-.5.5-.9.7-1.4.1-.1.2-.3.4-.3.1 0 .2 0 .3.1zM13.3 6.2c.1.2 0 .3 0 .5-.4 1-1.1 1.9-1.6 2.9-.5.8-.8 1.7-1.1 2.5-.1.3-.2.5-.3.8h-.1c-.1-.1-.1-.2-.1-.3.1-1.1.5-2 .9-3 .5-1.1 1.1-2.1 1.6-3.2.1-.1.2-.3.4-.4.1 0 .2 0 .3.2z&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;\r\n                        &lt;label class=&quot;sc-bxivhb cuNflP&quot;&gt;XXX&lt;/label&gt;\r\n                           &lt;/div&gt;\r\n                           &lt;div class=&quot;sc-ifAKCX kJuBmr sc-bwzfXH boSKPF&quot;&gt;&lt;/div&gt;\r\n             &lt;/header&gt;\r\n             &lt;form class=&quot;sc-iwsKbI ehzITl&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;label for=&quot;usr&quot;&gt;Username:&lt;/label&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usr&quot; value=&quot;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;label for=&quot;pwd&quot;&gt;Password:&lt;/label&gt;&lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;pwd&quot; value=&quot;&quot;&gt;&lt;/div&gt;&lt;div id=&quot;spinner&quot;&gt;&lt;/div&gt;&lt;button type=&quot;submit&quot; class=&quot;sc-gZMcBi btn btn-primary jcDsfy&quot;&gt;Login&lt;/button&gt;&lt;label class=&quot;sc-gqjmRU goeyjb&quot;&gt;&lt;/label&gt;&lt;/form&gt;\r\n             &lt;!-- react-empty: 54 --&gt;\r\n             &lt;!-- react-empty: 70 --&gt;\r\n             &lt;!-- react-empty: 23 --&gt;\r\n         &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;","title":"Java ui4j. Can&#39;t find element to submit","body":"<p>I have the following:\nLogin textbox....</p>\n<pre><code>&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usr&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>Password textbox..</p>\n<pre><code>&lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;pwd&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>Login button......</p>\n<pre><code>&lt;button type=&quot;submit&quot; class=&quot;sc-gZMcBi btn btn-primary jcDsfy&quot;&gt;Login&lt;/button&gt;\n</code></pre>\n<p>I am able to send text to login and password textbox, but I can't find the button to submit.\nhere is my code...</p>\n<pre><code>doc.query(&quot;input[id='usr']&quot;)\n        .setValue(&quot;xxxx&quot;);\ntry { Thread.sleep(2000); } catch (InterruptedException ex) { }\n\ndoc.query(&quot;input[id='pwd']&quot;).setValue(&quot;yyyyyy&quot;);\n\ntry { Thread.sleep(2000); } catch (InterruptedException ex) { }\n\ndoc.query(&quot;sc-gZMcBi btn btn-primary jcDsfy&quot;).focus().click();\n</code></pre>\n<p>I have been trying changing the last part with differents values and using submit() and others, but getting always NULL element.</p>\n<p>The code I am trying to scrape is like this:</p>\n<pre><code>&lt;body style=&quot;margin: 0;&quot;&gt;\n  &lt;div id=&quot;app&quot;&gt;\n     &lt;div data-reactroot=&quot;&quot;&gt;\n         &lt;header&gt;\n             &lt;div class=&quot;sc-htpNat giiXMO sc-bwzfXH boSKPF&quot;&gt;\n                 &lt;svg viewBox=&quot;0 0 100 20&quot; width=&quot;250px&quot; height=&quot;50px&quot; class=&quot;sc-bdVaJa fXhIFv&quot;&gt;&lt;path fill=&quot;#FFF&quot; d=&quot;M23.8 14.3L21 10.6h-1.1v3.7h-3.3V4.6h4.9c3.6 0 5.9 1 5.9 3 0 1.4-1.3 2.2-3.1 2.7l3.2 4h-3.7zm-2.5-8h-1.5V9h1.6c1.7 0 2.6-.5 2.6-1.3.1-1-.7-1.4-2.7-1.4zM35.6 10.6v3.7h-3.3v-3.6l-4.8-6.1h3.6l1.4 2c.6.8 1.2 1.8 1.4 2.3.2-.5.8-1.5 1.4-2.3l1.4-2h3.6l-4.7 6zM48.1 14.3l-.9-2h-4.1l-.9 2h-3.4l4.7-9.7h3.2l4.7 9.7h-3.3zM46 9.5c-.3-.7-.7-1.9-.9-2.4-.1.5-.5 1.5-.8 2.3l-.5 1.2h2.7L46 9.5zM60.5 14.3L57.1 10c-.5-.6-1.1-1.4-1.4-2 0 .6.1 1.6.1 2.2v4.1h-3V4.6h3.3l3.2 4.3c.4.6 1.1 1.5 1.5 2 0-.6-.1-1.7-.1-2.3v-4h3v9.7h-3.2zM74.3 14.3l-.9-2h-4.1l-.9 2H65l4.7-9.7H73l4.7 9.7h-3.4zm-2.1-4.8c-.3-.7-.7-1.9-.9-2.4-.1.5-.5 1.5-.8 2.3l-.5 1.2h2.7l-.5-1.1zM79 14.3V4.6h3.3v9.7H79zM92.4 14.3l-2.9-3.7h-1.1v3.7h-3.3V4.6H90c3.6 0 5.9 1 5.9 3 0 1.4-1.3 2.2-3.1 2.7l3.2 4h-3.6zm-2.5-8h-1.5V9H90c1.7 0 2.6-.5 2.6-1.3.1-1-.7-1.4-2.7-1.4z&quot;&gt;&lt;/path&gt;&lt;g fill=&quot;#F1C931&quot;&gt;&lt;path d=&quot;M11.2 4.2c.7.2 1.4.4 2.1.5h.5c.3 0 .5-.1.8-.2h.1c0 .1 0 .1-.1.2-.4.3-.8.5-1.2.6-.1 0-.3.1-.4.1-.5.2-1.1.2-1.6.2-1-.1-1.9-.4-2.9-.4-.9-.1-1.8.3-2.3 1-.1.4-.3.8-.3 1.2 0 .4.6.5.8.8l.3.6c.1.4.3.8.6 1.2.2.2.4.5.7.6.4.3.7.6.9 1 .2.4.4.7.5 1.1.1.2.2.4.2.7v.1c.1.2.1.4.2.5v.1c0 .1.1.3 0 .3-.2-.2-.3-.4-.4-.6-.1-.4-.4-.8-.7-1.2-.2-.2-.4-.5-.6-.7-.8-.9-2-1.5-2.9-2.3 0 0 0-.1-.1-.2-.1-.2-.2-.3-.3-.5-.2-.4-.5-.8-.7-1.3 0-.2-.1-.4-.1-.6v-.1c0-.2-.5-.3-.2-.7.2-.2.8-.4 1-.8v-.2s0-.1-.1-.1-.4.2-.4-.1v-.3c.1-.2.1-.4.1-.6 0-.1.1-.1.2-.1s.3-.1.4-.1c.3 0 .7 0 .9.2.1.2 0 .4 0 .6 0 .2-.2.3-.1.4h.2c.4-.3.8-.7 1.2-1.1.3-.3.8-.4 1.2-.3.9 0 1.6.3 2.5.5z&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M8.9 5.8c.1.2 0 .3-.1.5-.5.7-.7 1.6-1 2.4h-.1c-.1 0-.1-.1-.1-.2 0-.9.3-1.7.7-2.5.1-.1.2-.3.4-.2.1-.1.1 0 .2 0zM10.3 6c.1.3-.1.5-.2.8-.5 1-1.1 2-1.4 3.1 0 0 0 .1-.1.1h-.1c-.1-.4 0-.9.1-1.3.3-.9.6-1.8 1.1-2.7.1 0 .1-.1.1-.1.2 0 .4 0 .5.1zM11.7 6.1c.1.1.1.3 0 .4-.6 1.3-1.5 2.4-1.9 3.8l-.3.9c0 .1-.1.1-.1 0-.1-.1 0-.3 0-.4.1-1.1.4-2.2.9-3.1.2-.5.5-.9.7-1.4.1-.1.2-.3.4-.3.1 0 .2 0 .3.1zM13.3 6.2c.1.2 0 .3 0 .5-.4 1-1.1 1.9-1.6 2.9-.5.8-.8 1.7-1.1 2.5-.1.3-.2.5-.3.8h-.1c-.1-.1-.1-.2-.1-.3.1-1.1.5-2 .9-3 .5-1.1 1.1-2.1 1.6-3.2.1-.1.2-.3.4-.4.1 0 .2 0 .3.2z&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;\n                    &lt;label class=&quot;sc-bxivhb cuNflP&quot;&gt;XXX&lt;/label&gt;\n                       &lt;/div&gt;\n                       &lt;div class=&quot;sc-ifAKCX kJuBmr sc-bwzfXH boSKPF&quot;&gt;&lt;/div&gt;\n         &lt;/header&gt;\n         &lt;form class=&quot;sc-iwsKbI ehzITl&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;label for=&quot;usr&quot;&gt;Username:&lt;/label&gt;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usr&quot; value=&quot;&quot;&gt;&lt;/div&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;label for=&quot;pwd&quot;&gt;Password:&lt;/label&gt;&lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;pwd&quot; value=&quot;&quot;&gt;&lt;/div&gt;&lt;div id=&quot;spinner&quot;&gt;&lt;/div&gt;&lt;button type=&quot;submit&quot; class=&quot;sc-gZMcBi btn btn-primary jcDsfy&quot;&gt;Login&lt;/button&gt;&lt;label class=&quot;sc-gqjmRU goeyjb&quot;&gt;&lt;/label&gt;&lt;/form&gt;\n         &lt;!-- react-empty: 54 --&gt;\n         &lt;!-- react-empty: 70 --&gt;\n         &lt;!-- react-empty: 23 --&gt;\n     &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":79153,"reputation":513935,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":0,"creation_date":1266593415,"post_id":2297347,"comment_id":2262212,"body_markdown":"I wouldn&#39;t use Regex for this task.","body":"I wouldn&#39;t use Regex for this task."},{"owner":{"account_id":13612,"reputation":27046,"user_id":27474,"accept_rate":68,"display_name":"Vijay Dev"},"score":3,"creation_date":1266593599,"post_id":2297347,"comment_id":2262241,"body_markdown":"ok. What would you suggest then?","body":"ok. What would you suggest then?"},{"owner":{"account_id":79153,"reputation":513935,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":1,"creation_date":1266593634,"post_id":2297347,"comment_id":2262245,"body_markdown":"Something like Simon&#39;s answer.","body":"Something like Simon&#39;s answer."},{"owner":{"account_id":1689250,"reputation":7031,"user_id":1551948,"accept_rate":73,"display_name":"harperville"},"score":0,"creation_date":1581995161,"post_id":2297347,"comment_id":106614331,"body_markdown":"I second your recommendation.  No extra libraries to install, Simon&#39;s solution worked great.","body":"I second your recommendation.  No extra libraries to install, Simon&#39;s solution worked great."}],"answers":[{"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1266593504,"creation_date":1266593504,"answer_id":2297418,"question_id":2297347,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfor (String part : getParts(&quot;foobarspam&quot;, 3)) {\r\n    \t\t\tSystem.out.println(part);\r\n    \t\t}\r\n    \t}\r\n    \tprivate static List&lt;String&gt; getParts(String string, int partitionSize) {\r\n    \t\tList&lt;String&gt; parts = new ArrayList&lt;String&gt;();\r\n    \t\tint len = string.length();\r\n    \t\tfor (int i=0; i&lt;len; i+=partitionSize)\r\n    \t\t{\r\n    \t\t\tparts.add(string.substring(i, Math.min(len, i + partitionSize)));\r\n    \t\t}\r\n    \t\treturn parts;\r\n    \t}\r\n    }\r\n\r\n","title":"Splitting a string at every n-th character","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n    public static void main(String[] args) {\n        for (String part : getParts(\"foobarspam\", 3)) {\n            System.out.println(part);\n        }\n    }\n    private static List&lt;String&gt; getParts(String string, int partitionSize) {\n        List&lt;String&gt; parts = new ArrayList&lt;String&gt;();\n        int len = string.length();\n        for (int i=0; i&lt;len; i+=partitionSize)\n        {\n            parts.add(string.substring(i, Math.min(len, i + partitionSize)));\n        }\n        return parts;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":4,"up_vote_count":156,"is_accepted":true,"score":152,"last_activity_date":1266593756,"creation_date":1266593756,"answer_id":2297450,"question_id":2297347,"body_markdown":"You could do it like this:\r\n\r\n    String s = &quot;1234567890&quot;;\r\n    System.out.println(java.util.Arrays.toString(s.split(&quot;(?&lt;=\\\\G...)&quot;)));\r\n\r\nwhich produces:\r\n\r\n    [123, 456, 789, 0]\r\n\r\nThe regex `(?&lt;=\\G...)` matches an empty string that has the **last match** (`\\G`) followed by **three characters** (`...`) **before** it (`(?&lt;= )`)","title":"Splitting a string at every n-th character","body":"<p>You could do it like this:</p>\n\n<pre><code>String s = \"1234567890\";\nSystem.out.println(java.util.Arrays.toString(s.split(\"(?&lt;=\\\\G...)\")));\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>[123, 456, 789, 0]\n</code></pre>\n\n<p>The regex <code>(?&lt;=\\G...)</code> matches an empty string that has the <strong>last match</strong> (<code>\\G</code>) followed by <strong>three characters</strong> (<code>...</code>) <strong>before</strong> it (<code>(?&lt;= )</code>)</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":1,"up_vote_count":94,"is_accepted":false,"score":93,"last_activity_date":1486351629,"creation_date":1266601974,"answer_id":2298477,"question_id":2297347,"body_markdown":"Java does not provide very full-featured splitting utilities, so the [Guava libraries][1] do:\r\n\r\n    Iterable&lt;String&gt; pieces = Splitter.fixedLength(3).split(string);\r\n\r\nCheck out the [Javadoc for Splitter][2]; it&#39;s very powerful.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/base/Splitter.html","title":"Splitting a string at every n-th character","body":"<p>Java does not provide very full-featured splitting utilities, so the <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava libraries</a> do:</p>\n\n<pre><code>Iterable&lt;String&gt; pieces = Splitter.fixedLength(3).split(string);\n</code></pre>\n\n<p>Check out the <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/base/Splitter.html\" rel=\"noreferrer\">Javadoc for Splitter</a>; it's very powerful.</p>\n"},{"tags":[],"owner":{"account_id":4894043,"reputation":749,"user_id":3944257,"display_name":"Frodo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1478074264,"creation_date":1478074264,"answer_id":40375117,"question_id":2297347,"body_markdown":"As an addition to [Bart Kiers][1] answer I want to add that it is possible instead of using the three dots `...` in the regex expression which are representing three characters you can write `.{3}` which has the same meaning.\r\n\r\nThen the code would look like the following:\r\n\r\n    String bitstream = &quot;00101010001001010100101010100101010101001010100001010101010010101&quot;;\r\n\tSystem.out.println(java.util.Arrays.toString(bitstream.split(&quot;(?&lt;=\\\\G.{3})&quot;)));\r\n\r\nWith this it would be easier to modify the string length and the creation of a function is now reasonable with a variable input string length. This could be done look like the following:\r\n\r\n    public static String[] splitAfterNChars(String input, int splitLen){\r\n    \treturn input.split(String.format(&quot;(?&lt;=\\\\G.{%1$d})&quot;, splitLen));\r\n    }\r\n\r\nAn example in IdeOne: [http://ideone.com/rNlTj5][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character/2297450#2297450\r\n  [2]: http://ideone.com/rNlTj5","title":"Splitting a string at every n-th character","body":"<p>As an addition to <a href=\"https://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character/2297450#2297450\">Bart Kiers</a> answer I want to add that it is possible instead of using the three dots <code>...</code> in the regex expression which are representing three characters you can write <code>.{3}</code> which has the same meaning.</p>\n\n<p>Then the code would look like the following:</p>\n\n<pre><code>String bitstream = \"00101010001001010100101010100101010101001010100001010101010010101\";\nSystem.out.println(java.util.Arrays.toString(bitstream.split(\"(?&lt;=\\\\G.{3})\")));\n</code></pre>\n\n<p>With this it would be easier to modify the string length and the creation of a function is now reasonable with a variable input string length. This could be done look like the following:</p>\n\n<pre><code>public static String[] splitAfterNChars(String input, int splitLen){\n    return input.split(String.format(\"(?&lt;=\\\\G.{%1$d})\", splitLen));\n}\n</code></pre>\n\n<p>An example in IdeOne: <a href=\"http://ideone.com/rNlTj5\" rel=\"noreferrer\">http://ideone.com/rNlTj5</a></p>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2876,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517523801,"creation_date":1517523462,"answer_id":48572675,"question_id":2297347,"body_markdown":"This a late answer, but I am putting it out there anyway for any new programmers to see:\r\n\r\nIf  you do  not want to use regular expressions, *and* do not wish to  rely on a third party library, you can use this method instead, which takes between \r\n **89920** and **100113** nanoseconds in a **2.80 GHz CPU** (less than a millisecond). It&#39;s not as pretty as Simon Nickerson&#39;s example, but it works:\r\n\r\n       /**\r\n    \t * Divides the given string into substrings each consisting of the provided\r\n    \t * length(s).\r\n    \t * \r\n    \t * @param string\r\n    \t *            the string to split.\r\n    \t * @param defaultLength\r\n    \t *            the default length used for any extra substrings. If set to\r\n    \t *            &lt;code&gt;0&lt;/code&gt;, the last substring will start at the sum of\r\n    \t *            &lt;code&gt;lengths&lt;/code&gt; and end at the end of &lt;code&gt;string&lt;/code&gt;.\r\n    \t * @param lengths\r\n    \t *            the lengths of each substring in order. If any substring is not\r\n    \t *            provided a length, it will use &lt;code&gt;defaultLength&lt;/code&gt;.\r\n    \t * @return the array of strings computed by splitting this string into the given\r\n    \t *         substring lengths.\r\n    \t */\r\n    \tpublic static String[] divideString(String string, int defaultLength, int... lengths) {\r\n    \t\tjava.util.ArrayList&lt;String&gt; parts = new java.util.ArrayList&lt;String&gt;();\r\n    \r\n    \t\tif (lengths.length == 0) {\r\n    \t\t\tparts.add(string.substring(0, defaultLength));\r\n    \t\t\tstring = string.substring(defaultLength);\r\n    \t\t\twhile (string.length() &gt; 0) {\r\n    \t\t\t\tif (string.length() &lt; defaultLength) {\r\n    \t\t\t\t\tparts.add(string);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tparts.add(string.substring(0, defaultLength));\r\n    \t\t\t\tstring = string.substring(defaultLength);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tfor (int i = 0, temp; i &lt; lengths.length; i++) {\r\n    \t\t\t\ttemp = lengths[i];\r\n    \t\t\t\tif (string.length() &lt; temp) {\r\n    \t\t\t\t\tparts.add(string);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tparts.add(string.substring(0, temp));\r\n    \t\t\t\tstring = string.substring(temp);\r\n    \t\t\t}\r\n    \t\t\twhile (string.length() &gt; 0) {\r\n    \t\t\t\tif (string.length() &lt; defaultLength || defaultLength &lt;= 0) {\r\n    \t\t\t\t\tparts.add(string);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tparts.add(string.substring(0, defaultLength));\r\n    \t\t\t\tstring = string.substring(defaultLength);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn parts.toArray(new String[parts.size()]);\r\n    \t}","title":"Splitting a string at every n-th character","body":"<p>This a late answer, but I am putting it out there anyway for any new programmers to see:</p>\n\n<p>If  you do  not want to use regular expressions, <em>and</em> do not wish to  rely on a third party library, you can use this method instead, which takes between \n <strong>89920</strong> and <strong>100113</strong> nanoseconds in a <strong>2.80 GHz CPU</strong> (less than a millisecond). It's not as pretty as Simon Nickerson's example, but it works:</p>\n\n<pre><code>   /**\n     * Divides the given string into substrings each consisting of the provided\n     * length(s).\n     * \n     * @param string\n     *            the string to split.\n     * @param defaultLength\n     *            the default length used for any extra substrings. If set to\n     *            &lt;code&gt;0&lt;/code&gt;, the last substring will start at the sum of\n     *            &lt;code&gt;lengths&lt;/code&gt; and end at the end of &lt;code&gt;string&lt;/code&gt;.\n     * @param lengths\n     *            the lengths of each substring in order. If any substring is not\n     *            provided a length, it will use &lt;code&gt;defaultLength&lt;/code&gt;.\n     * @return the array of strings computed by splitting this string into the given\n     *         substring lengths.\n     */\n    public static String[] divideString(String string, int defaultLength, int... lengths) {\n        java.util.ArrayList&lt;String&gt; parts = new java.util.ArrayList&lt;String&gt;();\n\n        if (lengths.length == 0) {\n            parts.add(string.substring(0, defaultLength));\n            string = string.substring(defaultLength);\n            while (string.length() &gt; 0) {\n                if (string.length() &lt; defaultLength) {\n                    parts.add(string);\n                    break;\n                }\n                parts.add(string.substring(0, defaultLength));\n                string = string.substring(defaultLength);\n            }\n        } else {\n            for (int i = 0, temp; i &lt; lengths.length; i++) {\n                temp = lengths[i];\n                if (string.length() &lt; temp) {\n                    parts.add(string);\n                    break;\n                }\n                parts.add(string.substring(0, temp));\n                string = string.substring(temp);\n            }\n            while (string.length() &gt; 0) {\n                if (string.length() &lt; defaultLength || defaultLength &lt;= 0) {\n                    parts.add(string);\n                    break;\n                }\n                parts.add(string.substring(0, defaultLength));\n                string = string.substring(defaultLength);\n            }\n        }\n\n        return parts.toArray(new String[parts.size()]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531643514,"creation_date":1531643514,"answer_id":51346670,"question_id":2297347,"body_markdown":"Late Entry.\r\n\r\nFollowing is a succinct implementation using Java8 streams, a one liner:\r\n\r\n\r\n    String foobarspam = &quot;foobarspam&quot;;\r\n    AtomicInteger splitCounter = new AtomicInteger(0);\r\n    Collection&lt;String&gt; splittedStrings = foobarspam\r\n                                        .chars()\r\n                                        .mapToObj(_char -&gt; String.valueOf((char)_char))\r\n                                        .collect(Collectors.groupingBy(stringChar -&gt; splitCounter.getAndIncrement() / 3\r\n                                                                    ,Collectors.joining()))\r\n                                        .values();\r\n\r\nOutput:\r\n\r\n    [foo, bar, spa, m]","title":"Splitting a string at every n-th character","body":"<p>Late Entry.</p>\n\n<p>Following is a succinct implementation using Java8 streams, a one liner:</p>\n\n<pre><code>String foobarspam = \"foobarspam\";\nAtomicInteger splitCounter = new AtomicInteger(0);\nCollection&lt;String&gt; splittedStrings = foobarspam\n                                    .chars()\n                                    .mapToObj(_char -&gt; String.valueOf((char)_char))\n                                    .collect(Collectors.groupingBy(stringChar -&gt; splitCounter.getAndIncrement() / 3\n                                                                ,Collectors.joining()))\n                                    .values();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[foo, bar, spa, m]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15252547,"reputation":1,"user_id":11005441,"display_name":"Victor Truong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551734486,"creation_date":1551734486,"answer_id":54991743,"question_id":2297347,"body_markdown":"You can also split a string at every n-th character and put them each, in each index of a List :\r\n\r\nHere I made a list of Strings named Sequence :\r\n\r\n&gt; List &lt; String &gt; Sequence\r\n\r\nThen I&#39;m basically splitting the String &quot;KILOSO&quot; by every 2 words. So &#39;KI&#39; &#39;LO&#39; &#39;SO&#39; would be incorporate in separate index of the List called Sequence.  \r\n\r\n&gt; String S = KILOSO\r\n&gt;&gt; Sequence = Arrays.asList(S.split(&quot;(?&lt;=\\\\G..)&quot;)); \r\n\r\nSo when I&#39;m doing :\r\n\r\n&gt;System.out.print(Sequence)\r\n\r\nIt should print :\r\n\r\n&gt; [KI, LO, SO]\r\n\r\nto verify I can write :\r\n\r\n&gt; System.out.print(Sequence.get(1))\r\n\r\nit will print :\r\n\r\n&gt; LO\r\n\r\n","title":"Splitting a string at every n-th character","body":"<p>You can also split a string at every n-th character and put them each, in each index of a List :</p>\n\n<p>Here I made a list of Strings named Sequence :</p>\n\n<blockquote>\n  <p>List &lt; String > Sequence</p>\n</blockquote>\n\n<p>Then I'm basically splitting the String \"KILOSO\" by every 2 words. So 'KI' 'LO' 'SO' would be incorporate in separate index of the List called Sequence.  </p>\n\n<blockquote>\n  <p>String S = KILOSO</p>\n  \n  <blockquote>\n    <p>Sequence = Arrays.asList(S.split(\"(?&lt;=\\G..)\")); </p>\n  </blockquote>\n</blockquote>\n\n<p>So when I'm doing :</p>\n\n<blockquote>\n  <p>System.out.print(Sequence)</p>\n</blockquote>\n\n<p>It should print :</p>\n\n<blockquote>\n  <p>[KI, LO, SO]</p>\n</blockquote>\n\n<p>to verify I can write :</p>\n\n<blockquote>\n  <p>System.out.print(Sequence.get(1))</p>\n</blockquote>\n\n<p>it will print :</p>\n\n<blockquote>\n  <p>LO</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573151654,"creation_date":1573151654,"answer_id":58755016,"question_id":2297347,"body_markdown":"I recently encountered this issue, and here is the solution I came up with\r\n\r\n    final int LENGTH = 10;\r\n    String test = &quot;Here is a very long description, it is going to be past 10&quot;;\r\n\r\n    Map&lt;Integer,StringBuilder&gt; stringBuilderMap = new HashMap&lt;&gt;();\r\n    for ( int i = 0; i &lt; test.length(); i++ ) {\r\n        int position = i / LENGTH; // i&lt;10 then 0, 10&lt;=i&lt;19 then 1, 20&lt;=i&lt;30 then 2, etc.\r\n\r\n        StringBuilder currentSb = stringBuilderMap.computeIfAbsent( position, pos -&gt; new StringBuilder() ); // find sb, or create one if not present\r\n        currentSb.append( test.charAt( i ) ); // add the current char to our sb\r\n    }\r\n\r\n    List&lt;String&gt; comments = stringBuilderMap.entrySet().stream()\r\n            .sorted( Comparator.comparing( Map.Entry::getKey ) )\r\n            .map( entrySet -&gt; entrySet.getValue().toString() )\r\n            .collect( Collectors.toList() );\r\n    //done\r\n\r\n\r\n\r\n    // here you can see the data\r\n    comments.forEach( cmt -&gt; System.out.println( String.format( &quot;&#39;%s&#39; ... length= %d&quot;, cmt, cmt.length() ) ) );\r\n    // PRINTS:\r\n    // &#39;Here is a &#39; ... length= 10\r\n    // &#39;very long &#39; ... length= 10\r\n    // &#39;descriptio&#39; ... length= 10\r\n    // &#39;n, it is g&#39; ... length= 10\r\n    // &#39;oing to be&#39; ... length= 10\r\n    // &#39; past 10&#39; ... length= 8\r\n\r\n    // make sure they are equal\r\n    String joinedString = String.join( &quot;&quot;, comments );\r\n    System.out.println( &quot;\\nOriginal strings are equal &quot; + joinedString.equals( test ) );\r\n    // PRINTS: Original strings are equal true","title":"Splitting a string at every n-th character","body":"<p>I recently encountered this issue, and here is the solution I came up with</p>\n\n<pre><code>final int LENGTH = 10;\nString test = \"Here is a very long description, it is going to be past 10\";\n\nMap&lt;Integer,StringBuilder&gt; stringBuilderMap = new HashMap&lt;&gt;();\nfor ( int i = 0; i &lt; test.length(); i++ ) {\n    int position = i / LENGTH; // i&lt;10 then 0, 10&lt;=i&lt;19 then 1, 20&lt;=i&lt;30 then 2, etc.\n\n    StringBuilder currentSb = stringBuilderMap.computeIfAbsent( position, pos -&gt; new StringBuilder() ); // find sb, or create one if not present\n    currentSb.append( test.charAt( i ) ); // add the current char to our sb\n}\n\nList&lt;String&gt; comments = stringBuilderMap.entrySet().stream()\n        .sorted( Comparator.comparing( Map.Entry::getKey ) )\n        .map( entrySet -&gt; entrySet.getValue().toString() )\n        .collect( Collectors.toList() );\n//done\n\n\n\n// here you can see the data\ncomments.forEach( cmt -&gt; System.out.println( String.format( \"'%s' ... length= %d\", cmt, cmt.length() ) ) );\n// PRINTS:\n// 'Here is a ' ... length= 10\n// 'very long ' ... length= 10\n// 'descriptio' ... length= 10\n// 'n, it is g' ... length= 10\n// 'oing to be' ... length= 10\n// ' past 10' ... length= 8\n\n// make sure they are equal\nString joinedString = String.join( \"\", comments );\nSystem.out.println( \"\\nOriginal strings are equal \" + joinedString.equals( test ) );\n// PRINTS: Original strings are equal true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50986,"reputation":895,"user_id":152229,"accept_rate":100,"display_name":"vishal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578603116,"creation_date":1578603116,"answer_id":59671914,"question_id":2297347,"body_markdown":"Using plain java:\r\n```java\r\n    String s = &quot;1234567890&quot;;\r\n    List&lt;String&gt; list = new Scanner(s).findAll(&quot;...&quot;).map(MatchResult::group).collect(Collectors.toList());\r\n    System.out.printf(&quot;%s%n&quot;, list);\r\n```\r\nProduces the output:\r\n&gt; [123, 456, 789]\r\n\r\n\r\nNote that this discards leftover characters (0 in this case). \r\n","title":"Splitting a string at every n-th character","body":"<p>Using plain java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    String s = \"1234567890\";\n    List&lt;String&gt; list = new Scanner(s).findAll(\"...\").map(MatchResult::group).collect(Collectors.toList());\n    System.out.printf(\"%s%n\", list);\n</code></pre>\n\n<p>Produces the output:</p>\n\n<blockquote>\n  <p>[123, 456, 789]</p>\n</blockquote>\n\n<p>Note that this discards leftover characters (0 in this case). </p>\n"}],"owner":{"account_id":13612,"reputation":27046,"user_id":27474,"accept_rate":68,"display_name":"Vijay Dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136334,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":2297450,"answer_count":9,"score":93,"last_activity_date":1639165679,"creation_date":1266592799,"question_id":2297347,"body_markdown":"In JavaScript this is how we can split a string at every 3-rd character\r\n\r\n    &quot;foobarspam&quot;.match(/.{1,3}/g)\r\n\r\nI am trying to figure out how to do this in Java. Any pointers?","title":"Splitting a string at every n-th character","body":"<p>In JavaScript this is how we can split a string at every 3-rd character</p>\n\n<pre><code>\"foobarspam\".match(/.{1,3}/g)\n</code></pre>\n\n<p>I am trying to figure out how to do this in Java. Any pointers?</p>\n"},{"tags":["java","json","json-simple"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1639162707,"post_id":70309124,"comment_id":124286955,"body_markdown":"Make sure your org.json dependency is compiled into the final jar","body":"Make sure your org.json dependency is compiled into the final jar"}],"answers":[{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639165411,"creation_date":1639165411,"answer_id":70309642,"question_id":70309124,"body_markdown":"Your problem has nothing to do with JSON parsing, it&#39;s about how to use a Java library.\r\n\r\nThe code you posted shows that you&#39;re importing classes like `org.json.simple.JSONObject` which are not part of the Java standard library, hence you need to provide them to the Java runtime, usually by including the **jar**, which is basically a zip file containing class files (`.class` files, the compiled version of a `.java` file), into the so-called **classpath**, which is where the Java runtime looks for classes to load.\r\n\r\nHere&#39;s an example of how you could run your program in case you already had the simple-json jar at `libs/simple-json.jar`, and you already compiled your `Solution` class:\r\n\r\n    java -cp libs/simple-json.jar Solution\r\n\r\nWith this, the Java runtime will find the JSON classes inside the jar and everything should work.\r\n\r\nIf you need more jars in the classpath, you can separate them using `:` on Mac/Linux or `;` on Windows.\r\n\r\nFor example:\r\n\r\n    java -cp libs/simple-json.jar:libs/other-lib.jar Solution\r\n\r\nFor detailed information about how this works, see [this answer](https://stackoverflow.com/a/2396759/1007991).","title":"Why does my JSONParser throw NoClassDefFoundError?","body":"<p>Your problem has nothing to do with JSON parsing, it's about how to use a Java library.</p>\n<p>The code you posted shows that you're importing classes like <code>org.json.simple.JSONObject</code> which are not part of the Java standard library, hence you need to provide them to the Java runtime, usually by including the <strong>jar</strong>, which is basically a zip file containing class files (<code>.class</code> files, the compiled version of a <code>.java</code> file), into the so-called <strong>classpath</strong>, which is where the Java runtime looks for classes to load.</p>\n<p>Here's an example of how you could run your program in case you already had the simple-json jar at <code>libs/simple-json.jar</code>, and you already compiled your <code>Solution</code> class:</p>\n<pre><code>java -cp libs/simple-json.jar Solution\n</code></pre>\n<p>With this, the Java runtime will find the JSON classes inside the jar and everything should work.</p>\n<p>If you need more jars in the classpath, you can separate them using <code>:</code> on Mac/Linux or <code>;</code> on Windows.</p>\n<p>For example:</p>\n<pre><code>java -cp libs/simple-json.jar:libs/other-lib.jar Solution\n</code></pre>\n<p>For detailed information about how this works, see <a href=\"https://stackoverflow.com/a/2396759/1007991\">this answer</a>.</p>\n"}],"owner":{"account_id":16285846,"reputation":1,"user_id":11760645,"display_name":"buggggggg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639165411,"creation_date":1639162063,"question_id":70309124,"body_markdown":"I&#39;m trying to convert scanner string into JSONObject in Java and import JSON modules from Json Simple. I have already added JSON-simple-1.1.1.jar into my build path. However, when I was trying to paser my inline string. \r\nMy inline string looks like this: **{&quot;events&quot;:[{&quot;url&quot;:&quot;/manipulate-cloudy-country&quot;,&quot;visitorId&quot;:&quot;03c0b5e0-3eeb-382a-8c6d-35e4bb189cf6&quot;,&quot;timestamp&quot;:1515042087205},...{\r\n\t&quot;url&quot;:&quot;/race-lazy-control&quot;,\r\n\t&quot;visitorId&quot;:&quot;0832d11b-017a-388a-8a9e-77e5a1f6f9f4&quot;,\r\n\t&quot;timestamp&quot;:1515042342655\r\n   }]}**\r\nIt should be a bunch of data that I try to convert into JSONObject.\r\n\r\nThe complier shows:\r\n**Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/simple/JSONObject\r\n\tat Solution.main(Solution.java:45)\r\nCaused by: java.lang.ClassNotFoundException: org.json.simple.JSONObject\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more**\r\n\r\nHow can I fix it, or is there any better solution to convert it? Please help me!\r\n```\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.Scanner;\r\n\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\npublic class Solution {\r\npublic static void main(String[] args) {\r\ntry {\r\n\t\t//URL url = new URL(\r\n\t\t\t\t\t&quot;My API&quot;);\r\n        /**\r\n\t\t*{&quot;events&quot;:[{&quot;url&quot;:&quot;/manipulate-cloudy-country&quot;,&quot;visitorId&quot;:&quot;03c0b5e0-3eeb-382a-8c6d-35e4bb189cf6&quot;,&quot;timestamp&quot;:1515042087205},...{&quot;url&quot;:&quot;/shoe-boundless-curtain&quot;,&quot;visitorId&quot;:&quot;e367b3c8-3d48-345d-937c-0c4f6cce216a&quot;,&quot;timestamp&quot;:1515042137934},{&quot;url&quot;:&quot;/race-lazy-control&quot;,&quot;visitorId&quot;:&quot;0832d11b-017a-388a-8a9e-77e5a1f6f9f4&quot;,&quot;timestamp&quot;:1515042342655}]}\r\n\t\t**/\r\n\t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\t\tconn.connect();\r\n\r\n\t\t\tint responseCode = conn.getResponseCode();\r\n\t\t\tif (responseCode != 200) {\r\n\t\t\t\tthrow new RuntimeException(&quot;HttpResponseCode: &quot; + responseCode);\r\n\t\t\t} else {\r\n\t\t\t\tString inline = &quot;&quot;;\r\n\t\t\t\tScanner scanner = new Scanner(url.openStream());\r\n\t\t\t\twhile (scanner.hasNext()) {\r\n\t\t\t\t\tinline += scanner.nextLine();\r\n\t\t\t\t}\r\n\t\t\t\t// Close the scanner\r\n\t\t\t\tscanner.close();\r\n\r\n\t\t\t\tJSONObject obj = new JSONObject();\r\n\t\t\t\tJSONParser p = new JSONParser();\r\n\t\t\t\tp.parse(inline);\r\n\r\n\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} ```","title":"Why does my JSONParser throw NoClassDefFoundError?","body":"<p>I'm trying to convert scanner string into JSONObject in Java and import JSON modules from Json Simple. I have already added JSON-simple-1.1.1.jar into my build path. However, when I was trying to paser my inline string.\nMy inline string looks like this: <strong>{&quot;events&quot;:[{&quot;url&quot;:&quot;/manipulate-cloudy-country&quot;,&quot;visitorId&quot;:&quot;03c0b5e0-3eeb-382a-8c6d-35e4bb189cf6&quot;,&quot;timestamp&quot;:1515042087205},...{\n&quot;url&quot;:&quot;/race-lazy-control&quot;,\n&quot;visitorId&quot;:&quot;0832d11b-017a-388a-8a9e-77e5a1f6f9f4&quot;,\n&quot;timestamp&quot;:1515042342655\n}]}</strong>\nIt should be a bunch of data that I try to convert into JSONObject.</p>\n<p>The complier shows:\n<strong>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/simple/JSONObject\nat Solution.main(Solution.java:45)\nCaused by: java.lang.ClassNotFoundException: org.json.simple.JSONObject\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 1 more</strong></p>\n<p>How can I fix it, or is there any better solution to convert it? Please help me!</p>\n<pre><code>import java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Scanner;\n\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\n\npublic class Solution {\npublic static void main(String[] args) {\ntry {\n        //URL url = new URL(\n                    &quot;My API&quot;);\n        /**\n        *{&quot;events&quot;:[{&quot;url&quot;:&quot;/manipulate-cloudy-country&quot;,&quot;visitorId&quot;:&quot;03c0b5e0-3eeb-382a-8c6d-35e4bb189cf6&quot;,&quot;timestamp&quot;:1515042087205},...{&quot;url&quot;:&quot;/shoe-boundless-curtain&quot;,&quot;visitorId&quot;:&quot;e367b3c8-3d48-345d-937c-0c4f6cce216a&quot;,&quot;timestamp&quot;:1515042137934},{&quot;url&quot;:&quot;/race-lazy-control&quot;,&quot;visitorId&quot;:&quot;0832d11b-017a-388a-8a9e-77e5a1f6f9f4&quot;,&quot;timestamp&quot;:1515042342655}]}\n        **/\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.connect();\n\n            int responseCode = conn.getResponseCode();\n            if (responseCode != 200) {\n                throw new RuntimeException(&quot;HttpResponseCode: &quot; + responseCode);\n            } else {\n                String inline = &quot;&quot;;\n                Scanner scanner = new Scanner(url.openStream());\n                while (scanner.hasNext()) {\n                    inline += scanner.nextLine();\n                }\n                // Close the scanner\n                scanner.close();\n\n                JSONObject obj = new JSONObject();\n                JSONParser p = new JSONParser();\n                p.parse(inline);\n\n\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } ```\n</code></pre>\n"},{"tags":["java","java-8","jms","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639164729,"creation_date":1639164729,"answer_id":70309553,"question_id":70308919,"body_markdown":"We don&#39;t know what is that `JmsConstans.JMS_CORRELATIONID`: it is not available in my dependencies. So, sounds more like it is your own and, therefore, we have to know its value.\r\n\r\nThe logic in the `DefaultJmsHeaderMapper` (used by default by the `JmsSendingMessageHandler`) is like this:\r\n\r\n    private void populateCorrelationIdPropertyFromHeaders(MessageHeaders headers, javax.jms.Message jmsMessage) {\r\n\t\tObject jmsCorrelationId = headers.get(JmsHeaders.CORRELATION_ID);\r\n\t\tif (jmsCorrelationId instanceof Number) {\r\n\t\t\tjmsCorrelationId = jmsCorrelationId.toString();\r\n\t\t}\r\n\t\tif (jmsCorrelationId instanceof String) {\r\n\t\t\ttry {\r\n\t\t\t\tjmsMessage.setJMSCorrelationID((String) jmsCorrelationId);\r\n\t\t\t}\r\n\t\t\tcatch (Exception ex) {\r\n\t\t\t\tLOGGER.info(&quot;Failed to set JMSCorrelationID, skipping&quot;, ex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nwhere that `JmsHeaders.CORRELATION_ID` has this value: `jms_correlationId`.\r\n\r\nHowever all of this is just a speculation since e don&#39;t know how you push that message to IBM MQ...","title":"How to set JMS Header in spring integration message","body":"<p>We don't know what is that <code>JmsConstans.JMS_CORRELATIONID</code>: it is not available in my dependencies. So, sounds more like it is your own and, therefore, we have to know its value.</p>\n<p>The logic in the <code>DefaultJmsHeaderMapper</code> (used by default by the <code>JmsSendingMessageHandler</code>) is like this:</p>\n<pre><code>private void populateCorrelationIdPropertyFromHeaders(MessageHeaders headers, javax.jms.Message jmsMessage) {\n    Object jmsCorrelationId = headers.get(JmsHeaders.CORRELATION_ID);\n    if (jmsCorrelationId instanceof Number) {\n        jmsCorrelationId = jmsCorrelationId.toString();\n    }\n    if (jmsCorrelationId instanceof String) {\n        try {\n            jmsMessage.setJMSCorrelationID((String) jmsCorrelationId);\n        }\n        catch (Exception ex) {\n            LOGGER.info(&quot;Failed to set JMSCorrelationID, skipping&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p>where that <code>JmsHeaders.CORRELATION_ID</code> has this value: <code>jms_correlationId</code>.</p>\n<p>However all of this is just a speculation since e don't know how you push that message to IBM MQ...</p>\n"}],"owner":{"account_id":19882584,"reputation":49,"user_id":14566279,"display_name":"user14566279"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639164729,"creation_date":1639160836,"question_id":70308919,"body_markdown":"I am trying to set jms correlation id in spring integration message by setting in its header before pushing into a IBM MQ but the value Is not available after reading the message from the queue.\n\nUsing the below code to set the header\n\n    MessageBuilder.withPayload(&quot;Hi&quot;)\n    .setHeader(JmsConstans.JMS_CORRELATIONID,&quot;ID12334556889&quot;).build();","title":"How to set JMS Header in spring integration message","body":"<p>I am trying to set jms correlation id in spring integration message by setting in its header before pushing into a IBM MQ but the value Is not available after reading the message from the queue.</p>\n<p>Using the below code to set the header</p>\n<pre><code>MessageBuilder.withPayload(&quot;Hi&quot;)\n.setHeader(JmsConstans.JMS_CORRELATIONID,&quot;ID12334556889&quot;).build();\n</code></pre>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":5,"creation_date":1639158000,"post_id":70308258,"comment_id":124285345,"body_markdown":"The error message tells you the problem. If you use the dynamic root (`&lt;fx:root type=&quot;AnchorPane&quot;&gt;`) then you must set the root on the `FXMLLoader` before calling `load()`. Probably you don&#39;t want to use a dynamic root at all.","body":"The error message tells you the problem. If you use the dynamic root (<code>&lt;fx:root type=&quot;AnchorPane&quot;&gt;</code>) then you must set the root on the <code>FXMLLoader</code> before calling <code>load()</code>. Probably you don&#39;t want to use a dynamic root at all."},{"owner":{"account_id":23611854,"reputation":53,"user_id":17646736,"display_name":"Andrea Vincenzo Ricciardi"},"score":0,"creation_date":1639158413,"post_id":70308258,"comment_id":124285512,"body_markdown":"Thanks for your help. Could you write how I should do? I have no idea how to do it.","body":"Thanks for your help. Could you write how I should do? I have no idea how to do it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1639158451,"post_id":70308258,"comment_id":124285526,"body_markdown":"Just use `&lt;AnchorPane&gt;` instead of `&lt;fx:root&gt;`? Though I don&#39;t know if that&#39;s the solution you want, because I have no idea why you are using `&lt;fx:root&gt;` in the first place. Did you have a reason for that?","body":"Just use <code>&lt;AnchorPane&gt;</code> instead of <code>&lt;fx:root&gt;</code>? Though I don&#39;t know if that&#39;s the solution you want, because I have no idea why you are using <code>&lt;fx:root&gt;</code> in the first place. Did you have a reason for that?"},{"owner":{"account_id":23611854,"reputation":53,"user_id":17646736,"display_name":"Andrea Vincenzo Ricciardi"},"score":0,"creation_date":1639159510,"post_id":70308258,"comment_id":124285912,"body_markdown":"Thanks a lot ... I solved it.\nI had created the FXML file with Scene Builder and I don&#39;t know why but it entered &lt;fx: root&gt;","body":"Thanks a lot ... I solved it. I had created the FXML file with Scene Builder and I don&#39;t know why but it entered &lt;fx: root&gt;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":5,"creation_date":1639159806,"post_id":70308258,"comment_id":124286009,"body_markdown":"*&quot; I don&#39;t know why but it entered `&lt;fx: root&gt;`&quot;*. Presumably because you checked the &quot;Use fx:root construct&quot; box in the &quot;Controller&quot; pane in the bottom left.","body":"<i>&quot; I don&#39;t know why but it entered <code>&lt;fx: root&gt;</code>&quot;</i>. Presumably because you checked the &quot;Use fx:root construct&quot; box in the &quot;Controller&quot; pane in the bottom left."},{"owner":{"account_id":23611854,"reputation":53,"user_id":17646736,"display_name":"Andrea Vincenzo Ricciardi"},"score":0,"creation_date":1639165466,"post_id":70308258,"comment_id":124287774,"body_markdown":"Thanks again &#129321;","body":"Thanks again 🤩"}],"answers":[{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1639164489,"creation_date":1639164489,"answer_id":70309516,"question_id":70308258,"body_markdown":"Just to mark this as answered: See @James_D&#39; comment for the solution.\r\n\r\nReplace `&lt;fx:root&gt;` in the FXML file with `&lt;AnchorPane&gt;` or set the root on the `FXMLLoader` before calling `load()` for example like this:\r\n```\r\nFXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\nfxmlLoader.setRoot(new AnchorPane());\r\nParent root = fxmlLoader.load();\r\n```\r\n\r\nSee also:\r\nhttps://stackoverflow.com/questions/23729277/javafx-fxml-load-file-issues-with-setting-root","title":"JavaFX: Exception in Application Start Method java.lang.reflect.InvocationTargetException","body":"<p>Just to mark this as answered: See @James_D' comment for the solution.</p>\n<p>Replace <code>&lt;fx:root&gt;</code> in the FXML file with <code>&lt;AnchorPane&gt;</code> or set the root on the <code>FXMLLoader</code> before calling <code>load()</code> for example like this:</p>\n<pre><code>FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\nfxmlLoader.setRoot(new AnchorPane());\nParent root = fxmlLoader.load();\n</code></pre>\n<p>See also:\n<a href=\"https://stackoverflow.com/questions/23729277/javafx-fxml-load-file-issues-with-setting-root\">JavaFx FXML load file issues with setting root</a></p>\n"}],"owner":{"account_id":23611854,"reputation":53,"user_id":17646736,"display_name":"Andrea Vincenzo Ricciardi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25072,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70309516,"answer_count":1,"score":5,"last_activity_date":1639164489,"creation_date":1639157016,"question_id":70308258,"body_markdown":"I am literally desperate.\r\nI don’t know why but every time I try to run my program this error comes out.\r\nI am using Netbeans, with Java 10.0.2 in order to have already installed JavaFX.\r\nI think it’s due to some problem with the FXML file.\r\nCan you help me?\r\n```Exception in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:473)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:372)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:941)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:973)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\r\n\tat java.base/java.lang.Thread.run(Thread.java:844)\r\nCaused by: javafx.fxml.LoadException: Root hasn&#39;t been set. Use method setRoot() before load.\r\nfile:/C:/Users/User/Documents/NetBeansProjects/gruppo71/dist/run2124011701/gruppo71.jar!/gruppo71/FXMLDocument.fxml:13\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:105)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$RootElement.constructValue(FXMLLoader.java:1338)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:754)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2722)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3253)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3210)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3179)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3152)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3129)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3122)\r\n\tat gruppo71.Gruppo71.start(Gruppo71.java:21)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:175)\r\n\t... 1 more\r\nException running application gruppo71.Gruppo71\r\nJava Result: 1\r\n```\r\n\r\nMy main is this:\r\n\r\n``` package gruppo71;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n *\r\n * @author User\r\n */\r\npublic class Gruppo71 extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        \r\n        Scene scene = new Scene(root);\r\n        \r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n} \r\n```\r\nMy FXML code is:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ContextMenu?&gt;\r\n&lt;?import javafx.scene.control.DatePicker?&gt;\r\n&lt;?import javafx.scene.control.MenuItem?&gt;\r\n&lt;?import javafx.scene.control.SplitPane?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;fx:root id=&quot;AnchorPane&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;450.0&quot; type=&quot;AnchorPane&quot; xmlns=&quot;http://javafx.com/javafx/10.0.2&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;gruppo71.FXMLDocumentController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;SplitPane dividerPositions=&quot;0.13087248322147652&quot; layoutX=&quot;28.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;320.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n        &lt;items&gt;\r\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;160.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button fx:id=&quot;aggiungiButton&quot; layoutX=&quot;10.0&quot; layoutY=&quot;5.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEvento&quot; text=&quot;Aggiungi Evento&quot; AnchorPane.bottomAnchor=&quot;5.0&quot; AnchorPane.leftAnchor=&quot;10.0&quot; AnchorPane.topAnchor=&quot;5.0&quot; /&gt;\r\n                  &lt;DatePicker fx:id=&quot;dataPicker&quot; layoutX=&quot;114.0&quot; layoutY=&quot;6.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;150.0&quot; AnchorPane.bottomAnchor=&quot;5.0&quot; AnchorPane.leftAnchor=&quot;124.0&quot; AnchorPane.topAnchor=&quot;5.0&quot; /&gt;\r\n                  &lt;TextField fx:id=&quot;descriptionField&quot; layoutX=&quot;285.0&quot; layoutY=&quot;6.0&quot; text=&quot;aggiungi descrizione...&quot; AnchorPane.bottomAnchor=&quot;5.0&quot; AnchorPane.leftAnchor=&quot;284.0&quot; AnchorPane.rightAnchor=&quot;10.0&quot; AnchorPane.topAnchor=&quot;5.0&quot; /&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;160.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;TableView fx:id=&quot;mainTab&quot; layoutX=&quot;14.0&quot; prefHeight=&quot;256.0&quot; prefWidth=&quot;448.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                    &lt;columns&gt;\r\n                      &lt;TableColumn fx:id=&quot;dataColumn&quot; prefWidth=&quot;136.0&quot; text=&quot;Data&quot; /&gt;\r\n                      &lt;TableColumn fx:id=&quot;eventColumn&quot; prefWidth=&quot;311.0&quot; text=&quot;Evento&quot; /&gt;\r\n                    &lt;/columns&gt;\r\n                     &lt;contextMenu&gt;\r\n                        &lt;ContextMenu&gt;\r\n                           &lt;items&gt;\r\n                              &lt;MenuItem fx:id=&quot;removeButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeEvent&quot; text=&quot;Rimuovi Evento&quot; /&gt;\r\n                              &lt;MenuItem fx:id=&quot;importaButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#importCSV&quot; text=&quot;Importa CSV&quot; /&gt;\r\n                              &lt;MenuItem fx:id=&quot;exportButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#exportCSV&quot; text=&quot;Esporta CSV&quot; /&gt;\r\n                           &lt;/items&gt;\r\n                        &lt;/ContextMenu&gt;\r\n                     &lt;/contextMenu&gt;\r\n                  &lt;/TableView&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n        &lt;/items&gt;\r\n      &lt;/SplitPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/fx:root&gt;\r\n```\r\nAll help would be greatly appreciated!!!\r\n","title":"JavaFX: Exception in Application Start Method java.lang.reflect.InvocationTargetException","body":"<p>I am literally desperate.\nI don’t know why but every time I try to run my program this error comes out.\nI am using Netbeans, with Java 10.0.2 in order to have already installed JavaFX.\nI think it’s due to some problem with the FXML file.\nCan you help me?</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:473)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:372)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:941)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:973)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\n    at java.base/java.lang.Thread.run(Thread.java:844)\nCaused by: javafx.fxml.LoadException: Root hasn't been set. Use method setRoot() before load.\nfile:/C:/Users/User/Documents/NetBeansProjects/gruppo71/dist/run2124011701/gruppo71.jar!/gruppo71/FXMLDocument.fxml:13\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\n    at javafx.fxml/javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:105)\n    at javafx.fxml/javafx.fxml.FXMLLoader$RootElement.constructValue(FXMLLoader.java:1338)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:754)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2722)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3253)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3210)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3179)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3152)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3129)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3122)\n    at gruppo71.Gruppo71.start(Gruppo71.java:21)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:175)\n    ... 1 more\nException running application gruppo71.Gruppo71\nJava Result: 1\n</code></pre>\n<p>My main is this:</p>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\n/**\n *\n * @author User\n */\npublic class Gruppo71 extends Application {\n    \n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        \n        Scene scene = new Scene(root);\n        \n        stage.setScene(scene);\n        stage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n} \n</code></pre>\n<p>My FXML code is:</p>\n<pre><code>\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ContextMenu?&gt;\n&lt;?import javafx.scene.control.DatePicker?&gt;\n&lt;?import javafx.scene.control.MenuItem?&gt;\n&lt;?import javafx.scene.control.SplitPane?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;fx:root id=&quot;AnchorPane&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;450.0&quot; type=&quot;AnchorPane&quot; xmlns=&quot;http://javafx.com/javafx/10.0.2&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;gruppo71.FXMLDocumentController&quot;&gt;\n   &lt;children&gt;\n      &lt;SplitPane dividerPositions=&quot;0.13087248322147652&quot; layoutX=&quot;28.0&quot; orientation=&quot;VERTICAL&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;320.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n        &lt;items&gt;\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;160.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;aggiungiButton&quot; layoutX=&quot;10.0&quot; layoutY=&quot;5.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEvento&quot; text=&quot;Aggiungi Evento&quot; AnchorPane.bottomAnchor=&quot;5.0&quot; AnchorPane.leftAnchor=&quot;10.0&quot; AnchorPane.topAnchor=&quot;5.0&quot; /&gt;\n                  &lt;DatePicker fx:id=&quot;dataPicker&quot; layoutX=&quot;114.0&quot; layoutY=&quot;6.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;150.0&quot; AnchorPane.bottomAnchor=&quot;5.0&quot; AnchorPane.leftAnchor=&quot;124.0&quot; AnchorPane.topAnchor=&quot;5.0&quot; /&gt;\n                  &lt;TextField fx:id=&quot;descriptionField&quot; layoutX=&quot;285.0&quot; layoutY=&quot;6.0&quot; text=&quot;aggiungi descrizione...&quot; AnchorPane.bottomAnchor=&quot;5.0&quot; AnchorPane.leftAnchor=&quot;284.0&quot; AnchorPane.rightAnchor=&quot;10.0&quot; AnchorPane.topAnchor=&quot;5.0&quot; /&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;160.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;TableView fx:id=&quot;mainTab&quot; layoutX=&quot;14.0&quot; prefHeight=&quot;256.0&quot; prefWidth=&quot;448.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n                    &lt;columns&gt;\n                      &lt;TableColumn fx:id=&quot;dataColumn&quot; prefWidth=&quot;136.0&quot; text=&quot;Data&quot; /&gt;\n                      &lt;TableColumn fx:id=&quot;eventColumn&quot; prefWidth=&quot;311.0&quot; text=&quot;Evento&quot; /&gt;\n                    &lt;/columns&gt;\n                     &lt;contextMenu&gt;\n                        &lt;ContextMenu&gt;\n                           &lt;items&gt;\n                              &lt;MenuItem fx:id=&quot;removeButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeEvent&quot; text=&quot;Rimuovi Evento&quot; /&gt;\n                              &lt;MenuItem fx:id=&quot;importaButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#importCSV&quot; text=&quot;Importa CSV&quot; /&gt;\n                              &lt;MenuItem fx:id=&quot;exportButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#exportCSV&quot; text=&quot;Esporta CSV&quot; /&gt;\n                           &lt;/items&gt;\n                        &lt;/ContextMenu&gt;\n                     &lt;/contextMenu&gt;\n                  &lt;/TableView&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n        &lt;/items&gt;\n      &lt;/SplitPane&gt;\n   &lt;/children&gt;\n&lt;/fx:root&gt;\n</code></pre>\n<p>All help would be greatly appreciated!!!</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639127132,"creation_date":1639127132,"answer_id":70302047,"question_id":70268379,"body_markdown":"Remote properties defined by Spring Cloud Config take precedence over any other property sources. If you want to override those with local properties, you need to explicitly allow this as described in [Overriding the Values of Remote Properties](https://cloud.spring.io/spring-cloud-static/spring-cloud.html#overriding-bootstrap-properties):\r\n\r\n```\r\nspring.cloud.config.allowOverride=true\r\nspring.cloud.config.overrideNone=true\r\n```","title":"Override a remote spring cloud property with a local one","body":"<p>Remote properties defined by Spring Cloud Config take precedence over any other property sources. If you want to override those with local properties, you need to explicitly allow this as described in <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud.html#overriding-bootstrap-properties\" rel=\"nofollow noreferrer\">Overriding the Values of Remote Properties</a>:</p>\n<pre><code>spring.cloud.config.allowOverride=true\nspring.cloud.config.overrideNone=true\n</code></pre>\n"}],"owner":{"account_id":9533917,"reputation":45,"user_id":7084669,"display_name":"Mizo10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70302047,"answer_count":1,"score":2,"last_activity_date":1639164157,"creation_date":1638921384,"question_id":70268379,"body_markdown":"I have a spring boot application which reads properties from a remote config server via spring cloud, and it works fine with different configuration files defined in the remote repository, i&#39;m running it with following command : \r\n\r\n    java -jar my-app.jar --spring.profiles.active=my-custom-profile\r\n\r\nHowever, in some special cases i would want to be able to run the application while changing some of the remote properties (these changes are not fixed, so i can&#39;t create some custom profiles for them), so i&#39;ve tried to override them directly via the command line this way :\r\n\r\n    java -jar my-app.jar --spring.profiles.active=my-custom-profile --my.first.property=value1 --my.second.property=value2\r\n\r\nBut it doesn&#39;t seem to be taken into consideration, because the application still takes the remote properties on startup.\r\n\r\nIs there any proper way to achieve that ? ","title":"Override a remote spring cloud property with a local one","body":"<p>I have a spring boot application which reads properties from a remote config server via spring cloud, and it works fine with different configuration files defined in the remote repository, i'm running it with following command :</p>\n<pre><code>java -jar my-app.jar --spring.profiles.active=my-custom-profile\n</code></pre>\n<p>However, in some special cases i would want to be able to run the application while changing some of the remote properties (these changes are not fixed, so i can't create some custom profiles for them), so i've tried to override them directly via the command line this way :</p>\n<pre><code>java -jar my-app.jar --spring.profiles.active=my-custom-profile --my.first.property=value1 --my.second.property=value2\n</code></pre>\n<p>But it doesn't seem to be taken into consideration, because the application still takes the remote properties on startup.</p>\n<p>Is there any proper way to achieve that ?</p>\n"},{"tags":["java","mqtt","payload","broker"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1638277013,"post_id":70167084,"comment_id":124040842,"body_markdown":"Why can&#39;t you just add the call to `calculateDangerLevel()` to the end of `parseMqttPayload()`?","body":"Why can&#39;t you just add the call to <code>calculateDangerLevel()</code> to the end of <code>parseMqttPayload()</code>?"},{"owner":{"account_id":19447629,"reputation":1,"user_id":14224755,"display_name":"Mixalis Pikoulas"},"score":0,"creation_date":1638280807,"post_id":70167084,"comment_id":124042479,"body_markdown":"I added:LOGGER.warn(&quot;danger: {}&quot;,calculateDangerLevel(smokeSensorReading,gasSensorReading,gasSensorReading,uvSensorReading));","body":"I added:LOGGER.warn(&quot;danger: {}&quot;,calculateDangerLevel(smokeSensorReading,gasSensorReading&zwnj;&#8203;,gasSensorReading,uv&zwnj;&#8203;SensorReading));"},{"owner":{"account_id":19447629,"reputation":1,"user_id":14224755,"display_name":"Mixalis Pikoulas"},"score":0,"creation_date":1638280948,"post_id":70167084,"comment_id":124042543,"body_markdown":"And i think the problem solved!Thank you very much hardillb!","body":"And i think the problem solved!Thank you very much hardillb!"}],"answers":[{"tags":[],"owner":{"account_id":19447629,"reputation":1,"user_id":14224755,"display_name":"Mixalis Pikoulas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639164076,"creation_date":1639139272,"answer_id":70304507,"question_id":70167084,"body_markdown":"**[SOLVED]** \r\n\r\nI made the following changes to my code, and seems it works!\r\n\r\n1. `parseMqttPayload(new String(payload,**topic**));`\r\n2. `private static void parseMqttPayload(String payload,String topic)`\r\n3. `result.updateString(&quot;topic&quot;, topic);`\r\n","title":"UPDATE Project:Connecting Mqtt broker(laptop) with IOT client android devices","body":"<p><strong>[SOLVED]</strong></p>\n<p>I made the following changes to my code, and seems it works!</p>\n<ol>\n<li><code>parseMqttPayload(new String(payload,**topic**));</code></li>\n<li><code>private static void parseMqttPayload(String payload,String topic)</code></li>\n<li><code>result.updateString(&quot;topic&quot;, topic);</code></li>\n</ol>\n"}],"owner":{"account_id":19447629,"reputation":1,"user_id":14224755,"display_name":"Mixalis Pikoulas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639164076,"creation_date":1638264828,"question_id":70167084,"body_markdown":"1.**[SOLVED]** as a newcomer in this field i have fundamental gaps according to the OOP in Java.Threrefore  \r\ni am trying to get the value of **dangerLevel** from the method **calculateDangerLevel**, in order to store it along with other values in a mysql db.\r\nSo far i manage to take the values from the payload: y,x,battery,smoke,gas,temp,uv. And i need to calculate the values of the sensors to evaluate the danger level.\r\nThe problem is , that i cannot take the value from the dangerLevel,instead i get always **null**.\r\n\r\n2.**[SOLVED]** i am trying to take the published topic from the client,so as to store it in String vairable &quot;topicCheck&quot; and then put it line: **result.updateString(2, &quot;topicCheck&quot;);** so as to distinguish the topics from received msg and put it in a mysql db.The problem is:I dont know the way to the value of the published topic and put it in **result.updateString(2,&quot;topicCheck&quot;);**\r\n\r\n3.Thanks in advance!\r\n\r\n```package ua.org.nalabs;\r\n\r\nimport org.eclipse.paho.client.mqttv3.*;\r\nimport org.slf4j.LoggerFactory;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.sql.*;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Objects;\r\nimport java.util.Properties;\r\nimport java.util.UUID;\r\n\r\npublic class SubscriberImpl {\r\n\r\n    private static final org.slf4j.Logger LOGGER = LoggerFactory.getLogger(SubscriberImpl.class.getName());\r\n    private static final double SMOKE_THRESHOLD = 0.14;\r\n    private static final double GAS_THRESHOLD = 9.15;\r\n    private static final double TEMP_THRESHOLD = 50;\r\n    private static final double UV_THRESHOLD = 6;\r\n    public  static String dangerLevel;\r\n    public  static String topicCheck;\r\n    public  static String timeEvent;\r\n\r\n    //calculate dangerlevel\r\n    private static String calculateDangerLevel(double smokeSensorReading, double gasSensorReading, double tempSensorReading, double uvSensorReading) {\r\n        String dangerLevel = &quot;No_Risk&quot;;\r\n        if ( (smokeSensorReading &gt; SMOKE_THRESHOLD &amp;&amp; gasSensorReading &gt; GAS_THRESHOLD) ||\r\n                (smokeSensorReading &lt;= SMOKE_THRESHOLD &amp;&amp; gasSensorReading &gt; GAS_THRESHOLD &amp;&amp;\r\n                        tempSensorReading &lt;= TEMP_THRESHOLD &amp;&amp; uvSensorReading &lt;= UV_THRESHOLD) ||\r\n                (smokeSensorReading &gt; SMOKE_THRESHOLD &amp;&amp; gasSensorReading &gt; GAS_THRESHOLD &amp;&amp;\r\n                        tempSensorReading &gt; TEMP_THRESHOLD &amp;&amp; uvSensorReading &gt; UV_THRESHOLD) )\r\n            dangerLevel = &quot;High_Risk&quot;;\r\n        else if (smokeSensorReading &lt;= SMOKE_THRESHOLD &amp;&amp; gasSensorReading &lt;= GAS_THRESHOLD &amp;&amp;\r\n                tempSensorReading &gt; TEMP_THRESHOLD &amp;&amp; uvSensorReading &gt; UV_THRESHOLD)\r\n            dangerLevel = &quot;Medium_Risk&quot;;\r\n\r\n        return  dangerLevel;\r\n\r\n    }\r\n\r\n    //Parsing data from Payload\r\n    private static void parseMqttPayload(String payload) {\r\n\r\n        String[] payloadTokens = payload.split(&quot;,&quot;);\r\n        // Parse the location\r\n        if (Objects.equals(payloadTokens[0], &quot;null&quot;) || Objects.equals(payloadTokens[1], &quot;null&quot;))\r\n            return;\r\n\r\n        // Parse the gps reading\r\n        double y = Double.valueOf(payloadTokens[0]);\r\n        double x = Double.valueOf(payloadTokens[1]);\r\n\r\n        // Parse the battery reading\r\n        double battery = Double.valueOf(payloadTokens[2]);\r\n\r\n        // Parse the sensor readings\r\n        double smokeSensorReading = -1;\r\n        try { smokeSensorReading = Double.valueOf(payloadTokens[3]); }\r\n        catch (NumberFormatException e) {}\r\n\r\n        double gasSensorReading = -1;\r\n        try { gasSensorReading = Double.valueOf(payloadTokens[4]); }\r\n        catch (NumberFormatException e) {}\r\n\r\n        double tempSensorReading = -1;\r\n        try { tempSensorReading = Double.valueOf(payloadTokens[5]); }\r\n        catch (NumberFormatException e) {}\r\n\r\n        double uvSensorReading = -1;\r\n        try { uvSensorReading = Double.valueOf(payloadTokens[6]); }\r\n        catch (NumberFormatException e) {}\r\n\r\n        LOGGER.warn(&quot;y: {}&quot;, y);\r\n        LOGGER.warn(&quot;x: {}&quot;, x);\r\n        LOGGER.warn(&quot;battery: {}&quot;, battery);\r\n        LOGGER.warn(&quot;smoke: {}&quot;, smokeSensorReading);\r\n        LOGGER.warn(&quot;gas: {}&quot;, gasSensorReading);\r\n        LOGGER.warn(&quot;temp: {}&quot;, tempSensorReading);\r\n        LOGGER.warn(&quot;uv: {}&quot;, uvSensorReading);\r\n        LOGGER.warn(&quot;danger: {}&quot;,calculateDangerLevel(smokeSensorReading,gasSensorReading,tempSensorReading,uvSensorReading));\r\n\r\n        //connect,insert,update data in sql via ResultSet\r\n\r\n        try (Connection conn = DriverManager.getConnection(\r\n                &quot;jdbc:mysql:// localhost:3306/mqttdemo?useSSL=false&amp;serverTimezone=UTC&amp;useLegacyDatetimeCode=false&quot;,\r\n                &quot;xxxx&quot;,&quot;xxxx&quot;))\r\n        {\r\n\r\n        // SECOND_WAY:insert via ResultSet\r\n\r\n            Statement stmt2 = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\n            ResultSet result = stmt2.executeQuery(&quot;SELECT * FROM sensorsdata&quot;);\r\n            result.moveToInsertRow();\r\n            result.updateInt(&quot;id&quot;, 0);\r\n            result.updateString(2, &quot;topicCheck&quot;);\r\n            result.updateDouble(&quot;cordY&quot;, y);\r\n            result.updateDouble(&quot;cordX&quot;, x);\r\n            result.updateDouble(&quot;battery&quot;, battery);\r\n            result.updateDouble(&quot;sensor1&quot;, smokeSensorReading);\r\n            result.updateDouble(&quot;sensor2&quot;, gasSensorReading);\r\n            result.updateDouble(&quot;sensor3&quot;, tempSensorReading);\r\n            result.updateDouble(&quot;sensor4&quot;, uvSensorReading);\r\n            result.updateString(10, calculateDangerLevel(smokeSensorReading,gasSensorReading,tempSensorReading,uvSensorReading));\r\n            result.updateString(11,timeEvent);\r\n            result.insertRow();\r\n            result.moveToInsertRow();\r\n            //result.beforeFirst();\r\n            result.last();\r\n            System.out.println(&quot;id = &quot; + result.getInt(&quot;id&quot;));\r\n            result.close();\r\n            stmt2.close();\r\n        }\r\n        catch (SQLException e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        InputStream resourcesInputStream = PublisherImpl.class.getClassLoader().getResourceAsStream(&quot;application.properties&quot;);\r\n        Properties properties = new Properties();\r\n        try {\r\n            properties.load(resourcesInputStream);\r\n        } catch (IOException e) {\r\n            LOGGER.warn(&quot;Cannot read property &quot;, e);\r\n        }\r\n\r\n        String topicProperty = properties.getProperty(&quot;topic&quot;);\r\n        String subscriberId = UUID.randomUUID().toString();\r\n        MqttClient subscriber = null;\r\n        try {\r\n            subscriber = new MqttClient(properties.getProperty(&quot;mqttbroker_url&quot;),subscriberId);\r\n        } catch (MqttException e) {\r\n            LOGGER.warn(e.getMessage() + &quot; Code: &quot; + e.getReasonCode());\r\n        }\r\n\r\n        //connection mqtt\r\n        MqttConnectOptions options = new MqttConnectOptions();\r\n        options.setAutomaticReconnect(true);\r\n        options.setCleanSession(true);\r\n        options.setConnectionTimeout(10);\r\n\r\n        while (true) {\r\n            try {\r\n                Objects.requireNonNull(subscriber).connect(options);\r\n\r\n                try {\r\n\r\n                    subscriber.subscribe(topicProperty, (topic, msg) -&gt; {\r\n                        byte[] payload = msg.getPayload();\r\n                        LOGGER.debug(&quot;Message received: topic={}, payload={}&quot;, topic, new String(payload));\r\n                        parseMqttPayload(new String(payload));\r\n\r\n                        //Calculate time of the event\r\n                        LocalDateTime localDate = LocalDateTime.now();\r\n                        //System.out.println(localDate);\r\n                        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yy h:mm:ss&quot;);\r\n                        // System.out.println(dtf.format(localDate));\r\n                        timeEvent =dtf.format(localDate);\r\n\r\n                        //Distinguish topics\r\n\r\n\r\n                    });\r\n                    subscriber.getTopic(&quot;topic&quot;);\r\n\r\n                    while (true);\r\n                } catch (MqttException e) {\r\n                    LOGGER.warn(&quot;Cannot subscribe on {}. Code={}.{}&quot;, topicProperty, e.getReasonCode(), e.getMessage());\r\n                }\r\n            } catch (MqttException e) {\r\n                LOGGER.warn(&quot;Cannot connect to MQTT Broker&quot;);\r\n            }\r\n\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {}\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"UPDATE Project:Connecting Mqtt broker(laptop) with IOT client android devices","body":"<p>1.<strong>[SOLVED]</strong> as a newcomer in this field i have fundamental gaps according to the OOP in Java.Threrefore<br />\ni am trying to get the value of <strong>dangerLevel</strong> from the method <strong>calculateDangerLevel</strong>, in order to store it along with other values in a mysql db.\nSo far i manage to take the values from the payload: y,x,battery,smoke,gas,temp,uv. And i need to calculate the values of the sensors to evaluate the danger level.\nThe problem is , that i cannot take the value from the dangerLevel,instead i get always <strong>null</strong>.</p>\n<p>2.<strong>[SOLVED]</strong> i am trying to take the published topic from the client,so as to store it in String vairable &quot;topicCheck&quot; and then put it line: <strong>result.updateString(2, &quot;topicCheck&quot;);</strong> so as to distinguish the topics from received msg and put it in a mysql db.The problem is:I dont know the way to the value of the published topic and put it in <strong>result.updateString(2,&quot;topicCheck&quot;);</strong></p>\n<p>3.Thanks in advance!</p>\n<pre><code>\nimport org.eclipse.paho.client.mqttv3.*;\nimport org.slf4j.LoggerFactory;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.sql.*;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Objects;\nimport java.util.Properties;\nimport java.util.UUID;\n\npublic class SubscriberImpl {\n\n    private static final org.slf4j.Logger LOGGER = LoggerFactory.getLogger(SubscriberImpl.class.getName());\n    private static final double SMOKE_THRESHOLD = 0.14;\n    private static final double GAS_THRESHOLD = 9.15;\n    private static final double TEMP_THRESHOLD = 50;\n    private static final double UV_THRESHOLD = 6;\n    public  static String dangerLevel;\n    public  static String topicCheck;\n    public  static String timeEvent;\n\n    //calculate dangerlevel\n    private static String calculateDangerLevel(double smokeSensorReading, double gasSensorReading, double tempSensorReading, double uvSensorReading) {\n        String dangerLevel = &quot;No_Risk&quot;;\n        if ( (smokeSensorReading &gt; SMOKE_THRESHOLD &amp;&amp; gasSensorReading &gt; GAS_THRESHOLD) ||\n                (smokeSensorReading &lt;= SMOKE_THRESHOLD &amp;&amp; gasSensorReading &gt; GAS_THRESHOLD &amp;&amp;\n                        tempSensorReading &lt;= TEMP_THRESHOLD &amp;&amp; uvSensorReading &lt;= UV_THRESHOLD) ||\n                (smokeSensorReading &gt; SMOKE_THRESHOLD &amp;&amp; gasSensorReading &gt; GAS_THRESHOLD &amp;&amp;\n                        tempSensorReading &gt; TEMP_THRESHOLD &amp;&amp; uvSensorReading &gt; UV_THRESHOLD) )\n            dangerLevel = &quot;High_Risk&quot;;\n        else if (smokeSensorReading &lt;= SMOKE_THRESHOLD &amp;&amp; gasSensorReading &lt;= GAS_THRESHOLD &amp;&amp;\n                tempSensorReading &gt; TEMP_THRESHOLD &amp;&amp; uvSensorReading &gt; UV_THRESHOLD)\n            dangerLevel = &quot;Medium_Risk&quot;;\n\n        return  dangerLevel;\n\n    }\n\n    //Parsing data from Payload\n    private static void parseMqttPayload(String payload) {\n\n        String[] payloadTokens = payload.split(&quot;,&quot;);\n        // Parse the location\n        if (Objects.equals(payloadTokens[0], &quot;null&quot;) || Objects.equals(payloadTokens[1], &quot;null&quot;))\n            return;\n\n        // Parse the gps reading\n        double y = Double.valueOf(payloadTokens[0]);\n        double x = Double.valueOf(payloadTokens[1]);\n\n        // Parse the battery reading\n        double battery = Double.valueOf(payloadTokens[2]);\n\n        // Parse the sensor readings\n        double smokeSensorReading = -1;\n        try { smokeSensorReading = Double.valueOf(payloadTokens[3]); }\n        catch (NumberFormatException e) {}\n\n        double gasSensorReading = -1;\n        try { gasSensorReading = Double.valueOf(payloadTokens[4]); }\n        catch (NumberFormatException e) {}\n\n        double tempSensorReading = -1;\n        try { tempSensorReading = Double.valueOf(payloadTokens[5]); }\n        catch (NumberFormatException e) {}\n\n        double uvSensorReading = -1;\n        try { uvSensorReading = Double.valueOf(payloadTokens[6]); }\n        catch (NumberFormatException e) {}\n\n        LOGGER.warn(&quot;y: {}&quot;, y);\n        LOGGER.warn(&quot;x: {}&quot;, x);\n        LOGGER.warn(&quot;battery: {}&quot;, battery);\n        LOGGER.warn(&quot;smoke: {}&quot;, smokeSensorReading);\n        LOGGER.warn(&quot;gas: {}&quot;, gasSensorReading);\n        LOGGER.warn(&quot;temp: {}&quot;, tempSensorReading);\n        LOGGER.warn(&quot;uv: {}&quot;, uvSensorReading);\n        LOGGER.warn(&quot;danger: {}&quot;,calculateDangerLevel(smokeSensorReading,gasSensorReading,tempSensorReading,uvSensorReading));\n\n        //connect,insert,update data in sql via ResultSet\n\n        try (Connection conn = DriverManager.getConnection(\n                &quot;jdbc:mysql:// localhost:3306/mqttdemo?useSSL=false&amp;serverTimezone=UTC&amp;useLegacyDatetimeCode=false&quot;,\n                &quot;xxxx&quot;,&quot;xxxx&quot;))\n        {\n\n        // SECOND_WAY:insert via ResultSet\n\n            Statement stmt2 = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\n            ResultSet result = stmt2.executeQuery(&quot;SELECT * FROM sensorsdata&quot;);\n            result.moveToInsertRow();\n            result.updateInt(&quot;id&quot;, 0);\n            result.updateString(2, &quot;topicCheck&quot;);\n            result.updateDouble(&quot;cordY&quot;, y);\n            result.updateDouble(&quot;cordX&quot;, x);\n            result.updateDouble(&quot;battery&quot;, battery);\n            result.updateDouble(&quot;sensor1&quot;, smokeSensorReading);\n            result.updateDouble(&quot;sensor2&quot;, gasSensorReading);\n            result.updateDouble(&quot;sensor3&quot;, tempSensorReading);\n            result.updateDouble(&quot;sensor4&quot;, uvSensorReading);\n            result.updateString(10, calculateDangerLevel(smokeSensorReading,gasSensorReading,tempSensorReading,uvSensorReading));\n            result.updateString(11,timeEvent);\n            result.insertRow();\n            result.moveToInsertRow();\n            //result.beforeFirst();\n            result.last();\n            System.out.println(&quot;id = &quot; + result.getInt(&quot;id&quot;));\n            result.close();\n            stmt2.close();\n        }\n        catch (SQLException e) {\n            System.out.println(e);\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        InputStream resourcesInputStream = PublisherImpl.class.getClassLoader().getResourceAsStream(&quot;application.properties&quot;);\n        Properties properties = new Properties();\n        try {\n            properties.load(resourcesInputStream);\n        } catch (IOException e) {\n            LOGGER.warn(&quot;Cannot read property &quot;, e);\n        }\n\n        String topicProperty = properties.getProperty(&quot;topic&quot;);\n        String subscriberId = UUID.randomUUID().toString();\n        MqttClient subscriber = null;\n        try {\n            subscriber = new MqttClient(properties.getProperty(&quot;mqttbroker_url&quot;),subscriberId);\n        } catch (MqttException e) {\n            LOGGER.warn(e.getMessage() + &quot; Code: &quot; + e.getReasonCode());\n        }\n\n        //connection mqtt\n        MqttConnectOptions options = new MqttConnectOptions();\n        options.setAutomaticReconnect(true);\n        options.setCleanSession(true);\n        options.setConnectionTimeout(10);\n\n        while (true) {\n            try {\n                Objects.requireNonNull(subscriber).connect(options);\n\n                try {\n\n                    subscriber.subscribe(topicProperty, (topic, msg) -&gt; {\n                        byte[] payload = msg.getPayload();\n                        LOGGER.debug(&quot;Message received: topic={}, payload={}&quot;, topic, new String(payload));\n                        parseMqttPayload(new String(payload));\n\n                        //Calculate time of the event\n                        LocalDateTime localDate = LocalDateTime.now();\n                        //System.out.println(localDate);\n                        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yy h:mm:ss&quot;);\n                        // System.out.println(dtf.format(localDate));\n                        timeEvent =dtf.format(localDate);\n\n                        //Distinguish topics\n\n\n                    });\n                    subscriber.getTopic(&quot;topic&quot;);\n\n                    while (true);\n                } catch (MqttException e) {\n                    LOGGER.warn(&quot;Cannot subscribe on {}. Code={}.{}&quot;, topicProperty, e.getReasonCode(), e.getMessage());\n                }\n            } catch (MqttException e) {\n                LOGGER.warn(&quot;Cannot connect to MQTT Broker&quot;);\n            }\n\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {}\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","parsing","html-parsing","jtidy","htmlcleaner"],"comments":[{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":0,"creation_date":1345716342,"post_id":12089191,"comment_id":16152987,"body_markdown":"As long as the html files are well formed, you can use any DOM parsing technique. The advantage with these parsers is that they handle ill-formed HTML also, but I guess they would have options to not tamper the content atleast.","body":"As long as the html files are well formed, you can use any DOM parsing technique. The advantage with these parsers is that they handle ill-formed HTML also, but I guess they would have options to not tamper the content atleast."},{"owner":{"account_id":1721735,"reputation":41,"user_id":1577387,"display_name":"PTS Admin"},"score":0,"creation_date":1345716935,"post_id":12089191,"comment_id":16153246,"body_markdown":"But these parser are changing the content and replacing special characters with weird characters. For ex. for this text &quot;Abc’d&quot; the output is coming to be &quot;Abc&#226;??d&quot;. I want to keep the &quot;&#39;&quot; as it is if possible or atleast convert it to it&#39;s proper Ascii code.","body":"But these parser are changing the content and replacing special characters with weird characters. For ex. for this text &quot;Abc’d&quot; the output is coming to be &quot;Abc&#226;??d&quot;. I want to keep the &quot;&#39;&quot; as it is if possible or atleast convert it to it&#39;s proper Ascii code."},{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":0,"creation_date":1345717004,"post_id":12089191,"comment_id":16153274,"body_markdown":"That seems to be a problem with text encoding. You might want to stick to one parser that you were comfortable with and just address the encoding issue.","body":"That seems to be a problem with text encoding. You might want to stick to one parser that you were comfortable with and just address the encoding issue."},{"owner":{"account_id":1721735,"reputation":41,"user_id":1577387,"display_name":"PTS Admin"},"score":0,"creation_date":1345738045,"post_id":12089191,"comment_id":16164024,"body_markdown":"I found a solution for now. I am parsing the half the content using Jtidy (xpath) and half the content using Jsoup (css selectors). This may not be the most efficient as for every page reading and parsing the file twice and code is bloated but it will do for now. Still keen to hear if there&#39;s any other better solution.","body":"I found a solution for now. I am parsing the half the content using Jtidy (xpath) and half the content using Jsoup (css selectors). This may not be the most efficient as for every page reading and parsing the file twice and code is bloated but it will do for now. Still keen to hear if there&#39;s any other better solution."}],"owner":{"account_id":1721735,"reputation":41,"user_id":1577387,"display_name":"PTS Admin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639164006,"creation_date":1345715998,"question_id":12089191,"body_markdown":"I have several hundred old html files on my machine which I am trying to parse and extract some data. I have tried different Java parsers for it including Jsoup, Tagsoup, HTMLcleaner, JTidy etc. Due to the way html code is in files I can only use parsers which support XPATH, tried Jsoup but couldn&#39;t find the equivalent css selector.\r\n\r\nAnyways, my problem is that whatever parser I try, cleans up the actual content and convert things like &#39; (apostrophe) to weird characters.\r\n\r\nIs it possible to parse the content using any Java parser without tidying and replacing the special chars?","title":"HTML parser without tidying the source","body":"<p>I have several hundred old html files on my machine which I am trying to parse and extract some data. I have tried different Java parsers for it including Jsoup, Tagsoup, HTMLcleaner, JTidy etc. Due to the way html code is in files I can only use parsers which support XPATH, tried Jsoup but couldn't find the equivalent css selector.</p>\n<p>Anyways, my problem is that whatever parser I try, cleans up the actual content and convert things like ' (apostrophe) to weird characters.</p>\n<p>Is it possible to parse the content using any Java parser without tidying and replacing the special chars?</p>\n"},{"tags":["java","html","mysql","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639163404,"creation_date":1639163404,"answer_id":70309347,"question_id":70308152,"body_markdown":"Group your list of persons by id. Let&#39;s say you have a list like this:\r\n\r\n    List&lt;Person&gt; persons = Arrays.asList(\r\n        new Person(1, &quot;A&quot;, &quot;ford1&quot;),\r\n        new Person(2, &quot;A&quot;, &quot;ford2&quot;),\r\n        new Person(1, &quot;B&quot;, &quot;toyota1&quot;),\r\n        new Person(2, &quot;B&quot;, &quot;toyota2&quot;)\r\n    )\r\n\r\nGroup it:\r\n\r\n    Map&lt;Integer, List&lt;Person&gt;&gt; groupedByIdPersons = persons.stream().collect(Collectors.groupingBy(Person::getId));\r\n\r\nUse it in Thymeleaf:\r\n\r\n1. Iterate over whole map in `th:block` to create header. Repeats as many times as there are collections grouped by the id.\r\n\r\n2. Iterate over whole map to extract both key/value, then iterate only over values in `th:block`\r\n```\r\n&lt;thead&gt;\r\n    &lt;tr&gt;\r\n        &lt;th:block th:each=&quot;elem : ${groupedByIdPersons}&quot;&gt;\r\n            &lt;th&gt;ID&lt;/th&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n            &lt;th&gt;Car&lt;/th&gt;\r\n        &lt;/th:block&gt;\r\n    &lt;/tr&gt;\r\n&lt;/thead&gt;\r\n&lt;tbody&gt;\r\n    &lt;tr th:each=&quot;elem : ${groupedByIdPersons}&quot;&gt;\r\n        &lt;th:block th:each=&quot;person : ${elem.value}&quot;&gt;\r\n            &lt;td&gt;${person.id}&lt;/td&gt;\r\n            &lt;td&gt;${person.name}&lt;/td&gt;\r\n            &lt;td&gt;${person.car}&lt;/td&gt;\r\n        &lt;/th:block&gt;\r\n    &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n```","title":"How do I display data into two column with Thymeleaf and HTML?","body":"<p>Group your list of persons by id. Let's say you have a list like this:</p>\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(\n    new Person(1, &quot;A&quot;, &quot;ford1&quot;),\n    new Person(2, &quot;A&quot;, &quot;ford2&quot;),\n    new Person(1, &quot;B&quot;, &quot;toyota1&quot;),\n    new Person(2, &quot;B&quot;, &quot;toyota2&quot;)\n)\n</code></pre>\n<p>Group it:</p>\n<pre><code>Map&lt;Integer, List&lt;Person&gt;&gt; groupedByIdPersons = persons.stream().collect(Collectors.groupingBy(Person::getId));\n</code></pre>\n<p>Use it in Thymeleaf:</p>\n<ol>\n<li><p>Iterate over whole map in <code>th:block</code> to create header. Repeats as many times as there are collections grouped by the id.</p>\n</li>\n<li><p>Iterate over whole map to extract both key/value, then iterate only over values in <code>th:block</code></p>\n</li>\n</ol>\n<pre><code>&lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th:block th:each=&quot;elem : ${groupedByIdPersons}&quot;&gt;\n            &lt;th&gt;ID&lt;/th&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Car&lt;/th&gt;\n        &lt;/th:block&gt;\n    &lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n    &lt;tr th:each=&quot;elem : ${groupedByIdPersons}&quot;&gt;\n        &lt;th:block th:each=&quot;person : ${elem.value}&quot;&gt;\n            &lt;td&gt;${person.id}&lt;/td&gt;\n            &lt;td&gt;${person.name}&lt;/td&gt;\n            &lt;td&gt;${person.car}&lt;/td&gt;\n        &lt;/th:block&gt;\n    &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n"}],"owner":{"account_id":22495918,"reputation":35,"user_id":16692902,"display_name":"Kevion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70309347,"answer_count":1,"score":1,"last_activity_date":1639163404,"creation_date":1639156373,"question_id":70308152,"body_markdown":"I have been searching left and right but still can&#39;t find a good solution to this. Also I&#39;m pretty new to programing so please excuse the way I describe thing :). I&#39;m using Spring, MySQL, Java, Thymeleaf.\r\n\r\nBasically, I have a list of object passed from the controller: \r\n\r\n[person [code=1, name=A, car=ford1],person [id=2, name=A, car=ford2], person [id=1, name=B, car=toyota1], person [id=2, name=B, car=toyota2] ] \r\n\r\n\r\nI want to display this data using Thymeleaf in either an HTML table or bootstrap grid system.\r\n\r\nThis is what I got:\r\n\r\n    &lt;div&gt;\r\n        &lt;table\r\n          class=&quot;\r\n            table table-bordered table-striped table-hover table-responsive-xl\r\n          &quot;\r\n        &gt;\r\n          &lt;thead class=&quot;thead-dark&quot;&gt;\r\n            &lt;tr&gt;\r\n              &lt;th&gt;ID&lt;/th&gt;\r\n              &lt;th&gt;Name&lt;/th&gt;\r\n              &lt;th&gt;Car&lt;/th&gt;\r\n               &lt;th&gt;Name&lt;/th&gt;\r\n              &lt;th&gt;Car&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n          &lt;/thead&gt;\r\n          &lt;tbody&gt;\r\n            &lt;tr th:each=&quot;person :${listOfPerson}&quot;&gt;\r\n              &lt;td&gt;\r\n                [[${person.id}]]\r\n              &lt;/td&gt;\r\n              &lt;td&gt;\r\n                [[${person.name}]]\r\n              &lt;/td&gt;\r\n              &lt;td&gt;\r\n                [[${person.car}]]\r\n              &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n          &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n      &lt;/div&gt;\r\n\r\nso this display the data like this:\r\n\r\n| ID | Name | Car | Name | Car |\r\n|:---- |:------:| :-----:|:-----:|-----:|\r\n| 1 | A    | ford1 |\r\n| 2 | A    | ford2 |\r\n| 1  | B    | toyota1 |\r\n| 2  | B    | toyota2 |\r\n\r\nbut I want it to display like this:\r\n\r\n| ID | Name | Car | Name | Car |\r\n|:---- |:--------:| :--------:|:--------:|--------:|\r\n| 1 | A    | ford1 | B   |toyota1 |\r\n| 2 | A    | ford2 | B   |toyota2 |\r\n\r\nI think I probably need to somehow split this data into id 1 and id 2. Here is two ways I could think of doing this:\r\n- Using Thymeleaf th:if=&quot;${person.id.equals(1)} to get the data for id 1 and then repeat for 2, I just don&#39;t know how to put this into the table.\r\n- format the data using a query, I&#39;m not sure how to do this without turning the result into one single column with GROUP_CONCAT.\r\n\r\nMaybe I need to change the SQL table, please give me some suggestion.\r\n\r\nEdit: So I think I found the answer to this [MySQL pivot][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26329159/convert-row-data-to-column-in-mysql","title":"How do I display data into two column with Thymeleaf and HTML?","body":"<p>I have been searching left and right but still can't find a good solution to this. Also I'm pretty new to programing so please excuse the way I describe thing :). I'm using Spring, MySQL, Java, Thymeleaf.</p>\n<p>Basically, I have a list of object passed from the controller:</p>\n<p>[person [code=1, name=A, car=ford1],person [id=2, name=A, car=ford2], person [id=1, name=B, car=toyota1], person [id=2, name=B, car=toyota2] ]</p>\n<p>I want to display this data using Thymeleaf in either an HTML table or bootstrap grid system.</p>\n<p>This is what I got:</p>\n<pre><code>&lt;div&gt;\n    &lt;table\n      class=&quot;\n        table table-bordered table-striped table-hover table-responsive-xl\n      &quot;\n    &gt;\n      &lt;thead class=&quot;thead-dark&quot;&gt;\n        &lt;tr&gt;\n          &lt;th&gt;ID&lt;/th&gt;\n          &lt;th&gt;Name&lt;/th&gt;\n          &lt;th&gt;Car&lt;/th&gt;\n           &lt;th&gt;Name&lt;/th&gt;\n          &lt;th&gt;Car&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        &lt;tr th:each=&quot;person :${listOfPerson}&quot;&gt;\n          &lt;td&gt;\n            [[${person.id}]]\n          &lt;/td&gt;\n          &lt;td&gt;\n            [[${person.name}]]\n          &lt;/td&gt;\n          &lt;td&gt;\n            [[${person.car}]]\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  &lt;/div&gt;\n</code></pre>\n<p>so this display the data like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">ID</th>\n<th style=\"text-align: center;\">Name</th>\n<th style=\"text-align: center;\">Car</th>\n<th style=\"text-align: center;\">Name</th>\n<th style=\"text-align: right;\">Car</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">ford1</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">ford2</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\">toyota1</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\">toyota2</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>but I want it to display like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">ID</th>\n<th style=\"text-align: center;\">Name</th>\n<th style=\"text-align: center;\">Car</th>\n<th style=\"text-align: center;\">Name</th>\n<th style=\"text-align: right;\">Car</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">ford1</td>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: right;\">toyota1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">ford2</td>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: right;\">toyota2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I think I probably need to somehow split this data into id 1 and id 2. Here is two ways I could think of doing this:</p>\n<ul>\n<li>Using Thymeleaf th:if=&quot;${person.id.equals(1)} to get the data for id 1 and then repeat for 2, I just don't know how to put this into the table.</li>\n<li>format the data using a query, I'm not sure how to do this without turning the result into one single column with GROUP_CONCAT.</li>\n</ul>\n<p>Maybe I need to change the SQL table, please give me some suggestion.</p>\n<p>Edit: So I think I found the answer to this <a href=\"https://stackoverflow.com/questions/26329159/convert-row-data-to-column-in-mysql\">MySQL pivot</a></p>\n"},{"tags":["java","arrays","algorithm","optimization","perfect-square"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1636160385,"post_id":69860657,"comment_id":123490711,"body_markdown":"If your code works then this question belongs on [codereview.se]","body":"If your code works then this question belongs on <a href=\"https://codereview.stackexchange.com\">Code Review</a>"},{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":2,"creation_date":1636161866,"post_id":69860657,"comment_id":123490868,"body_markdown":"Tip 1: `pow(x, 2)` is slow. Replace with simple `x*x`","body":"Tip 1: <code>pow(x, 2)</code> is slow. Replace with simple <code>x*x</code>"},{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":1,"creation_date":1636162054,"post_id":69860657,"comment_id":123490884,"body_markdown":"Tip 2: `sqrt` is slow. If you are using very big `startingSquareYards` then perhaps fill a `ArrayList&lt;int&gt;` with squares and find the closest (but less than) to `remainingSquareYards` (traverse it backwards). Cache the last index in the list, so as to start there in the next iteration.","body":"Tip 2: <code>sqrt</code> is slow. If you are using very big <code>startingSquareYards</code> then perhaps fill a <code>ArrayList&lt;int&gt;</code> with squares and find the closest (but less than) to <code>remainingSquareYards</code> (traverse it backwards). Cache the last index in the list, so as to start there in the next iteration."},{"owner":{"account_id":22194972,"reputation":9,"user_id":16436500,"display_name":"Will Berner"},"score":0,"creation_date":1636164715,"post_id":69860657,"comment_id":123491165,"body_markdown":"@JimGarrison Sorry - this is basically my first ever post. Is there a way to move it now or is your tip for next time?","body":"@JimGarrison Sorry - this is basically my first ever post. Is there a way to move it now or is your tip for next time?"},{"owner":{"account_id":22194972,"reputation":9,"user_id":16436500,"display_name":"Will Berner"},"score":0,"creation_date":1636164758,"post_id":69860657,"comment_id":123491173,"body_markdown":"@Ripi2 Thanks for the tips - both are good ideas that I&#39;ll try out.","body":"@Ripi2 Thanks for the tips - both are good ideas that I&#39;ll try out."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1636169182,"post_id":69860657,"comment_id":123491592,"body_markdown":"Sqrt is not that slow. You’re not going to get much traction looking for a faster way.","body":"Sqrt is not that slow. You’re not going to get much traction looking for a faster way."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1636169548,"post_id":69860657,"comment_id":123491618,"body_markdown":"Your problem is implementing back tracking. Consider 32. That’s 16 and 16, but your algorithm will find 25,4,1,1,1. To find *any* solution fast, just return all 1’s. To find the minimum cuts, you need to [back track](https://en.m.wikipedia.org/wiki/Backtracking). See also [Dijkstra](https://en.m.wikipedia.org/wiki/Dijkstra%27s_algorithm)","body":"Your problem is implementing back tracking. Consider 32. That’s 16 and 16, but your algorithm will find 25,4,1,1,1. To find <i>any</i> solution fast, just return all 1’s. To find the minimum cuts, you need to <a href=\"https://en.m.wikipedia.org/wiki/Backtracking\" rel=\"nofollow noreferrer\">back track</a>. See also <a href=\"https://en.m.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra</a>"},{"owner":{"account_id":12465244,"reputation":142,"user_id":9075457,"display_name":"adarsh"},"score":0,"creation_date":1636182781,"post_id":69860657,"comment_id":123492928,"body_markdown":"Your soln won&#39;t work for n*x^2 elements. As suggested by @Bohemian","body":"Your soln won&#39;t work for n*x^2 elements. As suggested by @Bohemian"},{"owner":{"account_id":12465244,"reputation":142,"user_id":9075457,"display_name":"adarsh"},"score":1,"creation_date":1636183207,"post_id":69860657,"comment_id":123492986,"body_markdown":"Consider this 48 - here there are multiple possibilities to form 48 but what should be your ans? [16,16,16] or [25,26,4,1,1,1]or  [36,9,1,1,1] or [36,4,1,1,1,1,1,1,1,1]","body":"Consider this 48 - here there are multiple possibilities to form 48 but what should be your ans? [16,16,16] or [25,26,4,1,1,1]or  [36,9,1,1,1] or [36,4,1,1,1,1,1,1,1,1]"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639163194,"creation_date":1639163194,"answer_id":70309310,"question_id":69860657,"body_markdown":"As stated in the comments, your exact requirements are not clear. The following code will reproduce the examples of your question. Generally, it will prefer to include the largest square rather than to produce the shortest solution.  \r\nE.g. `32` will yield `[25, 4, 1, 1, 1]` rather than `[16, 16]`. This seems to be your intention, as your example `23` is expected to yield `[16, 4, 1, 1, 1]` rather than `[9, 9, 4, 1]`\r\n\r\n```java\r\nprivate static final BitSet SQUARES = new BitSet(1_000_001);\r\nstatic { for(int i = 0; i &lt;= 1_000; i++) SQUARES.set(i * i); }\r\n\r\npublic static int[] solution(int startingSquareYards) {\r\n    IntStream.Builder b = IntStream.builder();\r\n    for(int square; startingSquareYards &gt; 0; startingSquareYards -= square) {\r\n        square = SQUARES.previousSetBit(startingSquareYards);\r\n        b.add(square);\r\n    }\r\n    return b.build().toArray();\r\n}\r\n```\r\nIt’s designed to handle your specified input numbers between 1 and 1,000,000.\r\n\r\nIt simply prepares a `BitSet` telling which integer number is a square, which allows quickly finding the largest square number equal or smaller than a value. It’s a linear search, but a search that can process 64 numbers at a time with a cheap integer operation. This avoids any expensive floating point operation. It also has no boxing to `Integer` objects. ","title":"Fastest function to find largest perfect squares of a single number?","body":"<p>As stated in the comments, your exact requirements are not clear. The following code will reproduce the examples of your question. Generally, it will prefer to include the largest square rather than to produce the shortest solution.<br />\nE.g. <code>32</code> will yield <code>[25, 4, 1, 1, 1]</code> rather than <code>[16, 16]</code>. This seems to be your intention, as your example <code>23</code> is expected to yield <code>[16, 4, 1, 1, 1]</code> rather than <code>[9, 9, 4, 1]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final BitSet SQUARES = new BitSet(1_000_001);\nstatic { for(int i = 0; i &lt;= 1_000; i++) SQUARES.set(i * i); }\n\npublic static int[] solution(int startingSquareYards) {\n    IntStream.Builder b = IntStream.builder();\n    for(int square; startingSquareYards &gt; 0; startingSquareYards -= square) {\n        square = SQUARES.previousSetBit(startingSquareYards);\n        b.add(square);\n    }\n    return b.build().toArray();\n}\n</code></pre>\n<p>It’s designed to handle your specified input numbers between 1 and 1,000,000.</p>\n<p>It simply prepares a <code>BitSet</code> telling which integer number is a square, which allows quickly finding the largest square number equal or smaller than a value. It’s a linear search, but a search that can process 64 numbers at a time with a cheap integer operation. This avoids any expensive floating point operation. It also has no boxing to <code>Integer</code> objects.</p>\n"}],"owner":{"account_id":22194972,"reputation":9,"user_id":16436500,"display_name":"Will Berner"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1639163194,"creation_date":1636159885,"question_id":69860657,"body_markdown":"I&#39;m attempting to write an algorithm that will find the largest perfect squares of a given integer, subtracting their values from the total each time, as fast as possible. It&#39;s somewhat hard to explain, and I apologize for the somewhat ambiguous title, so I&#39;ll give some input/output examples:\r\n\r\n--------\r\n\r\n- **Input**: 23\r\n- **Output**: [16, 4, 1, 1, 1]\r\n- **Explanation**: 25 (5x5) is too large, but 16 (4x4) fits. Add it to the array and subtract 16 from 23 (7). The next largest perfect square that fits is 4 (2x2), so add it to the array and subtract 4 from 7 (3). From here, the largest perfect square is simply 1 (1x1). So add 1 to the array until we&#39;ve gotten to 0.\r\n\r\n--------\r\n\r\n- **Input**: 13\r\n- **Output**: [9, 4]\r\n- **Explanation**: 9 (3x3) is the largest square, so add it to the array and subtract it from 13 (4). 4 is then also a perfect square, so add it and end there.\r\n\r\n--------\r\n\r\nMy solution is as follows (with variable names related to how the question was posed to me):\r\n\r\n```\r\npublic static int[] solution(int startingSquareYards) {\r\n\r\n        ArrayList&lt;Integer&gt; largestSquares = new ArrayList&lt;Integer&gt;();\r\n\r\n        // Cast for use with Math. methods\r\n        double remainingSquareYards = (double) startingSquareYards;\r\n\r\n        while (remainingSquareYards &gt; 0) {\r\n\r\n            double largestSquareRoot = Math.floor(Math.sqrt(remainingSquareYards));\r\n            \r\n            // Edit - used to be: \r\n            // double yardsOfMaterialUsed = Math.pow(largestSquareRoot, 2);\r\n            double yardsOfMaterialUsed = largestSquareRoot * largestSquareRoot;\r\n\r\n            remainingSquareYards -= yardsOfMaterialUsed;\r\n\r\n            largestSquares.add((int) yardsOfMaterialUsed);\r\n\r\n        }\r\n\r\n        int[] solutionArray = largestSquares.stream().mapToInt(i -&gt; i).toArray();\r\n\r\n        return solutionArray;\r\n    }\r\n```\r\n\r\nI&#39;m asking for opinions on my solution and whether I could optimize it in any way for time/space complexity, simplicity (while maintaining easy readability/understanding), etc. It currently works for all of the tests I&#39;ve written but I may be missing edge cases or places to improve it - the input startingSquareYards can be between 1 and 1,000,000. Any constructive feedback is appreciated :)\r\n\r\nThanks for looking!","title":"Fastest function to find largest perfect squares of a single number?","body":"<p>I'm attempting to write an algorithm that will find the largest perfect squares of a given integer, subtracting their values from the total each time, as fast as possible. It's somewhat hard to explain, and I apologize for the somewhat ambiguous title, so I'll give some input/output examples:</p>\n<hr />\n<ul>\n<li><strong>Input</strong>: 23</li>\n<li><strong>Output</strong>: [16, 4, 1, 1, 1]</li>\n<li><strong>Explanation</strong>: 25 (5x5) is too large, but 16 (4x4) fits. Add it to the array and subtract 16 from 23 (7). The next largest perfect square that fits is 4 (2x2), so add it to the array and subtract 4 from 7 (3). From here, the largest perfect square is simply 1 (1x1). So add 1 to the array until we've gotten to 0.</li>\n</ul>\n<hr />\n<ul>\n<li><strong>Input</strong>: 13</li>\n<li><strong>Output</strong>: [9, 4]</li>\n<li><strong>Explanation</strong>: 9 (3x3) is the largest square, so add it to the array and subtract it from 13 (4). 4 is then also a perfect square, so add it and end there.</li>\n</ul>\n<hr />\n<p>My solution is as follows (with variable names related to how the question was posed to me):</p>\n<pre><code>public static int[] solution(int startingSquareYards) {\n\n        ArrayList&lt;Integer&gt; largestSquares = new ArrayList&lt;Integer&gt;();\n\n        // Cast for use with Math. methods\n        double remainingSquareYards = (double) startingSquareYards;\n\n        while (remainingSquareYards &gt; 0) {\n\n            double largestSquareRoot = Math.floor(Math.sqrt(remainingSquareYards));\n            \n            // Edit - used to be: \n            // double yardsOfMaterialUsed = Math.pow(largestSquareRoot, 2);\n            double yardsOfMaterialUsed = largestSquareRoot * largestSquareRoot;\n\n            remainingSquareYards -= yardsOfMaterialUsed;\n\n            largestSquares.add((int) yardsOfMaterialUsed);\n\n        }\n\n        int[] solutionArray = largestSquares.stream().mapToInt(i -&gt; i).toArray();\n\n        return solutionArray;\n    }\n</code></pre>\n<p>I'm asking for opinions on my solution and whether I could optimize it in any way for time/space complexity, simplicity (while maintaining easy readability/understanding), etc. It currently works for all of the tests I've written but I may be missing edge cases or places to improve it - the input startingSquareYards can be between 1 and 1,000,000. Any constructive feedback is appreciated :)</p>\n<p>Thanks for looking!</p>\n"},{"tags":["java","arrays","string","types","mismatch"],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639162844,"creation_date":1639162844,"answer_id":70309252,"question_id":70309221,"body_markdown":"The `reserveSeats` array is of type `String` instead of `Seat`.\r\n\r\nSimple solution is to change\r\n```\r\nString[] reserveSeats = new String[7];\r\n```\r\nto\r\n```\r\nSeat[] reserveSeats = new Seat[7];\r\n```","title":"Type Mismatch: Cannot convert from Seat to String","body":"<p>The <code>reserveSeats</code> array is of type <code>String</code> instead of <code>Seat</code>.</p>\n<p>Simple solution is to change</p>\n<pre><code>String[] reserveSeats = new String[7];\n</code></pre>\n<p>to</p>\n<pre><code>Seat[] reserveSeats = new Seat[7];\n</code></pre>\n"}],"owner":{"account_id":3229915,"reputation":51,"user_id":2725423,"accept_rate":36,"display_name":"MrKalius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1639162844,"creation_date":1639162645,"question_id":70309221,"body_markdown":"I&#39;m trying to explore with simple Arrays and constructors. My goal here is to read a file of text containing 7 sets of data. (As seen from code below, string, string, bool, ect.) but I&#39;m having problems.\r\n\r\nMy expected result is to...\r\nRead the file from the text file, and store that data in an Array (don&#39;t need a ArrayList since we know how much data it contains, 7 sets of data a line, with 17 lines of data), then print the information. I&#39;ve already tried creating the Array, with the Method and constructor, as well as reading the file and assigning the correct datatypes to the Array fields, but I&#39;m getting the error. \r\n\r\n**&quot;Unresolved compilation problem: Type mismatch: cannot convert from Seat to String.&quot;**\r\n\r\nWhen I&#39;ve got my second part of my constructor below, it&#39;s supposed to relate back to the constructor method at the top, whilst looking into the Array so it knows where to store the data, right? but I&#39;m unsure why, unless I&#39;ve made an error. Previously, I&#39;ve built a successful ArrayList, but I&#39;m finding it difficult to read the data, and as explained above, I don&#39;t need an elastic Array because I know the amount of data.\r\n\r\nI&#39;ve also tried changing the return type of initial constructor method (at the top) as well as changing the name(s) of the method(s) to see if it was looking at the correct thing. Arrays are really cool and useful so I&#39;d love to know where I&#39;ve gone wrong. My code is below.\r\n\r\n```import java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.util.Scanner;\r\n\r\npublic class seatReserveSystem2 {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tclass Seat {\r\n\t\t\t\r\n\t\t\tString seatNum;\r\n\t\t\tString seatClass;\r\n\t\t\tboolean isWindow;\r\n\t\t\tboolean isAisle;\r\n\t\t\tboolean isTable;\r\n\t\t\tdouble seatPrice;\r\n\t\t\tString eMail;\r\n\t\t\t// Constructor\r\n\t\t\tSeat(String seatNum, String seatClass, boolean isWindow, boolean isAisle, boolean isTable, double seatPrice, String eMail) {\r\n\t\t\t\tthis.seatNum = seatNum;\r\n\t\t\t\tthis.seatClass = seatClass;\r\n\t\t\t\tthis.isWindow = isWindow;\r\n\t\t\t\tthis.isAisle = isAisle;\r\n\t\t\t\tthis.isTable = isTable;\r\n\t\t\t\tthis.seatPrice = seatPrice;\r\n\t\t\t\tthis.eMail = eMail;\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\t\t\r\n\t\tString[] reserveSeats = new String[7];\r\n\t\t\t\r\n\t\tScanner reader = new Scanner(new FileReader(&quot;seats.txt&quot;));\r\n\t\tScanner scan = new Scanner (System.in);\r\n\t\tint index = 0;\r\n\t\t\r\n\t\twhile(reader.hasNext()) {\r\n\t\t\tString dataSeats = reader.nextLine();\r\n\t\t\tString[] dataSplit = dataSeats.split(&quot; &quot;);\r\n\t\t\tString seatNum = dataSplit[0];\r\n\t\t\tString seatClass = dataSplit[1];\r\n\t\t\tboolean isWindow = Boolean.parseBoolean(dataSplit[2]);\r\n\t\t\tboolean isAisle = Boolean.parseBoolean(dataSplit[3]);\r\n\t\t\tboolean isTable = Boolean.parseBoolean(dataSplit[4]);\r\n\t\t\tdouble seatPrice = Double.parseDouble(dataSplit[5]);\r\n\t\t\tString eMail = dataSplit[6];\r\n\t\t\t\r\n\t\t\treserveSeats[index] = new Seat(seatNum, seatClass, isWindow, isAisle, isTable, seatPrice, eMail);\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}```\r\n","title":"Type Mismatch: Cannot convert from Seat to String","body":"<p>I'm trying to explore with simple Arrays and constructors. My goal here is to read a file of text containing 7 sets of data. (As seen from code below, string, string, bool, ect.) but I'm having problems.</p>\n<p>My expected result is to...\nRead the file from the text file, and store that data in an Array (don't need a ArrayList since we know how much data it contains, 7 sets of data a line, with 17 lines of data), then print the information. I've already tried creating the Array, with the Method and constructor, as well as reading the file and assigning the correct datatypes to the Array fields, but I'm getting the error.</p>\n<p><strong>&quot;Unresolved compilation problem: Type mismatch: cannot convert from Seat to String.&quot;</strong></p>\n<p>When I've got my second part of my constructor below, it's supposed to relate back to the constructor method at the top, whilst looking into the Array so it knows where to store the data, right? but I'm unsure why, unless I've made an error. Previously, I've built a successful ArrayList, but I'm finding it difficult to read the data, and as explained above, I don't need an elastic Array because I know the amount of data.</p>\n<p>I've also tried changing the return type of initial constructor method (at the top) as well as changing the name(s) of the method(s) to see if it was looking at the correct thing. Arrays are really cool and useful so I'd love to know where I've gone wrong. My code is below.</p>\n<pre><code>import java.io.FileReader;\nimport java.util.Scanner;\n\npublic class seatReserveSystem2 {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        // TODO Auto-generated method stub\n        \n        class Seat {\n            \n            String seatNum;\n            String seatClass;\n            boolean isWindow;\n            boolean isAisle;\n            boolean isTable;\n            double seatPrice;\n            String eMail;\n            // Constructor\n            Seat(String seatNum, String seatClass, boolean isWindow, boolean isAisle, boolean isTable, double seatPrice, String eMail) {\n                this.seatNum = seatNum;\n                this.seatClass = seatClass;\n                this.isWindow = isWindow;\n                this.isAisle = isAisle;\n                this.isTable = isTable;\n                this.seatPrice = seatPrice;\n                this.eMail = eMail;\n                \n        }\n\n    }\n        \n        String[] reserveSeats = new String[7];\n            \n        Scanner reader = new Scanner(new FileReader(&quot;seats.txt&quot;));\n        Scanner scan = new Scanner (System.in);\n        int index = 0;\n        \n        while(reader.hasNext()) {\n            String dataSeats = reader.nextLine();\n            String[] dataSplit = dataSeats.split(&quot; &quot;);\n            String seatNum = dataSplit[0];\n            String seatClass = dataSplit[1];\n            boolean isWindow = Boolean.parseBoolean(dataSplit[2]);\n            boolean isAisle = Boolean.parseBoolean(dataSplit[3]);\n            boolean isTable = Boolean.parseBoolean(dataSplit[4]);\n            double seatPrice = Double.parseDouble(dataSplit[5]);\n            String eMail = dataSplit[6];\n            \n            reserveSeats[index] = new Seat(seatNum, seatClass, isWindow, isAisle, isTable, seatPrice, eMail);\n            index++;\n        }\n        \n        \n    }\n\n}```\n</code></pre>\n"},{"tags":["java","recursion","graph","while-loop"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639163448,"post_id":70307629,"comment_id":124287178,"body_markdown":"I uploaded a picture that should help you visualize this.","body":"I uploaded a picture that should help you visualize this."},{"owner":{"account_id":21083992,"reputation":13,"user_id":15497570,"display_name":"Hasbiallah Al Amin"},"score":0,"creation_date":1639187647,"post_id":70307629,"comment_id":124292172,"body_markdown":"thank you so much! it really helps me a lot more in understanding the problem","body":"thank you so much! it really helps me a lot more in understanding the problem"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639194670,"post_id":70307629,"comment_id":124292783,"body_markdown":"How about you show your appreciation by upvoting and tagging my answer as the correct one? ;)","body":"How about you show your appreciation by upvoting and tagging my answer as the correct one? ;)"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639195461,"post_id":70307629,"comment_id":124292858,"body_markdown":"Don&#39;t forget to click the gray checkmark under the voting arrow :)","body":"Don&#39;t forget to click the gray checkmark under the voting arrow :)"},{"owner":{"account_id":21083992,"reputation":13,"user_id":15497570,"display_name":"Hasbiallah Al Amin"},"score":1,"creation_date":1639197762,"post_id":70307629,"comment_id":124293057,"body_markdown":"done, thank you so much!","body":"done, thank you so much!"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639198540,"post_id":70307629,"comment_id":124293134,"body_markdown":"When working with graphs, ALWAYS do the work on paper first. This will help you visualize it.","body":"When working with graphs, ALWAYS do the work on paper first. This will help you visualize it."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639162787,"creation_date":1639154990,"answer_id":70307868,"question_id":70307629,"body_markdown":"A recursive function must contain a base case to return a value rather than the result of the recursive call. In this case:\r\n\r\n    if(start &gt; size || end &gt; size || start &lt; 0 || end &lt; 0 || node == null)\r\n    {\r\n        return;\r\n    }\r\n        \r\n    if(visit[start]==true)\r\n    {\r\n        return;\r\n    }\r\n\r\nare those base cases that will break the recursive call chain. Remember, the method `count_path` returns `void`. If the method needed to return some value, you would&#39;ve seen those `if` blocks returning some kind of default value. For instance, when you see examples of recursive Fibonacci, the base cases for `Fib(0)` and `Fib(1)` return the input value. Otherwise, it returns the result of the (cumulative) recursive call.\r\n\r\nWhat are these base cases?\r\n--------------------------\r\n\r\nThe method calculate the number of paths to some destination node from the current node. Therefore, if the node was already visited (and thus the paths should&#39;ve been calculated already) simply return without recalculating. Also, if you have just one node in your graph, or no nodes, then there are no paths (so return without calculation).\r\n\r\nWhy is the answer 3 paths?\r\n--------------------------\r\n\r\nThe picture below is based on the calls made to add edges. Each entry is a unidirectional path from a starting node to an ending node. So, starting at Node 0, to get to Node 6, there are three paths and they are outlined in the attached picture.\r\n\r\n![enter image description here](https://i.stack.imgur.com/GPWg4.jpg)","title":"How does a recursive function inside a while loop works in Java?","body":"<p>A recursive function must contain a base case to return a value rather than the result of the recursive call. In this case:</p>\n<pre><code>if(start &gt; size || end &gt; size || start &lt; 0 || end &lt; 0 || node == null)\n{\n    return;\n}\n    \nif(visit[start]==true)\n{\n    return;\n}\n</code></pre>\n<p>are those base cases that will break the recursive call chain. Remember, the method <code>count_path</code> returns <code>void</code>. If the method needed to return some value, you would've seen those <code>if</code> blocks returning some kind of default value. For instance, when you see examples of recursive Fibonacci, the base cases for <code>Fib(0)</code> and <code>Fib(1)</code> return the input value. Otherwise, it returns the result of the (cumulative) recursive call.</p>\n<h2>What are these base cases?</h2>\n<p>The method calculate the number of paths to some destination node from the current node. Therefore, if the node was already visited (and thus the paths should've been calculated already) simply return without recalculating. Also, if you have just one node in your graph, or no nodes, then there are no paths (so return without calculation).</p>\n<h2>Why is the answer 3 paths?</h2>\n<p>The picture below is based on the calls made to add edges. Each entry is a unidirectional path from a starting node to an ending node. So, starting at Node 0, to get to Node 6, there are three paths and they are outlined in the attached picture.</p>\n<p><img src=\"https://i.stack.imgur.com/GPWg4.jpg\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":21083992,"reputation":13,"user_id":15497570,"display_name":"Hasbiallah Al Amin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70307868,"answer_count":1,"score":1,"last_activity_date":1639162787,"creation_date":1639153868,"question_id":70307629,"body_markdown":"I found this code on google but i couldn&#39;t find how does the recursive part actually work. The code is about finding the possible path between 2 vertices on a directed graph. Here is the method to print the total possible path : \r\n\r\n    public void  total_path(int source, int destination)\r\n    {\r\n      result = 0;\r\n      boolean[] visit = new boolean[size];\r\n      for(int i = 0; i &lt; size; i++)\r\n      {\r\n        visit[i] = false;\r\n      }\r\n      count_path(source, destination, visit);\r\n      System.out.println(result);\r\n    }\r\n\r\nHere is the recursive method to count all possible paths :\r\n   \r\n\r\n   \r\n\r\n      public void  count_path(int start, int end, boolean[] visit)\r\n         {\r\n                  if(start &gt; size || end &gt; size || start &lt; 0 || end &lt; 0 || node == null)\r\n                  {\r\n                    return ;\r\n                  }\r\n            \r\n                  if(visit[start]==true)\r\n                  {\r\n                    return;\r\n                  }\r\n            \r\n                  if(start == end)\r\n                  {\r\n                     result = result + 1;\r\n                  }\r\n                  \r\n                  visit[start] = true;\r\n                  AjlistNode temp = node[start].next;\r\n            \r\n                  while(temp!=null)\r\n                  {\r\n                    count_path(temp.id, end, visit); \r\n                    temp = temp.next;\r\n                  }\r\n                  \r\n                  visit[start]=false;\r\n         }\r\n\r\nHere is the graph which i created :\r\n\r\n    g.addEdge(0, 1); \r\n    g.addEdge(1, 2);\r\n    g.addEdge(1, 3);\r\n    g.addEdge(2, 5);\r\n    g.addEdge(3, 4);\r\n    g.addEdge(4, 2);\r\n    g.addEdge(4, 5);\r\n    g.addEdge(5, 6);\r\nI already compiled and run the program which start point is 0 and end point is 6. The result is 3, already looked up on YouTube about the algorithm but i still can&#39;t understand on how to visualize and how does the code flow on the recursion part inside a while loop. \r\n\r\n","title":"How does a recursive function inside a while loop works in Java?","body":"<p>I found this code on google but i couldn't find how does the recursive part actually work. The code is about finding the possible path between 2 vertices on a directed graph. Here is the method to print the total possible path :</p>\n<pre><code>public void  total_path(int source, int destination)\n{\n  result = 0;\n  boolean[] visit = new boolean[size];\n  for(int i = 0; i &lt; size; i++)\n  {\n    visit[i] = false;\n  }\n  count_path(source, destination, visit);\n  System.out.println(result);\n}\n</code></pre>\n<p>Here is the recursive method to count all possible paths :</p>\n<pre><code>  public void  count_path(int start, int end, boolean[] visit)\n     {\n              if(start &gt; size || end &gt; size || start &lt; 0 || end &lt; 0 || node == null)\n              {\n                return ;\n              }\n        \n              if(visit[start]==true)\n              {\n                return;\n              }\n        \n              if(start == end)\n              {\n                 result = result + 1;\n              }\n              \n              visit[start] = true;\n              AjlistNode temp = node[start].next;\n        \n              while(temp!=null)\n              {\n                count_path(temp.id, end, visit); \n                temp = temp.next;\n              }\n              \n              visit[start]=false;\n     }\n</code></pre>\n<p>Here is the graph which i created :</p>\n<pre><code>g.addEdge(0, 1); \ng.addEdge(1, 2);\ng.addEdge(1, 3);\ng.addEdge(2, 5);\ng.addEdge(3, 4);\ng.addEdge(4, 2);\ng.addEdge(4, 5);\ng.addEdge(5, 6);\n</code></pre>\n<p>I already compiled and run the program which start point is 0 and end point is 6. The result is 3, already looked up on YouTube about the algorithm but i still can't understand on how to visualize and how does the code flow on the recursion part inside a while loop.</p>\n"},{"tags":["java","mysql","intellij-idea"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":2,"creation_date":1639161287,"post_id":70308996,"comment_id":124286478,"body_markdown":"String literals needs to be enclosed with `&#39;` chars. Without it the literal is distinguished as object name.","body":"String literals needs to be enclosed with <code>&#39;</code> chars. Without it the literal is distinguished as object name."},{"owner":{"account_id":20952436,"reputation":13,"user_id":15393795,"display_name":"Tudor Nicolaescu"},"score":0,"creation_date":1639161325,"post_id":70308996,"comment_id":124286496,"body_markdown":"can you please write an example?","body":"can you please write an example?"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1639161375,"post_id":70308996,"comment_id":124286515,"body_markdown":"`.. Values (&#39;&quot;+obj.getFirstname() + &quot;&#39;, &#39;&quot; + obj.getLastname()+&quot;&#39;, &quot; + obj.getStudentId() + &quot;,&quot; + obj.getTotalCredits() + &quot;);&quot;` I assume that StudentId and Credits are numeric and hence does not need in enclosing.","body":"<code>.. Values (&#39;&quot;+obj.getFirstname() + &quot;&#39;, &#39;&quot; + obj.getLastname()+&quot;&#39;, &quot; + obj.getStudentId() + &quot;,&quot; + obj.getTotalCredits() + &quot;);&quot;</code> I assume that StudentId and Credits are numeric and hence does not need in enclosing."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1639161432,"post_id":70308996,"comment_id":124286538,"body_markdown":"Except that you really shouldn&#39;t do that - you should use parameterized SQL instead. Search for &quot;SQL injection attack&quot; for just *one* of the many reasons not to embed values in SQL like this.","body":"Except that you really shouldn&#39;t do that - you should use parameterized SQL instead. Search for &quot;SQL injection attack&quot; for just <i>one</i> of the many reasons not to embed values in SQL like this."},{"owner":{"account_id":20952436,"reputation":13,"user_id":15393795,"display_name":"Tudor Nicolaescu"},"score":0,"creation_date":1639161433,"post_id":70308996,"comment_id":124286541,"body_markdown":"oh thanks you&#39;re a life saver","body":"oh thanks you&#39;re a life saver"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1639163457,"post_id":70308996,"comment_id":124287181,"body_markdown":"a hello (or warning)  from [Little Bobby Tables](https://bobby-tables.com)","body":"a hello (or warning)  from <a href=\"https://bobby-tables.com\" rel=\"nofollow noreferrer\">Little Bobby Tables</a>"}],"owner":{"account_id":20952436,"reputation":13,"user_id":15393795,"display_name":"Tudor Nicolaescu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639162326,"creation_date":1639161201,"question_id":70308996,"body_markdown":"    void create() {\r\n        Student testStudent = new Student(&quot;Andrei&quot;,&quot;Pop&quot;,4,55,null);\r\n        StudentRepo testrepo = new StudentRepo();\r\n        testrepo.create(testStudent);\r\n        assert(testrepo.getAll().size()==4);\r\n        assert(testrepo.getAll().get(3).getTotalCredits()==55);\r\n        testrepo.delete(testStudent);\r\n    }\r\n\r\nHere is the implementation for the method create\r\n\r\n    Statement statement = null;\r\n    //getting all the values from Student\r\n    String Query = &quot;insert into Student (FirstName,LastName,StudentId,Credits) Values (&quot;+obj.getFirstname() + &quot;,&quot;+obj.getLastname()+&quot;,&quot;+obj.getStudentId()+&quot;,&quot;+obj.getTotalCredits()+&quot;);&quot;;\r\n    statement=con.createStatement();\r\n    int rowcount=statement.executeUpdate(Query);\r\n\r\n\r\nI get the error invalid column name &#39;Andrei&#39; in field List","title":"Why does mysql recognise a atribute as a column name","body":"<pre><code>void create() {\n    Student testStudent = new Student(&quot;Andrei&quot;,&quot;Pop&quot;,4,55,null);\n    StudentRepo testrepo = new StudentRepo();\n    testrepo.create(testStudent);\n    assert(testrepo.getAll().size()==4);\n    assert(testrepo.getAll().get(3).getTotalCredits()==55);\n    testrepo.delete(testStudent);\n}\n</code></pre>\n<p>Here is the implementation for the method create</p>\n<pre><code>Statement statement = null;\n//getting all the values from Student\nString Query = &quot;insert into Student (FirstName,LastName,StudentId,Credits) Values (&quot;+obj.getFirstname() + &quot;,&quot;+obj.getLastname()+&quot;,&quot;+obj.getStudentId()+&quot;,&quot;+obj.getTotalCredits()+&quot;);&quot;;\nstatement=con.createStatement();\nint rowcount=statement.executeUpdate(Query);\n</code></pre>\n<p>I get the error invalid column name 'Andrei' in field List</p>\n"},{"tags":["java","spring","concurrency","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639162102,"creation_date":1639162102,"answer_id":70309130,"question_id":70300451,"body_markdown":"Since you have a getter method that actually retrieves the `ApplicationContext` then any other Spring-managed Bean with access to `SpringUtils` (by dependency injection) may have access to `ApplicationContext` via `SpringUtils`, but any other Spring-managed Bean can also get a hold of `ApplicationContext` on its own so I would say you ara just overthinking this.","title":"Do variables initialized in the override ApplicationContextAware.setApplicationContext method need to be declared as volatile in Spring Framework?","body":"<p>Since you have a getter method that actually retrieves the <code>ApplicationContext</code> then any other Spring-managed Bean with access to <code>SpringUtils</code> (by dependency injection) may have access to <code>ApplicationContext</code> via <code>SpringUtils</code>, but any other Spring-managed Bean can also get a hold of <code>ApplicationContext</code> on its own so I would say you ara just overthinking this.</p>\n"}],"owner":{"account_id":20763088,"reputation":23,"user_id":15247744,"display_name":"Jeremy Xu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639162102,"creation_date":1639116876,"question_id":70300451,"body_markdown":"I initialize SpringUtils class Spring singleton bean applicationContext field by override ApplicationContextAware.setApplicationContext method:\r\n\r\n```java\r\n@Component\r\npublic class SpringUtils implements ApplicationContextAware {\r\n\r\n    private ApplicationContext applicationContext;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    /**\r\n     * get applicationContext\r\n     *\r\n     * @return ApplicationContext\r\n     */\r\n    public ApplicationContext getApplicationContext() {\r\n        return applicationContext;\r\n    }\r\n}\r\n```\r\n\r\nShould I worry about SpringUtils class Spring singleton bean applicationContext field visibility to other beans(other thread) and mark it volatile.","title":"Do variables initialized in the override ApplicationContextAware.setApplicationContext method need to be declared as volatile in Spring Framework?","body":"<p>I initialize SpringUtils class Spring singleton bean applicationContext field by override ApplicationContextAware.setApplicationContext method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SpringUtils implements ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    /**\n     * get applicationContext\n     *\n     * @return ApplicationContext\n     */\n    public ApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n}\n</code></pre>\n<p>Should I worry about SpringUtils class Spring singleton bean applicationContext field visibility to other beans(other thread) and mark it volatile.</p>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1558368781,"post_id":56201424,"comment_id":99069975,"body_markdown":"1) Don&#39;t forget to call `super.paintComponent(g)` on your `paintComponent(...)` method, so you don&#39;t break the paint-chain. 2) Give your variables meaningful names (`g` is confusing for a `JFrame` name, change it to `frame` for example, as `g` is often used for the `Graphics` object. 3) Don&#39;t use &quot;magic-numbers&quot; (i.e. create a constant called `ROWS = 4` and `COLS = 4` so that your `while-loops` are more understandable. 4) Don&#39;t set the bounds of any component, use proper [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"1) Don&#39;t forget to call <code>super.paintComponent(g)</code> on your <code>paintComponent(...)</code> method, so you don&#39;t break the paint-chain. 2) Give your variables meaningful names (<code>g</code> is confusing for a <code>JFrame</code> name, change it to <code>frame</code> for example, as <code>g</code> is often used for the <code>Graphics</code> object. 3) Don&#39;t use &quot;magic-numbers&quot; (i.e. create a constant called <code>ROWS = 4</code> and <code>COLS = 4</code> so that your <code>while-loops</code> are more understandable. 4) Don&#39;t set the bounds of any component, use proper <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a>"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1558369064,"post_id":56201424,"comment_id":99070076,"body_markdown":"5) Be careful naming your variables `x` and `y` as you may run into a strange, funny but stressful [behavior](https://stackoverflow.com/q/46779919/2180785) 6) No need to have 2 blocks of 2 nested `while-loops`, you can add `g.add(feld[i][j]);` before `j++` on the first block of them. And don&#39;t forget to put your program on the EDT, see point #2 on [this answer](https://stackoverflow.com/questions/42404270/jcomponent-stops-getting-rendered-once-it-goes-off-the-screen/42404808#42404808)","body":"5) Be careful naming your variables <code>x</code> and <code>y</code> as you may run into a strange, funny but stressful <a href=\"https://stackoverflow.com/q/46779919/2180785\">behavior</a> 6) No need to have 2 blocks of 2 nested <code>while-loops</code>, you can add <code>g.add(feld[i][j]);</code> before <code>j++</code> on the first block of them. And don&#39;t forget to put your program on the EDT, see point #2 on <a href=\"https://stackoverflow.com/questions/42404270/jcomponent-stops-getting-rendered-once-it-goes-off-the-screen/42404808#42404808\">this answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":15966034,"reputation":128,"user_id":11521660,"display_name":"Lauren Rose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1558214885,"creation_date":1558214885,"answer_id":56202982,"question_id":56201424,"body_markdown":"Right now you&#39;re adding the rectangles directly to your frame. You should have a JPanel layer in between, to which you can give a LayoutManager (GridLayout would be a good one to look at) to arrange all your rectangles.\r\n\r\nSo you would have something like this:\r\n\r\n    JFrame g = new JFrame(&quot;2048 - Main&quot;);\r\n    // GridLayout (on next line) takes number of rows and columns\r\n    JPanel panel = new JPanel(new GridLayout(4, 4));\r\n    // ... add all the rectangles to the panel here\r\n    g.add(panel);\r\n\r\nAnd then you would add your rectangles to the panel, not the frame. As you add them, they will automatically go into place in the grid.\r\n\r\n    panel.add(feld[i][j]);\r\n\r\nAlso, if you use GridLayout, it will resize and fit the components to the grid dynamically, so it may save you some code as well, since you wouldn&#39;t need to hardcode their sizes in the GUI class.","title":"How to add multiple rectangles to a jframe(trying to code 2048 in an easy way)","body":"<p>Right now you're adding the rectangles directly to your frame. You should have a JPanel layer in between, to which you can give a LayoutManager (GridLayout would be a good one to look at) to arrange all your rectangles.</p>\n\n<p>So you would have something like this:</p>\n\n<pre><code>JFrame g = new JFrame(\"2048 - Main\");\n// GridLayout (on next line) takes number of rows and columns\nJPanel panel = new JPanel(new GridLayout(4, 4));\n// ... add all the rectangles to the panel here\ng.add(panel);\n</code></pre>\n\n<p>And then you would add your rectangles to the panel, not the frame. As you add them, they will automatically go into place in the grid.</p>\n\n<pre><code>panel.add(feld[i][j]);\n</code></pre>\n\n<p>Also, if you use GridLayout, it will resize and fit the components to the grid dynamically, so it may save you some code as well, since you wouldn't need to hardcode their sizes in the GUI class.</p>\n"}],"owner":{"account_id":15965402,"reputation":3,"user_id":11521232,"display_name":"Tom_R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56202982,"answer_count":1,"score":0,"last_activity_date":1639161402,"creation_date":1558201566,"question_id":56201424,"body_markdown":"I made the game already and wanted to make my GUI look better with rectangles not with jlabels and now I&#180;ve come to realize that only the last rectangle that is drawn is shown on the GUI\r\n\r\nI already tried it with different layouts\r\n\r\nmy GUI class:\r\n\r\n    public class GUI_N    \r\n    {\r\n        private Spiel spiel;\r\n        private KeyEvent e;\r\n        private String beste;\r\n        private int beste1;\r\n        private DrawingComponent[][] feld;\r\n        GUI_N(){\r\n            feld = new DrawingComponent[4][4];\r\n            spiel = new Spiel();\r\n            beste1 = 0;\r\n            beste = &quot;Highscore: &quot;+beste1;\r\n        \r\n        \r\n            JFrame g=new JFrame(&quot;2048 - Main&quot;);\r\n            g.setSize(500,500);\r\n            g.setFocusable(true); //wichtig f&#252;r KeyListener\r\n            g.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            int i = 0;\r\n            int j = 0;\r\n            int h = 0;\r\n            int l = 0;\r\n            while(i&lt;4)\r\n            {\r\n                while(j&lt;4)\r\n                {\r\n                    if(i==0){ \r\n                        h = 50; \r\n                    }else if(i==1){\r\n                        h = 100; \r\n                    }else if(i==2){\r\n                        h = 150; \r\n                    }else if(i==3){\r\n                        h = 200;\r\n                    }\r\n                    if(j==0){ \r\n                        l = 50; \r\n                    }else if(j==1){\r\n                        l = 100; \r\n                    }else if(j==2){\r\n                        l = 150; \r\n                    }else if(j==3){\r\n                        l = 200;\r\n                    }\r\n                    feld[i][j] = new DrawingComponent(l,h,50,50);\r\n                    feld[i][j].setBounds(l,h,50,50);\r\n                    j++;\r\n                }\r\n                j=0;\r\n                i++;\r\n            }\r\n            i = 0;\r\n            j = 0;\r\n            while(i&lt;4)\r\n            {\r\n                while(j&lt;4)\r\n                {\r\n                    g.add(feld[i][j]);\r\n                    j++;\r\n                }\r\n                j=0;\r\n                i++;\r\n            }\r\n            //g.getContentPane().setBackground(new Color(20, 40, 50));\r\n            g.setVisible(true);\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new GUI_N();\r\n        }  \r\n        } \r\n\r\nmy rectangle class:\r\n\r\n    public class DrawingComponent extends JComponent\r\n    {\r\n        private Graphics2D g2;\r\n        private int wert;\r\n        \r\n        private int x;\r\n        private int y;\r\n        private int w;\r\n        private int h;\r\n        \r\n        public DrawingComponent(int px,int py,int pw,int ph)\r\n        {\r\n            x=px;\r\n            y=py;\r\n            w=pw;\r\n            h=ph;\r\n        }\r\n        public void paintComponent(Graphics g)\r\n        {\r\n            g2 = (Graphics2D) g;\r\n            \r\n            Rectangle rect1 = new Rectangle(x,y,w,h);\r\n            g2.setColor(Color.RED);\r\n            g2.fill(rect1);\r\n        }\r\n        \r\n        public void setWert(int x)\r\n        {\r\n            wert = x;\r\n        }\r\n        \r\n        public int getWert()\r\n        {\r\n            return wert;\r\n        }\r\n    }\r\n\r\n\r\nas I said only the last drawn rectangle is shown.\r\n\r\nHow do I achieve this?","title":"How to add multiple rectangles to a jframe(trying to code 2048 in an easy way)","body":"<p>I made the game already and wanted to make my GUI look better with rectangles not with jlabels and now I´ve come to realize that only the last rectangle that is drawn is shown on the GUI</p>\n\n<p>I already tried it with different layouts</p>\n\n<p>my GUI class:</p>\n\n<pre><code>public class GUI_N    \n{\n    private Spiel spiel;\n    private KeyEvent e;\n    private String beste;\n    private int beste1;\n    private DrawingComponent[][] feld;\n    GUI_N(){\n        feld = new DrawingComponent[4][4];\n        spiel = new Spiel();\n        beste1 = 0;\n        beste = \"Highscore: \"+beste1;\n\n\n        JFrame g=new JFrame(\"2048 - Main\");\n        g.setSize(500,500);\n        g.setFocusable(true); //wichtig für KeyListener\n        g.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        int i = 0;\n        int j = 0;\n        int h = 0;\n        int l = 0;\n        while(i&lt;4)\n        {\n            while(j&lt;4)\n            {\n                if(i==0){ \n                    h = 50; \n                }else if(i==1){\n                    h = 100; \n                }else if(i==2){\n                    h = 150; \n                }else if(i==3){\n                    h = 200;\n                }\n                if(j==0){ \n                    l = 50; \n                }else if(j==1){\n                    l = 100; \n                }else if(j==2){\n                    l = 150; \n                }else if(j==3){\n                    l = 200;\n                }\n                feld[i][j] = new DrawingComponent(l,h,50,50);\n                feld[i][j].setBounds(l,h,50,50);\n                j++;\n            }\n            j=0;\n            i++;\n        }\n        i = 0;\n        j = 0;\n        while(i&lt;4)\n        {\n            while(j&lt;4)\n            {\n                g.add(feld[i][j]);\n                j++;\n            }\n            j=0;\n            i++;\n        }\n        //g.getContentPane().setBackground(new Color(20, 40, 50));\n        g.setVisible(true);\n\n    }\n\n    public static void main(String[] args) {\n        new GUI_N();\n    }  \n    } \n</code></pre>\n\n<p>my rectangle class:</p>\n\n<pre><code>public class DrawingComponent extends JComponent\n{\n    private Graphics2D g2;\n    private int wert;\n\n    private int x;\n    private int y;\n    private int w;\n    private int h;\n\n    public DrawingComponent(int px,int py,int pw,int ph)\n    {\n        x=px;\n        y=py;\n        w=pw;\n        h=ph;\n    }\n    public void paintComponent(Graphics g)\n    {\n        g2 = (Graphics2D) g;\n\n        Rectangle rect1 = new Rectangle(x,y,w,h);\n        g2.setColor(Color.RED);\n        g2.fill(rect1);\n    }\n\n    public void setWert(int x)\n    {\n        wert = x;\n    }\n\n    public int getWert()\n    {\n        return wert;\n    }\n}\n</code></pre>\n\n<p>as I said only the last drawn rectangle is shown.</p>\n\n<p>How do I achieve this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19627125,"reputation":186,"user_id":14366207,"display_name":"Omar Hemaia"},"score":1,"creation_date":1639151035,"post_id":70306775,"comment_id":124282656,"body_markdown":"Try using ```int```","body":"Try using <code>int</code>"}],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639161244,"creation_date":1639160373,"answer_id":70308834,"question_id":70306775,"body_markdown":"The pipe symbol is the _bitwise inclusive OR_ operator. The operator compares the values (in binary format) of each operand and yields a value whose bit pattern shows which bits in either of the operands has the value 1. If both of the bits are 0, the result of that bit is 0; otherwise, the result is 1.\r\n\r\nThe code in your case may look like this:\r\n\r\n```java\r\npublic class Intent {\r\n  \r\n  // define flag constants\r\n  public static final int FLAG_ACTIVITY_NEW_TASK = 1; \r\n  public static final int FLAG_GRANT_READ_URI_PERMISSION = 2;\r\n  \r\n  private int flags;\r\n\r\n  public void setFlags(int flags) {\r\n    this.flags = flags;\r\n  }\r\n  \r\n}\r\n\r\n```\r\n\r\nYou can call the method like this afterwards:\r\n\r\n```\r\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n```\r\n\r\nYou can learn more about bitwise operators in [the official Java documentation](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html) or look at these guides:\r\n* [Java Bitwise Operators](https://www.baeldung.com/java-bitwise-operators)\r\n* [Bitwise Operators in Java](https://www.geeksforgeeks.org/bitwise-operators-in-java/)","title":"How to write a function that accepts multiple parameters separated by the pipe symbol?","body":"<p>The pipe symbol is the <em>bitwise inclusive OR</em> operator. The operator compares the values (in binary format) of each operand and yields a value whose bit pattern shows which bits in either of the operands has the value 1. If both of the bits are 0, the result of that bit is 0; otherwise, the result is 1.</p>\n<p>The code in your case may look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Intent {\n  \n  // define flag constants\n  public static final int FLAG_ACTIVITY_NEW_TASK = 1; \n  public static final int FLAG_GRANT_READ_URI_PERMISSION = 2;\n  \n  private int flags;\n\n  public void setFlags(int flags) {\n    this.flags = flags;\n  }\n  \n}\n\n</code></pre>\n<p>You can call the method like this afterwards:</p>\n<pre><code>intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n</code></pre>\n<p>You can learn more about bitwise operators in <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">the official Java documentation</a> or look at these guides:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-bitwise-operators\" rel=\"nofollow noreferrer\">Java Bitwise Operators</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/bitwise-operators-in-java/\" rel=\"nofollow noreferrer\">Bitwise Operators in Java</a></li>\n</ul>\n"}],"owner":{"account_id":2400003,"reputation":3,"user_id":2097893,"display_name":"Fimble"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70308834,"answer_count":1,"score":0,"last_activity_date":1639161244,"creation_date":1639149877,"question_id":70306775,"body_markdown":"For instance, in Android, adding flags to an intent using:\r\n```\r\nIntent intent = new Intent(SOME_ACTION);\r\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n```\r\n\r\nHow would that method look?","title":"How to write a function that accepts multiple parameters separated by the pipe symbol?","body":"<p>For instance, in Android, adding flags to an intent using:</p>\n<pre><code>Intent intent = new Intent(SOME_ACTION);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n</code></pre>\n<p>How would that method look?</p>\n"},{"tags":["java","swing","jpanel","jbutton","grid-layout"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638633473,"creation_date":1638633473,"answer_id":70227199,"question_id":70224061,"body_markdown":"&gt; it is only giving me one of each button\r\n\r\nBecause you only have a single instance of each button:\r\n\r\n    for (int index = 0; index &lt; 62; index++)\r\n    {\r\n        if (index &lt; 20)\r\n        {\r\n            buttons[index] = treasureButton; // single instance\r\n        }\r\n        else\r\n        {\r\n            buttons[index] = emptyButton; // single instance\r\n        }\r\n    }\r\n\r\nYou need to create a new instance when you add it to the array.\r\n\r\n    for (int index = 0; index &lt; 62; index++)\r\n    {\r\n        if (index &lt; 20)\r\n        {\r\n            //buttons[index] = treasureButton;\r\n            buttons[index] = new TreasureButton();            \r\n        }\r\n        else\r\n        {\r\n            //buttons[index] = emptyButton;\r\n            buttons[index] = new EmptyButton();\r\n        }\r\n    }\r\n\r\nAlso an easier way to randomize the buttons is to:\r\n\r\n1. Add the button to an `ArrayList`\r\n2. Use the `Collections.shuffle(...)` method to randomize the order of the buttons\r\n3. Iterate through the `ArrayList` and add each button to the grid","title":"How can I make my grid populate all cells?","body":"<blockquote>\n<p>it is only giving me one of each button</p>\n</blockquote>\n<p>Because you only have a single instance of each button:</p>\n<pre><code>for (int index = 0; index &lt; 62; index++)\n{\n    if (index &lt; 20)\n    {\n        buttons[index] = treasureButton; // single instance\n    }\n    else\n    {\n        buttons[index] = emptyButton; // single instance\n    }\n}\n</code></pre>\n<p>You need to create a new instance when you add it to the array.</p>\n<pre><code>for (int index = 0; index &lt; 62; index++)\n{\n    if (index &lt; 20)\n    {\n        //buttons[index] = treasureButton;\n        buttons[index] = new TreasureButton();            \n    }\n    else\n    {\n        //buttons[index] = emptyButton;\n        buttons[index] = new EmptyButton();\n    }\n}\n</code></pre>\n<p>Also an easier way to randomize the buttons is to:</p>\n<ol>\n<li>Add the button to an <code>ArrayList</code></li>\n<li>Use the <code>Collections.shuffle(...)</code> method to randomize the order of the buttons</li>\n<li>Iterate through the <code>ArrayList</code> and add each button to the grid</li>\n</ol>\n"}],"owner":{"account_id":22934916,"reputation":27,"user_id":17068529,"display_name":"rebekah.ann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70227199,"answer_count":1,"score":1,"last_activity_date":1639161083,"creation_date":1638605941,"question_id":70224061,"body_markdown":"I am using a for loop to populate an 8x8 grid with two different buttons randomly. I have an array of instances of the buttons and for some reason, it is only giving me one of each button and not populating the rest of the grid with anything. Any advice?\r\nI included only the buildPanel block of the code but I do have separate classes for the buttons and the Game class. I also have the rest of the code somewhat done. It doesn&#39;t fully do what I need yet and needs to be cleaned up but if it might be helpful in solving this issue, I can post it. I&#39;m unable to post more code than this in the question without writing more details but it&#39;s pretty straightforward of a question I think. \r\n\r\n```\r\n    private void buildPanel()\r\n    {        \r\n        // Create labels to display the \r\n        treasuresLeftLabel = new JLabel(&quot;Treasures left: &quot;);\r\n        treasuresFoundLabel = new JLabel(&quot;Treasures found: &quot;);        \r\n        triesLeftLabel = new JLabel(&quot;Tries left: &quot;);\r\n        \r\n        // Create text fields for each label\r\n        treasuresLeftTextField = new JTextField(2);\r\n        treasuresLeftTextField.setEditable(false);\r\n        treasuresLeftTextField.setText(String.valueOf(20-game.getTreasuresFound()));\r\n        treasuresFoundTextField = new JTextField(2);\r\n        treasuresFoundTextField.setEditable(false);\r\n        treasuresFoundTextField.setText(String.valueOf(game.getTreasuresFound()));\r\n        triesLeftTextField = new JTextField(2);\r\n        triesLeftTextField.setEditable(false);\r\n        triesLeftTextField.setText(String.valueOf(game.getTriesLeft()));\r\n        \r\n        emptyButton = new EmptyButton();\r\n        emptyButton.addActionListener(new emptyButtonListener());\r\n        treasureButton = new TreasureButton();\r\n        treasureButton.addActionListener(new treasureButtonListener());\r\n\r\n        // new JPanel object referenced by panel\r\n        panel = new JPanel();\r\n        panel.setLayout(new BorderLayout());\r\n        panel.add(new JLabel(&quot;Treasure Hunt&quot;, JLabel.CENTER), BorderLayout.NORTH);\r\n\r\n        statsPanel = new JPanel();\r\n        statsPanel.setLayout(new GridLayout(3, 2));\r\n        statsPanel.add(treasuresLeftLabel);\r\n        statsPanel.add(treasuresLeftTextField);\r\n        statsPanel.add(treasuresFoundLabel);\r\n        statsPanel.add(treasuresFoundTextField);\r\n        statsPanel.add(triesLeftLabel);\r\n        statsPanel.add(triesLeftTextField);\r\n    \r\n        panel.add(statsPanel, BorderLayout.WEST);\r\n        \r\n        JButton[] buttons = new JButton[62];\r\n        for (int index = 0; index &lt; 62; index++)\r\n        {\r\n            if (index &lt; 20)\r\n            {\r\n                buttons[index] = treasureButton;\r\n            }\r\n            else\r\n            {\r\n                buttons[index] = emptyButton;\r\n            }\r\n        }\r\n        gameGridPanel = new JPanel();\r\n        gameGridPanel.setLayout(new GridLayout(8, 8));\r\n        \r\n        // Generate a random number between 0 and 61\r\n        int randomNumber = new Random().nextInt(62);  \r\n        for (int count = 0; count &lt; 62; count++)\r\n        {   \r\n            if (buttons[randomNumber] != null)\r\n            {\r\n                gameGridPanel.add(buttons[randomNumber]);\r\n                randomNumber = new Random().nextInt(62);  \r\n            }\r\n            else\r\n            {\r\n                randomNumber = new Random().nextInt(62);  \r\n            }\r\n        }\r\n        \r\n        panel.add(gameGridPanel, BorderLayout.CENTER);\r\n    }","title":"How can I make my grid populate all cells?","body":"<p>I am using a for loop to populate an 8x8 grid with two different buttons randomly. I have an array of instances of the buttons and for some reason, it is only giving me one of each button and not populating the rest of the grid with anything. Any advice?\nI included only the buildPanel block of the code but I do have separate classes for the buttons and the Game class. I also have the rest of the code somewhat done. It doesn't fully do what I need yet and needs to be cleaned up but if it might be helpful in solving this issue, I can post it. I'm unable to post more code than this in the question without writing more details but it's pretty straightforward of a question I think.</p>\n<pre><code>    private void buildPanel()\n    {        \n        // Create labels to display the \n        treasuresLeftLabel = new JLabel(&quot;Treasures left: &quot;);\n        treasuresFoundLabel = new JLabel(&quot;Treasures found: &quot;);        \n        triesLeftLabel = new JLabel(&quot;Tries left: &quot;);\n        \n        // Create text fields for each label\n        treasuresLeftTextField = new JTextField(2);\n        treasuresLeftTextField.setEditable(false);\n        treasuresLeftTextField.setText(String.valueOf(20-game.getTreasuresFound()));\n        treasuresFoundTextField = new JTextField(2);\n        treasuresFoundTextField.setEditable(false);\n        treasuresFoundTextField.setText(String.valueOf(game.getTreasuresFound()));\n        triesLeftTextField = new JTextField(2);\n        triesLeftTextField.setEditable(false);\n        triesLeftTextField.setText(String.valueOf(game.getTriesLeft()));\n        \n        emptyButton = new EmptyButton();\n        emptyButton.addActionListener(new emptyButtonListener());\n        treasureButton = new TreasureButton();\n        treasureButton.addActionListener(new treasureButtonListener());\n\n        // new JPanel object referenced by panel\n        panel = new JPanel();\n        panel.setLayout(new BorderLayout());\n        panel.add(new JLabel(&quot;Treasure Hunt&quot;, JLabel.CENTER), BorderLayout.NORTH);\n\n        statsPanel = new JPanel();\n        statsPanel.setLayout(new GridLayout(3, 2));\n        statsPanel.add(treasuresLeftLabel);\n        statsPanel.add(treasuresLeftTextField);\n        statsPanel.add(treasuresFoundLabel);\n        statsPanel.add(treasuresFoundTextField);\n        statsPanel.add(triesLeftLabel);\n        statsPanel.add(triesLeftTextField);\n    \n        panel.add(statsPanel, BorderLayout.WEST);\n        \n        JButton[] buttons = new JButton[62];\n        for (int index = 0; index &lt; 62; index++)\n        {\n            if (index &lt; 20)\n            {\n                buttons[index] = treasureButton;\n            }\n            else\n            {\n                buttons[index] = emptyButton;\n            }\n        }\n        gameGridPanel = new JPanel();\n        gameGridPanel.setLayout(new GridLayout(8, 8));\n        \n        // Generate a random number between 0 and 61\n        int randomNumber = new Random().nextInt(62);  \n        for (int count = 0; count &lt; 62; count++)\n        {   \n            if (buttons[randomNumber] != null)\n            {\n                gameGridPanel.add(buttons[randomNumber]);\n                randomNumber = new Random().nextInt(62);  \n            }\n            else\n            {\n                randomNumber = new Random().nextInt(62);  \n            }\n        }\n        \n        panel.add(gameGridPanel, BorderLayout.CENTER);\n    }\n</code></pre>\n"},{"tags":["java","gradle","groovy","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639160642,"creation_date":1639160642,"answer_id":70308882,"question_id":70308076,"body_markdown":"Works for me as you have it with Gradle 7.3 in a quick test project I wrote:\r\n\r\n```\r\n➜  ./gradlew :module-a:dependencyInsight --dependency log4j\r\n\r\n&gt; Task :module-a:dependencyInsight\r\norg.apache.logging.log4j:log4j:2.15.0 (selected by rule)\r\n   variant &quot;compile&quot; [\r\n      org.gradle.status              = release (not requested)\r\n      org.gradle.usage               = java-api\r\n      org.gradle.libraryelements     = jar (compatible with: classes)\r\n      org.gradle.category            = library\r\n\r\n      Requested attributes not found in the selected variant:\r\n         org.gradle.dependency.bundling = external\r\n         org.gradle.jvm.environment     = standard-jvm\r\n         org.gradle.jvm.version         = 17\r\n   ]\r\n\r\norg.apache.logging.log4j:log4j:2.14.1 -&gt; 2.15.0\r\n\\--- compileClasspath\r\n```","title":"Gradle ResolutionStrategy in root build.gradle","body":"<p>Works for me as you have it with Gradle 7.3 in a quick test project I wrote:</p>\n<pre><code>➜  ./gradlew :module-a:dependencyInsight --dependency log4j\n\n&gt; Task :module-a:dependencyInsight\norg.apache.logging.log4j:log4j:2.15.0 (selected by rule)\n   variant &quot;compile&quot; [\n      org.gradle.status              = release (not requested)\n      org.gradle.usage               = java-api\n      org.gradle.libraryelements     = jar (compatible with: classes)\n      org.gradle.category            = library\n\n      Requested attributes not found in the selected variant:\n         org.gradle.dependency.bundling = external\n         org.gradle.jvm.environment     = standard-jvm\n         org.gradle.jvm.version         = 17\n   ]\n\norg.apache.logging.log4j:log4j:2.14.1 -&gt; 2.15.0\n\\--- compileClasspath\n</code></pre>\n"}],"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639160642,"creation_date":1639156040,"question_id":70308076,"body_markdown":"Is it possible to specify a ResolutionStrategy in the root `build.gradle` that gets applied in subprojects? I can only get it to work if the ResolutionStrategy is added directly in the subproject&#39;s `build.gradle` file.\r\n\r\n```groovy\r\nsubprojects {\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            eachDependency { DependencyResolveDetails details -&gt;\r\n                if(details.requested.group == &#39;org.apache.logging.log4j&#39;) {\r\n                    details.useVersion &#39;2.15.0&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I put that in my root `build.gradle` and run `./gradlew :subproject:dependencies`, the strategy is not applied. However, when I put the same configuration block inside of the subproject&#39;s `build.gradle`, it works as expected.","title":"Gradle ResolutionStrategy in root build.gradle","body":"<p>Is it possible to specify a ResolutionStrategy in the root <code>build.gradle</code> that gets applied in subprojects? I can only get it to work if the ResolutionStrategy is added directly in the subproject's <code>build.gradle</code> file.</p>\n<pre><code>subprojects {\n\n    configurations.all {\n        resolutionStrategy {\n            eachDependency { DependencyResolveDetails details -&gt;\n                if(details.requested.group == 'org.apache.logging.log4j') {\n                    details.useVersion '2.15.0'\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>When I put that in my root <code>build.gradle</code> and run <code>./gradlew :subproject:dependencies</code>, the strategy is not applied. However, when I put the same configuration block inside of the subproject's <code>build.gradle</code>, it works as expected.</p>\n"},{"tags":["java","data-structures","avl-tree"],"comments":[{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1639158413,"post_id":70308039,"comment_id":124285513,"body_markdown":"The question is unclear, at least to me. Can you share an example of such a tree, the output you&#39;re trying to get and the actual result you&#39;re getting?","body":"The question is unclear, at least to me. Can you share an example of such a tree, the output you&#39;re trying to get and the actual result you&#39;re getting?"}],"answers":[{"tags":[],"owner":{"account_id":15055297,"reputation":98,"user_id":10865746,"display_name":"Dzone64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639160364,"creation_date":1639159014,"answer_id":70308607,"question_id":70308039,"body_markdown":"You need to add the result of the recursion to `Str`. like so:\r\n```Str += traversInOrder(node.left)```\r\nand the same goes for the right one. You also should print the content of the node with `node.value` or whatever your content value name is.\r\n\r\nExample:\r\n```\r\nprivate String traverseInOrder(TNode&lt;T&gt; node) {\r\n  String Str = &quot;&quot;;\r\n    if (node != null) {\r\n      if (node.left != null)\r\n        Str += traverseInOrder(node.left);\r\n      Str += node.value;\r\n      if (node.right != null)\r\n        Str += traverseInOrder(node.right);\r\n    }\r\n  return Str;\r\n} \r\n```","title":"How can I print the data of a tree in a string method?","body":"<p>You need to add the result of the recursion to <code>Str</code>. like so:\n<code>Str += traversInOrder(node.left)</code>\nand the same goes for the right one. You also should print the content of the node with <code>node.value</code> or whatever your content value name is.</p>\n<p>Example:</p>\n<pre><code>private String traverseInOrder(TNode&lt;T&gt; node) {\n  String Str = &quot;&quot;;\n    if (node != null) {\n      if (node.left != null)\n        Str += traverseInOrder(node.left);\n      Str += node.value;\n      if (node.right != null)\n        Str += traverseInOrder(node.right);\n    }\n  return Str;\n} \n</code></pre>\n"}],"owner":{"account_id":21879453,"reputation":13,"user_id":16168015,"display_name":"Iam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70308607,"answer_count":1,"score":0,"last_activity_date":1639160364,"creation_date":1639155818,"question_id":70308039,"body_markdown":"I have this method that prints the contents of the **Avl tree**.\r\n\r\n    public String traverseInOrder() {\r\n          return traverseInOrder(root);\r\n    }\r\n\r\n    private String traverseInOrder(TNode&lt;T&gt; node) {\r\n      String Str = &quot;&quot;;\r\n        if (node != null) {\r\n          if (node.left != null)\r\n            traverseInOrder(node.left);\r\n            Str +=node;\r\n          if (node.right != null)\r\n            traverseInOrder(node.right);\r\n        }\r\n      return Str;\r\n    } \r\n\r\nThere will still be a problem that in this case you are returning **one node** of the Avl tree and **I need all the node** in the Avl tree.\r\n**I don&#39;t want to use some kind of void method**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8bFcg.jpg","title":"How can I print the data of a tree in a string method?","body":"<p>I have this method that prints the contents of the <strong>Avl tree</strong>.</p>\n<pre><code>public String traverseInOrder() {\n      return traverseInOrder(root);\n}\n\nprivate String traverseInOrder(TNode&lt;T&gt; node) {\n  String Str = &quot;&quot;;\n    if (node != null) {\n      if (node.left != null)\n        traverseInOrder(node.left);\n        Str +=node;\n      if (node.right != null)\n        traverseInOrder(node.right);\n    }\n  return Str;\n} \n</code></pre>\n<p>There will still be a problem that in this case you are returning <strong>one node</strong> of the Avl tree and <strong>I need all the node</strong> in the Avl tree.\n<strong>I don't want to use some kind of void method</strong>\n<a href=\"https://i.stack.imgur.com/8bFcg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8bFcg.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1639160630,"post_id":70308706,"comment_id":124286279,"body_markdown":"Are you using TestNG?","body":"Are you using TestNG?"},{"owner":{"account_id":7593755,"reputation":325,"user_id":5760542,"accept_rate":59,"display_name":"MMM"},"score":0,"creation_date":1639160694,"post_id":70308706,"comment_id":124286293,"body_markdown":"Yes I am! Mixture of mockit, testng, and junit.","body":"Yes I am! Mixture of mockit, testng, and junit."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1639160819,"post_id":70308706,"comment_id":124286339,"body_markdown":"First things first - `initMocks` is deprecated. Switch to the test listener or at least `openMocks`. But to fix your problem, set `registerAZActivity` to `null` in an `@AfterMethod`. https://stackoverflow.com/a/20056622/2071828","body":"First things first - <code>initMocks</code> is deprecated. Switch to the test listener or at least <code>openMocks</code>. But to fix your problem, set <code>registerAZActivity</code> to <code>null</code> in an <code>@AfterMethod</code>. <a href=\"https://stackoverflow.com/a/20056622/2071828\">stackoverflow.com/a/20056622/2071828</a>"},{"owner":{"account_id":7593755,"reputation":325,"user_id":5760542,"accept_rate":59,"display_name":"MMM"},"score":0,"creation_date":1639161618,"post_id":70308706,"comment_id":124286609,"body_markdown":"Thank you so much! that solved it and will do.","body":"Thank you so much! that solved it and will do."}],"owner":{"account_id":7593755,"reputation":325,"user_id":5760542,"accept_rate":59,"display_name":"MMM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639163482,"answer_count":0,"score":0,"last_activity_date":1639159583,"creation_date":1639159583,"question_id":70308706,"body_markdown":"Right now I am simulating two successful requests and then three different exceptions when a method is called by chaining them all together.\r\n\r\n```\r\n\r\n        when(mockActivity.enact(any(RegisterRequest.class)))\r\n           .thenReturn(successfulRequest, nonSuccessfulRequest)\r\n           .thenThrow(RecoverableException.class, UnrecoverableException.class, InvalidRequestException.class);\r\n\r\n```\r\n\r\nIdeally, this could be split up into 5 different @Test methods (2 that don&#39;t throw exceptions, and 3 that do throw exceptions) each with a `when(mockActivity.enact(any(RegisterRequest.class))).thenReturn or thenThrow(...)`. But when I try to do that the previous @Test mocks will interfere with one another.\r\n\r\nI scanned stack overflow and I thought I would be able to reset based off\r\n\r\n```\r\n    @Mock\r\n    private RegisterActivity mockRegisterActivity;\r\n    @InjectMocks\r\n    private RegisterAZActivity registerAZActivity;\r\n    @BeforeMethod\r\n    public void setUp() throws Exception {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n```\r\n\r\nBut it doesn&#39;t appear to truly be resetting. The flow is `RegisterAZActivity` is the test I&#39;m testing, and `RegisterAZActivity` calls `RegisterActivity`, a private member, and that can return either 2 variations of successful requests or throw 3 different exceptions. So ideally I could test that method in 5 tests, each with it&#39;s own `when()` to test all possible routes. I tried using `Mockito.reset` and `BeforeMethod` but that didn&#39;t seem to help.","title":"Mockito when not resetting between Tests","body":"<p>Right now I am simulating two successful requests and then three different exceptions when a method is called by chaining them all together.</p>\n<pre><code>\n        when(mockActivity.enact(any(RegisterRequest.class)))\n           .thenReturn(successfulRequest, nonSuccessfulRequest)\n           .thenThrow(RecoverableException.class, UnrecoverableException.class, InvalidRequestException.class);\n\n</code></pre>\n<p>Ideally, this could be split up into 5 different @Test methods (2 that don't throw exceptions, and 3 that do throw exceptions) each with a <code>when(mockActivity.enact(any(RegisterRequest.class))).thenReturn or thenThrow(...)</code>. But when I try to do that the previous @Test mocks will interfere with one another.</p>\n<p>I scanned stack overflow and I thought I would be able to reset based off</p>\n<pre><code>    @Mock\n    private RegisterActivity mockRegisterActivity;\n    @InjectMocks\n    private RegisterAZActivity registerAZActivity;\n    @BeforeMethod\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n    }\n</code></pre>\n<p>But it doesn't appear to truly be resetting. The flow is <code>RegisterAZActivity</code> is the test I'm testing, and <code>RegisterAZActivity</code> calls <code>RegisterActivity</code>, a private member, and that can return either 2 variations of successful requests or throw 3 different exceptions. So ideally I could test that method in 5 tests, each with it's own <code>when()</code> to test all possible routes. I tried using <code>Mockito.reset</code> and <code>BeforeMethod</code> but that didn't seem to help.</p>\n"},{"tags":["java","exception","try-catch"],"answers":[{"tags":[],"owner":{"account_id":3810092,"reputation":4427,"user_id":3161282,"accept_rate":100,"display_name":"dursk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1412642773,"creation_date":1412642773,"answer_id":26226954,"question_id":26226940,"body_markdown":"You are not defining a name (identifier) for the `NumberFormatException` in the `catch` statement.\r\n\r\nYou need:\r\n\r\n    catch (NumberFormatException e)\r\n    {\r\n        ...\r\n    }","title":"identifier expected in try catch block","body":"<p>You are not defining a name (identifier) for the <code>NumberFormatException</code> in the <code>catch</code> statement.</p>\n\n<p>You need:</p>\n\n<pre><code>catch (NumberFormatException e)\n{\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4283732,"reputation":585,"user_id":4111747,"accept_rate":0,"display_name":"user265732"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412646977,"creation_date":1412646977,"answer_id":26227486,"question_id":26226940,"body_markdown":"Regarding your numbers problem:\r\nnumber &lt; -2147483648 &amp;&amp; number &gt; 2147483647\r\nThose are the min and max values of integer, so perhaps using long type instead of int will help.\r\n","title":"identifier expected in try catch block","body":"<p>Regarding your numbers problem:\nnumber &lt; -2147483648 &amp;&amp; number > 2147483647\nThose are the min and max values of integer, so perhaps using long type instead of int will help.</p>\n"}],"owner":{"account_id":4800273,"reputation":85,"user_id":3877102,"accept_rate":86,"display_name":"Matthew Osman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26226954,"answer_count":2,"score":2,"last_activity_date":1639159483,"creation_date":1412642679,"question_id":26226940,"body_markdown":"I am trying to run a catch block but it keeps saying that an identifier is expected. Any help would be welcome. The object of this method (it is in a main so I can test it) is to get a valid value for an integer. If the value is not valid it should loop until a valid number is entered. I attempted to do this using a while loop, and the try...catch to fix any exceptions. Thank you\r\n\r\n    import javax.swing.JOptionPane;\r\n    import java.lang.Integer;\r\n\r\n    public class test\r\n    {\r\n\t    public static void main (String[] args) throws NumberFormatException\r\n\t    {\r\n\t\t    String input;\r\n\t\t    boolean x = false;\r\n\t\t    int number;\r\n\r\n\t\t    input = JOptionPane.showInputDialog(&quot;Enter an integer: &quot;);\t\t//creates input box for user to enter integer value\r\n\t\t    number = Integer.parseInt(input);\r\n\r\n\t\t    try\r\n\t\t    {\r\n\t\t\t   while (number &lt; -2147483648 &amp;&amp; number &gt; 2147483647)\r\n\t\t\t{\r\n\t\t\t\tx = false;\r\n\t\t\t\tnumber = Integer.parseInt(input);\r\n\t\t\t\tSystem.out.println(&quot;You selected: &quot; + number)\r\n        \t}\r\n\r\n\t\t    }\r\n\r\n\t\t    catch (NumberFormatException)\r\n\t\t    {\r\n\t\t\t     input = JOptionPane.showInputDialog(&quot;Enter a valid integer: &quot;);\r\n\t\t    }\r\n\r\n\r\n\t    }\r\n\r\n    }","title":"identifier expected in try catch block","body":"<p>I am trying to run a catch block but it keeps saying that an identifier is expected. Any help would be welcome. The object of this method (it is in a main so I can test it) is to get a valid value for an integer. If the value is not valid it should loop until a valid number is entered. I attempted to do this using a while loop, and the try...catch to fix any exceptions. Thank you</p>\n<pre><code>import javax.swing.JOptionPane;\nimport java.lang.Integer;\n\npublic class test\n{\n    public static void main (String[] args) throws NumberFormatException\n    {\n        String input;\n        boolean x = false;\n        int number;\n\n        input = JOptionPane.showInputDialog(&quot;Enter an integer: &quot;);      //creates input box for user to enter integer value\n        number = Integer.parseInt(input);\n\n        try\n        {\n           while (number &lt; -2147483648 &amp;&amp; number &gt; 2147483647)\n        {\n            x = false;\n            number = Integer.parseInt(input);\n            System.out.println(&quot;You selected: &quot; + number)\n        }\n\n        }\n\n        catch (NumberFormatException)\n        {\n             input = JOptionPane.showInputDialog(&quot;Enter a valid integer: &quot;);\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","extjs"],"comments":[{"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"score":0,"creation_date":1639278755,"post_id":70308635,"comment_id":124307088,"body_markdown":"I have removed all jdk and used cmd with djk.. it helped.","body":"I have removed all jdk and used cmd with djk.. it helped."},{"owner":{"account_id":18463354,"reputation":1,"user_id":13450234,"display_name":"arik 007"},"score":0,"creation_date":1639294972,"post_id":70308635,"comment_id":124308868,"body_markdown":"jdks are necessary for me to do other JAVA related works.","body":"jdks are necessary for me to do other JAVA related works."}],"owner":{"account_id":18463354,"reputation":1,"user_id":13450234,"display_name":"arik 007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639159178,"creation_date":1639159178,"question_id":70308635,"body_markdown":"When I do sencha app build, I see error \r\n\r\n     Sencha Cmd v5.1.3.61\r\n    [INF] Processing Build Descriptor : default\r\n    [ERR] javax/xml/bind/DatatypeConverter\r\nSearch shows something wrong with jdk versions.I have jdk 1.8.0_032 and 11.0.11 installed on my Mac, though 1.8.0_032 set as default. How to fix this?","title":"Sencha ExtJS 5.1.61 app build: [ERR] javax/xml/bind/DatatypeConverter","body":"<p>When I do sencha app build, I see error</p>\n<pre><code> Sencha Cmd v5.1.3.61\n[INF] Processing Build Descriptor : default\n[ERR] javax/xml/bind/DatatypeConverter\n</code></pre>\n<p>Search shows something wrong with jdk versions.I have jdk 1.8.0_032 and 11.0.11 installed on my Mac, though 1.8.0_032 set as default. How to fix this?</p>\n"},{"tags":["java","swing","jframe","contentpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638719585,"post_id":70234904,"comment_id":124157239,"body_markdown":"Maybe this will help: https://stackoverflow.com/questions/32843038/transparent-jframe. If not search the site for other example. Keywords might be &quot;transparent jframe&quot;.","body":"Maybe this will help: <a href=\"https://stackoverflow.com/questions/32843038/transparent-jframe\">stackoverflow.com/questions/32843038/transparent-jframe</a>. If not search the site for other example. Keywords might be &quot;transparent jframe&quot;."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638773798,"post_id":70234904,"comment_id":124168349,"body_markdown":"Swing was not designed to paint with transparent backgrounds.  You cannot create a transparent contentPane.","body":"Swing was not designed to paint with transparent backgrounds.  You cannot create a transparent contentPane."}],"answers":[{"tags":[],"owner":{"account_id":23409177,"reputation":11,"user_id":17471136,"display_name":"Tarik Mujcic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638758856,"creation_date":1638712654,"answer_id":70235034,"question_id":70234904,"body_markdown":"You can use `setVisible(false)` method for each element that is inside that `JFrame`. You use this in the `intialize()` method. Once you want them to be shown (for example after some button is clicked) than you will use the same method `setVisible(true)`.","title":"How to make the JFrame contentPane transparent but the JFrame visible?","body":"<p>You can use <code>setVisible(false)</code> method for each element that is inside that <code>JFrame</code>. You use this in the <code>intialize()</code> method. Once you want them to be shown (for example after some button is clicked) than you will use the same method <code>setVisible(true)</code>.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638788978,"creation_date":1638780128,"answer_id":70242789,"question_id":70234904,"body_markdown":"Swing was not designed to paint with transparent backgrounds. You cannot create a transparent contentPane.  However, you can fake a transparent background.\r\n\r\nHere&#39;s a screenshot showing a fake transparent background.  I cropped and reduced the image by 50% to get it to display in this answer.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, how did I do this?\r\n\r\nI took a snapshot of the background and painted the background on the `JPanel`.\r\n\r\nThis only works if you **do not change the background** while you&#39;re displaying your `JFrame`.  If you change the background by opening or closing any other applications,  this fake **will not work**.\r\n\r\nYou can move the `JFrame` around.  Do not move the JFrame close to the edge of the screen, or you&#39;ll ruin the illusion.\r\n\r\nIconifying and deiconifying the `JFrame` works, but the illusion becomes obvious.\r\n\r\nYou can resize, maximize, and restore the `JFrame`.\r\n\r\nIt requires a lot of code to make this fake work properly.\r\n\r\nHere&#39;s the complete runnable code.  I made all the additional classes inner classes so I could post this code as one block.\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Graphics;\r\n    import java.awt.Image;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TransparentJPanelView implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new TransparentJPanelView());\r\n    \t}\r\n    \t\r\n    \tprivate DrawingPanel drawingPanel;\r\n    \t\r\n    \tprivate JFrame frame;\r\n    \t\r\n    \tprivate TransparentJPanelModel model;\r\n    \t\r\n    \tpublic TransparentJPanelView() {\r\n    \t\tthis.model = new TransparentJPanelModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tthis.frame = new JFrame(&quot;Fake Transparent JPanel&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.addComponentListener(new FrameComponentListener(this, model));\r\n    \t\tFrameListener listener = new FrameListener(this, model);\r\n    \t\tframe.addWindowListener(listener);\r\n    \t\tframe.addWindowFocusListener(listener);\r\n    \t\tframe.addWindowStateListener(listener);\r\n    \r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    \t\r\n    \tpublic JFrame getFrame() {\r\n    \t\treturn frame;\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate TransparentJPanelModel model;\r\n    \t\t\r\n    \t\tpublic DrawingPanel(TransparentJPanelModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setLayout(new FlowLayout());\r\n    \t\t\tthis.setPreferredSize(new Dimension(600, 300));\r\n    \t\t\t\r\n    \t\t\tJButton button = new JButton(&quot;Click me&quot;);\r\n    \t\t\tthis.add(button);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\t\r\n    \t\t\tPoint point = new Point(this.getLocation()); \r\n    \t\t\tSwingUtilities.convertPointToScreen(point, this); \r\n    \t\t\t\r\n    \t\t\tImage image = model.getSubImage(point.x, point.y, getWidth(), getHeight());\r\n    \t\t\tg.drawImage(image, 0, 0, this);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class FrameComponentListener extends ComponentAdapter {\r\n    \t\t\r\n    \t\tprivate final TransparentJPanelView view;\r\n    \t\t\r\n    \t\tprivate final TransparentJPanelModel model;\r\n    \t\t\r\n    \t\tpublic FrameComponentListener(TransparentJPanelView view, \r\n    \t\t\t\tTransparentJPanelModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void componentResized(ComponentEvent event) {\r\n    \t\t\tview.repaint();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void componentMoved(ComponentEvent event) {\r\n    \t\t\tview.repaint();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic class FrameListener extends WindowAdapter { \r\n    \r\n    \t\tprivate final TransparentJPanelView view;\r\n    \t\t\r\n    \t\tprivate final TransparentJPanelModel model;\r\n    \t\t\r\n    \t\tpublic FrameListener(TransparentJPanelView view, \r\n    \t\t\t\tTransparentJPanelModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void windowDeiconified(WindowEvent event) {\r\n    \t\t\tmodel.setBackground();\r\n    \t\t\tview.repaint();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class TransparentJPanelModel {\r\n    \t\t\r\n    \t\tprivate BufferedImage background;\r\n    \t\t\r\n    \t\tprivate final Rectangle screenRect;\r\n    \t\t\r\n    \t\tprivate final Robot robot;\r\n    \t\t\r\n    \t\tpublic TransparentJPanelModel() {\r\n    \t\t\tthis.robot = createRobot();\r\n    \t\t\tthis.screenRect = new Rectangle(\r\n    \t\t\t\t\tToolkit.getDefaultToolkit().getScreenSize());\r\n    \t\t\tsetBackground();\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate Robot createRobot() {\r\n    \t\t\tRobot robot = null;\r\n    \t\t\ttry {\r\n    \t\t\t\trobot = new Robot();\r\n    \t\t\t} catch (AWTException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\treturn robot;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setBackground() {\r\n    \t\t\tthis.background = robot.createScreenCapture(screenRect);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Image getSubImage(int x, int y, int width, int height) {\r\n    \t\t\tif (x &lt; 0) {\r\n    \t\t\t\tx = 0;\r\n    \t\t\t\twidth = Math.min(width, screenRect.width);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (y &lt; 0) {\r\n    \t\t\t\ty = 0;\r\n    \t\t\t\theight = Math.min(height, screenRect.height);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (x + width &gt; screenRect.width) {\r\n    \t\t\t\twidth = screenRect.width - x;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (y + height &gt; screenRect.height) {\r\n    \t\t\t\theight = screenRect.height - y;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn background.getSubimage(x, y, width, height);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/blHnY.jpg\r\n","title":"How to make the JFrame contentPane transparent but the JFrame visible?","body":"<p>Swing was not designed to paint with transparent backgrounds. You cannot create a transparent contentPane.  However, you can fake a transparent background.</p>\n<p>Here's a screenshot showing a fake transparent background.  I cropped and reduced the image by 50% to get it to display in this answer.</p>\n<p><a href=\"https://i.stack.imgur.com/blHnY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blHnY.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So, how did I do this?</p>\n<p>I took a snapshot of the background and painted the background on the <code>JPanel</code>.</p>\n<p>This only works if you <strong>do not change the background</strong> while you're displaying your <code>JFrame</code>.  If you change the background by opening or closing any other applications,  this fake <strong>will not work</strong>.</p>\n<p>You can move the <code>JFrame</code> around.  Do not move the JFrame close to the edge of the screen, or you'll ruin the illusion.</p>\n<p>Iconifying and deiconifying the <code>JFrame</code> works, but the illusion becomes obvious.</p>\n<p>You can resize, maximize, and restore the <code>JFrame</code>.</p>\n<p>It requires a lot of code to make this fake work properly.</p>\n<p>Here's the complete runnable code.  I made all the additional classes inner classes so I could post this code as one block.</p>\n<pre><code>import java.awt.AWTException;\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class TransparentJPanelView implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new TransparentJPanelView());\n    }\n    \n    private DrawingPanel drawingPanel;\n    \n    private JFrame frame;\n    \n    private TransparentJPanelModel model;\n    \n    public TransparentJPanelView() {\n        this.model = new TransparentJPanelModel();\n        this.drawingPanel = new DrawingPanel(model);\n    }\n\n    @Override\n    public void run() {\n        this.frame = new JFrame(&quot;Fake Transparent JPanel&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.addComponentListener(new FrameComponentListener(this, model));\n        FrameListener listener = new FrameListener(this, model);\n        frame.addWindowListener(listener);\n        frame.addWindowFocusListener(listener);\n        frame.addWindowStateListener(listener);\n\n        frame.add(drawingPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    public void repaint() {\n        drawingPanel.repaint();\n    }\n    \n    public JFrame getFrame() {\n        return frame;\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        \n        private TransparentJPanelModel model;\n        \n        public DrawingPanel(TransparentJPanelModel model) {\n            this.model = model;\n            this.setLayout(new FlowLayout());\n            this.setPreferredSize(new Dimension(600, 300));\n            \n            JButton button = new JButton(&quot;Click me&quot;);\n            this.add(button);\n        }\n        \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            \n            Point point = new Point(this.getLocation()); \n            SwingUtilities.convertPointToScreen(point, this); \n            \n            Image image = model.getSubImage(point.x, point.y, getWidth(), getHeight());\n            g.drawImage(image, 0, 0, this);\n        }\n        \n    }\n    \n    public class FrameComponentListener extends ComponentAdapter {\n        \n        private final TransparentJPanelView view;\n        \n        private final TransparentJPanelModel model;\n        \n        public FrameComponentListener(TransparentJPanelView view, \n                TransparentJPanelModel model) {\n            this.view = view;\n            this.model = model;\n        }\n\n        @Override\n        public void componentResized(ComponentEvent event) {\n            view.repaint();\n        }\n\n        @Override\n        public void componentMoved(ComponentEvent event) {\n            view.repaint();\n        }\n\n    }\n    \n    public class FrameListener extends WindowAdapter { \n\n        private final TransparentJPanelView view;\n        \n        private final TransparentJPanelModel model;\n        \n        public FrameListener(TransparentJPanelView view, \n                TransparentJPanelModel model) {\n            this.view = view;\n            this.model = model;\n        }\n        \n        @Override\n        public void windowDeiconified(WindowEvent event) {\n            model.setBackground();\n            view.repaint();\n        }\n        \n    }\n    \n    public class TransparentJPanelModel {\n        \n        private BufferedImage background;\n        \n        private final Rectangle screenRect;\n        \n        private final Robot robot;\n        \n        public TransparentJPanelModel() {\n            this.robot = createRobot();\n            this.screenRect = new Rectangle(\n                    Toolkit.getDefaultToolkit().getScreenSize());\n            setBackground();\n        }\n        \n        private Robot createRobot() {\n            Robot robot = null;\n            try {\n                robot = new Robot();\n            } catch (AWTException e) {\n                e.printStackTrace();\n            }\n            return robot;\n        }\n\n        public void setBackground() {\n            this.background = robot.createScreenCapture(screenRect);\n        }\n        \n        public Image getSubImage(int x, int y, int width, int height) {\n            if (x &lt; 0) {\n                x = 0;\n                width = Math.min(width, screenRect.width);\n            }\n            \n            if (y &lt; 0) {\n                y = 0;\n                height = Math.min(height, screenRect.height);\n            }\n            \n            if (x + width &gt; screenRect.width) {\n                width = screenRect.width - x;\n            }\n            \n            if (y + height &gt; screenRect.height) {\n                height = screenRect.height - y;\n            }\n            \n            return background.getSubimage(x, y, width, height);\n        }\n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":22091461,"reputation":77,"user_id":17566880,"display_name":"Learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70242789,"answer_count":2,"score":1,"last_activity_date":1639158750,"creation_date":1638711779,"question_id":70234904,"body_markdown":"I wanted to know how to make the JFrame&#39;s  contentPane transparent but the JFrame visible. I saw many pages but all showed on how to make the JFrame border visible but the contentPane visible. \r\n\r\nI tried using `setOpacity()` but that requires the JFrame to be `undecorated`.\r\n\r\nAre there any methods that I can achieve this?","title":"How to make the JFrame contentPane transparent but the JFrame visible?","body":"<p>I wanted to know how to make the JFrame's  contentPane transparent but the JFrame visible. I saw many pages but all showed on how to make the JFrame border visible but the contentPane visible.</p>\n<p>I tried using <code>setOpacity()</code> but that requires the JFrame to be <code>undecorated</code>.</p>\n<p>Are there any methods that I can achieve this?</p>\n"},{"tags":["java","swing","jframe","chess","jcomponent"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1638806647,"post_id":70248235,"comment_id":124179801,"body_markdown":"`setBounds()` is always a problem in Swing code.  Don&#39;t use it, use a layout manager.","body":"<code>setBounds()</code> is always a problem in Swing code.  Don&#39;t use it, use a layout manager."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638813372,"post_id":70248235,"comment_id":124182410,"body_markdown":"No need for custom painting. Just set the background when you create the component. Check out: https://stackoverflow.com/questions/6811247/drawing-in-jlayeredpane-over-exising-jpanels/6811800#6811800 for a basic example showing this approach as well has simple logic for dragging components around the board.","body":"No need for custom painting. Just set the background when you create the component. Check out: <a href=\"https://stackoverflow.com/questions/6811247/drawing-in-jlayeredpane-over-exising-jpanels/6811800#6811800\" title=\"drawing in jlayeredpane over exising jpanels\">stackoverflow.com/questions/6811247/&hellip;</a> for a basic example showing this approach as well has simple logic for dragging components around the board."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638810263,"creation_date":1638806682,"answer_id":70248350,"question_id":70248235,"body_markdown":"Do not call repaint() in paintComponent. Otherwise you will never exit the EDT and lock up your code. And the first statement in `paintComponent(Graphics g)` should be `super.paintComponent(g);`\r\n\r\nUpdated to include an example\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Point;\r\nimport java.util.Random;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class DrawSquareComponent extends JPanel {\r\n\tstatic int WIDTH = 600;\r\n\tstatic int HEIGHT = 600;\r\n\tJFrame frame = new JFrame();\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew DrawSquareComponent().start();\r\n\t}\r\n\t\r\n\tpublic void start() {\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(this);\r\n\t\tframe.pack();\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t\tsetBackground(Color.white);\r\n\t\tMyComponent my =new MyComponent();\r\n\t\tadd(my); // add my component to panel\r\n\t\tRandom r = new Random();\r\n\t\tfor (int i = 0; i &lt; 20; i++) {\r\n\t\t\tint size = r.nextInt(50)+50;\r\n\t\t\tint x = r.nextInt(WIDTH-size)+1;\r\n\t\t\tint y = r.nextInt(HEIGHT-size)+1;\r\n\t\t\tmy.setBounds(x,y,size,size);\r\n\t\t\tframe.repaint();\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (InterruptedException ie) {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(WIDTH, HEIGHT);\r\n\t}\r\n}\r\n\r\nclass MyComponent extends JPanel {\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tGraphics gg = g.create();\r\n\t\tsuper.paintComponent(gg);\r\n\t\t// location relative to parent&#39;s.\r\n\t\t// used to check location in parent&#39;s coordinate space.\r\n\t\tPoint p = getLocation();\r\n\t\tif ((p.x + p.y) % 2 == 0) {\r\n\t\t\tgg.setColor(Color.blue);\r\n\t\t} else {\r\n\t\t\tgg.setColor(Color.cyan);\r\n\t\t}\r\n\t\t// paint this component so location is always 0,0.\r\n\t\t// all you&#39;re doing is painting this squares background\r\n\t\tgg.fillRect(0,0, this.getWidth(), this.getHeight());\r\n\t\tgg.dispose();\r\n\t}\r\n}","title":"Why arent the squares being painted?","body":"<p>Do not call repaint() in paintComponent. Otherwise you will never exit the EDT and lock up your code. And the first statement in <code>paintComponent(Graphics g)</code> should be <code>super.paintComponent(g);</code></p>\n<p>Updated to include an example</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.util.Random;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class DrawSquareComponent extends JPanel {\n    static int WIDTH = 600;\n    static int HEIGHT = 600;\n    JFrame frame = new JFrame();\n    \n    public static void main(String[] args) {\n        new DrawSquareComponent().start();\n    }\n    \n    public void start() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(this);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        setBackground(Color.white);\n        MyComponent my =new MyComponent();\n        add(my); // add my component to panel\n        Random r = new Random();\n        for (int i = 0; i &lt; 20; i++) {\n            int size = r.nextInt(50)+50;\n            int x = r.nextInt(WIDTH-size)+1;\n            int y = r.nextInt(HEIGHT-size)+1;\n            my.setBounds(x,y,size,size);\n            frame.repaint();\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException ie) {\n            }\n        }\n    }\n    \n    public Dimension getPreferredSize() {\n        return new Dimension(WIDTH, HEIGHT);\n    }\n}\n\nclass MyComponent extends JPanel {\n    @Override\n    public void paintComponent(Graphics g) {\n        Graphics gg = g.create();\n        super.paintComponent(gg);\n        // location relative to parent's.\n        // used to check location in parent's coordinate space.\n        Point p = getLocation();\n        if ((p.x + p.y) % 2 == 0) {\n            gg.setColor(Color.blue);\n        } else {\n            gg.setColor(Color.cyan);\n        }\n        // paint this component so location is always 0,0.\n        // all you're doing is painting this squares background\n        gg.fillRect(0,0, this.getWidth(), this.getHeight());\n        gg.dispose();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22567395,"reputation":1,"user_id":16754183,"display_name":"warriorloewe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639158702,"creation_date":1638806128,"question_id":70248235,"body_markdown":"I started a Chess Project reusing some older code to paint a map everything basically has been copy pasted. The problem is the squares dont show up? I tried fixing it for a while now and got to no solution. Here are probably the three most important methods and a zip with the whole project. Some of it is in German.\r\n\r\nhttps://drive.google.com/file/d/1nnZHLB0Ycy04eMyYbEmduMwbGhVLZ2VB/view?usp=sharing\r\n```\r\npublic SchachFrame() {\r\n\t\tsuper();\r\n\t\tcontentPane = new JPanel();\r\n\t\tsetContentPane(contentPane);\r\n\t\tsetBounds(0, 0, window.width, window.height);\r\n\t\tcontentPane.setBackground(Color.darkGray);\r\n\t\tcontentPane.setVisible(true);\r\n\t\t\r\n\t\tge = new GameEnvironment(this);\r\n\t\tge.setBounds(window.width/2 - 500, window.height/2 - 500, 1000, 1000);\r\n\t\tge.setVisible(true);\r\n\t\tcontentPane.add(ge);\r\n\t\t\r\n\t\tThread gameEnvironment = new Thread(ge);\r\n\t\tgameEnvironment.start();\r\n\t\t\r\n\t\tsetResizable(false);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetVisible(true);\r\n\t} \r\n\r\n\r\npublic void createMap(int width, int length, GameEnvironment ge) {\r\n\t\tmap = new Spielfeld[length][width];\r\n\t\tSpielfeld.width = 1000/width;\r\n\t\tSpielfeld.height = 1000/length;\r\n\t\tfor(int i = 0; i &lt; length; i++) {\r\n\t\t\tfor(int j = 0; j &lt; width; j++) {\r\n\t\t\t\tthis.map[i][j] = new Spielfeld(j, i, null);\r\n\t\t\t\tthis.map[i][j].setBounds(ge.getX() + j * Spielfeld.width, ge.getY() + i * Spielfeld.height, Spielfeld.width, Spielfeld.height);\r\n\t\t\t\tthis.map[i][j].setVisible(true);\r\n\t\t\t\tge.add(this.map[i][j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\npublic void paintComponent(Graphics g) {\r\n\t\tif((this.px + this.py) % 2 == 0) {\r\n\t\t\tg.setColor(Color.blue);\r\n\t\t} else {\r\n\t\t\tg.setColor(Color.cyan);\r\n\t\t}\r\n\t\tg.fillRect(this.getX(), this.getY(), this.getWidth(), this.getHeight());\r\n\t\trepaint();\r\n\t}\r\n\r\n```","title":"Why arent the squares being painted?","body":"<p>I started a Chess Project reusing some older code to paint a map everything basically has been copy pasted. The problem is the squares dont show up? I tried fixing it for a while now and got to no solution. Here are probably the three most important methods and a zip with the whole project. Some of it is in German.</p>\n<p><a href=\"https://drive.google.com/file/d/1nnZHLB0Ycy04eMyYbEmduMwbGhVLZ2VB/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1nnZHLB0Ycy04eMyYbEmduMwbGhVLZ2VB/view?usp=sharing</a></p>\n<pre><code>public SchachFrame() {\n        super();\n        contentPane = new JPanel();\n        setContentPane(contentPane);\n        setBounds(0, 0, window.width, window.height);\n        contentPane.setBackground(Color.darkGray);\n        contentPane.setVisible(true);\n        \n        ge = new GameEnvironment(this);\n        ge.setBounds(window.width/2 - 500, window.height/2 - 500, 1000, 1000);\n        ge.setVisible(true);\n        contentPane.add(ge);\n        \n        Thread gameEnvironment = new Thread(ge);\n        gameEnvironment.start();\n        \n        setResizable(false);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    } \n\n\npublic void createMap(int width, int length, GameEnvironment ge) {\n        map = new Spielfeld[length][width];\n        Spielfeld.width = 1000/width;\n        Spielfeld.height = 1000/length;\n        for(int i = 0; i &lt; length; i++) {\n            for(int j = 0; j &lt; width; j++) {\n                this.map[i][j] = new Spielfeld(j, i, null);\n                this.map[i][j].setBounds(ge.getX() + j * Spielfeld.width, ge.getY() + i * Spielfeld.height, Spielfeld.width, Spielfeld.height);\n                this.map[i][j].setVisible(true);\n                ge.add(this.map[i][j]);\n            }\n        }\n    }\n\n\npublic void paintComponent(Graphics g) {\n        if((this.px + this.py) % 2 == 0) {\n            g.setColor(Color.blue);\n        } else {\n            g.setColor(Color.cyan);\n        }\n        g.fillRect(this.getX(), this.getY(), this.getWidth(), this.getHeight());\n        repaint();\n    }\n\n</code></pre>\n"},{"tags":["java","android","kotlin","junit","android-espresso"],"answers":[{"tags":[],"owner":{"account_id":336119,"reputation":17010,"user_id":663604,"accept_rate":89,"display_name":"Oliver Spryn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639158683,"creation_date":1639158683,"answer_id":70308550,"question_id":70258965,"body_markdown":"I had this same issue, too. I spent a ton of time researching it, and ultimately found that your issue stems from this: https://issuetracker.google.com/issues/204506297\r\n\r\nEssentially, that version of the Espresso library tries to use an enum from another library that it does not have scoping access to. They have fixed the issue here: https://github.com/android/android-test/pull/1174\r\n\r\nUnfortunately, at the time of writing `3.5.0-alpha03` is the latest version. So, you can either wait for `alpha04`/`beta01` or downgrade back to `3.4.0` until the issue is fixed.","title":"Android Espresso Test: Illegal class access: &#39;androidx.test.core.app.ListFuture&#39; attempting to access &#39;androidx.concurrent.futures.DirectExecutor&#39;","body":"<p>I had this same issue, too. I spent a ton of time researching it, and ultimately found that your issue stems from this: <a href=\"https://issuetracker.google.com/issues/204506297\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/204506297</a></p>\n<p>Essentially, that version of the Espresso library tries to use an enum from another library that it does not have scoping access to. They have fixed the issue here: <a href=\"https://github.com/android/android-test/pull/1174\" rel=\"nofollow noreferrer\">https://github.com/android/android-test/pull/1174</a></p>\n<p>Unfortunately, at the time of writing <code>3.5.0-alpha03</code> is the latest version. So, you can either wait for <code>alpha04</code>/<code>beta01</code> or downgrade back to <code>3.4.0</code> until the issue is fixed.</p>\n"}],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70308550,"answer_count":1,"score":2,"last_activity_date":1639158683,"creation_date":1638874804,"question_id":70258965,"body_markdown":"I have the following UI test file and extensions file for an app I am making:\r\n\r\n```\r\npackage com.realtomjoney.pyxlmoose.activities.`2_canvas`\r\n\r\nimport androidx.test.espresso.Espresso.onView\r\nimport androidx.test.espresso.assertion.ViewAssertions.matches\r\nimport androidx.test.espresso.matcher.ViewMatchers.*\r\nimport androidx.test.ext.junit.rules.ActivityScenarioRule\r\nimport androidx.test.filters.LargeTest\r\nimport com.realtomjoney.pyxlmoose.R\r\nimport org.junit.Rule\r\nimport org.junit.Test\r\nimport org.junit.runner.RunWith\r\nimport androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner\r\nimport com.realtomjoney.pyxlmoose.AndroidTestUtilityFunctions\r\nimport com.realtomjoney.pyxlmoose.activities.canvas.CanvasActivity\r\n\r\n@LargeTest\r\n@RunWith(AndroidJUnit4ClassRunner::class)\r\nclass CanvasActivityTestsOnFindAndReplaceButtonTap {\r\n    @get:Rule\r\n    var activityTestRule = ActivityScenarioRule(CanvasActivity::class.java)\r\n\r\n    @Test fun uitest_doneButton_isNotDisplayed_after_findAndReplaceButton_isPressed() {\r\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\r\n        onView(withId(R.id.activityCanvas_doneButton)).check(matches(withEffectiveVisibility(Visibility.GONE)))\r\n    }\r\n\r\n    @Test fun uitest_colorPickerRecyclerView_isNotDisplayed_after_findAndReplaceButton_isPressed() {\r\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\r\n        onView(withId(R.id.activityCanvas_colorPickerRecyclerView)).check(matches(withEffectiveVisibility(Visibility.GONE)))\r\n    }\r\n\r\n    @Test fun uitest_titleTextView_isNotDisplayed_after_findAndReplaceButton_isPressed() {\r\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\r\n        onView(withId(R.id.activityCanvas_canvasTitleEditText)).check(matches(withEffectiveVisibility(Visibility.GONE)))\r\n    }\r\n\r\n    @Test fun uitest_colorSwapButton_isNotDisplayed_after_findAndReplaceButton_isPressed() {\r\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\r\n        onView(withId(R.id.activityCanvas_colorSwapButton)).check(matches(withEffectiveVisibility(Visibility.GONE)))\r\n    }\r\n\r\n    @Test fun uitest_colorPrimarySelected_isNotDisplayed_after_findAndReplaceButton_isPressed() {\r\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\r\n        onView(withId(R.id.activityCanvas_colorPrimaryView)).check(matches(withEffectiveVisibility(Visibility.GONE)))\r\n    }\r\n\r\n    @Test fun uitest_colorSecondarySelected_isNotDisplayed_after_findAndReplaceButton_isPressed() {\r\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\r\n        onView(withId(R.id.activityCanvas_colorSecondaryView)).check(matches(withEffectiveVisibility(Visibility.GONE)))\r\n    }\r\n}\r\n```\r\n\r\n```\r\nobject AndroidTestUtilityFunctions {\r\n    private const val defaultProjectName = &quot;Unnamed Project&quot;\r\n    private const val defaultProjectSpanCount = 5\r\n\r\n    fun goToFindAndReplaceFragment() {\r\n        onView(withId(R.id.activityCanvas_canvasToolsScrollView)).perform(swipeLeft())\r\n        onView(withId(R.id.activityCanvas_findAndReplaceButton)).perform(click())\r\n    }\r\n\r\n    fun createNewProject(projectName: String = defaultProjectName, spanCount: Int = defaultProjectSpanCount) {\r\n        onView(withId(R.id.activityMain_newProjectButton)).perform(click())\r\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputEditText)).perform(replaceText(projectName))\r\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputEditText)).perform(replaceText(spanCount.toString()))\r\n        onView(withId(R.id.fragmentNewCanvas_doneButton)).perform(click())\r\n    }\r\n}\r\n```\r\n\r\nFor some reason, when I run the UI tests, I get the following annoying exception:\r\n\r\n```\r\njava.lang.IllegalAccessError: Illegal class access: &#39;androidx.test.core.app.ListFuture&#39; attempting to access &#39;androidx.concurrent.futures.DirectExecutor&#39; (declaration of &#39;androidx.test.core.app.ListFuture&#39; appears in /data/app/~~xOjrSE9BCeINue7sOBFVJw==/com.realtomjoney.pyxlmoose.test-VqvV0FRJD_fIuyk2Jiuyyw==/base.apk)\r\n\tat androidx.test.core.app.ListFuture.directExecutor(ListFuture.java:139)\r\n\tat androidx.test.core.app.ListFuture.init(ListFuture.java:101)\r\n\tat androidx.test.core.app.ListFuture.&lt;init&gt;(ListFuture.java:84)\r\n\tat androidx.test.core.app.DeviceCapture$forceRedrawGlobalWindowViews$1.run(DeviceCapture.kt:151)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loopOnce(Looper.java:201)\r\n\tat android.os.Looper.loop(Looper.java:288)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7842)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n```\r\n\r\nI have no idea why this is happening, I&#39;ve tried for a couple of weeks to solve it but with no luck - I am still getting the same exception whenever I try and execute my UI tests. This is extremely bad as I am actually committing faulty code on a regular basis! I really need this issue fixed.","title":"Android Espresso Test: Illegal class access: &#39;androidx.test.core.app.ListFuture&#39; attempting to access &#39;androidx.concurrent.futures.DirectExecutor&#39;","body":"<p>I have the following UI test file and extensions file for an app I am making:</p>\n<pre><code>package com.realtomjoney.pyxlmoose.activities.`2_canvas`\n\nimport androidx.test.espresso.Espresso.onView\nimport androidx.test.espresso.assertion.ViewAssertions.matches\nimport androidx.test.espresso.matcher.ViewMatchers.*\nimport androidx.test.ext.junit.rules.ActivityScenarioRule\nimport androidx.test.filters.LargeTest\nimport com.realtomjoney.pyxlmoose.R\nimport org.junit.Rule\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner\nimport com.realtomjoney.pyxlmoose.AndroidTestUtilityFunctions\nimport com.realtomjoney.pyxlmoose.activities.canvas.CanvasActivity\n\n@LargeTest\n@RunWith(AndroidJUnit4ClassRunner::class)\nclass CanvasActivityTestsOnFindAndReplaceButtonTap {\n    @get:Rule\n    var activityTestRule = ActivityScenarioRule(CanvasActivity::class.java)\n\n    @Test fun uitest_doneButton_isNotDisplayed_after_findAndReplaceButton_isPressed() {\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\n        onView(withId(R.id.activityCanvas_doneButton)).check(matches(withEffectiveVisibility(Visibility.GONE)))\n    }\n\n    @Test fun uitest_colorPickerRecyclerView_isNotDisplayed_after_findAndReplaceButton_isPressed() {\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\n        onView(withId(R.id.activityCanvas_colorPickerRecyclerView)).check(matches(withEffectiveVisibility(Visibility.GONE)))\n    }\n\n    @Test fun uitest_titleTextView_isNotDisplayed_after_findAndReplaceButton_isPressed() {\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\n        onView(withId(R.id.activityCanvas_canvasTitleEditText)).check(matches(withEffectiveVisibility(Visibility.GONE)))\n    }\n\n    @Test fun uitest_colorSwapButton_isNotDisplayed_after_findAndReplaceButton_isPressed() {\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\n        onView(withId(R.id.activityCanvas_colorSwapButton)).check(matches(withEffectiveVisibility(Visibility.GONE)))\n    }\n\n    @Test fun uitest_colorPrimarySelected_isNotDisplayed_after_findAndReplaceButton_isPressed() {\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\n        onView(withId(R.id.activityCanvas_colorPrimaryView)).check(matches(withEffectiveVisibility(Visibility.GONE)))\n    }\n\n    @Test fun uitest_colorSecondarySelected_isNotDisplayed_after_findAndReplaceButton_isPressed() {\n        AndroidTestUtilityFunctions.goToFindAndReplaceFragment()\n        onView(withId(R.id.activityCanvas_colorSecondaryView)).check(matches(withEffectiveVisibility(Visibility.GONE)))\n    }\n}\n</code></pre>\n<pre><code>object AndroidTestUtilityFunctions {\n    private const val defaultProjectName = &quot;Unnamed Project&quot;\n    private const val defaultProjectSpanCount = 5\n\n    fun goToFindAndReplaceFragment() {\n        onView(withId(R.id.activityCanvas_canvasToolsScrollView)).perform(swipeLeft())\n        onView(withId(R.id.activityCanvas_findAndReplaceButton)).perform(click())\n    }\n\n    fun createNewProject(projectName: String = defaultProjectName, spanCount: Int = defaultProjectSpanCount) {\n        onView(withId(R.id.activityMain_newProjectButton)).perform(click())\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputEditText)).perform(replaceText(projectName))\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputEditText)).perform(replaceText(spanCount.toString()))\n        onView(withId(R.id.fragmentNewCanvas_doneButton)).perform(click())\n    }\n}\n</code></pre>\n<p>For some reason, when I run the UI tests, I get the following annoying exception:</p>\n<pre><code>java.lang.IllegalAccessError: Illegal class access: 'androidx.test.core.app.ListFuture' attempting to access 'androidx.concurrent.futures.DirectExecutor' (declaration of 'androidx.test.core.app.ListFuture' appears in /data/app/~~xOjrSE9BCeINue7sOBFVJw==/com.realtomjoney.pyxlmoose.test-VqvV0FRJD_fIuyk2Jiuyyw==/base.apk)\n    at androidx.test.core.app.ListFuture.directExecutor(ListFuture.java:139)\n    at androidx.test.core.app.ListFuture.init(ListFuture.java:101)\n    at androidx.test.core.app.ListFuture.&lt;init&gt;(ListFuture.java:84)\n    at androidx.test.core.app.DeviceCapture$forceRedrawGlobalWindowViews$1.run(DeviceCapture.kt:151)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:201)\n    at android.os.Looper.loop(Looper.java:288)\n    at android.app.ActivityThread.main(ActivityThread.java:7842)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I have no idea why this is happening, I've tried for a couple of weeks to solve it but with no luck - I am still getting the same exception whenever I try and execute my UI tests. This is extremely bad as I am actually committing faulty code on a regular basis! I really need this issue fixed.</p>\n"},{"tags":["java","swing","inheritance","jframe"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1638906925,"post_id":70266189,"comment_id":124211327,"body_markdown":"Which is line 74? What errors are you getting? I&#39;m not sure you&#39;re using the word &quot;inheritance&quot; correctly... can you explain what you mean?","body":"Which is line 74? What errors are you getting? I&#39;m not sure you&#39;re using the word &quot;inheritance&quot; correctly... can you explain what you mean?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1638907460,"post_id":70266189,"comment_id":124211523,"body_markdown":"Class names should start with an upper case character. Learn by example. All classes in the JDK follow this convention. *after the correct username and password are put in.* - you want to: 1) dispose of the login frame and then 2) create a new JFrame and add components to it and then make that frame visible.","body":"Class names should start with an upper case character. Learn by example. All classes in the JDK follow this convention. <i>after the correct username and password are put in.</i> - you want to: 1) dispose of the login frame and then 2) create a new JFrame and add components to it and then make that frame visible."},{"owner":{"account_id":23361285,"reputation":9,"user_id":17433463,"display_name":"FingerLessB"},"score":0,"creation_date":1638920216,"post_id":70266189,"comment_id":124215298,"body_markdown":"i&#39;m just going off what I am learning in school. This is how we are taught to do it in my class. the assignment requires us to keep both JFrames in seperate classes and call the second one once the correct login info is put in.","body":"i&#39;m just going off what I am learning in school. This is how we are taught to do it in my class. the assignment requires us to keep both JFrames in seperate classes and call the second one once the correct login info is put in."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638921245,"post_id":70266189,"comment_id":124215502,"body_markdown":"*the assignment requires us to keep both JFrames in seperate classes* - as it should which it what I suggested in my answer. The code for each frame must be in a separate class, but you need to create an instance of the second frame in the first class.","body":"<i>the assignment requires us to keep both JFrames in seperate classes</i> - as it should which it what I suggested in my answer. The code for each frame must be in a separate class, but you need to create an instance of the second frame in the first class."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638927324,"creation_date":1638909476,"answer_id":70266658,"question_id":70266189,"body_markdown":"1. Stop using form editors, they aren&#39;t helping.  Make the time and effort to learn how to use layout managers and discover the best practices for the framework. \r\n2.  The main issue isn&#39;t about inheritance, it&#39;s about declaring variables.  `frmAcmeBank` isn&#39;t declared anywhere, which is your error.\r\n\r\nStart by updating the code to something more like...\r\n\r\n    JButton btnNewButton = new JButton(&quot;Submit&quot;);\r\n    btnNewButton.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n            String password = passwordInput.getText();\r\n            String username = usernameInput.getText();\r\n\r\n            if (username.trim().toLowerCase().equals(&quot;uccs&quot;) &amp;&amp; password.trim().equals(&quot;1234&quot;)) {\r\n\r\n                acmeBank acmeBank = new acmeBank();\r\n                JFrame frmAcmeBank = new JFrame();\r\n\r\n            } else {\r\n                JOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\r\n\r\n            }\r\n\r\n        }\r\n    });\r\n\r\nNow look towards the top of the `initialize` method to see how you would go about adding `acmeBank` to a `JFrame` ... assuming that `acmeBank` is a component.\r\n\r\nA better, overall, solution would be to make use of a [`CardLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)\r\n\r\nYou may also want to take a look at [Java Code Conventions](https://www.oracle.com/technetwork/java/codeconventions-150003.pdf).  It will make it easier for you to read other peoples code and for other people to read yours\r\n\r\n# A &quot;better&quot; approach\r\n\r\nThe following examples demonstrates the use [`CardLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) as well as introducing concepts such as [delegation](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/delegation.html), [dependency Injection](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/dependency_injection.html) and the [observer](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/observer.html) patterns.  These are common patterns used in programming and provide you with a set of common tools and leads to a more flexible and maintainable design.\r\n\r\nThe example also demonstrates the principle of &quot;coding to interface&quot;, for [reference](https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3) and [reference](https://www.infoworld.com/article/2076468/smarter-java-development.html)\r\n\r\nWhy is this important?  Consider this.  You have a &quot;authentication&quot; workflow.  Right now, you workflow is tightly coupled to your `acmeBankLogin` class.  What happens if you want to change that work to use a file?  What if you want to change the structure of that file from plain text to XML or JSON or have the file compressed or encrypted or you want to use a database or web service? All of that will require you to modify the `acmeBankLogin` which could lead to no end of bugs and issues.\r\n\r\nA better solution is to decouple the responsibility for the authentication from the `acmeBankLogin` class and &quot;delegate&quot; its responsibility else where and &quot;inject&quot; it into the class.\r\n\r\nSo, we start with a basic &quot;contract&quot;\r\n\r\n    public interface Account {\r\n        public String getName();\r\n    }\r\n\r\n    public interface Authenticator {\r\n        public Account autenticate(String userName, char[] password);\r\n    }\r\n\r\nThis just says that any implementations of `Authenticator` will provide a single method to perform the authentication workflow and pass back an instance of `Account` (or `null` if they are unauthenticated), we don&#39;t care about the underlying implementation details, only that when we call any of the contract methods, it will do it&#39;s job.\r\n\r\nNext, we design our login view to accept an instance of `Authenticator` and use it to perform the actual authentication.\r\n\r\nIn this case, the `LoginPane` simply becomes responsible for getting the input from the user and passing it to the authenticator, simple.\r\n\r\n    public class LoginPane extends JPanel {\r\n\r\n        public static interface LoginListener {\r\n            public void loginDidSucceeded(LoginPane source, Account account);\r\n        }\r\n\r\n        private JTextField userNameField;\r\n        private JPasswordField passwordField;\r\n\r\n        private LoginListener loginListener;\r\n\r\n        public LoginPane(Authenticator authenticator, LoginListener loginListener) {\r\n            setLayout(new GridBagLayout());\r\n\r\n            this.loginListener = loginListener;\r\n\r\n            userNameField = new JTextField(10);\r\n            passwordField = new JPasswordField(10);\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n            gbc.anchor = GridBagConstraints.CENTER;\r\n            gbc.insets = new Insets(0, 0, 12, 0);\r\n\r\n            JLabel title = new JLabel(&quot;Bank of Smaug&quot;);\r\n            title.setFont(title.getFont().deriveFont(Font.BOLD, 32));\r\n\r\n            add(title, gbc);\r\n\r\n            gbc.gridy++;\r\n            gbc.gridwidth = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_END;\r\n            gbc.insets = new Insets(4, 4, 4, 4);\r\n            add(new JLabel(&quot;User name:&quot;), gbc);\r\n            gbc.gridy++;\r\n            add(new JLabel(&quot;Password:&quot;), gbc);\r\n\r\n            gbc.gridx++;\r\n            gbc.gridy = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_START;\r\n            add(userNameField, gbc);\r\n            gbc.gridy++;\r\n            add(passwordField, gbc);\r\n\r\n            JPanel actionPane = new JPanel(new GridBagLayout());\r\n            gbc.gridy++;\r\n            gbc.gridx = 0;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n            add(actionPane, gbc);\r\n\r\n            JButton loginButton = new JButton(&quot;Login&quot;);\r\n            actionPane.add(loginButton);\r\n\r\n            loginButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Account account = authenticator.autenticate(userNameField.getText(), passwordField.getPassword());\r\n                    if (account != null) {\r\n                        loginListener.loginDidSucceeded(LoginPane.this, account);\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(LoginPane.this, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nYou will also note that the `LoginPane` accepts an instance of `LoginListener`, which acts an &quot;observer&quot; for interested parties to be told when, in this case, authentication was successful.  This decouples the `LoginPane` from the responsibility of knowing what should be done next, as that&#39;s not its responsibility.\r\n\r\nThat&#39;s a nice start, but we really need some way to manage the users navigation.  For this I started with a `BankPanel`.  This is responsible for deciding the &quot;top level&quot; navigation flow (from login to account details)...\r\n\r\n    public class BankPane extends JPanel {\r\n\r\n        protected enum View {\r\n            LOGIN, ACCOUNT;\r\n        }\r\n\r\n        private Authenticator authenticator;\r\n        private LoginPane loginPane;\r\n        private AccountPane accountPane;\r\n\r\n        private CardLayout cardLayout;\r\n\r\n        public BankPane(Authenticator authenticator) {\r\n            setBorder(new EmptyBorder(16, 16, 16, 16));\r\n            cardLayout = new CardLayout();\r\n            setLayout(cardLayout);\r\n\r\n            this.authenticator = authenticator;\r\n\r\n            add(getLoginPane(), View.LOGIN.name());\r\n            add(getAccountPane(), View.ACCOUNT.name());\r\n\r\n            present(View.LOGIN);\r\n        }\r\n\r\n        protected void present(View view) {\r\n            cardLayout.show(this, view.name());\r\n        }\r\n\r\n        public Authenticator getAuthenticator() {\r\n            return authenticator;\r\n        }\r\n\r\n        protected LoginPane getLoginPane() {\r\n            if (loginPane != null) {\r\n                return loginPane;\r\n            }\r\n\r\n            loginPane = new LoginPane(getAuthenticator(), new LoginPane.LoginListener() {\r\n                @Override\r\n                public void loginDidSucceeded(LoginPane source, Account account) {\r\n                    getAccountPane().setAccount(account);\r\n                    present(View.ACCOUNT);\r\n                }\r\n            });\r\n\r\n            return loginPane;\r\n        }\r\n\r\n        protected AccountPane getAccountPane() {\r\n            if (accountPane != null) {\r\n                return accountPane;\r\n            }\r\n\r\n            accountPane = new AccountPane(new AccountPane.AccountListener() {\r\n                @Override\r\n                public void didLogoutFromAccount(AccountPane source) {\r\n                    present(View.LOGIN);\r\n                }\r\n            });\r\n            return accountPane;\r\n        }\r\n\r\n    }\r\n\r\nIt should be noted that it would be entirely possible for the `AccountPane` to act as &quot;navigation controller&quot; in of itself, presenting different views associated with the account, so don&#39;t think you have to have a single &quot;god&quot; class to perform these operations, but take the time to design the concepts &#128521;\r\n\r\n# Runnable example\r\n\r\nAll of that presents just part of the picture, below is a runnable example of the concepts I&#39;ve presented above...\r\n\r\n    import java.awt.CardLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Arrays;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Authenticator authenticator = new DefaultAuthenticator();\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new BankPane(authenticator));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Account {\r\n            public String getName();\r\n        }\r\n\r\n        public interface Authenticator {\r\n            public Account autenticate(String userName, char[] password);\r\n        }\r\n\r\n        public class DefaultAuthenticator implements Authenticator {\r\n\r\n            @Override\r\n            public Account autenticate(String userName, char[] password) {\r\n                if (&quot;Bilbo&quot;.equals(userName) &amp;&amp; Arrays.equals(password, new char[]{&#39;r&#39;, &#39;i&#39;, &#39;n&#39;, &#39;g&#39;})) {\r\n                    return new DefaultAccount(&quot;Bilbo Baggins&quot;);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public class DefaultAccount implements Account {\r\n\r\n            private String name;\r\n\r\n            public DefaultAccount(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n        }\r\n\r\n        public class BankPane extends JPanel {\r\n\r\n            protected enum View {\r\n                LOGIN, ACCOUNT;\r\n            }\r\n\r\n            private Authenticator authenticator;\r\n            private LoginPane loginPane;\r\n            private AccountPane accountPane;\r\n\r\n            private CardLayout cardLayout;\r\n\r\n            public BankPane(Authenticator authenticator) {\r\n                setBorder(new EmptyBorder(16, 16, 16, 16));\r\n                cardLayout = new CardLayout();\r\n                setLayout(cardLayout);\r\n\r\n                this.authenticator = authenticator;\r\n\r\n                add(getLoginPane(), View.LOGIN.name());\r\n                add(getAccountPane(), View.ACCOUNT.name());\r\n\r\n                present(View.LOGIN);\r\n            }\r\n\r\n            protected void present(View view) {\r\n                cardLayout.show(this, view.name());\r\n            }\r\n\r\n            public Authenticator getAuthenticator() {\r\n                return authenticator;\r\n            }\r\n\r\n            protected LoginPane getLoginPane() {\r\n                if (loginPane != null) {\r\n                    return loginPane;\r\n                }\r\n\r\n                loginPane = new LoginPane(getAuthenticator(), new LoginPane.LoginListener() {\r\n                    @Override\r\n                    public void loginDidSucceeded(LoginPane source, Account account) {\r\n                        getAccountPane().setAccount(account);\r\n                        present(View.ACCOUNT);\r\n                    }\r\n                });\r\n\r\n                return loginPane;\r\n            }\r\n\r\n            protected AccountPane getAccountPane() {\r\n                if (accountPane != null) {\r\n                    return accountPane;\r\n                }\r\n\r\n                accountPane = new AccountPane(new AccountPane.AccountListener() {\r\n                    @Override\r\n                    public void didLogoutFromAccount(AccountPane source) {\r\n                        present(View.LOGIN);\r\n                    }\r\n                });\r\n                return accountPane;\r\n            }\r\n\r\n        }\r\n\r\n        public class LoginPane extends JPanel {\r\n\r\n            public static interface LoginListener {\r\n\r\n                public void loginDidSucceeded(LoginPane source, Account account);\r\n            }\r\n\r\n            private JTextField userNameField;\r\n            private JPasswordField passwordField;\r\n\r\n            private LoginListener loginListener;\r\n\r\n            public LoginPane(Authenticator authenticator, LoginListener loginListener) {\r\n                setLayout(new GridBagLayout());\r\n\r\n                this.loginListener = loginListener;\r\n\r\n                userNameField = new JTextField(10);\r\n                passwordField = new JPasswordField(10);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.insets = new Insets(0, 0, 12, 0);\r\n\r\n                JLabel title = new JLabel(&quot;Bank of Smaug&quot;);\r\n                title.setFont(title.getFont().deriveFont(Font.BOLD, 32));\r\n\r\n                add(title, gbc);\r\n\r\n                gbc.gridy++;\r\n                gbc.gridwidth = 1;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                add(new JLabel(&quot;User name:&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Password:&quot;), gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 1;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                add(userNameField, gbc);\r\n                gbc.gridy++;\r\n                add(passwordField, gbc);\r\n\r\n                JPanel actionPane = new JPanel(new GridBagLayout());\r\n                gbc.gridy++;\r\n                gbc.gridx = 0;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                add(actionPane, gbc);\r\n\r\n                JButton loginButton = new JButton(&quot;Login&quot;);\r\n                actionPane.add(loginButton);\r\n\r\n                loginButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        Account account = authenticator.autenticate(userNameField.getText(), passwordField.getPassword());\r\n                        if (account != null) {\r\n                            loginListener.loginDidSucceeded(LoginPane.this, account);\r\n                        } else {\r\n                            JOptionPane.showMessageDialog(LoginPane.this, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class AccountPane extends JPanel {\r\n\r\n            public interface AccountListener {\r\n\r\n                public void didLogoutFromAccount(AccountPane source);\r\n            }\r\n\r\n            private Account account;\r\n            private AccountListener accountListener;\r\n\r\n            private JLabel accountNameLabel;\r\n\r\n            public AccountPane(AccountListener accountListener) {\r\n                this.accountListener = accountListener;\r\n\r\n                accountNameLabel = new JLabel();\r\n                accountNameLabel.setFont(accountNameLabel.getFont().deriveFont(Font.BOLD));\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n                JLabel title = new JLabel(&quot;Bank of Smaug&quot;);\r\n                title.setFont(title.getFont().deriveFont(Font.BOLD, 32));\r\n                gbc.insets = new Insets(0, 0, 12, 0);\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                add(title, gbc);\r\n\r\n                gbc.insets = new Insets(4, 0, 4, 0);\r\n                gbc.gridwidth = 1;\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 1;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n\r\n                add(new JLabel(&quot;Account of &quot;), gbc);\r\n                gbc.gridx++;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                add(accountNameLabel, gbc);\r\n\r\n                gbc.insets = new Insets(16, 16, 16, 16);\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n\r\n                JLabel summaryLabel = new JLabel(&quot;All your gold is belong to us&quot;);\r\n                summaryLabel.setFont(summaryLabel.getFont().deriveFont(Font.BOLD, 32));\r\n                add(summaryLabel, gbc);\r\n            }\r\n\r\n            public void setAccount(Account account) {\r\n                this.account = account;\r\n                accountNameLabel.setText(account.getName());\r\n            }\r\n\r\n            public Account getAccount() {\r\n                return account;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nAnd also take a look at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\n&gt; This is for a school assignment and I have to do it a certain way in order to get credit. He only taught us how to use the editors and expects us to use them. For instance one requirement for the code is to use the passwordText box which is in the editor. There&#39;s nothing I can do about that.\r\n\r\nOkay, this doesn&#39;t change anything (other than my continued dislike of your instructor).\r\n\r\nThe concepts of dependency injection, code hiding, decouple, etc all still hold.  The below example is (as much as you have provided) modified with the above the recommendations\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Arrays;\r\n    import javax.swing.GroupLayout;\r\n    import javax.swing.GroupLayout.Alignment;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Authenticator authenticator = new DefaultAuthenticator();\r\n                    AcmeBankLogin login = new AcmeBankLogin(authenticator, new AcmeBankLogin.LoginListener() {\r\n                        @Override\r\n                        public void loginDidSucceeded(AcmeBankLogin source, Account account) {\r\n                            source.frmAcmeBankLogin.dispose();\r\n                            AcmeBank bank = new AcmeBank(account, new AcmeBank.BankListener() {\r\n                                @Override\r\n                                public void didLogoutOfAccount(AcmeBank source) {\r\n                                }\r\n                            });\r\n                            bank.frmAcmeBank.pack();\r\n                            bank.frmAcmeBank.setLocationRelativeTo(null);\r\n                            bank.frmAcmeBank.setVisible(true);\r\n                        }\r\n                    });\r\n                    login.frmAcmeBankLogin.pack();\r\n                    login.frmAcmeBankLogin.setLocationRelativeTo(null);\r\n                    login.frmAcmeBankLogin.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Account {\r\n\r\n            public String getName();\r\n        }\r\n\r\n        public interface Authenticator {\r\n\r\n            public Account autenticate(String userName, char[] password);\r\n        }\r\n\r\n        public class DefaultAuthenticator implements Authenticator {\r\n\r\n            @Override\r\n            public Account autenticate(String userName, char[] password) {\r\n                if (&quot;Bilbo&quot;.equals(userName) &amp;&amp; Arrays.equals(password, new char[]{&#39;r&#39;, &#39;i&#39;, &#39;n&#39;, &#39;g&#39;})) {\r\n                    return new DefaultAccount(&quot;Bilbo Baggins&quot;);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public class DefaultAccount implements Account {\r\n\r\n            private String name;\r\n\r\n            public DefaultAccount(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n        }\r\n\r\n        public class AcmeBankLogin {\r\n\r\n            public static interface LoginListener {\r\n\r\n                public void loginDidSucceeded(AcmeBankLogin source, Account account);\r\n            }\r\n\r\n            private JFrame frmAcmeBankLogin;\r\n            private JPasswordField passwordInput;\r\n            private JTextField usernameInput;\r\n\r\n            private Authenticator authenticator;\r\n            private LoginListener loginListener;\r\n\r\n            /**\r\n             * Create the application.\r\n             */\r\n            public AcmeBankLogin(Authenticator authenticator, LoginListener loginListener) {\r\n                this.authenticator = authenticator;\r\n                this.loginListener = loginListener;\r\n                initialize();\r\n            }\r\n\r\n            public Authenticator getAuthenticator() {\r\n                return authenticator;\r\n            }\r\n\r\n            public LoginListener getLoginListener() {\r\n                return loginListener;\r\n            }\r\n\r\n            /**\r\n             * Initialize the contents of the frame.\r\n             */\r\n            private void initialize() {\r\n                frmAcmeBankLogin = new JFrame();\r\n                frmAcmeBankLogin.setTitle(&quot;ACME Bank Login&quot;);\r\n                frmAcmeBankLogin.setBounds(100, 100, 435, 230);\r\n                //frmAcmeBankLogin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n                JLabel lblNewLabel = new JLabel(&quot;Username: &quot;);\r\n\r\n                JLabel lblNewLabel_1 = new JLabel(&quot;Password:&quot;);\r\n\r\n                passwordInput = new JPasswordField(4);\r\n                usernameInput = new JTextField();\r\n                usernameInput.setColumns(10);\r\n\r\n                JButton btnNewButton = new JButton(&quot;Submit&quot;);\r\n                btnNewButton.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        Account account = getAuthenticator().autenticate(usernameInput.getText(), passwordInput.getPassword());\r\n                        if (account != null) {\r\n                            getLoginListener().loginDidSucceeded(AcmeBankLogin.this, account);\r\n                        } else {\r\n                            JOptionPane.showMessageDialog(frmAcmeBankLogin, &quot;You are not authorised&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                        }\r\n\r\n                        //String password = passwordInput.getText();\r\n                        //String username = usernameInput.getText();\r\n                        //\r\n                        //if (username.trim().toLowerCase().equals(&quot;uccs&quot;) &amp;&amp; password.trim().equals(&quot;1234&quot;)) {\r\n                        //\r\n                        //    acmeBank acmeBank = new acmeBank();\r\n                        //    frmAcmeBank = new JFrame();\r\n                        //\r\n                        //} else {\r\n                        //    JOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\r\n                        //\r\n                        //}\r\n                    }\r\n\r\n                });\r\n\r\n                GroupLayout groupLayout = new GroupLayout(frmAcmeBankLogin.getContentPane());\r\n                groupLayout.setHorizontalGroup(groupLayout.createParallelGroup(Alignment.LEADING).addGroup(groupLayout\r\n                        .createSequentialGroup().addGap(43)\r\n                        .addGroup(groupLayout\r\n                                .createParallelGroup(Alignment.LEADING).addComponent(lblNewLabel).addComponent(lblNewLabel_1))\r\n                        .addGap(34)\r\n                        .addGroup(groupLayout.createParallelGroup(Alignment.LEADING, false).addComponent(passwordInput)\r\n                                .addComponent(usernameInput, GroupLayout.DEFAULT_SIZE, 131, Short.MAX_VALUE))\r\n                        .addContainerGap(156, Short.MAX_VALUE))\r\n                        .addGroup(Alignment.TRAILING,\r\n                                groupLayout.createSequentialGroup().addContainerGap(287, Short.MAX_VALUE)\r\n                                        .addComponent(btnNewButton, GroupLayout.PREFERRED_SIZE, 81, GroupLayout.PREFERRED_SIZE)\r\n                                        .addGap(51)));\r\n                groupLayout\r\n                        .setVerticalGroup(groupLayout.createParallelGroup(Alignment.LEADING)\r\n                                .addGroup(groupLayout.createSequentialGroup().addGap(47)\r\n                                        .addGroup(groupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel)\r\n                                                .addComponent(usernameInput, GroupLayout.PREFERRED_SIZE,\r\n                                                        GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\r\n                                        .addGap(9).addComponent(btnNewButton).addGap(14)\r\n                                        .addGroup(\r\n                                                groupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel_1)\r\n                                                        .addComponent(passwordInput, GroupLayout.PREFERRED_SIZE,\r\n                                                                GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\r\n                                        .addContainerGap(70, Short.MAX_VALUE)));\r\n                frmAcmeBankLogin.getContentPane().setLayout(groupLayout);\r\n            }\r\n\r\n        }\r\n\r\n        public class AcmeBank {\r\n\r\n            public static interface BankListener {\r\n\r\n                public void didLogoutOfAccount(AcmeBank source);\r\n            }\r\n\r\n            private JFrame frmAcmeBank;\r\n\r\n            private Account account;\r\n            private BankListener bankListener;\r\n\r\n            /**\r\n             * Create the application.\r\n             */\r\n            public AcmeBank(Account account, BankListener bankListener) {\r\n                this.account = account;\r\n                this.bankListener = bankListener;\r\n                initialize();\r\n            }\r\n\r\n            public Account getAccount() {\r\n                return account;\r\n            }\r\n\r\n            public BankListener getBankListener() {\r\n                return bankListener;\r\n            }\r\n\r\n            /**\r\n             * Initialize the contents of the frame.\r\n             */\r\n            private void initialize() {\r\n                frmAcmeBank = new JFrame();\r\n                frmAcmeBank.setTitle(&quot;ACME Bank Login&quot;);\r\n                frmAcmeBank.setBounds(100, 100, 435, 230);\r\n                JPanel content = new JPanel(new GridBagLayout());\r\n                content.setBorder(new EmptyBorder(50, 50, 50, 50));\r\n                frmAcmeBank.setContentPane(content);\r\n\r\n                frmAcmeBank.add(new JLabel(&quot;All your money is belong to us&quot;));\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"inheriting a JFrame from another class using actionlistener","body":"<ol>\n<li>Stop using form editors, they aren't helping.  Make the time and effort to learn how to use layout managers and discover the best practices for the framework.</li>\n<li>The main issue isn't about inheritance, it's about declaring variables.  <code>frmAcmeBank</code> isn't declared anywhere, which is your error.</li>\n</ol>\n<p>Start by updating the code to something more like...</p>\n<pre><code>JButton btnNewButton = new JButton(&quot;Submit&quot;);\nbtnNewButton.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n\n        String password = passwordInput.getText();\n        String username = usernameInput.getText();\n\n        if (username.trim().toLowerCase().equals(&quot;uccs&quot;) &amp;&amp; password.trim().equals(&quot;1234&quot;)) {\n\n            acmeBank acmeBank = new acmeBank();\n            JFrame frmAcmeBank = new JFrame();\n\n        } else {\n            JOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\n\n        }\n\n    }\n});\n</code></pre>\n<p>Now look towards the top of the <code>initialize</code> method to see how you would go about adding <code>acmeBank</code> to a <code>JFrame</code> ... assuming that <code>acmeBank</code> is a component.</p>\n<p>A better, overall, solution would be to make use of a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a></p>\n<p>You may also want to take a look at <a href=\"https://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">Java Code Conventions</a>.  It will make it easier for you to read other peoples code and for other people to read yours</p>\n<h1>A &quot;better&quot; approach</h1>\n<p>The following examples demonstrates the use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a> as well as introducing concepts such as <a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/delegation.html\" rel=\"nofollow noreferrer\">delegation</a>, <a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/dependency_injection.html\" rel=\"nofollow noreferrer\">dependency Injection</a> and the <a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/observer.html\" rel=\"nofollow noreferrer\">observer</a> patterns.  These are common patterns used in programming and provide you with a set of common tools and leads to a more flexible and maintainable design.</p>\n<p>The example also demonstrates the principle of &quot;coding to interface&quot;, for <a href=\"https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3\" rel=\"nofollow noreferrer\">reference</a> and <a href=\"https://www.infoworld.com/article/2076468/smarter-java-development.html\" rel=\"nofollow noreferrer\">reference</a></p>\n<p>Why is this important?  Consider this.  You have a &quot;authentication&quot; workflow.  Right now, you workflow is tightly coupled to your <code>acmeBankLogin</code> class.  What happens if you want to change that work to use a file?  What if you want to change the structure of that file from plain text to XML or JSON or have the file compressed or encrypted or you want to use a database or web service? All of that will require you to modify the <code>acmeBankLogin</code> which could lead to no end of bugs and issues.</p>\n<p>A better solution is to decouple the responsibility for the authentication from the <code>acmeBankLogin</code> class and &quot;delegate&quot; its responsibility else where and &quot;inject&quot; it into the class.</p>\n<p>So, we start with a basic &quot;contract&quot;</p>\n<pre><code>public interface Account {\n    public String getName();\n}\n\npublic interface Authenticator {\n    public Account autenticate(String userName, char[] password);\n}\n</code></pre>\n<p>This just says that any implementations of <code>Authenticator</code> will provide a single method to perform the authentication workflow and pass back an instance of <code>Account</code> (or <code>null</code> if they are unauthenticated), we don't care about the underlying implementation details, only that when we call any of the contract methods, it will do it's job.</p>\n<p>Next, we design our login view to accept an instance of <code>Authenticator</code> and use it to perform the actual authentication.</p>\n<p>In this case, the <code>LoginPane</code> simply becomes responsible for getting the input from the user and passing it to the authenticator, simple.</p>\n<pre><code>public class LoginPane extends JPanel {\n\n    public static interface LoginListener {\n        public void loginDidSucceeded(LoginPane source, Account account);\n    }\n\n    private JTextField userNameField;\n    private JPasswordField passwordField;\n\n    private LoginListener loginListener;\n\n    public LoginPane(Authenticator authenticator, LoginListener loginListener) {\n        setLayout(new GridBagLayout());\n\n        this.loginListener = loginListener;\n\n        userNameField = new JTextField(10);\n        passwordField = new JPasswordField(10);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        gbc.anchor = GridBagConstraints.CENTER;\n        gbc.insets = new Insets(0, 0, 12, 0);\n\n        JLabel title = new JLabel(&quot;Bank of Smaug&quot;);\n        title.setFont(title.getFont().deriveFont(Font.BOLD, 32));\n\n        add(title, gbc);\n\n        gbc.gridy++;\n        gbc.gridwidth = 1;\n        gbc.anchor = GridBagConstraints.LINE_END;\n        gbc.insets = new Insets(4, 4, 4, 4);\n        add(new JLabel(&quot;User name:&quot;), gbc);\n        gbc.gridy++;\n        add(new JLabel(&quot;Password:&quot;), gbc);\n\n        gbc.gridx++;\n        gbc.gridy = 1;\n        gbc.anchor = GridBagConstraints.LINE_START;\n        add(userNameField, gbc);\n        gbc.gridy++;\n        add(passwordField, gbc);\n\n        JPanel actionPane = new JPanel(new GridBagLayout());\n        gbc.gridy++;\n        gbc.gridx = 0;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        add(actionPane, gbc);\n\n        JButton loginButton = new JButton(&quot;Login&quot;);\n        actionPane.add(loginButton);\n\n        loginButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Account account = authenticator.autenticate(userNameField.getText(), passwordField.getPassword());\n                if (account != null) {\n                    loginListener.loginDidSucceeded(LoginPane.this, account);\n                } else {\n                    JOptionPane.showMessageDialog(LoginPane.this, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>You will also note that the <code>LoginPane</code> accepts an instance of <code>LoginListener</code>, which acts an &quot;observer&quot; for interested parties to be told when, in this case, authentication was successful.  This decouples the <code>LoginPane</code> from the responsibility of knowing what should be done next, as that's not its responsibility.</p>\n<p>That's a nice start, but we really need some way to manage the users navigation.  For this I started with a <code>BankPanel</code>.  This is responsible for deciding the &quot;top level&quot; navigation flow (from login to account details)...</p>\n<pre><code>public class BankPane extends JPanel {\n\n    protected enum View {\n        LOGIN, ACCOUNT;\n    }\n\n    private Authenticator authenticator;\n    private LoginPane loginPane;\n    private AccountPane accountPane;\n\n    private CardLayout cardLayout;\n\n    public BankPane(Authenticator authenticator) {\n        setBorder(new EmptyBorder(16, 16, 16, 16));\n        cardLayout = new CardLayout();\n        setLayout(cardLayout);\n\n        this.authenticator = authenticator;\n\n        add(getLoginPane(), View.LOGIN.name());\n        add(getAccountPane(), View.ACCOUNT.name());\n\n        present(View.LOGIN);\n    }\n\n    protected void present(View view) {\n        cardLayout.show(this, view.name());\n    }\n\n    public Authenticator getAuthenticator() {\n        return authenticator;\n    }\n\n    protected LoginPane getLoginPane() {\n        if (loginPane != null) {\n            return loginPane;\n        }\n\n        loginPane = new LoginPane(getAuthenticator(), new LoginPane.LoginListener() {\n            @Override\n            public void loginDidSucceeded(LoginPane source, Account account) {\n                getAccountPane().setAccount(account);\n                present(View.ACCOUNT);\n            }\n        });\n\n        return loginPane;\n    }\n\n    protected AccountPane getAccountPane() {\n        if (accountPane != null) {\n            return accountPane;\n        }\n\n        accountPane = new AccountPane(new AccountPane.AccountListener() {\n            @Override\n            public void didLogoutFromAccount(AccountPane source) {\n                present(View.LOGIN);\n            }\n        });\n        return accountPane;\n    }\n\n}\n</code></pre>\n<p>It should be noted that it would be entirely possible for the <code>AccountPane</code> to act as &quot;navigation controller&quot; in of itself, presenting different views associated with the account, so don't think you have to have a single &quot;god&quot; class to perform these operations, but take the time to design the concepts 😉</p>\n<h1>Runnable example</h1>\n<p>All of that presents just part of the picture, below is a runnable example of the concepts I've presented above...</p>\n<pre><code>import java.awt.CardLayout;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Arrays;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                Authenticator authenticator = new DefaultAuthenticator();\n                JFrame frame = new JFrame();\n                frame.add(new BankPane(authenticator));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Account {\n        public String getName();\n    }\n\n    public interface Authenticator {\n        public Account autenticate(String userName, char[] password);\n    }\n\n    public class DefaultAuthenticator implements Authenticator {\n\n        @Override\n        public Account autenticate(String userName, char[] password) {\n            if (&quot;Bilbo&quot;.equals(userName) &amp;&amp; Arrays.equals(password, new char[]{'r', 'i', 'n', 'g'})) {\n                return new DefaultAccount(&quot;Bilbo Baggins&quot;);\n            }\n            return null;\n        }\n    }\n\n    public class DefaultAccount implements Account {\n\n        private String name;\n\n        public DefaultAccount(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n\n    }\n\n    public class BankPane extends JPanel {\n\n        protected enum View {\n            LOGIN, ACCOUNT;\n        }\n\n        private Authenticator authenticator;\n        private LoginPane loginPane;\n        private AccountPane accountPane;\n\n        private CardLayout cardLayout;\n\n        public BankPane(Authenticator authenticator) {\n            setBorder(new EmptyBorder(16, 16, 16, 16));\n            cardLayout = new CardLayout();\n            setLayout(cardLayout);\n\n            this.authenticator = authenticator;\n\n            add(getLoginPane(), View.LOGIN.name());\n            add(getAccountPane(), View.ACCOUNT.name());\n\n            present(View.LOGIN);\n        }\n\n        protected void present(View view) {\n            cardLayout.show(this, view.name());\n        }\n\n        public Authenticator getAuthenticator() {\n            return authenticator;\n        }\n\n        protected LoginPane getLoginPane() {\n            if (loginPane != null) {\n                return loginPane;\n            }\n\n            loginPane = new LoginPane(getAuthenticator(), new LoginPane.LoginListener() {\n                @Override\n                public void loginDidSucceeded(LoginPane source, Account account) {\n                    getAccountPane().setAccount(account);\n                    present(View.ACCOUNT);\n                }\n            });\n\n            return loginPane;\n        }\n\n        protected AccountPane getAccountPane() {\n            if (accountPane != null) {\n                return accountPane;\n            }\n\n            accountPane = new AccountPane(new AccountPane.AccountListener() {\n                @Override\n                public void didLogoutFromAccount(AccountPane source) {\n                    present(View.LOGIN);\n                }\n            });\n            return accountPane;\n        }\n\n    }\n\n    public class LoginPane extends JPanel {\n\n        public static interface LoginListener {\n\n            public void loginDidSucceeded(LoginPane source, Account account);\n        }\n\n        private JTextField userNameField;\n        private JPasswordField passwordField;\n\n        private LoginListener loginListener;\n\n        public LoginPane(Authenticator authenticator, LoginListener loginListener) {\n            setLayout(new GridBagLayout());\n\n            this.loginListener = loginListener;\n\n            userNameField = new JTextField(10);\n            passwordField = new JPasswordField(10);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.insets = new Insets(0, 0, 12, 0);\n\n            JLabel title = new JLabel(&quot;Bank of Smaug&quot;);\n            title.setFont(title.getFont().deriveFont(Font.BOLD, 32));\n\n            add(title, gbc);\n\n            gbc.gridy++;\n            gbc.gridwidth = 1;\n            gbc.anchor = GridBagConstraints.LINE_END;\n            gbc.insets = new Insets(4, 4, 4, 4);\n            add(new JLabel(&quot;User name:&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Password:&quot;), gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 1;\n            gbc.anchor = GridBagConstraints.LINE_START;\n            add(userNameField, gbc);\n            gbc.gridy++;\n            add(passwordField, gbc);\n\n            JPanel actionPane = new JPanel(new GridBagLayout());\n            gbc.gridy++;\n            gbc.gridx = 0;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(actionPane, gbc);\n\n            JButton loginButton = new JButton(&quot;Login&quot;);\n            actionPane.add(loginButton);\n\n            loginButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    Account account = authenticator.autenticate(userNameField.getText(), passwordField.getPassword());\n                    if (account != null) {\n                        loginListener.loginDidSucceeded(LoginPane.this, account);\n                    } else {\n                        JOptionPane.showMessageDialog(LoginPane.this, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                    }\n                }\n            });\n        }\n    }\n\n    public class AccountPane extends JPanel {\n\n        public interface AccountListener {\n\n            public void didLogoutFromAccount(AccountPane source);\n        }\n\n        private Account account;\n        private AccountListener accountListener;\n\n        private JLabel accountNameLabel;\n\n        public AccountPane(AccountListener accountListener) {\n            this.accountListener = accountListener;\n\n            accountNameLabel = new JLabel();\n            accountNameLabel.setFont(accountNameLabel.getFont().deriveFont(Font.BOLD));\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n\n            JLabel title = new JLabel(&quot;Bank of Smaug&quot;);\n            title.setFont(title.getFont().deriveFont(Font.BOLD, 32));\n            gbc.insets = new Insets(0, 0, 12, 0);\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.CENTER;\n            add(title, gbc);\n\n            gbc.insets = new Insets(4, 0, 4, 0);\n            gbc.gridwidth = 1;\n            gbc.gridx = 0;\n            gbc.gridy = 1;\n            gbc.anchor = GridBagConstraints.LINE_END;\n\n            add(new JLabel(&quot;Account of &quot;), gbc);\n            gbc.gridx++;\n            gbc.anchor = GridBagConstraints.LINE_START;\n            add(accountNameLabel, gbc);\n\n            gbc.insets = new Insets(16, 16, 16, 16);\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.CENTER;\n\n            JLabel summaryLabel = new JLabel(&quot;All your gold is belong to us&quot;);\n            summaryLabel.setFont(summaryLabel.getFont().deriveFont(Font.BOLD, 32));\n            add(summaryLabel, gbc);\n        }\n\n        public void setAccount(Account account) {\n            this.account = account;\n            accountNameLabel.setText(account.getName());\n        }\n\n        public Account getAccount() {\n            return account;\n        }\n\n    }\n}\n</code></pre>\n<p>And also take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n<blockquote>\n<p>This is for a school assignment and I have to do it a certain way in order to get credit. He only taught us how to use the editors and expects us to use them. For instance one requirement for the code is to use the passwordText box which is in the editor. There's nothing I can do about that.</p>\n</blockquote>\n<p>Okay, this doesn't change anything (other than my continued dislike of your instructor).</p>\n<p>The concepts of dependency injection, code hiding, decouple, etc all still hold.  The below example is (as much as you have provided) modified with the above the recommendations</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Arrays;\nimport javax.swing.GroupLayout;\nimport javax.swing.GroupLayout.Alignment;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                Authenticator authenticator = new DefaultAuthenticator();\n                AcmeBankLogin login = new AcmeBankLogin(authenticator, new AcmeBankLogin.LoginListener() {\n                    @Override\n                    public void loginDidSucceeded(AcmeBankLogin source, Account account) {\n                        source.frmAcmeBankLogin.dispose();\n                        AcmeBank bank = new AcmeBank(account, new AcmeBank.BankListener() {\n                            @Override\n                            public void didLogoutOfAccount(AcmeBank source) {\n                            }\n                        });\n                        bank.frmAcmeBank.pack();\n                        bank.frmAcmeBank.setLocationRelativeTo(null);\n                        bank.frmAcmeBank.setVisible(true);\n                    }\n                });\n                login.frmAcmeBankLogin.pack();\n                login.frmAcmeBankLogin.setLocationRelativeTo(null);\n                login.frmAcmeBankLogin.setVisible(true);\n            }\n        });\n    }\n\n    public interface Account {\n\n        public String getName();\n    }\n\n    public interface Authenticator {\n\n        public Account autenticate(String userName, char[] password);\n    }\n\n    public class DefaultAuthenticator implements Authenticator {\n\n        @Override\n        public Account autenticate(String userName, char[] password) {\n            if (&quot;Bilbo&quot;.equals(userName) &amp;&amp; Arrays.equals(password, new char[]{'r', 'i', 'n', 'g'})) {\n                return new DefaultAccount(&quot;Bilbo Baggins&quot;);\n            }\n            return null;\n        }\n    }\n\n    public class DefaultAccount implements Account {\n\n        private String name;\n\n        public DefaultAccount(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n\n    }\n\n    public class AcmeBankLogin {\n\n        public static interface LoginListener {\n\n            public void loginDidSucceeded(AcmeBankLogin source, Account account);\n        }\n\n        private JFrame frmAcmeBankLogin;\n        private JPasswordField passwordInput;\n        private JTextField usernameInput;\n\n        private Authenticator authenticator;\n        private LoginListener loginListener;\n\n        /**\n         * Create the application.\n         */\n        public AcmeBankLogin(Authenticator authenticator, LoginListener loginListener) {\n            this.authenticator = authenticator;\n            this.loginListener = loginListener;\n            initialize();\n        }\n\n        public Authenticator getAuthenticator() {\n            return authenticator;\n        }\n\n        public LoginListener getLoginListener() {\n            return loginListener;\n        }\n\n        /**\n         * Initialize the contents of the frame.\n         */\n        private void initialize() {\n            frmAcmeBankLogin = new JFrame();\n            frmAcmeBankLogin.setTitle(&quot;ACME Bank Login&quot;);\n            frmAcmeBankLogin.setBounds(100, 100, 435, 230);\n            //frmAcmeBankLogin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            JLabel lblNewLabel = new JLabel(&quot;Username: &quot;);\n\n            JLabel lblNewLabel_1 = new JLabel(&quot;Password:&quot;);\n\n            passwordInput = new JPasswordField(4);\n            usernameInput = new JTextField();\n            usernameInput.setColumns(10);\n\n            JButton btnNewButton = new JButton(&quot;Submit&quot;);\n            btnNewButton.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    Account account = getAuthenticator().autenticate(usernameInput.getText(), passwordInput.getPassword());\n                    if (account != null) {\n                        getLoginListener().loginDidSucceeded(AcmeBankLogin.this, account);\n                    } else {\n                        JOptionPane.showMessageDialog(frmAcmeBankLogin, &quot;You are not authorised&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                    }\n\n                    //String password = passwordInput.getText();\n                    //String username = usernameInput.getText();\n                    //\n                    //if (username.trim().toLowerCase().equals(&quot;uccs&quot;) &amp;&amp; password.trim().equals(&quot;1234&quot;)) {\n                    //\n                    //    acmeBank acmeBank = new acmeBank();\n                    //    frmAcmeBank = new JFrame();\n                    //\n                    //} else {\n                    //    JOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\n                    //\n                    //}\n                }\n\n            });\n\n            GroupLayout groupLayout = new GroupLayout(frmAcmeBankLogin.getContentPane());\n            groupLayout.setHorizontalGroup(groupLayout.createParallelGroup(Alignment.LEADING).addGroup(groupLayout\n                    .createSequentialGroup().addGap(43)\n                    .addGroup(groupLayout\n                            .createParallelGroup(Alignment.LEADING).addComponent(lblNewLabel).addComponent(lblNewLabel_1))\n                    .addGap(34)\n                    .addGroup(groupLayout.createParallelGroup(Alignment.LEADING, false).addComponent(passwordInput)\n                            .addComponent(usernameInput, GroupLayout.DEFAULT_SIZE, 131, Short.MAX_VALUE))\n                    .addContainerGap(156, Short.MAX_VALUE))\n                    .addGroup(Alignment.TRAILING,\n                            groupLayout.createSequentialGroup().addContainerGap(287, Short.MAX_VALUE)\n                                    .addComponent(btnNewButton, GroupLayout.PREFERRED_SIZE, 81, GroupLayout.PREFERRED_SIZE)\n                                    .addGap(51)));\n            groupLayout\n                    .setVerticalGroup(groupLayout.createParallelGroup(Alignment.LEADING)\n                            .addGroup(groupLayout.createSequentialGroup().addGap(47)\n                                    .addGroup(groupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel)\n                                            .addComponent(usernameInput, GroupLayout.PREFERRED_SIZE,\n                                                    GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\n                                    .addGap(9).addComponent(btnNewButton).addGap(14)\n                                    .addGroup(\n                                            groupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel_1)\n                                                    .addComponent(passwordInput, GroupLayout.PREFERRED_SIZE,\n                                                            GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\n                                    .addContainerGap(70, Short.MAX_VALUE)));\n            frmAcmeBankLogin.getContentPane().setLayout(groupLayout);\n        }\n\n    }\n\n    public class AcmeBank {\n\n        public static interface BankListener {\n\n            public void didLogoutOfAccount(AcmeBank source);\n        }\n\n        private JFrame frmAcmeBank;\n\n        private Account account;\n        private BankListener bankListener;\n\n        /**\n         * Create the application.\n         */\n        public AcmeBank(Account account, BankListener bankListener) {\n            this.account = account;\n            this.bankListener = bankListener;\n            initialize();\n        }\n\n        public Account getAccount() {\n            return account;\n        }\n\n        public BankListener getBankListener() {\n            return bankListener;\n        }\n\n        /**\n         * Initialize the contents of the frame.\n         */\n        private void initialize() {\n            frmAcmeBank = new JFrame();\n            frmAcmeBank.setTitle(&quot;ACME Bank Login&quot;);\n            frmAcmeBank.setBounds(100, 100, 435, 230);\n            JPanel content = new JPanel(new GridBagLayout());\n            content.setBorder(new EmptyBorder(50, 50, 50, 50));\n            frmAcmeBank.setContentPane(content);\n\n            frmAcmeBank.add(new JLabel(&quot;All your money is belong to us&quot;));\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23361285,"reputation":9,"user_id":17433463,"display_name":"FingerLessB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1639158138,"creation_date":1638906795,"question_id":70266189,"body_markdown":"I am trying to use inheritence to pull a JFrame from another class once a button is pushed on the first JFrame. I am unsure of how to do this properly and keep getting different errors. This is the current code I have. Can someone help me out/walk me through the proper way to do this using the code I have? or do I need to rewrite everything? \r\n```java\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.GroupLayout;\r\nimport javax.swing.GroupLayout.Alignment;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JButton;\r\nimport javax.swing.LayoutStyle.ComponentPlacement;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPasswordField;\r\n\r\npublic class acmeBankLogin {\r\n\r\n\r\n\tprivate JFrame frmAcmeBankLogin;\r\n\tprivate JPasswordField passwordInput;\r\n\tprivate JTextField usernameInput;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tacmeBankLogin window = new acmeBankLogin();\r\n\t\t\t\t\twindow.frmAcmeBankLogin.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tpublic acmeBankLogin() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\tfrmAcmeBankLogin = new JFrame();\r\n\t\tfrmAcmeBankLogin.setTitle(&quot;ACME Bank Login&quot;);\r\n\t\tfrmAcmeBankLogin.setBounds(100, 100, 435, 230);\r\n\t\tfrmAcmeBankLogin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t\tJLabel lblNewLabel = new JLabel(&quot;Username: &quot;);\r\n\r\n\t\tJLabel lblNewLabel_1 = new JLabel(&quot;Password:&quot;);\r\n\r\n\t\tpasswordInput = new JPasswordField(4);\r\n\t\tusernameInput = new JTextField();\r\n\t\tusernameInput.setColumns(10);\r\n\r\n\t\tJButton btnNewButton = new JButton(&quot;Submit&quot;);\r\n\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\t\t\tString password = passwordInput.getText();\r\n\t\t\t\tString username = usernameInput.getText();\r\n\r\n\t\t\t\tif (username.trim().toLowerCase().equals(&quot;uccs&quot;) &amp;&amp; password.trim().equals(&quot;1234&quot;)) {\r\n\r\n\t\t\t\t\tacmeBank acmeBank = new acmeBank();\r\n\t\t\t\t\tfrmAcmeBank = new JFrame();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse {\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tGroupLayout groupLayout = new GroupLayout(frmAcmeBankLogin.getContentPane());\r\n\t\tgroupLayout.setHorizontalGroup(groupLayout.createParallelGroup(Alignment.LEADING).addGroup(groupLayout\r\n\t\t\t\t.createSequentialGroup().addGap(43)\r\n\t\t\t\t.addGroup(groupLayout\r\n\t\t\t\t\t\t.createParallelGroup(Alignment.LEADING).addComponent(lblNewLabel).addComponent(lblNewLabel_1))\r\n\t\t\t\t.addGap(34)\r\n\t\t\t\t.addGroup(groupLayout.createParallelGroup(Alignment.LEADING, false).addComponent(passwordInput)\r\n\t\t\t\t\t\t.addComponent(usernameInput, GroupLayout.DEFAULT_SIZE, 131, Short.MAX_VALUE))\r\n\t\t\t\t.addContainerGap(156, Short.MAX_VALUE))\r\n\t\t\t\t.addGroup(Alignment.TRAILING,\r\n\t\t\t\t\t\tgroupLayout.createSequentialGroup().addContainerGap(287, Short.MAX_VALUE)\r\n\t\t\t\t\t\t\t\t.addComponent(btnNewButton, GroupLayout.PREFERRED_SIZE, 81, GroupLayout.PREFERRED_SIZE)\r\n\t\t\t\t\t\t\t\t.addGap(51)));\r\n\t\tgroupLayout\r\n\t\t\t\t.setVerticalGroup(groupLayout.createParallelGroup(Alignment.LEADING)\r\n\t\t\t\t\t\t.addGroup(groupLayout.createSequentialGroup().addGap(47)\r\n\t\t\t\t\t\t\t\t.addGroup(groupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel)\r\n\t\t\t\t\t\t\t\t\t\t.addComponent(usernameInput, GroupLayout.PREFERRED_SIZE,\r\n\t\t\t\t\t\t\t\t\t\t\t\tGroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\r\n\t\t\t\t\t\t\t\t.addGap(9).addComponent(btnNewButton).addGap(14)\r\n\t\t\t\t\t\t\t\t.addGroup(\r\n\t\t\t\t\t\t\t\t\t\tgroupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel_1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.addComponent(passwordInput, GroupLayout.PREFERRED_SIZE,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tGroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\r\n\t\t\t\t\t\t\t\t.addContainerGap(70, Short.MAX_VALUE)));\r\n\t\tfrmAcmeBankLogin.getContentPane().setLayout(groupLayout);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nthe inheretence should be taking place on line 74. after the correct username and password are put in. ","title":"inheriting a JFrame from another class using actionlistener","body":"<p>I am trying to use inheritence to pull a JFrame from another class once a button is pushed on the first JFrame. I am unsure of how to do this properly and keep getting different errors. This is the current code I have. Can someone help me out/walk me through the proper way to do this using the code I have? or do I need to rewrite everything?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.GroupLayout;\nimport javax.swing.GroupLayout.Alignment;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\nimport javax.swing.LayoutStyle.ComponentPlacement;\nimport java.awt.Font;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPasswordField;\n\npublic class acmeBankLogin {\n\n\n    private JFrame frmAcmeBankLogin;\n    private JPasswordField passwordInput;\n    private JTextField usernameInput;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    acmeBankLogin window = new acmeBankLogin();\n                    window.frmAcmeBankLogin.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public acmeBankLogin() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frmAcmeBankLogin = new JFrame();\n        frmAcmeBankLogin.setTitle(&quot;ACME Bank Login&quot;);\n        frmAcmeBankLogin.setBounds(100, 100, 435, 230);\n        frmAcmeBankLogin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel lblNewLabel = new JLabel(&quot;Username: &quot;);\n\n        JLabel lblNewLabel_1 = new JLabel(&quot;Password:&quot;);\n\n        passwordInput = new JPasswordField(4);\n        usernameInput = new JTextField();\n        usernameInput.setColumns(10);\n\n        JButton btnNewButton = new JButton(&quot;Submit&quot;);\n        btnNewButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n\n                String password = passwordInput.getText();\n                String username = usernameInput.getText();\n\n                if (username.trim().toLowerCase().equals(&quot;uccs&quot;) &amp;&amp; password.trim().equals(&quot;1234&quot;)) {\n\n                    acmeBank acmeBank = new acmeBank();\n                    frmAcmeBank = new JFrame();\n\n                }\n\n                else {\n                    JOptionPane.showMessageDialog(null, &quot;Incorrect username/password!&quot;);\n\n                }\n\n            }\n\n        });\n\n        GroupLayout groupLayout = new GroupLayout(frmAcmeBankLogin.getContentPane());\n        groupLayout.setHorizontalGroup(groupLayout.createParallelGroup(Alignment.LEADING).addGroup(groupLayout\n                .createSequentialGroup().addGap(43)\n                .addGroup(groupLayout\n                        .createParallelGroup(Alignment.LEADING).addComponent(lblNewLabel).addComponent(lblNewLabel_1))\n                .addGap(34)\n                .addGroup(groupLayout.createParallelGroup(Alignment.LEADING, false).addComponent(passwordInput)\n                        .addComponent(usernameInput, GroupLayout.DEFAULT_SIZE, 131, Short.MAX_VALUE))\n                .addContainerGap(156, Short.MAX_VALUE))\n                .addGroup(Alignment.TRAILING,\n                        groupLayout.createSequentialGroup().addContainerGap(287, Short.MAX_VALUE)\n                                .addComponent(btnNewButton, GroupLayout.PREFERRED_SIZE, 81, GroupLayout.PREFERRED_SIZE)\n                                .addGap(51)));\n        groupLayout\n                .setVerticalGroup(groupLayout.createParallelGroup(Alignment.LEADING)\n                        .addGroup(groupLayout.createSequentialGroup().addGap(47)\n                                .addGroup(groupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel)\n                                        .addComponent(usernameInput, GroupLayout.PREFERRED_SIZE,\n                                                GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\n                                .addGap(9).addComponent(btnNewButton).addGap(14)\n                                .addGroup(\n                                        groupLayout.createParallelGroup(Alignment.BASELINE).addComponent(lblNewLabel_1)\n                                                .addComponent(passwordInput, GroupLayout.PREFERRED_SIZE,\n                                                        GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\n                                .addContainerGap(70, Short.MAX_VALUE)));\n        frmAcmeBankLogin.getContentPane().setLayout(groupLayout);\n    }\n\n}\n\n</code></pre>\n<p>the inheretence should be taking place on line 74. after the correct username and password are put in.</p>\n"},{"tags":["java","swing","jframe","jpanel","jcomponent"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1639150743,"post_id":70299717,"comment_id":124282531,"body_markdown":"1) Don&#39;t override paint() on your JFrame. 2) Class names should start with an upper case character. Some are correct. Others are not. Be consistent! 3) For making a game you can do custom painting instead of trying to use real components. Check out: https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681 for an example of custom painting of multiple &quot;ball&quot; objects.","body":"1) Don&#39;t override paint() on your JFrame. 2) Class names should start with an upper case character. Some are correct. Others are not. Be consistent! 3) For making a game you can do custom painting instead of trying to use real components. Check out: <a href=\"https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681\" title=\"get width and height of jpanel outside of the class\">stackoverflow.com/questions/54028090/&hellip;</a> for an example of custom painting of multiple &quot;ball&quot; objects."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1639157976,"post_id":70299717,"comment_id":124285332,"body_markdown":"[Edit] to add a [mre] we can run and look at closely.","body":"<a href=\"https://stackoverflow.com/posts/70299717/edit\">Edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> we can run and look at closely."}],"owner":{"account_id":20142356,"reputation":3,"user_id":14771769,"display_name":"Maya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639157914,"creation_date":1639109956,"question_id":70299717,"body_markdown":"Hello I am currently making a small game in java, and I am running into problems trying to making the gamepanel. I am using a JPanel as the basis and JPanel to the top to put in a HUD, and a gamepanel for the playable protion of the game. I can add the two panels the HUD and gamepanel fine. However the objects which are JComponents will not show up at all. I know they are created I&#39;m not sure how to make them visible though.\r\n\r\nHere are my classes:\r\nThis is my window class that holds the panels:\r\n\r\n    public class Window extends JFrame  {\r\n\r\n    public static final int ScreenWidth = 1000;\r\n    public static final int ScreenHeight = 700;\r\n    public static JFrame frame;\r\n    private StatesHandler statesHandler;\r\n    public Window(JFrame frame) throws IOException {\r\n        this.frame = frame;\r\n        this.statesHandler = new StatesHandler();\r\n        displaywindow();\r\n    }\r\n\r\n\r\n\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n    }\r\n\r\n    public void displaywindow() {\r\n        this.frame.setLayout(new FlowLayout());\r\n        this.frame.setPreferredSize(new Dimension(ScreenWidth,ScreenHeight));\r\n        this.frame.setMaximumSize(new Dimension(ScreenWidth,ScreenHeight));\r\n        this.frame.setMinimumSize(new Dimension(ScreenWidth,ScreenHeight));\r\n        this.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.frame.setResizable(false);\r\n        this.frame.setBackground(Color.pink);\r\n        this.frame.setLocationRelativeTo(null);\r\n        this.frame.pack();\r\n        this.frame.setVisible(true);\r\n\r\n    }\r\n\r\n    public JFrame getFrame() {\r\n        return this.frame;\r\n    }\r\n\r\nThis is this the level class:\r\nit holds the hud and the gamepanel\r\n    private Window win;\r\n\r\n    Level(Window win) {\r\n        this.setPreferredSize(new Dimension(gw,gh));\r\n        this.win = win;\r\n        this.setFocusable(true);\r\n        this.requestFocus();\r\n        Hud hud = new Hud();\r\n        getwinframe().getContentPane().add(hud);\r\n        getwinframe().getContentPane().validate();\r\n        gamepanel gmp = new gamepanel();\r\n        getwinframe().getContentPane().add(gmp);\r\n        getwinframe().getContentPane().revalidate();\r\n        Ball ball = new Ball(600, 200, 3, 3);\r\n        System.out.println(this);\r\n        gmp.add(ball);\r\n        gmp.revalidate();\r\n        \r\n    }\r\nHere is the Ball which I am trying to add to gamepanel\r\n\r\n    public Ball(int xpos, int ypos,int vx, int vy) {\r\n        this.xpos =xpos;\r\n        this.ypos = ypos;\r\n        this.vx = vx;\r\n        this.vy = vy;\r\n        this.collsionbox = new Rectangle(xpos, ypos, bwidth, bheight);\r\n\r\n    }\r\n\r\nThis is the gamepanel which I&#39;m trying to add the ball to\r\n        \r\n     public gamepanel(){\r\n        this.setPreferredSize(new Dimension(Window.ScreenWidth, Window.ScreenHeight -Window.ScreenHeight/6));\r\n        this.setLayout(new FlowLayout());\r\n        System.out.println(Window.ScreenWidth +&quot;  &quot; + Window.ScreenHeight/6);\r\n        this.setBackground(Color.pink);\r\n        Ball ball2 = new Ball(500, 100, 3, 3);\r\n        \r\n        System.out.println(ball2);\r\n        add(ball2);\r\n        validate();\r\n    }\r\n\r\n\r\n","title":"JComponents not showing on top of custom JPanel","body":"<p>Hello I am currently making a small game in java, and I am running into problems trying to making the gamepanel. I am using a JPanel as the basis and JPanel to the top to put in a HUD, and a gamepanel for the playable protion of the game. I can add the two panels the HUD and gamepanel fine. However the objects which are JComponents will not show up at all. I know they are created I'm not sure how to make them visible though.</p>\n<p>Here are my classes:\nThis is my window class that holds the panels:</p>\n<pre><code>public class Window extends JFrame  {\n\npublic static final int ScreenWidth = 1000;\npublic static final int ScreenHeight = 700;\npublic static JFrame frame;\nprivate StatesHandler statesHandler;\npublic Window(JFrame frame) throws IOException {\n    this.frame = frame;\n    this.statesHandler = new StatesHandler();\n    displaywindow();\n}\n\n\n\npublic void paint(Graphics g) {\n    super.paint(g);\n}\n\npublic void displaywindow() {\n    this.frame.setLayout(new FlowLayout());\n    this.frame.setPreferredSize(new Dimension(ScreenWidth,ScreenHeight));\n    this.frame.setMaximumSize(new Dimension(ScreenWidth,ScreenHeight));\n    this.frame.setMinimumSize(new Dimension(ScreenWidth,ScreenHeight));\n    this.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.frame.setResizable(false);\n    this.frame.setBackground(Color.pink);\n    this.frame.setLocationRelativeTo(null);\n    this.frame.pack();\n    this.frame.setVisible(true);\n\n}\n\npublic JFrame getFrame() {\n    return this.frame;\n}\n</code></pre>\n<p>This is this the level class:\nit holds the hud and the gamepanel\nprivate Window win;</p>\n<pre><code>Level(Window win) {\n    this.setPreferredSize(new Dimension(gw,gh));\n    this.win = win;\n    this.setFocusable(true);\n    this.requestFocus();\n    Hud hud = new Hud();\n    getwinframe().getContentPane().add(hud);\n    getwinframe().getContentPane().validate();\n    gamepanel gmp = new gamepanel();\n    getwinframe().getContentPane().add(gmp);\n    getwinframe().getContentPane().revalidate();\n    Ball ball = new Ball(600, 200, 3, 3);\n    System.out.println(this);\n    gmp.add(ball);\n    gmp.revalidate();\n    \n}\n</code></pre>\n<p>Here is the Ball which I am trying to add to gamepanel</p>\n<pre><code>public Ball(int xpos, int ypos,int vx, int vy) {\n    this.xpos =xpos;\n    this.ypos = ypos;\n    this.vx = vx;\n    this.vy = vy;\n    this.collsionbox = new Rectangle(xpos, ypos, bwidth, bheight);\n\n}\n</code></pre>\n<p>This is the gamepanel which I'm trying to add the ball to</p>\n<pre><code> public gamepanel(){\n    this.setPreferredSize(new Dimension(Window.ScreenWidth, Window.ScreenHeight -Window.ScreenHeight/6));\n    this.setLayout(new FlowLayout());\n    System.out.println(Window.ScreenWidth +&quot;  &quot; + Window.ScreenHeight/6);\n    this.setBackground(Color.pink);\n    Ball ball2 = new Ball(500, 100, 3, 3);\n    \n    System.out.println(ball2);\n    add(ball2);\n    validate();\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639148574,"post_id":70306313,"comment_id":124281645,"body_markdown":"what JSON implementation are you using?","body":"what JSON implementation are you using?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1639149267,"post_id":70306313,"comment_id":124281939,"body_markdown":"Also, could you include a sample JSON?","body":"Also, could you include a sample JSON?"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639152976,"creation_date":1639150493,"answer_id":70306919,"question_id":70306313,"body_markdown":"Move `String[] varArr` as a local variable in your method:\r\n\r\n    public class DBTest {\r\n    \r\n        public ArrayList&lt;String[]&gt; dataArr = new ArrayList&lt;&gt;();\r\n        //Remove this line of code (delete it)\r\n        //public String[] varArr = new String[3];\r\n    \r\n        public ArrayList&lt;String[]&gt; parseJSON(String jsonString){\r\n            try {\r\n                JSONArray array = new JSONArray(jsonString);\r\n       \r\n                    dataArr = new ArrayList&lt;&gt;();\r\n         \r\n                    for (int i = 0; i &lt; array.length(); i++) {\r\n                        JSONObject curObject = array.getJSONObject(i);\r\n                        //declare it locally\r\n                        String[] varArr = new String[] {\r\n                            curObject.getString(&quot;nameSensor&quot;),\r\n                            curObject.getString(&quot;value&quot;),\r\n                            curObject.getString(&quot;unitSensor&quot;)\r\n                        };\r\n                        \r\n                        dataArr.add(varArr);\r\n                        System.out.println(Arrays.toString(varArr));\r\n                    }\r\n                for (int i = 0; i &lt; array.length(); i++) {\r\n                     System.out.println(dataArr.get(i));\r\n                } \r\n                return dataArr;\r\n    \r\n    \r\n            }\r\n            catch (JSONException e){\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nOther improvements:\r\n\r\n- Try to design your code to work with interfaces rather than concrete classes e.g. return `List` instead of `ArrayList`\r\n- Avoid returning `null` in case the method failed. It&#39;d be better if you return an empty list or throwing a custom exception with a proper message that helps you understand the issue. This also leverages your maintenance effort.\r\n- Use attributes only if you need to maintain the state (the values) for later use. Otherwise, it&#39;d be better to use local variables instead. `dataArr` attribute seems to not be needed (at least from this piece of code).\r\n\r\nWrapping everything, this is how the code would look:\r\n\r\n    public class DBTest {\r\n        public List&lt;String[]&gt; parseJSON(String jsonString) {\r\n            List&lt;String[]&gt; dataArr = new ArrayList&lt;&gt;();\r\n            try {\r\n                JSONArray array = new JSONArray(jsonString);\r\n                for (int i = 0; i &lt; array.length(); i++) {\r\n                    JSONObject curObject = array.getJSONObject(i);\r\n                    String[] varArr = new String[] {\r\n                        curObject.getString(&quot;nameSensor&quot;),\r\n                        curObject.getString(&quot;value&quot;),\r\n                        curObject.getString(&quot;unitSensor&quot;)\r\n                    };\r\n                        \r\n                    dataArr.add(varArr);\r\n                    System.out.println(Arrays.toString(varArr));\r\n                }\r\n                for (int i = 0; i &lt; array.length(); i++) {\r\n                     System.out.println(dataArr.get(i));\r\n                } \r\n            }\r\n            catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return dataArr;\r\n        }\r\n    }\r\n","title":"How to properly add data from String[] to ArrayList&lt;String[]&gt;","body":"<p>Move <code>String[] varArr</code> as a local variable in your method:</p>\n<pre><code>public class DBTest {\n\n    public ArrayList&lt;String[]&gt; dataArr = new ArrayList&lt;&gt;();\n    //Remove this line of code (delete it)\n    //public String[] varArr = new String[3];\n\n    public ArrayList&lt;String[]&gt; parseJSON(String jsonString){\n        try {\n            JSONArray array = new JSONArray(jsonString);\n   \n                dataArr = new ArrayList&lt;&gt;();\n     \n                for (int i = 0; i &lt; array.length(); i++) {\n                    JSONObject curObject = array.getJSONObject(i);\n                    //declare it locally\n                    String[] varArr = new String[] {\n                        curObject.getString(&quot;nameSensor&quot;),\n                        curObject.getString(&quot;value&quot;),\n                        curObject.getString(&quot;unitSensor&quot;)\n                    };\n                    \n                    dataArr.add(varArr);\n                    System.out.println(Arrays.toString(varArr));\n                }\n            for (int i = 0; i &lt; array.length(); i++) {\n                 System.out.println(dataArr.get(i));\n            } \n            return dataArr;\n\n\n        }\n        catch (JSONException e){\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Other improvements:</p>\n<ul>\n<li>Try to design your code to work with interfaces rather than concrete classes e.g. return <code>List</code> instead of <code>ArrayList</code></li>\n<li>Avoid returning <code>null</code> in case the method failed. It'd be better if you return an empty list or throwing a custom exception with a proper message that helps you understand the issue. This also leverages your maintenance effort.</li>\n<li>Use attributes only if you need to maintain the state (the values) for later use. Otherwise, it'd be better to use local variables instead. <code>dataArr</code> attribute seems to not be needed (at least from this piece of code).</li>\n</ul>\n<p>Wrapping everything, this is how the code would look:</p>\n<pre><code>public class DBTest {\n    public List&lt;String[]&gt; parseJSON(String jsonString) {\n        List&lt;String[]&gt; dataArr = new ArrayList&lt;&gt;();\n        try {\n            JSONArray array = new JSONArray(jsonString);\n            for (int i = 0; i &lt; array.length(); i++) {\n                JSONObject curObject = array.getJSONObject(i);\n                String[] varArr = new String[] {\n                    curObject.getString(&quot;nameSensor&quot;),\n                    curObject.getString(&quot;value&quot;),\n                    curObject.getString(&quot;unitSensor&quot;)\n                };\n                    \n                dataArr.add(varArr);\n                System.out.println(Arrays.toString(varArr));\n            }\n            for (int i = 0; i &lt; array.length(); i++) {\n                 System.out.println(dataArr.get(i));\n            } \n        }\n        catch (JSONException e) {\n            e.printStackTrace();\n        }\n        return dataArr;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639152446,"creation_date":1639152446,"answer_id":70307334,"question_id":70306313,"body_markdown":"I want to add one point to @LuiggiMendoza&#39;s answer....\r\n\r\n***In Java, arrays are basically Objects***. The reason why creating a new array in each iteration (local to the method) is because the original code was literally overwriting the value of a single object and placing said reference to three different index location on the `ArrayList` rather than creating distinct references. Therefore, the last `System.out.print()` was printing out the same array element value for each iteration of the list. In fact, even if the array was created outside the loop, the result would&#39;ve been the same as the original code. EACH ITERATION needs a new array for this to work.","title":"How to properly add data from String[] to ArrayList&lt;String[]&gt;","body":"<p>I want to add one point to @LuiggiMendoza's answer....</p>\n<p><em><strong>In Java, arrays are basically Objects</strong></em>. The reason why creating a new array in each iteration (local to the method) is because the original code was literally overwriting the value of a single object and placing said reference to three different index location on the <code>ArrayList</code> rather than creating distinct references. Therefore, the last <code>System.out.print()</code> was printing out the same array element value for each iteration of the list. In fact, even if the array was created outside the loop, the result would've been the same as the original code. EACH ITERATION needs a new array for this to work.</p>\n"},{"tags":[],"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639152921,"creation_date":1639152921,"answer_id":70307438,"question_id":70306313,"body_markdown":"The issue lies in the following block of code.\r\n\r\n        public String[] varArr = new String[3];\r\n        ...\r\n        for (int i = 0; i &lt; array.length(); i++) {\r\n            JSONObject curObject = array.getJSONObject(i);\r\n            varArr[0] = curObject.getString(&quot;nameSensor&quot;);\r\n            varArr[1] = curObject.getString(&quot;value&quot;);\r\n            varArr[2] = curObject.getString(&quot;unitSensor&quot;);\r\n                        \r\n            dataArr.add(varArr);\r\n            System.out.println(Arrays.toString(varArr));\r\n        }\r\n\r\nAt each iteration of the for-loop, you are doing the following:\r\n\r\n1. Mutate (set values into) the same array instance, which you had instantiated and assigned to the variable `varArr` before the for-loop.\r\n2. Add a reference of this array instance to the ArrayList `dataArr`.\r\n\r\nThe outcome is that you have added references of the same array instance to the ArrayList multiple times. \r\n\r\nSince you were just updating the same underlying array instance over and over again, hence what you get at the second print statement is the last-updated value of that same array instance, printed multiple times.\r\n\r\nTo fix this, simply move the `varArr` declaration statement into the for-loop as below. What this does is that at each iteration of the for-loop, a *new* array instance is created and added to the ArrayList instead.\r\n\r\n        for (int i = 0; i &lt; array.length(); i++) {\r\n            JSONObject curObject = array.getJSONObject(i);\r\n\r\n            String[] varArr = new String[3]; // move this here\r\n\r\n            varArr[0] = curObject.getString(&quot;nameSensor&quot;);\r\n            varArr[1] = curObject.getString(&quot;value&quot;);\r\n            varArr[2] = curObject.getString(&quot;unitSensor&quot;);\r\n                        \r\n            dataArr.add(varArr);\r\n            System.out.println(Arrays.toString(varArr));\r\n        }","title":"How to properly add data from String[] to ArrayList&lt;String[]&gt;","body":"<p>The issue lies in the following block of code.</p>\n<pre><code>    public String[] varArr = new String[3];\n    ...\n    for (int i = 0; i &lt; array.length(); i++) {\n        JSONObject curObject = array.getJSONObject(i);\n        varArr[0] = curObject.getString(&quot;nameSensor&quot;);\n        varArr[1] = curObject.getString(&quot;value&quot;);\n        varArr[2] = curObject.getString(&quot;unitSensor&quot;);\n                    \n        dataArr.add(varArr);\n        System.out.println(Arrays.toString(varArr));\n    }\n</code></pre>\n<p>At each iteration of the for-loop, you are doing the following:</p>\n<ol>\n<li>Mutate (set values into) the same array instance, which you had instantiated and assigned to the variable <code>varArr</code> before the for-loop.</li>\n<li>Add a reference of this array instance to the ArrayList <code>dataArr</code>.</li>\n</ol>\n<p>The outcome is that you have added references of the same array instance to the ArrayList multiple times.</p>\n<p>Since you were just updating the same underlying array instance over and over again, hence what you get at the second print statement is the last-updated value of that same array instance, printed multiple times.</p>\n<p>To fix this, simply move the <code>varArr</code> declaration statement into the for-loop as below. What this does is that at each iteration of the for-loop, a <em>new</em> array instance is created and added to the ArrayList instead.</p>\n<pre><code>    for (int i = 0; i &lt; array.length(); i++) {\n        JSONObject curObject = array.getJSONObject(i);\n\n        String[] varArr = new String[3]; // move this here\n\n        varArr[0] = curObject.getString(&quot;nameSensor&quot;);\n        varArr[1] = curObject.getString(&quot;value&quot;);\n        varArr[2] = curObject.getString(&quot;unitSensor&quot;);\n                    \n        dataArr.add(varArr);\n        System.out.println(Arrays.toString(varArr));\n    }\n</code></pre>\n"}],"owner":{"account_id":23610434,"reputation":87,"user_id":17645537,"display_name":"Joerie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70306919,"answer_count":3,"score":1,"last_activity_date":1639157895,"creation_date":1639147911,"question_id":70306313,"body_markdown":"so for my school project we will be working with an SQL database and have to show the values on a JFrame panel.\r\n\r\nFor data to show in a JTable we have to require next syntaxt: (def)\r\n\r\n```JTable table = new JTable(String[][] data , String[] header);```\r\n\r\nSince I don&#39;t know how many queries I will have to handle we will read them into a ArrayList&lt;String[]&gt; . Every time I press the button this method **parseJSON** will be called and I will create a new 2D-ArrayList consisting of String arrays aka String[] elements\r\n\r\n\r\n    public class DBTest {\r\n    \r\n        public ArrayList&lt;String[]&gt; dataArr = new ArrayList&lt;&gt;();\r\n        public String[] varArr = new String[3];\r\n    \r\n        public ArrayList&lt;String[]&gt; parseJSON(String jsonString){\r\n            try {\r\n                JSONArray array = new JSONArray(jsonString);\r\n       \r\n                    dataArr = new ArrayList&lt;&gt;();\r\n         \r\n                    for (int i = 0; i &lt; array.length(); i++) {\r\n                        JSONObject curObject = array.getJSONObject(i);\r\n                        varArr[0] = curObject.getString(&quot;nameSensor&quot;);\r\n                        varArr[1] = curObject.getString(&quot;value&quot;);\r\n                        varArr[2] = curObject.getString(&quot;unitSensor&quot;);\r\n                        \r\n                        dataArr.add(varArr);\r\n                        System.out.println(Arrays.toString(varArr));\r\n                    }\r\n                for (int i = 0; i &lt; array.length(); i++) {\r\n                     System.out.println(dataArr.get(i));\r\n                } \r\n                return dataArr;\r\n    \r\n    \r\n            }\r\n            catch (JSONException e){\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nFor the first print: I will get the proper Values e.g.\r\n\r\n**Output**\r\n\r\n[&quot;Weight&quot;,&quot;500&quot;,&quot;g&quot;]\r\n\r\n[&quot;Height&quot;, &quot;3&quot;, &quot;m&quot;]\r\n\r\n**But once I add these String[] arrays to the ArrayList and print it I will get:**\r\n\r\n**Output**\r\n\r\n[&quot;Height&quot;, &quot;3&quot;, &quot;m&quot;]\r\n\r\n[&quot;Height&quot;, &quot;3&quot;, &quot;m&quot;]\r\n","title":"How to properly add data from String[] to ArrayList&lt;String[]&gt;","body":"<p>so for my school project we will be working with an SQL database and have to show the values on a JFrame panel.</p>\n<p>For data to show in a JTable we have to require next syntaxt: (def)</p>\n<p><code>JTable table = new JTable(String[][] data , String[] header);</code></p>\n<p>Since I don't know how many queries I will have to handle we will read them into a ArrayList&lt;String[]&gt; . Every time I press the button this method <strong>parseJSON</strong> will be called and I will create a new 2D-ArrayList consisting of String arrays aka String[] elements</p>\n<pre><code>public class DBTest {\n\n    public ArrayList&lt;String[]&gt; dataArr = new ArrayList&lt;&gt;();\n    public String[] varArr = new String[3];\n\n    public ArrayList&lt;String[]&gt; parseJSON(String jsonString){\n        try {\n            JSONArray array = new JSONArray(jsonString);\n   \n                dataArr = new ArrayList&lt;&gt;();\n     \n                for (int i = 0; i &lt; array.length(); i++) {\n                    JSONObject curObject = array.getJSONObject(i);\n                    varArr[0] = curObject.getString(&quot;nameSensor&quot;);\n                    varArr[1] = curObject.getString(&quot;value&quot;);\n                    varArr[2] = curObject.getString(&quot;unitSensor&quot;);\n                    \n                    dataArr.add(varArr);\n                    System.out.println(Arrays.toString(varArr));\n                }\n            for (int i = 0; i &lt; array.length(); i++) {\n                 System.out.println(dataArr.get(i));\n            } \n            return dataArr;\n\n\n        }\n        catch (JSONException e){\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>For the first print: I will get the proper Values e.g.</p>\n<p><strong>Output</strong></p>\n<p>[&quot;Weight&quot;,&quot;500&quot;,&quot;g&quot;]</p>\n<p>[&quot;Height&quot;, &quot;3&quot;, &quot;m&quot;]</p>\n<p><strong>But once I add these String[] arrays to the ArrayList and print it I will get:</strong></p>\n<p><strong>Output</strong></p>\n<p>[&quot;Height&quot;, &quot;3&quot;, &quot;m&quot;]</p>\n<p>[&quot;Height&quot;, &quot;3&quot;, &quot;m&quot;]</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1639156643,"post_id":70308149,"comment_id":124284847,"body_markdown":"Do you need that the mocked method evaluates the condition and perform something?","body":"Do you need that the mocked method evaluates the condition and perform something?"},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1639156733,"post_id":70308149,"comment_id":124284881,"body_markdown":"Thats right @LuiggiMendoza","body":"Thats right @LuiggiMendoza"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639157228,"creation_date":1639157228,"answer_id":70308295,"question_id":70308149,"body_markdown":"When you need to mock a method with custom behavior, you can use [`answer`](https://javadoc.io/static/org.mockito/mockito-core/3.2.4/org/mockito/stubbing/Answer.html). Example:\r\n\r\n\r\n    public class MockMe {\r\n        public String hello(String name) {\r\n            return &quot;Hello &quot; + name;\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testCase() {\r\n        List&lt;Map&lt;String, Object&gt;&gt; events = service.getEvents();\r\n        int rowsAffected = service.updateEventStatus(events);\r\n        Answer&lt;String&gt; myMockedAnswer = invocation -&gt; {\r\n            if (events.size() == rowsAffected) {\r\n                return &quot;mock good&quot;;\r\n            }\r\n            return &quot;mock bad&quot;;\r\n        };\r\n        MockMe mockMe = mock(mockMe);\r\n        doAnswer(myMockedAnswer)\r\n            .when(mockMe).hello(anyString());\r\n        assertEquals(&quot;mock good&quot;, mockMe.hello(&quot;anything&quot;));\r\n    }","title":"Mockito - How to mock equality?","body":"<p>When you need to mock a method with custom behavior, you can use <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.2.4/org/mockito/stubbing/Answer.html\" rel=\"nofollow noreferrer\"><code>answer</code></a>. Example:</p>\n<pre><code>public class MockMe {\n    public String hello(String name) {\n        return &quot;Hello &quot; + name;\n    }\n}\n\n@Test\npublic void testCase() {\n    List&lt;Map&lt;String, Object&gt;&gt; events = service.getEvents();\n    int rowsAffected = service.updateEventStatus(events);\n    Answer&lt;String&gt; myMockedAnswer = invocation -&gt; {\n        if (events.size() == rowsAffected) {\n            return &quot;mock good&quot;;\n        }\n        return &quot;mock bad&quot;;\n    };\n    MockMe mockMe = mock(mockMe);\n    doAnswer(myMockedAnswer)\n        .when(mockMe).hello(anyString());\n    assertEquals(&quot;mock good&quot;, mockMe.hello(&quot;anything&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1639157228,"creation_date":1639156363,"question_id":70308149,"body_markdown":"I have the below conditional statement which I need to mock. Is it possible to mock this using mockito?\r\n\r\n    if (events.size() == rowsAffected) {\r\n    // app logic\r\n    }\r\n\r\nHere the `events` are of type `List&lt;Map&lt;String, Object&gt;&gt;` which will be returned from a function.\r\n\r\n`rowsAffected` is of type `int` which will also be returned by a method.\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; events = service.getEvents();\r\n    int rowsAffected = service.updateEventStatus(events);\r\n\r\n","title":"Mockito - How to mock equality?","body":"<p>I have the below conditional statement which I need to mock. Is it possible to mock this using mockito?</p>\n<pre><code>if (events.size() == rowsAffected) {\n// app logic\n}\n</code></pre>\n<p>Here the <code>events</code> are of type <code>List&lt;Map&lt;String, Object&gt;&gt;</code> which will be returned from a function.</p>\n<p><code>rowsAffected</code> is of type <code>int</code> which will also be returned by a method.</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; events = service.getEvents();\nint rowsAffected = service.updateEventStatus(events);\n</code></pre>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1639102062,"post_id":70298094,"comment_id":124269410,"body_markdown":"If the certificate is valid (i.e. the certificate is correctly verified in the browser), then maybe the intermediate certificates are missing in the certificate chain.","body":"If the certificate is valid (i.e. the certificate is correctly verified in the browser), then maybe the intermediate certificates are missing in the certificate chain."}],"answers":[{"tags":[],"owner":{"account_id":15151222,"reputation":142,"user_id":10933498,"display_name":"Saravana Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639157027,"creation_date":1639157027,"answer_id":70308262,"question_id":70298094,"body_markdown":"```&quot;PKIX path building failed: unable to find valid certification path to requested target&quot;```\r\n\r\nWe get this error, when the client is unable to trust the server it is talking with. The reason for distrust is that the server certificate isn&#39;t issued by a globally trusted CA. Thus, you have to explicitly tell your HTTPClient to trust the CA that issued the certificate to this server.\r\n\r\nFirst, we need to get the CA cert chain. If you don&#39;t have it already, you can get it by\r\n1) Open the URL in chrome\r\n2) Chrome will say &quot;This site can’t provide a secure connection&quot;.\r\n3) Click on the &quot;Not Secure&quot; option on the left of search bar.\r\n4) Click &quot;Certificate is not valid&quot;.\r\n5) In the details tab, click &quot;Copy to File&quot;.\r\n\r\nNext, you must load this certificate to your HTTPClient. To do that\r\n\r\n```\r\nFileInputStream fis = new FileInputStream(path_to_the_saved_file);\r\nCertificateFactory certFact = CertificateFactory.getInstance(&quot;X.509&quot;);\r\nX509Certificate caCert = (X509Certificate) certFact.generateCertificate(new BufferedInputStream(fis));\r\n\r\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\ntrustStore.load(null, null);\r\ntrustStore.setCertificateEntry(&quot;any_alias&quot;, ca);\r\n\r\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\ntmf.init(trustStore);\r\nTrustManager[] tm = tmf.getTrustManagers();\r\n\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(keyManagers, tm, null);\r\n```\r\n","title":"&quot;PKIX path building failed: unable to find valid certification path to requested target&quot; using java.net HttpClient","body":"<p><code>&quot;PKIX path building failed: unable to find valid certification path to requested target&quot;</code></p>\n<p>We get this error, when the client is unable to trust the server it is talking with. The reason for distrust is that the server certificate isn't issued by a globally trusted CA. Thus, you have to explicitly tell your HTTPClient to trust the CA that issued the certificate to this server.</p>\n<p>First, we need to get the CA cert chain. If you don't have it already, you can get it by</p>\n<ol>\n<li>Open the URL in chrome</li>\n<li>Chrome will say &quot;This site can’t provide a secure connection&quot;.</li>\n<li>Click on the &quot;Not Secure&quot; option on the left of search bar.</li>\n<li>Click &quot;Certificate is not valid&quot;.</li>\n<li>In the details tab, click &quot;Copy to File&quot;.</li>\n</ol>\n<p>Next, you must load this certificate to your HTTPClient. To do that</p>\n<pre><code>FileInputStream fis = new FileInputStream(path_to_the_saved_file);\nCertificateFactory certFact = CertificateFactory.getInstance(&quot;X.509&quot;);\nX509Certificate caCert = (X509Certificate) certFact.generateCertificate(new BufferedInputStream(fis));\n\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(null, null);\ntrustStore.setCertificateEntry(&quot;any_alias&quot;, ca);\n\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntmf.init(trustStore);\nTrustManager[] tm = tmf.getTrustManagers();\n\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(keyManagers, tm, null);\n</code></pre>\n"}],"owner":{"account_id":15172366,"reputation":81,"user_id":10948034,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639157027,"creation_date":1639093172,"question_id":70298094,"body_markdown":"I have a keystore file that is on my server and exported it into a .p12 file locally. \r\n\r\nI&#39;m using the java.net `HttpClient` class to make an HTTP GET request:\r\n\r\n     HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\nI set up my HttpClient as such: \r\n\r\n    httpClientBuilder = HttpClient.newBuilder()\r\n            .version(HttpClient.Version.HTTP_2)\r\n            .sslContext(sslContext)\r\n            .connectTimeout(Duration.ofSeconds(500));\r\n\r\nwhere sslContext is defined as:\r\n\r\n        String keyStorePassword = &quot;password&quot;;\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        InputStream is = new FileInputStream(&quot;pathToP12File.p12&quot;);\r\n        keyStore.load(is, keyStorePassword.toCharArray());\r\n\r\n        KeyManagerFactory keyFactory =\r\n            KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyFactory.init(keyStore, keyStorePassword.toCharArray());\r\n        KeyManager[] keyManagers = keyFactory.getKeyManagers();\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n\r\n        sslContext.init(keyManagers, null, null);\r\n\r\nIs there something I&#39;m misunderstanding about how `SSLContext` is set up such that the certification path isn&#39;t valid? \r\n","title":"&quot;PKIX path building failed: unable to find valid certification path to requested target&quot; using java.net HttpClient","body":"<p>I have a keystore file that is on my server and exported it into a .p12 file locally.</p>\n<p>I'm using the java.net <code>HttpClient</code> class to make an HTTP GET request:</p>\n<pre><code> HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>I set up my HttpClient as such:</p>\n<pre><code>httpClientBuilder = HttpClient.newBuilder()\n        .version(HttpClient.Version.HTTP_2)\n        .sslContext(sslContext)\n        .connectTimeout(Duration.ofSeconds(500));\n</code></pre>\n<p>where sslContext is defined as:</p>\n<pre><code>    String keyStorePassword = &quot;password&quot;;\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    InputStream is = new FileInputStream(&quot;pathToP12File.p12&quot;);\n    keyStore.load(is, keyStorePassword.toCharArray());\n\n    KeyManagerFactory keyFactory =\n        KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    keyFactory.init(keyStore, keyStorePassword.toCharArray());\n    KeyManager[] keyManagers = keyFactory.getKeyManagers();\n\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n\n    sslContext.init(keyManagers, null, null);\n</code></pre>\n<p>Is there something I'm misunderstanding about how <code>SSLContext</code> is set up such that the certification path isn't valid?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1639150750,"post_id":70306847,"comment_id":124282534,"body_markdown":"Wherever and whenever you think ASCII, I urge you to progress to thinking of as UTF-8 (its successor).","body":"Wherever and whenever you think ASCII, I urge you to progress to thinking of as UTF-8 (its successor)."},{"owner":{"account_id":19292087,"reputation":3,"user_id":14101834,"display_name":"dkennedy533"},"score":0,"creation_date":1639151454,"post_id":70306847,"comment_id":124282826,"body_markdown":"Thanks @ControlAltDel for that clarification/correction. I&#39;m still having trouble getting the label to dnyamically center within the shape. I&#39;m thinking I need to convert the string into a char[], and then somehow gague where the previous characters were located on the previous line, and then place characters on either the +1 or -1 column depending on where the label height is in relation to the halfway point of the triangle.","body":"Thanks @ControlAltDel for that clarification/correction. I&#39;m still having trouble getting the label to dnyamically center within the shape. I&#39;m thinking I need to convert the string into a char[], and then somehow gague where the previous characters were located on the previous line, and then place characters on either the +1 or -1 column depending on where the label height is in relation to the halfway point of the triangle."},{"owner":{"account_id":19292087,"reputation":3,"user_id":14101834,"display_name":"dkennedy533"},"score":0,"creation_date":1639153286,"post_id":70306847,"comment_id":124283451,"body_markdown":"I added some logic that takes the half point of the column (which is consistently equivalent to the height of the triangle somehow), and then puts the label at the halfway point minus the characters in the label itself. I&#39;m pretty close. With the exception of I don&#39;t have the stars on that particular line where the label is.","body":"I added some logic that takes the half point of the column (which is consistently equivalent to the height of the triangle somehow), and then puts the label at the halfway point minus the characters in the label itself. I&#39;m pretty close. With the exception of I don&#39;t have the stars on that particular line where the label is."},{"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"score":0,"creation_date":1639193254,"post_id":70306847,"comment_id":124292666,"body_markdown":"@dkennedy533 have you tried my answer?","body":"@dkennedy533 have you tried my answer?"}],"answers":[{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639156994,"creation_date":1639156994,"answer_id":70308256,"question_id":70306847,"body_markdown":"You can make use of `height` and `labelheight` to determine the position at where the `text` starts. `X or vertical` position will be `labelheight/2`. Let me explain how to get position `Y or horizontal` with an example. \r\n\r\nSuppose we want to center text to the center of the below line.\r\n\r\n    ----------------\r\n         sample \r\n         |\r\n    This position will be ( length of line / 2 ) - (length of text / 2). Because if we place text \r\n    in the center, half the length of the text will be on the left side, subtracting that will \r\n    give us the left position where our text should start.\r\n\r\nFirst, get `xPos` and `yPos` before the `for` loop.\r\n\r\n    int xPosWord = labelHeight / 2;\r\n    int yPosWord = (height) / 2 - (label.length() / 2);\r\n\r\nThen inside the `for` loop check if the text should be printed using `row` and `column` index.\r\n\r\n    if (row == xPosWord) {\r\n        if (column &gt;= yPosWord &amp;&amp; column &lt; yPosWord + label.length()) {\r\n            System.out.print(label.charAt(column - yPosWord));\r\n            continue;\r\n        }\r\n    }\r\n\r\nSample output for `drawDiamond(15, 15, &quot;Sample Text&quot;)`:\r\n\r\n           *       \r\n          * *      \r\n         *   *     \r\n        *     *    \r\n       *       *   \r\n      *         *  \r\n     *           * \r\n    * Sample Text *\r\n     *           * \r\n      *         *  \r\n       *       *   \r\n        *     *    \r\n         *   *     \r\n          * *      \r\n           *  \r\n\r\nThe above approach works for text whose length does not exceed the width of the Diamond shape. \r\n          ","title":"Insert String Label Inside ASCII Diamond Shape Java","body":"<p>You can make use of <code>height</code> and <code>labelheight</code> to determine the position at where the <code>text</code> starts. <code>X or vertical</code> position will be <code>labelheight/2</code>. Let me explain how to get position <code>Y or horizontal</code> with an example.</p>\n<p>Suppose we want to center text to the center of the below line.</p>\n<pre><code>----------------\n     sample \n     |\nThis position will be ( length of line / 2 ) - (length of text / 2). Because if we place text \nin the center, half the length of the text will be on the left side, subtracting that will \ngive us the left position where our text should start.\n</code></pre>\n<p>First, get <code>xPos</code> and <code>yPos</code> before the <code>for</code> loop.</p>\n<pre><code>int xPosWord = labelHeight / 2;\nint yPosWord = (height) / 2 - (label.length() / 2);\n</code></pre>\n<p>Then inside the <code>for</code> loop check if the text should be printed using <code>row</code> and <code>column</code> index.</p>\n<pre><code>if (row == xPosWord) {\n    if (column &gt;= yPosWord &amp;&amp; column &lt; yPosWord + label.length()) {\n        System.out.print(label.charAt(column - yPosWord));\n        continue;\n    }\n}\n</code></pre>\n<p>Sample output for <code>drawDiamond(15, 15, &quot;Sample Text&quot;)</code>:</p>\n<pre><code>       *       \n      * *      \n     *   *     \n    *     *    \n   *       *   \n  *         *  \n *           * \n* Sample Text *\n *           * \n  *         *  \n   *       *   \n    *     *    \n     *   *     \n      * *      \n       *  \n</code></pre>\n<p>The above approach works for text whose length does not exceed the width of the Diamond shape.</p>\n"}],"owner":{"account_id":19292087,"reputation":3,"user_id":14101834,"display_name":"dkennedy533"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70308256,"answer_count":1,"score":0,"last_activity_date":1639156994,"creation_date":1639150202,"question_id":70306847,"body_markdown":"I&#39;ve drawn a diamond with ASCII characters (all &quot;*&quot;&#39;s), and I&#39;m trying to get a label or word inside of the shape. I&#39;ve already done this concept with other shapes like triangles and squares, etc. So my algorithm has parameters of height, what line of the shape they want the label to appear on, and then the String label itself (not concerned about the scanner for user input I&#39;ve got that in another class). I&#39;ve found that if I set i to the label height, and then when that loop finishes printing the label (still trying to figure out how to get it centered in the shape).\r\n```java\r\npublic static void drawDiamond(int height, int labelHeight, String label)\r\n{\r\n    int halfHeight = height / 2;\r\n    for (int row = 0; row &lt; labelHeight; row++) {\r\n        for (int column = 0; column &lt; height; column++) {\r\n            if ((column == Math.abs(row - halfHeight))\r\n                    || (column == (row + halfHeight))\r\n                    || (column == (height - row + halfHeight - 1))) {\r\n                System.out.print(&quot;*&quot;);\r\n            } else {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n    System.out.println(label);\r\n}\r\n```\r\n\r\n![Picture of intended outcome][1]\r\n\r\nBut my specific problem is continuing to build the diamond after the label is printed. Perhaps a better option would be to print the whole triangle and then replace the label in the correct line, but since it&#39;s not a single string that&#39;s a headache. \r\nSorry this is long. Any thoughts?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VmvVF.jpg\r\n\r\nEdit: I&#39;ve included an additional loop after the row iterator reaches the label height and then prints the label. So I&#39;m getting something that is close in shape (with the exception of the tip lol). But now my issue becomes getting the label to somewhat center within the shape. I can&#39;t brute force it by adding a printed space with asterisks because the size will change upon user input. I can try to access where the previous row had characters, or somehow determine the center just by virtue of the shape of the diamond, and then somehow place the label accordingly. \r\n","title":"Insert String Label Inside ASCII Diamond Shape Java","body":"<p>I've drawn a diamond with ASCII characters (all &quot;*&quot;'s), and I'm trying to get a label or word inside of the shape. I've already done this concept with other shapes like triangles and squares, etc. So my algorithm has parameters of height, what line of the shape they want the label to appear on, and then the String label itself (not concerned about the scanner for user input I've got that in another class). I've found that if I set i to the label height, and then when that loop finishes printing the label (still trying to figure out how to get it centered in the shape).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void drawDiamond(int height, int labelHeight, String label)\n{\n    int halfHeight = height / 2;\n    for (int row = 0; row &lt; labelHeight; row++) {\n        for (int column = 0; column &lt; height; column++) {\n            if ((column == Math.abs(row - halfHeight))\n                    || (column == (row + halfHeight))\n                    || (column == (height - row + halfHeight - 1))) {\n                System.out.print(&quot;*&quot;);\n            } else {\n                System.out.print(&quot; &quot;);\n            }\n        }\n        System.out.println();\n    }\n    System.out.println(label);\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/VmvVF.jpg\" alt=\"Picture of intended outcome\" /></p>\n<p>But my specific problem is continuing to build the diamond after the label is printed. Perhaps a better option would be to print the whole triangle and then replace the label in the correct line, but since it's not a single string that's a headache.\nSorry this is long. Any thoughts?</p>\n<p>Edit: I've included an additional loop after the row iterator reaches the label height and then prints the label. So I'm getting something that is close in shape (with the exception of the tip lol). But now my issue becomes getting the label to somewhat center within the shape. I can't brute force it by adding a printed space with asterisks because the size will change upon user input. I can try to access where the previous row had characters, or somehow determine the center just by virtue of the shape of the diamond, and then somehow place the label accordingly.</p>\n"},{"tags":["java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639156541,"creation_date":1639156541,"answer_id":70308183,"question_id":70308141,"body_markdown":"The crash leads because your variable `webView` is `null` as you are initializing a new variable (myWebView) in your `onCreate()` method.\r\n\r\nRemove `WebView myWebView = (WebView) findViewById(R.id.webviewID)`\\\r\n&amp; change to `webView = (WebView) findViewById(R.id.webviewID)`","title":"Why Go Back isn&#39;t working in webview android app with this source code?","body":"<p>The crash leads because your variable <code>webView</code> is <code>null</code> as you are initializing a new variable (myWebView) in your <code>onCreate()</code> method.</p>\n<p>Remove <code>WebView myWebView = (WebView) findViewById(R.id.webviewID)</code><br />\n&amp; change to <code>webView = (WebView) findViewById(R.id.webviewID)</code></p>\n"}],"owner":{"account_id":23550215,"reputation":1,"user_id":17593048,"display_name":"Habibur Rahaman Sabbir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639156541,"creation_date":1639156330,"question_id":70308141,"body_markdown":"I have created a webview app for my website and I&#39;m a beginner in Android Development. I have tried many ways but still, my code isn&#39;t working. My application has two activities with one splash screen and mainactivity when I run my app it&#39;s working fine but when I&#39;m trying to go back suddenly the app crashes or totally exits. \r\n\r\n    package com.geroifydevelopers.geroify;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.ImageView;\r\n    \r\n    public class SplashScreen extends AppCompatActivity {\r\n    \r\n        private WebView webView;\r\n    \r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_splash_screen);\r\n    \r\n            WebView myWebView = (WebView) findViewById(R.id.webviewID);\r\n            myWebView.getSettings().setJavaScriptEnabled(true);\r\n            myWebView.setWebViewClient(new WebViewClient());\r\n            myWebView.loadUrl(&quot;https://geroify.com/&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack())\r\n                webView.goBack();\r\n            else\r\n                finish();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        ","title":"Why Go Back isn&#39;t working in webview android app with this source code?","body":"<p>I have created a webview app for my website and I'm a beginner in Android Development. I have tried many ways but still, my code isn't working. My application has two activities with one splash screen and mainactivity when I run my app it's working fine but when I'm trying to go back suddenly the app crashes or totally exits.</p>\n<pre><code>package com.geroifydevelopers.geroify;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.ImageView;\n\npublic class SplashScreen extends AppCompatActivity {\n\n    private WebView webView;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash_screen);\n\n        WebView myWebView = (WebView) findViewById(R.id.webviewID);\n        myWebView.getSettings().setJavaScriptEnabled(true);\n        myWebView.setWebViewClient(new WebViewClient());\n        myWebView.loadUrl(&quot;https://geroify.com/&quot;);\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack())\n            webView.goBack();\n        else\n            finish();\n    }\n}\n\n\n\n\n\n\n    \n</code></pre>\n"},{"tags":["java","spring-boot","invalid-characters"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1639155050,"post_id":70307797,"comment_id":124284189,"body_markdown":"How is the REST endpoint called. The error is /workerJpas%7B?page,size,sort","body":"How is the REST endpoint called. The error is /workerJpas%7B?page,size,sort"},{"owner":{"account_id":148507,"reputation":1161,"user_id":360327,"accept_rate":67,"display_name":"Udayaditya Barua"},"score":0,"creation_date":1639155647,"post_id":70307797,"comment_id":124284461,"body_markdown":"This usually happens when your endpoint receives encrypted data, mainly via https and tomcat/webserver doesn&#39;t know how to decrypt it.","body":"This usually happens when your endpoint receives encrypted data, mainly via https and tomcat/webserver doesn&#39;t know how to decrypt it."}],"owner":{"account_id":18133122,"reputation":29,"user_id":13187998,"display_name":"gbeto Jean-Jos&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639156260,"creation_date":1639154583,"question_id":70307797,"body_markdown":"how can i solve this problem? i have seen some solutions but these solutions did not help me. here is the complete error.\r\n&gt;java.lang.IllegalArgumentException: Invalid character found in the request target [/workerJpas%7B?page,size,sort} ]. The valid characters are defined in RFC 7230 and RFC 3986\r\n\torg.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:494)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:269)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:832)\r\n\r\n\r\n// this is my adapter.out which contains the variable workerJpas\r\n```\r\npublic class ListWorkerImpl implements ListOfWorkerRepository{\r\n\r\n\tWorkerJpaInterface workerJpaInterface;\r\n\t@Override\r\n\r\n\tpublic List&lt;Worker&gt; findAll() {\r\n\t\tList&lt;WorkerJpa&gt; jpaWorkers = workerJpaInterface.findAll();\r\n\t\tList&lt;Worker&gt; domWorkers = new ArrayList&lt;&gt;();\t\t\r\n\t\tfor(WorkerJpa jpaWorker : jpaWorkers) {\r\n\t\t\tWorker domWorker = new Worker();\r\n\t\t\tdomWorker.setPhoneNumber(jpaWorker.getPhoneNumber());\r\n\t\t\tdomWorker.setFirstName(jpaWorker.getFirstName());\r\n\t\t\tdomWorker.setId(jpaWorker.getId());\r\n\t\t\tdomWorker.setLastName(jpaWorker.getLastName());\r\n\t\t\tdomWorker.setIfu(jpaWorker.getIfu());\r\n\t\t\tdomWorker.setImageParth(jpaWorker.getWorkerPicture());\r\n\t\t\tdomWorker.setWorkerType(jpaWorker.getWorkerType());\r\n\t\t\tdomWorker.setStatut(jpaWorker.getStatut());\t\r\n\t\t\tdomWorkers.add(domWorker);\t\t\t\r\n\t\t}\t\t\r\n\t\treturn domWorkers;\t\t\r\n\t}\r\n\r\n}\r\n ```\r\n// here is a usecase\r\n```\r\n@Service\r\n\r\npublic class ListOfWorkerImpl implements ListOfWorker{\r\n\t\r\n\t@Autowired\r\n    private ListOfWorkerRepository listOfWorkerRepository;\r\n\r\n\t@Override\r\n\tpublic List&lt;Worker&gt; findAll(){\r\n\t\treturn listOfWorkerRepository.findAll();\r\n\t}\r\n\r\n}\r\n```\r\n// here is my adapter.in\r\n```\r\n\r\n@RestController\r\npublic class WorkerController {\r\n\t\r\n\tprivate ListOfWorker listOfWorker;\r\n\t\r\n\t@Autowired\r\n    public WorkerController(ListOfWorker listOfWorker) {\r\n        this.listOfWorker = listOfWorker;\r\n    }\r\n\t\r\n   // here is how the REST endpoint is called\r\n\t@GetMapping\r\n\tpublic List&lt;Worker&gt; getWorkers() {\r\n\t\treturn listOfWorker.findAll();\r\n        \r\n    }\r\n\r\n}\r\n```\r\n// here port.in\r\n\r\n```\r\npublic interface ListOfWorker {\r\n\tpublic List&lt;Worker&gt; findAll();\r\n}\r\n```","title":"Invalid character found in the request target spring boot","body":"<p>how can i solve this problem? i have seen some solutions but these solutions did not help me. here is the complete error.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Invalid character found in the request target [/workerJpas%7B?page,size,sort} ]. The valid characters are defined in RFC 7230 and RFC 3986\norg.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:494)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:269)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:832)</p>\n</blockquote>\n<p>// this is my adapter.out which contains the variable workerJpas</p>\n<pre><code>public class ListWorkerImpl implements ListOfWorkerRepository{\n\n    WorkerJpaInterface workerJpaInterface;\n    @Override\n\n    public List&lt;Worker&gt; findAll() {\n        List&lt;WorkerJpa&gt; jpaWorkers = workerJpaInterface.findAll();\n        List&lt;Worker&gt; domWorkers = new ArrayList&lt;&gt;();        \n        for(WorkerJpa jpaWorker : jpaWorkers) {\n            Worker domWorker = new Worker();\n            domWorker.setPhoneNumber(jpaWorker.getPhoneNumber());\n            domWorker.setFirstName(jpaWorker.getFirstName());\n            domWorker.setId(jpaWorker.getId());\n            domWorker.setLastName(jpaWorker.getLastName());\n            domWorker.setIfu(jpaWorker.getIfu());\n            domWorker.setImageParth(jpaWorker.getWorkerPicture());\n            domWorker.setWorkerType(jpaWorker.getWorkerType());\n            domWorker.setStatut(jpaWorker.getStatut()); \n            domWorkers.add(domWorker);          \n        }       \n        return domWorkers;      \n    }\n\n}\n</code></pre>\n<p>// here is a usecase</p>\n<pre><code>@Service\n\npublic class ListOfWorkerImpl implements ListOfWorker{\n    \n    @Autowired\n    private ListOfWorkerRepository listOfWorkerRepository;\n\n    @Override\n    public List&lt;Worker&gt; findAll(){\n        return listOfWorkerRepository.findAll();\n    }\n\n}\n</code></pre>\n<p>// here is my adapter.in</p>\n<pre><code>\n@RestController\npublic class WorkerController {\n    \n    private ListOfWorker listOfWorker;\n    \n    @Autowired\n    public WorkerController(ListOfWorker listOfWorker) {\n        this.listOfWorker = listOfWorker;\n    }\n    \n   // here is how the REST endpoint is called\n    @GetMapping\n    public List&lt;Worker&gt; getWorkers() {\n        return listOfWorker.findAll();\n        \n    }\n\n}\n</code></pre>\n<p>// here port.in</p>\n<pre><code>public interface ListOfWorker {\n    public List&lt;Worker&gt; findAll();\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-gradle-plugin","lottie"],"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1528056996,"post_id":50670478,"comment_id":88350896,"body_markdown":"try using `api &#39;com.airbnb.android:lottie:2.5.4&#39;`","body":"try using <code>api &#39;com.airbnb.android:lottie:2.5.4&#39;</code>"},{"owner":{"display_name":"user9244682"},"score":0,"creation_date":1528058315,"post_id":50670478,"comment_id":88351274,"body_markdown":"That&#39;s the one I&#39;m using","body":"That&#39;s the one I&#39;m using"},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1528058362,"post_id":50670478,"comment_id":88351287,"body_markdown":"use `api` instead of `implementation`","body":"use <code>api</code> instead of <code>implementation</code>"},{"owner":{"account_id":3273747,"reputation":20854,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1639156154,"post_id":50670478,"comment_id":124284674,"body_markdown":"Does this answer your question? [How to fix a Lottie error in Android Studio - &#39;Error:Execution failed for task&#39; java.lang.RuntimeException \\[...\\] unable to merge dex](https://stackoverflow.com/questions/50672735/how-to-fix-a-lottie-error-in-android-studio-errorexecution-failed-for-task)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50672735/how-to-fix-a-lottie-error-in-android-studio-errorexecution-failed-for-task\">How to fix a Lottie error in Android Studio - &#39;Error:Execution failed for task&#39; java.lang.RuntimeException &#91;...&#93; unable to merge dex</a>"}],"answers":[{"tags":[],"owner":{"account_id":6650085,"reputation":825,"user_id":5132582,"accept_rate":0,"display_name":"jatin rana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528095086,"creation_date":1528095086,"answer_id":50674826,"question_id":50670478,"body_markdown":"Multidex is not enabled. Follow below steps to turn this on.\r\nStep 1: Add this in module dependency \r\n\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\nStep 2: Add this under default config \r\n\r\n    multiDexEnabled true\r\n\r\nStep 3: Add this in manifest under application tag\r\n\r\n    android:name=&quot;android.support.multidex.MultiDexApplication&quot; &gt;\r\nThen clean and rebuild.\r\n\r\n","title":"Lottie Android Studio Error Appcompat","body":"<p>Multidex is not enabled. Follow below steps to turn this on.\nStep 1: Add this in module dependency </p>\n\n<pre><code>implementation 'com.android.support:multidex:1.0.3'\n</code></pre>\n\n<p>Step 2: Add this under default config </p>\n\n<pre><code>multiDexEnabled true\n</code></pre>\n\n<p>Step 3: Add this in manifest under application tag</p>\n\n<pre><code>android:name=\"android.support.multidex.MultiDexApplication\" &gt;\n</code></pre>\n\n<p>Then clean and rebuild.</p>\n"}],"owner":{"display_name":"user9244682"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1639156175,"creation_date":1528056000,"question_id":50670478,"body_markdown":"when implementing lottie, it tells me this error in the appcompat. When I take out the lottie, it works perfectly.\r\n\r\n&gt;Error:Execution failed for task &#39;:app:transformDexArchiveWithExternalLibsDexMergerForDebug&#39;.\r\n&gt; java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 26\r\n    defaultConfig {\r\n        applicationId &quot;com.kevinladelfa.life&quot;\r\n        minSdkVersion 23\r\n        targetSdkVersion 26\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n        testInstrumentationRunner \r\n    &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), \r\n    &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:26.1.0&#39;\r\n    implementation &#39;com.android.support:design:26.1.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.0&#39;\r\n    implementation &#39;com.airbnb.android:lottie:2.5.4&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso- \r\n    core:3.0.2&#39;\r\n    compile &#39;com.android.support:support-annotations:27.1.1&#39;\r\n    compile &#39;com.google.firebase:firebase-core:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-database:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-storage:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-crash:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-auth:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-messaging:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-invites:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-ads:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-perf:11.8.0&#39;\r\n    }\r\n\r\n-\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    buildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.0.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.0.0&#39;\r\n        \r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven{\r\n\r\n            url &quot;https://maven.google.com&quot;\r\n\r\n        }\r\n    }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n","title":"Lottie Android Studio Error Appcompat","body":"<p>when implementing lottie, it tells me this error in the appcompat. When I take out the lottie, it works perfectly.</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n  java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex</p>\n</blockquote>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 26\ndefaultConfig {\n    applicationId \"com.kevinladelfa.life\"\n    minSdkVersion 23\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    multiDexEnabled true\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support:design:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.0'\nimplementation 'com.airbnb.android:lottie:2.5.4'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso- \ncore:3.0.2'\ncompile 'com.android.support:support-annotations:27.1.1'\ncompile 'com.google.firebase:firebase-core:11.8.0'\ncompile 'com.google.firebase:firebase-database:11.8.0'\ncompile 'com.google.firebase:firebase-storage:11.8.0'\ncompile 'com.google.firebase:firebase-crash:11.8.0'\ncompile 'com.google.firebase:firebase-auth:11.8.0'\ncompile 'com.google.firebase:firebase-messaging:11.8.0'\ncompile 'com.google.firebase:firebase-invites:11.8.0'\ncompile 'com.google.firebase:firebase-ads:11.8.0'\ncompile 'com.google.firebase:firebase-perf:11.8.0'\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n\nbuildscript {\n\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath 'com.google.gms:google-services:4.0.0'\n\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n    maven{\n\n        url \"https://maven.google.com\"\n\n    }\n}\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1639130973,"post_id":70302794,"comment_id":124275425,"body_markdown":"The hashcode is not a value you set/get and saved in a private field. It&#39;s a calculated value.","body":"The hashcode is not a value you set/get and saved in a private field. It&#39;s a calculated value."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1639131078,"post_id":70302794,"comment_id":124275451,"body_markdown":"With List you just call size and not getSize.","body":"With List you just call size and not getSize."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1639131105,"post_id":70302794,"comment_id":124275460,"body_markdown":"For fields, that may be the convention, but it&#39;s not the convention for &quot;any method returning a value&quot;.","body":"For fields, that may be the convention, but it&#39;s not the convention for &quot;any method returning a value&quot;."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1639131207,"post_id":70302794,"comment_id":124275502,"body_markdown":"By the way: the `record` class also no longer uses `get...`.","body":"By the way: the <code>record</code> class also no longer uses <code>get...</code>."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1639131272,"post_id":70302794,"comment_id":124275523,"body_markdown":"@JoopEggen so records aren&#39;t JavaBeans...","body":"@JoopEggen so records aren&#39;t JavaBeans..."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1639131465,"post_id":70302794,"comment_id":124275585,"body_markdown":"@Kayaman right, and also Expression Language relies on `${foo}` becoming `getFoo()`.","body":"@Kayaman right, and also Expression Language relies on <code>${foo}</code> becoming <code>getFoo()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639131435,"creation_date":1639131094,"answer_id":70302839,"question_id":70302794,"body_markdown":"In the end: conflicting paradigms.\r\n\r\nKeep in mind that methods such as `hashCode()` are with java since day 0 more or less. And back then, there wasn&#39;t an established standard suggesting: use getters resp. an explicit &quot;methods should be named `doWhatever()`&quot;.\r\n\r\nAnd once released, renaming it to a more appropriate `computeHashcode()` or something alike would have broken all existing source code.\r\n\r\nIn other words: there is also a mindset of using very short method names, such as `size()` in the Collections interface.","title":"Why is the hashCode instance method not named as getHashCode in Java?","body":"<p>In the end: conflicting paradigms.</p>\n<p>Keep in mind that methods such as <code>hashCode()</code> are with java since day 0 more or less. And back then, there wasn't an established standard suggesting: use getters resp. an explicit &quot;methods should be named <code>doWhatever()</code>&quot;.</p>\n<p>And once released, renaming it to a more appropriate <code>computeHashcode()</code> or something alike would have broken all existing source code.</p>\n<p>In other words: there is also a mindset of using very short method names, such as <code>size()</code> in the Collections interface.</p>\n"},{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639131460,"creation_date":1639131460,"answer_id":70302916,"question_id":70302794,"body_markdown":"The method `hashCode()` has been introduced with the first Java version, i.e. officially version 1.0.\r\n\r\nThe `getXXX()` and `setXXX()` paradigm was established later as part of the *JavaBeans* standard. JavaBeans defines a simple yet very useful component model by deriving properties from pairs of getters/setters. JavaBeans was introduced with JDK 1.1.\r\n\r\nSo `hashCode()` predates the getter/setter paradigm.","title":"Why is the hashCode instance method not named as getHashCode in Java?","body":"<p>The method <code>hashCode()</code> has been introduced with the first Java version, i.e. officially version 1.0.</p>\n<p>The <code>getXXX()</code> and <code>setXXX()</code> paradigm was established later as part of the <em>JavaBeans</em> standard. JavaBeans defines a simple yet very useful component model by deriving properties from pairs of getters/setters. JavaBeans was introduced with JDK 1.1.</p>\n<p>So <code>hashCode()</code> predates the getter/setter paradigm.</p>\n"}],"owner":{"account_id":13990535,"reputation":1639,"user_id":10104608,"display_name":"Son of Stackoverflow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1639179333,"accepted_answer_id":70302916,"answer_count":2,"score":0,"last_activity_date":1639155941,"creation_date":1639130819,"question_id":70302794,"body_markdown":"In order to obtain the hash code of an object in Java, we use the `hashCode()` method.\r\n\r\nTo access (private) fields in Java, by standard, we are expected to have separate method with `get` or `set` as prefixes based on the kind of operation the method is performing. So why is this different for the hashCode method?","title":"Why is the hashCode instance method not named as getHashCode in Java?","body":"<p>In order to obtain the hash code of an object in Java, we use the <code>hashCode()</code> method.</p>\n<p>To access (private) fields in Java, by standard, we are expected to have separate method with <code>get</code> or <code>set</code> as prefixes based on the kind of operation the method is performing. So why is this different for the hashCode method?</p>\n"},{"tags":["java","kotlin","redis","social-networking"],"answers":[{"tags":[],"owner":{"account_id":6462469,"reputation":451,"user_id":5005756,"accept_rate":75,"display_name":"Mahdi Yusefi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639155839,"creation_date":1639155839,"answer_id":70308043,"question_id":70307108,"body_markdown":"I believe you should completely refactor the way you&#39;re storing data. I suggest this way:\r\n\r\n1) having a sorted set of  `feed:user:{userId}` which only store postId.\r\n2) having a set of `user:post:{userId}` which store set of user&#39;s postId\r\n\r\nSo in order to &quot;remove all posts of user B from timeline of user A&quot;, you need to first perform a query of like `redis&gt; SMEMBERS user:post:{userBId}` to retrieve all B&#39;s postId and store it into a variable &quot;`results`&quot; and then perform this command `ZREM feed:user:{userAId} results`\r\n\r\n\r\n","title":"How to remove item from Redis sorted set based on json filed","body":"<p>I believe you should completely refactor the way you're storing data. I suggest this way:</p>\n<ol>\n<li>having a sorted set of  <code>feed:user:{userId}</code> which only store postId.</li>\n<li>having a set of <code>user:post:{userId}</code> which store set of user's postId</li>\n</ol>\n<p>So in order to &quot;remove all posts of user B from timeline of user A&quot;, you need to first perform a query of like <code>redis&gt; SMEMBERS user:post:{userBId}</code> to retrieve all B's postId and store it into a variable &quot;<code>results</code>&quot; and then perform this command <code>ZREM feed:user:{userAId} results</code></p>\n"}],"owner":{"account_id":18564062,"reputation":703,"user_id":13527431,"display_name":"Annon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70308043,"answer_count":1,"score":1,"last_activity_date":1639155839,"creation_date":1639151322,"question_id":70307108,"body_markdown":"I&#39;m using redis to design user timeline (as in tweeter). I&#39;m using sorted set to store json value with timestamp as score\r\n```\r\n zrange feed:user:10000001 0 10 WITHSCORES\r\n 1) &quot;{\\&quot;postId\\&quot;:10000411,\\&quot;userId\\&quot;:10000001}&quot;\r\n 2) &quot;1639073241754&quot;\r\n 3) &quot;{\\&quot;postId\\&quot;:10000412,\\&quot;userId\\&quot;:10000002}&quot;\r\n 4) &quot;1639073241748&quot;\r\n\r\n```\r\n\r\nWhen user A unfollow B, how do I remove all posts of user B from timeline of user A?\r\n\r\nAs querying the json data is not supported in sorted set (and redis), Oher responses on SO suggested to store json value in hash having `postId` as subkey and storing `postId` as value in sorted set. but then where do I store `userId` to look for it when deleting based on it? How do I implement this feature?\r\n\r\n","title":"How to remove item from Redis sorted set based on json filed","body":"<p>I'm using redis to design user timeline (as in tweeter). I'm using sorted set to store json value with timestamp as score</p>\n<pre><code> zrange feed:user:10000001 0 10 WITHSCORES\n 1) &quot;{\\&quot;postId\\&quot;:10000411,\\&quot;userId\\&quot;:10000001}&quot;\n 2) &quot;1639073241754&quot;\n 3) &quot;{\\&quot;postId\\&quot;:10000412,\\&quot;userId\\&quot;:10000002}&quot;\n 4) &quot;1639073241748&quot;\n\n</code></pre>\n<p>When user A unfollow B, how do I remove all posts of user B from timeline of user A?</p>\n<p>As querying the json data is not supported in sorted set (and redis), Oher responses on SO suggested to store json value in hash having <code>postId</code> as subkey and storing <code>postId</code> as value in sorted set. but then where do I store <code>userId</code> to look for it when deleting based on it? How do I implement this feature?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635431796,"creation_date":1635429474,"answer_id":69755464,"question_id":69755388,"body_markdown":"Spring Framework has been there for a really long time, the ways you have seen are both valid ways, and as far as I understood by your statements is, one way is working with Spring MVC and the second is working with spring boot and spring boot makes things really easy.\r\nYou need to understand the difference between the spring MVC framework and spring-boot.\r\nIn spring MVC Framework we manage things with configuration files, like XML files and we also fire queries by opening a session first, and then only we can query. But in Spring-boot these things happens behind the scene and that is why it becomes so easy to work with spring-boot but anyhow we still need to understand all this stuff to be able to work properly with this framework.\r\n\r\n**Spring MVC** is a complete HTTP-oriented MVC framework managed by the Spring Framework and based in Servlets. It would be equivalent to JSF in the JavaEE stack. The most popular elements in it are classes annotated with @Controller, where you implement methods you can access using different HTTP requests. It has an equivalent @RestController to implement REST-based APIs.\r\n\r\n\r\n**Spring boot** is a utility for setting up applications quickly, offering an out-of-the-box configuration in order to build Spring-powered applications. As you may know, Spring integrates a wide range of different modules under its umbrella, as spring-core, spring-data, spring-web (which includes Spring MVC, by the way), and so on. With this tool, you can tell Spring how many of them to use and you&#39;ll get a fast setup for them (you are allowed to change it by yourself later on).\r\n\r\n\r\nSpring boot is just an auto-configuration tool. Spring MVC is a web framework \r\n\r\n\r\n\r\n**Spring boot** = **Spring MVC** + **Auto Configuration**(Don&#39;t need to write xml file for configurations) + **Server**(You can have embedded server).\r\n","title":"Java Spring Boot Hibernate, JPA, MVC, REST confusion","body":"<p>Spring Framework has been there for a really long time, the ways you have seen are both valid ways, and as far as I understood by your statements is, one way is working with Spring MVC and the second is working with spring boot and spring boot makes things really easy.\nYou need to understand the difference between the spring MVC framework and spring-boot.\nIn spring MVC Framework we manage things with configuration files, like XML files and we also fire queries by opening a session first, and then only we can query. But in Spring-boot these things happens behind the scene and that is why it becomes so easy to work with spring-boot but anyhow we still need to understand all this stuff to be able to work properly with this framework.</p>\n<p><strong>Spring MVC</strong> is a complete HTTP-oriented MVC framework managed by the Spring Framework and based in Servlets. It would be equivalent to JSF in the JavaEE stack. The most popular elements in it are classes annotated with @Controller, where you implement methods you can access using different HTTP requests. It has an equivalent @RestController to implement REST-based APIs.</p>\n<p><strong>Spring boot</strong> is a utility for setting up applications quickly, offering an out-of-the-box configuration in order to build Spring-powered applications. As you may know, Spring integrates a wide range of different modules under its umbrella, as spring-core, spring-data, spring-web (which includes Spring MVC, by the way), and so on. With this tool, you can tell Spring how many of them to use and you'll get a fast setup for them (you are allowed to change it by yourself later on).</p>\n<p>Spring boot is just an auto-configuration tool. Spring MVC is a web framework</p>\n<p><strong>Spring boot</strong> = <strong>Spring MVC</strong> + <strong>Auto Configuration</strong>(Don't need to write xml file for configurations) + <strong>Server</strong>(You can have embedded server).</p>\n"},{"tags":[],"owner":{"account_id":14915510,"reputation":396,"user_id":14674015,"display_name":"seism0saurus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635429545,"creation_date":1635429545,"answer_id":69755484,"question_id":69755388,"body_markdown":"There are always different ways to solve the same problem. Spring Boot offers you a lot of features to simplify your development. But you don&#39;t have to use them. You can always try to implement stuff by yourself. But most of the time, the built in features like the CRUD repository are sufficient to solve your problem.\r\nI can&#39;t tell you the exact reasons, why the author of the first course did it this way. Maybe he or she wanted to show the principles, that are hidden beneath the features. Maybe it is just an older course or it is for Spring and not Spring Boot. Spring Boot simplified the setup for Spring and made many advancements.","title":"Java Spring Boot Hibernate, JPA, MVC, REST confusion","body":"<p>There are always different ways to solve the same problem. Spring Boot offers you a lot of features to simplify your development. But you don't have to use them. You can always try to implement stuff by yourself. But most of the time, the built in features like the CRUD repository are sufficient to solve your problem.\nI can't tell you the exact reasons, why the author of the first course did it this way. Maybe he or she wanted to show the principles, that are hidden beneath the features. Maybe it is just an older course or it is for Spring and not Spring Boot. Spring Boot simplified the setup for Spring and made many advancements.</p>\n"},{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635431791,"creation_date":1635429691,"answer_id":69755526,"question_id":69755388,"body_markdown":"Java EE, Spring and Springboot are not the same.\r\n\r\nSpring is based on Java EE.\r\nSpring boot is an &#39;extension&#39; of Spring, especially with auto-configuration.","title":"Java Spring Boot Hibernate, JPA, MVC, REST confusion","body":"<p>Java EE, Spring and Springboot are not the same.</p>\n<p>Spring is based on Java EE.\nSpring boot is an 'extension' of Spring, especially with auto-configuration.</p>\n"},{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639155349,"creation_date":1635430770,"answer_id":69755805,"question_id":69755388,"body_markdown":"There are multiple frameworks or libraries which comes with its own advantage and disadvantages, however you need to choose the TechStack that suits your particular application&#39;s requirements.\r\n\r\nSo if you need to build a web app you can use Java Servlet ,but you have to handles multiple concerns yourself and it involves lot of configuration , but there are many frameworks like Spring,Struts,etc which makes the take easy \r\n\r\nSimilar way you can manually manage dependencies or you can use Maven or gradle to handle the dependencies and building process\r\n\r\nSimilar way if you need to connect to a Database you can directly use JDBC but there ar multiple ORM(Object Relational Mappers) available which will make the task easier like Hibernate, Jooq, etc \r\n\r\nRegarding your question there is Spring framework and also SpringBoot , main motto of Springboot is that it prefers &quot;conventions over configuration&quot; meaning you only need to write very little code to get started and it comes with many starter-packs which basically are pretty much preconfigured, so you can build application easily\r\n\r\nDifferent frameworks and libraries comes with its own learning curve but they reduce the time required for configuration and troubleshooting","title":"Java Spring Boot Hibernate, JPA, MVC, REST confusion","body":"<p>There are multiple frameworks or libraries which comes with its own advantage and disadvantages, however you need to choose the TechStack that suits your particular application's requirements.</p>\n<p>So if you need to build a web app you can use Java Servlet ,but you have to handles multiple concerns yourself and it involves lot of configuration , but there are many frameworks like Spring,Struts,etc which makes the take easy</p>\n<p>Similar way you can manually manage dependencies or you can use Maven or gradle to handle the dependencies and building process</p>\n<p>Similar way if you need to connect to a Database you can directly use JDBC but there ar multiple ORM(Object Relational Mappers) available which will make the task easier like Hibernate, Jooq, etc</p>\n<p>Regarding your question there is Spring framework and also SpringBoot , main motto of Springboot is that it prefers &quot;conventions over configuration&quot; meaning you only need to write very little code to get started and it comes with many starter-packs which basically are pretty much preconfigured, so you can build application easily</p>\n<p>Different frameworks and libraries comes with its own learning curve but they reduce the time required for configuration and troubleshooting</p>\n"},{"tags":[],"owner":{"display_name":"user17275084"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635463268,"creation_date":1635463268,"answer_id":69761993,"question_id":69755388,"body_markdown":"Read about Spring MVC and Spring-boot framework. What you have mentioned is first is spring mvc and other is spring boot framework. make you understanding with the questions like, what problem spring boot solves ?? that was or is there in spring mvc.","title":"Java Spring Boot Hibernate, JPA, MVC, REST confusion","body":"<p>Read about Spring MVC and Spring-boot framework. What you have mentioned is first is spring mvc and other is spring boot framework. make you understanding with the questions like, what problem spring boot solves ?? that was or is there in spring mvc.</p>\n"},{"tags":[],"owner":{"account_id":13753711,"reputation":676,"user_id":9925191,"display_name":"Rose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635490301,"creation_date":1635490301,"answer_id":69764751,"question_id":69755388,"body_markdown":"**JPA:** The Java Persistence API (JPA) is one possible approach to ORM. Via JPA the developer can map, store, update and retrieve data from relational databases to Java objects and vice versa.\r\n\r\n**Hibernate:** Hibernate is an open-source object-relational mapping(ORM) tool for Java. It provides a framework for mapping an object-oriented domain model to a traditional relational database.\r\n\r\n**MVC:** The Model-View-Controller (MVC) is an architectural pattern that separates an application into three main logical components: the model, the view, and the controller.\r\n\r\n**JAVA:** One of the most widely used programming languages, Java is used as the server-side language for most back-end development projects, including those involving big data and Android development.\r\n\r\n**Springboot:** Spring Boot is an open-source micro-framework. Spring Boot helps developers create applications that just run. Springboot is a JAVA framework.\r\n\r\n**REST:** Representational state transfer (REST) is a software architectural style that defines a set of constraints to be used for creating Web services.\r\n\r\n","title":"Java Spring Boot Hibernate, JPA, MVC, REST confusion","body":"<p><strong>JPA:</strong> The Java Persistence API (JPA) is one possible approach to ORM. Via JPA the developer can map, store, update and retrieve data from relational databases to Java objects and vice versa.</p>\n<p><strong>Hibernate:</strong> Hibernate is an open-source object-relational mapping(ORM) tool for Java. It provides a framework for mapping an object-oriented domain model to a traditional relational database.</p>\n<p><strong>MVC:</strong> The Model-View-Controller (MVC) is an architectural pattern that separates an application into three main logical components: the model, the view, and the controller.</p>\n<p><strong>JAVA:</strong> One of the most widely used programming languages, Java is used as the server-side language for most back-end development projects, including those involving big data and Android development.</p>\n<p><strong>Springboot:</strong> Spring Boot is an open-source micro-framework. Spring Boot helps developers create applications that just run. Springboot is a JAVA framework.</p>\n<p><strong>REST:</strong> Representational state transfer (REST) is a software architectural style that defines a set of constraints to be used for creating Web services.</p>\n"}],"owner":{"account_id":15221335,"reputation":43,"user_id":15469825,"display_name":"OldenErwanin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1639155349,"creation_date":1635429151,"question_id":69755388,"body_markdown":"I&#39;m learning Java SE and Spring Boot for a half year now, and watched different courses, and they teaching different ways, and I&#39;m just confused which one does what?\r\n\r\nIn one course, we&#39;re using Eclipse, Spring MVC and Hibernate with MySQL, and writing everything like Servlet, Hibernate configure file, factory, session, and it&#39;s just a bit complicated how to do a query for example. In the other course, we&#39;re using Spring Initializr, Maven, REST API with PostgreSQL, and it&#39;s so much easier, we implementing CRUD repository, and just one line, we can do the query.\r\n\r\nAnd I&#39;m lost at this point. These what I just mention, what exactly we use them for? Why we don&#39;t use the simple way in the first course? What we done in the second that I don&#39;t have to create a factory and a session to do a simple query?\r\n\r\nIs there any post, video or anything about this, for me to understand it?","title":"Java Spring Boot Hibernate, JPA, MVC, REST confusion","body":"<p>I'm learning Java SE and Spring Boot for a half year now, and watched different courses, and they teaching different ways, and I'm just confused which one does what?</p>\n<p>In one course, we're using Eclipse, Spring MVC and Hibernate with MySQL, and writing everything like Servlet, Hibernate configure file, factory, session, and it's just a bit complicated how to do a query for example. In the other course, we're using Spring Initializr, Maven, REST API with PostgreSQL, and it's so much easier, we implementing CRUD repository, and just one line, we can do the query.</p>\n<p>And I'm lost at this point. These what I just mention, what exactly we use them for? Why we don't use the simple way in the first course? What we done in the second that I don't have to create a factory and a session to do a simple query?</p>\n<p>Is there any post, video or anything about this, for me to understand it?</p>\n"},{"tags":["java","r","rjava","cross-language"],"answers":[{"tags":[],"owner":{"account_id":18640443,"reputation":41,"user_id":13586303,"display_name":"turt1edman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639155165,"creation_date":1639155165,"answer_id":70307906,"question_id":69921637,"body_markdown":"It’s been a few weeks since I originally posted this question. Since then I have found a solution to both problems listed by using Python sockets instead of R. If anyone is interested in how I did that, it’s in my GitHub. I am going to leave this question here however, in the hopes someone will answer it for others with a similar problem.","title":"How to send a Java string to R? (rJava)","body":"<p>It’s been a few weeks since I originally posted this question. Since then I have found a solution to both problems listed by using Python sockets instead of R. If anyone is interested in how I did that, it’s in my GitHub. I am going to leave this question here however, in the hopes someone will answer it for others with a similar problem.</p>\n"}],"owner":{"account_id":18640443,"reputation":41,"user_id":13586303,"display_name":"turt1edman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639155165,"creation_date":1636588703,"question_id":69921637,"body_markdown":"I am writing a game that revolves around guessing what words in other languages mean. For example, guessing what &quot;hola&quot; means in English. For this game, I am creating a scoring system that uses the frequency of the word ([from Google N Gram][1]) being guessed to assign points. Basically, less times showing up = more points. However, when trying to send over the Java String that holds the word to R, I came to the realization that I have no idea what to do. \r\n\r\nSo far I have experimented with rJava to send over the word, but I am having difficulty making it work. I would greatly appreciate if someone who has experience with R could help me with my problem. \r\n\r\nJava Class that generates word: \r\n\r\n    import java.util.Scanner;\r\n    import java.util.Random;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    //this program gathers the words to be translated\r\n    //for game 1\r\n    public class dictionary {\r\n        private String line;\r\n\r\n        public dictionary() {\r\n            this.line = &quot;&quot;;\r\n    }\r\n\r\n        public dictionary (String line) {   \r\n        //getting word\r\n        try {\r\n            this.line = line;\r\n            Random random = new Random();\r\n            Scanner in = new Scanner (System.in);\r\n            int count = 0;\r\n            int rand = 1 + random.nextInt(8110);\r\n            //read file name from standard input\r\n            File file = new File(&quot;words.txt&quot;);\r\n            //overwrite scanner to read file\r\n            in = new Scanner(file);\r\n            while (in.hasNextLine() &amp;&amp; count != rand) {\r\n                this.line = in.nextLine();\r\n                count = count + 1;\r\n            }\r\n            in.close();\r\n        }\r\n        catch(IOException e) {\r\n            System.out.println(&quot;File does not exist.&quot;);\r\n        }\r\n    }\r\n    \r\n       public String getLine() {\r\n        return this.line;\r\n        }\r\n    }\r\n\r\nR code that I came up with. Goal is to ingest the word from Java word (line):\r\n\r\n    library(&quot;ngramr&quot;)\r\n    library(&quot;rJava&quot;)\r\n    .jinit(parameters = getOption(&quot;java.parameters&quot;)\r\n    .jcall(&quot;java/lang/String&quot;, returnSig = &quot;S&quot;, method = &quot;getLine&quot;, evalString = TRUE)\r\n     word &lt;- .jclassString(&quot;string&quot;, &quot;line&quot;)\r\n     ngram(word, year_start = 1800, smoothing = 0)\r\n\r\nBonus:\r\nAlso, if anyone is familiar with Google Ngram and knows how to record the amount of instances of a word in R and send it to Java, please let me know as it is a crucial part of the scoring system.\r\n\r\n\r\n  [1]: https://economicsfromthetopdown.com/2020/10/19/working-with-google-ngrams-a-data-wrangling-tale/","title":"How to send a Java string to R? (rJava)","body":"<p>I am writing a game that revolves around guessing what words in other languages mean. For example, guessing what &quot;hola&quot; means in English. For this game, I am creating a scoring system that uses the frequency of the word (<a href=\"https://economicsfromthetopdown.com/2020/10/19/working-with-google-ngrams-a-data-wrangling-tale/\" rel=\"nofollow noreferrer\">from Google N Gram</a>) being guessed to assign points. Basically, less times showing up = more points. However, when trying to send over the Java String that holds the word to R, I came to the realization that I have no idea what to do.</p>\n<p>So far I have experimented with rJava to send over the word, but I am having difficulty making it work. I would greatly appreciate if someone who has experience with R could help me with my problem.</p>\n<p>Java Class that generates word:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\nimport java.io.File;\nimport java.io.IOException;\n\n//this program gathers the words to be translated\n//for game 1\npublic class dictionary {\n    private String line;\n\n    public dictionary() {\n        this.line = &quot;&quot;;\n}\n\n    public dictionary (String line) {   \n    //getting word\n    try {\n        this.line = line;\n        Random random = new Random();\n        Scanner in = new Scanner (System.in);\n        int count = 0;\n        int rand = 1 + random.nextInt(8110);\n        //read file name from standard input\n        File file = new File(&quot;words.txt&quot;);\n        //overwrite scanner to read file\n        in = new Scanner(file);\n        while (in.hasNextLine() &amp;&amp; count != rand) {\n            this.line = in.nextLine();\n            count = count + 1;\n        }\n        in.close();\n    }\n    catch(IOException e) {\n        System.out.println(&quot;File does not exist.&quot;);\n    }\n}\n\n   public String getLine() {\n    return this.line;\n    }\n}\n</code></pre>\n<p>R code that I came up with. Goal is to ingest the word from Java word (line):</p>\n<pre><code>library(&quot;ngramr&quot;)\nlibrary(&quot;rJava&quot;)\n.jinit(parameters = getOption(&quot;java.parameters&quot;)\n.jcall(&quot;java/lang/String&quot;, returnSig = &quot;S&quot;, method = &quot;getLine&quot;, evalString = TRUE)\n word &lt;- .jclassString(&quot;string&quot;, &quot;line&quot;)\n ngram(word, year_start = 1800, smoothing = 0)\n</code></pre>\n<p>Bonus:\nAlso, if anyone is familiar with Google Ngram and knows how to record the amount of instances of a word in R and send it to Java, please let me know as it is a crucial part of the scoring system.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1637781528,"post_id":70101668,"comment_id":123920490,"body_markdown":"I&#39;d break it down into two lines there...  something&#39;s null... hard to say without seeing more code, but I&#39;d suspect Selenium.getInstance() right off the bat.  Why so many method calls just to get at the driver?","body":"I&#39;d break it down into two lines there...  something&#39;s null... hard to say without seeing more code, but I&#39;d suspect Selenium.getInstance() right off the bat.  Why so many method calls just to get at the driver?"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639154990,"creation_date":1637920758,"answer_id":70122550,"question_id":70101668,"body_markdown":"Can you try with findElement instead of findElements, get Text is only applicable on particular element not on all elements\r\n\r\n    .findElement(By.xpath(EXAMPLE_1)).getText()) ","title":"When using setString it doesn&#39;t store the variable","body":"<p>Can you try with findElement instead of findElements, get Text is only applicable on particular element not on all elements</p>\n<pre><code>.findElement(By.xpath(EXAMPLE_1)).getText()) \n</code></pre>\n"}],"owner":{"account_id":16626251,"reputation":39,"user_id":12355153,"display_name":"wsn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639154990,"creation_date":1637780865,"question_id":70101668,"body_markdown":"I&#39;m trying to set a string to receive a value from other elements. I&#39;m currently using selenium java. I don&#39;t understand why I get NullPointerException. \r\n\r\nThe method used for setString is that, \r\n```\r\n  public void setString(String name, String value) {\r\n    this.configuration.setString(name, value);\r\n  }\r\n```\r\nBasically, this method set using HashMaps.\r\nBut when I use debug mode on IntelliJ\r\n```\r\nelement(EXAMPLE_1).getText()\r\n```\r\nI get that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThat&#39;s the string that I want to save.\r\nBut when I do :\r\n```\r\nsetString(VAR_EXAMPLE, Selenium.getInstance().getCurrentDriver()\r\n            .findElements(By.xpath(EXAMPLE_1)).getText()) \r\n```\r\nI get this error \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e90tR.png\r\n  [2]: https://i.stack.imgur.com/hzNJy.png\r\n\r\nCan anyone help me out? Really appreciate :)\r\n","title":"When using setString it doesn&#39;t store the variable","body":"<p>I'm trying to set a string to receive a value from other elements. I'm currently using selenium java. I don't understand why I get NullPointerException.</p>\n<p>The method used for setString is that,</p>\n<pre><code>  public void setString(String name, String value) {\n    this.configuration.setString(name, value);\n  }\n</code></pre>\n<p>Basically, this method set using HashMaps.\nBut when I use debug mode on IntelliJ</p>\n<pre><code>element(EXAMPLE_1).getText()\n</code></pre>\n<p>I get that:</p>\n<p><a href=\"https://i.stack.imgur.com/e90tR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e90tR.png\" alt=\"enter image description here\" /></a></p>\n<p>That's the string that I want to save.\nBut when I do :</p>\n<pre><code>setString(VAR_EXAMPLE, Selenium.getInstance().getCurrentDriver()\n            .findElements(By.xpath(EXAMPLE_1)).getText()) \n</code></pre>\n<p>I get this error</p>\n<p><a href=\"https://i.stack.imgur.com/hzNJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzNJy.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help me out? Really appreciate :)</p>\n"},{"tags":["java","validation"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1638375689,"post_id":70187689,"comment_id":124072706,"body_markdown":"If you don&#39;t want your method to return after adding an error, then you should not have a `return;` statement after adding an error","body":"If you don&#39;t want your method to return after adding an error, then you should not have a <code>return;</code> statement after adding an error"}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639154975,"creation_date":1638375880,"answer_id":70187776,"question_id":70187689,"body_markdown":"Remove `return` in the if statements and only return once all the cases are tested.\r\n\r\n`Errors` object stores `BindingErrors` and `Validation` errors of particular object ,so ideally you should push all validation errors to the error object before returning. ","title":"How to validate all input fields, select options at a time on a form","body":"<p>Remove <code>return</code> in the if statements and only return once all the cases are tested.</p>\n<p><code>Errors</code> object stores <code>BindingErrors</code> and <code>Validation</code> errors of particular object ,so ideally you should push all validation errors to the error object before returning.</p>\n"}],"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639154975,"creation_date":1638375534,"question_id":70187689,"body_markdown":"using below java Code, on server side validation I have successfully validated input fields and options...etc. but the problem is when I click on submit button, one by one error messages are  showing, but I wanted to show all the error messages at a time when I click on submit button. can anyone please tell me what are the changes should I make in below code to solve my problem.\r\n\r\n    1.Code\r\n    @Component\r\n    public UserValidation implements Validator \r\n    {\r\n    \t// @Override\r\n    \t\t\tpublic boolean supports(Class&lt;?&gt; clazz) {\r\n    \r\n    \t\t\t\treturn User.class.isAssignableFrom(clazz);\r\n    \t\t\t}\r\n    \t\t\t// @Override\r\n    \t\t\tpublic void validate(Object target, Errors errors) {\r\n    \t\t\t\tUser user = (User) target;\r\n    \t\t\t\tfinal String nameRegex = &quot;[A-Za-z]+(\\s[A-Za-z]+)*&quot;;      \r\n    \t\t\t\tfinal String phoneRegex = &quot;^[6-9]\\\\d{9}$&quot;;\r\n    \t\t\t\r\n    \t\t\t\tif (user.getUserName().equals(&quot;&quot;)) {\r\n    \t\t\t\t\terrors.rejectValue(&quot;userrName&quot;, &quot;userrName.required&quot;, &quot;Error: User Name is required&quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif (user.getUserName().length() &gt; 20) {\r\n    \t\t\t\t\terrors.rejectValue(&quot;userrName&quot;, &quot;userrName.required&quot;, &quot;Error: User Name reached maximum limit of characters allowed&quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif (user.getUserName().matches(nameRegex) == false) {\r\n    \t\t\t\t\terrors.rejectValue(&quot;userrName&quot;, &quot;userrName.required&quot;, &quot;Error: Invalid User Name &quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif (user.getUserType().equals(&quot;0&quot;)) {\r\n    \t\t\t\t\terrors.rejectValue(&quot;userType&quot;, &quot;userType.required&quot;, &quot;Error: Select User Type&quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif (user.getUserNumber().equals(&quot;&quot;)) {\r\n    \t\t\t\t\terrors.rejectValue(&quot;userNumber&quot;, &quot;userNumber.required&quot;, &quot;Error: User Number is required&quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif (user.getUserNumber().matches(phoneRegex) == false) {\r\n    \t\t\t\t\terrors.rejectValue(&quot;userNumber&quot;, &quot;userNumber.required&quot;, &quot;Error: Invalid User Number &quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n\r\n ","title":"How to validate all input fields, select options at a time on a form","body":"<p>using below java Code, on server side validation I have successfully validated input fields and options...etc. but the problem is when I click on submit button, one by one error messages are  showing, but I wanted to show all the error messages at a time when I click on submit button. can anyone please tell me what are the changes should I make in below code to solve my problem.</p>\n<pre><code>1.Code\n@Component\npublic UserValidation implements Validator \n{\n    // @Override\n            public boolean supports(Class&lt;?&gt; clazz) {\n\n                return User.class.isAssignableFrom(clazz);\n            }\n            // @Override\n            public void validate(Object target, Errors errors) {\n                User user = (User) target;\n                final String nameRegex = &quot;[A-Za-z]+(\\s[A-Za-z]+)*&quot;;      \n                final String phoneRegex = &quot;^[6-9]\\\\d{9}$&quot;;\n            \n                if (user.getUserName().equals(&quot;&quot;)) {\n                    errors.rejectValue(&quot;userrName&quot;, &quot;userrName.required&quot;, &quot;Error: User Name is required&quot;);\n                    return;\n                }\n                \n                if (user.getUserName().length() &gt; 20) {\n                    errors.rejectValue(&quot;userrName&quot;, &quot;userrName.required&quot;, &quot;Error: User Name reached maximum limit of characters allowed&quot;);\n                    return;\n                }\n\n                if (user.getUserName().matches(nameRegex) == false) {\n                    errors.rejectValue(&quot;userrName&quot;, &quot;userrName.required&quot;, &quot;Error: Invalid User Name &quot;);\n                    return;\n                }\n                \n                if (user.getUserType().equals(&quot;0&quot;)) {\n                    errors.rejectValue(&quot;userType&quot;, &quot;userType.required&quot;, &quot;Error: Select User Type&quot;);\n                    return;\n                }\n                \n                if (user.getUserNumber().equals(&quot;&quot;)) {\n                    errors.rejectValue(&quot;userNumber&quot;, &quot;userNumber.required&quot;, &quot;Error: User Number is required&quot;);\n                    return;\n                }\n\n                if (user.getUserNumber().matches(phoneRegex) == false) {\n                    errors.rejectValue(&quot;userNumber&quot;, &quot;userNumber.required&quot;, &quot;Error: Invalid User Number &quot;);\n                    return;\n                }\n                \n            }\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","mockrestserviceserver"],"answers":[{"tags":[],"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638259775,"creation_date":1638259775,"answer_id":70166129,"question_id":70162810,"body_markdown":"I was facing a similiar issue recently and did not find any solution with built in matchers/methods. I ended up writing my own Matcher implementation, which looked something like this:\r\n\r\n    public class RequestPathMatcher implements RequestMatcher {\r\n        private final String expectedRequestPath;\r\n    \r\n        public static RequestPathMatcher of(String expectedRequestPath) {\r\n            return new RequestContainsUriMatcher(expectedRequestPath);\r\n        }\r\n    \r\n        private RequestPathMatcher(String expectedRequestPath) {\r\n            this.expectedRequestPath = expectedRequestPath;\r\n        }\r\n    \r\n        @Override\r\n        public void match(ClientHttpRequest clientHttpRequest) throws AssertionError {\r\n            final var actualRequestPath = clientHttpRequest.getURI().toString();\r\n            var matchResult = false;\r\n            // your match logic here\r\n            assertTrue(matchResult , String.format(&quot;Expected %s to have request path%s&quot;, actualRequestPath, expectedRequestPath));\r\n        }\r\n    }\r\n\r\nYou can the use it like this:\r\n\r\n     mockServer\r\n          .expect(RequestPathMatcher.of(requestPath))\r\n          .andRespond(...)","title":"MockRestServiceServer how to verify only request path exlcuding query string","body":"<p>I was facing a similiar issue recently and did not find any solution with built in matchers/methods. I ended up writing my own Matcher implementation, which looked something like this:</p>\n<pre><code>public class RequestPathMatcher implements RequestMatcher {\n    private final String expectedRequestPath;\n\n    public static RequestPathMatcher of(String expectedRequestPath) {\n        return new RequestContainsUriMatcher(expectedRequestPath);\n    }\n\n    private RequestPathMatcher(String expectedRequestPath) {\n        this.expectedRequestPath = expectedRequestPath;\n    }\n\n    @Override\n    public void match(ClientHttpRequest clientHttpRequest) throws AssertionError {\n        final var actualRequestPath = clientHttpRequest.getURI().toString();\n        var matchResult = false;\n        // your match logic here\n        assertTrue(matchResult , String.format(&quot;Expected %s to have request path%s&quot;, actualRequestPath, expectedRequestPath));\n    }\n}\n</code></pre>\n<p>You can the use it like this:</p>\n<pre><code> mockServer\n      .expect(RequestPathMatcher.of(requestPath))\n      .andRespond(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2297171,"reputation":341,"user_id":2018340,"display_name":"madhav-turangi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639154802,"creation_date":1639013180,"answer_id":70283686,"question_id":70162810,"body_markdown":"Just in case anyone stumbles upon this thread. The answer is very simple, but adding more details of my interesting findings that might be helpful to others.\r\n\r\n**TL;DR answer:**  \r\nUse `mockRestServiceServer.expect(request -&gt; assertEquals(OBJECT_ID_URI, request.getURI().getPath()))`\r\n\r\n**Interesting Findings:**  \r\nIt appears that, it is by design the `MockRestRequestMatchers.requestTo(String uri)` matches against the uri including query string. Below is the implementation extract of this method,\r\n```\r\n\tpublic static RequestMatcher requestTo(String expectedUri) {\r\n\t\tAssert.notNull(expectedUri, &quot;&#39;uri&#39; must not be null&quot;);\r\n\t\treturn request -&gt; assertEquals(&quot;Request URI&quot;, expectedUri, request.getURI().toString());\r\n\t}\r\n```\r\nWhat I mean by design is, the `java.net.URI` by definition is implementation of RFC 2396 and RFC 2732. Below is the extract from `java.net.URI` javadoc\r\n\r\n&gt; Represents a Uniform Resource Identifier (URI) reference. Aside from\r\n&gt; some minor deviations noted below, an instance of this class\r\n&gt; represents a URI reference as defined by RFC 2396: Uniform Resource\r\n&gt; Identifiers (URI): Generic Syntax, amended by RFC 2732: Format for\r\n&gt; Literal IPv6 Addresses in URLs.\r\n\r\nI have not read the RFCs completely, but further the javadoc mentions under **URI syntax and components** \r\n\r\n&gt; A hierarchical URI is subject to further parsing according to the\r\n&gt; syntax\r\n&gt; \r\n&gt; [scheme:][//authority][path][?query][#fragment]\r\n\r\nwhich indicates the URI is not just the request path, rather includes all these parts.\r\nTherefore the `RequestMatcher` returned by `RequestMatchers.requestTo(String uri)` method that asserts as below\r\n```\r\nassertEquals(&quot;Request URI&quot;, expectedUri, request.getURI().toString())\r\n```\r\ncompares actual URI including query string against expected uri. When expected uri string is path only without query string and the actual request contains query parameters, the assert fails.\r\n\r\nSo, my intention to match only the request path in `expect()` method, as the query parameters are asserted with subsequent `andExpect()` methods can be implemented as below\r\n\r\n```\r\nmockRestServiceServer.expect(request -&gt; assertEquals(OBJECT_ID_URI, request.getURI().getPath()))\r\n```\r\nUsing `java.net.URI#getPath()` method, that gives only the path part of the actual URI. \r\n\r\nAnother important point here is, the `RequestMatcher` is a Functional Interface with method \r\n```\r\nvoid match(ClientHttpRequest request) throws IOException, AssertionError;\r\n```\r\nA lambda expression can be passed to `expect()` method that takes `ClientHttpRequest` as argument and returns nothing (technically `void`).\r\n\r\n\r\nThe test method in complete is below and works as expected \r\n```\r\n    @Test\r\n    void testApiCall() {\r\n        mockRestServiceServer.expect(request -&gt; assertEquals(OBJECT_ID_URI, request.getURI().getPath()))\r\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;keyid&quot;, CoreMatchers.anything()))\r\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;token&quot;, CoreMatchers.anything()))\r\n                .andRespond(MockRestResponseCreators.withSuccess(&quot;dummy&quot;, MediaType.APPLICATION_JSON));\r\n\r\n        String response = dataApiClientImpl.getItem(&quot;asdf12345&quot;, &quot;test-obj-id&quot;);\r\n\r\n        Assertions.assertThat(response).isNotNull();\r\n    }\r\n\r\n```\r\n","title":"MockRestServiceServer how to verify only request path exlcuding query string","body":"<p>Just in case anyone stumbles upon this thread. The answer is very simple, but adding more details of my interesting findings that might be helpful to others.</p>\n<p><strong>TL;DR answer:</strong><br />\nUse <code>mockRestServiceServer.expect(request -&gt; assertEquals(OBJECT_ID_URI, request.getURI().getPath()))</code></p>\n<p><strong>Interesting Findings:</strong><br />\nIt appears that, it is by design the <code>MockRestRequestMatchers.requestTo(String uri)</code> matches against the uri including query string. Below is the implementation extract of this method,</p>\n<pre><code>    public static RequestMatcher requestTo(String expectedUri) {\n        Assert.notNull(expectedUri, &quot;'uri' must not be null&quot;);\n        return request -&gt; assertEquals(&quot;Request URI&quot;, expectedUri, request.getURI().toString());\n    }\n</code></pre>\n<p>What I mean by design is, the <code>java.net.URI</code> by definition is implementation of RFC 2396 and RFC 2732. Below is the extract from <code>java.net.URI</code> javadoc</p>\n<blockquote>\n<p>Represents a Uniform Resource Identifier (URI) reference. Aside from\nsome minor deviations noted below, an instance of this class\nrepresents a URI reference as defined by RFC 2396: Uniform Resource\nIdentifiers (URI): Generic Syntax, amended by RFC 2732: Format for\nLiteral IPv6 Addresses in URLs.</p>\n</blockquote>\n<p>I have not read the RFCs completely, but further the javadoc mentions under <strong>URI syntax and components</strong></p>\n<blockquote>\n<p>A hierarchical URI is subject to further parsing according to the\nsyntax</p>\n<p>[scheme:][//authority][path][?query][#fragment]</p>\n</blockquote>\n<p>which indicates the URI is not just the request path, rather includes all these parts.\nTherefore the <code>RequestMatcher</code> returned by <code>RequestMatchers.requestTo(String uri)</code> method that asserts as below</p>\n<pre><code>assertEquals(&quot;Request URI&quot;, expectedUri, request.getURI().toString())\n</code></pre>\n<p>compares actual URI including query string against expected uri. When expected uri string is path only without query string and the actual request contains query parameters, the assert fails.</p>\n<p>So, my intention to match only the request path in <code>expect()</code> method, as the query parameters are asserted with subsequent <code>andExpect()</code> methods can be implemented as below</p>\n<pre><code>mockRestServiceServer.expect(request -&gt; assertEquals(OBJECT_ID_URI, request.getURI().getPath()))\n</code></pre>\n<p>Using <code>java.net.URI#getPath()</code> method, that gives only the path part of the actual URI.</p>\n<p>Another important point here is, the <code>RequestMatcher</code> is a Functional Interface with method</p>\n<pre><code>void match(ClientHttpRequest request) throws IOException, AssertionError;\n</code></pre>\n<p>A lambda expression can be passed to <code>expect()</code> method that takes <code>ClientHttpRequest</code> as argument and returns nothing (technically <code>void</code>).</p>\n<p>The test method in complete is below and works as expected</p>\n<pre><code>    @Test\n    void testApiCall() {\n        mockRestServiceServer.expect(request -&gt; assertEquals(OBJECT_ID_URI, request.getURI().getPath()))\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;keyid&quot;, CoreMatchers.anything()))\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;token&quot;, CoreMatchers.anything()))\n                .andRespond(MockRestResponseCreators.withSuccess(&quot;dummy&quot;, MediaType.APPLICATION_JSON));\n\n        String response = dataApiClientImpl.getItem(&quot;asdf12345&quot;, &quot;test-obj-id&quot;);\n\n        Assertions.assertThat(response).isNotNull();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":2297171,"reputation":341,"user_id":2018340,"display_name":"madhav-turangi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3157,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1639154802,"creation_date":1638231289,"question_id":70162810,"body_markdown":"I have a `@Component` DataClientImpl that calls a REST API using `RestTemplate`. The API endpoint has query params, which are passed when calling `RestTemplate`. \r\nThere is a `@RestClientTest` Test class `DataApiClientImplTest` testing the `DataClientImpl`, mocking the REST calls using `MockRestServiceServer`.\r\n\r\nIn the test method I want to verify that the correct endpoint path and query params (name particularly) are used in API call. \r\nUsing `MockRestRequestMatchers.requestTo()` and `MockRestRequestMatchers.queryParam()` methods to verify.\r\n\r\nThe `MockRestRequestMatchers.requestTo()` fails when the test is run. It appears to compare the actual url include query string with expected url without query string (that is passed to `MockRestRequestMatchers.requestTo()` method. \r\n\r\nIn the pom, I am using \r\n```\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t&lt;relativePath/&gt; \r\n&lt;/parent&gt;\r\n```\r\n\r\n\r\nCode below.\r\n```\r\n@RestClientTest(DataApiClientImpl.class)\r\n@AutoConfigureWebClient(registerRestTemplate = true)\r\nclass DataApiClientImplTest {\r\n\r\n    private static final String OBJECT_ID_URI = &quot;http://localhost:8080/testBucketId/objects/test-obj-id&quot;;\r\n\r\n    @Autowired\r\n    private DataApiClientImpl dataApiClientImpl;\r\n\r\n    @Autowired\r\n    private MockRestServiceServer mockRestServiceServer;\r\n\r\n    @Test\r\n    void testApiCall() {\r\n        mockRestServiceServer.expect(MockRestRequestMatchers.requestTo(OBJECT_ID_URI))\r\n                .andExpect(MockRestRequestMatchers.method(HttpMethod.GET))\r\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;keyid&quot;, CoreMatchers.anything()))\r\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;token&quot;, CoreMatchers.anything()))\r\n                .andRespond(MockRestResponseCreators.withSuccess(&quot;dummy&quot;, MediaType.APPLICATION_JSON));\r\n\r\n        String response = dataApiClientImpl.getItem(&quot;asdf12345&quot;, &quot;test-obj-id&quot;);\r\n\r\n        Assertions.assertThat(response).isNotNull();\r\n    }\r\n\r\n}\r\n```\r\nThe error is \r\n```\r\njava.lang.AssertionError: Unexpected request expected:&lt;http://localhost:8080/testBucketId/objects/test-obj-id&gt; but was:&lt;http://localhost:8080/testBucketId/objects/test-obj-id?token=asdf12345&amp;keyid=testKeyId&gt;\r\nExpected :http://localhost:8080/testBucketId/objects/test-obj-id\r\nActual   :http://localhost:8080/testBucketId/objects/test-obj-id?token=asdf12345&amp;keyid=testKeyId\r\n```\r\n\r\nI can pass in a Matcher instead to `requestTo()` method. But then what is the use of `MockRestRequestMatchers.queryParam()` method, when the whole url with query params has to be verified using Matcher. \r\n\r\nOne option is to use startsWith Matcher `MockRestRequestMatchers.requestTo(CoreMatchers.startsWith(OBJECT_ID_URI))`. But it is not same as exact match verification.\r\n\r\nTried with other overloaded versions of `MockRestRequestMatchers.requestTo()` method. They all behave same.\r\n\r\nIs there other better way to do exact endpoint path only match.\r\n\r\nI did not include the test subject class code `DataClientImpl` as I thought it is out of scope of the problem, but I can add here if need.","title":"MockRestServiceServer how to verify only request path exlcuding query string","body":"<p>I have a <code>@Component</code> DataClientImpl that calls a REST API using <code>RestTemplate</code>. The API endpoint has query params, which are passed when calling <code>RestTemplate</code>.\nThere is a <code>@RestClientTest</code> Test class <code>DataApiClientImplTest</code> testing the <code>DataClientImpl</code>, mocking the REST calls using <code>MockRestServiceServer</code>.</p>\n<p>In the test method I want to verify that the correct endpoint path and query params (name particularly) are used in API call.\nUsing <code>MockRestRequestMatchers.requestTo()</code> and <code>MockRestRequestMatchers.queryParam()</code> methods to verify.</p>\n<p>The <code>MockRestRequestMatchers.requestTo()</code> fails when the test is run. It appears to compare the actual url include query string with expected url without query string (that is passed to <code>MockRestRequestMatchers.requestTo()</code> method.</p>\n<p>In the pom, I am using</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>Code below.</p>\n<pre><code>@RestClientTest(DataApiClientImpl.class)\n@AutoConfigureWebClient(registerRestTemplate = true)\nclass DataApiClientImplTest {\n\n    private static final String OBJECT_ID_URI = &quot;http://localhost:8080/testBucketId/objects/test-obj-id&quot;;\n\n    @Autowired\n    private DataApiClientImpl dataApiClientImpl;\n\n    @Autowired\n    private MockRestServiceServer mockRestServiceServer;\n\n    @Test\n    void testApiCall() {\n        mockRestServiceServer.expect(MockRestRequestMatchers.requestTo(OBJECT_ID_URI))\n                .andExpect(MockRestRequestMatchers.method(HttpMethod.GET))\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;keyid&quot;, CoreMatchers.anything()))\n                .andExpect(MockRestRequestMatchers.queryParam(&quot;token&quot;, CoreMatchers.anything()))\n                .andRespond(MockRestResponseCreators.withSuccess(&quot;dummy&quot;, MediaType.APPLICATION_JSON));\n\n        String response = dataApiClientImpl.getItem(&quot;asdf12345&quot;, &quot;test-obj-id&quot;);\n\n        Assertions.assertThat(response).isNotNull();\n    }\n\n}\n</code></pre>\n<p>The error is</p>\n<pre><code>java.lang.AssertionError: Unexpected request expected:&lt;http://localhost:8080/testBucketId/objects/test-obj-id&gt; but was:&lt;http://localhost:8080/testBucketId/objects/test-obj-id?token=asdf12345&amp;keyid=testKeyId&gt;\nExpected :http://localhost:8080/testBucketId/objects/test-obj-id\nActual   :http://localhost:8080/testBucketId/objects/test-obj-id?token=asdf12345&amp;keyid=testKeyId\n</code></pre>\n<p>I can pass in a Matcher instead to <code>requestTo()</code> method. But then what is the use of <code>MockRestRequestMatchers.queryParam()</code> method, when the whole url with query params has to be verified using Matcher.</p>\n<p>One option is to use startsWith Matcher <code>MockRestRequestMatchers.requestTo(CoreMatchers.startsWith(OBJECT_ID_URI))</code>. But it is not same as exact match verification.</p>\n<p>Tried with other overloaded versions of <code>MockRestRequestMatchers.requestTo()</code> method. They all behave same.</p>\n<p>Is there other better way to do exact endpoint path only match.</p>\n<p>I did not include the test subject class code <code>DataClientImpl</code> as I thought it is out of scope of the problem, but I can add here if need.</p>\n"},{"tags":["javascript","java","android","arrays","json"],"comments":[{"owner":{"account_id":7552017,"reputation":2432,"user_id":5733059,"display_name":"vatz88"},"score":1,"creation_date":1639149249,"post_id":70306559,"comment_id":124281928,"body_markdown":"Did you try it by yourself? Please add the code you tried and what difficulty you&#39;re facing","body":"Did you try it by yourself? Please add the code you tried and what difficulty you&#39;re facing"},{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":0,"creation_date":1639149343,"post_id":70306559,"comment_id":124281968,"body_markdown":"Just loop it &amp; put it in jsonobject &amp; then add that into jsonArray. What is the issue with that.","body":"Just loop it &amp; put it in jsonobject &amp; then add that into jsonArray. What is the issue with that."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639149344,"post_id":70306559,"comment_id":124281970,"body_markdown":"First step is to pick a single programming language.","body":"First step is to pick a single programming language."}],"answers":[{"tags":[],"owner":{"account_id":22437594,"reputation":1265,"user_id":16642626,"display_name":"Branchverse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639150389,"creation_date":1639149481,"answer_id":70306658,"question_id":70306559,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const faces = [\r\n      [\r\n        [128516], &quot;grinning face with smiling eyes&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128512], &quot;grinning face&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128578], &quot;slightly smiling face&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128579], &quot;upside-down face&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128521], &quot;winking face&quot;, &quot;20201001&quot;\r\n      ]\r\n    ]\r\n\r\n    let result = []\r\n    faces.forEach(item =&gt; {\r\n      let a = {\r\n        id: item[0][0],\r\n        name: item[1],\r\n        date: item[2]\r\n      }\r\n      result.push(a)\r\n    })\r\n\r\n    console.log(JSON.stringify(result))\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Convert a const Array to JSON with specific keys","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const faces = [\n  [\n    [128516], \"grinning face with smiling eyes\", \"20201001\"\n  ],\n  [\n    [128512], \"grinning face\", \"20201001\"\n  ],\n  [\n    [128578], \"slightly smiling face\", \"20201001\"\n  ],\n  [\n    [128579], \"upside-down face\", \"20201001\"\n  ],\n  [\n    [128521], \"winking face\", \"20201001\"\n  ]\n]\n\nlet result = []\nfaces.forEach(item =&gt; {\n  let a = {\n    id: item[0][0],\n    name: item[1],\n    date: item[2]\n  }\n  result.push(a)\n})\n\nconsole.log(JSON.stringify(result))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":16820074,"reputation":2480,"user_id":12160777,"display_name":"Lars Flieger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639149524,"creation_date":1639149524,"answer_id":70306678,"question_id":70306559,"body_markdown":"You could use `reduce`:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const faces = [\r\n      [\r\n        [128516], &quot;grinning face with smiling eyes&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128512], &quot;grinning face&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128578], &quot;slightly smiling face&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128579], &quot;upside-down face&quot;, &quot;20201001&quot;\r\n      ],\r\n      [\r\n        [128521], &quot;winking face&quot;, &quot;20201001&quot;\r\n      ]\r\n    ]\r\n\r\n    const result = faces.reduce((result, value) =&gt; {\r\n      result.push({\r\n        id: value[0][0],\r\n        name: value[1],\r\n        date: value[2]\r\n      })\r\n      return result\r\n    }, [])\r\n\r\n    console.log(result)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Convert a const Array to JSON with specific keys","body":"<p>You could use <code>reduce</code>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const faces = [\n  [\n    [128516], \"grinning face with smiling eyes\", \"20201001\"\n  ],\n  [\n    [128512], \"grinning face\", \"20201001\"\n  ],\n  [\n    [128578], \"slightly smiling face\", \"20201001\"\n  ],\n  [\n    [128579], \"upside-down face\", \"20201001\"\n  ],\n  [\n    [128521], \"winking face\", \"20201001\"\n  ]\n]\n\nconst result = faces.reduce((result, value) =&gt; {\n  result.push({\n    id: value[0][0],\n    name: value[1],\n    date: value[2]\n  })\n  return result\n}, [])\n\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":20488087,"reputation":1099,"user_id":15034752,"display_name":"Srikar Phani Kumar M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639149536,"creation_date":1639149536,"answer_id":70306682,"question_id":70306559,"body_markdown":"Simple one liner code using &#39;map&#39; functionality of Arrays.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const faces= [\r\n        [[128516], &quot;grinning face with smiling eyes&quot;, &quot;20201001&quot;],\r\n        [[128512], &quot;grinning face&quot;, &quot;20201001&quot;],\r\n        [[128578], &quot;slightly smiling face&quot;, &quot;20201001&quot;],\r\n        [[128579], &quot;upside-down face&quot;, &quot;20201001&quot;],\r\n        [[128521], &quot;winking face&quot;, &quot;20201001&quot;]\r\n    ];\r\n\r\n    let newObj = []; \r\n\r\n    faces.map(eachObj =&gt; {\r\n      const obj = {\r\n       id: eachObj[0][0],\r\n       name: eachObj[1],\r\n       date: eachObj[2]\r\n      };\r\n      newObj.push(obj);\r\n    });\r\n\r\n    console.log(&#39;New Obj ==&gt;&#39;, newObj);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Convert a const Array to JSON with specific keys","body":"<p>Simple one liner code using 'map' functionality of Arrays.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const faces= [\n    [[128516], \"grinning face with smiling eyes\", \"20201001\"],\n    [[128512], \"grinning face\", \"20201001\"],\n    [[128578], \"slightly smiling face\", \"20201001\"],\n    [[128579], \"upside-down face\", \"20201001\"],\n    [[128521], \"winking face\", \"20201001\"]\n];\n\nlet newObj = []; \n\nfaces.map(eachObj =&gt; {\n  const obj = {\n   id: eachObj[0][0],\n   name: eachObj[1],\n   date: eachObj[2]\n  };\n  newObj.push(obj);\n});\n\nconsole.log('New Obj ==&gt;', newObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":16576197,"reputation":6344,"user_id":11977929,"display_name":"Saeed Shamloo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639150524,"creation_date":1639149579,"answer_id":70306695,"question_id":70306559,"body_markdown":"You can do it like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const faces= [\r\n      [[128516], &quot;grinning face with smiling eyes&quot;, &quot;20201001&quot;],\r\n      [[128512], &quot;grinning face&quot;, &quot;20201001&quot;],\r\n      [[128578], &quot;slightly smiling face&quot;, &quot;20201001&quot;],\r\n      [[128579], &quot;upside-down face&quot;, &quot;20201001&quot;],\r\n      [[128521], &quot;winking face&quot;, &quot;20201001&quot;]\r\n    ]\r\n    const formatedFaces = faces.reduce((acc, item)=&gt; {\r\n      const obj ={\r\n        id: item[0][0],\r\n        name: item[1],\r\n        date: item[2]\r\n      };\r\n      acc.push(obj);\r\n      return acc;\r\n    }, []);\r\n\r\n    console.log(JSON.stringify(formatedFaces))\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Convert a const Array to JSON with specific keys","body":"<p>You can do it like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const faces= [\n  [[128516], \"grinning face with smiling eyes\", \"20201001\"],\n  [[128512], \"grinning face\", \"20201001\"],\n  [[128578], \"slightly smiling face\", \"20201001\"],\n  [[128579], \"upside-down face\", \"20201001\"],\n  [[128521], \"winking face\", \"20201001\"]\n]\nconst formatedFaces = faces.reduce((acc, item)=&gt; {\n  const obj ={\n    id: item[0][0],\n    name: item[1],\n    date: item[2]\n  };\n  acc.push(obj);\n  return acc;\n}, []);\n\nconsole.log(JSON.stringify(formatedFaces))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":15231832,"reputation":14344,"user_id":10990737,"display_name":"Ilijanovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639150582,"creation_date":1639150582,"answer_id":70306940,"question_id":70306559,"body_markdown":"You can `map`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const faces= [\r\n        [[128516], &quot;grinning face with smiling eyes&quot;, &quot;20201001&quot;],\r\n        [[128512], &quot;grinning face&quot;, &quot;20201001&quot;],\r\n        [[128578], &quot;slightly smiling face&quot;, &quot;20201001&quot;],\r\n        [[128579], &quot;upside-down face&quot;, &quot;20201001&quot;],\r\n        [[128521], &quot;winking face&quot;, &quot;20201001&quot;]\r\n    ]\r\n\r\n    let result = faces.map(([ [id], name, date ]) =&gt; ({ id, name, date }))\r\n\r\n    console.log(result)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Convert a const Array to JSON with specific keys","body":"<p>You can <code>map</code></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const faces= [\n    [[128516], \"grinning face with smiling eyes\", \"20201001\"],\n    [[128512], \"grinning face\", \"20201001\"],\n    [[128578], \"slightly smiling face\", \"20201001\"],\n    [[128579], \"upside-down face\", \"20201001\"],\n    [[128521], \"winking face\", \"20201001\"]\n]\n\nlet result = faces.map(([ [id], name, date ]) =&gt; ({ id, name, date }))\n\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9533601,"reputation":538,"user_id":13564911,"display_name":"Regex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1639154406,"accepted_answer_id":70306658,"answer_count":5,"score":0,"last_activity_date":1639154789,"creation_date":1639149024,"question_id":70306559,"body_markdown":"I have an array like this:\r\n\r\n    const faces= [\r\n    \t[[128516], &quot;grinning face with smiling eyes&quot;, &quot;20201001&quot;],\r\n    \t[[128512], &quot;grinning face&quot;, &quot;20201001&quot;],\r\n    \t[[128578], &quot;slightly smiling face&quot;, &quot;20201001&quot;],\r\n    \t[[128579], &quot;upside-down face&quot;, &quot;20201001&quot;],\r\n    \t[[128521], &quot;winking face&quot;, &quot;20201001&quot;]\r\n    ]\r\n\r\nAnd I want to convert it to a formatted JSON like this using JavaScript:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 128516,\r\n        &quot;name&quot;: &quot;grinning face with smiling eyes&quot;,\r\n        &quot;date&quot;: &quot;20201001&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: 128512,\r\n        &quot;name&quot;: &quot;grinning face&quot;,\r\n        &quot;date&quot;: &quot;20201001&quot;\r\n      }\r\n    ]\r\n\r\nAny help is appreciated.","title":"Convert a const Array to JSON with specific keys","body":"<p>I have an array like this:</p>\n<pre><code>const faces= [\n    [[128516], &quot;grinning face with smiling eyes&quot;, &quot;20201001&quot;],\n    [[128512], &quot;grinning face&quot;, &quot;20201001&quot;],\n    [[128578], &quot;slightly smiling face&quot;, &quot;20201001&quot;],\n    [[128579], &quot;upside-down face&quot;, &quot;20201001&quot;],\n    [[128521], &quot;winking face&quot;, &quot;20201001&quot;]\n]\n</code></pre>\n<p>And I want to convert it to a formatted JSON like this using JavaScript:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 128516,\n    &quot;name&quot;: &quot;grinning face with smiling eyes&quot;,\n    &quot;date&quot;: &quot;20201001&quot;\n  },\n  {\n    &quot;id&quot;: 128512,\n    &quot;name&quot;: &quot;grinning face&quot;,\n    &quot;date&quot;: &quot;20201001&quot;\n  }\n]\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","multithreading","javafx","service"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1639146807,"post_id":70305916,"comment_id":124280971,"body_markdown":"This question needs more context. What is `ReadService`? Where is this code being called (e.g., since this question tagged javafx,  is it on the FX Application Thread)? What do you want to do when all services are completed? (Update the UI? Something else?) Ideally, create and post a [mre].","body":"This question needs more context. What is <code>ReadService</code>? Where is this code being called (e.g., since this question tagged javafx,  is it on the FX Application Thread)? What do you want to do when all services are completed? (Update the UI? Something else?) Ideally, create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1639148890,"post_id":70305916,"comment_id":124281764,"body_markdown":"@James_D I updated my post with a reproducible example. I&#39;m not calling the service from the JavaFX thread, but from a thread which is called by the JavaFX thread. After the services are completed, I&#39;m doing some stuff with the read file (like validate, create objects...). Hope it&#39;s clearer now","body":"@James_D I updated my post with a reproducible example. I&#39;m not calling the service from the JavaFX thread, but from a thread which is called by the JavaFX thread. After the services are completed, I&#39;m doing some stuff with the read file (like validate, create objects...). Hope it&#39;s clearer now"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1639149915,"post_id":70305916,"comment_id":124282189,"body_markdown":"Don&#39;t use services, use three tasks to do the work, tasks are a subclass of futuretask, so you can call get() on them to wait until they complete.  But don&#39;t call get() on the FX thread, instead make a 4th controlling task which runs the 3 subtasks, and calls get on all of them to pause until complete.  Execute your tasks using a workstealingpool from executors.","body":"Don&#39;t use services, use three tasks to do the work, tasks are a subclass of futuretask, so you can call get() on them to wait until they complete.  But don&#39;t call get() on the FX thread, instead make a 4th controlling task which runs the 3 subtasks, and calls get on all of them to pause until complete.  Execute your tasks using a workstealingpool from executors."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639154212,"creation_date":1639150132,"answer_id":70306822,"question_id":70305916,"body_markdown":"You are starting the service from the FX Application Thread (which is where the `start()` method is executed), and you must not block that thread. So one way is to create a counter for the number of services completed, and respond when it reaches zero.\r\n\r\n\r\nNote that everything that&#39;s new here (creating and updating the `servicesPending` property, and the code that&#39;s executed when the services are complete) is executed on the FX Application Thread, so this approach is appropriate if you are updating the UI when the services are complete.\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        int numServices = 3 ;\r\n\r\n        IntegerProperty servicesPending = new SimpleIntegerProperty(numServices);\r\n\r\n        servicesPending.addListener((obs, oldValue, newValue) -&gt; {\r\n             if (newValue == 0) {\r\n                 // code to execute when all services are complete\r\n                 System.out.println(&quot;Services done&quot;);\r\n             }\r\n        });\r\n\r\n        for (int i = 0; i &lt; numServices; i++) {\r\n            ReadService readService = new ReadService();\r\n            readService.setOnSucceeded(e -&gt; servicesPending.set(servicesPending.get() - 1));\r\n            readService.start();\r\n        }\r\n        \r\n    }\r\n\r\nOn the other hand, if the work you are doing when the services are complete is not UI related, then you can create a new thread which blocks until the services are complete, and then do the work on that background thread. One way to achieve this is with a `CountDownLatch`:\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        int numServices = 3 ;\r\n\r\n        CountDownLatch latch = new CountDownLatch(numServices);\r\n\r\n        for (int i = 0; i &lt; numServices; i++) {\r\n            ReadService readService = new ReadService();\r\n            readService.setOnSucceeded(e -&gt; latch.countDown());\r\n            readService.start();\r\n        }\r\n\r\n        Thread onServicesCompleted = new Thread(() -&gt; {\r\n            try {\r\n                latch.await();\r\n            } catch(InterruptedException exc) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n            System.out.println(&quot;Services done&quot;);\r\n            // other work to do when services are complete...\r\n        });\r\n        onServicesCompleted.start();\r\n        \r\n    }\r\n\r\nA similar solution is suggested in the comment by @jewelsea. If you use `Task`s instead of `Service`s, you can call `get()`, which will block until the task completes:\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n    \r\n        int numServices = 3 ;\r\n    \r\n        List&lt;Task&lt;Boolean&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n        ExecutorService exec = Executors.newCachedThreadPool();\r\n    \r\n    \r\n        for (int i = 0; i &lt; numServices; i++) {\r\n            ReadService readService = new ReadService();\r\n            tasks.add(readService);\r\n        }\r\n    \r\n        exec.invokeAll(tasks);\r\n    \r\n        Task&lt;Void&gt; onServicesCompleted = new Task&lt;&gt;() {\r\n            @Override\r\n            protected Void call() throws Exception {\r\n                for (Task&lt;Boolean&gt; task : tasks) {\r\n                    task.get();\r\n                }\r\n                System.out.println(&quot;Services Done&quot;);\r\n                // other work to be done...\r\n            }\r\n        };\r\n        exec.execute(onServicesCompleted);\r\n    \r\n    }\r\n\r\nand\r\n\r\n    class ReadService extends Task&lt;Boolean&gt; {\r\n        @Override\r\n        protected synchronized Boolean call() throws Exception {\r\n            // do something, for example read a file\r\n            System.out.println(&quot;wait...&quot;);\r\n            wait(5000);\r\n            System.out.println(&quot;waiting done&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\nThis solution is nice if you want to do more background work when the individual `ReadService`s are all complete, and then want to do UI work after that (just use `onServicesCompleted.setOnSucceeded(...)`). ","title":"How to wait for multiple services to complete?","body":"<p>You are starting the service from the FX Application Thread (which is where the <code>start()</code> method is executed), and you must not block that thread. So one way is to create a counter for the number of services completed, and respond when it reaches zero.</p>\n<p>Note that everything that's new here (creating and updating the <code>servicesPending</code> property, and the code that's executed when the services are complete) is executed on the FX Application Thread, so this approach is appropriate if you are updating the UI when the services are complete.</p>\n<pre><code>@Override\npublic void start(Stage stage) {\n\n    int numServices = 3 ;\n\n    IntegerProperty servicesPending = new SimpleIntegerProperty(numServices);\n\n    servicesPending.addListener((obs, oldValue, newValue) -&gt; {\n         if (newValue == 0) {\n             // code to execute when all services are complete\n             System.out.println(&quot;Services done&quot;);\n         }\n    });\n\n    for (int i = 0; i &lt; numServices; i++) {\n        ReadService readService = new ReadService();\n        readService.setOnSucceeded(e -&gt; servicesPending.set(servicesPending.get() - 1));\n        readService.start();\n    }\n    \n}\n</code></pre>\n<p>On the other hand, if the work you are doing when the services are complete is not UI related, then you can create a new thread which blocks until the services are complete, and then do the work on that background thread. One way to achieve this is with a <code>CountDownLatch</code>:</p>\n<pre><code>@Override\npublic void start(Stage stage) {\n\n    int numServices = 3 ;\n\n    CountDownLatch latch = new CountDownLatch(numServices);\n\n    for (int i = 0; i &lt; numServices; i++) {\n        ReadService readService = new ReadService();\n        readService.setOnSucceeded(e -&gt; latch.countDown());\n        readService.start();\n    }\n\n    Thread onServicesCompleted = new Thread(() -&gt; {\n        try {\n            latch.await();\n        } catch(InterruptedException exc) {\n            Thread.currentThread().interrupt();\n        }\n        System.out.println(&quot;Services done&quot;);\n        // other work to do when services are complete...\n    });\n    onServicesCompleted.start();\n    \n}\n</code></pre>\n<p>A similar solution is suggested in the comment by @jewelsea. If you use <code>Task</code>s instead of <code>Service</code>s, you can call <code>get()</code>, which will block until the task completes:</p>\n<pre><code>@Override\npublic void start(Stage stage) {\n\n    int numServices = 3 ;\n\n    List&lt;Task&lt;Boolean&gt;&gt; tasks = new ArrayList&lt;&gt;();\n    ExecutorService exec = Executors.newCachedThreadPool();\n\n\n    for (int i = 0; i &lt; numServices; i++) {\n        ReadService readService = new ReadService();\n        tasks.add(readService);\n    }\n\n    exec.invokeAll(tasks);\n\n    Task&lt;Void&gt; onServicesCompleted = new Task&lt;&gt;() {\n        @Override\n        protected Void call() throws Exception {\n            for (Task&lt;Boolean&gt; task : tasks) {\n                task.get();\n            }\n            System.out.println(&quot;Services Done&quot;);\n            // other work to be done...\n        }\n    };\n    exec.execute(onServicesCompleted);\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>class ReadService extends Task&lt;Boolean&gt; {\n    @Override\n    protected synchronized Boolean call() throws Exception {\n        // do something, for example read a file\n        System.out.println(&quot;wait...&quot;);\n        wait(5000);\n        System.out.println(&quot;waiting done&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>This solution is nice if you want to do more background work when the individual <code>ReadService</code>s are all complete, and then want to do UI work after that (just use <code>onServicesCompleted.setOnSucceeded(...)</code>).</p>\n"}],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70306822,"answer_count":1,"score":0,"last_activity_date":1639154212,"creation_date":1639146100,"question_id":70305916,"body_markdown":"I&#39; running multiple services like this:\r\n(for example to read a file in multiple threads)\r\n\r\n```\r\nfor (int i = 0; i &lt; 3; i++) {\r\n        ReadService readService = new ReadService();\r\n        readService.start();\r\n}\r\n\r\n//wait until all services have been completed\r\nSystem.out.println(&quot;All services done!&quot;);\r\n```\r\n\r\n`ReadService` is a class which extends the `Service` class and is doing some stuff, like reading a file.\r\nIt&#39;s called from another thread which is not the JavaFX application thread.\r\n\r\nHow can I wait until all these services are done to call the `System.out.println`?\r\n\r\n\r\n**reproducible example:**\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.concurrent.Service;\r\nimport javafx.concurrent.Task;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            ReadService readService = new ReadService();\r\n            readService.start();\r\n        }\r\n        // wait until all services have been completed\r\n        System.out.println(&quot;Services done&quot;);\r\n        // continue with some other code, for example check the read file on anything\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n\r\nclass ReadService extends Service&lt;Boolean&gt; {\r\n\r\n    @Override\r\n    protected Task&lt;Boolean&gt; createTask() {\r\n        return new Task&lt;&gt;() {\r\n            @Override\r\n            protected synchronized Boolean call() throws Exception {\r\n                // do something, for example read a file\r\n                System.out.println(&quot;wait...&quot;);\r\n                wait(5000);\r\n                System.out.println(&quot;waiting done&quot;);\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n","title":"How to wait for multiple services to complete?","body":"<p>I' running multiple services like this:\n(for example to read a file in multiple threads)</p>\n<pre><code>for (int i = 0; i &lt; 3; i++) {\n        ReadService readService = new ReadService();\n        readService.start();\n}\n\n//wait until all services have been completed\nSystem.out.println(&quot;All services done!&quot;);\n</code></pre>\n<p><code>ReadService</code> is a class which extends the <code>Service</code> class and is doing some stuff, like reading a file.\nIt's called from another thread which is not the JavaFX application thread.</p>\n<p>How can I wait until all these services are done to call the <code>System.out.println</code>?</p>\n<p><strong>reproducible example:</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.concurrent.Service;\nimport javafx.concurrent.Task;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        for (int i = 0; i &lt; 3; i++) {\n            ReadService readService = new ReadService();\n            readService.start();\n        }\n        // wait until all services have been completed\n        System.out.println(&quot;Services done&quot;);\n        // continue with some other code, for example check the read file on anything\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n\nclass ReadService extends Service&lt;Boolean&gt; {\n\n    @Override\n    protected Task&lt;Boolean&gt; createTask() {\n        return new Task&lt;&gt;() {\n            @Override\n            protected synchronized Boolean call() throws Exception {\n                // do something, for example read a file\n                System.out.println(&quot;wait...&quot;);\n                wait(5000);\n                System.out.println(&quot;waiting done&quot;);\n                return null;\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","json","search"],"comments":[{"owner":{"account_id":2613040,"reputation":466,"user_id":2262795,"display_name":"ceekay"},"score":0,"creation_date":1435744670,"post_id":31157781,"comment_id":50324938,"body_markdown":"I assume you currently use `Gson`, so i recommend to take a look on the `entrySet()` method, which returns all members of your Element. From there you can work with loops or recursive through all fields. But be careful with e.g. `String key = &quot;id&quot;`","body":"I assume you currently use <code>Gson</code>, so i recommend to take a look on the <code>entrySet()</code> method, which returns all members of your Element. From there you can work with loops or recursive through all fields. But be careful with e.g. <code>String key = &quot;id&quot;</code>"},{"owner":{"account_id":5889485,"reputation":288,"user_id":4636546,"display_name":"Chinmay Samant"},"score":0,"creation_date":1435748844,"post_id":31157781,"comment_id":50327679,"body_markdown":"Yes .. I am using `Gson` \nimplementation using Gson will be helpful","body":"Yes .. I am using <code>Gson</code>  implementation using Gson will be helpful"},{"owner":{"account_id":2613040,"reputation":466,"user_id":2262795,"display_name":"ceekay"},"score":0,"creation_date":1435749522,"post_id":31157781,"comment_id":50328132,"body_markdown":"And how do you plan to work with keys inside a `JsonArray` like `&quot;config123&quot;` or with keys like `&quot;id&quot;` that even appear on different layers?","body":"And how do you plan to work with keys inside a <code>JsonArray</code> like <code>&quot;config123&quot;</code> or with keys like <code>&quot;id&quot;</code> that even appear on different layers?"},{"owner":{"account_id":5889485,"reputation":288,"user_id":4636546,"display_name":"Chinmay Samant"},"score":0,"creation_date":1435749647,"post_id":31157781,"comment_id":50328218,"body_markdown":"yes.. json can be anything. ... it might even not have that key which we are searching","body":"yes.. json can be anything. ... it might even not have that key which we are searching"},{"owner":{"account_id":2613040,"reputation":466,"user_id":2262795,"display_name":"ceekay"},"score":0,"creation_date":1435749735,"post_id":31157781,"comment_id":50328271,"body_markdown":"that doesn&#39;t answer my question. please provide an expected output of your sample when you search the key `&quot;config123&quot;` or `&quot;oauthSecret&quot;` or `&quot;id&quot;`","body":"that doesn&#39;t answer my question. please provide an expected output of your sample when you search the key <code>&quot;config123&quot;</code> or <code>&quot;oauthSecret&quot;</code> or <code>&quot;id&quot;</code>"},{"owner":{"account_id":5889485,"reputation":288,"user_id":4636546,"display_name":"Chinmay Samant"},"score":0,"creation_date":1435750115,"post_id":31157781,"comment_id":50328552,"body_markdown":"ohh ok .. i got what you are trying to say..\nin a case of multiple occurnce of the key .. it should return array of values ..\nlike for `&quot;config123&quot;` it should return [{\n          &quot;oauthSecret&quot;: &quot;P8n2x5Hsst0nFRRB0A&quot;,\n          &quot;status&quot;: &quot;CREATED&quot;\n        },{\n          &quot;oauthSecret&quot;: &quot;P8n2x5Htss0nFRRB0A&quot;\n        }]\nand for `&quot;id&quot;` it should return [1753_CORE1,45,46]","body":"ohh ok .. i got what you are trying to say.. in a case of multiple occurnce of the key .. it should return array of values .. like for <code>&quot;config123&quot;</code> it should return [{           &quot;oauthSecret&quot;: &quot;P8n2x5Hsst0nFRRB0A&quot;,           &quot;status&quot;: &quot;CREATED&quot;         },{           &quot;oauthSecret&quot;: &quot;P8n2x5Htss0nFRRB0A&quot;         }] and for <code>&quot;id&quot;</code> it should return [1753_CORE1,45,46]"}],"answers":[{"tags":[],"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435744818,"creation_date":1435744818,"answer_id":31158238,"question_id":31157781,"body_markdown":"You could use something like this :-\r\n\r\n    public Object checkKey(JSONObject object, String searchedKey) {\r\n\t    boolean exists = object.containsKey(searchedKey);\r\n\t    Object obj = null;\r\n\t    if(exists){\r\n\t    \tobj = object.get(searchedKey);\r\n\t    }\r\n\t    if(!exists) {      \r\n\t         Set&lt;String&gt; keys = object.keySet();\r\n\t         for(String key : keys){\r\n\t             if ( object.get(key) instanceof JSONObject ) {\r\n\t            \t obj = checkKey((JSONObject)object.get(key), searchedKey);\r\n\t            }\r\n\t         }\r\n\t    }\r\n\t    return obj;\r\n\t}\r\n\r\nThis will give you the Object type for a key OR null if key does not exists.\r\nYou can modify it &amp; caste the return `Object` type to any `JSONObject`, `String` or `JSONArray` depending upon your condition by checking its class using `getClass()`.\r\n\r\nNote :- This is just a reference but you can edit it according to your needs.","title":"Find value for a key from a dynamic json using java","body":"<p>You could use something like this :-</p>\n\n<pre><code>public Object checkKey(JSONObject object, String searchedKey) {\n    boolean exists = object.containsKey(searchedKey);\n    Object obj = null;\n    if(exists){\n        obj = object.get(searchedKey);\n    }\n    if(!exists) {      \n         Set&lt;String&gt; keys = object.keySet();\n         for(String key : keys){\n             if ( object.get(key) instanceof JSONObject ) {\n                 obj = checkKey((JSONObject)object.get(key), searchedKey);\n            }\n         }\n    }\n    return obj;\n}\n</code></pre>\n\n<p>This will give you the Object type for a key OR null if key does not exists.\nYou can modify it &amp; caste the return <code>Object</code> type to any <code>JSONObject</code>, <code>String</code> or <code>JSONArray</code> depending upon your condition by checking its class using <code>getClass()</code>.</p>\n\n<p>Note :- This is just a reference but you can edit it according to your needs.</p>\n"},{"tags":[],"owner":{"account_id":6210883,"reputation":2089,"user_id":4837203,"accept_rate":17,"display_name":"Safwan Hijazi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1436134174,"creation_date":1435745562,"answer_id":31158468,"question_id":31157781,"body_markdown":"please try this \r\n\r\n    package json;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonParser;\r\n    \r\n    public class MyApp {\r\n    \tstatic List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString key = &quot;oauthSecret&quot;;\r\n    \r\n    \t\tString json2 = &quot;{\\&quot;config\\&quot;: {\\&quot;oauthSecret\\&quot;: [{\\&quot;id\\&quot;: 45,\\&quot;config123\\&quot;: {\\&quot;oauthSecret\\&quot;: \\&quot;P8n2x5Ht0nFRRB0A\\&quot;,\\&quot;status\\&quot;: \\&quot;CREATED\\&quot;},\\&quot;SERVER132\\&quot;: \\&quot;1000\\&quot;},{\\&quot;id\\&quot;: 46,\\&quot;config123\\&quot;: {\\&quot;oauthSecret\\&quot;: \\&quot;wP8n2x5Ht0nFRRB0A\\&quot;,\\&quot;status\\&quot;: \\&quot;CREATED\\&quot;},\\&quot;SERVER132\\&quot;: \\&quot;1000\\&quot;}],\\&quot;oauthKey\\&quot;: \\&quot;newtest\\&quot;,\\&quot;SERVER\\&quot;: \\&quot;1000\\&quot;},\\&quot;features\\&quot;: [ 9004, 9005] ,\\&quot;d\\&quot;:\\&quot;dd\\&quot;}&quot;;\r\n    \r\n    \t\tSystem.out.println(&quot;JSON: &quot; + json2);\r\n    \t\tJsonParser p = new JsonParser();\r\n    \t\tcheck(key, p.parse(json2));\r\n    \t\tSystem.out.println(&quot;list size: &quot; + list.size());\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \tprivate static void check(String key, JsonElement jsonElement) {\r\n    \r\n    \t\tif (jsonElement.isJsonArray()) {\r\n    \t\t\tfor (JsonElement jsonElement1 : jsonElement.getAsJsonArray()) {\r\n    \t\t\t\tcheck(key, jsonElement1);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tif (jsonElement.isJsonObject()) {\r\n    \t\t\t\tSet&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement\r\n    \t\t\t\t\t\t.getAsJsonObject().entrySet();\r\n    \t\t\t\tfor (Map.Entry&lt;String, JsonElement&gt; entry : entrySet) {\r\n    \t\t\t\t\tString key1 = entry.getKey();\r\n    \t\t\t\t\tif (key1.equals(key)) {\r\n    \t\t\t\t\t\tlist.add(entry.getValue().toString());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcheck(key, entry.getValue());\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tif (jsonElement.toString().equals(key)) {\r\n    \t\t\t\t\tlist.add(jsonElement.toString());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Find value for a key from a dynamic json using java","body":"<p>please try this </p>\n\n<pre><code>package json;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonParser;\n\npublic class MyApp {\n    static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    public static void main(String[] args) {\n\n        String key = \"oauthSecret\";\n\n        String json2 = \"{\\\"config\\\": {\\\"oauthSecret\\\": [{\\\"id\\\": 45,\\\"config123\\\": {\\\"oauthSecret\\\": \\\"P8n2x5Ht0nFRRB0A\\\",\\\"status\\\": \\\"CREATED\\\"},\\\"SERVER132\\\": \\\"1000\\\"},{\\\"id\\\": 46,\\\"config123\\\": {\\\"oauthSecret\\\": \\\"wP8n2x5Ht0nFRRB0A\\\",\\\"status\\\": \\\"CREATED\\\"},\\\"SERVER132\\\": \\\"1000\\\"}],\\\"oauthKey\\\": \\\"newtest\\\",\\\"SERVER\\\": \\\"1000\\\"},\\\"features\\\": [ 9004, 9005] ,\\\"d\\\":\\\"dd\\\"}\";\n\n        System.out.println(\"JSON: \" + json2);\n        JsonParser p = new JsonParser();\n        check(key, p.parse(json2));\n        System.out.println(\"list size: \" + list.size());\n        System.out.println(list);\n    }\n\n\n\n    private static void check(String key, JsonElement jsonElement) {\n\n        if (jsonElement.isJsonArray()) {\n            for (JsonElement jsonElement1 : jsonElement.getAsJsonArray()) {\n                check(key, jsonElement1);\n            }\n        } else {\n            if (jsonElement.isJsonObject()) {\n                Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement\n                        .getAsJsonObject().entrySet();\n                for (Map.Entry&lt;String, JsonElement&gt; entry : entrySet) {\n                    String key1 = entry.getKey();\n                    if (key1.equals(key)) {\n                        list.add(entry.getValue().toString());\n                    }\n                    check(key, entry.getValue());\n                }\n            } else {\n                if (jsonElement.toString().equals(key)) {\n                    list.add(jsonElement.toString());\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3890751,"reputation":264,"user_id":3221017,"display_name":"DrB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553699096,"creation_date":1435746736,"answer_id":31158861,"question_id":31157781,"body_markdown":"This is a draft of a recursive approach for that. \r\n\r\n    Object find(JSONObject jObj, String k) throws JSONException {\r\n\t\tIterator&lt;?&gt; keys = jObj.keys();\r\n\r\n\t\twhile( keys.hasNext() ) {\r\n\t\t    String key = (String)keys.next();\r\n\t\t    if (key.equals(k)) {\r\n\t\t    \treturn jObj.get(key);\r\n\t\t    }\r\n\r\n\t\t    if ( jObj.get(key) instanceof JSONObject ) {\r\n\t\t    \treturn find((JSONObject)jObj.get(key), k);\r\n\t\t    }\r\n\r\n\t\t    if ( jObj.get(key) instanceof JSONArray ) {\r\n\t\t    \tJSONArray jar = (JSONArray)jObj.get(key);\r\n\t\t    \tfor (int i = 0; i &lt; jar.length(); i++) {\r\n\t\t    \t\tJSONObject j = jar.getJSONObject(i);\r\n\t\t    \t\tfind(j, k);\r\n\t\t    \t}\r\n\t\t    }\r\n\t\t}","title":"Find value for a key from a dynamic json using java","body":"<p>This is a draft of a recursive approach for that. </p>\n\n<pre><code>Object find(JSONObject jObj, String k) throws JSONException {\n    Iterator&lt;?&gt; keys = jObj.keys();\n\n    while( keys.hasNext() ) {\n        String key = (String)keys.next();\n        if (key.equals(k)) {\n            return jObj.get(key);\n        }\n\n        if ( jObj.get(key) instanceof JSONObject ) {\n            return find((JSONObject)jObj.get(key), k);\n        }\n\n        if ( jObj.get(key) instanceof JSONArray ) {\n            JSONArray jar = (JSONArray)jObj.get(key);\n            for (int i = 0; i &lt; jar.length(); i++) {\n                JSONObject j = jar.getJSONObject(i);\n                find(j, k);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11937705,"reputation":41,"user_id":8735574,"display_name":"Taha Saber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621260718,"creation_date":1621192749,"answer_id":67560679,"question_id":31157781,"body_markdown":"    private Object findJsonParam(JSONObject payload, String param) {\r\n\t\tIterator&lt;?&gt; keys = payload.keys();\r\n\r\n\t\tSystem.out.println(&quot;payload  &quot; + payload);\r\n\r\n\t\twhile (keys.hasNext()) {\r\n\r\n\t\t\tString key = (String) keys.next();\r\n\t\t\tif (key.equals(param)) {\r\n\t\t\t\treturn payload.get(key);\r\n\t\t\t} else if (payload.get(key) instanceof JSONObject) {\r\n\r\n\t\t\t\tObject val = findJsonParam(payload.getJSONObject(key), param);\r\n\t\t\t\tif (val != null)\r\n\t\t\t\t\treturn val;\r\n\t\t\t} else if (payload.get(key) instanceof JSONArray) {\r\n\t\t\t\tJSONArray jar = payload.getJSONArray(key);\r\n\t\t\t\tfor (Object jsonObj : jar) {\r\n\t\t\t\t\tObject val = findJsonParam((JSONObject) jsonObj, param);\r\n\t\t\t\t\tif (val != null)\r\n\t\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}","title":"Find value for a key from a dynamic json using java","body":"<pre><code>private Object findJsonParam(JSONObject payload, String param) {\n    Iterator&lt;?&gt; keys = payload.keys();\n\n    System.out.println(&quot;payload  &quot; + payload);\n\n    while (keys.hasNext()) {\n\n        String key = (String) keys.next();\n        if (key.equals(param)) {\n            return payload.get(key);\n        } else if (payload.get(key) instanceof JSONObject) {\n\n            Object val = findJsonParam(payload.getJSONObject(key), param);\n            if (val != null)\n                return val;\n        } else if (payload.get(key) instanceof JSONArray) {\n            JSONArray jar = payload.getJSONArray(key);\n            for (Object jsonObj : jar) {\n                Object val = findJsonParam((JSONObject) jsonObj, param);\n                if (val != null)\n                    return val;\n            }\n        }\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22628983,"reputation":1,"user_id":16806662,"display_name":"Gianlucca Buzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639154184,"creation_date":1639154184,"answer_id":70307698,"question_id":31157781,"body_markdown":"I had to make some changes in [DrB][1] awnser, it worked for me this way. Because on the first nested json it returned without checking the value, so if the key wasn&#39;t in the first one, then it couldn&#39;t find it.\r\n\r\n    public Object find(JSONObject jObj, String k) throws JSONException {\r\n        Iterator&lt;?&gt; keys = jObj.keys();\r\n\r\n        while (keys.hasNext()) {\r\n            String key = (String) keys.next();\r\n            if (key.equals(k)) {\r\n                return jObj.get(key);\r\n            }\r\n\r\n            if (jObj.get(key) instanceof JSONObject) {\r\n                Object probableKeyValue = find((JSONObject) jObj.get(key), k);\r\n                if(probableKeyValue != null){\r\n                    return probableKeyValue;\r\n                }\r\n            }\r\n\r\n            if (jObj.get(key) instanceof JSONArray) {\r\n                JSONArray jar = (JSONArray) jObj.get(key);\r\n                for (int i = 0; i &lt; jar.length(); i++) {\r\n                    JSONObject j = jar.getJSONObject(i);\r\n                    find(j, k);\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3221017/drb","title":"Find value for a key from a dynamic json using java","body":"<p>I had to make some changes in <a href=\"https://stackoverflow.com/users/3221017/drb\">DrB</a> awnser, it worked for me this way. Because on the first nested json it returned without checking the value, so if the key wasn't in the first one, then it couldn't find it.</p>\n<pre><code>public Object find(JSONObject jObj, String k) throws JSONException {\n    Iterator&lt;?&gt; keys = jObj.keys();\n\n    while (keys.hasNext()) {\n        String key = (String) keys.next();\n        if (key.equals(k)) {\n            return jObj.get(key);\n        }\n\n        if (jObj.get(key) instanceof JSONObject) {\n            Object probableKeyValue = find((JSONObject) jObj.get(key), k);\n            if(probableKeyValue != null){\n                return probableKeyValue;\n            }\n        }\n\n        if (jObj.get(key) instanceof JSONArray) {\n            JSONArray jar = (JSONArray) jObj.get(key);\n            for (int i = 0; i &lt; jar.length(); i++) {\n                JSONObject j = jar.getJSONObject(i);\n                find(j, k);\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":5889485,"reputation":288,"user_id":4636546,"display_name":"Chinmay Samant"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21393,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31158468,"answer_count":5,"score":5,"last_activity_date":1639154184,"creation_date":1435743612,"question_id":31157781,"body_markdown":"I need to get the value of the key from a dynamic json.  \r\nInput-&gt; json Object, String key  \r\nOutput-&gt; json element(corresponds to the value of the key)  \r\nExample  \r\n\r\nJsonObject Jmsg = \r\n\r\n    {\r\n      &quot;id&quot;: &quot;1753_CORE1&quot;,\r\n      &quot;name&quot;: &quot;Gtx cuda Service:1753&quot;,\r\n      &quot;shortName&quot;: &quot;gt-service-1753&quot;,\r\n      &quot;createdDate&quot;: &quot;Mar 31, 2015 4:47:10 PM&quot;,\r\n      &quot;config&quot;: {\r\n        &quot;oauthSecret&quot;: [\r\n          {\r\n            &quot;id&quot;: 45,\r\n            &quot;config123&quot;: {\r\n              &quot;oauthSecret&quot;: &quot;P8n2x5Hsst0nFRRB0A&quot;,\r\n              &quot;status&quot;: &quot;CREATED&quot;\r\n            },\r\n            &quot;SERVER132&quot;: &quot;1000&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: 46,\r\n            &quot;config123&quot;: {\r\n              &quot;oauthSecret&quot;: &quot;P8n2x5Htss0nFRRB0A&quot;\r\n            },\r\n            &quot;SERVER132&quot;: &quot;1000&quot;\r\n          }\r\n        ],\r\n        &quot;oauthKey&quot;: &quot;154284-service-1753&quot;,\r\n        &quot;SERVER&quot;: &quot;1000&quot;\r\n      },\r\n      &quot;features&quot;: [\r\n        9004,\r\n        9005\r\n      ]\r\n    }\r\n\r\nand String key = &quot;status&quot;;  \r\nthen\r\nJsonElement Jvalue = jsonGetValueformKey(Jmsg,key);  \r\nshould return &#39;CREATED&#39; in JsonElement or string type.\r\n\r\nif String key = &quot;features&quot;;  \r\nthen  \r\nJsonElement Jvalue = jsonGetValueformKey(Jmsg,key);  \r\nshould return [9004,9005] in JsonElement or jsonArray type.  \r\n\r\nif key not found then return null    \r\nJsonObject Jmsg can be anything\r\n","title":"Find value for a key from a dynamic json using java","body":"<p>I need to get the value of the key from a dynamic json.<br>\nInput-> json Object, String key<br>\nOutput-> json element(corresponds to the value of the key)<br>\nExample  </p>\n\n<p>JsonObject Jmsg = </p>\n\n<pre><code>{\n  \"id\": \"1753_CORE1\",\n  \"name\": \"Gtx cuda Service:1753\",\n  \"shortName\": \"gt-service-1753\",\n  \"createdDate\": \"Mar 31, 2015 4:47:10 PM\",\n  \"config\": {\n    \"oauthSecret\": [\n      {\n        \"id\": 45,\n        \"config123\": {\n          \"oauthSecret\": \"P8n2x5Hsst0nFRRB0A\",\n          \"status\": \"CREATED\"\n        },\n        \"SERVER132\": \"1000\"\n      },\n      {\n        \"id\": 46,\n        \"config123\": {\n          \"oauthSecret\": \"P8n2x5Htss0nFRRB0A\"\n        },\n        \"SERVER132\": \"1000\"\n      }\n    ],\n    \"oauthKey\": \"154284-service-1753\",\n    \"SERVER\": \"1000\"\n  },\n  \"features\": [\n    9004,\n    9005\n  ]\n}\n</code></pre>\n\n<p>and String key = \"status\";<br>\nthen\nJsonElement Jvalue = jsonGetValueformKey(Jmsg,key);<br>\nshould return 'CREATED' in JsonElement or string type.</p>\n\n<p>if String key = \"features\";<br>\nthen<br>\nJsonElement Jvalue = jsonGetValueformKey(Jmsg,key);<br>\nshould return [9004,9005] in JsonElement or jsonArray type.  </p>\n\n<p>if key not found then return null<br>\nJsonObject Jmsg can be anything</p>\n"},{"tags":["java","multithreading","file"],"comments":[{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":1,"creation_date":1434027448,"post_id":6206472,"comment_id":49612859,"body_markdown":"Similar question: http://stackoverflow.com/questions/8602466/can-multi-threads-write-data-into-a-file-at-the-same-time","body":"Similar question: <a href=\"http://stackoverflow.com/questions/8602466/can-multi-threads-write-data-into-a-file-at-the-same-time\" title=\"can multi threads write data into a file at the same time\">stackoverflow.com/questions/8602466/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":130717,"reputation":14948,"user_id":330184,"accept_rate":80,"display_name":"bwawok"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1306978741,"creation_date":1306955990,"answer_id":6206504,"question_id":6206472,"body_markdown":"Using a LinkedBlockingQueue is a pretty good idea. Not sure I like some of the style of the code... but the principle seems sound.\r\n\r\nI would maybe add a capacity to the LinkedBlockingQueue equal to a certain % of your total memory.. say 10,000 items.. this way if your writing is going too slow, your worker threads won&#39;t keep adding more work until the heap is blown.","title":"What is the best way to write to a file in a parallel thread in Java?","body":"<p>Using a LinkedBlockingQueue is a pretty good idea. Not sure I like some of the style of the code... but the principle seems sound.</p>\n\n<p>I would maybe add a capacity to the LinkedBlockingQueue equal to a certain % of your total memory.. say 10,000 items.. this way if your writing is going too slow, your worker threads won't keep adding more work until the heap is blown.</p>\n"},{"tags":[],"owner":{"account_id":2812,"reputation":13739,"user_id":3973,"accept_rate":67,"display_name":"Binil Thomas"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1639154027,"creation_date":1306957573,"answer_id":6206773,"question_id":6206472,"body_markdown":"Your basic approach looks fine. I would structure the code as follows:\r\n\r\n```java\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.Writer;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.LinkedBlockingQueue;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public interface FileWriter {\r\n        FileWriter append(CharSequence seq);\r\n    \r\n        FileWriter indent(int indent);\r\n    \r\n        void close();\r\n    }\r\n    \r\n    class AsyncFileWriter implements FileWriter, Runnable {\r\n        private final File file;\r\n        private final Writer out;\r\n        private final BlockingQueue&lt;Item&gt; queue = new LinkedBlockingQueue&lt;Item&gt;();\r\n        private volatile boolean started = false;\r\n        private volatile boolean stopped = false;\r\n    \r\n        public AsyncFileWriter(File file) throws IOException {\r\n            this.file = file;\r\n            this.out = new BufferedWriter(new java.io.FileWriter(file));\r\n        }\r\n    \r\n        public FileWriter append(CharSequence seq) {\r\n            if (!started) {\r\n                throw new IllegalStateException(&quot;open() call expected before append()&quot;);\r\n            }\r\n            try {\r\n                queue.put(new CharSeqItem(seq));\r\n            } catch (InterruptedException ignored) {\r\n            }\r\n            return this;\r\n        }\r\n    \r\n        public FileWriter indent(int indent) {\r\n            if (!started) {\r\n                throw new IllegalStateException(&quot;open() call expected before append()&quot;);\r\n            }\r\n            try {\r\n                queue.put(new IndentItem(indent));\r\n            } catch (InterruptedException ignored) {\r\n            }\r\n            return this;\r\n        }\r\n    \r\n        public void open() {\r\n            this.started = true;\r\n            new Thread(this).start();\r\n        }\r\n    \r\n        public void run() {\r\n            while (!stopped) {\r\n                try {\r\n                    Item item = queue.poll(100, TimeUnit.MICROSECONDS);\r\n                    if (item != null) {\r\n                        try {\r\n                            item.write(out);\r\n                        } catch (IOException logme) {\r\n                        }\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                }\r\n            }\r\n            try {\r\n                out.close();\r\n            } catch (IOException ignore) {\r\n            }\r\n        }\r\n    \r\n        public void close() {\r\n            this.stopped = true;\r\n        }\r\n    \r\n        private static interface Item {\r\n            void write(Writer out) throws IOException;\r\n        }\r\n    \r\n        private static class CharSeqItem implements Item {\r\n            private final CharSequence sequence;\r\n    \r\n            public CharSeqItem(CharSequence sequence) {\r\n                this.sequence = sequence;\r\n            }\r\n    \r\n            public void write(Writer out) throws IOException {\r\n                out.append(sequence);\r\n            }\r\n        }\r\n    \r\n        private static class IndentItem implements Item {\r\n            private final int indent;\r\n    \r\n            public IndentItem(int indent) {\r\n                this.indent = indent;\r\n            }\r\n    \r\n            public void write(Writer out) throws IOException {\r\n                for (int i = 0; i &lt; indent; i++) {\r\n                    out.append(&quot; &quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nIf you do not want to write in a separate thread (maybe in a test?), you can have an implementation of `FileWriter` which calls `append` on the `Writer` in the caller thread.","title":"What is the best way to write to a file in a parallel thread in Java?","body":"<p>Your basic approach looks fine. I would structure the code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.io.BufferedWriter;\n    import java.io.File;\n    import java.io.IOException;\n    import java.io.Writer;\n    import java.util.concurrent.BlockingQueue;\n    import java.util.concurrent.LinkedBlockingQueue;\n    import java.util.concurrent.TimeUnit;\n    \n    public interface FileWriter {\n        FileWriter append(CharSequence seq);\n    \n        FileWriter indent(int indent);\n    \n        void close();\n    }\n    \n    class AsyncFileWriter implements FileWriter, Runnable {\n        private final File file;\n        private final Writer out;\n        private final BlockingQueue&lt;Item&gt; queue = new LinkedBlockingQueue&lt;Item&gt;();\n        private volatile boolean started = false;\n        private volatile boolean stopped = false;\n    \n        public AsyncFileWriter(File file) throws IOException {\n            this.file = file;\n            this.out = new BufferedWriter(new java.io.FileWriter(file));\n        }\n    \n        public FileWriter append(CharSequence seq) {\n            if (!started) {\n                throw new IllegalStateException(&quot;open() call expected before append()&quot;);\n            }\n            try {\n                queue.put(new CharSeqItem(seq));\n            } catch (InterruptedException ignored) {\n            }\n            return this;\n        }\n    \n        public FileWriter indent(int indent) {\n            if (!started) {\n                throw new IllegalStateException(&quot;open() call expected before append()&quot;);\n            }\n            try {\n                queue.put(new IndentItem(indent));\n            } catch (InterruptedException ignored) {\n            }\n            return this;\n        }\n    \n        public void open() {\n            this.started = true;\n            new Thread(this).start();\n        }\n    \n        public void run() {\n            while (!stopped) {\n                try {\n                    Item item = queue.poll(100, TimeUnit.MICROSECONDS);\n                    if (item != null) {\n                        try {\n                            item.write(out);\n                        } catch (IOException logme) {\n                        }\n                    }\n                } catch (InterruptedException e) {\n                }\n            }\n            try {\n                out.close();\n            } catch (IOException ignore) {\n            }\n        }\n    \n        public void close() {\n            this.stopped = true;\n        }\n    \n        private static interface Item {\n            void write(Writer out) throws IOException;\n        }\n    \n        private static class CharSeqItem implements Item {\n            private final CharSequence sequence;\n    \n            public CharSeqItem(CharSequence sequence) {\n                this.sequence = sequence;\n            }\n    \n            public void write(Writer out) throws IOException {\n                out.append(sequence);\n            }\n        }\n    \n        private static class IndentItem implements Item {\n            private final int indent;\n    \n            public IndentItem(int indent) {\n                this.indent = indent;\n            }\n    \n            public void write(Writer out) throws IOException {\n                for (int i = 0; i &lt; indent; i++) {\n                    out.append(&quot; &quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>If you do not want to write in a separate thread (maybe in a test?), you can have an implementation of <code>FileWriter</code> which calls <code>append</code> on the <code>Writer</code> in the caller thread.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1306957704,"creation_date":1306957704,"answer_id":6206795,"question_id":6206472,"body_markdown":"One good way to exchange data with a single consumer thread is to use an Exchanger.\r\n\r\nYou could use a StringBuilder or ByteBuffer as the buffer to exchange with the background thread. The latency incurred can be around 1 micro-second, doesn&#39;t involve creating any objects and which is lower using a BlockingQueue.\r\n\r\nFrom the example which I think is worth repeating here.\r\n\r\n    class FillAndEmpty {\r\n       Exchanger&lt;DataBuffer&gt; exchanger = new Exchanger&lt;DataBuffer&gt;();\r\n       DataBuffer initialEmptyBuffer = ... a made-up type\r\n       DataBuffer initialFullBuffer = ...\r\n    \r\n       class FillingLoop implements Runnable {\r\n         public void run() {\r\n           DataBuffer currentBuffer = initialEmptyBuffer;\r\n           try {\r\n             while (currentBuffer != null) {\r\n               addToBuffer(currentBuffer);\r\n               if (currentBuffer.isFull())\r\n                 currentBuffer = exchanger.exchange(currentBuffer);\r\n             }\r\n           } catch (InterruptedException ex) { ... handle ... }\r\n         }\r\n       }\r\n    \r\n       class EmptyingLoop implements Runnable {\r\n         public void run() {\r\n           DataBuffer currentBuffer = initialFullBuffer;\r\n           try {\r\n             while (currentBuffer != null) {\r\n               takeFromBuffer(currentBuffer);\r\n               if (currentBuffer.isEmpty())\r\n                 currentBuffer = exchanger.exchange(currentBuffer);\r\n             }\r\n           } catch (InterruptedException ex) { ... handle ...}\r\n         }\r\n       }\r\n    \r\n       void start() {\r\n         new Thread(new FillingLoop()).start();\r\n         new Thread(new EmptyingLoop()).start();\r\n       }\r\n     }\r\n\r\n","title":"What is the best way to write to a file in a parallel thread in Java?","body":"<p>One good way to exchange data with a single consumer thread is to use an Exchanger.</p>\n\n<p>You could use a StringBuilder or ByteBuffer as the buffer to exchange with the background thread. The latency incurred can be around 1 micro-second, doesn't involve creating any objects and which is lower using a BlockingQueue.</p>\n\n<p>From the example which I think is worth repeating here.</p>\n\n<pre><code>class FillAndEmpty {\n   Exchanger&lt;DataBuffer&gt; exchanger = new Exchanger&lt;DataBuffer&gt;();\n   DataBuffer initialEmptyBuffer = ... a made-up type\n   DataBuffer initialFullBuffer = ...\n\n   class FillingLoop implements Runnable {\n     public void run() {\n       DataBuffer currentBuffer = initialEmptyBuffer;\n       try {\n         while (currentBuffer != null) {\n           addToBuffer(currentBuffer);\n           if (currentBuffer.isFull())\n             currentBuffer = exchanger.exchange(currentBuffer);\n         }\n       } catch (InterruptedException ex) { ... handle ... }\n     }\n   }\n\n   class EmptyingLoop implements Runnable {\n     public void run() {\n       DataBuffer currentBuffer = initialFullBuffer;\n       try {\n         while (currentBuffer != null) {\n           takeFromBuffer(currentBuffer);\n           if (currentBuffer.isEmpty())\n             currentBuffer = exchanger.exchange(currentBuffer);\n         }\n       } catch (InterruptedException ex) { ... handle ...}\n     }\n   }\n\n   void start() {\n     new Thread(new FillingLoop()).start();\n     new Thread(new EmptyingLoop()).start();\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306978147,"creation_date":1306978147,"answer_id":6209486,"question_id":6206472,"body_markdown":"&gt; I know that frequent write operations\r\n&gt; can slow a program down a lot\r\n\r\nProbably not as much as you think, provided you use buffering. ","title":"What is the best way to write to a file in a parallel thread in Java?","body":"<blockquote>\n  <p>I know that frequent write operations\n  can slow a program down a lot</p>\n</blockquote>\n\n<p>Probably not as much as you think, provided you use buffering. </p>\n"}],"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26628,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":6206773,"answer_count":4,"score":28,"last_activity_date":1639154027,"creation_date":1306955803,"question_id":6206472,"body_markdown":"I have a program that performs lots of calculations and reports them to a file frequently. I know that frequent write operations can slow a program down a lot, so to avoid it I&#39;d like to have a second thread dedicated to the writing operations.\r\n\r\nRight now I&#39;m doing it with this class I wrote (the impatient can skip to the end of the question):\r\n\r\n    public class ParallelWriter implements Runnable {\r\n    \r\n        private File file;\r\n        private BlockingQueue&lt;Item&gt; q;\r\n        private int indentation;\r\n\r\n        public ParallelWriter( File f ){\r\n            file = f;\r\n            q = new LinkedBlockingQueue&lt;Item&gt;();\r\n            indentation = 0;\r\n        }\r\n\r\n        public ParallelWriter append( CharSequence str ){\r\n            try {\r\n                CharSeqItem item = new CharSeqItem();\r\n                item.content = str;\r\n                item.type = ItemType.CHARSEQ;\r\n                q.put(item);\r\n                return this;\r\n            } catch (InterruptedException ex) {\r\n                throw new RuntimeException( ex );\r\n            }\r\n        }\r\n\r\n        public ParallelWriter newLine(){\r\n            try {\r\n                Item item = new Item();\r\n                item.type = ItemType.NEWLINE;\r\n                q.put(item);\r\n                return this;\r\n            } catch (InterruptedException ex) {\r\n                throw new RuntimeException( ex );\r\n            }\r\n        }\r\n\r\n        public void setIndent(int indentation) {\r\n            try{\r\n                IndentCommand item = new IndentCommand();\r\n                item.type = ItemType.INDENT;\r\n                item.indent = indentation;\r\n                q.put(item);\r\n            } catch (InterruptedException ex) {\r\n                throw new RuntimeException( ex );\r\n            }\r\n        }\r\n\r\n        public void end(){\r\n            try {\r\n                Item item = new Item();\r\n                item.type = ItemType.POISON;\r\n                q.put(item);\r\n            } catch (InterruptedException ex) {\r\n                throw new RuntimeException( ex );\r\n            }\r\n        }\r\n\r\n        public void run() {\r\n\r\n            BufferedWriter out = null;\r\n            Item item = null;\r\n\r\n            try{\r\n                out = new BufferedWriter( new FileWriter( file ) );\r\n                while( (item = q.take()).type != ItemType.POISON ){\r\n                    switch( item.type ){\r\n                        case NEWLINE:\r\n                            out.newLine();\r\n                            for( int i = 0; i &lt; indentation; i++ )\r\n                                out.append(&quot;   &quot;);\r\n                            break;\r\n                        case INDENT:\r\n                            indentation = ((IndentCommand)item).indent;\r\n                            break;\r\n                        case CHARSEQ:\r\n                            out.append( ((CharSeqItem)item).content );\r\n                    }\r\n                }\r\n            } catch (InterruptedException ex){\r\n                throw new RuntimeException( ex );\r\n            } catch  (IOException ex) {\r\n                throw new RuntimeException( ex );\r\n            } finally {\r\n                if( out != null ) try {\r\n                    out.close();\r\n                } catch (IOException ex) {\r\n                    throw new RuntimeException( ex );\r\n                }\r\n            }\r\n        }\r\n\r\n        private enum ItemType {\r\n            CHARSEQ, NEWLINE, INDENT, POISON;\r\n        }\r\n        private static class Item {\r\n            ItemType type;\r\n        }\r\n        private static class CharSeqItem extends Item {\r\n            CharSequence content;\r\n        }\r\n        private static class IndentCommand extends Item {\r\n            int indent;\r\n        }\r\n    }\r\n\r\nAnd then I use it by doing:\r\n\r\n    ParallelWriter w = new ParallelWriter( myFile );\r\n    new Thread(w).start();\r\n\r\n    /// Lots of\r\n    w.append(&quot; things &quot;).newLine();\r\n    w.setIndent(2);\r\n    w.newLine().append(&quot; more things &quot;);\r\n\r\n    /// and finally\r\n    w.end();\r\n\r\nWhile this works perfectly well, I&#39;m wondering:\r\n**Is there a better way to accomplish this?**","title":"What is the best way to write to a file in a parallel thread in Java?","body":"<p>I have a program that performs lots of calculations and reports them to a file frequently. I know that frequent write operations can slow a program down a lot, so to avoid it I'd like to have a second thread dedicated to the writing operations.</p>\n\n<p>Right now I'm doing it with this class I wrote (the impatient can skip to the end of the question):</p>\n\n<pre><code>public class ParallelWriter implements Runnable {\n\n    private File file;\n    private BlockingQueue&lt;Item&gt; q;\n    private int indentation;\n\n    public ParallelWriter( File f ){\n        file = f;\n        q = new LinkedBlockingQueue&lt;Item&gt;();\n        indentation = 0;\n    }\n\n    public ParallelWriter append( CharSequence str ){\n        try {\n            CharSeqItem item = new CharSeqItem();\n            item.content = str;\n            item.type = ItemType.CHARSEQ;\n            q.put(item);\n            return this;\n        } catch (InterruptedException ex) {\n            throw new RuntimeException( ex );\n        }\n    }\n\n    public ParallelWriter newLine(){\n        try {\n            Item item = new Item();\n            item.type = ItemType.NEWLINE;\n            q.put(item);\n            return this;\n        } catch (InterruptedException ex) {\n            throw new RuntimeException( ex );\n        }\n    }\n\n    public void setIndent(int indentation) {\n        try{\n            IndentCommand item = new IndentCommand();\n            item.type = ItemType.INDENT;\n            item.indent = indentation;\n            q.put(item);\n        } catch (InterruptedException ex) {\n            throw new RuntimeException( ex );\n        }\n    }\n\n    public void end(){\n        try {\n            Item item = new Item();\n            item.type = ItemType.POISON;\n            q.put(item);\n        } catch (InterruptedException ex) {\n            throw new RuntimeException( ex );\n        }\n    }\n\n    public void run() {\n\n        BufferedWriter out = null;\n        Item item = null;\n\n        try{\n            out = new BufferedWriter( new FileWriter( file ) );\n            while( (item = q.take()).type != ItemType.POISON ){\n                switch( item.type ){\n                    case NEWLINE:\n                        out.newLine();\n                        for( int i = 0; i &lt; indentation; i++ )\n                            out.append(\"   \");\n                        break;\n                    case INDENT:\n                        indentation = ((IndentCommand)item).indent;\n                        break;\n                    case CHARSEQ:\n                        out.append( ((CharSeqItem)item).content );\n                }\n            }\n        } catch (InterruptedException ex){\n            throw new RuntimeException( ex );\n        } catch  (IOException ex) {\n            throw new RuntimeException( ex );\n        } finally {\n            if( out != null ) try {\n                out.close();\n            } catch (IOException ex) {\n                throw new RuntimeException( ex );\n            }\n        }\n    }\n\n    private enum ItemType {\n        CHARSEQ, NEWLINE, INDENT, POISON;\n    }\n    private static class Item {\n        ItemType type;\n    }\n    private static class CharSeqItem extends Item {\n        CharSequence content;\n    }\n    private static class IndentCommand extends Item {\n        int indent;\n    }\n}\n</code></pre>\n\n<p>And then I use it by doing:</p>\n\n<pre><code>ParallelWriter w = new ParallelWriter( myFile );\nnew Thread(w).start();\n\n/// Lots of\nw.append(\" things \").newLine();\nw.setIndent(2);\nw.newLine().append(\" more things \");\n\n/// and finally\nw.end();\n</code></pre>\n\n<p>While this works perfectly well, I'm wondering:\n<strong>Is there a better way to accomplish this?</strong></p>\n"},{"tags":["java","spring","concurrency","postconstruct"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639106779,"creation_date":1639106779,"answer_id":70299401,"question_id":70299276,"body_markdown":"No, I think it is not necessity. \r\n\r\n\r\nOnly one bean is responsible to initialize the variables and registered it in spring context. So the visibility is guaranteed. \r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-postconstruct-and-predestroy-annotations\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/CommonAnnotationBeanPostProcessor.html\r\n","title":"Do variables initialized in the @PostConstruct method need to be declared as volatile in Spring Framework?","body":"<p>No, I think it is not necessity.</p>\n<p>Only one bean is responsible to initialize the variables and registered it in spring context. So the visibility is guaranteed.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-postconstruct-and-predestroy-annotations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-postconstruct-and-predestroy-annotations</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/CommonAnnotationBeanPostProcessor.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/CommonAnnotationBeanPostProcessor.html</a></p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639153794,"creation_date":1639146878,"answer_id":70306084,"question_id":70299276,"body_markdown":"By default, a Spring-managed Bean defined with `@Component` is a Singleton. This means that if you inject `Env` into another Spring-managed Bean and given that `currentEnv` is public, this other Bean could access it.\r\n\r\nI would suggest making `currentEnv` private and creating a getter for the property instead:\r\n```java\r\n@Component\r\npublic class Env {\r\n    private String currentEnv;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        currentEnv = &quot;dev&quot;;\r\n    }\r\n\r\n    public String getCurrentEnv() {\r\n        return currentEnv;\r\n    }\r\n}\r\n```","title":"Do variables initialized in the @PostConstruct method need to be declared as volatile in Spring Framework?","body":"<p>By default, a Spring-managed Bean defined with <code>@Component</code> is a Singleton. This means that if you inject <code>Env</code> into another Spring-managed Bean and given that <code>currentEnv</code> is public, this other Bean could access it.</p>\n<p>I would suggest making <code>currentEnv</code> private and creating a getter for the property instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Env {\n    private String currentEnv;\n\n    @PostConstruct\n    public void init() {\n        currentEnv = &quot;dev&quot;;\n    }\n\n    public String getCurrentEnv() {\n        return currentEnv;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20763088,"reputation":23,"user_id":15247744,"display_name":"Jeremy Xu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1833,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639153794,"creation_date":1639105521,"question_id":70299276,"body_markdown":"I do some initialization in Spring singleton bean @PostConstruct method (simplified code):\r\n\r\n```java\r\n@Component\r\npublic class Env {\r\n    public String currentEnv;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        currentEnv = &quot;dev&quot;;\r\n    }\r\n}\r\n```\r\n\r\nShould I worry about currentEnv visibility to other beans(other thread) and mark it volatile.","title":"Do variables initialized in the @PostConstruct method need to be declared as volatile in Spring Framework?","body":"<p>I do some initialization in Spring singleton bean @PostConstruct method (simplified code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Env {\n    public String currentEnv;\n\n    @PostConstruct\n    public void init() {\n        currentEnv = &quot;dev&quot;;\n    }\n}\n</code></pre>\n<p>Should I worry about currentEnv visibility to other beans(other thread) and mark it volatile.</p>\n"},{"tags":["java","gradle","heap-memory"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":3,"creation_date":1501755288,"post_id":45478302,"comment_id":77922898,"body_markdown":"It&#39;s not possible without modifying the `build.gradle` script.","body":"It&#39;s not possible without modifying the <code>build.gradle</code> script."},{"owner":{"account_id":3808979,"reputation":2938,"user_id":3160531,"accept_rate":69,"display_name":"charlie_pl"},"score":1,"creation_date":1501760046,"post_id":45478302,"comment_id":77926352,"body_markdown":"If you relax your requirement on `build.gradle` you can find nice solutions here: https://stackoverflow.com/questions/23689054/problems-passing-system-properties-and-parameters-when-running-java-class-via-gr","body":"If you relax your requirement on <code>build.gradle</code> you can find nice solutions here: <a href=\"https://stackoverflow.com/questions/23689054/problems-passing-system-properties-and-parameters-when-running-java-class-via-gr\" title=\"problems passing system properties and parameters when running java class via gr\">stackoverflow.com/questions/23689054/&hellip;</a>"},{"owner":{"account_id":7574613,"reputation":626,"user_id":5747374,"display_name":"J.R."},"score":0,"creation_date":1501761020,"post_id":45478302,"comment_id":77927067,"body_markdown":"Thanks for the hint charlie_pl, but from what I understand the post is about program arguments, not JVM arguments. Or do I miss something?","body":"Thanks for the hint charlie_pl, but from what I understand the post is about program arguments, not JVM arguments. Or do I miss something?"}],"answers":[{"tags":[],"owner":{"account_id":7574613,"reputation":626,"user_id":5747374,"display_name":"J.R."},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1597831610,"creation_date":1501760971,"answer_id":45483337,"question_id":45478302,"body_markdown":"As *@Opal* states above it is **not possible**.\r\n\r\nThe easiest/simplest alternative I could find (for now) is to add this little snippet to the `build.gradle` file:\r\n\r\n    tasks.withType(JavaExec) {\r\n        jvmArgs = [&#39;-Xms512m&#39;, &#39;-Xmx512m&#39;]\r\n    }\r\n\r\nAlternatively, the environment variable `_JAVA_OPTIONS` the  can be used.\r\nEven better: the environment variable `JAVA_TOOL_OPTIONS`; the content of this variable will be used as (additional) JVM options.\r\n\r\nThanks *@ady* for the hints.","title":"Gradle: increase heap size for java process started by gradle run task","body":"<p>As <em>@Opal</em> states above it is <strong>not possible</strong>.</p>\n<p>The easiest/simplest alternative I could find (for now) is to add this little snippet to the <code>build.gradle</code> file:</p>\n<pre><code>tasks.withType(JavaExec) {\n    jvmArgs = ['-Xms512m', '-Xmx512m']\n}\n</code></pre>\n<p>Alternatively, the environment variable <code>_JAVA_OPTIONS</code> the  can be used.\nEven better: the environment variable <code>JAVA_TOOL_OPTIONS</code>; the content of this variable will be used as (additional) JVM options.</p>\n<p>Thanks <em>@ady</em> for the hints.</p>\n"},{"tags":[],"owner":{"account_id":1293545,"reputation":1108,"user_id":1245175,"accept_rate":57,"display_name":"ady"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1585682901,"creation_date":1579662306,"answer_id":59852045,"question_id":45478302,"body_markdown":"Use this command in Linux: `export _JAVA_OPTIONS=&quot;-Xms4000m -Xmx8000m&quot;` where values 4000 and 8000 can be changed. Instead of JAVA_OPTS use _JAVA_OPTIONS\r\n\r\n----------------------------------------------------------------------------\r\nOld answer:\r\nYou can set or increase memory usage limits (or other JVM arguments) used for Gradle builds and the Gradle Daemon by editing $GRADLE_USER_HOME/.gradle/gradle.properties (~/.gradle/gradle.properties by default), and setting org.gradle.jvmargs:\r\n\r\n    org.gradle.jvmargs=-Xmx2024m -XX:MaxPermSize=512m\r\n\r\nSource: https://riptutorial.com/gradle/example/11911/tuning-jvm-memory-usage-parameters-for-gradle","title":"Gradle: increase heap size for java process started by gradle run task","body":"<p>Use this command in Linux: <code>export _JAVA_OPTIONS=\"-Xms4000m -Xmx8000m\"</code> where values 4000 and 8000 can be changed. Instead of JAVA_OPTS use _JAVA_OPTIONS</p>\n\n<hr>\n\n<p>Old answer:\nYou can set or increase memory usage limits (or other JVM arguments) used for Gradle builds and the Gradle Daemon by editing $GRADLE_USER_HOME/.gradle/gradle.properties (~/.gradle/gradle.properties by default), and setting org.gradle.jvmargs:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx2024m -XX:MaxPermSize=512m\n</code></pre>\n\n<p>Source: <a href=\"https://riptutorial.com/gradle/example/11911/tuning-jvm-memory-usage-parameters-for-gradle\" rel=\"noreferrer\">https://riptutorial.com/gradle/example/11911/tuning-jvm-memory-usage-parameters-for-gradle</a></p>\n"}],"owner":{"account_id":7574613,"reputation":626,"user_id":5747374,"display_name":"J.R."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20748,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":45483337,"answer_count":2,"score":20,"last_activity_date":1639153687,"creation_date":1501747434,"question_id":45478302,"body_markdown":"I have a gradle task which starts a java project. Basically like this:\r\n\r\n    gradle run -PmainClass=package.path.ServiceMain\r\n\r\nNow, I want to increase the heap for the java process started by gradle because the standard heap size is too small. The problem is that I succeed only to increase the size of the gradle process, not the size of the java process which is launched by the gradle project.\r\nI check the heap size with this command in my Java code:\r\n\r\n    Runtime.getRuntime().totalMemory()\r\n\r\nI tested this check and it is valid to use it like this. But it shows me that gradle starts my Java process always with the same heap size.\r\n\r\nI experimented with these options:\r\n\r\n    DEFAULT_JVM_OPTS=&#39;-Xmx1024m -Xms512m&#39;\r\n    GRADLE_OPTS=&#39;-Xmx1024m -Xms512m&#39;\r\n    JAVA_OPTS=&#39;-Xmx1024m -Xms512m&#39;\r\n\r\nNo success.\r\n\r\n I also tried this:\r\n\r\n    gradle run -PmainClass=package.path.ServiceMain -DXmx1024m -DXms512m\r\n\r\nStill, no success.\r\n\r\nOf course, I already searched the web but I found only some hints saying that I could modify the `build.gradle` file. Unfortunately, this is not what I want/can. \r\n\r\n**I need to specify the java heap size for my java program on the command line when starting it by a gradle run task** (due to the actual project structure).\r\n\r\nThanks in advance for support. Any help is appreciated.\r\n","title":"Gradle: increase heap size for java process started by gradle run task","body":"<p>I have a gradle task which starts a java project. Basically like this:</p>\n\n<pre><code>gradle run -PmainClass=package.path.ServiceMain\n</code></pre>\n\n<p>Now, I want to increase the heap for the java process started by gradle because the standard heap size is too small. The problem is that I succeed only to increase the size of the gradle process, not the size of the java process which is launched by the gradle project.\nI check the heap size with this command in my Java code:</p>\n\n<pre><code>Runtime.getRuntime().totalMemory()\n</code></pre>\n\n<p>I tested this check and it is valid to use it like this. But it shows me that gradle starts my Java process always with the same heap size.</p>\n\n<p>I experimented with these options:</p>\n\n<pre><code>DEFAULT_JVM_OPTS='-Xmx1024m -Xms512m'\nGRADLE_OPTS='-Xmx1024m -Xms512m'\nJAVA_OPTS='-Xmx1024m -Xms512m'\n</code></pre>\n\n<p>No success.</p>\n\n<p>I also tried this:</p>\n\n<pre><code>gradle run -PmainClass=package.path.ServiceMain -DXmx1024m -DXms512m\n</code></pre>\n\n<p>Still, no success.</p>\n\n<p>Of course, I already searched the web but I found only some hints saying that I could modify the <code>build.gradle</code> file. Unfortunately, this is not what I want/can. </p>\n\n<p><strong>I need to specify the java heap size for my java program on the command line when starting it by a gradle run task</strong> (due to the actual project structure).</p>\n\n<p>Thanks in advance for support. Any help is appreciated.</p>\n"},{"tags":["java","gradle","java-8","heap-memory"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1534791112,"post_id":51936801,"comment_id":90823762,"body_markdown":"that, unfortunately does not say much, is there a stack trance may be?","body":"that, unfortunately does not say much, is there a stack trance may be?"},{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":0,"creation_date":1534791194,"post_id":51936801,"comment_id":90823799,"body_markdown":"@Eugene the `--stacktrace` option only logs generic java heap exception","body":"@Eugene the <code>--stacktrace</code> option only logs generic java heap exception"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1534791224,"post_id":51936801,"comment_id":90823816,"body_markdown":"well if can&#39;t reproduce, just delete your now question...","body":"well if can&#39;t reproduce, just delete your now question..."},{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":0,"creation_date":1534791600,"post_id":51936801,"comment_id":90823939,"body_markdown":"@Eugene I have posted all the available info, so it should not matter if I am able reproducing it after restart or not. I&#39;m still interested to get an answer if someone has encountered a problem like that, it might serve me later on.","body":"@Eugene I have posted all the available info, so it should not matter if I am able reproducing it after restart or not. I&#39;m still interested to get an answer if someone has encountered a problem like that, it might serve me later on."}],"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639153666,"creation_date":1534790765,"question_id":51936801,"body_markdown":"Whenever i try to execute *any* gradle command on *any* project I get:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Java heap space\r\n\r\nI tried changing java heap and executing gradle commands in a non-project context, but I get the same error. For example:\r\n\r\n    $ killall java\r\n    $ mkdir test\r\n    $ cd test \r\n    $ export _JAVA_OPTIONS=-Xmx4096m\r\n    $ gradle wrapper\r\n    Picked up _JAVA_OPTIONS: -Xmx4096m\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Java heap space\r\n\r\n\r\nGradle version is `4.8`\r\n\r\n    $ java -version\r\n    Picked up _JAVA_OPTIONS: -Xmx4096m\r\n    java version &quot;1.8.0_131&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\n**EDIT**\r\nThe problem seems to be gone after I rebooted the system. Can no longer reproduce","title":"Gradle java heap size error","body":"<p>Whenever i try to execute <em>any</em> gradle command on <em>any</em> project I get:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nJava heap space\n</code></pre>\n\n<p>I tried changing java heap and executing gradle commands in a non-project context, but I get the same error. For example:</p>\n\n<pre><code>$ killall java\n$ mkdir test\n$ cd test \n$ export _JAVA_OPTIONS=-Xmx4096m\n$ gradle wrapper\nPicked up _JAVA_OPTIONS: -Xmx4096m\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nJava heap space\n</code></pre>\n\n<p>Gradle version is <code>4.8</code></p>\n\n<pre><code>$ java -version\nPicked up _JAVA_OPTIONS: -Xmx4096m\njava version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n\n<p><strong>EDIT</strong>\nThe problem seems to be gone after I rebooted the system. Can no longer reproduce</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639153494,"creation_date":1639153494,"answer_id":70307558,"question_id":70307440,"body_markdown":"You are facing the infinite recursion issue. Please have a look at @JsonManagedReference and\r\n@JsonBackReference to solve this issue.","title":"Why is the database looping when calling the GET method?","body":"<p>You are facing the infinite recursion issue. Please have a look at @JsonManagedReference and\n@JsonBackReference to solve this issue.</p>\n"},{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639153507,"creation_date":1639153507,"answer_id":70307563,"question_id":70307440,"body_markdown":"You have to break the loop with Jackson annotations.\r\n\r\nOne one side you can set `@JsonManagedReference` and this will be serialized and on the other you set `@JsonBackReference` and this one will be ignored.\r\n\r\nPlease find a good explanation here: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"Why is the database looping when calling the GET method?","body":"<p>You have to break the loop with Jackson annotations.</p>\n<p>One one side you can set <code>@JsonManagedReference</code> and this will be serialized and on the other you set <code>@JsonBackReference</code> and this one will be ignored.</p>\n<p>Please find a good explanation here: <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n"}],"owner":{"account_id":15596196,"reputation":3,"user_id":12520988,"display_name":"Castiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70307558,"answer_count":2,"score":0,"last_activity_date":1639153507,"creation_date":1639152932,"question_id":70307440,"body_markdown":"The main entity:\r\nit uses a one-to-one relationship to the &quot;animal_passport&quot; table. Everything is done according to the textbook and should work well. But for some reason, both tables refer to each other when calling the get method.\r\n    \r\n    package com.testapp.model;\r\n    import javax.persistence.*;\r\n    @Entity\r\n    @Table(name = &quot;animal&quot;)\r\n    public class Animal {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;animal_id&quot;, nullable = false, updatable = false)\r\n    private long id;\r\n    @Column(name = &quot;animal_value&quot;)\r\n    private String animal_value;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;pass_id&quot;)\r\n    private PassportAnimal passportAnimal;\r\n\r\n    public Animal(String animal_value, PassportAnimal passportAnimal) {\r\n        this.animal_value = animal_value;\r\n        this.passportAnimal = passportAnimal;\r\n    }\r\n    public Animal() {\r\n    }\r\n    public long getId() {\r\n        return id;\r\n    }\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n    public String getAnimal_value() {\r\n        return animal_value;\r\n    }\r\n    public void setAnimal_value(String animal_value) {\r\n        this.animal_value = animal_value;\r\n    }\r\n    public PassportAnimal getPassportAnimal() {\r\n        return passportAnimal;\r\n    }\r\n    public void setPassportAnimal(PassportAnimal passportAnimal) {\r\n        this.passportAnimal = passportAnimal;\r\n    }\r\n    }\r\n    \r\nDependent entity:\r\n\r\n    package com.testapp.model;\r\n    import javax.persistence.*;\r\n    @Entity\r\n    @Table(name = &quot;pass_anim&quot;)\r\n    public class PassportAnimal {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;pass_id&quot;, nullable = false,updatable = false)\r\n    private long id;\r\n    @Column(name = &quot;value_pass&quot;)\r\n    private String value;\r\n    @OneToOne(mappedBy = &quot;passportAnimal&quot;)\r\n    private Animal animal;\r\n\r\n    public PassportAnimal(String value, Animal animal) {\r\n        this.value = value;\r\n        this.animal = animal;\r\n    }\r\n    public PassportAnimal() {\r\n    }\r\n    public long getId() {\r\n        return id;\r\n    }\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n    public Animal getAnimal() {\r\n        return animal;\r\n    }\r\n    public void setAnimal(Animal animal) {\r\n        this.animal = animal;\r\n    }\r\n    }\r\n\r\nController the animal entity:\r\n\r\n    package com.testapp.controller;\r\n    import com.testapp.model.Animal;\r\n    import com.testapp.repository.AnimalRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    @CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    @RestController\r\n    @RequestMapping(path = &quot;/api&quot;)\r\n    public class AnimalController {\r\n    @Autowired\r\n    AnimalRepository animalRepository;\r\n    @GetMapping(&quot;/animal&quot;)\r\n    public ResponseEntity&lt;List&lt;Animal&gt;&gt; getAllAnimal(@RequestParam(required = false) String value) \r\n    {\r\n        try {\r\n            List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\r\n            if (value == null) {\r\n                animalRepository.findAll().forEach(animals::add);\r\n            }\r\n            if (animals.isEmpty()) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(animals, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n    @GetMapping(&quot;/animal/{id}&quot;)\r\n    public ResponseEntity&lt;Animal&gt; getAnimalById(@PathVariable(&quot;id&quot;) long id) {\r\n        Optional&lt;Animal&gt; animalOptional = animalRepository.findById(id);\r\n        if (animalOptional.isPresent()) {\r\n            return new ResponseEntity&lt;&gt;(animalOptional.get(), HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n    @PostMapping(&quot;/animal&quot;)\r\n    public ResponseEntity&lt;Animal&gt; createAnimal(@RequestBody Animal animal) {\r\n        try {\r\n            Animal _animal = animalRepository.save(new \r\n    Animal(animal.getAnimal_value(),animal.getPassportAnimal()));\r\n            return new ResponseEntity&lt;&gt;(_animal, HttpStatus.CREATED);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n    @PutMapping(&quot;/animal/{id}&quot;)\r\n    public ResponseEntity&lt;Animal&gt; updateAnimal(@PathVariable(&quot;id&quot;) long id, @RequestBody Animal \r\n    animal) {\r\n        try {\r\n            Optional&lt;Animal&gt; animalOptional = animalRepository.findById(id);\r\n\r\n            if (animalOptional.isPresent()) {\r\n                Animal _animal = animalOptional.get();\r\n                _animal.setAnimal_value(animal.getAnimal_value());\r\n                _animal.setPassportAnimal(animal.getPassportAnimal());\r\n                return new ResponseEntity&lt;&gt;(animalRepository.save(_animal), HttpStatus.OK);\r\n            } else {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n    @DeleteMapping(&quot;/animal/{id}&quot;)\r\n    public ResponseEntity&lt;HttpStatus&gt; deleteAnimal(@PathVariable(&quot;id&quot;) long id) {\r\n        try {\r\n            animalRepository.deleteById(id);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n    @DeleteMapping(&quot;/animal&quot;)\r\n    public ResponseEntity&lt;HttpStatus&gt; deleteAllAnimals() {\r\n        try {\r\n            animalRepository.deleteAll();\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n    }\r\n\r\nWhen calling the GET method, the animal and its passport should be output. But an infinite json is output. Inside the passport, the animal is displayed again and again his passport.\r\n\r\n","title":"Why is the database looping when calling the GET method?","body":"<p>The main entity:\nit uses a one-to-one relationship to the &quot;animal_passport&quot; table. Everything is done according to the textbook and should work well. But for some reason, both tables refer to each other when calling the get method.</p>\n<pre><code>package com.testapp.model;\nimport javax.persistence.*;\n@Entity\n@Table(name = &quot;animal&quot;)\npublic class Animal {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;animal_id&quot;, nullable = false, updatable = false)\nprivate long id;\n@Column(name = &quot;animal_value&quot;)\nprivate String animal_value;\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;pass_id&quot;)\nprivate PassportAnimal passportAnimal;\n\npublic Animal(String animal_value, PassportAnimal passportAnimal) {\n    this.animal_value = animal_value;\n    this.passportAnimal = passportAnimal;\n}\npublic Animal() {\n}\npublic long getId() {\n    return id;\n}\npublic void setId(long id) {\n    this.id = id;\n}\npublic String getAnimal_value() {\n    return animal_value;\n}\npublic void setAnimal_value(String animal_value) {\n    this.animal_value = animal_value;\n}\npublic PassportAnimal getPassportAnimal() {\n    return passportAnimal;\n}\npublic void setPassportAnimal(PassportAnimal passportAnimal) {\n    this.passportAnimal = passportAnimal;\n}\n}\n</code></pre>\n<p>Dependent entity:</p>\n<pre><code>package com.testapp.model;\nimport javax.persistence.*;\n@Entity\n@Table(name = &quot;pass_anim&quot;)\npublic class PassportAnimal {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;pass_id&quot;, nullable = false,updatable = false)\nprivate long id;\n@Column(name = &quot;value_pass&quot;)\nprivate String value;\n@OneToOne(mappedBy = &quot;passportAnimal&quot;)\nprivate Animal animal;\n\npublic PassportAnimal(String value, Animal animal) {\n    this.value = value;\n    this.animal = animal;\n}\npublic PassportAnimal() {\n}\npublic long getId() {\n    return id;\n}\npublic void setId(long id) {\n    this.id = id;\n}\npublic String getValue() {\n    return value;\n}\npublic void setValue(String value) {\n    this.value = value;\n}\npublic Animal getAnimal() {\n    return animal;\n}\npublic void setAnimal(Animal animal) {\n    this.animal = animal;\n}\n}\n</code></pre>\n<p>Controller the animal entity:</p>\n<pre><code>package com.testapp.controller;\nimport com.testapp.model.Animal;\nimport com.testapp.repository.AnimalRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RestController\n@RequestMapping(path = &quot;/api&quot;)\npublic class AnimalController {\n@Autowired\nAnimalRepository animalRepository;\n@GetMapping(&quot;/animal&quot;)\npublic ResponseEntity&lt;List&lt;Animal&gt;&gt; getAllAnimal(@RequestParam(required = false) String value) \n{\n    try {\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\n        if (value == null) {\n            animalRepository.findAll().forEach(animals::add);\n        }\n        if (animals.isEmpty()) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n        }\n        return new ResponseEntity&lt;&gt;(animals, HttpStatus.OK);\n    } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n@GetMapping(&quot;/animal/{id}&quot;)\npublic ResponseEntity&lt;Animal&gt; getAnimalById(@PathVariable(&quot;id&quot;) long id) {\n    Optional&lt;Animal&gt; animalOptional = animalRepository.findById(id);\n    if (animalOptional.isPresent()) {\n        return new ResponseEntity&lt;&gt;(animalOptional.get(), HttpStatus.OK);\n    } else {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n@PostMapping(&quot;/animal&quot;)\npublic ResponseEntity&lt;Animal&gt; createAnimal(@RequestBody Animal animal) {\n    try {\n        Animal _animal = animalRepository.save(new \nAnimal(animal.getAnimal_value(),animal.getPassportAnimal()));\n        return new ResponseEntity&lt;&gt;(_animal, HttpStatus.CREATED);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n@PutMapping(&quot;/animal/{id}&quot;)\npublic ResponseEntity&lt;Animal&gt; updateAnimal(@PathVariable(&quot;id&quot;) long id, @RequestBody Animal \nanimal) {\n    try {\n        Optional&lt;Animal&gt; animalOptional = animalRepository.findById(id);\n\n        if (animalOptional.isPresent()) {\n            Animal _animal = animalOptional.get();\n            _animal.setAnimal_value(animal.getAnimal_value());\n            _animal.setPassportAnimal(animal.getPassportAnimal());\n            return new ResponseEntity&lt;&gt;(animalRepository.save(_animal), HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n@DeleteMapping(&quot;/animal/{id}&quot;)\npublic ResponseEntity&lt;HttpStatus&gt; deleteAnimal(@PathVariable(&quot;id&quot;) long id) {\n    try {\n        animalRepository.deleteById(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n@DeleteMapping(&quot;/animal&quot;)\npublic ResponseEntity&lt;HttpStatus&gt; deleteAllAnimals() {\n    try {\n        animalRepository.deleteAll();\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n}\n</code></pre>\n<p>When calling the GET method, the animal and its passport should be output. But an infinite json is output. Inside the passport, the animal is displayed again and again his passport.</p>\n"},{"tags":["java","apache-kafka","heap-memory"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1532818379,"post_id":51572335,"comment_id":90117354,"body_markdown":"6-8GB is actually the production grade best performance. Not sure why you&#39;d want less than 4 given that all consumer requests of the latest offsets are directly off the heap. You should be able to safely use 3GB if no other process is on those machines","body":"6-8GB is actually the production grade best performance. Not sure why you&#39;d want less than 4 given that all consumer requests of the latest offsets are directly off the heap. You should be able to safely use 3GB if no other process is on those machines"},{"owner":{"account_id":4671261,"reputation":1080,"user_id":3783006,"accept_rate":73,"display_name":"Avi"},"score":0,"creation_date":1532938698,"post_id":51572335,"comment_id":90144632,"body_markdown":"I understand. But its a test server and also has mongodb and some node services running, so want to limit the memory consumption by kafka which is consistently using about 900-1000MB","body":"I understand. But its a test server and also has mongodb and some node services running, so want to limit the memory consumption by kafka which is consistently using about 900-1000MB"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1532957289,"post_id":51572335,"comment_id":90155892,"body_markdown":"Alright, well being a Java server process, I&#39;m fairly sure most of that memory is required. Are you also running Zookeeper on the same machine?","body":"Alright, well being a Java server process, I&#39;m fairly sure most of that memory is required. Are you also running Zookeeper on the same machine?"},{"owner":{"account_id":4671261,"reputation":1080,"user_id":3783006,"accept_rate":73,"display_name":"Avi"},"score":0,"creation_date":1533113260,"post_id":51572335,"comment_id":90222274,"body_markdown":"Yes. Kafka, zookeeper, mongodb, redis, nodejs (4-5 apps). Its a 4GB EC2 Ubuntu VM. Will be moving to an 8GB one for production and separating the mongodb from the VMs. Want to limit the memory usage for the development environment","body":"Yes. Kafka, zookeeper, mongodb, redis, nodejs (4-5 apps). Its a 4GB EC2 Ubuntu VM. Will be moving to an 8GB one for production and separating the mongodb from the VMs. Want to limit the memory usage for the development environment"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1533125422,"post_id":51572335,"comment_id":90229955,"body_markdown":"Hmm. I wouldn&#39;t really consider that production. Loose one server, you lose more than half your app stack","body":"Hmm. I wouldn&#39;t really consider that production. Loose one server, you lose more than half your app stack"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1533136462,"post_id":51572335,"comment_id":90237996,"body_markdown":"For more information, you might want to reference https://www.confluent.io/resources/apache-kafka-confluent-enterprise-reference-architecture/","body":"For more information, you might want to reference <a href=\"https://www.confluent.io/resources/apache-kafka-confluent-enterprise-reference-architecture/\" rel=\"nofollow noreferrer\">confluent.io/resources/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1532796545,"creation_date":1532796545,"answer_id":51573367,"question_id":51572335,"body_markdown":"To set your own JVM heap settings, you just have to export `KAFKA_HEAP_OPTS` and Kafka will pick it up when starting.\r\n\r\nFor example, to set the heap to 512MB, run\r\n\r\n    export KAFKA_HEAP_OPTS=&quot;-Xmx512m -Xms512M&quot;\r\n\r\n","title":"Kafka broker JVM settings below 1GB","body":"<p>To set your own JVM heap settings, you just have to export <code>KAFKA_HEAP_OPTS</code> and Kafka will pick it up when starting.</p>\n\n<p>For example, to set the heap to 512MB, run</p>\n\n<pre><code>export KAFKA_HEAP_OPTS=\"-Xmx512m -Xms512M\"\n</code></pre>\n"}],"owner":{"account_id":4671261,"reputation":1080,"user_id":3783006,"accept_rate":73,"display_name":"Avi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5231,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51573367,"answer_count":1,"score":4,"last_activity_date":1639153444,"creation_date":1532788567,"question_id":51572335,"body_markdown":"I am running a standalone kafka broker on an EC2 4GB RAM instance. In the default settings, Kafka is configured to use 1GB memory\r\n -Xmx1G -Xms1G\r\n\r\nSince the VM has only 4GB memory, is it possible to configure the JVM settings to use 512MB? How should I do that? Will Kafka run properly with 512MB memory or is 1GB the minimum required?","title":"Kafka broker JVM settings below 1GB","body":"<p>I am running a standalone kafka broker on an EC2 4GB RAM instance. In the default settings, Kafka is configured to use 1GB memory\n -Xmx1G -Xms1G</p>\n\n<p>Since the VM has only 4GB memory, is it possible to configure the JVM settings to use 512MB? How should I do that? Will Kafka run properly with 512MB memory or is 1GB the minimum required?</p>\n"},{"tags":["java","hadoop","amazon-ec2","heap-memory","amazon-emr"],"comments":[{"owner":{"account_id":1337217,"reputation":41040,"user_id":1332690,"accept_rate":91,"display_name":"Charles Menguy"},"score":0,"creation_date":1360287834,"post_id":14755052,"comment_id":20666598,"body_markdown":"Can you give your full stack trace? Also there is no &quot;optimal heap size&quot;, it totally depends on the nature of your job, the amount of data, and many other parameters, you should provide more details also on what you&#39;re trying to do exactly.","body":"Can you give your full stack trace? Also there is no &quot;optimal heap size&quot;, it totally depends on the nature of your job, the amount of data, and many other parameters, you should provide more details also on what you&#39;re trying to do exactly."},{"owner":{"account_id":1434221,"reputation":45,"user_id":1355966,"accept_rate":40,"display_name":"prasanna"},"score":0,"creation_date":1360319788,"post_id":14755052,"comment_id":20676777,"body_markdown":"My stack trace: Will make it short.\njava.lang.Throwable: Child Error\n\tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:271)\nCaused by: java.io.IOException: Task process exit with nonzero status of 137.\n\tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:258)\njava.lang.Throwable: Child Error\n\tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:271)\nCaused by: java.io.IOException: Task process exit with nonzero status of 137.\n\tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:258)","body":"My stack trace: Will make it short. java.lang.Throwable: Child Error \tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:271) Caused by: java.io.IOException: Task process exit with nonzero status of 137. \tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:258) java.lang.Throwable: Child Error \tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:271) Caused by: java.io.IOException: Task process exit with nonzero status of 137. \tat org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:258)"}],"answers":[{"tags":[],"owner":{"account_id":527827,"reputation":1214,"user_id":1096495,"display_name":"Joydeep Sen Sarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366892567,"creation_date":1366892567,"answer_id":16214663,"question_id":14755052,"body_markdown":"unless you are doing something special - 3000M is way too high a number. can you check how many map tasks hadoop is running per machine? if it&#39;s running more than one - it will blow away the 3.75GB ram easy (some has to be free for kernel anyway).\r\n\r\nwe provide hadoop as service (Qubole). by default here (and in my previous gigs) - we use 1024M as the default. you will want to set io.sort.mb well below that (say 400-500MB). only if the user is doing something special (like a large map-side join) - would there be reason to bump it up. if it had to be increased - we would have to reduce the max number of concurrent map tasks per machine (if it was more than one).","title":"Mapred Child Error : AWS EMR Instance terminated","body":"<p>unless you are doing something special - 3000M is way too high a number. can you check how many map tasks hadoop is running per machine? if it's running more than one - it will blow away the 3.75GB ram easy (some has to be free for kernel anyway).</p>\n\n<p>we provide hadoop as service (Qubole). by default here (and in my previous gigs) - we use 1024M as the default. you will want to set io.sort.mb well below that (say 400-500MB). only if the user is doing something special (like a large map-side join) - would there be reason to bump it up. if it had to be increased - we would have to reduce the max number of concurrent map tasks per machine (if it was more than one).</p>\n"}],"owner":{"account_id":1434221,"reputation":45,"user_id":1355966,"accept_rate":40,"display_name":"prasanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639153413,"creation_date":1360251634,"question_id":14755052,"body_markdown":"When I was running EMR instances for medium type, I found in one of the step the EMR instance terminated. I used medium instances in AWS for 5 instances. It&#39;s capacity is 3.75 GB RAM. I gave heap size as 3000 MB for the attribute mapred.child.java.opts. I have set this using JobConf as gave parameter like conf.set(&quot;mapred.child.java.opts&quot;, &quot;-Xmx3000m&quot;). I had three steps to run for Amazon EMR program. In the final step, I got this problem, java.lang.Throwable: Child Error. What would be the reason job got failed. Also how much is the optimal heap size required for mappers in the child node. ","title":"Mapred Child Error : AWS EMR Instance terminated","body":"<p>When I was running EMR instances for medium type, I found in one of the step the EMR instance terminated. I used medium instances in AWS for 5 instances. It's capacity is 3.75 GB RAM. I gave heap size as 3000 MB for the attribute mapred.child.java.opts. I have set this using JobConf as gave parameter like conf.set(\"mapred.child.java.opts\", \"-Xmx3000m\"). I had three steps to run for Amazon EMR program. In the final step, I got this problem, java.lang.Throwable: Child Error. What would be the reason job got failed. Also how much is the optimal heap size required for mappers in the child node. </p>\n"},{"tags":["java","hadoop","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":95954,"reputation":7920,"user_id":261079,"display_name":"David Gruzman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1360588785,"creation_date":1360588785,"answer_id":14812839,"question_id":14810940,"body_markdown":"In general you can not load whole file into memory of Java VM.\r\nYou should find some streaming solution to process large files - read data chunk by chunk and save the results w/o fixing in memory whole data set &lt;br&gt;\r\nThis specific task - unzip is probably not suited for the MR since there is no logical division of data into records. &lt;br&gt;\r\nPlease also note that hadoop is handling gzip automatically - your input stream will be already decompressed. &lt;br&gt;\r\n\r\n","title":"Heap error when using custom RecordReader with large file","body":"<p>In general you can not load whole file into memory of Java VM.\nYou should find some streaming solution to process large files - read data chunk by chunk and save the results w/o fixing in memory whole data set <br>\nThis specific task - unzip is probably not suited for the MR since there is no logical division of data into records. <br>\nPlease also note that hadoop is handling gzip automatically - your input stream will be already decompressed. <br></p>\n"}],"owner":{"account_id":471847,"reputation":2315,"user_id":879896,"accept_rate":98,"display_name":"Shane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14812839,"answer_count":1,"score":0,"last_activity_date":1639153403,"creation_date":1360580628,"question_id":14810940,"body_markdown":"I&#39;ve written a custom file reader to not split my input files as they are large gzipped files and I want my first mapper job to simply gunzip them.  I followed the example in &#39;Hadoop The Definitive Guide&#39; but I get a heap error when trying to read in to the BytesWritable.  I believe this is because the byte array is of size 85713669, but I&#39;m not sure how to overcome this issue.  \r\n\r\nHere is the code:\r\n\r\n    public class WholeFileRecordReader extends RecordReader&lt;NullWritable, BytesWritable&gt; {\r\n\r\n\tprivate FileSplit fileSplit;\r\n\tprivate Configuration conf;\r\n\tprivate BytesWritable value = new BytesWritable();\r\n\tprivate boolean processed = false;\r\n\t\r\n\t@Override\r\n\tpublic void close() throws IOException {\r\n\t\t// do nothing\r\n\t}\r\n\r\n\t@Override\r\n\tpublic NullWritable getCurrentKey() throws IOException,\r\n\t\t\tInterruptedException {\r\n\t\treturn NullWritable.get();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BytesWritable getCurrentValue() throws IOException,\r\n\t\t\tInterruptedException {\r\n\t\treturn value;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic float getProgress() throws IOException, InterruptedException {\r\n\t\treturn processed ? 1.0f : 0.0f;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void initialize(InputSplit split, TaskAttemptContext context)\r\n\t\t\tthrows IOException, InterruptedException {\r\n\t\tthis.fileSplit = (FileSplit) split;\r\n\t\tthis.conf = context.getConfiguration();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean nextKeyValue() throws IOException, InterruptedException {\r\n\t\tif (!processed) {\r\n\t\t\tbyte[] contents = new byte[(int) fileSplit.getLength()];\r\n\t\t\tPath file = fileSplit.getPath();\r\n\t\t\tFileSystem fs = file.getFileSystem(conf);\r\n\t\t\tFSDataInputStream in = null;\r\n\t\t\ttry {\r\n\t\t\t\tin = fs.open(file);\r\n\t\t\t\tIOUtils.readFully(in, contents, 0, contents.length);\r\n\t\t\t\tvalue.set(contents, 0, contents.length);\r\n\t\t\t} finally {\r\n\t\t\t\tIOUtils.closeStream(in);\r\n\t\t\t}\r\n\t\t\tprocessed = true;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}","title":"Heap error when using custom RecordReader with large file","body":"<p>I've written a custom file reader to not split my input files as they are large gzipped files and I want my first mapper job to simply gunzip them.  I followed the example in 'Hadoop The Definitive Guide' but I get a heap error when trying to read in to the BytesWritable.  I believe this is because the byte array is of size 85713669, but I'm not sure how to overcome this issue.  </p>\n\n<p>Here is the code:</p>\n\n<pre><code>public class WholeFileRecordReader extends RecordReader&lt;NullWritable, BytesWritable&gt; {\n\nprivate FileSplit fileSplit;\nprivate Configuration conf;\nprivate BytesWritable value = new BytesWritable();\nprivate boolean processed = false;\n\n@Override\npublic void close() throws IOException {\n    // do nothing\n}\n\n@Override\npublic NullWritable getCurrentKey() throws IOException,\n        InterruptedException {\n    return NullWritable.get();\n}\n\n@Override\npublic BytesWritable getCurrentValue() throws IOException,\n        InterruptedException {\n    return value;\n}\n\n@Override\npublic float getProgress() throws IOException, InterruptedException {\n    return processed ? 1.0f : 0.0f;\n}\n\n@Override\npublic void initialize(InputSplit split, TaskAttemptContext context)\n        throws IOException, InterruptedException {\n    this.fileSplit = (FileSplit) split;\n    this.conf = context.getConfiguration();\n}\n\n@Override\npublic boolean nextKeyValue() throws IOException, InterruptedException {\n    if (!processed) {\n        byte[] contents = new byte[(int) fileSplit.getLength()];\n        Path file = fileSplit.getPath();\n        FileSystem fs = file.getFileSystem(conf);\n        FSDataInputStream in = null;\n        try {\n            in = fs.open(file);\n            IOUtils.readFully(in, contents, 0, contents.length);\n            value.set(contents, 0, contents.length);\n        } finally {\n            IOUtils.closeStream(in);\n        }\n        processed = true;\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","hadoop","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":2082553,"reputation":992,"user_id":1854249,"accept_rate":80,"display_name":"ngrislain"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1363096640,"creation_date":1363096640,"answer_id":15363228,"question_id":15359824,"body_markdown":"It happened that the default options were superseding my local configuration (I still don&#39;t understand why).\r\n\r\n    export HADOOP_CLIENT_OPTS=&quot;-Xmx1024m&quot;\r\nsolved the problem.","title":"I cannot execute a map-reduce job on hadoop configured in standalone mode","body":"<p>It happened that the default options were superseding my local configuration (I still don't understand why).</p>\n\n<pre><code>export HADOOP_CLIENT_OPTS=\"-Xmx1024m\"\n</code></pre>\n\n<p>solved the problem.</p>\n"}],"owner":{"account_id":2082553,"reputation":992,"user_id":1854249,"accept_rate":80,"display_name":"ngrislain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3853,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":15363228,"answer_count":1,"score":3,"last_activity_date":1639153395,"creation_date":1363087442,"question_id":15359824,"body_markdown":"I am trying to test a very simple hadoop map-reduce job on my computer (MacOS 10.7) on the local filesystem (in standalone mode).\r\nThe job takes a .csv file (data-01) and counts the occurrences of some fields.\r\n\r\nI downloaded CDH4 hadoop, ran the job, it seemed to start normally but after all the split were processed I got the following error:\r\n\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:9999220736+33554432\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\r\n    13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000299_0\r\n    13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10032775168+33554432\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\r\n    13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000300_0\r\n    13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10066329600+33554432\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\r\n    13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000301_0\r\n    13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10099884032+33554432\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\r\n    13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000302_0\r\n    13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10133438464+32025555\r\n    13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\r\n    13/03/12 12:11:19 INFO mapred.LocalJobRunner: Map task executor complete.\r\n    13/03/12 12:11:19 WARN mapred.LocalJobRunner: job_local2133287029_0001\r\n    java.lang.Exception: java.lang.OutOfMemoryError: Java heap space\r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:399)\r\n    Caused by: java.lang.OutOfMemoryError: Java heap space\r\n    \tat org.apache.hadoop.mapred.MapTask$MapOutputBuffer.init(MapTask.java:949)\r\n    \tat org.apache.hadoop.mapred.MapTask.createSortingCollector(MapTask.java:389)\r\n    \tat org.apache.hadoop.mapred.MapTask.access$100(MapTask.java:78)\r\n    \tat org.apache.hadoop.mapred.MapTask$NewOutputCollector.&lt;init&gt;(MapTask.java:668)\r\n    \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:740)\r\n    \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:338)\r\n    \tat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:231)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tat java.lang.Thread.run(Thread.java:722)\r\n    13/03/12 12:11:19 INFO mapreduce.Job: Job job_local2133287029_0001 failed with state FAILED due to: NA\r\n    13/03/12 12:11:19 INFO mapreduce.Job: Counters: 0\r\n\r\nI get the same error no matter how small the input file is...","title":"I cannot execute a map-reduce job on hadoop configured in standalone mode","body":"<p>I am trying to test a very simple hadoop map-reduce job on my computer (MacOS 10.7) on the local filesystem (in standalone mode).\nThe job takes a .csv file (data-01) and counts the occurrences of some fields.</p>\n\n<p>I downloaded CDH4 hadoop, ran the job, it seemed to start normally but after all the split were processed I got the following error:</p>\n\n<pre><code>13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:9999220736+33554432\n13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\n13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000299_0\n13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\n13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10032775168+33554432\n13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\n13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000300_0\n13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\n13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10066329600+33554432\n13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\n13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000301_0\n13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\n13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10099884032+33554432\n13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\n13/03/12 12:11:18 INFO mapred.LocalJobRunner: Starting task: attempt_local2133287029_0001_m_000302_0\n13/03/12 12:11:18 INFO mapred.Task:  Using ResourceCalculatorPlugin : null\n13/03/12 12:11:18 INFO mapred.MapTask: Processing split: file:/path/in/data-01:10133438464+32025555\n13/03/12 12:11:18 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\n13/03/12 12:11:19 INFO mapred.LocalJobRunner: Map task executor complete.\n13/03/12 12:11:19 WARN mapred.LocalJobRunner: job_local2133287029_0001\njava.lang.Exception: java.lang.OutOfMemoryError: Java heap space\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:399)\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.init(MapTask.java:949)\n    at org.apache.hadoop.mapred.MapTask.createSortingCollector(MapTask.java:389)\n    at org.apache.hadoop.mapred.MapTask.access$100(MapTask.java:78)\n    at org.apache.hadoop.mapred.MapTask$NewOutputCollector.&lt;init&gt;(MapTask.java:668)\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:740)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:338)\n    at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:231)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:722)\n13/03/12 12:11:19 INFO mapreduce.Job: Job job_local2133287029_0001 failed with state FAILED due to: NA\n13/03/12 12:11:19 INFO mapreduce.Job: Counters: 0\n</code></pre>\n\n<p>I get the same error no matter how small the input file is...</p>\n"},{"tags":["java","hadoop","heap-memory","flume"],"comments":[{"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"score":0,"creation_date":1375101856,"post_id":17924328,"comment_id":26187324,"body_markdown":"Can you post the Java code you are using to download tweets?","body":"Can you post the Java code you are using to download tweets?"},{"owner":{"account_id":1983038,"reputation":5649,"user_id":1779136,"accept_rate":95,"display_name":"Andrew Martin"},"score":0,"creation_date":1375102006,"post_id":17924328,"comment_id":26187422,"body_markdown":"Done - is it an error in there? I modified this code from code provided by Cloudera.","body":"Done - is it an error in there? I modified this code from code provided by Cloudera."},{"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"score":1,"creation_date":1375102243,"post_id":17924328,"comment_id":26187571,"body_markdown":"Usually `-Xmx4096` should also contain the values units so `-Xmx4096m`.","body":"Usually <code>-Xmx4096</code> should also contain the values units so <code>-Xmx4096m</code>."},{"owner":{"account_id":1983038,"reputation":5649,"user_id":1779136,"accept_rate":95,"display_name":"Andrew Martin"},"score":0,"creation_date":1375102429,"post_id":17924328,"comment_id":26187701,"body_markdown":"Apologies, it did contain it, I just copied and pasted the code over poorly. Edited my question now to reflect that.","body":"Apologies, it did contain it, I just copied and pasted the code over poorly. Edited my question now to reflect that."},{"owner":{"account_id":100168,"reputation":2211,"user_id":270157,"display_name":"Goibniu"},"score":0,"creation_date":1375107092,"post_id":17924328,"comment_id":26190794,"body_markdown":"When you increase the heap space, you should generally increase the perm-gen size as well (about 25% of the total heap).","body":"When you increase the heap space, you should generally increase the perm-gen size as well (about 25% of the total heap)."}],"answers":[{"tags":[],"owner":{"account_id":3067132,"reputation":68,"user_id":2598572,"display_name":"Ripon Nandi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375212484,"creation_date":1375212484,"answer_id":17955706,"question_id":17924328,"body_markdown":"Set JAVA_OPTS value at flume-env.sh and start flume agent.","title":"Java Out of Memory exception in Ubuntu when using Flume/Hadoop","body":"<p>Set JAVA_OPTS value at flume-env.sh and start flume agent.</p>\n"},{"tags":[],"owner":{"account_id":1983038,"reputation":5649,"user_id":1779136,"accept_rate":95,"display_name":"Andrew Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376316554,"creation_date":1376316554,"answer_id":18189151,"question_id":17924328,"body_markdown":"It appears the problem had to do with the batch size and transactionCapacity. I changed them to the following:\r\n\r\n    TwitterAgent.sinks.HDFS.hdfs.batchSize = 100\r\n    TwitterAgent.channels.MemChannel.transactionCapacity = 1000\r\n\r\nThis works without me even needing to change the JAVA_OPTS value.","title":"Java Out of Memory exception in Ubuntu when using Flume/Hadoop","body":"<p>It appears the problem had to do with the batch size and transactionCapacity. I changed them to the following:</p>\n\n<pre><code>TwitterAgent.sinks.HDFS.hdfs.batchSize = 100\nTwitterAgent.channels.MemChannel.transactionCapacity = 1000\n</code></pre>\n\n<p>This works without me even needing to change the JAVA_OPTS value.</p>\n"}],"owner":{"account_id":1983038,"reputation":5649,"user_id":1779136,"accept_rate":95,"display_name":"Andrew Martin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3816,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18189151,"answer_count":2,"score":2,"last_activity_date":1639153357,"creation_date":1375101612,"question_id":17924328,"body_markdown":"I&#39;m getting an out of memory exception due to lack of Java heap space when I try and download tweets using Flume and pipe them into Hadoop.\r\n\r\nI have set the heap space currently to 4GB in the mapred-site.xml of Hadoop, like so:\r\n\r\n    &lt;property&gt;\r\n      &lt;name&gt;mapred.child.java.opts&lt;/name&gt;\r\n      &lt;value&gt;-Xmx4096m&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\nI am hoping to download tweets continually for two days but can&#39;t get past 45 minutes without errors.\r\n\r\nSince I do have the disk space to hold all of this, I am assuming the error is coming from Java having to handle so many things at once. Is there a way for me to slow down the speed at which these tweets are downloaded, or do something else to solve this problem?\r\n\r\n**Edit: flume.conf included**\r\n\r\n    TwitterAgent.sources = Twitter\r\n    TwitterAgent.channels = MemChannel\r\n    TwitterAgent.sinks = HDFS\r\n\r\n    TwitterAgent.sources.Twitter.type = TwitterSource\r\n    TwitterAgent.sources.Twitter.channels = MemChannel\r\n    TwitterAgent.sources.Twitter.consumerKey = &lt;required&gt;\r\n    TwitterAgent.sources.Twitter.consumerSecret = &lt;required&gt;\r\n    TwitterAgent.sources.Twitter.accessToken = &lt;required&gt; \r\n    TwitterAgent.sources.Twitter.accessTokenSecret = &lt;required&gt; \r\n    TwitterAgent.sources.Twitter.keywords = manchester united, man united, man utd, man u\r\n\r\n    TwitterAgent.sinks.HDFS.channel = MemChannel\r\n    TwitterAgent.sinks.HDFS.type = hdfs\r\n    TwitterAgent.sinks.HDFS.hdfs.path = hdfs://localhost:50070/user/flume/tweets/%Y/%m/%d/%H/\r\n    TwitterAgent.sinks.HDFS.hdfs.fileType = DataStream\r\n    TwitterAgent.sinks.HDFS.hdfs.writeFormat = Text\r\n    TwitterAgent.sinks.HDFS.hdfs.batchSize = 1000\r\n    TwitterAgent.sinks.HDFS.hdfs.rollSize = 0\r\n    TwitterAgent.sinks.HDFS.hdfs.rollCount = 10000\r\n\r\n    TwitterAgent.channels.MemChannel.type = memory\r\n    TwitterAgent.channels.MemChannel.capacity = 10000\r\n    TwitterAgent.channels.MemChannel.transactionCapacity = 100\r\n\r\n**Edit 2**\r\n\r\nI&#39;ve tried increasing the memory to 8GB which still doesn&#39;t help. I am assuming I am placing too many tweets in Hadoop at once and need to write them to disk and release the space again (or something to that effect). Is there a guide anywhere on how to do this?","title":"Java Out of Memory exception in Ubuntu when using Flume/Hadoop","body":"<p>I'm getting an out of memory exception due to lack of Java heap space when I try and download tweets using Flume and pipe them into Hadoop.</p>\n\n<p>I have set the heap space currently to 4GB in the mapred-site.xml of Hadoop, like so:</p>\n\n<pre><code>&lt;property&gt;\n  &lt;name&gt;mapred.child.java.opts&lt;/name&gt;\n  &lt;value&gt;-Xmx4096m&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>I am hoping to download tweets continually for two days but can't get past 45 minutes without errors.</p>\n\n<p>Since I do have the disk space to hold all of this, I am assuming the error is coming from Java having to handle so many things at once. Is there a way for me to slow down the speed at which these tweets are downloaded, or do something else to solve this problem?</p>\n\n<p><strong>Edit: flume.conf included</strong></p>\n\n<pre><code>TwitterAgent.sources = Twitter\nTwitterAgent.channels = MemChannel\nTwitterAgent.sinks = HDFS\n\nTwitterAgent.sources.Twitter.type = TwitterSource\nTwitterAgent.sources.Twitter.channels = MemChannel\nTwitterAgent.sources.Twitter.consumerKey = &lt;required&gt;\nTwitterAgent.sources.Twitter.consumerSecret = &lt;required&gt;\nTwitterAgent.sources.Twitter.accessToken = &lt;required&gt; \nTwitterAgent.sources.Twitter.accessTokenSecret = &lt;required&gt; \nTwitterAgent.sources.Twitter.keywords = manchester united, man united, man utd, man u\n\nTwitterAgent.sinks.HDFS.channel = MemChannel\nTwitterAgent.sinks.HDFS.type = hdfs\nTwitterAgent.sinks.HDFS.hdfs.path = hdfs://localhost:50070/user/flume/tweets/%Y/%m/%d/%H/\nTwitterAgent.sinks.HDFS.hdfs.fileType = DataStream\nTwitterAgent.sinks.HDFS.hdfs.writeFormat = Text\nTwitterAgent.sinks.HDFS.hdfs.batchSize = 1000\nTwitterAgent.sinks.HDFS.hdfs.rollSize = 0\nTwitterAgent.sinks.HDFS.hdfs.rollCount = 10000\n\nTwitterAgent.channels.MemChannel.type = memory\nTwitterAgent.channels.MemChannel.capacity = 10000\nTwitterAgent.channels.MemChannel.transactionCapacity = 100\n</code></pre>\n\n<p><strong>Edit 2</strong></p>\n\n<p>I've tried increasing the memory to 8GB which still doesn't help. I am assuming I am placing too many tweets in Hadoop at once and need to write them to disk and release the space again (or something to that effect). Is there a guide anywhere on how to do this?</p>\n"},{"tags":["java","file","hadoop","filesystems","heap-memory"],"comments":[{"owner":{"account_id":254740,"reputation":2751,"user_id":534347,"accept_rate":80,"display_name":"Steven Magana-Zook"},"score":2,"creation_date":1411074114,"post_id":25917116,"comment_id":40578634,"body_markdown":"What do you mean by &quot;NameNode of 100 GB&quot; do you mean it has 100GB of memory because memory matters more than disk space on a NameNode and how much metadata the NameNode can keep in memory at once determines the number of files it can keep track of. The data itself is actually stored on the DataNodes (slave nodes). Can you please clarify what you are after?","body":"What do you mean by &quot;NameNode of 100 GB&quot; do you mean it has 100GB of memory because memory matters more than disk space on a NameNode and how much metadata the NameNode can keep in memory at once determines the number of files it can keep track of. The data itself is actually stored on the DataNodes (slave nodes). Can you please clarify what you are after?"},{"owner":{"account_id":1928482,"reputation":1939,"user_id":1738415,"accept_rate":88,"display_name":"Simon Carlson"},"score":0,"creation_date":1411077119,"post_id":25917116,"comment_id":40579794,"body_markdown":"I&#39;ll try to clarify. I am to assume a NameNode JVM capacity of 100 GB. Given a ratio of Inodes to Blocks of 1.5 and assuming 3 Replicas of each Block, how many Inodes can fit on the heap of the NameNode’s JVM?","body":"I&#39;ll try to clarify. I am to assume a NameNode JVM capacity of 100 GB. Given a ratio of Inodes to Blocks of 1.5 and assuming 3 Replicas of each Block, how many Inodes can fit on the heap of the NameNode’s JVM?"}],"owner":{"account_id":1928482,"reputation":1939,"user_id":1738415,"accept_rate":88,"display_name":"Simon Carlson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639153322,"creation_date":1411055182,"question_id":25917116,"body_markdown":"I&#39;m trying to estimate how many files (or INodes) can be stored in a Hadoop Filesystem with a NameNode of 100 GB.\r\n\r\n    abstract class INode implements Comparable&lt;byte[]&gt; {\r\n        protected byte[] name;\r\n        protected INodeDirectory parent;\r\n        protected long modificationTime;\r\n        protected long accessTime;\r\n    }\r\n\r\n    public class BlockInfo extends Block implements LightWeightGset.LinkedElement {\r\n        private LightWeightGset.LinkedElement nextLinkedElement;\r\n        private Object[] triplets;\r\n    }\r\n\r\nIt&#39;s assumed that the ratio blocks per INode is 1.5:1. It&#39;s also assumed that each block has 3 replicas. In addition to these two classes theres a BlocksMap class which holds a reference to all blocks in the cluster. **How many INodes can be stored on the heap of the NameNode?**\r\n\r\nSo far I&#39;ve calculated that the class INode requires ~N bytes and BlockInfo ~24M where N is the length of the byte array `name` and M is the amount of blocks. How do I continue?\r\n","title":"Estimating amount of files in a 100GB Hadoop Filesystem","body":"<p>I'm trying to estimate how many files (or INodes) can be stored in a Hadoop Filesystem with a NameNode of 100 GB.</p>\n\n<pre><code>abstract class INode implements Comparable&lt;byte[]&gt; {\n    protected byte[] name;\n    protected INodeDirectory parent;\n    protected long modificationTime;\n    protected long accessTime;\n}\n\npublic class BlockInfo extends Block implements LightWeightGset.LinkedElement {\n    private LightWeightGset.LinkedElement nextLinkedElement;\n    private Object[] triplets;\n}\n</code></pre>\n\n<p>It's assumed that the ratio blocks per INode is 1.5:1. It's also assumed that each block has 3 replicas. In addition to these two classes theres a BlocksMap class which holds a reference to all blocks in the cluster. <strong>How many INodes can be stored on the heap of the NameNode?</strong></p>\n\n<p>So far I've calculated that the class INode requires ~N bytes and BlockInfo ~24M where N is the length of the byte array <code>name</code> and M is the amount of blocks. How do I continue?</p>\n"},{"tags":["java","hadoop","mapreduce","heap-memory","hadoop-yarn"],"comments":[{"owner":{"account_id":405918,"reputation":2727,"user_id":775106,"display_name":"Jeremy Beard"},"score":0,"creation_date":1426219861,"post_id":29001702,"comment_id":46292054,"body_markdown":"64MB is very small. Try 1GB as a starting point.","body":"64MB is very small. Try 1GB as a starting point."},{"owner":{"account_id":5897242,"reputation":625,"user_id":4642007,"accept_rate":33,"display_name":"Kenny Basuki"},"score":0,"creation_date":1426226356,"post_id":29001702,"comment_id":46293718,"body_markdown":"On your mind, what causing this error? I set 64 MB because my computer memory is very small. 64 MB is for java process right, should it&#39;s smaller than yarn.app.mapreduce.am.command-opts or yarn.app.mapreduce.am.resource.mb. Please give me an explanation...Thanks a lot","body":"On your mind, what causing this error? I set 64 MB because my computer memory is very small. 64 MB is for java process right, should it&#39;s smaller than yarn.app.mapreduce.am.command-opts or yarn.app.mapreduce.am.resource.mb. Please give me an explanation...Thanks a lot"}],"answers":[{"tags":[],"owner":{"account_id":5862259,"reputation":1009,"user_id":4617542,"display_name":"Gaurav Mishra"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1426376198,"creation_date":1426351432,"answer_id":29051473,"question_id":29001702,"body_markdown":"Yarn handles resource management and also serves batch workloads that can use MapReduce and real-time workloads. \r\n\r\nThere are memory settings that can be set at the Yarn container level and also at the mapper and reducer level. Memory is requested in increments of the Yarn container size. Mapper and reducer tasks run inside a container.\r\n\r\n**mapreduce.map.memory.mb and \r\nmapreduce.reduce.memory.mb**\r\n\r\nabove parameters describe upper memory limit for the map-reduce task and if memory subscribed by this task exceeds this limit, the corresponding container will be killed.\r\n\r\nThese parameters determine the maximum amount of memory that can be assigned to mapper and reduce tasks respectively. \r\nLet us look at an example:\r\nMapper is bound by an upper limit for memory which is defined in the configuration parameter **mapreduce.map.memory.mb**.\r\n\r\nHowever, if the value for **yarn.scheduler.minimum-allocation-mb** is greater than this value of **mapreduce.map.memory.mb**, then the **yarn.scheduler.minimum-allocation-mb** is respected and the containers of that size are given out.\r\n\r\nThis parameter needs to be set carefully and if not set properly, this could lead to bad performance or OutOfMemory errors.\r\n\r\n**mapreduce.reduce.java.opts and mapreduce.map.java.opts**\r\n\r\nThis property value needs to be less than the upper bound for map/reduce task as defined in **mapreduce.map.memory.mb/mapreduce.reduce.memory.mb**, as it should fit within the memory allocation for the map/reduce task.\r\n\r\n","title":"Why YARN java heap space memory error?","body":"<p>Yarn handles resource management and also serves batch workloads that can use MapReduce and real-time workloads. </p>\n\n<p>There are memory settings that can be set at the Yarn container level and also at the mapper and reducer level. Memory is requested in increments of the Yarn container size. Mapper and reducer tasks run inside a container.</p>\n\n<p><strong>mapreduce.map.memory.mb and \nmapreduce.reduce.memory.mb</strong></p>\n\n<p>above parameters describe upper memory limit for the map-reduce task and if memory subscribed by this task exceeds this limit, the corresponding container will be killed.</p>\n\n<p>These parameters determine the maximum amount of memory that can be assigned to mapper and reduce tasks respectively. \nLet us look at an example:\nMapper is bound by an upper limit for memory which is defined in the configuration parameter <strong>mapreduce.map.memory.mb</strong>.</p>\n\n<p>However, if the value for <strong>yarn.scheduler.minimum-allocation-mb</strong> is greater than this value of <strong>mapreduce.map.memory.mb</strong>, then the <strong>yarn.scheduler.minimum-allocation-mb</strong> is respected and the containers of that size are given out.</p>\n\n<p>This parameter needs to be set carefully and if not set properly, this could lead to bad performance or OutOfMemory errors.</p>\n\n<p><strong>mapreduce.reduce.java.opts and mapreduce.map.java.opts</strong></p>\n\n<p>This property value needs to be less than the upper bound for map/reduce task as defined in <strong>mapreduce.map.memory.mb/mapreduce.reduce.memory.mb</strong>, as it should fit within the memory allocation for the map/reduce task.</p>\n"},{"tags":[],"owner":{"account_id":5839328,"reputation":549,"user_id":4601434,"accept_rate":62,"display_name":"Nagendra Prasad Balaka"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1450289423,"creation_date":1450289423,"answer_id":34319167,"question_id":29001702,"body_markdown":"What @Gaurav said is correct.\r\nI had similar issue,i tried some thing like below.Include below properties in `yarn-site.xml` and restart `VM`\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\r\n    &lt;value&gt;false&lt;/value&gt;\r\n    &lt;description&gt;Whether virtual memory limits will be enforced for    containers&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt;\r\n    &lt;value&gt;4&lt;/value&gt;\r\n    &lt;description&gt;Ratio between virtual memory to physical memory when setting memory limits for containers&lt;/description&gt;\r\n    &lt;/property&gt;","title":"Why YARN java heap space memory error?","body":"<p>What @Gaurav said is correct.\nI had similar issue,i tried some thing like below.Include below properties in <code>yarn-site.xml</code> and restart <code>VM</code></p>\n\n<pre><code>&lt;property&gt;\n&lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\n&lt;value&gt;false&lt;/value&gt;\n&lt;description&gt;Whether virtual memory limits will be enforced for    containers&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt;\n&lt;value&gt;4&lt;/value&gt;\n&lt;description&gt;Ratio between virtual memory to physical memory when setting memory limits for containers&lt;/description&gt;\n&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":5897242,"reputation":625,"user_id":4642007,"accept_rate":33,"display_name":"Kenny Basuki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30984,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1639153311,"creation_date":1426133236,"question_id":29001702,"body_markdown":"I want to try about setting memory in YARN, so I&#39;ll try to configure some parameter on yarn-site.xml and mapred-site.xml. By the way I use hadoop 2.6.0. But, I get an error when I do a mapreduce job. It says like this :\r\n\r\n    15/03/12 10:57:23 INFO mapreduce.Job: Task Id :\r\n    attempt_1426132548565_0001_m_000002_0, Status : FAILED\r\n    Error: Java heap space\r\n    Container killed by the ApplicationMaster.\r\n    Container killed on request. Exit code is 143\r\n    Container exited with a non-zero exit code 143\r\n\r\nI think that I have configured it right, I give map.java.opts and reduce.java.opts the small size = 64 MB. I&#39;ve try to configure some parameter then, like change the map.java.opts and reduce.java.opts on mapred-site.xml, and I still get this error. I think that I do not really understand how YARN memory works. BY the way for this I try on single node computer.\r\n\r\n","title":"Why YARN java heap space memory error?","body":"<p>I want to try about setting memory in YARN, so I'll try to configure some parameter on yarn-site.xml and mapred-site.xml. By the way I use hadoop 2.6.0. But, I get an error when I do a mapreduce job. It says like this :</p>\n\n<pre><code>15/03/12 10:57:23 INFO mapreduce.Job: Task Id :\nattempt_1426132548565_0001_m_000002_0, Status : FAILED\nError: Java heap space\nContainer killed by the ApplicationMaster.\nContainer killed on request. Exit code is 143\nContainer exited with a non-zero exit code 143\n</code></pre>\n\n<p>I think that I have configured it right, I give map.java.opts and reduce.java.opts the small size = 64 MB. I've try to configure some parameter then, like change the map.java.opts and reduce.java.opts on mapred-site.xml, and I still get this error. I think that I do not really understand how YARN memory works. BY the way for this I try on single node computer.</p>\n"},{"tags":["java","apache","hadoop","runtime-error","heap-memory"],"comments":[{"owner":{"account_id":2638897,"reputation":7820,"user_id":2282988,"accept_rate":50,"display_name":"Sandeep Singh"},"score":0,"creation_date":1430189150,"post_id":29904572,"comment_id":47941176,"body_markdown":"what is total memory of the system. Can you check hdfs-site.xml also. Looks like memory is getting overflowed here. you need to reduce heap memory for yarn scheduler.","body":"what is total memory of the system. Can you check hdfs-site.xml also. Looks like memory is getting overflowed here. you need to reduce heap memory for yarn scheduler."},{"owner":{"account_id":5093194,"reputation":131,"user_id":4085524,"accept_rate":86,"display_name":"Queasy"},"score":0,"creation_date":1430340414,"post_id":29904572,"comment_id":48029149,"body_markdown":"I have 128GB of memory on the system.","body":"I have 128GB of memory on the system."}],"answers":[{"tags":[],"owner":{"account_id":5093194,"reputation":131,"user_id":4085524,"accept_rate":86,"display_name":"Queasy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1430773086,"creation_date":1430773086,"answer_id":30039843,"question_id":29904572,"body_markdown":"The memory limits you specify in mapred-site.xml need to be below yarn-site.xml memory settings then calculated w/system resources. I use a script for this for collecting the system specifics and create my core-site, mapred-site, hdfs-site and yarn-site.xml configuration.\r\n\r\n**Note:** Mapreduce runs on top of yarn so remember to always have your memory below yarn-site.xml specifics. I can now run a mapred with 6 machines, 1TB teragen within 4 minutes and 57 seconds with my auto configuration script for Apache Hadoop 2.6.\r\n\r\nI am very surprised on the performance of Apache Hadoop.\r\n\r\n\r\n ","title":"Apache Hadoop 2.6 Java Heap Space Error","body":"<p>The memory limits you specify in mapred-site.xml need to be below yarn-site.xml memory settings then calculated w/system resources. I use a script for this for collecting the system specifics and create my core-site, mapred-site, hdfs-site and yarn-site.xml configuration.</p>\n\n<p><strong>Note:</strong> Mapreduce runs on top of yarn so remember to always have your memory below yarn-site.xml specifics. I can now run a mapred with 6 machines, 1TB teragen within 4 minutes and 57 seconds with my auto configuration script for Apache Hadoop 2.6.</p>\n\n<p>I am very surprised on the performance of Apache Hadoop.</p>\n"}],"owner":{"account_id":5093194,"reputation":131,"user_id":4085524,"accept_rate":86,"display_name":"Queasy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30039843,"answer_count":1,"score":0,"last_activity_date":1639153301,"creation_date":1430163855,"question_id":29904572,"body_markdown":"I&#39;m getting:\r\n\r\n    15/04/27 09:28:04 INFO mapred.LocalJobRunner: map task executor complete.\r\n    15/04/27 09:28:04 WARN mapred.LocalJobRunner: job_local1576000334_0001\r\n    java.lang.Exception: java.lang.OutOfMemoryError: Java heap space\r\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:462)\r\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:522)\r\n    Caused by: java.lang.OutOfMemoryError: Java heap space\r\n        at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.init(MapTask.java:983)\r\n        at org.apache.hadoop.mapred.MapTask.createSortingCollector(MapTask.java:401)\r\n        at org.apache.hadoop.mapred.MapTask.access$100(MapTask.java:81)\r\n        at org.apache.hadoop.mapred.MapTask$NewOutputCollector.&lt;init&gt;(MapTask.java:695)\r\n        at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:767)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\r\n        at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:243)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    15/04/27 09:28:05 INFO mapreduce.Job: Job job_local1576000334_0001 failed    with state FAILED due to: NA\r\n    15/04/27 09:28:05 INFO mapreduce.Job: Counters: 0\r\n    15/04/27 09:28:05 INFO terasort.TeraSort: done\r\n\r\nwith Apache Hadoop 2.6 with the following configuration.\r\n\r\nmapreduce configuration &quot;**mapred.site.xml**&quot;\r\n\r\n    &lt;configuration&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;mapred.job.tracker&lt;/name&gt;\r\n    &lt;value&gt;n1:54311&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;mapreduce.local.dir&lt;/name&gt;\r\n    &lt;value&gt;/home/hadoop/hadoop/maptlogs&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;mapreduce.map.tasks&lt;/name&gt;\r\n    &lt;value&gt;32&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;mapreduce.reduce.tasks&lt;/name&gt;\r\n    &lt;value&gt;10&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;mapred.child.java.opts&lt;/name&gt;\r\n    &lt;value&gt;-Xmx1024m&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;mapreduce.task.io.sort.mb&lt;/name&gt;\r\n    &lt;value&gt;256&lt;/value&gt;\r\n    &lt;description&gt;Added 04/27 @ 10:09am for testing&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;/configuration&gt;\r\n\r\nand **yarn-site.xml**\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;\r\n    &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;\r\n    &lt;value&gt;n1:8025&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;\r\n    &lt;value&gt;n1:8030&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;\r\n    &lt;value&gt;n1:8050&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.nodemanager.disk-health-checker.enable&lt;/name&gt;\r\n    &lt;value&gt;false&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;\r\n    &lt;value&gt;4096&lt;/value&gt;\r\n    &lt;description&gt;Minimum limit of memory to allocate to each container request at the Resource Manager.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n \r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;\r\n    &lt;value&gt;8192&lt;/value&gt;\r\n    &lt;description&gt;Maximum limit of memory to allocate to each container request at the Resource Manager.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.scheduler.minimum-allocation-vcores&lt;/name&gt;\r\n    &lt;value&gt;1&lt;/value&gt;\r\n    &lt;description&gt;The minimum allocation for every container request at the RM, in terms of virtual CPU cores. Requests lower than this won&#39;t take effect, and the specified value will get allocated the minimum.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.scheduler.maximum-allocation-vcores&lt;/name&gt;\r\n    &lt;value&gt;2&lt;/value&gt;\r\n    &lt;description&gt;The maximum allocation for every container request at the RM, in terms of virtual CPU cores. Requests higher than this won&#39;t take effect, and will get capped to this value.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;\r\n    &lt;value&gt;96000&lt;/value&gt;\r\n    &lt;description&gt;Physical memory, in MB, to be made available to running containers&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;\r\n    &lt;value&gt;32&lt;/value&gt;\r\n    &lt;description&gt;Number of CPU cores that can be allocated for containers.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\nI also added Linux 90-nproc.conf as follow below:\r\n\r\n    *          soft    nproc     20000\r\n    root       soft    nproc     unlimited\r\n    *          soft    nofile    20000\r\n    *          hard    nofile    20000\r\n    root       soft    nofile    20000\r\n    root       hard    nofile    20000\r\n\r\nbut I still get a java heap space error on a terasort.\r\n\r\nI don&#39;t have any issues with teragen.\r\n\r\nThe operating system is\r\n\r\n 1. RedHat 6.6 \r\n 2. Kernel 3.18 \r\n 3. 11 machines \r\n 4. 1 namenode \r\n 5. 10 datanodes\r\n 6. Apache Hadoop 2.6\r\n\r\n","title":"Apache Hadoop 2.6 Java Heap Space Error","body":"<p>I'm getting:</p>\n\n<pre><code>15/04/27 09:28:04 INFO mapred.LocalJobRunner: map task executor complete.\n15/04/27 09:28:04 WARN mapred.LocalJobRunner: job_local1576000334_0001\njava.lang.Exception: java.lang.OutOfMemoryError: Java heap space\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:462)\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:522)\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.init(MapTask.java:983)\n    at org.apache.hadoop.mapred.MapTask.createSortingCollector(MapTask.java:401)\n    at org.apache.hadoop.mapred.MapTask.access$100(MapTask.java:81)\n    at org.apache.hadoop.mapred.MapTask$NewOutputCollector.&lt;init&gt;(MapTask.java:695)\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:767)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n    at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:243)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n15/04/27 09:28:05 INFO mapreduce.Job: Job job_local1576000334_0001 failed    with state FAILED due to: NA\n15/04/27 09:28:05 INFO mapreduce.Job: Counters: 0\n15/04/27 09:28:05 INFO terasort.TeraSort: done\n</code></pre>\n\n<p>with Apache Hadoop 2.6 with the following configuration.</p>\n\n<p>mapreduce configuration \"<strong>mapred.site.xml</strong>\"</p>\n\n<pre><code>&lt;configuration&gt;\n\n&lt;property&gt;\n&lt;name&gt;mapred.job.tracker&lt;/name&gt;\n&lt;value&gt;n1:54311&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;mapreduce.local.dir&lt;/name&gt;\n&lt;value&gt;/home/hadoop/hadoop/maptlogs&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;mapreduce.map.tasks&lt;/name&gt;\n&lt;value&gt;32&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;mapreduce.reduce.tasks&lt;/name&gt;\n&lt;value&gt;10&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;mapred.child.java.opts&lt;/name&gt;\n&lt;value&gt;-Xmx1024m&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;mapreduce.task.io.sort.mb&lt;/name&gt;\n&lt;value&gt;256&lt;/value&gt;\n&lt;description&gt;Added 04/27 @ 10:09am for testing&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>and <strong>yarn-site.xml</strong></p>\n\n<pre><code>&lt;property&gt;\n&lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;\n&lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;\n&lt;value&gt;n1:8025&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;\n&lt;value&gt;n1:8030&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;\n&lt;value&gt;n1:8050&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.nodemanager.disk-health-checker.enable&lt;/name&gt;\n&lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;\n&lt;value&gt;4096&lt;/value&gt;\n&lt;description&gt;Minimum limit of memory to allocate to each container request at the Resource Manager.&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;\n&lt;value&gt;8192&lt;/value&gt;\n&lt;description&gt;Maximum limit of memory to allocate to each container request at the Resource Manager.&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.scheduler.minimum-allocation-vcores&lt;/name&gt;\n&lt;value&gt;1&lt;/value&gt;\n&lt;description&gt;The minimum allocation for every container request at the RM, in terms of virtual CPU cores. Requests lower than this won't take effect, and the specified value will get allocated the minimum.&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.scheduler.maximum-allocation-vcores&lt;/name&gt;\n&lt;value&gt;2&lt;/value&gt;\n&lt;description&gt;The maximum allocation for every container request at the RM, in terms of virtual CPU cores. Requests higher than this won't take effect, and will get capped to this value.&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;\n&lt;value&gt;96000&lt;/value&gt;\n&lt;description&gt;Physical memory, in MB, to be made available to running containers&lt;/description&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n&lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;\n&lt;value&gt;32&lt;/value&gt;\n&lt;description&gt;Number of CPU cores that can be allocated for containers.&lt;/description&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>I also added Linux 90-nproc.conf as follow below:</p>\n\n<pre><code>*          soft    nproc     20000\nroot       soft    nproc     unlimited\n*          soft    nofile    20000\n*          hard    nofile    20000\nroot       soft    nofile    20000\nroot       hard    nofile    20000\n</code></pre>\n\n<p>but I still get a java heap space error on a terasort.</p>\n\n<p>I don't have any issues with teragen.</p>\n\n<p>The operating system is</p>\n\n<ol>\n<li>RedHat 6.6 </li>\n<li>Kernel 3.18 </li>\n<li>11 machines </li>\n<li>1 namenode </li>\n<li>10 datanodes</li>\n<li>Apache Hadoop 2.6</li>\n</ol>\n"},{"tags":["java","hadoop","mapreduce","heap-memory","shuffle"],"answers":[{"tags":[],"owner":{"account_id":381598,"reputation":1236,"user_id":736355,"accept_rate":47,"display_name":"rakesh99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1431372329,"creation_date":1431372329,"answer_id":30176015,"question_id":30175094,"body_markdown":"\r\nmapreduce.reduce.shuffle.input.buffer.percent\t0.70\tThe percentage of memory to be allocated from the maximum heap size to storing map outputs during the shuffle. \r\nFrom this it looks that that if you decrease this to a arbitrary value it may degrade the performance of the shuffle phase.\r\nThere would have been certain reasoning and tests behind the default value \r\nYou may check other related properties here \r\nhttp://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml\r\n\r\nWhat is the approx data output by your mappers ,If that is huge then you may want to increase the number of mappers\r\nLikewise if the number of reducers is low heap space error could likely happen during reduce phase.\r\n\r\nyou may want to check your job counters and increase the number of mappers/reducers\r\nyou may also try increasing the mapper/reducer memory\r\nby setting the properties *mapreduce.reduce.memory.mb* and *mapreduce.map.memory.mb*\r\n","title":"How to configure java memory heap space for hadoop mapreduce?","body":"<p>mapreduce.reduce.shuffle.input.buffer.percent   0.70    The percentage of memory to be allocated from the maximum heap size to storing map outputs during the shuffle. \nFrom this it looks that that if you decrease this to a arbitrary value it may degrade the performance of the shuffle phase.\nThere would have been certain reasoning and tests behind the default value \nYou may check other related properties here \n<a href=\"http://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml\" rel=\"nofollow\">http://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml</a></p>\n\n<p>What is the approx data output by your mappers ,If that is huge then you may want to increase the number of mappers\nLikewise if the number of reducers is low heap space error could likely happen during reduce phase.</p>\n\n<p>you may want to check your job counters and increase the number of mappers/reducers\nyou may also try increasing the mapper/reducer memory\nby setting the properties <em>mapreduce.reduce.memory.mb</em> and <em>mapreduce.map.memory.mb</em></p>\n"}],"owner":{"account_id":5897242,"reputation":625,"user_id":4642007,"accept_rate":33,"display_name":"Kenny Basuki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1428,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":30176015,"answer_count":1,"score":-1,"last_activity_date":1639153284,"creation_date":1431369202,"question_id":30175094,"body_markdown":"I&#39;ve tried to run a mapreduce job on about 20 GB data, and I got an error on reduce shuffle phase. It says that because of memory heap space. Then, I&#39;ve read on many source, that I have to decrease the mapreduce.reduce.shuffle.input.buffer.percent property on mapred-site.xml with the default value 0,7. So, I decrease it to 0,2.\r\n\r\nI want to ask, is that property take an effect on time performance my mapreduce job. So, how can I properly configure to make my mapreduce job never get an error?","title":"How to configure java memory heap space for hadoop mapreduce?","body":"<p>I've tried to run a mapreduce job on about 20 GB data, and I got an error on reduce shuffle phase. It says that because of memory heap space. Then, I've read on many source, that I have to decrease the mapreduce.reduce.shuffle.input.buffer.percent property on mapred-site.xml with the default value 0,7. So, I decrease it to 0,2.</p>\n\n<p>I want to ask, is that property take an effect on time performance my mapreduce job. So, how can I properly configure to make my mapreduce job never get an error?</p>\n"},{"tags":["java","hadoop","mapreduce","bigdata","heap-memory"],"comments":[{"owner":{"account_id":2638897,"reputation":7820,"user_id":2282988,"accept_rate":50,"display_name":"Sandeep Singh"},"score":0,"creation_date":1493726976,"post_id":43737035,"comment_id":74518006,"body_markdown":"increasing heap size is not a solution to run program faster. You can try alternate way like increasing Mapper, Reducer or optimizing your code.","body":"increasing heap size is not a solution to run program faster. You can try alternate way like increasing Mapper, Reducer or optimizing your code."},{"owner":{"account_id":108918,"reputation":20809,"user_id":1018562,"accept_rate":74,"display_name":"pythonic"},"score":0,"creation_date":1493727995,"post_id":43737035,"comment_id":74518696,"body_markdown":"The author of the program said to increase the heap size. I am not the author of that program, just the user.","body":"The author of the program said to increase the heap size. I am not the author of that program, just the user."},{"owner":{"account_id":4332982,"reputation":679,"user_id":3537941,"accept_rate":50,"display_name":"fi11er"},"score":1,"creation_date":1493732016,"post_id":43737035,"comment_id":74521370,"body_markdown":"add `-Dmapred.child.java.opts=-Xmx16384m` to your hadoop jar command","body":"add <code>-Dmapred.child.java.opts=-Xmx16384m</code> to your hadoop jar command"},{"owner":{"account_id":108918,"reputation":20809,"user_id":1018562,"accept_rate":74,"display_name":"pythonic"},"score":0,"creation_date":1493737420,"post_id":43737035,"comment_id":74525389,"body_markdown":"Didn&#39;t work as well.","body":"Didn&#39;t work as well."}],"answers":[{"tags":[],"owner":{"account_id":108918,"reputation":20809,"user_id":1018562,"accept_rate":74,"display_name":"pythonic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1493748387,"creation_date":1493739694,"answer_id":43742047,"question_id":43737035,"body_markdown":"I solved this problem by modifying the HADOOP_CLIENT_OPTS environment variable, as shown below.\r\n\r\n    export HADOOP_CLIENT_OPTS=&quot;-Xmx16g $HADOOP_CLIENT_OPTS&quot;\r\n\r\nNote that the program I am using runs only on the Master node. In other words, its not a distributed application.\r\n\r\n","title":"How to increase the heap size when using hadoop jar?","body":"<p>I solved this problem by modifying the HADOOP_CLIENT_OPTS environment variable, as shown below.</p>\n\n<pre><code>export HADOOP_CLIENT_OPTS=\"-Xmx16g $HADOOP_CLIENT_OPTS\"\n</code></pre>\n\n<p>Note that the program I am using runs only on the Master node. In other words, its not a distributed application.</p>\n"},{"tags":[],"owner":{"account_id":992228,"reputation":2814,"user_id":1009169,"accept_rate":91,"display_name":"PALEN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545173043,"creation_date":1545173043,"answer_id":53842200,"question_id":43737035,"body_markdown":"A way to increase the heap size when using Hadoop jar that works for me:\r\n\r\n    HADOOP_CLIENT_OPTS=&quot;-XX:-UseGCOverheadLimit -Xmx16384m&quot; hadoop jar parquetExample.jar \r\n\r\nas you can see you set the environment variable&#39;s value (works for other environment variables too, in this case I am setting the max size to `16384m`) in the same line and before the `hadoop jar` command.","title":"How to increase the heap size when using hadoop jar?","body":"<p>A way to increase the heap size when using Hadoop jar that works for me:</p>\n\n<pre><code>HADOOP_CLIENT_OPTS=\"-XX:-UseGCOverheadLimit -Xmx16384m\" hadoop jar parquetExample.jar \n</code></pre>\n\n<p>as you can see you set the environment variable's value (works for other environment variables too, in this case I am setting the max size to <code>16384m</code>) in the same line and before the <code>hadoop jar</code> command.</p>\n"}],"owner":{"account_id":108918,"reputation":20809,"user_id":1018562,"accept_rate":74,"display_name":"pythonic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43742047,"answer_count":2,"score":0,"last_activity_date":1639153271,"creation_date":1493725547,"question_id":43737035,"body_markdown":"I am running a program with the `hadoop jar` command. However, to make that program run faster, I need to increase Hadoop&#39;s heap size. I tried the following, but it didn&#39;t have any effect (I have hadoop version 2.5), even on the same terminal.\r\n\r\n    export HADOOP_HEAPSIZE=16384\r\n    export HADOOP_OPTS=&quot;-Xmx16g&quot;\r\n\r\nAnother way I reckon is to add the following to the mapred-site.xml file, but I am unfortunately not the admin, so can&#39;t do it.\r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapred.child.java.opts&lt;/name&gt;\r\n        &lt;value&gt;-Xmx16384m&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\nIs there any other method as well to do this?\r\n","title":"How to increase the heap size when using hadoop jar?","body":"<p>I am running a program with the <code>hadoop jar</code> command. However, to make that program run faster, I need to increase Hadoop's heap size. I tried the following, but it didn't have any effect (I have hadoop version 2.5), even on the same terminal.</p>\n\n<pre><code>export HADOOP_HEAPSIZE=16384\nexport HADOOP_OPTS=\"-Xmx16g\"\n</code></pre>\n\n<p>Another way I reckon is to add the following to the mapred-site.xml file, but I am unfortunately not the admin, so can't do it.</p>\n\n<pre><code>&lt;property&gt;\n    &lt;name&gt;mapred.child.java.opts&lt;/name&gt;\n    &lt;value&gt;-Xmx16384m&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>Is there any other method as well to do this?</p>\n"},{"tags":["java","hadoop","heap-memory"],"comments":[{"owner":{"account_id":1819966,"reputation":1014,"user_id":1654233,"display_name":"yegodm"},"score":0,"creation_date":1513948457,"post_id":47941428,"comment_id":82853722,"body_markdown":"Since you do mostly string processing, adding `-XX:+UseStringDeduplication` to reducer JVM start-up parameters may help (provided it is Java 8u20 or higher)","body":"Since you do mostly string processing, adding <code>-XX:+UseStringDeduplication</code> to reducer JVM start-up parameters may help (provided it is Java 8u20 or higher)"},{"owner":{"account_id":8802865,"reputation":2206,"user_id":6578434,"accept_rate":100,"display_name":"Luk"},"score":0,"creation_date":1513957907,"post_id":47941428,"comment_id":82857843,"body_markdown":"You are not utilizing a key from reducer. This means that most probably your logic is not properly split between mapper and reducer. Don&#39;t you try to load all data i reducer? You should think if it wouldn&#39;t be better if you will group results in mapper by the value you are storing in variable `x`.","body":"You are not utilizing a key from reducer. This means that most probably your logic is not properly split between mapper and reducer. Don&#39;t you try to load all data i reducer? You should think if it wouldn&#39;t be better if you will group results in mapper by the value you are storing in variable <code>x</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1514008593,"post_id":47941428,"comment_id":82869851,"body_markdown":"*increase java heap size to exceed my main memory* -- That doesn&#39;t make sense. Plus, your OS still needs memory, so increasing the heap space of *each map task* isn&#39;t a good solution here. If it fails during the reducer, you need to increase the *reducer heap size*","body":"<i>increase java heap size to exceed my main memory</i> -- That doesn&#39;t make sense. Plus, your OS still needs memory, so increasing the heap space of <i>each map task</i> isn&#39;t a good solution here. If it fails during the reducer, you need to increase the <i>reducer heap size</i>"}],"owner":{"account_id":2292341,"reputation":65,"user_id":2014755,"accept_rate":0,"display_name":"zaranaid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639153241,"creation_date":1513945109,"question_id":47941428,"body_markdown":"I am running this hadoop program, this is the reducer:\r\n\r\n    public static class joinsReduce extends Reducer&lt;Text, Text, Text, Text&gt;\r\n    {   //start class reduce (1)\r\n    \r\n      public void reduce(Text key, Iterable&lt;Text&gt; values, Context context)\r\n              throws IOException, InterruptedException\r\n      { // start method reduce (2)\r\n    \r\n        String result = &quot;&quot;;\r\n    \r\n        Map&lt;String, String&gt; memOf = new HashMap&lt;String, String&gt;();\r\n        Map&lt;String, String&gt; subOrg = new HashMap&lt;String, String&gt;();\r\n        Map&lt;String, String&gt; email = new HashMap&lt;String, String&gt;();\r\n    \r\n        List&lt;String&gt; studList = new ArrayList&lt;String&gt;();\r\n    \r\n        String line = &quot;&quot;;\r\n        String source = &quot;&quot;;\r\n        String sub = &quot;&quot;;\r\n        String obj = &quot;&quot;;\r\n        String hashKey = &quot;&quot;;\r\n        String hashVal = &quot;&quot;;\r\n        int count = 0;\r\n    \r\n        for (Text value : values)\r\n        { //start iterate over values (3)\r\n          line = value.toString();\r\n          String[] parts = line.trim().split(&quot;,&quot;);\r\n    \r\n          source = parts[0].trim();\r\n          sub = parts[1].trim();\r\n          obj = parts[2].trim();\r\n          hashKey = sub;\r\n          hashVal = obj;\r\n    \r\n          if (source.equals(&quot;type&quot;))\r\n          {\r\n            studList.add(sub);\r\n          }\r\n    \r\n          if (source.equals(&quot;memberOf&quot;))\r\n          {\r\n            memOf.put(hashKey, hashVal);\r\n          }  // end mem\r\n    \r\n          if (source.equals(&quot;subOrganizationOf&quot;))\r\n          {\r\n            subOrg.put(hashKey, hashVal);\r\n          } // end if sub\r\n    \r\n          if (source.equals(&quot;emailAddress&quot;))\r\n          { //(4)\r\n            email.put(hashKey, hashVal);\r\n          } // end if email (4)\r\n        } //end  reading loop iterating over values (3)\r\n    \r\n        String y = &quot;&quot;;\r\n        String z = &quot;&quot;;\r\n        String z1 = &quot;&quot;;\r\n    \r\n        for (String x : studList)\r\n    \r\n        {                      // (6)\r\n          y = memOf.get(x);\r\n          z = email.get(x);\r\n          z1 = subOrg.get(y);\r\n    \r\n          if (y != null &amp;&amp; z != null &amp;&amp; z1 != null)\r\n          {     // (8)\r\n            result = x + &#39;,&#39; + y + &#39;,&#39; + z + &#39;,&#39; + z1;\r\n            context.write(new Text(x), new Text(result));\r\n          } // end inner z  if (8)\r\n        } // end iterating loop                         //(6)\r\n    \r\n      }//end method (2)\r\n    \r\n    }//end class    (1)\r\n\r\n\r\nit throws an error: java heap space  upon reaching 92% percent of the reduce phase. I am using 9 reducers and I don&#39;t want to increase them.\r\n\r\nIs there a way to reduce java memory usage, code wise ?\r\nor can increase java heap size to exceed my main memory (which is 4GB).\r\n\r\nI am currently using fourth of it \r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.map.java.opts&lt;/name&gt;\r\n            &lt;value&gt;-Xmx3072m&lt;/value&gt;\r\n        &lt;description&gt;No description&lt;/description&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\nIf I can exceed available memory and if i change &lt;value&gt;-Xmx3072m&lt;/value&gt; to &lt;value&gt;-Xmx4096m&lt;/value&gt; , what do I do for it to take effect?\r\n\r\n","title":"hadoop, error java heap size and I only have 4gb of main memory","body":"<p>I am running this hadoop program, this is the reducer:</p>\n\n<pre><code>public static class joinsReduce extends Reducer&lt;Text, Text, Text, Text&gt;\n{   //start class reduce (1)\n\n  public void reduce(Text key, Iterable&lt;Text&gt; values, Context context)\n          throws IOException, InterruptedException\n  { // start method reduce (2)\n\n    String result = \"\";\n\n    Map&lt;String, String&gt; memOf = new HashMap&lt;String, String&gt;();\n    Map&lt;String, String&gt; subOrg = new HashMap&lt;String, String&gt;();\n    Map&lt;String, String&gt; email = new HashMap&lt;String, String&gt;();\n\n    List&lt;String&gt; studList = new ArrayList&lt;String&gt;();\n\n    String line = \"\";\n    String source = \"\";\n    String sub = \"\";\n    String obj = \"\";\n    String hashKey = \"\";\n    String hashVal = \"\";\n    int count = 0;\n\n    for (Text value : values)\n    { //start iterate over values (3)\n      line = value.toString();\n      String[] parts = line.trim().split(\",\");\n\n      source = parts[0].trim();\n      sub = parts[1].trim();\n      obj = parts[2].trim();\n      hashKey = sub;\n      hashVal = obj;\n\n      if (source.equals(\"type\"))\n      {\n        studList.add(sub);\n      }\n\n      if (source.equals(\"memberOf\"))\n      {\n        memOf.put(hashKey, hashVal);\n      }  // end mem\n\n      if (source.equals(\"subOrganizationOf\"))\n      {\n        subOrg.put(hashKey, hashVal);\n      } // end if sub\n\n      if (source.equals(\"emailAddress\"))\n      { //(4)\n        email.put(hashKey, hashVal);\n      } // end if email (4)\n    } //end  reading loop iterating over values (3)\n\n    String y = \"\";\n    String z = \"\";\n    String z1 = \"\";\n\n    for (String x : studList)\n\n    {                      // (6)\n      y = memOf.get(x);\n      z = email.get(x);\n      z1 = subOrg.get(y);\n\n      if (y != null &amp;&amp; z != null &amp;&amp; z1 != null)\n      {     // (8)\n        result = x + ',' + y + ',' + z + ',' + z1;\n        context.write(new Text(x), new Text(result));\n      } // end inner z  if (8)\n    } // end iterating loop                         //(6)\n\n  }//end method (2)\n\n}//end class    (1)\n</code></pre>\n\n<p>it throws an error: java heap space  upon reaching 92% percent of the reduce phase. I am using 9 reducers and I don't want to increase them.</p>\n\n<p>Is there a way to reduce java memory usage, code wise ?\nor can increase java heap size to exceed my main memory (which is 4GB).</p>\n\n<p>I am currently using fourth of it </p>\n\n<pre><code>&lt;property&gt;\n    &lt;name&gt;mapreduce.map.java.opts&lt;/name&gt;\n        &lt;value&gt;-Xmx3072m&lt;/value&gt;\n    &lt;description&gt;No description&lt;/description&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>If I can exceed available memory and if i change -Xmx3072m to -Xmx4096m , what do I do for it to take effect?</p>\n"},{"tags":["java","sonarqube","heap-memory","bamboo","permgen"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351767947,"creation_date":1351767947,"answer_id":13175721,"question_id":13175668,"body_markdown":"This error is not caused by any specific line of code, so there would be no point in trying to locate it. You&#39;ll just have to reconfigure the Java runtime that ant uses so that the limit on the PermGen space is increased. [This wiki page](http://wiki.apache.org/ant/TheElementsOfAntStyle) documents how to achieve this. Basically, you set the `ANT_OPTS` environment variable.","title":"Sonar java.lang.OutOfMemoryError: PermGen space","body":"<p>This error is not caused by any specific line of code, so there would be no point in trying to locate it. You'll just have to reconfigure the Java runtime that ant uses so that the limit on the PermGen space is increased. <a href=\"http://wiki.apache.org/ant/TheElementsOfAntStyle\" rel=\"nofollow\">This wiki page</a> documents how to achieve this. Basically, you set the <code>ANT_OPTS</code> environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351771403,"creation_date":1351771403,"answer_id":13176668,"question_id":13175668,"body_markdown":"Instead of increasing the heap size, try increasing the permgen size. You can do this with\r\n\r\n    ANT_OPTS=-XX:MaxPermSize=128m\r\nThe default size is 64 MB, so this setting should double the maximum memory available.\r\n\r\nThe PermGen memory is used for things that don&#39;t change often while running the JVM, like class definitions.","title":"Sonar java.lang.OutOfMemoryError: PermGen space","body":"<p>Instead of increasing the heap size, try increasing the permgen size. You can do this with</p>\n\n<pre><code>ANT_OPTS=-XX:MaxPermSize=128m\n</code></pre>\n\n<p>The default size is 64 MB, so this setting should double the maximum memory available.</p>\n\n<p>The PermGen memory is used for things that don't change often while running the JVM, like class definitions.</p>\n"},{"tags":[],"owner":{"account_id":68217,"reputation":188,"user_id":1471958,"accept_rate":78,"display_name":"csilk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353077898,"creation_date":1352816089,"answer_id":13362280,"question_id":13175668,"body_markdown":"Increasing the permspace on the sonar server didn&#39;t seem to have any effect.\r\n\r\nThis issue seems to have been caused by running too many ant targets at the &#39;assembly&#39; stage in Bamboo. I am now running &#39;clean all production&#39; followed by a call to the ant sonar plugin .jar.\r\n\r\nIt also seems that classes weren&#39;t being unloaded when they should have been. This was fixed with the following JVM parameter: -XX:+CMSClassUnloadingEnabled \r\n\r\n\r\n","title":"Sonar java.lang.OutOfMemoryError: PermGen space","body":"<p>Increasing the permspace on the sonar server didn't seem to have any effect.</p>\n\n<p>This issue seems to have been caused by running too many ant targets at the 'assembly' stage in Bamboo. I am now running 'clean all production' followed by a call to the ant sonar plugin .jar.</p>\n\n<p>It also seems that classes weren't being unloaded when they should have been. This was fixed with the following JVM parameter: -XX:+CMSClassUnloadingEnabled </p>\n"},{"tags":[],"owner":{"account_id":2127890,"reputation":690,"user_id":1889505,"display_name":"kabadisha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1413548513,"creation_date":1355061455,"answer_id":13788055,"question_id":13175668,"body_markdown":"I actually went back to look at this after you - it was still failing.\r\nYou were nearly there but I found two things:\r\n\r\n 1. You had used JAVA_OPTS instead of ANT_OPTS\r\n 2. CMSClassUnloadingEnabled is only used if you also use UseConcMarkSweepGC. See here: https://stackoverflow.com/questions/3717937/cmspermgensweepingenabled-vs-cmsclassunloadingenabled/3720052#3720052\r\n\r\nSo the settings that seem to be working a treat now are:\r\n\r\n    ANT_OPTS=&quot;-Xmx1024m -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=512m&quot;\r\n\r\n**UPDATE:**\r\nYears later I have actually re-visited this again as the problem reoccurred. You don&#39;t actually need to mess with the GC settings, just the memory. The correct options to use are in fact:\r\n\r\n    ANT_OPTS=&quot;-Xmx2G -XX:MaxPermSize=1G&quot;\r\n\r\nObviously you can tweak the memory values to suit your machine.\r\n\r\nHope this helps others.","title":"Sonar java.lang.OutOfMemoryError: PermGen space","body":"<p>I actually went back to look at this after you - it was still failing.\nYou were nearly there but I found two things:</p>\n\n<ol>\n<li>You had used JAVA_OPTS instead of ANT_OPTS</li>\n<li>CMSClassUnloadingEnabled is only used if you also use UseConcMarkSweepGC. See here: <a href=\"https://stackoverflow.com/questions/3717937/cmspermgensweepingenabled-vs-cmsclassunloadingenabled/3720052#3720052\">CMSPermGenSweepingEnabled vs CMSClassUnloadingEnabled</a></li>\n</ol>\n\n<p>So the settings that seem to be working a treat now are:</p>\n\n<pre><code>ANT_OPTS=\"-Xmx1024m -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=512m\"\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nYears later I have actually re-visited this again as the problem reoccurred. You don't actually need to mess with the GC settings, just the memory. The correct options to use are in fact:</p>\n\n<pre><code>ANT_OPTS=\"-Xmx2G -XX:MaxPermSize=1G\"\n</code></pre>\n\n<p>Obviously you can tweak the memory values to suit your machine.</p>\n\n<p>Hope this helps others.</p>\n"}],"owner":{"account_id":68217,"reputation":188,"user_id":1471958,"accept_rate":78,"display_name":"csilk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13788055,"answer_count":4,"score":1,"last_activity_date":1639153164,"creation_date":1351767713,"question_id":13175668,"body_markdown":"I&#39;m getting the following error when running a build in ant\r\n\r\n    buildcallbacks.xml:39: org.sonar.runner.RunnerException: java.lang.OutOfMemoryError: PermGen space\r\n\r\nIt&#39;s the part of the build where sonar runs over our code.\r\n\r\nIs there a way for me to know exactly where this error is coming from i.e is it the sonar server or the client etc ?\r\n\r\nHere is line 39 of my buildcallbanks.xml \r\n\r\n    &lt;sonar:sonar /&gt;\r\n\r\nEDIT: I&#39;ve tried increasing the permsize from the wrapper.conf within Sonar and I still get the same issue no matter how high I set it. I must still be missing something? ","title":"Sonar java.lang.OutOfMemoryError: PermGen space","body":"<p>I'm getting the following error when running a build in ant</p>\n\n<pre><code>buildcallbacks.xml:39: org.sonar.runner.RunnerException: java.lang.OutOfMemoryError: PermGen space\n</code></pre>\n\n<p>It's the part of the build where sonar runs over our code.</p>\n\n<p>Is there a way for me to know exactly where this error is coming from i.e is it the sonar server or the client etc ?</p>\n\n<p>Here is line 39 of my buildcallbanks.xml </p>\n\n<pre><code>&lt;sonar:sonar /&gt;\n</code></pre>\n\n<p>EDIT: I've tried increasing the permsize from the wrapper.conf within Sonar and I still get the same issue no matter how high I set it. I must still be missing something? </p>\n"},{"tags":["java","heap-memory","permgen"],"comments":[{"owner":{"display_name":"user626607"},"score":0,"creation_date":1361802599,"post_id":15069286,"comment_id":21190443,"body_markdown":"what is the test that you are running?","body":"what is the test that you are running?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1361802668,"post_id":15069286,"comment_id":21190489,"body_markdown":"This happens while building a response string.  Considered that your response might be incorrectly generated and too large?","body":"This happens while building a response string.  Considered that your response might be incorrectly generated and too large?"},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1361803261,"post_id":15069286,"comment_id":21190873,"body_markdown":"@Kata : I have lot of validate method in around 15 classes, this test will invoke all the methods and test will pass if there is no validation error returned.","body":"@Kata : I have lot of validate method in around 15 classes, this test will invoke all the methods and test will pass if there is no validation error returned."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1361803492,"post_id":15069286,"comment_id":21191016,"body_markdown":"I think you append a lot of text to that StringBuilder, use a debugger and see where and what you append to it.","body":"I think you append a lot of text to that StringBuilder, use a debugger and see where and what you append to it."},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1361803524,"post_id":15069286,"comment_id":21191034,"body_markdown":"@Thorbj&#248;rn Ravn Andersen: Response string will be null if there is no validation errors or else it return json array of objects which is a ValidationObject containing Message and Id.","body":"@Thorbj&#248;rn Ravn Andersen: Response string will be null if there is no validation errors or else it return json array of objects which is a ValidationObject containing Message and Id."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1361805634,"post_id":15069286,"comment_id":21192285,"body_markdown":"@annonymous well, there you have it.  Look at your validation errors just before you build the response string.","body":"@annonymous well, there you have it.  Look at your validation errors just before you build the response string."}],"answers":[{"tags":[],"owner":{"account_id":165224,"reputation":832,"user_id":388500,"accept_rate":36,"display_name":"chiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361803486,"creation_date":1361803486,"answer_id":15069586,"question_id":15069286,"body_markdown":"Please try increasing your heapspace?","title":"OutofMemoryError when running Junit Test case","body":"<p>Please try increasing your heapspace?</p>\n"},{"tags":[],"owner":{"display_name":"user626607"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361803956,"creation_date":1361803956,"answer_id":15069758,"question_id":15069286,"body_markdown":"Without looking at the tests, it is really hard to help you but my guess is that whatever you are working with is large especially if it involves building strings. A few suggestions could help you:\r\n\r\n 1. Try to use the `StringBuilder class` to build the response. I noticed that it makea a huge difference over using the &quot;+&quot; sign when building a large string.\r\n 2. Increase the memory available to eclipse in the eclipse.ini. A good explanation can be found in [this][1] link.\r\n\r\nI would try to inspect and change the code instead of changing the memory settings. As much as you can increase the memory disposed to the JVM, there is a reason why the initial memory settings are small. I think it is because developers should not just write memory run-away programs but should take care to architect programs that run on most environments, including the memory constrained ones.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5894312/how-to-tweak-this-eclipse-ini-file-to-improve-the-performance-of-eclipsehelios","title":"OutofMemoryError when running Junit Test case","body":"<p>Without looking at the tests, it is really hard to help you but my guess is that whatever you are working with is large especially if it involves building strings. A few suggestions could help you:</p>\n\n<ol>\n<li>Try to use the <code>StringBuilder class</code> to build the response. I noticed that it makea a huge difference over using the \"+\" sign when building a large string.</li>\n<li>Increase the memory available to eclipse in the eclipse.ini. A good explanation can be found in <a href=\"https://stackoverflow.com/questions/5894312/how-to-tweak-this-eclipse-ini-file-to-improve-the-performance-of-eclipsehelios\">this</a> link.</li>\n</ol>\n\n<p>I would try to inspect and change the code instead of changing the memory settings. As much as you can increase the memory disposed to the JVM, there is a reason why the initial memory settings are small. I think it is because developers should not just write memory run-away programs but should take care to architect programs that run on most environments, including the memory constrained ones.</p>\n"},{"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361804603,"creation_date":1361804603,"answer_id":15069960,"question_id":15069286,"body_markdown":"Starting from the stacktrace of an OOM is in most of the cases misleading, because once the heap gets almost full, any object allocation might be the one that fails.\r\n\r\nIncreasing the heap might help, but your usecase (testing some validations as you mentioned in a comment) sounds like it shouldn&#39;t require gigs of ram.\r\n\r\nIf you want a quick answer, use some tooling. Include the JVM arg: `\r\n&lt;jvmarg value=&quot;-XX:+HeapDumpOnOutOfMemoryError&quot;/&gt;`, and once the heap is dumped open it in the [Eclipse Memory Analyzer Tool][1] to see what is eating up the memory. It&#39;s a very nice tool with which you can spot the problem in minutes (for the simpler cases).\r\n\r\nOne tip: if your test classes use the `SpringJUnit4ClassRunner` to load a test context, Spring will cache all contexts loaded during the run. If you have a dozen integration tests with different contexts, you have a good chance of running out of that 512m heap.\r\n\r\n [1]: http://www.eclipse.org/mat/","title":"OutofMemoryError when running Junit Test case","body":"<p>Starting from the stacktrace of an OOM is in most of the cases misleading, because once the heap gets almost full, any object allocation might be the one that fails.</p>\n\n<p>Increasing the heap might help, but your usecase (testing some validations as you mentioned in a comment) sounds like it shouldn't require gigs of ram.</p>\n\n<p>If you want a quick answer, use some tooling. Include the JVM arg: <code>\n&lt;jvmarg value=\"-XX:+HeapDumpOnOutOfMemoryError\"/&gt;</code>, and once the heap is dumped open it in the <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow\">Eclipse Memory Analyzer Tool</a> to see what is eating up the memory. It's a very nice tool with which you can spot the problem in minutes (for the simpler cases).</p>\n\n<p>One tip: if your test classes use the <code>SpringJUnit4ClassRunner</code> to load a test context, Spring will cache all contexts loaded during the run. If you have a dozen integration tests with different contexts, you have a good chance of running out of that 512m heap.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7762,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1361884816,"answer_count":3,"score":-3,"last_activity_date":1639153149,"creation_date":1361802516,"question_id":15069286,"body_markdown":"I am running Junit test case in Jenkins through build.xml. When I run a particular test case I get the below error.\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;/&gt;\r\n    &lt;title&gt;Error 500 Java heap space&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;&lt;h2&gt;HTTP ERROR 500&lt;/h2&gt;\r\n    &lt;p&gt;Problem accessing /url. Reason:\r\n    &lt;pre&gt;    Java heap space&lt;/pre&gt;&lt;/p&gt;&lt;h3&gt;Caused by:&lt;/h3&gt;&lt;pre&gt;java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.Arrays.copyOf(Arrays.java:2882)\r\n    \tat java.lang.AbstractStringBuilder.expandCapacity(AbstractStringBuilder.java:100)\r\n    \tat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:390)\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:119)\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\r\n    \tat java.lang.Long.parseLong(Long.java:410)\r\n    \tat java.lang.Long.valueOf(Long.java:525)\r\n    \tat org.codehaus.jettison.mapped.DefaultConverter.convertToJSONPrimitive(DefaultConverter.java:39)\r\n    \tat org.codehaus.jettison.mapped.MappedNamespaceConvention.convertToJSONPrimitive(MappedNamespaceConvention.java:282)\r\n    \tat org.codehaus.jettison.mapped.MappedXMLStreamWriter$JSONPropertyObject.withProperty(MappedXMLStreamWriter.java:153)\r\n    \tat org.codehaus.jettison.mapped.MappedXMLStreamWriter$JSONProperty.withProperty(MappedXMLStreamWriter.java:66)\r\n    \tat org.codehaus.jettison.mapped.MappedXMLStreamWriter.writeEndElement(MappedXMLStreamWriter.java:247)\r\n    \tat com.sun.xml.bind.v2.runtime.output.XMLStreamWriterOutput.endTag(XMLStreamWriterOutput.java:144)\r\n    \tat com.sun.xml.bind.v2.runtime.output.XmlOutputAbstractImpl.endTag(XmlOutputAbstractImpl.java:120)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.leafElement(XMLSerializer.java:326)\r\n    \tat com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl$StringImplImpl.writeLeafElement(RuntimeBuiltinLeafInfoImpl.java:1041)\r\n    \tat com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl$StringImplImpl.writeLeafElement(RuntimeBuiltinLeafInfoImpl.java:1020)\r\n    \tat com.sun.xml.bind.v2.runtime.reflect.TransducedAccessor$CompositeTransducedAccessorImpl.writeLeafElement(TransducedAccessor.java:252)\r\n    \tat com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.serializeBody(SingleElementLeafProperty.java:121)\r\n    \tat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:340)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.childAsXsiType(XMLSerializer.java:696)\r\n    \tat com.sun.xml.bind.v2.runtime.property.SingleElementNodeProperty.serializeBody(SingleElementNodeProperty.java:152)\r\n    \tat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:340)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.childAsXsiType(XMLSerializer.java:696)\r\n    \tat com.sun.xml.bind.v2.runtime.property.ArrayElementNodeProperty.serializeItem(ArrayElementNodeProperty.java:65)\r\n    \tat com.sun.xml.bind.v2.runtime.property.ArrayElementProperty.serializeListBody(ArrayElementProperty.java:168)\r\n    \tat com.sun.xml.bind.v2.runtime.property.ArrayERProperty.serializeBody(ArrayERProperty.java:155)\r\n    \tat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:340)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.childAsSoleContent(XMLSerializer.java:593)\r\n    \tat com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeRoot(ClassBeanInfoImpl.java:324)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:494)\r\n    \tat com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:315)\r\n\r\nBelow is the build.xml code I use to run the junit testcase build.xml \r\n\r\n    &lt;target name=&quot;runTests&quot;&gt;\r\n      &lt;junit fork=&quot;yes&quot; forkmode=&quot;once&quot; printsummary=&quot;yes&quot; dir=&quot;${basedir}&quot; includeantruntime=&quot;yes&quot; failureproperty=&quot;failureTest&quot; maxmemory=&quot;1024m&quot; jvm=&quot;&quot;&gt;\r\n      &lt;jvmarg value=&quot;-XX:MaxPermSize=512M&quot;/&gt;\r\n      &lt;jvmarg value=&quot;-Dlog4j.configuration=log4j.properties&quot;/&gt;\r\n\r\nBut this error is occurring only in specific system, not in all the environments. How can I get rid of this?\r\n","title":"OutofMemoryError when running Junit Test case","body":"<p>I am running Junit test case in Jenkins through build.xml. When I run a particular test case I get the below error.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;/&gt;\n&lt;title&gt;Error 500 Java heap space&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;&lt;h2&gt;HTTP ERROR 500&lt;/h2&gt;\n&lt;p&gt;Problem accessing /url. Reason:\n&lt;pre&gt;    Java heap space&lt;/pre&gt;&lt;/p&gt;&lt;h3&gt;Caused by:&lt;/h3&gt;&lt;pre&gt;java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf(Arrays.java:2882)\n    at java.lang.AbstractStringBuilder.expandCapacity(AbstractStringBuilder.java:100)\n    at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:390)\n    at java.lang.StringBuilder.append(StringBuilder.java:119)\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\n    at java.lang.Long.parseLong(Long.java:410)\n    at java.lang.Long.valueOf(Long.java:525)\n    at org.codehaus.jettison.mapped.DefaultConverter.convertToJSONPrimitive(DefaultConverter.java:39)\n    at org.codehaus.jettison.mapped.MappedNamespaceConvention.convertToJSONPrimitive(MappedNamespaceConvention.java:282)\n    at org.codehaus.jettison.mapped.MappedXMLStreamWriter$JSONPropertyObject.withProperty(MappedXMLStreamWriter.java:153)\n    at org.codehaus.jettison.mapped.MappedXMLStreamWriter$JSONProperty.withProperty(MappedXMLStreamWriter.java:66)\n    at org.codehaus.jettison.mapped.MappedXMLStreamWriter.writeEndElement(MappedXMLStreamWriter.java:247)\n    at com.sun.xml.bind.v2.runtime.output.XMLStreamWriterOutput.endTag(XMLStreamWriterOutput.java:144)\n    at com.sun.xml.bind.v2.runtime.output.XmlOutputAbstractImpl.endTag(XmlOutputAbstractImpl.java:120)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.leafElement(XMLSerializer.java:326)\n    at com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl$StringImplImpl.writeLeafElement(RuntimeBuiltinLeafInfoImpl.java:1041)\n    at com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl$StringImplImpl.writeLeafElement(RuntimeBuiltinLeafInfoImpl.java:1020)\n    at com.sun.xml.bind.v2.runtime.reflect.TransducedAccessor$CompositeTransducedAccessorImpl.writeLeafElement(TransducedAccessor.java:252)\n    at com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.serializeBody(SingleElementLeafProperty.java:121)\n    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:340)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsXsiType(XMLSerializer.java:696)\n    at com.sun.xml.bind.v2.runtime.property.SingleElementNodeProperty.serializeBody(SingleElementNodeProperty.java:152)\n    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:340)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsXsiType(XMLSerializer.java:696)\n    at com.sun.xml.bind.v2.runtime.property.ArrayElementNodeProperty.serializeItem(ArrayElementNodeProperty.java:65)\n    at com.sun.xml.bind.v2.runtime.property.ArrayElementProperty.serializeListBody(ArrayElementProperty.java:168)\n    at com.sun.xml.bind.v2.runtime.property.ArrayERProperty.serializeBody(ArrayERProperty.java:155)\n    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:340)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsSoleContent(XMLSerializer.java:593)\n    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeRoot(ClassBeanInfoImpl.java:324)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:494)\n    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:315)\n</code></pre>\n<p>Below is the build.xml code I use to run the junit testcase build.xml</p>\n<pre><code>&lt;target name=&quot;runTests&quot;&gt;\n  &lt;junit fork=&quot;yes&quot; forkmode=&quot;once&quot; printsummary=&quot;yes&quot; dir=&quot;${basedir}&quot; includeantruntime=&quot;yes&quot; failureproperty=&quot;failureTest&quot; maxmemory=&quot;1024m&quot; jvm=&quot;&quot;&gt;\n  &lt;jvmarg value=&quot;-XX:MaxPermSize=512M&quot;/&gt;\n  &lt;jvmarg value=&quot;-Dlog4j.configuration=log4j.properties&quot;/&gt;\n</code></pre>\n<p>But this error is occurring only in specific system, not in all the environments. How can I get rid of this?</p>\n"},{"tags":["java","heap-memory","permgen"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":1,"creation_date":1369405358,"post_id":16737078,"comment_id":24103964,"body_markdown":"In your first example with `int`, you are not dealing with objects at all but with **primitives**, so it does not apply.","body":"In your first example with <code>int</code>, you are not dealing with objects at all but with <b>primitives</b>, so it does not apply."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369405391,"creation_date":1369405391,"answer_id":16737255,"question_id":16737078,"body_markdown":"Primitives are not objects. They can be stored directly in the generated code.\r\n\r\nIn your second code block, you&#39;re testing equality of value, not that two objects are the same.\r\n\r\n    int firstInt = 5;\r\n    int secondInt = 5;\r\n\r\n    if(firstInt == secondInt)\r\n    {\r\n        System.out.println(&quot;Both point to same object&quot;);\r\n        // NO - neither point to an object -- their alues are the same.\r\n    }\r\n\r\nYou can share the same Integer object among multiple references by explicitly using `Integer.valueOf(int)`, which may return the same object for multiple calls.\r\n\r\n\r\n  [1]: http://%20http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#valueOf%28int%29","title":"Do we have pools for all primitive types in PermGen area of Heap?","body":"<p>Primitives are not objects. They can be stored directly in the generated code.</p>\n\n<p>In your second code block, you're testing equality of value, not that two objects are the same.</p>\n\n<pre><code>int firstInt = 5;\nint secondInt = 5;\n\nif(firstInt == secondInt)\n{\n    System.out.println(\"Both point to same object\");\n    // NO - neither point to an object -- their alues are the same.\n}\n</code></pre>\n\n<p>You can share the same Integer object among multiple references by explicitly using <code>Integer.valueOf(int)</code>, which may return the same object for multiple calls.</p>\n"},{"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1369405423,"creation_date":1369405423,"answer_id":16737263,"question_id":16737078,"body_markdown":"There is so much misconception in your post, it is hard even to start explaining. Get some decent book. For now, some facts that might help you:\r\n\r\n - String is not a primitive type,\r\n - there are no pools of primitive types, because there cannot be a reference to a primitive type (the answer saying that they are only kept on the stack is plain wrong!)\r\n - if you use `new`, you bypass pools anyway; so executing `new String(&quot;ala&quot;)` will always create a new String object; you cannot change the semantics of `new`;\r\n - if you want to use available pools, use factory methods on objects (like `Integer.valueOf`), they will - to some extent - pool instances (it is not viable or beneficial to pool all possible values of `Integers`, `Floats` etc.).","title":"Do we have pools for all primitive types in PermGen area of Heap?","body":"<p>There is so much misconception in your post, it is hard even to start explaining. Get some decent book. For now, some facts that might help you:</p>\n\n<ul>\n<li>String is not a primitive type,</li>\n<li>there are no pools of primitive types, because there cannot be a reference to a primitive type (the answer saying that they are only kept on the stack is plain wrong!)</li>\n<li>if you use <code>new</code>, you bypass pools anyway; so executing <code>new String(\"ala\")</code> will always create a new String object; you cannot change the semantics of <code>new</code>;</li>\n<li>if you want to use available pools, use factory methods on objects (like <code>Integer.valueOf</code>), they will - to some extent - pool instances (it is not viable or beneficial to pool all possible values of <code>Integers</code>, <code>Floats</code> etc.).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369405454,"creation_date":1369405454,"answer_id":16737280,"question_id":16737078,"body_markdown":"If you try \r\n\r\n    if (Integer.valueOf(2) ==Integer.valueOf(2))\r\n\r\nyou will get `true`.\r\n\r\nWith the `Integer firstInt = new Integer(2)` you create a new local variable that is `!=` to another local variable created with `Integer secondInt = new Integer(2)`. Same goes for `String` type.\r\n\r\nThe reason behind this is that `==` checks equality of the variables. Variables could be different (`==` results in `false`) even though they point to two objects that are &quot;the same&quot;. The same in this context means `obj1.equals(obj2)` returns `true`.\r\n\r\nIf you want object representation of primitve types and also StringS to be stored in **PermGen** then do not use `new` keyword, i.e. `Integer firstInt = 2;`, `String firstString= &quot;whatevs&quot;;` beacause the keyword `new` creates an object on the **heap**.","title":"Do we have pools for all primitive types in PermGen area of Heap?","body":"<p>If you try </p>\n\n<pre><code>if (Integer.valueOf(2) ==Integer.valueOf(2))\n</code></pre>\n\n<p>you will get <code>true</code>.</p>\n\n<p>With the <code>Integer firstInt = new Integer(2)</code> you create a new local variable that is <code>!=</code> to another local variable created with <code>Integer secondInt = new Integer(2)</code>. Same goes for <code>String</code> type.</p>\n\n<p>The reason behind this is that <code>==</code> checks equality of the variables. Variables could be different (<code>==</code> results in <code>false</code>) even though they point to two objects that are \"the same\". The same in this context means <code>obj1.equals(obj2)</code> returns <code>true</code>.</p>\n\n<p>If you want object representation of primitve types and also StringS to be stored in <strong>PermGen</strong> then do not use <code>new</code> keyword, i.e. <code>Integer firstInt = 2;</code>, <code>String firstString= \"whatevs\";</code> beacause the keyword <code>new</code> creates an object on the <strong>heap</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490003540,"creation_date":1490003540,"answer_id":42900398,"question_id":16737078,"body_markdown":"Sometimes, to answer advanced questions it is enough to look through source code. For instance, here is the code of `Integer#valueOf(int i)` method:\r\n\r\n    public static Integer valueOf(int i) {\r\n        if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\r\n            return IntegerCache.cache[i + (-IntegerCache.low)];\r\n        return new Integer(i);\r\n    }\r\n\r\nValues `IntegerCache#low` and `IntegerCache#high` could be changed via vm options:\r\n\r\n&gt;The size of the cache may be controlled by the `-XX:AutoBoxCacheMax=&lt;size&gt;` option.","title":"Do we have pools for all primitive types in PermGen area of Heap?","body":"<p>Sometimes, to answer advanced questions it is enough to look through source code. For instance, here is the code of <code>Integer#valueOf(int i)</code> method:</p>\n\n<pre><code>public static Integer valueOf(int i) {\n    if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\n        return IntegerCache.cache[i + (-IntegerCache.low)];\n    return new Integer(i);\n}\n</code></pre>\n\n<p>Values <code>IntegerCache#low</code> and <code>IntegerCache#high</code> could be changed via vm options:</p>\n\n<blockquote>\n  <p>The size of the cache may be controlled by the <code>-XX:AutoBoxCacheMax=&lt;size&gt;</code> option.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11053980,"reputation":200,"user_id":8117352,"display_name":"Bawender Yandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593877703,"creation_date":1593877703,"answer_id":62731184,"question_id":16737078,"body_markdown":"I believe this is a very valid question that needs to be answered. For any future readers, the way the == operation works for Object types and primitive types are different.\r\n\r\nPrimitive types(int, char, double, long....) are evaluated by their values. \r\nWhereas Primitive Wrappers (Integer, Double, String ....) are actually objects and not just values. \r\n\r\nSo when we use Integer class as \r\n\r\n&gt; Integer number = new Integer(10) \r\n\r\nA new Object is created in the memory which is not the case for primitive data types.\r\n\r\nThe == evaluation checks the memory, as well as the value for the Object types and for primitive types, checks the value only.\r\n\r\n  ","title":"Do we have pools for all primitive types in PermGen area of Heap?","body":"<p>I believe this is a very valid question that needs to be answered. For any future readers, the way the == operation works for Object types and primitive types are different.</p>\n<p>Primitive types(int, char, double, long....) are evaluated by their values.\nWhereas Primitive Wrappers (Integer, Double, String ....) are actually objects and not just values.</p>\n<p>So when we use Integer class as</p>\n<blockquote>\n<p>Integer number = new Integer(10)</p>\n</blockquote>\n<p>A new Object is created in the memory which is not the case for primitive data types.</p>\n<p>The == evaluation checks the memory, as well as the value for the Object types and for primitive types, checks the value only.</p>\n"}],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2094,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":16737263,"answer_count":5,"score":4,"last_activity_date":1639153138,"creation_date":1369404928,"question_id":16737078,"body_markdown":"I know the concept of String pool in PermGen area of heap. So when we do something like\r\n\r\n    String firstString = &quot;Stack&quot;;\r\n    String secondString = &quot;Stack&quot;;\r\n\r\nboth references `firstString` and `secondString` point to the same object in the pool. But I tried the same for a variable of type **int**.\r\n\r\n        int firstInt = 5;\r\n        int secondInt = 5;\r\n        \r\n        if(firstInt == secondInt) {\r\n        \tSystem.out.println(&quot;Both point to same allocated memory&quot;);\r\n        } else {\r\n        \tSystem.out.println(&quot;Both point to different allocated memory&quot;);\r\n        }\r\nand the result is `Both point to same object` and when i tried \r\n    \r\n    Integer firstInteger = new Integer(2);\r\n    Integer secondInteger = new Integer(2);\r\n        \r\n        if(firstInteger == secondInteger) {\r\n        \tSystem.out.println(&quot;Both point to same object&quot;);\r\n        } else {\r\n        \tSystem.out.println(&quot;Both point to different object&quot;);\r\n        }\r\noutput is `Both point to different object`\r\n\r\nI tried the same for **char** and the result is similar. So my question do we have pools for all primitive types like `int`, `char`? And when we actually create objects with same content using `new ()` as in the second case mentioned above is the object cloned and stored in same pool area or is it outside the pool?","title":"Do we have pools for all primitive types in PermGen area of Heap?","body":"<p>I know the concept of String pool in PermGen area of heap. So when we do something like</p>\n\n<pre><code>String firstString = \"Stack\";\nString secondString = \"Stack\";\n</code></pre>\n\n<p>both references <code>firstString</code> and <code>secondString</code> point to the same object in the pool. But I tried the same for a variable of type <strong>int</strong>.</p>\n\n<pre><code>    int firstInt = 5;\n    int secondInt = 5;\n\n    if(firstInt == secondInt) {\n        System.out.println(\"Both point to same allocated memory\");\n    } else {\n        System.out.println(\"Both point to different allocated memory\");\n    }\n</code></pre>\n\n<p>and the result is <code>Both point to same object</code> and when i tried </p>\n\n<pre><code>Integer firstInteger = new Integer(2);\nInteger secondInteger = new Integer(2);\n\n    if(firstInteger == secondInteger) {\n        System.out.println(\"Both point to same object\");\n    } else {\n        System.out.println(\"Both point to different object\");\n    }\n</code></pre>\n\n<p>output is <code>Both point to different object</code></p>\n\n<p>I tried the same for <strong>char</strong> and the result is similar. So my question do we have pools for all primitive types like <code>int</code>, <code>char</code>? And when we actually create objects with same content using <code>new ()</code> as in the second case mentioned above is the object cloned and stored in same pool area or is it outside the pool?</p>\n"},{"tags":["java","heap-memory","classloader","permgen"],"answers":[{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1423034897,"creation_date":1423034897,"answer_id":28315786,"question_id":28315603,"body_markdown":"Classloader is not an exception from the rules, so:\r\n\r\n* `ClassLoader` instance is created on heap,\r\n* `ClassLoader` class is like any other class it is created on permgen (till Java 7)","title":"In which memory is saving Java ClassLoader instance","body":"<p>Classloader is not an exception from the rules, so:</p>\n\n<ul>\n<li><code>ClassLoader</code> instance is created on heap,</li>\n<li><code>ClassLoader</code> class is like any other class it is created on permgen (till Java 7)</li>\n</ul>\n"}],"owner":{"account_id":3864836,"reputation":87,"user_id":3201604,"accept_rate":100,"display_name":"Lyudvig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28315786,"answer_count":1,"score":2,"last_activity_date":1639153129,"creation_date":1423034273,"question_id":28315603,"body_markdown":"I want to know where the ClassLoader instance is saving, in which memory. Is it  saving in heap or in permgen? And if I have a custom ClassLoader( for example JasperReports loads his own ClassLoader which calls JRClassLoader ), instance of it is also saving in heap memory or in permgen?","title":"In which memory is saving Java ClassLoader instance","body":"<p>I want to know where the ClassLoader instance is saving, in which memory. Is it  saving in heap or in permgen? And if I have a custom ClassLoader( for example JasperReports loads his own ClassLoader which calls JRClassLoader ), instance of it is also saving in heap memory or in permgen?</p>\n"},{"tags":["java","string","object","heap-memory"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1317722617,"post_id":7646155,"comment_id":9287874,"body_markdown":"possible duplicate of [How many String objects will be created](http://stackoverflow.com/questions/7370593/how-many-string-objects-will-be-created)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7370593/how-many-string-objects-will-be-created\">How many String objects will be created</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1317722694,"post_id":7646155,"comment_id":9287893,"body_markdown":"The linked question even contains the exact same example.","body":"The linked question even contains the exact same example."},{"owner":{"account_id":940484,"reputation":22724,"user_id":968632,"accept_rate":100,"display_name":"Guillaume"},"score":0,"creation_date":1317723771,"post_id":7646155,"comment_id":9288155,"body_markdown":"True, it&#39;s an exact duplicate","body":"True, it&#39;s an exact duplicate"}],"answers":[{"tags":[],"owner":{"account_id":940484,"reputation":22724,"user_id":968632,"accept_rate":100,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317722673,"creation_date":1317722673,"answer_id":7646221,"question_id":7646155,"body_markdown":"I&#39;d say 3: the ones at lines 12, 13 and 15.\r\n\r\nThe reason why the line 14 (substring) doesn&#39;t create a new object is because of the internal way String works. Due to necessary optimization of substring (everything, including compiler, rely on substring), the String class has two pointers to the start and end of the string. Doing a substring only moves this pointers, and does not &quot;copy&quot; the object into a new one.\r\n\r\n","title":"String objects and the heap","body":"<p>I'd say 3: the ones at lines 12, 13 and 15.</p>\n\n<p>The reason why the line 14 (substring) doesn't create a new object is because of the internal way String works. Due to necessary optimization of substring (everything, including compiler, rely on substring), the String class has two pointers to the start and end of the string. Doing a substring only moves this pointers, and does not \"copy\" the object into a new one.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1339760236,"creation_date":1317723010,"answer_id":7646285,"question_id":7646155,"body_markdown":"Let&#39;s go through it line by line.\r\n\r\n**Line 11**\r\n\r\nAn easy start, no strings created here.\r\n\r\n**Line 12**\r\n\r\nWe&#39;re assigning the String `&quot;Fred&quot;` to `s`.  Although it looks like a String is created here, this string will live in the constant pool.  The [JVMS][1] section [2.17.6 Creation of New Class Instances][2] guarantees that the objects for string literals will *at latest* be created when the surrounding class is loaded, which by definition is *before the method is invoked*.  So no new string objects are created on this line.\r\n\r\n**Line 13**\r\n\r\nThe literal string `&quot;47&quot;` is referenced, which again will have been created statically (as above).  However there&#39;s also the invocation of the `+` operator, which *will* create a new String in order to hold the result of the concatenation.  So that&#39;s the first string created.\r\n\r\n**Line 14**\r\n\r\nThe `substring` method does indeed create a new String.  It shares the underlying character array with its parent - and so takes up hardly any extra memory - but since Strings are immutable, each different string representation requires a different `String` object.  (This is probably a gotcha - my first instinctive response was &quot;ah, string created by substring are special&quot; but of course it still has to create a new object).\r\n\r\n**Line 15**\r\n\r\nAs above - the uppercase representation is different, so a new String must be created to hold the result.\r\n\r\n**Line 16**\r\n\r\n`Strings` override the `toString()` method to simply `return this` - hence no additional String is created.\r\n\r\n**The scores on the doors**\r\n\r\nBy my count that&#39;s three String objects created during this method (with two of those objects sharing the same underlying character array, and with two pre-existing objects referenced for the string literals).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/VMSpecTOC.doc.html\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/Concepts.doc.html#19124","title":"String objects and the heap","body":"<p>Let's go through it line by line.</p>\n\n<p><strong>Line 11</strong></p>\n\n<p>An easy start, no strings created here.</p>\n\n<p><strong>Line 12</strong></p>\n\n<p>We're assigning the String <code>\"Fred\"</code> to <code>s</code>.  Although it looks like a String is created here, this string will live in the constant pool.  The <a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/VMSpecTOC.doc.html\" rel=\"nofollow\">JVMS</a> section <a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/Concepts.doc.html#19124\" rel=\"nofollow\">2.17.6 Creation of New Class Instances</a> guarantees that the objects for string literals will <em>at latest</em> be created when the surrounding class is loaded, which by definition is <em>before the method is invoked</em>.  So no new string objects are created on this line.</p>\n\n<p><strong>Line 13</strong></p>\n\n<p>The literal string <code>\"47\"</code> is referenced, which again will have been created statically (as above).  However there's also the invocation of the <code>+</code> operator, which <em>will</em> create a new String in order to hold the result of the concatenation.  So that's the first string created.</p>\n\n<p><strong>Line 14</strong></p>\n\n<p>The <code>substring</code> method does indeed create a new String.  It shares the underlying character array with its parent - and so takes up hardly any extra memory - but since Strings are immutable, each different string representation requires a different <code>String</code> object.  (This is probably a gotcha - my first instinctive response was \"ah, string created by substring are special\" but of course it still has to create a new object).</p>\n\n<p><strong>Line 15</strong></p>\n\n<p>As above - the uppercase representation is different, so a new String must be created to hold the result.</p>\n\n<p><strong>Line 16</strong></p>\n\n<p><code>Strings</code> override the <code>toString()</code> method to simply <code>return this</code> - hence no additional String is created.</p>\n\n<p><strong>The scores on the doors</strong></p>\n\n<p>By my count that's three String objects created during this method (with two of those objects sharing the same underlying character array, and with two pre-existing objects referenced for the string literals).</p>\n"},{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317723544,"creation_date":1317723544,"answer_id":7646378,"question_id":7646155,"body_markdown":"Actually, it would be possible to make the whole method into a single constant. It&#39;s possible, but the compiler isn&#39;t allowed to do so. Hence, there are 3 Strings created using 2 from the constant pool.\r\n\r\n - Fred47\r\n - ed4 (note: using same backing char[] as Fred47 though)\r\n - ED4\r\n\r\n2 and 3 are pretty easy as the compiler isn&#39;t allowed to optimize away this method invocations but the String is changed. Sting.toString() only returns `this`, so no new String either. But let&#39;s have a look on line 13 using disassembled byte code (`javap -c` is your friend here):\r\n\r\n    public java.lang.String makinStrings();\r\n\t  Code:\r\n\t   0:\tldc\t#16; //String Fred\r\n\t   2:\tastore_1\r\n\t   3:\tnew\t#18; //class java/lang/StringBuilder\r\n\t   6:\tdup\r\n\t   7:\taload_1\r\n\t   8:\tinvokestatic\t#20; //Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;\r\n\t   11:\tinvokespecial\t#26; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;)V\r\n\t   14:\tldc\t#29; //String 47\r\n\t   16:\tinvokevirtual\t#31; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n\t   19:\tinvokevirtual\t#35; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n           // SNIP\r\n\t}\r\n\r\nAs you see, &quot;Fred&quot; and &quot;47&quot; are loaded from the constant pool (`ldc`) to populate a StringBuilder that will finally become a String (StringBuilder.toString()).\r\n\r\nSo that makes 2 constant Strings plus 3 newly created Strings per method invocation.","title":"String objects and the heap","body":"<p>Actually, it would be possible to make the whole method into a single constant. It's possible, but the compiler isn't allowed to do so. Hence, there are 3 Strings created using 2 from the constant pool.</p>\n\n<ul>\n<li>Fred47</li>\n<li>ed4 (note: using same backing char[] as Fred47 though)</li>\n<li>ED4</li>\n</ul>\n\n<p>2 and 3 are pretty easy as the compiler isn't allowed to optimize away this method invocations but the String is changed. Sting.toString() only returns <code>this</code>, so no new String either. But let's have a look on line 13 using disassembled byte code (<code>javap -c</code> is your friend here):</p>\n\n<pre><code>public java.lang.String makinStrings();\n  Code:\n   0:   ldc #16; //String Fred\n   2:   astore_1\n   3:   new #18; //class java/lang/StringBuilder\n   6:   dup\n   7:   aload_1\n   8:   invokestatic    #20; //Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;\n   11:  invokespecial   #26; //Method java/lang/StringBuilder.\"&lt;init&gt;\":(Ljava/lang/String;)V\n   14:  ldc #29; //String 47\n   16:  invokevirtual   #31; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   19:  invokevirtual   #35; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n       // SNIP\n}\n</code></pre>\n\n<p>As you see, \"Fred\" and \"47\" are loaded from the constant pool (<code>ldc</code>) to populate a StringBuilder that will finally become a String (StringBuilder.toString()).</p>\n\n<p>So that makes 2 constant Strings plus 3 newly created Strings per method invocation.</p>\n"},{"tags":[],"owner":{"account_id":453049,"reputation":304,"user_id":849833,"accept_rate":7,"display_name":"varsha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317724355,"creation_date":1317724355,"answer_id":7646540,"question_id":7646155,"body_markdown":"it will create the 5 objects of string\r\n\r\nstring is immutable class so for every new string it will create an object.\r\n\r\nexample\r\n\r\n 11. public String makinStrings() {\r\n12.    String s = &quot;Fred&quot;;  (this line create 1--- Fred string)\r\n13.    s = s + &quot;47&quot;;  (this line create 2- 47 string + 3- Fred47)\r\n14.    s = s.substring(2, 5); (this line create 4-ed4)\r\n15.    s = s.toUpperCase();(this line create 5-ED4)\r\n16.    return s.toString();\r\n\r\nSo according to me it will create 5 object","title":"String objects and the heap","body":"<p>it will create the 5 objects of string</p>\n\n<p>string is immutable class so for every new string it will create an object.</p>\n\n<p>example</p>\n\n<ol>\n<li>public String makinStrings() {\n<ol>\n<li>String s = \"Fred\";  (this line create 1--- Fred string)</li>\n<li>s = s + \"47\";  (this line create 2- 47 string + 3- Fred47)</li>\n<li>s = s.substring(2, 5); (this line create 4-ed4)</li>\n<li>s = s.toUpperCase();(this line create 5-ED4)</li>\n<li>return s.toString();</li>\n</ol></li>\n</ol>\n\n<p>So according to me it will create 5 object</p>\n"}],"owner":{"account_id":952277,"reputation":79,"user_id":978172,"display_name":"fluffy88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":7646285,"answer_count":4,"score":0,"last_activity_date":1639153105,"creation_date":1317722366,"question_id":7646155,"body_markdown":"I am studying for the SCJP exam and I have a sample set of questions that I am working through. \r\n\r\nOne questions answer I am unsure about and was hoping someone here might be able to help me put this question to bed.\r\n\r\nHere is the question,\r\n\r\nGiven:\r\n\r\n    11. public String makinStrings() {\r\n    12.    String s = &quot;Fred&quot;;\r\n    13.    s = s + &quot;47&quot;;\r\n    14.    s = s.substring(2, 5);\r\n    15.    s = s.toUpperCase();\r\n    16.    return s.toString();\r\n    17. }\r\n\r\nHow many String **objects** will be created when this method is invoked?\r\n\r\n    A. 1\r\n    B. 2\r\n    C. 3\r\n    D. 4\r\n    E. 5\r\n    F. 6\r\n\r\nThank you in advance for any help offered.\r\nI greatly appriciate it.\r\n\r\n","title":"String objects and the heap","body":"<p>I am studying for the SCJP exam and I have a sample set of questions that I am working through. </p>\n\n<p>One questions answer I am unsure about and was hoping someone here might be able to help me put this question to bed.</p>\n\n<p>Here is the question,</p>\n\n<p>Given:</p>\n\n<pre><code>11. public String makinStrings() {\n12.    String s = \"Fred\";\n13.    s = s + \"47\";\n14.    s = s.substring(2, 5);\n15.    s = s.toUpperCase();\n16.    return s.toString();\n17. }\n</code></pre>\n\n<p>How many String <strong>objects</strong> will be created when this method is invoked?</p>\n\n<pre><code>A. 1\nB. 2\nC. 3\nD. 4\nE. 5\nF. 6\n</code></pre>\n\n<p>Thank you in advance for any help offered.\nI greatly appriciate it.</p>\n"},{"tags":["java","string","heap-memory","permgen"],"comments":[{"owner":{"account_id":1123978,"reputation":8706,"user_id":1111674,"accept_rate":60,"display_name":"Adam Dyga"},"score":1,"creation_date":1349881469,"post_id":12822413,"comment_id":17344425,"body_markdown":"@Eun but in this case it only applies to array-object (String[]). The strings are in permgen space (in Java 6).","body":"@Eun but in this case it only applies to array-object (String[]). The strings are in permgen space (in Java 6)."},{"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"score":0,"creation_date":1349884362,"post_id":12822413,"comment_id":17346048,"body_markdown":"Heap contains an array. Strings are contained elsewhere.","body":"Heap contains an array. Strings are contained elsewhere."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1361810458,"creation_date":1349881216,"answer_id":12822447,"question_id":12822413,"body_markdown":"All objects, except string literals, are created on the heap.  From Java 7, string literals are created on the heap as well.\r\n\r\nIn theory, escape analysis can prevent `new` object from being created on the heap and perhaps using the stack instead.  This rarely happens in practice AFAIK.\r\n\r\n---\r\n\r\nIn answer to EJP question, I haven&#39;t fund a non trivial example but\r\n\r\nFrom http://www.oracle.com/technetwork/server-storage/ts-7392-159315.pdf page 22\r\n\r\n\r\n    New Technology: Escape Analysis\r\n    Definition: An object escapes the thread that allocated it if\r\n    some other thread can ever see it\r\n    If an object doesn&#39;t escape, we can abuse it\r\n    • Object explosion: allocate object&#39;s fields in different places\r\n    • Scalar replacement: store scalar fields in registers\r\n    • Thread stack allocation: store fields in stack frame\r\n    • Eliminate synchronization\r\n    • Eliminate initial object zero&#39;ing\r\n    • Eliminate GC read / write barriers\r\n    Enabled with -XX:+DoEscapeAnalysis in JDKTM version 6\r\n\r\nIn theory this feature has been there for some time, but it didn&#39;t work particularly often (even find a contrived example was hard)  In Java 7, finding contrived examples is easier. ;)\r\n\r\n\r\n\r\n    public class UsesWrappersMain {\r\n        public static void main(String... args) {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                long used = used(), count = 0;\r\n                for (int i = 0; i &lt; 2000; i++) {\r\n                    count += printSum();\r\n                }\r\n                // add an object to show it is working\r\n                byte[] b = new byte[16];\r\n                long used2 = used();\r\n                System.out.printf(&quot;Memory used for %,d iterations was %,d bytes%n&quot;, count, used2 - used);\r\n            }\r\n        }\r\n    \r\n        private static int printSum() {\r\n            int count = 0;\r\n            for (float i = 0; i &lt; 10000; i++) {\r\n                // definitively not autoboxed.\r\n                Float j = new Float(i);\r\n                count++;\r\n            }\r\n            return count;\r\n        }\r\n    \r\n        private static long used() {\r\n            return Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\r\n        }\r\n    }\r\n\r\nprints when run with -XX:-UseTLAB\r\n\r\n    Memory used for 20,000,000 iterations was 480,888 bytes\r\n    Memory used for 20,000,000 iterations was 32 bytes\r\n    Memory used for 20,000,000 iterations was 32 bytes\r\n    Memory used for 20,000,000 iterations was 32 bytes\r\n    Memory used for 20,000,000 iterations was 32 bytes\r\n    Memory used for 20,000,000 iterations was 32 bytes\r\n    Memory used for 20,000,000 iterations was 32 bytes\r\n    Memory used for 20,000,000 iterations was 0 bytes\r\n    Memory used for 20,000,000 iterations was 0 bytes\r\n    Memory used for 20,000,000 iterations was 0 bytes\r\n\r\nif you add `-XX:-DoEscapeAnalysis` which is not the default\r\n\r\n\r\n    Memory used for 20,000,000 iterations was 320,000,928 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,144 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n    Memory used for 20,000,000 iterations was 320,000,032 bytes\r\n\r\n\r\n","title":"Java - inline initialized string array memory allocation on heap?","body":"<p>All objects, except string literals, are created on the heap.  From Java 7, string literals are created on the heap as well.</p>\n\n<p>In theory, escape analysis can prevent <code>new</code> object from being created on the heap and perhaps using the stack instead.  This rarely happens in practice AFAIK.</p>\n\n<hr>\n\n<p>In answer to EJP question, I haven't fund a non trivial example but</p>\n\n<p>From <a href=\"http://www.oracle.com/technetwork/server-storage/ts-7392-159315.pdf\" rel=\"nofollow\">http://www.oracle.com/technetwork/server-storage/ts-7392-159315.pdf</a> page 22</p>\n\n<pre><code>New Technology: Escape Analysis\nDefinition: An object escapes the thread that allocated it if\nsome other thread can ever see it\nIf an object doesn't escape, we can abuse it\n• Object explosion: allocate object's fields in different places\n• Scalar replacement: store scalar fields in registers\n• Thread stack allocation: store fields in stack frame\n• Eliminate synchronization\n• Eliminate initial object zero'ing\n• Eliminate GC read / write barriers\nEnabled with -XX:+DoEscapeAnalysis in JDKTM version 6\n</code></pre>\n\n<p>In theory this feature has been there for some time, but it didn't work particularly often (even find a contrived example was hard)  In Java 7, finding contrived examples is easier. ;)</p>\n\n<pre><code>public class UsesWrappersMain {\n    public static void main(String... args) {\n        for (int j = 0; j &lt; 10; j++) {\n            long used = used(), count = 0;\n            for (int i = 0; i &lt; 2000; i++) {\n                count += printSum();\n            }\n            // add an object to show it is working\n            byte[] b = new byte[16];\n            long used2 = used();\n            System.out.printf(\"Memory used for %,d iterations was %,d bytes%n\", count, used2 - used);\n        }\n    }\n\n    private static int printSum() {\n        int count = 0;\n        for (float i = 0; i &lt; 10000; i++) {\n            // definitively not autoboxed.\n            Float j = new Float(i);\n            count++;\n        }\n        return count;\n    }\n\n    private static long used() {\n        return Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\n    }\n}\n</code></pre>\n\n<p>prints when run with -XX:-UseTLAB</p>\n\n<pre><code>Memory used for 20,000,000 iterations was 480,888 bytes\nMemory used for 20,000,000 iterations was 32 bytes\nMemory used for 20,000,000 iterations was 32 bytes\nMemory used for 20,000,000 iterations was 32 bytes\nMemory used for 20,000,000 iterations was 32 bytes\nMemory used for 20,000,000 iterations was 32 bytes\nMemory used for 20,000,000 iterations was 32 bytes\nMemory used for 20,000,000 iterations was 0 bytes\nMemory used for 20,000,000 iterations was 0 bytes\nMemory used for 20,000,000 iterations was 0 bytes\n</code></pre>\n\n<p>if you add <code>-XX:-DoEscapeAnalysis</code> which is not the default</p>\n\n<pre><code>Memory used for 20,000,000 iterations was 320,000,928 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\nMemory used for 20,000,000 iterations was 320,000,144 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\nMemory used for 20,000,000 iterations was 320,000,032 bytes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349882483,"creation_date":1349882483,"answer_id":12822872,"question_id":12822413,"body_markdown":"What happens when you execute this is that you will get:\r\n\r\n* Two string literals in permgen\r\n* Two String objects in the heap\r\n* One String-array object in the heap\r\n\r\nEven though the actual literal strings are kept in the String pool in permgen, String-*objects* are still stored in the heap. ","title":"Java - inline initialized string array memory allocation on heap?","body":"<p>What happens when you execute this is that you will get:</p>\n\n<ul>\n<li>Two string literals in permgen</li>\n<li>Two String objects in the heap</li>\n<li>One String-array object in the heap</li>\n</ul>\n\n<p>Even though the actual literal strings are kept in the String pool in permgen, String-<em>objects</em> are still stored in the heap. </p>\n"}],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2895,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12822447,"answer_count":2,"score":2,"last_activity_date":1639153091,"creation_date":1349881131,"question_id":12822413,"body_markdown":"`String[] stringArray = new String[] { &quot;abc&quot;, &quot;xyz&quot; };`\r\n\r\nExecuting this line there are two String literals created &quot;abc&quot; and &quot;xyz&quot; in PERMGEN space. Since the initialization has a new operator I am not sure if there&#39;s any memory allocated on HEAP. \r\n\r\nThanks guys.","title":"Java - inline initialized string array memory allocation on heap?","body":"<p><code>String[] stringArray = new String[] { \"abc\", \"xyz\" };</code></p>\n\n<p>Executing this line there are two String literals created \"abc\" and \"xyz\" in PERMGEN space. Since the initialization has a new operator I am not sure if there's any memory allocated on HEAP. </p>\n\n<p>Thanks guys.</p>\n"},{"tags":["java","string","sockets","heap-memory","inputstream"],"comments":[{"owner":{"account_id":16776,"reputation":9147,"user_id":36896,"accept_rate":80,"display_name":"Nicolas Repiquet"},"score":1,"creation_date":1357805585,"post_id":14253315,"comment_id":19780038,"body_markdown":"You&#39;re &quot;getting a memory heap&quot; ? What does it means ?","body":"You&#39;re &quot;getting a memory heap&quot; ? What does it means ?"},{"owner":{"account_id":2162386,"reputation":35622,"user_id":1916258,"accept_rate":100,"display_name":"asgoth"},"score":0,"creation_date":1357806175,"post_id":14253315,"comment_id":19780263,"body_markdown":"I don&#39;t see any problems in your screenshot, unless you are executing getClientMessage too much by accident.","body":"I don&#39;t see any problems in your screenshot, unless you are executing getClientMessage too much by accident."},{"owner":{"display_name":"user547654"},"score":0,"creation_date":1357806331,"post_id":14253315,"comment_id":19780328,"body_markdown":"I am executing getClientMessage every one second","body":"I am executing getClientMessage every one second"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1357806659,"post_id":14253315,"comment_id":19780429,"body_markdown":"Well, Dear, we don&#39;t know how those methods are interleaved which each other, so it could be more deep problem.","body":"Well, Dear, we don&#39;t know how those methods are interleaved which each other, so it could be more deep problem."},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1357807012,"post_id":14253315,"comment_id":19780553,"body_markdown":"This is so interesting: you read some value from `tempSocket` and write it back to `tempSocket`. Some kind of `echo` service, yes?","body":"This is so interesting: you read some value from <code>tempSocket</code> and write it back to <code>tempSocket</code>. Some kind of <code>echo</code> service, yes?"},{"owner":{"display_name":"user547654"},"score":0,"creation_date":1357807361,"post_id":14253315,"comment_id":19780700,"body_markdown":"These are two different classes, but I named them the same. Server sends a command, client sends a message.\nBut i am trying to do this, without the char array.","body":"These are two different classes, but I named them the same. Server sends a command, client sends a message. But i am trying to do this, without the char array."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567078215,"creation_date":1357806068,"answer_id":14253479,"question_id":14253315,"body_markdown":"I would suggest you [`commons-io`][1]  library for doing such things in a more convenient and simple way.\r\nJust use:\r\n\r\n`return IOUtils.toString(tempSocket.getInputStream());`\r\n\r\nBut this is only a code-style notice. We don&#39;t understand what do you mean by the term *getting a memory heap*. In any case, if you have insufficient memory troubles, you have to increase the memory for you Java application: [Memory Management in the Java\r\nHotSpot™ Virtual Machine][2]:\r\n\r\n&gt; **Java heap space** This indicates that an object could not be allocated\r\n&gt; in the heap. The issue may be just a configuration problem. You could\r\n&gt; get this error, for example, if the maximum heap size specified by the\r\n&gt; –Xmx command line option (or selected by default) is insufficient for\r\n&gt; the application. It could also be an indication that objects that are\r\n&gt; no longer needed cannot be garbage collected because the application\r\n&gt; is unintentionally holding references to them. The HAT tool (see\r\n&gt; Section 7) can be used to view all reachable objects and understand\r\n&gt; which references are keeping each one alive. One other potential\r\n&gt; source of this error could be the excessive use of finalizers by the\r\n&gt; application such that the thread to invoke the finalizers cannot keep\r\n&gt; up with the rate of addition of finalizers to the queue. The jconsole\r\n&gt; management tool can be used to monitor the number of objects that are\r\n&gt; pending finalization.\r\n\r\n\r\n  [1]: http://commons.apache.org/io/\r\n  [2]: http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf","title":"Converting InputStreamReader into String","body":"<p>I would suggest you <a href=\"http://commons.apache.org/io/\" rel=\"nofollow noreferrer\"><code>commons-io</code></a>  library for doing such things in a more convenient and simple way.\nJust use:</p>\n\n<p><code>return IOUtils.toString(tempSocket.getInputStream());</code></p>\n\n<p>But this is only a code-style notice. We don't understand what do you mean by the term <em>getting a memory heap</em>. In any case, if you have insufficient memory troubles, you have to increase the memory for you Java application: <a href=\"http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf\" rel=\"nofollow noreferrer\">Memory Management in the Java\nHotSpot™ Virtual Machine</a>:</p>\n\n<blockquote>\n  <p><strong>Java heap space</strong> This indicates that an object could not be allocated\n  in the heap. The issue may be just a configuration problem. You could\n  get this error, for example, if the maximum heap size specified by the\n  –Xmx command line option (or selected by default) is insufficient for\n  the application. It could also be an indication that objects that are\n  no longer needed cannot be garbage collected because the application\n  is unintentionally holding references to them. The HAT tool (see\n  Section 7) can be used to view all reachable objects and understand\n  which references are keeping each one alive. One other potential\n  source of this error could be the excessive use of finalizers by the\n  application such that the thread to invoke the finalizers cannot keep\n  up with the rate of addition of finalizers to the queue. The jconsole\n  management tool can be used to monitor the number of objects that are\n  pending finalization.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1357807047,"creation_date":1357806269,"answer_id":14253523,"question_id":14253315,"body_markdown":"You can use IOUtils, but it is easy to write if you can&#39;t use that library.\r\n\r\n    public String getClientMessage() throws IOException {\r\n        Reader r = new InputStreamReader(tempSocket.getInputStream());\r\n        char[] buffer = new char[4096];\r\n        StringBuilder sb = new StringBuilder();\r\n        for(int len; (len = r.read(buffer)) &gt; 0;)\r\n             sb.append(buffer, 0, len);\r\n        return sb.toString();\r\n    }\r\n\r\nI suspect the problem is you have no way of know from the way you send messages when a message stops. This means you must read until you close the connection which you are not doing. If you don&#39;t want to wait until you close you need to add some way of knowing when a message is finished e.g. a newline. \r\n\r\n    // create this once per socket.\r\n    final PrintWriter out = new PrintWriter(\r\n          new OutputStreamWriter(tempSocket.getOutputStream(), &quot;UTF-8&quot;), true);\r\n\r\n    public void sendServerMessage(String action) {\r\n        // assuming there is no newlines in the message\r\n        printWriter.println(action);  // auto flushed.\r\n    }\r\n\r\n    // create this once per socket\r\n    BufferedReader in = new BufferedReader(\r\n        new InputStreamReader(tempSocket.getInputStream(), &quot;UTF-8&quot;));     \r\n\r\n    public String getClientMessage() throws IOException {\r\n         // read until the end of a line, which is the end of a message.\r\n          return in.readLine();\r\n    }\r\n","title":"Converting InputStreamReader into String","body":"<p>You can use IOUtils, but it is easy to write if you can't use that library.</p>\n\n<pre><code>public String getClientMessage() throws IOException {\n    Reader r = new InputStreamReader(tempSocket.getInputStream());\n    char[] buffer = new char[4096];\n    StringBuilder sb = new StringBuilder();\n    for(int len; (len = r.read(buffer)) &gt; 0;)\n         sb.append(buffer, 0, len);\n    return sb.toString();\n}\n</code></pre>\n\n<p>I suspect the problem is you have no way of know from the way you send messages when a message stops. This means you must read until you close the connection which you are not doing. If you don't want to wait until you close you need to add some way of knowing when a message is finished e.g. a newline. </p>\n\n<pre><code>// create this once per socket.\nfinal PrintWriter out = new PrintWriter(\n      new OutputStreamWriter(tempSocket.getOutputStream(), \"UTF-8\"), true);\n\npublic void sendServerMessage(String action) {\n    // assuming there is no newlines in the message\n    printWriter.println(action);  // auto flushed.\n}\n\n// create this once per socket\nBufferedReader in = new BufferedReader(\n    new InputStreamReader(tempSocket.getInputStream(), \"UTF-8\"));     \n\npublic String getClientMessage() throws IOException {\n     // read until the end of a line, which is the end of a message.\n      return in.readLine();\n}\n</code></pre>\n"}],"owner":{"display_name":"user547654"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14253523,"answer_count":2,"score":0,"last_activity_date":1639153077,"creation_date":1357805362,"question_id":14253315,"body_markdown":"Is there a better way to read Strings from an InputStreamReader.\r\nIn the Profiler im am getting a memory heap there.\r\n\r\n    public String getClientMessage() throws IOException {\r\n\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(tempSocket.getInputStream()));\t\t\r\n\t\tchar[] buffer = new char[200];\r\n\t\treturn new String(buffer, 0, bufferedReader.read(buffer));\r\n\t}\r\n\r\nThanks in advance.\r\n\r\nEDIT:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bFoXU.png\r\n\r\nEDIT:\r\nMessages are sent with this:\r\n\r\n    public void sendServerMessage(String action) throws IOException{\r\n\t\tPrintWriter printWriter = new PrintWriter(new OutputStreamWriter(tempSocket.getOutputStream()));\r\n\t\tprintWriter.print(action);\r\n\t\tprintWriter.flush();\r\n\t}","title":"Converting InputStreamReader into String","body":"<p>Is there a better way to read Strings from an InputStreamReader.\nIn the Profiler im am getting a memory heap there.</p>\n\n<pre><code>public String getClientMessage() throws IOException {\n    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(tempSocket.getInputStream()));     \n    char[] buffer = new char[200];\n    return new String(buffer, 0, bufferedReader.read(buffer));\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT:\n<img src=\"https://i.stack.imgur.com/bFoXU.png\" alt=\"enter image description here\"></p>\n\n<p>EDIT:\nMessages are sent with this:</p>\n\n<pre><code>public void sendServerMessage(String action) throws IOException{\n    PrintWriter printWriter = new PrintWriter(new OutputStreamWriter(tempSocket.getOutputStream()));\n    printWriter.print(action);\n    printWriter.flush();\n}\n</code></pre>\n"},{"tags":["java","concatenation","heap-memory","string-concatenation","string-pool"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1424898566,"creation_date":1424898566,"answer_id":28729636,"question_id":28729561,"body_markdown":"At runtime, that piece of code will translate into a single `String` object. The compiler will take care of concatenation at compile time and add a single value in the constants pool.","title":"How many Strings are created in memory?","body":"<p>At runtime, that piece of code will translate into a single <code>String</code> object. The compiler will take care of concatenation at compile time and add a single value in the constants pool.</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424898664,"creation_date":1424898664,"answer_id":28729669,"question_id":28729561,"body_markdown":"What you have here is a _constant expression_, as defined by the [JLS, Section 15.28][1].\n\n&gt; A constant expression is an expression denoting a value of primitive type or a String that does not complete abruptly and is composed using only the following:\n&gt;\n&gt; - Literals of primitive type and literals of type String (&#167;3.10.1, &#167;3.10.2, &#167;3.10.3, &#167;3.10.4, &#167;3.10.5)\n&gt;\n&gt; -  Casts to primitive types and casts to type String (&#167;15.16)\n&gt;\n&gt; - The unary operators +, -, ~, and ! (but not ++ or --) (&#167;15.15.3, &#167;15.15.4, &#167;15.15.5, &#167;15.15.6)\n&gt;\n&gt; - The multiplicative operators *, /, and % (&#167;15.17)\n&gt;\n&gt; - The additive operators + and - (&#167;15.18)\n\n(other possibilities)\n\n\nThe compiler determines that the expression `&quot;Tom&quot; + &quot;Brady&quot; + &quot;Goat&quot;` is a constant expression, so it will evaluate the expression itself to `&quot;TomBradyGoat&quot;`.\n\nThe JVM will have only one string in the string pool, `&quot;TomBradyGoat&quot;`.\n\n[1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28","title":"How many Strings are created in memory?","body":"<p>What you have here is a <em>constant expression</em>, as defined by the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">JLS, Section 15.28</a>.</p>\n<blockquote>\n<p>A constant expression is an expression denoting a value of primitive type or a String that does not complete abruptly and is composed using only the following:</p>\n<ul>\n<li><p>Literals of primitive type and literals of type String (§3.10.1, §3.10.2, §3.10.3, §3.10.4, §3.10.5)</p>\n</li>\n<li><p>Casts to primitive types and casts to type String (§15.16)</p>\n</li>\n<li><p>The unary operators +, -, ~, and ! (but not ++ or --) (§15.15.3, §15.15.4, §15.15.5, §15.15.6)</p>\n</li>\n<li><p>The multiplicative operators *, /, and % (§15.17)</p>\n</li>\n<li><p>The additive operators + and - (§15.18)</p>\n</li>\n</ul>\n</blockquote>\n<p>(other possibilities)</p>\n<p>The compiler determines that the expression <code>&quot;Tom&quot; + &quot;Brady&quot; + &quot;Goat&quot;</code> is a constant expression, so it will evaluate the expression itself to <code>&quot;TomBradyGoat&quot;</code>.</p>\n<p>The JVM will have only one string in the string pool, <code>&quot;TomBradyGoat&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":5785597,"reputation":9456,"user_id":4564945,"display_name":"Necreaux"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1424898827,"creation_date":1424898827,"answer_id":28729724,"question_id":28729561,"body_markdown":"As other people have mentioned, the compiler is good enough to optimize that very simple example, but if you have more complicated functionality (which is probably what you care about), it might not. For example:\r\n\r\n    String a = &quot;Tom&quot;;\r\n    String b = &quot;Brady&quot;;\r\n    String c = a;\r\n    c += b;\r\n\r\nThis would result in 3 strings being created.","title":"How many Strings are created in memory?","body":"<p>As other people have mentioned, the compiler is good enough to optimize that very simple example, but if you have more complicated functionality (which is probably what you care about), it might not. For example:</p>\n\n<pre><code>String a = \"Tom\";\nString b = \"Brady\";\nString c = a;\nc += b;\n</code></pre>\n\n<p>This would result in 3 strings being created.</p>\n"},{"tags":[],"owner":{"account_id":225235,"reputation":6429,"user_id":485608,"accept_rate":50,"display_name":"M. Abbas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424900071,"creation_date":1424900071,"answer_id":28730061,"question_id":28729561,"body_markdown":"The other answers explain well why only 1 String is added to the String pool. But if you want to check and make some tests by yourself you can take a look on the bytecode to see the number of String created and added to the string pool. Ex:\r\n\r\nEx1:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    String hi = &quot;Tom&quot; + &quot;Brady&quot; + &quot;Goat&quot;;\r\n\t}\r\n\r\nByteCode:\r\n\r\n      // access flags 0x9\r\n      public static main(String[]) : void\r\n       L0\r\n        LINENUMBER 6 L0\r\n        LDC &quot;TomBradyGoat&quot;\r\n        ASTORE 1\r\n       L1\r\n        LINENUMBER 7 L1\r\n        RETURN\r\n       L2\r\n        LOCALVARIABLE args String[] L0 L2 0\r\n        LOCALVARIABLE hi String L1 L2 1\r\n        MAXSTACK = 1\r\n        MAXLOCALS = 2\r\n\r\nAs you can see only 1 String is created\r\n\r\nEx2:\r\n\r\n    public static void main(String[] args) {\r\n    \t    String str1 = &quot;Tom&quot;;\r\n    \t    String str2 = &quot;Brady&quot;;\r\n    \t    String str3 = &quot;Goat&quot;;\r\n    \t    String str = str1 + str2 + str3;\r\n    }\r\n\r\nBytecode:\r\n\r\n      // access flags 0x9\r\n      public static main(String[]) : void\r\n       L0\r\n        LINENUMBER 6 L0\r\n        LDC &quot;Tom&quot;\r\n        ASTORE 1\r\n       L1\r\n        LINENUMBER 7 L1\r\n        LDC &quot;Brady&quot;\r\n        ASTORE 2\r\n       L2\r\n        LINENUMBER 8 L2\r\n        LDC &quot;Goat&quot;\r\n        ASTORE 3\r\n       L3\r\n        LINENUMBER 9 L3\r\n        NEW StringBuilder\r\n        DUP\r\n        ALOAD 1: str1\r\n        INVOKESTATIC String.valueOf (Object) : String\r\n        INVOKESPECIAL StringBuilder.&lt;init&gt; (String) : void\r\n        ALOAD 2: str2\r\n        INVOKEVIRTUAL StringBuilder.append (String) : StringBuilder\r\n        ALOAD 3: str3\r\n        INVOKEVIRTUAL StringBuilder.append (String) : StringBuilder\r\n        INVOKEVIRTUAL StringBuilder.toString () : String\r\n        ASTORE 4\r\n       L4\r\n        LINENUMBER 10 L4\r\n        RETURN\r\n       L5\r\n        LOCALVARIABLE args String[] L0 L5 0\r\n        LOCALVARIABLE str1 String L1 L5 1\r\n        LOCALVARIABLE str2 String L2 L5 2\r\n        LOCALVARIABLE str3 String L3 L5 3\r\n        LOCALVARIABLE str String L4 L5 4\r\n        MAXSTACK = 3\r\n        MAXLOCALS = 5\r\n\r\nAs you can see 4 Strings are created","title":"How many Strings are created in memory?","body":"<p>The other answers explain well why only 1 String is added to the String pool. But if you want to check and make some tests by yourself you can take a look on the bytecode to see the number of String created and added to the string pool. Ex:</p>\n\n<p>Ex1:</p>\n\n<pre><code>public static void main(String[] args) {\n    String hi = \"Tom\" + \"Brady\" + \"Goat\";\n}\n</code></pre>\n\n<p>ByteCode:</p>\n\n<pre><code>  // access flags 0x9\n  public static main(String[]) : void\n   L0\n    LINENUMBER 6 L0\n    LDC \"TomBradyGoat\"\n    ASTORE 1\n   L1\n    LINENUMBER 7 L1\n    RETURN\n   L2\n    LOCALVARIABLE args String[] L0 L2 0\n    LOCALVARIABLE hi String L1 L2 1\n    MAXSTACK = 1\n    MAXLOCALS = 2\n</code></pre>\n\n<p>As you can see only 1 String is created</p>\n\n<p>Ex2:</p>\n\n<pre><code>public static void main(String[] args) {\n        String str1 = \"Tom\";\n        String str2 = \"Brady\";\n        String str3 = \"Goat\";\n        String str = str1 + str2 + str3;\n}\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>  // access flags 0x9\n  public static main(String[]) : void\n   L0\n    LINENUMBER 6 L0\n    LDC \"Tom\"\n    ASTORE 1\n   L1\n    LINENUMBER 7 L1\n    LDC \"Brady\"\n    ASTORE 2\n   L2\n    LINENUMBER 8 L2\n    LDC \"Goat\"\n    ASTORE 3\n   L3\n    LINENUMBER 9 L3\n    NEW StringBuilder\n    DUP\n    ALOAD 1: str1\n    INVOKESTATIC String.valueOf (Object) : String\n    INVOKESPECIAL StringBuilder.&lt;init&gt; (String) : void\n    ALOAD 2: str2\n    INVOKEVIRTUAL StringBuilder.append (String) : StringBuilder\n    ALOAD 3: str3\n    INVOKEVIRTUAL StringBuilder.append (String) : StringBuilder\n    INVOKEVIRTUAL StringBuilder.toString () : String\n    ASTORE 4\n   L4\n    LINENUMBER 10 L4\n    RETURN\n   L5\n    LOCALVARIABLE args String[] L0 L5 0\n    LOCALVARIABLE str1 String L1 L5 1\n    LOCALVARIABLE str2 String L2 L5 2\n    LOCALVARIABLE str3 String L3 L5 3\n    LOCALVARIABLE str String L4 L5 4\n    MAXSTACK = 3\n    MAXLOCALS = 5\n</code></pre>\n\n<p>As you can see 4 Strings are created</p>\n"}],"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":28729636,"answer_count":4,"score":4,"last_activity_date":1639153039,"creation_date":1424898348,"question_id":28729561,"body_markdown":"Say I have this `String` expression \r\n    \r\n    String hi = &quot;Tom&quot; + &quot;Brady&quot; + &quot;Goat&quot;\r\n\r\nI know that the String pool &quot;allows a runtime to save memory by preserving immutable strings in a pool&quot; [String Pool][1]\r\n\r\nHow many strings will be created in the string pool?\r\n\r\nMy initial guess was 5 - `&quot;Tom&quot;`, `&quot;Brady&quot;`, `&quot;Goat&quot;`, `&quot;TomBrady&quot;`,`&quot;TomBradyGoat&quot;`, because of the order of operations of `String` concatenation (left to right?) or is it only the final result, &quot;TomBradyGoat&quot;, that is stored in the String pool?\r\n\r\n  [1]: https://stackoverflow.com/questions/2486191/java-string-pool","title":"How many Strings are created in memory?","body":"<p>Say I have this <code>String</code> expression </p>\n\n<pre><code>String hi = \"Tom\" + \"Brady\" + \"Goat\"\n</code></pre>\n\n<p>I know that the String pool \"allows a runtime to save memory by preserving immutable strings in a pool\" <a href=\"https://stackoverflow.com/questions/2486191/java-string-pool\">String Pool</a></p>\n\n<p>How many strings will be created in the string pool?</p>\n\n<p>My initial guess was 5 - <code>\"Tom\"</code>, <code>\"Brady\"</code>, <code>\"Goat\"</code>, <code>\"TomBrady\"</code>,<code>\"TomBradyGoat\"</code>, because of the order of operations of <code>String</code> concatenation (left to right?) or is it only the final result, \"TomBradyGoat\", that is stored in the String pool?</p>\n"},{"tags":["java","heap-memory","string-pool"],"comments":[{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":1,"creation_date":1436420028,"post_id":31308895,"comment_id":50606491,"body_markdown":"String literals are like `str = &quot;hello&quot;;` they are taken from String pool... But newly created means like `str = new String()`... So it will be a different object...","body":"String literals are like <code>str = &quot;hello&quot;;</code> they are taken from String pool... But newly created means like <code>str = new String()</code>... So it will be a different object..."},{"owner":{"account_id":5703071,"reputation":1949,"user_id":4507489,"accept_rate":21,"display_name":"Frosted Cupcake"},"score":0,"creation_date":1436420100,"post_id":31308895,"comment_id":50606516,"body_markdown":"@Codebender-But why they differ?","body":"@Codebender-But why they differ?"},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1436423617,"post_id":31308895,"comment_id":50608088,"body_markdown":"Because they are not [internalized](http://stackoverflow.com/questions/10578984/what-is-string-interning).","body":"Because they are not <a href=\"http://stackoverflow.com/questions/10578984/what-is-string-interning\">internalized</a>."},{"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"score":0,"creation_date":1620116404,"post_id":31308895,"comment_id":119098745,"body_markdown":"For str2, add final keyword and initialized within declaration , then it will print `true` for the second print statement.\n\nA constant variable - is a final variable of primitive type or type String that is initialized with a constant expression.\nConstant Expression - https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28","body":"For str2, add final keyword and initialized within declaration , then it will print <code>true</code> for the second print statement.  A constant variable - is a final variable of primitive type or type String that is initialized with a constant expression. Constant Expression - <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15&zwnj;&#8203;.28</a>"}],"answers":[{"tags":[],"owner":{"account_id":4339560,"reputation":1742,"user_id":3543182,"accept_rate":25,"display_name":"M. Shaw"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1436419982,"creation_date":1436419982,"answer_id":31308932,"question_id":31308895,"body_markdown":"You should use `equals` when comparing `Objects` and not the `==` operator.","title":"Difference between concatenation at run time and compile time in java","body":"<p>You should use <code>equals</code> when comparing <code>Objects</code> and not the <code>==</code> operator.</p>\n"},{"tags":[],"owner":{"account_id":417955,"reputation":18564,"user_id":794242,"accept_rate":80,"display_name":"Wand Maker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436420322,"creation_date":1436420322,"answer_id":31309003,"question_id":31308895,"body_markdown":"Strings are immutable in Java.  So, when you concatenate two strings, a third one is created at runtime to represent the concatenated value. So using == returns false as both arguments are pointing to different instances of String object.\r\n\r\nFor compile time scenario, due to compiler optimization, the concatenated string is already created, and at runtime, boht arguments of == are being represented by same instances. Hence, == returns true as both arguments point to same instance (reference). ","title":"Difference between concatenation at run time and compile time in java","body":"<p>Strings are immutable in Java.  So, when you concatenate two strings, a third one is created at runtime to represent the concatenated value. So using == returns false as both arguments are pointing to different instances of String object.</p>\n\n<p>For compile time scenario, due to compiler optimization, the concatenated string is already created, and at runtime, boht arguments of == are being represented by same instances. Hence, == returns true as both arguments point to same instance (reference). </p>\n"},{"tags":[],"owner":{"account_id":4026308,"reputation":1426,"user_id":3314423,"display_name":"xp500"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436421629,"creation_date":1436421629,"answer_id":31309303,"question_id":31308895,"body_markdown":"The compiler can&#39;t know what `str2` contains because it would have to execute the code to know the contents of `str2` when you are concatenating it with &quot;Hello &quot; (it could make some optimizations and inline it, since it doesn&#39;t change, but it doesn&#39;t do it). \r\n\r\nImagine a more complex scenario where `str2` is something that a user typed in. Even if the user had typed &quot;World&quot; there was no way the compiler could&#39;ve known that.\r\n\r\nTherefore, it can&#39;t perform the comparison `str3 == &quot;Hello World&quot;` using the same  `&quot;Hello World&quot;` from the constant pool that&#39;s assigned to `str3` and used in the first comparison.\r\n\r\nSo the compiler will generate the concatenation by using `StringBuilder` and will end up creating another `String` with value `Hello World`, so the identity comparison will fail because one object is the one from the constant pool and the other one is the one that was just created.","title":"Difference between concatenation at run time and compile time in java","body":"<p>The compiler can't know what <code>str2</code> contains because it would have to execute the code to know the contents of <code>str2</code> when you are concatenating it with \"Hello \" (it could make some optimizations and inline it, since it doesn't change, but it doesn't do it). </p>\n\n<p>Imagine a more complex scenario where <code>str2</code> is something that a user typed in. Even if the user had typed \"World\" there was no way the compiler could've known that.</p>\n\n<p>Therefore, it can't perform the comparison <code>str3 == \"Hello World\"</code> using the same  <code>\"Hello World\"</code> from the constant pool that's assigned to <code>str3</code> and used in the first comparison.</p>\n\n<p>So the compiler will generate the concatenation by using <code>StringBuilder</code> and will end up creating another <code>String</code> with value <code>Hello World</code>, so the identity comparison will fail because one object is the one from the constant pool and the other one is the one that was just created.</p>\n"},{"tags":[],"owner":{"account_id":14311054,"reputation":1,"user_id":10337338,"display_name":"anshul rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561726377,"creation_date":1561726377,"answer_id":56807327,"question_id":31308895,"body_markdown":"The compiler recognizes that constants won&#39;t change and if you are using the + operator, will concatenate them in the compiled code.\r\nThat&#39;s why in first case it will run the execution as `str3==(&quot;HelloWorld&quot;)` since &quot;Helloworld&quot; literal is already present in the string pool they both will point at the same location in the String pool it will print true .\r\n\r\nIn case of `str3==(&quot;Hello&quot;+str2)`,the compiler won&#39;t check that str2 has `World` in it, it will consider it as a variable that can have any value so at run time they will create a new string variable which point to different `HelloWorld` than the `str3` in the string pool, so it will print false.\r\n\r\n \r\n\r\n","title":"Difference between concatenation at run time and compile time in java","body":"<p>The compiler recognizes that constants won't change and if you are using the + operator, will concatenate them in the compiled code.\nThat's why in first case it will run the execution as <code>str3==(\"HelloWorld\")</code> since \"Helloworld\" literal is already present in the string pool they both will point at the same location in the String pool it will print true .</p>\n\n<p>In case of <code>str3==(\"Hello\"+str2)</code>,the compiler won't check that str2 has <code>World</code> in it, it will consider it as a variable that can have any value so at run time they will create a new string variable which point to different <code>HelloWorld</code> than the <code>str3</code> in the string pool, so it will print false.</p>\n"}],"owner":{"account_id":5703071,"reputation":1949,"user_id":4507489,"accept_rate":21,"display_name":"Frosted Cupcake"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1097,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1639153002,"creation_date":1436419874,"question_id":31308895,"body_markdown":"    public class First\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString str1=&quot;Hello &quot;,str2=&quot;World&quot;,str3=&quot;Hello World&quot;;\r\n    \t\tSystem.out.println(str3==(&quot;Hello &quot;+&quot;World&quot;)); //Prints true\r\n    \t\tSystem.out.println(str3==(&quot;Hello &quot;+str2));  //Prints false\r\n    \t}\r\n    }\r\n\r\nThe reason of the above is given in JLS-\r\n\r\n&gt; • Strings computed by constant expressions (&#167;15.28) are computed at\r\n&gt; compile time and then treated as if they were literals.\r\n&gt; \r\n&gt; • Strings computed by concatenation at run time are newly created and\r\n&gt; therefore distinct.\r\n\r\nWhat I wanted to ask is-\r\nWhy the strings which are computed at run time differ from those which are computed at compile time?\r\nIs it because of the memory allocation,one is allocated memory in heap and one in String pool or there is some other reason?Please clarify.\r\n","title":"Difference between concatenation at run time and compile time in java","body":"<pre><code>public class First\n{\n    public static void main(String[] args)\n    {\n        String str1=\"Hello \",str2=\"World\",str3=\"Hello World\";\n        System.out.println(str3==(\"Hello \"+\"World\")); //Prints true\n        System.out.println(str3==(\"Hello \"+str2));  //Prints false\n    }\n}\n</code></pre>\n\n<p>The reason of the above is given in JLS-</p>\n\n<blockquote>\n  <p>• Strings computed by constant expressions (§15.28) are computed at\n  compile time and then treated as if they were literals.</p>\n  \n  <p>• Strings computed by concatenation at run time are newly created and\n  therefore distinct.</p>\n</blockquote>\n\n<p>What I wanted to ask is-\nWhy the strings which are computed at run time differ from those which are computed at compile time?\nIs it because of the memory allocation,one is allocated memory in heap and one in String pool or there is some other reason?Please clarify.</p>\n"},{"tags":["java","oop","heap-memory","immutability","string-pool"],"comments":[{"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"score":7,"creation_date":1442232260,"post_id":32564322,"comment_id":52983644,"body_markdown":"Key to your question is - `s` is not an object. It&#39;s a reference to an object. You did changed the reference, but you didn&#39;t changed any objects here.","body":"Key to your question is - <code>s</code> is not an object. It&#39;s a reference to an object. You did changed the reference, but you didn&#39;t changed any objects here."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":2,"creation_date":1442232431,"post_id":32564322,"comment_id":52983727,"body_markdown":"Also note that, *String* objects are immutable. Hence you can&#39;t update value of a String Object (directly. Reflection can be used to break immutability). In your particular case, String &#39;value1&#39; which is on heap will be eligible for GC as soon as `s` is *re-assigned*.  The String literal &quot;Value1&quot; will be eligible for GC when the class loader which loaded the class in which this literal is defined gets GCed.","body":"Also note that, <i>String</i> objects are immutable. Hence you can&#39;t update value of a String Object (directly. Reflection can be used to break immutability). In your particular case, String &#39;value1&#39; which is on heap will be eligible for GC as soon as <code>s</code> is <i>re-assigned</i>.  The String literal &quot;Value1&quot; will be eligible for GC when the class loader which loaded the class in which this literal is defined gets GCed."},{"owner":{"account_id":347319,"reputation":1384,"user_id":681350,"display_name":"Jitesh"},"score":0,"creation_date":1442232512,"post_id":32564322,"comment_id":52983782,"body_markdown":"@DmitryZaitsev But according to the reference from which I read if it is initialized with new key word it will create a object in heap space. So there is a space occupied by the object. So what would be happened to that space when assigned a literal(which is not in heap space).","body":"@DmitryZaitsev But according to the reference from which I read if it is initialized with new key word it will create a object in heap space. So there is a space occupied by the object. So what would be happened to that space when assigned a literal(which is not in heap space)."},{"owner":{"account_id":347319,"reputation":1384,"user_id":681350,"display_name":"Jitesh"},"score":0,"creation_date":1442232647,"post_id":32564322,"comment_id":52983857,"body_markdown":"@TheLostMind the statement (s=&quot;value2&quot;;) is valid(no compile or runtime error), it is allowing to update the value of s. So what will happened to the object space?","body":"@TheLostMind the statement (s=&quot;value2&quot;;) is valid(no compile or runtime error), it is allowing to update the value of s. So what will happened to the object space?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1442232661,"post_id":32564322,"comment_id":52983865,"body_markdown":"After change `s = &quot;value2&quot;;` object created via `new String(&quot;Value1&quot;);` will be eligible to garbage collection.","body":"After change <code>s = &quot;value2&quot;;</code> object created via <code>new String(&quot;Value1&quot;);</code> will be eligible to garbage collection."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1442232770,"post_id":32564322,"comment_id":52983934,"body_markdown":"I am referring to the one stored in `s` (the one explicitly created via `new` operator).","body":"I am referring to the one stored in <code>s</code> (the one explicitly created via <code>new</code> operator)."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1442232783,"post_id":32564322,"comment_id":52983944,"body_markdown":"@Jitesh - You are changing what the reference points to, not the value. :)","body":"@Jitesh - You are changing what the reference points to, not the value. :)"},{"owner":{"account_id":2455235,"reputation":314,"user_id":2140613,"display_name":"tarikfasun"},"score":1,"creation_date":1442234275,"post_id":32564322,"comment_id":52984901,"body_markdown":"http://examples.javacodegeeks.com/core-java/lang/string/java-string-pool-example/       you can look this link","body":"<a href=\"http://examples.javacodegeeks.com/core-java/lang/string/java-string-pool-example/\" rel=\"nofollow noreferrer\">examples.javacodegeeks.com/core-java/lang/string/&hellip;</a>       you can look this link"}],"answers":[{"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1442234755,"creation_date":1442232694,"answer_id":32564478,"question_id":32564322,"body_markdown":"# Modifying `String`s\n\nThe **value is not updated** when running\n\n    s = &quot;value2&quot;;\n\nIn Java, except for the *primitive types*, all other variables are *references* to objects. This means that only `s` is pointing to a new value.\n\n**Immutability** guarantees that the state of an object **cannot change after construction**. In other words, there are no means to modify the content of any `String` object in Java. If you for instance state `s = s+&quot;a&quot;;` you have creates a *new* string, that somehow stores the new text.\n\n# Garbage collection\n\n[This answer](https://stackoverflow.com/a/18407081/67579) already provides an in-depth answer. Below a short summary if you don&#39;t want to read the full answer, but it omits some details.\n\nBy default `new String(...)` objects are not interned and thus the normal rules of garbage collection apply. These are just ordinary objects.\n\nThe constant strings in your code, which are interned are typically never removed as it is likely that eventually you will refer back to these.\n\nThere is however a side-note in the answer that sometimes classes are dynamically (un)loaded, in which case the literals can be removed from the pool.\n\n---\n\nTo answer your additional questions:\n\n &gt; *Will it immediately free the space from the heap after assigning the literal?*\n\n**No**, that would not be really efficient: the garbage collector needs to make an analysis about which objects to remove. It is possible that you shared the references to your old string with other objects, so it is not guaranteed that you can recycle the object. Furthermore there is not much wrong with storing data no longer useful, as long as you don&#39;t need to ask additional memory to the operating system (compare it with you computer, as long as you can store all your data on your hard disk drive, you don&#39;t really have to worry about useless files, from the moment you would have to buy an additional drive, you will probably try to remove some files first). The analysis requires some computational effort. In general a garbage collector only runs when it (nearly) runs out of memory. So you shouldn&#39;t worry much about memory.\n\n  &gt; *Can anyone explain what what value goes where from the first statement to the second and what will happened to the memory area (heap and String Pool).*\n\nYour first string:\n\n    String s = new String(&quot;Value1&quot;);\n\nis a reference to the heap. If you call the command, it will allocate space on the heap for the string.\n\nNow if you call:\n\n    s = &quot;value2&quot;;\n\n`&quot;value2&quot;` is an element of the *String Pool*, it will remain there until your program ends.\n\nSince you don&#39;t have a reference to your old string (`value1`), anymore. That object is a candidate for collection. If the garbage collector *later* walks by, it will remove the object from the heap and mark the space as free.","title":"Java String Immutability storage when String object is changed","body":"<h1>Modifying <code>String</code>s</h1>\n<p>The <strong>value is not updated</strong> when running</p>\n<pre><code>s = &quot;value2&quot;;\n</code></pre>\n<p>In Java, except for the <em>primitive types</em>, all other variables are <em>references</em> to objects. This means that only <code>s</code> is pointing to a new value.</p>\n<p><strong>Immutability</strong> guarantees that the state of an object <strong>cannot change after construction</strong>. In other words, there are no means to modify the content of any <code>String</code> object in Java. If you for instance state <code>s = s+&quot;a&quot;;</code> you have creates a <em>new</em> string, that somehow stores the new text.</p>\n<h1>Garbage collection</h1>\n<p><a href=\"https://stackoverflow.com/a/18407081/67579\">This answer</a> already provides an in-depth answer. Below a short summary if you don't want to read the full answer, but it omits some details.</p>\n<p>By default <code>new String(...)</code> objects are not interned and thus the normal rules of garbage collection apply. These are just ordinary objects.</p>\n<p>The constant strings in your code, which are interned are typically never removed as it is likely that eventually you will refer back to these.</p>\n<p>There is however a side-note in the answer that sometimes classes are dynamically (un)loaded, in which case the literals can be removed from the pool.</p>\n<hr />\n<p>To answer your additional questions:</p>\n<blockquote>\n<p><em>Will it immediately free the space from the heap after assigning the literal?</em></p>\n</blockquote>\n<p><strong>No</strong>, that would not be really efficient: the garbage collector needs to make an analysis about which objects to remove. It is possible that you shared the references to your old string with other objects, so it is not guaranteed that you can recycle the object. Furthermore there is not much wrong with storing data no longer useful, as long as you don't need to ask additional memory to the operating system (compare it with you computer, as long as you can store all your data on your hard disk drive, you don't really have to worry about useless files, from the moment you would have to buy an additional drive, you will probably try to remove some files first). The analysis requires some computational effort. In general a garbage collector only runs when it (nearly) runs out of memory. So you shouldn't worry much about memory.</p>\n<blockquote>\n<p><em>Can anyone explain what what value goes where from the first statement to the second and what will happened to the memory area (heap and String Pool).</em></p>\n</blockquote>\n<p>Your first string:</p>\n<pre><code>String s = new String(&quot;Value1&quot;);\n</code></pre>\n<p>is a reference to the heap. If you call the command, it will allocate space on the heap for the string.</p>\n<p>Now if you call:</p>\n<pre><code>s = &quot;value2&quot;;\n</code></pre>\n<p><code>&quot;value2&quot;</code> is an element of the <em>String Pool</em>, it will remain there until your program ends.</p>\n<p>Since you don't have a reference to your old string (<code>value1</code>), anymore. That object is a candidate for collection. If the garbage collector <em>later</em> walks by, it will remove the object from the heap and mark the space as free.</p>\n"},{"tags":[],"owner":{"account_id":4898237,"reputation":348,"user_id":3947106,"display_name":"Anil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442233966,"creation_date":1442233966,"answer_id":32564922,"question_id":32564322,"body_markdown":"&gt;If you need to change a string, you can always create a new one that contains\r\nthe modifications.\r\n\r\n - Java defines a peer class of String, called StringBuffer, which allows strings to be altered.\r\n ","title":"Java String Immutability storage when String object is changed","body":"<blockquote>\n  <p>If you need to change a string, you can always create a new one that contains\n  the modifications.</p>\n</blockquote>\n\n<ul>\n<li>Java defines a peer class of String, called StringBuffer, which allows strings to be altered.</li>\n</ul>\n"}],"owner":{"account_id":347319,"reputation":1384,"user_id":681350,"display_name":"Jitesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1134,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":32564478,"answer_count":2,"score":9,"last_activity_date":1639152984,"creation_date":1442232163,"question_id":32564322,"body_markdown":"I understood that if a String is initialized with a literal then it is allotted a space in String Pool and if initialized with the new Keyword it create a String&#39;s object. But I am confused with a case which is written below.\r\n\r\nMy question is what if a String is created with the new keyword and then it value is updated with a literal?\r\n\r\nE.g.\r\n\r\n \r\n\r\n    String s = new String(&quot;Value1&quot;);  -- Creates a new object in heap space\r\n\r\nthen what if write the next statement as below.\r\n\r\n    s = &quot;value2&quot;;\r\n\r\nSo my question is,\r\n\r\n1 Will it create a String literal in a String Pool  or it will update the value of that object?\r\n\r\n2 If it creates a new literal in String Pool what will be happened to the currently existed object? Will it be destroyed or it will be there until the garbage collector is called. \r\n\r\n**This is a small string if the string is say of the thousands of characters then I am just worried about the space it uses. So my key question is for the space.** \r\n\r\n**Will it immediately free the space from the heap after assigning the literal?**\r\n\r\n**Can anyone explain what what value goes where from the first statement to the second and what will happened to the memory area (heap and String Pool).**","title":"Java String Immutability storage when String object is changed","body":"<p>I understood that if a String is initialized with a literal then it is allotted a space in String Pool and if initialized with the new Keyword it create a String's object. But I am confused with a case which is written below.</p>\n\n<p>My question is what if a String is created with the new keyword and then it value is updated with a literal?</p>\n\n<p>E.g.</p>\n\n<pre><code>String s = new String(\"Value1\");  -- Creates a new object in heap space\n</code></pre>\n\n<p>then what if write the next statement as below.</p>\n\n<pre><code>s = \"value2\";\n</code></pre>\n\n<p>So my question is,</p>\n\n<p>1 Will it create a String literal in a String Pool  or it will update the value of that object?</p>\n\n<p>2 If it creates a new literal in String Pool what will be happened to the currently existed object? Will it be destroyed or it will be there until the garbage collector is called. </p>\n\n<p><strong>This is a small string if the string is say of the thousands of characters then I am just worried about the space it uses. So my key question is for the space.</strong> </p>\n\n<p><strong>Will it immediately free the space from the heap after assigning the literal?</strong></p>\n\n<p><strong>Can anyone explain what what value goes where from the first statement to the second and what will happened to the memory area (heap and String Pool).</strong></p>\n"},{"tags":["python","java","android","sockets","serversocket"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638423433,"post_id":70194465,"comment_id":124085428,"body_markdown":"The client should not close the socket if it wants to receive a return string. It looks as the srrver only saves the received bytes to file when the client closes the socket. You have a lot to change. Reconnecting again is not done.","body":"The client should not close the socket if it wants to receive a return string. It looks as the srrver only saves the received bytes to file when the client closes the socket. You have a lot to change. Reconnecting again is not done."},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1638753620,"post_id":70194465,"comment_id":124165081,"body_markdown":"The client is no longer closing the socket until the app is closed, I added the string being returned from the server aswell","body":"The client is no longer closing the socket until the app is closed, I added the string being returned from the server aswell"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638770070,"post_id":70194465,"comment_id":124167566,"body_markdown":"`the string is apparently sent, but is not received by the android client ` Which string?","body":"<code>the string is apparently sent, but is not received by the android client </code> Which string?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638770125,"post_id":70194465,"comment_id":124167582,"body_markdown":"Are images received correctly?","body":"Are images received correctly?"},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1638772009,"post_id":70194465,"comment_id":124167980,"body_markdown":"Yes they are, I can consecutively send them to the server and visualize them where they were saved in the server. Additionally, the logcat prints as far as D/IMAGETRACK: Wrote to the socket[1]. I just tried moving out.close() under the code that is supposed to receive the string and I got the same results","body":"Yes they are, I can consecutively send them to the server and visualize them where they were saved in the server. Additionally, the logcat prints as far as D/IMAGETRACK: Wrote to the socket[1]. I just tried moving out.close() under the code that is supposed to receive the string and I got the same results"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638775056,"post_id":70194465,"comment_id":124168672,"body_markdown":"`the string is apparently sent, but is not received by the android client` Which string?","body":"<code>the string is apparently sent, but is not received by the android client</code> Which string?"},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1638775876,"post_id":70194465,"comment_id":124168894,"body_markdown":"conn.sendall((&quot;Hello World&quot;)). Reason why I think it&#39;s being sent, it&#39;s due to the fact there isn&#39;t any apparent error being output","body":"conn.sendall((&quot;Hello World&quot;)). Reason why I think it&#39;s being sent, it&#39;s due to the fact there isn&#39;t any apparent error being output"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638777323,"post_id":70194465,"comment_id":124169281,"body_markdown":"That is a stange sentence to send. Why dont you send :&quot;We received your file. File length ws 12345 bytes.&quot;; THat server co de is very strange as just before you send that hello yoy start to listen. That makes no sense. And you do it all after `exept`. Strange. You still did not tell of files size are equal on client and server.","body":"That is a stange sentence to send. Why dont you send :&quot;We received your file. File length ws 12345 bytes.&quot;; THat server co de is very strange as just before you send that hello yoy start to listen. That makes no sense. And you do it all after <code>exept</code>. Strange. You still did not tell of files size are equal on client and server."},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1638781633,"post_id":70194465,"comment_id":124170566,"body_markdown":"The reason why i use an try and except  is if the server crashes or stops for any reason, it restarts again. Also, I moved the send data to the else block, I can see the message arriving, even though I wanted to receive the message after the image was sent. It is sending something like this: D/[MESSAGE]: { when=-21m4s137ms barrier=0 }","body":"The reason why i use an try and except  is if the server crashes or stops for any reason, it restarts again. Also, I moved the send data to the else block, I can see the message arriving, even though I wanted to receive the message after the image was sent. It is sending something like this: D/[MESSAGE]: { when=-21m4s137ms barrier=0 }"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638785718,"post_id":70194465,"comment_id":124171871,"body_markdown":"All you tell is not to the pont of sending an image and a string. You are talking about a lot ot other things whhich does not make sense. And you still did not tell if received amount of bytes for an image file is the same as file size of original.","body":"All you tell is not to the pont of sending an image and a string. You are talking about a lot ot other things whhich does not make sense. And you still did not tell if received amount of bytes for an image file is the same as file size of original."},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1638814972,"post_id":70194465,"comment_id":124182969,"body_markdown":"The Image size in android client is: 72982 before sending it to the socket. In the server after it is saved, it has 71,3 KiB.","body":"The Image size in android client is: 72982 before sending it to the socket. In the server after it is saved, it has 71,3 KiB."},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1638817057,"post_id":70194465,"comment_id":124183689,"body_markdown":"After moving the line that sends the string to the client to the else block in the python server, even though I can print a value of the message object that represents the message received. Only after I shut down the server side script, the log [MESSAGE] appears with the value in my previous comment","body":"After moving the line that sends the string to the client to the else block in the python server, even though I can print a value of the message object that represents the message received. Only after I shut down the server side script, the log [MESSAGE] appears with the value in my previous comment"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638828763,"post_id":70194465,"comment_id":124187472,"body_markdown":"`72982` and  `71,3 KiB` ?? You should give both values in bytes of course. Every byte counts.","body":"<code>72982</code> and  <code>71,3 KiB</code> ?? You should give both values in bytes of course. Every byte counts."},{"owner":{"display_name":"user11597888"},"score":0,"creation_date":1638829144,"post_id":70194465,"comment_id":124187562,"body_markdown":"72982 bytes when converted to kibibytes amounts to 71.27 kibibytes, which rounds up to 71.3 KiB in the OS, the image is being sent and received in the same size. I gave you the information as is.","body":"72982 bytes when converted to kibibytes amounts to 71.27 kibibytes, which rounds up to 71.3 KiB in the OS, the image is being sent and received in the same size. I gave you the information as is."}],"answers":[{"tags":[],"owner":{"account_id":3283991,"reputation":1432,"user_id":2763895,"accept_rate":72,"display_name":"Reza Akraminejad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639152979,"creation_date":1639152629,"answer_id":70307372,"question_id":70194465,"body_markdown":"The reason that socket is closed is simple. I have sample program like this before. You have 2 options to do it. Your architecture for sending and receiving a file is not complete and correct.\r\n\r\nOne option is that you can define a protocol of sending and receiving by your own, which is not standard. For example, you can define special characters such as `##endoffile##`, and send it after your image, then do not close the socket. Server understands that image is received and there is nothing more. Then in client side call receive method until the end of the socket, but before, you have to send data string back to confirm the image has been received, and client closes the socket when receives this string. Remember to add socket timeout wisely for the prevention of infinite socket waiting.\r\n\r\nThe second solution is that you can use standard protocols such as `HTTP` or `FTP`, but have to read standards of these protocols such as header and body values, and also send and receive files as `multipart`.","title":"Android - Client closes connection an image is sent, before receiving a string back","body":"<p>The reason that socket is closed is simple. I have sample program like this before. You have 2 options to do it. Your architecture for sending and receiving a file is not complete and correct.</p>\n<p>One option is that you can define a protocol of sending and receiving by your own, which is not standard. For example, you can define special characters such as <code>##endoffile##</code>, and send it after your image, then do not close the socket. Server understands that image is received and there is nothing more. Then in client side call receive method until the end of the socket, but before, you have to send data string back to confirm the image has been received, and client closes the socket when receives this string. Remember to add socket timeout wisely for the prevention of infinite socket waiting.</p>\n<p>The second solution is that you can use standard protocols such as <code>HTTP</code> or <code>FTP</code>, but have to read standards of these protocols such as header and body values, and also send and receive files as <code>multipart</code>.</p>\n"}],"owner":{"display_name":"user11597888"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639152979,"creation_date":1638421730,"question_id":70194465,"body_markdown":"I have an android app that opens a socket connection with the server and sends an image to a python server. The server receives that image and is supposed to send a string back to confirm the image has been received. However the socket closes down after I end the Output stream, therefore the server receives the image but the client can&#39;t receive a string from the server because the client closed the connection. \r\nTherefore, what I want to do is return a string/text confirming the image has arrived to the user client before the socket closes.\r\n\r\nThis is my Python server that receives the image as bytes decodes and saves it to a directory then sends a message back:\r\n\r\n\r\n    from socket import *\r\n    import datetime\r\n    import cv2\r\n    import PIL.Image as Image\r\n    from PIL import ImageFile, Image\r\n    import io\r\n    import base64\r\n    import numpy as np\r\n    import pickle\r\n    import uuid\r\n    \r\n    \r\n    date_string = datetime.datetime.now().strftime(&quot;%Y-%m-%d-%H:%M&quot;)\r\n    \r\n    port = 9999\r\n    s = socket(AF_INET, SOCK_STREAM)\r\n    s.bind((&#39;&#39;, port))\r\n    s.listen(1)\r\n    \r\n    while True:\r\n        conn, addr = s.accept()\r\n        img_dir = &#39;/home/Desktop/frames_saved/&#39;\r\n        img_format = &#39;.png&#39;\r\n        try:\r\n            print(&quot;Connected by the &quot;,addr)\r\n            #date_string = datetime.datetime.now().strftime(&quot;%Y-%m-%d-%H:%M&quot;)\r\n            filename = str(uuid.uuid4())\r\n            with open(img_dir+filename+img_format, &#39;wb&#39;) as file:\r\n                while True:\r\n                    data = conn.recv(1024*8)\r\n                    if data:\r\n                        print(data)\r\n                        try:\r\n                            file.write(data)\r\n                        except:\r\n                            s = socket(AF_INET, SOCK_STREAM)\r\n                            s.bind((&#39;&#39;, port))\r\n                            s.listen(1)\r\n                            conn.sendall((&quot;Hello World&quot;))\r\n                            \r\n    \r\n                        \r\n                    else:\r\n                        print(&quot;no data&quot;)\r\n        \r\n                        break\r\n        finally:\r\n            conn.close() \r\n\r\n\r\nWhat I am trying to do is receive the encoded string in my android client and print/show a toast.\r\n\r\n\r\nAndroid client code:\r\n   \r\n\r\n     public class SendImageClient extends AsyncTask&lt;byte[], Void, Void&gt; {\r\n    \r\n    \r\n            @Override\r\n            protected Void doInBackground(byte[]... voids) {\r\n                isSocketOpen = true;\r\n                try {\r\n                    Socket socket = new Socket(&quot;192.168.0.14&quot;,9999);\r\n                    OutputStream out=socket.getOutputStream();\r\n                    DataOutputStream dataOutputStream = new DataOutputStream(out);\r\n                    BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                    StringBuilder response = new StringBuilder();\r\n                    String line;\r\n    \r\n                    while (isSocketOpen){\r\n                        Log.d(&quot;IMAGETRACK&quot;, &quot;Wrote to the socket[1]&quot;);\r\n                        dataOutputStream.write(voids[0],0,voids[0].length);\r\n                        while ((line = input.readLine()) != null)\r\n                            Log.d(&quot;IMAGETRACK3&quot;, &quot;Wrote to the socket[3]&quot;);\r\n                        response.append(line);\r\n                        Message clientmessage = Message.obtain();\r\n                        clientmessage.obj = response.toString();\r\n                        Log.d(&quot;[MESSAGE]&quot;, String.valueOf(clientmessage));\r\n                        // Tries to receive a message from the server\r\n                        out.close();\r\n                        input.close();\r\n                        if(isSocketOpen == false){\r\n                            Log.d(&quot;CLOSED&quot;, &quot;CLOSED CONNECTION&quot;);\r\n                            socket.close();\r\n    \r\n                            break;\r\n                        }\r\n                    }\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n    \r\n                return null;\r\n            }\r\n        }\r\n\r\nAdditionally I noticed that doing `out.close();` will close the stream socket aswell. Here&#39;s the log after an image is sent and received by the server:\r\n\r\n    D/IMAGETRACK: Wrote to the socket[1]\r\n    D/IMAGETRACK: Wrote to the socket[1]\r\n    W/System.err: java.net.SocketException: Socket closed\r\n    W/System.err:     at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:124)\r\n            at java.net.SocketOutputStream.write(SocketOutputStream.java:161)\r\n            at java.io.DataOutputStream.write(DataOutputStream.java:107)\r\n            at MyApp.MainActivity$SendImageClient.doInBackground(MainActivity.java:2792)\r\n            at MyApp.MainActivity$SendImageClient.doInBackground(MainActivity.java:2780)\r\n            at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n    W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n            at java.lang.Thread.run(Thread.java:923)\r\n\r\n\r\n\r\nIf I try moving  `out.close();` after the while loop, the client will send an infinite amount of data to the server and when i close the server to end the infinite data being receive, instead of a 70Kb image, i will have a 10MB image or more depending on how log I received the bytes.\r\n\r\nFrom the looks of it, I think I would need to somehow stop the image being sent without closing the server to listen to the image being sent back. How can I do that without closing the socket?\r\n\r\n","title":"Android - Client closes connection an image is sent, before receiving a string back","body":"<p>I have an android app that opens a socket connection with the server and sends an image to a python server. The server receives that image and is supposed to send a string back to confirm the image has been received. However the socket closes down after I end the Output stream, therefore the server receives the image but the client can't receive a string from the server because the client closed the connection.\nTherefore, what I want to do is return a string/text confirming the image has arrived to the user client before the socket closes.</p>\n<p>This is my Python server that receives the image as bytes decodes and saves it to a directory then sends a message back:</p>\n<pre><code>from socket import *\nimport datetime\nimport cv2\nimport PIL.Image as Image\nfrom PIL import ImageFile, Image\nimport io\nimport base64\nimport numpy as np\nimport pickle\nimport uuid\n\n\ndate_string = datetime.datetime.now().strftime(&quot;%Y-%m-%d-%H:%M&quot;)\n\nport = 9999\ns = socket(AF_INET, SOCK_STREAM)\ns.bind(('', port))\ns.listen(1)\n\nwhile True:\n    conn, addr = s.accept()\n    img_dir = '/home/Desktop/frames_saved/'\n    img_format = '.png'\n    try:\n        print(&quot;Connected by the &quot;,addr)\n        #date_string = datetime.datetime.now().strftime(&quot;%Y-%m-%d-%H:%M&quot;)\n        filename = str(uuid.uuid4())\n        with open(img_dir+filename+img_format, 'wb') as file:\n            while True:\n                data = conn.recv(1024*8)\n                if data:\n                    print(data)\n                    try:\n                        file.write(data)\n                    except:\n                        s = socket(AF_INET, SOCK_STREAM)\n                        s.bind(('', port))\n                        s.listen(1)\n                        conn.sendall((&quot;Hello World&quot;))\n                        \n\n                    \n                else:\n                    print(&quot;no data&quot;)\n    \n                    break\n    finally:\n        conn.close() \n</code></pre>\n<p>What I am trying to do is receive the encoded string in my android client and print/show a toast.</p>\n<p>Android client code:</p>\n<pre><code> public class SendImageClient extends AsyncTask&lt;byte[], Void, Void&gt; {\n\n\n        @Override\n        protected Void doInBackground(byte[]... voids) {\n            isSocketOpen = true;\n            try {\n                Socket socket = new Socket(&quot;192.168.0.14&quot;,9999);\n                OutputStream out=socket.getOutputStream();\n                DataOutputStream dataOutputStream = new DataOutputStream(out);\n                BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                StringBuilder response = new StringBuilder();\n                String line;\n\n                while (isSocketOpen){\n                    Log.d(&quot;IMAGETRACK&quot;, &quot;Wrote to the socket[1]&quot;);\n                    dataOutputStream.write(voids[0],0,voids[0].length);\n                    while ((line = input.readLine()) != null)\n                        Log.d(&quot;IMAGETRACK3&quot;, &quot;Wrote to the socket[3]&quot;);\n                    response.append(line);\n                    Message clientmessage = Message.obtain();\n                    clientmessage.obj = response.toString();\n                    Log.d(&quot;[MESSAGE]&quot;, String.valueOf(clientmessage));\n                    // Tries to receive a message from the server\n                    out.close();\n                    input.close();\n                    if(isSocketOpen == false){\n                        Log.d(&quot;CLOSED&quot;, &quot;CLOSED CONNECTION&quot;);\n                        socket.close();\n\n                        break;\n                    }\n                }\n                socket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n\n            return null;\n        }\n    }\n</code></pre>\n<p>Additionally I noticed that doing <code>out.close();</code> will close the stream socket aswell. Here's the log after an image is sent and received by the server:</p>\n<pre><code>D/IMAGETRACK: Wrote to the socket[1]\nD/IMAGETRACK: Wrote to the socket[1]\nW/System.err: java.net.SocketException: Socket closed\nW/System.err:     at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:124)\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:161)\n        at java.io.DataOutputStream.write(DataOutputStream.java:107)\n        at MyApp.MainActivity$SendImageClient.doInBackground(MainActivity.java:2792)\n        at MyApp.MainActivity$SendImageClient.doInBackground(MainActivity.java:2780)\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\nW/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>If I try moving  <code>out.close();</code> after the while loop, the client will send an infinite amount of data to the server and when i close the server to end the infinite data being receive, instead of a 70Kb image, i will have a 10MB image or more depending on how log I received the bytes.</p>\n<p>From the looks of it, I think I would need to somehow stop the image being sent without closing the server to listen to the image being sent back. How can I do that without closing the socket?</p>\n"},{"tags":["java","string","heap-memory","string-pool"],"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1443697155,"post_id":32885797,"comment_id":53601508,"body_markdown":"If you want only one object: `String s = &quot;abc&quot;`","body":"If you want only one object: <code>String s = &quot;abc&quot;</code>"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1443697420,"post_id":32885797,"comment_id":53601673,"body_markdown":"The question is strange. The interned string may be created during the class loading along with tons of other objects (even if you don&#39;t execute this line you will have this `&quot;abc&quot;` interned). However if it was already interned before (for example, you have a method in another class with name `abc`), then it&#39;s not created during the loading of this class. Nevertheless upon *execution* of given line only one new object is created: new `String` instance. Also note that interned string pool is located in the heap as well these days.","body":"The question is strange. The interned string may be created during the class loading along with tons of other objects (even if you don&#39;t execute this line you will have this <code>&quot;abc&quot;</code> interned). However if it was already interned before (for example, you have a method in another class with name <code>abc</code>), then it&#39;s not created during the loading of this class. Nevertheless upon <i>execution</i> of given line only one new object is created: new <code>String</code> instance. Also note that interned string pool is located in the heap as well these days."},{"owner":{"account_id":3446480,"reputation":471,"user_id":2887196,"accept_rate":40,"display_name":"Tilakraj Jayswal"},"score":0,"creation_date":1443697943,"post_id":32885797,"comment_id":53601963,"body_markdown":"I am agree that interned string will be created in String pool while class loads or at compile time, But does that thing created either at compile time or at class loading in String pool, is called one separate object ?","body":"I am agree that interned string will be created in String pool while class loads or at compile time, But does that thing created either at compile time or at class loading in String pool, is called one separate object ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1490249081,"post_id":32885797,"comment_id":73029940,"body_markdown":"The author is incorrect. The string object for the literal isn&#39;t created &#39;on the above line&#39;. It is created during compilation and class loading. You could never execute the line and it would still be created.","body":"The author is incorrect. The string object for the literal isn&#39;t created &#39;on the above line&#39;. It is created during compilation and class loading. You could never execute the line and it would still be created."}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443697083,"creation_date":1443697083,"answer_id":32885859,"question_id":32885797,"body_markdown":"Author is correct. When ever you used String literal, that literal goes to constant pool first.\r\n\r\nHence &quot;abc&quot; created in constant pool.\r\n\r\nAnd when you use new key word a new Object called `s` created on heap.","title":"JAVA : How many Objects will be created ? why?","body":"<p>Author is correct. When ever you used String literal, that literal goes to constant pool first.</p>\n\n<p>Hence \"abc\" created in constant pool.</p>\n\n<p>And when you use new key word a new Object called <code>s</code> created on heap.</p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443697089,"creation_date":1443697089,"answer_id":32885861,"question_id":32885797,"body_markdown":"The literal `&quot;abc&quot;` is created and interned (&quot;string pool&quot;). \r\n\r\nThe `new` operator will create a new `String` that is not interned. ","title":"JAVA : How many Objects will be created ? why?","body":"<p>The literal <code>\"abc\"</code> is created and interned (\"string pool\"). </p>\n\n<p>The <code>new</code> operator will create a new <code>String</code> that is not interned. </p>\n"},{"tags":[],"owner":{"account_id":197268,"reputation":16693,"user_id":441250,"display_name":"ioseb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443697149,"creation_date":1443697149,"answer_id":32885885,"question_id":32885797,"body_markdown":"Author is correct:\r\n\r\n- one object will be created in the string pool for &quot;abc&quot; literal; and\r\n- another object will be created on the heap for new String(...)","title":"JAVA : How many Objects will be created ? why?","body":"<p>Author is correct:</p>\n\n<ul>\n<li>one object will be created in the string pool for \"abc\" literal; and</li>\n<li>another object will be created on the heap for new String(...)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":439051,"reputation":560,"user_id":827715,"accept_rate":100,"display_name":"Harish Ved"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443697222,"creation_date":1443697222,"answer_id":32885918,"question_id":32885797,"body_markdown":"Object 1 - `&quot;abc&quot;`\r\n\r\nObject 2 - `new String(&quot;abc&quot;)`","title":"JAVA : How many Objects will be created ? why?","body":"<p>Object 1 - <code>\"abc\"</code></p>\n\n<p>Object 2 - <code>new String(\"abc\")</code></p>\n"}],"owner":{"account_id":3446480,"reputation":471,"user_id":2887196,"accept_rate":40,"display_name":"Tilakraj Jayswal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1443697177,"answer_count":4,"score":1,"last_activity_date":1639152965,"creation_date":1443696926,"question_id":32885797,"body_markdown":"I was going through `SCJP` examination and found one line in one book.\r\n\r\n    String s = new String(&quot;abc&quot;);\r\n\r\nAnd it was written that, two objects will be created on above line. one on `HEAP` and one on `STRING POOL`.\r\n\r\nI am not satisfied by the declaration given there. Can someone make me understand why two objects are created ?\r\n\r\nThanks in advance.","title":"JAVA : How many Objects will be created ? why?","body":"<p>I was going through <code>SCJP</code> examination and found one line in one book.</p>\n\n<pre><code>String s = new String(\"abc\");\n</code></pre>\n\n<p>And it was written that, two objects will be created on above line. one on <code>HEAP</code> and one on <code>STRING POOL</code>.</p>\n\n<p>I am not satisfied by the declaration given there. Can someone make me understand why two objects are created ?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","string","heap-memory","implicit","explicit"],"comments":[{"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1448516021,"post_id":33931211,"comment_id":55622965,"body_markdown":"http://stackoverflow.com/questions/334518/java-strings-string-s-new-stringsilly","body":"<a href=\"http://stackoverflow.com/questions/334518/java-strings-string-s-new-stringsilly\" title=\"java strings string s new stringsilly\">stackoverflow.com/questions/334518/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1142066,"reputation":810,"user_id":1125667,"display_name":"Ambidextrous"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1448516062,"creation_date":1448516062,"answer_id":33931255,"question_id":33931211,"body_markdown":"The second case is susceptible to something called *interning* - if another string is initialized to that same value, the same object will be used for that.","title":"What is the difference between implicit and explicit String declaration in java?","body":"<p>The second case is susceptible to something called <em>interning</em> - if another string is initialized to that same value, the same object will be used for that.</p>\n"},{"tags":[],"owner":{"account_id":3137994,"reputation":894,"user_id":2654103,"display_name":"Linus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448521665,"creation_date":1448521332,"answer_id":33932400,"question_id":33931211,"body_markdown":"The *benefit* is that `new String(String s)` is a copy constructor for Strings and works as intended, providing a copy of a given String.\r\n\r\nCalling `new String(&quot;literally&quot;)` is not some special feature designed for literals. In fact, the inverse situation would be most unusual, what good would it be if `new String(String s)` did not work as intended when a literal was used?\r\n\r\nFinally, the notion that new object is completely on the heap may be misleading, you do have a new object but because String is immutable it is safely backed by the same `char[] value`, even in the Java 8 source the reference is merely passed on:\r\n\r\n    public String(String original) {\r\n        this.value = original.value;\r\n        this.hash = original.hash;\r\n    }\r\n\r\n","title":"What is the difference between implicit and explicit String declaration in java?","body":"<p>The <em>benefit</em> is that <code>new String(String s)</code> is a copy constructor for Strings and works as intended, providing a copy of a given String.</p>\n\n<p>Calling <code>new String(\"literally\")</code> is not some special feature designed for literals. In fact, the inverse situation would be most unusual, what good would it be if <code>new String(String s)</code> did not work as intended when a literal was used?</p>\n\n<p>Finally, the notion that new object is completely on the heap may be misleading, you do have a new object but because String is immutable it is safely backed by the same <code>char[] value</code>, even in the Java 8 source the reference is merely passed on:</p>\n\n<pre><code>public String(String original) {\n    this.value = original.value;\n    this.hash = original.hash;\n}\n</code></pre>\n"}],"owner":{"account_id":4867384,"reputation":1157,"user_id":4033719,"accept_rate":77,"display_name":"Z.I.J"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4732,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1448528355,"answer_count":2,"score":0,"last_activity_date":1639152952,"creation_date":1448515847,"question_id":33931211,"body_markdown":"For Example..\r\n\r\n&gt; String herName = new String(&quot;clark&quot;);\r\n&gt; \r\n&gt; and\r\n&gt; \r\n&gt; String hisName = &quot;michal&quot;;\r\n&gt; \r\n&gt; 1) The first piece of code exactly does,  it will create new string\r\n&gt; object in the heap memory with reference .\r\n&gt; \r\n&gt; \r\n&gt; 2) The second line of code ,  its an string literal which create\r\n&gt; string object in string constant pool, not in actually heap memory.\r\n\r\n \r\n**`Then what&#39;s the benefit, ?`**","title":"What is the difference between implicit and explicit String declaration in java?","body":"<p>For Example..</p>\n\n<blockquote>\n  <p>String herName = new String(\"clark\");</p>\n  \n  <p>and</p>\n  \n  <p>String hisName = \"michal\";</p>\n  \n  <p>1) The first piece of code exactly does,  it will create new string\n  object in the heap memory with reference .</p>\n  \n  <p>2) The second line of code ,  its an string literal which create\n  string object in string constant pool, not in actually heap memory.</p>\n</blockquote>\n\n<p><strong><code>Then what's the benefit, ?</code></strong></p>\n"},{"tags":["java","string","heap-memory"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1453054041,"post_id":34841676,"comment_id":57424234,"body_markdown":"See http://stackoverflow.com/questions/34509566/in-case-of-string-concatenation-in-java/34509659","body":"See <a href=\"http://stackoverflow.com/questions/34509566/in-case-of-string-concatenation-in-java/34509659\" title=\"in case of string concatenation in java\">stackoverflow.com/questions/34509566/&hellip;</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1453055602,"post_id":34841676,"comment_id":57424807,"body_markdown":"`&quot;Ri&quot; + &quot;shi&quot;` is concatenated at compilation time so it really is just `&quot;Rishi&quot;` literal, `&quot;Ri&quot;.concat(&quot;shi&quot;)` is executed at runtime (it is hard to tell why it is not optimized like `+`, maybe compiler authors believe that since you explicitly are using `concat` you want to avoid this optimization). Also `s3 + &quot;shi&quot;;` is not replaced by `&quot;Rishi&quot;` since compiler is not that advanced yet to be sure that `s3` represents only `&quot;Ri&quot;`. It would change if you declare `s3` to be `final`.","body":"<code>&quot;Ri&quot; + &quot;shi&quot;</code> is concatenated at compilation time so it really is just <code>&quot;Rishi&quot;</code> literal, <code>&quot;Ri&quot;.concat(&quot;shi&quot;)</code> is executed at runtime (it is hard to tell why it is not optimized like <code>+</code>, maybe compiler authors believe that since you explicitly are using <code>concat</code> you want to avoid this optimization). Also <code>s3 + &quot;shi&quot;;</code> is not replaced by <code>&quot;Rishi&quot;</code> since compiler is not that advanced yet to be sure that <code>s3</code> represents only <code>&quot;Ri&quot;</code>. It would change if you declare <code>s3</code> to be <code>final</code>."}],"owner":{"account_id":2757064,"reputation":55,"user_id":2374832,"display_name":"Rishi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1453055672,"answer_count":0,"score":1,"last_activity_date":1639152937,"creation_date":1453053563,"question_id":34841676,"body_markdown":"**1. --&gt;**   \r\n\r\n\tString s1 = &quot;Rishi&quot;;\r\n    \r\n    String s2 = &quot;Ri&quot; + &quot;shi&quot;;\r\n\tSystem.out.println(s1==s2);  // true\r\n\r\n\tString s3 = &quot;Ri&quot;.concat(&quot;shi&quot;);\r\n\tSystem.out.println(s1==s3);  // false\r\n\r\nWhy while using &#39;+&#39; operator its coming as true but not in case of concatenation?\r\n\r\n**2. --&gt;**   \r\n\r\n\tString s1 = &quot;Rishi&quot;;\r\n\r\n    String s2 = &quot;Ri&quot; + &quot;shi&quot;;\r\n\tSystem.out.println(s1==s2);  // true\r\n\r\n\tString s3 = &quot;Ri&quot;;\r\n\tString s4 = s3 + &quot;shi&quot;;\r\n\tSystem.out.println(s1==s4);  // false  \r\n\r\nWhy the output varies even if using the same literal value?","title":"Java string code snippets. Explanations for output please?","body":"<p><strong>1. --></strong>   </p>\n\n<pre><code>String s1 = \"Rishi\";\n\nString s2 = \"Ri\" + \"shi\";\nSystem.out.println(s1==s2);  // true\n\nString s3 = \"Ri\".concat(\"shi\");\nSystem.out.println(s1==s3);  // false\n</code></pre>\n\n<p>Why while using '+' operator its coming as true but not in case of concatenation?</p>\n\n<p><strong>2. --></strong>   </p>\n\n<pre><code>String s1 = \"Rishi\";\n\nString s2 = \"Ri\" + \"shi\";\nSystem.out.println(s1==s2);  // true\n\nString s3 = \"Ri\";\nString s4 = s3 + \"shi\";\nSystem.out.println(s1==s4);  // false  \n</code></pre>\n\n<p>Why the output varies even if using the same literal value?</p>\n"},{"tags":["java","pdf","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513879328,"creation_date":1513790580,"answer_id":47911344,"question_id":47908124,"body_markdown":"The reason why the [PDFVisibleTextStripper][1] from [this answer][2] the OP referenced does not work is that the calculation of the end of a character baseline `end` in the overwritten `processTextPosition` does not take page rotation into account. If you change that method, though, to only test the start of each character baseline and ignore the end, it works fairly good for the document at hand:\r\n\r\n    @Override\r\n    protected void processTextPosition(TextPosition text) {\r\n        Matrix textMatrix = text.getTextMatrix();\r\n        Vector start = textMatrix.transform(new Vector(0, 0));\r\n\r\n        PDGraphicsState gs = getGraphicsState();\r\n        Area area = gs.getCurrentClippingPath();\r\n        if (area == null || area.contains(start.getX(), start.getY()))\r\n            super.processTextPosition(text);\r\n    }\r\n\r\nWith this `processTextPosition` override the result of the text extraction (with `SortByPosition` set to `true`) is:\r\n\r\n    Profit &amp; Loss 12 Month Recap\r\n    Property: 8151 W. 183rd Street\r\n    Monthly recap 05/01/16 - 04/30/17  (cash basis)\r\n    MAY 16 JUN 16 JUL 16 AUG 16 SEP 16 OCT 16 NOV 16 DEC 16 JAN 17 FEB 17 MAR 17 APR 17 TOTAL\r\n    INCOME\r\n        4000 RENTAL INCOME\r\n            4001 Base Rent 343,002.59 38,045.11 38,045.11 38,045.11 66,081.36 122,153.86 66,081.36 38,045.11 0.00 76,090.22 38,598.49 66,634.74 930,823.06\r\n            4004 Prepaid Rent Inco -165,742.50 0.00 0.00 0.00 0.00 0.00 0.00 0.00 38,045.11 -38,045.11 0.00 0.00 -165,742.50\r\n            4000 Total RENTAL INC 177,260.09 38,045.11 38,045.11 38,045.11 66,081.36 122,153.86 66,081.36 38,045.11 38,045.11 38,045.11 38,598.49 66,634.74 765,080.56\r\n        4200 INCOME CHARGEB\r\n            4205 Property Tax Reco 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 3,696.62 4,250.00 50,446.62\r\n            4210 CAM Recoveries 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 57,000.00\r\n            4200 Total INCOME CH 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 8,446.62 9,000.00 107,446.62\r\n        4600 OTHER INCOME\r\n            4610 Late / NSF Fees 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1,394.72 3,828.61 0.00 0.00 0.00 5,223.33\r\n            4600 Total OTHER INC 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1,394.72 3,828.61 0.00 0.00 0.00 5,223.33\r\n    TOTAL INCOME 186,260.09 47,045.11 47,045.11 47,045.11 75,081.36 131,153.86 75,081.36 48,439.83 50,873.72 47,045.11 47,045.11 75,634.74 877,750.51\r\n    EXPENSE\r\n        6000 PROFESSIONAL FE\r\n            6010 Professional Fees 0.00 0.00 0.00 2,500.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 2,500.00\r\n            6020 Legal Fees 0.00 0.00 0.00 4,592.71 0.00 1,466.33 1,703.35 2,006.00 0.00 685.96 4,368.50 0.00 14,822.85\r\n            6000 Total PROFESSIO 0.00 0.00 0.00 7,092.71 0.00 1,466.33 1,703.35 2,006.00 0.00 685.96 4,368.50 0.00 17,322.85\r\n        6100 UTILITIES\r\n            6105 Water &amp; Sewer 0.00 0.00 0.00 21.21 0.00 0.00 25.81 0.00 0.00 31.91 0.00 0.00 78.93\r\n            6110 Electricity 1,000.91 358.23 390.43 350.71 353.69 0.00 666.39 381.97 486.85 449.62 480.21 486.81 5,405.82\r\n            6125 Trash Removal 229.54 231.34 232.56 232.78 231.66 240.94 240.94 241.40 241.40 518.97 259.18 0.00 2,900.71\r\n            6100 Total UTILITIES 1,230.45 589.57 622.99 604.70 585.35 240.94 933.14 623.37 728.25 1,000.50 739.39 486.81 8,385.46\r\n        6200 REPAIR &amp; MAINTEN\r\n            6210 Field &amp; Grounds - 3,094.00 0.00 0.00 2,313.84 1,009.50 0.00 1,439.58 1,302.75 600.00 0.00 0.00 1,909.73 11,669.40\r\n            6211 Irrigation / Sprinkle 0.00 0.00 0.00 0.00 0.00 1,121.08 350.00 0.00 0.00 0.00 0.00 0.00 1,471.08\r\n            6215 Landscape / Lawn 565.71 565.71 565.71 565.71 565.71 565.71 1,165.71 0.00 0.00 0.00 0.00 495.00 5,054.97\r\n            6220 Sanitary Sewers 0.00 0.00 0.00 950.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 950.00\r\n            6221 Storm Drains 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 2,500.00 0.00 2,500.00\r\n            6223 Snow Removal 1,365.00 3,440.00 0.00 0.00 0.00 0.00 0.00 1,350.00 4,440.00 4,106.00 790.00 2,340.00 17,831.00\r\n            6228 Ceiling Tiles 0.00 0.00 0.00 0.00 53.30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 53.30\r\n            6231 Building - General 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 634.65 634.65\r\n            6233 Roof / Flashing 1,840.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 764.00 0.00 2,604.00\r\n            6234 Electrical Repairs 0.00 0.00 0.00 395.00 0.00 0.00 960.00 90.00 0.00 0.00 0.00 0.00 1,445.00\r\n            6236 Plumbing Repairs 0.00 0.00 3,316.59 0.00 2,315.95 0.00 930.00 812.17 0.00 0.00 0.00 0.00 7,374.71\r\n            6237 Fire &amp; Life Safety 0.00 0.00 0.00 0.00 0.00 150.00 0.00 0.00 660.00 0.00 0.00 1,550.00 2,360.00\r\n            6238 Lighting Supplies 0.00 0.00 0.00 0.00 0.00 0.00 875.00 193.05 0.00 0.00 0.00 0.00 1,068.05\r\n    Profit &amp; Loss 12 Month Recap          05/02/17 11:13 AM Page 1 of rentmanager.com - property management systems   rev.12.180\r\n    MAY 16 JUN 16 JUL 16 AUG 16 SEP 16 OCT 16 NOV 16 DEC 16 JAN 17 FEB 17 MAR 17 APR 17 TOTAL\r\n            6240 Lock &amp; Key 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 14.59 0.00 0.00 0.00 14.59\r\n            6242 HVAC Expense 4,375.00 0.00 1,370.00 2,043.25 0.00 0.00 0.00 415.00 1,326.00 1,835.00 0.00 0.00 11,364.25\r\n            6251 Pest Control 0.00 71.07 0.00 71.07 0.00 0.00 71.07 71.07 0.00 71.07 0.00 71.07 426.42\r\n            6200 Total REPAIR &amp; M 11,239.71 4,076.78 5,252.30 6,338.87 3,944.46 1,836.79 5,791.36 4,234.04 7,040.59 6,012.07 4,054.00 7,000.45 66,821.42\r\n        6300 JANITORIAL\r\n            6310 Janitorial Services 1,935.00 1,935.00 1,935.00 1,935.00 1,935.00 0.00 3,870.00 1,935.00 1,935.00 1,935.00 1,995.00 1,995.00 23,340.00\r\n            6320 Janitorial Supplies 79.74 260.01 79.74 90.84 113.14 0.00 170.58 0.00 365.61 90.84 0.00 153.01 1,403.51\r\n            6300 Total JANITORIAL 2,014.74 2,195.01 2,014.74 2,025.84 2,048.14 0.00 4,040.58 1,935.00 2,300.61 2,025.84 1,995.00 2,148.01 24,743.51\r\n        6400 PAYROLL\r\n            6410 P/R Salaries - Offi 2,167.72 2,190.43 2,213.14 2,213.14 1,512.40 2,342.28 2,224.93 2,107.58 2,107.58 2,107.58 2,190.78 2,344.16 25,721.72\r\n            6412 P/R Taxes - Office 179.87 167.56 169.30 169.30 115.70 179.18 170.21 161.23 238.16 231.10 199.89 196.42 2,177.92\r\n            6420 Employee Insuran 76.06 76.14 76.22 199.23 104.30 161.06 152.29 137.91 139.14 139.14 143.91 175.02 1,580.42\r\n            6421 Employee Benefit 3.54 2.40 87.37 141.59 35.59 114.13 111.50 110.15 89.47 107.81 114.80 49.60 967.95\r\n            6423 Workers Compens 42.50 42.94 37.74 32.10 21.93 33.96 32.26 30.56 30.56 30.56 31.76 33.98 400.85\r\n            6400 Total PAYROLL 2,469.69 2,479.47 2,583.77 2,755.36 1,789.92 2,830.61 2,691.19 2,547.43 2,604.91 2,616.19 2,681.14 2,799.18 30,848.86\r\n        6500 TAXES INSURANCE\r\n            6510 Real Estate Tax E 69,570.07 0.00 0.00 0.00 0.00 69,570.07 0.00 0.00 0.00 0.00 0.00 0.00 139,140.14\r\n            6520 Insurance Expens 2,078.00 2,704.50 0.00 2,704.50 0.00 0.00 2,704.50 0.00 0.00 2,704.50 0.00 0.00 12,896.00\r\n            6500 Total TAXES INSU 71,648.07 2,704.50 0.00 2,704.50 0.00 69,570.07 2,704.50 0.00 0.00 2,704.50 0.00 0.00 152,036.14\r\n        6600 Property Manageme 9,575.44 8,381.70 2,117.03 2,117.03 2,117.03 3,378.66 5,901.92 3,378.66 2,179.79 2,000.00 3,829.06 2,117.03 47,093.35\r\n        6650 Receiver Fees 6,625.00 6,125.00 0.00 0.00 6,875.00 0.00 7,062.50 8,375.00 0.00 0.00 8,875.00 0.00 43,937.50\r\n        6700 GENERAL &amp; ADMIN\r\n            6710 PM / Work Order S 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 1,140.00\r\n            6720 Postage / Messen 63.58 0.00 7.59 9.64 20.63 5.98 6.99 0.00 17.38 7.21 14.36 10.98 164.34\r\n            6725 Office Supplies 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 148.88 148.88\r\n            6735 Office Equipment 0.00 0.00 0.00 0.00 0.00 0.00 0.00 218.40 0.00 0.00 0.00 0.00 218.40\r\n            6740 Telephone 21.33 0.00 11.54 15.00 21.12 8.76 9.77 0.00 13.19 11.96 3.14 7.88 123.69\r\n            6760 Auto Mileage &amp; Ex 100.44 0.00 68.75 140.24 104.14 61.29 142.59 29.00 56.04 0.00 23.14 0.00 725.63\r\n            6770 Leasing &amp; Maint. O 0.00 0.00 0.00 0.00 0.00 0.00 75.00 0.00 0.00 0.00 0.00 0.00 75.00\r\n            6780 Bank Fees 129.45 0.00 0.00 105.91 87.62 0.00 53.61 0.00 120.92 56.46 77.49 79.74 711.20\r\n            6700 Total GENERAL &amp; 409.80 95.00 182.88 365.79 328.51 171.03 382.96 342.40 302.53 170.63 213.13 342.48 3,307.14\r\n    TOTAL EXPENSE 105,212.90 26,647.03 12,773.71 24,004.80 17,688.41 79,494.43 31,211.50 23,441.90 15,156.68 17,215.69 26,755.22 14,893.96 394,496.23\r\n    NOI 81,047.19 20,398.08 34,271.40 23,040.31 57,392.95 51,659.43 43,869.86 24,997.93 35,717.04 29,829.42 20,289.89 60,740.78 483,254.28\r\n    N/O EXPENSE\r\n        7100 NON-OPERATING E\r\n            7110 Lease Commissio 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 33,203.00 0.00 0.00 0.00 33,203.00\r\n            7130 Professional Fees 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1,276.00 0.00 0.00 1,276.00\r\n            7100 Total NON-OPER 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 33,203.00 1,276.00 0.00 0.00 34,479.00\r\n    TOTAL N/O EXPENSE 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 33,203.00 1,276.00 0.00 0.00 34,479.00\r\n    NET INCOME 81,047.19 20,398.08 34,271.40 23,040.31 57,392.95 51,659.43 43,869.86 24,997.93 2,514.04 28,553.42 20,289.89 60,740.78 448,775.28\r\n    Profit &amp; Loss 12 Month Recap          05/02/17 11:13 AM Page 2 of rentmanager.com - property management systems   rev.12.180\r\n\r\nAt first glance the only visible text missing is the total number of pages in the footers of both pages.\r\n\r\n---\r\n\r\nAs said by the OP in a comment\r\n\r\n&gt; It seems same thing should be applied in deleteCharsInPath() \r\n\r\nIndeed, `deleteCharsInPath` should also be changed to:\r\n\r\n    void deleteCharsInPath() {\r\n        for (List&lt;TextPosition&gt; list : charactersByArticle) {\r\n            List&lt;TextPosition&gt; toRemove = new ArrayList&lt;&gt;();\r\n            for (TextPosition text : list) {\r\n                Matrix textMatrix = text.getTextMatrix();\r\n                Vector start = textMatrix.transform(new Vector(0, 0));\r\n                if (linePath.contains(start.getX(), start.getY())) {\r\n                    toRemove.add(text);\r\n                }\r\n            }\r\n            if (toRemove.size() != 0) {\r\n                System.out.println(&quot;Removed &quot; + toRemove.size() + &quot; TextPosition objects as they are being covered.&quot;);\r\n                list.removeAll(toRemove);\r\n            }\r\n        }\r\n    }\r\n\r\n---\r\n\r\nThe OP presented another document in which even the `PDFVisibleTextStripper` as corrected above failed to properly recognize the visible characters.\r\n\r\nThe cause is another normalization by PDFBox text stripping moving the origin into the lower left corner of the crop box.\r\n\r\nPatching the `PDFVisibleTextStripper` methods to add the lower left crop box coordinate values again results in a decent extraction of visible text.\r\n\r\nOverriding `processPage` allows us to read the lower left crop box coordinates:\r\n\r\n    float lowerLeftX = 0;\r\n    float lowerLeftY = 0;\r\n\r\n    @Override\r\n    public void processPage(PDPage page) throws IOException {\r\n        PDRectangle pageSize = page.getCropBox();\r\n\r\n        lowerLeftX = pageSize.getLowerLeftX();\r\n        lowerLeftY = pageSize.getLowerLeftY();\r\n\r\n        super.processPage(page);\r\n    }\r\n\r\n`processTextPosition` and `deleteCharsInPath` need to take these values into account:\r\n\r\n    @Override\r\n    protected void processTextPosition(TextPosition text) {\r\n        Matrix textMatrix = text.getTextMatrix();\r\n        Vector start = textMatrix.transform(new Vector(0, 0));\r\n\r\n        PDGraphicsState gs = getGraphicsState();\r\n        Area area = gs.getCurrentClippingPath();\r\n        if (area == null || area.contains(lowerLeftX + start.getX(), lowerLeftY + start.getY()))\r\n            super.processTextPosition(text);\r\n    }\r\n\r\n    [...]\r\n\r\n    void deleteCharsInPath() {\r\n        for (List&lt;TextPosition&gt; list : charactersByArticle) {\r\n            List&lt;TextPosition&gt; toRemove = new ArrayList&lt;&gt;();\r\n            for (TextPosition text : list) {\r\n                Matrix textMatrix = text.getTextMatrix();\r\n                Vector start = textMatrix.transform(new Vector(0, 0));\r\n                if (linePath.contains(lowerLeftX + start.getX(), lowerLeftY + start.getY())) {\r\n                    toRemove.add(text);\r\n                }\r\n            }\r\n            if (toRemove.size() != 0) {\r\n                System.out.println(&quot;Removed &quot; + toRemove.size() + &quot; TextPosition objects as they are being covered.&quot;);\r\n                list.removeAll(toRemove);\r\n            }\r\n        }\r\n    }\r\n\r\nNow the extraction result is ok for the new file, too. ;)\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/extract/PDFVisibleTextStripper.java\r\n  [2]: https://stackoverflow.com/a/47396555/1729265\r\n","title":"PDFBox - Removing invisible text (by clip/filling paths issue)","body":"<p>The reason why the <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/extract/PDFVisibleTextStripper.java\" rel=\"nofollow noreferrer\">PDFVisibleTextStripper</a> from <a href=\"https://stackoverflow.com/a/47396555/1729265\">this answer</a> the OP referenced does not work is that the calculation of the end of a character baseline <code>end</code> in the overwritten <code>processTextPosition</code> does not take page rotation into account. If you change that method, though, to only test the start of each character baseline and ignore the end, it works fairly good for the document at hand:</p>\n\n<pre><code>@Override\nprotected void processTextPosition(TextPosition text) {\n    Matrix textMatrix = text.getTextMatrix();\n    Vector start = textMatrix.transform(new Vector(0, 0));\n\n    PDGraphicsState gs = getGraphicsState();\n    Area area = gs.getCurrentClippingPath();\n    if (area == null || area.contains(start.getX(), start.getY()))\n        super.processTextPosition(text);\n}\n</code></pre>\n\n<p>With this <code>processTextPosition</code> override the result of the text extraction (with <code>SortByPosition</code> set to <code>true</code>) is:</p>\n\n<pre><code>Profit &amp; Loss 12 Month Recap\nProperty: 8151 W. 183rd Street\nMonthly recap 05/01/16 - 04/30/17  (cash basis)\nMAY 16 JUN 16 JUL 16 AUG 16 SEP 16 OCT 16 NOV 16 DEC 16 JAN 17 FEB 17 MAR 17 APR 17 TOTAL\nINCOME\n    4000 RENTAL INCOME\n        4001 Base Rent 343,002.59 38,045.11 38,045.11 38,045.11 66,081.36 122,153.86 66,081.36 38,045.11 0.00 76,090.22 38,598.49 66,634.74 930,823.06\n        4004 Prepaid Rent Inco -165,742.50 0.00 0.00 0.00 0.00 0.00 0.00 0.00 38,045.11 -38,045.11 0.00 0.00 -165,742.50\n        4000 Total RENTAL INC 177,260.09 38,045.11 38,045.11 38,045.11 66,081.36 122,153.86 66,081.36 38,045.11 38,045.11 38,045.11 38,598.49 66,634.74 765,080.56\n    4200 INCOME CHARGEB\n        4205 Property Tax Reco 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 4,250.00 3,696.62 4,250.00 50,446.62\n        4210 CAM Recoveries 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 4,750.00 57,000.00\n        4200 Total INCOME CH 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 9,000.00 8,446.62 9,000.00 107,446.62\n    4600 OTHER INCOME\n        4610 Late / NSF Fees 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1,394.72 3,828.61 0.00 0.00 0.00 5,223.33\n        4600 Total OTHER INC 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1,394.72 3,828.61 0.00 0.00 0.00 5,223.33\nTOTAL INCOME 186,260.09 47,045.11 47,045.11 47,045.11 75,081.36 131,153.86 75,081.36 48,439.83 50,873.72 47,045.11 47,045.11 75,634.74 877,750.51\nEXPENSE\n    6000 PROFESSIONAL FE\n        6010 Professional Fees 0.00 0.00 0.00 2,500.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 2,500.00\n        6020 Legal Fees 0.00 0.00 0.00 4,592.71 0.00 1,466.33 1,703.35 2,006.00 0.00 685.96 4,368.50 0.00 14,822.85\n        6000 Total PROFESSIO 0.00 0.00 0.00 7,092.71 0.00 1,466.33 1,703.35 2,006.00 0.00 685.96 4,368.50 0.00 17,322.85\n    6100 UTILITIES\n        6105 Water &amp; Sewer 0.00 0.00 0.00 21.21 0.00 0.00 25.81 0.00 0.00 31.91 0.00 0.00 78.93\n        6110 Electricity 1,000.91 358.23 390.43 350.71 353.69 0.00 666.39 381.97 486.85 449.62 480.21 486.81 5,405.82\n        6125 Trash Removal 229.54 231.34 232.56 232.78 231.66 240.94 240.94 241.40 241.40 518.97 259.18 0.00 2,900.71\n        6100 Total UTILITIES 1,230.45 589.57 622.99 604.70 585.35 240.94 933.14 623.37 728.25 1,000.50 739.39 486.81 8,385.46\n    6200 REPAIR &amp; MAINTEN\n        6210 Field &amp; Grounds - 3,094.00 0.00 0.00 2,313.84 1,009.50 0.00 1,439.58 1,302.75 600.00 0.00 0.00 1,909.73 11,669.40\n        6211 Irrigation / Sprinkle 0.00 0.00 0.00 0.00 0.00 1,121.08 350.00 0.00 0.00 0.00 0.00 0.00 1,471.08\n        6215 Landscape / Lawn 565.71 565.71 565.71 565.71 565.71 565.71 1,165.71 0.00 0.00 0.00 0.00 495.00 5,054.97\n        6220 Sanitary Sewers 0.00 0.00 0.00 950.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 950.00\n        6221 Storm Drains 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 2,500.00 0.00 2,500.00\n        6223 Snow Removal 1,365.00 3,440.00 0.00 0.00 0.00 0.00 0.00 1,350.00 4,440.00 4,106.00 790.00 2,340.00 17,831.00\n        6228 Ceiling Tiles 0.00 0.00 0.00 0.00 53.30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 53.30\n        6231 Building - General 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 634.65 634.65\n        6233 Roof / Flashing 1,840.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 764.00 0.00 2,604.00\n        6234 Electrical Repairs 0.00 0.00 0.00 395.00 0.00 0.00 960.00 90.00 0.00 0.00 0.00 0.00 1,445.00\n        6236 Plumbing Repairs 0.00 0.00 3,316.59 0.00 2,315.95 0.00 930.00 812.17 0.00 0.00 0.00 0.00 7,374.71\n        6237 Fire &amp; Life Safety 0.00 0.00 0.00 0.00 0.00 150.00 0.00 0.00 660.00 0.00 0.00 1,550.00 2,360.00\n        6238 Lighting Supplies 0.00 0.00 0.00 0.00 0.00 0.00 875.00 193.05 0.00 0.00 0.00 0.00 1,068.05\nProfit &amp; Loss 12 Month Recap          05/02/17 11:13 AM Page 1 of rentmanager.com - property management systems   rev.12.180\nMAY 16 JUN 16 JUL 16 AUG 16 SEP 16 OCT 16 NOV 16 DEC 16 JAN 17 FEB 17 MAR 17 APR 17 TOTAL\n        6240 Lock &amp; Key 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 14.59 0.00 0.00 0.00 14.59\n        6242 HVAC Expense 4,375.00 0.00 1,370.00 2,043.25 0.00 0.00 0.00 415.00 1,326.00 1,835.00 0.00 0.00 11,364.25\n        6251 Pest Control 0.00 71.07 0.00 71.07 0.00 0.00 71.07 71.07 0.00 71.07 0.00 71.07 426.42\n        6200 Total REPAIR &amp; M 11,239.71 4,076.78 5,252.30 6,338.87 3,944.46 1,836.79 5,791.36 4,234.04 7,040.59 6,012.07 4,054.00 7,000.45 66,821.42\n    6300 JANITORIAL\n        6310 Janitorial Services 1,935.00 1,935.00 1,935.00 1,935.00 1,935.00 0.00 3,870.00 1,935.00 1,935.00 1,935.00 1,995.00 1,995.00 23,340.00\n        6320 Janitorial Supplies 79.74 260.01 79.74 90.84 113.14 0.00 170.58 0.00 365.61 90.84 0.00 153.01 1,403.51\n        6300 Total JANITORIAL 2,014.74 2,195.01 2,014.74 2,025.84 2,048.14 0.00 4,040.58 1,935.00 2,300.61 2,025.84 1,995.00 2,148.01 24,743.51\n    6400 PAYROLL\n        6410 P/R Salaries - Offi 2,167.72 2,190.43 2,213.14 2,213.14 1,512.40 2,342.28 2,224.93 2,107.58 2,107.58 2,107.58 2,190.78 2,344.16 25,721.72\n        6412 P/R Taxes - Office 179.87 167.56 169.30 169.30 115.70 179.18 170.21 161.23 238.16 231.10 199.89 196.42 2,177.92\n        6420 Employee Insuran 76.06 76.14 76.22 199.23 104.30 161.06 152.29 137.91 139.14 139.14 143.91 175.02 1,580.42\n        6421 Employee Benefit 3.54 2.40 87.37 141.59 35.59 114.13 111.50 110.15 89.47 107.81 114.80 49.60 967.95\n        6423 Workers Compens 42.50 42.94 37.74 32.10 21.93 33.96 32.26 30.56 30.56 30.56 31.76 33.98 400.85\n        6400 Total PAYROLL 2,469.69 2,479.47 2,583.77 2,755.36 1,789.92 2,830.61 2,691.19 2,547.43 2,604.91 2,616.19 2,681.14 2,799.18 30,848.86\n    6500 TAXES INSURANCE\n        6510 Real Estate Tax E 69,570.07 0.00 0.00 0.00 0.00 69,570.07 0.00 0.00 0.00 0.00 0.00 0.00 139,140.14\n        6520 Insurance Expens 2,078.00 2,704.50 0.00 2,704.50 0.00 0.00 2,704.50 0.00 0.00 2,704.50 0.00 0.00 12,896.00\n        6500 Total TAXES INSU 71,648.07 2,704.50 0.00 2,704.50 0.00 69,570.07 2,704.50 0.00 0.00 2,704.50 0.00 0.00 152,036.14\n    6600 Property Manageme 9,575.44 8,381.70 2,117.03 2,117.03 2,117.03 3,378.66 5,901.92 3,378.66 2,179.79 2,000.00 3,829.06 2,117.03 47,093.35\n    6650 Receiver Fees 6,625.00 6,125.00 0.00 0.00 6,875.00 0.00 7,062.50 8,375.00 0.00 0.00 8,875.00 0.00 43,937.50\n    6700 GENERAL &amp; ADMIN\n        6710 PM / Work Order S 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 95.00 1,140.00\n        6720 Postage / Messen 63.58 0.00 7.59 9.64 20.63 5.98 6.99 0.00 17.38 7.21 14.36 10.98 164.34\n        6725 Office Supplies 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 148.88 148.88\n        6735 Office Equipment 0.00 0.00 0.00 0.00 0.00 0.00 0.00 218.40 0.00 0.00 0.00 0.00 218.40\n        6740 Telephone 21.33 0.00 11.54 15.00 21.12 8.76 9.77 0.00 13.19 11.96 3.14 7.88 123.69\n        6760 Auto Mileage &amp; Ex 100.44 0.00 68.75 140.24 104.14 61.29 142.59 29.00 56.04 0.00 23.14 0.00 725.63\n        6770 Leasing &amp; Maint. O 0.00 0.00 0.00 0.00 0.00 0.00 75.00 0.00 0.00 0.00 0.00 0.00 75.00\n        6780 Bank Fees 129.45 0.00 0.00 105.91 87.62 0.00 53.61 0.00 120.92 56.46 77.49 79.74 711.20\n        6700 Total GENERAL &amp; 409.80 95.00 182.88 365.79 328.51 171.03 382.96 342.40 302.53 170.63 213.13 342.48 3,307.14\nTOTAL EXPENSE 105,212.90 26,647.03 12,773.71 24,004.80 17,688.41 79,494.43 31,211.50 23,441.90 15,156.68 17,215.69 26,755.22 14,893.96 394,496.23\nNOI 81,047.19 20,398.08 34,271.40 23,040.31 57,392.95 51,659.43 43,869.86 24,997.93 35,717.04 29,829.42 20,289.89 60,740.78 483,254.28\nN/O EXPENSE\n    7100 NON-OPERATING E\n        7110 Lease Commissio 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 33,203.00 0.00 0.00 0.00 33,203.00\n        7130 Professional Fees 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 1,276.00 0.00 0.00 1,276.00\n        7100 Total NON-OPER 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 33,203.00 1,276.00 0.00 0.00 34,479.00\nTOTAL N/O EXPENSE 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 33,203.00 1,276.00 0.00 0.00 34,479.00\nNET INCOME 81,047.19 20,398.08 34,271.40 23,040.31 57,392.95 51,659.43 43,869.86 24,997.93 2,514.04 28,553.42 20,289.89 60,740.78 448,775.28\nProfit &amp; Loss 12 Month Recap          05/02/17 11:13 AM Page 2 of rentmanager.com - property management systems   rev.12.180\n</code></pre>\n\n<p>At first glance the only visible text missing is the total number of pages in the footers of both pages.</p>\n\n<hr>\n\n<p>As said by the OP in a comment</p>\n\n<blockquote>\n  <p>It seems same thing should be applied in deleteCharsInPath() </p>\n</blockquote>\n\n<p>Indeed, <code>deleteCharsInPath</code> should also be changed to:</p>\n\n<pre><code>void deleteCharsInPath() {\n    for (List&lt;TextPosition&gt; list : charactersByArticle) {\n        List&lt;TextPosition&gt; toRemove = new ArrayList&lt;&gt;();\n        for (TextPosition text : list) {\n            Matrix textMatrix = text.getTextMatrix();\n            Vector start = textMatrix.transform(new Vector(0, 0));\n            if (linePath.contains(start.getX(), start.getY())) {\n                toRemove.add(text);\n            }\n        }\n        if (toRemove.size() != 0) {\n            System.out.println(\"Removed \" + toRemove.size() + \" TextPosition objects as they are being covered.\");\n            list.removeAll(toRemove);\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The OP presented another document in which even the <code>PDFVisibleTextStripper</code> as corrected above failed to properly recognize the visible characters.</p>\n\n<p>The cause is another normalization by PDFBox text stripping moving the origin into the lower left corner of the crop box.</p>\n\n<p>Patching the <code>PDFVisibleTextStripper</code> methods to add the lower left crop box coordinate values again results in a decent extraction of visible text.</p>\n\n<p>Overriding <code>processPage</code> allows us to read the lower left crop box coordinates:</p>\n\n<pre><code>float lowerLeftX = 0;\nfloat lowerLeftY = 0;\n\n@Override\npublic void processPage(PDPage page) throws IOException {\n    PDRectangle pageSize = page.getCropBox();\n\n    lowerLeftX = pageSize.getLowerLeftX();\n    lowerLeftY = pageSize.getLowerLeftY();\n\n    super.processPage(page);\n}\n</code></pre>\n\n<p><code>processTextPosition</code> and <code>deleteCharsInPath</code> need to take these values into account:</p>\n\n<pre><code>@Override\nprotected void processTextPosition(TextPosition text) {\n    Matrix textMatrix = text.getTextMatrix();\n    Vector start = textMatrix.transform(new Vector(0, 0));\n\n    PDGraphicsState gs = getGraphicsState();\n    Area area = gs.getCurrentClippingPath();\n    if (area == null || area.contains(lowerLeftX + start.getX(), lowerLeftY + start.getY()))\n        super.processTextPosition(text);\n}\n\n[...]\n\nvoid deleteCharsInPath() {\n    for (List&lt;TextPosition&gt; list : charactersByArticle) {\n        List&lt;TextPosition&gt; toRemove = new ArrayList&lt;&gt;();\n        for (TextPosition text : list) {\n            Matrix textMatrix = text.getTextMatrix();\n            Vector start = textMatrix.transform(new Vector(0, 0));\n            if (linePath.contains(lowerLeftX + start.getX(), lowerLeftY + start.getY())) {\n                toRemove.add(text);\n            }\n        }\n        if (toRemove.size() != 0) {\n            System.out.println(\"Removed \" + toRemove.size() + \" TextPosition objects as they are being covered.\");\n            list.removeAll(toRemove);\n        }\n    }\n}\n</code></pre>\n\n<p>Now the extraction result is ok for the new file, too. ;)</p>\n"}],"owner":{"account_id":12536529,"reputation":91,"user_id":9123040,"display_name":"D.F. Stones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":47911344,"answer_count":1,"score":1,"last_activity_date":1639152913,"creation_date":1513779773,"question_id":47908124,"body_markdown":"Link to example PDF: [click here][1]. Here you can see that many labels in the left are clipped (because of some clipping instructions)\r\n\r\nWhen I use PDFTextStripper, it prints all text which is actually cut/hidden in example PDF file. I have already tried solution described [here][2] however it makes it even worth because removes much text in the top + some text in the beginning of each row.\r\nIs there any other way to show only visible characters, and skip all overlapped, using PDFBox? Or maybe is there any other tool which could return only visible text?\r\nThanks in advance.\r\n\r\n  [1]: https://drive.google.com/open?id=1xcZOusx3cEdZX4AT8QAVDqZe33YWla0H\r\n  [2]: https://stackoverflow.com/questions/47358127/remove-invisible-text-from-pdf-using-pdfbox","title":"PDFBox - Removing invisible text (by clip/filling paths issue)","body":"<p>Link to example PDF: <a href=\"https://drive.google.com/open?id=1xcZOusx3cEdZX4AT8QAVDqZe33YWla0H\" rel=\"nofollow noreferrer\">click here</a>. Here you can see that many labels in the left are clipped (because of some clipping instructions)</p>\n\n<p>When I use PDFTextStripper, it prints all text which is actually cut/hidden in example PDF file. I have already tried solution described <a href=\"https://stackoverflow.com/questions/47358127/remove-invisible-text-from-pdf-using-pdfbox\">here</a> however it makes it even worth because removes much text in the top + some text in the beginning of each row.\nIs there any other way to show only visible characters, and skip all overlapped, using PDFBox? Or maybe is there any other tool which could return only visible text?\nThanks in advance.</p>\n"},{"tags":["java","constants","heap-memory","string-pool"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1475214024,"post_id":39784358,"comment_id":66862574,"body_markdown":"`System.out.println(s3.equals(s4))`.  In other words, don&#39;t compare references, compare the data.  I don&#39;t see that there&#39;s _ever_ a need to compare `String` references (other than to `null`), and if you think you have a need for it, you have probably designed your program wrong.  To answer your question, `s3.intern()` creates a new object and thus the references will _never_ be equal.","body":"<code>System.out.println(s3.equals(s4))</code>.  In other words, don&#39;t compare references, compare the data.  I don&#39;t see that there&#39;s <i>ever</i> a need to compare <code>String</code> references (other than to <code>null</code>), and if you think you have a need for it, you have probably designed your program wrong.  To answer your question, <code>s3.intern()</code> creates a new object and thus the references will <i>never</i> be equal."},{"owner":{"account_id":5572409,"reputation":25,"user_id":4417155,"accept_rate":25,"display_name":"Shivaraj Mc"},"score":0,"creation_date":1475215467,"post_id":39784358,"comment_id":66863132,"body_markdown":"i dont want to create new object so just cut the object from heap and paste it in String constant pool .","body":"i dont want to create new object so just cut the object from heap and paste it in String constant pool ."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1475215777,"post_id":39784358,"comment_id":66863259,"body_markdown":"Almost everything in Java is an object.  Java is not Microsoft Word, and you can&#39;t just &quot;cut and paste&quot; data without creating a new object.  You really need to go back and study the fundamentals of Java.","body":"Almost everything in Java is an object.  Java is not Microsoft Word, and you can&#39;t just &quot;cut and paste&quot; data without creating a new object.  You really need to go back and study the fundamentals of Java."}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475214035,"creation_date":1475214035,"answer_id":39784433,"question_id":39784358,"body_markdown":"You are not moving heap data to the String constants pool when you call `intern`, you are just adding another new String to the constants pool if it doesn&#39;t already exist in the constants pool (which doesn&#39;t happen in your case as `&quot;Test&quot;` is already added to constants pool in line -1).\r\n\r\n\r\nYou might want to change your code to :\r\n\r\n\tpublic static void main(String[] args) {\r\n        String s3 = new String(&quot;Test&quot;);\r\n        s3 = s3.intern();\r\n        String s4 = &quot;Test&quot;;\r\n        System.out.println(s3 == s4);//fasle(i need true)\r\n\t}\r\n\r\nIn the above code you assign the reference to the interned value of s3 to s3 again. Next,you get the same object from String constants pool in S4.","title":"how to move heap area data to String constant pool?","body":"<p>You are not moving heap data to the String constants pool when you call <code>intern</code>, you are just adding another new String to the constants pool if it doesn't already exist in the constants pool (which doesn't happen in your case as <code>\"Test\"</code> is already added to constants pool in line -1).</p>\n\n<p>You might want to change your code to :</p>\n\n<pre><code>public static void main(String[] args) {\n    String s3 = new String(\"Test\");\n    s3 = s3.intern();\n    String s4 = \"Test\";\n    System.out.println(s3 == s4);//fasle(i need true)\n}\n</code></pre>\n\n<p>In the above code you assign the reference to the interned value of s3 to s3 again. Next,you get the same object from String constants pool in S4.</p>\n"}],"owner":{"account_id":5572409,"reputation":25,"user_id":4417155,"accept_rate":25,"display_name":"Shivaraj Mc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1232,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1639152910,"creation_date":1475213713,"question_id":39784358,"body_markdown":"  how to move heap area data to String constant pool ? \r\n\r\n          \r\n    \r\n       \r\n\r\n            String s3 = new String(&quot;Test&quot;);\r\n             final String s4 = s3.intern();\r\n             System.out.println(s3 == s4);//fasle(i need true)\r\n        \r\n            \t\r\ni dont want to create new object so just cut the object from heap and paste it in String constant pool ","title":"how to move heap area data to String constant pool?","body":"<p>how to move heap area data to String constant pool ? </p>\n\n<pre><code>        String s3 = new String(\"Test\");\n         final String s4 = s3.intern();\n         System.out.println(s3 == s4);//fasle(i need true)\n</code></pre>\n\n<p>i dont want to create new object so just cut the object from heap and paste it in String constant pool </p>\n"},{"tags":["java","string","heap-memory","string-pool"],"comments":[{"owner":{"account_id":2690880,"reputation":2110,"user_id":2324271,"accept_rate":85,"display_name":"Harsh Wardhan"},"score":0,"creation_date":1497078665,"post_id":44470506,"comment_id":75936996,"body_markdown":"Show your effort before you ask for help.","body":"Show your effort before you ask for help."}],"answers":[{"tags":[],"owner":{"account_id":1640113,"reputation":6034,"user_id":1512743,"accept_rate":86,"display_name":"Devarsh Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497078555,"creation_date":1497077922,"answer_id":44470550,"question_id":44470506,"body_markdown":"Java by default doesn&#39;t put String objects into the string pool, instead, they give you the flexibility to explicitly store any arbitrary object in the string pool by calling `intern()`.\r\n\r\nUse the `new` operator to force String class to create a new String object in heap space.\r\n\r\nAlso note, in Java 7 – the string pool was relocated to the main heap area from the permgen area of the heap.","title":"How to create an object of string only on heap not in string pool?","body":"<p>Java by default doesn't put String objects into the string pool, instead, they give you the flexibility to explicitly store any arbitrary object in the string pool by calling <code>intern()</code>.</p>\n\n<p>Use the <code>new</code> operator to force String class to create a new String object in heap space.</p>\n\n<p>Also note, in Java 7 – the string pool was relocated to the main heap area from the permgen area of the heap.</p>\n"}],"owner":{"account_id":6481666,"reputation":65,"user_id":5018455,"display_name":"Joginder Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639152828,"creation_date":1497077581,"question_id":44470506,"body_markdown":"I want to create an object of string on the heap and I have to make sure that the object is not created on string pool.","title":"How to create an object of string only on heap not in string pool?","body":"<p>I want to create an object of string on the heap and I have to make sure that the object is not created on string pool.</p>\n"},{"tags":["java","string","object","heap-memory","string-pool"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":1,"creation_date":1510125117,"post_id":47173549,"comment_id":81296318,"body_markdown":"As Strings are **Immutable** any appending to the existing string would result in creation of a new string with the previous value appended with the new. So its better to use a **StringBuilder**.","body":"As Strings are <b>Immutable</b> any appending to the existing string would result in creation of a new string with the previous value appended with the new. So its better to use a <b>StringBuilder</b>."},{"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"score":1,"creation_date":1510125506,"post_id":47173549,"comment_id":81296526,"body_markdown":"To your original question, there will be three strings created, Stack, Overflow and Stack Overflow","body":"To your original question, there will be three strings created, Stack, Overflow and Stack Overflow"},{"owner":{"account_id":9094013,"reputation":2537,"user_id":6768585,"accept_rate":82,"display_name":"Farhan Yaseen"},"score":0,"creation_date":1510125649,"post_id":47173549,"comment_id":81296589,"body_markdown":"Possible duplicate of [Questions about Java&#39;s String pool](https://stackoverflow.com/questions/1881922/questions-about-javas-string-pool)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1881922/questions-about-javas-string-pool\">Questions about Java&#39;s String pool</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1510126526,"post_id":47173549,"comment_id":81297048,"body_markdown":"@saifahmad your suggestion doesn&#39;t make any sense.","body":"@saifahmad your suggestion doesn&#39;t make any sense."},{"owner":{"account_id":12135098,"reputation":21,"user_id":8860784,"display_name":"aditi jain"},"score":0,"creation_date":1510140807,"post_id":47173549,"comment_id":81306156,"body_markdown":"@akshaya pandey  Will any object be created in heap ?.. Because concat operator &#39;+&#39; internally uses StringBuffer to append the strings ..","body":"@akshaya pandey  Will any object be created in heap ?.. Because concat operator &#39;+&#39; internally uses StringBuffer to append the strings .."},{"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"score":0,"creation_date":1510141297,"post_id":47173549,"comment_id":81306507,"body_markdown":"Please go through the following link. There is a great explanation of string pools and interns along with examples and images. This is a nice tutorial to clear the concepts http://www.javamadesoeasy.com/2015/05/string-pool-string-literal-pool-string.html","body":"Please go through the following link. There is a great explanation of string pools and interns along with examples and images. This is a nice tutorial to clear the concepts <a href=\"http://www.javamadesoeasy.com/2015/05/string-pool-string-literal-pool-string.html\" rel=\"nofollow noreferrer\">javamadesoeasy.com/2015/05/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11938483,"reputation":427,"user_id":8736108,"display_name":"Mohd Yasin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510126670,"creation_date":1510126670,"answer_id":47174044,"question_id":47173549,"body_markdown":"There two Objects will be created in String Constant Pool. As `String s2 = s1 + &quot; Overflow&quot;;` At compile time, compiler will append these two strings and only one object will be created in String Constant Pool and other object is `s1`.\r\n    \r\n    package testPackage;\r\n    class Test {\r\n        public static void main(String[] args) {\r\n            String s1 = &quot;Stack&quot;;  \r\n            String s2 = s1 + &quot; Overflow&quot;;\r\n            System.out.println(s1 == &quot;Stack&quot;);\r\n            System.out.println(s1 == s2);\r\n            System.out.println(s2 == &quot;Stack Overflow&quot;);\r\n        }\r\n    }\r\n\r\nproduces the output:\r\n\r\n    true\r\n    false\r\n    false\r\n","title":"How many object will be created in the String Constant Pool and heap","body":"<p>There two Objects will be created in String Constant Pool. As <code>String s2 = s1 + \" Overflow\";</code> At compile time, compiler will append these two strings and only one object will be created in String Constant Pool and other object is <code>s1</code>.</p>\n\n<pre><code>package testPackage;\nclass Test {\n    public static void main(String[] args) {\n        String s1 = \"Stack\";  \n        String s2 = s1 + \" Overflow\";\n        System.out.println(s1 == \"Stack\");\n        System.out.println(s1 == s2);\n        System.out.println(s2 == \"Stack Overflow\");\n    }\n}\n</code></pre>\n\n<p>produces the output:</p>\n\n<pre><code>true\nfalse\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6446129,"reputation":432,"user_id":4994582,"accept_rate":0,"display_name":"Bikramjit Rajbongshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510147500,"creation_date":1510147500,"answer_id":47180912,"question_id":47173549,"body_markdown":"\r\n    String s1 = &quot;Stack&quot;;\r\n\r\n`&quot;Stack&quot;` will be in the String Constant pool.\r\n\r\n    String s2 = s1 + &quot; Overflow&quot;;\r\n\r\nInternally `+ operator` uses `StringBuilder` for concatenating strings.\r\n\r\nSo internal implementation  `String s2 = s1 + &quot; Overflow&quot;;` will be\r\n\r\n    String str = new StringBuilder(s1).append(&quot;Overflow&quot;).toString(); \r\n\r\nHere since it is `new StringBuilder(str)` so the `StringBuilder` object will be created in `the Heap`. Lets look into `StringBuilder(String str)` constructor\r\n\r\n    public StringBuilder(String str) {\r\n    \tsuper(str.length() + 16);\r\n    \tappend(str);\r\n    } \r\n\r\nand `super(int capacity)` constructor\r\n\r\n    AbstractStringBuilder(int capacity) {\r\n    \tvalue = new char[capacity];\r\n    }\r\n\r\nHere we can see that the `StringBuilder(String str)` constructor just creating a `char[] array` and calling `append(String str)` method.\r\n\r\nIf we look at the implementation of `append(String str)` method of `StringBuilder` we can see that the `append(String str)` method is just playing with a `char[] array` and it&#39;s not creating any new object or array.\r\n\r\n    public StringBuilder append(String str) {\r\n    \tsuper.append(str);\r\n    \treturn this;\r\n    } \r\n\r\nand the implementation of `super.append(String str)` is\r\n\r\n    public AbstractStringBuilder append(String str) {\r\n    \tif (str == null) str = &quot;null&quot;;\r\n    \tint len = str.length();\r\n    \tensureCapacityInternal(count + len);\r\n    \tstr.getChars(0, len, value, count);\r\n    \tcount += len;\r\n    \treturn this;\r\n    }\r\n\r\n\r\nAt the end lets look at the `toString()` method `StringBuilder` class.\r\n\r\n    public String toString() {\r\n    \t// Create a copy, don&#39;t share the array\r\n        return new String(value, 0, count);\r\n    }\r\n\r\nThe `toString()` method of `StringBuilder` is returning a **`new String`** which will be definitely in the `Heap` since it is created with `new String(...)`;\r\n\r\nThe above explanation says that **`The StringBuilder will only create a new string when toString() is called on it. Until then, it maintains an char[] array of all the elements added to it.`**\r\n\r\n***`So, the conclusion is &quot;Stack&quot; will be in the String Constant pool and s1 + &quot; Overflow&quot; i.e Stack overflow will be in the Heap.`***","title":"How many object will be created in the String Constant Pool and heap","body":"<pre><code>String s1 = \"Stack\";\n</code></pre>\n\n<p><code>\"Stack\"</code> will be in the String Constant pool.</p>\n\n<pre><code>String s2 = s1 + \" Overflow\";\n</code></pre>\n\n<p>Internally <code>+ operator</code> uses <code>StringBuilder</code> for concatenating strings.</p>\n\n<p>So internal implementation  <code>String s2 = s1 + \" Overflow\";</code> will be</p>\n\n<pre><code>String str = new StringBuilder(s1).append(\"Overflow\").toString(); \n</code></pre>\n\n<p>Here since it is <code>new StringBuilder(str)</code> so the <code>StringBuilder</code> object will be created in <code>the Heap</code>. Lets look into <code>StringBuilder(String str)</code> constructor</p>\n\n<pre><code>public StringBuilder(String str) {\n    super(str.length() + 16);\n    append(str);\n} \n</code></pre>\n\n<p>and <code>super(int capacity)</code> constructor</p>\n\n<pre><code>AbstractStringBuilder(int capacity) {\n    value = new char[capacity];\n}\n</code></pre>\n\n<p>Here we can see that the <code>StringBuilder(String str)</code> constructor just creating a <code>char[] array</code> and calling <code>append(String str)</code> method.</p>\n\n<p>If we look at the implementation of <code>append(String str)</code> method of <code>StringBuilder</code> we can see that the <code>append(String str)</code> method is just playing with a <code>char[] array</code> and it's not creating any new object or array.</p>\n\n<pre><code>public StringBuilder append(String str) {\n    super.append(str);\n    return this;\n} \n</code></pre>\n\n<p>and the implementation of <code>super.append(String str)</code> is</p>\n\n<pre><code>public AbstractStringBuilder append(String str) {\n    if (str == null) str = \"null\";\n    int len = str.length();\n    ensureCapacityInternal(count + len);\n    str.getChars(0, len, value, count);\n    count += len;\n    return this;\n}\n</code></pre>\n\n<p>At the end lets look at the <code>toString()</code> method <code>StringBuilder</code> class.</p>\n\n<pre><code>public String toString() {\n    // Create a copy, don't share the array\n    return new String(value, 0, count);\n}\n</code></pre>\n\n<p>The <code>toString()</code> method of <code>StringBuilder</code> is returning a <strong><code>new String</code></strong> which will be definitely in the <code>Heap</code> since it is created with <code>new String(...)</code>;</p>\n\n<p>The above explanation says that <strong><code>The StringBuilder will only create a new string when toString() is called on it. Until then, it maintains an char[] array of all the elements added to it.</code></strong></p>\n\n<p><strong><em><code>So, the conclusion is \"Stack\" will be in the String Constant pool and s1 + \" Overflow\" i.e Stack overflow will be in the Heap.</code></em></strong></p>\n"}],"owner":{"account_id":12135098,"reputation":21,"user_id":8860784,"display_name":"aditi jain"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1639152819,"creation_date":1510124885,"question_id":47173549,"body_markdown":" How many object will be created in the String Constant Pool and heap for the following code : \r\n\r\n    String s1 = &quot;Stack&quot;;  \r\n    String s2 = s1 + &quot; Overflow&quot;;\r\n\r\nAs per my knowledge all literals are created in the String Constant pool, But the string concat operator internally uses StringBuffer to append the strings , so will an object be created in Heap also ?","title":"How many object will be created in the String Constant Pool and heap","body":"<p>How many object will be created in the String Constant Pool and heap for the following code : </p>\n\n<pre><code>String s1 = \"Stack\";  \nString s2 = s1 + \" Overflow\";\n</code></pre>\n\n<p>As per my knowledge all literals are created in the String Constant pool, But the string concat operator internally uses StringBuffer to append the strings , so will an object be created in Heap also ?</p>\n"},{"tags":["java","string","heap-memory","pool"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1525090086,"post_id":50100203,"comment_id":87216900,"body_markdown":"`new` *always* creates a new instance. So you end up with a new string on the heap (pointed to by `s2`).","body":"<code>new</code> <i>always</i> creates a new instance. So you end up with a new string on the heap (pointed to by <code>s2</code>)."},{"owner":{"account_id":12671791,"reputation":624,"user_id":9209083,"display_name":"Anton"},"score":0,"creation_date":1525091447,"post_id":50100203,"comment_id":87217653,"body_markdown":"Read here https://stackoverflow.com/questions/22473154/what-is-the-purpose-of-javas-string-intern","body":"Read here <a href=\"https://stackoverflow.com/questions/22473154/what-is-the-purpose-of-javas-string-intern\" title=\"what is the purpose of javas string intern\">stackoverflow.com/questions/22473154/&hellip;</a>"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1525095332,"post_id":50100203,"comment_id":87220038,"body_markdown":"Possible duplicate of [What is the purpose of Java&#39;s String.intern()?](https://stackoverflow.com/questions/22473154/what-is-the-purpose-of-javas-string-intern)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/22473154/what-is-the-purpose-of-javas-string-intern\">What is the purpose of Java&#39;s String.intern()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525091710,"creation_date":1525091710,"answer_id":50100681,"question_id":50100203,"body_markdown":"    ----------------------------------------------\r\n    |        Heap         | String Constant Pool |\r\n    |---------------------|-----------------------                      \r\n    |                     |                      |\r\n    |    &quot;abc&quot;  &quot;abc&quot;     |       &quot;abc&quot;          |\r\n    |      ^      ^       |                      |\r\n    |      |      |       |                      |\r\n    |     s1     s2       |                      |\r\n\r\nAs Andy Turner said, the `new` operator always produces a new instance.  It is guaranteed by the JLS.\r\n\r\nThe only small wrinkle is that under certain circumstances (e.g. if escape analysis is enabled in certain JVM versions) the `new` operator might allocate an object on the stack rather than the heap.","title":"Heap vs String Constant Pool memory representation for Object","body":"<pre><code>----------------------------------------------\n|        Heap         | String Constant Pool |\n|---------------------|-----------------------                      \n|                     |                      |\n|    \"abc\"  \"abc\"     |       \"abc\"          |\n|      ^      ^       |                      |\n|      |      |       |                      |\n|     s1     s2       |                      |\n</code></pre>\n\n<p>As Andy Turner said, the <code>new</code> operator always produces a new instance.  It is guaranteed by the JLS.</p>\n\n<p>The only small wrinkle is that under certain circumstances (e.g. if escape analysis is enabled in certain JVM versions) the <code>new</code> operator might allocate an object on the stack rather than the heap.</p>\n"}],"owner":{"account_id":3903327,"reputation":62,"user_id":3230567,"display_name":"Nagesh Chauhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50100681,"answer_count":1,"score":1,"last_activity_date":1639152810,"creation_date":1525089991,"question_id":50100203,"body_markdown":"In Java 7 or below, if String is created using below syntax\r\n\r\n    String s1=new String(&quot;abc&quot;);\r\nAs per [this link](https://www.geeksforgeeks.org/interning-of-string/), Whenever we create a String Object, two objects will be created i.e. One in the Heap Area and One in the String constant pool and the String object reference always points to heap area object as shown below.&lt;br&gt;\r\n\r\n    ----------------------------------------------\r\n    |        Heap         | String Constant Pool |\r\n    |---------------------|-----------------------                      \r\n    |                     |                      |\r\n    |      &quot;abc&quot;          |       &quot;abc&quot;          |\r\n    |        ^            |                      |\r\n    |        |            |                      |\r\n    |       s1            |                      |\r\n\r\nWhat will be the memory representation if we create another String object with the same value as &lt;br&gt;\r\n\r\n    String s2=new String(&quot;abc&quot;);\r\n\r\nAnd Will this create another object with same value in heap? &lt;br&gt;\r\nor it will just create object refering to String constant pool into heap ?","title":"Heap vs String Constant Pool memory representation for Object","body":"<p>In Java 7 or below, if String is created using below syntax</p>\n\n<pre><code>String s1=new String(\"abc\");\n</code></pre>\n\n<p>As per <a href=\"https://www.geeksforgeeks.org/interning-of-string/\" rel=\"nofollow noreferrer\">this link</a>, Whenever we create a String Object, two objects will be created i.e. One in the Heap Area and One in the String constant pool and the String object reference always points to heap area object as shown below.<br></p>\n\n<pre><code>----------------------------------------------\n|        Heap         | String Constant Pool |\n|---------------------|-----------------------                      \n|                     |                      |\n|      \"abc\"          |       \"abc\"          |\n|        ^            |                      |\n|        |            |                      |\n|       s1            |                      |\n</code></pre>\n\n<p>What will be the memory representation if we create another String object with the same value as <br></p>\n\n<pre><code>String s2=new String(\"abc\");\n</code></pre>\n\n<p>And Will this create another object with same value in heap? <br>\nor it will just create object refering to String constant pool into heap ?</p>\n"},{"tags":["java","string","heap-memory","hashcode","string-pool"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1533493676,"post_id":51697132,"comment_id":90355607,"body_markdown":"`String.hashCode()` is overridden to return equal hash codes for equal strings. Use `System.hashCode()` if you want to see the default.","body":"<code>String.hashCode()</code> is overridden to return equal hash codes for equal strings. Use <code>System.hashCode()</code> if you want to see the default."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1533493692,"post_id":51697132,"comment_id":90355610,"body_markdown":"What does being in the pool have anything to do with a String&#39;s hashCode? The only thing that matters is the chars it holds and their order.","body":"What does being in the pool have anything to do with a String&#39;s hashCode? The only thing that matters is the chars it holds and their order."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1533493770,"post_id":51697132,"comment_id":90355630,"body_markdown":"You state that you searched, but did you read the [String API](https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#hashCode--)? It tells exactly how hashCode is calculated.","body":"You state that you searched, but did you read the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/String.html#hashCode--\" rel=\"nofollow noreferrer\">String API</a>? It tells exactly how hashCode is calculated."},{"owner":{"account_id":12643678,"reputation":43,"user_id":9190229,"display_name":"Grounded Snippets"},"score":0,"creation_date":1533496270,"post_id":51697132,"comment_id":90356285,"body_markdown":"thank you I got my answer...after looking into the string api","body":"thank you I got my answer...after looking into the string api"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1533496887,"post_id":51697132,"comment_id":90356424,"body_markdown":"@shmosel: ITYM `System.identityHashCode(Object)`","body":"@shmosel: ITYM <code>System.identityHashCode(Object)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13985308,"reputation":151,"user_id":10100560,"display_name":"Sandeep Chauhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533493638,"creation_date":1533493638,"answer_id":51697150,"question_id":51697132,"body_markdown":"hashcode and equals method have contract , so if two string are true for equals then their hashcode should be same.","title":"How a string present in a string pool and a string present in a heap outside stringpool have same hashCode?","body":"<p>hashcode and equals method have contract , so if two string are true for equals then their hashcode should be same.</p>\n"}],"owner":{"account_id":12643678,"reputation":43,"user_id":9190229,"display_name":"Grounded Snippets"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1533493886,"answer_count":1,"score":-4,"last_activity_date":1639152775,"creation_date":1533493488,"question_id":51697132,"body_markdown":"Consider the piece of code given below. \r\nI was wondering how can a string present in string pool &quot;s1&quot; or &quot;s2&quot; have the same hashCode as a string present in heap as &quot;s3&quot; but outside string pool.\r\n\r\n    class Test{\r\n\tpublic static void main(String[] args) {\r\n\t\tString st1 = &quot;Shiva&quot;;\r\n\t\tString st2 = &quot;Shiva&quot;;\r\n\t\tString st3 = new String(&quot;Shiva&quot;);\r\n\t\tSystem.out.println(st1 == st2);\r\n\t\tSystem.out.println(st1 == st3);\r\n\t\tSystem.out.println(st2 == st3);\r\n\t\tSystem.out.println(st1.hashCode());\r\n\t\tSystem.out.println(st2.hashCode());\t\r\n\t\tSystem.out.println(st3.hashCode());\r\n        }\r\n    }\r\n\r\n**input:** deep (master *) LanguagePackageInJava $ javac Lecture3.java&lt;br&gt;\r\n**output:** deep (master *) LanguagePackageInJava $ java Test&lt;br&gt;\r\ntrue&lt;br&gt;\r\nfalse&lt;br&gt;\r\nfalse&lt;br&gt;\r\n79855167&lt;br&gt;\r\n79855167&lt;br&gt;\r\n79855167&lt;br&gt;\r\n\r\nI have searched a lot regarding this question. Please do tell me where am I wrong in my thought process.","title":"How a string present in a string pool and a string present in a heap outside stringpool have same hashCode?","body":"<p>Consider the piece of code given below. \nI was wondering how can a string present in string pool \"s1\" or \"s2\" have the same hashCode as a string present in heap as \"s3\" but outside string pool.</p>\n\n<pre><code>class Test{\npublic static void main(String[] args) {\n    String st1 = \"Shiva\";\n    String st2 = \"Shiva\";\n    String st3 = new String(\"Shiva\");\n    System.out.println(st1 == st2);\n    System.out.println(st1 == st3);\n    System.out.println(st2 == st3);\n    System.out.println(st1.hashCode());\n    System.out.println(st2.hashCode()); \n    System.out.println(st3.hashCode());\n    }\n}\n</code></pre>\n\n<p><strong>input:</strong> deep (master *) LanguagePackageInJava $ javac Lecture3.java<br>\n<strong>output:</strong> deep (master *) LanguagePackageInJava $ java Test<br>\ntrue<br>\nfalse<br>\nfalse<br>\n79855167<br>\n79855167<br>\n79855167<br></p>\n\n<p>I have searched a lot regarding this question. Please do tell me where am I wrong in my thought process.</p>\n"},{"tags":["java","arrays","class"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1639151865,"post_id":70307191,"comment_id":124282959,"body_markdown":"You already tagged this quesiton with `arrays`. So have you considered reading a [tutorial about arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html) and using an array to save more than one Topping?","body":"You already tagged this quesiton with <code>arrays</code>. So have you considered reading a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">tutorial about arrays</a> and using an array to save more than one Topping?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1639151906,"post_id":70307191,"comment_id":124282976,"body_markdown":"Well the Pizza only has one single `topping` field, what else do you expect?","body":"Well the Pizza only has one single <code>topping</code> field, what else do you expect?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1639151983,"post_id":70307191,"comment_id":124283007,"body_markdown":"You could also use a List","body":"You could also use a List"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1639152118,"post_id":70307191,"comment_id":124283047,"body_markdown":"@Enrico no, I got it. OP wants multiple toppings on a pizza, but there is only one field for a single topping. That is the obvious place to start changing the code.","body":"@Enrico no, I got it. OP wants multiple toppings on a pizza, but there is only one field for a single topping. That is the obvious place to start changing the code."},{"owner":{"account_id":21863404,"reputation":13,"user_id":16153930,"display_name":"toxette"},"score":0,"creation_date":1639152132,"post_id":70307191,"comment_id":124283055,"body_markdown":"edited the pizza class with new info.","body":"edited the pizza class with new info."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1639152222,"post_id":70307191,"comment_id":124283076,"body_markdown":"@toxette the `new Toppings[]{Toppings.tomatosauce, Toppings.cheese};` needs to be in the `main` method. Now you only need to change the `toString` method to `return &quot;Toppings: &quot; + Arrays.toString(toppings);`","body":"@toxette the <code>new Toppings[]{Toppings.tomatosauce, Toppings.cheese};</code> needs to be in the <code>main</code> method. Now you only need to change the <code>toString</code> method to <code>return &quot;Toppings: &quot; + Arrays.toString(toppings);</code>"},{"owner":{"account_id":5419650,"reputation":74,"user_id":4313745,"display_name":"J&#225;kup"},"score":0,"creation_date":1639152479,"post_id":70307191,"comment_id":124283175,"body_markdown":"Your constructor takes an array of Toppings, but you&#39;re not using the parameter for anything. Instead you&#39;re constructing the same toppings for every pizza. Also, in your main method, you&#39;re instantiating Pizza with only one topping, which wouldn&#39;t even compile.","body":"Your constructor takes an array of Toppings, but you&#39;re not using the parameter for anything. Instead you&#39;re constructing the same toppings for every pizza. Also, in your main method, you&#39;re instantiating Pizza with only one topping, which wouldn&#39;t even compile."}],"answers":[{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639152567,"creation_date":1639152240,"answer_id":70307291,"question_id":70307191,"body_markdown":"You can use this:\r\n\r\n```\r\npublic class Pizza{\r\n\r\n    private Toppings[] toppings;\r\n\r\n    public Pizza(Toppings ...toppings){\r\n        this.toppings = toppings;\r\n    }\r\n\r\n    public String toString(){\r\n        return &quot;Toppings: &quot; + Arrays.toString(toppings);\r\n    }\r\n\r\n}\r\n\r\nclass Main {\r\n\r\n    public static void main(String[] args) {\r\n        Pizza pizza = new Pizza(Toppings.cheese, Toppings.tomato);\r\n        System.out.println(pizza);\r\n    }\r\n}\r\n\r\nenum Toppings { cheese, tomato }\r\n\r\n```\r\n\r\nor\r\n```\r\nPizza pizza = new Pizza(new Toppings[]{Toppings.cheese, Toppings.tomato});\r\n```\r\ninstead and change the constructor of `Pizza`:\r\n```\r\npublic Pizza(Toppings[] topping) {\r\n    ...\r\n} \r\n```\r\n\r\n","title":"How do I print more than one enum value using arrays?","body":"<p>You can use this:</p>\n<pre><code>public class Pizza{\n\n    private Toppings[] toppings;\n\n    public Pizza(Toppings ...toppings){\n        this.toppings = toppings;\n    }\n\n    public String toString(){\n        return &quot;Toppings: &quot; + Arrays.toString(toppings);\n    }\n\n}\n\nclass Main {\n\n    public static void main(String[] args) {\n        Pizza pizza = new Pizza(Toppings.cheese, Toppings.tomato);\n        System.out.println(pizza);\n    }\n}\n\nenum Toppings { cheese, tomato }\n\n</code></pre>\n<p>or</p>\n<pre><code>Pizza pizza = new Pizza(new Toppings[]{Toppings.cheese, Toppings.tomato});\n</code></pre>\n<p>instead and change the constructor of <code>Pizza</code>:</p>\n<pre><code>public Pizza(Toppings[] topping) {\n    ...\n} \n</code></pre>\n"}],"owner":{"account_id":21863404,"reputation":13,"user_id":16153930,"display_name":"toxette"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70307291,"answer_count":1,"score":0,"last_activity_date":1639152567,"creation_date":1639151741,"question_id":70307191,"body_markdown":"I&#39;m not sure how to formulate the question but say I have a pizza with toppings, and I want (through the main class) to print or call to the description of this pizza that contains not one but two toppings, how should I do this?\r\n\r\nMy toppings class is an enum so I&#39;ve tried, so far, this:\r\n\r\n```\r\npublic class Pizza{\r\n\r\n    private Toppings[] toppings;\r\n\r\n    public Pizza(Toppings[] toppings){\r\n        this.toppings = new Toppings[]{Toppings.tomatosauce, Toppings.cheese};\r\n    }\r\n\r\n    public String toString(){\r\n        return &quot;Toppings: &quot; + toppings;\r\n    }\r\n\r\n}\r\n```\r\n\r\nthen in the main class:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Pizza pizza = new Pizza(Toppings.cheese);\r\n        System.out.println(pizza);\r\n    }\r\n}\r\n```\r\n\r\nObviously, this is wrong, as it only prints the cheese topping. Any hints?","title":"How do I print more than one enum value using arrays?","body":"<p>I'm not sure how to formulate the question but say I have a pizza with toppings, and I want (through the main class) to print or call to the description of this pizza that contains not one but two toppings, how should I do this?</p>\n<p>My toppings class is an enum so I've tried, so far, this:</p>\n<pre><code>public class Pizza{\n\n    private Toppings[] toppings;\n\n    public Pizza(Toppings[] toppings){\n        this.toppings = new Toppings[]{Toppings.tomatosauce, Toppings.cheese};\n    }\n\n    public String toString(){\n        return &quot;Toppings: &quot; + toppings;\n    }\n\n}\n</code></pre>\n<p>then in the main class:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Pizza pizza = new Pizza(Toppings.cheese);\n        System.out.println(pizza);\n    }\n}\n</code></pre>\n<p>Obviously, this is wrong, as it only prints the cheese topping. Any hints?</p>\n"},{"tags":["java","arrays","binary-search-tree"],"comments":[{"owner":{"account_id":8650704,"reputation":3304,"user_id":6476496,"display_name":"kingkupps"},"score":0,"creation_date":1525922074,"post_id":50264909,"comment_id":87547823,"body_markdown":"Are you trying to make a balanced BST? If so this approach requires that the array is sorted. If not, why not iterate through the array and add sequentially to the tree?","body":"Are you trying to make a balanced BST? If so this approach requires that the array is sorted. If not, why not iterate through the array and add sequentially to the tree?"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1525923582,"post_id":50264909,"comment_id":87548182,"body_markdown":"@kingkupps It doesn&#39;t have to be a sorted array if you&#39;re *inserting* the array elements into a bst, but an array must be sorted to *perform* a binary search on the array. In fact, if it&#39;s ordered, and you insert them in order, the bst will devolve to a list. A balanced array also *does not* require sorted arrays; the balancing handles the issue I&#39;ve mentioned above.","body":"@kingkupps It doesn&#39;t have to be a sorted array if you&#39;re <i>inserting</i> the array elements into a bst, but an array must be sorted to <i>perform</i> a binary search on the array. In fact, if it&#39;s ordered, and you insert them in order, the bst will devolve to a list. A balanced array also <i>does not</i> require sorted arrays; the balancing handles the issue I&#39;ve mentioned above."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1525923734,"post_id":50264909,"comment_id":87548230,"body_markdown":"&quot;I have this code which works for this array but not if i changed the number to something not in the middle.&quot; Can you clarify this with an example please?","body":"&quot;I have this code which works for this array but not if i changed the number to something not in the middle.&quot; Can you clarify this with an example please?"},{"owner":{"account_id":8650704,"reputation":3304,"user_id":6476496,"display_name":"kingkupps"},"score":0,"creation_date":1525924467,"post_id":50264909,"comment_id":87548422,"body_markdown":"@ChiefTwoPencils Right but for this code as is to produce a balanced BST, array must be sorted. Otherwise the produced tree is not guaranteed to be balanced. What do you mean by balanced array?","body":"@ChiefTwoPencils Right but for this code as is to produce a balanced BST, array must be sorted. Otherwise the produced tree is not guaranteed to be balanced. What do you mean by balanced array?"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1525925189,"post_id":50264909,"comment_id":87548620,"body_markdown":"@king, according to what they wrote, they&#39;re going from array to an *un*-balanced bst and, sorry, I didn&#39;t mean to say array, I meant tree. I suppose the part that gets me is, I haven&#39;t seen many try to create a balanced tree by ensuring the source array was in a state that facilitated doing so; seems like it defeats the point; nothing stops us from implementing trees with arrays so I&#39;m a little confused.","body":"@king, according to what they wrote, they&#39;re going from array to an <i>un</i>-balanced bst and, sorry, I didn&#39;t mean to say array, I meant tree. I suppose the part that gets me is, I haven&#39;t seen many try to create a balanced tree by ensuring the source array was in a state that facilitated doing so; seems like it defeats the point; nothing stops us from implementing trees with arrays so I&#39;m a little confused."},{"owner":{"account_id":8650704,"reputation":3304,"user_id":6476496,"display_name":"kingkupps"},"score":1,"creation_date":1525925716,"post_id":50264909,"comment_id":87548737,"body_markdown":"@ChiefTwoPencils Ahh understood I misread the question.","body":"@ChiefTwoPencils Ahh understood I misread the question."},{"owner":{"account_id":13070967,"reputation":61,"user_id":9444522,"display_name":"Alexis Flanigan"},"score":0,"creation_date":1525943193,"post_id":50264909,"comment_id":87555966,"body_markdown":"@ChiefTwoPencils so if I changed the number 50 which is the first number in the Array to 80 instead I would not have a bst that took the first number as the root and created the bst based off of that number. I don’t need to have a balanced bst","body":"@ChiefTwoPencils so if I changed the number 50 which is the first number in the Array to 80 instead I would not have a bst that took the first number as the root and created the bst based off of that number. I don’t need to have a balanced bst"}],"answers":[{"tags":[],"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1639152440,"creation_date":1525977884,"answer_id":50279573,"question_id":50264909,"body_markdown":"I don&#39;t really understand why you try to split the array and it looks like you&#39;re making some assumptions about the values and their order. (though to be honest I haven&#39;t run your code) You cannot just take for granted the direction (left, right) you&#39;ll be going. It depends on the value of the current element and the value held by the current node.\r\n\r\nMy approach to this would be to define an `insert(Node node, int value)` method and let the `arrayToBinary` simply iterate the array and call `insert`. This will provide you with a clean tree with a minimal interface. Plus, it&#39;s based on the definition and insertion logic of a BST so it should be intuitive.\r\n\r\n*(pseudo for your pleasure)*&lt;br /&gt;\r\n**Insert**&lt;br/&gt;\r\n***\r\n\r\n    Node insert(node, value)\r\n        if node is null\r\n            // Create a leaf.\r\n            // It might be the root...\r\n            return new Node(value)\r\n\r\n        // It&#39;s occupied, see which way to\r\n        // go based on its value\r\n\r\n        // right? ...\r\n        if value &gt; node.value\r\n            node.right = insert(node.right, value)\r\n\r\n        // or left?\r\n        else if value &lt; node.value\r\n            node.left = insert(node.left, value)\r\n\r\n        // Code is not handling dups.\r\n        return node\r\n\r\n***\r\n**Conversion**&lt;br/&gt;\r\n***\r\n\r\n    Node arrayToBinary(array, root)\r\n        for e in array\r\n            root = insert(root, e)\r\n        return root\r\n***\r\n\r\nThis will keep the first element as the root and will insert the rest of the array as expected. ","title":"unsorted Array to Binary Search Tree","body":"<p>I don't really understand why you try to split the array and it looks like you're making some assumptions about the values and their order. (though to be honest I haven't run your code) You cannot just take for granted the direction (left, right) you'll be going. It depends on the value of the current element and the value held by the current node.</p>\n<p>My approach to this would be to define an <code>insert(Node node, int value)</code> method and let the <code>arrayToBinary</code> simply iterate the array and call <code>insert</code>. This will provide you with a clean tree with a minimal interface. Plus, it's based on the definition and insertion logic of a BST so it should be intuitive.</p>\n<p><em>(pseudo for your pleasure)</em><br />\n<strong>Insert</strong><br/></p>\n<hr />\n<pre><code>Node insert(node, value)\n    if node is null\n        // Create a leaf.\n        // It might be the root...\n        return new Node(value)\n\n    // It's occupied, see which way to\n    // go based on its value\n\n    // right? ...\n    if value &gt; node.value\n        node.right = insert(node.right, value)\n\n    // or left?\n    else if value &lt; node.value\n        node.left = insert(node.left, value)\n\n    // Code is not handling dups.\n    return node\n</code></pre>\n<hr />\n<p><strong>Conversion</strong><br/></p>\n<hr />\n<pre><code>Node arrayToBinary(array, root)\n    for e in array\n        root = insert(root, e)\n    return root\n</code></pre>\n<hr />\n<p>This will keep the first element as the root and will insert the rest of the array as expected.</p>\n"}],"owner":{"account_id":13070967,"reputation":61,"user_id":9444522,"display_name":"Alexis Flanigan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16671,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50279573,"answer_count":1,"score":0,"last_activity_date":1639152440,"creation_date":1525921894,"question_id":50264909,"body_markdown":"So I am sure this is super easy and I am just missing it but I need to make an unsorted array to BST. I have an array int [] data = { 50, 30, 60, 10, 80, 55, 40 };  and I need to convert it to an unbalanced BST with the first number as the root no matter what I change it to and the other numbers follow the left and right rules. I have this code which works for this array but not if i changed the number to something not in the middle.\r\n\r\n     public Node arraytoBinary(int [] array, int start, int end) {\r\n        if (start &gt; end){\r\n            return null;\r\n        }\r\n        int mid = (start + end) / 2;\r\n        Node node = new Node(array[mid]);\r\n       node.left = arraytoBinary(array, start, mid - 1);\r\n       node.right = arraytoBinary(array, mid + 1, end);\r\n         \r\n        return node;\r\n    }    ","title":"unsorted Array to Binary Search Tree","body":"<p>So I am sure this is super easy and I am just missing it but I need to make an unsorted array to BST. I have an array int [] data = { 50, 30, 60, 10, 80, 55, 40 };  and I need to convert it to an unbalanced BST with the first number as the root no matter what I change it to and the other numbers follow the left and right rules. I have this code which works for this array but not if i changed the number to something not in the middle.</p>\n\n<pre><code> public Node arraytoBinary(int [] array, int start, int end) {\n    if (start &gt; end){\n        return null;\n    }\n    int mid = (start + end) / 2;\n    Node node = new Node(array[mid]);\n   node.left = arraytoBinary(array, start, mid - 1);\n   node.right = arraytoBinary(array, mid + 1, end);\n\n    return node;\n}    \n</code></pre>\n"},{"tags":["java","spring","spring-profiles"],"comments":[{"owner":{"account_id":1876334,"reputation":8014,"user_id":1697482,"accept_rate":88,"display_name":"Robert Hunt"},"score":1,"creation_date":1657920094,"post_id":70307307,"comment_id":128932804,"body_markdown":"I had a similar issue, a legacy Spring Framework project where I needed the Spring Boot sort of functionality - this solution worked for me: https://stackoverflow.com/a/32268713/1697482","body":"I had a similar issue, a legacy Spring Framework project where I needed the Spring Boot sort of functionality - this solution worked for me: <a href=\"https://stackoverflow.com/a/32268713/1697482\">stackoverflow.com/a/32268713/1697482</a>"}],"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639152320,"creation_date":1639152320,"question_id":70307307,"body_markdown":"We know spring boot supports *Profile-specific Properties Files* , meaning we can has one `app.properties` defining common/shared key-value pair and additional `app-[prod|dev|stage].properties`. With `spring.profiles.active` , we can switch different profile .\r\n\r\nBut I wonder if this is available in normal spring context WITHOUT spring-boot ?\r\n\r\nThe most important requirement : I don&#39;t want to hard-code profile in any Java/XML/Kotlin code (except in Tests , which may assign `@ActiveProfiles(&quot;dev&quot;)` ). Which means\r\n\r\nThis is not ideal :\r\n```\r\n@PropertySources(\r\n  PropertySource(value = [&quot;classpath:app.properties&quot;]),\r\n  PropertySource(value = [&quot;classpath:app-dev.properties&quot;], ignoreResourceNotFound = true),\r\n)\r\n```\r\nas it hard-coded `dev` in the code.\r\n\r\nAnd this is not acceptable \r\n```\r\nPropertySourcesPlaceholderConfigurer().apply {\r\n  setLocations(\r\n    ClassPathResource(&quot;app.properties&quot;) ,\r\n    ClassPathResource(&quot;app-dev.properties&quot;)\r\n  )\r\n}\r\n```\r\nas it also hard-coded `dev` in the code.\r\n\r\nSolution like :\r\n```\r\n&lt;context:property-placeholder location=&quot;classpath:app-${spring.profiles.active}.properties&quot; /&gt;\r\n```\r\nis not acceptable , as there will be an `app-.properties` storing common/shared K/V , which is very ugly (the redundant `-` character )\r\n\r\n\r\nXML solutions are welcome , but such as \r\n```\r\napp-prod.xml\r\n&lt;beans profile=&quot;prod&quot;&gt;\r\n  &lt;context:property-placeholder location=&quot;classpath:app.properties,classpath:app-prod.properties&quot; /&gt;\r\n&lt;/beans&gt;\r\nand\r\napp-dev.xml\r\n&lt;beans profile=&quot;dev&quot;&gt;\r\n  &lt;context:property-placeholder location=&quot;classpath:app.properties,classpath:app-dev.properties&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\nis not so good. As it is not auto-discovery.\r\n\r\n\r\nI hope it can auto discover relevant profiles , for example : `app.properties` , `app-prod.properties` , `app-dev.properties` and automatically knows there are two profiles (`prod` and `dev`). With `@ActiveProfiles(&quot;dev&quot;)` , it automatically picks up `app.properties` and `app-dev.properties`, and uses `dev` to override default KVs. Just like what spring-boot does. But without boot environment.\r\n\r\nThis will be packed in WAR and deployed to Tomcat. So , no spring boot needed.\r\n\r\n\r\nEnvironment : spring-core 5.3.13\r\n\r\nThanks.","title":"Profile-specific Properties Files WITHOUT spring boot?","body":"<p>We know spring boot supports <em>Profile-specific Properties Files</em> , meaning we can has one <code>app.properties</code> defining common/shared key-value pair and additional <code>app-[prod|dev|stage].properties</code>. With <code>spring.profiles.active</code> , we can switch different profile .</p>\n<p>But I wonder if this is available in normal spring context WITHOUT spring-boot ?</p>\n<p>The most important requirement : I don't want to hard-code profile in any Java/XML/Kotlin code (except in Tests , which may assign <code>@ActiveProfiles(&quot;dev&quot;)</code> ). Which means</p>\n<p>This is not ideal :</p>\n<pre><code>@PropertySources(\n  PropertySource(value = [&quot;classpath:app.properties&quot;]),\n  PropertySource(value = [&quot;classpath:app-dev.properties&quot;], ignoreResourceNotFound = true),\n)\n</code></pre>\n<p>as it hard-coded <code>dev</code> in the code.</p>\n<p>And this is not acceptable</p>\n<pre><code>PropertySourcesPlaceholderConfigurer().apply {\n  setLocations(\n    ClassPathResource(&quot;app.properties&quot;) ,\n    ClassPathResource(&quot;app-dev.properties&quot;)\n  )\n}\n</code></pre>\n<p>as it also hard-coded <code>dev</code> in the code.</p>\n<p>Solution like :</p>\n<pre><code>&lt;context:property-placeholder location=&quot;classpath:app-${spring.profiles.active}.properties&quot; /&gt;\n</code></pre>\n<p>is not acceptable , as there will be an <code>app-.properties</code> storing common/shared K/V , which is very ugly (the redundant <code>-</code> character )</p>\n<p>XML solutions are welcome , but such as</p>\n<pre><code>app-prod.xml\n&lt;beans profile=&quot;prod&quot;&gt;\n  &lt;context:property-placeholder location=&quot;classpath:app.properties,classpath:app-prod.properties&quot; /&gt;\n&lt;/beans&gt;\nand\napp-dev.xml\n&lt;beans profile=&quot;dev&quot;&gt;\n  &lt;context:property-placeholder location=&quot;classpath:app.properties,classpath:app-dev.properties&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>is not so good. As it is not auto-discovery.</p>\n<p>I hope it can auto discover relevant profiles , for example : <code>app.properties</code> , <code>app-prod.properties</code> , <code>app-dev.properties</code> and automatically knows there are two profiles (<code>prod</code> and <code>dev</code>). With <code>@ActiveProfiles(&quot;dev&quot;)</code> , it automatically picks up <code>app.properties</code> and <code>app-dev.properties</code>, and uses <code>dev</code> to override default KVs. Just like what spring-boot does. But without boot environment.</p>\n<p>This will be packed in WAR and deployed to Tomcat. So , no spring boot needed.</p>\n<p>Environment : spring-core 5.3.13</p>\n<p>Thanks.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639671163,"post_id":70305604,"comment_id":124413777,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":8462680,"reputation":90,"user_id":6347831,"display_name":"Yenny Muller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639151853,"creation_date":1639151853,"answer_id":70307223,"question_id":70305604,"body_markdown":"it depends on the type of configuration you have, usually you cannot include the database name in the query, this must be configured elsewhere\r\n\r\n```\r\nSELECT COUNT(*), \r\n       channel_user_id\r\nFROM interaction_user_status\r\nWHERE channel_user_id IN ( SELECT DISTINCT channel_user_id\r\n                           FROM channel_user \r\n                           WHERE user_community_id = 1 \r\n                          )\r\nAND status = 0 \r\nGROUP BY channel_user_id;\r\n\r\n```","title":"How to write this query using Hibernate Criteria","body":"<p>it depends on the type of configuration you have, usually you cannot include the database name in the query, this must be configured elsewhere</p>\n<pre><code>SELECT COUNT(*), \n       channel_user_id\nFROM interaction_user_status\nWHERE channel_user_id IN ( SELECT DISTINCT channel_user_id\n                           FROM channel_user \n                           WHERE user_community_id = 1 \n                          )\nAND status = 0 \nGROUP BY channel_user_id;\n\n</code></pre>\n"}],"owner":{"account_id":23610178,"reputation":1,"user_id":17645315,"display_name":"Ashish Umare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639151853,"creation_date":1639144620,"question_id":70305604,"body_markdown":"\r\n\r\n    SELECT COUNT(*), \r\n           channel_user_id\r\n    FROM communication.interaction_user_status\r\n    WHERE channel_user_id IN ( SELECT DISTINCT channel_user_id\r\n                               FROM communication.channel_user \r\n                               WHERE user_community_id = 1 \r\n                              )\r\n    AND status = 0 \r\n    GROUP BY channel_user_id;\r\n\r\n","title":"How to write this query using Hibernate Criteria","body":"<pre><code>SELECT COUNT(*), \n       channel_user_id\nFROM communication.interaction_user_status\nWHERE channel_user_id IN ( SELECT DISTINCT channel_user_id\n                           FROM communication.channel_user \n                           WHERE user_community_id = 1 \n                          )\nAND status = 0 \nGROUP BY channel_user_id;\n</code></pre>\n"},{"tags":["java","proxy"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1280239155,"creation_date":1280239155,"answer_id":3344386,"question_id":3344299,"body_markdown":"You can get the `InvocationHandler` with which the proxy was created, by calling `Proxy.getInvocationHandler(proxy)`\r\n\r\nNote that in the case of `java.lang.reflect.Proxy` there is no _underlying class_ per se. The proxy is defined by:\r\n\r\n- interface(s)\r\n- invocation handler\r\n\r\nAnd the wrapped class is usually passed to the concrete invocation handler.","title":"How do I get the underlying type of a proxy object in java?","body":"<p>You can get the <code>InvocationHandler</code> with which the proxy was created, by calling <code>Proxy.getInvocationHandler(proxy)</code></p>\n\n<p>Note that in the case of <code>java.lang.reflect.Proxy</code> there is no <em>underlying class</em> per se. The proxy is defined by:</p>\n\n<ul>\n<li>interface(s)</li>\n<li>invocation handler</li>\n</ul>\n\n<p>And the wrapped class is usually passed to the concrete invocation handler.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1280241499,"creation_date":1280239909,"answer_id":3344507,"question_id":3344299,"body_markdown":"Well a Proxy instance won&#39;t be an instance of `java.lang.reflect.Proxy` *per se*.  Rather, it will be an instance of a *subclass* of `java.lang.reflect.Proxy`.\r\n\r\nAnyway, the way to get the actual proxy classes name is:\r\n\r\n    Proxy proxy = ...\r\n    System.err.println(&quot;Proxy class name is &quot; + proxy.getClass().getCanonicalName());\r\n\r\nHowever, you cannot get the name of the class that the Proxy is a proxy for, because:\r\n\r\n  1. you proxy interfaces not classes, and\r\n  2. a Proxy can be a proxy for multiple interfaces\r\n\r\nHowever, from looking at the source code of the `ProxyGenerator` class, it seems that the interfaces are recorded in the generated proxy class as the interfaces of the class.  So you should be able to get them at runtime via the proxy classes `Class` object; e.g.\r\n\r\n    Class&lt;?&gt;[] classes = proxy.getClass().getInterfaces();\r\n\r\n(Note: I&#39;ve not tried this ...)\r\n","title":"How do I get the underlying type of a proxy object in java?","body":"<p>Well a Proxy instance won't be an instance of <code>java.lang.reflect.Proxy</code> <em>per se</em>.  Rather, it will be an instance of a <em>subclass</em> of <code>java.lang.reflect.Proxy</code>.</p>\n\n<p>Anyway, the way to get the actual proxy classes name is:</p>\n\n<pre><code>Proxy proxy = ...\nSystem.err.println(\"Proxy class name is \" + proxy.getClass().getCanonicalName());\n</code></pre>\n\n<p>However, you cannot get the name of the class that the Proxy is a proxy for, because:</p>\n\n<ol>\n<li>you proxy interfaces not classes, and</li>\n<li>a Proxy can be a proxy for multiple interfaces</li>\n</ol>\n\n<p>However, from looking at the source code of the <code>ProxyGenerator</code> class, it seems that the interfaces are recorded in the generated proxy class as the interfaces of the class.  So you should be able to get them at runtime via the proxy classes <code>Class</code> object; e.g.</p>\n\n<pre><code>Class&lt;?&gt;[] classes = proxy.getClass().getInterfaces();\n</code></pre>\n\n<p>(Note: I've not tried this ...)</p>\n"},{"tags":[],"owner":{"account_id":948450,"reputation":3058,"user_id":975169,"display_name":"Enginer"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1505756303,"creation_date":1374053086,"answer_id":17695987,"question_id":3344299,"body_markdown":"I found a good solution on [this site](http://web.archive.org/web/20090611002829/http://www.techper.net:80/2009/06/05/how-to-acess-target-object-behind-a-spring-proxy/) (now archived):\r\n\r\n    @SuppressWarnings({&quot;unchecked&quot;})\r\n    protected &lt;T&gt; T getTargetObject(Object proxy, Class&lt;T&gt; targetClass) throws Exception {\r\n      if (AopUtils.isJdkDynamicProxy(proxy)) {\r\n        return (T) ((Advised)proxy).getTargetSource().getTarget();\r\n      } else {\r\n        return (T) proxy; // expected to be cglib proxy then, which is simply a specialized class\r\n      }\r\n    }\r\n\r\nUsage\r\n\r\n    @Override\r\n    protected void onSetUp() throws Exception {\r\n      getTargetObject(fooBean, FooBeanImpl.class).setBarRepository(new MyStubBarRepository());\r\n    }","title":"How do I get the underlying type of a proxy object in java?","body":"<p>I found a good solution on <a href=\"http://web.archive.org/web/20090611002829/http://www.techper.net:80/2009/06/05/how-to-acess-target-object-behind-a-spring-proxy/\" rel=\"noreferrer\">this site</a> (now archived):</p>\n\n<pre><code>@SuppressWarnings({\"unchecked\"})\nprotected &lt;T&gt; T getTargetObject(Object proxy, Class&lt;T&gt; targetClass) throws Exception {\n  if (AopUtils.isJdkDynamicProxy(proxy)) {\n    return (T) ((Advised)proxy).getTargetSource().getTarget();\n  } else {\n    return (T) proxy; // expected to be cglib proxy then, which is simply a specialized class\n  }\n}\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>@Override\nprotected void onSetUp() throws Exception {\n  getTargetObject(fooBean, FooBeanImpl.class).setBarRepository(new MyStubBarRepository());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490255,"reputation":969,"user_id":2920131,"display_name":"Lucien Boix"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1403818102,"creation_date":1403818102,"answer_id":24440560,"question_id":3344299,"body_markdown":"Here was the solution we used with my team (we need the name of the class behind the proxy) :\r\n\r\n    if (getTargetName(yourBean) ... ) {\r\n\r\n    }\r\n\r\nWith this little helper :\r\n\r\n\r\n    private String getTargetName(final Object target) {\r\n\r\n        if (target == null) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        if (targetClassIsProxied(target)) {\r\n\r\n            Advised advised = (Advised) target;\r\n\r\n            try {\r\n\r\n                return advised.getTargetSource().getTarget().getClass().getCanonicalName();\r\n            } catch (Exception e) {\r\n\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n\r\n        return target.getClass().getCanonicalName();\r\n    }\r\n\r\n    private boolean targetClassIsProxied(final Object target) {\r\n\r\n        return target.getClass().getCanonicalName().contains(&quot;$Proxy&quot;);\r\n    }\r\n\r\nHope it helps!","title":"How do I get the underlying type of a proxy object in java?","body":"<p>Here was the solution we used with my team (we need the name of the class behind the proxy) :</p>\n\n<pre><code>if (getTargetName(yourBean) ... ) {\n\n}\n</code></pre>\n\n<p>With this little helper :</p>\n\n<pre><code>private String getTargetName(final Object target) {\n\n    if (target == null) {\n        return \"\";\n    }\n\n    if (targetClassIsProxied(target)) {\n\n        Advised advised = (Advised) target;\n\n        try {\n\n            return advised.getTargetSource().getTarget().getClass().getCanonicalName();\n        } catch (Exception e) {\n\n            return \"\";\n        }\n    }\n\n    return target.getClass().getCanonicalName();\n}\n\nprivate boolean targetClassIsProxied(final Object target) {\n\n    return target.getClass().getCanonicalName().contains(\"$Proxy\");\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425032700,"creation_date":1425032700,"answer_id":28762771,"question_id":3344299,"body_markdown":"You can use the following code for retrieve the info (ArrayUtils is from Apache commons lang) about invocation handler and the interfaces of the current proxy:\r\n\r\n    String.format(&quot;[ProxyInvocationHandler: %s, Interfaces: %s]&quot;, \r\n         Proxy.getInvocationHandler(proxy).getClass().getSimpleName(), \r\n         ArrayUtils.toString(proxy.getClass().getInterfaces()));\r\n\r\nExample result:\r\n\r\n    [ProxyInvocationHandler: ExecuteProxyChain, Interfaces: {interface com.example.api.CustomerApi}]}","title":"How do I get the underlying type of a proxy object in java?","body":"<p>You can use the following code for retrieve the info (ArrayUtils is from Apache commons lang) about invocation handler and the interfaces of the current proxy:</p>\n\n<pre><code>String.format(\"[ProxyInvocationHandler: %s, Interfaces: %s]\", \n     Proxy.getInvocationHandler(proxy).getClass().getSimpleName(), \n     ArrayUtils.toString(proxy.getClass().getInterfaces()));\n</code></pre>\n\n<p>Example result:</p>\n\n<pre><code>[ProxyInvocationHandler: ExecuteProxyChain, Interfaces: {interface com.example.api.CustomerApi}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484668339,"creation_date":1484667284,"answer_id":41701132,"question_id":3344299,"body_markdown":"First of all, `java.lang.reflect.Proxy` works only on interfaces. The framework creates a descendant class that implements the interface(s) but extends java.lang.reflect.Proxy rather than an application class that may be of interest to you. There is no inheritance of multiple classes in modern (2016) Java.\r\n\r\nIn my case, the debugger shows that the object of interest is in the `obj` field in the invocation handler of the proxy object.\r\n\r\n\t\tObject handler = Proxy.getInvocationHandler(somethingProxied);\r\n\t\tClass handlerClass = handler.getClass();\r\n\t\tField objField = handlerClass.getDeclaredField(&quot;obj&quot;);\r\n\t\tobjField.setAccessible(true);\r\n\t\tObject behindProxy = objField.get(handler);\r\n\r\nYou will have to `catch()` two exceptions: `NoSuchFieldException` and `IllegalAccessException`.\r\n\r\nI found it useful to print the list of fields of declared fields from the `catch()` clause:\r\n\r\n\t...\r\n\t} catch (NoSuchFieldException nsfe) {\r\n\t\tnsfe.printStackTrace();\r\n\r\n\t\tObject handler = Proxy.getInvocationHandler(somethingProxied);\r\n\t\tClass handlerClass = handler.getClass();\r\n\t\tfor (Field f : handlerClass.getDeclaredFields()) {\r\n\t\t\tf.setAccessible(true);\r\n\t\t\tString classAndValue = null;\r\n\t\t\ttry {\r\n\t\t\t\tObject v = f.get(handler);\r\n\t\t\t\tclassAndValue= &quot;&quot; + (v == null ? &quot;&quot; : v.getClass()) + &quot; : &quot; + v;\r\n\t\t\t} catch (IllegalAccessException iae) {\r\n\t\t\t\tiae.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot; field: &quot; + f.getName() + &quot; = &quot; + classAndValue+ &quot;;&quot;);\r\n\t\t}\r\n\t...\r\n\t}\r\n\r\nNote that different frameworks use different proxies and even different techniques of proxying. The solution that worked for me may be not applicable in your case. (It definitely will not work for Javassist or Hibernate proxies.)\r\n","title":"How do I get the underlying type of a proxy object in java?","body":"<p>First of all, <code>java.lang.reflect.Proxy</code> works only on interfaces. The framework creates a descendant class that implements the interface(s) but extends java.lang.reflect.Proxy rather than an application class that may be of interest to you. There is no inheritance of multiple classes in modern (2016) Java.</p>\n\n<p>In my case, the debugger shows that the object of interest is in the <code>obj</code> field in the invocation handler of the proxy object.</p>\n\n<pre><code>    Object handler = Proxy.getInvocationHandler(somethingProxied);\n    Class handlerClass = handler.getClass();\n    Field objField = handlerClass.getDeclaredField(\"obj\");\n    objField.setAccessible(true);\n    Object behindProxy = objField.get(handler);\n</code></pre>\n\n<p>You will have to <code>catch()</code> two exceptions: <code>NoSuchFieldException</code> and <code>IllegalAccessException</code>.</p>\n\n<p>I found it useful to print the list of fields of declared fields from the <code>catch()</code> clause:</p>\n\n<pre><code>...\n} catch (NoSuchFieldException nsfe) {\n    nsfe.printStackTrace();\n\n    Object handler = Proxy.getInvocationHandler(somethingProxied);\n    Class handlerClass = handler.getClass();\n    for (Field f : handlerClass.getDeclaredFields()) {\n        f.setAccessible(true);\n        String classAndValue = null;\n        try {\n            Object v = f.get(handler);\n            classAndValue= \"\" + (v == null ? \"\" : v.getClass()) + \" : \" + v;\n        } catch (IllegalAccessException iae) {\n            iae.printStackTrace();\n        }\n        System.out.println(\" field: \" + f.getName() + \" = \" + classAndValue+ \";\");\n    }\n...\n}\n</code></pre>\n\n<p>Note that different frameworks use different proxies and even different techniques of proxying. The solution that worked for me may be not applicable in your case. (It definitely will not work for Javassist or Hibernate proxies.)</p>\n"},{"tags":[],"owner":{"account_id":1364678,"reputation":2198,"user_id":1301373,"display_name":"winne2"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1553020997,"creation_date":1553020997,"answer_id":55248015,"question_id":3344299,"body_markdown":"Simple and robust:\r\n\r\n    AopUtils.getTargetClass(object).getName(); \r\n\r\nWill also work for CGLIB proxies and non-proxy objects.","title":"How do I get the underlying type of a proxy object in java?","body":"<p>Simple and robust:</p>\n\n<pre><code>AopUtils.getTargetClass(object).getName(); \n</code></pre>\n\n<p>Will also work for CGLIB proxies and non-proxy objects.</p>\n"},{"tags":[],"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624380084,"creation_date":1624380084,"answer_id":68087596,"question_id":3344299,"body_markdown":"Static Hibernate.getClass() might be useful in this scenario.\r\n\r\n`Get the true, underlying class of a proxied persistent class`\r\n\r\n```\r\n\tpublic static Class getClass(Object proxy) {\r\n\t\tif ( proxy instanceof HibernateProxy ) {\r\n\t\t\treturn ( ( HibernateProxy ) proxy ).getHibernateLazyInitializer()\r\n\t\t\t\t\t.getImplementation()\r\n\t\t\t\t\t.getClass();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn proxy.getClass();\r\n\t\t}\r\n\t}\r\n```","title":"How do I get the underlying type of a proxy object in java?","body":"<p>Static Hibernate.getClass() might be useful in this scenario.</p>\n<p><code>Get the true, underlying class of a proxied persistent class</code></p>\n<pre><code>    public static Class getClass(Object proxy) {\n        if ( proxy instanceof HibernateProxy ) {\n            return ( ( HibernateProxy ) proxy ).getHibernateLazyInitializer()\n                    .getImplementation()\n                    .getClass();\n        }\n        else {\n            return proxy.getClass();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155972,"reputation":567,"user_id":372983,"display_name":"Nedko"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1639151798,"creation_date":1639151798,"answer_id":70307209,"question_id":3344299,"body_markdown":"I found the perfect solution for me in org.springframework.aop.framework.AopProxyUtils:\r\n  \r\n  &lt;code&gt;AopProxyUtils.ultimateTargetClass(object).getCanonicalName()&lt;/code&gt;\r\n\r\n","title":"How do I get the underlying type of a proxy object in java?","body":"<p>I found the perfect solution for me in org.springframework.aop.framework.AopProxyUtils:</p>\n<p><code>AopProxyUtils.ultimateTargetClass(object).getCanonicalName()</code></p>\n"}],"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37631,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":3344386,"answer_count":9,"score":39,"last_activity_date":1639151798,"creation_date":1280238614,"question_id":3344299,"body_markdown":"I&#39;d like to access the classname of the underlying class which is an instance of `java.lang.reflect.Proxy`.\r\n\r\nIs this possible?","title":"How do I get the underlying type of a proxy object in java?","body":"<p>I'd like to access the classname of the underlying class which is an instance of <code>java.lang.reflect.Proxy</code>.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1616784653,"post_id":66822118,"comment_id":118121164,"body_markdown":"The code looks correct. You need to add more controls to verify that you are using FlatLaf (e.g. Buttons, Checkboxes etc). A simple label won&#39;t look that much different to the system look and feel.","body":"The code looks correct. You need to add more controls to verify that you are using FlatLaf (e.g. Buttons, Checkboxes etc). A simple label won&#39;t look that much different to the system look and feel."}],"answers":[{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1639151385,"creation_date":1616814157,"answer_id":66827644,"question_id":66822118,"body_markdown":"I am not an expert on this, but here are some instructions:\r\n\r\n### Option 1: download files manually and install them\r\n\r\nYou can download and install the following files:\r\n1. **Binary file**: this is the bytecode executed by the Java Virtual Machine. This file in your case is called *flatlaf-1.1.jar*. This is the latest release so far. Those files usually (as in this case) consist of just the library name and the verison. This is the absolute mandatory file needed to be able to use the library, if you select this option.\r\n2. **JavaDoc file**: this is the file containing the documenting comments of each class, method, field and generally whatever documentation the developers provide with their code. This file in your case is called *flatlaf-1.1-javadoc.jar*. Usally the developers provide an online documentation which is even downloadable in HTML format, but downloading this file beforehand, will let you see the docs any time in your IDE (ie project editor, such as NetBeans or IntelliJ) even when offline. So this file is a very good one, but not an absolute mandatory one.\r\n3. **Sources file**: this is the file containing the source code of each class, method, field and generally the code of the library, bundled in a jar file. This file in your case is called *flatlaf-1.1-sources.jar*. If you connect your project with this source&#39;s file you get the benefit of seeing the actual code (not Java bytecode as is the case of the binary, but Java plain text source code) that the library is implemented in. This file then is again not an absolute mandatory one, but it is a good one to consult if something is not clear enough (or is missing) from the documentation.\r\n\r\nAll the files I mentioned so far can be found where the site guides you to find them, for example the latest release files of your desired library can be found all together [here][1]. You can find this link as follows: first navigate to the [FlatLaf&#39;s home page](https://www.formdev.com/flatlaf/), then scroll a bit down on this page to find the section *Download* which gives you another link, the one in the Maven repository (specifically [this](https://search.maven.org/artifact/com.formdev/flatlaf/1.1/jar) one). There you can find instructions on how to link the library to your project and, of course, download the necessary files. In this case, there are two buttons on the top right, the one called *Browse* and the other called *Downloads*. The *Downloads* button simply drops down a list of all assets (ie files) that you can download. The *Browse* button navigates you to the directory of the server where you can find all the files presented with the drop down list of the *Downloads* button, so let&#39;s go there in order to see all the available files...\r\n\r\nIf you went there, you can see many more files. Most of them are imporant for security, which something I did not cover yet. It is always important to verify the integrity of the files you download, because there are security risks if you don&#39;t. You don&#39;t want the library you download to be a malicious copy provided by a phising site for example. So you need to verify them together with the link you are visiting. Admitedly, I am not doing this very often, when downloading libraries, but I feel that, my neglectness of doing it, does not make it something I should not mention. So I am warning you: be aware of what you are downloading.\r\n\r\nLet&#39;s have a break to see what all those files (most likely) are:\r\n1. jar files are the main files you need to make things work. They are the files I mentioned above.\r\n2. pom file I think is a settings&#39; file for Apache Maven build system.\r\n3. asc files are the PGP signatures.\r\n4. md5, sha1, sha256 and sha512 are the hashes.\r\nIf you are familiar, you know what I am saying. So you should take a step back and verify the signatures and hashes of the main (jar) files you just downloaded.\r\n\r\nBest way to verify the integrity in my opinion is to simply download the source code, verify it yourself and via the provided resources, then build form source (if you trust your compiler) and install. But that&#39;s not so simple, nor time preserving. All those links I provide may contain malicious content: I just cannot know yet because I haven&#39;t spent the necessary time to verify. So continue at your own risk, as they usually say. Also note I am getting a warning when downloading jar files generally because &quot;they are not trusted&quot; as the message says. Moving on...\r\n\r\n### Option 2: sync with a build system\r\n\r\nIf you have a system to automate the building process of your project (instead of compiling each and every Java source code file of your project with `javac` command line utility), such as [Apache Maven][2], [Gradle][3], [Apache Ant][4] and others, then you have the option to include a so called dependecy of the library in your project and let the build system synchronize (ie download and include the library in the build process). This is at least what happens with Gradle which I am a little familiar with. As for the others I am not really familiar, so this is where I stop talking for them. Just note that there are several instructions and tutorials and documentation about how to use them, either via command line directly, or via your IDE. Then the library developers as far as I know usually they let you know how to include the corresponding dependency in the build tool&#39;s settings file.\r\n\r\n### Option 3: build from source, then install\r\n\r\nYou can download the source code (of this software at least) from GitHub, or sometimes by FTP sites or generally from some online server of some sort which provides the corresponding content, and build it. The source code of your desired library is located [here][5], as you have probably found out, judging from the question. \r\n\r\n  [1]: https://repo1.maven.org/maven2/com/formdev/flatlaf/1.1/\r\n  [2]: https://maven.apache.org/\r\n  [3]: https://gradle.org/\r\n  [4]: https://ant.apache.org/\r\n  [5]: https://github.com/JFormDesigner/FlatLaf\r\n\r\n### Installing\r\n\r\nSo now that you downloaded (and verified), or built what you needed, the actual installation is as follows... I am going to demonstrate for the NetBeans 8.2 IDE with Java 8 (the minimum supported version for FlatLaf), but the steps I guess are generally the same for each IDE and version. If they are not, you can be more specific about your environment and then we can talk again.\r\n\r\n1. Include the compiled library (*flatlaf-1.1.jar*) in your project, like so: right click the project from the *Projects* tab of NetBeans (usually to the left of the IDE) and go to the bottom most button named *Properties* and click it. In the dialog that pop&#39;s up, from the *Categories* section, to the left of the dialog, select the category named *Libraries*. Select the tab *Compile* from the middle, and click on *Add JAR/Folder* to the right. Then go select your library file and click *Open* to include it. That&#39;s it. You are basically now ready to start including the FlatLaf&#39;s classes to your project, because this file was the absolute mandatory one, as I said above.\r\n2. Next, the JavaDoc file. Create a class in the project and use a class from the library by importing it and declaring a reference for example of that imported class. Press &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;SPACE&lt;/kbd&gt; on the class name... A dialog pops up saying there is no JavaDoc attached, and gives you a place to click which says &quot;Attach JavaDoc...&quot; or something similar. Click it, and then click on the *Add ZIP/Folder* button, select the JavaDoc jar file and confirm your choice. This is now ready.\r\n3. Finally the Sources&#39; file. As you have ready the class reference in your code, left click the class name with holding the &lt;kbd&gt;CTRL&lt;/kbd&gt; key. This will get you to the source code. You will see that only the methods names are shown and every method body says *Compiled Code* and if you unfold/expand it, then you see the bytecode in comments. That means the sources are not attached. You are seeing the bytecode of the compiled jar file. On the top right of the editor, there is now a button which reads *Attach Sources...*. Click it, and then a dialog pops up. Click the button *Add Zip/Folder...*, navigate and select the *flatlaf-1.1-sources.jar* file and you can now see the source code of the library.\r\n\r\n### Building a sample application\r\n\r\nYou can consult the [GitHub](https://github.com/JFormDesigner/FlatLaf#getting-started) page, or the the project&#39;s main page which guides you through. Basically you can try the following:\r\n\r\n```\r\nimport com.formdev.flatlaf.FlatDarkLaf;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class Main {\r\n    \r\n    private static void createAndShowGUI() {\r\n        FlatDarkLaf.setup();  //Must be called first of all Swing code as this sets the look and feel to FlatDark.\r\n        \r\n        final JPanel panel = new JPanel(); //FlowLayout.\r\n        panel.add(new JButton(&quot;FlatDarkLaf button!&quot;));\r\n        panel.add(new JTextField(&quot;FlatDarkLaf text field!&quot;));\r\n        \r\n        final JFrame frame = new JFrame(&quot;FlatDarkLaf test.&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(panel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        SwingUtilities.invokeLater(Main::createAndShowGUI);\r\n    }\r\n}\r\n```\r\n\r\nFinal note: you must apply your LAF before any Swing component creation. In the code in your question seems like you are not, because you first create the `JFrame` (via constructor&#39;s `super` call) and then you install the LAF in a manner which is also not recommended.","title":"How to use FlatLaf library in swing application?","body":"<p>I am not an expert on this, but here are some instructions:</p>\n<h3>Option 1: download files manually and install them</h3>\n<p>You can download and install the following files:</p>\n<ol>\n<li><strong>Binary file</strong>: this is the bytecode executed by the Java Virtual Machine. This file in your case is called <em>flatlaf-1.1.jar</em>. This is the latest release so far. Those files usually (as in this case) consist of just the library name and the verison. This is the absolute mandatory file needed to be able to use the library, if you select this option.</li>\n<li><strong>JavaDoc file</strong>: this is the file containing the documenting comments of each class, method, field and generally whatever documentation the developers provide with their code. This file in your case is called <em>flatlaf-1.1-javadoc.jar</em>. Usally the developers provide an online documentation which is even downloadable in HTML format, but downloading this file beforehand, will let you see the docs any time in your IDE (ie project editor, such as NetBeans or IntelliJ) even when offline. So this file is a very good one, but not an absolute mandatory one.</li>\n<li><strong>Sources file</strong>: this is the file containing the source code of each class, method, field and generally the code of the library, bundled in a jar file. This file in your case is called <em>flatlaf-1.1-sources.jar</em>. If you connect your project with this source's file you get the benefit of seeing the actual code (not Java bytecode as is the case of the binary, but Java plain text source code) that the library is implemented in. This file then is again not an absolute mandatory one, but it is a good one to consult if something is not clear enough (or is missing) from the documentation.</li>\n</ol>\n<p>All the files I mentioned so far can be found where the site guides you to find them, for example the latest release files of your desired library can be found all together <a href=\"https://repo1.maven.org/maven2/com/formdev/flatlaf/1.1/\" rel=\"nofollow noreferrer\">here</a>. You can find this link as follows: first navigate to the <a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\">FlatLaf's home page</a>, then scroll a bit down on this page to find the section <em>Download</em> which gives you another link, the one in the Maven repository (specifically <a href=\"https://search.maven.org/artifact/com.formdev/flatlaf/1.1/jar\" rel=\"nofollow noreferrer\">this</a> one). There you can find instructions on how to link the library to your project and, of course, download the necessary files. In this case, there are two buttons on the top right, the one called <em>Browse</em> and the other called <em>Downloads</em>. The <em>Downloads</em> button simply drops down a list of all assets (ie files) that you can download. The <em>Browse</em> button navigates you to the directory of the server where you can find all the files presented with the drop down list of the <em>Downloads</em> button, so let's go there in order to see all the available files...</p>\n<p>If you went there, you can see many more files. Most of them are imporant for security, which something I did not cover yet. It is always important to verify the integrity of the files you download, because there are security risks if you don't. You don't want the library you download to be a malicious copy provided by a phising site for example. So you need to verify them together with the link you are visiting. Admitedly, I am not doing this very often, when downloading libraries, but I feel that, my neglectness of doing it, does not make it something I should not mention. So I am warning you: be aware of what you are downloading.</p>\n<p>Let's have a break to see what all those files (most likely) are:</p>\n<ol>\n<li>jar files are the main files you need to make things work. They are the files I mentioned above.</li>\n<li>pom file I think is a settings' file for Apache Maven build system.</li>\n<li>asc files are the PGP signatures.</li>\n<li>md5, sha1, sha256 and sha512 are the hashes.\nIf you are familiar, you know what I am saying. So you should take a step back and verify the signatures and hashes of the main (jar) files you just downloaded.</li>\n</ol>\n<p>Best way to verify the integrity in my opinion is to simply download the source code, verify it yourself and via the provided resources, then build form source (if you trust your compiler) and install. But that's not so simple, nor time preserving. All those links I provide may contain malicious content: I just cannot know yet because I haven't spent the necessary time to verify. So continue at your own risk, as they usually say. Also note I am getting a warning when downloading jar files generally because &quot;they are not trusted&quot; as the message says. Moving on...</p>\n<h3>Option 2: sync with a build system</h3>\n<p>If you have a system to automate the building process of your project (instead of compiling each and every Java source code file of your project with <code>javac</code> command line utility), such as <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Apache Maven</a>, <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a>, <a href=\"https://ant.apache.org/\" rel=\"nofollow noreferrer\">Apache Ant</a> and others, then you have the option to include a so called dependecy of the library in your project and let the build system synchronize (ie download and include the library in the build process). This is at least what happens with Gradle which I am a little familiar with. As for the others I am not really familiar, so this is where I stop talking for them. Just note that there are several instructions and tutorials and documentation about how to use them, either via command line directly, or via your IDE. Then the library developers as far as I know usually they let you know how to include the corresponding dependency in the build tool's settings file.</p>\n<h3>Option 3: build from source, then install</h3>\n<p>You can download the source code (of this software at least) from GitHub, or sometimes by FTP sites or generally from some online server of some sort which provides the corresponding content, and build it. The source code of your desired library is located <a href=\"https://github.com/JFormDesigner/FlatLaf\" rel=\"nofollow noreferrer\">here</a>, as you have probably found out, judging from the question.</p>\n<h3>Installing</h3>\n<p>So now that you downloaded (and verified), or built what you needed, the actual installation is as follows... I am going to demonstrate for the NetBeans 8.2 IDE with Java 8 (the minimum supported version for FlatLaf), but the steps I guess are generally the same for each IDE and version. If they are not, you can be more specific about your environment and then we can talk again.</p>\n<ol>\n<li>Include the compiled library (<em>flatlaf-1.1.jar</em>) in your project, like so: right click the project from the <em>Projects</em> tab of NetBeans (usually to the left of the IDE) and go to the bottom most button named <em>Properties</em> and click it. In the dialog that pop's up, from the <em>Categories</em> section, to the left of the dialog, select the category named <em>Libraries</em>. Select the tab <em>Compile</em> from the middle, and click on <em>Add JAR/Folder</em> to the right. Then go select your library file and click <em>Open</em> to include it. That's it. You are basically now ready to start including the FlatLaf's classes to your project, because this file was the absolute mandatory one, as I said above.</li>\n<li>Next, the JavaDoc file. Create a class in the project and use a class from the library by importing it and declaring a reference for example of that imported class. Press <kbd>CTRL</kbd>+<kbd>SPACE</kbd> on the class name... A dialog pops up saying there is no JavaDoc attached, and gives you a place to click which says &quot;Attach JavaDoc...&quot; or something similar. Click it, and then click on the <em>Add ZIP/Folder</em> button, select the JavaDoc jar file and confirm your choice. This is now ready.</li>\n<li>Finally the Sources' file. As you have ready the class reference in your code, left click the class name with holding the <kbd>CTRL</kbd> key. This will get you to the source code. You will see that only the methods names are shown and every method body says <em>Compiled Code</em> and if you unfold/expand it, then you see the bytecode in comments. That means the sources are not attached. You are seeing the bytecode of the compiled jar file. On the top right of the editor, there is now a button which reads <em>Attach Sources...</em>. Click it, and then a dialog pops up. Click the button <em>Add Zip/Folder...</em>, navigate and select the <em>flatlaf-1.1-sources.jar</em> file and you can now see the source code of the library.</li>\n</ol>\n<h3>Building a sample application</h3>\n<p>You can consult the <a href=\"https://github.com/JFormDesigner/FlatLaf#getting-started\" rel=\"nofollow noreferrer\">GitHub</a> page, or the the project's main page which guides you through. Basically you can try the following:</p>\n<pre><code>import com.formdev.flatlaf.FlatDarkLaf;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class Main {\n    \n    private static void createAndShowGUI() {\n        FlatDarkLaf.setup();  //Must be called first of all Swing code as this sets the look and feel to FlatDark.\n        \n        final JPanel panel = new JPanel(); //FlowLayout.\n        panel.add(new JButton(&quot;FlatDarkLaf button!&quot;));\n        panel.add(new JTextField(&quot;FlatDarkLaf text field!&quot;));\n        \n        final JFrame frame = new JFrame(&quot;FlatDarkLaf test.&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(panel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    public static void main(final String[] args) {\n        SwingUtilities.invokeLater(Main::createAndShowGUI);\n    }\n}\n</code></pre>\n<p>Final note: you must apply your LAF before any Swing component creation. In the code in your question seems like you are not, because you first create the <code>JFrame</code> (via constructor's <code>super</code> call) and then you install the LAF in a manner which is also not recommended.</p>\n"},{"tags":[],"owner":{"account_id":7241816,"reputation":271,"user_id":5525177,"display_name":"Hani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628420933,"creation_date":1628394001,"answer_id":68697614,"question_id":66822118,"body_markdown":"This would work when you present a main method and run the LookAndFeel setter in the main method **before** any Swing code and **not** in the constructor. Be aware that you have Java 8 or higher installed and the FlatLaf jar in your classpath.\r\n\r\nYour code corrected:\r\n\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class MainFrame extends JFrame{\r\n        private Dimension size;\r\n        private JPanel buttonPanel;\r\n        private JButton button;\r\n    \r\n    public MainFrame() {\r\n        super(&quot;Applikacja1&quot;);\r\n       \r\n    //    try {\r\n    //        UIManager.setLookAndFeel(&quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\r\n    //    } catch (Exception ex) {\r\n    //       \r\n    //    }\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n        size = new Dimension(350, 530);\r\n        setPreferredSize(size);\r\n        setMinimumSize(size);\r\n        setLocationRelativeTo(null);\r\n        setLayout(new BorderLayout());\r\n        pack();\r\n        \r\n        //setting button \r\n        button = new JButton(&quot;Start programu&quot;);\r\n        button.setVisible(true);\r\n        this.add(button);\r\n        \r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        setResizable(false);\r\n    }\r\n    public static void main(String[] args) {\r\n    \r\n            try {\r\n                UIManager.setLookAndFeel(&quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\r\n            } catch (Exception ex) {\r\n                System.err.println(&quot;Failed to initialize LaF&quot;);\r\n            }\r\n    \r\n            SwingUtilities.invokeLater(new Runnable(){\r\n                @Override\r\n                public void run() {\r\n                    new MainFrame();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThere are still some minor issues in the code but it will run as expected anyway.","title":"How to use FlatLaf library in swing application?","body":"<p>This would work when you present a main method and run the LookAndFeel setter in the main method <strong>before</strong> any Swing code and <strong>not</strong> in the constructor. Be aware that you have Java 8 or higher installed and the FlatLaf jar in your classpath.</p>\n<p>Your code corrected:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class MainFrame extends JFrame{\n    private Dimension size;\n    private JPanel buttonPanel;\n    private JButton button;\n\npublic MainFrame() {\n    super(&quot;Applikacja1&quot;);\n   \n//    try {\n//        UIManager.setLookAndFeel(&quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\n//    } catch (Exception ex) {\n//       \n//    }\n    JFrame.setDefaultLookAndFeelDecorated(true);\n    size = new Dimension(350, 530);\n    setPreferredSize(size);\n    setMinimumSize(size);\n    setLocationRelativeTo(null);\n    setLayout(new BorderLayout());\n    pack();\n    \n    //setting button \n    button = new JButton(&quot;Start programu&quot;);\n    button.setVisible(true);\n    this.add(button);\n    \n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n    setResizable(false);\n}\npublic static void main(String[] args) {\n\n        try {\n            UIManager.setLookAndFeel(&quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\n        } catch (Exception ex) {\n            System.err.println(&quot;Failed to initialize LaF&quot;);\n        }\n\n        SwingUtilities.invokeLater(new Runnable(){\n            @Override\n            public void run() {\n                new MainFrame();\n            }\n        });\n    }\n}\n</code></pre>\n<p>There are still some minor issues in the code but it will run as expected anyway.</p>\n"}],"owner":{"account_id":20656130,"reputation":33,"user_id":15165193,"display_name":"Piotr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8012,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66827644,"answer_count":2,"score":3,"last_activity_date":1639151385,"creation_date":1616781755,"question_id":66822118,"body_markdown":"Here is my simple application: \r\n\r\n\r\n    public class MainFrame extends JFrame{\r\n        private Dimension size;\r\n        private JPanel buttonPanel;\r\n        private JButton button;\r\n    \r\n    public MainFrame() throws ClassNotFoundException{\r\n        super(&quot;Applikacja1&quot;);\r\n       \r\n        try {\r\n            UIManager.setLookAndFeel(&quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\r\n        } catch (Exception ex) {\r\n           \r\n        }\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n        size = new Dimension(350, 530);\r\n        setPreferredSize(size);\r\n        setMinimumSize(size);\r\n        setLocationRelativeTo(null);\r\n        setLayout(new BorderLayout());\r\n        pack();\r\n        \r\n        //setting button \r\n        button = new JButton(&quot;Start programu&quot;);\r\n        button.setVisible(true);\r\n        this.add(button);\r\n\r\n\r\n        \r\n        \r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        setResizable(false);\r\n    }\r\n    }\r\n\r\n![Sample program][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z91dt.png\r\n\r\n\r\nWhat I need to do in order to change look of this program to FlatLaf and use their libraries? \r\nWhat i need to download from internet? I tried download whole code(from here https://www.formdev.com/flatlaf/) next add it as libraries to netbeans and it didn&#39;t work. Can someone do a little totally-newbie tutorial how to do it?","title":"How to use FlatLaf library in swing application?","body":"<p>Here is my simple application:</p>\n<pre><code>public class MainFrame extends JFrame{\n    private Dimension size;\n    private JPanel buttonPanel;\n    private JButton button;\n\npublic MainFrame() throws ClassNotFoundException{\n    super(&quot;Applikacja1&quot;);\n   \n    try {\n        UIManager.setLookAndFeel(&quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\n    } catch (Exception ex) {\n       \n    }\n    JFrame.setDefaultLookAndFeelDecorated(true);\n    size = new Dimension(350, 530);\n    setPreferredSize(size);\n    setMinimumSize(size);\n    setLocationRelativeTo(null);\n    setLayout(new BorderLayout());\n    pack();\n    \n    //setting button \n    button = new JButton(&quot;Start programu&quot;);\n    button.setVisible(true);\n    this.add(button);\n\n\n    \n    \n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n    setResizable(false);\n}\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/z91dt.png\" alt=\"Sample program\" /></p>\n<p>What I need to do in order to change look of this program to FlatLaf and use their libraries?\nWhat i need to download from internet? I tried download whole code(from here <a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\">https://www.formdev.com/flatlaf/</a>) next add it as libraries to netbeans and it didn't work. Can someone do a little totally-newbie tutorial how to do it?</p>\n"},{"tags":["java","android","oop","android-view","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639151096,"creation_date":1639115880,"answer_id":70300329,"question_id":70300170,"body_markdown":"In your XML (Depending on IDE this should auto-complete pretty easily)\r\n```\r\n&lt;com.dev.myapp.GridView\r\n    android:id=&quot;@+id/gridView&quot;\r\n    ... /&gt;\r\n```\r\nIn your activity code, on `onCreate` for example\r\n```\r\nval gv = findViewById&lt;GridView&gt;(R.id.gridView)\r\ngv.setGrid(grid)\r\n```","title":"How to render Custom View from it&#39;s instance in android?","body":"<p>In your XML (Depending on IDE this should auto-complete pretty easily)</p>\n<pre><code>&lt;com.dev.myapp.GridView\n    android:id=&quot;@+id/gridView&quot;\n    ... /&gt;\n</code></pre>\n<p>In your activity code, on <code>onCreate</code> for example</p>\n<pre><code>val gv = findViewById&lt;GridView&gt;(R.id.gridView)\ngv.setGrid(grid)\n</code></pre>\n"}],"owner":{"account_id":21078222,"reputation":13,"user_id":15493137,"display_name":"Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639151096,"creation_date":1639114617,"question_id":70300170,"body_markdown":"I am a web dev and very new to android dev and OOP so I might be making a mistake in how I approach this problem. This seems like a very simple problem.\r\n\r\n\r\n\r\nSo I made a custom view called `GridView` that contains a setter function where I can set a `grid` to that class which basically looks like this. \r\n\r\n\r\n### GridView.java\r\n```\r\npublic class GridView extends View {\r\n    public Grid grid;\r\n    public GridView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n    }\r\n\r\n    public void setGrid(Grid grid) {\r\n        this.grid = grid;\r\n        invalidate();\r\n    }\r\n}\r\n```\r\nThen it renders that `grid` on the android canvas with the `onDraw` function.\r\n\r\n---\r\n\r\nI create an instance of this `GridView` in my android activity so I can use it here. This is basically how that looks.\r\n\r\n### MyActivity.java\r\n```\r\npublic class MyActivity extends AppCompatActivity {\r\n\r\n    public GridView gridView;\r\n    public Grid grid;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        grid = new Grid(20, 20);\r\n\r\n        gridView = new GridView(this, null);\r\n        gridView.setGrid(grid);\r\n        setContentView(R.layout.my_activity);\r\n    }\r\n}\r\n\r\n```\r\n---\r\nI have listed that `GridView` in the my_activity.xml file like this:\r\n\r\n### my_activity.xml\r\n```\r\n        &lt;view\r\n            android:id=&quot;@+id/gridView&quot;\r\n            class=&quot;com.dev.myapp.GridView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;4&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:fadingEdge=&quot;vertical&quot;\r\n            android:gravity=&quot;top&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:scrollbars=&quot;vertical&quot; /&gt;\r\n```\r\n\r\n---\r\n\r\n## Problem\r\nThe problem is that the `grid` variable is null inside the `GridView` class when I create an instance of `GridView` in `MyActivity.java` and pass in the `grid` in the `setGrid` setter function.\r\n\r\nHowever, it works perfectly fine when I create the `grid` instance directly in the `GridView` constructor like this:\r\n\r\n### GridView.java (Working)\r\n```\r\npublic class GridView extends View {\r\n    public Grid grid;\r\n    public GridView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        grid = new Grid(20, 20);\r\n    }\r\n}\r\n```\r\n\r\n---\r\n### What I think: \r\nI think the problem might be because I am directly rendering the `GridView` class on the `my_activity.xml` file so it is rendering whatever is in that particular file instantly and it is not rendering the instance of that `GridView` that I have created in the `MyActivity.java`. \r\n\r\nHow am I supposed to render the instance of the `GridView` that I create in `MyActivity.java` on the `my_activity.xml`?\r\n\r\n","title":"How to render Custom View from it&#39;s instance in android?","body":"<p>I am a web dev and very new to android dev and OOP so I might be making a mistake in how I approach this problem. This seems like a very simple problem.</p>\n<p>So I made a custom view called <code>GridView</code> that contains a setter function where I can set a <code>grid</code> to that class which basically looks like this.</p>\n<h3>GridView.java</h3>\n<pre><code>public class GridView extends View {\n    public Grid grid;\n    public GridView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public void setGrid(Grid grid) {\n        this.grid = grid;\n        invalidate();\n    }\n}\n</code></pre>\n<p>Then it renders that <code>grid</code> on the android canvas with the <code>onDraw</code> function.</p>\n<hr />\n<p>I create an instance of this <code>GridView</code> in my android activity so I can use it here. This is basically how that looks.</p>\n<h3>MyActivity.java</h3>\n<pre><code>public class MyActivity extends AppCompatActivity {\n\n    public GridView gridView;\n    public Grid grid;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        grid = new Grid(20, 20);\n\n        gridView = new GridView(this, null);\n        gridView.setGrid(grid);\n        setContentView(R.layout.my_activity);\n    }\n}\n\n</code></pre>\n<hr />\n<p>I have listed that <code>GridView</code> in the my_activity.xml file like this:</p>\n<h3>my_activity.xml</h3>\n<pre><code>        &lt;view\n            android:id=&quot;@+id/gridView&quot;\n            class=&quot;com.dev.myapp.GridView&quot;\n            android:layout_width=&quot;match_parent&quot;\n\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;4&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:fadingEdge=&quot;vertical&quot;\n            android:gravity=&quot;top&quot;\n            android:padding=&quot;5dp&quot;\n            android:scrollbars=&quot;vertical&quot; /&gt;\n</code></pre>\n<hr />\n<h2>Problem</h2>\n<p>The problem is that the <code>grid</code> variable is null inside the <code>GridView</code> class when I create an instance of <code>GridView</code> in <code>MyActivity.java</code> and pass in the <code>grid</code> in the <code>setGrid</code> setter function.</p>\n<p>However, it works perfectly fine when I create the <code>grid</code> instance directly in the <code>GridView</code> constructor like this:</p>\n<h3>GridView.java (Working)</h3>\n<pre><code>public class GridView extends View {\n    public Grid grid;\n    public GridView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        grid = new Grid(20, 20);\n    }\n}\n</code></pre>\n<hr />\n<h3>What I think:</h3>\n<p>I think the problem might be because I am directly rendering the <code>GridView</code> class on the <code>my_activity.xml</code> file so it is rendering whatever is in that particular file instantly and it is not rendering the instance of that <code>GridView</code> that I have created in the <code>MyActivity.java</code>.</p>\n<p>How am I supposed to render the instance of the <code>GridView</code> that I create in <code>MyActivity.java</code> on the <code>my_activity.xml</code>?</p>\n"},{"tags":["java","spring","tcp","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639148238,"creation_date":1639148238,"answer_id":70306383,"question_id":70299120,"body_markdown":"TCP/IP is just one of those protocols implemented as channel adapters in Spring Integration. \r\n\r\nSee more info in the theory: https://www.enterpriseintegrationpatterns.com/ChannelAdapter.html\r\n\r\nAnd here is a list of all the supported protocols in Spring Integration:\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/endpoint-summary.html#spring-integration-endpoints\r\n\r\nWhat those tutorials are talking about is a messaging channel internal to your application logic. It has nothing to do with external protocol, like yours TCP/IP. You just need to understand for your self if your application is going to be client for that IP host/port or it is going to be a server opening respective socket:\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip","title":"Need help understanding TCP Channels","body":"<p>TCP/IP is just one of those protocols implemented as channel adapters in Spring Integration.</p>\n<p>See more info in the theory: <a href=\"https://www.enterpriseintegrationpatterns.com/ChannelAdapter.html\" rel=\"nofollow noreferrer\">https://www.enterpriseintegrationpatterns.com/ChannelAdapter.html</a></p>\n<p>And here is a list of all the supported protocols in Spring Integration:</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/endpoint-summary.html#spring-integration-endpoints\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/endpoint-summary.html#spring-integration-endpoints</a></p>\n<p>What those tutorials are talking about is a messaging channel internal to your application logic. It has nothing to do with external protocol, like yours TCP/IP. You just need to understand for your self if your application is going to be client for that IP host/port or it is going to be a server opening respective socket:</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip</a></p>\n"}],"owner":{"account_id":13033569,"reputation":13,"user_id":9419237,"display_name":"Flypkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639150877,"creation_date":1639103844,"question_id":70299120,"body_markdown":"I have a machine running that sends out status information over TCP to an IP address and port you set on the machine. If I use the command line for the machine on that IP address and run &quot;nc -l &lt;port number set on the machine&gt;&quot; I get the status data from the machine. I am trying to build a Java Spring application to ingest this but all the Java TCP tutorials talk about setting channel names and subscribing to channels? Are channels something that are built on top of TCP and my machine just isn&#39;t using channels or is there some default channel listened on when you run the command line &quot;nc -l &lt;portnumber&gt;&quot; command? Please Help I&#39;m very confused\r\n\r\nEDIT 1: Adding first attempt code that I can&#39;t get to integrate with the Spring application nor can I get the data to store in Spring JPA\r\n\r\n````\r\npublic class EchoMultiServer {\r\n\r\n\r\n    private ServerSocket serverSocket;\r\n\r\n    public void start(int port) {\r\n        try {\r\n            serverSocket = new ServerSocket(port);\r\n            while (true)\r\n                new EchoClientHandler(serverSocket.accept()).start();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            stop();\r\n        }\r\n\r\n    }\r\n\r\n    public void stop() {\r\n        try {\r\n\r\n            serverSocket.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    private static class EchoClientHandler extends Thread {\r\n        private Socket clientSocket;\r\n        private PrintWriter out;\r\n        private BufferedReader in;\r\n\r\n        @Autowired\r\n        PowerStationService powerStationService;\r\n//this service connects to the repository to store the data\r\n\r\n        public EchoClientHandler(Socket socket) {\r\n            this.clientSocket = socket;\r\n        }\r\n\r\n        public JSONObject mapJsonInput(String incomingText){\r\n            try{\r\n                JSONObject json = new JSONObject(incomingText);\r\n                return json;\r\n            } catch (JSONException e){\r\n                System.out.println(&quot;JSONException &quot; + e);\r\n                return null;\r\n            }\r\n\r\n        }\r\n\r\n        public JSONObject run() {\r\n            try {\r\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                StringBuilder textBuilder = new StringBuilder();\r\n                int c = 0;\r\n                int leftCaratCount=0;\r\n                int rightCaratCount=0;\r\n                while ((c = in.read()) != -1) {\r\n                    char character = (char) c;\r\n                    textBuilder.append(character);\r\n                    if (character == &#39;{&#39;) {\r\n                        leftCaratCount++;\r\n                    } else if (character == &#39;}&#39;) {\r\n                        rightCaratCount++;\r\n                        if (rightCaratCount == leftCaratCount) {\r\n                            System.out.println(textBuilder);\r\n                            JSONObject registrationJson = mapJsonInput(textBuilder.toString());\r\n                            System.out.println(&quot;we got em&quot;);\r\n                            powerStationService.save(new PowerStation(registrationJson.get(&quot;D&quot;).toString(), registrationJson.get(&quot;G&quot;).toString(), Integer.parseInt(registrationJson.get(&quot;Y&quot;).toString()), Integer.parseInt(registrationJson.get(&quot;S&quot;).toString()), registrationJson.get(&quot;C&quot;).toString(), registrationJson.get(&quot;Z&quot;).toString(), registrationJson.get(&quot;V&quot;).toString()));\r\n                            out.println(&quot;000250{\\&quot;A\\&quot;:\\&quot;45514\\&quot;,\\&quot;C\\&quot;:\\&quot;&quot;+registrationJson.get(&quot;Y&quot;)+&quot;\\&quot;,\\&quot;E\\&quot;:\\&quot;30,5\\&quot;,\\&quot;G\\&quot;:\\&quot;&quot;+registrationJson.get(&quot;G&quot;)+&quot;\\&quot;,\\&quot;H\\&quot;:\\&quot;0\\&quot;,\\&quot;K\\&quot;:\\&quot;1\\&quot;,\\&quot;M\\&quot;:\\&quot;123456\\&quot;,\\&quot;N\\&quot;:\\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;,\\&quot;O\\&quot;:\\&quot;13371\\&quot;,\\&quot;P\\&quot;:\\&quot;&quot; + clientSocket.getLocalAddress().getHostAddress() + &quot;\\&quot;,\\&quot;S\\&quot;:\\&quot;60000\\&quot;,\\&quot;U\\&quot;:\\&quot;\\&quot;,\\&quot;V\\&quot;:\\&quot;\\&quot;,\\&quot;W\\&quot;:\\&quot;https://admin.chargenow.top/cdb-socket-api/v1/socketserver/common\\&quot;,\\&quot;X\\&quot;:\\&quot;0\\&quot;,\\&quot;Y\\&quot;:\\&quot;FJC\\&quot;,\\&quot;Z\\&quot;:\\&quot;\\&quot;}&quot;);\r\n                            in.close();\r\n                            out.close();\r\n                            clientSocket.close();\r\n                        }\r\n                    }\r\n                }\r\n\r\n            } catch (IOException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EchoMultiServer server = new EchoMultiServer();\r\n        server.start(13370);\r\n    }\r\n\r\n}\r\n````\r\nEDIT 2: Additionally I attempted to use the example from the Spring Examples Github to see if it could receive messages on the port I tried. I&#39;m able to use NetCat to see the ServerOut messages but the application isn&#39;t receiving responses back\r\n\r\n\r\n````\r\n\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(SampleProperties.class)\r\npublic class TcpAsyncBiDirectionalApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TcpAsyncBiDirectionalApplication.class, args);\r\n\t}\r\n}\r\n@Configuration \r\nclass ServerPeer {\r\n\r\n\tprivate final Set&lt;String&gt; clients = ConcurrentHashMap.newKeySet();\r\n\r\n\t@Bean\r\n\tpublic AbstractServerConnectionFactory server(SampleProperties properties) {\r\n\t\treturn Tcp.netServer(properties.getServerPort()).get();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic IntegrationFlow serverIn(AbstractServerConnectionFactory server) {\r\n\t\treturn IntegrationFlows.from(Tcp.inboundAdapter(server))\r\n\t\t\t\t.transform(Transformers.objectToString())\r\n\t\t\t\t.log(msg -&gt; &quot;received by server: &quot; + msg.getPayload())\r\n\t\t\t\t.get();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic IntegrationFlow serverOut(AbstractServerConnectionFactory server) {\r\n\t\treturn IntegrationFlows.fromSupplier(() -&gt; &quot;seed&quot;, e -&gt; e.poller(Pollers.fixedDelay(5000)))\r\n\t\t\t\t.split(this.clients, &quot;iterator&quot;)\r\n\t\t\t\t.enrichHeaders(h -&gt; h.headerExpression(IpHeaders.CONNECTION_ID, &quot;payload&quot;))\r\n\t\t\t\t.transform(p -&gt; &quot;sent by server Hello from server&quot;)\r\n\t\t\t\t.handle(Tcp.outboundAdapter(server))\r\n\t\t\t\t.get();\r\n\t}\r\n\r\n\t@EventListener\r\n\tpublic void open(TcpConnectionOpenEvent event) {\r\n\t\tif (event.getConnectionFactoryName().equals(&quot;server&quot;)) {\r\n\t\t\tthis.clients.add(event.getConnectionId());\r\n\t\t}\r\n\t}\r\n\r\n\t@EventListener\r\n\tpublic void close(TcpConnectionCloseEvent event) {\r\n\t\tthis.clients.remove(event.getConnectionId());\r\n\t}\r\n\r\n}\r\n\r\n    enter code here\r\n    enter code here","title":"Need help understanding TCP Channels","body":"<p>I have a machine running that sends out status information over TCP to an IP address and port you set on the machine. If I use the command line for the machine on that IP address and run &quot;nc -l &quot; I get the status data from the machine. I am trying to build a Java Spring application to ingest this but all the Java TCP tutorials talk about setting channel names and subscribing to channels? Are channels something that are built on top of TCP and my machine just isn't using channels or is there some default channel listened on when you run the command line &quot;nc -l &quot; command? Please Help I'm very confused</p>\n<p>EDIT 1: Adding first attempt code that I can't get to integrate with the Spring application nor can I get the data to store in Spring JPA</p>\n<pre><code>public class EchoMultiServer {\n\n\n    private ServerSocket serverSocket;\n\n    public void start(int port) {\n        try {\n            serverSocket = new ServerSocket(port);\n            while (true)\n                new EchoClientHandler(serverSocket.accept()).start();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            stop();\n        }\n\n    }\n\n    public void stop() {\n        try {\n\n            serverSocket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private static class EchoClientHandler extends Thread {\n        private Socket clientSocket;\n        private PrintWriter out;\n        private BufferedReader in;\n\n        @Autowired\n        PowerStationService powerStationService;\n//this service connects to the repository to store the data\n\n        public EchoClientHandler(Socket socket) {\n            this.clientSocket = socket;\n        }\n\n        public JSONObject mapJsonInput(String incomingText){\n            try{\n                JSONObject json = new JSONObject(incomingText);\n                return json;\n            } catch (JSONException e){\n                System.out.println(&quot;JSONException &quot; + e);\n                return null;\n            }\n\n        }\n\n        public JSONObject run() {\n            try {\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n                StringBuilder textBuilder = new StringBuilder();\n                int c = 0;\n                int leftCaratCount=0;\n                int rightCaratCount=0;\n                while ((c = in.read()) != -1) {\n                    char character = (char) c;\n                    textBuilder.append(character);\n                    if (character == '{') {\n                        leftCaratCount++;\n                    } else if (character == '}') {\n                        rightCaratCount++;\n                        if (rightCaratCount == leftCaratCount) {\n                            System.out.println(textBuilder);\n                            JSONObject registrationJson = mapJsonInput(textBuilder.toString());\n                            System.out.println(&quot;we got em&quot;);\n                            powerStationService.save(new PowerStation(registrationJson.get(&quot;D&quot;).toString(), registrationJson.get(&quot;G&quot;).toString(), Integer.parseInt(registrationJson.get(&quot;Y&quot;).toString()), Integer.parseInt(registrationJson.get(&quot;S&quot;).toString()), registrationJson.get(&quot;C&quot;).toString(), registrationJson.get(&quot;Z&quot;).toString(), registrationJson.get(&quot;V&quot;).toString()));\n                            out.println(&quot;000250{\\&quot;A\\&quot;:\\&quot;45514\\&quot;,\\&quot;C\\&quot;:\\&quot;&quot;+registrationJson.get(&quot;Y&quot;)+&quot;\\&quot;,\\&quot;E\\&quot;:\\&quot;30,5\\&quot;,\\&quot;G\\&quot;:\\&quot;&quot;+registrationJson.get(&quot;G&quot;)+&quot;\\&quot;,\\&quot;H\\&quot;:\\&quot;0\\&quot;,\\&quot;K\\&quot;:\\&quot;1\\&quot;,\\&quot;M\\&quot;:\\&quot;123456\\&quot;,\\&quot;N\\&quot;:\\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;,\\&quot;O\\&quot;:\\&quot;13371\\&quot;,\\&quot;P\\&quot;:\\&quot;&quot; + clientSocket.getLocalAddress().getHostAddress() + &quot;\\&quot;,\\&quot;S\\&quot;:\\&quot;60000\\&quot;,\\&quot;U\\&quot;:\\&quot;\\&quot;,\\&quot;V\\&quot;:\\&quot;\\&quot;,\\&quot;W\\&quot;:\\&quot;https://admin.chargenow.top/cdb-socket-api/v1/socketserver/common\\&quot;,\\&quot;X\\&quot;:\\&quot;0\\&quot;,\\&quot;Y\\&quot;:\\&quot;FJC\\&quot;,\\&quot;Z\\&quot;:\\&quot;\\&quot;}&quot;);\n                            in.close();\n                            out.close();\n                            clientSocket.close();\n                        }\n                    }\n                }\n\n            } catch (IOException e) {\n                System.out.println(e.getMessage());\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        EchoMultiServer server = new EchoMultiServer();\n        server.start(13370);\n    }\n\n}\n</code></pre>\n<p>EDIT 2: Additionally I attempted to use the example from the Spring Examples Github to see if it could receive messages on the port I tried. I'm able to use NetCat to see the ServerOut messages but the application isn't receiving responses back</p>\n<pre><code>\n@SpringBootApplication\n@EnableConfigurationProperties(SampleProperties.class)\npublic class TcpAsyncBiDirectionalApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TcpAsyncBiDirectionalApplication.class, args);\n    }\n}\n@Configuration \nclass ServerPeer {\n\n    private final Set&lt;String&gt; clients = ConcurrentHashMap.newKeySet();\n\n    @Bean\n    public AbstractServerConnectionFactory server(SampleProperties properties) {\n        return Tcp.netServer(properties.getServerPort()).get();\n    }\n\n    @Bean\n    public IntegrationFlow serverIn(AbstractServerConnectionFactory server) {\n        return IntegrationFlows.from(Tcp.inboundAdapter(server))\n                .transform(Transformers.objectToString())\n                .log(msg -&gt; &quot;received by server: &quot; + msg.getPayload())\n                .get();\n    }\n\n    @Bean\n    public IntegrationFlow serverOut(AbstractServerConnectionFactory server) {\n        return IntegrationFlows.fromSupplier(() -&gt; &quot;seed&quot;, e -&gt; e.poller(Pollers.fixedDelay(5000)))\n                .split(this.clients, &quot;iterator&quot;)\n                .enrichHeaders(h -&gt; h.headerExpression(IpHeaders.CONNECTION_ID, &quot;payload&quot;))\n                .transform(p -&gt; &quot;sent by server Hello from server&quot;)\n                .handle(Tcp.outboundAdapter(server))\n                .get();\n    }\n\n    @EventListener\n    public void open(TcpConnectionOpenEvent event) {\n        if (event.getConnectionFactoryName().equals(&quot;server&quot;)) {\n            this.clients.add(event.getConnectionId());\n        }\n    }\n\n    @EventListener\n    public void close(TcpConnectionCloseEvent event) {\n        this.clients.remove(event.getConnectionId());\n    }\n\n}\n\n    enter code here\n    enter code here\n</code></pre>\n"},{"tags":["java","eclipse","wildfly","javabeans"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1638895337,"post_id":70263123,"comment_id":124206941,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":4240333,"reputation":5530,"user_id":3470414,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1638982254,"post_id":70263123,"comment_id":124233623,"body_markdown":"The error message doesn&#39;t seem to make sense given the code you&#39;ve shown. Do you have a Base64 class being invoked somewhere in your code or build?","body":"The error message doesn&#39;t seem to make sense given the code you&#39;ve shown. Do you have a Base64 class being invoked somewhere in your code or build?"},{"owner":{"account_id":5831361,"reputation":23,"user_id":4595720,"display_name":"mauricio bell&#243;n"},"score":0,"creation_date":1639150934,"post_id":70263123,"comment_id":124282616,"body_markdown":"I changed the run target class to my actually main class, now I get a different error. Thank you.","body":"I changed the run target class to my actually main class, now I get a different error. Thank you."}],"owner":{"account_id":5831361,"reputation":23,"user_id":4595720,"display_name":"mauricio bell&#243;n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639150875,"creation_date":1638892151,"question_id":70263123,"body_markdown":"I&#39;m trying to create a java bean that says hello to a String that you pass it and then I&#39;m trying to consume this java bean from a java client that\r\ncalls this function and passes a string, but I get an error.\r\n\r\nHere are my files:\r\n   \r\nPackage com.servicios\r\n\r\nSaludoBean:\r\n\r\n    package com.servicios;\r\n\r\n    import javax.ejb.Stateless;\r\n\r\n    /**\r\n     * Session Bean implementation class SaludoBean\r\n     */\r\n    @Stateless\r\n    public class SaludoBean implements SaludoBeanRemote {\r\n\r\n        /**  \r\n         * Default constructor. \r\n         */\r\n        public SaludoBean() {\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n        @Override\r\n        public String saludar(String nombre) {\r\n    \treturn &quot;Hola &quot;+nombre;\r\n        }\r\n\r\n    }\r\n\r\nSaludoBeanRemote:\r\n\r\n    package com.servicios;\r\n\r\n    import javax.ejb.Remote;\r\n\r\n    @Remote\r\n    public interface SaludoBeanRemote {\r\n    \tString saludar(String nombre);\r\n\r\n    }\r\n\r\nThen on another java project:\r\npackage src.com:\r\n \r\n\r\n    package com;\r\n\r\n     public class ClienteSaludo {\r\n\r\n\t    public static void main(String[] args) throws NamingExeption {\r\n\t\t     // TODO Auto-generated method stub\r\n\t\t     SaludoBeanRemote saludoBean = (SaludoBeanRemote)\r\n    InitialContext.doLookup(\r\n     &quot;ModuloEJB/SaludoBean!com.servicios.SaludoBeanRemote&quot;);\r\n     \t    \tSystem.out.println(saludoBean.saludar(&quot;Agustina&quot;));\r\n     \t    \tSystem.out.println(&quot;Excelente!&quot;);   \r\n         \t}\r\n\r\n    }\r\n\r\nI get error:\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module ClienteSaludo not found\r\n\r\nI&#39;m using WildFly 24+ server, Eclipse 2021-09\r\n","title":"How do I fix Java not enough arguments error (base 64 error)?","body":"<p>I'm trying to create a java bean that says hello to a String that you pass it and then I'm trying to consume this java bean from a java client that\ncalls this function and passes a string, but I get an error.</p>\n<p>Here are my files:</p>\n<p>Package com.servicios</p>\n<p>SaludoBean:</p>\n<pre><code>package com.servicios;\n\nimport javax.ejb.Stateless;\n\n/**\n * Session Bean implementation class SaludoBean\n */\n@Stateless\npublic class SaludoBean implements SaludoBeanRemote {\n\n    /**  \n     * Default constructor. \n     */\n    public SaludoBean() {\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public String saludar(String nombre) {\n    return &quot;Hola &quot;+nombre;\n    }\n\n}\n</code></pre>\n<p>SaludoBeanRemote:</p>\n<pre><code>package com.servicios;\n\nimport javax.ejb.Remote;\n\n@Remote\npublic interface SaludoBeanRemote {\n    String saludar(String nombre);\n\n}\n</code></pre>\n<p>Then on another java project:\npackage src.com:</p>\n<pre><code>package com;\n\n public class ClienteSaludo {\n\n    public static void main(String[] args) throws NamingExeption {\n         // TODO Auto-generated method stub\n         SaludoBeanRemote saludoBean = (SaludoBeanRemote)\nInitialContext.doLookup(\n &quot;ModuloEJB/SaludoBean!com.servicios.SaludoBeanRemote&quot;);\n            System.out.println(saludoBean.saludar(&quot;Agustina&quot;));\n            System.out.println(&quot;Excelente!&quot;);   \n        }\n\n}\n</code></pre>\n<p>I get error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module ClienteSaludo not found\n</code></pre>\n<p>I'm using WildFly 24+ server, Eclipse 2021-09</p>\n"},{"tags":["java","for-loop","random"],"answers":[{"tags":[],"owner":{"account_id":12219,"reputation":28577,"user_id":23934,"accept_rate":89,"display_name":"Drew Hall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639150805,"creation_date":1639150805,"answer_id":70306995,"question_id":70306881,"body_markdown":"```Math.random()``` returns a floating point number (double) in the range ```[0, 1)```.  When you cast that double to an integer, it truncates to 0 every time.\r\n\r\nTo solve your problem, you need to do the casts after all of the math you are trying to do.  So, it should look like this:\r\n\r\n    public class Randomizer{\r\n      public static int nextInt(){\r\n        return (int)(Math.random() * 10 + 1);\r\n      }\r\n      public static int nextInt(int min, int max){\r\n        return (int)(Math.random() * (max - min + 1) + min);\r\n      }\r\n    }\r\n\r\nNote the extra parentheses around the expression to be cast to an integer.\r\n","title":"Random method always returning minimum value in for-loop?","body":"<p><code>Math.random()</code> returns a floating point number (double) in the range <code>[0, 1)</code>.  When you cast that double to an integer, it truncates to 0 every time.</p>\n<p>To solve your problem, you need to do the casts after all of the math you are trying to do.  So, it should look like this:</p>\n<pre><code>public class Randomizer{\n  public static int nextInt(){\n    return (int)(Math.random() * 10 + 1);\n  }\n  public static int nextInt(int min, int max){\n    return (int)(Math.random() * (max - min + 1) + min);\n  }\n}\n</code></pre>\n<p>Note the extra parentheses around the expression to be cast to an integer.</p>\n"}],"owner":{"account_id":19056526,"reputation":19,"user_id":13913565,"display_name":"violetinreal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70306995,"answer_count":1,"score":-2,"last_activity_date":1639150805,"creation_date":1639150315,"question_id":70306881,"body_markdown":"I&#39;m utilizing a random method that I created, rather than the java.util.Random class. The class is called &quot;Randomizer&quot;, here is the code within it:\r\n\r\n```\r\npublic class Randomizer{\r\n  public static int nextInt(){\r\n    return (int)Math.random() * 10 + 1;\r\n  }\r\n\r\n  public static int nextInt(int min, int max){\r\n    return (int)Math.random() * (max - min + 1) + min;\r\n  }\r\n}\r\n```\r\nThis code should work just fine, but when I call it in a for loop (as seen below), it always returns the minimum value.\r\n```\r\npublic class Main\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(&quot;Results of Randomizer.nextInt()&quot;);\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n          System.out.println(Randomizer.nextInt());\r\n        }\r\n        int min = 5;\r\n        int max = 10;\r\n        System.out.println(&quot;\\nResults of Randomizer.nextInt(5, 10)&quot;);\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n          System.out.println(Randomizer.nextInt(min, max));\r\n        }\r\n    }\r\n}\r\n```\r\nThis code returns the following:\r\n```\r\nResults of Randomizer.nextInt()\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n\r\nResults of Randomizer.nextInt(5, 10)\r\n5\r\n5\r\n5\r\n5\r\n5\r\n5\r\n5\r\n5\r\n5\r\n5\r\n```\r\nI think this error has to do with the fact that the methods within Randomizer are static, but I can&#39;t imagine how I could fix this. Any help would be greatly appreciated!\r\n","title":"Random method always returning minimum value in for-loop?","body":"<p>I'm utilizing a random method that I created, rather than the java.util.Random class. The class is called &quot;Randomizer&quot;, here is the code within it:</p>\n<pre><code>public class Randomizer{\n  public static int nextInt(){\n    return (int)Math.random() * 10 + 1;\n  }\n\n  public static int nextInt(int min, int max){\n    return (int)Math.random() * (max - min + 1) + min;\n  }\n}\n</code></pre>\n<p>This code should work just fine, but when I call it in a for loop (as seen below), it always returns the minimum value.</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        System.out.println(&quot;Results of Randomizer.nextInt()&quot;);\n        for (int i = 0; i &lt; 10; i++)\n        {\n          System.out.println(Randomizer.nextInt());\n        }\n        int min = 5;\n        int max = 10;\n        System.out.println(&quot;\\nResults of Randomizer.nextInt(5, 10)&quot;);\n        for (int i = 0; i &lt; 10; i++)\n        {\n          System.out.println(Randomizer.nextInt(min, max));\n        }\n    }\n}\n</code></pre>\n<p>This code returns the following:</p>\n<pre><code>Results of Randomizer.nextInt()\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n\nResults of Randomizer.nextInt(5, 10)\n5\n5\n5\n5\n5\n5\n5\n5\n5\n5\n</code></pre>\n<p>I think this error has to do with the fact that the methods within Randomizer are static, but I can't imagine how I could fix this. Any help would be greatly appreciated!</p>\n"},{"tags":["java","spring","generics","sonarlint-intellij"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1639151252,"post_id":70306974,"comment_id":124282742,"body_markdown":"Where is the ResponseEntityTransformer in the code? I cannot find it","body":"Where is the ResponseEntityTransformer in the code? I cannot find it"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1639151470,"post_id":70306974,"comment_id":124282828,"body_markdown":"Specify the generic type, e.g.: `public class AbcController extends BaseController&lt;ActualTypeGoesHere&gt;`","body":"Specify the generic type, e.g.: <code>public class AbcController extends BaseController&lt;ActualTypeGoesHere&gt;</code>"},{"owner":{"account_id":15684275,"reputation":89,"user_id":11317418,"display_name":"hansika"},"score":0,"creation_date":1639155929,"post_id":70306974,"comment_id":124284586,"body_markdown":"thank you @AndrewS do you mean like this  public class AbcController extends BaseController&lt;ResponseEntity&gt;. but it&#39;s not supported for getGroups API return statement","body":"thank you @AndrewS do you mean like this  public class AbcController extends BaseController&lt;ResponseEntity&gt;. but it&#39;s not supported for getGroups API return statement"}],"owner":{"account_id":15684275,"reputation":89,"user_id":11317418,"display_name":"hansika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7904,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1639150733,"creation_date":1639150733,"question_id":70306974,"body_markdown":"I am trying to refactor my code using the IntelliJ idea extension called sonarLint.\r\nIn there, sonarLint suggests further modification like this picture below(I have marked the issue in red)\r\n\r\n[SonarLint error alert][1]\r\n\r\nhere is my code    \r\n\r\n     public class AbcController extends BaseController{   \r\n    \r\n        private final PermissionService permissionService;\r\n    \r\n        public PermissionController(PermissionService permissionService) {\r\n            this.permissionService = permissionService;\r\n        }\r\n    \r\n        @GetMapping(&quot;/groups&quot;)\r\n        public ResponseEntity&lt;List&lt;GroupResponse&gt;&gt; getGroups( String accessToken) {\r\n            List&lt;GroupResponse&gt; groupResponses = permissionService.getGroups(accessToken);       \r\n            return getResponseEntity(groupResponses);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    public abstract class BaseController &lt;T&gt;{\r\n    \r\n    \r\n        protected ResponseEntity&lt;T&gt; getResponseEntity(T t, HttpHeaders httpHeaders) {\r\n            return new ResponseEntity&lt;&gt; (t, httpHeaders, HttpStatus.OK);\r\n    \r\n        }\r\n    \r\n        protected ResponseEntity&lt;T&gt; getResponseEntity(T t) {\r\n            return new ResponseEntity&lt;&gt; (t, HttpStatus.OK);\r\n    \r\n        }\r\n    }\r\n\r\nI tried to make modifications according to the sonarLint alert but it is not working.\r\nPlease help me with this problem.\r\nThank you all.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MGmWD.png","title":"How to solve provide parameterized type for this generic in SonarLint","body":"<p>I am trying to refactor my code using the IntelliJ idea extension called sonarLint.\nIn there, sonarLint suggests further modification like this picture below(I have marked the issue in red)</p>\n<p><a href=\"https://i.stack.imgur.com/MGmWD.png\" rel=\"noreferrer\">SonarLint error alert</a></p>\n<p>here is my code</p>\n<pre><code> public class AbcController extends BaseController{   \n\n    private final PermissionService permissionService;\n\n    public PermissionController(PermissionService permissionService) {\n        this.permissionService = permissionService;\n    }\n\n    @GetMapping(&quot;/groups&quot;)\n    public ResponseEntity&lt;List&lt;GroupResponse&gt;&gt; getGroups( String accessToken) {\n        List&lt;GroupResponse&gt; groupResponses = permissionService.getGroups(accessToken);       \n        return getResponseEntity(groupResponses);\n    }\n}\n\n\n\npublic abstract class BaseController &lt;T&gt;{\n\n\n    protected ResponseEntity&lt;T&gt; getResponseEntity(T t, HttpHeaders httpHeaders) {\n        return new ResponseEntity&lt;&gt; (t, httpHeaders, HttpStatus.OK);\n\n    }\n\n    protected ResponseEntity&lt;T&gt; getResponseEntity(T t) {\n        return new ResponseEntity&lt;&gt; (t, HttpStatus.OK);\n\n    }\n}\n</code></pre>\n<p>I tried to make modifications according to the sonarLint alert but it is not working.\nPlease help me with this problem.\nThank you all.</p>\n"},{"tags":["java","swt","eclipse-rcp","rcp","progressmonitor"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1639149960,"post_id":70306760,"comment_id":124282210,"body_markdown":"You use `asyncExec` and `syncExec` in the background threads to run a small bit of UI code in the UI thread - you do **not** use them in the UI thread to run progress monitor dialogs.","body":"You use <code>asyncExec</code> and <code>syncExec</code> in the background threads to run a small bit of UI code in the UI thread - you do <b>not</b> use them in the UI thread to run progress monitor dialogs."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1639150128,"post_id":70306760,"comment_id":124282273,"body_markdown":"Also you should not call `Thread.currentThread().interrupt();`","body":"Also you should not call <code>Thread.currentThread().interrupt();</code>"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1639150527,"post_id":70306760,"comment_id":124282436,"body_markdown":"You need to show us a [mre] showing the problem. The code you posted contains many references to other classes so it is impossible to test it. And show use the stack trace for the errors.","body":"You need to show us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing the problem. The code you posted contains many references to other classes so it is impossible to test it. And show use the stack trace for the errors."},{"owner":{"account_id":6191317,"reputation":11,"user_id":4823964,"display_name":"Suraj Dighodkar"},"score":0,"creation_date":1639160770,"post_id":70306760,"comment_id":124286318,"body_markdown":"@greg-449\nThank you sir, I have added bunch of code to get some more idea. but next time I will try to have as minimal reproducible.\n\nNow I have removed sync, async calls from both monitors, but in second monitor I am facing Caused by: org.eclipse.swt.SWTException: Invalid thread access .... in below code\n\n\tpublic void setDgLabel(DGLabel newDgLabel) {\n\t\tif (newDgLabel != dgLabel) {\n\t\t\tNotificationChain msgs = null;\n\t\t\tmsgs = basicSetDgLabel(newDgLabel, msgs);\n\t\t\tif (msgs != null) msgs.dispatch();\n\t\t}\n\t}","body":"@greg-449 Thank you sir, I have added bunch of code to get some more idea. but next time I will try to have as minimal reproducible.  Now I have removed sync, async calls from both monitors, but in second monitor I am facing Caused by: org.eclipse.swt.SWTException: Invalid thread access .... in below code  \tpublic void setDgLabel(DGLabel newDgLabel) { \t\tif (newDgLabel != dgLabel) { \t\t\tNotificationChain msgs = null; \t\t\tmsgs = basicSetDgLabel(newDgLabel, msgs); \t\t\tif (msgs != null) msgs.dispatch(); \t\t} \t}"},{"owner":{"account_id":6191317,"reputation":11,"user_id":4823964,"display_name":"Suraj Dighodkar"},"score":0,"creation_date":1639160775,"post_id":70306760,"comment_id":124286321,"body_markdown":"at if (msgs != null) msgs.dispatch(); here it is saying invalid thread acess.... Is it like my current monitor is not able to access this code ??  correct me if i am wrong ...\n\nMay be I will get some hint here :) \n\nThanks","body":"at if (msgs != null) msgs.dispatch(); here it is saying invalid thread acess.... Is it like my current monitor is not able to access this code ??  correct me if i am wrong ...  May be I will get some hint here :)   Thanks"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1639160993,"post_id":70306760,"comment_id":124286380,"body_markdown":"You must use Display.asyncExec/synchExec in the monitor code when you want to access UI items - see [this answer](https://stackoverflow.com/a/38844765/2670892)","body":"You must use Display.asyncExec/synchExec in the monitor code when you want to access UI items - see <a href=\"https://stackoverflow.com/a/38844765/2670892\">this answer</a>"}],"owner":{"account_id":6191317,"reputation":11,"user_id":4823964,"display_name":"Suraj Dighodkar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639150452,"creation_date":1639149824,"question_id":70306760,"body_markdown":"I have written 2 progress monitors, \r\n - When implementing first call I am getting ConcurrentModificationException in background. but progress monitor I can see working fine, also data is getting loaded/updated.\r\n\r\n - When implementing second once I am getting ConcurrentModificationException in background Also I am getting InvocationTargetException in cause is is saying \r\n\r\n   &gt; Invalid Thread Access\r\n\r\n\r\nPlease note that I am using Display.getDefault().asyncExec for first progree dialog and for second one using Display.getDefault().syncExec.\r\n\r\nKindly suggest what is missing here since monitor and data also getting updated/loaded as per requirement but sadly getting this exceptions.\r\n\r\n\r\nFirst Progress Monitor - \r\n\r\n    Display.getDefault().asyncExec(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tgetBroker().stopNotification();\r\n\t\t\t\tProgressMonitorDialog progressMoniorDialog = new ProgressMonitorDialog(\r\n\t\t\t\t\t\tDisplay.getDefault().getActiveShell());\r\n\t\t\t\tIRunnableWithProgress runnableWithProgress = new IRunnableWithProgress() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run(final IProgressMonitor monitor)\r\n\t\t\t\t\t\t\tthrows InvocationTargetException, InterruptedException {\r\n\t\t\t\t\t\tif (mappers.get(profile) != null) {\r\n\t\t\t\t\t\t\tint noOfDGListConfiguratioins = mappers.get(profile).size();\r\n\t\t\t\t\t\t\tmonitor.beginTask(&quot;Configuration&quot;, noOfConfiguratioins);\r\n\t\t\t\t\t\t\tfor (final ProfileToDgListViewMapper mapper : mappers.get(profile)) {\r\n\t\t\t\t\t\t\t\tString sectionName = getCurrentSectionName(mapper);\r\n\t\t\t\t\t\t\t\tmonitor.subTask(&quot;Loading contents of section &quot; + sectionName);\r\n\t\t\t\t\t\t\t\tmapper.mapProfile(profile, list, notification);\r\n\t\t\t\t\t\t\t\tmonitor.worked(1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmonitor.done();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprivate String getCurrentSectionName(ProfileToDgListViewMapper mapper) {\r\n\t\t\t\t\t\tString currentSectionName = null;\r\n\t\t\t\t\t\tif (mapper instanceof ProfileToDGFileListViewMapper) {\r\n\t\t\t\t\t\t\tcurrentSectionName = DG_FILE_LIST;\r\n\t\t\t\t\t\t} else if (mapper instanceof ProfileToDGPinListViewMapper) {\r\n\t\t\t\t\t\t\tcurrentSectionName = DG_PIN_LIST;\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\treturn currentSectionName;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tprogressMoniorDialog.run(true, false, runnableWithProgress);\r\n\t\t\t\t\tprogressMoniorDialog.close();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\t} catch (InvocationTargetException e) {\r\n\t\t\t\t\tuserLogService.logError(Messages.ProfileGroup_ReloadConfiguration_Failed);\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\nSecond Progress Monitor - (on same GUI after loading first one)\r\n\r\n\r\n    Display.getDefault().syncExec(new Runnable() {\r\n\t\t\t    public void run() {\r\n\t\t\t    \tfinal DGListFeature dgListFeature = DGListFeature.class.cast(domainModel);\r\n\t\t\t\t\tprofile = (PProfile) dgListFeature.eContainer();\r\n\t\t\t    \tProgressMonitorDialog progressMoniorDialog = new ProgressMonitorDialog(\r\n\t\t\t\t\t\t\tDisplay.getDefault().getActiveShell());\r\n\t\t\t\t\tIRunnableWithProgress runnableWithProgress = new IRunnableWithProgress() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void run(final IProgressMonitor monitor) throws InvocationTargetException, InterruptedException {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t    \tint noOfAssignment = 8;\r\n\t\t\t\t\t\t\t\t\tmonitor.beginTask(&quot;Assign Default Data Labels&quot;, noOfAssignment);\r\n\r\n\t\t\t\t\t\t\t\t\tmonitor.subTask(ASSIGN_DEFAULT_DATALABELS + NonP4PProfileReportConstants.DG_FILE_LIST);\r\n\t\t\t\t\t\t\t\t\t// 1. Assign default data labels for files\r\n\t\t\t\t\t\t\t\t\tassignDefaultDataLabelsForFiles(dgListFeature);\r\n\t\t\t\t\t\t\t\t\tmonitor.worked(1);\r\n\r\n\t\t\t\t\t\t\t\t\tmonitor.subTask(ASSIGN_DEFAULT_DATALABELS + NonP4PProfileReportConstants.DG_PIN_LIST);\r\n\t\t\t\t\t\t\t\t\t// 2. Assign default data labels for Pins\r\n\t\t\t\t\t\t\t\t\tassignDefaultDataLabelsForPins(dgListFeature);\r\n\t\t\t\t\t\t\t\t\tmonitor.worked(1);\r\n\r\n\t\t\t\t\t\t\t\t\tmonitor.subTask(ASSIGN_DEFAULT_DATALABELS + NonP4PProfileReportConstants.DG_KEY_LIST_EF_BASED);\r\n\t\t\t\t\t\t\t\t\tProfileToDgListViewMapperService.getMapperServiceInstance(profile)\r\n\t\t\t\t\t\t\t\t\t\t\t.updateDgListConfigurationFeature(profile);\r\n\t\t\t\t\t\t\t\t\tmonitor.worked(1);\r\n\r\n\t\t\t\t\t\t\t\t\tmonitor.done();\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t};\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tprogressMoniorDialog.run(true, false, runnableWithProgress);\r\n\t\t\t\t\t\tprogressMoniorDialog.close();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\t\t} catch (InvocationTargetException e) {\r\n\t\t\t\t\t\tuserLogService.logError(Messages.ProfileGroup_ReloadDGListConfiguration_Failed);\r\n\t\t\t\t\t}}\r\n\t\t\t});","title":"IProgress Monitor always giving java.util.ConcurrentModificationException &amp; In InvocationTargetException giving Invalid Thread Access","body":"<p>I have written 2 progress monitors,</p>\n<ul>\n<li><p>When implementing first call I am getting ConcurrentModificationException in background. but progress monitor I can see working fine, also data is getting loaded/updated.</p>\n</li>\n<li><p>When implementing second once I am getting ConcurrentModificationException in background Also I am getting InvocationTargetException in cause is is saying</p>\n<blockquote>\n<p>Invalid Thread Access</p>\n</blockquote>\n</li>\n</ul>\n<p>Please note that I am using Display.getDefault().asyncExec for first progree dialog and for second one using Display.getDefault().syncExec.</p>\n<p>Kindly suggest what is missing here since monitor and data also getting updated/loaded as per requirement but sadly getting this exceptions.</p>\n<p>First Progress Monitor -</p>\n<pre><code>Display.getDefault().asyncExec(new Runnable() {\n        public void run() {\n            getBroker().stopNotification();\n            ProgressMonitorDialog progressMoniorDialog = new ProgressMonitorDialog(\n                    Display.getDefault().getActiveShell());\n            IRunnableWithProgress runnableWithProgress = new IRunnableWithProgress() {\n                @Override\n                public void run(final IProgressMonitor monitor)\n                        throws InvocationTargetException, InterruptedException {\n                    if (mappers.get(profile) != null) {\n                        int noOfDGListConfiguratioins = mappers.get(profile).size();\n                        monitor.beginTask(&quot;Configuration&quot;, noOfConfiguratioins);\n                        for (final ProfileToDgListViewMapper mapper : mappers.get(profile)) {\n                            String sectionName = getCurrentSectionName(mapper);\n                            monitor.subTask(&quot;Loading contents of section &quot; + sectionName);\n                            mapper.mapProfile(profile, list, notification);\n                            monitor.worked(1);\n                        }\n                    }\n                    monitor.done();\n                }\n                private String getCurrentSectionName(ProfileToDgListViewMapper mapper) {\n                    String currentSectionName = null;\n                    if (mapper instanceof ProfileToDGFileListViewMapper) {\n                        currentSectionName = DG_FILE_LIST;\n                    } else if (mapper instanceof ProfileToDGPinListViewMapper) {\n                        currentSectionName = DG_PIN_LIST;\n                    } \n                    return currentSectionName;\n                }\n            };\n            try {\n                progressMoniorDialog.run(true, false, runnableWithProgress);\n                progressMoniorDialog.close();\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            } catch (InvocationTargetException e) {\n                userLogService.logError(Messages.ProfileGroup_ReloadConfiguration_Failed);  \n            }\n        }\n    });\n</code></pre>\n<p>Second Progress Monitor - (on same GUI after loading first one)</p>\n<pre><code>Display.getDefault().syncExec(new Runnable() {\n            public void run() {\n                final DGListFeature dgListFeature = DGListFeature.class.cast(domainModel);\n                profile = (PProfile) dgListFeature.eContainer();\n                ProgressMonitorDialog progressMoniorDialog = new ProgressMonitorDialog(\n                        Display.getDefault().getActiveShell());\n                IRunnableWithProgress runnableWithProgress = new IRunnableWithProgress() {\n                    @Override\n                    public void run(final IProgressMonitor monitor) throws InvocationTargetException, InterruptedException {\n                        \n                                int noOfAssignment = 8;\n                                monitor.beginTask(&quot;Assign Default Data Labels&quot;, noOfAssignment);\n\n                                monitor.subTask(ASSIGN_DEFAULT_DATALABELS + NonP4PProfileReportConstants.DG_FILE_LIST);\n                                // 1. Assign default data labels for files\n                                assignDefaultDataLabelsForFiles(dgListFeature);\n                                monitor.worked(1);\n\n                                monitor.subTask(ASSIGN_DEFAULT_DATALABELS + NonP4PProfileReportConstants.DG_PIN_LIST);\n                                // 2. Assign default data labels for Pins\n                                assignDefaultDataLabelsForPins(dgListFeature);\n                                monitor.worked(1);\n\n                                monitor.subTask(ASSIGN_DEFAULT_DATALABELS + NonP4PProfileReportConstants.DG_KEY_LIST_EF_BASED);\n                                ProfileToDgListViewMapperService.getMapperServiceInstance(profile)\n                                        .updateDgListConfigurationFeature(profile);\n                                monitor.worked(1);\n\n                                monitor.done();\n                            }\n                };\n                try {\n                    progressMoniorDialog.run(true, false, runnableWithProgress);\n                    progressMoniorDialog.close();\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                } catch (InvocationTargetException e) {\n                    userLogService.logError(Messages.ProfileGroup_ReloadDGListConfiguration_Failed);\n                }}\n        });\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1639102739,"post_id":70298898,"comment_id":124269505,"body_markdown":"1) Don&#39;t set the preferred size of the label . The size of the label will automatically be determined by the size of the image. If you set the preferred size larger than the actual image size you will get extra space. 2) Don&#39;t add the label to a child panel. The default layout of a panel is a FlowLayout which will add extra space. Just add the label directly to the panel using the GridLayout.","body":"1) Don&#39;t set the preferred size of the label . The size of the label will automatically be determined by the size of the image. If you set the preferred size larger than the actual image size you will get extra space. 2) Don&#39;t add the label to a child panel. The default layout of a panel is a FlowLayout which will add extra space. Just add the label directly to the panel using the GridLayout."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1639102748,"post_id":70298898,"comment_id":124269507,"body_markdown":"For better help sooner, [edit] to add a [mre]. The code above would need **at least** the imports in order to be a MRE. Hot-link to suitable images, so other people can run it easily.","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/70298898/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The code above would need <b>at least</b> the imports in order to be a MRE. Hot-link to suitable images, so other people can run it easily."},{"owner":{"account_id":5705996,"reputation":588,"user_id":7966156,"display_name":"Nova"},"score":0,"creation_date":1639107551,"post_id":70298898,"comment_id":124270180,"body_markdown":"@camickr I implemented your suggestions. The GUI looks the same except now my MouseListener broke. So criteria 3 is no longer being met as well.","body":"@camickr I implemented your suggestions. The GUI looks the same except now my MouseListener broke. So criteria 3 is no longer being met as well."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1639109592,"post_id":70298898,"comment_id":124270465,"body_markdown":"1) you never add the listener to the board 2) you need to post your [mre] if you need more help.","body":"1) you never add the listener to the board 2) you need to post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you need more help."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1639148699,"post_id":70298898,"comment_id":124281686,"body_markdown":"@Nova *Turns out I should have been using GridBagLayout! I* - no the main issue is that you are manually setting the size of the frame to (600x 600). When you have a grid of 8 squares each with a size of 64 you are making the frame too large to each JLabel is resized too big. `Don&#39;t use setSize()`. It is the job of layout managers to determine the size of each component. Instead the simple solution is to `pack()` the frame AFTER all components have been added to the frame. Then there will be no gap.","body":"@Nova <i>Turns out I should have been using GridBagLayout! I</i> - no the main issue is that you are manually setting the size of the frame to (600x 600). When you have a grid of 8 squares each with a size of 64 you are making the frame too large to each JLabel is resized too big. <code>Don&#39;t use setSize()</code>. It is the job of layout managers to determine the size of each component. Instead the simple solution is to <code>pack()</code> the frame AFTER all components have been added to the frame. Then there will be no gap."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639113273,"creation_date":1639113273,"answer_id":70300037,"question_id":70298898,"body_markdown":"First, I&#39;d make use of a different layout manager, one which would try and expand to fit the size of the underlying container.\r\n\r\nThen, I would let the components do their jobs.  I don&#39;t know why you&#39;re adding the label to another panel, the panel doesn&#39;t seem to be adding additional functionality/features and is just adding to the complexity.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    List&lt;Maze.Direction&gt; directions = new ArrayList&lt;&gt;(32);\r\n                    directions.add(Maze.Direction.EAST_SOUTH);\r\n                    directions.add(Maze.Direction.EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.SOUTH_WEST);\r\n                    directions.add(Maze.Direction.NORTH_EAST_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH_WEST);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH_SOUTH);\r\n                    directions.add(Maze.Direction.NORTH);\r\n                    directions.add(Maze.Direction.NORTH);\r\n                    directions.add(Maze.Direction.NORTH);\r\n                    directions.add(Maze.Direction.NORTH);\r\n                    directions.add(Maze.Direction.NORTH);\r\n                    directions.add(Maze.Direction.NORTH);\r\n\r\n                    System.out.println(directions.size());\r\n\r\n                    Maze maze = new DefaultMaze(5, 6, directions);\r\n\r\n                    MazeGui frame = new MazeGui(maze);\r\n                    frame.addClickListener(null);\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Maze {\r\n\r\n            enum Direction {\r\n                EAST_SOUTH(&quot;EastSouth.png&quot;), EAST_SOUTH_WEST(&quot;EastSouthWest.png&quot;), SOUTH_WEST(&quot;SouthWest.png&quot;),\r\n                NORTH_EAST_SOUTH(&quot;NorthEastSouth.png&quot;), NORTH_EAST_SOUTH_WEST(&quot;NorthEastSouthWest.png&quot;),\r\n                NORTH_SOUTH_WEST(&quot;NorthSouthWest.png&quot;), NORTH_SOUTH(&quot;NorthSouth.png&quot;), NORTH(&quot;North.png&quot;);\r\n\r\n                private BufferedImage image;\r\n\r\n                private Direction(String name) {\r\n                    try {\r\n                        image = ImageIO.read(getClass().getResource(&quot;/images/&quot; + name));\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n\r\n                public BufferedImage getImage() {\r\n                    return image;\r\n                }\r\n\r\n            }\r\n\r\n            public int getRows();\r\n\r\n            public int getColumns();\r\n\r\n            public Direction getRoomDirections(int index);\r\n        }\r\n\r\n        public class DefaultMaze implements Maze {\r\n\r\n            int rows;\r\n            int columns;\r\n\r\n            private List&lt;Direction&gt; directions;\r\n\r\n            public DefaultMaze(int rows, int columns, List&lt;Direction&gt; directions) {\r\n                this.rows = rows;\r\n                this.columns = columns;\r\n                this.directions = directions;\r\n            }\r\n\r\n            public int getRows() {\r\n                return rows;\r\n            }\r\n\r\n            public int getColumns() {\r\n                return columns;\r\n            }\r\n\r\n            @Override\r\n            public Direction getRoomDirections(int index) {\r\n                return directions.get(index);\r\n            }\r\n        }\r\n\r\n        public class MazeGui extends JFrame {\r\n\r\n            // Missing code\r\n            public interface DungeonController {\r\n            }\r\n\r\n            private final Board board;\r\n\r\n            public MazeGui(Maze m) {\r\n                this.setSize(600, 600);\r\n                this.setResizable(false);\r\n\r\n                this.board = new Board(m);\r\n                JScrollPane scroller = new JScrollPane(board);\r\n                this.add(scroller, BorderLayout.CENTER);\r\n\r\n                setTitle(&quot;Dungeon Escape&quot;);\r\n            }\r\n\r\n            public Board getBoard() {\r\n                return board;\r\n            }\r\n\r\n            public void addClickListener(DungeonController listener) {\r\n                Board board = getBoard();\r\n                board.addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        Component cell = board.getComponentAt(e.getPoint());\r\n                        System.out.println(cell.getName());\r\n                        board.highlight(cell.getBounds());\r\n                    }\r\n                });\r\n            }\r\n\r\n            private class Board extends JPanel {\r\n\r\n                private Rectangle selectedCell;\r\n\r\n                private Maze maze;\r\n\r\n                public Board(Maze maze) {\r\n                    this.maze = maze;\r\n                    setLayout(new GridBagLayout());\r\n                    GridBagConstraints gbc = new GridBagConstraints();\r\n                    gbc.gridx = 0;\r\n                    gbc.gridy = 0;\r\n\r\n                    for (int index = 0; index &lt; maze.getRows() * maze.getColumns(); index++) {\r\n                        Maze.Direction direction = maze.getRoomDirections(index);\r\n                        JLabel label = new JLabel(new ImageIcon(direction.getImage()));\r\n                        label.setName(direction.name());\r\n                        add(label, gbc);\r\n                        gbc.gridx++;\r\n                        if (gbc.gridx &gt;= maze.getColumns()) {\r\n                            gbc.gridx = 0;\r\n                            gbc.gridy++;\r\n                        }\r\n                    }\r\n\r\n    //                addMouseListener(new MouseAdapter() {\r\n    //                    @Override\r\n    //                    public void mouseClicked(MouseEvent e) {\r\n    //                        Component component = getComponentAt(e.getPoint());\r\n    //                        selectedCell = null;\r\n    //                        if (component != null) {\r\n    //                            selectedCell = component.getBounds();\r\n    //                        }\r\n    //                        repaint();\r\n    //                    }\r\n    //                });\r\n                }\r\n\r\n                public void highlight(Rectangle bounds) {\r\n                    selectedCell = bounds;\r\n                    repaint();\r\n                }\r\n\r\n                @Override\r\n                public void paint(Graphics g) {\r\n                    super.paint(g);\r\n                    if (selectedCell != null) {\r\n                        Graphics2D g2d = (Graphics2D) g.create();\r\n                        g2d.setColor(new Color(0, 0, 255, 128));\r\n                        g2d.fill(selectedCell);\r\n                        g2d.dispose();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F5IwA.gif","title":"How to make all images in Grid Overlay flush?","body":"<p>First, I'd make use of a different layout manager, one which would try and expand to fit the size of the underlying container.</p>\n<p>Then, I would let the components do their jobs.  I don't know why you're adding the label to another panel, the panel doesn't seem to be adding additional functionality/features and is just adding to the complexity.</p>\n<p><a href=\"https://i.stack.imgur.com/F5IwA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F5IwA.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                List&lt;Maze.Direction&gt; directions = new ArrayList&lt;&gt;(32);\n                directions.add(Maze.Direction.EAST_SOUTH);\n                directions.add(Maze.Direction.EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.SOUTH_WEST);\n                directions.add(Maze.Direction.NORTH_EAST_SOUTH);\n                directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.NORTH_EAST_SOUTH_WEST);\n                directions.add(Maze.Direction.NORTH_SOUTH_WEST);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH_SOUTH);\n                directions.add(Maze.Direction.NORTH);\n                directions.add(Maze.Direction.NORTH);\n                directions.add(Maze.Direction.NORTH);\n                directions.add(Maze.Direction.NORTH);\n                directions.add(Maze.Direction.NORTH);\n                directions.add(Maze.Direction.NORTH);\n\n                System.out.println(directions.size());\n\n                Maze maze = new DefaultMaze(5, 6, directions);\n\n                MazeGui frame = new MazeGui(maze);\n                frame.addClickListener(null);\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Maze {\n\n        enum Direction {\n            EAST_SOUTH(&quot;EastSouth.png&quot;), EAST_SOUTH_WEST(&quot;EastSouthWest.png&quot;), SOUTH_WEST(&quot;SouthWest.png&quot;),\n            NORTH_EAST_SOUTH(&quot;NorthEastSouth.png&quot;), NORTH_EAST_SOUTH_WEST(&quot;NorthEastSouthWest.png&quot;),\n            NORTH_SOUTH_WEST(&quot;NorthSouthWest.png&quot;), NORTH_SOUTH(&quot;NorthSouth.png&quot;), NORTH(&quot;North.png&quot;);\n\n            private BufferedImage image;\n\n            private Direction(String name) {\n                try {\n                    image = ImageIO.read(getClass().getResource(&quot;/images/&quot; + name));\n                } catch (IOException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n\n            public BufferedImage getImage() {\n                return image;\n            }\n\n        }\n\n        public int getRows();\n\n        public int getColumns();\n\n        public Direction getRoomDirections(int index);\n    }\n\n    public class DefaultMaze implements Maze {\n\n        int rows;\n        int columns;\n\n        private List&lt;Direction&gt; directions;\n\n        public DefaultMaze(int rows, int columns, List&lt;Direction&gt; directions) {\n            this.rows = rows;\n            this.columns = columns;\n            this.directions = directions;\n        }\n\n        public int getRows() {\n            return rows;\n        }\n\n        public int getColumns() {\n            return columns;\n        }\n\n        @Override\n        public Direction getRoomDirections(int index) {\n            return directions.get(index);\n        }\n    }\n\n    public class MazeGui extends JFrame {\n\n        // Missing code\n        public interface DungeonController {\n        }\n\n        private final Board board;\n\n        public MazeGui(Maze m) {\n            this.setSize(600, 600);\n            this.setResizable(false);\n\n            this.board = new Board(m);\n            JScrollPane scroller = new JScrollPane(board);\n            this.add(scroller, BorderLayout.CENTER);\n\n            setTitle(&quot;Dungeon Escape&quot;);\n        }\n\n        public Board getBoard() {\n            return board;\n        }\n\n        public void addClickListener(DungeonController listener) {\n            Board board = getBoard();\n            board.addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    Component cell = board.getComponentAt(e.getPoint());\n                    System.out.println(cell.getName());\n                    board.highlight(cell.getBounds());\n                }\n            });\n        }\n\n        private class Board extends JPanel {\n\n            private Rectangle selectedCell;\n\n            private Maze maze;\n\n            public Board(Maze maze) {\n                this.maze = maze;\n                setLayout(new GridBagLayout());\n                GridBagConstraints gbc = new GridBagConstraints();\n                gbc.gridx = 0;\n                gbc.gridy = 0;\n\n                for (int index = 0; index &lt; maze.getRows() * maze.getColumns(); index++) {\n                    Maze.Direction direction = maze.getRoomDirections(index);\n                    JLabel label = new JLabel(new ImageIcon(direction.getImage()));\n                    label.setName(direction.name());\n                    add(label, gbc);\n                    gbc.gridx++;\n                    if (gbc.gridx &gt;= maze.getColumns()) {\n                        gbc.gridx = 0;\n                        gbc.gridy++;\n                    }\n                }\n\n//                addMouseListener(new MouseAdapter() {\n//                    @Override\n//                    public void mouseClicked(MouseEvent e) {\n//                        Component component = getComponentAt(e.getPoint());\n//                        selectedCell = null;\n//                        if (component != null) {\n//                            selectedCell = component.getBounds();\n//                        }\n//                        repaint();\n//                    }\n//                });\n            }\n\n            public void highlight(Rectangle bounds) {\n                selectedCell = bounds;\n                repaint();\n            }\n\n            @Override\n            public void paint(Graphics g) {\n                super.paint(g);\n                if (selectedCell != null) {\n                    Graphics2D g2d = (Graphics2D) g.create();\n                    g2d.setColor(new Color(0, 0, 255, 128));\n                    g2d.fill(selectedCell);\n                    g2d.dispose();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639150186,"creation_date":1639149726,"answer_id":70306738,"question_id":70298898,"body_markdown":"&gt; The GUI itself has a set size and is not resizable\r\n\r\nSo the issue here is that you are forcing the &quot;board&quot; panel to have an arbitrary size. \r\n\r\n    this.setSize(600, 600);\r\n\r\nThe actual size of the panel should be 8 * 64 = 512. So extra space is being added to each grid. \r\n\r\n**Don&#39;t hardcode size values.**\r\n\r\nIt is the job of the layout manager to determine the preferred size of each component.\r\n\r\nSo instead of using setSize(...) you should `pack()` the frame before making it visible:\r\n\r\n    this.pack();\r\n    this.setVisible(true);\r\n\r\nWhen you do this you will see that the maze fits completely in the frame.\r\n\r\nIf you want extra space around the maze then you need to add a &quot;border&quot; to your board:\r\n\r\n    setBorder( new EmptyBorder(88, 88, 88, 88) );\r\n    GridLayout layout = new GridLayout(m.getNumRows(),m.getNumCols(), 0, 0);\r\n\r\n&gt; Turns out I should have been using GridBagLayout! \r\n\r\nThere is no need to change layout managers, only use the layout managers more effectively.\r\n\r\nIf you really for some reason need to specify a fixed frame size then you can make the following change:\r\n\r\n    //this.add(scroller, BorderLayout.CENTER);\r\n    JPanel wrapper = new JPanel( new GridBagLayout() );\r\n    wrapper.add(scroller, new GridBagConstraints());\r\n    this.add(wrapper, BorderLayout.CENTER);\r\n\r\nThis will allow the &quot;board&quot; panel to be displayed at its preferred size and the &quot;board&quot; panel will be centered in its parent container.\r\n\r\nUsing these tips will help you effectively create more complicated layouts. ","title":"How to make all images in Grid Overlay flush?","body":"<blockquote>\n<p>The GUI itself has a set size and is not resizable</p>\n</blockquote>\n<p>So the issue here is that you are forcing the &quot;board&quot; panel to have an arbitrary size.</p>\n<pre><code>this.setSize(600, 600);\n</code></pre>\n<p>The actual size of the panel should be 8 * 64 = 512. So extra space is being added to each grid.</p>\n<p><strong>Don't hardcode size values.</strong></p>\n<p>It is the job of the layout manager to determine the preferred size of each component.</p>\n<p>So instead of using setSize(...) you should <code>pack()</code> the frame before making it visible:</p>\n<pre><code>this.pack();\nthis.setVisible(true);\n</code></pre>\n<p>When you do this you will see that the maze fits completely in the frame.</p>\n<p>If you want extra space around the maze then you need to add a &quot;border&quot; to your board:</p>\n<pre><code>setBorder( new EmptyBorder(88, 88, 88, 88) );\nGridLayout layout = new GridLayout(m.getNumRows(),m.getNumCols(), 0, 0);\n</code></pre>\n<blockquote>\n<p>Turns out I should have been using GridBagLayout!</p>\n</blockquote>\n<p>There is no need to change layout managers, only use the layout managers more effectively.</p>\n<p>If you really for some reason need to specify a fixed frame size then you can make the following change:</p>\n<pre><code>//this.add(scroller, BorderLayout.CENTER);\nJPanel wrapper = new JPanel( new GridBagLayout() );\nwrapper.add(scroller, new GridBagConstraints());\nthis.add(wrapper, BorderLayout.CENTER);\n</code></pre>\n<p>This will allow the &quot;board&quot; panel to be displayed at its preferred size and the &quot;board&quot; panel will be centered in its parent container.</p>\n<p>Using these tips will help you effectively create more complicated layouts.</p>\n"}],"owner":{"account_id":5705996,"reputation":588,"user_id":7966156,"display_name":"Nova"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70300037,"answer_count":2,"score":1,"last_activity_date":1639150186,"creation_date":1639101714,"question_id":70298898,"body_markdown":"I am trying to implement a GUI for a maze-based game I created that meets the following specific conditions:\r\n\r\n1. The GUI itself has a set size and is not resizable (line 41) .\r\n\r\n2. The master panel (line 57) that contains all the maze images is scrollable. All maze image components are flush with each other.\r\n\r\n    - If maze is small enough, then entire maze will be visible in master panel.\r\n    - If maze is very large, then user would need to scroll.\r\n\r\n3. The master panel needs to be accessed by a mouse listener (line 130) that returns the component that is being clicked.\r\n\r\n**The following code seems to meet criteria 1 and 3, but fails criteria 2:**\r\n\r\n\r\n```java\r\n\r\npublic class MazeGui extends JFrame implements DungeonView {\r\n  \r\n  private final Board board;\r\n  \r\n  public MazeGui(ReadOnlyModel m) {\r\n\r\n    \r\n    //this.setSize(m.getNumRows()*100, m.getNumCols()*100);\r\n    this.setSize(600, 600);\r\n    this.setLocation(200, 200);\r\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    this.setResizable(false);\r\n\r\n    this.board = new Board(m);\r\n    JScrollPane scroller = new JScrollPane(board);\r\n    this.add(scroller, BorderLayout.CENTER);\r\n\r\n    setTitle(&quot;Dungeon Escape&quot;);\r\n\r\n  }\r\n  \r\n  private class Board extends JPanel {\r\n\r\n    private ReadOnlyModel m;\r\n    \r\n\r\n    public Board(ReadOnlyModel m) {\r\n\r\n      this.m = m;\r\n      GridLayout layout = new GridLayout(m.getNumRows(),m.getNumCols(), 0, 0);\r\n//      layout.setHgap(-100);\r\n//      layout.setVgap(-100);\r\n      this.setLayout(layout);\r\n      \r\n      this.setSize(m.getNumRows()*64,m.getNumCols()*64);\r\n      \r\n\r\n      for (int i = 0; i &lt; m.getNumRows() * m.getNumCols(); i++) {\r\n      \r\n      try {\r\n        // load resource from the classpath instead of a specific file location\r\n        InputStream imageStream = getClass().getResourceAsStream(String.format(&quot;/images/%s.png&quot;, m.getRoomDirections(i + 1)));\r\n        // convert the input stream into an image\r\n        Image image = ImageIO.read(imageStream);\r\n        // add the image to a label\r\n        JLabel label = new JLabel(new ImageIcon(image));\r\n        label.setPreferredSize(new Dimension(64, 64));\r\n        \r\n        \r\n        JPanel panel = new JPanel();\r\n        panel.setSize(64, 64);\r\n        String name = String.format(&quot;%d&quot;, i);\r\n        panel.setName(name);\r\n        panel.add(label);\r\n\r\n        // add the label to the JFrame\r\n        //this.layout.addLayoutComponent(TOOL_TIP_TEXT_KEY, label);\r\n\r\n        \r\n        this.add(panel);\r\n        \r\n      } catch (IOException e) {\r\n        JOptionPane.showMessageDialog(this, e.getMessage());\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\n\r\n    }\r\n  }\r\n  \r\n  \r\n\r\n  @Override\r\n  public void addClickListener(DungeonController listener) {\r\n\r\n    Board board = this.board;\r\n    \r\n    MouseListener mouseListener = new MouseAdapter() {\r\n\r\n      @Override\r\n      public void mouseClicked(MouseEvent e) {\r\n\r\n         System.out.println(String.format(&quot;(%d,%d)&quot;, e.getX(), e.getY()));\r\n         JPanel panel = (JPanel) board.getComponentAt(e.getPoint());\r\n         System.out.println(panel.getName());\r\n         \r\n\r\n      }\r\n\r\n    };\r\n\r\n    board.addMouseListener(mouseListener);\r\n\r\n  }\r\n    \r\n  \r\n\r\n  @Override\r\n  public void refresh() {\r\n    \r\n    this.repaint();\r\n  }\r\n\r\n  @Override\r\n  public void makeVisible() {\r\n\r\n    this.setVisible(true);\r\n    \r\n  }\r\n\r\n}\r\n\r\n```\r\n Here is an image of what it produces:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vMRkW.png","title":"How to make all images in Grid Overlay flush?","body":"<p>I am trying to implement a GUI for a maze-based game I created that meets the following specific conditions:</p>\n<ol>\n<li><p>The GUI itself has a set size and is not resizable (line 41) .</p>\n</li>\n<li><p>The master panel (line 57) that contains all the maze images is scrollable. All maze image components are flush with each other.</p>\n<ul>\n<li>If maze is small enough, then entire maze will be visible in master panel.</li>\n<li>If maze is very large, then user would need to scroll.</li>\n</ul>\n</li>\n<li><p>The master panel needs to be accessed by a mouse listener (line 130) that returns the component that is being clicked.</p>\n</li>\n</ol>\n<p><strong>The following code seems to meet criteria 1 and 3, but fails criteria 2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class MazeGui extends JFrame implements DungeonView {\n  \n  private final Board board;\n  \n  public MazeGui(ReadOnlyModel m) {\n\n    \n    //this.setSize(m.getNumRows()*100, m.getNumCols()*100);\n    this.setSize(600, 600);\n    this.setLocation(200, 200);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setResizable(false);\n\n    this.board = new Board(m);\n    JScrollPane scroller = new JScrollPane(board);\n    this.add(scroller, BorderLayout.CENTER);\n\n    setTitle(&quot;Dungeon Escape&quot;);\n\n  }\n  \n  private class Board extends JPanel {\n\n    private ReadOnlyModel m;\n    \n\n    public Board(ReadOnlyModel m) {\n\n      this.m = m;\n      GridLayout layout = new GridLayout(m.getNumRows(),m.getNumCols(), 0, 0);\n//      layout.setHgap(-100);\n//      layout.setVgap(-100);\n      this.setLayout(layout);\n      \n      this.setSize(m.getNumRows()*64,m.getNumCols()*64);\n      \n\n      for (int i = 0; i &lt; m.getNumRows() * m.getNumCols(); i++) {\n      \n      try {\n        // load resource from the classpath instead of a specific file location\n        InputStream imageStream = getClass().getResourceAsStream(String.format(&quot;/images/%s.png&quot;, m.getRoomDirections(i + 1)));\n        // convert the input stream into an image\n        Image image = ImageIO.read(imageStream);\n        // add the image to a label\n        JLabel label = new JLabel(new ImageIcon(image));\n        label.setPreferredSize(new Dimension(64, 64));\n        \n        \n        JPanel panel = new JPanel();\n        panel.setSize(64, 64);\n        String name = String.format(&quot;%d&quot;, i);\n        panel.setName(name);\n        panel.add(label);\n\n        // add the label to the JFrame\n        //this.layout.addLayoutComponent(TOOL_TIP_TEXT_KEY, label);\n\n        \n        this.add(panel);\n        \n      } catch (IOException e) {\n        JOptionPane.showMessageDialog(this, e.getMessage());\n        e.printStackTrace();\n      }\n    }\n\n\n    }\n  }\n  \n  \n\n  @Override\n  public void addClickListener(DungeonController listener) {\n\n    Board board = this.board;\n    \n    MouseListener mouseListener = new MouseAdapter() {\n\n      @Override\n      public void mouseClicked(MouseEvent e) {\n\n         System.out.println(String.format(&quot;(%d,%d)&quot;, e.getX(), e.getY()));\n         JPanel panel = (JPanel) board.getComponentAt(e.getPoint());\n         System.out.println(panel.getName());\n         \n\n      }\n\n    };\n\n    board.addMouseListener(mouseListener);\n\n  }\n    \n  \n\n  @Override\n  public void refresh() {\n    \n    this.repaint();\n  }\n\n  @Override\n  public void makeVisible() {\n\n    this.setVisible(true);\n    \n  }\n\n}\n\n</code></pre>\n<p>Here is an image of what it produces:</p>\n<p><a href=\"https://i.stack.imgur.com/vMRkW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vMRkW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","firebase","android-studio","firebase-realtime-database","adapter"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639214177,"post_id":70306833,"comment_id":124295096,"body_markdown":"What is the value of `tanggalawal`?","body":"What is the value of <code>tanggalawal</code>?"},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1639221849,"post_id":70306833,"comment_id":124296461,"body_markdown":"its a date in 20211211 format, and the same as tanggalakhir","body":"its a date in 20211211 format, and the same as tanggalakhir"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639224745,"post_id":70306833,"comment_id":124296991,"body_markdown":"Why do you say *its not only in range*? Please provide a concrete example in your question.","body":"Why do you say <i>its not only in range</i>? Please provide a concrete example in your question."},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1639225683,"post_id":70306833,"comment_id":124297184,"body_markdown":"something like i have 5 data inside the firebase, and i want to take only 1 data base on date, but when i pick the date and process that, they give me all 5 data. and when i choose something that not in database. they still give me 5 data","body":"something like i have 5 data inside the firebase, and i want to take only 1 data base on date, but when i pick the date and process that, they give me all 5 data. and when i choose something that not in database. they still give me 5 data"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639226346,"post_id":70306833,"comment_id":124297324,"body_markdown":"Have you tried the solution in the linked answer using the exact same data?","body":"Have you tried the solution in the linked answer using the exact same data?"},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1639227528,"post_id":70306833,"comment_id":124297582,"body_markdown":"so i change my database look like the exact on the link answer?","body":"so i change my database look like the exact on the link answer?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639228538,"post_id":70306833,"comment_id":124297805,"body_markdown":"Give it a try and tell me if it works.","body":"Give it a try and tell me if it works."},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1639230330,"post_id":70306833,"comment_id":124298156,"body_markdown":"its work if i only put `*20211211`, but how can i take the rest of number behind the 11. i should use equalTo?","body":"its work if i only put <code>*20211211</code>, but how can i take the rest of number behind the 11. i should use equalTo?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639298146,"post_id":70306833,"comment_id":124309295,"body_markdown":"No, it should work as expected. Add more numbers at the end.","body":"No, it should work as expected. Add more numbers at the end."},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1639302477,"post_id":70306833,"comment_id":124309977,"body_markdown":"i try to add 00000000 and it still the same, i make it look like this,   .startAt(&quot;*&quot; + tanggalawal + &quot;00000000&quot;)","body":"i try to add 00000000 and it still the same, i make it look like this,   .startAt(&quot;*&quot; + tanggalawal + &quot;00000000&quot;)"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639303934,"post_id":70306833,"comment_id":124310210,"body_markdown":"Aren&#39;t the following records returned?","body":"Aren&#39;t the following records returned?"},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1639304404,"post_id":70306833,"comment_id":124310282,"body_markdown":"wdym, which records?, when i did the + &quot;00000000&quot; its back look like the first one, the all data is showing up","body":"wdym, which records?, when i did the + &quot;00000000&quot; its back look like the first one, the all data is showing up"},{"owner":{"display_name":"user17562398"},"score":0,"creation_date":1639414816,"post_id":70306833,"comment_id":124337203,"body_markdown":"uhm so what should i do @AlexMamo","body":"uhm so what should i do @AlexMamo"}],"owner":{"display_name":"user17562398"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639150179,"creation_date":1639150179,"question_id":70306833,"body_markdown":"so i write a code for searching some range of data in my realtime firebase and when i did that, the data that shown up its not only in range, but all data that i have in firebase is out to my cardview(fragment)\r\n\r\nthis is my main code that work for searching data\r\n\r\n```\r\npublic class SearchListView extends AppCompatActivity {\r\n\r\n    private RecyclerView recView;\r\n    MyAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate (savedInstanceState);\r\n        setContentView (R.layout.activity_search_list_view);\r\n\r\n        String tanggalawal = getIntent ( ).getStringExtra (&quot;tanggalawal&quot;);\r\n        String tanggalakhir = getIntent ( ).getStringExtra (&quot;tanggalakhir&quot;);\r\n\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference pendingRef = db.child(&quot;Users&quot;).child(&quot;Pending&quot;);\r\n\r\n        Query queryByKey = pendingRef.orderByKey()\r\n                .startAt(&quot;*&quot; + tanggalawal)\r\n                .endAt(&quot;*&quot;+ tanggalakhir + &quot;\\uf8ff&quot;);\r\n\r\n\r\n        recView = (RecyclerView)findViewById (R.id.recview);\r\n        recView.setLayoutManager (new LinearLayoutManager (this));\r\n\r\n        FirebaseRecyclerOptions&lt;Model&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\r\n                        .setQuery(queryByKey, Model.class)\r\n                        .build();\r\n\r\n        adapter = new MyAdapter (options);\r\n        recView.setAdapter (adapter);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n\r\n}\r\n```\r\nand my firebase look like this\r\n\r\n[Firebase Database][1]\r\n\r\nand this is my adapter code \r\n\r\n```\r\npublic class MyAdapter extends FirebaseRecyclerAdapter &lt;Model,MyAdapter.myViewHolder&gt;{\r\n\r\n    public MyAdapter(@NonNull FirebaseRecyclerOptions&lt;Model&gt; options) {\r\n        super (options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myViewHolder myViewHolder, int i, @NonNull Model model) {\r\n        myViewHolder.currentDate.setText (model.getCurrentDate ());\r\n        myViewHolder.fullName.setText (model.getFullName ());\r\n        myViewHolder.currentDateandTime.setText (model.getCurrentDateandTime ());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from (parent.getContext ()).inflate (R.layout.item,parent,false);\r\n        return new myViewHolder (view);\r\n    }\r\n\r\n    class myViewHolder extends RecyclerView.ViewHolder{\r\n        TextView currentDate, fullName, currentDateandTime;\r\n        public myViewHolder(@NonNull View itemView) {\r\n            super (itemView);\r\n            currentDate = (TextView)itemView.findViewById (R.id.tvTanggalPengajuan);\r\n            fullName = (TextView)itemView.findViewById (R.id.tvNama);\r\n            currentDateandTime = (TextView)itemView.findViewById (R.id.tvNomorkontrak);\r\n        }\r\n    }\r\n    public interface OnNoteListener{\r\n\r\n        void OnNoteListener(int position);\r\n\r\n    }\r\n\r\n}\r\n```\r\ni&#39;ve following this method using &quot;*&quot; that look like this, but still failed\r\nhttps://stackoverflow.com/questions/70077152/search-firebase-realtime-database-base-on-6-digit-in-front-of-the-child-data-i\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/io9pp.png","title":"Something goes wrong with my startAt and endAt search data in range, its show all my data inside of firebase","body":"<p>so i write a code for searching some range of data in my realtime firebase and when i did that, the data that shown up its not only in range, but all data that i have in firebase is out to my cardview(fragment)</p>\n<p>this is my main code that work for searching data</p>\n<pre><code>public class SearchListView extends AppCompatActivity {\n\n    private RecyclerView recView;\n    MyAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate (savedInstanceState);\n        setContentView (R.layout.activity_search_list_view);\n\n        String tanggalawal = getIntent ( ).getStringExtra (&quot;tanggalawal&quot;);\n        String tanggalakhir = getIntent ( ).getStringExtra (&quot;tanggalakhir&quot;);\n\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n        DatabaseReference pendingRef = db.child(&quot;Users&quot;).child(&quot;Pending&quot;);\n\n        Query queryByKey = pendingRef.orderByKey()\n                .startAt(&quot;*&quot; + tanggalawal)\n                .endAt(&quot;*&quot;+ tanggalakhir + &quot;\\uf8ff&quot;);\n\n\n        recView = (RecyclerView)findViewById (R.id.recview);\n        recView.setLayoutManager (new LinearLayoutManager (this));\n\n        FirebaseRecyclerOptions&lt;Model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\n                        .setQuery(queryByKey, Model.class)\n                        .build();\n\n        adapter = new MyAdapter (options);\n        recView.setAdapter (adapter);\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n\n}\n</code></pre>\n<p>and my firebase look like this</p>\n<p><a href=\"https://i.stack.imgur.com/io9pp.png\" rel=\"nofollow noreferrer\">Firebase Database</a></p>\n<p>and this is my adapter code</p>\n<pre><code>public class MyAdapter extends FirebaseRecyclerAdapter &lt;Model,MyAdapter.myViewHolder&gt;{\n\n    public MyAdapter(@NonNull FirebaseRecyclerOptions&lt;Model&gt; options) {\n        super (options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myViewHolder myViewHolder, int i, @NonNull Model model) {\n        myViewHolder.currentDate.setText (model.getCurrentDate ());\n        myViewHolder.fullName.setText (model.getFullName ());\n        myViewHolder.currentDateandTime.setText (model.getCurrentDateandTime ());\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from (parent.getContext ()).inflate (R.layout.item,parent,false);\n        return new myViewHolder (view);\n    }\n\n    class myViewHolder extends RecyclerView.ViewHolder{\n        TextView currentDate, fullName, currentDateandTime;\n        public myViewHolder(@NonNull View itemView) {\n            super (itemView);\n            currentDate = (TextView)itemView.findViewById (R.id.tvTanggalPengajuan);\n            fullName = (TextView)itemView.findViewById (R.id.tvNama);\n            currentDateandTime = (TextView)itemView.findViewById (R.id.tvNomorkontrak);\n        }\n    }\n    public interface OnNoteListener{\n\n        void OnNoteListener(int position);\n\n    }\n\n}\n</code></pre>\n<p>i've following this method using &quot;*&quot; that look like this, but still failed\n<a href=\"https://stackoverflow.com/questions/70077152/search-firebase-realtime-database-base-on-6-digit-in-front-of-the-child-data-i\">Search firebase realtime database base on 6 digit in front of the child data, i want to query data between two numbers (dates)</a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1639069393,"post_id":70293652,"comment_id":124260127,"body_markdown":"It is probably easiest to have two panels, and swap between them using a `CardLayout` as needed. I say probably as I&#39;m not clear on the nature of these labels and field combos. What are the labels? Are the first two the same between the panels?","body":"It is probably easiest to have two panels, and swap between them using a <code>CardLayout</code> as needed. I say probably as I&#39;m not clear on the nature of these labels and field combos. What are the labels? Are the first two the same between the panels?"},{"owner":{"account_id":21903190,"reputation":13,"user_id":16188622,"display_name":"Connor Baush"},"score":0,"creation_date":1639083470,"post_id":70293652,"comment_id":124265219,"body_markdown":"@AndrewThompson I just edited it to be more accurate. Specifically, option A is a recipe with two components, and option B is a recipe with 3 components. Each component has a lot number and an expiration date. \n\nSo both panels will have the same two types of fields: lot number and expiration date. The number and names of components is what will change.","body":"@AndrewThompson I just edited it to be more accurate. Specifically, option A is a recipe with two components, and option B is a recipe with 3 components. Each component has a lot number and an expiration date.   So both panels will have the same two types of fields: lot number and expiration date. The number and names of components is what will change."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1639103164,"post_id":70293652,"comment_id":124269570,"body_markdown":"I would recommend having the 2 label &amp; field pairs and a `JList` or `JTable` for the rest of the changeable information. Either of the latter allows multiple selections (e.g. as to whether the consumer wants &#39;cream on tip&#39;, &#39;gluten-free option&#39;  or a &#39;sprinkle of cocoa&#39;). **Edit:** So one single panel. Just changing the field values and model (of the list or table) should do the trick.","body":"I would recommend having the 2 label &amp; field pairs and a <code>JList</code> or <code>JTable</code> for the rest of the changeable information. Either of the latter allows multiple selections (e.g. as to whether the consumer wants &#39;cream on tip&#39;, &#39;gluten-free option&#39;  or a &#39;sprinkle of cocoa&#39;). <b>Edit:</b> So one single panel. Just changing the field values and model (of the list or table) should do the trick."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639633815,"post_id":70293652,"comment_id":124400237,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639130408,"creation_date":1639130408,"answer_id":70302718,"question_id":70293652,"body_markdown":"The code below addresses specifically your question statement, although I can&#39;t help thinking that you probably want something more generic, i.e. where there are more than two options. Also, the below code is only one possible implementation of your stated requirements.\r\n\r\nThe idea in the below code is to initially create all the required GUI components in a single container and simply change the visibility of the [optional] components depending on the selected option.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.ButtonGroup;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JSpinner;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SpinnerDateModel;\r\n\r\npublic class Opciones implements ActionListener {\r\n    private JFrame  frame;\r\n    private JLabel  expiryThirdLabel;\r\n    private JLabel  lotThirdLabel;\r\n    private JRadioButton  twoRadioButton;\r\n    private JRadioButton  threeRadioButton;\r\n    private JSpinner  expiryFirstSpinner;\r\n    private JSpinner  expirySecondSpinner;\r\n    private JSpinner  expiryThirdSpinner;\r\n    private JTextField  lotFirstTextField;\r\n    private JTextField  lotSecondTextField;\r\n    private JTextField  lotThirdTextField;\r\n\r\n    public void actionPerformed(ActionEvent event) {\r\n        Object src = event.getSource();\r\n        boolean flag;\r\n        if (twoRadioButton == src) {\r\n            flag = false;\r\n        }\r\n        else if (threeRadioButton == src) {\r\n            flag = true;\r\n        }\r\n        else {\r\n            flag = false;\r\n            JOptionPane.showMessageDialog(frame,\r\n                                          &quot;Unrecognized source.&quot;,\r\n                                          &quot;WARNING&quot;,\r\n                                          JOptionPane.WARNING_MESSAGE);\r\n        }\r\n        expiryThirdLabel.setVisible(flag);\r\n        expiryThirdSpinner.setVisible(flag);\r\n        lotThirdLabel.setVisible(flag);\r\n        lotThirdTextField.setVisible(flag);\r\n        frame.pack();\r\n    }\r\n\r\n    private void createAndDisplayGui() {\r\n        frame = new JFrame(&quot;Options&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTopPanel(), BorderLayout.PAGE_START);\r\n        frame.add(createForm(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createForm() {\r\n        JPanel form = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.LINE_START;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.insets.bottom = 5;\r\n        gbc.insets.left = 5;\r\n        gbc.insets.right = 5;\r\n        gbc.insets.top = 5;\r\n        JLabel lotFirstLabel = new JLabel(&quot;Lot Number&quot;);\r\n        form.add(lotFirstLabel, gbc);\r\n        gbc.gridx = 1;\r\n        lotFirstTextField = new JTextField(6);\r\n        form.add(lotFirstTextField, gbc);\r\n        gbc.gridx = 2;\r\n        JLabel expiryFirstLabel = new JLabel(&quot;Expiry&quot;);\r\n        form.add(expiryFirstLabel, gbc);\r\n        gbc.gridx = 3;\r\n        expiryFirstSpinner = createSpinner();\r\n        form.add(expiryFirstSpinner, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        JLabel lotSecondLabel = new JLabel(&quot;Lot Number&quot;);\r\n        form.add(lotSecondLabel, gbc);\r\n        gbc.gridx = 1;\r\n        lotSecondTextField = new JTextField(6);\r\n        form.add(lotSecondTextField, gbc);\r\n        gbc.gridx = 2;\r\n        JLabel expirySecondLabel = new JLabel(&quot;Expiry&quot;);\r\n        form.add(expirySecondLabel, gbc);\r\n        gbc.gridx = 3;\r\n        expirySecondSpinner = createSpinner();\r\n        form.add(expirySecondSpinner, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        lotThirdLabel = new JLabel(&quot;Lot Number&quot;);\r\n        lotThirdLabel.setVisible(false);\r\n        form.add(lotThirdLabel, gbc);\r\n        gbc.gridx = 1;\r\n        lotThirdTextField = new JTextField(6);\r\n        lotThirdTextField.setVisible(false);\r\n        form.add(lotThirdTextField, gbc);\r\n        gbc.gridx = 2;\r\n        expiryThirdLabel = new JLabel(&quot;Expiry&quot;);\r\n        expiryThirdLabel.setVisible(false);\r\n        form.add(expiryThirdLabel, gbc);\r\n        gbc.gridx = 3;\r\n        expiryThirdSpinner = createSpinner();\r\n        expiryThirdSpinner.setVisible(false);\r\n        form.add(expiryThirdSpinner, gbc);\r\n\r\n        return form;\r\n    }\r\n\r\n    private JSpinner createSpinner() {\r\n        SpinnerDateModel sdm = new SpinnerDateModel();\r\n        JSpinner spinner = new JSpinner(sdm);\r\n        spinner.setEditor(new JSpinner.DateEditor(spinner, &quot;MM/dd/yyyy&quot;)); // USA format\r\n        return spinner;\r\n    }\r\n\r\n    private JPanel createTopPanel() {\r\n        JPanel topPanel = new JPanel();\r\n        JLabel label = new JLabel(&quot;Number of Components&quot;);\r\n        topPanel.add(label);\r\n        ButtonGroup buttonGroup = new ButtonGroup();\r\n        twoRadioButton = new JRadioButton(&quot;Two&quot;);\r\n        twoRadioButton.addActionListener(this);\r\n        twoRadioButton.setSelected(true);\r\n        buttonGroup.add(twoRadioButton);\r\n        topPanel.add(twoRadioButton);\r\n        threeRadioButton = new JRadioButton(&quot;Three&quot;);\r\n        threeRadioButton.addActionListener(this);\r\n        buttonGroup.add(threeRadioButton);\r\n        topPanel.add(threeRadioButton);\r\n        return topPanel;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new Opciones().createAndDisplayGui());\r\n    }\r\n}\r\n```\r\nInitially, the GUI looks like this\r\n\r\n[![two screen capture][1]][1]\r\n\r\nAnd after selecting `Three` radio button\r\n\r\n[![three screen capture][2]][2]\r\n\r\nRefer to the following.\r\n* [How to Use Buttons, Check Boxes, and Radio Buttons][3]\r\n* [How to Make Frames (Main Windows)][4]\r\n* [How to Use Spinners][5]\r\n* [How to Use GridBagLayout][6]\r\n* [How to Write an Action Listener][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nf0Fo.png\r\n  [2]: https://i.stack.imgur.com/dlSsa.png\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/components/frame.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\r\n  [7]: https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html","title":"Java Swing - Change number of text fields based on a variable","body":"<p>The code below addresses specifically your question statement, although I can't help thinking that you probably want something more generic, i.e. where there are more than two options. Also, the below code is only one possible implementation of your stated requirements.</p>\n<p>The idea in the below code is to initially create all the required GUI components in a single container and simply change the visibility of the [optional] components depending on the selected option.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JSpinner;\nimport javax.swing.JTextField;\nimport javax.swing.SpinnerDateModel;\n\npublic class Opciones implements ActionListener {\n    private JFrame  frame;\n    private JLabel  expiryThirdLabel;\n    private JLabel  lotThirdLabel;\n    private JRadioButton  twoRadioButton;\n    private JRadioButton  threeRadioButton;\n    private JSpinner  expiryFirstSpinner;\n    private JSpinner  expirySecondSpinner;\n    private JSpinner  expiryThirdSpinner;\n    private JTextField  lotFirstTextField;\n    private JTextField  lotSecondTextField;\n    private JTextField  lotThirdTextField;\n\n    public void actionPerformed(ActionEvent event) {\n        Object src = event.getSource();\n        boolean flag;\n        if (twoRadioButton == src) {\n            flag = false;\n        }\n        else if (threeRadioButton == src) {\n            flag = true;\n        }\n        else {\n            flag = false;\n            JOptionPane.showMessageDialog(frame,\n                                          &quot;Unrecognized source.&quot;,\n                                          &quot;WARNING&quot;,\n                                          JOptionPane.WARNING_MESSAGE);\n        }\n        expiryThirdLabel.setVisible(flag);\n        expiryThirdSpinner.setVisible(flag);\n        lotThirdLabel.setVisible(flag);\n        lotThirdTextField.setVisible(flag);\n        frame.pack();\n    }\n\n    private void createAndDisplayGui() {\n        frame = new JFrame(&quot;Options&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTopPanel(), BorderLayout.PAGE_START);\n        frame.add(createForm(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createForm() {\n        JPanel form = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.insets.bottom = 5;\n        gbc.insets.left = 5;\n        gbc.insets.right = 5;\n        gbc.insets.top = 5;\n        JLabel lotFirstLabel = new JLabel(&quot;Lot Number&quot;);\n        form.add(lotFirstLabel, gbc);\n        gbc.gridx = 1;\n        lotFirstTextField = new JTextField(6);\n        form.add(lotFirstTextField, gbc);\n        gbc.gridx = 2;\n        JLabel expiryFirstLabel = new JLabel(&quot;Expiry&quot;);\n        form.add(expiryFirstLabel, gbc);\n        gbc.gridx = 3;\n        expiryFirstSpinner = createSpinner();\n        form.add(expiryFirstSpinner, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        JLabel lotSecondLabel = new JLabel(&quot;Lot Number&quot;);\n        form.add(lotSecondLabel, gbc);\n        gbc.gridx = 1;\n        lotSecondTextField = new JTextField(6);\n        form.add(lotSecondTextField, gbc);\n        gbc.gridx = 2;\n        JLabel expirySecondLabel = new JLabel(&quot;Expiry&quot;);\n        form.add(expirySecondLabel, gbc);\n        gbc.gridx = 3;\n        expirySecondSpinner = createSpinner();\n        form.add(expirySecondSpinner, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        lotThirdLabel = new JLabel(&quot;Lot Number&quot;);\n        lotThirdLabel.setVisible(false);\n        form.add(lotThirdLabel, gbc);\n        gbc.gridx = 1;\n        lotThirdTextField = new JTextField(6);\n        lotThirdTextField.setVisible(false);\n        form.add(lotThirdTextField, gbc);\n        gbc.gridx = 2;\n        expiryThirdLabel = new JLabel(&quot;Expiry&quot;);\n        expiryThirdLabel.setVisible(false);\n        form.add(expiryThirdLabel, gbc);\n        gbc.gridx = 3;\n        expiryThirdSpinner = createSpinner();\n        expiryThirdSpinner.setVisible(false);\n        form.add(expiryThirdSpinner, gbc);\n\n        return form;\n    }\n\n    private JSpinner createSpinner() {\n        SpinnerDateModel sdm = new SpinnerDateModel();\n        JSpinner spinner = new JSpinner(sdm);\n        spinner.setEditor(new JSpinner.DateEditor(spinner, &quot;MM/dd/yyyy&quot;)); // USA format\n        return spinner;\n    }\n\n    private JPanel createTopPanel() {\n        JPanel topPanel = new JPanel();\n        JLabel label = new JLabel(&quot;Number of Components&quot;);\n        topPanel.add(label);\n        ButtonGroup buttonGroup = new ButtonGroup();\n        twoRadioButton = new JRadioButton(&quot;Two&quot;);\n        twoRadioButton.addActionListener(this);\n        twoRadioButton.setSelected(true);\n        buttonGroup.add(twoRadioButton);\n        topPanel.add(twoRadioButton);\n        threeRadioButton = new JRadioButton(&quot;Three&quot;);\n        threeRadioButton.addActionListener(this);\n        buttonGroup.add(threeRadioButton);\n        topPanel.add(threeRadioButton);\n        return topPanel;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new Opciones().createAndDisplayGui());\n    }\n}\n</code></pre>\n<p>Initially, the GUI looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/nf0Fo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nf0Fo.png\" alt=\"two screen capture\" /></a></p>\n<p>And after selecting <code>Three</code> radio button</p>\n<p><a href=\"https://i.stack.imgur.com/dlSsa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dlSsa.png\" alt=\"three screen capture\" /></a></p>\n<p>Refer to the following.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/frame.html\" rel=\"nofollow noreferrer\">How to Make Frames (Main Windows)</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\">How to Use Spinners</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a></li>\n</ul>\n"}],"owner":{"account_id":21903190,"reputation":13,"user_id":16188622,"display_name":"Connor Baush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639150035,"creation_date":1639068491,"question_id":70293652,"body_markdown":"I&#39;d like to have a GUI that can adapt to user input, rather than making a different panel for each option.\r\n\r\nThe first panel has a number of buttons to choose from, each will bring you to the next panel that will contain text entry fields.\r\n\r\nOption A: Has 2 components and should open a panel with 4 text fields.\r\n\r\nOption B: Has 3 components and should open a panel with 6 text fields.\r\n\r\nSpecifically, option A is a recipe with two components, and option B is a recipe with 3 components. Each component has a lot number and an expiration date. So both panels will have the same two types of fields: lot number and expiration date. The number and names of components is what will change.\r\n\r\nCan I have the same panel be able to adapt to a number of components sent to it based on which of the two options was selected? Or do I have to make two separate panels, one with 4 fields and one with 6?\r\n\r\n\r\n\r\nHere&#39;s one idea:\r\n\r\n    Map&lt;String, JTextField&gt; fieldMap = new HashMap&lt;String, JTextField&gt;()\r\n    for(int i = 0; i &lt; recipe.length; i++)\r\n    {\r\n        fieldMap.put(&quot;field&quot; + i, new JTextField());\r\n    }\r\n\r\nIdea derived from https://stackoverflow.com/questions/8631935/creating-a-variable-name-using-a-string-value\r\n\r\n\r\n","title":"Java Swing - Change number of text fields based on a variable","body":"<p>I'd like to have a GUI that can adapt to user input, rather than making a different panel for each option.</p>\n<p>The first panel has a number of buttons to choose from, each will bring you to the next panel that will contain text entry fields.</p>\n<p>Option A: Has 2 components and should open a panel with 4 text fields.</p>\n<p>Option B: Has 3 components and should open a panel with 6 text fields.</p>\n<p>Specifically, option A is a recipe with two components, and option B is a recipe with 3 components. Each component has a lot number and an expiration date. So both panels will have the same two types of fields: lot number and expiration date. The number and names of components is what will change.</p>\n<p>Can I have the same panel be able to adapt to a number of components sent to it based on which of the two options was selected? Or do I have to make two separate panels, one with 4 fields and one with 6?</p>\n<p>Here's one idea:</p>\n<pre><code>Map&lt;String, JTextField&gt; fieldMap = new HashMap&lt;String, JTextField&gt;()\nfor(int i = 0; i &lt; recipe.length; i++)\n{\n    fieldMap.put(&quot;field&quot; + i, new JTextField());\n}\n</code></pre>\n<p>Idea derived from <a href=\"https://stackoverflow.com/questions/8631935/creating-a-variable-name-using-a-string-value\">Creating a variable name using a String value</a></p>\n"},{"tags":["java","loops","kotlin"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1639074305,"post_id":70294739,"comment_id":124262115,"body_markdown":"You Println statement is probably creating a new object to hold the value of num * i for ever iteration of your while loop. Because your while loop doesn&#39;t have a condition to escape. The scope the loop is in and all the objects in it, are kept in memory. That loop probably is getting iterated through 1000s of times a second. So you&#39;re creating 1000&#39;s of objects and they have to be kept somewhere... Till there isn&#39;t any more space.\nIn a practical program you would never have a loop without some sort of escape condition. So it&#39;s not really an issue.","body":"You Println statement is probably creating a new object to hold the value of num * i for ever iteration of your while loop. Because your while loop doesn&#39;t have a condition to escape. The scope the loop is in and all the objects in it, are kept in memory. That loop probably is getting iterated through 1000s of times a second. So you&#39;re creating 1000&#39;s of objects and they have to be kept somewhere... Till there isn&#39;t any more space. In a practical program you would never have a loop without some sort of escape condition. So it&#39;s not really an issue."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1639074755,"post_id":70294739,"comment_id":124262274,"body_markdown":"Can you copy-paste your actual code? This isn&#39;t compilable. I don&#39;t see anything above that would cause it to use increasingly more memory.","body":"Can you copy-paste your actual code? This isn&#39;t compilable. I don&#39;t see anything above that would cause it to use increasingly more memory."}],"answers":[{"tags":[],"owner":{"account_id":13821491,"reputation":13,"user_id":14466603,"display_name":"user9976805"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639074491,"creation_date":1639074491,"answer_id":70294952,"question_id":70294739,"body_markdown":"Value of i is always 1 and you are going in infinite loop so that&#39;s why out of memory is coming try to change the condition and you will get the output hope this helps\r\n\r\n    Fun main(){\r\n        Val num = 2\r\n        Var i = 1\r\n        while(i &gt;= 1)\r\n        {\r\n        Println(num * i)\r\n        i=i-1\r\n        }\r\n        }","title":"i am trying to print a table in infinite loop in kotlin but getting this (Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space)","body":"<p>Value of i is always 1 and you are going in infinite loop so that's why out of memory is coming try to change the condition and you will get the output hope this helps</p>\n<pre><code>Fun main(){\n    Val num = 2\n    Var i = 1\n    while(i &gt;= 1)\n    {\n    Println(num * i)\n    i=i-1\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639149851,"creation_date":1639149851,"answer_id":70306765,"question_id":70294739,"body_markdown":"Calling ``println`` kicks off some internal operations that use memory, and if you spray a lot of them quickly enough, you can get an OOM (before garbage collection has a chance to run, I&#39;m assuming)\r\n\r\n[exhibit A][1]\r\n\r\n````\r\nfun main() {\r\n    while (true) {\r\n        println(&quot;uh oh&quot;)\r\n    }\r\n}\r\n\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n at java.lang.StringCoding$StringDecoder.decode (StringCoding.java:149) \r\n at java.lang.StringCoding.decode (StringCoding.java:193) \r\n at java.lang.StringCoding.decode (StringCoding.java:254) \r\n````\r\n\r\n  [1]: https://pl.kotl.in/b1Cvi1LAI","title":"i am trying to print a table in infinite loop in kotlin but getting this (Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space)","body":"<p>Calling <code>println</code> kicks off some internal operations that use memory, and if you spray a lot of them quickly enough, you can get an OOM (before garbage collection has a chance to run, I'm assuming)</p>\n<p><a href=\"https://pl.kotl.in/b1Cvi1LAI\" rel=\"nofollow noreferrer\">exhibit A</a></p>\n<pre><code>fun main() {\n    while (true) {\n        println(&quot;uh oh&quot;)\n    }\n}\n\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n at java.lang.StringCoding$StringDecoder.decode (StringCoding.java:149) \n at java.lang.StringCoding.decode (StringCoding.java:193) \n at java.lang.StringCoding.decode (StringCoding.java:254) \n</code></pre>\n"}],"owner":{"account_id":23601873,"reputation":1,"user_id":17638232,"display_name":"Muhammad Talha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1639149851,"creation_date":1639073446,"question_id":70294739,"body_markdown":"&gt;  need help to resolve this error\r\n&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n     \r\n   \r\n\r\n     Fun main(){\r\n        Val num = 2\r\n        Var i = 1\r\n        while(i &gt;= 1)\r\n        {\r\n        Println(num * i)\r\n        }\r\n        }\r\n\r\n\r\n\r\n","title":"i am trying to print a table in infinite loop in kotlin but getting this (Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space)","body":"<blockquote>\n<p>need help to resolve this error\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space</p>\n</blockquote>\n<pre><code> Fun main(){\n    Val num = 2\n    Var i = 1\n    while(i &gt;= 1)\n    {\n    Println(num * i)\n    }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logging","hystrix"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1638968249,"post_id":70275002,"comment_id":124227383,"body_markdown":"Hystrix uses a threadpool to do timeouts hence the different threads. Not sure what should provide the transid in your logs, but that might is probably stored in some thread local and retrieved, instead use the MDC.","body":"Hystrix uses a threadpool to do timeouts hence the different threads. Not sure what should provide the transid in your logs, but that might is probably stored in some thread local and retrieved, instead use the MDC."}],"answers":[{"tags":[],"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639149711,"creation_date":1639149711,"answer_id":70306735,"question_id":70275002,"body_markdown":"Hystrix is using its own thread instead of the local thread. That&#39;s the reason your log looks different.\r\n\r\nAdd this property in your application.properties\r\n\r\n    hystrix.command.default.execution.isolation.strategy=SEMAPHORE\r\n\r\nNow hystrix will use your local thread.","title":"Override Hysterix Logging","body":"<p>Hystrix is using its own thread instead of the local thread. That's the reason your log looks different.</p>\n<p>Add this property in your application.properties</p>\n<pre><code>hystrix.command.default.execution.isolation.strategy=SEMAPHORE\n</code></pre>\n<p>Now hystrix will use your local thread.</p>\n"}],"owner":{"account_id":17385459,"reputation":194,"user_id":15006167,"display_name":"user15006167"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70306735,"answer_count":1,"score":1,"last_activity_date":1639149711,"creation_date":1638966370,"question_id":70275002,"body_markdown":"I am trying to understand the logs generated by SpringBoot before and after implementing Hysterix Circuit Breaker\r\n\r\nBefore Hystrix the logs looked like,\r\n\r\n    17:31:35.977 [http-nio-8080-exec-2] [TransID:bcc8a9e9-41b7-47c8-9eb1-0f8becb42f68] INFO  c.f.e.common.logging.MethodLogging - Entered Class: class com.org.myapp.service.MyService, Method: getData, Arguments: 123456\r\n\r\nAfter implementing Hystrix the logs looks like,\r\n \r\n\r\n    17:21:23.197 [hystrix-MyController-1] [TransID:] INFO  c.f.e.common.logging.MethodLogging - Entered Class: class com.org.myapp.service.MyService, Method: getData, Arguments: 123456\r\n\r\n\r\nSo, how did `http-nio-8080-exec-2` get replaced with `hystrix-OrchestratorController-1`, and why it&#39;s not showing my `TransactionId` when Hystrix got implemented. How did Hystrix take over the logging? What&#39;s the difference between both? Is there any way to revert back to my old logging format?\r\nI tried `hystrix.command.default.requestLog.enabled=false` in my application.properties, but no luck.\r\n\r\nMain class\r\n\r\n    @SpringBootApplication\r\n    @EnableCircuitBreaker\r\n    class MyApp{\r\n    }\r\n\r\nRestController\r\n\r\n    @GetMapping(&quot;...&quot;)\r\n    @HystrixCommand(commandKey=&quot;data&quot;)\r\n    public Object getData(){\r\n    }\r\n\r\napplication.properties\r\n\r\n    hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=5000\r\n\r\n","title":"Override Hysterix Logging","body":"<p>I am trying to understand the logs generated by SpringBoot before and after implementing Hysterix Circuit Breaker</p>\n<p>Before Hystrix the logs looked like,</p>\n<pre><code>17:31:35.977 [http-nio-8080-exec-2] [TransID:bcc8a9e9-41b7-47c8-9eb1-0f8becb42f68] INFO  c.f.e.common.logging.MethodLogging - Entered Class: class com.org.myapp.service.MyService, Method: getData, Arguments: 123456\n</code></pre>\n<p>After implementing Hystrix the logs looks like,</p>\n<pre><code>17:21:23.197 [hystrix-MyController-1] [TransID:] INFO  c.f.e.common.logging.MethodLogging - Entered Class: class com.org.myapp.service.MyService, Method: getData, Arguments: 123456\n</code></pre>\n<p>So, how did <code>http-nio-8080-exec-2</code> get replaced with <code>hystrix-OrchestratorController-1</code>, and why it's not showing my <code>TransactionId</code> when Hystrix got implemented. How did Hystrix take over the logging? What's the difference between both? Is there any way to revert back to my old logging format?\nI tried <code>hystrix.command.default.requestLog.enabled=false</code> in my application.properties, but no luck.</p>\n<p>Main class</p>\n<pre><code>@SpringBootApplication\n@EnableCircuitBreaker\nclass MyApp{\n}\n</code></pre>\n<p>RestController</p>\n<pre><code>@GetMapping(&quot;...&quot;)\n@HystrixCommand(commandKey=&quot;data&quot;)\npublic Object getData(){\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=5000\n</code></pre>\n"},{"tags":["java","android","file","enoent"],"comments":[{"owner":{"account_id":6080415,"reputation":8109,"user_id":4746376,"accept_rate":73,"display_name":"Sohail Zahid"},"score":0,"creation_date":1472039598,"post_id":39122578,"comment_id":65590579,"body_markdown":"are you running on 6.0?","body":"are you running on 6.0?"},{"owner":{"account_id":8985630,"reputation":37,"user_id":6699272,"accept_rate":60,"display_name":"PaulD"},"score":0,"creation_date":1472039699,"post_id":39122578,"comment_id":65590647,"body_markdown":"Yes, I use Marshmallow","body":"Yes, I use Marshmallow"},{"owner":{"account_id":6080415,"reputation":8109,"user_id":4746376,"accept_rate":73,"display_name":"Sohail Zahid"},"score":0,"creation_date":1472039723,"post_id":39122578,"comment_id":65590670,"body_markdown":"have you get runtime permissions?","body":"have you get runtime permissions?"},{"owner":{"account_id":8985630,"reputation":37,"user_id":6699272,"accept_rate":60,"display_name":"PaulD"},"score":0,"creation_date":1472039825,"post_id":39122578,"comment_id":65590729,"body_markdown":"Yes, I do, I request READ_EXTERNAL_STORAGE before executing the Intent.","body":"Yes, I do, I request READ_EXTERNAL_STORAGE before executing the Intent."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1472039845,"post_id":39122578,"comment_id":65590750,"body_markdown":"Why not just use the `Uri` directly? Beyond that, what is the **exact** `Intent` that you are using?","body":"Why not just use the <code>Uri</code> directly? Beyond that, what is the <b>exact</b> <code>Intent</code> that you are using?"},{"owner":{"account_id":8985630,"reputation":37,"user_id":6699272,"accept_rate":60,"display_name":"PaulD"},"score":0,"creation_date":1472040014,"post_id":39122578,"comment_id":65590889,"body_markdown":"Becase even if I use Uri, it keeps happening. Updated with the Intent @CommonsWare","body":"Becase even if I use Uri, it keeps happening. Updated with the Intent @CommonsWare"},{"owner":{"account_id":6080415,"reputation":8109,"user_id":4746376,"accept_rate":73,"display_name":"Sohail Zahid"},"score":0,"creation_date":1472040031,"post_id":39122578,"comment_id":65590904,"body_markdown":"add your permissions code how you are getting them.","body":"add your permissions code how you are getting them."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1472040130,"post_id":39122578,"comment_id":65590978,"body_markdown":"&quot;Becase even if I use Uri, it keeps happening&quot; -- because **what** keeps happening? When you use `ContentResolver` and `openInputStream()`, what happens?","body":"&quot;Becase even if I use Uri, it keeps happening&quot; -- because <b>what</b> keeps happening? When you use <code>ContentResolver</code> and <code>openInputStream()</code>, what happens?"},{"owner":{"account_id":8985630,"reputation":37,"user_id":6699272,"accept_rate":60,"display_name":"PaulD"},"score":0,"creation_date":1472040332,"post_id":39122578,"comment_id":65591143,"body_markdown":"@CommonsWare I mean &quot;!file.exists()&quot;, that happens. PD: Updated Sohail","body":"@CommonsWare I mean &quot;!file.exists()&quot;, that happens. PD: Updated Sohail"},{"owner":{"account_id":6080415,"reputation":8109,"user_id":4746376,"accept_rate":73,"display_name":"Sohail Zahid"},"score":0,"creation_date":1472040678,"post_id":39122578,"comment_id":65591408,"body_markdown":"@PaulD have you override `onRequestPermissionsResult()`","body":"@PaulD have you override <code>onRequestPermissionsResult()</code>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1472040575,"creation_date":1472040575,"answer_id":39122933,"question_id":39122578,"body_markdown":"The `MediaStore` will index images that are not accessible to you from the filesystem. There is no requirement for a `DATA` column to return a value that you can use.\r\n\r\nInstead, stop trying to get a `File`, and [use the `Uri` itself][1]:\r\n\r\n- `getContentResolver().openInputStream()` to get an `InputStream` on it\r\n- `DocumentFile.fromSingleUri()` to get a `DocumentFile` for easy access to metadata (e.g., MIME type)\r\n\r\n\r\n  [1]: https://commonsware.com/blog/2016/03/15/how-consume-content-uri.html","title":"Android ENOENT with some files","body":"<p>The <code>MediaStore</code> will index images that are not accessible to you from the filesystem. There is no requirement for a <code>DATA</code> column to return a value that you can use.</p>\n\n<p>Instead, stop trying to get a <code>File</code>, and <a href=\"https://commonsware.com/blog/2016/03/15/how-consume-content-uri.html\" rel=\"nofollow\">use the <code>Uri</code> itself</a>:</p>\n\n<ul>\n<li><code>getContentResolver().openInputStream()</code> to get an <code>InputStream</code> on it</li>\n<li><code>DocumentFile.fromSingleUri()</code> to get a <code>DocumentFile</code> for easy access to metadata (e.g., MIME type)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7793343,"reputation":869,"user_id":5895454,"display_name":"Dr. Roger Webster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639149652,"creation_date":1639149463,"answer_id":70306654,"question_id":39122578,"body_markdown":"    try{\r\n     // this works!!!\r\n     File csvfile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/brcOrdersaved.csv&quot;);\r\n            final String filename = csvfile.toString();\r\n\r\n            if (!csvfile.exists()) {\r\n                // displayMsg(context, &quot;No Saved Order: &quot;);\r\n                return (false);\r\n            } \r\n            FileReader fr = new FileReader(filename);\r\n            BufferedReader reader = new BufferedReader(fr);\r\n\r\n            String csvLine = &quot;&quot;;\r\n            final char Separator = &#39;,&#39;;\r\n            final char Delimiter = &#39;&quot;&#39;;\r\n            final char LF = &#39;\\n&#39;;\r\n            final char CR = &#39;\\r&#39;;\r\n            boolean quote_open = false;\r\n            if (reader.equals(null)) {\r\n                displayMsg(context, &quot;NULL&quot;);\r\n                return (false);//rww 11/13/2021\r\n            }\r\n            int i = 0;\r\n            while (!myendofcsvfile) {\r\n\r\n                csvLine = reader.readLine();\r\n                if (csvLine == null) {\r\n                    myendofcsvfile = true;\r\n\r\n                } \r\n                    // do stuff here\r\n            }\r\n\r\n            fr.close();\r\n            fileexists = true;\r\n\r\n        } catch (Exception e) {\r\n\r\n            String msg = &quot;Can not Load Saved Order &quot;;\r\n            fileexists = false;\r\n            return (fileexists);\r\n\r\n        }","title":"Android ENOENT with some files","body":"<pre><code>try{\n // this works!!!\n File csvfile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/brcOrdersaved.csv&quot;);\n        final String filename = csvfile.toString();\n\n        if (!csvfile.exists()) {\n            // displayMsg(context, &quot;No Saved Order: &quot;);\n            return (false);\n        } \n        FileReader fr = new FileReader(filename);\n        BufferedReader reader = new BufferedReader(fr);\n\n        String csvLine = &quot;&quot;;\n        final char Separator = ',';\n        final char Delimiter = '&quot;';\n        final char LF = '\\n';\n        final char CR = '\\r';\n        boolean quote_open = false;\n        if (reader.equals(null)) {\n            displayMsg(context, &quot;NULL&quot;);\n            return (false);//rww 11/13/2021\n        }\n        int i = 0;\n        while (!myendofcsvfile) {\n\n            csvLine = reader.readLine();\n            if (csvLine == null) {\n                myendofcsvfile = true;\n\n            } \n                // do stuff here\n        }\n\n        fr.close();\n        fileexists = true;\n\n    } catch (Exception e) {\n\n        String msg = &quot;Can not Load Saved Order &quot;;\n        fileexists = false;\n        return (fileexists);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":8985630,"reputation":37,"user_id":6699272,"accept_rate":60,"display_name":"PaulD"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39122933,"answer_count":2,"score":0,"last_activity_date":1639149652,"creation_date":1472039557,"question_id":39122578,"body_markdown":"I use a Intent to get pictures path and open them into a File. I can open files allocated in &quot;Camera&quot; folder like &quot;/storage/emulated/0/DCIM/Camera/IMG_20160817_232858.jpg&quot;, but I cannot open files in locations like &quot;/storage/emulated/0/Pictures/1634894_.png&quot;. Using file.exists() it just says that it doesn&#39;t.\r\nNeed to say that I&#39;m using API 23 and I request READ_EXTERNAL_STORAGE, so this souldn`t be a problem... But I can&#39;t access those files even with that.\r\nWhat can be wrong?\r\n\r\n\r\n    @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == RESULT_LOAD_IMG &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data) {\r\n                Uri selectedImage = data.getData();\r\n                String[] filePathColumn = {MediaStore.Images.Media.DATA};\r\n    \r\n                Cursor cursor = getContentResolver().query(selectedImage,\r\n                        filePathColumn, null, null, null);\r\n                cursor.moveToFirst();\r\n    \r\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n                String picturePath = cursor.getString(columnIndex);\r\n                File file = new File(picturePath);\r\n                if(file.exists()) {\r\n    \r\n                } else {\r\n                    \r\n                }\r\n                cursor.close();\r\n            }\r\n        }\r\n\r\nUpdated: it doesn&#39;t happens with all the files from the same folder, just some of them, but they really exist since I can open them from the gallery.\r\n\r\n\r\nUpdate2:\r\nI use this Intent.\r\n\r\n    Intent galleryIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            startActivityForResult(galleryIntent, RESULT_LOAD_IMG);\r\n\r\nUpdate3:\r\nRunning time permissions:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 23) {\r\n                    if (checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                            == PackageManager.PERMISSION_GRANTED) {\r\n                        SomeWork();\r\n                    } else {\r\n                        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\r\n                    }\r\n                }\r\n                else { \r\n                    SomeWork();\r\n                }\r\n\r\nPermissions in Manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;","title":"Android ENOENT with some files","body":"<p>I use a Intent to get pictures path and open them into a File. I can open files allocated in \"Camera\" folder like \"/storage/emulated/0/DCIM/Camera/IMG_20160817_232858.jpg\", but I cannot open files in locations like \"/storage/emulated/0/Pictures/1634894_.png\". Using file.exists() it just says that it doesn't.\nNeed to say that I'm using API 23 and I request READ_EXTERNAL_STORAGE, so this souldn`t be a problem... But I can't access those files even with that.\nWhat can be wrong?</p>\n\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == RESULT_LOAD_IMG &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data) {\n            Uri selectedImage = data.getData();\n            String[] filePathColumn = {MediaStore.Images.Media.DATA};\n\n            Cursor cursor = getContentResolver().query(selectedImage,\n                    filePathColumn, null, null, null);\n            cursor.moveToFirst();\n\n            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n            String picturePath = cursor.getString(columnIndex);\n            File file = new File(picturePath);\n            if(file.exists()) {\n\n            } else {\n\n            }\n            cursor.close();\n        }\n    }\n</code></pre>\n\n<p>Updated: it doesn't happens with all the files from the same folder, just some of them, but they really exist since I can open them from the gallery.</p>\n\n<p>Update2:\nI use this Intent.</p>\n\n<pre><code>Intent galleryIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        startActivityForResult(galleryIntent, RESULT_LOAD_IMG);\n</code></pre>\n\n<p>Update3:\nRunning time permissions:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 23) {\n                if (checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                        == PackageManager.PERMISSION_GRANTED) {\n                    SomeWork();\n                } else {\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\n                }\n            }\n            else { \n                SomeWork();\n            }\n</code></pre>\n\n<p>Permissions in Manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8220,"page":1772,"page_size":100}
