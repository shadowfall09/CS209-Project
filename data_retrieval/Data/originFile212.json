{"items":[{"tags":["java","jakarta-mail","multipart"],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337084573,"creation_date":1337084573,"answer_id":10600556,"question_id":10600408,"body_markdown":"Yes its possible. Try this example\r\n\r\n \r\n\r\n    Multipart mp = (Multipart)message.getContent();\r\n    \r\n    for (int i=0, n=multipart.getCount(); i&lt;n; i++) {\r\n      Part part = multipart.getBodyPart(i));\r\n    \r\n      String disposition = part.getDisposition();\r\n    \r\n      if ((disposition != null) &amp;&amp; \r\n          ((disposition.equals(Part.ATTACHMENT) || \r\n           (disposition.equals(Part.INLINE))) {\r\n        saveFile(part.getFileName(), part.getInputStream());\r\n      }\r\n    }","title":"read message and attachment name of the same mail using javamail","body":"<p>Yes its possible. Try this example</p>\n\n<pre><code>Multipart mp = (Multipart)message.getContent();\n\nfor (int i=0, n=multipart.getCount(); i&lt;n; i++) {\n  Part part = multipart.getBodyPart(i));\n\n  String disposition = part.getDisposition();\n\n  if ((disposition != null) &amp;&amp; \n      ((disposition.equals(Part.ATTACHMENT) || \n       (disposition.equals(Part.INLINE))) {\n    saveFile(part.getFileName(), part.getInputStream());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1488316,"reputation":137,"user_id":1396051,"accept_rate":62,"display_name":"wesley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8319,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1693425855,"creation_date":1337084003,"question_id":10600408,"body_markdown":"i need to use java to view mails. from these mails i want to know the name of the attachment (if there is one) and i want to know the message. \r\n\r\nis it possible to not only print the name of the attachment but to also print the contents of the mail? currently i&#39;m using the following code that get&#39;s only the name of the attachment or (if their is none) the message content.\r\n\r\n\t Message[] message = folder.getMessages();\r\n     //Display message.\r\n     for (int i = 0; i &lt; message.length; i++) {\r\n\r\n\t     System.out.println(&quot;------------ Message &quot; + (i + 1) + &quot; ------------&quot;);\r\n\r\n\t     System.out.println(&quot;SentDate : &quot; + message[i].getSentDate());\r\n\t     System.out.println(&quot;From : &quot; + message[i].getFrom()[0]);\r\n\t     System.out.println(&quot;Subject : &quot; + message[i].getSubject());\r\n\r\n\t     \r\n\t     Multipart multipart = (Multipart) message[i].getContent();\r\n\r\n\t     for (int x = 0; x &lt; multipart.getCount(); x++) {\r\n\t         BodyPart bodyPart = multipart.getBodyPart(x);\r\n\r\n\t         String disposition = bodyPart.getDisposition();\r\n\r\n\t         if (disposition != null &amp;&amp; (disposition.equals(BodyPart.ATTACHMENT))) {\r\n\t    \t \r\n\t             DataHandler handler = bodyPart.getDataHandler();\r\n\t             System.out.println(&quot;Attachment : &quot; + handler.getName());\r\n\t    \r\n\t         } else {\r\n\t             System.out.println(&quot;Content: &quot; + bodyPart.getContent());\r\n\t         }\r\n\t     }","title":"read message and attachment name of the same mail using javamail","body":"<p>i need to use java to view mails. from these mails i want to know the name of the attachment (if there is one) and i want to know the message. </p>\n\n<p>is it possible to not only print the name of the attachment but to also print the contents of the mail? currently i'm using the following code that get's only the name of the attachment or (if their is none) the message content.</p>\n\n<pre><code> Message[] message = folder.getMessages();\n //Display message.\n for (int i = 0; i &lt; message.length; i++) {\n\n     System.out.println(\"------------ Message \" + (i + 1) + \" ------------\");\n\n     System.out.println(\"SentDate : \" + message[i].getSentDate());\n     System.out.println(\"From : \" + message[i].getFrom()[0]);\n     System.out.println(\"Subject : \" + message[i].getSubject());\n\n\n     Multipart multipart = (Multipart) message[i].getContent();\n\n     for (int x = 0; x &lt; multipart.getCount(); x++) {\n         BodyPart bodyPart = multipart.getBodyPart(x);\n\n         String disposition = bodyPart.getDisposition();\n\n         if (disposition != null &amp;&amp; (disposition.equals(BodyPart.ATTACHMENT))) {\n\n             DataHandler handler = bodyPart.getDataHandler();\n             System.out.println(\"Attachment : \" + handler.getName());\n\n         } else {\n             System.out.println(\"Content: \" + bodyPart.getContent());\n         }\n     }\n</code></pre>\n"},{"tags":["java","named-entity-recognition","opennlp","ctakes"],"owner":{"account_id":12806645,"reputation":99,"user_id":9266093,"accept_rate":75,"display_name":"khaled djellal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693425566,"creation_date":1693425566,"question_id":77011197,"body_markdown":"I want to implement a small and simple code to be able to extract a named entity from a small text.\r\nexample:\r\nthe user enters this sentence:\r\nMr. Smith visited the hospital in New York for his asthma treatment and his cancer appointement.\r\n\r\nthe result I&#39;m looking for is &quot;asthma&quot; and &quot;cancer&quot;.\r\n\r\nlooking around i was able to find cTakes and apache opennlp.\r\ni wasn&#39;t able to make it work what I did is like this\r\n\r\n    public void extractNamedEntities(String inputText) {\r\n        try {\r\n            // Create a new JCas for processing\r\n            JCas jCas = JCasFactory.createJCas();\r\n\r\n            // Set the input text\r\n            jCas.setDocumentText(inputText);\r\n\r\n\r\n            // Process the text using cTakes pipeline\r\n            SimplePipeline.runPipeline(jCas,\r\n                    SentenceDetector.createAnnotatorDescription()); // Change MyAnnotator to your annotator class\r\n\r\n            // Retrieve named entity annotations after processing\r\n            //Collection&lt;DocumentID&gt; documentIDAnnotations = DocumentIDAnnotationUtil.getDocumentID(jCas);\r\n            System.out.println(DocumentIDAnnotationUtil.getDocumentID(jCas));\r\n            //return documentIDAnnotations;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            //return null;\r\n        }\r\n    }\r\n\r\nMy biggest concern is the annotator in this line \r\n\r\n    SimplePipeline.runPipeline(jCas,\r\n                SentenceDetector.createAnnotatorDescription());\r\nis there predefined annotator to use, or am i completely in the wrong direction.\r\n\r\nMy context of work is Medical.\r\n\r\nand I welcome any other suggestion different than my approach.\r\n\r\nor if there is free api that i can use to fulfill this task (as my primary goal for my small app is not \r\n extracting the named entity)","title":"Name Entity recognition using java","body":"<p>I want to implement a small and simple code to be able to extract a named entity from a small text.\nexample:\nthe user enters this sentence:\nMr. Smith visited the hospital in New York for his asthma treatment and his cancer appointement.</p>\n<p>the result I'm looking for is &quot;asthma&quot; and &quot;cancer&quot;.</p>\n<p>looking around i was able to find cTakes and apache opennlp.\ni wasn't able to make it work what I did is like this</p>\n<pre><code>public void extractNamedEntities(String inputText) {\n    try {\n        // Create a new JCas for processing\n        JCas jCas = JCasFactory.createJCas();\n\n        // Set the input text\n        jCas.setDocumentText(inputText);\n\n\n        // Process the text using cTakes pipeline\n        SimplePipeline.runPipeline(jCas,\n                SentenceDetector.createAnnotatorDescription()); // Change MyAnnotator to your annotator class\n\n        // Retrieve named entity annotations after processing\n        //Collection&lt;DocumentID&gt; documentIDAnnotations = DocumentIDAnnotationUtil.getDocumentID(jCas);\n        System.out.println(DocumentIDAnnotationUtil.getDocumentID(jCas));\n        //return documentIDAnnotations;\n    } catch (Exception e) {\n        e.printStackTrace();\n        //return null;\n    }\n}\n</code></pre>\n<p>My biggest concern is the annotator in this line</p>\n<pre><code>SimplePipeline.runPipeline(jCas,\n            SentenceDetector.createAnnotatorDescription());\n</code></pre>\n<p>is there predefined annotator to use, or am i completely in the wrong direction.</p>\n<p>My context of work is Medical.</p>\n<p>and I welcome any other suggestion different than my approach.</p>\n<p>or if there is free api that i can use to fulfill this task (as my primary goal for my small app is not\nextracting the named entity)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3119900,"reputation":2468,"user_id":2639886,"display_name":"andrewdleach"},"score":0,"creation_date":1436906868,"post_id":31416947,"comment_id":50806619,"body_markdown":"have you already compiled test?  C:/path javac test.java","body":"have you already compiled test?  C:/path javac test.java"},{"owner":{"account_id":474169,"reputation":4184,"user_id":883679,"accept_rate":54,"display_name":"6ton"},"score":0,"creation_date":1436906914,"post_id":31416947,"comment_id":50806649,"body_markdown":"In catch do err.printStackTrace to see the issue","body":"In catch do err.printStackTrace to see the issue"},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":0,"creation_date":1436906988,"post_id":31416947,"comment_id":50806694,"body_markdown":"Also: Why? You are be able to call `test.main(args)` directly.","body":"Also: Why? You are be able to call <code>test.main(args)</code> directly."},{"owner":{"account_id":5280912,"reputation":784,"user_id":4216318,"display_name":"Ali Helmy"},"score":0,"creation_date":1436907048,"post_id":31416947,"comment_id":50806731,"body_markdown":"Do you want execute this class only or any class","body":"Do you want execute this class only or any class"},{"owner":{"account_id":5860379,"reputation":31,"user_id":4616309,"display_name":"Chang Sun"},"score":0,"creation_date":1436907301,"post_id":31416947,"comment_id":50806901,"body_markdown":"@6ton I&#39;ve did err.printStackTrace(), but there are no errors.","body":"@6ton I&#39;ve did err.printStackTrace(), but there are no errors."},{"owner":{"account_id":5860379,"reputation":31,"user_id":4616309,"display_name":"Chang Sun"},"score":0,"creation_date":1436907361,"post_id":31416947,"comment_id":50806936,"body_markdown":"@AliHelmy I want to execute the test.java only (from exec.java) as a new process.","body":"@AliHelmy I want to execute the test.java only (from exec.java) as a new process."},{"owner":{"account_id":5860379,"reputation":31,"user_id":4616309,"display_name":"Chang Sun"},"score":0,"creation_date":1436911055,"post_id":31416947,"comment_id":50808713,"body_markdown":"@andrewdleach Yes, I complied the test.java.","body":"@andrewdleach Yes, I complied the test.java."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1436913924,"post_id":31416947,"comment_id":50809846,"body_markdown":"You could just use a custom ClassLoader and Reflection to load and run the class from within the current jvm. But I&#39;d recommend using ProcessBuilder of Runtime, it&#39;s more configurable","body":"You could just use a custom ClassLoader and Reflection to load and run the class from within the current jvm. But I&#39;d recommend using ProcessBuilder of Runtime, it&#39;s more configurable"},{"owner":{"account_id":5860379,"reputation":31,"user_id":4616309,"display_name":"Chang Sun"},"score":0,"creation_date":1436914814,"post_id":31416947,"comment_id":50810131,"body_markdown":"Thanks for all the replies! &quot;Process pro = Runtime.getRuntime().exec(&quot;java test&quot;); &quot; should be changed to &quot;Process pro = Runtime.getRuntime().exec(&quot;java com.example.exec.test&quot;);&quot; with the whole path even test.java is in the same package with exec.java.","body":"Thanks for all the replies! &quot;Process pro = Runtime.getRuntime().exec(&quot;java test&quot;); &quot; should be changed to &quot;Process pro = Runtime.getRuntime().exec(&quot;java com.example.exec.test&quot;);&quot; with the whole path even test.java is in the same package with exec.java."}],"answers":[{"tags":[],"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436907402,"creation_date":1436907097,"answer_id":31417093,"question_id":31416947,"body_markdown":"If you want to run an arbitrary java class using `Runtime.exec`, you need a valid `java` command and to relay any output:\r\n\r\n    $ cat com/example/exec/exec.java\r\n    package com.example.exec;\r\n    \r\n    public class exec {\r\n      public static void main(String args[]) {\r\n        try {\r\n          Process pro = Runtime.getRuntime().exec(&quot;java com.example.exec.test&quot;);\r\n          byte[] buffer = new byte[65536];\r\n          int length;\r\n          while((length = pro.getInputStream().read(buffer, 0, buffer.length)) != -1) {\r\n            System.out.write(buffer, 0, length);\r\n          }\r\n        } catch (Exception err) {\r\n          System.out.println(&quot;Error!&quot;);\r\n          err.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\nThis should only ever be used by IDEs, build tools and similar. Java classes in the same program should never use `Runtime.exec` to invoke or communicate with each other.","title":"How to call a Java class from Java code using Runtime exec","body":"<p>If you want to run an arbitrary java class using <code>Runtime.exec</code>, you need a valid <code>java</code> command and to relay any output:</p>\n\n<pre><code>$ cat com/example/exec/exec.java\npackage com.example.exec;\n\npublic class exec {\n  public static void main(String args[]) {\n    try {\n      Process pro = Runtime.getRuntime().exec(\"java com.example.exec.test\");\n      byte[] buffer = new byte[65536];\n      int length;\n      while((length = pro.getInputStream().read(buffer, 0, buffer.length)) != -1) {\n        System.out.write(buffer, 0, length);\n      }\n    } catch (Exception err) {\n      System.out.println(\"Error!\");\n      err.printStackTrace();\n    }\n  }\n}\n</code></pre>\n\n<p>This should only ever be used by IDEs, build tools and similar. Java classes in the same program should never use <code>Runtime.exec</code> to invoke or communicate with each other.</p>\n"},{"tags":[],"owner":{"account_id":5280912,"reputation":784,"user_id":4216318,"display_name":"Ali Helmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436908518,"creation_date":1436908518,"answer_id":31417527,"question_id":31416947,"body_markdown":"So you need first to compile the Java class from `.java` to `.class`:\r\n\r\n     Process pro = Runtime.getRuntime().exec(&quot;javac -d . com/example/exec/test&quot;);\r\n\r\nthen execute the `.class`\r\n\r\n     pro = Runtime.getRuntime().exec(&quot;java com/example/exec/test&quot;);\r\n\r\nThen read the input stream from the `process`","title":"How to call a Java class from Java code using Runtime exec","body":"<p>So you need first to compile the Java class from <code>.java</code> to <code>.class</code>:</p>\n\n<pre><code> Process pro = Runtime.getRuntime().exec(\"javac -d . com/example/exec/test\");\n</code></pre>\n\n<p>then execute the <code>.class</code></p>\n\n<pre><code> pro = Runtime.getRuntime().exec(\"java com/example/exec/test\");\n</code></pre>\n\n<p>Then read the input stream from the <code>process</code></p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693424579,"creation_date":1693424579,"answer_id":77011105,"question_id":31416947,"body_markdown":"You can use my [`jaxec`](https://github.com/yegor256/jaxec) library:\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\n// This will compile the code\r\nnew Jaxec(&quot;javac&quot;, &quot;-d&quot;, &quot;com/example/test&quot;).exec();\r\n// This will run the class\r\nnew Jaxec(&quot;java&quot;, &quot;com.example.test.Foo&quot;).exec();\r\n```\r\n\r\nUnder the hood, `Jaxec` uses `Runtime`, but also logs its output, checks the value of the exit code, and waits for the process to finish.","title":"How to call a Java class from Java code using Runtime exec","body":"<p>You can use my <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\"><code>jaxec</code></a> library:</p>\n<pre><code>import com.yegor256.Jaxec;\n// This will compile the code\nnew Jaxec(&quot;javac&quot;, &quot;-d&quot;, &quot;com/example/test&quot;).exec();\n// This will run the class\nnew Jaxec(&quot;java&quot;, &quot;com.example.test.Foo&quot;).exec();\n</code></pre>\n<p>Under the hood, <code>Jaxec</code> uses <code>Runtime</code>, but also logs its output, checks the value of the exit code, and waits for the process to finish.</p>\n"}],"owner":{"account_id":5860379,"reputation":31,"user_id":4616309,"display_name":"Chang Sun"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1693424579,"creation_date":1436906656,"question_id":31416947,"body_markdown":"I would like to know if there is a way to call a Java class from another. I implemented a testing code as follows using Runtime exec, calling &quot;test.java&quot; from &quot;exec.java&quot;, but the exec calling won&#39;t execute. What is the problem in the code? Thanks.\r\n\r\ntest.java:\r\n\r\n    package com.example.exec;\r\n    \r\n    public class test{\r\n    \r\n        public static void main(String args[]) {\r\n            System.out.println(&quot;Hello World!&quot;);\r\n        }\r\n    }\r\n\r\nexec.java:\r\n\r\n    package com.example.exec;\r\n    \r\n    public class exec {\r\n    \r\n        public static void main(String args[]) {\r\n            try {\r\n                Process pro = Runtime.getRuntime().exec(&quot;java test&quot;);\r\n            } catch (Exception err) {\r\n                System.out.println(&quot;Error!&quot;);\r\n            }\r\n        }\r\n    }\r\n        ","title":"How to call a Java class from Java code using Runtime exec","body":"<p>I would like to know if there is a way to call a Java class from another. I implemented a testing code as follows using Runtime exec, calling \"test.java\" from \"exec.java\", but the exec calling won't execute. What is the problem in the code? Thanks.</p>\n\n<p>test.java:</p>\n\n<pre><code>package com.example.exec;\n\npublic class test{\n\n    public static void main(String args[]) {\n        System.out.println(\"Hello World!\");\n    }\n}\n</code></pre>\n\n<p>exec.java:</p>\n\n<pre><code>package com.example.exec;\n\npublic class exec {\n\n    public static void main(String args[]) {\n        try {\n            Process pro = Runtime.getRuntime().exec(\"java test\");\n        } catch (Exception err) {\n            System.out.println(\"Error!\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","runtime"],"answers":[{"tags":[],"owner":{"account_id":277878,"reputation":5544,"user_id":572129,"display_name":"Senthil"},"down_vote_count":6,"up_vote_count":314,"is_accepted":true,"score":308,"last_activity_date":1561016622,"creation_date":1303182300,"answer_id":5711150,"question_id":5711084,"body_markdown":"Here is the way to go:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    String[] commands = {&quot;system.exe&quot;, &quot;-get t&quot;};\r\n    Process proc = rt.exec(commands);\r\n\r\n    BufferedReader stdInput = new BufferedReader(new \r\n         InputStreamReader(proc.getInputStream()));\r\n\r\n    BufferedReader stdError = new BufferedReader(new \r\n         InputStreamReader(proc.getErrorStream()));\r\n\r\n    // Read the output from the command\r\n    System.out.println(&quot;Here is the standard output of the command:\\n&quot;);\r\n    String s = null;\r\n    while ((s = stdInput.readLine()) != null) {\r\n        System.out.println(s);\r\n    }\r\n\r\n    // Read any errors from the attempted command\r\n    System.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\r\n    while ((s = stdError.readLine()) != null) {\r\n        System.out.println(s);\r\n    }\r\n\r\nRead the Javadoc for more details [here][1]. `ProcessBuilder` would be a good choice to use.\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>Here is the way to go:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nString[] commands = {\"system.exe\", \"-get t\"};\nProcess proc = rt.exec(commands);\n\nBufferedReader stdInput = new BufferedReader(new \n     InputStreamReader(proc.getInputStream()));\n\nBufferedReader stdError = new BufferedReader(new \n     InputStreamReader(proc.getErrorStream()));\n\n// Read the output from the command\nSystem.out.println(\"Here is the standard output of the command:\\n\");\nString s = null;\nwhile ((s = stdInput.readLine()) != null) {\n    System.out.println(s);\n}\n\n// Read any errors from the attempted command\nSystem.out.println(\"Here is the standard error of the command (if any):\\n\");\nwhile ((s = stdError.readLine()) != null) {\n    System.out.println(s);\n}\n</code></pre>\n\n<p>Read the Javadoc for more details <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\">here</a>. <code>ProcessBuilder</code> would be a good choice to use.</p>\n"},{"tags":[],"owner":{"account_id":2938721,"reputation":3181,"user_id":2517106,"accept_rate":98,"display_name":"735Tesla"},"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1599605120,"creation_date":1387247889,"answer_id":20624914,"question_id":5711084,"body_markdown":"A quicker way is this:\r\n\r\n    public static String execCmd(String cmd) throws java.io.IOException {\r\n        java.util.Scanner s = new java.util.Scanner(Runtime.getRuntime().exec(cmd).getInputStream()).useDelimiter(&quot;\\\\A&quot;);\r\n        return s.hasNext() ? s.next() : &quot;&quot;;\r\n    }\r\n\r\nWhich is basically a condensed version of this:\r\n\r\n    public static String execCmd(String cmd) throws java.io.IOException {\r\n        Process proc = Runtime.getRuntime().exec(cmd);\r\n        java.io.InputStream is = proc.getInputStream();\r\n        java.util.Scanner s = new java.util.Scanner(is).useDelimiter(&quot;\\\\A&quot;);\r\n        String val = &quot;&quot;;\r\n        if (s.hasNext()) {\r\n            val = s.next();\r\n        }\r\n        else {\r\n            val = &quot;&quot;;\r\n        }\r\n        return val;\r\n    }\r\n\r\nI know this question is old but I am posting this answer because I think this may be quicker.\r\n\r\n**Edit (For Java 7 and above)**\r\n\r\nNeed to close Streams and Scanners. Using AutoCloseable for neat code:\r\n\r\n    public static String execCmd(String cmd) {\r\n\t\tString result = null;\r\n\t\ttry (InputStream inputStream = Runtime.getRuntime().exec(cmd).getInputStream();\r\n\t\t\t\tScanner s = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;)) {\r\n\t\t\tresult = s.hasNext() ? s.next() : null;\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>A quicker way is this:</p>\n<pre><code>public static String execCmd(String cmd) throws java.io.IOException {\n    java.util.Scanner s = new java.util.Scanner(Runtime.getRuntime().exec(cmd).getInputStream()).useDelimiter(&quot;\\\\A&quot;);\n    return s.hasNext() ? s.next() : &quot;&quot;;\n}\n</code></pre>\n<p>Which is basically a condensed version of this:</p>\n<pre><code>public static String execCmd(String cmd) throws java.io.IOException {\n    Process proc = Runtime.getRuntime().exec(cmd);\n    java.io.InputStream is = proc.getInputStream();\n    java.util.Scanner s = new java.util.Scanner(is).useDelimiter(&quot;\\\\A&quot;);\n    String val = &quot;&quot;;\n    if (s.hasNext()) {\n        val = s.next();\n    }\n    else {\n        val = &quot;&quot;;\n    }\n    return val;\n}\n</code></pre>\n<p>I know this question is old but I am posting this answer because I think this may be quicker.</p>\n<p><strong>Edit (For Java 7 and above)</strong></p>\n<p>Need to close Streams and Scanners. Using AutoCloseable for neat code:</p>\n<pre><code>public static String execCmd(String cmd) {\n    String result = null;\n    try (InputStream inputStream = Runtime.getRuntime().exec(cmd).getInputStream();\n            Scanner s = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;)) {\n        result = s.hasNext() ? s.next() : null;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799311,"reputation":173,"user_id":2407855,"accept_rate":0,"display_name":"Derek Zhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561290941,"creation_date":1459915136,"answer_id":36441232,"question_id":5711084,"body_markdown":"Adapted from the previous answer:\r\n\r\n    public static String execCmdSync(String cmd, CmdExecResult callback) throws java.io.IOException, InterruptedException {\r\n        RLog.i(TAG, &quot;Running command:&quot;, cmd);\r\n\r\n        Runtime rt = Runtime.getRuntime();\r\n        Process proc = rt.exec(cmd);\r\n\r\n        //String[] commands = {&quot;system.exe&quot;, &quot;-get t&quot;};\r\n\r\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\r\n        BufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\r\n\r\n        StringBuffer stdOut = new StringBuffer();\r\n        StringBuffer errOut = new StringBuffer();\r\n\r\n        // Read the output from the command:\r\n        System.out.println(&quot;Here is the standard output of the command:\\n&quot;);\r\n        String s = null;\r\n        while ((s = stdInput.readLine()) != null) {\r\n            System.out.println(s);\r\n            stdOut.append(s);\r\n        }\r\n\r\n        // Read any errors from the attempted command:\r\n        System.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\r\n        while ((s = stdError.readLine()) != null) {\r\n            System.out.println(s);\r\n            errOut.append(s);\r\n        }\r\n\r\n        if (callback == null) {\r\n            return stdInput.toString();\r\n        }\r\n\r\n        int exitVal = proc.waitFor();\r\n        callback.onComplete(exitVal == 0, exitVal, errOut.toString(), stdOut.toString(), cmd);\r\n\r\n        return stdInput.toString();\r\n    }\r\n\r\n    public interface CmdExecResult{\r\n        void onComplete(boolean success, int exitVal, String error, String output, String originalCmd);\r\n    }","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>Adapted from the previous answer:</p>\n\n<pre><code>public static String execCmdSync(String cmd, CmdExecResult callback) throws java.io.IOException, InterruptedException {\n    RLog.i(TAG, \"Running command:\", cmd);\n\n    Runtime rt = Runtime.getRuntime();\n    Process proc = rt.exec(cmd);\n\n    //String[] commands = {\"system.exe\", \"-get t\"};\n\n    BufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\n    BufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\n\n    StringBuffer stdOut = new StringBuffer();\n    StringBuffer errOut = new StringBuffer();\n\n    // Read the output from the command:\n    System.out.println(\"Here is the standard output of the command:\\n\");\n    String s = null;\n    while ((s = stdInput.readLine()) != null) {\n        System.out.println(s);\n        stdOut.append(s);\n    }\n\n    // Read any errors from the attempted command:\n    System.out.println(\"Here is the standard error of the command (if any):\\n\");\n    while ((s = stdError.readLine()) != null) {\n        System.out.println(s);\n        errOut.append(s);\n    }\n\n    if (callback == null) {\n        return stdInput.toString();\n    }\n\n    int exitVal = proc.waitFor();\n    callback.onComplete(exitVal == 0, exitVal, errOut.toString(), stdOut.toString(), cmd);\n\n    return stdInput.toString();\n}\n\npublic interface CmdExecResult{\n    void onComplete(boolean success, int exitVal, String error, String output, String originalCmd);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":549851,"reputation":49,"user_id":1511537,"display_name":"brahmananda Kar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1561020364,"creation_date":1468496485,"answer_id":38373244,"question_id":5711084,"body_markdown":"Try reading the `InputStream` of the runtime:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    String[] commands = {&quot;system.exe&quot;, &quot;-send&quot;, argument};\r\n    Process proc = rt.exec(commands);\r\n    BufferedReader br = new BufferedReader(\r\n        new InputStreamReader(proc.getInputStream()));\r\n    String line;\r\n    while ((line = br.readLine()) != null)\r\n        System.out.println(line);\r\n\r\nYou might also need to read the error stream (`proc.getErrorStream()`) if the process is printing error output. You can redirect the error stream to the input stream if you use `ProcessBuilder`.\r\n","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>Try reading the <code>InputStream</code> of the runtime:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nString[] commands = {\"system.exe\", \"-send\", argument};\nProcess proc = rt.exec(commands);\nBufferedReader br = new BufferedReader(\n    new InputStreamReader(proc.getInputStream()));\nString line;\nwhile ((line = br.readLine()) != null)\n    System.out.println(line);\n</code></pre>\n\n<p>You might also need to read the error stream (<code>proc.getErrorStream()</code>) if the process is printing error output. You can redirect the error stream to the input stream if you use <code>ProcessBuilder</code>.</p>\n"},{"tags":[],"owner":{"account_id":2620418,"reputation":3788,"user_id":2268559,"display_name":"nidalpres"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1561020358,"creation_date":1470545752,"answer_id":38810998,"question_id":5711084,"body_markdown":"@Senthil and @Arend answer (https://stackoverflow.com/a/5711150/2268559) mentioned `ProcessBuilder`. Here is the example using `ProcessBuilder` with specifying environment variables and working folder for the command:\r\n\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;ls&quot;, &quot;-a&quot;, &quot;-l&quot;);\r\n\r\n        Map&lt;String, String&gt; env = pb.environment();\r\n        // If you want clean environment, call env.clear() first\r\n        //env.clear();\r\n        env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\r\n        env.remove(&quot;OTHERVAR&quot;);\r\n        env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\r\n\r\n        File workingFolder = new File(&quot;/home/user&quot;);\r\n        pb.directory(workingFolder);\r\n\r\n        Process proc = pb.start();\r\n\r\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\r\n\r\n        BufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\r\n\r\n        // Read the output from the command:\r\n        System.out.println(&quot;Here is the standard output of the command:\\n&quot;);\r\n        String s = null;\r\n        while ((s = stdInput.readLine()) != null)\r\n            System.out.println(s);\r\n\r\n        // Read any errors from the attempted command:\r\n        System.out.println(&quot;Here is the standard error of the command (if any):\\n&quot;);\r\n        while ((s = stdError.readLine()) != null)\r\n            System.out.println(s);\r\n\r\n\r\n","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>@Senthil and @Arend answer (<a href=\"https://stackoverflow.com/a/5711150/2268559\">https://stackoverflow.com/a/5711150/2268559</a>) mentioned <code>ProcessBuilder</code>. Here is the example using <code>ProcessBuilder</code> with specifying environment variables and working folder for the command:</p>\n\n<pre><code>    ProcessBuilder pb = new ProcessBuilder(\"ls\", \"-a\", \"-l\");\n\n    Map&lt;String, String&gt; env = pb.environment();\n    // If you want clean environment, call env.clear() first\n    //env.clear();\n    env.put(\"VAR1\", \"myValue\");\n    env.remove(\"OTHERVAR\");\n    env.put(\"VAR2\", env.get(\"VAR1\") + \"suffix\");\n\n    File workingFolder = new File(\"/home/user\");\n    pb.directory(workingFolder);\n\n    Process proc = pb.start();\n\n    BufferedReader stdInput = new BufferedReader(new InputStreamReader(proc.getInputStream()));\n\n    BufferedReader stdError = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\n\n    // Read the output from the command:\n    System.out.println(\"Here is the standard output of the command:\\n\");\n    String s = null;\n    while ((s = stdInput.readLine()) != null)\n        System.out.println(s);\n\n    // Read any errors from the attempted command:\n    System.out.println(\"Here is the standard error of the command (if any):\\n\");\n    while ((s = stdError.readLine()) != null)\n        System.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1520895247,"creation_date":1520895247,"answer_id":49245659,"question_id":5711084,"body_markdown":"Also we can use streams for obtain command output:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \r\n            Runtime runtime = Runtime.getRuntime();\r\n            String[] commands  = {&quot;free&quot;, &quot;-h&quot;};\r\n            Process process = runtime.exec(commands);\r\n    \r\n            BufferedReader lineReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            lineReader.lines().forEach(System.out::println);\r\n    \r\n            BufferedReader errorReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n            errorReader.lines().forEach(System.out::println);\r\n        }","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>Also we can use streams for obtain command output:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n        Runtime runtime = Runtime.getRuntime();\n        String[] commands  = {\"free\", \"-h\"};\n        Process process = runtime.exec(commands);\n\n        BufferedReader lineReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        lineReader.lines().forEach(System.out::println);\n\n        BufferedReader errorReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n        errorReader.lines().forEach(System.out::println);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1538134809,"creation_date":1538134809,"answer_id":52554567,"question_id":5711084,"body_markdown":"If use are already have Apache commons-io available on the classpath, you may use:\r\n\r\n    Process p = new ProcessBuilder(&quot;cat&quot;, &quot;/etc/something&quot;).start();\r\n    String stderr = IOUtils.toString(p.getErrorStream(), Charset.defaultCharset());\r\n    String stdout = IOUtils.toString(p.getInputStream(), Charset.defaultCharset());","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>If use are already have Apache commons-io available on the classpath, you may use:</p>\n\n<pre><code>Process p = new ProcessBuilder(\"cat\", \"/etc/something\").start();\nString stderr = IOUtils.toString(p.getErrorStream(), Charset.defaultCharset());\nString stdout = IOUtils.toString(p.getInputStream(), Charset.defaultCharset());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1568767018,"creation_date":1568601305,"answer_id":57949752,"question_id":5711084,"body_markdown":"At the time of this writing, all other answers that include code may result in deadlocks.\r\n\r\nProcesses have a limited buffer for `stdout` and `stderr` output. If you don&#39;t listen to them concurrently, one of them will fill up while you are trying reading the other. For example, you could be waiting to read from `stdout` while the process is waiting to write to `stderr`. You cannot read from the `stdout` buffer because it is empty and the process cannot write to the `stderr` buffer because it is full. You are each waiting on each other forever.\r\n\r\nHere is a possible way to read the output of a process without a risk of deadlocks:\r\n\r\n    public final class Processes\r\n    {\r\n    \tprivate static final String NEWLINE = System.getProperty(&quot;line.separator&quot;);\r\n    \r\n    \t/**\r\n    \t * @param command the command to run\r\n    \t * @return the output of the command\r\n    \t * @throws IOException if an I/O error occurs\r\n    \t */\r\n    \tpublic static String run(String... command) throws IOException\r\n    \t{\r\n    \t\tProcessBuilder pb = new ProcessBuilder(command).redirectErrorStream(true);\r\n    \t\tProcess process = pb.start();\r\n    \t\tStringBuilder result = new StringBuilder(80);\r\n    \t\ttry (BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream())))\r\n    \t\t{\r\n    \t\t\twhile (true)\r\n    \t\t\t{\r\n    \t\t\t\tString line = in.readLine();\r\n    \t\t\t\tif (line == null)\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tresult.append(line).append(NEWLINE);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result.toString();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Prevent construction.\r\n    \t */\r\n    \tprivate Processes()\r\n    \t{\r\n    \t}\r\n    }\r\n\r\nThe key is to use `ProcessBuilder.redirectErrorStream(true)` which will redirect `stderr` into the `stdout` stream. This allows you to read a single stream without having to alternate between `stdout` and `stderr`. If you want to implement this manually, you will have to [consume the streams in two different threads](https://stackoverflow.com/a/14442534/14731) to make sure you never block.","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>At the time of this writing, all other answers that include code may result in deadlocks.</p>\n\n<p>Processes have a limited buffer for <code>stdout</code> and <code>stderr</code> output. If you don't listen to them concurrently, one of them will fill up while you are trying reading the other. For example, you could be waiting to read from <code>stdout</code> while the process is waiting to write to <code>stderr</code>. You cannot read from the <code>stdout</code> buffer because it is empty and the process cannot write to the <code>stderr</code> buffer because it is full. You are each waiting on each other forever.</p>\n\n<p>Here is a possible way to read the output of a process without a risk of deadlocks:</p>\n\n<pre><code>public final class Processes\n{\n    private static final String NEWLINE = System.getProperty(\"line.separator\");\n\n    /**\n     * @param command the command to run\n     * @return the output of the command\n     * @throws IOException if an I/O error occurs\n     */\n    public static String run(String... command) throws IOException\n    {\n        ProcessBuilder pb = new ProcessBuilder(command).redirectErrorStream(true);\n        Process process = pb.start();\n        StringBuilder result = new StringBuilder(80);\n        try (BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream())))\n        {\n            while (true)\n            {\n                String line = in.readLine();\n                if (line == null)\n                    break;\n                result.append(line).append(NEWLINE);\n            }\n        }\n        return result.toString();\n    }\n\n    /**\n     * Prevent construction.\n     */\n    private Processes()\n    {\n    }\n}\n</code></pre>\n\n<p>The key is to use <code>ProcessBuilder.redirectErrorStream(true)</code> which will redirect <code>stderr</code> into the <code>stdout</code> stream. This allows you to read a single stream without having to alternate between <code>stdout</code> and <code>stderr</code>. If you want to implement this manually, you will have to <a href=\"https://stackoverflow.com/a/14442534/14731\">consume the streams in two different threads</a> to make sure you never block.</p>\n"},{"tags":[],"owner":{"account_id":3907390,"reputation":3862,"user_id":3233722,"display_name":"Sergio Mcfly PYK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571420386,"creation_date":1571420386,"answer_id":58455745,"question_id":5711084,"body_markdown":"Pretty much the same as other ***snippets*** on this page but just organizing things up over an **function**, here we go...\r\n\r\n    String str=shell_exec(&quot;ls -l&quot;);\r\n\r\nThe Class function:\r\n\r\n    public String shell_exec(String cmd)\r\n           {\r\n           String o=null;\r\n           try\r\n             {\r\n             Process p=Runtime.getRuntime().exec(cmd);\r\n             BufferedReader b=new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n             String r;\r\n             while((r=b.readLine())!=null)o+=r;\r\n             }catch(Exception e){o=&quot;error&quot;;}\r\n           return o;\r\n           }","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>Pretty much the same as other <strong><em>snippets</em></strong> on this page but just organizing things up over an <strong>function</strong>, here we go...</p>\n\n<pre><code>String str=shell_exec(\"ls -l\");\n</code></pre>\n\n<p>The Class function:</p>\n\n<pre><code>public String shell_exec(String cmd)\n       {\n       String o=null;\n       try\n         {\n         Process p=Runtime.getRuntime().exec(cmd);\n         BufferedReader b=new BufferedReader(new InputStreamReader(p.getInputStream()));\n         String r;\n         while((r=b.readLine())!=null)o+=r;\n         }catch(Exception e){o=\"error\";}\n       return o;\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1573410975,"creation_date":1573410975,"answer_id":58791768,"question_id":5711084,"body_markdown":"If you write on Kotlin, you can use:\r\n\r\n```kt\r\nval firstProcess = ProcessBuilder(&quot;echo&quot;,&quot;hello world&quot;).start()\r\nval firstError = firstProcess.errorStream.readBytes().decodeToString()\r\nval firstResult = firstProcess.inputStream.readBytes().decodeToString()\r\n```","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>If you write on Kotlin, you can use:</p>\n\n<pre><code>val firstProcess = ProcessBuilder(\"echo\",\"hello world\").start()\nval firstError = firstProcess.errorStream.readBytes().decodeToString()\nval firstResult = firstProcess.inputStream.readBytes().decodeToString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19291927,"reputation":21,"user_id":14101724,"display_name":"Saptarsi Halder"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597349727,"creation_date":1597349727,"answer_id":63402615,"question_id":5711084,"body_markdown":"    Process p = Runtime.getRuntime().exec(&quot;ping google.com&quot;);\r\n    \r\n    p.getInputStream().transferTo(System.out);\r\n    \r\n    p.getErrorStream().transferTo(System.out);","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<pre><code>Process p = Runtime.getRuntime().exec(&quot;ping google.com&quot;);\n\np.getInputStream().transferTo(System.out);\n\np.getErrorStream().transferTo(System.out);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7088838,"reputation":49,"user_id":5427687,"display_name":"Afanasov S"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1620205255,"creation_date":1620205255,"answer_id":67398152,"question_id":5711084,"body_markdown":"Create class :\r\n\r\n    public class Utils {\r\n    public static final String SHEL_EXECUTE_ERROR = &quot;SHEL_EXECUTE_ERROR&quot;;\r\n    public static String shellExec(String cmdCommand) {\r\n        final StringBuilder stringBuilder = new StringBuilder();\r\n        try {\r\n            final Process process = Runtime.getRuntime().exec(cmdCommand);\r\n            final BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                stringBuilder.append(line);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            return SHEL_EXECUTE_ERROR;\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n}\r\n\r\n\r\nand use:\r\n\r\n    final String shellExec = shellExec(&quot;cmd /c ver&quot;);\r\n    final String versionOS = shellExec.equals(SHEL_EXECUTE_ERROR) ? &quot;empty&quot; : shellExec;","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>Create class :</p>\n<pre><code>public class Utils {\npublic static final String SHEL_EXECUTE_ERROR = &quot;SHEL_EXECUTE_ERROR&quot;;\npublic static String shellExec(String cmdCommand) {\n    final StringBuilder stringBuilder = new StringBuilder();\n    try {\n        final Process process = Runtime.getRuntime().exec(cmdCommand);\n        final BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            stringBuilder.append(line);\n        }\n\n    } catch (Exception e) {\n        return SHEL_EXECUTE_ERROR;\n    }\n    return stringBuilder.toString();\n}\n</code></pre>\n<p>}</p>\n<p>and use:</p>\n<pre><code>final String shellExec = shellExec(&quot;cmd /c ver&quot;);\nfinal String versionOS = shellExec.equals(SHEL_EXECUTE_ERROR) ? &quot;empty&quot; : shellExec;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682879888,"creation_date":1682878770,"answer_id":76142849,"question_id":5711084,"body_markdown":"To reliably start a sub-process you need to handle the output streams at same time or the process will block when either STDOUT or STDERR is not consumed when they fill to the default buffer limit.\r\n\r\nYou can demonstrate this issue by these test commands which write large amount of data to STDOUT and STDERR at same pace. If your app does not keep up with reading from both of these streams then the sub-process will freeze / deadlock:\r\n\r\n    // WINDOWS:\r\n    String[] commands = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;FOR /L %X IN (1, 1, 10000) DO echo Hello STDOUT %X &amp;&amp; echo Hello STDERR %X 1&gt;&amp;2&quot;};\r\n    // Linux / Unix style OS\r\n    String[] commands = {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;for i in {1..10000} ; do echo Hello STDERR $i 1&gt;&amp;2 ; echo Hello STDOUT $i; done&quot;};\r\n\r\n\r\nYou can can avoid the problem by using `ProcessBuilder` which gives better control of where output streams go, and prevent deadlock situation by calling `pb.redirectErrorStream(true)` or `pb.inheritIO()` or redirect either of STDOUT / STDERR to `File` using `pb.redirectOutput/Error(file)` /  or use different threads for reading from STDOUT and STDERR. \r\n\r\nHere is a simple example of how to handle launch which could be used in place of `Runtime.exec()` and sends STDOUT(/STDERR) to any stream you pass in, and which avoids the deadlock situation:\r\n\r\n    // Example: \r\n    start(command, null, System.out, null);\r\n    // or \r\n    start(command, null, System.out, System.err);\r\n    // Don&#39;t forget to close streams you pass in - if appropriate\r\n\r\n    public static int start(String[] cmd, byte[] stdin, OutputStream stdout, OutputStream stderr)\r\n            throws IOException, InterruptedException\r\n    {\r\n        Objects.requireNonNull(cmd);\r\n        Objects.requireNonNull(stdout);\r\n        System.out.println(&quot;start &quot;+Arrays.toString(cmd));\r\n\r\n        // Launch and wait:\r\n        ProcessBuilder pb = new ProcessBuilder(cmd);\r\n        if (stderr == null) {\r\n            pb.redirectErrorStream(true);   // No STDERR =&gt; merge to STDOUT\r\n        }\r\n\r\n        Process p = pb.start();\r\n\r\n        // Consumes STDERR at same time as STDOUT, not doing this large streams can block I/O in the sub-process\r\n        Thread bg = null;\r\n        if (stderr != null) {\r\n            Runnable task = () -&gt; {\r\n                try(var from = p.getErrorStream()) {\r\n                    from.transferTo(stderr);\r\n                } catch(IOException io) {\r\n                    throw new UncheckedIOException(io);\r\n                }\r\n            };\r\n            bg = new Thread(task, &quot;STDERR&quot;);\r\n            bg.start();\r\n        }\r\n\r\n        // Send STDIN if required, and close STDIN stream\r\n        // NOTE!!! a huge input stream can lock up STDOUT/STDERR readers, you may need a background thread here too\r\n        try(OutputStream os = p.getOutputStream()) {\r\n            if (stdin != null) os.write(stdin);\r\n        }\r\n\r\n        // Move STDOUT to the output stream\r\n        try(var stdo = p.getInputStream()) {\r\n            stdo.transferTo(stdout);\r\n        }\r\n\r\n        int rc = p.waitFor();\r\n        if (bg != null) {\r\n            bg.join();\r\n        }\r\n\r\n        System.out.println(&quot;start &quot;+Arrays.toString(cmd));\r\n        System.out.println(&quot;Exit &quot;+p.pid()+&quot; CODE &quot;+rc +&#39; &#39;+(rc == 0 ? &quot;OK&quot;:&quot;**** ERROR ****&quot;)+&quot; &quot;+(stderr == null ? &quot;STDERR&gt;OUT&quot;:&quot;&quot;));\r\n        return rc;\r\n    }\r\n\r\n","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>To reliably start a sub-process you need to handle the output streams at same time or the process will block when either STDOUT or STDERR is not consumed when they fill to the default buffer limit.</p>\n<p>You can demonstrate this issue by these test commands which write large amount of data to STDOUT and STDERR at same pace. If your app does not keep up with reading from both of these streams then the sub-process will freeze / deadlock:</p>\n<pre><code>// WINDOWS:\nString[] commands = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;FOR /L %X IN (1, 1, 10000) DO echo Hello STDOUT %X &amp;&amp; echo Hello STDERR %X 1&gt;&amp;2&quot;};\n// Linux / Unix style OS\nString[] commands = {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;for i in {1..10000} ; do echo Hello STDERR $i 1&gt;&amp;2 ; echo Hello STDOUT $i; done&quot;};\n</code></pre>\n<p>You can can avoid the problem by using <code>ProcessBuilder</code> which gives better control of where output streams go, and prevent deadlock situation by calling <code>pb.redirectErrorStream(true)</code> or <code>pb.inheritIO()</code> or redirect either of STDOUT / STDERR to <code>File</code> using <code>pb.redirectOutput/Error(file)</code> /  or use different threads for reading from STDOUT and STDERR.</p>\n<p>Here is a simple example of how to handle launch which could be used in place of <code>Runtime.exec()</code> and sends STDOUT(/STDERR) to any stream you pass in, and which avoids the deadlock situation:</p>\n<pre><code>// Example: \nstart(command, null, System.out, null);\n// or \nstart(command, null, System.out, System.err);\n// Don't forget to close streams you pass in - if appropriate\n\npublic static int start(String[] cmd, byte[] stdin, OutputStream stdout, OutputStream stderr)\n        throws IOException, InterruptedException\n{\n    Objects.requireNonNull(cmd);\n    Objects.requireNonNull(stdout);\n    System.out.println(&quot;start &quot;+Arrays.toString(cmd));\n\n    // Launch and wait:\n    ProcessBuilder pb = new ProcessBuilder(cmd);\n    if (stderr == null) {\n        pb.redirectErrorStream(true);   // No STDERR =&gt; merge to STDOUT\n    }\n\n    Process p = pb.start();\n\n    // Consumes STDERR at same time as STDOUT, not doing this large streams can block I/O in the sub-process\n    Thread bg = null;\n    if (stderr != null) {\n        Runnable task = () -&gt; {\n            try(var from = p.getErrorStream()) {\n                from.transferTo(stderr);\n            } catch(IOException io) {\n                throw new UncheckedIOException(io);\n            }\n        };\n        bg = new Thread(task, &quot;STDERR&quot;);\n        bg.start();\n    }\n\n    // Send STDIN if required, and close STDIN stream\n    // NOTE!!! a huge input stream can lock up STDOUT/STDERR readers, you may need a background thread here too\n    try(OutputStream os = p.getOutputStream()) {\n        if (stdin != null) os.write(stdin);\n    }\n\n    // Move STDOUT to the output stream\n    try(var stdo = p.getInputStream()) {\n        stdo.transferTo(stdout);\n    }\n\n    int rc = p.waitFor();\n    if (bg != null) {\n        bg.join();\n    }\n\n    System.out.println(&quot;start &quot;+Arrays.toString(cmd));\n    System.out.println(&quot;Exit &quot;+p.pid()+&quot; CODE &quot;+rc +' '+(rc == 0 ? &quot;OK&quot;:&quot;**** ERROR ****&quot;)+&quot; &quot;+(stderr == null ? &quot;STDERR&gt;OUT&quot;:&quot;&quot;));\n    return rc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693424473,"creation_date":1693424473,"answer_id":77011087,"question_id":5711084,"body_markdown":"You can try my [`jaxec`](https://github.com/yegor256/jaxec) library:\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;date&quot;, &quot;+%Y&quot;).exec();\r\nassert stdout.equals(&quot;2003&quot;);\r\n```\r\n\r\nUnder the hood it uses `Runtime`, but also logs its output, check the value of the exit code, and wait for the process to finish.","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>You can try my <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\"><code>jaxec</code></a> library:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;date&quot;, &quot;+%Y&quot;).exec();\nassert stdout.equals(&quot;2003&quot;);\n</code></pre>\n<p>Under the hood it uses <code>Runtime</code>, but also logs its output, check the value of the exit code, and wait for the process to finish.</p>\n"}],"owner":{"account_id":259016,"reputation":4277,"user_id":541597,"accept_rate":65,"display_name":"user541597"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362477,"favorite_count":0,"down_vote_count":0,"up_vote_count":207,"accepted_answer_id":5711150,"answer_count":14,"score":207,"last_activity_date":1693424473,"creation_date":1303181489,"question_id":5711084,"body_markdown":"I&#39;m using the runtime to run command prompt commands from my Java program. However, I&#39;m not aware of how I can get the output the command returns.\r\n\r\nHere is my code:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n\r\n    String[] commands = {&quot;system.exe&quot;, &quot;-send&quot; , argument};\r\n\r\n    Process proc = rt.exec(commands);\r\n\r\nI tried doing `System.out.println(proc);` but that did not return anything. The execution of that command should return two numbers separated by a semicolon. How could I get this in a variable to print out?\r\n\r\nHere is the code I&#39;m using now:\r\n\r\n    String[] commands = {&quot;system.exe&quot;, &quot;-get t&quot;};\r\n    \r\n    Process proc = rt.exec(commands);\r\n    \r\n    InputStream stdIn = proc.getInputStream();\r\n    InputStreamReader isr = new InputStreamReader(stdIn);\r\n    BufferedReader br = new BufferedReader(isr);\r\n\r\n    String line = null;\r\n    System.out.println(&quot;&lt;OUTPUT&gt;&quot;);\r\n    \r\n    while ((line = br.readLine()) != null)\r\n         System.out.println(line);\r\n\r\n    System.out.println(&quot;&lt;/OUTPUT&gt;&quot;);\r\n    int exitVal = proc.waitFor();\r\n    System.out.println(&quot;Process exitValue: &quot; + exitVal);\r\n\r\nBut I&#39;m not getting anything as my output, but when I run that command myself it works fine.","title":"Java Runtime.getRuntime(): getting output from executing a command line program","body":"<p>I'm using the runtime to run command prompt commands from my Java program. However, I'm not aware of how I can get the output the command returns.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\n\nString[] commands = {\"system.exe\", \"-send\" , argument};\n\nProcess proc = rt.exec(commands);\n</code></pre>\n\n<p>I tried doing <code>System.out.println(proc);</code> but that did not return anything. The execution of that command should return two numbers separated by a semicolon. How could I get this in a variable to print out?</p>\n\n<p>Here is the code I'm using now:</p>\n\n<pre><code>String[] commands = {\"system.exe\", \"-get t\"};\n\nProcess proc = rt.exec(commands);\n\nInputStream stdIn = proc.getInputStream();\nInputStreamReader isr = new InputStreamReader(stdIn);\nBufferedReader br = new BufferedReader(isr);\n\nString line = null;\nSystem.out.println(\"&lt;OUTPUT&gt;\");\n\nwhile ((line = br.readLine()) != null)\n     System.out.println(line);\n\nSystem.out.println(\"&lt;/OUTPUT&gt;\");\nint exitVal = proc.waitFor();\nSystem.out.println(\"Process exitValue: \" + exitVal);\n</code></pre>\n\n<p>But I'm not getting anything as my output, but when I run that command myself it works fine.</p>\n"},{"tags":["java","process","exec","runtime.exec"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1353391147,"post_id":13467307,"comment_id":18421942,"body_markdown":"I am not sure but problem might exist with `C:\\\\Program Files (x86)` which contain space in path.","body":"I am not sure but problem might exist with <code>C:\\\\Program Files (x86)</code> which contain space in path."},{"owner":{"account_id":16568,"reputation":574,"user_id":36254,"accept_rate":78,"display_name":"Samuel"},"score":0,"creation_date":1353391413,"post_id":13467307,"comment_id":18422017,"body_markdown":"I figured this was the root of the problem which is why I tried to use the quotes, but if those don&#39;t work with exec, do you have a suggestion on how I might make this work?","body":"I figured this was the root of the problem which is why I tried to use the quotes, but if those don&#39;t work with exec, do you have a suggestion on how I might make this work?"},{"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"score":0,"creation_date":1353391453,"post_id":13467307,"comment_id":18422031,"body_markdown":"You&#39;re passing an array to `rt.exec()`. Don&#39;t put quotes at the beginning and end of your arguments. It is an information for the shell on how to split the arguments apart, but you&#39;ve already done that.","body":"You&#39;re passing an array to <code>rt.exec()</code>. Don&#39;t put quotes at the beginning and end of your arguments. It is an information for the shell on how to split the arguments apart, but you&#39;ve already done that."},{"owner":{"account_id":16568,"reputation":574,"user_id":36254,"accept_rate":78,"display_name":"Samuel"},"score":0,"creation_date":1353392127,"post_id":13467307,"comment_id":18422227,"body_markdown":"If I don&#39;t use quotes then how can I get the `C:\\\\Program Files (x86)` to stay together? However, I have tried it without the quotes and still doesn&#39;t work.","body":"If I don&#39;t use quotes then how can I get the <code>C:\\\\Program Files (x86)</code> to stay together? However, I have tried it without the quotes and still doesn&#39;t work."},{"owner":{"account_id":16568,"reputation":574,"user_id":36254,"accept_rate":78,"display_name":"Samuel"},"score":0,"creation_date":1353453169,"post_id":13467307,"comment_id":18449637,"body_markdown":"yes I used it without the cmd /c","body":"yes I used it without the cmd /c"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1403830153,"post_id":13467307,"comment_id":37821122,"body_markdown":"@Samuel Consider marking this question as answered, and ask your follow-up question about `Runtime.exec` and environment variables separately.","body":"@Samuel Consider marking this question as answered, and ask your follow-up question about <code>Runtime.exec</code> and environment variables separately."}],"answers":[{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353392706,"creation_date":1353390801,"answer_id":13467334,"question_id":13467307,"body_markdown":"well `tesseract` is external command so you do not need to use it with `cmd`. Add `tesseract` to environment variables. Use direct command as :\r\n\r\n    String[] commands = {&quot;tesseract&quot;, imageFilePath, outputFilePath };\r\n\r\nExist status 1 means Incorrect function. See [process exit status][1]\r\n\r\n\r\n  [1]: http://pcsupport.about.com/od/fixtheproblem/tp/system_error_codes_1_99.htm","title":"How to get java getRuntime().exec() to run a command-line program with arguments?","body":"<p>well <code>tesseract</code> is external command so you do not need to use it with <code>cmd</code>. Add <code>tesseract</code> to environment variables. Use direct command as :</p>\n\n<pre><code>String[] commands = {\"tesseract\", imageFilePath, outputFilePath };\n</code></pre>\n\n<p>Exist status 1 means Incorrect function. See <a href=\"http://pcsupport.about.com/od/fixtheproblem/tp/system_error_codes_1_99.htm\" rel=\"nofollow\">process exit status</a></p>\n"},{"tags":[],"owner":{"account_id":1470396,"reputation":31,"user_id":1382115,"display_name":"user1382115"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367508864,"creation_date":1367508226,"answer_id":16341846,"question_id":13467307,"body_markdown":"Another workaround without having to recompile and deploy is using the old DOS style paths for e.g `C:\\Program Files` would be `C:\\Progra~1`. Of course this will be helpful only if you are reading the paths from a config file or DB and registry etc.\r\n","title":"How to get java getRuntime().exec() to run a command-line program with arguments?","body":"<p>Another workaround without having to recompile and deploy is using the old DOS style paths for e.g <code>C:\\Program Files</code> would be <code>C:\\Progra~1</code>. Of course this will be helpful only if you are reading the paths from a config file or DB and registry etc.</p>\n"},{"tags":[],"owner":{"account_id":2900963,"reputation":111,"user_id":2487684,"display_name":"Raj Pandiri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371246736,"creation_date":1371246736,"answer_id":17117798,"question_id":13467307,"body_markdown":"another workaround is give complete installation path of file like /usr/local/Cellar/tesseract/3.02.02/bin/tesseract&quot;\r\n","title":"How to get java getRuntime().exec() to run a command-line program with arguments?","body":"<p>another workaround is give complete installation path of file like /usr/local/Cellar/tesseract/3.02.02/bin/tesseract\"</p>\n"},{"tags":[],"owner":{"account_id":9349069,"reputation":51,"user_id":6939383,"display_name":"hkd93"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475881122,"creation_date":1475877198,"answer_id":39926306,"question_id":13467307,"body_markdown":"You are not capturing STDERR, so when errors occur you do not receive them from STDOUT (which you are capturing). Try:\r\n\r\n    BufferedReader input = new BufferedReader(new InputStreamReader(\r\n                   pr.getErrorStream()));\r\n\r\n","title":"How to get java getRuntime().exec() to run a command-line program with arguments?","body":"<p>You are not capturing STDERR, so when errors occur you do not receive them from STDOUT (which you are capturing). Try:</p>\n\n<pre><code>BufferedReader input = new BufferedReader(new InputStreamReader(\n               pr.getErrorStream()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693424390,"creation_date":1693424390,"answer_id":77011073,"question_id":13467307,"body_markdown":"You can try my [`jaxec`](https://github.com/yegor256/jaxec) library:\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nnew Jaxec(&quot;cmd&quot;, &quot;/c&quot;, &quot;dir&quot;).exec();\r\n```\r\n\r\nIt will use `Runtime` under the hood, but will also log its output, check the value of the exit code, and wait for the process to finish.","title":"How to get java getRuntime().exec() to run a command-line program with arguments?","body":"<p>You can try my <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\"><code>jaxec</code></a> library:</p>\n<pre><code>import com.yegor256.Jaxec;\nnew Jaxec(&quot;cmd&quot;, &quot;/c&quot;, &quot;dir&quot;).exec();\n</code></pre>\n<p>It will use <code>Runtime</code> under the hood, but will also log its output, check the value of the exit code, and wait for the process to finish.</p>\n"}],"owner":{"account_id":16568,"reputation":574,"user_id":36254,"accept_rate":78,"display_name":"Samuel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97861,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1693424390,"creation_date":1353390595,"question_id":13467307,"body_markdown":"I&#39;ve been trying to write a java program that uses the `Runtime.getRuntime().exec()` method to use the command-line to run an instance of the program &quot;tesseract&quot;.\r\n\r\nSome background, Tesseract is a free open source program that is used to perform OCR (Optical Character Recognition) on pictures. It takes in a picture file and outputs a text document. It is a command-line program that uses this command to run \r\n\r\n(from within the command prompt shell)\r\n\r\n    tesseract imageFilePath outFilePath [optional arguments] \r\n\r\nexample:\r\n\r\n    tesseract &quot;C:\\Program Files (x86)\\Tesseract-OCR\\doc\\eurotext.tif&quot; &quot;C:\\Users\\Dreadnought\\Documents\\TestingFolder\\out&quot;\r\n\r\nthe first argument calls the tesseract program, the second is the absolute path to the image file and the last argument is the path and name of what the output file should be. Tesseract only requires the name of the output file it does not require the extension.\r\n\r\nWorking from the command prompt this works perfect. However, I was wanting to run this from a java program and was running into some errors.\r\n\r\nI found this this code to be very helpful as a starting off point\r\n\r\n    public class Main\r\n    {\r\n       public static void main(String args[])\r\n       {\r\n          try\r\n          {\r\n             Runtime rt = Runtime.getRuntime();\r\n             String cmdString = &quot;cmd /c dir&quot;;\r\n         \r\n             System.out.println(cmdString);\r\n             Process pr = rt.exec(cmdString);\r\n\r\n             BufferedReader input = new BufferedReader(new InputStreamReader(\r\n                                                       pr.getInputStream()));\r\n\r\n             String line = null;\r\n\r\n             while ((line = input.readLine()) != null)\r\n             {\r\n                System.out.println(line);\r\n             }\r\n\r\n             int exitVal = pr.waitFor();\r\n             System.out.println(&quot;Exited with error code &quot; + exitVal);\r\n\r\n          }\r\n          catch (Exception e)\r\n          {\r\n             System.out.println(e.toString());\r\n             e.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\nIt prints out the result of the dir command. However when I modified it like so\r\n\r\n    public class Main\r\n    {\r\n       public static void main(String args[])\r\n       {\r\n          try\r\n          {\r\n             Runtime rt = Runtime.getRuntime();\r\n             String imageFilePath = &quot;\\&quot;C:\\\\Program Files (x86)\\\\Tesseract-OCR\\\\doc\\\\eurotext.tif\\&quot;&quot;;\r\n             String outputFilePath = &quot;\\&quot;C:\\\\Users\\\\Dreadnought\\\\Documents\\\\TestingFolder\\\\eurotext-example\\&quot;&quot;;\r\n             String[] commands = {&quot;cmd&quot;, &quot;/c&quot;, &quot;tesseract&quot;, imageFilePath, outputFilePath };\r\n\r\n             Process pr = rt.exec(commands);\r\n\r\n             BufferedReader input = new BufferedReader(new InputStreamReader(\r\n                   pr.getInputStream()));\r\n\r\n             String line = null;\r\n\r\n             while ((line = input.readLine()) != null)\r\n             {\r\n                System.out.println(line);\r\n             }\r\n\r\n             int exitVal = pr.waitFor();\r\n             System.out.println(&quot;Exited with error code &quot; + exitVal);\r\n          }\r\n          catch (Exception e)\r\n          {\r\n             System.out.println(e.toString());\r\n             e.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\nThe only thing it outputs is `Exited with error code 1`. This is the expected output if the Process ended with an error.\r\n\r\nI have even tried passing `&quot;cmd /c tesseract \\&quot;C:\\\\Program Files (x86)\\\\Tesseract-OCR\\\\doc\\\\eurotext.tif\\&quot; \\&quot;C:\\\\Users\\\\Dreadnought\\\\Documents\\\\TestingFolder\\\\eurotext-example\\&quot;&quot;` and I ended up having the same error.\r\n\r\nAccording to https://stackoverflow.com/questions/161859/using-quotes-within-getruntime-exec I thought problem was that I was that i had tried to escape the quotes, so that is why I passed in a String array. But I am still getting the `Exited with error code 1`.\r\n\r\nIs it possible to execute a command-line program with the java `Runtime.getRuntime().exec()` command?\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT**: The problem is still occuring\r\n\r\nI have tried not using &quot;cmd /c&quot; thinking along the same line of reasoning as Evgeniy Dorofeev and Nandkumar Tekale suggested below. However, I get a different sort of error:\r\n\r\n    java.io.IOException: Cannot run program &quot;tesseract&quot;: CreateProcess error=2, The system cannot find the file specified\r\n    java.io.IOException: Cannot run program &quot;tesseract&quot;: CreateProcess error=2, The system  cannot find the file specified\r\n    \tat java.lang.ProcessBuilder.start(Unknown Source)\r\n    \tat java.lang.Runtime.exec(Unknown Source)\r\n    \tat java.lang.Runtime.exec(Unknown Source)\r\n    \tat Main.main(Main.java:15)\r\n    Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n    \tat java.lang.ProcessImpl.create(Native Method)\r\n    \tat java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\r\n    \tat java.lang.ProcessImpl.start(Unknown Source)\r\n\t... 4 more\r\n\r\nMaybe this gives more information? I am really curious about what is causing this problem. Also the problem is the same whether or not I add the escaped quotations to my arguments.\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT 2**: On a whim I provided an absolute path to the tesseract executable and not using the `cmd /c` worked like a charm. I guess the question is can `Runtime.getRuntime().exec()` not call environment variables?","title":"How to get java getRuntime().exec() to run a command-line program with arguments?","body":"<p>I've been trying to write a java program that uses the <code>Runtime.getRuntime().exec()</code> method to use the command-line to run an instance of the program \"tesseract\".</p>\n\n<p>Some background, Tesseract is a free open source program that is used to perform OCR (Optical Character Recognition) on pictures. It takes in a picture file and outputs a text document. It is a command-line program that uses this command to run </p>\n\n<p>(from within the command prompt shell)</p>\n\n<pre><code>tesseract imageFilePath outFilePath [optional arguments] \n</code></pre>\n\n<p>example:</p>\n\n<pre><code>tesseract \"C:\\Program Files (x86)\\Tesseract-OCR\\doc\\eurotext.tif\" \"C:\\Users\\Dreadnought\\Documents\\TestingFolder\\out\"\n</code></pre>\n\n<p>the first argument calls the tesseract program, the second is the absolute path to the image file and the last argument is the path and name of what the output file should be. Tesseract only requires the name of the output file it does not require the extension.</p>\n\n<p>Working from the command prompt this works perfect. However, I was wanting to run this from a java program and was running into some errors.</p>\n\n<p>I found this this code to be very helpful as a starting off point</p>\n\n<pre><code>public class Main\n{\n   public static void main(String args[])\n   {\n      try\n      {\n         Runtime rt = Runtime.getRuntime();\n         String cmdString = \"cmd /c dir\";\n\n         System.out.println(cmdString);\n         Process pr = rt.exec(cmdString);\n\n         BufferedReader input = new BufferedReader(new InputStreamReader(\n                                                   pr.getInputStream()));\n\n         String line = null;\n\n         while ((line = input.readLine()) != null)\n         {\n            System.out.println(line);\n         }\n\n         int exitVal = pr.waitFor();\n         System.out.println(\"Exited with error code \" + exitVal);\n\n      }\n      catch (Exception e)\n      {\n         System.out.println(e.toString());\n         e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n\n<p>It prints out the result of the dir command. However when I modified it like so</p>\n\n<pre><code>public class Main\n{\n   public static void main(String args[])\n   {\n      try\n      {\n         Runtime rt = Runtime.getRuntime();\n         String imageFilePath = \"\\\"C:\\\\Program Files (x86)\\\\Tesseract-OCR\\\\doc\\\\eurotext.tif\\\"\";\n         String outputFilePath = \"\\\"C:\\\\Users\\\\Dreadnought\\\\Documents\\\\TestingFolder\\\\eurotext-example\\\"\";\n         String[] commands = {\"cmd\", \"/c\", \"tesseract\", imageFilePath, outputFilePath };\n\n         Process pr = rt.exec(commands);\n\n         BufferedReader input = new BufferedReader(new InputStreamReader(\n               pr.getInputStream()));\n\n         String line = null;\n\n         while ((line = input.readLine()) != null)\n         {\n            System.out.println(line);\n         }\n\n         int exitVal = pr.waitFor();\n         System.out.println(\"Exited with error code \" + exitVal);\n      }\n      catch (Exception e)\n      {\n         System.out.println(e.toString());\n         e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n\n<p>The only thing it outputs is <code>Exited with error code 1</code>. This is the expected output if the Process ended with an error.</p>\n\n<p>I have even tried passing <code>\"cmd /c tesseract \\\"C:\\\\Program Files (x86)\\\\Tesseract-OCR\\\\doc\\\\eurotext.tif\\\" \\\"C:\\\\Users\\\\Dreadnought\\\\Documents\\\\TestingFolder\\\\eurotext-example\\\"\"</code> and I ended up having the same error.</p>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/161859/using-quotes-within-getruntime-exec\">Using Quotes within getRuntime().exec</a> I thought problem was that I was that i had tried to escape the quotes, so that is why I passed in a String array. But I am still getting the <code>Exited with error code 1</code>.</p>\n\n<p>Is it possible to execute a command-line program with the java <code>Runtime.getRuntime().exec()</code> command?</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: The problem is still occuring</p>\n\n<p>I have tried not using \"cmd /c\" thinking along the same line of reasoning as Evgeniy Dorofeev and Nandkumar Tekale suggested below. However, I get a different sort of error:</p>\n\n<pre><code>java.io.IOException: Cannot run program \"tesseract\": CreateProcess error=2, The system cannot find the file specified\njava.io.IOException: Cannot run program \"tesseract\": CreateProcess error=2, The system  cannot find the file specified\n    at java.lang.ProcessBuilder.start(Unknown Source)\n    at java.lang.Runtime.exec(Unknown Source)\n    at java.lang.Runtime.exec(Unknown Source)\n    at Main.main(Main.java:15)\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.lang.ProcessImpl.create(Native Method)\n    at java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\n    at java.lang.ProcessImpl.start(Unknown Source)\n... 4 more\n</code></pre>\n\n<p>Maybe this gives more information? I am really curious about what is causing this problem. Also the problem is the same whether or not I add the escaped quotations to my arguments.</p>\n\n<hr>\n\n<p><strong>EDIT 2</strong>: On a whim I provided an absolute path to the tesseract executable and not using the <code>cmd /c</code> worked like a charm. I guess the question is can <code>Runtime.getRuntime().exec()</code> not call environment variables?</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693423324,"creation_date":1693416629,"answer_id":77010306,"question_id":77009701,"body_markdown":"# Problems\r\n\r\nThere are a few problems with this setup.\r\n\r\n## Interface as Element Type\r\n\r\nYou are telling the `FXMLLoader` to instantiate a [`List`][3] _directly_. This is not possible, because that type is an interface and interfaces cannot be instantiated. You would have to use a concrete implementation, such as [`ArrayList`][4].\r\n\r\nThis problem is where your current error is coming from:\r\n\r\n&gt; ```none\r\n&gt; Caused by: java.lang.InstantiationException: java.util.List\r\n&gt;         at java.lang.Class.newInstance(Unknown Source)\r\n&gt;         at sun.reflect.misc.ReflectUtil.newInstance(Unknown Source)\r\n&gt;         at javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1009)\r\n&gt;         ... 15 more\r\n&gt; Caused by: java.lang.NoSuchMethodException: java.util.List.&lt;init&gt;()\r\n&gt;         at java.lang.Class.getConstructor0(Unknown Source)\r\n&gt; ```\r\n\r\n## Incorrect Reference\r\n\r\nYou are referencing the list incorrectly. Because the list is from the controller, it should look like:\r\n\r\n```xml\r\n&lt;fx:reference source=&quot;controller.list&quot;/&gt;\r\n```\r\n\r\nBut it will still complain about that value not existing. The `FXMLLoader` does not do field access when trying to _get_ a value. It looks for an appropriate getter method instead. For instance, here we&#39;re telling the loader to get the `list` property of the controller instance, and so it looks for a `getList()` method in the controller class. So, that method needs to exist.\r\n\r\n\r\n```java\r\npublic List&lt;Label&gt; getList() {\r\n    return list;\r\n}\r\n```\r\n\r\n## Adding List to &quot;Read-Only List Property&quot;\r\n\r\n_**Warning:** This problem would seem to make your approach impractical, if not impossible._\r\n\r\nYou are trying to populate the `children` list of the `VBox`. That list is known as a [&quot;read-only list property&quot;][1]. Unfortunately, the linked documentation says nothing about being able to add a _collection_ to such properties (e.g., via `addAll`):\r\n\r\n&gt; A read-only list property is a Bean property whose getter returns an instance of `java.util.List` and has no corresponding setter method. The contents of a read-only list element are automatically added to the list as they are processed.\r\n&gt;\r\n&gt;For example, the &quot;children&quot; property of `javafx.scene.Group` is a read-only list property representing the group&#39;s child nodes:\r\n&gt;\r\n&gt; ```xml\r\n&gt; &lt;?import javafx.scene.*?&gt;\r\n&gt; &lt;?import javafx.scene.shape.*?&gt;\r\n&gt; &lt;Group xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\r\n&gt;     &lt;children&gt;\r\n&gt;         &lt;Rectangle fx:id=&quot;rectangle&quot; x=&quot;10&quot; y=&quot;10&quot; width=&quot;320&quot; height=&quot;240&quot;\r\n&gt;             fill=&quot;#ff0000&quot;/&gt;\r\n&gt;         ...\r\n&gt;     &lt;/children&gt;\r\n&gt; &lt;/Group&gt;\r\n&gt; ```\r\n&gt;\r\n&gt; As each sub-element of the `&lt;children&gt;` element is read, it is added to the list returned by `Group#getChildren()`.\r\n\r\nAnd trying it out, you get an error like the following:\r\n\r\n```none\r\nCaused by: java.lang.IllegalArgumentException: Unable to coerce [[Label@15af0be5[styleClass=label]&#39;Foo&#39;, Label@49a4edc6[styleClass=label]&#39;Bar&#39;]] to class javafx.scene.Node.\r\n        at javafx.fxml/com.sun.javafx.fxml.BeanAdapter.coerce(BeanAdapter.java:497)\r\n        at javafx.fxml/javafx.fxml.FXMLLoader$Element.add(FXMLLoader.java:174)\r\n        at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:801)\r\n        at javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2969)\r\n        at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2654)\r\n        ... 17 more\r\n```\r\n\r\n&lt;sup&gt;(i.e., it could not cast `List&lt;Node&gt;` to `Node`)&lt;/sup&gt;\r\n\r\n---\r\n\r\n# A Solution\r\n\r\nIf you want to keep the list of labels defined in your controller, then you can simply add those labels to the `VBox` in the `initialize` method.\r\n\r\n```java\r\npackage list;\r\n\r\nimport java.util.List;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class ListController {\r\n\r\n    private final List&lt;Label&gt; list = List.of(new Label(&quot;Foo&quot;), new Label(&quot;Bar&quot;));\r\n\r\n    @FXML\r\n    private VBox box;\r\n\r\n    @FXML\r\n    private void initialize() {\r\n        box.getChildren().addAll(list);\r\n    }\r\n}\r\n```\r\n\r\nThis of course requires adding an appropriate `fx:id` attribute in the FXML file.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;VBox fx:id=&quot;box&quot; xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; \r\n      fx:controller=&quot;list.ListController&quot;&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\nNote that `List::of` returns an unmodifiable list. Modifying this list would not make much sense anyway, at least not after adding the elements to the `VBox`&#39;s children list, as modifying it would _not_ implicitly modify the children list. If labels can be added and removed, then you&#39;ll have to make sure the two lists are in sync (as well as use a modifiable list). In that case, it may make more sense to use an `ObservableList&lt;Label&gt;` and [bind the children list&#39;s content][2], assuming the `VBox` only contains those labels.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#read_only_list_property_elements\r\n  [2]: https://openjfx.io/javadoc/20/javafx.base/javafx/beans/binding/Bindings.html#bindContent(java.util.List,javafx.collections.ObservableList)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html","title":"How to load array of Labels or other types into fxml scene?","body":"<h1>Problems</h1>\n<p>There are a few problems with this setup.</p>\n<h2>Interface as Element Type</h2>\n<p>You are telling the <code>FXMLLoader</code> to instantiate a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> <em>directly</em>. This is not possible, because that type is an interface and interfaces cannot be instantiated. You would have to use a concrete implementation, such as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>.</p>\n<p>This problem is where your current error is coming from:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.InstantiationException: java.util.List\n        at java.lang.Class.newInstance(Unknown Source)\n        at sun.reflect.misc.ReflectUtil.newInstance(Unknown Source)\n        at javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1009)\n        ... 15 more\nCaused by: java.lang.NoSuchMethodException: java.util.List.&lt;init&gt;()\n        at java.lang.Class.getConstructor0(Unknown Source)\n</code></pre>\n</blockquote>\n<h2>Incorrect Reference</h2>\n<p>You are referencing the list incorrectly. Because the list is from the controller, it should look like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;fx:reference source=&quot;controller.list&quot;/&gt;\n</code></pre>\n<p>But it will still complain about that value not existing. The <code>FXMLLoader</code> does not do field access when trying to <em>get</em> a value. It looks for an appropriate getter method instead. For instance, here we're telling the loader to get the <code>list</code> property of the controller instance, and so it looks for a <code>getList()</code> method in the controller class. So, that method needs to exist.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Label&gt; getList() {\n    return list;\n}\n</code></pre>\n<h2>Adding List to &quot;Read-Only List Property&quot;</h2>\n<p><em><strong>Warning:</strong> This problem would seem to make your approach impractical, if not impossible.</em></p>\n<p>You are trying to populate the <code>children</code> list of the <code>VBox</code>. That list is known as a <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#read_only_list_property_elements\" rel=\"nofollow noreferrer\">&quot;read-only list property&quot;</a>. Unfortunately, the linked documentation says nothing about being able to add a <em>collection</em> to such properties (e.g., via <code>addAll</code>):</p>\n<blockquote>\n<p>A read-only list property is a Bean property whose getter returns an instance of <code>java.util.List</code> and has no corresponding setter method. The contents of a read-only list element are automatically added to the list as they are processed.</p>\n<p>For example, the &quot;children&quot; property of <code>javafx.scene.Group</code> is a read-only list property representing the group's child nodes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.shape.*?&gt;\n&lt;Group xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\n    &lt;children&gt;\n        &lt;Rectangle fx:id=&quot;rectangle&quot; x=&quot;10&quot; y=&quot;10&quot; width=&quot;320&quot; height=&quot;240&quot;\n            fill=&quot;#ff0000&quot;/&gt;\n        ...\n    &lt;/children&gt;\n&lt;/Group&gt;\n</code></pre>\n<p>As each sub-element of the <code>&lt;children&gt;</code> element is read, it is added to the list returned by <code>Group#getChildren()</code>.</p>\n</blockquote>\n<p>And trying it out, you get an error like the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.IllegalArgumentException: Unable to coerce [[Label@15af0be5[styleClass=label]'Foo', Label@49a4edc6[styleClass=label]'Bar']] to class javafx.scene.Node.\n        at javafx.fxml/com.sun.javafx.fxml.BeanAdapter.coerce(BeanAdapter.java:497)\n        at javafx.fxml/javafx.fxml.FXMLLoader$Element.add(FXMLLoader.java:174)\n        at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:801)\n        at javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2969)\n        at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2654)\n        ... 17 more\n</code></pre>\n<p><sup>(i.e., it could not cast <code>List&lt;Node&gt;</code> to <code>Node</code>)</sup></p>\n<hr />\n<h1>A Solution</h1>\n<p>If you want to keep the list of labels defined in your controller, then you can simply add those labels to the <code>VBox</code> in the <code>initialize</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package list;\n\nimport java.util.List;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\n\npublic class ListController {\n\n    private final List&lt;Label&gt; list = List.of(new Label(&quot;Foo&quot;), new Label(&quot;Bar&quot;));\n\n    @FXML\n    private VBox box;\n\n    @FXML\n    private void initialize() {\n        box.getChildren().addAll(list);\n    }\n}\n</code></pre>\n<p>This of course requires adding an appropriate <code>fx:id</code> attribute in the FXML file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox fx:id=&quot;box&quot; xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; \n      fx:controller=&quot;list.ListController&quot;&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>Note that <code>List::of</code> returns an unmodifiable list. Modifying this list would not make much sense anyway, at least not after adding the elements to the <code>VBox</code>'s children list, as modifying it would <em>not</em> implicitly modify the children list. If labels can be added and removed, then you'll have to make sure the two lists are in sync (as well as use a modifiable list). In that case, it may make more sense to use an <code>ObservableList&lt;Label&gt;</code> and <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/beans/binding/Bindings.html#bindContent(java.util.List,javafx.collections.ObservableList)\" rel=\"nofollow noreferrer\">bind the children list's content</a>, assuming the <code>VBox</code> only contains those labels.</p>\n"}],"owner":{"account_id":29331083,"reputation":1,"user_id":22472526,"display_name":"Xsator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693423324,"creation_date":1693411205,"question_id":77009701,"body_markdown":"i&#39;m writing simple VBox with complited array of Labels, but i don&#39;t understand how to add that array.\r\nList.fxml\r\n\r\n```\r\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;list.ListController&quot;&gt;\r\n\t&lt;List&gt;\r\n\t\t&lt;fx:reference source=&quot;list&quot;/&gt;\r\n\t&lt;/List&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\nListController.java\r\n\r\n```\r\n//It&#39;s a test code...\r\npackage list;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport javafx.scene.control.Label;\r\n\r\npublic class ListController {\r\n\tpublic List&lt;Label&gt; list = new ArrayList&lt;Label&gt;(Arrays.asList(new Label(&quot;Test&quot;), new Label(&quot;Test2&quot;)));\r\n\t\r\n}\r\n```\r\n\r\n\r\nCompiler err:\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\r\n\tat java.lang.Thread.run(Unknown Source)\r\nCaused by: javafx.fxml.LoadException: \r\n/C:/Users/giglo/eclipse-workspace/YourList/bin/List.fxml:10\r\n\r\n\tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2601)\r\n\tat javafx.fxml.FXMLLoader.access$700(FXMLLoader.java:103)\r\n\tat javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1011)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:746)\r\n\tat javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2707)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2527)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\r\n\tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\r\n\tat list.Input.start(Input.java:25)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:185)\r\n\t... 1 more\r\nCaused by: java.lang.InstantiationException: java.util.List\r\n\tat java.lang.Class.newInstance(Unknown Source)\r\n\tat sun.reflect.misc.ReflectUtil.newInstance(Unknown Source)\r\n\tat javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1009)\r\n\t... 15 more\r\nCaused by: java.lang.NoSuchMethodException: java.util.List.&lt;init&gt;()\r\n\tat java.lang.Class.getConstructor0(Unknown Source)\r\n\t... 18 more\r\nException running application list.Input\r\n```\r\n\r\n\r\n\r\nThat code is best of more versions becouse i spent a lot of time searching for fx:... and variable classes.\r\nBut his don&#39;t work.\r\nI understand that javafx itself will not figure out what to do with my List&lt;Label&gt;, but I do not know how to tell it what to do with my List.","title":"How to load array of Labels or other types into fxml scene?","body":"<p>i'm writing simple VBox with complited array of Labels, but i don't understand how to add that array.\nList.fxml</p>\n<pre><code>&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot; fx:controller=&quot;list.ListController&quot;&gt;\n    &lt;List&gt;\n        &lt;fx:reference source=&quot;list&quot;/&gt;\n    &lt;/List&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>ListController.java</p>\n<pre><code>//It's a test code...\npackage list;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javafx.scene.control.Label;\n\npublic class ListController {\n    public List&lt;Label&gt; list = new ArrayList&lt;Label&gt;(Arrays.asList(new Label(&quot;Test&quot;), new Label(&quot;Test2&quot;)));\n    \n}\n</code></pre>\n<p>Compiler err:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: javafx.fxml.LoadException: \n/C:/Users/giglo/eclipse-workspace/YourList/bin/List.fxml:10\n\n    at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2601)\n    at javafx.fxml.FXMLLoader.access$700(FXMLLoader.java:103)\n    at javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1011)\n    at javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:746)\n    at javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2707)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2527)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\n    at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\n    at list.Input.start(Input.java:25)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:185)\n    ... 1 more\nCaused by: java.lang.InstantiationException: java.util.List\n    at java.lang.Class.newInstance(Unknown Source)\n    at sun.reflect.misc.ReflectUtil.newInstance(Unknown Source)\n    at javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1009)\n    ... 15 more\nCaused by: java.lang.NoSuchMethodException: java.util.List.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Unknown Source)\n    ... 18 more\nException running application list.Input\n</code></pre>\n<p>That code is best of more versions becouse i spent a lot of time searching for fx:... and variable classes.\nBut his don't work.\nI understand that javafx itself will not figure out what to do with my List, but I do not know how to tell it what to do with my List.</p>\n"},{"tags":["java","credentials","samba","smb"],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688161001,"creation_date":1688159293,"answer_id":76592218,"question_id":76591972,"body_markdown":"this is how i did it, maybe it will help you:\r\n\r\n    public static String writeFiletoSAMBAShareIMPORT(StringWriter xmlString, String xmlFileName) {\r\n            try {\r\n                BaseContext baseCxt = null;\r\n                Properties jcifsProperties = new Properties();\r\n                jcifsProperties.setProperty(&quot;jcifs.smb.client.enableSMB2&quot;, &quot;true&quot;);\r\n                jcifsProperties.setProperty(&quot;jcifs.smb.client.dfs.disabled&quot;, &quot;true&quot;);\r\n                Configuration config = new PropertyConfiguration(jcifsProperties);\r\n                baseCxt = new BaseContext(config);\r\n                CIFSContext auth = baseCxt.withCredentials(new NtlmPasswordAuthenticator(&quot;192.168.10.10&quot;, &quot;DOMAIN\\\\USER&quot;, &quot;PASSWORT&quot;));\r\n                SmbFile smbRemoteFile = new SmbFile(&quot;smb://192.168.10/XMLImport/&quot; + xmlFileName + &quot;&quot;, auth);\r\n                SmbFileOutputStream sfos = new SmbFileOutputStream(smbRemoteFile);\r\n                sfos.write(xmlString.toString().getBytes());\r\n                sfos.close();\r\n                auth.close();\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n                return e.getMessage();\r\n            }\r\n            return &quot;true&quot;;\r\n        }\r\n\r\n\r\ni use this Library **jcifs-ng-2.1.8.jar**\r\n\r\nand i import:\r\n\r\n    import jcifs.CIFSContext;\r\n    import jcifs.Configuration;\r\n    import jcifs.config.PropertyConfiguration;\r\n    import jcifs.context.BaseContext;\r\n    import jcifs.smb.NtlmPasswordAuthenticator;\r\n    import jcifs.smb.SmbFile;\r\n    import jcifs.smb.SmbFileOutputStream;\r\n\r\n\r\nif you have a windows Domain you must Sahre the Folder and give the user Domain/User Permissions to read/write to the Share!","title":"jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password [Samba]","body":"<p>this is how i did it, maybe it will help you:</p>\n<pre><code>public static String writeFiletoSAMBAShareIMPORT(StringWriter xmlString, String xmlFileName) {\n        try {\n            BaseContext baseCxt = null;\n            Properties jcifsProperties = new Properties();\n            jcifsProperties.setProperty(&quot;jcifs.smb.client.enableSMB2&quot;, &quot;true&quot;);\n            jcifsProperties.setProperty(&quot;jcifs.smb.client.dfs.disabled&quot;, &quot;true&quot;);\n            Configuration config = new PropertyConfiguration(jcifsProperties);\n            baseCxt = new BaseContext(config);\n            CIFSContext auth = baseCxt.withCredentials(new NtlmPasswordAuthenticator(&quot;192.168.10.10&quot;, &quot;DOMAIN\\\\USER&quot;, &quot;PASSWORT&quot;));\n            SmbFile smbRemoteFile = new SmbFile(&quot;smb://192.168.10/XMLImport/&quot; + xmlFileName + &quot;&quot;, auth);\n            SmbFileOutputStream sfos = new SmbFileOutputStream(smbRemoteFile);\n            sfos.write(xmlString.toString().getBytes());\n            sfos.close();\n            auth.close();\n\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            return e.getMessage();\n        }\n        return &quot;true&quot;;\n    }\n</code></pre>\n<p>i use this Library <strong>jcifs-ng-2.1.8.jar</strong></p>\n<p>and i import:</p>\n<pre><code>import jcifs.CIFSContext;\nimport jcifs.Configuration;\nimport jcifs.config.PropertyConfiguration;\nimport jcifs.context.BaseContext;\nimport jcifs.smb.NtlmPasswordAuthenticator;\nimport jcifs.smb.SmbFile;\nimport jcifs.smb.SmbFileOutputStream;\n</code></pre>\n<p>if you have a windows Domain you must Sahre the Folder and give the user Domain/User Permissions to read/write to the Share!</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693423096,"creation_date":1688155783,"question_id":76591972,"body_markdown":"I try to save file on a Samba server but get the error:\r\n\r\n    jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\r\n    \tat jcifs.smb.SmbTransportImpl.checkStatus2(SmbTransportImpl.java:1464)\r\n    \tat jcifs.smb.SmbTransportImpl.checkStatus(SmbTransportImpl.java:1607)\r\n    \tat jcifs.smb.SmbTransportImpl.sendrecv(SmbTransportImpl.java:1014)\r\n    \tat jcifs.smb.SmbTransportImpl.send(SmbTransportImpl.java:1578)\r\n    \tat jcifs.smb.SmbSessionImpl.sessionSetupSMB2(SmbSessionImpl.java:557)\r\n    \tat jcifs.smb.SmbSessionImpl.sessionSetup(SmbSessionImpl.java:491)\r\n    \tat jcifs.smb.SmbSessionImpl.send(SmbSessionImpl.java:369)\r\n    \tat jcifs.smb.SmbSessionImpl.send(SmbSessionImpl.java:347)\r\n    \tat jcifs.smb.SmbTreeImpl.treeConnect(SmbTreeImpl.java:611)\r\n    \tat jcifs.smb.SmbTreeConnection.connectTree(SmbTreeConnection.java:614)\r\n    \tat jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:568)\r\n    \tat jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:489)\r\n    \tat jcifs.smb.SmbTreeConnection.connect(SmbTreeConnection.java:465)\r\n    \tat jcifs.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:426)\r\n    \tat jcifs.smb.SmbFile.ensureTreeConnected(SmbFile.java:573)\r\n    \tat jcifs.smb.SmbFileOutputStream.&lt;init&gt;(SmbFileOutputStream.java:112)\r\n    \tat jcifs.smb.SmbFileOutputStream.&lt;init&gt;(SmbFileOutputStream.java:95)\r\n    \tat jcifs.smb.SmbFileOutputStream.&lt;init&gt;(SmbFileOutputStream.java:76)\r\n    \tat com.example.test_jcif.TestJcifApplication.test(TestJcifApplication.java:88)\r\n    \tat com.example.test_jcif.TestJcifApplication.main(TestJcifApplication.java:26)\r\n    \r\n    Process finished with exit code 0\r\n\r\n**Steps to reproduce:**\r\n\r\n1. run docker-compose file:\r\n```\r\n    services:\r\n      samba:\r\n        image: instantlinux/samba-dc:latest\r\n        container_name: samba-dc\r\n        cap_add:\r\n          - CAP_SYS_ADMIN\r\n        hostname: my.company\r\n        environment:\r\n          DOMAIN_ACTION: provision\r\n          REALM: my.company\r\n        volumes:\r\n          - etc:/etc/samba\r\n          - lib:/var/lib/samba\r\n        ports:\r\n          - &quot;53:53&quot;\r\n          - &quot;53:53/udp&quot;\r\n          - &quot;88:88&quot;\r\n          - &quot;88:88/udp&quot;\r\n          - &quot;389:389&quot;\r\n          - &quot;139:139&quot;\r\n          - &quot;446:445&quot;\r\n        secrets:\r\n          - samba-admin-password\r\n```\r\n2. Go to container terminal and execute command:\r\n\r\n        samba-tool user setpassword Administrator --newpassword=myPassword\r\n\r\n3. Add dependency\r\n              \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codelibs&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jcifs&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.35&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n5. Run code:\r\n\r\n        String user=&quot;Administrator&quot;;\r\n        String pass=&quot;myPassword&quot;;\r\n        String path=&quot;smb://localhost/outputdir/outputfile.txt&quot;;\r\n        InputStream winfis = new ByteArrayInputStream(&quot;qwerty&quot;.getBytes());\r\n        try {\r\n            SingletonContext baseContext = SingletonContext.getInstance();\r\n            Credentials credentials=new NtlmPasswordAuthenticator(null, user, pass);\r\n            CIFSContext testCtx = baseContext.withCredentials(credentials);\r\n            try {\r\n                SmbFile smbFile = new SmbFile(path, testCtx);\r\n                SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\r\n                try {\r\n                    IOUtils.copy(winfis, smbfos);\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        smbfos.close();\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            } catch (MalformedURLException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        } catch (CIFSException ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            try {\r\n                winfis.close();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAs soon as I run the code you receive the error above\r\n\r\n\r\n**Update**: my codebase after Sametcey advice:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        writeFiletoSAMBAShareIMPORT(new StringWriter(12), &quot;qwerty&quot;);\r\n    }\r\n\r\n    public static String writeFiletoSAMBAShareIMPORT(StringWriter xmlString, String xmlFileName) {\r\n        try {\r\n            BaseContext baseCxt = null;\r\n            Properties jcifsProperties = new Properties();\r\n            jcifsProperties.setProperty(&quot;jcifs.smb.client.enableSMB2&quot;, &quot;true&quot;);\r\n            jcifsProperties.setProperty(&quot;jcifs.smb.client.dfs.disabled&quot;, &quot;true&quot;);\r\n            Configuration config = new PropertyConfiguration(jcifsProperties);\r\n            baseCxt = new BaseContext(config);\r\n            CIFSContext auth = baseCxt.withCredentials(new NtlmPasswordAuthenticator(&quot;localhost&quot;, &quot;my.company\\\\Administrator&quot;, &quot;myPassword&quot;));\r\n            SmbFile smbRemoteFile = new SmbFile(&quot;smb://localhost/XMLImport/&quot; + xmlFileName + &quot;&quot;, auth);\r\n            SmbFileOutputStream sfos = new SmbFileOutputStream(smbRemoteFile);\r\n            sfos.write(xmlString.toString().getBytes());\r\n            sfos.close();\r\n            auth.close();\r\n    \r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n            return e.getMessage();\r\n        }\r\n        return &quot;true&quot;;\r\n    }\r\n\r\n\r\nI get this error:\r\n\r\n&gt; Logon failure: unknown user name or bad password.","title":"jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password [Samba]","body":"<p>I try to save file on a Samba server but get the error:</p>\n<pre><code>jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\n    at jcifs.smb.SmbTransportImpl.checkStatus2(SmbTransportImpl.java:1464)\n    at jcifs.smb.SmbTransportImpl.checkStatus(SmbTransportImpl.java:1607)\n    at jcifs.smb.SmbTransportImpl.sendrecv(SmbTransportImpl.java:1014)\n    at jcifs.smb.SmbTransportImpl.send(SmbTransportImpl.java:1578)\n    at jcifs.smb.SmbSessionImpl.sessionSetupSMB2(SmbSessionImpl.java:557)\n    at jcifs.smb.SmbSessionImpl.sessionSetup(SmbSessionImpl.java:491)\n    at jcifs.smb.SmbSessionImpl.send(SmbSessionImpl.java:369)\n    at jcifs.smb.SmbSessionImpl.send(SmbSessionImpl.java:347)\n    at jcifs.smb.SmbTreeImpl.treeConnect(SmbTreeImpl.java:611)\n    at jcifs.smb.SmbTreeConnection.connectTree(SmbTreeConnection.java:614)\n    at jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:568)\n    at jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:489)\n    at jcifs.smb.SmbTreeConnection.connect(SmbTreeConnection.java:465)\n    at jcifs.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:426)\n    at jcifs.smb.SmbFile.ensureTreeConnected(SmbFile.java:573)\n    at jcifs.smb.SmbFileOutputStream.&lt;init&gt;(SmbFileOutputStream.java:112)\n    at jcifs.smb.SmbFileOutputStream.&lt;init&gt;(SmbFileOutputStream.java:95)\n    at jcifs.smb.SmbFileOutputStream.&lt;init&gt;(SmbFileOutputStream.java:76)\n    at com.example.test_jcif.TestJcifApplication.test(TestJcifApplication.java:88)\n    at com.example.test_jcif.TestJcifApplication.main(TestJcifApplication.java:26)\n\nProcess finished with exit code 0\n</code></pre>\n<p><strong>Steps to reproduce:</strong></p>\n<ol>\n<li>run docker-compose file:</li>\n</ol>\n<pre><code>    services:\n      samba:\n        image: instantlinux/samba-dc:latest\n        container_name: samba-dc\n        cap_add:\n          - CAP_SYS_ADMIN\n        hostname: my.company\n        environment:\n          DOMAIN_ACTION: provision\n          REALM: my.company\n        volumes:\n          - etc:/etc/samba\n          - lib:/var/lib/samba\n        ports:\n          - &quot;53:53&quot;\n          - &quot;53:53/udp&quot;\n          - &quot;88:88&quot;\n          - &quot;88:88/udp&quot;\n          - &quot;389:389&quot;\n          - &quot;139:139&quot;\n          - &quot;446:445&quot;\n        secrets:\n          - samba-admin-password\n</code></pre>\n<ol start=\"2\">\n<li><p>Go to container terminal and execute command:</p>\n<pre><code> samba-tool user setpassword Administrator --newpassword=myPassword\n</code></pre>\n</li>\n<li><p>Add dependency</p>\n   \n       org.codelibs\n       jcifs\n       2.1.35\n   \n</li>\n<li><p>Run code:</p>\n<pre><code> String user=&quot;Administrator&quot;;\n String pass=&quot;myPassword&quot;;\n String path=&quot;smb://localhost/outputdir/outputfile.txt&quot;;\n InputStream winfis = new ByteArrayInputStream(&quot;qwerty&quot;.getBytes());\n try {\n     SingletonContext baseContext = SingletonContext.getInstance();\n     Credentials credentials=new NtlmPasswordAuthenticator(null, user, pass);\n     CIFSContext testCtx = baseContext.withCredentials(credentials);\n     try {\n         SmbFile smbFile = new SmbFile(path, testCtx);\n         SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\n         try {\n             IOUtils.copy(winfis, smbfos);\n         } catch (IOException ex) {\n             ex.printStackTrace();\n         } finally {\n             try {\n                 smbfos.close();\n             } catch (IOException ex) {\n                 ex.printStackTrace();\n             }\n         }\n     } catch (MalformedURLException ex) {\n         ex.printStackTrace();\n     }\n } catch (CIFSException ex) {\n     ex.printStackTrace();\n } finally {\n     try {\n         winfis.close();\n     } catch (IOException ex) {\n         ex.printStackTrace();\n     }\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>As soon as I run the code you receive the error above</p>\n<p><strong>Update</strong>: my codebase after Sametcey advice:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    writeFiletoSAMBAShareIMPORT(new StringWriter(12), &quot;qwerty&quot;);\n}\n\npublic static String writeFiletoSAMBAShareIMPORT(StringWriter xmlString, String xmlFileName) {\n    try {\n        BaseContext baseCxt = null;\n        Properties jcifsProperties = new Properties();\n        jcifsProperties.setProperty(&quot;jcifs.smb.client.enableSMB2&quot;, &quot;true&quot;);\n        jcifsProperties.setProperty(&quot;jcifs.smb.client.dfs.disabled&quot;, &quot;true&quot;);\n        Configuration config = new PropertyConfiguration(jcifsProperties);\n        baseCxt = new BaseContext(config);\n        CIFSContext auth = baseCxt.withCredentials(new NtlmPasswordAuthenticator(&quot;localhost&quot;, &quot;my.company\\\\Administrator&quot;, &quot;myPassword&quot;));\n        SmbFile smbRemoteFile = new SmbFile(&quot;smb://localhost/XMLImport/&quot; + xmlFileName + &quot;&quot;, auth);\n        SmbFileOutputStream sfos = new SmbFileOutputStream(smbRemoteFile);\n        sfos.write(xmlString.toString().getBytes());\n        sfos.close();\n        auth.close();\n\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        return e.getMessage();\n    }\n    return &quot;true&quot;;\n}\n</code></pre>\n<p>I get this error:</p>\n<blockquote>\n<p>Logon failure: unknown user name or bad password.</p>\n</blockquote>\n"},{"tags":["java","exception","smtp","ioexception"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646756779,"creation_date":1646756779,"answer_id":71398316,"question_id":71398103,"body_markdown":"Sure. Exceptions just are, and can wrap anything; you don&#39;t need to write them as specifically wrapping only IOException or MessageExceptions.\r\n\r\n```java\r\npublic class MyCustomException extends Exception {\r\n  public MyCustomException(String msg) {\r\n    super(msg);\r\n  }\r\n\r\n  public MyCustomException(String msg, Throwable cause) {\r\n    super(msg, cause);\r\n  }\r\n}\r\n```\r\n\r\nThe above is what __all__ custom exceptions look like (where relevant they might have a few more fields that register specific info for a specific failure, e.g. SQLException has methods to ask for the DB &#39;error code&#39;), but they all at least have the above.\r\n\r\nThen, to wrap:\r\n\r\n```java\r\npublic void myMethod() throws MyException {\r\n  try {\r\n    stuffThatThrowsIOEx();\r\n    stuffThatThrowsMessageEx();\r\n  } catch (MessageException | IOException e) {\r\n    throw new MyException(&quot;Cannot send foo&quot;, e);\r\n  }\r\n}\r\n```\r\n\r\nNB: The string you pass to your `MyException` should be short, should not use either caps or exclamation points, or for that matter any other punctuation at the end of it. In addition, include actual relevant content there too: For example, the user you tried to send a message for (the point is, whatever you include there as a string constant needs to be simple, short, and not end in punctuation).","title":"How to write custom excetion for Mutilple exceptions in java?","body":"<p>Sure. Exceptions just are, and can wrap anything; you don't need to write them as specifically wrapping only IOException or MessageExceptions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomException extends Exception {\n  public MyCustomException(String msg) {\n    super(msg);\n  }\n\n  public MyCustomException(String msg, Throwable cause) {\n    super(msg, cause);\n  }\n}\n</code></pre>\n<p>The above is what <strong>all</strong> custom exceptions look like (where relevant they might have a few more fields that register specific info for a specific failure, e.g. SQLException has methods to ask for the DB 'error code'), but they all at least have the above.</p>\n<p>Then, to wrap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myMethod() throws MyException {\n  try {\n    stuffThatThrowsIOEx();\n    stuffThatThrowsMessageEx();\n  } catch (MessageException | IOException e) {\n    throw new MyException(&quot;Cannot send foo&quot;, e);\n  }\n}\n</code></pre>\n<p>NB: The string you pass to your <code>MyException</code> should be short, should not use either caps or exclamation points, or for that matter any other punctuation at the end of it. In addition, include actual relevant content there too: For example, the user you tried to send a message for (the point is, whatever you include there as a string constant needs to be simple, short, and not end in punctuation).</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693422940,"creation_date":1646757373,"answer_id":71398446,"question_id":71398103,"body_markdown":"Consider to create a root Exception container as:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class GeneralExceptionContainer extends RuntimeException{\r\n        private Integer exceptionCode;\r\n        private String message;\r\n\r\n        public GeneralExceptionContainer(String argMessage, Integer exceptionCode) {\r\n            super(argMessage);\r\n            this.exceptionCode = exceptionCode;\r\n            this.message = argMessage;\r\n        }\r\n\r\n        public GeneralExceptionContainer(Throwable cause, Integer exceptionCode, String argMessage) {\r\n            super(argMessage, cause);\r\n            this.exceptionCode = exceptionCode;\r\n            this.message = argMessage;\r\n        }\r\n    }\r\n\r\nWith some enumeration or serialization requirement you can add `exceptionCode` as well:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public enum ExceptionCode {\r\n        SECTION_LOCKED(-0),\r\n        MAPPING_EXCEPTION(-110)\r\n\r\n        private final int value;\r\n\r\n        public int getValue() {\r\n            return this.value;\r\n        }\r\n\r\n        ExceptionCode(int value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public static ExceptionCode findByName(String name) {\r\n            for (ExceptionCode v : values()) {\r\n                if (v.name().equals(name)) {\r\n                    return v;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\nThen extend your `customException` from root GeneralException container:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class CustomException extends GeneralExceptionContainer {\r\n        public MappingException(ExceptionCode exceptionCode) {\r\n            super(exceptionCode.name(), exceptionCode.getValue());\r\n        }\r\n    }\r\n\r\n\r\n ","title":"How to write custom excetion for Mutilple exceptions in java?","body":"<p>Consider to create a root Exception container as:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class GeneralExceptionContainer extends RuntimeException{\n    private Integer exceptionCode;\n    private String message;\n\n    public GeneralExceptionContainer(String argMessage, Integer exceptionCode) {\n        super(argMessage);\n        this.exceptionCode = exceptionCode;\n        this.message = argMessage;\n    }\n\n    public GeneralExceptionContainer(Throwable cause, Integer exceptionCode, String argMessage) {\n        super(argMessage, cause);\n        this.exceptionCode = exceptionCode;\n        this.message = argMessage;\n    }\n}\n</code></pre>\n<p>With some enumeration or serialization requirement you can add <code>exceptionCode</code> as well:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public enum ExceptionCode {\n    SECTION_LOCKED(-0),\n    MAPPING_EXCEPTION(-110)\n\n    private final int value;\n\n    public int getValue() {\n        return this.value;\n    }\n\n    ExceptionCode(int value) {\n        this.value = value;\n    }\n\n    public static ExceptionCode findByName(String name) {\n        for (ExceptionCode v : values()) {\n            if (v.name().equals(name)) {\n                return v;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Then extend your <code>customException</code> from root GeneralException container:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class CustomException extends GeneralExceptionContainer {\n    public MappingException(ExceptionCode exceptionCode) {\n        super(exceptionCode.name(), exceptionCode.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":364230,"reputation":2747,"user_id":708502,"accept_rate":38,"display_name":"shree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71398316,"answer_count":2,"score":0,"last_activity_date":1693422940,"creation_date":1646755929,"question_id":71398103,"body_markdown":"I am using smtp api which throws MessageException and IOException\r\n\r\nBut in our application, we need to have wrapper exception for both.\r\n\r\n\r\nIs it possible to write wrapper exception for this? like custom exception?","title":"How to write custom excetion for Mutilple exceptions in java?","body":"<p>I am using smtp api which throws MessageException and IOException</p>\n<p>But in our application, we need to have wrapper exception for both.</p>\n<p>Is it possible to write wrapper exception for this? like custom exception?</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693422887,"creation_date":1693422887,"answer_id":77010934,"question_id":77005546,"body_markdown":"This query works:\r\n\r\n    @Override\r\n    public Test customQuery3(Long id) {\r\n        return (Test) entityManager.createQuery(\r\n                        &quot;SELECT NEW com.view.Test(a.id, b) FROM Author a &quot; +\r\n                                &quot;LEFT JOIN Book b ON b.author.id=a.id &quot; +\r\n                                &quot;WHERE b.id=:id &quot; +\r\n                                &quot;GROUP BY a, b ORDER BY b.newestBook DESC LIMIT 1&quot;)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .getSingleResult();\r\n    }\r\n\r\nThe ordering on `b.newestBook` puts the newest at the top and the `.getSingleResult()` and `LIMIT 1` both ensure that only 1 result is returned.","title":"Hibernate 6 Left Join Newest member of collection","body":"<p>This query works:</p>\n<pre><code>@Override\npublic Test customQuery3(Long id) {\n    return (Test) entityManager.createQuery(\n                    &quot;SELECT NEW com.view.Test(a.id, b) FROM Author a &quot; +\n                            &quot;LEFT JOIN Book b ON b.author.id=a.id &quot; +\n                            &quot;WHERE b.id=:id &quot; +\n                            &quot;GROUP BY a, b ORDER BY b.newestBook DESC LIMIT 1&quot;)\n            .setParameter(&quot;id&quot;, id)\n            .getSingleResult();\n}\n</code></pre>\n<p>The ordering on <code>b.newestBook</code> puts the newest at the top and the <code>.getSingleResult()</code> and <code>LIMIT 1</code> both ensure that only 1 result is returned.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77010934,"answer_count":1,"score":2,"last_activity_date":1693422887,"creation_date":1693378149,"question_id":77005546,"body_markdown":"In Hibernate 6.2 I would like to get a `Author` entity with the newest `Book` if there is a matching book, and into a Dto projection - `AuthorBookDto` :\r\n\r\n**Author**\r\n\r\n    public class Author {\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;author_seq&quot;)\r\n    private Long id;\r\n\r\n    @JsonBackReference\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;author&quot;)\r\n    private List&lt;Book&gt; listBook = new ArrayList&lt;&gt;();\r\n    \r\n    // other fields\r\n    // getters and setters\r\n\r\n\r\n**Book**\r\n\r\n    public class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;book_seq&quot;)\r\n    private Long id;\r\n\r\n    @JsonManagedReference\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    private Author author;    \r\n    \r\n    private LocalDateTime publishedDateTime;\r\n\r\nAnd the Dto that I want to project into contains some fields from `Author` and the newest `Book` from the Book collection:\r\n\r\n**AuthorBookDto**\r\n\r\n    public class AuthorBookDto {\r\n\r\n    // Selected fields from Author plus a book entity (the newest one)\r\n    public Long authorId;\r\n    public Long bookId;\r\n    public Book newestBook;\r\n\r\nI wrote a query which got as far as selecting a `Author` and can retrieve indvidual fields from `Book` but not a whole book entity (the query below does not project correctly to the above entity):\r\n\r\n        public Test customQuery3(Long id) {\r\n        return (Test) entityManager.createQuery(\r\n                        &quot;SELECT NEW com.view.Test(a.id, a.name, y.pub_max_date) FROM Author a &quot; +\r\n                                &quot;LEFT JOIN(SELECT book.id as book_id, MAX(book.pubDateTime) as pub_max_date, book.author.id as bid FROM Book b WHERE book.author.id=:id) as y &quot; +\r\n                                &quot;ON a.id=y.bid &quot; +\r\n                                &quot;WHERE a.id=:id GROUP BY a.id, y.book_id ORDER BY y.pub_max_date DESC LIMIT 1&quot;)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .getSingleResult();\r\n\r\nThe result should look like:\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Steven King&quot;,\r\n            Book {&quot;id&quot;: &quot;1&quot;,\r\n                  &quot;title&quot;:&quot;The Shining&quot;,\r\n                  &quot;publishedDateTime&quot;:&quot;2023-01-01 13:00&quot;\r\n                  }\r\n     }\r\n\r\nIs this possible in one HQL query? \r\n(Note: Some authors may not have published any books) ","title":"Hibernate 6 Left Join Newest member of collection","body":"<p>In Hibernate 6.2 I would like to get a <code>Author</code> entity with the newest <code>Book</code> if there is a matching book, and into a Dto projection - <code>AuthorBookDto</code> :</p>\n<p><strong>Author</strong></p>\n<pre><code>public class Author {\n@Id\n@GeneratedValue(strategy = SEQUENCE, generator = &quot;author_seq&quot;)\nprivate Long id;\n\n@JsonBackReference\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;author&quot;)\nprivate List&lt;Book&gt; listBook = new ArrayList&lt;&gt;();\n\n// other fields\n// getters and setters\n</code></pre>\n<p><strong>Book</strong></p>\n<pre><code>public class Book {\n\n@Id\n@GeneratedValue(strategy = SEQUENCE, generator = &quot;book_seq&quot;)\nprivate Long id;\n\n@JsonManagedReference\n@ManyToOne(fetch = FetchType.EAGER, optional = false)\nprivate Author author;    \n\nprivate LocalDateTime publishedDateTime;\n</code></pre>\n<p>And the Dto that I want to project into contains some fields from <code>Author</code> and the newest <code>Book</code> from the Book collection:</p>\n<p><strong>AuthorBookDto</strong></p>\n<pre><code>public class AuthorBookDto {\n\n// Selected fields from Author plus a book entity (the newest one)\npublic Long authorId;\npublic Long bookId;\npublic Book newestBook;\n</code></pre>\n<p>I wrote a query which got as far as selecting a <code>Author</code> and can retrieve indvidual fields from <code>Book</code> but not a whole book entity (the query below does not project correctly to the above entity):</p>\n<pre><code>    public Test customQuery3(Long id) {\n    return (Test) entityManager.createQuery(\n                    &quot;SELECT NEW com.view.Test(a.id, a.name, y.pub_max_date) FROM Author a &quot; +\n                            &quot;LEFT JOIN(SELECT book.id as book_id, MAX(book.pubDateTime) as pub_max_date, book.author.id as bid FROM Book b WHERE book.author.id=:id) as y &quot; +\n                            &quot;ON a.id=y.bid &quot; +\n                            &quot;WHERE a.id=:id GROUP BY a.id, y.book_id ORDER BY y.pub_max_date DESC LIMIT 1&quot;)\n            .setParameter(&quot;id&quot;, id)\n            .getSingleResult();\n</code></pre>\n<p>The result should look like:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Steven King&quot;,\n        Book {&quot;id&quot;: &quot;1&quot;,\n              &quot;title&quot;:&quot;The Shining&quot;,\n              &quot;publishedDateTime&quot;:&quot;2023-01-01 13:00&quot;\n              }\n }\n</code></pre>\n<p>Is this possible in one HQL query?\n(Note: Some authors may not have published any books)</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":198700,"reputation":13100,"user_id":443523,"accept_rate":92,"display_name":"Mark Baijens"},"score":0,"creation_date":1686901728,"post_id":76487938,"comment_id":134864750,"body_markdown":"According to the documentation it seems you can use [`at()`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#at(java.lang.String));","body":"According to the documentation it seems you can use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#at(java.lang.String)\" rel=\"nofollow noreferrer\"><code>at()</code></a>;"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686903793,"post_id":76487938,"comment_id":134865156,"body_markdown":"Does this answer your question? [How to modify JsonNode in Java?](https://stackoverflow.com/questions/30997362/how-to-modify-jsonnode-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30997362/how-to-modify-jsonnode-in-java\">How to modify JsonNode in Java?</a>"},{"owner":{"account_id":5382167,"reputation":334,"user_id":4287120,"display_name":"Julian"},"score":0,"creation_date":1686913243,"post_id":76487938,"comment_id":134867165,"body_markdown":"I do not understand how at(...) could help me","body":"I do not understand how at(...) could help me"}],"answers":[{"tags":[],"owner":{"account_id":5382167,"reputation":334,"user_id":4287120,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687855310,"creation_date":1687854907,"answer_id":76563060,"question_id":76487938,"body_markdown":"Ah ok now I understand how to do it with\r\n\r\n    jsonNode.at(&quot;/deep/path&quot;);\r\n\r\nThis function returns a JsonNode and you could manipulate it when you cast it to an ObjectNode. If you do that the whole tree get this update.\r\n\r\nSo my code looks like:\r\n\r\n```\r\nJsonNode jsonNode = new ObjectMapper().valueToTree(myMap);\r\nJsonNode nodeToSetValue = jsonNode.at(&quot;/deep/path&quot;);\r\nString oldValue = ((ObjectNode) nodeToSetValue).get(&quot;finalKey&quot;).asText();\r\nString newValue = changeValue(oldValue);\r\n((ObjectNode) nodeToSetValue).put(&quot;finalKey&quot;, newValue);\r\nmyMap = new ObjectMapper().convertValue(jsonNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){}));","title":"Is there a way to put a value to Jackson JsonNode like you get it with jsonNode.at(&quot;/deep/path/to/var&quot;)?","body":"<p>Ah ok now I understand how to do it with</p>\n<pre><code>jsonNode.at(&quot;/deep/path&quot;);\n</code></pre>\n<p>This function returns a JsonNode and you could manipulate it when you cast it to an ObjectNode. If you do that the whole tree get this update.</p>\n<p>So my code looks like:</p>\n<pre><code>JsonNode jsonNode = new ObjectMapper().valueToTree(myMap);\nJsonNode nodeToSetValue = jsonNode.at(&quot;/deep/path&quot;);\nString oldValue = ((ObjectNode) nodeToSetValue).get(&quot;finalKey&quot;).asText();\nString newValue = changeValue(oldValue);\n((ObjectNode) nodeToSetValue).put(&quot;finalKey&quot;, newValue);\nmyMap = new ObjectMapper().convertValue(jsonNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){}));\n</code></pre>\n"}],"owner":{"account_id":5382167,"reputation":334,"user_id":4287120,"display_name":"Julian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76563060,"answer_count":1,"score":0,"last_activity_date":1693422598,"creation_date":1686901021,"question_id":76487938,"body_markdown":"Is there something like \r\n\r\n    jsonNode.put(&quot;/deep/path/to/var&quot;, &quot;myval&quot;)\r\n\r\nor something with ObjectNode?\r\n\r\nI know there are ways to iterate over the jsonNode and put something inside but my Question is. How could I use &quot;/deep/path/to/...&quot; as String to modify a value in a JSOn or also inside a map or something similar?\r\n\r\nFor example what I have is\r\n\r\n```\r\n{&quot;deep&quot;:{\r\n &quot;path&quot;: {\r\n  &quot;to&quot;:&quot;value&quot; \r\n  }\r\n}\r\n```\r\n\r\nAnd now I want to change it to\r\n```\r\n{&quot;deep&quot;:{\r\n &quot;path&quot;: {\r\n  &quot;to&quot;:&quot;otherValue&quot; \r\n  }\r\n}\r\n```\r\n\r\nMy wish is that I just write a path to the key and change the value without iterating through the tree.\r\n\r\nWhat I don&#39;t like to do is:\r\n\r\n    myMap.get(&quot;deep&quot;).get(&quot;path&quot;).put(&quot;to&quot;,&quot;otherValue&quot;);\r\n\r\nWhat I like is something fancy like:\r\n\r\n    mySuperfancyObject.put(&quot;deep/path/to&quot;, &quot;otherValue&quot;);\r\n\r\nIs this possible?","title":"Is there a way to put a value to Jackson JsonNode like you get it with jsonNode.at(&quot;/deep/path/to/var&quot;)?","body":"<p>Is there something like</p>\n<pre><code>jsonNode.put(&quot;/deep/path/to/var&quot;, &quot;myval&quot;)\n</code></pre>\n<p>or something with ObjectNode?</p>\n<p>I know there are ways to iterate over the jsonNode and put something inside but my Question is. How could I use &quot;/deep/path/to/...&quot; as String to modify a value in a JSOn or also inside a map or something similar?</p>\n<p>For example what I have is</p>\n<pre><code>{&quot;deep&quot;:{\n &quot;path&quot;: {\n  &quot;to&quot;:&quot;value&quot; \n  }\n}\n</code></pre>\n<p>And now I want to change it to</p>\n<pre><code>{&quot;deep&quot;:{\n &quot;path&quot;: {\n  &quot;to&quot;:&quot;otherValue&quot; \n  }\n}\n</code></pre>\n<p>My wish is that I just write a path to the key and change the value without iterating through the tree.</p>\n<p>What I don't like to do is:</p>\n<pre><code>myMap.get(&quot;deep&quot;).get(&quot;path&quot;).put(&quot;to&quot;,&quot;otherValue&quot;);\n</code></pre>\n<p>What I like is something fancy like:</p>\n<pre><code>mySuperfancyObject.put(&quot;deep/path/to&quot;, &quot;otherValue&quot;);\n</code></pre>\n<p>Is this possible?</p>\n"},{"tags":["java","selenium","jenkins","selenium-webdriver","microsoft-edge"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1565180970,"post_id":57393690,"comment_id":101270545,"body_markdown":"Can you update the question with the complete `WebDriverException`?","body":"Can you update the question with the complete <code>WebDriverException</code>?"},{"owner":{"account_id":8394172,"reputation":31,"user_id":6323732,"display_name":"vishal gupta"},"score":0,"creation_date":1565186016,"post_id":57393690,"comment_id":101273837,"body_markdown":"@DebanjanB please check the complete Exception. I updated.","body":"@DebanjanB please check the complete Exception. I updated."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565188870,"creation_date":1565188870,"answer_id":57396967,"question_id":57393690,"body_markdown":"To launch _Remote Microsoft Edge Browser_ from Jenkins Job using [Selenium](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491) instead of using `DesiredCapabilities()` you need to use `EdgeOptions()` as follows:\r\n\r\n\tSystem.setProperty( &quot;webdriver.edge.driver&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;/MicrosoftWebDriver.exe&quot; );\r\n\tEdgeOptions options = new EdgeOptions();\r\n\toptions.setCapability(&quot;useAutomationExtension&quot;, false);\r\n\tURL hubUrl = new URL(&quot;http://wiqaseleniumhub.fmr.com:4444/wd/hub&quot;);\r\n\tWebDriver driver = new RemoteWebDriver(hubUrl, options);\r\n\r\n&gt;You can find a relevant discussion in [How to Merge Chrome driver service with desired capabilities for headless using xvfb?](https://stackoverflow.com/questions/47671884/how-to-merge-chrome-driver-service-with-desired-capabilities-for-headless-using/47672910#47672910)","title":"Using `new EdgeOptions()` is preferred to `DesiredCapabilities.edge()` error launching Remote Microsoft Edge browser through Jenkins and Selenium","body":"<p>To launch <em>Remote Microsoft Edge Browser</em> from Jenkins Job using <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> instead of using <code>DesiredCapabilities()</code> you need to use <code>EdgeOptions()</code> as follows:</p>\n\n<pre><code>System.setProperty( \"webdriver.edge.driver\", System.getProperty(\"user.dir\")+\"/MicrosoftWebDriver.exe\" );\nEdgeOptions options = new EdgeOptions();\noptions.setCapability(\"useAutomationExtension\", false);\nURL hubUrl = new URL(\"http://wiqaseleniumhub.fmr.com:4444/wd/hub\");\nWebDriver driver = new RemoteWebDriver(hubUrl, options);\n</code></pre>\n\n<blockquote>\n  <p>You can find a relevant discussion in <a href=\"https://stackoverflow.com/questions/47671884/how-to-merge-chrome-driver-service-with-desired-capabilities-for-headless-using/47672910#47672910\">How to Merge Chrome driver service with desired capabilities for headless using xvfb?</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9239528,"reputation":135,"user_id":6863172,"display_name":"Ranjit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640863228,"creation_date":1640863228,"answer_id":70530923,"question_id":57393690,"body_markdown":"**Try This with the new DesiredCapabilities**\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(&quot;browserName&quot;, &quot;MicrosoftEdge&quot;);\r\n    URL url=new URL(&quot;http://localhost:4444/wd/hub&quot;);\r\n    RemoteWebDriver driver =new RemoteWebDriver(url, capabilities);\r\n    driver.get(&quot;https://google.com/&quot;);\r\n    System.out.println(&quot;Title:: &quot;+driver.getTitle());\r\n    driver.quit();","title":"Using `new EdgeOptions()` is preferred to `DesiredCapabilities.edge()` error launching Remote Microsoft Edge browser through Jenkins and Selenium","body":"<p><strong>Try This with the new DesiredCapabilities</strong></p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(&quot;browserName&quot;, &quot;MicrosoftEdge&quot;);\nURL url=new URL(&quot;http://localhost:4444/wd/hub&quot;);\nRemoteWebDriver driver =new RemoteWebDriver(url, capabilities);\ndriver.get(&quot;https://google.com/&quot;);\nSystem.out.println(&quot;Title:: &quot;+driver.getTitle());\ndriver.quit();\n</code></pre>\n"}],"owner":{"account_id":8394172,"reputation":31,"user_id":6323732,"display_name":"vishal gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693422531,"creation_date":1565178259,"question_id":57393690,"body_markdown":"There is one website which I am suppose to test in the remote edge browser by using Selenium in Java. But there is nowhere I can find the code for remote edge browser. Whereas locally I can open the edge browser and test. \r\n\r\nThe Browser version :-\r\n  Microsoft Edge 41.16299.1004.0\r\n  Microsoft EdgeHTML 16.16299\r\nThe Driver version :-\r\n Version: 5.16299 | Microsoft Edge version supported: 16.16299\r\n\r\nAnd there is no version issue as It&#39;s working with local edge browser.\r\n\r\nAs of now I have code to test the website by opening the edge browser locally from Selenium in Java. And &lt;b&gt;this is working fine&lt;/b&gt;.\r\n```\r\nSystem.setProperty( &quot;webdriver.edge.driver&quot;,\r\nSystem.getProperty(&quot;user.dir&quot;)+&quot;/MicrosoftWebDriver.exe&quot; );\r\nHashMap&lt;String, Object&gt; edgePrefs = new HashMap&lt;String, Object&gt;();\r\nedgePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\nEdgeOptions options = new EdgeOptions();\r\noptions.setCapability(&quot;prefs&quot;, edgePrefs);\r\noptions.setCapability(&quot;useAutomationExtension&quot;, false);\r\nWebDriver driver = new EdgeDriver(options);\r\n```\r\nAnd for Remote Edge browser, I am having the below code, &lt;b&gt;which is not working&lt;/b&gt;.\r\n```\r\nSystem.setProperty( &quot;webdriver.edge.driver&quot;,  System.getProperty(&quot;user.dir&quot;)+&quot;/MicrosoftWebDriver.exe&quot; );\r\nURL hubUrl = new URL(&quot;http://wiqaseleniumhub.fmr.com:4444/wd/hub&quot;);\r\nWebDriver driver = new RemoteWebDriver(hubUrl, DesiredCapabilities.edge());\r\n```\r\n\r\nWhen running for the Remote Edge Browser using remoteWebDriver for Edge. getting below error.\r\n\r\n```\r\nAug 07, 2019 4:50:14 PM org.openqa.selenium.remote.DesiredCapabilities edge\r\nINFO: Using `new EdgeOptions()` is preferred to `DesiredCapabilities.edge()`\r\nFAILED: planTypesAndPlanTest\r\norg.openqa.selenium.WebDriverException: Error forwarding the new session cannot find : Capabilities {browserName: MicrosoftEdge, platform: WINDOWS, version: }\r\nCommand duration or timeout: 1.13 seconds\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\r\n\tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\r\n\tat org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$errorHandler$0(JsonWireProtocolResponse.java:54)\r\n\tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:144)\r\n\tat Utils.Functionality.edgeDriver(Functionality.java:90)\r\n\tat Utils.Functionality.getDriver(Functionality.java:167)\r\n\tat Utils.Functionality.fieldConfigTesting(Functionality.java:666)\r\n\tat com.Automation.Test.AutomationMain.planTypesAndPlanTest(AutomationMain.java:211)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:648)\r\n\tat org.testng.TestRunner.run(TestRunner.java:505)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n\tat org.testng.TestNG.run(TestNG.java:1017)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```","title":"Using `new EdgeOptions()` is preferred to `DesiredCapabilities.edge()` error launching Remote Microsoft Edge browser through Jenkins and Selenium","body":"<p>There is one website which I am suppose to test in the remote edge browser by using Selenium in Java. But there is nowhere I can find the code for remote edge browser. Whereas locally I can open the edge browser and test. </p>\n\n<p>The Browser version :-\n  Microsoft Edge 41.16299.1004.0\n  Microsoft EdgeHTML 16.16299\nThe Driver version :-\n Version: 5.16299 | Microsoft Edge version supported: 16.16299</p>\n\n<p>And there is no version issue as It's working with local edge browser.</p>\n\n<p>As of now I have code to test the website by opening the edge browser locally from Selenium in Java. And <b>this is working fine</b>.</p>\n\n<pre><code>System.setProperty( \"webdriver.edge.driver\",\nSystem.getProperty(\"user.dir\")+\"/MicrosoftWebDriver.exe\" );\nHashMap&lt;String, Object&gt; edgePrefs = new HashMap&lt;String, Object&gt;();\nedgePrefs.put(\"profile.default_content_settings.popups\", 0);\nEdgeOptions options = new EdgeOptions();\noptions.setCapability(\"prefs\", edgePrefs);\noptions.setCapability(\"useAutomationExtension\", false);\nWebDriver driver = new EdgeDriver(options);\n</code></pre>\n\n<p>And for Remote Edge browser, I am having the below code, <b>which is not working</b>.</p>\n\n<pre><code>System.setProperty( \"webdriver.edge.driver\",  System.getProperty(\"user.dir\")+\"/MicrosoftWebDriver.exe\" );\nURL hubUrl = new URL(\"http://wiqaseleniumhub.fmr.com:4444/wd/hub\");\nWebDriver driver = new RemoteWebDriver(hubUrl, DesiredCapabilities.edge());\n</code></pre>\n\n<p>When running for the Remote Edge Browser using remoteWebDriver for Edge. getting below error.</p>\n\n<pre><code>Aug 07, 2019 4:50:14 PM org.openqa.selenium.remote.DesiredCapabilities edge\nINFO: Using `new EdgeOptions()` is preferred to `DesiredCapabilities.edge()`\nFAILED: planTypesAndPlanTest\norg.openqa.selenium.WebDriverException: Error forwarding the new session cannot find : Capabilities {browserName: MicrosoftEdge, platform: WINDOWS, version: }\nCommand duration or timeout: 1.13 seconds\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\n    at org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$errorHandler$0(JsonWireProtocolResponse.java:54)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:144)\n    at Utils.Functionality.edgeDriver(Functionality.java:90)\n    at Utils.Functionality.getDriver(Functionality.java:167)\n    at Utils.Functionality.fieldConfigTesting(Functionality.java:666)\n    at com.Automation.Test.AutomationMain.planTypesAndPlanTest(AutomationMain.java:211)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n    at org.testng.TestRunner.privateRun(TestRunner.java:648)\n    at org.testng.TestRunner.run(TestRunner.java:505)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","testing","mockito"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692763789,"post_id":76957666,"comment_id":135667134,"body_markdown":"Have you tried to use `@MockBean` instead of `Mock` ?","body":"Have you tried to use <code>@MockBean</code> instead of <code>Mock</code> ?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692764240,"post_id":76957666,"comment_id":135667178,"body_markdown":"and also replace `@InjectsMocks` from you service to `@Autowired` because you are doing integration tests `@SpringBootTest`","body":"and also replace <code>@InjectsMocks</code> from you service to <code>@Autowired</code> because you are doing integration tests <code>@SpringBootTest</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692777351,"post_id":76957666,"comment_id":135669015,"body_markdown":"Either use `@SpringBootTest` with `@MockBean` and `@Autowired`, or `@ExtendWith(MockitoExtension.class)` with `@Mock` and `@InjectMocks`. Those annotations are not equivalent and mutually exclusive (most of the time)","body":"Either use <code>@SpringBootTest</code> with <code>@MockBean</code> and <code>@Autowired</code>, or <code>@ExtendWith(MockitoExtension.class)</code> with <code>@Mock</code> and <code>@InjectMocks</code>. Those annotations are not equivalent and mutually exclusive (most of the time)"},{"owner":{"account_id":27366913,"reputation":3,"user_id":20873596,"display_name":"msdemir"},"score":0,"creation_date":1692809299,"post_id":76957666,"comment_id":135675809,"body_markdown":"still not working","body":"still not working"}],"owner":{"account_id":27366913,"reputation":3,"user_id":20873596,"display_name":"msdemir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693422444,"creation_date":1692752885,"question_id":76957666,"body_markdown":"I&#39;m currently working on writing unit tests for a Spring Boot application. Specifically, I&#39;m trying to write a unit test for the save method in the service layer. However, when I call the save method, the object returned from the repository is coming back as null. Here&#39;s what my test code looks like...\r\n\r\n```\r\n   public TodoResponse addTodo(TodoRequest todoRequest) {\r\n        Todo todo = modelMapper.map(todoRequest, Todo.class);\r\n        Todo savedTodo = todoRepos.save(todo);\r\n        TodoResponse todoResponse = modelMapper.map(savedTodo, TodoResponse.class);\r\n        return todoResponse;\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n@SpringBootTest\r\npublic class TodoServiceTest {\r\n    @Mock\r\n    private ModelMapper modelMapper;\r\n\r\n    @InjectMocks\r\n    private TodoService cut;\r\n\r\n    @Mock\r\n    private TodoRepository todoRepos;\r\n\r\n\r\n  @Test\r\n    @DisplayName(&quot;Test add todo&quot;)\r\n    void should_add_todo() {\r\n\r\n        TodoRequest todoRequest = new TodoRequest();\r\n        todoRequest.setTitle(&quot;someValue&quot;);\r\n        todoRequest.setDescription(&quot;someValue&quot;);\r\n        todoRequest.setCompleted(false);\r\n\r\n        Todo todo = new Todo(1L, todoRequest.getTitle(), todoRequest.getDescription(), todoRequest.isCompleted());\r\n\r\n        when(modelMapper.map(todoRequest, Todo.class)).thenReturn(todo);\r\n        when(todoRepos.save(todo)).thenReturn(todo);\r\n        TodoResponse todoResponse = new TodoResponse();\r\n        when(modelMapper.map(todo, TodoResponse.class)).thenReturn(todoResponse);\r\n\r\n        TodoResponse result = cut.addTodo(todoRequest);\r\n        verify(modelMapper).map(todoRequest, Todo.class);\r\n        verify(todoRepos).save(todo);\r\n        verify(modelMapper).map(todo, TodoResponse.class);\r\n\r\n        assertNotNull(result);\r\n        assertNotNull(result.getDescription());\r\n        assertNotNull(result.getTitle());\r\n        assertNotNull(result.isCompleted());\r\n        assertEquals(todoRequest.getTitle(), result.getTitle());\r\n        assertEquals(todoRequest.getDescription(), result.getDescription());\r\n        assertEquals(todoRequest.isCompleted(), result.isCompleted());\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve checked my mock setups and ensured that I&#39;m correctly mocking the repository&#39;s save method. I&#39;m also providing valid input to the service method. Despite these efforts, I&#39;m consistently getting a null object returned from the repository.\r\n\r\nHas anyone encountered a similar issue while writing unit tests for Spring Boot services? Any insights or suggestions on what might be causing this unexpected behavior and how to resolve it would be greatly appreciated!","title":"Null object returned from repository in spring boot unit test for service layer save method","body":"<p>I'm currently working on writing unit tests for a Spring Boot application. Specifically, I'm trying to write a unit test for the save method in the service layer. However, when I call the save method, the object returned from the repository is coming back as null. Here's what my test code looks like...</p>\n<pre><code>   public TodoResponse addTodo(TodoRequest todoRequest) {\n        Todo todo = modelMapper.map(todoRequest, Todo.class);\n        Todo savedTodo = todoRepos.save(todo);\n        TodoResponse todoResponse = modelMapper.map(savedTodo, TodoResponse.class);\n        return todoResponse;\n    }\n</code></pre>\n<pre><code>@SpringBootTest\npublic class TodoServiceTest {\n    @Mock\n    private ModelMapper modelMapper;\n\n    @InjectMocks\n    private TodoService cut;\n\n    @Mock\n    private TodoRepository todoRepos;\n\n\n  @Test\n    @DisplayName(&quot;Test add todo&quot;)\n    void should_add_todo() {\n\n        TodoRequest todoRequest = new TodoRequest();\n        todoRequest.setTitle(&quot;someValue&quot;);\n        todoRequest.setDescription(&quot;someValue&quot;);\n        todoRequest.setCompleted(false);\n\n        Todo todo = new Todo(1L, todoRequest.getTitle(), todoRequest.getDescription(), todoRequest.isCompleted());\n\n        when(modelMapper.map(todoRequest, Todo.class)).thenReturn(todo);\n        when(todoRepos.save(todo)).thenReturn(todo);\n        TodoResponse todoResponse = new TodoResponse();\n        when(modelMapper.map(todo, TodoResponse.class)).thenReturn(todoResponse);\n\n        TodoResponse result = cut.addTodo(todoRequest);\n        verify(modelMapper).map(todoRequest, Todo.class);\n        verify(todoRepos).save(todo);\n        verify(modelMapper).map(todo, TodoResponse.class);\n\n        assertNotNull(result);\n        assertNotNull(result.getDescription());\n        assertNotNull(result.getTitle());\n        assertNotNull(result.isCompleted());\n        assertEquals(todoRequest.getTitle(), result.getTitle());\n        assertEquals(todoRequest.getDescription(), result.getDescription());\n        assertEquals(todoRequest.isCompleted(), result.isCompleted());\n\n    }\n}\n</code></pre>\n<p>I've checked my mock setups and ensured that I'm correctly mocking the repository's save method. I'm also providing valid input to the service method. Despite these efforts, I'm consistently getting a null object returned from the repository.</p>\n<p>Has anyone encountered a similar issue while writing unit tests for Spring Boot services? Any insights or suggestions on what might be causing this unexpected behavior and how to resolve it would be greatly appreciated!</p>\n"},{"tags":["java","json","class","design-patterns","pojo"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1692725431,"post_id":76955496,"comment_id":135662649,"body_markdown":"Just use [inheritance](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)","body":"Just use <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">inheritance</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1692727973,"post_id":76955496,"comment_id":135663190,"body_markdown":"These should all be values of the same class, not separate classes.","body":"These should all be values of the same class, not separate classes."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692734230,"post_id":76955496,"comment_id":135664390,"body_markdown":"You should just store the data in _JSON_ format, rather than parsing it to and from classes.","body":"You should just store the data in <i>JSON</i> format, rather than parsing it to and from classes."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1692741294,"post_id":76955496,"comment_id":135665343,"body_markdown":"100 classes, each with the same 12 fields? Why? Sounds like there is some sort of design flaw, possibly an [XY Problem](https://xyproblem.info/).","body":"100 classes, each with the same 12 fields? Why? Sounds like there is some sort of design flaw, possibly an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692725151,"creation_date":1692725151,"answer_id":76955607,"question_id":76955496,"body_markdown":"That seems very inefficient in code reuse. You should have a Person class or something similar. Each person should be an instance. Since Java 14 you can simplify this usage with the use of the `record` keyword.\r\n\r\nExample:\r\n``` lang-java\r\npublic record Person (String name, int code) {}\r\n```\r\nGetter/setters are autogenerated.\r\n``` lang-java\r\np = new Person(&quot;Adam&quot;, 1);\r\np.name() // returns name\r\n```\r\nIf `code` is an unique id then you can use a Map or Vector to keep track of the instances. ","title":"How to avoid duplicated classes in classes with defined fields and no methods","body":"<p>That seems very inefficient in code reuse. You should have a Person class or something similar. Each person should be an instance. Since Java 14 you can simplify this usage with the use of the <code>record</code> keyword.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Person (String name, int code) {}\n</code></pre>\n<p>Getter/setters are autogenerated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>p = new Person(&quot;Adam&quot;, 1);\np.name() // returns name\n</code></pre>\n<p>If <code>code</code> is an unique id then you can use a Map or Vector to keep track of the instances.</p>\n"}],"owner":{"account_id":10902767,"reputation":5,"user_id":8014582,"display_name":"Karol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76955607,"answer_count":1,"score":0,"last_activity_date":1693422312,"creation_date":1692724213,"question_id":76955496,"body_markdown":"I have a lot of similar classes to create with defined fields, no need constructors, methods. \r\n\r\nSample classes:\r\n```\r\npublic class Adam {\r\n   private String name = &quot;Adam&quot;;\r\n   private int code = 1;\r\n}\r\n\r\npublic class Brian {\r\n   private String name = &quot;Brian&quot;;\r\n   private int code = 2;\r\n}\r\n```\r\nand about 100 or more similar classes, 12 fields in class. All defined.\r\n\r\nI would like to have access like eq: Class.fieldname or similar handy way.\r\n\r\nLater I want to make a json object using this class like \r\n\r\n    { name: &quot;Adam&quot;, code: &quot;1&quot; }\r\n\r\nand use it in rest assured framework: https://rest-assured.io/\r\n\r\nMaybe storing this kind of data as classes in not good solution? any idea? \r\n\r\nPS: no possibility to keep them in dB.","title":"How to avoid duplicated classes in classes with defined fields and no methods","body":"<p>I have a lot of similar classes to create with defined fields, no need constructors, methods.</p>\n<p>Sample classes:</p>\n<pre><code>public class Adam {\n   private String name = &quot;Adam&quot;;\n   private int code = 1;\n}\n\npublic class Brian {\n   private String name = &quot;Brian&quot;;\n   private int code = 2;\n}\n</code></pre>\n<p>and about 100 or more similar classes, 12 fields in class. All defined.</p>\n<p>I would like to have access like eq: Class.fieldname or similar handy way.</p>\n<p>Later I want to make a json object using this class like</p>\n<pre><code>{ name: &quot;Adam&quot;, code: &quot;1&quot; }\n</code></pre>\n<p>and use it in rest assured framework: <a href=\"https://rest-assured.io/\" rel=\"nofollow noreferrer\">https://rest-assured.io/</a></p>\n<p>Maybe storing this kind of data as classes in not good solution? any idea?</p>\n<p>PS: no possibility to keep them in dB.</p>\n"},{"tags":["java","reactjs","spring-boot"],"owner":{"account_id":23540670,"reputation":11,"user_id":17584913,"display_name":"lulzeR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693422125,"creation_date":1693422125,"question_id":77010860,"body_markdown":"So I wanted add a functionality to my existing full-stack application for pet project, so I was wonder what I need to add in my spring security application that my configuration and so. I don&#39;t know but I stuck really hard. I know I need to use 2Auth request , and get credentials from response.\r\nso what I want is that I want to be able to authorize from my react application and it has two buttons Google and Facebook respectively:\r\n```\r\n\r\nexport default function LoginForm({ onLogin, onRegister }) {\r\n    const [type, toggle] = useToggle([&#39;login&#39;, &#39;register&#39;]);\r\n    let [testAuth, setTestAuth] = useState(&#39;&#39;);\r\n\r\n    const form = useForm({\r\n        initialValues: {\r\n            firstName: &#39;&#39;,\r\n            email: &#39;&#39;,\r\n            login: &#39;&#39;,\r\n            password: &#39;&#39;,\r\n            terms: true,\r\n        },\r\n\r\n        validate: {\r\n            email: (val) =&gt; (/^\\S+@\\S+$/.test(val) ? null : &#39;Invalid email&#39;),\r\n            password: (val) =&gt; (val.length &lt;= 2 ? &#39;Password should include at least 6 characters&#39; : null),\r\n        },\r\n    });\r\n\r\n    const setGoogle = () =&gt; {\r\n        setTestAuth(&#39;google&#39;);\r\n        console.log(testAuth)\r\n    }\r\n    const setFacebook = () =&gt; {\r\n        setTestAuth(&quot;facebook&quot;)\r\n        console.log(testAuth)\r\n    }\r\n    const onSubmit = (event) =&gt; {\r\n        event.preventDefault()\r\n        if (type === &#39;login&#39;) {\r\n            const { login, password } = form.values;\r\n            onLogin(login, password);\r\n        } else if (type === &#39;register&#39;) {\r\n            const { firstName, email, login, password } = form.values;\r\n            onRegister(firstName, email, login, password);\r\n        }\r\n    };\r\n\r\n    return (\r\n        &lt;Paper radius=&quot;md&quot; p=&quot;xl&quot;&gt;\r\n            &lt;Text size=&quot;lg&quot; weight={500} ta=&quot;center&quot;&gt;\r\n                Welcome, {type} with\r\n            &lt;/Text&gt;\r\n\r\n            &lt;Group grow mb=&quot;md&quot; mt=&quot;md&quot;&gt;\r\n                &lt;Button radius=&quot;xl&quot; onClick={setGoogle}&gt;&lt;IconBrandGoogle /&gt;&lt;/Button&gt;\r\n                  &lt;Button radius=&quot;xl&quot; onClick={setFacebook}&gt;&lt;IconBrandFacebook /&gt;&lt;/Button&gt;\r\n            &lt;/Group&gt;\r\n\r\n            &lt;Divider label={`Or continue with ${type}`} labelPosition=&quot;center&quot; my=&quot;lg&quot; /&gt;\r\n\r\n            &lt;form onSubmit={onSubmit}&gt;\r\n                &lt;Stack&gt;\r\n                    {/*{testAuth === &#39;google&#39; &amp;&amp; (*/}\r\n                    {/*    &lt;FacebookLoginComponent /&gt;*/}\r\n                    {/*)}*/}\r\n                    {testAuth === &#39;facebook&#39; &amp;&amp; (\r\n                        &lt;Text&gt;it is a FACEBOOK&lt;/Text&gt;\r\n                    )}\r\n                    {type === &#39;register&#39; &amp;&amp; (\r\n                        &lt;&gt;\r\n                            &lt;TextInput\r\n                                label=&quot;Name&quot;\r\n                                placeholder=&quot;Your name&quot;\r\n                                value={form.values.firstName}\r\n                                onChange={(event) =&gt; form.setFieldValue(&#39;firstName&#39;, event.currentTarget.value)}\r\n                                radius=&quot;md&quot;\r\n                            /&gt;\r\n\r\n                            &lt;TextInput\r\n                                required\r\n                                label=&quot;Email&quot;\r\n                                placeholder=&quot;hello@mantine.dev&quot;\r\n                                value={form.values.email}\r\n                                onChange={(event) =&gt; form.setFieldValue(&#39;email&#39;, event.currentTarget.value)}\r\n                                error={form.errors.email &amp;&amp; &#39;Invalid email&#39;}\r\n                                radius=&quot;md&quot;\r\n                            /&gt;\r\n                        &lt;/&gt;\r\n                    )}\r\n\r\n                    &lt;TextInput\r\n                        required\r\n                        label=&quot;Login&quot;\r\n                        placeholder=&quot;Your login&quot;\r\n                        value={form.values.login}\r\n                        onChange={(event) =&gt; form.setFieldValue(&#39;login&#39;, event.currentTarget.value)}\r\n                        error={form.errors.login &amp;&amp; &#39;Invalid login&#39;}\r\n                        radius=&quot;md&quot;\r\n                    /&gt;\r\n\r\n                    &lt;PasswordInput\r\n                        required\r\n                        label=&quot;Password&quot;\r\n                        placeholder=&quot;Your password&quot;\r\n                        value={form.values.password}\r\n                        onChange={(event) =&gt; form.setFieldValue(&#39;password&#39;, event.currentTarget.value)}\r\n                        error={form.errors.password &amp;&amp; &#39;Password should include at least 6 characters&#39;}\r\n                        radius=&quot;md&quot;\r\n                    /&gt;\r\n\r\n                    {type === &#39;register&#39; &amp;&amp; (\r\n                        &lt;Checkbox\r\n                            label=&quot;I accept terms and conditions&quot;\r\n                            checked={form.values.terms}\r\n                            onChange={(event) =&gt; form.setFieldValue(&#39;terms&#39;, event.currentTarget.checked)}\r\n                        /&gt;\r\n                    )}\r\n                &lt;/Stack&gt;\r\n\r\n                &lt;Group position=&quot;apart&quot; mt=&quot;xl&quot;&gt;\r\n                    &lt;Anchor\r\n                        component=&quot;button&quot;\r\n                        type=&quot;button&quot;\r\n                        color=&quot;dimmed&quot;\r\n                        onClick={() =&gt; toggle()}\r\n                        size=&quot;xs&quot;\r\n                    &gt;\r\n                        {type === &#39;register&#39;\r\n                            ? &#39;Already have an account? Login&#39;\r\n                            : &quot;Don&#39;t have an account? Register&quot;}\r\n                    &lt;/Anchor&gt;\r\n                    &lt;Button type=&quot;submit&quot; radius=&quot;xl&quot;&gt;\r\n                        {upperFirst(type)}\r\n                    &lt;/Button&gt;\r\n                &lt;/Group&gt;\r\n            &lt;/form&gt;\r\n        &lt;/Paper&gt;\r\n    );\r\n}\r\n```\r\n\r\nI have a controller to create a user and login it , now it looks like this, and I create and login using axios request from reactjs\r\n```Java\r\n@PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; login(@RequestBody @Valid CredentialsDto credentialsDto) {\r\n        UserDto userDto = userService.login(credentialsDto);\r\n        userDto.setToken(userAuthenticationProvider.createToken(userDto.getLogin()));\r\n        System.out.println(&quot;Entered as for DTO: &quot; + userDto.getLogin() + &quot; as credentials: &quot; + credentialsDto.getLogin());\r\n        return ResponseEntity.ok(userDto);\r\n    }\r\n\r\n    \r\n\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; register(@Valid @RequestBody SignUpDto user) {\r\n        UserDto createdUser = userService.register(user);\r\n        createdUser.setToken(userAuthenticationProvider.createToken(user.getLogin()));\r\n        //TODO validate user&#39;s login if there is same or not\r\n        System.out.println(&quot;USER for: &quot; + user.getLogin() + &quot; &quot; + &quot; for token: &quot; + createdUser.getLogin());\r\n        return ResponseEntity.created(URI.create(&quot;/users/&quot; + createdUser.getId())).body(createdUser);\r\n    }\r\n```\r\nbut my Security Configuration look like this\r\n```\r\npackage com.example.jwtbackend.config;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@ComponentScan\r\n@RequiredArgsConstructor\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n\r\n    private final UserAuthenticationEntryPoint userAuthenticationEntryPoint;\r\n\r\n    private final UserAuthenticationProvider userAuthenticationProvider;\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.\r\n                exceptionHandling((exceptionHandling) -&gt;\r\n                        exceptionHandling.authenticationEntryPoint(userAuthenticationEntryPoint))\r\n                .addFilterBefore(new JwtAuthFilter(userAuthenticationProvider),\r\n                        UsernamePasswordAuthenticationFilter.class)\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement(customizer -&gt; customizer.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\r\n                        .requestMatchers(&quot;/products**&quot;, &quot;/products/**&quot;, &quot;/create&quot;, &quot;/&quot;,\r\n                                &quot;/myproducts/**&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .oauth2Login(oauth2 -&gt; {\r\n                    oauth2.loginPage(&quot;/test&quot;).permitAll();\r\n                });\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\nAnd User entry point\r\n```\r\n@Component\r\npublic class UserAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n\r\n    @Override\r\n    public void commence(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            AuthenticationException authException) throws IOException, ServletException {\r\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n        OBJECT_MAPPER.writeValue(response.getOutputStream(), new ErrorDto(&quot;Unauthorized path&quot;));\r\n    }\r\n}\r\n```\r\nProvider\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class UserAuthenticationProvider {\r\n    \r\n    @Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\r\n    private String secretKey;\r\n\r\n    private final UserService userService;\r\n\r\n    @PostConstruct\r\n    protected void init() {\r\n        // this is to avoid having the raw secret key available in the JVM\r\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\r\n    }\r\n\r\n    public String createToken(String login) {\r\n        Date now = new Date();\r\n        Date validity = new Date(now.getTime() + 3600000); // 1 hour\r\n\r\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\r\n        return JWT.create()\r\n                .withIssuer(login)\r\n                .withIssuedAt(now)\r\n                .withExpiresAt(validity)\r\n                .sign(algorithm);\r\n    }\r\n\r\n    public Authentication validateToken(String token) {\r\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\r\n\r\n        JWTVerifier verifier = JWT.require(algorithm)\r\n                .build();\r\n\r\n        DecodedJWT decoded = verifier.verify(token);\r\n\r\n        UserDto user = userService.findByLogin(decoded.getIssuer());\r\n\r\n        return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\r\n    }\r\n\r\n}\r\n```\r\nI also added this to my application properties with right instances\r\n```\r\nspring.security.oauth2.client.registration.google.client-id={Deleted for brevity}\r\nspring.security.oauth2.client.registration.google.client-secret={Deleted for brevity}\r\nspring.security.oauth2.client.registration.facebook.client-id={Deleted for brevity}\r\nspring.security.oauth2.client.registration.facebook.client-{Deleted for brevity}\r\nfrontend.url=http://localhost:3000\r\n```\r\n\r\n\r\nSo my question is that, what I need to add my React and spring boot application that I will be able to authenticated using google sign in and facebook sign in..\r\n\r\nThe trouble is that I can&#39;t really wrap my head around and I am quite confused\r\n","title":"Adding Google and Facebook login authentication for Spring boot and Reactjs fullstack application","body":"<p>So I wanted add a functionality to my existing full-stack application for pet project, so I was wonder what I need to add in my spring security application that my configuration and so. I don't know but I stuck really hard. I know I need to use 2Auth request , and get credentials from response.\nso what I want is that I want to be able to authorize from my react application and it has two buttons Google and Facebook respectively:</p>\n<pre><code>\nexport default function LoginForm({ onLogin, onRegister }) {\n    const [type, toggle] = useToggle(['login', 'register']);\n    let [testAuth, setTestAuth] = useState('');\n\n    const form = useForm({\n        initialValues: {\n            firstName: '',\n            email: '',\n            login: '',\n            password: '',\n            terms: true,\n        },\n\n        validate: {\n            email: (val) =&gt; (/^\\S+@\\S+$/.test(val) ? null : 'Invalid email'),\n            password: (val) =&gt; (val.length &lt;= 2 ? 'Password should include at least 6 characters' : null),\n        },\n    });\n\n    const setGoogle = () =&gt; {\n        setTestAuth('google');\n        console.log(testAuth)\n    }\n    const setFacebook = () =&gt; {\n        setTestAuth(&quot;facebook&quot;)\n        console.log(testAuth)\n    }\n    const onSubmit = (event) =&gt; {\n        event.preventDefault()\n        if (type === 'login') {\n            const { login, password } = form.values;\n            onLogin(login, password);\n        } else if (type === 'register') {\n            const { firstName, email, login, password } = form.values;\n            onRegister(firstName, email, login, password);\n        }\n    };\n\n    return (\n        &lt;Paper radius=&quot;md&quot; p=&quot;xl&quot;&gt;\n            &lt;Text size=&quot;lg&quot; weight={500} ta=&quot;center&quot;&gt;\n                Welcome, {type} with\n            &lt;/Text&gt;\n\n            &lt;Group grow mb=&quot;md&quot; mt=&quot;md&quot;&gt;\n                &lt;Button radius=&quot;xl&quot; onClick={setGoogle}&gt;&lt;IconBrandGoogle /&gt;&lt;/Button&gt;\n                  &lt;Button radius=&quot;xl&quot; onClick={setFacebook}&gt;&lt;IconBrandFacebook /&gt;&lt;/Button&gt;\n            &lt;/Group&gt;\n\n            &lt;Divider label={`Or continue with ${type}`} labelPosition=&quot;center&quot; my=&quot;lg&quot; /&gt;\n\n            &lt;form onSubmit={onSubmit}&gt;\n                &lt;Stack&gt;\n                    {/*{testAuth === 'google' &amp;&amp; (*/}\n                    {/*    &lt;FacebookLoginComponent /&gt;*/}\n                    {/*)}*/}\n                    {testAuth === 'facebook' &amp;&amp; (\n                        &lt;Text&gt;it is a FACEBOOK&lt;/Text&gt;\n                    )}\n                    {type === 'register' &amp;&amp; (\n                        &lt;&gt;\n                            &lt;TextInput\n                                label=&quot;Name&quot;\n                                placeholder=&quot;Your name&quot;\n                                value={form.values.firstName}\n                                onChange={(event) =&gt; form.setFieldValue('firstName', event.currentTarget.value)}\n                                radius=&quot;md&quot;\n                            /&gt;\n\n                            &lt;TextInput\n                                required\n                                label=&quot;Email&quot;\n                                placeholder=&quot;hello@mantine.dev&quot;\n                                value={form.values.email}\n                                onChange={(event) =&gt; form.setFieldValue('email', event.currentTarget.value)}\n                                error={form.errors.email &amp;&amp; 'Invalid email'}\n                                radius=&quot;md&quot;\n                            /&gt;\n                        &lt;/&gt;\n                    )}\n\n                    &lt;TextInput\n                        required\n                        label=&quot;Login&quot;\n                        placeholder=&quot;Your login&quot;\n                        value={form.values.login}\n                        onChange={(event) =&gt; form.setFieldValue('login', event.currentTarget.value)}\n                        error={form.errors.login &amp;&amp; 'Invalid login'}\n                        radius=&quot;md&quot;\n                    /&gt;\n\n                    &lt;PasswordInput\n                        required\n                        label=&quot;Password&quot;\n                        placeholder=&quot;Your password&quot;\n                        value={form.values.password}\n                        onChange={(event) =&gt; form.setFieldValue('password', event.currentTarget.value)}\n                        error={form.errors.password &amp;&amp; 'Password should include at least 6 characters'}\n                        radius=&quot;md&quot;\n                    /&gt;\n\n                    {type === 'register' &amp;&amp; (\n                        &lt;Checkbox\n                            label=&quot;I accept terms and conditions&quot;\n                            checked={form.values.terms}\n                            onChange={(event) =&gt; form.setFieldValue('terms', event.currentTarget.checked)}\n                        /&gt;\n                    )}\n                &lt;/Stack&gt;\n\n                &lt;Group position=&quot;apart&quot; mt=&quot;xl&quot;&gt;\n                    &lt;Anchor\n                        component=&quot;button&quot;\n                        type=&quot;button&quot;\n                        color=&quot;dimmed&quot;\n                        onClick={() =&gt; toggle()}\n                        size=&quot;xs&quot;\n                    &gt;\n                        {type === 'register'\n                            ? 'Already have an account? Login'\n                            : &quot;Don't have an account? Register&quot;}\n                    &lt;/Anchor&gt;\n                    &lt;Button type=&quot;submit&quot; radius=&quot;xl&quot;&gt;\n                        {upperFirst(type)}\n                    &lt;/Button&gt;\n                &lt;/Group&gt;\n            &lt;/form&gt;\n        &lt;/Paper&gt;\n    );\n}\n</code></pre>\n<p>I have a controller to create a user and login it , now it looks like this, and I create and login using axios request from reactjs</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;UserDto&gt; login(@RequestBody @Valid CredentialsDto credentialsDto) {\n        UserDto userDto = userService.login(credentialsDto);\n        userDto.setToken(userAuthenticationProvider.createToken(userDto.getLogin()));\n        System.out.println(&quot;Entered as for DTO: &quot; + userDto.getLogin() + &quot; as credentials: &quot; + credentialsDto.getLogin());\n        return ResponseEntity.ok(userDto);\n    }\n\n    \n\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;UserDto&gt; register(@Valid @RequestBody SignUpDto user) {\n        UserDto createdUser = userService.register(user);\n        createdUser.setToken(userAuthenticationProvider.createToken(user.getLogin()));\n        //TODO validate user's login if there is same or not\n        System.out.println(&quot;USER for: &quot; + user.getLogin() + &quot; &quot; + &quot; for token: &quot; + createdUser.getLogin());\n        return ResponseEntity.created(URI.create(&quot;/users/&quot; + createdUser.getId())).body(createdUser);\n    }\n</code></pre>\n<p>but my Security Configuration look like this</p>\n<pre><code>package com.example.jwtbackend.config;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport java.util.Collections;\nimport java.util.List;\n\n@ComponentScan\n@RequiredArgsConstructor\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n\n    private final UserAuthenticationEntryPoint userAuthenticationEntryPoint;\n\n    private final UserAuthenticationProvider userAuthenticationProvider;\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.\n                exceptionHandling((exceptionHandling) -&gt;\n                        exceptionHandling.authenticationEntryPoint(userAuthenticationEntryPoint))\n                .addFilterBefore(new JwtAuthFilter(userAuthenticationProvider),\n                        UsernamePasswordAuthenticationFilter.class)\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(customizer -&gt; customizer.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\n                        .requestMatchers(&quot;/products**&quot;, &quot;/products/**&quot;, &quot;/create&quot;, &quot;/&quot;,\n                                &quot;/myproducts/**&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .oauth2Login(oauth2 -&gt; {\n                    oauth2.loginPage(&quot;/test&quot;).permitAll();\n                });\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>And User entry point</p>\n<pre><code>@Component\npublic class UserAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n\n    @Override\n    public void commence(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            AuthenticationException authException) throws IOException, ServletException {\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n        OBJECT_MAPPER.writeValue(response.getOutputStream(), new ErrorDto(&quot;Unauthorized path&quot;));\n    }\n}\n</code></pre>\n<p>Provider</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class UserAuthenticationProvider {\n    \n    @Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\n    private String secretKey;\n\n    private final UserService userService;\n\n    @PostConstruct\n    protected void init() {\n        // this is to avoid having the raw secret key available in the JVM\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\n    }\n\n    public String createToken(String login) {\n        Date now = new Date();\n        Date validity = new Date(now.getTime() + 3600000); // 1 hour\n\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\n        return JWT.create()\n                .withIssuer(login)\n                .withIssuedAt(now)\n                .withExpiresAt(validity)\n                .sign(algorithm);\n    }\n\n    public Authentication validateToken(String token) {\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\n\n        JWTVerifier verifier = JWT.require(algorithm)\n                .build();\n\n        DecodedJWT decoded = verifier.verify(token);\n\n        UserDto user = userService.findByLogin(decoded.getIssuer());\n\n        return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\n    }\n\n}\n</code></pre>\n<p>I also added this to my application properties with right instances</p>\n<pre><code>spring.security.oauth2.client.registration.google.client-id={Deleted for brevity}\nspring.security.oauth2.client.registration.google.client-secret={Deleted for brevity}\nspring.security.oauth2.client.registration.facebook.client-id={Deleted for brevity}\nspring.security.oauth2.client.registration.facebook.client-{Deleted for brevity}\nfrontend.url=http://localhost:3000\n</code></pre>\n<p>So my question is that, what I need to add my React and spring boot application that I will be able to authenticated using google sign in and facebook sign in..</p>\n<p>The trouble is that I can't really wrap my head around and I am quite confused</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693421645,"creation_date":1693339649,"answer_id":77003354,"question_id":77003280,"body_markdown":"You need to create a `CustomIdGenerator` class that extends the `IdentifierGenerator`,  this way:\r\n\r\n```java\r\npublic class CustomIdGenerator implements IdentifierGenerator {\r\n\r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\r\n        String prefix = &quot;BDI&quot;;\r\n        String query = &quot;SELECT MAX(people_id) FROM bosnet_people&quot;;\r\n        Connection connection = session.getJdbcConnectionAccess().obtainConnection();\r\n\r\n        try (PreparedStatement statement = connection.prepareStatement(query)) {\r\n            ResultSet rs = statement.executeQuery();\r\n            if (rs.next()) {\r\n                String lastId = rs.getString(1);\r\n                if (lastId != null) {\r\n                    int number = Integer.parseInt(lastId.substring(prefix.length())) + 1;\r\n                    return prefix + &quot;-&quot; + number;\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new HibernateException(&quot;Unable to generate ID&quot;, e);\r\n        }\r\n\r\n        return prefix + &quot;-&quot; + 100; // Initial value if no records are present\r\n    }\r\n}\r\n```\r\n\r\nThis generator will be responsible for generating the custom IDs.\r\n\r\nNext, apply your custom ID generator to your `People` class:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;bosnet_people&quot;)\r\npublic class People {\r\n\r\n   @Id\r\n   @GeneratedValue(generator = &quot;custom-id&quot;, strategy = GenerationType.IDENTITY)\r\n   @GenericGenerator(name = &quot;custom-id&quot;, strategy = &quot;your.package.here.CustomIdGenerator&quot;)\r\n   @Column(name = &quot;people_id&quot;)\r\n   private String id;\r\n\r\n   // ... other fields and methods\r\n}\r\n```\r\n\r\nCheck this out:\r\n - [IdentifierGenerator][1]\r\n - [GenericGenerator][2]\r\n\r\nI hope it helps!\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/id/IdentifierGenerator.html\r\n  [2]: https://docs.jboss.org/hibernate/annotations/3.4/api/org/hibernate/annotations/GenericGenerator.html","title":"How to put prefix when create a custom id generator in Java Spring Boot","body":"<p>You need to create a <code>CustomIdGenerator</code> class that extends the <code>IdentifierGenerator</code>,  this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomIdGenerator implements IdentifierGenerator {\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\n        String prefix = &quot;BDI&quot;;\n        String query = &quot;SELECT MAX(people_id) FROM bosnet_people&quot;;\n        Connection connection = session.getJdbcConnectionAccess().obtainConnection();\n\n        try (PreparedStatement statement = connection.prepareStatement(query)) {\n            ResultSet rs = statement.executeQuery();\n            if (rs.next()) {\n                String lastId = rs.getString(1);\n                if (lastId != null) {\n                    int number = Integer.parseInt(lastId.substring(prefix.length())) + 1;\n                    return prefix + &quot;-&quot; + number;\n                }\n            }\n        } catch (SQLException e) {\n            throw new HibernateException(&quot;Unable to generate ID&quot;, e);\n        }\n\n        return prefix + &quot;-&quot; + 100; // Initial value if no records are present\n    }\n}\n</code></pre>\n<p>This generator will be responsible for generating the custom IDs.</p>\n<p>Next, apply your custom ID generator to your <code>People</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;bosnet_people&quot;)\npublic class People {\n\n   @Id\n   @GeneratedValue(generator = &quot;custom-id&quot;, strategy = GenerationType.IDENTITY)\n   @GenericGenerator(name = &quot;custom-id&quot;, strategy = &quot;your.package.here.CustomIdGenerator&quot;)\n   @Column(name = &quot;people_id&quot;)\n   private String id;\n\n   // ... other fields and methods\n}\n</code></pre>\n<p>Check this out:</p>\n<ul>\n<li><a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/id/IdentifierGenerator.html\" rel=\"nofollow noreferrer\">IdentifierGenerator</a></li>\n<li><a href=\"https://docs.jboss.org/hibernate/annotations/3.4/api/org/hibernate/annotations/GenericGenerator.html\" rel=\"nofollow noreferrer\">GenericGenerator</a></li>\n</ul>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":19369993,"reputation":1,"user_id":14163490,"display_name":"falah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693421645,"creation_date":1693338783,"question_id":77003280,"body_markdown":"I am trying to create a custom ID for my Java Spring Boot project with format something like this `BDI-100`. I know how to setup the number part but have no idea how to put a prefix on it. I have tried a solution from this [thread in stackoverflow][1] but it seems like it can not match with my project because of some different versions with mine.\r\n\r\nHere is the spec of my project:\r\n- built with Spring Tool Suite 4.18.0.RELEASE\r\n- Java 17\r\n- Spring Boot v3.1.3\r\n- Built on top of ubuntu 22.04\r\n\r\nand this is my model class. Perhaps can give the clue. Thank you for any hand guys!\r\n\r\n```\r\npackage com.recruittest.bosnet.model;\r\n\r\nimport java.util.Date;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.hibernate.annotations.Parameter;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.SequenceGenerator;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;bosnet_people&quot;)\r\npublic class People {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;people_id&quot;)\r\n\t@SequenceGenerator(name = &quot;PeopleIdGenerator&quot;, initialValue = 100)\r\n\t@GeneratedValue(generator = &quot;PeopleIdGenerator&quot;, strategy = GenerationType.IDENTITY)\r\n\tprivate String id;\r\n\t\r\n\t@Column(name = &quot;full_name&quot;)\r\n\tprivate String fullName;\r\n\t\r\n\t@Column(name = &quot;birthday&quot;)\r\n\t@JsonFormat(pattern = &quot;yyyy-mm-dd&quot;)\r\n\tprivate Date birthday;\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFullName() {\r\n\t\treturn fullName;\r\n\t}\r\n\r\n\tpublic void setFullName(String fullName) {\r\n\t\tthis.fullName = fullName;\r\n\t}\r\n\r\n\tpublic Date getBirthday() {\r\n\t\treturn birthday;\r\n\t}\r\n\r\n\tpublic void setBirthday(Date birthday) {\r\n\t\tthis.birthday = birthday;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;People [id=&quot; + id + &quot;, fullName=&quot; + fullName + &quot;, birthday=&quot; + birthday + &quot;]&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47259048/how-to-generate-custom-id-in-jpa","title":"How to put prefix when create a custom id generator in Java Spring Boot","body":"<p>I am trying to create a custom ID for my Java Spring Boot project with format something like this <code>BDI-100</code>. I know how to setup the number part but have no idea how to put a prefix on it. I have tried a solution from this <a href=\"https://stackoverflow.com/questions/47259048/how-to-generate-custom-id-in-jpa\">thread in stackoverflow</a> but it seems like it can not match with my project because of some different versions with mine.</p>\n<p>Here is the spec of my project:</p>\n<ul>\n<li>built with Spring Tool Suite 4.18.0.RELEASE</li>\n<li>Java 17</li>\n<li>Spring Boot v3.1.3</li>\n<li>Built on top of ubuntu 22.04</li>\n</ul>\n<p>and this is my model class. Perhaps can give the clue. Thank you for any hand guys!</p>\n<pre><code>package com.recruittest.bosnet.model;\n\nimport java.util.Date;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Parameter;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;bosnet_people&quot;)\npublic class People {\n\n    @Id\n    @Column(name = &quot;people_id&quot;)\n    @SequenceGenerator(name = &quot;PeopleIdGenerator&quot;, initialValue = 100)\n    @GeneratedValue(generator = &quot;PeopleIdGenerator&quot;, strategy = GenerationType.IDENTITY)\n    private String id;\n    \n    @Column(name = &quot;full_name&quot;)\n    private String fullName;\n    \n    @Column(name = &quot;birthday&quot;)\n    @JsonFormat(pattern = &quot;yyyy-mm-dd&quot;)\n    private Date birthday;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public Date getBirthday() {\n        return birthday;\n    }\n\n    public void setBirthday(Date birthday) {\n        this.birthday = birthday;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;People [id=&quot; + id + &quot;, fullName=&quot; + fullName + &quot;, birthday=&quot; + birthday + &quot;]&quot;;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1418369167,"post_id":27416327,"comment_id":43317440,"body_markdown":"What version of Spring/Boot are you using?","body":"What version of Spring/Boot are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418281192,"creation_date":1418281192,"answer_id":27417079,"question_id":27416327,"body_markdown":"I don&#39;t know where the &quot;xyz&quot; came from (maybe you aren&#39;t showing your whole application.yml?). You don&#39;t normally bind with `@Value` in `@ConfigurationProperties` though (it has no way of knowing what your prefix is). Did you actually `@EnableCongigurationProperties` anywhere? Are you using `SpringApplication` to create the application context?","title":"@ConfigurationProperties prefix not working","body":"<p>I don't know where the \"xyz\" came from (maybe you aren't showing your whole application.yml?). You don't normally bind with <code>@Value</code> in <code>@ConfigurationProperties</code> though (it has no way of knowing what your prefix is). Did you actually <code>@EnableCongigurationProperties</code> anywhere? Are you using <code>SpringApplication</code> to create the application context?</p>\n"},{"tags":[],"owner":{"account_id":2162182,"reputation":26357,"user_id":1916110,"accept_rate":100,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1549916123,"creation_date":1420235617,"answer_id":27749036,"question_id":27416327,"body_markdown":"It looks like you are trying to use Spring Boot [Typesafe Configuration Properties][1] feature.\r\n\r\nSo in order to have it working correctly, you have to add a few changes to your code:\r\n\r\nFirst of all, your `CommonDataApplication` class should have `@EnableConfigurationProperties` annotation e.g.\r\n\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    @PropertySource(&quot;application.yml&quot;)\r\n    @EnableConfigurationProperties\r\n    public class CommonDataApplication {\r\n        \r\n        public static void main(String[] args) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nI do not believe you need `@PropertySource(&quot;application.yml&quot;)` annotation as `application.yml` (as well as `application.properties` and `application.xml`) is a default configuration file used by Spring Boot.\r\n\r\nYour `CassandraClientNew` class does not need to have `@Value` annotation prefixing `keyspaceApp` property. And your `keyspaceApp` **has to have a setter method**.\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;cassandra&quot;)\r\n    public class CassandraClientNew {\r\n       \r\n       private String keyspaceApp;\r\n\r\n       public void setKeyspaceApp(final String keyspaceApp) {\r\n           this.keyspaceApp = keyspaceApp;\r\n       }\r\n    }\r\n\r\nBTW, if you are using `List`&#39;s or `Set`s and you initialise collections (e.g. `List&lt;String&gt; values = new ArrayList&lt;&gt;();`), then only getter is required. If a collection is not initialised then you need to provide a setter method too (otherwise an exception will be thrown).\r\n\r\nI hope that will help.\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.2.0.RELEASE/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties","title":"@ConfigurationProperties prefix not working","body":"<p>It looks like you are trying to use Spring Boot <a href=\"http://docs.spring.io/spring-boot/docs/1.2.0.RELEASE/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties\" rel=\"noreferrer\">Typesafe Configuration Properties</a> feature.</p>\n\n<p>So in order to have it working correctly, you have to add a few changes to your code:</p>\n\n<p>First of all, your <code>CommonDataApplication</code> class should have <code>@EnableConfigurationProperties</code> annotation e.g.</p>\n\n<pre><code>@EnableAutoConfiguration\n@ComponentScan\n@PropertySource(\"application.yml\")\n@EnableConfigurationProperties\npublic class CommonDataApplication {\n\n    public static void main(String[] args) {\n        // ...\n    }\n}\n</code></pre>\n\n<p>I do not believe you need <code>@PropertySource(\"application.yml\")</code> annotation as <code>application.yml</code> (as well as <code>application.properties</code> and <code>application.xml</code>) is a default configuration file used by Spring Boot.</p>\n\n<p>Your <code>CassandraClientNew</code> class does not need to have <code>@Value</code> annotation prefixing <code>keyspaceApp</code> property. And your <code>keyspaceApp</code> <strong>has to have a setter method</strong>.</p>\n\n<pre><code>@Component\n@ConfigurationProperties(prefix=\"cassandra\")\npublic class CassandraClientNew {\n\n   private String keyspaceApp;\n\n   public void setKeyspaceApp(final String keyspaceApp) {\n       this.keyspaceApp = keyspaceApp;\n   }\n}\n</code></pre>\n\n<p>BTW, if you are using <code>List</code>'s or <code>Set</code>s and you initialise collections (e.g. <code>List&lt;String&gt; values = new ArrayList&lt;&gt;();</code>), then only getter is required. If a collection is not initialised then you need to provide a setter method too (otherwise an exception will be thrown).</p>\n\n<p>I hope that will help.</p>\n"},{"tags":[],"owner":{"account_id":2440600,"reputation":956,"user_id":2129245,"display_name":"armansimonyan13"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1575134013,"creation_date":1575133490,"answer_id":59118383,"question_id":27416327,"body_markdown":"# General answer\r\n\r\n&lt;!-- language: yaml --&gt;\r\n### 1. In your properties file (application.properties or application.yml)\r\n\r\n    # In application.yaml\r\n    a:\r\n      b:\r\n        c: some_string\r\n\r\n### 2. Declare your class:\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;a&quot;, ignoreUnknownFiels = false)\r\n    public class MyClassA {\r\n    \r\n      public MyClassB theB;   // This name actually does not mean anything\r\n                              // It can be anything      \r\n      public void setTheB(MyClassB theB) {\r\n        this.theB = theB;\r\n      }\r\n\r\n      public static MyClassB {\r\n    \r\n        public String theC;\r\n\r\n        public void setTheC(String theC) {\r\n          this.theC = theC;\r\n        }\r\n\r\n      }\r\n    \r\n    }\r\n\r\n### 3. Declare public setters! And this is crucial!\r\nMake sure to have these public methods declared in the above classes. Make sure they have &lt;b&gt;&quot;public&quot;&lt;/b&gt; modifier.\r\n&lt;!-- language: java --&gt;\r\n\r\n    // In MyClassA\r\n    public void setTheB(MyClassB theB) {\r\n      this.theB = theB;\r\n    }\r\n    \r\n    // In MyClassB\r\n    public void setTheC(String theC) {\r\n      this.theC = theC;\r\n    }\r\n\r\n## That&#39;s it.\r\n\r\n###Final notes\r\n\r\n- The property names in your classes do not mean anything to Spring. It only uses public setters. I declared them public not to declare public getters here. Your properties may have any access modifiers.\r\n- Pay attention to the attribute &quot;ignoreUnknownFields&quot;. Its default value is &quot;true&quot;. When it is &quot;false&quot; it will throw exception if any of your properties in file &quot;application.yml&quot; was not bound to any class property. It will help you a lot during debugging.\r\n\r\n","title":"@ConfigurationProperties prefix not working","body":"<h1>General answer</h1>\n\n<p></p>\n\n<h3>1. In your properties file (application.properties or application.yml)</h3>\n\n<pre><code># In application.yaml\na:\n  b:\n    c: some_string\n</code></pre>\n\n<h3>2. Declare your class:</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = \"a\", ignoreUnknownFiels = false)\npublic class MyClassA {\n\n  public MyClassB theB;   // This name actually does not mean anything\n                          // It can be anything      \n  public void setTheB(MyClassB theB) {\n    this.theB = theB;\n  }\n\n  public static MyClassB {\n\n    public String theC;\n\n    public void setTheC(String theC) {\n      this.theC = theC;\n    }\n\n  }\n\n}\n</code></pre>\n\n<h3>3. Declare public setters! And this is crucial!</h3>\n\n<p>Make sure to have these public methods declared in the above classes. Make sure they have <b>\"public\"</b> modifier.\n</p>\n\n<pre><code>// In MyClassA\npublic void setTheB(MyClassB theB) {\n  this.theB = theB;\n}\n\n// In MyClassB\npublic void setTheC(String theC) {\n  this.theC = theC;\n}\n</code></pre>\n\n<h2>That's it.</h2>\n\n<h3>Final notes</h3>\n\n<ul>\n<li>The property names in your classes do not mean anything to Spring. It only uses public setters. I declared them public not to declare public getters here. Your properties may have any access modifiers.</li>\n<li>Pay attention to the attribute \"ignoreUnknownFields\". Its default value is \"true\". When it is \"false\" it will throw exception if any of your properties in file \"application.yml\" was not bound to any class property. It will help you a lot during debugging.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638485569,"creation_date":1638485569,"answer_id":70207449,"question_id":27416327,"body_markdown":"That&#39;s my FULL solution for this case:\r\n\r\n***My Class*** will be ***receiving the properties***:\r\n```\r\n// Setter are CRUCIAL for PropertySource + ConfigurationProperties works properly\r\n@PropertySource(value = &quot;classpath:application-dev.yml&quot;, ignoreResourceNotFound = true)\r\n@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\r\n@Setter\r\n@Profile(&quot;dev&quot;)\r\n@Configuration\r\n@EnableReactiveMongoRepositories(\r\n     basePackages = {\r\n          &quot;com.webflux.mongo2.project.repo&quot;,\r\n          &quot;com.webflux.mongo2.task.repo&quot;})\r\npublic class MyClassGettingTheProperties {\r\n  private String database;\r\n  private String host;\r\n  private String port;\r\n  private String username;\r\n  private String password;\r\n  private String authenticationDatabase;\r\n}\r\n```\r\n\r\nMy property file - ***application-dev.yml***:\r\n```\r\nspring:\r\n  data:\r\n    mongodb:\r\n      database: ${MONGO_INITDB_DATABASE}\r\n      host: ${HOST}\r\n      port: ${PORT}\r\n      username: ${MONGO_INITDB_ROOT_USERNAME}\r\n      password: ${MONGO_INITDB_ROOT_PASSWORD}\r\n      authentication-database: ${AUTH_MAN}\r\n```\r\n\r\nMy ***docker-compose*** which is the ***&quot;origin&quot;*** of the properties:\r\n```\r\nversion: &quot;3.4&quot;\r\n\r\nx-common-variables:\r\n  &amp;env-vars\r\n  PORT_API: 1313\r\n  MONGO_INITDB_DATABASE: zzzzz\r\n  HOST: yyyyy\r\n  PORT: 27017\r\n  MONGO_INITDB_ROOT_USERNAME: xxxxx\r\n  MONGO_INITDB_ROOT_PASSWORD: xxxxxxx\r\n  AUTH_MAN: kkkkk\r\n\r\nvolumes:\r\n  api_vol:\r\n\r\nnetworks:\r\n  mongo-cluster:\r\n\r\nservices:\r\n  api-db:\r\n    container_name: api-db\r\n    image: mongo:4.4.4\r\n    restart: always\r\n    ports:\r\n      - &quot;27017:27017&quot;\r\n    networks:\r\n      - mongo-cluster\r\n    volumes:\r\n      - api_vol:/data/db\r\n    environment:\r\n      *env-vars\r\n```\r\n","title":"@ConfigurationProperties prefix not working","body":"<p>That's my FULL solution for this case:</p>\n<p><em><strong>My Class</strong></em> will be <em><strong>receiving the properties</strong></em>:</p>\n<pre><code>// Setter are CRUCIAL for PropertySource + ConfigurationProperties works properly\n@PropertySource(value = &quot;classpath:application-dev.yml&quot;, ignoreResourceNotFound = true)\n@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\n@Setter\n@Profile(&quot;dev&quot;)\n@Configuration\n@EnableReactiveMongoRepositories(\n     basePackages = {\n          &quot;com.webflux.mongo2.project.repo&quot;,\n          &quot;com.webflux.mongo2.task.repo&quot;})\npublic class MyClassGettingTheProperties {\n  private String database;\n  private String host;\n  private String port;\n  private String username;\n  private String password;\n  private String authenticationDatabase;\n}\n</code></pre>\n<p>My property file - <em><strong>application-dev.yml</strong></em>:</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      database: ${MONGO_INITDB_DATABASE}\n      host: ${HOST}\n      port: ${PORT}\n      username: ${MONGO_INITDB_ROOT_USERNAME}\n      password: ${MONGO_INITDB_ROOT_PASSWORD}\n      authentication-database: ${AUTH_MAN}\n</code></pre>\n<p>My <em><strong>docker-compose</strong></em> which is the <em><strong>&quot;origin&quot;</strong></em> of the properties:</p>\n<pre><code>version: &quot;3.4&quot;\n\nx-common-variables:\n  &amp;env-vars\n  PORT_API: 1313\n  MONGO_INITDB_DATABASE: zzzzz\n  HOST: yyyyy\n  PORT: 27017\n  MONGO_INITDB_ROOT_USERNAME: xxxxx\n  MONGO_INITDB_ROOT_PASSWORD: xxxxxxx\n  AUTH_MAN: kkkkk\n\nvolumes:\n  api_vol:\n\nnetworks:\n  mongo-cluster:\n\nservices:\n  api-db:\n    container_name: api-db\n    image: mongo:4.4.4\n    restart: always\n    ports:\n      - &quot;27017:27017&quot;\n    networks:\n      - mongo-cluster\n    volumes:\n      - api_vol:/data/db\n    environment:\n      *env-vars\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23804899,"reputation":31,"user_id":17814586,"display_name":"chel_shev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641119850,"creation_date":1641119850,"answer_id":70555275,"question_id":27416327,"body_markdown":"Just add a public **setter** or **@Setter** from Lombok.","title":"@ConfigurationProperties prefix not working","body":"<p>Just add a public <strong>setter</strong> or <strong>@Setter</strong> from Lombok.</p>\n"},{"tags":[],"owner":{"account_id":6174371,"reputation":1762,"user_id":4832515,"display_name":"SomeGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652915930,"creation_date":1652915385,"answer_id":72296913,"question_id":27416327,"body_markdown":"I had a similar but different issue compared to OP, and couldn&#39;t find an answer anywhere, so I&#39;ll post about it. Let say you&#39;re trying to use Lombok to go and auto generate the getters &amp; setters &amp; other fields for you in your configuration file. \r\n\r\nHere is an example: \r\n\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;address&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class AddressConfig {\r\n  private Endpoint endpoint;\r\n\r\n  @Data\r\n  @NoArgsConstructor\r\n  @AllArgsConstructor\r\n  @Builder\r\n  public static class Endpoint {\r\n    private String url;\r\n  }\r\n\r\n}\r\n```\r\n\r\nIf using lombok `@Getter` &amp; `@Setter` annotations (or `@Data` which also takes care of `@Getter` &amp; `@Setter`), then make sure to also have this annotation:\r\n\r\n`@Accessors(fluent = false)`\r\n\r\nThe reason: spring needs the setter methods to actually populate the configuration for you. However, in the above example, here&#39;s how the url would be set internally in spring: \r\n\r\n`addressConfig.getEndpoint().setUrl(&quot;...&quot;)`;\r\n\r\nYou can see that getters are prefixed with `get` and setters are prefixed with `set`. \r\n\r\nIf you do NOT have `@Accessors(fluent = false)` set, then the setters will use the fluent style of accessors, which don’t prepend getters with the word get and setters with the word set. This breaks springs ability to populate configuration pojos properly. \r\n\r\nSpring will not tell you this when you execute the application. You only get null pointer exceptions when trying when your application tries to use those configuration variables. I only realized I need to put an `@Accessors(fluent = false)` annotation after hours of trial &amp; error since I couldn’t find the answer on google or stackoverflow.\r\nside note: intellij will warn you that `false` is the default value for `@Accessors`. This is wrong -_-\r\n\r\nAnyways, here&#39;s the configuration class with the annotation (yes, you only need to add this at the top of the class, just one time, and not in the inner classes). \r\n\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;address&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class AddressConfig {\r\n  private Endpoint endpoint;\r\n\r\n  @Data\r\n  @NoArgsConstructor\r\n  @AllArgsConstructor\r\n  @Accessors(fluent = false)\r\n  @Builder\r\n  public static class Endpoint {\r\n    private String url;\r\n  }\r\n\r\n}\r\n```","title":"@ConfigurationProperties prefix not working","body":"<p>I had a similar but different issue compared to OP, and couldn't find an answer anywhere, so I'll post about it. Let say you're trying to use Lombok to go and auto generate the getters &amp; setters &amp; other fields for you in your configuration file.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;address&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class AddressConfig {\n  private Endpoint endpoint;\n\n  @Data\n  @NoArgsConstructor\n  @AllArgsConstructor\n  @Builder\n  public static class Endpoint {\n    private String url;\n  }\n\n}\n</code></pre>\n<p>If using lombok <code>@Getter</code> &amp; <code>@Setter</code> annotations (or <code>@Data</code> which also takes care of <code>@Getter</code> &amp; <code>@Setter</code>), then make sure to also have this annotation:</p>\n<p><code>@Accessors(fluent = false)</code></p>\n<p>The reason: spring needs the setter methods to actually populate the configuration for you. However, in the above example, here's how the url would be set internally in spring:</p>\n<p><code>addressConfig.getEndpoint().setUrl(&quot;...&quot;)</code>;</p>\n<p>You can see that getters are prefixed with <code>get</code> and setters are prefixed with <code>set</code>.</p>\n<p>If you do NOT have <code>@Accessors(fluent = false)</code> set, then the setters will use the fluent style of accessors, which don’t prepend getters with the word get and setters with the word set. This breaks springs ability to populate configuration pojos properly.</p>\n<p>Spring will not tell you this when you execute the application. You only get null pointer exceptions when trying when your application tries to use those configuration variables. I only realized I need to put an <code>@Accessors(fluent = false)</code> annotation after hours of trial &amp; error since I couldn’t find the answer on google or stackoverflow.\nside note: intellij will warn you that <code>false</code> is the default value for <code>@Accessors</code>. This is wrong -_-</p>\n<p>Anyways, here's the configuration class with the annotation (yes, you only need to add this at the top of the class, just one time, and not in the inner classes).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;address&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class AddressConfig {\n  private Endpoint endpoint;\n\n  @Data\n  @NoArgsConstructor\n  @AllArgsConstructor\n  @Accessors(fluent = false)\n  @Builder\n  public static class Endpoint {\n    private String url;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27962252,"reputation":39,"user_id":21353767,"display_name":"Ankitha N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693421051,"creation_date":1693421051,"answer_id":77010753,"question_id":27416327,"body_markdown":"If anyone is trying to do this with secrets.yaml or any other yaml file, it will not work. [https://docs.spring.io/spring-boot/docs/1.2.0.RELEASE/reference/htmlsingle/#boot-features-external-config-yaml-shortcomings:~:text=YAML%20files%20can%E2%80%99t%20be%20loaded%20via%20the%20%40PropertySource%20annotation.%20So%20in%20the%20case%20that%20you%20need%20to%20load%20values%20that%20way%2C%20you%20need%20to%20use%20a%20properties%20file.][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.2.0.RELEASE/reference/htmlsingle/#boot-features-external-config-yaml-shortcomings:~:text=YAML%20files%20can%E2%80%99t%20be%20loaded%20via%20the%20%40PropertySource%20annotation.%20So%20in%20the%20case%20that%20you%20need%20to%20load%20values%20that%20way%2C%20you%20need%20to%20use%20a%20properties%20file.","title":"@ConfigurationProperties prefix not working","body":"<p>If anyone is trying to do this with secrets.yaml or any other yaml file, it will not work. <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.RELEASE/reference/htmlsingle/#boot-features-external-config-yaml-shortcomings:%7E:text=YAML%20files%20can%E2%80%99t%20be%20loaded%20via%20the%20%40PropertySource%20annotation.%20So%20in%20the%20case%20that%20you%20need%20to%20load%20values%20that%20way%2C%20you%20need%20to%20use%20a%20properties%20file.\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.2.0.RELEASE/reference/htmlsingle/#boot-features-external-config-yaml-shortcomings:~:text=YAML%20files%20can%E2%80%99t%20be%20loaded%20via%20the%20%40PropertySource%20annotation.%20So%20in%20the%20case%20that%20you%20need%20to%20load%20values%20that%20way%2C%20you%20need%20to%20use%20a%20properties%20file.</a></p>\n"}],"owner":{"account_id":1746735,"reputation":1497,"user_id":1596751,"accept_rate":46,"display_name":"plzdontkillme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121828,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":27749036,"answer_count":7,"score":49,"last_activity_date":1693421051,"creation_date":1418277534,"question_id":27416327,"body_markdown":".yml file \r\n\r\n    cassandra:\r\n        keyspaceApp:junit\r\n    solr:\r\n        keyspaceApp:xyz\r\n\r\nBean \r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;cassandra&quot;)\r\n    public class CassandraClientNew {\r\n       @Value(&quot;${keyspaceApp:@null}&quot;) private String keyspaceApp;\r\n\r\nMain method file \r\n\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    @PropertySource(&quot;application.yml&quot;)\r\n    public class CommonDataApplication {\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext context = new SpringApplicationBuilder(CommonDataApplication.class)\r\n                    .web(false).headless(true).main(CommonDataApplication.class).run(args);\r\n        }\r\n    }\r\n\r\nTestCase \r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = CommonDataApplication.class)\r\n    @IntegrationTest\r\n    @EnableConfigurationProperties\r\n    public class CassandraClientTest {\r\n    \r\n        @Autowired\r\n        CassandraClientNew cassandraClientNew;\r\n    \r\n        @Test\r\n        public void test(){\r\n            cassandraClientNew.getSession();\r\n            System.out.println(&quot; **** done ****&quot;);\r\n        }\r\n    }\r\n\r\nInstead of setting junit as the keyspaceApp it sets xyz. \r\n\r\nLooks like prefix=&quot;cassandra&quot; not working ","title":"@ConfigurationProperties prefix not working","body":"<p>.yml file </p>\n\n<pre><code>cassandra:\n    keyspaceApp:junit\nsolr:\n    keyspaceApp:xyz\n</code></pre>\n\n<p>Bean </p>\n\n<pre><code>@Component\n@ConfigurationProperties(prefix=\"cassandra\")\npublic class CassandraClientNew {\n   @Value(\"${keyspaceApp:@null}\") private String keyspaceApp;\n</code></pre>\n\n<p>Main method file </p>\n\n<pre><code>@EnableAutoConfiguration\n@ComponentScan\n@PropertySource(\"application.yml\")\npublic class CommonDataApplication {\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = new SpringApplicationBuilder(CommonDataApplication.class)\n                .web(false).headless(true).main(CommonDataApplication.class).run(args);\n    }\n}\n</code></pre>\n\n<p>TestCase </p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = CommonDataApplication.class)\n@IntegrationTest\n@EnableConfigurationProperties\npublic class CassandraClientTest {\n\n    @Autowired\n    CassandraClientNew cassandraClientNew;\n\n    @Test\n    public void test(){\n        cassandraClientNew.getSession();\n        System.out.println(\" **** done ****\");\n    }\n}\n</code></pre>\n\n<p>Instead of setting junit as the keyspaceApp it sets xyz. </p>\n\n<p>Looks like prefix=\"cassandra\" not working </p>\n"},{"tags":["java","unicode-escapes","stringescapeutils"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1693407213,"post_id":77009095,"comment_id":135757300,"body_markdown":"Please provide a [mcve] - we can&#39;t tell whether you&#39;re doing something odd like calling `escapeXml` twice.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - we can&#39;t tell whether you&#39;re doing something odd like calling <code>escapeXml</code> twice."},{"owner":{"account_id":14448913,"reputation":93,"user_id":10437128,"display_name":"Eda"},"score":0,"creation_date":1693407508,"post_id":77009095,"comment_id":135757386,"body_markdown":"@JonSkeet just added my code","body":"@JonSkeet just added my code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693407729,"post_id":77009095,"comment_id":135757429,"body_markdown":"afaik that string doesn&#39;t need escaping for xml. If you were to do an html escape on it, you&#39;d get `Beg&amp;uuml;nstigter`","body":"afaik that string doesn&#39;t need escaping for xml. If you were to do an html escape on it, you&#39;d get <code>Beg&amp;uuml;nstigter</code>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1693407975,"post_id":77009095,"comment_id":135757489,"body_markdown":"I think since you are using an XML writer to write the string, you don&#39;t need to escape it. But you didn&#39;t specify the library you are using. Your code is not an [mcve].","body":"I think since you are using an XML writer to write the string, you don&#39;t need to escape it. But you didn&#39;t specify the library you are using. Your code is not an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":14448913,"reputation":93,"user_id":10437128,"display_name":"Eda"},"score":0,"creation_date":1693408416,"post_id":77009095,"comment_id":135757593,"body_markdown":"@RealSkeptic I&#39;m using `org.apache.commons.lang.StringEscapeUtils`. I also need to escape characters &lt;, &gt; in other exported fields. So I cannot simply remove this method.","body":"@RealSkeptic I&#39;m using <code>org.apache.commons.lang.StringEscapeUtils</code>. I also need to escape characters &lt;, &gt; in other exported fields. So I cannot simply remove this method."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1693409149,"post_id":77009095,"comment_id":135757774,"body_markdown":"That isn&#39;t a [mcve]. Ideally, you&#39;d provide us a piece of code we can copy, paste, compile and run to see the problem.","body":"That isn&#39;t a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Ideally, you&#39;d provide us a piece of code we can copy, paste, compile and run to see the problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693409276,"post_id":77009095,"comment_id":135757802,"body_markdown":"*I also need to escape characters &lt;, &gt; in other exported fields* Those are `&amp;lt;` and `gt;` If you escape a string with umlauts in it using `StringEscapeUtils`, you&#39;ll get the same string back, because they don&#39;t need escaping","body":"<i>I also need to escape characters &lt;, &gt; in other exported fields</i> Those are <code>&amp;lt;</code> and <code>gt;</code> If you escape a string with umlauts in it using <code>StringEscapeUtils</code>, you&#39;ll get the same string back, because they don&#39;t need escaping"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1693409849,"post_id":77009095,"comment_id":135757903,"body_markdown":"Why do you think you need to escape anything before calling the `XMLStreamWriter` `writeCharacters` method? Don&#39;t you think the XMLStreamWriter knows how to properly escape XML on its own? Also, what is all this log, Clock, timing, SqlMap blah blah blah code? It doesn&#39;t have anything to do with your question. Create a minimal program that just writes the string in question to an XMLStreamWriter plus any escaping. That&#39;s a minimal, reproducible example.","body":"Why do you think you need to escape anything before calling the <code>XMLStreamWriter</code> <code>writeCharacters</code> method? Don&#39;t you think the XMLStreamWriter knows how to properly escape XML on its own? Also, what is all this log, Clock, timing, SqlMap blah blah blah code? It doesn&#39;t have anything to do with your question. Create a minimal program that just writes the string in question to an XMLStreamWriter plus any escaping. That&#39;s a minimal, reproducible example."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1693409903,"post_id":77009095,"comment_id":135757920,"body_markdown":"Here&#39;s a minrep for the API you asked about: `public static void main(String[] args) throws Exception {String s = &quot;Beg&#252;nstigter&quot;;if (args.length &gt; 0) {s = args[0];}System.out.println(StringEscapeUtils.escapeXml10(s));}` You&#39;ll get the same string out again with no arguments. But @DavidConrad is almost certainly right - if the writer doesn&#39;t know, unaided, that `&lt;` needs escapement then I&#39;d be very surprised","body":"Here&#39;s a minrep for the API you asked about: <code>public static void main(String[] args) throws Exception {String s = &quot;Beg&#252;nstigter&quot;;if (args.length &gt; 0) {s = args[0];}System.out.println(StringEscapeUtils.escapeXml10(s)&zwnj;&#8203;);}</code> You&#39;ll get the same string out again with no arguments. But @DavidConrad is almost certainly right - if the writer doesn&#39;t know, unaided, that <code>&lt;</code> needs escapement then I&#39;d be very surprised"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1693410467,"post_id":77009095,"comment_id":135758062,"body_markdown":"@g00se Yes. I just tested it and if the string is `&quot;&lt;Beg&#252;nstigter&gt;&quot;` it produces a result like `&lt;value&gt;&amp;lt;Beg&#252;nstigter&amp;gt;&lt;/value&gt;`. No prior escaping, just calling `writeCharacters(&quot;&lt;Beg&#252;nstigter&gt;&quot;)` directly.","body":"@g00se Yes. I just tested it and if the string is <code>&quot;&lt;Beg&#252;nstigter&gt;&quot;</code> it produces a result like <code>&lt;value&gt;&amp;lt;Beg&#252;nstigter&amp;gt;&lt;&#47;value&gt;</code>. No prior escaping, just calling <code>writeCharacters(&quot;&lt;Beg&#252;nstigter&gt;&quot;)</code> directly."}],"answers":[{"tags":[],"owner":{"account_id":3718428,"reputation":415,"user_id":3366761,"display_name":"snaikar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1693408228,"creation_date":1693408228,"answer_id":77009300,"question_id":77009095,"body_markdown":"One way to handle it is to unescape the parts that you do not want to escape\r\n\r\n    writer.writeCharacters(\r\n         StringEscapeUtils.escapeXml(\r\n           entry.getValue().toString()\r\n         ).replaceAll(&quot;&amp;amp;#(\\\\d+);&quot;, &quot;&amp;#$1;&quot;)\r\n      );\r\n\r\nReplacing all the \\&amp;amp; with &amp; ","title":"Escaped unicode characters are escaped again with StringEscapeUtils.escapeXml","body":"<p>One way to handle it is to unescape the parts that you do not want to escape</p>\n<pre><code>writer.writeCharacters(\n     StringEscapeUtils.escapeXml(\n       entry.getValue().toString()\n     ).replaceAll(&quot;&amp;amp;#(\\\\d+);&quot;, &quot;&amp;#$1;&quot;)\n  );\n</code></pre>\n<p>Replacing all the &amp;amp; with &amp;</p>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693420118,"creation_date":1693410927,"answer_id":77009658,"question_id":77009095,"body_markdown":"Here is a minimal, reproducible example that show escaping is not necessary before calling `XMLStreamWriter::writeCharacters`:\r\n\r\n    import java.io.StringWriter;\r\n    import javax.xml.stream.XMLOutputFactory;\r\n    import javax.xml.stream.XMLStreamWriter;\r\n\r\n    StringWriter sw = new StringWriter();\r\n    XMLStreamWriter writer = XMLOutputFactory.newInstance().createXMLStreamWriter(sw);\r\n    writer.writeStartDocument();\r\n    writer.writeStartElement(&quot;value&quot;);\r\n    writer.writeCharacters(&quot;&lt;Beg&#252;nstigter&gt;&quot;);\r\n    writer.writeEndElement();\r\n    writer.writeEndDocument();\r\n    writer.close();\r\n    System.out.println(sw.toString());\r\n\r\nYou can run this on JShell and the output is:\r\n\r\n    &quot;&lt;?xml version=\\&quot;1.0\\&quot; ?&gt;&lt;value&gt;&amp;lt;Beg&#252;nstigter&amp;gt;&lt;/value&gt;&quot;\r\n\r\nIn short, `XMLStreamWriter` already knows how to write XML. You do not need to, and should not, escape text before passing it to the `writeCharacters` method.\r\n\r\nNote: some implementations might only escape the `&lt;` (left angle bracket) and not the `&gt;` (right angle bracket); the former is *required* to be encoded while the latter is *optional*, but the result will still be correctly encoded and will be parsed correctly by an XML parser.","title":"Escaped unicode characters are escaped again with StringEscapeUtils.escapeXml","body":"<p>Here is a minimal, reproducible example that show escaping is not necessary before calling <code>XMLStreamWriter::writeCharacters</code>:</p>\n<pre><code>import java.io.StringWriter;\nimport javax.xml.stream.XMLOutputFactory;\nimport javax.xml.stream.XMLStreamWriter;\n\nStringWriter sw = new StringWriter();\nXMLStreamWriter writer = XMLOutputFactory.newInstance().createXMLStreamWriter(sw);\nwriter.writeStartDocument();\nwriter.writeStartElement(&quot;value&quot;);\nwriter.writeCharacters(&quot;&lt;Begünstigter&gt;&quot;);\nwriter.writeEndElement();\nwriter.writeEndDocument();\nwriter.close();\nSystem.out.println(sw.toString());\n</code></pre>\n<p>You can run this on JShell and the output is:</p>\n<pre><code>&quot;&lt;?xml version=\\&quot;1.0\\&quot; ?&gt;&lt;value&gt;&amp;lt;Begünstigter&amp;gt;&lt;/value&gt;&quot;\n</code></pre>\n<p>In short, <code>XMLStreamWriter</code> already knows how to write XML. You do not need to, and should not, escape text before passing it to the <code>writeCharacters</code> method.</p>\n<p>Note: some implementations might only escape the <code>&lt;</code> (left angle bracket) and not the <code>&gt;</code> (right angle bracket); the former is <em>required</em> to be encoded while the latter is <em>optional</em>, but the result will still be correctly encoded and will be parsed correctly by an XML parser.</p>\n"}],"owner":{"account_id":14448913,"reputation":93,"user_id":10437128,"display_name":"Eda"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693420118,"creation_date":1693406715,"question_id":77009095,"body_markdown":"I have a text &quot;Beg&#252;nstigter&quot; which I&#39;m trying to escape the character &#39;&#252;&#39; with ```StringEscapeUtils.escapeXml```. As the code for &#39;&#252;&#39; is ```&amp;#252;```, I would expect the method to return ```Beg&amp;#252;nstigter```. However, ```StringEscapeUtils.escapeXml``` is somehow doing the escape until there is no character to escape anymore, meaning after having the value ```Beg&amp;#252;nstigter```, it escapes ```&amp;``` as ```&amp;amp;```. That&#39;s why the final result I get becomes ```Beg&amp;amp;#252;nstigter```. I&#39;ve tried using commons-text, commons-lang, commons-lang3 with escapeXml10 and escapeXml11 methods as well as some other posted solutions. But nothing seems to work for me. What am I overlooking here, how can I solve this issue?\r\n\r\nHere is the full code of where I&#39;m doing this: \r\n```\r\nprivate void exportRecords(XMLStreamWriter writer, XmlExportDataDescription exportDataDescription) throws XMLStreamException {\r\n\t\tLong companyId = exportDataDescription.getCompanyId();\r\n\t\tString mainTagName = exportDataDescription.getMainTagNameInXml();\r\n\r\n\t\tlong count = 0;\r\n\r\n\t\tClock clock = Clock.systemDefaultZone();\r\n\t\twriter.writeStartElement(mainTagName);\r\n\t\twhile (true) {\r\n\t\t\tMap&lt;String, Object&gt; parameter = new HashMap&lt;&gt;();\r\n\t\t\tparameter.put(&quot;companyId&quot;, companyId);\r\n\t\t\tparameter.put(&quot;offset&quot;, count + 1);\r\n\t\t\tparameter.put(&quot;rowNum&quot;, count + MANUAL_XML_CREATION_BATCH_SIZE);\r\n\r\n\t\t\tlong startTimeResults = clock.millis();\r\n\t\t\tList&lt;Map&lt;String, Object&gt;&gt; resultList = getSqlMapClientTemplate().queryForList(&quot;XML_EXPORT.&quot; + mainTagName, parameter);\r\n\t\t\tlong endTimeResults = clock.millis();\r\n\r\n\t\t\tif (resultList.isEmpty()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tlog.debug(&quot;---- Retrieving &quot; + resultList.size() + &quot; results for table &quot; + exportDataDescription.getMainTagNameInXml() + &quot; took &quot; + (endTimeResults - startTimeResults) + &quot; ms&quot;);\r\n\r\n\t\t\tcount += resultList.size();\r\n\r\n\t\t\tlong startTimeBatchWriting = clock.millis();\r\n\t\t\tfor (Map&lt;String, Object&gt; listEntry : resultList) {\r\n\t\t\t\twriter.writeStartElement(mainTagName + &quot;_ROW&quot;);\r\n\r\n\t\t\t\tfor (Entry&lt;String, Object&gt; entry : listEntry.entrySet()) {\r\n\t\t\t\t\tif (entry.getKey().toLowerCase().equals(&quot;rn&quot;)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (entry.getValue() == null) {\r\n\t\t\t\t\t\twriter.writeEmptyElement(entry.getKey());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twriter.writeStartElement(entry.getKey());\r\n\t\t\t\t\t\twriter.writeCharacters(StringEscapeUtils.escapeXml(entry.getValue().toString()));\r\n\t\t\t\t\t\twriter.writeEndElement();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\twriter.writeEndElement();\r\n\t\t\t}\r\n\r\n\t\t\tlong endTimeBatchWriting = clock.millis();\r\n\t\t\tlog.debug(&quot;---- Writing batch results for table &quot; + exportDataDescription.getMainTagNameInXml() + &quot; took &quot; + (endTimeBatchWriting - startTimeBatchWriting) + &quot; ms&quot;);\r\n\t\t}\r\n\r\n\t\twriter.writeEndElement();\r\n\t\texportDataDescription.setNumberOfDatasets(BigDecimal.valueOf(count));\r\n\t}\r\n```\r\n","title":"Escaped unicode characters are escaped again with StringEscapeUtils.escapeXml","body":"<p>I have a text &quot;Begünstigter&quot; which I'm trying to escape the character 'ü' with <code>StringEscapeUtils.escapeXml</code>. As the code for 'ü' is <code>&amp;#252;</code>, I would expect the method to return <code>Beg&amp;#252;nstigter</code>. However, <code>StringEscapeUtils.escapeXml</code> is somehow doing the escape until there is no character to escape anymore, meaning after having the value <code>Beg&amp;#252;nstigter</code>, it escapes <code>&amp;</code> as <code>&amp;amp;</code>. That's why the final result I get becomes <code>Beg&amp;amp;#252;nstigter</code>. I've tried using commons-text, commons-lang, commons-lang3 with escapeXml10 and escapeXml11 methods as well as some other posted solutions. But nothing seems to work for me. What am I overlooking here, how can I solve this issue?</p>\n<p>Here is the full code of where I'm doing this:</p>\n<pre><code>private void exportRecords(XMLStreamWriter writer, XmlExportDataDescription exportDataDescription) throws XMLStreamException {\n        Long companyId = exportDataDescription.getCompanyId();\n        String mainTagName = exportDataDescription.getMainTagNameInXml();\n\n        long count = 0;\n\n        Clock clock = Clock.systemDefaultZone();\n        writer.writeStartElement(mainTagName);\n        while (true) {\n            Map&lt;String, Object&gt; parameter = new HashMap&lt;&gt;();\n            parameter.put(&quot;companyId&quot;, companyId);\n            parameter.put(&quot;offset&quot;, count + 1);\n            parameter.put(&quot;rowNum&quot;, count + MANUAL_XML_CREATION_BATCH_SIZE);\n\n            long startTimeResults = clock.millis();\n            List&lt;Map&lt;String, Object&gt;&gt; resultList = getSqlMapClientTemplate().queryForList(&quot;XML_EXPORT.&quot; + mainTagName, parameter);\n            long endTimeResults = clock.millis();\n\n            if (resultList.isEmpty()) {\n                break;\n            }\n\n            log.debug(&quot;---- Retrieving &quot; + resultList.size() + &quot; results for table &quot; + exportDataDescription.getMainTagNameInXml() + &quot; took &quot; + (endTimeResults - startTimeResults) + &quot; ms&quot;);\n\n            count += resultList.size();\n\n            long startTimeBatchWriting = clock.millis();\n            for (Map&lt;String, Object&gt; listEntry : resultList) {\n                writer.writeStartElement(mainTagName + &quot;_ROW&quot;);\n\n                for (Entry&lt;String, Object&gt; entry : listEntry.entrySet()) {\n                    if (entry.getKey().toLowerCase().equals(&quot;rn&quot;)) {\n                        continue;\n                    }\n\n                    if (entry.getValue() == null) {\n                        writer.writeEmptyElement(entry.getKey());\n                    } else {\n                        writer.writeStartElement(entry.getKey());\n                        writer.writeCharacters(StringEscapeUtils.escapeXml(entry.getValue().toString()));\n                        writer.writeEndElement();\n                    }\n                }\n\n                writer.writeEndElement();\n            }\n\n            long endTimeBatchWriting = clock.millis();\n            log.debug(&quot;---- Writing batch results for table &quot; + exportDataDescription.getMainTagNameInXml() + &quot; took &quot; + (endTimeBatchWriting - startTimeBatchWriting) + &quot; ms&quot;);\n        }\n\n        writer.writeEndElement();\n        exportDataDescription.setNumberOfDatasets(BigDecimal.valueOf(count));\n    }\n</code></pre>\n"},{"tags":["java","node.js","vue.js","websocket","micronaut"],"answers":[{"tags":[],"owner":{"account_id":18479522,"reputation":13,"user_id":13462096,"display_name":"myworkaccount"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693420047,"creation_date":1693420047,"answer_id":77010645,"question_id":77010474,"body_markdown":"So I ended up finding the answer here: https://github.com/micronaut-projects/micronaut-core/issues/8560 in sdelamo&#39;s first Jan 11 comment.\r\n\r\nI needed to use:\r\n```\r\nmicronaut:\r\n  application:\r\n    name: application-name\r\n  server:\r\n    cors:\r\n      enabled: true\r\n      configurations:\r\n        ui:\r\n          allowed-origins: &quot;http://dev.domain.com:8080&quot;\r\n    port: 8081\r\n```\r\n\r\nThis contradicts the documentation I read, which said that the configurations property was used to **restrict** cors access to specific domains not allow it.","title":"How do I enable cross-origin websocket connections in Micronaut?","body":"<p>So I ended up finding the answer here: <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/8560\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/issues/8560</a> in sdelamo's first Jan 11 comment.</p>\n<p>I needed to use:</p>\n<pre><code>micronaut:\n  application:\n    name: application-name\n  server:\n    cors:\n      enabled: true\n      configurations:\n        ui:\n          allowed-origins: &quot;http://dev.domain.com:8080&quot;\n    port: 8081\n</code></pre>\n<p>This contradicts the documentation I read, which said that the configurations property was used to <strong>restrict</strong> cors access to specific domains not allow it.</p>\n"}],"owner":{"account_id":18479522,"reputation":13,"user_id":13462096,"display_name":"myworkaccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77010645,"answer_count":1,"score":0,"last_activity_date":1693420047,"creation_date":1693418388,"question_id":77010474,"body_markdown":"I&#39;m trying to implement a new Micronaut microservice that will be a websocket server, let&#39;s say it runs on `http://localhost:8081` and the websocket is on `ws://localhost:8081/ws`. \r\n\r\nThe client will be the Vue.js UI running locally on a different domain, say `http://dev.domain.com:8080`.\r\n\r\nWhen I click the UI button that will trigger the websocket connection and transmission of data, I get the following in Chrome:\r\n\r\n`Common.umd.js:8 WebSocket connection to &#39;ws://localhost:8081/ws&#39; failed: `\r\n\r\nand the following in Firefox:\r\n\r\n```\r\nGET ws://localhost:8081/ws [HTTP/1.1 403 Forbidden 412ms]\r\n\r\nFirefox can’t establish a connection to the server at ws://localhost:8081/ws. Common.umd.js:formatted:3191:34\r\n```\r\n\r\nIn Firefox it gives a `403` error, but in Chrome under the network tab it just says that the request to `ws://localhost:8081/ws` has `Finished`, without a status code. I&#39;m not really sure what to make of this, but the `403` must be coming from the Micronaut server, correct?\r\n\r\nThe Micronaut websocket server code generally looks like (I left out the details because there is nothing mentioned in the Micronaut server access logs about a `403`, meaning the code isn&#39;t even reached):\r\n```\r\n@ServerWebSocket(&quot;/ws&quot;)\r\npublic class Server {\r\n\r\n  /** Class logger. */\r\n  private static final Logger log = LoggerFactory.getLogger(Server.class);\r\n\r\n  /** Micronaut application context. */\r\n  @Inject ApplicationContext ctx;\r\n  \r\n  /** Service configuration. */\r\n  @Inject Configuration configuration;\r\n\r\n  /** WebSocket broadcaster. */\r\n  @Inject WebSocketBroadcaster broadcaster;\r\n\r\n  /** The RabbitMQ message producer. */\r\n  @Inject ApiProducer producer;\r\n  \r\n\r\n  /**\r\n   * Handler for connection open event.\r\n   *\r\n   * @param session - the created WS session.\r\n   * @return Publisher for the startup confirmation message.\r\n   */\r\n  @SuppressWarnings(&quot;static-method&quot;)\r\n  @OnOpen\r\n  public Publisher&lt;String&gt; onOpen(WebSocketSession session) {\r\n    ...\r\n  }\r\n\r\n  /**\r\n   * Handler for message received event.\r\n   *\r\n   * @param message - the command payload\r\n   * @param session - current WS session\r\n   * @return Publisher for the response message.\r\n   */\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  @OnMessage\r\n  public Publisher&lt;String&gt; onMessage(String message, WebSocketSession session) {\r\n    ...\r\n  }\r\n\r\n  public Mono&lt;String&gt; onNotification(String notification, UUID correlationId) {\r\n    ...\r\n  }\r\n\r\n  /**\r\n   * Handler for connection close event.\r\n   *\r\n   * @param session - the WS session to be closed.\r\n   */\r\n  @SuppressWarnings(&quot;static-method&quot;)\r\n  @OnClose\r\n  public void onClose(WebSocketSession session) {\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nOn the Vue.js side, we are using the `vuex` `createStore` method in conjunction with the `VueNativeSock` module from the `vue-native-websocket-vue3` package.\r\n\r\nAlso on the Micronaut side, I have tried enabling processing of CORS requests using the following in the `application.yml` file:\r\n```\r\nmicronaut:\r\n  application:\r\n    name: application-name\r\n  server:\r\n    cors:\r\n      enabled: true\r\n    port: 8081\r\n```\r\n\r\nHowever, this still doesn&#39;t work.\r\n\r\nSome additional context: when I use `http://localhost:8080` as the UI domain and leave everything else the same, it connects and sends the data without issue. The problem only arises when the UI has a different domain, which would also be the case in production.\r\n\r\nAny help is appreciated.","title":"How do I enable cross-origin websocket connections in Micronaut?","body":"<p>I'm trying to implement a new Micronaut microservice that will be a websocket server, let's say it runs on <code>http://localhost:8081</code> and the websocket is on <code>ws://localhost:8081/ws</code>.</p>\n<p>The client will be the Vue.js UI running locally on a different domain, say <code>http://dev.domain.com:8080</code>.</p>\n<p>When I click the UI button that will trigger the websocket connection and transmission of data, I get the following in Chrome:</p>\n<p><code>Common.umd.js:8 WebSocket connection to 'ws://localhost:8081/ws' failed: </code></p>\n<p>and the following in Firefox:</p>\n<pre><code>GET ws://localhost:8081/ws [HTTP/1.1 403 Forbidden 412ms]\n\nFirefox can’t establish a connection to the server at ws://localhost:8081/ws. Common.umd.js:formatted:3191:34\n</code></pre>\n<p>In Firefox it gives a <code>403</code> error, but in Chrome under the network tab it just says that the request to <code>ws://localhost:8081/ws</code> has <code>Finished</code>, without a status code. I'm not really sure what to make of this, but the <code>403</code> must be coming from the Micronaut server, correct?</p>\n<p>The Micronaut websocket server code generally looks like (I left out the details because there is nothing mentioned in the Micronaut server access logs about a <code>403</code>, meaning the code isn't even reached):</p>\n<pre><code>@ServerWebSocket(&quot;/ws&quot;)\npublic class Server {\n\n  /** Class logger. */\n  private static final Logger log = LoggerFactory.getLogger(Server.class);\n\n  /** Micronaut application context. */\n  @Inject ApplicationContext ctx;\n  \n  /** Service configuration. */\n  @Inject Configuration configuration;\n\n  /** WebSocket broadcaster. */\n  @Inject WebSocketBroadcaster broadcaster;\n\n  /** The RabbitMQ message producer. */\n  @Inject ApiProducer producer;\n  \n\n  /**\n   * Handler for connection open event.\n   *\n   * @param session - the created WS session.\n   * @return Publisher for the startup confirmation message.\n   */\n  @SuppressWarnings(&quot;static-method&quot;)\n  @OnOpen\n  public Publisher&lt;String&gt; onOpen(WebSocketSession session) {\n    ...\n  }\n\n  /**\n   * Handler for message received event.\n   *\n   * @param message - the command payload\n   * @param session - current WS session\n   * @return Publisher for the response message.\n   */\n  @SuppressWarnings(&quot;unchecked&quot;)\n  @OnMessage\n  public Publisher&lt;String&gt; onMessage(String message, WebSocketSession session) {\n    ...\n  }\n\n  public Mono&lt;String&gt; onNotification(String notification, UUID correlationId) {\n    ...\n  }\n\n  /**\n   * Handler for connection close event.\n   *\n   * @param session - the WS session to be closed.\n   */\n  @SuppressWarnings(&quot;static-method&quot;)\n  @OnClose\n  public void onClose(WebSocketSession session) {\n    ...\n  }\n}\n</code></pre>\n<p>On the Vue.js side, we are using the <code>vuex</code> <code>createStore</code> method in conjunction with the <code>VueNativeSock</code> module from the <code>vue-native-websocket-vue3</code> package.</p>\n<p>Also on the Micronaut side, I have tried enabling processing of CORS requests using the following in the <code>application.yml</code> file:</p>\n<pre><code>micronaut:\n  application:\n    name: application-name\n  server:\n    cors:\n      enabled: true\n    port: 8081\n</code></pre>\n<p>However, this still doesn't work.</p>\n<p>Some additional context: when I use <code>http://localhost:8080</code> as the UI domain and leave everything else the same, it connects and sends the data without issue. The problem only arises when the UI has a different domain, which would also be the case in production.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":3929075,"reputation":5785,"user_id":3248412,"accept_rate":89,"display_name":"vs97"},"score":0,"creation_date":1588280678,"post_id":61532647,"comment_id":108846672,"body_markdown":"Have you checked that the directory on your system in which your Android projects are stored is empty?","body":"Have you checked that the directory on your system in which your Android projects are stored is empty?"},{"owner":{"account_id":18314040,"reputation":1,"user_id":13336205,"display_name":"mina"},"score":0,"creation_date":1588281624,"post_id":61532647,"comment_id":108847084,"body_markdown":"I have and it is empty. It makes no sense. I think I&#39;m misunderstanding something about AndroidStudio .","body":"I have and it is empty. It makes no sense. I think I&#39;m misunderstanding something about AndroidStudio ."},{"owner":{"account_id":3929075,"reputation":5785,"user_id":3248412,"accept_rate":89,"display_name":"vs97"},"score":0,"creation_date":1588281779,"post_id":61532647,"comment_id":108847148,"body_markdown":"Checked that no .idea file there? It is a hidden file.","body":"Checked that no .idea file there? It is a hidden file."},{"owner":{"account_id":18314040,"reputation":1,"user_id":13336205,"display_name":"mina"},"score":0,"creation_date":1588284169,"post_id":61532647,"comment_id":108848124,"body_markdown":"but even if there is one, it&#39;s not for the project I am trying to upload. How do I find it on android studio","body":"but even if there is one, it&#39;s not for the project I am trying to upload. How do I find it on android studio"}],"answers":[{"tags":[],"owner":{"account_id":12473711,"reputation":57,"user_id":9080881,"display_name":"Peter Holdensgaard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588286610,"creation_date":1588286610,"answer_id":61534000,"question_id":61532647,"body_markdown":"I had the same problem. I just renamed the folder name and imported as normal in Android Studio.\r\nRemember to rebuild project, so directory is correct to your system","title":"The project file specified already exists? Can&#39;t import to Android Studio?","body":"<p>I had the same problem. I just renamed the folder name and imported as normal in Android Studio.\nRemember to rebuild project, so directory is correct to your system</p>\n"},{"tags":[],"owner":{"account_id":29323519,"reputation":11,"user_id":22466577,"display_name":"FOOKTHISOFFICIAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693419238,"creation_date":1693419238,"answer_id":77010555,"question_id":61532647,"body_markdown":"If you&#39;re tryna import it as is(Project.zip) you&#39;re gonna wanna unzip first so android studio wouldn&#39;t rip. 2Pac was playin&#39; that&#39;s why","title":"The project file specified already exists? Can&#39;t import to Android Studio?","body":"<p>If you're tryna import it as is(Project.zip) you're gonna wanna unzip first so android studio wouldn't rip. 2Pac was playin' that's why</p>\n"}],"owner":{"account_id":18314040,"reputation":1,"user_id":13336205,"display_name":"mina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693419238,"creation_date":1588280447,"question_id":61532647,"body_markdown":"I keep trying to import a project that my teacher sent us as an example into Android Studio but I can&#39;t get it to work. It keeps saying that &quot;The project file specified already exists&quot; and I don&#39;t know what to do. I have tried uninstalling Android Studio completely and reinstalling it and it still says that the project file exists which makes no sense as I literally cannot have any projects on there with a fresh install. I made sure to delete all other files related to it too. All my workspaces are clear. Does anyone have an idea of what&#39;s going on? ","title":"The project file specified already exists? Can&#39;t import to Android Studio?","body":"<p>I keep trying to import a project that my teacher sent us as an example into Android Studio but I can't get it to work. It keeps saying that \"The project file specified already exists\" and I don't know what to do. I have tried uninstalling Android Studio completely and reinstalling it and it still says that the project file exists which makes no sense as I literally cannot have any projects on there with a fresh install. I made sure to delete all other files related to it too. All my workspaces are clear. Does anyone have an idea of what's going on? </p>\n"},{"tags":["java","html","eclipse","selenium-webdriver","relative-locators"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693428334,"post_id":77010549,"comment_id":135761534,"body_markdown":"You should try/catch the call and include the exception caught.  (It looks like there&#39;s an exception returned but you haven&#39;t listed it there...  probably no such element)  Right off the bat, though you won&#39;t want to use a relative locator on a &lt;style&gt; tag (has no location onscreen) and &quot;colspan&quot; is an attribute, not a HTML tag name.","body":"You should try/catch the call and include the exception caught.  (It looks like there&#39;s an exception returned but you haven&#39;t listed it there...  probably no such element)  Right off the bat, though you won&#39;t want to use a relative locator on a &lt;style&gt; tag (has no location onscreen) and &quot;colspan&quot; is an attribute, not a HTML tag name."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693428372,"post_id":77010549,"comment_id":135761540,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"score":0,"creation_date":1693464650,"post_id":77010549,"comment_id":135765014,"body_markdown":"@pcalkins If you ignore my code, how would you typically relatively locate an html structure like I wrote? Basically, how to download a dynamic html table?","body":"@pcalkins If you ignore my code, how would you typically relatively locate an html structure like I wrote? Basically, how to download a dynamic html table?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693501358,"post_id":77010549,"comment_id":135772903,"body_markdown":"if the HTML markup of the DOM doesn&#39;t give you a good target, think about how the user decides what is what... hard to give more specific advice without seeing the markup.","body":"if the HTML markup of the DOM doesn&#39;t give you a good target, think about how the user decides what is what... hard to give more specific advice without seeing the markup."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693511101,"post_id":77010549,"comment_id":135774640,"body_markdown":"those relative locators are pretty new.  I haven&#39;t used them yet.  They seem to be designed to test locations of objects (probably at different screen sizes).  I&#39;ve never had a case where I needed to use them.  (and they do have a higher overhead than using other locators)","body":"those relative locators are pretty new.  I haven&#39;t used them yet.  They seem to be designed to test locations of objects (probably at different screen sizes).  I&#39;ve never had a case where I needed to use them.  (and they do have a higher overhead than using other locators)"},{"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"score":0,"creation_date":1693542679,"post_id":77010549,"comment_id":135777622,"body_markdown":"Yeah those might be wrong, like you said colspan is an attribute. So I want to try a new approach, to download the whole table. But I cannot figure out how to write excel tables from selenium, all the tutorials are of just one or two cells. How to write entire tables efficiently, getRow function has null pointer issues and createCell sometimes deletes other cells...","body":"Yeah those might be wrong, like you said colspan is an attribute. So I want to try a new approach, to download the whole table. But I cannot figure out how to write excel tables from selenium, all the tutorials are of just one or two cells. How to write entire tables efficiently, getRow function has null pointer issues and createCell sometimes deletes other cells..."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693585127,"post_id":77010549,"comment_id":135785198,"body_markdown":"you can get a webreference array of all &lt;td&gt;&#39;s using findElements() and parse accordingly.    It all depends on the markup of the DOM.","body":"you can get a webreference array of all &lt;td&gt;&#39;s using findElements() and parse accordingly.    It all depends on the markup of the DOM."}],"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693419153,"creation_date":1693419153,"question_id":77010549,"body_markdown":"The line in the code is:\r\n\r\n    a = driver.findElement(RelativeLocator.with(By.tagName(&quot;style&quot;)).toRightOf(By.tagName(&quot;colspan&quot;))).getText();\r\n\r\nThere is a very long essay by way of error in the Console section, including am MIT license disclaimer (?)... I cannot make head or tail of it. I struggled making this line of code, I&#39;m sure there must be some error in it. The goal is to get a net figure (bottom right) from an online table, but it&#39;s behind a login which I can&#39;t share.\r\n\r\nWhen you hover over the html, there is a structure like \r\n\r\n    &lt;head&gt;&lt;body&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;\r\nThe exact cell I need is on the \\&lt;td\\&gt; part, but the data in it is in the \\&lt;b\\&gt; part. There is no tag or anything in the \\&lt;b\\&gt; part. There is an iframe as well, but I verified that i&#39;m on the correct one, as I do get the correct result using xpath. But I need a relative locator, because there are multiple pages with different tables, and they are dynamically generated and vary in size from day to day as well. I hope this was enough information... if not please ask for whatever else is needed...thank you! Here is a list of all the errors:\r\n\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:463)\r\n\tat org.openqa.selenium.support.locators.RelativeLocator$RelativeBy.findElements(RelativeLocator.java:194)\r\n\tat org.openqa.selenium.By.findElement(By.java:122)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:139)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:81)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:355)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:349)\r\n\tat artifactidshilpipackage.shilpi.main(shilpi.java:82)\r\n\r\n","title":"Javascript exception in Selenium - Java - org.openqa.selenium.JavascriptException: [object Object]","body":"<p>The line in the code is:</p>\n<pre><code>a = driver.findElement(RelativeLocator.with(By.tagName(&quot;style&quot;)).toRightOf(By.tagName(&quot;colspan&quot;))).getText();\n</code></pre>\n<p>There is a very long essay by way of error in the Console section, including am MIT license disclaimer (?)... I cannot make head or tail of it. I struggled making this line of code, I'm sure there must be some error in it. The goal is to get a net figure (bottom right) from an online table, but it's behind a login which I can't share.</p>\n<p>When you hover over the html, there is a structure like</p>\n<pre><code>&lt;head&gt;&lt;body&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;\n</code></pre>\n<p>The exact cell I need is on the &lt;td&gt; part, but the data in it is in the &lt;b&gt; part. There is no tag or anything in the &lt;b&gt; part. There is an iframe as well, but I verified that i'm on the correct one, as I do get the correct result using xpath. But I need a relative locator, because there are multiple pages with different tables, and they are dynamically generated and vary in size from day to day as well. I hope this was enough information... if not please ask for whatever else is needed...thank you! Here is a list of all the errors:</p>\n<pre><code>at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:52)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\nat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:463)\nat org.openqa.selenium.support.locators.RelativeLocator$RelativeBy.findElements(RelativeLocator.java:194)\nat org.openqa.selenium.By.findElement(By.java:122)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:139)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:81)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:355)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:349)\nat artifactidshilpipackage.shilpi.main(shilpi.java:82)\n</code></pre>\n"},{"tags":["java","firebase","firebase-cloud-messaging","google-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":20316910,"reputation":55,"user_id":14902603,"display_name":"IT-Guy007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693418994,"creation_date":1693418994,"answer_id":77010534,"question_id":77007494,"body_markdown":"Can you give us an example what kind of payload you are sending. A data notification is a notification that doesn&#39;t have any of the UI notifications fields filled-in. \r\n\r\nExample: &#39;normal&#39; notification\r\n```typescript\r\nconst singleMessage: admin.messaging.Message = {\r\n  android: {},\r\n  apns: {},\r\n  data: {}, // Optional\r\n  token: token\r\n}\r\n```\r\n\r\nData notification:\r\n```typescript\r\nconst singleMessage: admin.messaging.Message = {\r\n  data: {},\r\n  token: token\r\n}\r\n```\r\n\r\nIf it has any of the APNS or Android fields it will always been seen as a &#39;normal&#39; notification","title":"Firebase data notifications are not being sent","body":"<p>Can you give us an example what kind of payload you are sending. A data notification is a notification that doesn't have any of the UI notifications fields filled-in.</p>\n<p>Example: 'normal' notification</p>\n<pre class=\"lang-js prettyprint-override\"><code>const singleMessage: admin.messaging.Message = {\n  android: {},\n  apns: {},\n  data: {}, // Optional\n  token: token\n}\n</code></pre>\n<p>Data notification:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const singleMessage: admin.messaging.Message = {\n  data: {},\n  token: token\n}\n</code></pre>\n<p>If it has any of the APNS or Android fields it will always been seen as a 'normal' notification</p>\n"}],"owner":{"account_id":3174200,"reputation":2396,"user_id":2682472,"accept_rate":90,"display_name":"Florian Baierl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693418994,"creation_date":1693394399,"question_id":77007494,"body_markdown":"We are currently struggling with sending our firebase data notifications. As far as I can see, those are not being sent at all. Here is a screenshot from the firebase console:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the piece of code that is responsible for sending in our spring boot server:\r\n\r\n```java\r\n    public boolean sendSilentPushMessage(String pushToken, Map&lt;String, String&gt; notificationPayload) {\r\n        Message.Builder messageBuilder = Message.builder();\r\n\r\n        // prepare message with body\r\n        Message message = messageBuilder\r\n            .putAllData(notificationPayload)\r\n            .setToken(pushToken)\r\n            .build();\r\n\r\n        // send notification to Firebase\r\n        try {\r\n            final var messageId = FirebaseMessaging.getInstance(firebaseApp).send(message);\r\n            log.debug(&quot;Sent silent firebase push notification: &quot; + messageId);\r\n            return true;\r\n        }\r\n        catch (FirebaseMessagingException e) {\r\n            log.warn(&quot;Could not send firebase silent push notification&quot;, e);\r\n            return false;\r\n        }\r\n   }\r\n\r\n```\r\n\r\nI can see the log that the firebase message is being sent (including the message id):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I further debug this? There is no exception being thrown.\r\n\r\n  [1]: https://i.stack.imgur.com/IByfM.png\r\n  [2]: https://i.stack.imgur.com/UPvAy.png","title":"Firebase data notifications are not being sent","body":"<p>We are currently struggling with sending our firebase data notifications. As far as I can see, those are not being sent at all. Here is a screenshot from the firebase console:</p>\n<p><a href=\"https://i.stack.imgur.com/IByfM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IByfM.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the piece of code that is responsible for sending in our spring boot server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public boolean sendSilentPushMessage(String pushToken, Map&lt;String, String&gt; notificationPayload) {\n        Message.Builder messageBuilder = Message.builder();\n\n        // prepare message with body\n        Message message = messageBuilder\n            .putAllData(notificationPayload)\n            .setToken(pushToken)\n            .build();\n\n        // send notification to Firebase\n        try {\n            final var messageId = FirebaseMessaging.getInstance(firebaseApp).send(message);\n            log.debug(&quot;Sent silent firebase push notification: &quot; + messageId);\n            return true;\n        }\n        catch (FirebaseMessagingException e) {\n            log.warn(&quot;Could not send firebase silent push notification&quot;, e);\n            return false;\n        }\n   }\n\n</code></pre>\n<p>I can see the log that the firebase message is being sent (including the message id):</p>\n<p><a href=\"https://i.stack.imgur.com/UPvAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UPvAy.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I further debug this? There is no exception being thrown.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693407451,"post_id":77009131,"comment_id":135757374,"body_markdown":"Because `myArray` is essentially an array of `myArray2`s.","body":"Because <code>myArray</code> is essentially an array of <code>myArray2</code>s."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693410251,"creation_date":1693407361,"answer_id":77009180,"question_id":77009131,"body_markdown":"Java assigns variables _references_ to complex objects, such as arrays. Reassigning an array variable sets a new reference, it does not copy the array. That means it does not matter what the dimensions of the old reference target array and the new reference target array are.\r\n\r\nMultidimensional arrays in Java don&#39;t really exist and are actually arrays of arrays. Each nested array can have a different dimension (&quot;jagged array&quot;).\r\n\r\n```\r\nint small[] = new int[5];\r\nint big[] = new int[42];\r\nsmall = big; // reference is set. no problem, small == big\r\nbig[0] = 1337;\r\nSystem.out.println(small[0]); // 1337; since both references reference the same array\r\n```\r\n\r\nArray indices start at `0`, so `array[0]` is the first element in an array.\r\n\r\nWith the above information is should be simple to figure out which of the assignment statements are valid to the compiler and which could throw an exception at runtime.","title":"Reassigning Multidimensional Arrays in Java Problem","body":"<p>Java assigns variables <em>references</em> to complex objects, such as arrays. Reassigning an array variable sets a new reference, it does not copy the array. That means it does not matter what the dimensions of the old reference target array and the new reference target array are.</p>\n<p>Multidimensional arrays in Java don't really exist and are actually arrays of arrays. Each nested array can have a different dimension (&quot;jagged array&quot;).</p>\n<pre><code>int small[] = new int[5];\nint big[] = new int[42];\nsmall = big; // reference is set. no problem, small == big\nbig[0] = 1337;\nSystem.out.println(small[0]); // 1337; since both references reference the same array\n</code></pre>\n<p>Array indices start at <code>0</code>, so <code>array[0]</code> is the first element in an array.</p>\n<p>With the above information is should be simple to figure out which of the assignment statements are valid to the compiler and which could throw an exception at runtime.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693407971,"creation_date":1693407569,"answer_id":77009213,"question_id":77009131,"body_markdown":"\r\n\r\n```\r\ndouble myArray [][][] = new double [3][][];\r\ndouble d = 100.0;\r\ndouble [][] myArray2 = new double [1][1];\r\n```\r\nWhich of the following will not cause any problem at compile time or runtime? Select 2 options\r\n```\r\nA. myArray [0] = d;\r\nB. myArray [0] = myArray2;\r\nC. myArray [0] = myArray2 [0];\r\nD. myArray2 [1][1] = d;\r\nE. myArray2 = myArray [0]\r\n``` \r\n&gt; The answer is B and E, but I don&#39;t understand why. \r\n\r\nRemember that multi-dimensional arrays are arrays of arrays. So `myArray[0]` is a `2D` array since `myArray` is a `3D` array.\r\n\r\n- A. You are assigning a double value to a cell that is expecting a `2D` array (error)\r\n- B. you are assigning a `2D` array to a cell that is expecting a `2D` array (okay)\r\n- C. You are Assigning a `1D` array to a cell that expects a `2D` array (error)\r\n- D. The indices (`1`) is out of bounds. Zero based so should only be `0&#39;s`  (error) - thanks @matt\r\n- E. You are assigning a `2D` array to a value that is a `2D` array (okay)\r\n\r\nSO B and E are the ones that are allowed. ","title":"Reassigning Multidimensional Arrays in Java Problem","body":"<pre><code>double myArray [][][] = new double [3][][];\ndouble d = 100.0;\ndouble [][] myArray2 = new double [1][1];\n</code></pre>\n<p>Which of the following will not cause any problem at compile time or runtime? Select 2 options</p>\n<pre><code>A. myArray [0] = d;\nB. myArray [0] = myArray2;\nC. myArray [0] = myArray2 [0];\nD. myArray2 [1][1] = d;\nE. myArray2 = myArray [0]\n</code></pre>\n<blockquote>\n<p>The answer is B and E, but I don't understand why.</p>\n</blockquote>\n<p>Remember that multi-dimensional arrays are arrays of arrays. So <code>myArray[0]</code> is a <code>2D</code> array since <code>myArray</code> is a <code>3D</code> array.</p>\n<ul>\n<li>A. You are assigning a double value to a cell that is expecting a <code>2D</code> array (error)</li>\n<li>B. you are assigning a <code>2D</code> array to a cell that is expecting a <code>2D</code> array (okay)</li>\n<li>C. You are Assigning a <code>1D</code> array to a cell that expects a <code>2D</code> array (error)</li>\n<li>D. The indices (<code>1</code>) is out of bounds. Zero based so should only be <code>0's</code>  (error) - thanks @matt</li>\n<li>E. You are assigning a <code>2D</code> array to a value that is a <code>2D</code> array (okay)</li>\n</ul>\n<p>SO B and E are the ones that are allowed.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693418670,"creation_date":1693418670,"answer_id":77010499,"question_id":77009131,"body_markdown":"Multidimensional arrays are actually arrays of arrays. When you declare `double myArray[][][]`, you are creating a 3D array, or an array of 2D arrays. \r\n\r\nAnswer B: `myArray[0] = myArray2;` is valid because `myArray[0]` is a 2D array, and `myArray2` is also a 2D array. You are assigning one 2D array to another, which is allowed.\r\n\r\nAnswer E: `myArray2 = myArray[0]` is also valid for same reason. `myArray[0]` is a 2D array, and you are assigning it to `myArray2`, which is also a 2D array. \r\n\r\nThe other options are not valid because they are trying to assign incompatible types. For example, option A is trying to assign a double to a 2D array, which is not allowed. Option C is trying to assign a 1D array to a 2D array, and option D is trying to assign a value to an index that does not exist in the array.","title":"Reassigning Multidimensional Arrays in Java Problem","body":"<p>Multidimensional arrays are actually arrays of arrays. When you declare <code>double myArray[][][]</code>, you are creating a 3D array, or an array of 2D arrays.</p>\n<p>Answer B: <code>myArray[0] = myArray2;</code> is valid because <code>myArray[0]</code> is a 2D array, and <code>myArray2</code> is also a 2D array. You are assigning one 2D array to another, which is allowed.</p>\n<p>Answer E: <code>myArray2 = myArray[0]</code> is also valid for same reason. <code>myArray[0]</code> is a 2D array, and you are assigning it to <code>myArray2</code>, which is also a 2D array.</p>\n<p>The other options are not valid because they are trying to assign incompatible types. For example, option A is trying to assign a double to a 2D array, which is not allowed. Option C is trying to assign a 1D array to a 2D array, and option D is trying to assign a value to an index that does not exist in the array.</p>\n"}],"owner":{"account_id":25745781,"reputation":17,"user_id":19499021,"display_name":"TylerBalaskovitz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1693418670,"creation_date":1693406984,"question_id":77009131,"body_markdown":"I have the following problem\r\n```\r\ndouble myArray [][][] = new double [3][][];\r\ndouble d = 100.0;\r\ndouble [][] myArray2 = new double [1][1];\r\n```\r\nWhich of the following will not cause any problem at compile time or runtime?\r\nSelect 2 options\r\n```\r\nA. myArray [0] = d;\r\nB. myArray [0] = myArray2;\r\nC. myArray [0] = myArray2 [0];\r\nD. myArray2 [1][1] = d;\r\nE. myArray2 = myArray [0] \r\n```\r\nThe answer is B and E, but I don&#39;t understand why. The problem is based on reassigning multi-dimensional arrays to each other, but using arrays that were initialized with separate dimensions. So, when I look at the answer for B, I don&#39;t understand how myArray[0] = myArray2 are both the same dimension and the same for answer myArray2 = myArray[0]. Could someone explain this to me. Many thanks. ","title":"Reassigning Multidimensional Arrays in Java Problem","body":"<p>I have the following problem</p>\n<pre><code>double myArray [][][] = new double [3][][];\ndouble d = 100.0;\ndouble [][] myArray2 = new double [1][1];\n</code></pre>\n<p>Which of the following will not cause any problem at compile time or runtime?\nSelect 2 options</p>\n<pre><code>A. myArray [0] = d;\nB. myArray [0] = myArray2;\nC. myArray [0] = myArray2 [0];\nD. myArray2 [1][1] = d;\nE. myArray2 = myArray [0] \n</code></pre>\n<p>The answer is B and E, but I don't understand why. The problem is based on reassigning multi-dimensional arrays to each other, but using arrays that were initialized with separate dimensions. So, when I look at the answer for B, I don't understand how myArray[0] = myArray2 are both the same dimension and the same for answer myArray2 = myArray[0]. Could someone explain this to me. Many thanks.</p>\n"},{"tags":["java","hibernate","jdbc","oracle11g"],"answers":[{"tags":[],"owner":{"account_id":1470633,"reputation":1701,"user_id":1382300,"accept_rate":50,"display_name":"inigoD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361785052,"creation_date":1361784670,"answer_id":15063817,"question_id":15063657,"body_markdown":"SID Is the &#39;unique name for your DDBB&#39;.\r\n\r\nYou must give it in the connection url like this:\r\n\r\n    jdbc:postgresql://&lt;IP-PORT&gt;/&lt;your_SID&gt;?useUnicode=true&amp;amp;characterEncoding=ISO-8859-1\r\n\r\nIn this case this was a postgres db and the url was in the datasource definition in an apache-tomcat server (server.xml) (Inside &lt;host&gt;&lt;context&gt;&lt;resource ... &gt;). \r\n\r\n(You can configure too hibernate&#39;s pool adding:\r\n\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://&lt;IP-PORT&gt;/&lt;your_SID&gt;&lt;/property&gt;\r\n\r\n)\r\n\r\nIs not the same but you can figure that you should insert the DDBB SID somewhere in the url specification.\r\n\r\nHope this helps. ","title":"java.sql.SQLException: ORA-12505, TNS:listener does not currently know of SID given in connect descriptor","body":"<p>SID Is the 'unique name for your DDBB'.</p>\n\n<p>You must give it in the connection url like this:</p>\n\n<pre><code>jdbc:postgresql://&lt;IP-PORT&gt;/&lt;your_SID&gt;?useUnicode=true&amp;amp;characterEncoding=ISO-8859-1\n</code></pre>\n\n<p>In this case this was a postgres db and the url was in the datasource definition in an apache-tomcat server (server.xml) (Inside ). </p>\n\n<p>(You can configure too hibernate's pool adding:</p>\n\n<pre><code>&lt;property name=\"connection.url\"&gt;jdbc:postgresql://&lt;IP-PORT&gt;/&lt;your_SID&gt;&lt;/property&gt;\n</code></pre>\n\n<p>)</p>\n\n<p>Is not the same but you can figure that you should insert the DDBB SID somewhere in the url specification.</p>\n\n<p>Hope this helps. </p>\n"}],"owner":{"account_id":2295635,"reputation":95,"user_id":2017130,"accept_rate":50,"display_name":"cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693418560,"creation_date":1361784083,"question_id":15063657,"body_markdown":"I am trying to connect to oracle 11g XE through hibernate in my application.\r\nwhen I deploy the application in tomcat(7.0) i m getting the below message.\r\n\r\n&gt; java.sql.SQLException: Listener refused the connection with the\r\n&gt; following error: ORA-12505, TNS:listener does not currently know of\r\n&gt; SID given in connect descriptor\r\n\r\nWhen I run the application and call the request to the Dao class through UI I am getiing below exception message.\r\n\r\n&gt; org.springframework.jdbc.support.MetaDataAccessException: Could not\r\n&gt; get Connection for extracting meta data; nested exception is\r\n&gt; org.springframework.jdbc.CannotGetJdbcConnectionException: Could not\r\n&gt; get JDBC Connection; nested exception is java.sql.SQLException:\r\n&gt; Listener refused the connection with the following error: ORA-12505,\r\n&gt; TNS:listener does not currently know of SID given in connect\r\n&gt; descriptor\r\n\r\nMy DB properties file is \r\n\r\n    jdbc.driverClassName=oracle.jdbc.driver.OracleDriver \r\n    jdbc.url=jdbc:oracle:thin:@localhost:1522:XE\r\n    jdbc.username=system\r\n    jdbc.password=oracle\r\n\r\ni have installed oracle11g XE and theses are my tnanames.ora and listener.ora files. Where should I make change.\r\n\r\nlistener.ora\r\n\r\n    SID_LIST_LISTENER =\r\n      (SID_LIST =\r\n        (SID_DESC =\r\n          (SID_NAME = PLSExtProc)\r\n          (ORACLE_HOME = D:\\oracleXE\\app\\oracle\\product\\11.2.0\\server)\r\n          (PROGRAM = extproc)\r\n        )\r\n        (SID_DESC =\r\n          (SID_NAME = CLRExtProc)\r\n          (ORACLE_HOME = D:\\oracleXE\\app\\oracle\\product\\11.2.0\\server)\r\n          (PROGRAM = extproc)\r\n        )\r\n      )\r\n    \r\n    LISTENER =\r\n      (DESCRIPTION_LIST =\r\n        (DESCRIPTION =\r\n          (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))\r\n          (ADDRESS = (PROTOCOL = TCP)(HOST = SIPLDT0019-PC)(PORT = 1522))\r\n        )\r\n      )\r\n    \r\n    DEFAULT_SERVICE_LISTENER = (XE)\r\n\r\ntnsnames.ora\r\n\r\n    XE =\r\n      (DESCRIPTION =\r\n        (ADDRESS = (PROTOCOL = TCP)(HOST = SIPLDT0019-PC)(PORT = 1522))\r\n        (CONNECT_DATA =\r\n          (SERVER = DEDICATED)\r\n          (SERVICE_NAME = XE)\r\n        )\r\n      )\r\n    \r\n    EXTPROC_CONNECTION_DATA =\r\n      (DESCRIPTION =\r\n        (ADDRESS_LIST =\r\n          (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))\r\n        )\r\n        (CONNECT_DATA =\r\n          (SID = PLSExtProc)\r\n          (PRESENTATION = RO)\r\n        )\r\n      )\r\n    \r\n    ORACLR_CONNECTION_DATA = \r\n      (DESCRIPTION = \r\n        (ADDRESS_LIST = \r\n          (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1)) \r\n        ) \r\n        (CONNECT_DATA = \r\n          (SID = CLRExtProc) \r\n          (PRESENTATION = RO) \r\n        ) \r\n      ) ","title":"java.sql.SQLException: ORA-12505, TNS:listener does not currently know of SID given in connect descriptor","body":"<p>I am trying to connect to oracle 11g XE through hibernate in my application.\nwhen I deploy the application in tomcat(7.0) i m getting the below message.</p>\n\n<blockquote>\n  <p>java.sql.SQLException: Listener refused the connection with the\n  following error: ORA-12505, TNS:listener does not currently know of\n  SID given in connect descriptor</p>\n</blockquote>\n\n<p>When I run the application and call the request to the Dao class through UI I am getiing below exception message.</p>\n\n<blockquote>\n  <p>org.springframework.jdbc.support.MetaDataAccessException: Could not\n  get Connection for extracting meta data; nested exception is\n  org.springframework.jdbc.CannotGetJdbcConnectionException: Could not\n  get JDBC Connection; nested exception is java.sql.SQLException:\n  Listener refused the connection with the following error: ORA-12505,\n  TNS:listener does not currently know of SID given in connect\n  descriptor</p>\n</blockquote>\n\n<p>My DB properties file is </p>\n\n<pre><code>jdbc.driverClassName=oracle.jdbc.driver.OracleDriver \njdbc.url=jdbc:oracle:thin:@localhost:1522:XE\njdbc.username=system\njdbc.password=oracle\n</code></pre>\n\n<p>i have installed oracle11g XE and theses are my tnanames.ora and listener.ora files. Where should I make change.</p>\n\n<p>listener.ora</p>\n\n<pre><code>SID_LIST_LISTENER =\n  (SID_LIST =\n    (SID_DESC =\n      (SID_NAME = PLSExtProc)\n      (ORACLE_HOME = D:\\oracleXE\\app\\oracle\\product\\11.2.0\\server)\n      (PROGRAM = extproc)\n    )\n    (SID_DESC =\n      (SID_NAME = CLRExtProc)\n      (ORACLE_HOME = D:\\oracleXE\\app\\oracle\\product\\11.2.0\\server)\n      (PROGRAM = extproc)\n    )\n  )\n\nLISTENER =\n  (DESCRIPTION_LIST =\n    (DESCRIPTION =\n      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))\n      (ADDRESS = (PROTOCOL = TCP)(HOST = SIPLDT0019-PC)(PORT = 1522))\n    )\n  )\n\nDEFAULT_SERVICE_LISTENER = (XE)\n</code></pre>\n\n<p>tnsnames.ora</p>\n\n<pre><code>XE =\n  (DESCRIPTION =\n    (ADDRESS = (PROTOCOL = TCP)(HOST = SIPLDT0019-PC)(PORT = 1522))\n    (CONNECT_DATA =\n      (SERVER = DEDICATED)\n      (SERVICE_NAME = XE)\n    )\n  )\n\nEXTPROC_CONNECTION_DATA =\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))\n    )\n    (CONNECT_DATA =\n      (SID = PLSExtProc)\n      (PRESENTATION = RO)\n    )\n  )\n\nORACLR_CONNECTION_DATA = \n  (DESCRIPTION = \n    (ADDRESS_LIST = \n      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1)) \n    ) \n    (CONNECT_DATA = \n      (SID = CLRExtProc) \n      (PRESENTATION = RO) \n    ) \n  ) \n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7080712,"reputation":1947,"user_id":5419228,"display_name":"shankarsh15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504862874,"creation_date":1463369243,"answer_id":37246275,"question_id":37244415,"body_markdown":"You can enable `allowCustomIsolationLevels` by setting below in `TransactionManager`\r\n\r\n    transactionManager.setAllowCustomIsolationLevels(true);\r\n\r\n","title":"Spring Data JPA transaction custom isolation level","body":"<p>You can enable <code>allowCustomIsolationLevels</code> by setting below in <code>TransactionManager</code></p>\n\n<pre><code>transactionManager.setAllowCustomIsolationLevels(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22922007,"reputation":5,"user_id":17057696,"display_name":"Vasily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693418261,"creation_date":1693418082,"answer_id":77010450,"question_id":37244415,"body_markdown":"my stack: Java 17, Spring Boot 3.0.6, Hibernate 6.2.5.Final, WildFly 28.0.1\r\n\r\nWorked for me:\r\n\r\n    @Configuration\r\n    public class TransactionConfiguration {\r\n    \r\n        @Autowired\r\n        public TransactionConfiguration(PlatformTransactionManager transactionManager) {\r\n            JtaTransactionManager jta = (JtaTransactionManager) transactionManager;\r\n            jta.setAllowCustomIsolationLevels(true);\r\n        }\r\n    }\r\n","title":"Spring Data JPA transaction custom isolation level","body":"<p>my stack: Java 17, Spring Boot 3.0.6, Hibernate 6.2.5.Final, WildFly 28.0.1</p>\n<p>Worked for me:</p>\n<pre><code>@Configuration\npublic class TransactionConfiguration {\n\n    @Autowired\n    public TransactionConfiguration(PlatformTransactionManager transactionManager) {\n        JtaTransactionManager jta = (JtaTransactionManager) transactionManager;\n        jta.setAllowCustomIsolationLevels(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3350146,"reputation":187,"user_id":2814351,"display_name":"Nordar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693418261,"creation_date":1463351804,"question_id":37244415,"body_markdown":"Given the following scenario:\r\nI have an app running with Spring Boot `@SpringBootApplication` and setup with Spring Data JPA datasource in `application.properties`:\r\n\r\n    spring.datasource.url=jdbc:mysql://foo.bar.com:12345\r\n    spring.datasource.username=user\r\n    spring.datasource.password=password\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nand no additional java/xml configs.\r\n\r\nI have a couple of services:\r\n\r\n    @Service\r\n    public class ProjectServiceImpl implements ProjectService {\r\n    \r\n        @Autowired\r\n        ProjectRepository projectRepository;\r\n    \r\n        @Override\r\n        @Transactional(isolation = Isolation.SERIALIZABLE)\r\n        public Project save(Project project) {\r\n            // there might be some additional logic here, besides the action on repository\r\n            return projectRepository.save(project);\r\n        }\r\n    }\r\n\r\nand repositories:\r\n\r\n    @Repository\r\n    public interface ProjectRepository extends CrudRepository&lt;Project, Long&gt; {}\r\n\r\nAs it&#39;s in the code above, I found myself in need of, let&#39;s say, `SERIALIZABLE` level of isolation due to the app being scaled up horizontally and occasionally saving conflicting data to DB (simply `@Transactional` was no enough). Now, when trying I try to perform `projectService.save(project)` action I get an exception:\r\n\r\n    &quot;exception&quot;: &quot;org.springframework.transaction.InvalidIsolationLevelException&quot;,\r\n    &quot;message&quot;: &quot;JtaTransactionManager does not support custom isolation levels by default - switch &#39;allowCustomIsolationLevels&#39; to &#39;true&#39;&quot;,\r\n\r\nIs it possible to enable those custom isolation levels with a java config?","title":"Spring Data JPA transaction custom isolation level","body":"<p>Given the following scenario:\nI have an app running with Spring Boot <code>@SpringBootApplication</code> and setup with Spring Data JPA datasource in <code>application.properties</code>:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://foo.bar.com:12345\nspring.datasource.username=user\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>and no additional java/xml configs.</p>\n\n<p>I have a couple of services:</p>\n\n<pre><code>@Service\npublic class ProjectServiceImpl implements ProjectService {\n\n    @Autowired\n    ProjectRepository projectRepository;\n\n    @Override\n    @Transactional(isolation = Isolation.SERIALIZABLE)\n    public Project save(Project project) {\n        // there might be some additional logic here, besides the action on repository\n        return projectRepository.save(project);\n    }\n}\n</code></pre>\n\n<p>and repositories:</p>\n\n<pre><code>@Repository\npublic interface ProjectRepository extends CrudRepository&lt;Project, Long&gt; {}\n</code></pre>\n\n<p>As it's in the code above, I found myself in need of, let's say, <code>SERIALIZABLE</code> level of isolation due to the app being scaled up horizontally and occasionally saving conflicting data to DB (simply <code>@Transactional</code> was no enough). Now, when trying I try to perform <code>projectService.save(project)</code> action I get an exception:</p>\n\n<pre><code>\"exception\": \"org.springframework.transaction.InvalidIsolationLevelException\",\n\"message\": \"JtaTransactionManager does not support custom isolation levels by default - switch 'allowCustomIsolationLevels' to 'true'\",\n</code></pre>\n\n<p>Is it possible to enable those custom isolation levels with a java config?</p>\n"},{"tags":["java","spring-boot","docker","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":3,"creation_date":1693417957,"post_id":77009860,"comment_id":135759647,"body_markdown":"I believe you will need to set `KAFKA_CFG_ADVERTISED_LISTENERS`; otherwise the advertised listeners will get the internal host name.\n\nhttps://hub.docker.com/r/bitnami/kafka/\n\nThe kafka-clients first connect to the bootstrap server(s) and the cluster then tells the clients to connect to the advertised listeners.","body":"I believe you will need to set <code>KAFKA_CFG_ADVERTISED_LISTENERS</code>; otherwise the advertised listeners will get the internal host name.  <a href=\"https://hub.docker.com/r/bitnami/kafka/\" rel=\"nofollow noreferrer\">hub.docker.com/r/bitnami/kafka</a>  The kafka-clients first connect to the bootstrap server(s) and the cluster then tells the clients to connect to the advertised listeners."},{"owner":{"account_id":5752061,"reputation":903,"user_id":4541397,"display_name":"jcz"},"score":1,"creation_date":1693429215,"post_id":77009860,"comment_id":135761669,"body_markdown":"`KAFKA_CFG_ADVERTISED_LISTENERS` specifies the address which your app should use to connect to the broker. It should specify `localhost:9092` since this is the address of your local kafka instance.","body":"<code>KAFKA_CFG_ADVERTISED_LISTENERS</code> specifies the address which your app should use to connect to the broker. It should specify <code>localhost:9092</code> since this is the address of your local kafka instance."}],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693432681,"answer_count":0,"score":0,"last_activity_date":1693417570,"creation_date":1693412639,"question_id":77009860,"body_markdown":"I&#39;m running kafka using `docker-compose.yml`. The content of my `docker-compose.yml` is:\r\n\r\n    version: &quot;3.8&quot;\r\n    name: &quot;event-driven-systems&quot;\r\n    services:\r\n      kafka:\r\n        container_name: &quot;kafka&quot;\r\n        image: &quot;bitnami/kafka:latest&quot;\r\n        networks:\r\n          - internal\r\n        ports:\r\n          - &quot;9092:9092&quot;\r\n        volumes:\r\n          - &quot;kafka_data:/bitnami&quot;\r\n        environment:\r\n          - KAFKA_CFG_NODE_ID=0\r\n          - KAFKA_CFG_PROCESS_ROLES=controller,broker\r\n          - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093\r\n          - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT\r\n          - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka:9093\r\n          - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\r\n    networks:\r\n      internal:\r\n        driver: &quot;bridge&quot;\r\n    volumes:\r\n      kafka_data:\r\n        driver: local\r\n\r\nI&#39;m using spring&#39;s kafka dependency to connect to the running kafka service.\r\nIn this application.yml file of spring boot I&#39;m having this:\r\n\r\n    kafka-topic:\r\n      name: &quot;location-update-topic&quot;\r\n    \r\n    spring:\r\n      kafka:\r\n        producer:\r\n          bootstrap-servers: &quot;localhost:9092&quot;\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          value-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n    \r\n    server:\r\n      port: 8081\r\n\r\nBut I&#39;m getting this error:\r\n```sh\r\n2023-08-30T20:54:01.884+05:30  WARN 263120 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Error connecting to node 596afe8fbe94:9092 (id: 0 rack: null)\r\n\r\njava.net.UnknownHostException: 596afe8fbe94\r\nat java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]\r\n        at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1524) ~[na:na]\r\n        at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1381) ~[na:na]\r\n        at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\r\n        at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.4.1.jar:na]\r\n        at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.4.1.jar:na]\r\n...\r\n```\r\nHow to solve this issue. I&#39;m using kafka for the first time.","title":"Unable to connect spring boot with kafka which is running in a docker container","body":"<p>I'm running kafka using <code>docker-compose.yml</code>. The content of my <code>docker-compose.yml</code> is:</p>\n<pre><code>version: &quot;3.8&quot;\nname: &quot;event-driven-systems&quot;\nservices:\n  kafka:\n    container_name: &quot;kafka&quot;\n    image: &quot;bitnami/kafka:latest&quot;\n    networks:\n      - internal\n    ports:\n      - &quot;9092:9092&quot;\n    volumes:\n      - &quot;kafka_data:/bitnami&quot;\n    environment:\n      - KAFKA_CFG_NODE_ID=0\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka:9093\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\nnetworks:\n  internal:\n    driver: &quot;bridge&quot;\nvolumes:\n  kafka_data:\n    driver: local\n</code></pre>\n<p>I'm using spring's kafka dependency to connect to the running kafka service.\nIn this application.yml file of spring boot I'm having this:</p>\n<pre><code>kafka-topic:\n  name: &quot;location-update-topic&quot;\n\nspring:\n  kafka:\n    producer:\n      bootstrap-servers: &quot;localhost:9092&quot;\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\n\nserver:\n  port: 8081\n</code></pre>\n<p>But I'm getting this error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-08-30T20:54:01.884+05:30  WARN 263120 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Error connecting to node 596afe8fbe94:9092 (id: 0 rack: null)\n\njava.net.UnknownHostException: 596afe8fbe94\nat java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:801) ~[na:na]\n        at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1524) ~[na:na]\n        at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1381) ~[na:na]\n        at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\n        at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.4.1.jar:na]\n        at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.4.1.jar:na]\n...\n</code></pre>\n<p>How to solve this issue. I'm using kafka for the first time.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":13418164,"reputation":16,"user_id":9681909,"display_name":"Ankit Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693391361,"creation_date":1693391361,"answer_id":77007169,"question_id":77007085,"body_markdown":"This error is usually caused by issues with the classpath or missing dependencies.\r\n\r\n1. Check Selenium Dependency: Make sure you have added the Selenium WebDriver library to your project.\r\n2. Correct Driver System Property: You have a small typo in the system property. It should be &quot;webdriver.chrome.driver&quot; instead of &quot;Webdriver.chrome.driver&quot;.\r\n3. Check Chromedriver Path: Make sure the path to the Chromedriver executable is correct. Also, ensure that the Chromedriver version matches your installed Chrome browser version. ","title":"Error: Unable to initialize main class TEST_Automation.Test_1 Caused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver","body":"<p>This error is usually caused by issues with the classpath or missing dependencies.</p>\n<ol>\n<li>Check Selenium Dependency: Make sure you have added the Selenium WebDriver library to your project.</li>\n<li>Correct Driver System Property: You have a small typo in the system property. It should be &quot;webdriver.chrome.driver&quot; instead of &quot;Webdriver.chrome.driver&quot;.</li>\n<li>Check Chromedriver Path: Make sure the path to the Chromedriver executable is correct. Also, ensure that the Chromedriver version matches your installed Chrome browser version.</li>\n</ol>\n"}],"owner":{"account_id":29328581,"reputation":1,"user_id":22470532,"display_name":"Atul Nachan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693416450,"creation_date":1693390681,"question_id":77007085,"body_markdown":"I am getting below error when i am trying to execute below code \r\n```java\r\npackage TEST_Automation;\r\n\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class Test_1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;Webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome\\\\chromedriver.exe&quot;);\r\n\r\n\t\tWebDriver driver = new ChromeDriver ();\r\n\t\tdriver.get(&quot;https://www.google.com&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nError: Unable to initialize main class TEST_Automation.Test_1\r\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n```\r\nopen chrome browser.","title":"Error: Unable to initialize main class TEST_Automation.Test_1 Caused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver","body":"<p>I am getting below error when i am trying to execute below code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TEST_Automation;\n\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.WebDriver;\n\npublic class Test_1 {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;Webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome\\\\chromedriver.exe&quot;);\n\n        WebDriver driver = new ChromeDriver ();\n        driver.get(&quot;https://www.google.com&quot;);\n    }\n\n}\n</code></pre>\n<pre><code>Error: Unable to initialize main class TEST_Automation.Test_1\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\n</code></pre>\n<p>open chrome browser.</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":21303444,"reputation":366,"user_id":15679023,"display_name":"frank_lee"},"score":0,"creation_date":1620021238,"post_id":67351850,"comment_id":119068620,"body_markdown":"Have you tried change `http://library:8080` to `http://library` ?","body":"Have you tried change <code>http:&#47;&#47;library:8080</code> to <code>http:&#47;&#47;library</code> ?"},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1693415693,"post_id":67351850,"comment_id":135759196,"body_markdown":"did you get it to work? I have the same problem!","body":"did you get it to work? I have the same problem!"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633358413,"creation_date":1633293508,"answer_id":69428711,"question_id":67351850,"body_markdown":"Your question says:\r\n*I am trying to do a httpRequest from library to people-service*\r\n\r\nFrom that I assume the request would be initiated in `library`. Then the URL should look like `http://people-service:8080`.\r\nBut from the error message I&#39;d assume your `library` is not able to run http requests - regardless of where they are going to, which is a bit strange. Investigate on that first, using simple urls like `http://stackoverflow.com` (which will return http status 301).","title":"Make HTTP request from one container to another","body":"<p>Your question says:\n<em>I am trying to do a httpRequest from library to people-service</em></p>\n<p>From that I assume the request would be initiated in <code>library</code>. Then the URL should look like <code>http://people-service:8080</code>.\nBut from the error message I'd assume your <code>library</code> is not able to run http requests - regardless of where they are going to, which is a bit strange. Investigate on that first, using simple urls like <code>http://stackoverflow.com</code> (which will return http status 301).</p>\n"},{"tags":[],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693416385,"creation_date":1693416385,"answer_id":77010268,"question_id":67351850,"body_markdown":"I had the same issue and it was because of invalid characters.\r\nMy image name was keycloak_blog. \r\nI changed it to keycloakblog and it started to work","title":"Make HTTP request from one container to another","body":"<p>I had the same issue and it was because of invalid characters.\nMy image name was keycloak_blog.\nI changed it to keycloakblog and it started to work</p>\n"}],"owner":{"account_id":21442704,"reputation":31,"user_id":15796921,"display_name":"paulo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693416385,"creation_date":1619913280,"question_id":67351850,"body_markdown":"I am trying to do a httpRequest from library to people-service, but not that i&#39;ve tried works.\r\ni saw that if use the name it shoud ork, so i have tried http://library:8080, but it returns the error \r\n\r\n    java.lang.IllegalArgumentException: unsupported URI\r\n\r\nHere is my Dockerfile:\r\n\r\n    FROM openjdk:11-jdk-slim\r\n    ARG JAR_FILE\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nand my docker-compose:\r\n\r\n    version: &#39;3.5&#39;\r\n\r\n    services:\r\n      library:\r\n        build:\r\n          context: ./\r\n        ports:\r\n          - &quot;8081:8081&quot;\r\n        networks:\r\n          - library-network\r\n        restart: on-failure\r\n    \r\n      mysql-service:\r\n        image: mysql:5.7\r\n        ports:\r\n        - &quot;3306:3306&quot;\r\n        networks:\r\n          - library-network\r\n        environment:\r\n          - MYSQL_ROOT_PASSWORD=admin\r\n          - MYSQL_USER=admin\r\n          - MYSQL_PASSWORD=admin\r\n          - MYSQL_DATABASE=bootdb\r\n        restart: on-failure\r\n    \r\n      people-service:\r\n        build:\r\n          context: ./\r\n          args:\r\n            JAR_FILE: ./target/library.jar\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        environment:\r\n          - DB_HOST=jdbc:mysql://mysql-service:3306/library\r\n        networks:\r\n          - library-network\r\n        depends_on:\r\n          - mysql-service\r\n          - library\r\n        restart: on-failure\r\n    \r\n    networks:\r\n      library-network:\r\n        driver: bridge\r\n","title":"Make HTTP request from one container to another","body":"<p>I am trying to do a httpRequest from library to people-service, but not that i've tried works.\ni saw that if use the name it shoud ork, so i have tried http://library:8080, but it returns the error</p>\n<pre><code>java.lang.IllegalArgumentException: unsupported URI\n</code></pre>\n<p>Here is my Dockerfile:</p>\n<pre><code>FROM openjdk:11-jdk-slim\nARG JAR_FILE\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>and my docker-compose:</p>\n<pre><code>version: '3.5'\n\nservices:\n  library:\n    build:\n      context: ./\n    ports:\n      - &quot;8081:8081&quot;\n    networks:\n      - library-network\n    restart: on-failure\n\n  mysql-service:\n    image: mysql:5.7\n    ports:\n    - &quot;3306:3306&quot;\n    networks:\n      - library-network\n    environment:\n      - MYSQL_ROOT_PASSWORD=admin\n      - MYSQL_USER=admin\n      - MYSQL_PASSWORD=admin\n      - MYSQL_DATABASE=bootdb\n    restart: on-failure\n\n  people-service:\n    build:\n      context: ./\n      args:\n        JAR_FILE: ./target/library.jar\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      - DB_HOST=jdbc:mysql://mysql-service:3306/library\n    networks:\n      - library-network\n    depends_on:\n      - mysql-service\n      - library\n    restart: on-failure\n\nnetworks:\n  library-network:\n    driver: bridge\n</code></pre>\n"},{"tags":["java","javafx","serial-port","com-port"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693408053,"post_id":77007530,"comment_id":135757504,"body_markdown":"Note this does not seem to have anything to do with JavaFX. That framework is not involved in reading COMs. Including it in the problem only complicates the issue. You need to think about getting your COM code to work in isolation. I recommend you [edit] your question to remove the [tag:javafx] tag and provide the error(s) you&#39;re getting, along with a proper [mre]—without JavaFX—demonstrating the error(s). You should also better describe what you expected to happen versus what is actually happening. Read [ask] for more information.","body":"Note this does not seem to have anything to do with JavaFX. That framework is not involved in reading COMs. Including it in the problem only complicates the issue. You need to think about getting your COM code to work in isolation. I recommend you <a href=\"https://stackoverflow.com/posts/77007530/edit\">edit</a> your question to remove the <a href=\"https://stackoverflow.com/questions/tagged/javafx\">javafx</a> tag and provide the error(s) you&#39;re getting, along with a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>—without JavaFX—demonstrating the error(s). You should also better describe what you expected to happen versus what is actually happening. Read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more information."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1693416196,"post_id":77007530,"comment_id":135759306,"body_markdown":"The project&#39;s [wiki](https://github.com/Fazecast/jSerialComm/wiki) illustrates several use cases that may be helpful in the context of a JavaFX `Task` or `Service`.","body":"The project&#39;s <a href=\"https://github.com/Fazecast/jSerialComm/wiki\" rel=\"nofollow noreferrer\">wiki</a> illustrates several use cases that may be helpful in the context of a JavaFX <code>Task</code> or <code>Service</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1693605145,"post_id":77007530,"comment_id":135787875,"body_markdown":"After you fix your IO issue, ensure that the IO (and those sleep calls you have) are not performed on the JavaFX thread (probably instead using the tools referenced in Trashgod’s comment).","body":"After you fix your IO issue, ensure that the IO (and those sleep calls you have) are not performed on the JavaFX thread (probably instead using the tools referenced in Trashgod’s comment)."}],"owner":{"account_id":24089265,"reputation":1,"user_id":18062768,"display_name":"Tejas Chauhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693416002,"creation_date":1693394679,"question_id":77007530,"body_markdown":"I have Silicon Labs CP210 driver to communicate with com port device. The problem is that I am not able to read data from com port device with cp210 driver. The library I have use is [`jSerialComm`][1] in a JavaFX project.\r\n\r\nI have written below code to connect, write, and read with com port device, but I am not able read data.\r\n\r\n\r\n```\r\n  SerialPort _serialPort;\r\n        SerialPort[] ports;\r\n        ports = SerialPort.getCommPorts();\r\n        _serialPort = SerialPort.getCommPort(ports[0].getSystemPortName());\r\n        System.out.println(ports[0].getSystemPortName());\r\n        _serialPort.setBaudRate(19200);\r\n        _serialPort.setNumDataBits(8);\r\n        _serialPort.setNumStopBits(1);\r\n        _serialPort.setParity(SerialPort.NO_PARITY);\r\n        _serialPort.setDTR();\r\n        _serialPort.setRTS();\r\n        _serialPort.openPort();\r\n        _serialPort.setComPortTimeouts(SerialPort.TIMEOUT_READ_BLOCKING, 4000, 4000);\r\n//        TimeUnit.SECONDS.sleep(1);\r\n        String hexValue = &quot;CC&quot;; // Example hex value\r\n        byte[] hexBytes = hexStringToByteArray(hexValue);\r\n        _serialPort.writeBytes(hexBytes, 2);\r\n        TimeUnit.SECONDS.sleep(1 / 3);\r\n        String hexValue2 = &quot;AB&quot;; // Example hex value\r\n        byte[] hexBytes2 = hexStringToByteArray(hexValue2);\r\n        _serialPort.writeBytes(hexBytes2, 2);\r\n        TimeUnit.SECONDS.sleep(1 / 3);\r\n        String hexValue3 = &quot;AB&quot;; // Example hex value\r\n        byte[] hexBytes3 = hexStringToByteArray(hexValue3);\r\n        _serialPort.writeBytes(hexBytes3, 2);\r\n        TimeUnit.SECONDS.sleep(1);\r\n\r\n        if (_serialPort.bytesAvailable() == -1) {\r\n//                Portname=null;\r\n            _serialPort.closePort();\r\n            return;\r\n        }\r\n\r\n        byte[] readBuffer = new byte[_serialPort.bytesAvailable()];\r\n        long read12 = _serialPort.readBytes(readBuffer, readBuffer.length);\r\n        String response = new String(readBuffer).trim();\r\n        System.out.println(&quot;res  &quot; + response);\r\n        System.out.println(readBuffer.length);\r\n        String[] response1 = response.split(&quot;,&quot;);\r\n        welcomeText.setText(&quot;Read &quot; + response + &quot; bytes.&quot;);\r\n        if (response1[0].equals(&quot;BLE_READER&quot;)) {\r\n            String[] ab = response.split(&quot;,&quot;);\r\n            System.out.println(&quot;yess logger1  &quot;+ Arrays.toString(ab));\r\n        } else {\r\n            _serialPort.closePort();\r\n//                openporttittle.setText(&quot;Open Port : &quot;);\r\n        }\r\n```\r\n\r\nIf there any problem in my code ,then please update me.\r\n\r\n\r\n  [1]: https://github.com/Fazecast/jSerialComm","title":"How to communicate via com port with jSerialComm using CP210 driver","body":"<p>I have Silicon Labs CP210 driver to communicate with com port device. The problem is that I am not able to read data from com port device with cp210 driver. The library I have use is <a href=\"https://github.com/Fazecast/jSerialComm\" rel=\"nofollow noreferrer\"><code>jSerialComm</code></a> in a JavaFX project.</p>\n<p>I have written below code to connect, write, and read with com port device, but I am not able read data.</p>\n<pre><code>  SerialPort _serialPort;\n        SerialPort[] ports;\n        ports = SerialPort.getCommPorts();\n        _serialPort = SerialPort.getCommPort(ports[0].getSystemPortName());\n        System.out.println(ports[0].getSystemPortName());\n        _serialPort.setBaudRate(19200);\n        _serialPort.setNumDataBits(8);\n        _serialPort.setNumStopBits(1);\n        _serialPort.setParity(SerialPort.NO_PARITY);\n        _serialPort.setDTR();\n        _serialPort.setRTS();\n        _serialPort.openPort();\n        _serialPort.setComPortTimeouts(SerialPort.TIMEOUT_READ_BLOCKING, 4000, 4000);\n//        TimeUnit.SECONDS.sleep(1);\n        String hexValue = &quot;CC&quot;; // Example hex value\n        byte[] hexBytes = hexStringToByteArray(hexValue);\n        _serialPort.writeBytes(hexBytes, 2);\n        TimeUnit.SECONDS.sleep(1 / 3);\n        String hexValue2 = &quot;AB&quot;; // Example hex value\n        byte[] hexBytes2 = hexStringToByteArray(hexValue2);\n        _serialPort.writeBytes(hexBytes2, 2);\n        TimeUnit.SECONDS.sleep(1 / 3);\n        String hexValue3 = &quot;AB&quot;; // Example hex value\n        byte[] hexBytes3 = hexStringToByteArray(hexValue3);\n        _serialPort.writeBytes(hexBytes3, 2);\n        TimeUnit.SECONDS.sleep(1);\n\n        if (_serialPort.bytesAvailable() == -1) {\n//                Portname=null;\n            _serialPort.closePort();\n            return;\n        }\n\n        byte[] readBuffer = new byte[_serialPort.bytesAvailable()];\n        long read12 = _serialPort.readBytes(readBuffer, readBuffer.length);\n        String response = new String(readBuffer).trim();\n        System.out.println(&quot;res  &quot; + response);\n        System.out.println(readBuffer.length);\n        String[] response1 = response.split(&quot;,&quot;);\n        welcomeText.setText(&quot;Read &quot; + response + &quot; bytes.&quot;);\n        if (response1[0].equals(&quot;BLE_READER&quot;)) {\n            String[] ab = response.split(&quot;,&quot;);\n            System.out.println(&quot;yess logger1  &quot;+ Arrays.toString(ab));\n        } else {\n            _serialPort.closePort();\n//                openporttittle.setText(&quot;Open Port : &quot;);\n        }\n</code></pre>\n<p>If there any problem in my code ,then please update me.</p>\n"},{"tags":["java","eclipse","code-formatting"],"comments":[{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":1,"creation_date":1395302396,"post_id":22526676,"comment_id":34278480,"body_markdown":"I really have a tough time understanding your question. Eclipse indents your code as you type, or you can manually call the formatter using CTRL+SHIFT+F (also works for selections). You can either set it to spaces or tabs and have an auto save action to fix the whole file if you want that.","body":"I really have a tough time understanding your question. Eclipse indents your code as you type, or you can manually call the formatter using CTRL+SHIFT+F (also works for selections). You can either set it to spaces or tabs and have an auto save action to fix the whole file if you want that."}],"answers":[{"tags":[],"owner":{"account_id":2509354,"reputation":2043,"user_id":2182203,"accept_rate":88,"display_name":"Padrus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395302429,"creation_date":1395302429,"answer_id":22526801,"question_id":22526676,"body_markdown":"In Eclipse, in the `Project` menu, go into `Properties` -&gt; `Java Code Style` and press the `Edit` button to edit your current profile.\r\nIn this window, you can configure your indentation parameters.\r\n\r\nTo apply them, in your code press `ctrl + a` to select your code then press `ctrl + i` to format it according to your parameters","title":"Java code indentation mixed space and tabs","body":"<p>In Eclipse, in the <code>Project</code> menu, go into <code>Properties</code> -> <code>Java Code Style</code> and press the <code>Edit</code> button to edit your current profile.\nIn this window, you can configure your indentation parameters.</p>\n\n<p>To apply them, in your code press <code>ctrl + a</code> to select your code then press <code>ctrl + i</code> to format it according to your parameters</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693415619,"creation_date":1693415619,"answer_id":77010186,"question_id":22526676,"body_markdown":"There is an active question how to reconfigure Eclipse for spaces at https://stackoverflow.com/q/407929/873282. This is very tedious.\r\n\r\nI also encountered this issue at a project. I did not want to deal with huge IDE setup. Editorconfig is a solution\r\n\r\n 1. Install [editor config Eclipse plugin](https://marketplace.eclipse.org/content/editorconfig-eclipse)\r\n 2. Create an `.editorconfig` with following content:\r\n\r\n    ```toml\r\n    root = true\r\n\r\n    [*]\r\n    indent_style = space\r\n    indent_size = 4\r\n    insert_final_newline = true\r\n    charset = utf-8\r\n    ```\r\n\r\nYou can do even more as changing the line ending style to `LF` using `end_of_line = lf`\r\n\r\nThis way, also users of IntelliJ and VS.Code can have the same configuration when editing the files.","title":"Java code indentation mixed space and tabs","body":"<p>There is an active question how to reconfigure Eclipse for spaces at <a href=\"https://stackoverflow.com/q/407929/873282\">How do I change Eclipse to use spaces instead of tabs?</a>. This is very tedious.</p>\n<p>I also encountered this issue at a project. I did not want to deal with huge IDE setup. Editorconfig is a solution</p>\n<ol>\n<li><p>Install <a href=\"https://marketplace.eclipse.org/content/editorconfig-eclipse\" rel=\"nofollow noreferrer\">editor config Eclipse plugin</a></p>\n</li>\n<li><p>Create an <code>.editorconfig</code> with following content:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>root = true\n\n[*]\nindent_style = space\nindent_size = 4\ninsert_final_newline = true\ncharset = utf-8\n</code></pre>\n</li>\n</ol>\n<p>You can do even more as changing the line ending style to <code>LF</code> using <code>end_of_line = lf</code></p>\n<p>This way, also users of IntelliJ and VS.Code can have the same configuration when editing the files.</p>\n"}],"owner":{"account_id":67165,"reputation":1568,"user_id":196683,"accept_rate":90,"display_name":"Erdin&#231; Taşkın"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693415619,"creation_date":1395302008,"question_id":22526676,"body_markdown":"Tab and spaces are mix used on same projects.\r\n\r\nI need to code indentation but do not replace tab with spaces and vice versa. I only need to indent code (new indentation with space or tabs does not matter). \r\n\r\nEclipse IDE is used but plugin or other tools are welcome. \r\n\r\nP.S I know that at same project same white space strategy (tab or white) using is better.\r\n\r\nAs an example \\t --&gt; tab   \\b --&gt; space. I think need to some property that how many space equals to tab 1 character. For our example 4.\r\n\r\nBefore\r\n\r\n    void foo() {\r\n    \\b\\b\\btest1();  // 3 spaces\r\n    \\ttest2();  // 1 tab\r\n    }\r\n\r\nAfter \r\n\r\n    void foo() {\r\n    \\b\\b\\b\\btest1();  // 4 space (1 extra space to be indent correctly)\r\n    \\ttest2();  // 1 tab  (do not change tab char with spaces because of that has correct indentation)\r\n    }","title":"Java code indentation mixed space and tabs","body":"<p>Tab and spaces are mix used on same projects.</p>\n\n<p>I need to code indentation but do not replace tab with spaces and vice versa. I only need to indent code (new indentation with space or tabs does not matter). </p>\n\n<p>Eclipse IDE is used but plugin or other tools are welcome. </p>\n\n<p>P.S I know that at same project same white space strategy (tab or white) using is better.</p>\n\n<p>As an example \\t --> tab   \\b --> space. I think need to some property that how many space equals to tab 1 character. For our example 4.</p>\n\n<p>Before</p>\n\n<pre><code>void foo() {\n\\b\\b\\btest1();  // 3 spaces\n\\ttest2();  // 1 tab\n}\n</code></pre>\n\n<p>After </p>\n\n<pre><code>void foo() {\n\\b\\b\\b\\btest1();  // 4 space (1 extra space to be indent correctly)\n\\ttest2();  // 1 tab  (do not change tab char with spaces because of that has correct indentation)\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1589905103,"post_id":61833434,"comment_id":109476129,"body_markdown":"Hi Rahul. Please try to keep your questions succinct if you can. While readers appreciate you might be desperate, appeals to sympathy (&quot;please help me&quot;, &quot;I have been stuck for hours&quot;) are not relevant to the problem at hand, and readers do not want to be nagged.","body":"Hi Rahul. Please try to keep your questions succinct if you can. While readers appreciate you might be desperate, appeals to sympathy (&quot;please help me&quot;, &quot;I have been stuck for hours&quot;) are not relevant to the problem at hand, and readers do not want to be nagged."},{"owner":{"account_id":12487480,"reputation":5521,"user_id":10078895,"display_name":"vrintle"},"score":1,"creation_date":1590548643,"post_id":61833434,"comment_id":109718152,"body_markdown":"@halfer, thanks for editing the post &#129305;(shaka)","body":"@halfer, thanks for editing the post 🤙(shaka)"}],"answers":[{"tags":[],"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693415502,"creation_date":1589618209,"answer_id":61834032,"question_id":61833434,"body_markdown":"First, check if you are connected to `services.gradle.org` with `ping` command in Command Prompt. If you are connected, then change Proxy Settings in Android Studio to `Use System Proxy`. If it is downloading slowly again, your internet connection may be slow. Or you best fallow guidelines in this link : [Gradle Download: Installing Manually ][1]\r\n\r\nThen work in offline mode will appear in your settings.\r\n\r\n\r\n  [1]: https://gradle.org/install/#manually","title":"Gradle: download gradle takes &quot;very long time&quot;, activity_main.xml keeps showing &quot;Loading&quot;","body":"<p>First, check if you are connected to <code>services.gradle.org</code> with <code>ping</code> command in Command Prompt. If you are connected, then change Proxy Settings in Android Studio to <code>Use System Proxy</code>. If it is downloading slowly again, your internet connection may be slow. Or you best fallow guidelines in this link : <a href=\"https://gradle.org/install/#manually\" rel=\"nofollow noreferrer\">Gradle Download: Installing Manually </a></p>\n<p>Then work in offline mode will appear in your settings.</p>\n"}],"owner":{"account_id":12487480,"reputation":5521,"user_id":10078895,"display_name":"vrintle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1994,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61834032,"answer_count":1,"score":2,"last_activity_date":1693415502,"creation_date":1589614754,"question_id":61833434,"body_markdown":"I have installed Android Studio today. I&#39;m a newbie to Android development. I know that it has been asked several times, but my Android Studio is __most updated__ as of now, so none of the solution seems to work. __[AndroidStudio v3.6]__\r\n\r\nAfter the installation got over, I attempted to create an Empty Project. It opened the whole project as seen below,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter waiting for 7+ minutes (bottom-left), gradle is still not downloaded, and the `activity_main.xml` file keeps showing &quot;Loading&quot;.\r\n\r\n[Solution 1](https://stackoverflow.com/questions/17623439) - Change the gradle location\r\n-\r\nI found this location to `C:\\Users\\RAHUL.LAPTOP-DISIIAS2\\.gradle\\wrapper\\dists\\gradle-5.6.4-all\\ankdp27end7byghfw1q2sw75f`, but it contains two files - one is `gradle-5.6.4-all.zip.part` and other is `gradle-5.6.4-all.zip.lck` file.\r\n\r\n[Solution 2](https://stackoverflow.com/questions/60443741) - Invalidate and restart\r\n-\r\nDoesn&#39;t seem to work\r\n\r\n[Solution 3](https://stackoverflow.com/questions/29391421) - Change gradle settings to work in offline mode\r\n-\r\nThe version I&#39;m using doesn&#39;t have the option\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I fix it?\r\n\r\n---\r\nHere is my `gradle-wrapper.properties` file:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FDuN9.jpg\r\n  [2]: https://i.stack.imgur.com/zfIPI.jpg\r\n  [3]: https://i.stack.imgur.com/iRK5m.jpg","title":"Gradle: download gradle takes &quot;very long time&quot;, activity_main.xml keeps showing &quot;Loading&quot;","body":"<p>I have installed Android Studio today. I'm a newbie to Android development. I know that it has been asked several times, but my Android Studio is <strong>most updated</strong> as of now, so none of the solution seems to work. <strong>[AndroidStudio v3.6]</strong></p>\n\n<p>After the installation got over, I attempted to create an Empty Project. It opened the whole project as seen below,</p>\n\n<p><a href=\"https://i.stack.imgur.com/FDuN9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDuN9.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After waiting for 7+ minutes (bottom-left), gradle is still not downloaded, and the <code>activity_main.xml</code> file keeps showing \"Loading\".</p>\n\n<h2><a href=\"https://stackoverflow.com/questions/17623439\">Solution 1</a> - Change the gradle location</h2>\n\n<p>I found this location to <code>C:\\Users\\RAHUL.LAPTOP-DISIIAS2\\.gradle\\wrapper\\dists\\gradle-5.6.4-all\\ankdp27end7byghfw1q2sw75f</code>, but it contains two files - one is <code>gradle-5.6.4-all.zip.part</code> and other is <code>gradle-5.6.4-all.zip.lck</code> file.</p>\n\n<h2><a href=\"https://stackoverflow.com/questions/60443741\">Solution 2</a> - Invalidate and restart</h2>\n\n<p>Doesn't seem to work</p>\n\n<h2><a href=\"https://stackoverflow.com/questions/29391421\">Solution 3</a> - Change gradle settings to work in offline mode</h2>\n\n<p>The version I'm using doesn't have the option</p>\n\n<p><a href=\"https://i.stack.imgur.com/zfIPI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zfIPI.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>How can I fix it?</p>\n\n<hr>\n\n<p>Here is my <code>gradle-wrapper.properties</code> file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iRK5m.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iRK5m.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","windows","javafx","titlebar"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":13,"creation_date":1655669576,"post_id":72680016,"comment_id":128381194,"body_markdown":"AFAIK there is no such API. The window title bar is managed by the native OS. You could create an [undecorated](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/StageStyle.html#UNDECORATED) stage and implement your own title bar, though that&#39;s not ideal.","body":"AFAIK there is no such API. The window title bar is managed by the native OS. You could create an <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/StageStyle.html#UNDECORATED\" rel=\"nofollow noreferrer\">undecorated</a> stage and implement your own title bar, though that&#39;s not ideal."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1655677228,"post_id":72680016,"comment_id":128382430,"body_markdown":"You could also put all this information in a `ToolBar` placed at the top of your scene, though that will obviously cost you vertical space.","body":"You could also put all this information in a <code>ToolBar</code> placed at the top of your scene, though that will obviously cost you vertical space."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1655736871,"post_id":72680016,"comment_id":128396443,"body_markdown":"In theory, you can do this by passing [StageStyle.UNIFIED](https://openjfx.io/javadoc/18/javafx.graphics/javafx/stage/StageStyle.html#UNIFIED) to `Stage.initStyle`, but I am not aware of any platform where it actually works.","body":"In theory, you can do this by passing <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/stage/StageStyle.html#UNIFIED\" rel=\"nofollow noreferrer\">StageStyle.UNIFIED</a> to <code>Stage.initStyle</code>, but I am not aware of any platform where it actually works."},{"owner":{"account_id":25563281,"reputation":64,"user_id":19345559,"display_name":"Dev. H Med Reda"},"score":0,"creation_date":1659006974,"post_id":72680016,"comment_id":129195755,"body_markdown":"I just found it, I switched up to c# uwp. Thanks everyone for your responces.","body":"I just found it, I switched up to c# uwp. Thanks everyone for your responces."}],"answers":[{"tags":[],"owner":{"account_id":29331280,"reputation":36,"user_id":22472680,"display_name":"ShaderCraft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693415453,"creation_date":1693415453,"answer_id":77010170,"question_id":72680016,"body_markdown":"I don&#39;t know which kind of customization you&#39;re trying to do, I recommend using **JNA/JNI** and **SWT** libs, you&#39;ll find guides and infos about them here:\r\n\r\nJNA: &lt;https://github.com/java-native-access/jna&gt; \r\n\r\nJNI: &lt;https://www.baeldung.com/jni&gt;\r\n\r\nSWT: &lt;https://www.eclipse.org/swt&gt;\r\n\r\nFor native support of title bar customization, try switching to another language if you don&#39;t mind porting your code to c# or c++ on dotNet framework, you&#39;ll find documentations about it here: \r\n\r\n.net: &lt;https://learn.microsoft.com/en-us/dotnet/&gt;\r\n\r\nTitle bar customization: &lt;https://learn.microsoft.com/en-us/windows/apps/develop/title-bar&gt;","title":"Is there an javafx api to customize title bar?","body":"<p>I don't know which kind of customization you're trying to do, I recommend using <strong>JNA/JNI</strong> and <strong>SWT</strong> libs, you'll find guides and infos about them here:</p>\n<p>JNA: <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">https://github.com/java-native-access/jna</a></p>\n<p>JNI: <a href=\"https://www.baeldung.com/jni\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jni</a></p>\n<p>SWT: <a href=\"https://www.eclipse.org/swt\" rel=\"nofollow noreferrer\">https://www.eclipse.org/swt</a></p>\n<p>For native support of title bar customization, try switching to another language if you don't mind porting your code to c# or c++ on dotNet framework, you'll find documentations about it here:</p>\n<p>.net: <a href=\"https://learn.microsoft.com/en-us/dotnet/\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/</a></p>\n<p>Title bar customization: <a href=\"https://learn.microsoft.com/en-us/windows/apps/develop/title-bar\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/apps/develop/title-bar</a></p>\n"}],"owner":{"account_id":25563281,"reputation":64,"user_id":19345559,"display_name":"Dev. H Med Reda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77010170,"answer_count":1,"score":1,"last_activity_date":1693415453,"creation_date":1655669353,"question_id":72680016,"body_markdown":"I&#39;m working on project to manage users PC, but I need to customize the application title bar, like adding search bar or account info in it like ms teams\r\n\r\nIf someone knows an API that can do it for me, please help.","title":"Is there an javafx api to customize title bar?","body":"<p>I'm working on project to manage users PC, but I need to customize the application title bar, like adding search bar or account info in it like ms teams</p>\n<p>If someone knows an API that can do it for me, please help.</p>\n"},{"tags":["java","unit-testing","assert","javabeans","equality"],"comments":[{"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"score":3,"creation_date":1258363779,"post_id":1741041,"comment_id":1621918,"body_markdown":"you might find this blog entry enlightening http://blogs.atlassian.com/developer/2009/06/how_hamcrest_can_save_your_sou.html","body":"you might find this blog entry enlightening <a href=\"http://blogs.atlassian.com/developer/2009/06/how_hamcrest_can_save_your_sou.html\" rel=\"nofollow noreferrer\">blogs.atlassian.com/developer/2009/06/&hellip;</a>"},{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1258363971,"post_id":1741041,"comment_id":1621929,"body_markdown":"@Chii: Any reason why you posted this as a comment? that&#39;s a good answer!","body":"@Chii: Any reason why you posted this as a comment? that&#39;s a good answer!"},{"owner":{"account_id":15696,"reputation":9454,"user_id":33412,"accept_rate":60,"display_name":"bendin"},"score":2,"creation_date":1258364655,"post_id":1741041,"comment_id":1621985,"body_markdown":"Here&#39;s a meta-problem: you&#39;re confusing &quot;identical&quot;, &quot;equal&quot; and &quot;equivalent&quot;, just like everyone else.","body":"Here&#39;s a meta-problem: you&#39;re confusing &quot;identical&quot;, &quot;equal&quot; and &quot;equivalent&quot;, just like everyone else."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1258374685,"post_id":1741041,"comment_id":1622737,"body_markdown":"@bendin - you&#39;re right: equal and equivalent are not identical ;)","body":"@bendin - you&#39;re right: equal and equivalent are not identical ;)"}],"answers":[{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258363933,"creation_date":1258363933,"answer_id":1741062,"question_id":1741041,"body_markdown":"Since you didn&#39;t like the answers in the question you referenced, why not just have a `toXml` method in each bean, turn them into an xml file and then use xmlUnit to compare.\r\n\r\nYou can get more info on comparing xml files here:\r\n\r\n[https://stackoverflow.com/questions/141993/best-way-to-compare-2-xml-documents-in-java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/141993/best-way-to-compare-2-xml-documents-in-java","title":"Assert that two java beans are equivalent","body":"<p>Since you didn't like the answers in the question you referenced, why not just have a <code>toXml</code> method in each bean, turn them into an xml file and then use xmlUnit to compare.</p>\n\n<p>You can get more info on comparing xml files here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/141993/best-way-to-compare-2-xml-documents-in-java\">Best way to compare 2 XML documents in Java</a></p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1258364506,"creation_date":1258364106,"answer_id":1741075,"question_id":1741041,"body_markdown":"You can use [Commons Lang][1]&#39;s [`ToStringBuilder`][2] to convert both of them into readable strings and then use `assertEquals()` on both strings.\r\n\r\nIf you like XML, you can use [java.lang.XMLEncoder][3] to turn your bean into XML and then compare the two XML documents.\r\n\r\nPersonally, I prefer `ToStringBuilder` since it gives you more control over the formatting and allows you to do things like sorting the elements in a set to avoid false negatives.\r\n\r\nI suggest to put each field of the bean in a different line to make it much more simple to compare them ([see my blog for details][4]).\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: http://commons.apache.org/lang/api-release/org/apache/commons/lang/builder/ToStringBuilder.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/beans/XMLEncoder.html\r\n  [4]: http://blog.pdark.de/2009/03/23/testing-the-impossible-asserting-several-values/","title":"Assert that two java beans are equivalent","body":"<p>You can use <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow noreferrer\">Commons Lang</a>'s <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/builder/ToStringBuilder.html\" rel=\"nofollow noreferrer\"><code>ToStringBuilder</code></a> to convert both of them into readable strings and then use <code>assertEquals()</code> on both strings.</p>\n\n<p>If you like XML, you can use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/beans/XMLEncoder.html\" rel=\"nofollow noreferrer\">java.lang.XMLEncoder</a> to turn your bean into XML and then compare the two XML documents.</p>\n\n<p>Personally, I prefer <code>ToStringBuilder</code> since it gives you more control over the formatting and allows you to do things like sorting the elements in a set to avoid false negatives.</p>\n\n<p>I suggest to put each field of the bean in a different line to make it much more simple to compare them (<a href=\"http://blog.pdark.de/2009/03/23/testing-the-impossible-asserting-several-values/\" rel=\"nofollow noreferrer\">see my blog for details</a>).</p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258364144,"creation_date":1258364144,"answer_id":1741080,"question_id":1741041,"body_markdown":"\r\nYou&#39;re not really asserting equality, more doing a &quot;diff&quot;. Clearly, the meaning of &quot;same&quot; depends upon particular logic for each type, and the representation of the difference also may vary. One major difference between this requirment and a conventional equals() is that usually equals() will stop as soon as the first difference is seen, you will want to carry on and compare every field.\r\n\r\nI would look at reusing some of the equals() patterns, but I suspect you&#39;ll need to write your own code. \r\n\r\n\r\n\r\n\r\n","title":"Assert that two java beans are equivalent","body":"<p>You're not really asserting equality, more doing a \"diff\". Clearly, the meaning of \"same\" depends upon particular logic for each type, and the representation of the difference also may vary. One major difference between this requirment and a conventional equals() is that usually equals() will stop as soon as the first difference is seen, you will want to carry on and compare every field.</p>\n\n<p>I would look at reusing some of the equals() patterns, but I suspect you'll need to write your own code. </p>\n"},{"tags":[],"owner":{"account_id":13357,"reputation":6580,"user_id":26778,"accept_rate":72,"display_name":"jeff porter"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1258364983,"creation_date":1258364150,"answer_id":1741081,"question_id":1741041,"body_markdown":"The first quesion I&#39;d have to ask if is, do you want to do &#39;deep&#39; equals on the Bean? does it have child beans that need to be tested?  You can override the equals method, but this only returns a boolean, so you could create a &#39;comparator&#39; and that could throw an exception with a message about what was not equal.\r\n\r\nIn the following examples, I&#39;ve listed a few ways to implement the equals method.\r\n\r\n\r\nif you want to check if they are the same object instance, then the normal equals method from Object will tell you.\r\n\r\n        objectA.equals(objectB);\r\n\r\nif you want to write a customer equals method to check that all the member varibles of an object make them equal then you can override the equals method like this...\r\n\r\n      /**\r\n         * Method to check the following...\r\n         * &lt;br&gt;\r\n         * &lt;ul&gt;\r\n         *    &lt;li&gt;getTitle&lt;/li&gt;\r\n         *    &lt;li&gt;getInitials&lt;/li&gt;\r\n         *    &lt;li&gt;getForename&lt;/li&gt;\r\n         *    &lt;li&gt;getSurname&lt;/li&gt;\r\n         *    &lt;li&gt;getSurnamePrefix&lt;/li&gt;\r\n         * &lt;/ul&gt;\r\n         *\r\n         * @see java.lang.Object#equals(java.lang.Object)\r\n         */\r\n        @Override\r\n        public boolean equals(Object obj)\r\n        {\r\n          if (   (!compare(((ICustomer) obj).getTitle(), this.getTitle()))\r\n              || (!compare(((ICustomer) obj).getInitials(), this.getInitials()))\r\n              || (!compare(((ICustomer) obj).getForename(), this.getForename()))\r\n              || (!compare(((ICustomer) obj).getSurname(), this.getSurname()))\r\n              || (!compare(((ICustomer) obj).getSurnamePrefix(), this.getSurnamePrefix()))\r\n              || (!compare(((ICustomer) obj).getSalutation(), this.getSalutation()))  ){\r\n              return false;\r\n          }\r\n          return true;\r\n        }\r\n\r\nThe last option is to use java reflection to check all the member varibles in the equals method. This is great if you really want to check every member varible via its bean get/set method. It wont (I dont think) allow you to check private memeber varibles when testing of the two objects are the same. (not if your object model has a circular dependancy, dont do this, it will never return)\r\n\r\nNOTE: this is not my code, it comes from...\r\n\r\n[Java Reflection equals][1]\r\n    public static boolean equals(Object bean1, Object bean2)\r\n    {\r\n    // Handle the trivial cases\r\n    if (bean1 == bean2)\r\n    return true;\r\n    \r\n    if (bean1 == null)\r\n    return false;\r\n\r\n    if (bean2 == null)\r\n    return false;\r\n    \r\n    // Get the class of one of the parameters\r\n    Class clazz = bean1.getClass();\r\n    \r\n    // Make sure bean1 and bean2 are the same class\r\n    if (!clazz.equals(bean2.getClass()))\r\n    {\r\n    return false;\r\n    }\r\n    \r\n    // Iterate through each field looking for differences\r\n    Field[] fields = clazz.getDeclaredFields();\r\n    for (int i = 0; i &lt; fields.length; i++)\r\n    {\r\n    // setAccessible is great (encapsulation\r\n    // purists will disagree), setting to true\r\n    // allows reflection to have access to\r\n    // private members.\r\n    fields[i].setAccessible(true);\r\n    try\r\n    {\r\n    Object value1 = fields[i].get(bean1);\r\n    Object value2 = fields[i].get(bean2);\r\n    \r\n    if ((value1 == null &amp;&amp; value2 != null) ||\r\n    (value1 != null &amp;&amp; value2 == null))\r\n    {\r\n    return false;\r\n    }\r\n    \r\n    if (value1 != null &amp;&amp;\r\n    value2 != null &amp;&amp;\r\n    !value1.equals(value2))\r\n    {\r\n    return false;\r\n    }\r\n    }\r\n    catch (IllegalArgumentException e)\r\n    {\r\n    e.printStackTrace();\r\n    }\r\n    catch (IllegalAccessException e)\r\n    {\r\n    e.printStackTrace();\r\n    }\r\n    }\r\n    \r\n    return true;\r\n\r\n\r\nThe one thing that this does not do it to tell you the reason for the difference, but that could be done via message to Log4J when you find a section that is not equal.\r\n\r\n  [1]: http://www.theserverside.com/blogs/thread.tss?thread_id=47017","title":"Assert that two java beans are equivalent","body":"<p>The first quesion I'd have to ask if is, do you want to do 'deep' equals on the Bean? does it have child beans that need to be tested?  You can override the equals method, but this only returns a boolean, so you could create a 'comparator' and that could throw an exception with a message about what was not equal.</p>\n\n<p>In the following examples, I've listed a few ways to implement the equals method.</p>\n\n<p>if you want to check if they are the same object instance, then the normal equals method from Object will tell you.</p>\n\n<pre><code>    objectA.equals(objectB);\n</code></pre>\n\n<p>if you want to write a customer equals method to check that all the member varibles of an object make them equal then you can override the equals method like this...</p>\n\n<pre><code>  /**\n     * Method to check the following...\n     * &lt;br&gt;\n     * &lt;ul&gt;\n     *    &lt;li&gt;getTitle&lt;/li&gt;\n     *    &lt;li&gt;getInitials&lt;/li&gt;\n     *    &lt;li&gt;getForename&lt;/li&gt;\n     *    &lt;li&gt;getSurname&lt;/li&gt;\n     *    &lt;li&gt;getSurnamePrefix&lt;/li&gt;\n     * &lt;/ul&gt;\n     *\n     * @see java.lang.Object#equals(java.lang.Object)\n     */\n    @Override\n    public boolean equals(Object obj)\n    {\n      if (   (!compare(((ICustomer) obj).getTitle(), this.getTitle()))\n          || (!compare(((ICustomer) obj).getInitials(), this.getInitials()))\n          || (!compare(((ICustomer) obj).getForename(), this.getForename()))\n          || (!compare(((ICustomer) obj).getSurname(), this.getSurname()))\n          || (!compare(((ICustomer) obj).getSurnamePrefix(), this.getSurnamePrefix()))\n          || (!compare(((ICustomer) obj).getSalutation(), this.getSalutation()))  ){\n          return false;\n      }\n      return true;\n    }\n</code></pre>\n\n<p>The last option is to use java reflection to check all the member varibles in the equals method. This is great if you really want to check every member varible via its bean get/set method. It wont (I dont think) allow you to check private memeber varibles when testing of the two objects are the same. (not if your object model has a circular dependancy, dont do this, it will never return)</p>\n\n<p>NOTE: this is not my code, it comes from...</p>\n\n<p><a href=\"http://www.theserverside.com/blogs/thread.tss?thread_id=47017\" rel=\"nofollow noreferrer\">Java Reflection equals</a>\n    public static boolean equals(Object bean1, Object bean2)\n    {\n    // Handle the trivial cases\n    if (bean1 == bean2)\n    return true;</p>\n\n<pre><code>if (bean1 == null)\nreturn false;\n\nif (bean2 == null)\nreturn false;\n\n// Get the class of one of the parameters\nClass clazz = bean1.getClass();\n\n// Make sure bean1 and bean2 are the same class\nif (!clazz.equals(bean2.getClass()))\n{\nreturn false;\n}\n\n// Iterate through each field looking for differences\nField[] fields = clazz.getDeclaredFields();\nfor (int i = 0; i &lt; fields.length; i++)\n{\n// setAccessible is great (encapsulation\n// purists will disagree), setting to true\n// allows reflection to have access to\n// private members.\nfields[i].setAccessible(true);\ntry\n{\nObject value1 = fields[i].get(bean1);\nObject value2 = fields[i].get(bean2);\n\nif ((value1 == null &amp;&amp; value2 != null) ||\n(value1 != null &amp;&amp; value2 == null))\n{\nreturn false;\n}\n\nif (value1 != null &amp;&amp;\nvalue2 != null &amp;&amp;\n!value1.equals(value2))\n{\nreturn false;\n}\n}\ncatch (IllegalArgumentException e)\n{\ne.printStackTrace();\n}\ncatch (IllegalAccessException e)\n{\ne.printStackTrace();\n}\n}\n\nreturn true;\n</code></pre>\n\n<p>The one thing that this does not do it to tell you the reason for the difference, but that could be done via message to Log4J when you find a section that is not equal.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1258368338,"creation_date":1258364428,"answer_id":1741097,"question_id":1741041,"body_markdown":"I think, the most generic approach is to reflect the bean members and test them for equality one-by-one. The common lang&#39;s `EqualsBuilder` is a good start and it should be not a big deal, to adapt it (on source level) to your requirements (reporting the differences instead of returning the equals result).\r\n\r\n","title":"Assert that two java beans are equivalent","body":"<p>I think, the most generic approach is to reflect the bean members and test them for equality one-by-one. The common lang's <code>EqualsBuilder</code> is a good start and it should be not a big deal, to adapt it (on source level) to your requirements (reporting the differences instead of returning the equals result).</p>\n"},{"tags":[],"owner":{"display_name":"user211919"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258364672,"creation_date":1258364672,"answer_id":1741114,"question_id":1741041,"body_markdown":"I am assuming here that both beans are of the same type, in which case only the member variable values will differ across bean instances.\r\n\r\nDefine an util class (public static final with private ctor) called, say, BeanAssertEquals. Use Java reflection to obtain the value of each member variable in each bean. Then do an equals() between values for the same member variable in different beans. If an equality fails, mention the field name.\r\n\r\nNote: member variables are usually private, so you would need to use reflection to temporarily change the accessibility of private members.\r\n\r\nAdditionally, depending how fine-grained you want the assertion to work, you should consider the following:\r\n\r\n1. Equality of member variables not in the bean class but all superclasses.\r\n\r\n2. Equality of elements in arrays, in case a member variable is of type array.\r\n\r\n3. For two values of a given member across beans, you might consider doing BeanAssertEquals.assertEquals(value1, value2) instead of value1.equals(value2).","title":"Assert that two java beans are equivalent","body":"<p>I am assuming here that both beans are of the same type, in which case only the member variable values will differ across bean instances.</p>\n\n<p>Define an util class (public static final with private ctor) called, say, BeanAssertEquals. Use Java reflection to obtain the value of each member variable in each bean. Then do an equals() between values for the same member variable in different beans. If an equality fails, mention the field name.</p>\n\n<p>Note: member variables are usually private, so you would need to use reflection to temporarily change the accessibility of private members.</p>\n\n<p>Additionally, depending how fine-grained you want the assertion to work, you should consider the following:</p>\n\n<ol>\n<li><p>Equality of member variables not in the bean class but all superclasses.</p></li>\n<li><p>Equality of elements in arrays, in case a member variable is of type array.</p></li>\n<li><p>For two values of a given member across beans, you might consider doing BeanAssertEquals.assertEquals(value1, value2) instead of value1.equals(value2).</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":52748,"reputation":14581,"user_id":157672,"accept_rate":86,"display_name":"Michael Lloyd Lee mlk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258368211,"creation_date":1258368211,"answer_id":1741385,"question_id":1741041,"body_markdown":"(to build on my comment to [Andreas_D][1] above)\r\n\r\n\t/** Asserts two objects are equals using a reflective equals.\r\n\t * \r\n\t * @param message The message to display.\r\n\t * @param expected The expected result.\r\n\t * @param actual The actual result\r\n\t */\r\n\tpublic static void assertReflectiveEquals(final String message, \r\n\t\t\tfinal Object expected, final Object actual) {\r\n\t\tif (!EqualsBuilder.reflectionEquals(expected, actual)) {\r\n\t\t\tassertEquals(message, \r\n\t\t\t\t\treflectionToString(expected, ToStringStyle.SHORT_PREFIX_STYLE), \r\n\t\t\t\t\treflectionToString(actual, ToStringStyle.SHORT_PREFIX_STYLE));\r\n\t\t\tfail(message + &quot;expected: &lt;&quot; + expected + &quot;&gt;  actual: &lt;&quot; + actual + &quot;&gt;&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThis is what I use, and I believe it meets all basic requirements. By doing the assert on the reflective ToString then Eclipse will highlight the difference. \r\n\r\nWhile  [Hamcrest][2] can offer a much nicer message, this does involve a good deal less code. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1741041/assert-that-two-java-beans-are-equivalent/1741097#1741097\r\n  [2]: http://blogs.atlassian.com/developer/2009/06/how_hamcrest_can_save_your_sou.html","title":"Assert that two java beans are equivalent","body":"<p>(to build on my comment to <a href=\"https://stackoverflow.com/questions/1741041/assert-that-two-java-beans-are-equivalent/1741097#1741097\">Andreas_D</a> above)</p>\n\n<pre><code>/** Asserts two objects are equals using a reflective equals.\n * \n * @param message The message to display.\n * @param expected The expected result.\n * @param actual The actual result\n */\npublic static void assertReflectiveEquals(final String message, \n        final Object expected, final Object actual) {\n    if (!EqualsBuilder.reflectionEquals(expected, actual)) {\n        assertEquals(message, \n                reflectionToString(expected, ToStringStyle.SHORT_PREFIX_STYLE), \n                reflectionToString(actual, ToStringStyle.SHORT_PREFIX_STYLE));\n        fail(message + \"expected: &lt;\" + expected + \"&gt;  actual: &lt;\" + actual + \"&gt;\");\n    }\n}\n</code></pre>\n\n<p>This is what I use, and I believe it meets all basic requirements. By doing the assert on the reflective ToString then Eclipse will highlight the difference. </p>\n\n<p>While  <a href=\"http://blogs.atlassian.com/developer/2009/06/how_hamcrest_can_save_your_sou.html\" rel=\"nofollow noreferrer\">Hamcrest</a> can offer a much nicer message, this does involve a good deal less code. </p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1360653781,"creation_date":1360653781,"answer_id":14827457,"question_id":1741041,"body_markdown":"I recommend you use **unitils** library:\r\n\r\nhttp://www.unitils.org/tutorial-reflectionassert.html\r\n\r\n&lt;pre&gt;\r\npublic class User {\r\n  \r\n    private long id;\r\n    private String first;\r\n    private String last;\r\n  \r\n    public User(long id, String first, String last) {\r\n        this.id = id;\r\n        this.first = first;\r\n        this.last = last;\r\n    }\r\n}\r\n&lt;/pre&gt;\r\n\r\n&lt;pre&gt;\r\nUser user1 = new User(1, &quot;John&quot;, &quot;Doe&quot;);\r\nUser user2 = new User(1, &quot;John&quot;, &quot;Doe&quot;);\r\nassertReflectionEquals(user1, user2);\r\n&lt;/pre&gt;\r\n\r\nSee also:\r\n\r\n * https://stackoverflow.com/questions/1449001/is-there-a-java-reflection-utility-to-do-a-deep-comparison-of-two-objects\r\n * https://stackoverflow.com/questions/1157877/nunit-assert-to-check-all-properties-are-equal","title":"Assert that two java beans are equivalent","body":"<p>I recommend you use <strong>unitils</strong> library:</p>\n\n<p><a href=\"http://www.unitils.org/tutorial-reflectionassert.html\" rel=\"nofollow noreferrer\">http://www.unitils.org/tutorial-reflectionassert.html</a></p>\n\n<pre>\npublic class User {\n\n    private long id;\n    private String first;\n    private String last;\n\n    public User(long id, String first, String last) {\n        this.id = id;\n        this.first = first;\n        this.last = last;\n    }\n}\n</pre>\n\n<pre>\nUser user1 = new User(1, \"John\", \"Doe\");\nUser user2 = new User(1, \"John\", \"Doe\");\nassertReflectionEquals(user1, user2);\n</pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1449001/is-there-a-java-reflection-utility-to-do-a-deep-comparison-of-two-objects\">Is there a Java reflection utility to do a deep comparison of two objects?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1157877/nunit-assert-to-check-all-properties-are-equal\">NUnit - Assert to check all properties are equal?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3941817,"reputation":1056,"user_id":3255867,"display_name":"Chomeh"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1427098791,"creation_date":1427098791,"answer_id":29205739,"question_id":1741041,"body_markdown":"    import static org.hamcrest.beans.SamePropertyValuesAs.samePropertyValuesAs;\r\n    import static org.junit.Assert.assertThat;\r\n\r\n    @Test\r\n    public void beansAreTheSame(){\r\n        MyDomianClass bean1 = new MyDomainClass();\r\n        MyDomianClass bean2 = new MyDomainClass();\r\n        //TODO - some more test logic\r\n\r\n        assertThat(bean1, samePropertyValuesAs(bean2));\r\n    }","title":"Assert that two java beans are equivalent","body":"<pre><code>import static org.hamcrest.beans.SamePropertyValuesAs.samePropertyValuesAs;\nimport static org.junit.Assert.assertThat;\n\n@Test\npublic void beansAreTheSame(){\n    MyDomianClass bean1 = new MyDomainClass();\n    MyDomianClass bean2 = new MyDomainClass();\n    //TODO - some more test logic\n\n    assertThat(bean1, samePropertyValuesAs(bean2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323800,"reputation":5413,"user_id":644035,"accept_rate":74,"display_name":"Hazok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432086472,"creation_date":1432086472,"answer_id":30338963,"question_id":1741041,"body_markdown":"For unit testing this can be done with JUnit and Mockito using ReflectionEquals. When implementing in the following manner, it will dump the JSON representations of the objects when any fields are not equal which makes it easy to find the offending difference.\r\n\r\n\r\n    import static org.junit.Assert.assertThat;\r\n    import org.mockito.internal.matchers.apachecommons.ReflectionEquals;\r\n    \r\n    assertThat(&quot;Validating field equivalence of objects&quot;, expectedObjectValues, new ReflectionEquals(actualObjectValues));","title":"Assert that two java beans are equivalent","body":"<p>For unit testing this can be done with JUnit and Mockito using ReflectionEquals. When implementing in the following manner, it will dump the JSON representations of the objects when any fields are not equal which makes it easy to find the offending difference.</p>\n\n<pre><code>import static org.junit.Assert.assertThat;\nimport org.mockito.internal.matchers.apachecommons.ReflectionEquals;\n\nassertThat(\"Validating field equivalence of objects\", expectedObjectValues, new ReflectionEquals(actualObjectValues));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457550594,"creation_date":1457550594,"answer_id":35900500,"question_id":1741041,"body_markdown":"You can set all fields like this: \r\n\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.allOf;\r\n    import static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\r\n    import static org.hamcrest.Matchers.is;\r\n\r\n\t@Test\r\n\tpublic void test_returnBean(){\r\n\r\n\t\tarrange();\r\n      \r\n\t\tMyBean myBean = act();\r\n\t\t\r\n\t\tassertThat(myBean, allOf(hasProperty(&quot;id&quot;, \t\t    is(7L)), \r\n\t\t\t\t\t\t\t     hasProperty(&quot;name&quot;, \t\tis(&quot;testName1&quot;)),\r\n\t\t\t\t\t\t\t\t hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))));\r\n\t}","title":"Assert that two java beans are equivalent","body":"<p>You can set all fields like this: </p>\n\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.allOf;\nimport static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\nimport static org.hamcrest.Matchers.is;\n\n@Test\npublic void test_returnBean(){\n\n    arrange();\n\n    MyBean myBean = act();\n\n    assertThat(myBean, allOf(hasProperty(\"id\",          is(7L)), \n                             hasProperty(\"name\",        is(\"testName1\")),\n                             hasProperty(\"description\", is(\"testDesc1\"))));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185100,"reputation":3489,"user_id":421602,"accept_rate":40,"display_name":"vorburger"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1472547221,"creation_date":1472547221,"answer_id":39222891,"question_id":1741041,"body_markdown":"The [xtendbeans library][1] could be of interest in this context:\r\n\r\n    AssertBeans.assertEqualBeans(expectedBean, actualBean);\r\n\r\nThis produces a JUnit `ComparisonFailure` &#224; la:\r\n\r\n    expected: \r\n        new Person =&gt; [\r\n            firstName = &#39;Homer&#39;\r\n            lastName = &#39;Simpson&#39;\r\n            address = new Address =&gt; [\r\n              street = &#39;742 Evergreen Terrace&#39;\r\n              city = &#39;SpringField&#39;\r\n           ]\r\n      ]\r\n    but was:\r\n        new Person =&gt; [\r\n            firstName = &#39;Marge&#39;\r\n            lastName = &#39;Simpson&#39;\r\n            address = new Address =&gt; [\r\n              street = &#39;742 Evergreen Terrace Road&#39;\r\n              city = &#39;SpringField&#39;\r\n           ]\r\n      ]\r\n\r\nYou could also use it just to get the textual representation for other purposes:\r\n\r\n    String beanAsLiteralText = new XtendBeanGenerator().getExpression(yourBean)\r\n\r\nWith this library you can use the above syntactically valid object initialization code fragment to copy/paste it into a (Xtend) source class for the `expectedBean`, but you don&#39;t not have to, it can perfectly well be used without Xtend as well.\r\n\r\n  [1]: https://github.com/vorburger/xtendbeans","title":"Assert that two java beans are equivalent","body":"<p>The <a href=\"https://github.com/vorburger/xtendbeans\" rel=\"nofollow\">xtendbeans library</a> could be of interest in this context:</p>\n\n<pre><code>AssertBeans.assertEqualBeans(expectedBean, actualBean);\n</code></pre>\n\n<p>This produces a JUnit <code>ComparisonFailure</code> à la:</p>\n\n<pre><code>expected: \n    new Person =&gt; [\n        firstName = 'Homer'\n        lastName = 'Simpson'\n        address = new Address =&gt; [\n          street = '742 Evergreen Terrace'\n          city = 'SpringField'\n       ]\n  ]\nbut was:\n    new Person =&gt; [\n        firstName = 'Marge'\n        lastName = 'Simpson'\n        address = new Address =&gt; [\n          street = '742 Evergreen Terrace Road'\n          city = 'SpringField'\n       ]\n  ]\n</code></pre>\n\n<p>You could also use it just to get the textual representation for other purposes:</p>\n\n<pre><code>String beanAsLiteralText = new XtendBeanGenerator().getExpression(yourBean)\n</code></pre>\n\n<p>With this library you can use the above syntactically valid object initialization code fragment to copy/paste it into a (Xtend) source class for the <code>expectedBean</code>, but you don't not have to, it can perfectly well be used without Xtend as well.</p>\n"},{"tags":[],"owner":{"account_id":101503,"reputation":703,"user_id":273043,"display_name":"foal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693415026,"creation_date":1693415026,"answer_id":77010137,"question_id":1741041,"body_markdown":"If you need to check partial equivalent or some sophisticated conditions on tested bean (e.g. some list property contains 4 elements) you can check the https://github.com/hortonolite/hamcrestBeanMatcherApt project. It is a Java APT processor what generate a matcher builder class for bean with Hamcrest Matcher.\r\n\r\nFor example, for beans \r\n```java\r\n@Value\r\n@Builder\r\npublic class TestBean02 {\r\n\tString stringValue;\r\n\tList&lt;String&gt; listValue;\r\n\tTestBean03 anotherBean;\r\n}\r\n```\r\n```Java\r\n@Value\r\n@Builder\r\npublic class TestBean03 {\r\n\tint intValue;\r\n\tint[] intArrayValue;\r\n}\r\n```\r\n\r\nIt will generate `TestBean02Matcher` and you can create matcher for any property combinations.\r\n\r\n```Java\r\nTestBean03 anotherBean= TestBean03.builder()\r\n\t       \t\t\t      .intValue(10)\r\n\t\t\t\t          .intArrayValue(new int[] { 2, 4, 6, 8, 0 })\r\n\t\t\t\t          .build();\r\nTestBean02 bean = TestBean02.builder()\r\n\t\t\t\t     .stringValue(&quot;value01&quot;)\r\n\t\t\t\t     .listValue(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\r\n\t\t\t\t     .anotherBean(anotherBean)\r\n\t\t\t\t     .build();\r\nassertThat(bean, testBean02Matcher()\r\n\t\t\t\t\t\t.withListValue(contains(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\r\n\t\t\t\t\t\t.withAnotherBean(testBean03Matcher()\r\n\t\t\t\t\t\t\t\t.withIntArrayValueSize(5)));\r\n```","title":"Assert that two java beans are equivalent","body":"<p>If you need to check partial equivalent or some sophisticated conditions on tested bean (e.g. some list property contains 4 elements) you can check the <a href=\"https://github.com/hortonolite/hamcrestBeanMatcherApt\" rel=\"nofollow noreferrer\">https://github.com/hortonolite/hamcrestBeanMatcherApt</a> project. It is a Java APT processor what generate a matcher builder class for bean with Hamcrest Matcher.</p>\n<p>For example, for beans</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\n@Builder\npublic class TestBean02 {\n    String stringValue;\n    List&lt;String&gt; listValue;\n    TestBean03 anotherBean;\n}\n</code></pre>\n<pre><code>@Value\n@Builder\npublic class TestBean03 {\n    int intValue;\n    int[] intArrayValue;\n}\n</code></pre>\n<p>It will generate <code>TestBean02Matcher</code> and you can create matcher for any property combinations.</p>\n<pre><code>TestBean03 anotherBean= TestBean03.builder()\n                          .intValue(10)\n                          .intArrayValue(new int[] { 2, 4, 6, 8, 0 })\n                          .build();\nTestBean02 bean = TestBean02.builder()\n                     .stringValue(&quot;value01&quot;)\n                     .listValue(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\n                     .anotherBean(anotherBean)\n                     .build();\nassertThat(bean, testBean02Matcher()\n                        .withListValue(contains(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\n                        .withAnotherBean(testBean03Matcher()\n                                .withIntArrayValueSize(5)));\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20697,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":14827457,"answer_count":13,"score":14,"last_activity_date":1693415026,"creation_date":1258363624,"question_id":1741041,"body_markdown":"[This question][1] is close, but still not what I want. I&#39;d like to assert in a generic way that two bean objects are equivalent. In case they are not, I&#39;d like a detailed error message explaining the difference instead of a boolean &quot;equal&quot; or &quot;not equal&quot;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/472626/how-to-generically-compare-entire-java-beans","title":"Assert that two java beans are equivalent","body":"<p><a href=\"https://stackoverflow.com/questions/472626/how-to-generically-compare-entire-java-beans\">This question</a> is close, but still not what I want. I'd like to assert in a generic way that two bean objects are equivalent. In case they are not, I'd like a detailed error message explaining the difference instead of a boolean \"equal\" or \"not equal\".</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1463505566,"creation_date":1463505566,"answer_id":37282634,"question_id":32654152,"body_markdown":" 1. Go to **Module Settings** --&gt; **Artifacts**\r\n 2. Create a new folder called **META-INF**\r\n[![enter image description here][1]][1]\r\n 3. Add the **MANIFEST** file which should be located in your src folder\r\n[![enter image description here][2]][2]\r\n\r\n**as a file**\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis will tell IntelliJ to copy the manifest into the jar file.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pSgx4.png\r\n  [2]: http://i.stack.imgur.com/cRpUW.png\r\n  [3]: http://i.stack.imgur.com/fP6Cl.png","title":"IntelliJ Maven &quot;Error: Invalid or corrupt jarfile&quot;","body":"<ol>\n<li>Go to <strong>Module Settings</strong> --> <strong>Artifacts</strong></li>\n<li>Create a new folder called <strong>META-INF</strong>\n<a href=\"https://i.stack.imgur.com/pSgx4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pSgx4.png\" alt=\"enter image description here\"></a></li>\n<li>Add the <strong>MANIFEST</strong> file which should be located in your src folder\n<a href=\"https://i.stack.imgur.com/cRpUW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cRpUW.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p><strong>as a file</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/fP6Cl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fP6Cl.png\" alt=\"enter image description here\"></a></p>\n\n<p>This will tell IntelliJ to copy the manifest into the jar file.</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23644,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":1,"score":20,"last_activity_date":1693414995,"creation_date":1442585481,"question_id":32654152,"body_markdown":"I&#39;m using [IntelliJ][1] to develop `Java` Desktop applications. On my project, I added framework support for [`Maven`][2] and added a dependency to the `pom.xml` file. I also added a build artifact like described [here][3] (I would also appreciate if this question gets answered).\r\nNow that my project has `Maven` support, the generated `JAR` file no longer works. When I try to launch it, it displays the error `Error: Invalid or corrupt jarfile MyProject.jar`. When I open the `JAR` file using [`WinRAR`][4], there is no `MANIFEST.MF` file included, only folders and `CLASS` files. What happened to my `Maven` dependencies as well? Why does `IntelliJ` not properly build my `Maven` project into an executable `JAR` file via its artifacts?\r\n\r\n  [1]: https://www.jetbrains.com/idea/\r\n  [2]: https://maven.apache.org/\r\n  [3]: https://stackoverflow.com/questions/32639682/defining-multiple-artifacts-with-same-project-but-different-main-classes\r\n  [4]: http://www.rarlab.com/download.htm","title":"IntelliJ Maven &quot;Error: Invalid or corrupt jarfile&quot;","body":"<p>I'm using <a href=\"https://www.jetbrains.com/idea/\" rel=\"noreferrer\">IntelliJ</a> to develop <code>Java</code> Desktop applications. On my project, I added framework support for <a href=\"https://maven.apache.org/\" rel=\"noreferrer\"><code>Maven</code></a> and added a dependency to the <code>pom.xml</code> file. I also added a build artifact like described <a href=\"https://stackoverflow.com/questions/32639682/defining-multiple-artifacts-with-same-project-but-different-main-classes\">here</a> (I would also appreciate if this question gets answered).\nNow that my project has <code>Maven</code> support, the generated <code>JAR</code> file no longer works. When I try to launch it, it displays the error <code>Error: Invalid or corrupt jarfile MyProject.jar</code>. When I open the <code>JAR</code> file using <a href=\"http://www.rarlab.com/download.htm\" rel=\"noreferrer\"><code>WinRAR</code></a>, there is no <code>MANIFEST.MF</code> file included, only folders and <code>CLASS</code> files. What happened to my <code>Maven</code> dependencies as well? Why does <code>IntelliJ</code> not properly build my <code>Maven</code> project into an executable <code>JAR</code> file via its artifacts?</p>\n"},{"tags":["java","kubernetes","apache-kafka","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":10786834,"reputation":946,"user_id":7935592,"display_name":"fatcook"},"score":1,"creation_date":1563961819,"post_id":57179169,"comment_id":100871155,"body_markdown":"I am assuming you need some sort of Atomic id spanning across all producers ? Have you considered using a simple DB sequence in that case which is shared by all producers in your eco system.","body":"I am assuming you need some sort of Atomic id spanning across all producers ? Have you considered using a simple DB sequence in that case which is shared by all producers in your eco system."},{"owner":{"account_id":1953077,"reputation":3655,"user_id":1756750,"accept_rate":85,"display_name":"Denis"},"score":0,"creation_date":1563962335,"post_id":57179169,"comment_id":100871469,"body_markdown":"@fatcook nope, `transaction id` is not a DB sequence. Let&#39;s consider a example. We have 2 PODs, each pod has own copy of application instance. So, first application has `transaction id == 1`, second one has `transaction id == 2`. Then first POD is down (for example, we deploy new version of application). When first POD start again, it has to get `transaction id == 1`, not `transaction id == 3`","body":"@fatcook nope, <code>transaction id</code> is not a DB sequence. Let&#39;s consider a example. We have 2 PODs, each pod has own copy of application instance. So, first application has <code>transaction id == 1</code>, second one has <code>transaction id == 2</code>. Then first POD is down (for example, we deploy new version of application). When first POD start again, it has to get <code>transaction id == 1</code>, not <code>transaction id == 3</code>"},{"owner":{"account_id":10786834,"reputation":946,"user_id":7935592,"display_name":"fatcook"},"score":0,"creation_date":1563963013,"post_id":57179169,"comment_id":100871878,"body_markdown":"Then this is more of an application id ? And do you want to have same or different ids for multiple instances of your same application ? Either case this can be also be achieved by using some sort of health check endpoint framework , where you check isAlive on the pod , if Pod is alive then you cannot assign this application id to new pod , otherwise you can..","body":"Then this is more of an application id ? And do you want to have same or different ids for multiple instances of your same application ? Either case this can be also be achieved by using some sort of health check endpoint framework , where you check isAlive on the pod , if Pod is alive then you cannot assign this application id to new pod , otherwise you can.."},{"owner":{"account_id":1953077,"reputation":3655,"user_id":1756750,"accept_rate":85,"display_name":"Denis"},"score":0,"creation_date":1563963369,"post_id":57179169,"comment_id":100872067,"body_markdown":"@fatcook yea, it is a sort of application id, which is unique for each instance of application. But we need, that this application id is taken from some constant pool of  free IDs. For example, we have `1, 2, 3, 4, 5` application ids. First POD takes `1`, Second one takes `2`. When First POD is die, we need return `1` to pool of IDs. Thank you for health check endpoint idea, it may helps.","body":"@fatcook yea, it is a sort of application id, which is unique for each instance of application. But we need, that this application id is taken from some constant pool of  free IDs. For example, we have <code>1, 2, 3, 4, 5</code> application ids. First POD takes <code>1</code>, Second one takes <code>2</code>. When First POD is die, we need return <code>1</code> to pool of IDs. Thank you for health check endpoint idea, it may helps."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1693414878,"creation_date":1563974988,"answer_id":57184135,"question_id":57179169,"body_markdown":"If the consumer starts the transaction (read-process-write) then the transaction id prefix must be the same for all instances of the same app (so that zombie fencing works correctly after a rebalance). The actual transaction id used is `&lt;prefix&gt;&lt;group&gt;.&lt;topic&gt;.&lt;partition&gt;`.\r\n\r\nIf you have multiple apps, they should have unique prefixes (although if they consume from different topics, they will be unique anyway).\r\n\r\nFor producer-only transactions, the prefix must be unique in each instance (to prevent kafka fencing the producers).\r\n\r\n__EDIT__\r\n\r\nNote that [KIP-447](https://cwiki.apache.org/confluence/display/KAFKA/KIP-447%3A+Producer+scalability+for+exactly+once+semantics) changed all this; it is no longer necessary (when using `EOSMode.V2` aka `BETA`) to keep the tranactional id the same - consumer metadata is used for fencing instead.","title":"How to choose Kafka transaction id for several applications, hosted in Kubernetes?","body":"<p>If the consumer starts the transaction (read-process-write) then the transaction id prefix must be the same for all instances of the same app (so that zombie fencing works correctly after a rebalance). The actual transaction id used is <code>&lt;prefix&gt;&lt;group&gt;.&lt;topic&gt;.&lt;partition&gt;</code>.</p>\n<p>If you have multiple apps, they should have unique prefixes (although if they consume from different topics, they will be unique anyway).</p>\n<p>For producer-only transactions, the prefix must be unique in each instance (to prevent kafka fencing the producers).</p>\n<p><strong>EDIT</strong></p>\n<p>Note that <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-447%3A+Producer+scalability+for+exactly+once+semantics\" rel=\"nofollow noreferrer\">KIP-447</a> changed all this; it is no longer necessary (when using <code>EOSMode.V2</code> aka <code>BETA</code>) to keep the tranactional id the same - consumer metadata is used for fencing instead.</p>\n"}],"owner":{"account_id":1953077,"reputation":3655,"user_id":1756750,"accept_rate":85,"display_name":"Denis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5871,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57184135,"answer_count":1,"score":4,"last_activity_date":1693414878,"creation_date":1563959169,"question_id":57179169,"body_markdown":"I have a classic microservice architecture. So, there are differ applications. Each application may have `1..N` instances. The system is deployed to `Kubernetes.` So, we have many differ `PODs`, which can start and stop in any time.\r\n\r\nI want to implement &lt;a href=&quot;https://www.confluent.io/blog/transactions-apache-kafka/&quot;&gt;read-process-write&lt;/a&gt; pattern, so I need Kafka transactions. \r\n\r\nTo configure transactions, I need to set some `transaction id` for each Kafka producer. (Actually, I need `transaction-id-prefix`, because of I use Spring for my applications, and it has such `API`). These `IDs` have to be the same, after application is restarted.\r\n\r\nSo, how to choose Kafka transaction id for several applications, hosted in Kubernetes?\r\n\r\n\r\n","title":"How to choose Kafka transaction id for several applications, hosted in Kubernetes?","body":"<p>I have a classic microservice architecture. So, there are differ applications. Each application may have <code>1..N</code> instances. The system is deployed to <code>Kubernetes.</code> So, we have many differ <code>PODs</code>, which can start and stop in any time.</p>\n\n<p>I want to implement <a href=\"https://www.confluent.io/blog/transactions-apache-kafka/\" rel=\"nofollow noreferrer\">read-process-write</a> pattern, so I need Kafka transactions. </p>\n\n<p>To configure transactions, I need to set some <code>transaction id</code> for each Kafka producer. (Actually, I need <code>transaction-id-prefix</code>, because of I use Spring for my applications, and it has such <code>API</code>). These <code>IDs</code> have to be the same, after application is restarted.</p>\n\n<p>So, how to choose Kafka transaction id for several applications, hosted in Kubernetes?</p>\n"},{"tags":["java","parameters","exec","runtime.exec"],"answers":[{"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1313872485,"creation_date":1313872485,"answer_id":7134522,"question_id":7134486,"body_markdown":"The following should work fine.\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;php /var/www/script.php -m 2&quot;);","title":"How to execute command with parameters?","body":"<p>The following should work fine.</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"php /var/www/script.php -m 2\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1313872503,"creation_date":1313872503,"answer_id":7134525,"question_id":7134486,"body_markdown":"Use [`ProcessBuilder`][1] instead of `Runtime#exec()`.\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;php&quot;, &quot;/var/www/script.php&quot;, &quot;-m 2&quot;);\r\n    Process p = pb.start();\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html","title":"How to execute command with parameters?","body":"<p>Use <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\"><code>ProcessBuilder</code></a> instead of <code>Runtime#exec()</code>.</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"php\", \"/var/www/script.php\", \"-m 2\");\nProcess p = pb.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1313872816,"creation_date":1313872816,"answer_id":7134557,"question_id":7134486,"body_markdown":"See if this works (sorry can&#39;t test it right now)\r\n\r\n    Runtime.getRuntime().exec(new String[]{&quot;php&quot;,&quot;/var/www/script.php&quot;, &quot;-m&quot;, &quot;2&quot;});\r\n","title":"How to execute command with parameters?","body":"<p>See if this works (sorry can't test it right now)</p>\n\n<pre><code>Runtime.getRuntime().exec(new String[]{\"php\",\"/var/www/script.php\", \"-m\", \"2\"});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669702684,"creation_date":1662014113,"answer_id":73565111,"question_id":7134486,"body_markdown":"Below is java code for executing python script with java.\r\n### ProcessBuilder:\r\n   - First argument is path to virtual environment\r\n   - Second argument is path to python file\r\n   - Third argument is any argumrnt you want to pass to python script\r\n```java\r\npublic class JavaCode {\r\n    public static void main(String[] args) throws IOException {\r\n        String lines = null;\r\n        ProcessBuilder builder = new ProcessBuilder(&quot;/home/env-scrapping/bin/python&quot;,\r\n                &quot;/home/Scrapping/script.py&quot;, &quot;arg1&quot;);\r\n        Process process = builder.start();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        while ((lines = reader.readLine())!=null) {\r\n            System.out.println(&quot;Line: &quot; + lines);\r\n        }\r\n    }\r\n}\r\n```\r\nFirst is virtual environment path","title":"How to execute command with parameters?","body":"<p>Below is java code for executing python script with java.</p>\n<h3>ProcessBuilder:</h3>\n<ul>\n<li>First argument is path to virtual environment</li>\n<li>Second argument is path to python file</li>\n<li>Third argument is any argumrnt you want to pass to python script</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaCode {\n    public static void main(String[] args) throws IOException {\n        String lines = null;\n        ProcessBuilder builder = new ProcessBuilder(&quot;/home/env-scrapping/bin/python&quot;,\n                &quot;/home/Scrapping/script.py&quot;, &quot;arg1&quot;);\n        Process process = builder.start();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        while ((lines = reader.readLine())!=null) {\n            System.out.println(&quot;Line: &quot; + lines);\n        }\n    }\n}\n</code></pre>\n<p>First is virtual environment path</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693414816,"creation_date":1693414478,"answer_id":77010069,"question_id":7134486,"body_markdown":"You can try my [`jaxec`](https://github.com/yegor256/jaxec) library:\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nnew Jaxec(&quot;php&quot;, &quot;/var/www/script.php -m 2&quot;).exec();\r\n```\r\n\r\nIt will not only execute this shell command, but also:\r\n\r\n * Log the entire output\r\n * Redirect stderr to stdout\r\n * Check the exit code and throw exception if it&#39;s not zero\r\n * Wait until the command stops\r\n","title":"How to execute command with parameters?","body":"<p>You can try my <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\"><code>jaxec</code></a> library:</p>\n<pre><code>import com.yegor256.Jaxec;\nnew Jaxec(&quot;php&quot;, &quot;/var/www/script.php -m 2&quot;).exec();\n</code></pre>\n<p>It will not only execute this shell command, but also:</p>\n<ul>\n<li>Log the entire output</li>\n<li>Redirect stderr to stdout</li>\n<li>Check the exit code and throw exception if it's not zero</li>\n<li>Wait until the command stops</li>\n</ul>\n"}],"owner":{"account_id":793360,"reputation":325,"user_id":904060,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55283,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":7134557,"answer_count":5,"score":31,"last_activity_date":1693414816,"creation_date":1313872054,"question_id":7134486,"body_markdown":"How am I to execute a command in Java with parameters?\r\n\r\nI&#39;ve tried\r\n\r\n    Process p = Runtime.getRuntime().exec(new String[]{&quot;php&quot;,&quot;/var/www/script.php -m 2&quot;});\r\nwhich doesn&#39;t work.\r\n\r\n    String[] options = new String[]{&quot;option1&quot;, &quot;option2&quot;};\r\n    Runtime.getRuntime().exec(&quot;command&quot;, options);\r\nThis doesn&#39;t work as well, because the `m` parameter is not specified.","title":"How to execute command with parameters?","body":"<p>How am I to execute a command in Java with parameters?</p>\n\n<p>I've tried</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\"php\",\"/var/www/script.php -m 2\"});\n</code></pre>\n\n<p>which doesn't work.</p>\n\n<pre><code>String[] options = new String[]{\"option1\", \"option2\"};\nRuntime.getRuntime().exec(\"command\", options);\n</code></pre>\n\n<p>This doesn't work as well, because the <code>m</code> parameter is not specified.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1693413626,"post_id":77009969,"comment_id":135758728,"body_markdown":"If the element has `id=&quot;destination-input&quot;`, why are you trying `//*[@id=&quot;origin-input&quot;]`?","body":"If the element has <code>id=&quot;destination-input&quot;</code>, why are you trying <code>&#47;&#47;*[@id=&quot;origin-input&quot;]</code>?"},{"owner":{"account_id":1295638,"reputation":387,"user_id":1246780,"accept_rate":33,"display_name":"afterbit"},"score":0,"creation_date":1694016829,"post_id":77009969,"comment_id":135836877,"body_markdown":"my mistake.. the first input (From city) has id = origin-input .. I copied/pasted the second input (wrongly)","body":"my mistake.. the first input (From city) has id = origin-input .. I copied/pasted the second input (wrongly)"}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693414489,"creation_date":1693414052,"answer_id":77010026,"question_id":77009969,"body_markdown":"Your element is placed in 2 `shadow-root`s, to access it you need to get element via `JavascriptExecutor`.\r\n\r\nThe shadow root is a document fragment that is attached to the host element and it has a host property that identifies it`s host element. The act of attaching a shadow root is how the element gets its shadow DOM.\r\n\r\nSo, before getting inner element, you should get host element instead and get it&#39;s `shadowRoot` property that would represent root element of `shadowRoot`.\r\n\r\n1st host has locator `.origin-destination`\r\n\r\n2nd host has locator `#origin`\r\n\r\n\r\nAnd only after getting inside 2nd host, you can get your input with locator `#origin-input`.\r\n\r\n```java\r\nJavascriptExecutor js = (JavascriptExecutor) driver;\r\nWebElement input = (WebElement) js.executeScript(&quot;return document.querySelector(&#39;.origin-destination&#39;).shadowRoot.querySelector(&#39;#origin&#39;).shadowRoot.querySelector(&#39;#origin-input&#39;)&quot;);\r\n```","title":"Java Selenium cannot get element","body":"<p>Your element is placed in 2 <code>shadow-root</code>s, to access it you need to get element via <code>JavascriptExecutor</code>.</p>\n<p>The shadow root is a document fragment that is attached to the host element and it has a host property that identifies it`s host element. The act of attaching a shadow root is how the element gets its shadow DOM.</p>\n<p>So, before getting inner element, you should get host element instead and get it's <code>shadowRoot</code> property that would represent root element of <code>shadowRoot</code>.</p>\n<p>1st host has locator <code>.origin-destination</code></p>\n<p>2nd host has locator <code>#origin</code></p>\n<p>And only after getting inside 2nd host, you can get your input with locator <code>#origin-input</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavascriptExecutor js = (JavascriptExecutor) driver;\nWebElement input = (WebElement) js.executeScript(&quot;return document.querySelector('.origin-destination').shadowRoot.querySelector('#origin').shadowRoot.querySelector('#origin-input')&quot;);\n</code></pre>\n"}],"owner":{"account_id":1295638,"reputation":387,"user_id":1246780,"accept_rate":33,"display_name":"afterbit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77010026,"answer_count":1,"score":-1,"last_activity_date":1693414489,"creation_date":1693413546,"question_id":77009969,"body_markdown":"i&#39;m using Selenium (java)\r\n\r\nthe site is : https://www.maersk.com/schedules/pointToPoint\r\n\r\nI would like to get the input element &quot;From (city, country/region)&quot; but I can&#39;t..\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthe input element is :\r\n\r\n    &lt;input part=&quot;input&quot; aria-labelledby=&quot;label&quot; aria-describedby=&quot;hint&quot; data-cy=&quot;input&quot; class=&quot;input    &quot; type=&quot;text&quot; id=&quot;destination-input&quot; placeholder=&quot;&quot; autocomplete=&quot;off&quot; invalid=&quot;&quot; aria-invalid=&quot;true&quot;&gt;\r\n\r\nI tried with xpath: \r\n\r\n    //*[@id=&quot;origin-input&quot;]\r\n\r\nand full xpath : \r\n\r\n    /html/body/div[3]/main/div/div[1]/form/mc-c-origin-destination//div/mc-c-location-servicemode[1]//div/div[1]/div/div/div/div/div/div/div/input\r\n\r\nHow can I do?\r\nThank you!\r\n\r\n  [1]: https://i.stack.imgur.com/lYU67.png","title":"Java Selenium cannot get element","body":"<p>i'm using Selenium (java)</p>\n<p>the site is : <a href=\"https://www.maersk.com/schedules/pointToPoint\" rel=\"nofollow noreferrer\">https://www.maersk.com/schedules/pointToPoint</a></p>\n<p>I would like to get the input element &quot;From (city, country/region)&quot; but I can't..</p>\n<p><a href=\"https://i.stack.imgur.com/lYU67.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYU67.png\" alt=\"enter image description here\" /></a></p>\n<p>the input element is :</p>\n<pre><code>&lt;input part=&quot;input&quot; aria-labelledby=&quot;label&quot; aria-describedby=&quot;hint&quot; data-cy=&quot;input&quot; class=&quot;input    &quot; type=&quot;text&quot; id=&quot;destination-input&quot; placeholder=&quot;&quot; autocomplete=&quot;off&quot; invalid=&quot;&quot; aria-invalid=&quot;true&quot;&gt;\n</code></pre>\n<p>I tried with xpath:</p>\n<pre><code>//*[@id=&quot;origin-input&quot;]\n</code></pre>\n<p>and full xpath :</p>\n<pre><code>/html/body/div[3]/main/div/div[1]/form/mc-c-origin-destination//div/mc-c-location-servicemode[1]//div/div[1]/div/div/div/div/div/div/div/input\n</code></pre>\n<p>How can I do?\nThank you!</p>\n"},{"tags":["java","amazon-web-services","amazon-kinesis","amazon-kinesis-agent"],"answers":[{"tags":[],"owner":{"account_id":1740852,"reputation":770,"user_id":1592308,"display_name":"Venkata Santhosh Piduri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615832822,"creation_date":1615832822,"answer_id":66643568,"question_id":62669473,"body_markdown":"Invalid key-values/characters could cause that exception. Could you please check if you got any invalid characters or values in `cat ~/.aws/credentials` or  `cat ~/.aws/config` files. \r\n\r\n","title":"IllegalArgumentException: Expected a profile definition on line 1 in KinesisClient","body":"<p>Invalid key-values/characters could cause that exception. Could you please check if you got any invalid characters or values in <code>cat ~/.aws/credentials</code> or  <code>cat ~/.aws/config</code> files.</p>\n"},{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693414218,"creation_date":1693414218,"answer_id":77010040,"question_id":62669473,"body_markdown":"In addition to the answer from Venkata, the format of the credentials file appears to be important and the error may not make this obvious.\r\n\r\nFor example, I found that this format does not work (Mac OS in ~/.aws/credentails):\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    [default] \r\n    aws_access_key_id=AKIARQV2GJHGK78 aws_secret_access_key=Op+kW9cXLL9dddtSNRuRccULcL5gt4VUx6ywOObN\r\n\r\nwhile this format does (i.e. on separate lines):\r\n\r\n    [default] \r\n    aws_access_key_id=AKIARQV2GJHGK78\r\n    aws_secret_access_key=Op+kW9cXLL9dddtSNRuRccULcL5gt4VUx6ywOObN\r\n\r\n(above are not real keys!)\r\n\r\nMore info here: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html","title":"IllegalArgumentException: Expected a profile definition on line 1 in KinesisClient","body":"<p>In addition to the answer from Venkata, the format of the credentials file appears to be important and the error may not make this obvious.</p>\n<p>For example, I found that this format does not work (Mac OS in ~/.aws/credentails):</p>\n<pre class=\"lang-js prettyprint-override\"><code>[default] \naws_access_key_id=AKIARQV2GJHGK78 aws_secret_access_key=Op+kW9cXLL9dddtSNRuRccULcL5gt4VUx6ywOObN\n</code></pre>\n<p>while this format does (i.e. on separate lines):</p>\n<pre><code>[default] \naws_access_key_id=AKIARQV2GJHGK78\naws_secret_access_key=Op+kW9cXLL9dddtSNRuRccULcL5gt4VUx6ywOObN\n</code></pre>\n<p>(above are not real keys!)</p>\n<p>More info here: <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html</a></p>\n"}],"owner":{"account_id":14466080,"reputation":13,"user_id":10449404,"display_name":"Random Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693414218,"creation_date":1593575958,"question_id":62669473,"body_markdown":"I m creating an object of KinesisClient class using AWS SDK 2.x in java like this\r\n```\r\nAwsCredentialsProvider credentialsProvider = StaticCredentialsProvider.create(\r\n        AwsBasicCredentials.create(&quot;access-key&quot;,\r\n            &quot;secret-key&quot;)\r\n    );\r\n    KinesisClient kinesisClient  = KinesisClient.builder()\r\n        .credentialsProvider(credentialsProvider)\r\n        .build();\r\n```\r\n\r\nwhen I am executing this code, I am getting below exception \r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Expected a profile definition on line 1\r\n\tat software.amazon.awssdk.utils.Validate.isTrue(Validate.java:76)\r\n\tat software.amazon.awssdk.profiles.internal.ProfileFileReader.readPropertyDefinitionLine(ProfileFileReader.java:125)\r\n\tat software.amazon.awssdk.profiles.internal.ProfileFileReader.parseLine(ProfileFileReader.java:78)\r\n\tat software.amazon.awssdk.profiles.internal.ProfileFileReader.lambda$parseFile$0(ProfileFileReader.java:58)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)\r\n\tat software.amazon.awssdk.profiles.internal.ProfileFileReader.parseFile(ProfileFileReader.java:58)\r\n\tat software.amazon.awssdk.profiles.ProfileFile$BuilderImpl.build(ProfileFile.java:265)\r\n\tat software.amazon.awssdk.profiles.ProfileFile.lambda$addCredentialsFile$0(ProfileFile.java:142)\r\n\tat java.util.Optional.ifPresent(Optional.java:159)\r\n\tat software.amazon.awssdk.profiles.ProfileFile.addCredentialsFile(ProfileFile.java:139)\r\n\tat software.amazon.awssdk.utils.builder.SdkBuilder.applyMutation(SdkBuilder.java:61)\r\n\tat software.amazon.awssdk.profiles.ProfileFile.defaultProfileFile(ProfileFile.java:90)\r\n\tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.mergeGlobalDefaults(SdkDefaultClientBuilder.java:196)\r\n\tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.syncClientConfiguration(SdkDefaultClientBuilder.java:149)\r\n\tat software.amazon.awssdk.services.kinesis.DefaultKinesisClientBuilder.buildClient(DefaultKinesisClientBuilder.java:28)\r\n\tat software.amazon.awssdk.services.kinesis.DefaultKinesisClientBuilder.buildClient(DefaultKinesisClientBuilder.java:22)\r\n\tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.build(SdkDefaultClientBuilder.java:124)\r\n```\r\n\r\nis there anything i m missing for that profile thing, or there is some other way to create the Client object.\r\nThanks in advance! ","title":"IllegalArgumentException: Expected a profile definition on line 1 in KinesisClient","body":"<p>I m creating an object of KinesisClient class using AWS SDK 2.x in java like this</p>\n<pre><code>AwsCredentialsProvider credentialsProvider = StaticCredentialsProvider.create(\n        AwsBasicCredentials.create(&quot;access-key&quot;,\n            &quot;secret-key&quot;)\n    );\n    KinesisClient kinesisClient  = KinesisClient.builder()\n        .credentialsProvider(credentialsProvider)\n        .build();\n</code></pre>\n<p>when I am executing this code, I am getting below exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Expected a profile definition on line 1\n    at software.amazon.awssdk.utils.Validate.isTrue(Validate.java:76)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.readPropertyDefinitionLine(ProfileFileReader.java:125)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.parseLine(ProfileFileReader.java:78)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.lambda$parseFile$0(ProfileFileReader.java:58)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)\n    at software.amazon.awssdk.profiles.internal.ProfileFileReader.parseFile(ProfileFileReader.java:58)\n    at software.amazon.awssdk.profiles.ProfileFile$BuilderImpl.build(ProfileFile.java:265)\n    at software.amazon.awssdk.profiles.ProfileFile.lambda$addCredentialsFile$0(ProfileFile.java:142)\n    at java.util.Optional.ifPresent(Optional.java:159)\n    at software.amazon.awssdk.profiles.ProfileFile.addCredentialsFile(ProfileFile.java:139)\n    at software.amazon.awssdk.utils.builder.SdkBuilder.applyMutation(SdkBuilder.java:61)\n    at software.amazon.awssdk.profiles.ProfileFile.defaultProfileFile(ProfileFile.java:90)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.mergeGlobalDefaults(SdkDefaultClientBuilder.java:196)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.syncClientConfiguration(SdkDefaultClientBuilder.java:149)\n    at software.amazon.awssdk.services.kinesis.DefaultKinesisClientBuilder.buildClient(DefaultKinesisClientBuilder.java:28)\n    at software.amazon.awssdk.services.kinesis.DefaultKinesisClientBuilder.buildClient(DefaultKinesisClientBuilder.java:22)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.build(SdkDefaultClientBuilder.java:124)\n</code></pre>\n<p>is there anything i m missing for that profile thing, or there is some other way to create the Client object.\nThanks in advance!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1693109165,"post_id":76985580,"comment_id":135715617,"body_markdown":"What are you passing exactly? Provide data and steps for reproduction. Show the complete error from the log, not just the message.","body":"What are you passing exactly? Provide data and steps for reproduction. Show the complete error from the log, not just the message."}],"answers":[{"tags":[],"owner":{"account_id":26165800,"reputation":11,"user_id":19851647,"display_name":"boubaker asma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693414031,"creation_date":1693144568,"answer_id":76987445,"question_id":76985580,"body_markdown":"try to change the date format in your request URL to &quot;yyyy-MM-dd HH:mm:ss&quot;:/flights/search/id?departure_from=...&amp;arrival_at=...&amp;departure_date=2023-08-27%2012:00:00&amp;return_date=2023-08-28%2012:00:00\r\n`\r\n %20 to represent spaces in the URL.\r\n\r\n\r\nI recommend using `@PathVariable` instead of `@RequestParam`.\r\n\r\n```java\r\n     @GetMapping(&quot;/flights/search/{id}/{departureDate}/{returnDate}&quot;)\r\n        public ResponseEntity&lt;?&gt; searchFlightsById(\r\n                @RequestParam(&quot;departureFrom&quot;) Airport departureFrom,\r\n                @RequestParam(&quot;arrivalAt&quot;) Airport arrivalAt,\r\n                @PathVariable(&quot;departureDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Date departureDate,\r\n                @PathVariable(&quot;returnDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Optional&lt;Date&gt; returnDate) {\r\n        \r\n         \r\n        }\r\n```\r\n\r\nthe URL might look like this: `/flights/search/1/2023-08-27%2012:00:00/2023-08-28%2012:00:00`\r\n\r\n\r\n\r\n\r\n\r\n","title":"I cannot make a GET call with date as a query","body":"<p>try to change the date format in your request URL to &quot;yyyy-MM-dd HH:mm:ss&quot;:/flights/search/id?departure_from=...&amp;arrival_at=...&amp;departure_date=2023-08-27%2012:00:00&amp;return_date=2023-08-28%2012:00:00\n`\n%20 to represent spaces in the URL.</p>\n<p>I recommend using <code>@PathVariable</code> instead of <code>@RequestParam</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     @GetMapping(&quot;/flights/search/{id}/{departureDate}/{returnDate}&quot;)\n        public ResponseEntity&lt;?&gt; searchFlightsById(\n                @RequestParam(&quot;departureFrom&quot;) Airport departureFrom,\n                @RequestParam(&quot;arrivalAt&quot;) Airport arrivalAt,\n                @PathVariable(&quot;departureDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Date departureDate,\n                @PathVariable(&quot;returnDate&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Optional&lt;Date&gt; returnDate) {\n        \n         \n        }\n</code></pre>\n<p>the URL might look like this: <code>/flights/search/1/2023-08-27%2012:00:00/2023-08-28%2012:00:00</code></p>\n"},{"tags":[],"owner":{"account_id":11078416,"reputation":1,"user_id":8134336,"display_name":"beneficarum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693204084,"creation_date":1693204084,"answer_id":76990456,"question_id":76985580,"body_markdown":"I managed to solve the issue by declaring the departureDate and arrivalDate as String variables instead of as type Date. Even though the entities had their dates saved as String variables, I was able to conduct necessary operations on them by parsing them with dateFormat as needed. Thanks for all the tips so far!","title":"I cannot make a GET call with date as a query","body":"<p>I managed to solve the issue by declaring the departureDate and arrivalDate as String variables instead of as type Date. Even though the entities had their dates saved as String variables, I was able to conduct necessary operations on them by parsing them with dateFormat as needed. Thanks for all the tips so far!</p>\n"}],"owner":{"account_id":11078416,"reputation":1,"user_id":8134336,"display_name":"beneficarum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693414031,"creation_date":1693105968,"question_id":76985580,"body_markdown":"So I have this Flight entity:\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;flights&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Flight{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long flightId;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;departure_from&quot;, referencedColumnName=&quot;location&quot;)\r\n    private Airport departureFrom;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;arrival_to&quot;, referencedColumnName=&quot;location&quot;)\r\n    private Airport arrivalTo;\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, shape = Shape.STRING)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;departure_date&quot;, columnDefinition = &quot;DATETIME&quot;)\r\n    private Date departureDate;\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, shape = Shape.STRING)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;return_date&quot;, columnDefinition = &quot;DATETIME&quot;)\r\n    private Date returnDate;\r\n    private Long flightPrice;\r\n}\r\n```\r\nWith which I can successfully use to create instances with a POST call.\r\nHowever, when I try to make a GET call with the queries of departureFrom, arrivalTo, departureDate and returnDate, I get the error: \r\n\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;java.util.Date&#39;.\r\n\r\nMy code for this is:\r\n```\r\n    @GetMapping(&quot;/flights/search/id&quot;)\r\n    public ResponseEntity&lt;?&gt; searchFlightsById(@RequestParam(&quot;departure_from&quot;) Airport departureFrom, @RequestParam(&quot;arrival_at&quot;) Airport arrivalAt, @RequestParam(&quot;departure_date&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Date departureDate, @RequestParam(&quot;return_date&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Optional&lt;Date&gt; returnDate){\r\n        return ResponseEntity.ok(flightService.fetchFlights(departureFrom, arrivalAt, departureDate, returnDate));\r\n    }\r\n```\r\n\r\nWhen I make the call without the Date queries, I get the date looking like YYYY:MM:dd HH:mm:ss. This is also how it looks like in mySQL as well. So the date format seems to be correct.\r\n\r\nI&#39;m a novice to SpringBoot and almost a beginner in Java, so any tips are appreciated on how to solve this issue!","title":"I cannot make a GET call with date as a query","body":"<p>So I have this Flight entity:</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;flights&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Flight{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long flightId;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;departure_from&quot;, referencedColumnName=&quot;location&quot;)\n    private Airport departureFrom;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;arrival_to&quot;, referencedColumnName=&quot;location&quot;)\n    private Airport arrivalTo;\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, shape = Shape.STRING)\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;departure_date&quot;, columnDefinition = &quot;DATETIME&quot;)\n    private Date departureDate;\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, shape = Shape.STRING)\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;return_date&quot;, columnDefinition = &quot;DATETIME&quot;)\n    private Date returnDate;\n    private Long flightPrice;\n}\n</code></pre>\n<p>With which I can successfully use to create instances with a POST call.\nHowever, when I try to make a GET call with the queries of departureFrom, arrivalTo, departureDate and returnDate, I get the error:</p>\n<blockquote>\n<p>Failed to convert value of type 'java.lang.String' to required type\n'java.util.Date'.</p>\n</blockquote>\n<p>My code for this is:</p>\n<pre><code>    @GetMapping(&quot;/flights/search/id&quot;)\n    public ResponseEntity&lt;?&gt; searchFlightsById(@RequestParam(&quot;departure_from&quot;) Airport departureFrom, @RequestParam(&quot;arrival_at&quot;) Airport arrivalAt, @RequestParam(&quot;departure_date&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Date departureDate, @RequestParam(&quot;return_date&quot;) @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;) Optional&lt;Date&gt; returnDate){\n        return ResponseEntity.ok(flightService.fetchFlights(departureFrom, arrivalAt, departureDate, returnDate));\n    }\n</code></pre>\n<p>When I make the call without the Date queries, I get the date looking like YYYY:MM:dd HH:mm:ss. This is also how it looks like in mySQL as well. So the date format seems to be correct.</p>\n<p>I'm a novice to SpringBoot and almost a beginner in Java, so any tips are appreciated on how to solve this issue!</p>\n"},{"tags":["java","protostuff"],"answers":[{"tags":[],"owner":{"account_id":18963230,"reputation":1,"user_id":13838233,"display_name":"user13838233"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693413988,"creation_date":1691424112,"answer_id":76853348,"question_id":45297185,"body_markdown":"Always append new fields in your class rather than insert them in the middle of the fields. \r\n\r\nrefer to [official document][1]\r\n\r\n\r\n  [1]: https://protostuff.github.io/docs/protostuff-runtime/","title":"How to add field into class with deserialization compatibility using Protostuff?","body":"<p>Always append new fields in your class rather than insert them in the middle of the fields.</p>\n<p>refer to <a href=\"https://protostuff.github.io/docs/protostuff-runtime/\" rel=\"nofollow noreferrer\">official document</a></p>\n"}],"owner":{"account_id":11406677,"reputation":21,"user_id":8361925,"display_name":"Ibes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693413988,"creation_date":1500969322,"question_id":45297185,"body_markdown":"I have an immutable object of class\r\n\r\n    class A {\r\n       public A(B b) {\r\n           this.a = b.c;\r\n       }\r\n       \r\n       @Tag(1)\r\n       final int a;\r\n    }\r\n\r\nHow to add field into class with backward binary deserialization compatibility using Protostuff without writing custom deserializers if it possible?\r\n","title":"How to add field into class with deserialization compatibility using Protostuff?","body":"<p>I have an immutable object of class</p>\n\n<pre><code>class A {\n   public A(B b) {\n       this.a = b.c;\n   }\n\n   @Tag(1)\n   final int a;\n}\n</code></pre>\n\n<p>How to add field into class with backward binary deserialization compatibility using Protostuff without writing custom deserializers if it possible?</p>\n"},{"tags":["java","sockets","socket.io","inputstream","file-descriptor"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1671007192,"post_id":74795320,"comment_id":132001638,"body_markdown":"Why do you need to know the file descriptor? Did you know that Windows doesn&#39;t have file descriptors and Java code also runs on Windows?","body":"Why do you need to know the file descriptor? Did you know that Windows doesn&#39;t have file descriptors and Java code also runs on Windows?"},{"owner":{"account_id":27248505,"reputation":1,"user_id":20773392,"display_name":"Ilyass"},"score":0,"creation_date":1671012318,"post_id":74795320,"comment_id":132003219,"body_markdown":"@user253751 No I didn&#39;t know that...","body":"@user253751 No I didn&#39;t know that..."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":2,"creation_date":1671012502,"post_id":74795320,"comment_id":132003279,"body_markdown":"what do you need the file descriptor for?","body":"what do you need the file descriptor for?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1671019871,"post_id":74795320,"comment_id":132005804,"body_markdown":"It doesn&#39;t make a lot of sense to attempt to translate C code line-for-line to Java. You must understand both languages and how things are done in each language.","body":"It doesn&#39;t make a lot of sense to attempt to translate C code line-for-line to Java. You must understand both languages and how things are done in each language."},{"owner":{"account_id":27248505,"reputation":1,"user_id":20773392,"display_name":"Ilyass"},"score":0,"creation_date":1671175658,"post_id":74795320,"comment_id":132046564,"body_markdown":"@user253751 as I said there is a function in C that uses such a thing and I wanted to do the same thing with JAVA... I found out that I can use something else instead of the File Descriptor","body":"@user253751 as I said there is a function in C that uses such a thing and I wanted to do the same thing with JAVA... I found out that I can use something else instead of the File Descriptor"},{"owner":{"account_id":27248505,"reputation":1,"user_id":20773392,"display_name":"Ilyass"},"score":0,"creation_date":1671175667,"post_id":74795320,"comment_id":132046566,"body_markdown":"@PresidentJamesK.Polk It&#39;s bot that hard as I&#39;m kind of familiar with the syntax of each langauage","body":"@PresidentJamesK.Polk It&#39;s bot that hard as I&#39;m kind of familiar with the syntax of each langauage"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1671184502,"post_id":74795320,"comment_id":132048927,"body_markdown":"but you are writing Java, not C. Are you going to call the C function even though you are writing Java? or are you going to call a Java function?","body":"but you are writing Java, not C. Are you going to call the C function even though you are writing Java? or are you going to call a Java function?"}],"answers":[{"tags":[],"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693413844,"creation_date":1693412914,"answer_id":77009894,"question_id":74795320,"body_markdown":"As suggested by other users you should probably try to use the Java API as intended by its designer. \r\n\r\nThat being said this is how you could access the file descriptor using reflection on Mac OSX and probably Linux too:\r\n\r\n```\r\nMethod getImplMethod = ServerSocket.class.getDeclaredMethod(&quot;getImpl&quot;);\r\ngetImplMethod.setAccessible(true);\r\nSocketImpl socketImpl = (SocketImpl) getImplMethod.invoke(serverSocket);\r\n\r\nField socketFdField = SocketImpl.class.getDeclaredField(&quot;fd&quot;);\r\nsocketFdField.setAccessible(true);\r\nFileDescriptor fd = (FileDescriptor) socketFdField.get(socketImpl);\r\n\r\nField fileDescriptorFdField = FileDescriptor.class.getDeclaredField(&quot;fd&quot;);\r\nfileDescriptorFdField.setAccessible(true);\r\nint fdInt = fileDescriptorFdField.getInt(fd);\r\n```","title":"Can&#39;t get the File Descriptor of a socket using Java","body":"<p>As suggested by other users you should probably try to use the Java API as intended by its designer.</p>\n<p>That being said this is how you could access the file descriptor using reflection on Mac OSX and probably Linux too:</p>\n<pre><code>Method getImplMethod = ServerSocket.class.getDeclaredMethod(&quot;getImpl&quot;);\ngetImplMethod.setAccessible(true);\nSocketImpl socketImpl = (SocketImpl) getImplMethod.invoke(serverSocket);\n\nField socketFdField = SocketImpl.class.getDeclaredField(&quot;fd&quot;);\nsocketFdField.setAccessible(true);\nFileDescriptor fd = (FileDescriptor) socketFdField.get(socketImpl);\n\nField fileDescriptorFdField = FileDescriptor.class.getDeclaredField(&quot;fd&quot;);\nfileDescriptorFdField.setAccessible(true);\nint fdInt = fileDescriptorFdField.getInt(fd);\n</code></pre>\n"}],"owner":{"account_id":27248505,"reputation":1,"user_id":20773392,"display_name":"Ilyass"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693413844,"creation_date":1671005988,"question_id":74795320,"body_markdown":"I&#39;m new to Software Development and currently I am trying to get the file Descriptor of a socket, my job as an intern is to write a java Code (the new update) that has the same functions as a C Code (the older one). The C code is using a function called `getFd() `, after research I found that java has something similar to that which is `getFD()` or `getFileDescriptor()`. Somehow I cannot find them in the Socket Class\r\n\r\nI&#39;ve tried a bunch of solutions like using the `SocketImpl()` but it didn&#39;t work for me... I am stuck in this problem since 2 days and I have no idea what to do after trying dozens of Solutions. Thanks in Advance.","title":"Can&#39;t get the File Descriptor of a socket using Java","body":"<p>I'm new to Software Development and currently I am trying to get the file Descriptor of a socket, my job as an intern is to write a java Code (the new update) that has the same functions as a C Code (the older one). The C code is using a function called <code>getFd() </code>, after research I found that java has something similar to that which is <code>getFD()</code> or <code>getFileDescriptor()</code>. Somehow I cannot find them in the Socket Class</p>\n<p>I've tried a bunch of solutions like using the <code>SocketImpl()</code> but it didn't work for me... I am stuck in this problem since 2 days and I have no idea what to do after trying dozens of Solutions. Thanks in Advance.</p>\n"},{"tags":["java","spring-boot","jwt","openapi","spring-security-rest"],"comments":[{"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"score":0,"creation_date":1693342789,"post_id":77003480,"comment_id":135747750,"body_markdown":"Are you sending the same headers? Can you check if there are any differences between Swagger (UI) and Postman requests?","body":"Are you sending the same headers? Can you check if there are any differences between Swagger (UI) and Postman requests?"},{"owner":{"account_id":19872676,"reputation":54,"user_id":14558434,"display_name":"anar1501"},"score":0,"creation_date":1693343025,"post_id":77003480,"comment_id":135747786,"body_markdown":"What do you mean? I can&#39;t understand. How to send header in postman? and how can I differences between them?","body":"What do you mean? I can&#39;t understand. How to send header in postman? and how can I differences between them?"},{"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"score":0,"creation_date":1693384632,"post_id":77003480,"comment_id":135752119,"body_markdown":"In Postman I think you can use the console to check the actual request, https://learning.postman.com/docs/sending-requests/troubleshooting-api-requests/#debugging-in-the-console. For Swagger UI, the request can be found on the DevTools-&gt; Network tab.","body":"In Postman I think you can use the console to check the actual request, <a href=\"https://learning.postman.com/docs/sending-requests/troubleshooting-api-requests/#debugging-in-the-console\" rel=\"nofollow noreferrer\">learning.postman.com/docs/sending-requests/&hellip;</a>. For Swagger UI, the request can be found on the DevTools-&gt; Network tab."},{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1693413880,"post_id":77003480,"comment_id":135758789,"body_markdown":"When accessing swagger did you not get a login popup the first time?","body":"When accessing swagger did you not get a login popup the first time?"}],"owner":{"account_id":19872676,"reputation":54,"user_id":14558434,"display_name":"anar1501"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693413653,"creation_date":1693341035,"question_id":77003480,"body_markdown":"When I request APIs in POSTMAN protected by Spring Boot Security, I get the following error: **Unauthorized error: Full authentication is required to access this resource** . But in Swagger, things are going well. These are my code in the following:\r\n\r\n    @PostMapping(value = &quot;/save&quot;)\r\n    @Operation(summary = &quot;save&quot;, security = @SecurityRequirement(name = &quot;bearerAuth&quot;))\r\n    public HttpStatus saveSeans(@RequestBody NewSeansRequestDto dto) {\r\n        Seans seans = seansMapper.map(dto);\r\n        seansRepository.save(seans);\r\n        return HttpStatus.CREATED;\r\n    }\r\nThis my security configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n    \r\n        private final UserDetailsService userDetailsService;\r\n    \r\n        private final JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n    \r\n        @Bean\r\n        public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n            return new JwtAuthenticationFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n            authProvider.setUserDetailsService(userDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n            return authProvider;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable()\r\n                    .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/api/v1/auth/**&quot;,\r\n                            &quot;/helpers/**&quot;,\r\n                            &quot;/roles/**&quot;,\r\n                            &quot;/films/**&quot;,\r\n                            &quot;/seans/**&quot;,\r\n                            &quot;/v2/api-docs&quot;,\r\n                            &quot;/v3/api-docs&quot;,\r\n                            &quot;/v3/api-docs/**&quot;,\r\n                            &quot;/swagger-resources&quot;,\r\n                            &quot;/swagger-resources/**&quot;,\r\n                            &quot;/configuration/ui&quot;,\r\n                            &quot;/configuration/security&quot;,\r\n                            &quot;/swagger-ui/**&quot;,\r\n                            &quot;/webjars/**&quot;,\r\n                            &quot;/swagger-ui.html&quot;)\r\n                    .permitAll()\r\n                    .anyRequest().authenticated();\r\n            http.authenticationProvider(authenticationProvider());\r\n            http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            return http.build();\r\n    \r\n        }\r\n    }\r\n\r\n    public class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n        @Autowired\r\n        private JwtUtil jwtUtil;\r\n    \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n            try {\r\n                // get JWT (token) from http request\r\n                String token = getJWTFromRequest(request);\r\n                // validate token\r\n                if (StringUtils.hasText(token) &amp;&amp; jwtUtil.validateJwtToken(token)) {\r\n                    // get username from token\r\n                    String username = jwtUtil.getUsernameFromJwtToken(token);\r\n                    // load user associated with token\r\n                    UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n                    UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                            userDetails, null, userDetails.getAuthorities());\r\n                    authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                    // set spring security\r\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                }\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    \r\n        private String getJWTFromRequest(HttpServletRequest request) {\r\n            String bearerToken = request.getHeader(&quot;Authorization&quot;);\r\n            if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n                return bearerToken.substring(7);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    @Component\r\n    public class JwtUtil {\r\n    \r\n        private static final Logger LOG = LogManager.getLogger(JwtUtil.class);\r\n    \r\n        @Value(&quot;${app.jwt-secret}&quot;)\r\n        private String jwtSecretKey;\r\n        private JwtParser createParser() {\r\n            return Jwts.parserBuilder().setSigningKey(Keys.hmacShaKeyFor(jwtSecretKey.getBytes())).build();\r\n        }\r\n    \r\n        //get username from the Token\r\n        public String getUsernameFromJwtToken(String token) {\r\n            Claims claims = createParser().parseClaimsJws(token).getBody();\r\n            return claims.getSubject();\r\n        }\r\n    \r\n        //validate JWT token\r\n        public boolean validateJwtToken(String authToken) {\r\n            try {\r\n                createParser().parseClaimsJws(authToken);\r\n                return true;\r\n            } catch (SignatureException e) {\r\n                LOG.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n            } catch (MalformedJwtException e) {\r\n                LOG.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n            } catch (ExpiredJwtException e) {\r\n                LOG.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n            } catch (UnsupportedJwtException e) {\r\n                LOG.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n            } catch (IllegalArgumentException e) {\r\n                LOG.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CustomUserDetailService implements UserDetailsService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        @Transactional\r\n        @Override\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n            return new UserPrincipal(userRepository.findByEmail(email).orElseThrow(EmailNotFoundException::new));\r\n        }\r\n    \r\n    }\r\n    \r\n    public class UserPrincipal implements UserDetails {\r\n    \r\n        private User user;\r\n    \r\n        public UserPrincipal(User user) {\r\n            this.user = user;\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return mapToGrantedAuthority(user.getRoles());\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getEmail();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n        private Set&lt;GrantedAuthority&gt; mapToGrantedAuthority(Set&lt;Role&gt; roles) {\r\n            return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toSet());\r\n        }\r\n    }\r\n    \r\n    each api that protected by spring boot security comes in the following class.\r\n   \r\n    @Component\r\n    public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n        private static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationEntryPoint.class);\r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n            logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n    \r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n    \r\n            final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n            body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n            body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n            body.put(&quot;message&quot;, authException.getMessage());\r\n            body.put(&quot;path&quot;, request.getServletPath());\r\n    \r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            mapper.writeValue(response.getOutputStream(), body);\r\n        }\r\n    }\r\n    \r\nI can&#39;t understand where I&#39;m missing, everything has to work correctly. Because the front end programmer should not get a 401 error.","title":"Getting 401 from Postman but 200 from Swagger with Spring Boot Security and JWT","body":"<p>When I request APIs in POSTMAN protected by Spring Boot Security, I get the following error: <strong>Unauthorized error: Full authentication is required to access this resource</strong> . But in Swagger, things are going well. These are my code in the following:</p>\n<pre><code>@PostMapping(value = &quot;/save&quot;)\n@Operation(summary = &quot;save&quot;, security = @SecurityRequirement(name = &quot;bearerAuth&quot;))\npublic HttpStatus saveSeans(@RequestBody NewSeansRequestDto dto) {\n    Seans seans = seansMapper.map(dto);\n    seansRepository.save(seans);\n    return HttpStatus.CREATED;\n}\n</code></pre>\n<p>This my security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserDetailsService userDetailsService;\n\n    private final JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;,\n                        &quot;/helpers/**&quot;,\n                        &quot;/roles/**&quot;,\n                        &quot;/films/**&quot;,\n                        &quot;/seans/**&quot;,\n                        &quot;/v2/api-docs&quot;,\n                        &quot;/v3/api-docs&quot;,\n                        &quot;/v3/api-docs/**&quot;,\n                        &quot;/swagger-resources&quot;,\n                        &quot;/swagger-resources/**&quot;,\n                        &quot;/configuration/ui&quot;,\n                        &quot;/configuration/security&quot;,\n                        &quot;/swagger-ui/**&quot;,\n                        &quot;/webjars/**&quot;,\n                        &quot;/swagger-ui.html&quot;)\n                .permitAll()\n                .anyRequest().authenticated();\n        http.authenticationProvider(authenticationProvider());\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n\n    }\n}\n\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        try {\n            // get JWT (token) from http request\n            String token = getJWTFromRequest(request);\n            // validate token\n            if (StringUtils.hasText(token) &amp;&amp; jwtUtil.validateJwtToken(token)) {\n                // get username from token\n                String username = jwtUtil.getUsernameFromJwtToken(token);\n                // load user associated with token\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                // set spring security\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    private String getJWTFromRequest(HttpServletRequest request) {\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\n            return bearerToken.substring(7);\n        }\n        return null;\n    }\n}\n\n@Component\npublic class JwtUtil {\n\n    private static final Logger LOG = LogManager.getLogger(JwtUtil.class);\n\n    @Value(&quot;${app.jwt-secret}&quot;)\n    private String jwtSecretKey;\n    private JwtParser createParser() {\n        return Jwts.parserBuilder().setSigningKey(Keys.hmacShaKeyFor(jwtSecretKey.getBytes())).build();\n    }\n\n    //get username from the Token\n    public String getUsernameFromJwtToken(String token) {\n        Claims claims = createParser().parseClaimsJws(token).getBody();\n        return claims.getSubject();\n    }\n\n    //validate JWT token\n    public boolean validateJwtToken(String authToken) {\n        try {\n            createParser().parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            LOG.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            LOG.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            LOG.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            LOG.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            LOG.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n        return false;\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class CustomUserDetailService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Transactional\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return new UserPrincipal(userRepository.findByEmail(email).orElseThrow(EmailNotFoundException::new));\n    }\n\n}\n\npublic class UserPrincipal implements UserDetails {\n\n    private User user;\n\n    public UserPrincipal(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return mapToGrantedAuthority(user.getRoles());\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getEmail();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n    private Set&lt;GrantedAuthority&gt; mapToGrantedAuthority(Set&lt;Role&gt; roles) {\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toSet());\n    }\n}\n\neach api that protected by spring boot security comes in the following class.\n\n@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    private static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationEntryPoint.class);\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n        final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n        body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n        body.put(&quot;message&quot;, authException.getMessage());\n        body.put(&quot;path&quot;, request.getServletPath());\n\n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(response.getOutputStream(), body);\n    }\n}\n</code></pre>\n<p>I can't understand where I'm missing, everything has to work correctly. Because the front end programmer should not get a 401 error.</p>\n"},{"tags":["java","csv","opencsv","date"],"comments":[{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":2,"creation_date":1513676885,"post_id":47884055,"comment_id":82733901,"body_markdown":"Set the width of the column larger.","body":"Set the width of the column larger."},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":1,"creation_date":1513677687,"post_id":47884055,"comment_id":82734417,"body_markdown":"Yeah Excel ist hinding to long values for the column size as ######. Increasing the column width manually or by code will result in showing you the value in that cell.","body":"Yeah Excel ist hinding to long values for the column size as ######. Increasing the column width manually or by code will result in showing you the value in that cell."}],"answers":[{"tags":[],"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1513677329,"creation_date":1513677329,"answer_id":47884262,"question_id":47884055,"body_markdown":"It&#39;s not the problem with `code` or `opencsv`, Microsoft Excel might show `#####` in cells when a column isn’t wide enough to show all of the cell contents. Formulas that return dates and times as negative values can also show as `#####.`\r\n\r\nSo try to increase the column width.\r\n\r\nfor more info: https://support.office.com/en-us/article/How-to-correct-a-error-bf801d0a-2a6e-44bd-a70e-0f780ae8f11e ","title":"Wrong date view in Excel","body":"<p>It's not the problem with <code>code</code> or <code>opencsv</code>, Microsoft Excel might show <code>#####</code> in cells when a column isn’t wide enough to show all of the cell contents. Formulas that return dates and times as negative values can also show as <code>#####.</code></p>\n\n<p>So try to increase the column width.</p>\n\n<p>for more info: <a href=\"https://support.office.com/en-us/article/How-to-correct-a-error-bf801d0a-2a6e-44bd-a70e-0f780ae8f11e\" rel=\"nofollow noreferrer\">https://support.office.com/en-us/article/How-to-correct-a-error-bf801d0a-2a6e-44bd-a70e-0f780ae8f11e</a> </p>\n"}],"owner":{"account_id":12499677,"reputation":7,"user_id":9098527,"accept_rate":60,"display_name":"Nana30"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47884262,"answer_count":1,"score":0,"last_activity_date":1693413538,"creation_date":1513676694,"question_id":47884055,"body_markdown":"I have a Java app that reads the database and generates a CSV file containing a ResultSet. I generated the CSV file using opencsv. Everything is fine except the date field. When I open the CSV file in Excel, it shows the date fields with &quot;################&quot;. If I click twice in a date field, then it shows the date. Does anyone know what is wrong with this?","title":"Wrong date view in Excel","body":"<p>I have a Java app that reads the database and generates a CSV file containing a ResultSet. I generated the CSV file using opencsv. Everything is fine except the date field. When I open the CSV file in Excel, it shows the date fields with &quot;################&quot;. If I click twice in a date field, then it shows the date. Does anyone know what is wrong with this?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693413030,"post_id":77009896,"comment_id":135758586,"body_markdown":"Please add the entire `stacktrace` in the question.","body":"Please add the entire <code>stacktrace</code> in the question."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693414440,"post_id":77009896,"comment_id":135758928,"body_markdown":"remove all those DesiredCapabilities lines... not needed, and you aren&#39;t setting anything there anyway.  All the options you need will be in ChromeOptions...","body":"remove all those DesiredCapabilities lines... not needed, and you aren&#39;t setting anything there anyway.  All the options you need will be in ChromeOptions..."},{"owner":{"account_id":28036547,"reputation":1,"user_id":21414843,"display_name":"Carter0615"},"score":0,"creation_date":1693415091,"post_id":77009896,"comment_id":135759056,"body_markdown":"@DiegoBorba\nInitiating chrome browser\n[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.267 s &lt;&lt;&lt; FAILURE! - in stepDefinitions.InitiateBrowser\n[ERROR] stepDefinitions.InitiateBrowser.openBrowser  Time elapsed: 0.31 s  &lt;&lt;&lt; FAILURE!\njava.lang.IllegalStateException: The driver executable must exist: C:\\chromedriver_win32\\chromedriver.exe\n        at stepDefinitions.InitiateBrowser.openBrowser(InitiateBrowser.java:41)\n\n[INFO]\n[INFO] Results:\n[INFO]\n[ERROR] Failures:\n[ERROR]   InitiateBrowser.openBrowser:41 &#187; IllegalState The driver executable must exist...","body":"@DiegoBorba Initiating chrome browser [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.267 s &lt;&lt;&lt; FAILURE! - in stepDefinitions.InitiateBrowser [ERROR] stepDefinitions.InitiateBrowser.openBrowser  Time elapsed: 0.31 s  &lt;&lt;&lt; FAILURE! java.lang.IllegalStateException: The driver executable must exist: C:\\chromedriver_win32\\chromedriver.exe         at stepDefinitions.InitiateBrowser.openBrowser(InitiateBrowser.&zwnj;&#8203;java:41)  [INFO] [INFO] Results: [INFO] [ERROR] Failures: [ERROR]   InitiateBrowser.openBrowser:41 &#187; IllegalState The driver executable must exist..."},{"owner":{"account_id":28036547,"reputation":1,"user_id":21414843,"display_name":"Carter0615"},"score":0,"creation_date":1693415125,"post_id":77009896,"comment_id":135759064,"body_markdown":"@DiegoBorba\n[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  10.133 s\n[INFO] Finished at: 2023-08-30T12:24:15-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project CucumberFramework: There are test failures.\n[ERROR]","body":"@DiegoBorba [ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0 [INFO] [INFO] ------------------------------------------------------------&zwnj;&#8203;------------ [INFO] BUILD FAILURE [INFO] ------------------------------------------------------------&zwnj;&#8203;------------ [INFO] Total time:  10.133 s [INFO] Finished at: 2023-08-30T12:24:15-04:00 [INFO] ------------------------------------------------------------&zwnj;&#8203;------------ [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project CucumberFramework: There are test failures. [ERROR]"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693415130,"post_id":77009896,"comment_id":135759065,"body_markdown":"I mean, [edit] your question and put the sacktrace.","body":"I mean, <a href=\"https://stackoverflow.com/posts/77009896/edit\">edit</a> your question and put the sacktrace."},{"owner":{"account_id":28036547,"reputation":1,"user_id":21414843,"display_name":"Carter0615"},"score":0,"creation_date":1693415147,"post_id":77009896,"comment_id":135759069,"body_markdown":"@DiegoBorba\n[ERROR] Please refer to C:\\QaTests\\eclipse-workspace\\GroupTestTroubleshoot\\target\\surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.","body":"@DiegoBorba [ERROR] Please refer to C:\\QaTests\\eclipse-workspace\\GroupTestTroubleshoot\\target\\su&zwnj;&#8203;refire-reports for the individual test results. [ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream. [ERROR] -&gt; [Help 1] [ERROR] [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch."},{"owner":{"account_id":28036547,"reputation":1,"user_id":21414843,"display_name":"Carter0615"},"score":0,"creation_date":1693415158,"post_id":77009896,"comment_id":135759074,"body_markdown":"@DiegoBorba\n\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException","body":"@DiegoBorba  [ERROR] Re-run Maven using the -X switch to enable full debug logging. [ERROR] [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/MAVEN/MojoFailureExcepti&zwnj;&#8203;on</a>"},{"owner":{"account_id":28036547,"reputation":1,"user_id":21414843,"display_name":"Carter0615"},"score":0,"creation_date":1693415337,"post_id":77009896,"comment_id":135759112,"body_markdown":"@pcalkins\n\nI removed it and getting the same error. Here is the updated code:\n\nSystem.out.println(&quot;Initiating chrome browser&quot;);\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n\t\t\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\ndriver = new ChromeDriver();\ndriver.manage().window().maximize();\nString browserNotification = &quot;Browser Initiated&quot;;\nnotificationArray.add(browserNotification);","body":"@pcalkins  I removed it and getting the same error. Here is the updated code:  System.out.println(&quot;Initiating chrome browser&quot;); \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\chromedr&zwnj;&#8203;iver_win32\\\\chromedr&zwnj;&#8203;iver.exe&quot;); \t\t ChromeOptions options = new ChromeOptions(); options.addArguments(&quot;--remote-allow-origins=*&quot;); driver = new ChromeDriver(); driver.manage().window().maximize(); String browserNotification = &quot;Browser Initiated&quot;; notificationArray.add(browserNotification);"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693417381,"post_id":77009896,"comment_id":135759535,"body_markdown":"you may want to do something with that ChromeOptions() object... though that has nothing to do with your error.  It can&#39;t find this file: C:\\chromedriver_win32\\chromedriver.exe  Check to see that it exists, and that the user running this code has execute privileges.  Sometimes a user only has permissions in their own user directories.","body":"you may want to do something with that ChromeOptions() object... though that has nothing to do with your error.  It can&#39;t find this file: C:\\chromedriver_win32\\chromedriver.exe  Check to see that it exists, and that the user running this code has execute privileges.  Sometimes a user only has permissions in their own user directories."}],"owner":{"account_id":28036547,"reputation":1,"user_id":21414843,"display_name":"Carter0615"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693413014,"creation_date":1693412920,"question_id":77009896,"body_markdown":"I&#39;m getting &quot;IllegalState driver executable must exist ... &quot; after updating to windows 2019 (the code worked fine on windows 2012). The line \r\n&quot;driver = new ChromeDriver();&quot; is causing the error in the code block below\r\n\r\n```\r\n`import org.openqa.selenium.WebDriver;\r\n\r\n@Test(groups = {&quot;open browser, CreatedByFilter&quot;})\r\n\r\npublic class InitiateBrowser {\r\n\r\n\t\r\n\t\r\n\t//public static WebDriver driver;\r\n\tpublic static ChromeDriver driver;\r\n\tstatic ArrayList&lt;String&gt; notificationArray = new ArrayList&lt;String&gt;();\r\n\t\r\n\tpublic void openBrowser() \r\n        {\r\n\t\tSystem.out.println(&quot;Initiating chrome browser&quot;);\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\t\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\tDesiredCapabilities cp = new DesiredCapabilities();\r\n\t\tcp.setCapability(ChromeOptions.CAPABILITY, options);\r\n\t\toptions.merge(cp);\r\n\t\tdriver = new ChromeDriver();\r\n\t        driver.manage().window().maximize();\r\n\t        System.out.println(&quot;Browser Initiated&quot;);\r\n\t        String browserNotification = &quot;Browser Initiated&quot;;\r\n\t        notificationArray.add(browserNotification);\r\n\t \r\n\t}\r\n\t\r\n}`\r\n```","title":"Initiating chrome browser for Selenium on Windows 2019 causing errors","body":"<p>I'm getting &quot;IllegalState driver executable must exist ... &quot; after updating to windows 2019 (the code worked fine on windows 2012). The line\n&quot;driver = new ChromeDriver();&quot; is causing the error in the code block below</p>\n<pre><code>`import org.openqa.selenium.WebDriver;\n\n@Test(groups = {&quot;open browser, CreatedByFilter&quot;})\n\npublic class InitiateBrowser {\n\n    \n    \n    //public static WebDriver driver;\n    public static ChromeDriver driver;\n    static ArrayList&lt;String&gt; notificationArray = new ArrayList&lt;String&gt;();\n    \n    public void openBrowser() \n        {\n        System.out.println(&quot;Initiating chrome browser&quot;);\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        \n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        DesiredCapabilities cp = new DesiredCapabilities();\n        cp.setCapability(ChromeOptions.CAPABILITY, options);\n        options.merge(cp);\n        driver = new ChromeDriver();\n            driver.manage().window().maximize();\n            System.out.println(&quot;Browser Initiated&quot;);\n            String browserNotification = &quot;Browser Initiated&quot;;\n            notificationArray.add(browserNotification);\n     \n    }\n    \n}`\n</code></pre>\n"},{"tags":["java","cloud","databricks"],"comments":[{"owner":{"account_id":18244364,"reputation":492,"user_id":13280838,"display_name":"rainingdistros"},"score":0,"creation_date":1692877345,"post_id":76962871,"comment_id":135685141,"body_markdown":"Maybe wrong - but when I googled allow list, only reference I could find was related to Databricks Cluster policy with ability to allow or deny lists...Hope it helps ?","body":"Maybe wrong - but when I googled allow list, only reference I could find was related to Databricks Cluster policy with ability to allow or deny lists...Hope it helps ?"}],"answers":[{"tags":[],"owner":{"account_id":29331316,"reputation":21,"user_id":22472706,"display_name":"jeanpasq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693412426,"creation_date":1693412426,"answer_id":77009841,"question_id":76962871,"body_markdown":"If you are using a Databricks cluster with &quot;Shared&quot; access mode, you must add your Maven coordinates to the Unity Catalog metastore allowlist (no need for Python pypi libraries)\r\n\r\nSource: https://learn.microsoft.com/en-us/azure/databricks/compute/compatibility#shared-access-mode-support-for-libraries-and-init-scripts\r\n\r\nThis is how a metastore admin can add artifacts to the allowlist:\r\nhttps://learn.microsoft.com/en-us/azure/databricks/data-governance/unity-catalog/manage-privileges/allowlist","title":"Databricks artifacts allow list - how to find it?","body":"<p>If you are using a Databricks cluster with &quot;Shared&quot; access mode, you must add your Maven coordinates to the Unity Catalog metastore allowlist (no need for Python pypi libraries)</p>\n<p>Source: <a href=\"https://learn.microsoft.com/en-us/azure/databricks/compute/compatibility#shared-access-mode-support-for-libraries-and-init-scripts\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/databricks/compute/compatibility#shared-access-mode-support-for-libraries-and-init-scripts</a></p>\n<p>This is how a metastore admin can add artifacts to the allowlist:\n<a href=\"https://learn.microsoft.com/en-us/azure/databricks/data-governance/unity-catalog/manage-privileges/allowlist\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/databricks/data-governance/unity-catalog/manage-privileges/allowlist</a></p>\n"}],"owner":{"account_id":13795393,"reputation":105,"user_id":9956734,"display_name":"Fernando Delago"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693412426,"creation_date":1692804773,"question_id":76962871,"body_markdown":"I am trying to install a JAVA library (com.crealytics:spark-excel_2.12:3.4.1_0.19.0) in the Azure Databricks cluster, but receive a message\r\n\r\n&quot;Jars and Maven Libraries on Shared Clusters must be on the allowlist. Failed Libraries: com.crealytics:spark-excel_2.12:3.4.1_0.19.0: PERMISSION_DENIED: &#39;com.crealytics:spark-excel_2.12:3.4.1_0.19.0&#39; is not in the artifact allowlist&quot;\r\n\r\nAre there here to give some idea how can I find this inside the Databricks?\r\nI tried to find it in the documentation, but not find it.\r\n","title":"Databricks artifacts allow list - how to find it?","body":"<p>I am trying to install a JAVA library (com.crealytics:spark-excel_2.12:3.4.1_0.19.0) in the Azure Databricks cluster, but receive a message</p>\n<p>&quot;Jars and Maven Libraries on Shared Clusters must be on the allowlist. Failed Libraries: com.crealytics:spark-excel_2.12:3.4.1_0.19.0: PERMISSION_DENIED: 'com.crealytics:spark-excel_2.12:3.4.1_0.19.0' is not in the artifact allowlist&quot;</p>\n<p>Are there here to give some idea how can I find this inside the Databricks?\nI tried to find it in the documentation, but not find it.</p>\n"},{"tags":["java","sql","spring-boot","h2"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1693421338,"post_id":77009256,"comment_id":135760311,"body_markdown":"Try without ON UPDATE CASCADE.","body":"Try without ON UPDATE CASCADE."},{"owner":{"account_id":28828413,"reputation":3,"user_id":22079441,"display_name":"JuiceWizard"},"score":0,"creation_date":1693468494,"post_id":77009256,"comment_id":135765736,"body_markdown":"@Mar-Z I have tried your solution, but it still throws the same exception. I&#39;ve switched to a MySQL test database now without any problems","body":"@Mar-Z I have tried your solution, but it still throws the same exception. I&#39;ve switched to a MySQL test database now without any problems"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1693485445,"post_id":77009256,"comment_id":135769245,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693411619,"creation_date":1693411619,"answer_id":77009753,"question_id":77009256,"body_markdown":"This not answer about how to make the composite key work in H2, but a different way to accomplish a working system in both databases...\r\n\r\nWhen I went to &quot;database school&quot; 30-odd years ago, I was taught that a primary key should be opaque - that is, have no &quot;meaning&quot;. \r\n\r\nThat generally means not using a composite primary key, because if the keys are truly opaque, why would you need more than one?\r\n\r\nSo, keep your media_id and actor_id columns, and put a unique constraint on them, but don&#39;t use them as a primary key - add a single auto-incrementing primary key column instead.","title":"H2 database fails to execute INSERT INTO table with composite primary key","body":"<p>This not answer about how to make the composite key work in H2, but a different way to accomplish a working system in both databases...</p>\n<p>When I went to &quot;database school&quot; 30-odd years ago, I was taught that a primary key should be opaque - that is, have no &quot;meaning&quot;.</p>\n<p>That generally means not using a composite primary key, because if the keys are truly opaque, why would you need more than one?</p>\n<p>So, keep your media_id and actor_id columns, and put a unique constraint on them, but don't use them as a primary key - add a single auto-incrementing primary key column instead.</p>\n"}],"owner":{"account_id":28828413,"reputation":3,"user_id":22079441,"display_name":"JuiceWizard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77009753,"answer_count":1,"score":0,"last_activity_date":1693411619,"creation_date":1693407830,"question_id":77009256,"body_markdown":"I&#39;m building a REST java application with spring boot 3.1.2 and maven. My idea was to use MySQL database in production, and switch to a in-memory H2 database while testing. I have successfully configured H2 in my **application.properties** file, by creating **application-test.properties** file that overrides datasource params while testing. I specified my **schema.sql** and **data.sql** files to create and populate my H2 database at start of testing:\r\n\r\n**application.properties**\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost/my_db\r\nspring.datasource.username=user\r\nspring.datasource.password=pass\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.hikari.auto-commit=false\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQLDialect\r\nspring.jpa.hibernate.ddl-auto=none\r\n```\r\n\r\n**application-test.properties**\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:my_db;MODE=MySQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\nspring.datasource.username=user\r\nspring.datasource.password=pass\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.h2.console.enabled=true\r\n\r\nspring.sql.init.mode=ALWAYS\r\nspring.sql.init.schema-locations=classpath:/database/schema.sql\r\nspring.sql.init.data-locations=classpath:/database/data.sql\r\n```\r\n\r\n**schema.sql**\r\n\r\n```\r\nCREATE TABLE media (\r\n  id bigint unsigned NOT NULL AUTO_INCREMENT,\r\n  title varchar(300) NOT NULL,\r\n  release_date date NOT NULL,\r\n  cover_image varchar(500) DEFAULT NULL,\r\n  description varchar(500) NOT NULL,\r\n  audience_rating int NOT NULL,\r\n  critic_rating int DEFAULT NULL,\r\n  PRIMARY KEY (id),\r\n  CONSTRAINT rating_domain CHECK (((audience_rating &gt;= 0) and (audience_rating &lt;= 100)))\r\n) AUTO_INCREMENT=1;\r\n\r\nCREATE TABLE person (\r\n  id bigint unsigned NOT NULL AUTO_INCREMENT,\r\n  first_name varchar(100) NOT NULL,\r\n  last_name varchar(100) NOT NULL,\r\n  gender char(1) NOT NULL,\r\n  profile_photo varchar(500) DEFAULT NULL,\r\n  PRIMARY KEY (id),\r\n  CONSTRAINT const_person_gender CHECK ((gender in (&#39;M&#39;,&#39;F&#39;,&#39;O&#39;)))\r\n) AUTO_INCREMENT=1;\r\n\r\nCREATE TABLE actor (\r\n  person_id bigint unsigned NOT NULL,\r\n  is_star tinyint(1) NOT NULL DEFAULT &#39;0&#39;,\r\n  PRIMARY KEY (person_id),\r\n  CONSTRAINT actor_ibfk_1 FOREIGN KEY (person_id) REFERENCES person (id) ON DELETE CASCADE ON UPDATE CASCADE\r\n);\r\n\r\nCREATE TABLE acting (\r\n  media_id bigint unsigned NOT NULL,\r\n  actor_id bigint unsigned NOT NULL,\r\n  is_starring tinyint(1) NOT NULL DEFAULT &#39;0&#39;,\r\n  PRIMARY KEY (media_id,actor_id),\r\n  CONSTRAINT acting_ibfk_1 FOREIGN KEY (media_id) REFERENCES media (id) ON DELETE CASCADE ON UPDATE CASCADE,\r\n  CONSTRAINT acting_ibfk_2 FOREIGN KEY (actor_id) REFERENCES actor (person_id) ON DELETE CASCADE ON UPDATE CASCADE\r\n);\r\n\r\nCREATE TABLE acting_role (\r\n  acting_media_id bigint unsigned NOT NULL,\r\n  acting_actor_id bigint unsigned NOT NULL,\r\n  id bigint unsigned NOT NULL,\r\n  name varchar(300) NOT NULL,\r\n  PRIMARY KEY (acting_media_id,acting_actor_id,id),\r\n  CONSTRAINT acting_role_ibfk_1 FOREIGN KEY (acting_media_id) REFERENCES acting (media_id) ON DELETE CASCADE ON UPDATE CASCADE,\r\n  CONSTRAINT acting_role_ibfk_2 FOREIGN KEY (acting_actor_id) REFERENCES acting (actor_id) ON DELETE CASCADE ON UPDATE CASCADE\r\n);\r\n```\r\n\r\nThe problem arose in my **data.sql** file while trying to populate acting table, which contains a composite primary key:\r\n\r\n```\r\nINSERT INTO acting(media_id,actor_id,is_starring) VALUES (1,2,1),(1,3,1);\r\n```\r\n\r\nInserting *media*, *person* and *actor* works fine, only after inserting *acting* an exception is thrown:\r\n\r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;public.acting_role_ibfk_1_INDEX_A ON public.acting(media_id NULLS FIRST) VALUES ( /* 1 */ CAST(1 AS BIGINT) )\r\n```\r\n\r\nI&#39;m guessing this is because H2 doesn&#39;t recognize my composite primary key in *acting* table, but rather treats them as double primary keys and only sees that I inserted the same *media_id* twice, throwing an exception. Or it could be because I&#39;m inserting values in *acting* table first before *acting_role* table, which has a foreign key referencing *acting* table, so it throws an exception because I haven&#39;t yet inserted values in *acting_role* table, which have a value of NULL at that moment, even though it shouldn&#39;t do that.\r\n\r\nHonestly I&#39;m pretty lost here. I tried searching answers through the internet and AI, but I can&#39;t seem to find an answer.","title":"H2 database fails to execute INSERT INTO table with composite primary key","body":"<p>I'm building a REST java application with spring boot 3.1.2 and maven. My idea was to use MySQL database in production, and switch to a in-memory H2 database while testing. I have successfully configured H2 in my <strong>application.properties</strong> file, by creating <strong>application-test.properties</strong> file that overrides datasource params while testing. I specified my <strong>schema.sql</strong> and <strong>data.sql</strong> files to create and populate my H2 database at start of testing:</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/my_db\nspring.datasource.username=user\nspring.datasource.password=pass\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.hikari.auto-commit=false\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p><strong>application-test.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:my_db;MODE=MySQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\nspring.datasource.username=user\nspring.datasource.password=pass\nspring.datasource.driver-class-name=org.h2.Driver\nspring.h2.console.enabled=true\n\nspring.sql.init.mode=ALWAYS\nspring.sql.init.schema-locations=classpath:/database/schema.sql\nspring.sql.init.data-locations=classpath:/database/data.sql\n</code></pre>\n<p><strong>schema.sql</strong></p>\n<pre><code>CREATE TABLE media (\n  id bigint unsigned NOT NULL AUTO_INCREMENT,\n  title varchar(300) NOT NULL,\n  release_date date NOT NULL,\n  cover_image varchar(500) DEFAULT NULL,\n  description varchar(500) NOT NULL,\n  audience_rating int NOT NULL,\n  critic_rating int DEFAULT NULL,\n  PRIMARY KEY (id),\n  CONSTRAINT rating_domain CHECK (((audience_rating &gt;= 0) and (audience_rating &lt;= 100)))\n) AUTO_INCREMENT=1;\n\nCREATE TABLE person (\n  id bigint unsigned NOT NULL AUTO_INCREMENT,\n  first_name varchar(100) NOT NULL,\n  last_name varchar(100) NOT NULL,\n  gender char(1) NOT NULL,\n  profile_photo varchar(500) DEFAULT NULL,\n  PRIMARY KEY (id),\n  CONSTRAINT const_person_gender CHECK ((gender in ('M','F','O')))\n) AUTO_INCREMENT=1;\n\nCREATE TABLE actor (\n  person_id bigint unsigned NOT NULL,\n  is_star tinyint(1) NOT NULL DEFAULT '0',\n  PRIMARY KEY (person_id),\n  CONSTRAINT actor_ibfk_1 FOREIGN KEY (person_id) REFERENCES person (id) ON DELETE CASCADE ON UPDATE CASCADE\n);\n\nCREATE TABLE acting (\n  media_id bigint unsigned NOT NULL,\n  actor_id bigint unsigned NOT NULL,\n  is_starring tinyint(1) NOT NULL DEFAULT '0',\n  PRIMARY KEY (media_id,actor_id),\n  CONSTRAINT acting_ibfk_1 FOREIGN KEY (media_id) REFERENCES media (id) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT acting_ibfk_2 FOREIGN KEY (actor_id) REFERENCES actor (person_id) ON DELETE CASCADE ON UPDATE CASCADE\n);\n\nCREATE TABLE acting_role (\n  acting_media_id bigint unsigned NOT NULL,\n  acting_actor_id bigint unsigned NOT NULL,\n  id bigint unsigned NOT NULL,\n  name varchar(300) NOT NULL,\n  PRIMARY KEY (acting_media_id,acting_actor_id,id),\n  CONSTRAINT acting_role_ibfk_1 FOREIGN KEY (acting_media_id) REFERENCES acting (media_id) ON DELETE CASCADE ON UPDATE CASCADE,\n  CONSTRAINT acting_role_ibfk_2 FOREIGN KEY (acting_actor_id) REFERENCES acting (actor_id) ON DELETE CASCADE ON UPDATE CASCADE\n);\n</code></pre>\n<p>The problem arose in my <strong>data.sql</strong> file while trying to populate acting table, which contains a composite primary key:</p>\n<pre><code>INSERT INTO acting(media_id,actor_id,is_starring) VALUES (1,2,1),(1,3,1);\n</code></pre>\n<p>Inserting <em>media</em>, <em>person</em> and <em>actor</em> works fine, only after inserting <em>acting</em> an exception is thrown:</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;public.acting_role_ibfk_1_INDEX_A ON public.acting(media_id NULLS FIRST) VALUES ( /* 1 */ CAST(1 AS BIGINT) )\n</code></pre>\n<p>I'm guessing this is because H2 doesn't recognize my composite primary key in <em>acting</em> table, but rather treats them as double primary keys and only sees that I inserted the same <em>media_id</em> twice, throwing an exception. Or it could be because I'm inserting values in <em>acting</em> table first before <em>acting_role</em> table, which has a foreign key referencing <em>acting</em> table, so it throws an exception because I haven't yet inserted values in <em>acting_role</em> table, which have a value of NULL at that moment, even though it shouldn't do that.</p>\n<p>Honestly I'm pretty lost here. I tried searching answers through the internet and AI, but I can't seem to find an answer.</p>\n"},{"tags":["java","android","google-maps"],"answers":[{"tags":[],"owner":{"account_id":470495,"reputation":13061,"user_id":877732,"display_name":"Changwei Yao"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1336781900,"creation_date":1336780472,"answer_id":10559925,"question_id":10559904,"body_markdown":"    public class classA{\r\n\t\tpublic classA(Context context){\r\n\t\t\tthis.myContext = context;\r\n\t\t}\r\n\t\t\r\n\t\tvoid callMethod(){\r\n\t\t\tif(isFileValid){\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\t((Activity)myContext).finish();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Closing an activity from another class","body":"<pre><code>public class classA{\n    public classA(Context context){\n        this.myContext = context;\n    }\n\n    void callMethod(){\n        if(isFileValid){\n\n        }else{\n            ((Activity)myContext).finish();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14773259,"reputation":11,"user_id":10669028,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542561849,"creation_date":1542506419,"answer_id":53357258,"question_id":10559904,"body_markdown":"What I usually do is to use a receiver within my activity and then trigger a broadcast from **class B**.\r\n **Class A** gets the broadcast and its **onReceive** handles the work. Say **finish();**","title":"Closing an activity from another class","body":"<p>What I usually do is to use a receiver within my activity and then trigger a broadcast from <strong>class B</strong>.\n <strong>Class A</strong> gets the broadcast and its <strong>onReceive</strong> handles the work. Say <strong>finish();</strong></p>\n"},{"tags":[],"owner":{"account_id":6132888,"reputation":307,"user_id":4782561,"display_name":"Ajay Vishwakarma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665426655,"creation_date":1616056142,"answer_id":66687324,"question_id":10559904,"body_markdown":"This is how you can call the Activity&#39;s finish method from another class in Kotlin code.  \r\nIt is working perfectly.  \r\n\r\n    class DialogHelper(applicationContext: Context) {\r\n       \r\n     private var context = applicationContext\r\n    \r\n        fun showDialog() {\r\n            var dialog: Dialog? = null\r\n            val builder = Dialog.Builder(context)\r\n                .content(R.string.your_string)\r\n                .positiveButton(R.string.str_ok, listener = {\r\n                    (context as Activity).finish()\r\n                    dialog?.hide()\r\n                })\r\n            dialog = builder.create()\r\n            dialog.setCanceledOnTouchOutside(false)\r\n            dialog.show()\r\n        }\r\n    }","title":"Closing an activity from another class","body":"<p>This is how you can call the Activity's finish method from another class in Kotlin code.<br />\nIt is working perfectly.</p>\n<pre><code>class DialogHelper(applicationContext: Context) {\n   \n private var context = applicationContext\n\n    fun showDialog() {\n        var dialog: Dialog? = null\n        val builder = Dialog.Builder(context)\n            .content(R.string.your_string)\n            .positiveButton(R.string.str_ok, listener = {\n                (context as Activity).finish()\n                dialog?.hide()\n            })\n        dialog = builder.create()\n        dialog.setCanceledOnTouchOutside(false)\n        dialog.show()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10287148,"reputation":4085,"user_id":7590031,"display_name":"Ayoub Boumzebra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693411440,"creation_date":1693411440,"answer_id":77009730,"question_id":10559904,"body_markdown":"this may be help u....\r\n\r\nadd this line where you want to finsh current activity\r\nJava\r\n\r\n**`((Activity)getContext()).finish();`**","title":"Closing an activity from another class","body":"<p>this may be help u....</p>\n<p>add this line where you want to finsh current activity\nJava</p>\n<p><strong><code>((Activity)getContext()).finish();</code></strong></p>\n"}],"owner":{"account_id":900422,"reputation":1540,"user_id":936715,"accept_rate":68,"display_name":"curlyreggie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18759,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":10559925,"answer_count":4,"score":11,"last_activity_date":1693411440,"creation_date":1336780235,"question_id":10559904,"body_markdown":"I have a question in Android during creating my google-maps application.\r\n\r\nI&#39;ve one activity as below\r\n\r\n    public class MapCallActivity extends MapActivity {\r\n        classA class = new classA(this);\r\n        classA.callMethod();\r\n    }\r\n\r\nThe `classA` is defined as below:\r\n\r\n     public class classA{\r\n       public classA(Context context){\r\n       this.myContext = context;\r\n     }\r\n\r\n       void callMethod(){\r\n          if (isFileValid) {\r\n\t        &lt;do_something...&gt;;\r\n          } else {\r\n            &lt;call_the_activity&#39;s finish() method&gt;;\r\n          }\r\n       }\r\n     }   \r\n        \r\n\r\nIs there a way that I can do `&lt;call_the_activity&#39;s finish() method&gt;` so that the `MapCallActivity` closes?\r\n\r\nAny help is appreciated!","title":"Closing an activity from another class","body":"<p>I have a question in Android during creating my google-maps application.</p>\n\n<p>I've one activity as below</p>\n\n<pre><code>public class MapCallActivity extends MapActivity {\n    classA class = new classA(this);\n    classA.callMethod();\n}\n</code></pre>\n\n<p>The <code>classA</code> is defined as below:</p>\n\n<pre><code> public class classA{\n   public classA(Context context){\n   this.myContext = context;\n }\n\n   void callMethod(){\n      if (isFileValid) {\n        &lt;do_something...&gt;;\n      } else {\n        &lt;call_the_activity's finish() method&gt;;\n      }\n   }\n }   \n</code></pre>\n\n<p>Is there a way that I can do <code>&lt;call_the_activity's finish() method&gt;</code> so that the <code>MapCallActivity</code> closes?</p>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":1996,"user_id":10685211,"display_name":"Musab Dogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692955275,"creation_date":1692955275,"answer_id":76975879,"question_id":76975761,"body_markdown":"You can enable the [fielddata][1] to achieve the result you want.\r\n\r\n&gt; !Note: Loading field data in memory can consume significant memory.!\r\n\r\n\tPUT test_content/_doc/1\r\n\t{\r\n\t  &quot;content&quot;: &quot;first test&quot;\r\n\t}\r\n\t\r\n\tPUT test_content/_doc/2\r\n\t{\r\n\t  &quot;content&quot;: &quot;second test&quot;\r\n\t}\r\n\t\r\n\tGET test_content/_search\r\n\t{\r\n\t  &quot;size&quot;: 0,\r\n\t  &quot;aggs&quot;: {\r\n\t    &quot;NAME&quot;: {\r\n\t      &quot;terms&quot;: {\r\n\t        &quot;field&quot;: &quot;content&quot;,\r\n\t        &quot;size&quot;: 1000000\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\tGET test_content/_mapping\r\n\tPUT test_content/_mapping\r\n\t{\r\n\t  &quot;properties&quot;: {\r\n\t    &quot;content&quot;: {\r\n\t      &quot;type&quot;: &quot;text&quot;,\r\n\t      &quot;fielddata&quot;: true,\r\n\t      &quot;fields&quot;: {\r\n\t        &quot;keyword&quot;: {\r\n\t          &quot;type&quot;: &quot;keyword&quot;,\r\n\t          &quot;ignore_above&quot;: 256\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n**When you run this you will get the following error:**\r\n&gt; illegal_argument_exception Fielddata is disabled on [] in []. Text\r\n&gt; fields are not optimised for operations that require per-document\r\n&gt; field data like aggregations and sorting, so these operations are\r\n&gt; disabled by default. Please use a keyword field instead.\r\n&gt; Alternatively, set fielddata=true on [content] in order to load field\r\n&gt; data by uninverting the inverted index. Note that this can use\r\n&gt; significant memory.\r\n\r\nIf it&#39;s a one-time or rare operation you can enable it.\r\n\r\n### Note that the result you see below is the document count that contains the relevant word. For example, there are 2 words containing the word &quot;test&quot;. This means that even if the word &quot;test&quot; occurs more than once in the same document, it will be counted as one.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#fielddata-mapping-param\r\n  [2]: https://i.stack.imgur.com/KyCHu.png","title":"Count total occurences with ElasticSearch","body":"<p>You can enable the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#fielddata-mapping-param\" rel=\"nofollow noreferrer\">fielddata</a> to achieve the result you want.</p>\n<blockquote class=\"spoiler\">\n<p>Note: Loading field data in memory can consume significant memory.!</p>\n</blockquote>\n<pre><code>PUT test_content/_doc/1\n{\n  &quot;content&quot;: &quot;first test&quot;\n}\n\nPUT test_content/_doc/2\n{\n  &quot;content&quot;: &quot;second test&quot;\n}\n\nGET test_content/_search\n{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;NAME&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;content&quot;,\n        &quot;size&quot;: 1000000\n      }\n    }\n  }\n}\n\nGET test_content/_mapping\nPUT test_content/_mapping\n{\n  &quot;properties&quot;: {\n    &quot;content&quot;: {\n      &quot;type&quot;: &quot;text&quot;,\n      &quot;fielddata&quot;: true,\n      &quot;fields&quot;: {\n        &quot;keyword&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;,\n          &quot;ignore_above&quot;: 256\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>When you run this you will get the following error:</strong></p>\n<blockquote>\n<p>illegal_argument_exception Fielddata is disabled on [] in []. Text\nfields are not optimised for operations that require per-document\nfield data like aggregations and sorting, so these operations are\ndisabled by default. Please use a keyword field instead.\nAlternatively, set fielddata=true on [content] in order to load field\ndata by uninverting the inverted index. Note that this can use\nsignificant memory.</p>\n</blockquote>\n<p>If it's a one-time or rare operation you can enable it.</p>\n<h3>Note that the result you see below is the document count that contains the relevant word. For example, there are 2 words containing the word &quot;test&quot;. This means that even if the word &quot;test&quot; occurs more than once in the same document, it will be counted as one.</h3>\n<p><a href=\"https://i.stack.imgur.com/KyCHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KyCHu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1605363,"reputation":11,"user_id":1485565,"display_name":"user1485565"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693410962,"creation_date":1693410962,"answer_id":77009664,"question_id":76975761,"body_markdown":"I solved in this way:\r\n```\r\n   BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n        boolQueryBuilder.must(\r\n                QueryBuilders.wrapperQuery(QueryUtils.toQuery(template.getKeyword(), &quot;words.data&quot;))\r\n        );\r\n\r\n        FilterAggregationBuilder filterAgg = AggregationBuilders.filter(&quot;filter_aggr&quot;, boolQueryBuilder);\r\n        NestedAggregationBuilder nestedAgg = AggregationBuilders.nested(&quot;nested_aggr&quot;, &quot;words&quot;).subAggregation(filterAgg);\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n        searchSourceBuilder.query(\r\n                QueryBuilders.matchAllQuery()\r\n        );\r\n        searchSourceBuilder.aggregation(nestedAgg);\r\n        searchSourceBuilder.size(0);\r\n        SearchRequest searchRequest = new SearchRequest();\r\n        searchRequest.source(searchSourceBuilder);\r\n        org.elasticsearch.action.search.SearchResponse s = clientConfig.elasticsearchClient().search(searchRequest, RequestOptions.DEFAULT);\r\n        return ((ParsedFilter)((ParsedNested)(s.getAggregations().get(&quot;nested_aggr&quot;))).getAggregations().get(&quot;filter_aggr&quot;)).getDocCount();\r\n```    ","title":"Count total occurences with ElasticSearch","body":"<p>I solved in this way:</p>\n<pre><code>   BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\n        boolQueryBuilder.must(\n                QueryBuilders.wrapperQuery(QueryUtils.toQuery(template.getKeyword(), &quot;words.data&quot;))\n        );\n\n        FilterAggregationBuilder filterAgg = AggregationBuilders.filter(&quot;filter_aggr&quot;, boolQueryBuilder);\n        NestedAggregationBuilder nestedAgg = AggregationBuilders.nested(&quot;nested_aggr&quot;, &quot;words&quot;).subAggregation(filterAgg);\n\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n        searchSourceBuilder.query(\n                QueryBuilders.matchAllQuery()\n        );\n        searchSourceBuilder.aggregation(nestedAgg);\n        searchSourceBuilder.size(0);\n        SearchRequest searchRequest = new SearchRequest();\n        searchRequest.source(searchSourceBuilder);\n        org.elasticsearch.action.search.SearchResponse s = clientConfig.elasticsearchClient().search(searchRequest, RequestOptions.DEFAULT);\n        return ((ParsedFilter)((ParsedNested)(s.getAggregations().get(&quot;nested_aggr&quot;))).getAggregations().get(&quot;filter_aggr&quot;)).getDocCount();\n</code></pre>\n"}],"owner":{"account_id":1605363,"reputation":11,"user_id":1485565,"display_name":"user1485565"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693410962,"creation_date":1692954322,"question_id":76975761,"body_markdown":"My request seems trivial: &quot;retrieve the total number of occurences of one specific word in the field &quot;words&quot; of all the document.\r\n\r\nThe index is simple. I put only the main structure:\r\n\r\n```\r\n@Document(indexName = &quot;documents&quot;)\r\npublic class Document{\r\n@Field(type = FieldType.Nested, fielddata = true, name = &quot;words&quot;)\r\nprivate List&lt;Word&gt; words;\r\n}\r\n\r\npublic class Word{\r\n    @Field(type = FieldType.Text, fielddata = true)\r\n    @NotBlank private String data;\r\n\r\n    //...other fields\r\n}\r\n```\r\n\r\nI&#39;m using the Elasticseatch API for Java.\r\n\r\nThe only solution I found is to iterate over the returned list of SearchHit, and sum the totalHits of each item.\r\n\r\nBut this solution is too exprensive.","title":"Count total occurences with ElasticSearch","body":"<p>My request seems trivial: &quot;retrieve the total number of occurences of one specific word in the field &quot;words&quot; of all the document.</p>\n<p>The index is simple. I put only the main structure:</p>\n<pre><code>@Document(indexName = &quot;documents&quot;)\npublic class Document{\n@Field(type = FieldType.Nested, fielddata = true, name = &quot;words&quot;)\nprivate List&lt;Word&gt; words;\n}\n\npublic class Word{\n    @Field(type = FieldType.Text, fielddata = true)\n    @NotBlank private String data;\n\n    //...other fields\n}\n</code></pre>\n<p>I'm using the Elasticseatch API for Java.</p>\n<p>The only solution I found is to iterate over the returned list of SearchHit, and sum the totalHits of each item.</p>\n<p>But this solution is too exprensive.</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1693124701,"post_id":76986248,"comment_id":135716611,"body_markdown":"Hex is just a notation in source code. The number itself is just a number, there is nothing special about it that makes it a &quot;hex number&quot;. You can convert it to a string just like any other number.","body":"Hex is just a notation in source code. The number itself is just a number, there is nothing special about it that makes it a &quot;hex number&quot;. You can convert it to a string just like any other number."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693125421,"post_id":76986248,"comment_id":135716682,"body_markdown":"Did you check out the api docs for `java.lang.Long`? Also, the &#39;zero method&#39; `&quot;&quot; + v`  will do it","body":"Did you check out the api docs for <code>java.lang.Long</code>? Also, the &#39;zero method&#39; <code>&quot;&quot; + v</code>  will do it"},{"owner":{"account_id":16340177,"reputation":87,"user_id":11801256,"display_name":"Sonya  gold"},"score":0,"creation_date":1693126889,"post_id":76986248,"comment_id":135716828,"body_markdown":"I tried to convert and still dont understand how 0x000104001L becomes “1064961“. When I convert long to string it gives me a completely different number @Jesper","body":"I tried to convert and still dont understand how 0x000104001L becomes “1064961“. When I convert long to string it gives me a completely different number @Jesper"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693165462,"post_id":76986248,"comment_id":135720863,"body_markdown":"@Sonyagold, _&quot;... When I convert long to string it gives me a completely different number ...&quot;_, use the _[Long#toHexString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#toHexString(long))_ method; `Long.toHexString(0x000104001L)`.  Or, if you additionally want the _0x_ prefix, and leading zeros, you can use _[String#formatted](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...))_, `&quot;0x%09x&quot;.formatted(value)`.","body":"@Sonyagold, <i>&quot;... When I convert long to string it gives me a completely different number ...&quot;</i>, use the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#toHexString(long)\" rel=\"nofollow noreferrer\">Long#toHexString</a></i> method; <code>Long.toHexString(0x000104001L)</code>.  Or, if you additionally want the <i>0x</i> prefix, and leading zeros, you can use <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\">String#formatted</a></i>, <code>&quot;0x%09x&quot;.formatted(value)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693131614,"creation_date":1693129740,"answer_id":76986520,"question_id":76986248,"body_markdown":"In 0x000104001L, the `0x` represents that this number has been written in hexadecimal notation. The `L` at the end represents that it is a `long` number. Similarly, if you see a number beginning with a `0`, it has been assigned to a variable in the octal notation. **For normal display, Java uses decimal notation.** That is why you see these numbers in decimal notation on your console.\r\n\r\n**Demo:**\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            long x = 0x000104001L;\r\n            System.out.println(x);\r\n    \r\n            long y = 01245;\r\n            System.out.println(y);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    1064961\r\n    677\r\n\r\nI hope you already know how to [convert a number from hexadecimal to a decimal notation](https://byjus.com/maths/hex-to-decimal/). So, (104001)&lt;sub&gt;16&lt;/sub&gt; = (1 * 16&lt;sup&gt;5&lt;/sup&gt; + 0 * 16&lt;sup&gt;4&lt;/sup&gt; + 4 * 16&lt;sup&gt;3&lt;/sup&gt; + 0 * 16&lt;sup&gt;2&lt;/sup&gt; + 0 * 16&lt;sup&gt;1&lt;/sup&gt; + 1 * 16&lt;sup&gt;0&lt;/sup&gt;)&lt;sub&gt;10&lt;/sub&gt; = (1048576 + 0 + 16384 + 0 + 0 + 1)&lt;sub&gt;10&lt;/sub&gt; = (1064961)&lt;sub&gt;10&lt;/sub&gt;.","title":"Convert hex long to string in Java","body":"<p>In 0x000104001L, the <code>0x</code> represents that this number has been written in hexadecimal notation. The <code>L</code> at the end represents that it is a <code>long</code> number. Similarly, if you see a number beginning with a <code>0</code>, it has been assigned to a variable in the octal notation. <strong>For normal display, Java uses decimal notation.</strong> That is why you see these numbers in decimal notation on your console.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        long x = 0x000104001L;\n        System.out.println(x);\n\n        long y = 01245;\n        System.out.println(y);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>1064961\n677\n</code></pre>\n<p>I hope you already know how to <a href=\"https://byjus.com/maths/hex-to-decimal/\" rel=\"nofollow noreferrer\">convert a number from hexadecimal to a decimal notation</a>. So, (104001)<sub>16</sub> = (1 * 16<sup>5</sup> + 0 * 16<sup>4</sup> + 4 * 16<sup>3</sup> + 0 * 16<sup>2</sup> + 0 * 16<sup>1</sup> + 1 * 16<sup>0</sup>)<sub>10</sub> = (1048576 + 0 + 16384 + 0 + 0 + 1)<sub>10</sub> = (1064961)<sub>10</sub>.</p>\n"},{"tags":[],"owner":{"account_id":23573790,"reputation":1,"user_id":17613678,"display_name":"codewriter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693133914,"creation_date":1693133914,"answer_id":76986771,"question_id":76986248,"body_markdown":"This is an answer in Java:\r\n\r\n    public static void main(String[] args) {\r\n        String s = Long.toString(0x000104001L, 10);\r\n        System.out.println(s);\r\n    }\r\n\r\n","title":"Convert hex long to string in Java","body":"<p>This is an answer in Java:</p>\n<pre><code>public static void main(String[] args) {\n    String s = Long.toString(0x000104001L, 10);\n    System.out.println(s);\n}\n</code></pre>\n"}],"owner":{"account_id":16340177,"reputation":87,"user_id":11801256,"display_name":"Sonya  gold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1693410535,"creation_date":1693124519,"question_id":76986248,"body_markdown":"I would like to know how to convert a hex long number to string l.\r\nFor example:\r\n0x000104001L\r\nHow does it convert to “1064961”?\r\n","title":"Convert hex long to string in Java","body":"<p>I would like to know how to convert a hex long number to string l.\nFor example:\n0x000104001L\nHow does it convert to “1064961”?</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":8707520,"reputation":1674,"user_id":6514945,"display_name":"sanjeev"},"score":0,"creation_date":1574239742,"post_id":58950104,"comment_id":104156677,"body_markdown":"Why are there two maps? Also, have you tried giving a background color to the layout containing the buttons.","body":"Why are there two maps? Also, have you tried giving a background color to the layout containing the buttons."},{"owner":{"account_id":15131160,"reputation":76,"user_id":10919009,"display_name":"MaciejB"},"score":0,"creation_date":1574240626,"post_id":58950104,"comment_id":104157215,"body_markdown":"I didn&#39;t check the second, I was thinking I deleted it. Yes, I have tried this option with background color but it also doesn&#39;t work.","body":"I didn&#39;t check the second, I was thinking I deleted it. Yes, I have tried this option with background color but it also doesn&#39;t work."},{"owner":{"account_id":7143598,"reputation":991,"user_id":5460223,"display_name":"karthik vishnu kumar"},"score":0,"creation_date":1574242222,"post_id":58950104,"comment_id":104158170,"body_markdown":"Don&#39;t use fill_parent or match_parent as height for your map, if you do so, it will occupy the entire screen height. Since you are using LinearLayout you can use weightSum and add layout_weights to your button and map","body":"Don&#39;t use fill_parent or match_parent as height for your map, if you do so, it will occupy the entire screen height. Since you are using LinearLayout you can use weightSum and add layout_weights to your button and map"}],"answers":[{"tags":[],"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693410342,"creation_date":1574244876,"answer_id":58951799,"question_id":58950104,"body_markdown":"There are two problem maps in the map sizes. You can edit them....... \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;LinearLayout \r\n    \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:gravity=&quot;center&quot; \r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonLogReg&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:layout_gravity=&quot;top&quot;\r\n            android:layout_weight=&quot;10&quot;\r\n            android:text=&quot;@string/log_amp_reg&quot; /&gt;\r\n    \r\n        &lt;org.osmdroid.views.MapView\r\n            android:id=&quot;@+id/map&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;100dp&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot; &gt;\r\n        &lt;/org.osmdroid.views.MapView&gt;\r\n    \r\n      \r\n    &lt;/LinearLayout&gt;","title":"Problem with locating button on map (on same activity) in Android","body":"<p>There are two problem maps in the map sizes. You can edit them.......</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout \n\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center&quot; \n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonLogReg&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_gravity=&quot;top&quot;\n        android:layout_weight=&quot;10&quot;\n        android:text=&quot;@string/log_amp_reg&quot; /&gt;\n\n    &lt;org.osmdroid.views.MapView\n        android:id=&quot;@+id/map&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;100dp&quot;\n        tools:ignore=&quot;MissingConstraints&quot; &gt;\n    &lt;/org.osmdroid.views.MapView&gt;\n\n  \n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":15131160,"reputation":76,"user_id":10919009,"display_name":"MaciejB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693410342,"creation_date":1574239588,"question_id":58950104,"body_markdown":"I&#39;m writing an application in Android where background is a map and I want to put on this background some buttons like &quot;Search&quot;, &quot;Login&quot;.\r\nI have created xml like below:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/buttonLogReg&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_gravity=&quot;top&quot;\r\n        android:layout_weight=&quot;10&quot;\r\n        android:baselineAligned=&quot;false&quot;\r\n        android:text=&quot;@string/log_amp_reg&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;org.osmdroid.views.MapView\r\n        android:id=&quot;@+id/map&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot; &gt;\r\n\r\n    &lt;/org.osmdroid.views.MapView&gt;\r\n\r\n    &lt;org.osmdroid.views.MapView\r\n        android:id=&quot;@+id/mapview&quot;\r\n        tilesource=&quot;Mapnik&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nand also Java code like:\r\n```\r\npublic class MainActivity extends Activity {\r\n\r\n    MapView map = null;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Context ctx = getApplicationContext();\r\n        Configuration.getInstance().load(ctx, PreferenceManager.getDefaultSharedPreferences(ctx));\r\n        setContentView(R.layout.activity_main);\r\n        map = (MapView)findViewById(R.id.map);\r\n        map.setTileSource(TileSourceFactory.MAPNIK);\r\n        map.setBuiltInZoomControls(true);\r\n        map.setMultiTouchControls(true);\r\n\r\n        IMapController mapController = map.getController();\r\n        mapController.setZoom(12.5);\r\n        GeoPoint startPoint = new GeoPoint(49.20, 19.94);\r\n        mapController.setCenter(startPoint);\r\n\r\n        Button logreg = findViewById(R.id.buttonLogReg);\r\n        logreg.setOnClickListener(onClickListener);\r\n    }\r\n    public void onResume(){\r\n        super.onResume();\r\n        map.onResume();\r\n    }\r\n    public void onPause(){\r\n        super.onPause();\r\n        map.onPause();\r\n    }\r\n\r\n    private View.OnClickListener onClickListener = new View.OnClickListener(){\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent intent = new Intent(getApplicationContext(), LoginRegister.class);\r\n            startActivity(intent);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\nSo my question is: \r\nWhy I can&#39;t see the button on android screen, I see only moveable map?\r\nAnybody could help me with this issue?","title":"Problem with locating button on map (on same activity) in Android","body":"<p>I'm writing an application in Android where background is a map and I want to put on this background some buttons like \"Search\", \"Login\".\nI have created xml like below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/buttonLogReg\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"30dp\"\n        android:layout_gravity=\"top\"\n        android:layout_weight=\"10\"\n        android:baselineAligned=\"false\"\n        android:text=\"@string/log_amp_reg\"\n        android:visibility=\"visible\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.0\" /&gt;\n\n    &lt;org.osmdroid.views.MapView\n        android:id=\"@+id/map\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        tools:ignore=\"MissingConstraints\" &gt;\n\n    &lt;/org.osmdroid.views.MapView&gt;\n\n    &lt;org.osmdroid.views.MapView\n        android:id=\"@+id/mapview\"\n        tilesource=\"Mapnik\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and also Java code like:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    MapView map = null;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Context ctx = getApplicationContext();\n        Configuration.getInstance().load(ctx, PreferenceManager.getDefaultSharedPreferences(ctx));\n        setContentView(R.layout.activity_main);\n        map = (MapView)findViewById(R.id.map);\n        map.setTileSource(TileSourceFactory.MAPNIK);\n        map.setBuiltInZoomControls(true);\n        map.setMultiTouchControls(true);\n\n        IMapController mapController = map.getController();\n        mapController.setZoom(12.5);\n        GeoPoint startPoint = new GeoPoint(49.20, 19.94);\n        mapController.setCenter(startPoint);\n\n        Button logreg = findViewById(R.id.buttonLogReg);\n        logreg.setOnClickListener(onClickListener);\n    }\n    public void onResume(){\n        super.onResume();\n        map.onResume();\n    }\n    public void onPause(){\n        super.onPause();\n        map.onPause();\n    }\n\n    private View.OnClickListener onClickListener = new View.OnClickListener(){\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(getApplicationContext(), LoginRegister.class);\n            startActivity(intent);\n        }\n    };\n}\n</code></pre>\n\n<p>So my question is: \nWhy I can't see the button on android screen, I see only moveable map?\nAnybody could help me with this issue?</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1693409970,"post_id":77009525,"comment_id":135757933,"body_markdown":"(mind you hibernate&#39;s queries are technically not just SQL, but the ideas do largely transfer). In particular from that linked question: &quot;The IS comparison is only for null comparisons.&quot;","body":"(mind you hibernate&#39;s queries are technically not just SQL, but the ideas do largely transfer). In particular from that linked question: &quot;The IS comparison is only for null comparisons.&quot;"},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1693410290,"post_id":77009525,"comment_id":135758025,"body_markdown":"Thank you for the link, I wasn&#39;t able to find it, I get the idea","body":"Thank you for the link, I wasn&#39;t able to find it, I get the idea"}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693410308,"answer_count":0,"score":0,"last_activity_date":1693410001,"creation_date":1693409869,"question_id":77009525,"body_markdown":"I have a request in Hibernate that was working just fine in an older version of hibernate but after upgrading to a more recent one I have an error \r\n\r\n&gt; org.hibernate.query.SemanticException: A query exception occurred [SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE]\\\r\n&gt; line 1:65 no viable alternative at input &#39;SELECTcount(c)FROMClientcWHEREc.tmp_batchISTRUE&#39;\r\n\r\n```java\r\npublic Long getClientCount() {\r\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE&quot;, Long.class)\r\n        .getResultList()\r\n        .get(0);\r\n}\r\n```\r\n\r\nAfter testing a few things, I&#39;ve got a solution for this problem that replace the `IS TRUE` by `= TRUE` and now it works fine again:\r\n```java\r\npublic Long getClientCount() {\r\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch = TRUE&quot;, Long.class)\r\n        .getResultList()\r\n        .get(0);\r\n}\r\n```\r\n\r\nBut I&#39;m unable to understand what&#39;s the difference between the two that make the first one to version fall in error, can someone explain the difference here ? \r\n\r\nFor reference, I&#39;m adding the `Client` class here :\r\n```java\r\n@Entity\r\n@Table(name = &quot;CLIENTS&quot;)\r\n@IdClass(ClientId.class)\r\npublic class Client {\r\n    @Id\r\n    @Column(name = &quot;TMP_BATCH&quot;)\r\n    private boolean tmp_batch;\r\n\r\n    ...\r\n\r\n    public boolean isTmp_batch() { return this.tmp_batch; }\r\n    public boolean setTmp_batch(boolean tmp_batch) { this.tmp_batch = tmp_batch; }\r\n\r\n    ...\r\n\r\n}\r\n\r\n\r\n\r\n","title":"Hibernate IS TRUE vs = TRUE","body":"<p>I have a request in Hibernate that was working just fine in an older version of hibernate but after upgrading to a more recent one I have an error</p>\n<blockquote>\n<p>org.hibernate.query.SemanticException: A query exception occurred [SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE]<br />\nline 1:65 no viable alternative at input 'SELECTcount(c)FROMClientcWHEREc.tmp_batchISTRUE'</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public Long getClientCount() {\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE&quot;, Long.class)\n        .getResultList()\n        .get(0);\n}\n</code></pre>\n<p>After testing a few things, I've got a solution for this problem that replace the <code>IS TRUE</code> by <code>= TRUE</code> and now it works fine again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Long getClientCount() {\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch = TRUE&quot;, Long.class)\n        .getResultList()\n        .get(0);\n}\n</code></pre>\n<p>But I'm unable to understand what's the difference between the two that make the first one to version fall in error, can someone explain the difference here ?</p>\n<p>For reference, I'm adding the <code>Client</code> class here :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;CLIENTS&quot;)\n@IdClass(ClientId.class)\npublic class Client {\n    @Id\n    @Column(name = &quot;TMP_BATCH&quot;)\n    private boolean tmp_batch;\n\n    ...\n\n    public boolean isTmp_batch() { return this.tmp_batch; }\n    public boolean setTmp_batch(boolean tmp_batch) { this.tmp_batch = tmp_batch; }\n\n    ...\n\n}\n\n\n\n</code></pre>\n"},{"tags":["java","swing","netbeans","jtable"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1693409199,"post_id":77009283,"comment_id":135757784,"body_markdown":"Post an [mre] demonstrating your problem. Your basic approach seems correct in that you are attempting to override the &quot;isCellEdiable&quot; method. However, we don&#39;t have access to your database so we can&#39;t test the code. The MRE should have hard coded data in the table. One row with data so the checkbox is enabled and the other row with data so the check box is disabled. Note there is no need for a custom renderer or editor. Just override the &quot;getColumnClass&quot; method to return Boolean.class for the column with the check box.  See: https://stackoverflow.com/a/1539602/131872 for a simple MRE.","body":"Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating your problem. Your basic approach seems correct in that you are attempting to override the &quot;isCellEdiable&quot; method. However, we don&#39;t have access to your database so we can&#39;t test the code. The MRE should have hard coded data in the table. One row with data so the checkbox is enabled and the other row with data so the check box is disabled. Note there is no need for a custom renderer or editor. Just override the &quot;getColumnClass&quot; method to return Boolean.class for the column with the check box.  See: <a href=\"https://stackoverflow.com/a/1539602/131872\">stackoverflow.com/a/1539602/131872</a> for a simple MRE."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1693409442,"post_id":77009283,"comment_id":135757828,"body_markdown":"There is also no need to explicitly set the cell renderers when you override the getColumnClass() method.","body":"There is also no need to explicitly set the cell renderers when you override the getColumnClass() method."}],"owner":{"account_id":11962628,"reputation":1,"user_id":8753271,"display_name":"Chris J."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693409463,"creation_date":1693408105,"question_id":77009283,"body_markdown":"I am new to Java, so please forgive my ignorance. I am trying to create a jTable that will disable a checkbox based on the value of another cell. When I run this code either nothing displays or the table&#39;s cells only display when clicked on. A nudge in the right direction would help a lot. Thank you.\r\n\r\n\r\n```\r\npublic class Enrollment extends javax.swing.JDialog {\r\n   //public static String empState = &quot;&quot;;\r\n   //public static String empEffDate = &quot;&quot;;\r\n    /**\r\n     * Creates new form Enrollment\r\n     */\r\n \r\n    \r\n    \r\n    public Enrollment(java.awt.Frame parent, boolean modal) {\r\n        super(parent, modal);\r\n        initComponents();\r\n        \r\n        DefaultTableModel model;\r\n        //load table\r\n        String empSSN = JContacts.getCurrentSSN();\r\n        \r\n        \r\n        String sqlStmt = &quot;Select * from enrollment.empprodchoices left join &quot;\r\n                + &quot;enrollment.plannames on plannames.prodidcode = empprodchoices.prodidcode&quot;\r\n                + &quot; where empSSN= &#39;&quot; + empSSN + &quot;&#39;&quot;;\r\n        \r\n        System.out.println(sqlStmt);\r\n        ResultSet rs = DBConn.getRS(sqlStmt);\r\n        model = (DefaultTableModel) jTable1.getModel();\r\n      initUI();\r\n      \r\n       \r\n        \r\n        \r\n        try {\r\n            while (rs.next()) {\r\n                String[] rowData = new String[9];\r\n                rowData[0] = rs.getString(&quot;productname&quot;);\r\n                rowData[1] = rs.getString(&quot;options&quot;);\r\n                rowData[2] = rs.getString(&quot;coveragelevel&quot;);\r\n                rowData[3] = rs.getString(&quot;aftertaxcost&quot;); //money check value\r\n                rowData[4] = rs.getString(&quot;CoverageDate&quot;);\r\n                rowData[5] = rs.getString(&quot;DeductionDate&quot;);\r\n                rowData[8] = rs.getString(&quot;prodidcode&quot;);\r\n                \r\n                model.addRow((Object[]) rowData);\r\n                //jTable1.repaint();\r\n              }\r\n           //instance table model\r\n//jTable1.revalidate();\r\n//jTable1.repaint();\r\n//jTable1.updateUI();\r\n          \r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(Enrollment.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        // initUI();\r\n         \r\n    }\r\nprivate void initUI() {\r\n    \r\n    // Assuming jTable1 has already been initialized and populated\r\n        // Modify the table model to control editability\r\n       DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\r\n        \r\n        // Get column identifiers from existing model\r\n        Vector&lt;String&gt; columnIdentifiers = new Vector&lt;&gt;();\r\n        for (int i = 0; i &lt; model.getColumnCount(); i++) {\r\n            columnIdentifiers.add(model.getColumnName(i));\r\n        }\r\n\r\n        jTable1.setModel(new DefaultTableModel(model.getDataVector(), columnIdentifiers) {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                if (column == 8) return false;\r\n                return !(column == 7 &amp;&amp; getValueAt(row, 8).equals(&quot;DEN&quot;));\r\n            }\r\n        });\r\n\r\n        // Set custom renderer and editor for jTable1&#39;s checkbox column (column 7)\r\n        jTable1.getColumnModel().getColumn(7).setCellRenderer(new CheckboxRenderer());\r\n        jTable1.getColumnModel().getColumn(7).setCellEditor(new CheckboxEditor(new JCheckBox()));\r\n    // Explicitly set default renderers for all columns\r\n    for (int i = 0; i &lt; jTable1.getColumnCount(); i++) {\r\n        if (i != 7) {\r\n            jTable1.getColumnModel().getColumn(i).setCellRenderer(jTable1.getDefaultRenderer(jTable1.getColumnClass(i)));\r\n        }\r\n    }\r\n        // Assuming you have other components/layout code here\r\n        // ...\r\n        jTable1.revalidate();\r\n        jTable1.repaint();\r\n        pack();\r\n        //jTable1.updateUI();\r\n    }\r\n\r\n static class CheckboxRenderer extends JCheckBox implements TableCellRenderer {\r\n    @Override\r\n    public Component getTableCellRendererComponent(JTable table, Object value, \r\n                                                   boolean isSelected, boolean hasFocus, \r\n                                                   int row, int column) {\r\n        // Set colors based on selection state\r\n        if (isSelected) {\r\n            this.setBackground(table.getSelectionBackground());\r\n            this.setForeground(table.getSelectionForeground());\r\n        } else {\r\n            this.setBackground(table.getBackground());\r\n            this.setForeground(table.getForeground());\r\n        }\r\n\r\n        // Your existing logic to enable or disable the checkbox based on column 8&#39;s value\r\n        if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\r\n            this.setEnabled(false);\r\n        } else {\r\n            this.setEnabled(true);\r\n        }\r\n\r\n        // Set the checkbox&#39;s selected state based on the cell&#39;s value\r\n        this.setSelected((Boolean) value);\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\n    \r\n    static class CheckboxEditor extends DefaultCellEditor {\r\n        public CheckboxEditor(JCheckBox checkBox) {\r\n            super(checkBox);\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n            JCheckBox checkbox = (JCheckBox) super.getTableCellEditorComponent(table, value, isSelected, row, column);\r\n            if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\r\n                checkbox.setEnabled(false);\r\n            } else {\r\n                checkbox.setEnabled(true);\r\n            }\r\n            checkbox.setSelected((Boolean) value);\r\n            return checkbox;\r\n        }\r\n    \r\n\r\n\r\n    \r\n    \r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nI wanted this to display the populated jTable with column 7 enabled/disabled based on the string value in column 8. I used the GUI Builder in Netbeans to construct the jTable1 table initially.\r\n\r\n","title":"jTable only shows cells when clicked on (with custom renderer)","body":"<p>I am new to Java, so please forgive my ignorance. I am trying to create a jTable that will disable a checkbox based on the value of another cell. When I run this code either nothing displays or the table's cells only display when clicked on. A nudge in the right direction would help a lot. Thank you.</p>\n<pre><code>public class Enrollment extends javax.swing.JDialog {\n   //public static String empState = &quot;&quot;;\n   //public static String empEffDate = &quot;&quot;;\n    /**\n     * Creates new form Enrollment\n     */\n \n    \n    \n    public Enrollment(java.awt.Frame parent, boolean modal) {\n        super(parent, modal);\n        initComponents();\n        \n        DefaultTableModel model;\n        //load table\n        String empSSN = JContacts.getCurrentSSN();\n        \n        \n        String sqlStmt = &quot;Select * from enrollment.empprodchoices left join &quot;\n                + &quot;enrollment.plannames on plannames.prodidcode = empprodchoices.prodidcode&quot;\n                + &quot; where empSSN= '&quot; + empSSN + &quot;'&quot;;\n        \n        System.out.println(sqlStmt);\n        ResultSet rs = DBConn.getRS(sqlStmt);\n        model = (DefaultTableModel) jTable1.getModel();\n      initUI();\n      \n       \n        \n        \n        try {\n            while (rs.next()) {\n                String[] rowData = new String[9];\n                rowData[0] = rs.getString(&quot;productname&quot;);\n                rowData[1] = rs.getString(&quot;options&quot;);\n                rowData[2] = rs.getString(&quot;coveragelevel&quot;);\n                rowData[3] = rs.getString(&quot;aftertaxcost&quot;); //money check value\n                rowData[4] = rs.getString(&quot;CoverageDate&quot;);\n                rowData[5] = rs.getString(&quot;DeductionDate&quot;);\n                rowData[8] = rs.getString(&quot;prodidcode&quot;);\n                \n                model.addRow((Object[]) rowData);\n                //jTable1.repaint();\n              }\n           //instance table model\n//jTable1.revalidate();\n//jTable1.repaint();\n//jTable1.updateUI();\n          \n        } catch (SQLException ex) {\n            Logger.getLogger(Enrollment.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        // initUI();\n         \n    }\nprivate void initUI() {\n    \n    // Assuming jTable1 has already been initialized and populated\n        // Modify the table model to control editability\n       DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\n        \n        // Get column identifiers from existing model\n        Vector&lt;String&gt; columnIdentifiers = new Vector&lt;&gt;();\n        for (int i = 0; i &lt; model.getColumnCount(); i++) {\n            columnIdentifiers.add(model.getColumnName(i));\n        }\n\n        jTable1.setModel(new DefaultTableModel(model.getDataVector(), columnIdentifiers) {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                if (column == 8) return false;\n                return !(column == 7 &amp;&amp; getValueAt(row, 8).equals(&quot;DEN&quot;));\n            }\n        });\n\n        // Set custom renderer and editor for jTable1's checkbox column (column 7)\n        jTable1.getColumnModel().getColumn(7).setCellRenderer(new CheckboxRenderer());\n        jTable1.getColumnModel().getColumn(7).setCellEditor(new CheckboxEditor(new JCheckBox()));\n    // Explicitly set default renderers for all columns\n    for (int i = 0; i &lt; jTable1.getColumnCount(); i++) {\n        if (i != 7) {\n            jTable1.getColumnModel().getColumn(i).setCellRenderer(jTable1.getDefaultRenderer(jTable1.getColumnClass(i)));\n        }\n    }\n        // Assuming you have other components/layout code here\n        // ...\n        jTable1.revalidate();\n        jTable1.repaint();\n        pack();\n        //jTable1.updateUI();\n    }\n\n static class CheckboxRenderer extends JCheckBox implements TableCellRenderer {\n    @Override\n    public Component getTableCellRendererComponent(JTable table, Object value, \n                                                   boolean isSelected, boolean hasFocus, \n                                                   int row, int column) {\n        // Set colors based on selection state\n        if (isSelected) {\n            this.setBackground(table.getSelectionBackground());\n            this.setForeground(table.getSelectionForeground());\n        } else {\n            this.setBackground(table.getBackground());\n            this.setForeground(table.getForeground());\n        }\n\n        // Your existing logic to enable or disable the checkbox based on column 8's value\n        if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\n            this.setEnabled(false);\n        } else {\n            this.setEnabled(true);\n        }\n\n        // Set the checkbox's selected state based on the cell's value\n        this.setSelected((Boolean) value);\n\n        return this;\n    }\n}\n\n    \n    static class CheckboxEditor extends DefaultCellEditor {\n        public CheckboxEditor(JCheckBox checkBox) {\n            super(checkBox);\n        }\n\n        @Override\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n            JCheckBox checkbox = (JCheckBox) super.getTableCellEditorComponent(table, value, isSelected, row, column);\n            if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\n                checkbox.setEnabled(false);\n            } else {\n                checkbox.setEnabled(true);\n            }\n            checkbox.setSelected((Boolean) value);\n            return checkbox;\n        }\n    \n\n\n    \n    \n    \n}\n\n</code></pre>\n<p>I wanted this to display the populated jTable with column 7 enabled/disabled based on the string value in column 8. I used the GUI Builder in Netbeans to construct the jTable1 table initially.</p>\n"},{"tags":["java","validation","number-formatting"],"comments":[{"owner":{"display_name":"user497849"},"score":0,"creation_date":1323266131,"post_id":8416354,"comment_id":10396288,"body_markdown":"how about converting it to a string and then loop over the string and allow only characters &quot;0&quot;..&quot;9&quot;? or just go for getIntegerInstance();","body":"how about converting it to a string and then loop over the string and allow only characters &quot;0&quot;..&quot;9&quot;? or just go for getIntegerInstance();"},{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":0,"creation_date":1323266458,"post_id":8416354,"comment_id":10396396,"body_markdown":"@DorinDuminica: `getIntegerInstance()` gives the same result.","body":"@DorinDuminica: <code>getIntegerInstance()</code> gives the same result."},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":1,"creation_date":1323267014,"post_id":8416354,"comment_id":10396598,"body_markdown":"why not use `Integer.parseInt(String)`","body":"why not use <code>Integer.parseInt(String)</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1530701393,"post_id":8416354,"comment_id":89326314,"body_markdown":"This question is unclear.  You do not state precisely what formats should be allowed ... or whether you want to accept &quot;locale sensitive&quot; integer formats.","body":"This question is unclear.  You do not state precisely what formats should be allowed ... or whether you want to accept &quot;locale sensitive&quot; integer formats."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323266035,"creation_date":1323266035,"answer_id":8416415,"question_id":8416354,"body_markdown":"There are many ways to do that:\r\n\r\n- regex - check if it `matches(&quot;\\\\d+&quot;)`\r\n- with `javax.validation` - [`@Digits(fraction=0, integer=5)`][1]\r\n- apache commons `IntegerValidator`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/validation/constraints/Digits.html","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>There are many ways to do that:</p>\n\n<ul>\n<li>regex - check if it <code>matches(\"\\\\d+\")</code></li>\n<li>with <code>javax.validation</code> - <a href=\"http://docs.oracle.com/javaee/6/api/javax/validation/constraints/Digits.html\" rel=\"nofollow\"><code>@Digits(fraction=0, integer=5)</code></a></li>\n<li>apache commons <code>IntegerValidator</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1323266073,"creation_date":1323266073,"answer_id":8416423,"question_id":8416354,"body_markdown":"Use DecimalFormat with a format pattern string.","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>Use DecimalFormat with a format pattern string.</p>\n"},{"tags":[],"owner":{"account_id":925893,"reputation":917,"user_id":956691,"display_name":"Thomas Johan Eggum"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1323266131,"creation_date":1323266131,"answer_id":8416436,"question_id":8416354,"body_markdown":"Take a look at DecimalFormat that is a subclass of NumberFormat http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html \r\n\r\n  DecimalFormat myFormatter = new DecimalFormat(&quot;###.###&quot;);","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>Take a look at DecimalFormat that is a subclass of NumberFormat <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html</a> </p>\n\n<p>DecimalFormat myFormatter = new DecimalFormat(\"###.###\");</p>\n"},{"tags":[],"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323266198,"creation_date":1323266198,"answer_id":8416455,"question_id":8416354,"body_markdown":"`Integer.parseInt(String)` will throw a NumberFormatException on all of your examples.  I&#39;m not sure if that&#39;s what you&#39;re looking for, but it&#39;s definitely &quot;more strict.&quot;","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p><code>Integer.parseInt(String)</code> will throw a NumberFormatException on all of your examples.  I'm not sure if that's what you're looking for, but it's definitely \"more strict.\"</p>\n"},{"tags":[],"owner":{"account_id":267204,"reputation":466,"user_id":555228,"display_name":"napu"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1693408211,"creation_date":1329417458,"answer_id":9317073,"question_id":8416354,"body_markdown":"Maybe this helps:\r\n\r\n&gt; The NumberFormat classes that come with the JDK don&#39;t allow for strict number parsing. This has been filed as an enhancement here: https://bugs.java.com/bugdatabase/view_bug?bug_id=6431200 where a workaround is listed.\r\n&gt;\r\n&gt; &gt;   &quot;Use a ParsePosition to get the index after parsing. If ParsePostion.getIndex() != string.length(), then parse() didn&#39;t consume the entire string.&quot; \r\n&gt;\r\n&gt; Actually, you can also add a check to make sure the error index is -1. Values other than -1 mean that there was an error. Trimming the value before parsing is also a good idea. The end product might look something like this:\r\n\r\n\r\n\r\n    String value = &quot;number_to_be_parsed&quot;.trim();\r\n    NumberFormat formatter = NumberFormat.getNumberInstance();\r\n    ParsePosition pos = new ParsePosition(0);\r\n    Number parsed = formatter.parse(value, pos);\r\n    if (pos.getIndex() != value.length() || pos.getErrorIndex() != -1) {\r\n        throw new RuntimeException(&quot;my error description&quot;);\r\n    }\r\n\r\n(Thanks to [Strict number parsing at mynetgear.net][1])\r\n\r\n\r\n  [1]: https://web.archive.org/web/20081005102148/http://shrubbery.mynetgear.net/wiki/Strict_number_parsing","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>Maybe this helps:</p>\n<blockquote>\n<p>The NumberFormat classes that come with the JDK don't allow for strict number parsing. This has been filed as an enhancement here: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6431200\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6431200</a> where a workaround is listed.</p>\n<blockquote>\n<p>&quot;Use a ParsePosition to get the index after parsing. If ParsePostion.getIndex() != string.length(), then parse() didn't consume the entire string.&quot;</p>\n</blockquote>\n<p>Actually, you can also add a check to make sure the error index is -1. Values other than -1 mean that there was an error. Trimming the value before parsing is also a good idea. The end product might look something like this:</p>\n</blockquote>\n<pre><code>String value = &quot;number_to_be_parsed&quot;.trim();\nNumberFormat formatter = NumberFormat.getNumberInstance();\nParsePosition pos = new ParsePosition(0);\nNumber parsed = formatter.parse(value, pos);\nif (pos.getIndex() != value.length() || pos.getErrorIndex() != -1) {\n    throw new RuntimeException(&quot;my error description&quot;);\n}\n</code></pre>\n<p>(Thanks to <a href=\"https://web.archive.org/web/20081005102148/http://shrubbery.mynetgear.net/wiki/Strict_number_parsing\" rel=\"nofollow noreferrer\">Strict number parsing at mynetgear.net</a>)</p>\n"},{"tags":[],"owner":{"account_id":6933964,"reputation":1,"user_id":5322576,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441910413,"creation_date":1441910413,"answer_id":32509397,"question_id":8416354,"body_markdown":"I wouldn&#39;t use java&#39;s number format routine, especially with the locale settings if you worry about validation.\r\n\r\n        Locale numberLocale = new Locale(“es”,”ES&quot;);\r\n        NumberFormat nf = NumberFormat.getInstance(numberLocale);\r\n        ParsePosition pos = new ParsePosition(0);\r\n        Number test = nf.parse(&quot;0.2&quot;, pos);\r\n\r\nYou would expect there to be an issue here, but no..  test is equal to 2 and pos has an index of 3 and error index of -1.","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>I wouldn't use java's number format routine, especially with the locale settings if you worry about validation.</p>\n\n<pre><code>    Locale numberLocale = new Locale(“es”,”ES\");\n    NumberFormat nf = NumberFormat.getInstance(numberLocale);\n    ParsePosition pos = new ParsePosition(0);\n    Number test = nf.parse(\"0.2\", pos);\n</code></pre>\n\n<p>You would expect there to be an issue here, but no..  test is equal to 2 and pos has an index of 3 and error index of -1.</p>\n"},{"tags":[],"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460893349,"creation_date":1460893349,"answer_id":36676030,"question_id":8416354,"body_markdown":"I gave up on writing my own validation class, and went with [**NEBULA WIDGETS** *FormattedText*][1]\r\n\r\nIt was written over the SWT widget API, but you can easily adapt the [NumberFormatter class][2]\r\n\r\n\r\n  [1]: https://eclipse.org/nebula/widgets/formattedtext/formattedtext.php\r\n  [2]: https://github.com/eclipse/nebula/blob/master/widgets/formattedtext/org.eclipse.nebula.widgets.formattedtext/src/org/eclipse/nebula/widgets/formattedtext/NumberFormatter.java","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>I gave up on writing my own validation class, and went with <a href=\"https://eclipse.org/nebula/widgets/formattedtext/formattedtext.php\" rel=\"nofollow\"><strong>NEBULA WIDGETS</strong> <em>FormattedText</em></a></p>\n\n<p>It was written over the SWT widget API, but you can easily adapt the <a href=\"https://github.com/eclipse/nebula/blob/master/widgets/formattedtext/org.eclipse.nebula.widgets.formattedtext/src/org/eclipse/nebula/widgets/formattedtext/NumberFormatter.java\" rel=\"nofollow\">NumberFormatter class</a></p>\n"}],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4876,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":9317073,"answer_count":7,"score":12,"last_activity_date":1693408211,"creation_date":1323265767,"question_id":8416354,"body_markdown":"I&#39;m validating user input from a form.\r\n\r\nI parse the input with [`NumberFormat`][1], but it is evil and allow almost anything. Is there any way to parse number more strict?\r\n\r\nE.g. I would like to not allow these three inputs, for an integer, but `Numberformat` allow all of them:\r\n\r\n\tNumberFormat nf = NumberFormat.getNumberInstance();\r\n\tnf.setParseIntegerOnly(true);\r\n\r\n\tNumber numberA = nf.parse(&quot;99.731&quot;);\t// 99 (not what the user expect)\r\n\tNumber numberB = nf.parse(&quot;99s.231&quot;);\t// 99 (invalid)\r\n\tNumber numberC = nf.parse(&quot;9g9&quot;);\t\t// 9  (invalid)\r\n\r\n\tSystem.out.println(numberA.toString());\r\n\tSystem.out.println(numberB.toString());\r\n\tSystem.out.println(numberC.toString());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>I'm validating user input from a form.</p>\n\n<p>I parse the input with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html\" rel=\"noreferrer\"><code>NumberFormat</code></a>, but it is evil and allow almost anything. Is there any way to parse number more strict?</p>\n\n<p>E.g. I would like to not allow these three inputs, for an integer, but <code>Numberformat</code> allow all of them:</p>\n\n<pre><code>NumberFormat nf = NumberFormat.getNumberInstance();\nnf.setParseIntegerOnly(true);\n\nNumber numberA = nf.parse(\"99.731\");    // 99 (not what the user expect)\nNumber numberB = nf.parse(\"99s.231\");   // 99 (invalid)\nNumber numberC = nf.parse(\"9g9\");       // 9  (invalid)\n\nSystem.out.println(numberA.toString());\nSystem.out.println(numberB.toString());\nSystem.out.println(numberC.toString());\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"display_name":"user22470287"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693408019,"creation_date":1693408019,"answer_id":77009271,"question_id":77006898,"body_markdown":"The problem is not related to reordering slides at all but to the content of the `XMLSlideShow`. A small scale test revealed that adding a `XSLFTextRun` into the document without setting the content in the newly returned instance reproduced the error message reliably. \r\n\r\nA random discovery of https://stackoverflow.com/a/41859313/22470287 led to the solution of the problem, which is not only restricted to `XSLFTable` :\r\n\r\n    XMLSlideShow presentation = new XMLSlideShow(stream);\r\n    XSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\r\n    XSLFTextParagraph paragraph = textbox.addNewTextParagraph();\r\n    XSLFTextRun textrun = paragraph.addNewTextRun();\r\n    textrun.setText(&quot;foo&quot;);\r\n\r\nworks perfectly, whereas\r\n\r\n    XMLSlideShow presentation = new XMLSlideShow(stream);\r\n    XSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\r\n    XSLFTextParagraph paragraph = textbox.addNewTextParagraph();\r\n    XSLFTextRun textrun = paragraph.addNewTextRun();\r\n    //textrun.setText(&quot;foo&quot;);\r\n\r\ndoes produce the error at opening of the file. \r\n","title":"Apache POI 5.0.0 produces a corrupted .pptx-slideshow","body":"<p>The problem is not related to reordering slides at all but to the content of the <code>XMLSlideShow</code>. A small scale test revealed that adding a <code>XSLFTextRun</code> into the document without setting the content in the newly returned instance reproduced the error message reliably.</p>\n<p>A random discovery of <a href=\"https://stackoverflow.com/a/41859313/22470287\">https://stackoverflow.com/a/41859313/22470287</a> led to the solution of the problem, which is not only restricted to <code>XSLFTable</code> :</p>\n<pre><code>XMLSlideShow presentation = new XMLSlideShow(stream);\nXSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\nXSLFTextParagraph paragraph = textbox.addNewTextParagraph();\nXSLFTextRun textrun = paragraph.addNewTextRun();\ntextrun.setText(&quot;foo&quot;);\n</code></pre>\n<p>works perfectly, whereas</p>\n<pre><code>XMLSlideShow presentation = new XMLSlideShow(stream);\nXSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\nXSLFTextParagraph paragraph = textbox.addNewTextParagraph();\nXSLFTextRun textrun = paragraph.addNewTextRun();\n//textrun.setText(&quot;foo&quot;);\n</code></pre>\n<p>does produce the error at opening of the file.</p>\n"}],"owner":{"display_name":"user22470287"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77009271,"answer_count":1,"score":0,"last_activity_date":1693408019,"creation_date":1693389289,"question_id":77006898,"body_markdown":"I am using Apaches POI library version 5.0.0 to create documentation directly into PowerPoint slideshows (.pptx) from within a Java 17 desktop application.\r\n\r\nI use a prepared slideshow in .pptx which include a title page, some slides with to-be-filled tables (as that POI version apparently has trouble creating those from source code) and a contact slide. This template (`XMLSlideShow presentation`) is dynamically filled with\r\n\r\n```\r\nXSLFSlide slide = presentation.createSlide(...);\r\n```\r\n\r\nbased on user input parameters, including generous usage of\r\n\r\n```\r\npresentation.setSlideOrder(slide, slidenumber);\r\n```\r\n\r\nto adjust their positioning according to my needs, mainly before or after said table-slides. Generally `slidenumber` is basically just the index of the last added slide plus 1, but for ordering before or after table-slides I put them between already existing slides. According to https://poi.apache.org/components/slideshow/xslf-cookbook.html (sub heading &quot;Re-order slides&quot;), this is - to my understanding - how it should be used (..?). To my understanding it shifts the other slides, similar to an `ArrayList` for example.\r\n\r\nWhen I open said slideshow with PowerPoint 2019 it gives me the &quot;file is corrupted&quot;-message and prompting me to allow it to repair it. This works and the slideshow apparently remains unchanged. Various free/open source slideshow viewers/editors open the file without problem.\r\n\r\n----------\r\n\r\nWhen inspecting the file closer (rename to zip, open to check on the directories and files), it became apparent that the actual content was exactly the same (to the byte) but in the slides directory the slide-xml-files were renamed. The visual order of the slides before/after repair in the file are the same, but the internal ordering apparently changed.\r\n\r\nTo check whether I messed something up in manually setting the slide order I simply tried checking\r\n\r\n```\r\n  for (XSLFSlide slide : presentation.getSlides()) {\r\n       System.out.println(slide.getSlideNumber());\r\n  }\r\n```\r\n\r\nat the end just before writing but there (probably as expected) the slide numbers are in ascending order.\r\n\r\nI also tried using POI 5.2.3 as it is almost 2.5 years newer and I thought it might be a bug, but with that version I couldn&#39;t even open my template-pptx.\r\n\r\nI am also using POI 5.0.0 to again create documention in a pptx with a template file, but in that workflow there&#39;s no manual setting of the slide order. This results in non-corrupted slideshow-files, which is why I am putting my focus currently on the slide ordering/numbering.\r\n\r\nDid someone have a similar problem and/or is there a way to validate the XMLSlideShow before writing?","title":"Apache POI 5.0.0 produces a corrupted .pptx-slideshow","body":"<p>I am using Apaches POI library version 5.0.0 to create documentation directly into PowerPoint slideshows (.pptx) from within a Java 17 desktop application.</p>\n<p>I use a prepared slideshow in .pptx which include a title page, some slides with to-be-filled tables (as that POI version apparently has trouble creating those from source code) and a contact slide. This template (<code>XMLSlideShow presentation</code>) is dynamically filled with</p>\n<pre><code>XSLFSlide slide = presentation.createSlide(...);\n</code></pre>\n<p>based on user input parameters, including generous usage of</p>\n<pre><code>presentation.setSlideOrder(slide, slidenumber);\n</code></pre>\n<p>to adjust their positioning according to my needs, mainly before or after said table-slides. Generally <code>slidenumber</code> is basically just the index of the last added slide plus 1, but for ordering before or after table-slides I put them between already existing slides. According to <a href=\"https://poi.apache.org/components/slideshow/xslf-cookbook.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/components/slideshow/xslf-cookbook.html</a> (sub heading &quot;Re-order slides&quot;), this is - to my understanding - how it should be used (..?). To my understanding it shifts the other slides, similar to an <code>ArrayList</code> for example.</p>\n<p>When I open said slideshow with PowerPoint 2019 it gives me the &quot;file is corrupted&quot;-message and prompting me to allow it to repair it. This works and the slideshow apparently remains unchanged. Various free/open source slideshow viewers/editors open the file without problem.</p>\n<hr />\n<p>When inspecting the file closer (rename to zip, open to check on the directories and files), it became apparent that the actual content was exactly the same (to the byte) but in the slides directory the slide-xml-files were renamed. The visual order of the slides before/after repair in the file are the same, but the internal ordering apparently changed.</p>\n<p>To check whether I messed something up in manually setting the slide order I simply tried checking</p>\n<pre><code>  for (XSLFSlide slide : presentation.getSlides()) {\n       System.out.println(slide.getSlideNumber());\n  }\n</code></pre>\n<p>at the end just before writing but there (probably as expected) the slide numbers are in ascending order.</p>\n<p>I also tried using POI 5.2.3 as it is almost 2.5 years newer and I thought it might be a bug, but with that version I couldn't even open my template-pptx.</p>\n<p>I am also using POI 5.0.0 to again create documention in a pptx with a template file, but in that workflow there's no manual setting of the slide order. This results in non-corrupted slideshow-files, which is why I am putting my focus currently on the slide ordering/numbering.</p>\n<p>Did someone have a similar problem and/or is there a way to validate the XMLSlideShow before writing?</p>\n"},{"tags":["java","tomcat","port","vps","ubuntu-20.04"],"owner":{"account_id":24239614,"reputation":1,"user_id":22468722,"display_name":"Ismael Rosas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693407833,"creation_date":1693407833,"question_id":77009257,"body_markdown":"First at all thanks for your time.\r\n\r\nI would like to solve some doubts that I have in relation to a vps under Ubuntu22.04.\r\n\r\nI already installed everything related to TOMCAT.\r\n\r\nmy duads are:\r\n\r\nonce the java API is served in tomcat, could I access it from any notebook and wifi network? I would not be achieving that\r\n\r\nIf in my external browser I write ip:8080 should I be able to access the tomcat of my vps?\r\n\r\nI looked everywhere but I still can&#39;t figure out how to access my vps tomcat from external.\r\n\r\nWhat configurations do you recommend my external computer is under the ubuntu operating system?\r\n\r\nI already tried to disable the ubuntu firewall.\r\n\r\nadd address=&quot;0.0.0.0&quot;\r\n\r\nI made changes to catalina e files","title":"questions about tomcat access vps from external wifi and machine","body":"<p>First at all thanks for your time.</p>\n<p>I would like to solve some doubts that I have in relation to a vps under Ubuntu22.04.</p>\n<p>I already installed everything related to TOMCAT.</p>\n<p>my duads are:</p>\n<p>once the java API is served in tomcat, could I access it from any notebook and wifi network? I would not be achieving that</p>\n<p>If in my external browser I write ip:8080 should I be able to access the tomcat of my vps?</p>\n<p>I looked everywhere but I still can't figure out how to access my vps tomcat from external.</p>\n<p>What configurations do you recommend my external computer is under the ubuntu operating system?</p>\n<p>I already tried to disable the ubuntu firewall.</p>\n<p>add address=&quot;0.0.0.0&quot;</p>\n<p>I made changes to catalina e files</p>\n"},{"tags":["java","maven","testing","testng","pom.xml"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1693642027,"post_id":77009238,"comment_id":135790015,"body_markdown":"Can you please edit your question and add a sample project that can be used to reproduce the problem? That would be easy to figure out what is going wrong.","body":"Can you please edit your question and add a sample project that can be used to reproduce the problem? That would be easy to figure out what is going wrong."}],"owner":{"account_id":5974242,"reputation":34,"user_id":5763811,"display_name":"WorstCoderInEU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693407769,"creation_date":1693407769,"question_id":77009238,"body_markdown":"Currently trying to run a set of tests defined under a group/suite\r\n\r\nCurrently using mvn to run my tests so added the following\r\npom.xml\r\n```\r\n&lt;plugin&gt;\r\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFile&gt;C:\\path_to_suite_file_here\\testing_api_suite.xml&lt;/suiteXmlFile&gt;\r\n\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nand \r\ntesting_api_suite/xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE suite STSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot;&gt;\r\n    &lt;test name=&quot;Test&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;uk.api.DataServiceTest&quot;/&gt;\r\n            &lt;class name=&quot;uk.api.ItemServiceTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nDataServiceTest as one example file\r\n```\r\n@Test(groups = &quot;api&quot;)\r\npublic class DataServiceTest extends TestCase {\r\n\tprivate DataServiceImpl dataService;\r\n\tprivate DataDao mockDataDao;\r\n```\r\n\r\nHowever, when I run mvn test -Dgroups=api or mvn test it seems to not run anything? \r\nAny ideas? Can provide more detail on anything just let me know\r\nThanks in advance\r\n\r\n","title":"Using TestNg to run a &quot;Suite&quot; of tests in Maven, Java?","body":"<p>Currently trying to run a set of tests defined under a group/suite</p>\n<p>Currently using mvn to run my tests so added the following\npom.xml</p>\n<pre><code>&lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;C:\\path_to_suite_file_here\\testing_api_suite.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and\ntesting_api_suite/xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE suite STSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot;&gt;\n    &lt;test name=&quot;Test&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;uk.api.DataServiceTest&quot;/&gt;\n            &lt;class name=&quot;uk.api.ItemServiceTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>DataServiceTest as one example file</p>\n<pre><code>@Test(groups = &quot;api&quot;)\npublic class DataServiceTest extends TestCase {\n    private DataServiceImpl dataService;\n    private DataDao mockDataDao;\n</code></pre>\n<p>However, when I run mvn test -Dgroups=api or mvn test it seems to not run anything?\nAny ideas? Can provide more detail on anything just let me know\nThanks in advance</p>\n"},{"tags":["java","maven","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1581450356,"post_id":60176088,"comment_id":106435697,"body_markdown":"I don&#39;t know how it works, but I would speculate that the Kotlin compiler is mostly there to facilitate the building of the project and assembling the project. Since there isn&#39;t actually any Kotlin in your project, it likely just hands the task over to the project JDK. I don&#39;t think you need to worry about performance in this case. If you think the project might have been miss-classified as a Kotlin project, this link might help you: https://stackoverflow.com/questions/53497454/intellij-idea-ultimate-2018-3-thinks-my-java-9-project-is-a-kotlin-project","body":"I don&#39;t know how it works, but I would speculate that the Kotlin compiler is mostly there to facilitate the building of the project and assembling the project. Since there isn&#39;t actually any Kotlin in your project, it likely just hands the task over to the project JDK. I don&#39;t think you need to worry about performance in this case. If you think the project might have been miss-classified as a Kotlin project, this link might help you: <a href=\"https://stackoverflow.com/questions/53497454/intellij-idea-ultimate-2018-3-thinks-my-java-9-project-is-a-kotlin-project\" title=\"intellij idea ultimate 2018 3 thinks my java 9 project is a kotlin project\">stackoverflow.com/questions/53497454/&hellip;</a>"},{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":1,"creation_date":1581674988,"post_id":60176088,"comment_id":106523976,"body_markdown":"This is a problem with IDEA builder. I created an issue https://youtrack.jetbrains.com/issue/KT-36705. A workaround is to disable the Kotlin IDEA plugin.","body":"This is a problem with IDEA builder. I created an issue <a href=\"https://youtrack.jetbrains.com/issue/KT-36705\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-36705</a>. A workaround is to disable the Kotlin IDEA plugin."},{"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"score":0,"creation_date":1599207288,"post_id":60176088,"comment_id":112708306,"body_markdown":"Can someone make @AlexeyBelkov post an answer please?","body":"Can someone make @AlexeyBelkov post an answer please?"},{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":0,"creation_date":1599225375,"post_id":60176088,"comment_id":112716558,"body_markdown":"@HansWurst By the way, I forgot to ask you. Does it help to enable &quot;File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | Delegate IDE build/run actions to Maven&quot;? This should circumvent the built-in IDEA builder, so Kotlin compiler may not be activated. If this doesn&#39;t help, I have no other ideas.","body":"@HansWurst By the way, I forgot to ask you. Does it help to enable &quot;File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | Delegate IDE build/run actions to Maven&quot;? This should circumvent the built-in IDEA builder, so Kotlin compiler may not be activated. If this doesn&#39;t help, I have no other ideas."},{"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"score":1,"creation_date":1599815354,"post_id":60176088,"comment_id":112897212,"body_markdown":"That might help but leads to other problems. On top of my head I remember not being able to execute single test methods then by right clicking on them.","body":"That might help but leads to other problems. On top of my head I remember not being able to execute single test methods then by right clicking on them."}],"answers":[{"tags":[],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1581450162,"creation_date":1581450162,"answer_id":60176264,"question_id":60176088,"body_markdown":"Intellij provides 2 different settings. Project wise setting and global settings.\r\n\r\nYou can see the project specific settings by &quot;right click the project&quot; and select &quot;Open Module Settings&quot; as Below - \r\n\r\n[![Module Settings][1]][1]\r\n\r\nThis will open `Project Settings` window. You can select kotlin and remove there in the below screen.\r\n\r\n[![Project Settings][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0uYa9.png\r\n  [2]: https://i.stack.imgur.com/eZxco.png","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>Intellij provides 2 different settings. Project wise setting and global settings.</p>\n\n<p>You can see the project specific settings by \"right click the project\" and select \"Open Module Settings\" as Below - </p>\n\n<p><a href=\"https://i.stack.imgur.com/0uYa9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0uYa9.png\" alt=\"Module Settings\"></a></p>\n\n<p>This will open <code>Project Settings</code> window. You can select kotlin and remove there in the below screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eZxco.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eZxco.png\" alt=\"Project Settings\"></a></p>\n"},{"tags":[],"owner":{"account_id":11085589,"reputation":632,"user_id":8139410,"display_name":"Pemassi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581455223,"creation_date":1581455223,"answer_id":60177380,"question_id":60176088,"body_markdown":"If you are using `Maven` for build manager, you might be using `Koltin` plugin to build the project.\r\n\r\nThe plugin name is `org.jetbrains.kotlin:kotlin-maven-plugin`.\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;compilerPlugins&gt;\r\n            &lt;plugin&gt;jpa&lt;/plugin&gt;\r\n          &lt;/compilerPlugins&gt;\r\n          &lt;args&gt;\r\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n          &lt;/args&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nYou just need to delete it!","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>If you are using <code>Maven</code> for build manager, you might be using <code>Koltin</code> plugin to build the project.</p>\n\n<p>The plugin name is <code>org.jetbrains.kotlin:kotlin-maven-plugin</code>.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;compilerPlugins&gt;\n            &lt;plugin&gt;jpa&lt;/plugin&gt;\n          &lt;/compilerPlugins&gt;\n          &lt;args&gt;\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n          &lt;/args&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>You just need to delete it!</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604842399,"creation_date":1604842399,"answer_id":64738654,"question_id":60176088,"body_markdown":"I tried to disable the plugin of Kotlin, and restart IDEA, and it is solved, even I continue using Gradle. Community 2019.3.\r\n","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>I tried to disable the plugin of Kotlin, and restart IDEA, and it is solved, even I continue using Gradle. Community 2019.3.</p>\n"}],"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13372,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1693407625,"creation_date":1581449388,"question_id":60176088,"body_markdown":"I have a Java only multi module Maven project in IntelliJ IDEA and I can see IDEA calling a Kotlin compiler whenever I rebuild a module or choose to run all tests. This is shown in the background processes bar. It sometimes shows `Kotlin: connecting to daemon` as well which seems to take quite some time.\r\nIs there a way to tell IDEA to ignore Kotlin completely for a certain project? I guess the build times could speed up a little bit that way. I know I can disable the Kotlin plugin but that&#39;s not what I want as it would be disabled for all projects.","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>I have a Java only multi module Maven project in IntelliJ IDEA and I can see IDEA calling a Kotlin compiler whenever I rebuild a module or choose to run all tests. This is shown in the background processes bar. It sometimes shows <code>Kotlin: connecting to daemon</code> as well which seems to take quite some time.\nIs there a way to tell IDEA to ignore Kotlin completely for a certain project? I guess the build times could speed up a little bit that way. I know I can disable the Kotlin plugin but that's not what I want as it would be disabled for all projects.</p>\n"},{"tags":["java","refactoring","checkstyle","code-cleanup","maven-checkstyle-plugin"],"answers":[{"tags":[],"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693407307,"creation_date":1693407307,"answer_id":77009171,"question_id":76916433,"body_markdown":"There is no such check at this time (8/2023). A request was made at https://github.com/checkstyle/checkstyle/issues/12596 which is still looking for approval and implementation.","title":"Checkstyle for unused member variables?","body":"<p>There is no such check at this time (8/2023). A request was made at <a href=\"https://github.com/checkstyle/checkstyle/issues/12596\" rel=\"nofollow noreferrer\">https://github.com/checkstyle/checkstyle/issues/12596</a> which is still looking for approval and implementation.</p>\n"}],"owner":{"account_id":15335231,"reputation":3,"user_id":11063796,"display_name":"Nidhi Kri 4-Yr BTech Metallurg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77009171,"answer_count":1,"score":0,"last_activity_date":1693407307,"creation_date":1692213045,"question_id":76916433,"body_markdown":"Need the checkstyle configuration for unused member variables.\r\n\r\nThere exists a checkstyle like below, but&#39;s just for local variables.\r\n\r\n```&lt;module name=&quot;UnusedParameterCheck&quot;/&gt;```\r\n\r\n( Needed a similar check for member variables ) e.g.\r\n```\r\nclass MyService {\r\n    private String foo;\r\n    private String unusedBar; // violation, should fail    \r\n    public String getFoo() {         \r\n        return foo;     \r\n    } \r\n}\r\n```\r\nI am using the latest version of checkstyle\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;checkstyle&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\r\n\t\t\t\t&lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n\t\t\t\t&lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n\t\t\t\t&lt;sourceDirectories&gt;\r\n\t\t\t\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t\t\t&lt;/sourceDirectories&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWas not able to get a proper solution online!\r\n\r\nPlease help!\r\n\r\nTried searching online but did not find the solution!","title":"Checkstyle for unused member variables?","body":"<p>Need the checkstyle configuration for unused member variables.</p>\n<p>There exists a checkstyle like below, but's just for local variables.</p>\n<p><code>&lt;module name=&quot;UnusedParameterCheck&quot;/&gt;</code></p>\n<p>( Needed a similar check for member variables ) e.g.</p>\n<pre><code>class MyService {\n    private String foo;\n    private String unusedBar; // violation, should fail    \n    public String getFoo() {         \n        return foo;     \n    } \n}\n</code></pre>\n<p>I am using the latest version of checkstyle</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;checkstyle&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\n                &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                &lt;sourceDirectories&gt;\n                    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n                &lt;/sourceDirectories&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Was not able to get a proper solution online!</p>\n<p>Please help!</p>\n<p>Tried searching online but did not find the solution!</p>\n"},{"tags":["java","docker","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":13264832,"reputation":21,"user_id":13088443,"display_name":"Jan Kliszcz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693407118,"creation_date":1693407118,"answer_id":77009142,"question_id":76952961,"body_markdown":"Error messages suggest that there may have been some problems when launching the browser itself.\r\n\r\nAccording to [Puppeteer troubleshooting for Chromium][1] you need to make sure that you&#39;ve installed all the dependencies for Chromium engine.\r\n\r\nThis was the case for my image for running ASP.NET apps. **After adding a step in Dockerfile for installing all necessary dependencies from the list**, I could launch Chrome for Testing using Selenium with no issues\r\n\r\n  [1]: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md#chrome-doesnt-launch-on-linux","title":"Chrome for Testing Unable to Start in Docker Container","body":"<p>Error messages suggest that there may have been some problems when launching the browser itself.</p>\n<p>According to <a href=\"https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md#chrome-doesnt-launch-on-linux\" rel=\"nofollow noreferrer\">Puppeteer troubleshooting for Chromium</a> you need to make sure that you've installed all the dependencies for Chromium engine.</p>\n<p>This was the case for my image for running ASP.NET apps. <strong>After adding a step in Dockerfile for installing all necessary dependencies from the list</strong>, I could launch Chrome for Testing using Selenium with no issues</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693407118,"creation_date":1692704606,"question_id":76952961,"body_markdown":"I have the following Docker file that I am trying to get working with Chrome and ChromeDriver.\r\n\r\n```\r\nRUN microdnf install -y unzip\r\nARG CHROME_VERSION=116.0.5845.96\r\nRUN curl -s -o  /tmp/chrome-linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_VERSION/linux64/chrome-linux64.zip \\\r\n    &amp;&amp; unzip /tmp/chrome-linux64.zip -d /opt \\\r\n    &amp;&amp; ln -s /opt/chrome-linux64/chrome /usr/local/bin/chrome \\\r\n    &amp;&amp; rm /tmp/chrome-linux64.zip\r\n\r\n## ChromeDriver\r\n\r\nARG CHROME_DRIVER_VERSION=116.0.5845.96\r\nRUN curl -s -o /tmp/chromedriver_linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_DRIVER_VERSION/linux64/chromedriver-linux64.zip \\\r\n\t&amp;&amp; unzip /tmp/chromedriver_linux64.zip -d /opt/selenium \\\r\n\t&amp;&amp; rm /tmp/chromedriver_linux64.zip \\\r\n\t&amp;&amp; mv /opt/selenium/chromedriver-linux64/chromedriver /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION  \\\r\n\t&amp;&amp; chmod 755 /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION \\\r\n\t&amp;&amp; ln -s /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION /usr/bin/chromedriver\r\n\r\nENV CHROMEDRIVER_PORT 4444\r\nENV CHROMEDRIVER_WHITELISTED_IPS &quot;127.0.0.1&quot;\r\nENV CHROMEDRIVER_URL_BASE &#39;&#39;\r\nEXPOSE 4444\r\n\r\nEXPOSE 8080\r\nEXPOSE 5005\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\n# For Testing\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nMy java code is:\r\n```\r\nChromeDriverService service = new ChromeDriverService.Builder()\r\n                .withVerbose(false)\r\n                .withSilent(true)\r\n                .build();\r\n        try {\r\n            java.util.logging.Logger.getLogger(&quot;org.openqa.selenium&quot;).setLevel(Level.WARNING);\r\n//            service.sendOutputTo(new FileOutputStream(&quot;/dev/null&quot;));\r\n            service.sendOutputTo(OutputStream.nullOutputStream());\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Unable to suppress output&quot;);\r\n        }\r\n        return new ChromeDriver(service, getChromeOptions(useFastStrategy));\r\n\r\nprivate ChromeOptions getChromeOptions(boolean useFastStrategy) {\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n\r\n\r\n        chromeOptions.addArguments(String.format(&quot;user-agent=%s&quot;, USER_AGENT));\r\n        chromeOptions.addArguments(&quot;--log-level=OFF&quot;);\r\n        chromeOptions.addArguments(&quot;--headless=new&quot;);\r\n        List&lt;String&gt; arguments = new LinkedList&lt;&gt;();\r\n        arguments.add(&quot;--disable-extensions&quot;);\r\n        // disable-infobars no longer works, see the following link for a potential answer:\r\n        // https://stackoverflow.com/questions/57298901/unable-to-hide-chrome-is-being-controlled-by-automated-software-infobar-within\r\n        // also see\r\n        // https://qaautomation.expert/2022/04/01/how-to-disable-infobar-warning-for-chrome-tests-in-selenium/ . Perhaps\r\n        // comment out &#39;arguments.add(&quot;disable-infobars&quot;);&#39; in the future or try\r\n        // chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Arrays.asList(&quot;enable-automation&quot;)); // &lt;- maybe try this\r\n        // instead of &#39;arguments.add(&quot;disable-infobars&quot;);&#39;\r\n        arguments.add(&quot;disable-infobars&quot;); // try enabling this to try and save some cpu\r\n        arguments.add(&quot;--headless&quot;);\r\n        arguments.add(&quot;--disable-gpu&quot;);\r\n        arguments.add(&quot;--no-sandbox&quot;);\r\n        arguments.add(&quot;--incognito&quot;);\r\n        arguments.add(&quot;--disable-application-cache&quot;);\r\n        arguments.add(&quot;--disable-dev-shm-usage&quot;);\r\n\r\n        chromeOptions.addArguments(arguments);\r\n        return chromeOptions;\r\n    }\r\n\r\n```\r\n\r\nBut I am getting an error:\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;22e9e505804a&#39;, ip: &#39;172.17.0.2&#39;\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:232)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:83)\r\n...\r\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;17.0.2&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n...\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;22e9e505804a&#39;, ip: &#39;172.17.0.2&#39;\r\n...\r\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;17.0.2&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n\t... 112 common frames omitted\r\n\r\n```\r\n\r\nDoes anyone know how to get this working for a &#39;Chrome for Testing&#39; with a docker container? Do I have to set some flags, or is my approach incorrect?","title":"Chrome for Testing Unable to Start in Docker Container","body":"<p>I have the following Docker file that I am trying to get working with Chrome and ChromeDriver.</p>\n<pre><code>RUN microdnf install -y unzip\nARG CHROME_VERSION=116.0.5845.96\nRUN curl -s -o  /tmp/chrome-linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_VERSION/linux64/chrome-linux64.zip \\\n    &amp;&amp; unzip /tmp/chrome-linux64.zip -d /opt \\\n    &amp;&amp; ln -s /opt/chrome-linux64/chrome /usr/local/bin/chrome \\\n    &amp;&amp; rm /tmp/chrome-linux64.zip\n\n## ChromeDriver\n\nARG CHROME_DRIVER_VERSION=116.0.5845.96\nRUN curl -s -o /tmp/chromedriver_linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_DRIVER_VERSION/linux64/chromedriver-linux64.zip \\\n    &amp;&amp; unzip /tmp/chromedriver_linux64.zip -d /opt/selenium \\\n    &amp;&amp; rm /tmp/chromedriver_linux64.zip \\\n    &amp;&amp; mv /opt/selenium/chromedriver-linux64/chromedriver /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION  \\\n    &amp;&amp; chmod 755 /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION \\\n    &amp;&amp; ln -s /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION /usr/bin/chromedriver\n\nENV CHROMEDRIVER_PORT 4444\nENV CHROMEDRIVER_WHITELISTED_IPS &quot;127.0.0.1&quot;\nENV CHROMEDRIVER_URL_BASE ''\nEXPOSE 4444\n\nEXPOSE 8080\nEXPOSE 5005\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\n# For Testing\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>My java code is:</p>\n<pre><code>ChromeDriverService service = new ChromeDriverService.Builder()\n                .withVerbose(false)\n                .withSilent(true)\n                .build();\n        try {\n            java.util.logging.Logger.getLogger(&quot;org.openqa.selenium&quot;).setLevel(Level.WARNING);\n//            service.sendOutputTo(new FileOutputStream(&quot;/dev/null&quot;));\n            service.sendOutputTo(OutputStream.nullOutputStream());\n        } catch (Exception e) {\n            LOGGER.error(&quot;Unable to suppress output&quot;);\n        }\n        return new ChromeDriver(service, getChromeOptions(useFastStrategy));\n\nprivate ChromeOptions getChromeOptions(boolean useFastStrategy) {\n        ChromeOptions chromeOptions = new ChromeOptions();\n\n\n        chromeOptions.addArguments(String.format(&quot;user-agent=%s&quot;, USER_AGENT));\n        chromeOptions.addArguments(&quot;--log-level=OFF&quot;);\n        chromeOptions.addArguments(&quot;--headless=new&quot;);\n        List&lt;String&gt; arguments = new LinkedList&lt;&gt;();\n        arguments.add(&quot;--disable-extensions&quot;);\n        // disable-infobars no longer works, see the following link for a potential answer:\n        // https://stackoverflow.com/questions/57298901/unable-to-hide-chrome-is-being-controlled-by-automated-software-infobar-within\n        // also see\n        // https://qaautomation.expert/2022/04/01/how-to-disable-infobar-warning-for-chrome-tests-in-selenium/ . Perhaps\n        // comment out 'arguments.add(&quot;disable-infobars&quot;);' in the future or try\n        // chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Arrays.asList(&quot;enable-automation&quot;)); // &lt;- maybe try this\n        // instead of 'arguments.add(&quot;disable-infobars&quot;);'\n        arguments.add(&quot;disable-infobars&quot;); // try enabling this to try and save some cpu\n        arguments.add(&quot;--headless&quot;);\n        arguments.add(&quot;--disable-gpu&quot;);\n        arguments.add(&quot;--no-sandbox&quot;);\n        arguments.add(&quot;--incognito&quot;);\n        arguments.add(&quot;--disable-application-cache&quot;);\n        arguments.add(&quot;--disable-dev-shm-usage&quot;);\n\n        chromeOptions.addArguments(arguments);\n        return chromeOptions;\n    }\n\n</code></pre>\n<p>But I am getting an error:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: '22e9e505804a', ip: '172.17.0.2'\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:232)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:83)\n...\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '17.0.2'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n...\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: '22e9e505804a', ip: '172.17.0.2'\n...\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '17.0.2'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    ... 112 common frames omitted\n\n</code></pre>\n<p>Does anyone know how to get this working for a 'Chrome for Testing' with a docker container? Do I have to set some flags, or is my approach incorrect?</p>\n"},{"tags":["java","ssh","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1693406810,"creation_date":1320227760,"answer_id":7978443,"question_id":7977844,"body_markdown":"There are overloads of the `get`/`put` methods in the [`com.jcraft.jsch.ChannelSftp`][1] that you use to pass in a callback. Look at the \r\n\r\n    void get(java.lang.String src, java.lang.String dst, SftpProgressMonitor monitor) \r\n\r\n method and [`com.jcraft.jsch.SftpProgressMonitor`][2] interface. At the bottom of this [Example Code][3] (it&#39;s kind of messy), you&#39;ll find an implementation of `SftpProgressMonitor` that uses its callback methods `count(long)` and `end()` to manipulate a [`javax.swing.ProgressMonitor`][4].\r\n\r\n`count(long)` gets called periodically when there&#39;s some bytes that have been transferred, and `end()` gets called when the transfer has ended. So a really simple implementation of `SftpProgressMonitor` could be:\r\n\r\n    public class SystemOutProgressMonitor implements SftpProgressMonitor\r\n    {\r\n        public SystemOutProgressMonitor() {;}\r\n\r\n        public void init(int op, java.lang.String src, java.lang.String dest, long max) \r\n        {\r\n            System.out.println(&quot;STARTING: &quot; + op + &quot; &quot; + src + &quot; -&gt; &quot; + dest + &quot; total: &quot; + max);\r\n        }\r\n\r\n        public boolean count(long bytes)\r\n        {\r\n            for(int x=0; x &lt; bytes; x++) {\r\n                System.out.print(&quot;#&quot;);\r\n            }\r\n            return(true);\r\n        }\r\n\r\n        public void end()\r\n        {\r\n            System.out.println(&quot;\\nFINISHED!&quot;);\r\n        }\r\n    }\r\n\r\nI&#39;d then create an instance of that and pass it to `get()`\r\n\r\n    sftpChannel.get(sourcePath, destPath, new SystemOutProgressMonitor());\r\n\r\n\r\n  [1]: https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html\r\n  [2]: https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/SftpProgressMonitor.html\r\n  [3]: http://www.jcraft.com/jsch/examples/Sftp.java\r\n  [4]: http://download.oracle.com/javase/6/docs/api/javax/swing/ProgressMonitor.html","title":"JSch SFTP upload/download progress","body":"<p>There are overloads of the <code>get</code>/<code>put</code> methods in the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html\" rel=\"nofollow noreferrer\"><code>com.jcraft.jsch.ChannelSftp</code></a> that you use to pass in a callback. Look at the</p>\n<pre><code>void get(java.lang.String src, java.lang.String dst, SftpProgressMonitor monitor) \n</code></pre>\n<p>method and <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/SftpProgressMonitor.html\" rel=\"nofollow noreferrer\"><code>com.jcraft.jsch.SftpProgressMonitor</code></a> interface. At the bottom of this <a href=\"http://www.jcraft.com/jsch/examples/Sftp.java\" rel=\"nofollow noreferrer\">Example Code</a> (it's kind of messy), you'll find an implementation of <code>SftpProgressMonitor</code> that uses its callback methods <code>count(long)</code> and <code>end()</code> to manipulate a <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/ProgressMonitor.html\" rel=\"nofollow noreferrer\"><code>javax.swing.ProgressMonitor</code></a>.</p>\n<p><code>count(long)</code> gets called periodically when there's some bytes that have been transferred, and <code>end()</code> gets called when the transfer has ended. So a really simple implementation of <code>SftpProgressMonitor</code> could be:</p>\n<pre><code>public class SystemOutProgressMonitor implements SftpProgressMonitor\n{\n    public SystemOutProgressMonitor() {;}\n\n    public void init(int op, java.lang.String src, java.lang.String dest, long max) \n    {\n        System.out.println(&quot;STARTING: &quot; + op + &quot; &quot; + src + &quot; -&gt; &quot; + dest + &quot; total: &quot; + max);\n    }\n\n    public boolean count(long bytes)\n    {\n        for(int x=0; x &lt; bytes; x++) {\n            System.out.print(&quot;#&quot;);\n        }\n        return(true);\n    }\n\n    public void end()\n    {\n        System.out.println(&quot;\\nFINISHED!&quot;);\n    }\n}\n</code></pre>\n<p>I'd then create an instance of that and pass it to <code>get()</code></p>\n<pre><code>sftpChannel.get(sourcePath, destPath, new SystemOutProgressMonitor());\n</code></pre>\n"}],"owner":{"account_id":371837,"reputation":2017,"user_id":720587,"accept_rate":62,"display_name":"World"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21669,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":7978443,"answer_count":1,"score":15,"last_activity_date":1693406810,"creation_date":1320224780,"question_id":7977844,"body_markdown":"I am new to JSch and Java. I managed to get some code and understand it somehow, but I am stuck on one point. The following code downloads file from SSH/SFTP server, but I am in need of the progress meter that shows percentage of file copied. How can I do it?\r\n\r\n    import com.jcraft.jsch.ChannelSftp;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n    import com.jcraft.jsch.SftpProgressMonitor; \r\n    public class SFTPExample {\r\n        public static void main(String args[]) throws Exception {\r\n            String user = &quot;root&quot;;\r\n            String password = &quot;password&quot;;\r\n            String host = &quot;192.168.0.5&quot;;\r\n            int port = 22;\r\n            String knownHostsFilename = &quot;/home/world/.ssh/known_hosts&quot;;        \r\n            String sourcePath = &quot;/media/nfs/genotype.txt&quot;;\r\n            String destPath = &quot;genotype.txt&quot;;        \r\n            JSch jsch = new JSch();\r\n            jsch.setKnownHosts(knownHostsFilename);\r\n            Session session = jsch.getSession(user, host, port);\r\n            session.setPassword(password);\r\n            session.connect(); \r\n            ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n            sftpChannel.connect();\r\n                \r\n            System.out.println(&quot;Downloading test file&quot;);\r\n            sftpChannel.get(sourcePath, destPath);            \r\n            \r\n            sftpChannel.exit();\r\n            session.disconnect();\r\n        }\r\n    }","title":"JSch SFTP upload/download progress","body":"<p>I am new to JSch and Java. I managed to get some code and understand it somehow, but I am stuck on one point. The following code downloads file from SSH/SFTP server, but I am in need of the progress meter that shows percentage of file copied. How can I do it?</p>\n<pre><code>import com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.SftpProgressMonitor; \npublic class SFTPExample {\n    public static void main(String args[]) throws Exception {\n        String user = &quot;root&quot;;\n        String password = &quot;password&quot;;\n        String host = &quot;192.168.0.5&quot;;\n        int port = 22;\n        String knownHostsFilename = &quot;/home/world/.ssh/known_hosts&quot;;        \n        String sourcePath = &quot;/media/nfs/genotype.txt&quot;;\n        String destPath = &quot;genotype.txt&quot;;        \n        JSch jsch = new JSch();\n        jsch.setKnownHosts(knownHostsFilename);\n        Session session = jsch.getSession(user, host, port);\n        session.setPassword(password);\n        session.connect(); \n        ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\n        sftpChannel.connect();\n            \n        System.out.println(&quot;Downloading test file&quot;);\n        sftpChannel.get(sourcePath, destPath);            \n        \n        sftpChannel.exit();\n        session.disconnect();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor","stepverifier"],"owner":{"account_id":18026911,"reputation":531,"user_id":13102609,"display_name":"orderlyfashion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693406520,"creation_date":1693316978,"question_id":77000816,"body_markdown":"I&#39;ve implemented a queuer in Spring WebFlux as I asked about here: https://stackoverflow.com/questions/76869993/queuing-up-requests-in-spring-webflux\r\n\r\nTL;DR is that it queues up incoming requests to an external API, and then batches them after waiting for X requests or Y seconds.\r\nAfter the implementation was working I started adding unit tests. So what I would like to test is that if my API receives one request it will queue it up for up to Y seconds, and if it then receives X - 1 more requests, it will then dispatch the requests.\r\n\r\nIf I curl my API using the same approach it works as expected and I&#39;m seeing the following in the logs:\r\n\r\n```\r\ncurl &quot;localhost:8080/batch?orderIds=1&quot;\r\ncurl &quot;localhost:8080/batch?orderIds=2,3,4,5&quot;\r\n```\r\n\r\n```\r\n123456789101112132023-08-13T12:56:42.875+02:00 com.testreactor.BatcherService : Received request for orders with ids: [1]\r\n2023-08-13T12:56:42.886 com.testreactor.BatcherService : Queuing up request for order id 1\r\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Received request for orders with ids: [2, 3, 4, 5]\r\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 2\r\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 3\r\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 4\r\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 5\r\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Dispatching queue\r\n2023-08-13T12:56:44.897 com.testreactor.BatcherService : Order with id 1 received\r\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 2 received\r\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 3 received\r\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 4 received\r\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 5 received\r\n```\r\n\r\nThe unit test I&#39;ve implemented looks like this:\r\n\r\n```java\r\n@Test\r\npublic void testOnePlusFour() {\r\n    var order1 = new Order(1L, UUID.randomUUID());\r\n    var order2 = new Order(2L, UUID.randomUUID());\r\n    var order3 = new Order(3L, UUID.randomUUID());\r\n    var order4 = new Order(4L, UUID.randomUUID());\r\n    var order5 = new Order(5L, UUID.randomUUID());\r\n    var oneFirstOrder = List.of(order1);\r\n    var fourAdditionalOrders = List.of(order2, order3, order4, order5);\r\n    var allOrders = Stream.concat(oneFirstOrder.stream(), fourAdditionalOrders.stream()).toList();\r\n \r\n    when(orderApi.getOrders(eq(allOrders.stream().map(Order::id).toList())))\r\n            .thenReturn(Flux.fromStream(allOrders.stream()));\r\n \r\n    var batcherService = new AtomicReference&lt;BatcherService&gt;();\r\n \r\n    StepVerifier.withVirtualTime(() -&gt; {\r\n                var bs = new BatcherService(orderApi);\r\n                batcherService.set(bs);\r\n                return bs.getOrders(oneFirstOrder.stream().map(Order::id).toList());\r\n            })\r\n            .expectSubscription()\r\n            .expectNoEvent(Duration.ofSeconds(4))\r\n            .then(() -&gt; batcherService.get().getOrders(fourAdditionalOrders.stream().map(Order::id).toList()))\r\n            .expectNext(allOrders)\r\n            .expectComplete()\r\n            .verify();\r\n}\r\n```\r\n\r\nWhat happens is that it&#39;s just queued and never dispatched (no more logs after this, the test is still running):\r\n\r\n```\r\n13:04:16.443 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [1]\r\n13:04:16.473 [main] INFO com.testreactor.BatcherService -- Queuing up request for order id 1\r\n13:04:16.481 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [2, 3, 4, 5]\r\n```\r\n\r\nHow can I implement the unit test utilizing StepVerifier to verify that the first order is indeed queued for up to five seconds before the queue is filled?\r\n\r\nLastly, for reference, is the implementation of BatcherService and associated data classes:\r\n\r\n```java\r\npublic record Order(Long id, UUID storeId) {\r\n}\r\n \r\npublic record QueueItem&lt;T, R&gt;(T id, Sinks.One&lt;R&gt; sink) {\r\n}\r\n \r\n@Service\r\npublic class BatcherService {\r\n \r\n    private static final Logger LOG = LoggerFactory.getLogger(BatcherService.class);\r\n    private final Sinks.Many&lt;QueueItem&lt;Long, Order&gt;&gt; queue = Sinks.many().multicast().onBackpressureBuffer();\r\n    private final ConcurrentMap&lt;Long, Mono&lt;Order&gt;&gt; queuedItems = new ConcurrentHashMap&lt;&gt;();\r\n \r\n    public BatcherService(OrderApi orderApi) {\r\n        queue.asFlux()\r\n                .bufferTimeout(5, Duration.ofSeconds(5))\r\n                .flatMap(queueItems -&gt; {\r\n                    LOG.info(&quot;Dispatching queue&quot;);\r\n                    var orderIds = queueItems.stream().map(QueueItem::id).toList();\r\n \r\n                    return orderApi.getOrders(orderIds)\r\n                            .doOnNext(order -&gt; {\r\n                                LOG.info(&quot;Order with id {} received&quot;, order.id());\r\n                                queueItems.stream()\r\n                                        .filter(queueItem -&gt; queueItem.id().equals(order.id()))\r\n                                        .findFirst()\r\n                                        .ifPresent(queueItem -&gt; queueItem.sink().tryEmitValue(order));\r\n                            })\r\n                            .then();\r\n                })\r\n                .subscribe();\r\n    }\r\n \r\n    public Mono&lt;List&lt;Order&gt;&gt; getOrders(List&lt;Long&gt; orderIds)  {\r\n        LOG.info(&quot;Received request for orders with ids: {}&quot;, orderIds);\r\n        return Flux.fromIterable(orderIds)\r\n                .flatMapSequential(this::getOrder)\r\n                .collectList();\r\n    }\r\n \r\n    private Mono&lt;Order&gt; getOrder(Long orderId) {\r\n        var existingQueuedRequest = queuedItems.get(orderId);\r\n \r\n        if (existingQueuedRequest == null) {\r\n            LOG.info(&quot;Queuing up request for order id {}&quot;, orderId);\r\n            existingQueuedRequest = enqueueRequest(orderId);\r\n            queuedItems.put(orderId, existingQueuedRequest);\r\n        }\r\n        else {\r\n            LOG.info(&quot;Order {} already found in the queue&quot;, orderId);\r\n        }\r\n \r\n        return existingQueuedRequest;\r\n    }\r\n \r\n    private Mono&lt;Order&gt; enqueueRequest(Long orderId) {\r\n        Sinks.One&lt;Order&gt; sink = Sinks.one();\r\n        queue.tryEmitNext(new QueueItem&lt;&gt;(orderId, sink));\r\n        return sink.asMono();\r\n    }\r\n}\r\n```","title":"Reactor StepVerifier with expectNoEvent / then","body":"<p>I've implemented a queuer in Spring WebFlux as I asked about here: <a href=\"https://stackoverflow.com/questions/76869993/queuing-up-requests-in-spring-webflux\">Queuing up requests in Spring WebFlux</a></p>\n<p>TL;DR is that it queues up incoming requests to an external API, and then batches them after waiting for X requests or Y seconds.\nAfter the implementation was working I started adding unit tests. So what I would like to test is that if my API receives one request it will queue it up for up to Y seconds, and if it then receives X - 1 more requests, it will then dispatch the requests.</p>\n<p>If I curl my API using the same approach it works as expected and I'm seeing the following in the logs:</p>\n<pre><code>curl &quot;localhost:8080/batch?orderIds=1&quot;\ncurl &quot;localhost:8080/batch?orderIds=2,3,4,5&quot;\n</code></pre>\n<pre><code>123456789101112132023-08-13T12:56:42.875+02:00 com.testreactor.BatcherService : Received request for orders with ids: [1]\n2023-08-13T12:56:42.886 com.testreactor.BatcherService : Queuing up request for order id 1\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Received request for orders with ids: [2, 3, 4, 5]\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 2\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 3\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 4\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 5\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Dispatching queue\n2023-08-13T12:56:44.897 com.testreactor.BatcherService : Order with id 1 received\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 2 received\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 3 received\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 4 received\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 5 received\n</code></pre>\n<p>The unit test I've implemented looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testOnePlusFour() {\n    var order1 = new Order(1L, UUID.randomUUID());\n    var order2 = new Order(2L, UUID.randomUUID());\n    var order3 = new Order(3L, UUID.randomUUID());\n    var order4 = new Order(4L, UUID.randomUUID());\n    var order5 = new Order(5L, UUID.randomUUID());\n    var oneFirstOrder = List.of(order1);\n    var fourAdditionalOrders = List.of(order2, order3, order4, order5);\n    var allOrders = Stream.concat(oneFirstOrder.stream(), fourAdditionalOrders.stream()).toList();\n \n    when(orderApi.getOrders(eq(allOrders.stream().map(Order::id).toList())))\n            .thenReturn(Flux.fromStream(allOrders.stream()));\n \n    var batcherService = new AtomicReference&lt;BatcherService&gt;();\n \n    StepVerifier.withVirtualTime(() -&gt; {\n                var bs = new BatcherService(orderApi);\n                batcherService.set(bs);\n                return bs.getOrders(oneFirstOrder.stream().map(Order::id).toList());\n            })\n            .expectSubscription()\n            .expectNoEvent(Duration.ofSeconds(4))\n            .then(() -&gt; batcherService.get().getOrders(fourAdditionalOrders.stream().map(Order::id).toList()))\n            .expectNext(allOrders)\n            .expectComplete()\n            .verify();\n}\n</code></pre>\n<p>What happens is that it's just queued and never dispatched (no more logs after this, the test is still running):</p>\n<pre><code>13:04:16.443 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [1]\n13:04:16.473 [main] INFO com.testreactor.BatcherService -- Queuing up request for order id 1\n13:04:16.481 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [2, 3, 4, 5]\n</code></pre>\n<p>How can I implement the unit test utilizing StepVerifier to verify that the first order is indeed queued for up to five seconds before the queue is filled?</p>\n<p>Lastly, for reference, is the implementation of BatcherService and associated data classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Order(Long id, UUID storeId) {\n}\n \npublic record QueueItem&lt;T, R&gt;(T id, Sinks.One&lt;R&gt; sink) {\n}\n \n@Service\npublic class BatcherService {\n \n    private static final Logger LOG = LoggerFactory.getLogger(BatcherService.class);\n    private final Sinks.Many&lt;QueueItem&lt;Long, Order&gt;&gt; queue = Sinks.many().multicast().onBackpressureBuffer();\n    private final ConcurrentMap&lt;Long, Mono&lt;Order&gt;&gt; queuedItems = new ConcurrentHashMap&lt;&gt;();\n \n    public BatcherService(OrderApi orderApi) {\n        queue.asFlux()\n                .bufferTimeout(5, Duration.ofSeconds(5))\n                .flatMap(queueItems -&gt; {\n                    LOG.info(&quot;Dispatching queue&quot;);\n                    var orderIds = queueItems.stream().map(QueueItem::id).toList();\n \n                    return orderApi.getOrders(orderIds)\n                            .doOnNext(order -&gt; {\n                                LOG.info(&quot;Order with id {} received&quot;, order.id());\n                                queueItems.stream()\n                                        .filter(queueItem -&gt; queueItem.id().equals(order.id()))\n                                        .findFirst()\n                                        .ifPresent(queueItem -&gt; queueItem.sink().tryEmitValue(order));\n                            })\n                            .then();\n                })\n                .subscribe();\n    }\n \n    public Mono&lt;List&lt;Order&gt;&gt; getOrders(List&lt;Long&gt; orderIds)  {\n        LOG.info(&quot;Received request for orders with ids: {}&quot;, orderIds);\n        return Flux.fromIterable(orderIds)\n                .flatMapSequential(this::getOrder)\n                .collectList();\n    }\n \n    private Mono&lt;Order&gt; getOrder(Long orderId) {\n        var existingQueuedRequest = queuedItems.get(orderId);\n \n        if (existingQueuedRequest == null) {\n            LOG.info(&quot;Queuing up request for order id {}&quot;, orderId);\n            existingQueuedRequest = enqueueRequest(orderId);\n            queuedItems.put(orderId, existingQueuedRequest);\n        }\n        else {\n            LOG.info(&quot;Order {} already found in the queue&quot;, orderId);\n        }\n \n        return existingQueuedRequest;\n    }\n \n    private Mono&lt;Order&gt; enqueueRequest(Long orderId) {\n        Sinks.One&lt;Order&gt; sink = Sinks.one();\n        queue.tryEmitNext(new QueueItem&lt;&gt;(orderId, sink));\n        return sink.asMono();\n    }\n}\n</code></pre>\n"},{"tags":["java","database","solr","nosql","document-based"],"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693406373,"creation_date":1693406072,"question_id":77009007,"body_markdown":"I&#39;m working with Solr and facing a challenge related to sorting parent documents based on values from associated child documents.\r\n\r\n**Scenario**:\r\n\r\n1. I have two types of documents: `products` (as parent documents) and `reviews` (as child documents). (They are located at different cores)\r\n2. Each `product` has a unique `product_id`.\r\n3. Each `review` references a product via a `product_id` field.\r\n4. I want to retrieve and sort products based on some aggregate value from their reviews (e.g., average review score).\r\n\r\nFrom my understanding, Solr doesn&#39;t support a direct method to sort parent documents by aggregated values of child documents, like a traditional SQL JOIN with GROUP BY and ORDER BY would.\r\n\r\n**Question**:\r\n\r\n1. What is the recommended approach to achieve this sorting in Solr? \r\n2. Are there any workarounds or third-party extensions that could assist in this?\r\n\r\nI&#39;ve considered denormalizing the data and incorporating the average review score directly into the product document at index time, but I wonder if there&#39;s a more dynamic approach that doesn&#39;t require re-indexing products when new reviews are added.\r\n\r\nAny guidance would be greatly appreciated!\r\n\r\nJust FYI I use `{!join from=product_id to=id}*:*` syntax to receive the result set.","title":"How to Sort Parent Documents on Values from Child Documents in SOLR?","body":"<p>I'm working with Solr and facing a challenge related to sorting parent documents based on values from associated child documents.</p>\n<p><strong>Scenario</strong>:</p>\n<ol>\n<li>I have two types of documents: <code>products</code> (as parent documents) and <code>reviews</code> (as child documents). (They are located at different cores)</li>\n<li>Each <code>product</code> has a unique <code>product_id</code>.</li>\n<li>Each <code>review</code> references a product via a <code>product_id</code> field.</li>\n<li>I want to retrieve and sort products based on some aggregate value from their reviews (e.g., average review score).</li>\n</ol>\n<p>From my understanding, Solr doesn't support a direct method to sort parent documents by aggregated values of child documents, like a traditional SQL JOIN with GROUP BY and ORDER BY would.</p>\n<p><strong>Question</strong>:</p>\n<ol>\n<li>What is the recommended approach to achieve this sorting in Solr?</li>\n<li>Are there any workarounds or third-party extensions that could assist in this?</li>\n</ol>\n<p>I've considered denormalizing the data and incorporating the average review score directly into the product document at index time, but I wonder if there's a more dynamic approach that doesn't require re-indexing products when new reviews are added.</p>\n<p>Any guidance would be greatly appreciated!</p>\n<p>Just FYI I use <code>{!join from=product_id to=id}*:*</code> syntax to receive the result set.</p>\n"},{"tags":["java","maven","jenkins","nullpointerexception","automated-tests"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1693406057,"post_id":77008989,"comment_id":135757021,"body_markdown":"Hi!  There doesn&#39;t appear to be enough information to figure out why `TC01_verifyRegistrationFromCheckoutPage` would be throwing a `NullPointerException` on line 197.  At a minimum, we&#39;d need to see the code under test, including that line of code..","body":"Hi!  There doesn&#39;t appear to be enough information to figure out why <code>TC01_verifyRegistrationFromCheckoutPage</code> would be throwing a <code>NullPointerException</code> on line 197.  At a minimum, we&#39;d need to see the code under test, including that line of code.."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1693406211,"post_id":77008989,"comment_id":135757069,"body_markdown":"Also: do you get the same `NullPointerException` when you run the Maven project on your local machine?","body":"Also: do you get the same <code>NullPointerException</code> when you run the Maven project on your local machine?"},{"owner":{"account_id":25968156,"reputation":103,"user_id":19683820,"display_name":"Nitin k"},"score":0,"creation_date":1693467429,"post_id":77008989,"comment_id":135765545,"body_markdown":"It does work on local @M.Justin","body":"It does work on local @M.Justin"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1693494558,"post_id":77008989,"comment_id":135771425,"body_markdown":"OK, thanks.  The fact remains, however, that we can&#39;t really help without seeing the failing portion of the test, including line (`TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage(CoD_Regression_Test_Suite.java:197)`)","body":"OK, thanks.  The fact remains, however, that we can&#39;t really help without seeing the failing portion of the test, including line (<code>TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistration&zwnj;&#8203;FromCheckoutPage(CoD&zwnj;&#8203;_Regression_Test_Sui&zwnj;&#8203;te.java:197)</code>)"}],"owner":{"account_id":25968156,"reputation":103,"user_id":19683820,"display_name":"Nitin k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693408470,"answer_count":0,"score":0,"last_activity_date":1693406122,"creation_date":1693405843,"question_id":77008989,"body_markdown":"I am trying to run maven test cases from Jenkins but its throwing `NullPointerException`.\r\n\r\n```lang-none\r\n[ERROR] Tests run: 6, Failures: 6, Errors: 0, Skipped: 0, Time elapsed: 9.662 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n[ERROR] TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage  Time elapsed: 0.031 s  &lt;&lt;&lt; FAILURE!\r\njava.lang.NullPointerException\r\n\tat TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage(CoD_Regression_Test_Suite.java:197)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:308)\r\n\tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:71)\r\n\tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:113)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\n```\r\n\r\nI did try to resolve it but no luck.\r\n\r\nThe test are reading from pom.xml which is getting fetched from github repo","title":"NullPointerException while running Maven tests from Jenkins","body":"<p>I am trying to run maven test cases from Jenkins but its throwing <code>NullPointerException</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Tests run: 6, Failures: 6, Errors: 0, Skipped: 0, Time elapsed: 9.662 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage  Time elapsed: 0.031 s  &lt;&lt;&lt; FAILURE!\njava.lang.NullPointerException\n    at TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage(CoD_Regression_Test_Suite.java:197)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:308)\n    at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:71)\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:113)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\n</code></pre>\n<p>I did try to resolve it but no luck.</p>\n<p>The test are reading from pom.xml which is getting fetched from github repo</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"down_vote_count":10,"up_vote_count":8,"is_accepted":false,"score":-2,"last_activity_date":1413981709,"creation_date":1413981298,"answer_id":26507581,"question_id":26507446,"body_markdown":"Change\r\n\r\n    @OneToMany(mappedBy = &quot;creator&quot;)\r\n    private Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\r\n\r\nto\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;creator&quot;)\r\n    private Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\r\n\r\nOr use Hibernate.initialize inside your service, which has the same effect.\r\n\r\n","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Change</p>\n\n<pre><code>@OneToMany(mappedBy = \"creator\")\nprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"creator\")\nprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>Or use Hibernate.initialize inside your service, which has the same effect.</p>\n"},{"tags":[],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413984286,"creation_date":1413981671,"answer_id":26507694,"question_id":26507446,"body_markdown":"You have 2 options.\r\n\r\n**Option 1 :** As mentioned by BetaRide, use the `EAGER` fetching strategy\r\n\r\n**Option 2 :** After getting the `user` from database using hibernate, add the below line in of code to load the collection elements:\r\n\r\n    Hibernate.initialize(user.getCreatedJobs())\r\n\r\nThis tells hibernate to initialize the collection elements\r\n","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>You have 2 options.</p>\n\n<p><strong>Option 1 :</strong> As mentioned by BetaRide, use the <code>EAGER</code> fetching strategy</p>\n\n<p><strong>Option 2 :</strong> After getting the <code>user</code> from database using hibernate, add the below line in of code to load the collection elements:</p>\n\n<pre><code>Hibernate.initialize(user.getCreatedJobs())\n</code></pre>\n\n<p>This tells hibernate to initialize the collection elements</p>\n"},{"tags":[],"owner":{"account_id":5077780,"reputation":24088,"user_id":4074715,"display_name":"Predrag Maric"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1413981877,"creation_date":1413981877,"answer_id":26507758,"question_id":26507446,"body_markdown":"Basically, you need to fetch the lazy data while you are inside of a transaction. If your service classes are `@Transactional`, then everything should be ok while you are in them. Once you get out of the service class, if you try to `get` the lazy collection, you will get that exception, which is in your `main()` method, line `System.out.println(random.getCreatedJobs());`.\r\n\r\nNow, it comes down to what your service methods need to return. If `userService.getRandomUser()` is expected to return a user with jobs initialized so you can manipulate them, then it&#39;s that method&#39;s responsibility to fetch it. The simplest way to do it with Hibernate is by calling `Hibernate.initialize(user.getCreatedJobs())`.","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Basically, you need to fetch the lazy data while you are inside of a transaction. If your service classes are <code>@Transactional</code>, then everything should be ok while you are in them. Once you get out of the service class, if you try to <code>get</code> the lazy collection, you will get that exception, which is in your <code>main()</code> method, line <code>System.out.println(random.getCreatedJobs());</code>.</p>\n\n<p>Now, it comes down to what your service methods need to return. If <code>userService.getRandomUser()</code> is expected to return a user with jobs initialized so you can manipulate them, then it's that method's responsibility to fetch it. The simplest way to do it with Hibernate is by calling <code>Hibernate.initialize(user.getCreatedJobs())</code>.</p>\n"},{"tags":[],"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1477471170,"creation_date":1477049980,"answer_id":40175755,"question_id":26507446,"body_markdown":"Consider using **JPA 2.1**, with **Entity graphs**: \r\n\r\nLazy loading was often an issue with JPA 2.0. You had to define at the entity FetchType.LAZY or FetchType.EAGER and make sure the relation gets initialized within the transaction.\r\n\r\nThis could be done by:\r\n\r\n* using a specific query that reads the entity \r\n* or by accessing the relation within business code (additional query for each relation).\r\n\r\nBoth approaches are far from perfect, **JPA 2.1 entity graphs are a better solution for it**:\r\n\r\n* http://www.thoughts-on-java.org/jpa-21-entity-graph-part-1-named-entity/\r\n* http://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Consider using <strong>JPA 2.1</strong>, with <strong>Entity graphs</strong>: </p>\n\n<p>Lazy loading was often an issue with JPA 2.0. You had to define at the entity FetchType.LAZY or FetchType.EAGER and make sure the relation gets initialized within the transaction.</p>\n\n<p>This could be done by:</p>\n\n<ul>\n<li>using a specific query that reads the entity </li>\n<li>or by accessing the relation within business code (additional query for each relation).</li>\n</ul>\n\n<p>Both approaches are far from perfect, <strong>JPA 2.1 entity graphs are a better solution for it</strong>:</p>\n\n<ul>\n<li><a href=\"http://www.thoughts-on-java.org/jpa-21-entity-graph-part-1-named-entity/\" rel=\"noreferrer\">http://www.thoughts-on-java.org/jpa-21-entity-graph-part-1-named-entity/</a></li>\n<li><a href=\"http://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/\" rel=\"noreferrer\">http://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1477478388,"creation_date":1477478388,"answer_id":40260061,"question_id":26507446,"body_markdown":"For those who have not the possibility to use JPA 2.1 but want to keep the possibility to return a entity in their controller (and not a String/JsonNode/byte[]/void with write in response): \r\n\r\nthere is still the possibility to build a DTO in the transaction, that will be returned by the controller.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = FooController.API, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    class FooController{\r\n    \r\n        static final String API = &quot;/api/foo&quot;;\r\n    \r\n        private final FooService fooService;\r\n    \r\n        @Autowired\r\n        FooController(FooService fooService) {\r\n            this.fooService= fooService;\r\n        }\r\n    \r\n        @RequestMapping(method = GET)\r\n        @Transactional(readOnly = true)\r\n        public FooResponseDto getFoo() {\r\n            Foo foo = fooService.get();\r\n            return new FooResponseDto(foo);\r\n        }\r\n    }","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>For those who have not the possibility to use JPA 2.1 but want to keep the possibility to return a entity in their controller (and not a String/JsonNode/byte[]/void with write in response): </p>\n\n<p>there is still the possibility to build a DTO in the transaction, that will be returned by the controller.</p>\n\n<pre><code>@RestController\n@RequestMapping(value = FooController.API, produces = MediaType.APPLICATION_JSON_VALUE)\nclass FooController{\n\n    static final String API = \"/api/foo\";\n\n    private final FooService fooService;\n\n    @Autowired\n    FooController(FooService fooService) {\n        this.fooService= fooService;\n    }\n\n    @RequestMapping(method = GET)\n    @Transactional(readOnly = true)\n    public FooResponseDto getFoo() {\n        Foo foo = fooService.get();\n        return new FooResponseDto(foo);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":997311,"reputation":319,"user_id":1023906,"display_name":"oak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543850283,"creation_date":1543850283,"answer_id":53596631,"question_id":26507446,"body_markdown":"You should enable Spring transaction manager by adding `@EnableTransactionManagement` annotation to your context configuration class. \r\n\r\nSince both services have `@Transactional` annotation and default `value` property of it is `TxType.Required`, current transaction will be shared among the services, provided that transaction manager is on. Thus a session should be available, and you won&#39;t be getting `LazyInitializationException`.","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>You should enable Spring transaction manager by adding <code>@EnableTransactionManagement</code> annotation to your context configuration class. </p>\n\n<p>Since both services have <code>@Transactional</code> annotation and default <code>value</code> property of it is <code>TxType.Required</code>, current transaction will be shared among the services, provided that transaction manager is on. Thus a session should be available, and you won't be getting <code>LazyInitializationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405991,"creation_date":1693405991,"answer_id":77008999,"question_id":26507446,"body_markdown":"Found a great article (by Vlad Mihalcea) regarding the best way to handle the `LazyInitializationException`:\r\n\r\nhttps://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\r\n\r\n**Summary**\r\n\r\n&gt; `LazyInitializationException` is a code smell because it might hide the fact that entities are used instead of [DTO projections][1]. Sometimes, fetching entities is the right choice, in which case, a `JOIN FETCH` directive is the simplest and the best way to initialize the LAZY Hibernate proxies.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Found a great article (by Vlad Mihalcea) regarding the best way to handle the <code>LazyInitializationException</code>:</p>\n<p><a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/</a></p>\n<p><strong>Summary</strong></p>\n<blockquote>\n<p><code>LazyInitializationException</code> is a code smell because it might hide the fact that entities are used instead of <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">DTO projections</a>. Sometimes, fetching entities is the right choice, in which case, a <code>JOIN FETCH</code> directive is the simplest and the best way to initialize the LAZY Hibernate proxies.</p>\n</blockquote>\n"}],"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42902,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":7,"score":28,"last_activity_date":1693405991,"creation_date":1413980897,"question_id":26507446,"body_markdown":"I have two classes that have a one-to-many relation. When I try to access the lazily loaded collection I get the `LazyInitializationException`.\r\nI have been searching the web for a while and now I know that I get the exception because the session that was used to load the class which holds the collection is closed.\r\nHowever, I did not find a solution (or at least I did not understand them). Basically I have these classes:\r\n\r\n**User**\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;user&quot;)\r\n\tpublic class User {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate long id;\r\n\t\r\n\t\t@OneToMany(mappedBy = &quot;creator&quot;)\r\n\t\tprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\r\n\t\r\n\t\tpublic long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(final long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic Set&lt;Job&gt; getCreatedJobs() {\r\n\t\t\treturn createdJobs;\r\n\t\t}\r\n\t\r\n\t\tpublic void setCreatedJobs(final Set&lt;Job&gt; createdJobs) {\r\n\t\t\tthis.createdJobs = createdJobs;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**UserRepository**\r\n\r\n\tpublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\r\n\r\n**UserService**\r\n\r\n\t@Service\r\n\t@Transactional\r\n\tpublic class UserService {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate UserRepository repository;\r\n\t\r\n\t\tboolean usersAvailable = false;\r\n\t\r\n\t\tpublic void addSomeUsers() {\r\n\t\t\tfor (int i = 1; i &lt; 101; i++) {\r\n\t\t\t\tfinal User user = new User();\r\n\t\r\n\t\t\t\trepository.save(user);\r\n\t\t\t}\r\n\t\r\n\t\t\tusersAvailable = true;\r\n\t\t}\r\n\t\r\n\t\tpublic User getRandomUser() {\r\n\t\t\tfinal Random rand = new Random();\r\n\t\r\n\t\t\tif (!usersAvailable) {\r\n\t\t\t\taddSomeUsers();\r\n\t\t\t}\r\n\t\r\n\t\t\treturn repository.findOne(rand.nextInt(100) + 1L);\r\n\t\t}\r\n\t\r\n\t\tpublic List&lt;User&gt; getAllUsers() {\r\n\t\t\treturn repository.findAll();\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**Job**\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;job&quot;)\r\n\t@Inheritance\r\n\t@DiscriminatorColumn(name = &quot;job_type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n\tpublic abstract class Job {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate long id;\r\n\t\r\n\t\t@ManyToOne\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n\t\tprivate User creator;\r\n\t\r\n\t\tpublic long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(final long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic User getCreator() {\r\n\t\t\treturn creator;\r\n\t\t}\r\n\t\r\n\t\tpublic void setCreator(final User creator) {\r\n\t\t\tthis.creator = creator;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**JobRepository**\r\n\r\n\tpublic interface JobRepository extends JpaRepository&lt;Job, Long&gt; {}\r\n\r\n**JobService**\r\n\r\n\t@Service\r\n\t@Transactional\r\n\tpublic class JobService {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate JobRepository repository;\r\n\t\r\n\t\tpublic void addJob(final Job job) {\r\n\t\t\trepository.save(job);\r\n\t\t}\r\n\t\r\n\t\tpublic List&lt;Job&gt; getJobs() {\r\n\t\t\treturn repository.findAll();\r\n\t\t}\r\n\t\r\n\t\tpublic void addJobsForUsers(final List&lt;User&gt; users) {\r\n\t\t\tfinal Random rand = new Random();\r\n\t\r\n\t\t\tfor (final User user : users) {\r\n\t\t\t\tfor (int i = 0; i &lt; 20; i++) {\r\n\t\t\t\t\tswitch (rand.nextInt(2)) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\taddJob(new HelloWorldJob(user));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\taddJob(new GoodbyeWorldJob(user));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**App**\r\n\r\n\t@Configuration\r\n\t@EnableAutoConfiguration\r\n\t@ComponentScan\r\n\tpublic class App {\r\n\t\r\n\t\tpublic static void main(final String[] args) {\r\n\t\t\tfinal ConfigurableApplicationContext context = SpringApplication.run(App.class);\r\n\t\t\tfinal UserService userService = context.getBean(UserService.class);\r\n\t\t\tfinal JobService jobService = context.getBean(JobService.class);\r\n\t\r\n\t\t\tuserService.addSomeUsers();\t\t\t\t\t\t\t\t\t// Generates some users and stores them in the db\r\n\t\t\tjobService.addJobsForUsers(userService.getAllUsers());\t\t// Generates some jobs for the users\r\n\t\r\n\t\t\tfinal User random = userService.getRandomUser();\t\t\t// Picks a random user\r\n\t\r\n\t\t\tSystem.out.println(random.getCreatedJobs());\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nI have often read that the session has to be bound to the current thread, but I don&#39;t know how to do this with Spring&#39;s annotation based configurations.\r\nCan someone point me out how to do that?\r\n\r\nP.S. I want to use lazy loading, thus eager loading is no option.","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>I have two classes that have a one-to-many relation. When I try to access the lazily loaded collection I get the <code>LazyInitializationException</code>.\nI have been searching the web for a while and now I know that I get the exception because the session that was used to load the class which holds the collection is closed.\nHowever, I did not find a solution (or at least I did not understand them). Basically I have these classes:</p>\n<p><strong>User</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @OneToMany(mappedBy = &quot;creator&quot;)\n    private Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(final long id) {\n        this.id = id;\n    }\n\n    public Set&lt;Job&gt; getCreatedJobs() {\n        return createdJobs;\n    }\n\n    public void setCreatedJobs(final Set&lt;Job&gt; createdJobs) {\n        this.createdJobs = createdJobs;\n    }\n\n}\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\n</code></pre>\n<p><strong>UserService</strong></p>\n<pre><code>@Service\n@Transactional\npublic class UserService {\n\n    @Autowired\n    private UserRepository repository;\n\n    boolean usersAvailable = false;\n\n    public void addSomeUsers() {\n        for (int i = 1; i &lt; 101; i++) {\n            final User user = new User();\n\n            repository.save(user);\n        }\n\n        usersAvailable = true;\n    }\n\n    public User getRandomUser() {\n        final Random rand = new Random();\n\n        if (!usersAvailable) {\n            addSomeUsers();\n        }\n\n        return repository.findOne(rand.nextInt(100) + 1L);\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        return repository.findAll();\n    }\n\n}\n</code></pre>\n<p><strong>Job</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;job&quot;)\n@Inheritance\n@DiscriminatorColumn(name = &quot;job_type&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class Job {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User creator;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(final long id) {\n        this.id = id;\n    }\n\n    public User getCreator() {\n        return creator;\n    }\n\n    public void setCreator(final User creator) {\n        this.creator = creator;\n    }\n\n}\n</code></pre>\n<p><strong>JobRepository</strong></p>\n<pre><code>public interface JobRepository extends JpaRepository&lt;Job, Long&gt; {}\n</code></pre>\n<p><strong>JobService</strong></p>\n<pre><code>@Service\n@Transactional\npublic class JobService {\n\n    @Autowired\n    private JobRepository repository;\n\n    public void addJob(final Job job) {\n        repository.save(job);\n    }\n\n    public List&lt;Job&gt; getJobs() {\n        return repository.findAll();\n    }\n\n    public void addJobsForUsers(final List&lt;User&gt; users) {\n        final Random rand = new Random();\n\n        for (final User user : users) {\n            for (int i = 0; i &lt; 20; i++) {\n                switch (rand.nextInt(2)) {\n                case 0:\n                    addJob(new HelloWorldJob(user));\n                    break;\n                default:\n                    addJob(new GoodbyeWorldJob(user));\n                    break;\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>App</strong></p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class App {\n\n    public static void main(final String[] args) {\n        final ConfigurableApplicationContext context = SpringApplication.run(App.class);\n        final UserService userService = context.getBean(UserService.class);\n        final JobService jobService = context.getBean(JobService.class);\n\n        userService.addSomeUsers();                                 // Generates some users and stores them in the db\n        jobService.addJobsForUsers(userService.getAllUsers());      // Generates some jobs for the users\n\n        final User random = userService.getRandomUser();            // Picks a random user\n\n        System.out.println(random.getCreatedJobs());\n    }\n\n}\n</code></pre>\n<p>I have often read that the session has to be bound to the current thread, but I don't know how to do this with Spring's annotation based configurations.\nCan someone point me out how to do that?</p>\n<p>P.S. I want to use lazy loading, thus eager loading is no option.</p>\n"},{"tags":["python","java","pyinstaller","aspose-cells","jpype"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693402929,"post_id":77008362,"comment_id":135756218,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1693503102,"post_id":77008362,"comment_id":135773253,"body_markdown":"Could you please see the document (https://docs.aspose.com/cells/python-java/pyinstaller-python/) on how you can distribute Python applications that uses Aspose.Cells for via PyInstaller.","body":"Could you please see the document (<a href=\"https://docs.aspose.com/cells/python-java/pyinstaller-python/\" rel=\"nofollow noreferrer\">docs.aspose.com/cells/python-java/pyinstaller-python</a>) on how you can distribute Python applications that uses Aspose.Cells for via PyInstaller."}],"owner":{"account_id":29200016,"reputation":3,"user_id":22370346,"display_name":"macikeci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693405388,"creation_date":1693400994,"question_id":77008362,"body_markdown":"I&#39;m working sap automatization(I use anaconda) and at the end of my code I use Jpype and aspose to make my excel read only password protected file.\r\n```\r\nimport jpype\r\nimport asposecells\r\njpype.startJVM()\r\nfrom asposecells.api import Workbook\r\n\r\ntimestamp = datetime.now().strftime(&quot;%Y%m%d%H%M&quot;)\r\n\r\nworkbook = Workbook(&quot;G:\\\\t.xlsx&quot;)\r\n\r\nworkbook.getSettings().getWriteProtection().setPassword(&quot;1234&quot;)\r\n\r\nworkbook.getSettings().getWriteProtection().setAuthor(&quot;asd&quot;);\r\n\r\nworkbook.save(&quot;G:/p_out &quot; + timestamp + &quot;.xlsx&quot;)\r\n\r\njpype.shutdownJVM()\r\n```\r\n\r\n I would like to create a exe file and did it also but this part of code the app shutdown with this error:\r\n```\r\nTraceback (most recent call last):\r\nFile &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod Exception: Java Exception\r\nThe above exception was the direct cause of the following exception:\r\nTraceback (most recent call last): File &quot;jpype\\imports.py&quot;, line 195, in find_spec\r\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.aspose\r\nThe above exception was the direct cause of the following exception:\r\nTraceback (most recent call last):\r\nFile &quot;example.py&quot;, line 270, in &lt;module&gt;\r\nFile &quot;PyInstaller\\loader\\pyimod02_importers.py&quot;, line 385, in exec_module\r\nFile &quot;asposecells\\api.py&quot;, line 10, in &lt;module&gt;\r\nFile &quot;jpype\\imports.py&quot;, line 203, in find_spec\r\nImportError: Failed to import &#39;com.aspose&#39;\r\n[18204] Failed to execute script &#39;example&#39; due to unhandled exception!\r\n```\r\n\r\nI put .jar files into the folder, and supplement the .spec file.\r\n\r\n\r\nI&#39;m beginner in coding,\r\nthanks all help\r\n","title":"failed to execute script with Jpype","body":"<p>I'm working sap automatization(I use anaconda) and at the end of my code I use Jpype and aspose to make my excel read only password protected file.</p>\n<pre><code>import jpype\nimport asposecells\njpype.startJVM()\nfrom asposecells.api import Workbook\n\ntimestamp = datetime.now().strftime(&quot;%Y%m%d%H%M&quot;)\n\nworkbook = Workbook(&quot;G:\\\\t.xlsx&quot;)\n\nworkbook.getSettings().getWriteProtection().setPassword(&quot;1234&quot;)\n\nworkbook.getSettings().getWriteProtection().setAuthor(&quot;asd&quot;);\n\nworkbook.save(&quot;G:/p_out &quot; + timestamp + &quot;.xlsx&quot;)\n\njpype.shutdownJVM()\n</code></pre>\n<p>I would like to create a exe file and did it also but this part of code the app shutdown with this error:</p>\n<pre><code>Traceback (most recent call last):\nFile &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod Exception: Java Exception\nThe above exception was the direct cause of the following exception:\nTraceback (most recent call last): File &quot;jpype\\imports.py&quot;, line 195, in find_spec\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.aspose\nThe above exception was the direct cause of the following exception:\nTraceback (most recent call last):\nFile &quot;example.py&quot;, line 270, in &lt;module&gt;\nFile &quot;PyInstaller\\loader\\pyimod02_importers.py&quot;, line 385, in exec_module\nFile &quot;asposecells\\api.py&quot;, line 10, in &lt;module&gt;\nFile &quot;jpype\\imports.py&quot;, line 203, in find_spec\nImportError: Failed to import 'com.aspose'\n[18204] Failed to execute script 'example' due to unhandled exception!\n</code></pre>\n<p>I put .jar files into the folder, and supplement the .spec file.</p>\n<p>I'm beginner in coding,\nthanks all help</p>\n"},{"tags":["java","escaping","backslash","ascii-art"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1333816061,"post_id":10056183,"comment_id":12868483,"body_markdown":"&quot;\\\\&quot; is the only way to go.  If you *really* don&#39;t want the double- backquotes, you can always 1) create a static String[] array with each line of text, 2) substitute some &quot;acceptable&quot; marker character for your slash, 3) println() the array in a loop, and 4) String.replace() the marker character with &quot;\\\\&quot;.","body":"&quot;\\\\&quot; is the only way to go.  If you <i>really</i> don&#39;t want the double- backquotes, you can always 1) create a static String[] array with each line of text, 2) substitute some &quot;acceptable&quot; marker character for your slash, 3) println() the array in a loop, and 4) String.replace() the marker character with &quot;\\\\&quot;."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1333816056,"creation_date":1333816056,"answer_id":10056204,"question_id":10056183,"body_markdown":"No, Java doesn&#39;t have anything like the &quot;verbatim string literals&quot; of C#. If you want to do ASCII art, consider putting it into a text file instead and loading that from the code.","title":"Ignore escape sequences in ASCII art","body":"<p>No, Java doesn't have anything like the \"verbatim string literals\" of C#. If you want to do ASCII art, consider putting it into a text file instead and loading that from the code.</p>\n"},{"tags":[],"owner":{"account_id":1190922,"reputation":503,"user_id":1163724,"accept_rate":50,"display_name":"viliam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333816128,"creation_date":1333816128,"answer_id":10056215,"question_id":10056183,"body_markdown":"read that &quot;image&quot; from file, that file can be in your jar library :)","title":"Ignore escape sequences in ASCII art","body":"<p>read that \"image\" from file, that file can be in your jar library :)</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333816145,"creation_date":1333816145,"answer_id":10056218,"question_id":10056183,"body_markdown":"Sorry, dude.  No such animal exists.","title":"Ignore escape sequences in ASCII art","body":"<p>Sorry, dude.  No such animal exists.</p>\n"},{"tags":[],"owner":{"account_id":2141181,"reputation":29,"user_id":1899772,"display_name":"Joe"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1355371558,"creation_date":1355371558,"answer_id":13852766,"question_id":10056183,"body_markdown":"Hate to gravedig this thread, but for anyone else out there looking for this..\r\nTry using unicode!\r\n\r\nFor example:\r\n\\u0092 = &quot;\\&quot;","title":"Ignore escape sequences in ASCII art","body":"<p>Hate to gravedig this thread, but for anyone else out there looking for this..\nTry using unicode!</p>\n\n<p>For example:\n\\u0092 = \"\\\"</p>\n"}],"owner":{"account_id":1387675,"reputation":840,"user_id":1319304,"accept_rate":40,"display_name":"trichner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10856,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10056204,"answer_count":4,"score":8,"last_activity_date":1693405301,"creation_date":1333815887,"question_id":10056183,"body_markdown":"For my command-line-interfaces it&#39;s often nice to have a little ASCII art in the beginning, but those often contain many backslashes.\r\n\r\nFor example:\r\n```java\r\nSystem.out.println(&quot;  _____ _______       _____ _  __ &quot;);\r\nSystem.out.println(&quot; / ____|__   __|/\\   / ____| |/ / &quot;);\r\nSystem.out.println(&quot;| (___    | |  /  \\ | |    | &#39; /  &quot;);\r\nSystem.out.println(&quot; \\___ \\   | | / /\\ \\| |    |  &lt;   &quot;);\r\nSystem.out.println(&quot; ____) |  | |/ ____ \\ |____| . \\  &quot;);\r\nSystem.out.println(&quot;|_____/   |_/_/    \\_\\_____|_|\\_\\ &quot;);\r\n```\r\nBut since every `\\` needs to be a `\\\\` this often looks very ugly in code and it&#39;s very hard to find/fix an error in the &#39;font&#39;. Is there a way to tell Java NOT to use escape sequences?\r\n","title":"Ignore escape sequences in ASCII art","body":"<p>For my command-line-interfaces it's often nice to have a little ASCII art in the beginning, but those often contain many backslashes.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;  _____ _______       _____ _  __ &quot;);\nSystem.out.println(&quot; / ____|__   __|/\\   / ____| |/ / &quot;);\nSystem.out.println(&quot;| (___    | |  /  \\ | |    | ' /  &quot;);\nSystem.out.println(&quot; \\___ \\   | | / /\\ \\| |    |  &lt;   &quot;);\nSystem.out.println(&quot; ____) |  | |/ ____ \\ |____| . \\  &quot;);\nSystem.out.println(&quot;|_____/   |_/_/    \\_\\_____|_|\\_\\ &quot;);\n</code></pre>\n<p>But since every <code>\\</code> needs to be a <code>\\\\</code> this often looks very ugly in code and it's very hard to find/fix an error in the 'font'. Is there a way to tell Java NOT to use escape sequences?</p>\n"},{"tags":["java","web-services","rest","jersey","java-ee-6"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":2,"creation_date":1463148307,"post_id":37204930,"comment_id":61955358,"body_markdown":"Jersey 2 and Jersey 1 use different ContainerRequestFilters. Jersey 2 uses a standard JAX-RS interface, while Jersey 1 uses an implementation specific one. They have different packing and slightly different contract. You need to make sure you are using the correct one for the version of Jersey you are using","body":"Jersey 2 and Jersey 1 use different ContainerRequestFilters. Jersey 2 uses a standard JAX-RS interface, while Jersey 1 uses an implementation specific one. They have different packing and slightly different contract. You need to make sure you are using the correct one for the version of Jersey you are using"}],"answers":[{"tags":[],"owner":{"account_id":13541084,"reputation":81,"user_id":9768744,"display_name":"O. Trouv&#233;"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538490806,"creation_date":1525943436,"answer_id":50269323,"question_id":37204930,"body_markdown":"This has been reported as an issue in Jersey. See Jersey issue [#3700][1].\r\n\r\nWith Jersey 2.26 the warning message is triggered if you register an instantiated resource object directly on a `ResourceConfig`. However, the warning is intentional. \r\n\r\nYou can register a class instead of an instance. Or you can configure the resource via an [`AbstractBinder`][2] and a [`Feature`][3].\r\n\r\nIf the warning actually originates from a third-party library registering a *resource* instance on a `ResourceConfig`, you can work around it by suppressing log messages from the `org.glassfish.jersey.internal.inject.Providers` logger as recommended in the [Jersey ticket][1].\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/jersey/issues/3700\r\n  [2]: http://javaarm.com/file/glassfish/jersey/doc/userguide/Jersey-2.26-User-Guide.htm#d0e17032\r\n  [3]: https://stackoverflow.com/a/29275727/9768744","title":"Rest Filter: registered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime","body":"<p>This has been reported as an issue in Jersey. See Jersey issue <a href=\"https://github.com/eclipse-ee4j/jersey/issues/3700\" rel=\"noreferrer\">#3700</a>.</p>\n\n<p>With Jersey 2.26 the warning message is triggered if you register an instantiated resource object directly on a <code>ResourceConfig</code>. However, the warning is intentional. </p>\n\n<p>You can register a class instead of an instance. Or you can configure the resource via an <a href=\"http://javaarm.com/file/glassfish/jersey/doc/userguide/Jersey-2.26-User-Guide.htm#d0e17032\" rel=\"noreferrer\"><code>AbstractBinder</code></a> and a <a href=\"https://stackoverflow.com/a/29275727/9768744\"><code>Feature</code></a>.</p>\n\n<p>If the warning actually originates from a third-party library registering a <em>resource</em> instance on a <code>ResourceConfig</code>, you can work around it by suppressing log messages from the <code>org.glassfish.jersey.internal.inject.Providers</code> logger as recommended in the <a href=\"https://github.com/eclipse-ee4j/jersey/issues/3700\" rel=\"noreferrer\">Jersey ticket</a>.</p>\n"}],"owner":{"account_id":8098621,"reputation":151,"user_id":6102303,"display_name":"PRIYANK SINHA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22303,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":1,"score":15,"last_activity_date":1693405234,"creation_date":1463127913,"question_id":37204930,"body_markdown":"I am getting an error:\r\n\r\n&gt; A provider com.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter\r\nregistered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime.\r\nDue to constraint configuration problems the provider \r\ncom.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter will be ignored.\r\n\r\nNote:\r\n\r\n1. This UniversalSessionManagerFilter filter is in an external jar file which is in the server classpath \r\n2. I am using `@Provider` annotation on the filter and `@Priority` annotation to define priority \r\n3. This is a rest server filter  ","title":"Rest Filter: registered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime","body":"<p>I am getting an error:</p>\n<blockquote>\n<p>A provider com.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter\nregistered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime.\nDue to constraint configuration problems the provider\ncom.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter will be ignored.</p>\n</blockquote>\n<p>Note:</p>\n<ol>\n<li>This UniversalSessionManagerFilter filter is in an external jar file which is in the server classpath</li>\n<li>I am using <code>@Provider</code> annotation on the filter and <code>@Priority</code> annotation to define priority</li>\n<li>This is a rest server filter</li>\n</ol>\n"},{"tags":["java","visual-studio-code","java-8"],"answers":[{"tags":[],"owner":{"account_id":23435211,"reputation":31,"user_id":17493401,"display_name":"Victor Dalosto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664738725,"creation_date":1664738725,"answer_id":73928718,"question_id":73920611,"body_markdown":"Solved the issue by deleting the folder: Users\\victor\\AppData\\Roaming\\Code\\User\r\n\r\nAfter initializing VSCODE again the problem was fixed.","title":"Problem with VSCODE + Java configurations","body":"<p>Solved the issue by deleting the folder: Users\\victor\\AppData\\Roaming\\Code\\User</p>\n<p>After initializing VSCODE again the problem was fixed.</p>\n"},{"tags":[],"owner":{"account_id":3319392,"reputation":11,"user_id":2790936,"display_name":"Footleg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405090,"creation_date":1693405090,"answer_id":77008890,"question_id":73920611,"body_markdown":"I have been struggling with a similar problem where my workspace never initialised the Java project. It turned out to be a corrupted workspace, which was stored under AppData\\Roaming\\Code\\User\\workspaceStorage\r\n\r\nI deleted all the folders under there (which loses the information on which files were open in the workspaces). This cleared the issue. If you can tell from the datetime of the folders under this location which one is the workspace that stopped working, you can just delete that one.","title":"Problem with VSCODE + Java configurations","body":"<p>I have been struggling with a similar problem where my workspace never initialised the Java project. It turned out to be a corrupted workspace, which was stored under AppData\\Roaming\\Code\\User\\workspaceStorage</p>\n<p>I deleted all the folders under there (which loses the information on which files were open in the workspaces). This cleared the issue. If you can tell from the datetime of the folders under this location which one is the workspace that stopped working, you can just delete that one.</p>\n"}],"owner":{"account_id":23435211,"reputation":31,"user_id":17493401,"display_name":"Victor Dalosto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1693405090,"creation_date":1664647184,"question_id":73920611,"body_markdown":"Im having a issue with Visual studio code in using some of the Java features.\r\n\r\nFor example, i can&#39;t use some of its feature:\r\n(i) &quot;Java: Clean Java Language Server Workspace&quot;\r\n(ii) In &quot;Java: Create java project&quot;, after configuring the project, it doesn&#39;t pop anymore a windows suggesting changing folder;\r\n\r\n(iii) If i adjust something in the pom.xml, like the &lt;java-version&gt; from the default 1.8 to the current 18 installed, even if a reload the vscode, it displays the following message:\r\n&quot;Build path specifies execution environment JavaSE-1.8. There are no JREs installed in the workspace that are strictly compatible with this environment. &quot;\r\n&quot;The compiler compliance specified is 1.8 but a JRE 18 is used&quot;\r\nBefore, if i used the clean java language workspace, the project used to solve this issue.\r\n\r\nI Can&#39;t seem to make this work.\r\nI think it has to do with some adjustment that i made in the settings.json:\r\n\r\n  \r\n    &quot;settingsSync.ignoredSettings&quot;: [],\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\r\n    &quot;spring-boot.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\r\n    &quot;java.maven.downloadSources&quot;: true,\r\n    &quot;java.eclipse.downloadSources&quot;: true,\r\n    &quot;java.debug.settings.hotCodeReplace&quot;: &quot;auto&quot;,\r\n    &quot;java.debug.settings.console&quot;: &quot;externalTerminal&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [{\r\n          &quot;name&quot;: &quot;JavaSE-18&quot;,\r\n          &quot;path&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\r\n          &quot;default&quot;:  true\r\n      }],\r\n\r\nI appreciate any help.","title":"Problem with VSCODE + Java configurations","body":"<p>Im having a issue with Visual studio code in using some of the Java features.</p>\n<p>For example, i can't use some of its feature:\n(i) &quot;Java: Clean Java Language Server Workspace&quot;\n(ii) In &quot;Java: Create java project&quot;, after configuring the project, it doesn't pop anymore a windows suggesting changing folder;</p>\n<p>(iii) If i adjust something in the pom.xml, like the  from the default 1.8 to the current 18 installed, even if a reload the vscode, it displays the following message:\n&quot;Build path specifies execution environment JavaSE-1.8. There are no JREs installed in the workspace that are strictly compatible with this environment. &quot;\n&quot;The compiler compliance specified is 1.8 but a JRE 18 is used&quot;\nBefore, if i used the clean java language workspace, the project used to solve this issue.</p>\n<p>I Can't seem to make this work.\nI think it has to do with some adjustment that i made in the settings.json:</p>\n<pre><code>&quot;settingsSync.ignoredSettings&quot;: [],\n&quot;java.jdt.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\n&quot;spring-boot.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\n&quot;java.maven.downloadSources&quot;: true,\n&quot;java.eclipse.downloadSources&quot;: true,\n&quot;java.debug.settings.hotCodeReplace&quot;: &quot;auto&quot;,\n&quot;java.debug.settings.console&quot;: &quot;externalTerminal&quot;,\n&quot;java.configuration.runtimes&quot;: [{\n      &quot;name&quot;: &quot;JavaSE-18&quot;,\n      &quot;path&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\n      &quot;default&quot;:  true\n  }],\n</code></pre>\n<p>I appreciate any help.</p>\n"},{"tags":["java","intellij-idea","annotations","jetbrains-ide","notnull"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1536134442,"creation_date":1536134442,"answer_id":52180071,"question_id":52179888,"body_markdown":"&gt; When you compile your project, the IDE adds assertions to all methods and parameters annotated with the @NotNull annotation. The assertions will fail if null is passed in code where @NotNull is expected. You can disable this option and configure the list of annotations in the **Settings/Preferences dialog Ctrl+Alt+S. Go to Build, Execution, Deployment | Compiler**. \r\n\r\nhttps://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html\r\n\r\nMaybe this would to the trick.","title":"IDEA doesnt want to use NotNull from javax, but instead use org.jetbrains","body":"<blockquote>\n  <p>When you compile your project, the IDE adds assertions to all methods and parameters annotated with the @NotNull annotation. The assertions will fail if null is passed in code where @NotNull is expected. You can disable this option and configure the list of annotations in the <strong>Settings/Preferences dialog Ctrl+Alt+S. Go to Build, Execution, Deployment | Compiler</strong>. </p>\n</blockquote>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html</a></p>\n\n<p>Maybe this would to the trick.</p>\n"},{"tags":[],"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405007,"creation_date":1693405007,"answer_id":77008879,"question_id":52179888,"body_markdown":"In addition to maio290 &#39;s answer, it&#39;s important you change the &quot;annotiation used for code generation&quot; setting: [![screenshot of configure nullability/nonnull annotatioons dialog][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nEPCV.png","title":"IDEA doesnt want to use NotNull from javax, but instead use org.jetbrains","body":"<p>In addition to maio290 's answer, it's important you change the &quot;annotiation used for code generation&quot; setting: <a href=\"https://i.stack.imgur.com/nEPCV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nEPCV.png\" alt=\"screenshot of configure nullability/nonnull annotatioons dialog\" /></a></p>\n"}],"owner":{"account_id":10568784,"reputation":482,"user_id":7786254,"accept_rate":80,"display_name":"Anton Kolosok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3798,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":52180071,"answer_count":2,"score":5,"last_activity_date":1693405007,"creation_date":1536133897,"question_id":52179888,"body_markdown":"I was setuping my project when saw this on @NotNull annotation in my DTOs\r\n\r\n    Not &#39;javax.validation.constraints.NotNull&#39; but &#39;org.jetbrains.annotations.NotNull&#39; would be used for code generation\r\n\r\nI have import javax.validation.constraints.NotNull;\r\n\r\nBut still see this warning. \r\n\r\nWhy IDEA dont want to use javax NotNull and what should I do to force it? ","title":"IDEA doesnt want to use NotNull from javax, but instead use org.jetbrains","body":"<p>I was setuping my project when saw this on @NotNull annotation in my DTOs</p>\n\n<pre><code>Not 'javax.validation.constraints.NotNull' but 'org.jetbrains.annotations.NotNull' would be used for code generation\n</code></pre>\n\n<p>I have import javax.validation.constraints.NotNull;</p>\n\n<p>But still see this warning. </p>\n\n<p>Why IDEA dont want to use javax NotNull and what should I do to force it? </p>\n"},{"tags":["java","kotlin","javafx","url-fragment"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693408441,"post_id":77004965,"comment_id":135757598,"body_markdown":"Note regarding your update: That information seems more like an answer, and as such should be in an answer instead of your question (you are allowed to post answers to your own question).","body":"Note regarding your update: That information seems more like an answer, and as such should be in an answer instead of your question (you are allowed to post answers to your own question)."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693376751,"creation_date":1693374375,"answer_id":77005236,"question_id":77004965,"body_markdown":"When you check the source code of the HostServices, it is actually just a plain java code using `Runtime.exec`, something like this (for windows):\r\n\r\n    Runtime.getRuntime().exec(new String[] {\r\n                            &quot;rundll32&quot;,\r\n                            &quot;url.dll,FileProtocolHandler&quot;,\r\n                            uri\r\n                        });\r\n\r\nPretty much it is quite evident that there is nothing with JavaFX to play a role here.\r\n\r\nSo when trying to look for alternate ways using plain Java:\r\n\r\n    Desktop desktop = Desktop.getDesktop();\r\n    try {\r\n        desktop.browse(new URI(url));\r\n    } catch (IOException ex) {\r\n        throw new RuntimeException(ex);\r\n    } catch (URISyntaxException ex) {\r\n        throw new RuntimeException(ex);\r\n    }\r\n\r\nThis works well when opening the file(without id). But when appended with id, it displays the below error::\r\n\r\n    Caused by: java.io.IOException: Failed to open &lt;your filepath&gt;. Error message: The system cannot find the file specified.\r\n    \r\n    \tat java.desktop/sun.awt.windows.WDesktopPeer.ShellExecute(WDesktopPeer.java:115)\r\n    \tat java.desktop/sun.awt.windows.WDesktopPeer.browse(WDesktopPeer.java:101)\r\n    \tat java.desktop/java.awt.Desktop.browse(Desktop.java:533)\r\n\r\n\r\nFrom the above exception, it is quite evident that the execution is going till the native code and returned with the error message. Which in turn concludes that the api or native code or execution (or whatever it is), is looking for a file path which has `#` in it. And as it cannot find one, error is thrown.\r\n\r\nSo I conclude that, currently there is no support to open fragment of html from a local file using standard java API. \r\n\r\n@Others, feel free to correct me if my analysis is wrong :)\r\n\r\n**UPDATE 1:**\r\n\r\nAfter going through this [link](https://lolbas-project.github.io/lolbas/Libraries/Url/), looks like we need to prepend with `file:///` to the path if we are using url.dll and FileProtocolHandler.\r\n\r\nSo changing the code to below actually opened the browser.\r\n\r\n    String url=&quot;file:///C:/folder/test.html#section&quot;;\r\n    getHostServices().showDocument(uri);\r\n\r\n\r\n But unfortunately the focus to specific portion is still not working. Atleast I will consider this as a win, rather than not showing up anything ;)\r\n\r\n**UPDATE 2:**\r\n\r\nOk, looks like I got something for the behavior in Update 1. Refer to the these links [link1](https://stackoverflow.com/questions/32553974/c-shellexecute-a-url-with-the-hash-sign) and [link2](https://stackoverflow.com/questions/26305322/shellexecute-fails-for-local-html-or-file-urls).\r\n\r\n\r\n&gt; After some back-and-forth with Microsoft&#39;s MSDN team, they reviewed\r\n&gt; the source code to the ShellExecute() call and it was determined that\r\n&gt; yes, when processing File:/// based URLs in ShellExecute(), the\r\n&gt; ShellExecute() call will strip off the # and any data it finds after\r\n&gt; the # before launching the default browser and sending in the HTML\r\n&gt; page to open. MS&#39;s stance is that they do this deliberately to prevent\r\n&gt; injections into the function.","title":"Javafx getHostServices().showDocument not working when url includes fragments for local files","body":"<p>When you check the source code of the HostServices, it is actually just a plain java code using <code>Runtime.exec</code>, something like this (for windows):</p>\n<pre><code>Runtime.getRuntime().exec(new String[] {\n                        &quot;rundll32&quot;,\n                        &quot;url.dll,FileProtocolHandler&quot;,\n                        uri\n                    });\n</code></pre>\n<p>Pretty much it is quite evident that there is nothing with JavaFX to play a role here.</p>\n<p>So when trying to look for alternate ways using plain Java:</p>\n<pre><code>Desktop desktop = Desktop.getDesktop();\ntry {\n    desktop.browse(new URI(url));\n} catch (IOException ex) {\n    throw new RuntimeException(ex);\n} catch (URISyntaxException ex) {\n    throw new RuntimeException(ex);\n}\n</code></pre>\n<p>This works well when opening the file(without id). But when appended with id, it displays the below error::</p>\n<pre><code>Caused by: java.io.IOException: Failed to open &lt;your filepath&gt;. Error message: The system cannot find the file specified.\n\n    at java.desktop/sun.awt.windows.WDesktopPeer.ShellExecute(WDesktopPeer.java:115)\n    at java.desktop/sun.awt.windows.WDesktopPeer.browse(WDesktopPeer.java:101)\n    at java.desktop/java.awt.Desktop.browse(Desktop.java:533)\n</code></pre>\n<p>From the above exception, it is quite evident that the execution is going till the native code and returned with the error message. Which in turn concludes that the api or native code or execution (or whatever it is), is looking for a file path which has <code>#</code> in it. And as it cannot find one, error is thrown.</p>\n<p>So I conclude that, currently there is no support to open fragment of html from a local file using standard java API.</p>\n<p>@Others, feel free to correct me if my analysis is wrong :)</p>\n<p><strong>UPDATE 1:</strong></p>\n<p>After going through this <a href=\"https://lolbas-project.github.io/lolbas/Libraries/Url/\" rel=\"noreferrer\">link</a>, looks like we need to prepend with <code>file:///</code> to the path if we are using url.dll and FileProtocolHandler.</p>\n<p>So changing the code to below actually opened the browser.</p>\n<pre><code>String url=&quot;file:///C:/folder/test.html#section&quot;;\ngetHostServices().showDocument(uri);\n</code></pre>\n<p>But unfortunately the focus to specific portion is still not working. Atleast I will consider this as a win, rather than not showing up anything ;)</p>\n<p><strong>UPDATE 2:</strong></p>\n<p>Ok, looks like I got something for the behavior in Update 1. Refer to the these links <a href=\"https://stackoverflow.com/questions/32553974/c-shellexecute-a-url-with-the-hash-sign\">link1</a> and <a href=\"https://stackoverflow.com/questions/26305322/shellexecute-fails-for-local-html-or-file-urls\">link2</a>.</p>\n<blockquote>\n<p>After some back-and-forth with Microsoft's MSDN team, they reviewed\nthe source code to the ShellExecute() call and it was determined that\nyes, when processing File:/// based URLs in ShellExecute(), the\nShellExecute() call will strip off the # and any data it finds after\nthe # before launching the default browser and sending in the HTML\npage to open. MS's stance is that they do this deliberately to prevent\ninjections into the function.</p>\n</blockquote>\n"}],"owner":{"account_id":13680439,"reputation":73,"user_id":9870924,"display_name":"Awk11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":77005236,"answer_count":1,"score":3,"last_activity_date":1693404279,"creation_date":1693369178,"question_id":77004965,"body_markdown":"\r\nIm working on a javafx app and a requirement is that on clicking a hyperlink, it opens the given url in the browser. I have this working with the following\r\n\r\n```\r\nurl = &quot;files/file.html&quot;;\r\ngetHostServices().showDocument(url);\r\n```\r\nHowever, when the url includes an id to auto focus a specific portion of the page, the browser never launches. There&#39;s no errors, and nothing seems to be logged indicating anything went wrong, the browser just never opens. Having trouble finding anyone else who&#39;s run into this problem or any potential solutions.\r\n\r\ntldr; How do I get the below to actually work and open in a browser?\r\n\r\n```\r\nString url = &quot;files/file.html#section&quot;;\r\ngetHostServices().showDocument(url);\r\n```\r\n\r\nAlso, this is only an issue with local files it seems. Opening https sites this way works fine\r\n\r\n**UPDATE:** \r\nSo thanks to Sai&#39;s great post, it sounds like the official conclusion is that it&#39;s a deeper issue than Java, and simply blocked for security reasons relating to data injection. Won&#39;t pretend to understand, but I found a solution based on [this link][1] (again shared by Sai below) and more specifically [this link shared in that answer][2], and wanted to include it for any future confused people. I also updated the title to be more specific to the problem.\r\n\r\nSo basically, the only true way around it that gets all the functionality is to create a temporary file that then gets opened, automatically redirects to the proper file with the fragment, and then delete it. Basic code is as follows:\r\n\r\n    public static void openWebPage(String url) {\r\n        String tmpPath = &quot;path/to/.tmp/temp.html&quot;;\r\n        File tempFile = File(tmpPath);\r\n        if (!tempFile.exists()) {\r\n            tempFile.mkdirs();\r\n        } else {\r\n            tempFile.delete();\r\n        }\r\n        tempFile.createNewFile();\r\n        FileWriter tempFileWriter = FileWriter(tmpPath);\r\n        tempFileWriter.write(&quot;&lt;html&gt;&lt;meta http-equiv=Refresh content=\\&quot;0; url=$url\\&quot;&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        tempFileWriter.close();\r\n        Main.getStaticHostServices().showDocument(tmpPath);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50144702/9870924\r\n  [2]: https://forums.madcapsoftware.com/viewtopic.php?f=9&amp;t=28376#p130613","title":"Javafx getHostServices().showDocument not working when url includes fragments for local files","body":"<p>Im working on a javafx app and a requirement is that on clicking a hyperlink, it opens the given url in the browser. I have this working with the following</p>\n<pre><code>url = &quot;files/file.html&quot;;\ngetHostServices().showDocument(url);\n</code></pre>\n<p>However, when the url includes an id to auto focus a specific portion of the page, the browser never launches. There's no errors, and nothing seems to be logged indicating anything went wrong, the browser just never opens. Having trouble finding anyone else who's run into this problem or any potential solutions.</p>\n<p>tldr; How do I get the below to actually work and open in a browser?</p>\n<pre><code>String url = &quot;files/file.html#section&quot;;\ngetHostServices().showDocument(url);\n</code></pre>\n<p>Also, this is only an issue with local files it seems. Opening https sites this way works fine</p>\n<p><strong>UPDATE:</strong>\nSo thanks to Sai's great post, it sounds like the official conclusion is that it's a deeper issue than Java, and simply blocked for security reasons relating to data injection. Won't pretend to understand, but I found a solution based on <a href=\"https://stackoverflow.com/a/50144702/9870924\">this link</a> (again shared by Sai below) and more specifically <a href=\"https://forums.madcapsoftware.com/viewtopic.php?f=9&amp;t=28376#p130613\" rel=\"nofollow noreferrer\">this link shared in that answer</a>, and wanted to include it for any future confused people. I also updated the title to be more specific to the problem.</p>\n<p>So basically, the only true way around it that gets all the functionality is to create a temporary file that then gets opened, automatically redirects to the proper file with the fragment, and then delete it. Basic code is as follows:</p>\n<pre><code>public static void openWebPage(String url) {\n    String tmpPath = &quot;path/to/.tmp/temp.html&quot;;\n    File tempFile = File(tmpPath);\n    if (!tempFile.exists()) {\n        tempFile.mkdirs();\n    } else {\n        tempFile.delete();\n    }\n    tempFile.createNewFile();\n    FileWriter tempFileWriter = FileWriter(tmpPath);\n    tempFileWriter.write(&quot;&lt;html&gt;&lt;meta http-equiv=Refresh content=\\&quot;0; url=$url\\&quot;&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n    tempFileWriter.close();\n    Main.getStaticHostServices().showDocument(tmpPath);\n}\n</code></pre>\n"},{"tags":["java","kotlin","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":6,"creation_date":1505240700,"post_id":46182118,"comment_id":79329012,"body_markdown":"Sounds like you may be looking for https://github.com/junit-team/junit5/issues/878","body":"Sounds like you may be looking for <a href=\"https://github.com/junit-team/junit5/issues/878\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/878</a>"},{"owner":{"account_id":11645556,"reputation":915,"user_id":8528561,"display_name":"IS1_SO"},"score":0,"creation_date":1505243232,"post_id":46182118,"comment_id":79330228,"body_markdown":"@mkobit Exactly. Are there any alternatives for that?","body":"@mkobit Exactly. Are there any alternatives for that?"},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1505315321,"post_id":46182118,"comment_id":79364795,"body_markdown":"There may be a workaround, it would be useful to sample code about what you would like to accomplish.","body":"There may be a workaround, it would be useful to sample code about what you would like to accomplish."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1580671980,"post_id":46182118,"comment_id":106164781,"body_markdown":"Similar popular question: https://stackoverflow.com/questions/46897134/how-to-implement-junit-4-parameterized-tests-in-junit-5","body":"Similar popular question: <a href=\"https://stackoverflow.com/questions/46897134/how-to-implement-junit-4-parameterized-tests-in-junit-5\" title=\"how to implement junit 4 parameterized tests in junit 5\">stackoverflow.com/questions/46897134/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1636827986,"creation_date":1561872115,"answer_id":56822593,"question_id":46182118,"body_markdown":"Short answer\\\r\nthere&#39;s no way to parametrize *class creation* with **JUnit 5** following the style of **JUnit 4**.\r\n\r\nFortunately, the very intention of separation test logic and test input data (parameters) can be implemented differently. \r\n\r\n---\r\n\r\n**JUnit 5** has its own approach for making parameterized tests, and, of course, it is different from **JUnit 4**. The new approach does not allow to use parameterized fixtures at the class level, i.e. through its every test method.\r\nSo every parameterized test method should be explicitly annotated with a *link to parameters*.\r\n\r\n**JUnit 5** provides a plenty of parameter source types, that could be found in [documentation][1] and [guides][2]\r\n\r\nIn your case, the simplest way to migrate from `@Parameters` of **Junit 4** is using `@MethodSource` or `@ArgumentsSource` of `org.junit.jupiter.params.provider.*`.\r\n\r\n**JUnit 4**:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class MyTestWithJunit4 {\r\n        @Parameters\r\n        public static Collection&lt;Object[]&gt; data() {\r\n          return Arrays.asList(new Object[][] {     \r\n                   { 0, 0, 0 },\r\n                   { 1, 2, 3 }, \r\n                   { 5, 3, 8 } \r\n          });\r\n        }\r\n    \r\n        int first;\r\n        int second;\r\n        int sum;\r\n    \r\n        public MyTestWithJunit4(int first, int second, int sum) {\r\n          this.first = first;\r\n          this.second = second;\r\n          this.sum = sum;\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n          assertEquals(sum, first + second));\r\n        }\r\n    }\r\n\r\n\r\n**JUnit 5 (with `@MethodSource`)**:\r\n\r\n    class MyTestWithJunit5 {\r\n\r\n      @DisplayName(&quot;Test with @MethodSource&quot;)\r\n      @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\r\n      @MethodSource(&quot;localParameters&quot;)\r\n      void test(int first, int second, int sum) {\r\n        assertEquals(sum, first + second);\r\n      }\r\n    \r\n      static Stream&lt;Arguments&gt; localParameters() {\r\n        return Stream.of(\r\n            Arguments.of(0, 0, 0),\r\n            Arguments.of(1, 2, 3),\r\n            Arguments.of(5, 3, 8)\r\n        );\r\n      }\r\n    }\r\n    \r\n**JUnit 5 (with `@ArgumentsSource`)**:\r\n    \r\n    class MyTestWithJunit5 {\r\n      @DisplayName(&quot;Test with @ArgumentsSource&quot;)\r\n      @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\r\n      @ArgumentsSource(Params.class)\r\n      void test(int first, int second, int sum) {\r\n        assertEquals(sum, first + second);\r\n      }\r\n    \r\n      static class Params implements ArgumentsProvider {\r\n        @Override\r\n        public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\r\n          return Stream.of(\r\n              Arguments.of(0, 0, 0),\r\n              Arguments.of(1, 2, 3),\r\n              Arguments.of(5, 3, 8)\r\n          );\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\nConsider that a method in `@MethodSource` and a class in `@ArgumentsSource` could be described anywhere, not only inside the same class where the test methods are located. Also `@MethodSource` allows to provide multiple source methods, since its `value` is a `String[]`.\r\n\r\n**Some remarks and comparison**\r\n\r\nIn **JUnit 4** we could only have a single factory method providing parameters, and the tests were supposed to be built around those parameters.\r\nOn the contrary, **JUnit 5** gives more abstraction and flexibility in binding parameters and decouples test logic from its parameters, which are secondary.\r\nThat allows building tests independently from parameter sources, and easily change them when needed.\r\n\r\n\r\n**Dependency requirement**\r\n\r\nParameterized tests feature is not included in the core `junit-jupiter-engine`,\r\nbut is located in a separate dependency [`junit-jupiter-params`][3].\r\n\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\r\n  [2]: https://nirajsonawane.github.io/2018/12/30/Junit-5-Write-Powerful-Unit-Test-Cases-Using-Parameterized-Tests\r\n  [3]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\r\n\r\n\r\n\r\n","title":"JUnit5 parameterized tests at class level","body":"<p>Short answer<br />\nthere's no way to parametrize <em>class creation</em> with <strong>JUnit 5</strong> following the style of <strong>JUnit 4</strong>.</p>\n<p>Fortunately, the very intention of separation test logic and test input data (parameters) can be implemented differently.</p>\n<hr />\n<p><strong>JUnit 5</strong> has its own approach for making parameterized tests, and, of course, it is different from <strong>JUnit 4</strong>. The new approach does not allow to use parameterized fixtures at the class level, i.e. through its every test method.\nSo every parameterized test method should be explicitly annotated with a <em>link to parameters</em>.</p>\n<p><strong>JUnit 5</strong> provides a plenty of parameter source types, that could be found in <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"noreferrer\">documentation</a> and <a href=\"https://nirajsonawane.github.io/2018/12/30/Junit-5-Write-Powerful-Unit-Test-Cases-Using-Parameterized-Tests\" rel=\"noreferrer\">guides</a></p>\n<p>In your case, the simplest way to migrate from <code>@Parameters</code> of <strong>Junit 4</strong> is using <code>@MethodSource</code> or <code>@ArgumentsSource</code> of <code>org.junit.jupiter.params.provider.*</code>.</p>\n<p><strong>JUnit 4</strong>:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class MyTestWithJunit4 {\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {     \n               { 0, 0, 0 },\n               { 1, 2, 3 }, \n               { 5, 3, 8 } \n      });\n    }\n\n    int first;\n    int second;\n    int sum;\n\n    public MyTestWithJunit4(int first, int second, int sum) {\n      this.first = first;\n      this.second = second;\n      this.sum = sum;\n    }\n\n    @Test\n    public void test() {\n      assertEquals(sum, first + second));\n    }\n}\n</code></pre>\n<p><strong>JUnit 5 (with <code>@MethodSource</code>)</strong>:</p>\n<pre><code>class MyTestWithJunit5 {\n\n  @DisplayName(&quot;Test with @MethodSource&quot;)\n  @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\n  @MethodSource(&quot;localParameters&quot;)\n  void test(int first, int second, int sum) {\n    assertEquals(sum, first + second);\n  }\n\n  static Stream&lt;Arguments&gt; localParameters() {\n    return Stream.of(\n        Arguments.of(0, 0, 0),\n        Arguments.of(1, 2, 3),\n        Arguments.of(5, 3, 8)\n    );\n  }\n}\n</code></pre>\n<p><strong>JUnit 5 (with <code>@ArgumentsSource</code>)</strong>:</p>\n<pre><code>class MyTestWithJunit5 {\n  @DisplayName(&quot;Test with @ArgumentsSource&quot;)\n  @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\n  @ArgumentsSource(Params.class)\n  void test(int first, int second, int sum) {\n    assertEquals(sum, first + second);\n  }\n\n  static class Params implements ArgumentsProvider {\n    @Override\n    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\n      return Stream.of(\n          Arguments.of(0, 0, 0),\n          Arguments.of(1, 2, 3),\n          Arguments.of(5, 3, 8)\n      );\n    }\n  }\n}\n</code></pre>\n<p>Consider that a method in <code>@MethodSource</code> and a class in <code>@ArgumentsSource</code> could be described anywhere, not only inside the same class where the test methods are located. Also <code>@MethodSource</code> allows to provide multiple source methods, since its <code>value</code> is a <code>String[]</code>.</p>\n<p><strong>Some remarks and comparison</strong></p>\n<p>In <strong>JUnit 4</strong> we could only have a single factory method providing parameters, and the tests were supposed to be built around those parameters.\nOn the contrary, <strong>JUnit 5</strong> gives more abstraction and flexibility in binding parameters and decouples test logic from its parameters, which are secondary.\nThat allows building tests independently from parameter sources, and easily change them when needed.</p>\n<p><strong>Dependency requirement</strong></p>\n<p>Parameterized tests feature is not included in the core <code>junit-jupiter-engine</code>,\nbut is located in a separate dependency <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\" rel=\"noreferrer\"><code>junit-jupiter-params</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1656406487,"creation_date":1656406487,"answer_id":72783483,"question_id":46182118,"body_markdown":"Create a meta annotation that specifies the parameterisation, and apply it to the test methods:\r\n```java\r\npublic class MyTest {\r\n    @ParameterizedTest(name = &quot;{0}&quot;)\r\n    @MethodSource(&quot;allImplementations&quot;)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    private @interface TestAllImplementations {\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; allImplementations() {\r\n        return Stream.of(\r\n             Arguments.of(&quot;Serial&quot;, new SerialWidget()),\r\n             Arguments.of(&quot;Concurrent&quot;, new ConcurrentWidget())\r\n        );\r\n    }\r\n\r\n    @TestAllImplementations\r\n    void myFirstTest(String name, Widget implementation) {\r\n        /* ... */\r\n    }\r\n\r\n    @TestAllImplementations\r\n    void mySecondTest(String name, Widget implementation) {\r\n        /* ... */\r\n    }\r\n}\r\n```\r\n","title":"JUnit5 parameterized tests at class level","body":"<p>Create a meta annotation that specifies the parameterisation, and apply it to the test methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTest {\n    @ParameterizedTest(name = &quot;{0}&quot;)\n    @MethodSource(&quot;allImplementations&quot;)\n    @Retention(RetentionPolicy.RUNTIME)\n    private @interface TestAllImplementations {\n    }\n\n    static Stream&lt;Arguments&gt; allImplementations() {\n        return Stream.of(\n             Arguments.of(&quot;Serial&quot;, new SerialWidget()),\n             Arguments.of(&quot;Concurrent&quot;, new ConcurrentWidget())\n        );\n    }\n\n    @TestAllImplementations\n    void myFirstTest(String name, Widget implementation) {\n        /* ... */\n    }\n\n    @TestAllImplementations\n    void mySecondTest(String name, Widget implementation) {\n        /* ... */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17043276,"reputation":1,"user_id":12330632,"display_name":"Super Meow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682627328,"creation_date":1682627328,"answer_id":76124400,"question_id":46182118,"body_markdown":"    @ParameterizedTest()\r\n    @MethodSource(&quot;dataProvider&quot;)\r\n    void testWithDataProvider(String str, List&lt;JSONObject&gt; list) {\r\n        System.out.println();\r\n\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; dataProvider() {\r\n        String json = &quot;&quot;&quot;\r\n                {\r\n                    &quot;test&quot;:1 \r\n                }\r\n                        &quot;&quot;&quot;;\r\n        return Stream.of(\r\n                arguments(&quot;abc&quot;, Arrays.asList(new JSONObject(json))),\r\n                arguments(&quot;lemon&quot;, Arrays.asList(new JSONObject(json)))\r\n        );\r\n\r\nI bypassed this complexity in this way","title":"JUnit5 parameterized tests at class level","body":"<pre><code>@ParameterizedTest()\n@MethodSource(&quot;dataProvider&quot;)\nvoid testWithDataProvider(String str, List&lt;JSONObject&gt; list) {\n    System.out.println();\n\n}\n\nstatic Stream&lt;Arguments&gt; dataProvider() {\n    String json = &quot;&quot;&quot;\n            {\n                &quot;test&quot;:1 \n            }\n                    &quot;&quot;&quot;;\n    return Stream.of(\n            arguments(&quot;abc&quot;, Arrays.asList(new JSONObject(json))),\n            arguments(&quot;lemon&quot;, Arrays.asList(new JSONObject(json)))\n    );\n</code></pre>\n<p>I bypassed this complexity in this way</p>\n"},{"tags":[],"owner":{"account_id":160773,"reputation":4709,"user_id":381083,"accept_rate":60,"display_name":"AmanicA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693404241,"creation_date":1693404241,"answer_id":77008774,"question_id":46182118,"body_markdown":"The best solution I could find was to make the old test abstract.\r\nThen create a new class that has nested tests for each variation eg.\r\n\r\n    public class NewParametricTest {\r\n      @Nested\r\n      public class NewParametricTestVariation1Test\r\n        extends AbstractOriginalToBeParameticizedTest {\r\n        public NewParametricTestVariation1Test() {\r\n          super(&quot;Some parameter&quot;, 1);\r\n        }\r\n      }\r\n    \r\n      // add others here\r\n    }","title":"JUnit5 parameterized tests at class level","body":"<p>The best solution I could find was to make the old test abstract.\nThen create a new class that has nested tests for each variation eg.</p>\n<pre><code>public class NewParametricTest {\n  @Nested\n  public class NewParametricTestVariation1Test\n    extends AbstractOriginalToBeParameticizedTest {\n    public NewParametricTestVariation1Test() {\n      super(&quot;Some parameter&quot;, 1);\n    }\n  }\n\n  // add others here\n}\n</code></pre>\n"}],"owner":{"account_id":11645556,"reputation":915,"user_id":8528561,"display_name":"IS1_SO"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16858,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":4,"score":55,"last_activity_date":1693404241,"creation_date":1505236402,"question_id":46182118,"body_markdown":"Is it possible to use JUnit5&#39;s parameterized new features to run test classes to receive test parameters instead of doing it at method level?\r\n\r\nWith JUnit 4 a runner such as `@RunWith(Parameterized::class)` plus inheritance could be used to pass an array of parameters to subclasses, but I am not sure if it is possible to achieve something equivalent but using the new JUnit 5 api.","title":"JUnit5 parameterized tests at class level","body":"<p>Is it possible to use JUnit5's parameterized new features to run test classes to receive test parameters instead of doing it at method level?</p>\n\n<p>With JUnit 4 a runner such as <code>@RunWith(Parameterized::class)</code> plus inheritance could be used to pass an array of parameters to subclasses, but I am not sure if it is possible to achieve something equivalent but using the new JUnit 5 api.</p>\n"},{"tags":["java","keycloak"],"owner":{"account_id":29330280,"reputation":1,"user_id":22471890,"display_name":"Talindras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693403806,"creation_date":1693403806,"question_id":77008714,"body_markdown":"I&#39;m working on migrating out of an old database store. We&#39;ve created a user storage SPI that allows us to use the old system to validate credentials. This currently works. We validate the credentials in our custom CredentialInputValidator.isValid function. What we want to do is, the login to the old system is valid, we want to create a local user account matching the user and attach credentials.\r\n\r\nThe way this should work, as I understand it, is:\r\n\r\n    \r\n```\r\nLogin -&gt;\r\n        -&gt; Hits Custom User Storage SPI\r\n        -&gt; On Success\r\n            -&gt; Create local user account if not exists\r\n            -&gt; Attach new password credentials\r\n        -&gt; Is Logged In\r\n    Log Out\r\n    Log In -&gt;\r\n        -&gt; Checks Keycloak Local Users\r\n            -&gt; User Storage SPI is never checked, because the local account was previously created.\r\n        -&gt; UN/PW check\r\n            -&gt; (failure happens here)\r\n        -&gt; Is Logged In\r\n```\r\n\r\nThis is how it SHOULD work. Unfortunately, no matter what I try, it never lets me log in the second time (nor does it ever attempt to hit the User Storage SPI again, because the local account exists). I can see that the user and credentials were created in the realm under users; I can see the user and credential rows in public.user\\_entity and public.credential tables.\r\n\r\nNo matter what I try, I can never log in to the local account.\r\n\r\nBelow is my isValid function. Can anyone help me figure out what I&#39;m doing wrong?\r\n```\r\n\r\n        @Override\r\n        public boolean isValid(RealmModel realm, UserModel user, CredentialInput input) {\r\n            UserCredentialModel cred = (UserCredentialModel)input;\r\n            String password = cred.getValue();\r\n    \r\n            // Login to the legacy system.\r\n            String loginOutput = loginCMD(user.getUsername(), password, xForwardedFor);\r\n    \r\n            // Falures return a simple string &quot;false&quot;\r\n            Boolean valid = !loginOutput.equals(&quot;false&quot;);\r\n    \r\n            if (!valid) {\r\n                return valid;\r\n            }\r\n    \r\n            // Store the user back to Keycloak.\r\n            UserModel local = UserStoragePrivateUtil.userLocalStorage(session).getUserByUsername(realm, user.getUsername());\r\n    \r\n            if (local != null) {\r\n                return valid;\r\n            }\r\n    \r\n            local = UserStoragePrivateUtil.userLocalStorage(session).addUser(realm, user.getUsername());\r\n            local.setFirstName(&quot;firstName&quot;);\r\n            local.setLastName(&quot;lastName&quot;);\r\n            local.setEmail(user.getUsername());\r\n            local.setEnabled(true);\r\n            local.setUsername(user.getUsername());\r\n    \r\n            Pbkdf2PasswordHashProvider encoder = new Pbkdf2PasswordHashProvider(\r\n                Pbkdf2Sha512PasswordHashProviderFactory.ID,\r\n                Pbkdf2Sha512PasswordHashProviderFactory.PBKDF2_ALGORITHM,\r\n                Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS,\r\n                256 // Tried setting this to 512, as well, no dice.\r\n            );\r\n    \r\n            PasswordCredentialModel pcm = encoder.encodedCredential(password, Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS);\r\n    \r\n            Date date = new Date();\r\n            pcm.setCreatedDate(date.getTime());\r\n            pcm.setUserLabel(&quot;user-spi migration&quot;);\r\n    \r\n            if (!local.credentialManager().isConfiguredFor(input.getType())) {\r\n                try {\r\n                    local.credentialManager().createStoredCredential(pcm);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return valid;\r\n        }\r\n```\r\n\r\n\r\n\r\nI tried creating a local user with a credential, and logging in using that account. The account and credential get created, but login always fails with \r\n&gt; DEBUG [org.keycloak.credential.PasswordCredentialProvider] (executor-thread-1) Failed password validation for user [redacted]","title":"Keycloak User SPI Migration Strategy Import - Failing at importing credentials","body":"<p>I'm working on migrating out of an old database store. We've created a user storage SPI that allows us to use the old system to validate credentials. This currently works. We validate the credentials in our custom CredentialInputValidator.isValid function. What we want to do is, the login to the old system is valid, we want to create a local user account matching the user and attach credentials.</p>\n<p>The way this should work, as I understand it, is:</p>\n<pre><code>Login -&gt;\n        -&gt; Hits Custom User Storage SPI\n        -&gt; On Success\n            -&gt; Create local user account if not exists\n            -&gt; Attach new password credentials\n        -&gt; Is Logged In\n    Log Out\n    Log In -&gt;\n        -&gt; Checks Keycloak Local Users\n            -&gt; User Storage SPI is never checked, because the local account was previously created.\n        -&gt; UN/PW check\n            -&gt; (failure happens here)\n        -&gt; Is Logged In\n</code></pre>\n<p>This is how it SHOULD work. Unfortunately, no matter what I try, it never lets me log in the second time (nor does it ever attempt to hit the User Storage SPI again, because the local account exists). I can see that the user and credentials were created in the realm under users; I can see the user and credential rows in public.user_entity and public.credential tables.</p>\n<p>No matter what I try, I can never log in to the local account.</p>\n<p>Below is my isValid function. Can anyone help me figure out what I'm doing wrong?</p>\n<pre><code>\n        @Override\n        public boolean isValid(RealmModel realm, UserModel user, CredentialInput input) {\n            UserCredentialModel cred = (UserCredentialModel)input;\n            String password = cred.getValue();\n    \n            // Login to the legacy system.\n            String loginOutput = loginCMD(user.getUsername(), password, xForwardedFor);\n    \n            // Falures return a simple string &quot;false&quot;\n            Boolean valid = !loginOutput.equals(&quot;false&quot;);\n    \n            if (!valid) {\n                return valid;\n            }\n    \n            // Store the user back to Keycloak.\n            UserModel local = UserStoragePrivateUtil.userLocalStorage(session).getUserByUsername(realm, user.getUsername());\n    \n            if (local != null) {\n                return valid;\n            }\n    \n            local = UserStoragePrivateUtil.userLocalStorage(session).addUser(realm, user.getUsername());\n            local.setFirstName(&quot;firstName&quot;);\n            local.setLastName(&quot;lastName&quot;);\n            local.setEmail(user.getUsername());\n            local.setEnabled(true);\n            local.setUsername(user.getUsername());\n    \n            Pbkdf2PasswordHashProvider encoder = new Pbkdf2PasswordHashProvider(\n                Pbkdf2Sha512PasswordHashProviderFactory.ID,\n                Pbkdf2Sha512PasswordHashProviderFactory.PBKDF2_ALGORITHM,\n                Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS,\n                256 // Tried setting this to 512, as well, no dice.\n            );\n    \n            PasswordCredentialModel pcm = encoder.encodedCredential(password, Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS);\n    \n            Date date = new Date();\n            pcm.setCreatedDate(date.getTime());\n            pcm.setUserLabel(&quot;user-spi migration&quot;);\n    \n            if (!local.credentialManager().isConfiguredFor(input.getType())) {\n                try {\n                    local.credentialManager().createStoredCredential(pcm);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n    \n            return valid;\n        }\n</code></pre>\n<p>I tried creating a local user with a credential, and logging in using that account. The account and credential get created, but login always fails with</p>\n<blockquote>\n<p>DEBUG [org.keycloak.credential.PasswordCredentialProvider] (executor-thread-1) Failed password validation for user [redacted]</p>\n</blockquote>\n"},{"tags":["java","maven","liquibase","checkstyle"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1693465424,"post_id":77008670,"comment_id":135765138,"body_markdown":"what should that checkstyle check actually?","body":"what should that checkstyle check actually?"},{"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"score":0,"creation_date":1694180379,"post_id":77008670,"comment_id":135861465,"body_markdown":"I have put an example here - liquibase that uses changeset file which is in XML format. File contains fields that I want to check togather with other checks from checkstyle which operate on JAVA files. What is not clear for you here?","body":"I have put an example here - liquibase that uses changeset file which is in XML format. File contains fields that I want to check togather with other checks from checkstyle which operate on JAVA files. What is not clear for you here?"}],"answers":[{"tags":[],"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693403764,"creation_date":1693403764,"answer_id":77008707,"question_id":77008670,"body_markdown":"I don&#39;t know what `liquibase` is.\r\n\r\nPossible, yes, but you will need to build out the new parser and checks that will go against the new file type. Its not a simple, easy process. Without the parser, you will have to rely on regexp or string based matching which can be very flawed.\r\n\r\nI myself tried to start things like this at https://github.com/rnveach/checkstyle-extras/ for my work but things changed for me and I don&#39;t really have the energy to build this out myself.","title":"How to write a custom checkstyle check to verify content of XML file?","body":"<p>I don't know what <code>liquibase</code> is.</p>\n<p>Possible, yes, but you will need to build out the new parser and checks that will go against the new file type. Its not a simple, easy process. Without the parser, you will have to rely on regexp or string based matching which can be very flawed.</p>\n<p>I myself tried to start things like this at <a href=\"https://github.com/rnveach/checkstyle-extras/\" rel=\"nofollow noreferrer\">https://github.com/rnveach/checkstyle-extras/</a> for my work but things changed for me and I don't really have the energy to build this out myself.</p>\n"}],"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77008707,"answer_count":1,"score":-2,"last_activity_date":1693403764,"creation_date":1693403386,"question_id":77008670,"body_markdown":"I&#39;m wondering is it posssible to write a custom checkstyle check that checks a file other then java source? For instance from src/main/resources? fiels like a liquibase changeset (it is a XML file)?\r\n\r\n**I do not have liquibase PRO licence to write my own liquidbase check and run it.*\r\n\r\n ","title":"How to write a custom checkstyle check to verify content of XML file?","body":"<p>I'm wondering is it posssible to write a custom checkstyle check that checks a file other then java source? For instance from src/main/resources? fiels like a liquibase changeset (it is a XML file)?</p>\n<p>*<em>I do not have liquibase PRO licence to write my own liquidbase check and run it.</em></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1497981760,"post_id":44660071,"comment_id":76305410,"body_markdown":"Have you changed the module settings? Make sure it&#39;s not including an old jar.","body":"Have you changed the module settings? Make sure it&#39;s not including an old jar."},{"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"score":0,"creation_date":1497981784,"post_id":44660071,"comment_id":76305424,"body_markdown":"try deleting build folder(s) manually.","body":"try deleting build folder(s) manually."},{"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"score":0,"creation_date":1497981824,"post_id":44660071,"comment_id":76305454,"body_markdown":"How can I do that? @Compass","body":"How can I do that? @Compass"},{"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"score":0,"creation_date":1497981909,"post_id":44660071,"comment_id":76305522,"body_markdown":"I tried deleting all the .class files in the bin directory but that didn&#39;t work either. It&#39;s still picking up old class files. @NabinBhandari","body":"I tried deleting all the .class files in the bin directory but that didn&#39;t work either. It&#39;s still picking up old class files. @NabinBhandari"},{"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"score":0,"creation_date":1497982040,"post_id":44660071,"comment_id":76305596,"body_markdown":"Make sure they are cleaned properly. There is no way of deleted files being recovered and used automatically. \nLast Resort: Create new project or reinstall intelliJ","body":"Make sure they are cleaned properly. There is no way of deleted files being recovered and used automatically.  Last Resort: Create new project or reinstall intelliJ"},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1498003921,"post_id":44660071,"comment_id":76315204,"body_markdown":"Are you using a development framework, for example Maven, or is all handcrafted?","body":"Are you using a development framework, for example Maven, or is all handcrafted?"},{"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"score":0,"creation_date":1498050150,"post_id":44660071,"comment_id":76337847,"body_markdown":"No, I am not using any development framework. @AdrianM.","body":"No, I am not using any development framework. @AdrianM."},{"owner":{"account_id":4548641,"reputation":600,"user_id":3772987,"display_name":"Grisotto"},"score":0,"creation_date":1562772712,"post_id":44660071,"comment_id":100484339,"body_markdown":"I just deleted `build` and `out` folders.","body":"I just deleted <code>build</code> and <code>out</code> folders."}],"answers":[{"tags":[],"owner":{"account_id":6511114,"reputation":59,"user_id":6797477,"display_name":"Rowan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1498003729,"creation_date":1498003729,"answer_id":44664873,"question_id":44660071,"body_markdown":"I&#39;ve had the same issue and I haven&#39;t been able to consistently make it go away, however, here&#39;s some things I&#39;ve tried that could help:\r\n\r\n - delete .class files\r\n - invalidate caches and restart\r\n - check settings: sdk and source path imports of IDEA code might affect it\r\n - delete and reinstall intellij\r\n\r\nOr do what I&#39;ve ultimately done, which is to create a new project and avoid spending 5 hours tinkering with IntelliJ to get it to run my code properly.","title":"IntelliJ is running old class files","body":"<p>I've had the same issue and I haven't been able to consistently make it go away, however, here's some things I've tried that could help:</p>\n\n<ul>\n<li>delete .class files</li>\n<li>invalidate caches and restart</li>\n<li>check settings: sdk and source path imports of IDEA code might affect it</li>\n<li>delete and reinstall intellij</li>\n</ul>\n\n<p>Or do what I've ultimately done, which is to create a new project and avoid spending 5 hours tinkering with IntelliJ to get it to run my code properly.</p>\n"},{"tags":[],"owner":{"account_id":8810810,"reputation":21,"user_id":6583934,"display_name":"Mehdi Pourrostam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568145088,"creation_date":1568145088,"answer_id":57877374,"question_id":44660071,"body_markdown":"I had such a problem in IntelliJ by a maven enabled project.\r\nRunning maven clean phase and ... , but no effect,  \r\nany change to classes had no effect in deployed project. \r\nfinally I found the problem. \r\nclasses was hidden in this path: \r\n{Project Path}\\src\\main\\webapp\\WEB-INF\\classes{my packages}\r\nby removing this, problems has gone. \r\n\r\nHope it was useful. ","title":"IntelliJ is running old class files","body":"<p>I had such a problem in IntelliJ by a maven enabled project.\nRunning maven clean phase and ... , but no effect,<br>\nany change to classes had no effect in deployed project. \nfinally I found the problem. \nclasses was hidden in this path: \n{Project Path}\\src\\main\\webapp\\WEB-INF\\classes{my packages}\nby removing this, problems has gone. </p>\n\n<p>Hope it was useful. </p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589831450,"creation_date":1589831450,"answer_id":61877857,"question_id":44660071,"body_markdown":"In my case it was the maven issue within Intellij settings. When I used bundled version it gave the error it should have. I don&#39;t know why giving actual path won&#39;t work but Bundled Version will work.","title":"IntelliJ is running old class files","body":"<p>In my case it was the maven issue within Intellij settings. When I used bundled version it gave the error it should have. I don't know why giving actual path won't work but Bundled Version will work.</p>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604940153,"creation_date":1604940153,"answer_id":64755645,"question_id":44660071,"body_markdown":"Follow these steps to let IntelliJ &quot;forget&quot; all old internal files:\r\n\r\n 1. Close the running IntelliJ instance.\r\n 2. Delete the `.idea` directory of your project.\r\n 3. Open the project like a new project.\r\n\r\nAfter that you have a fresh IntelliJ project that probably needs some configuration (as usual).","title":"IntelliJ is running old class files","body":"<p>Follow these steps to let IntelliJ &quot;forget&quot; all old internal files:</p>\n<ol>\n<li>Close the running IntelliJ instance.</li>\n<li>Delete the <code>.idea</code> directory of your project.</li>\n<li>Open the project like a new project.</li>\n</ol>\n<p>After that you have a fresh IntelliJ project that probably needs some configuration (as usual).</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630583293,"creation_date":1630583293,"answer_id":69029698,"question_id":44660071,"body_markdown":"In the context of [Java Parser](https://github.com/javaparser/javaparser), I needed to run `mvn clean install -DskipTests` after each change on the command line. Then, class changes were available in IntelliJ. No other way helped here.","title":"IntelliJ is running old class files","body":"<p>In the context of <a href=\"https://github.com/javaparser/javaparser\" rel=\"nofollow noreferrer\">Java Parser</a>, I needed to run <code>mvn clean install -DskipTests</code> after each change on the command line. Then, class changes were available in IntelliJ. No other way helped here.</p>\n"},{"tags":[],"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693403681,"creation_date":1693403681,"answer_id":77008696,"question_id":44660071,"body_markdown":"`mvn clean` fixed it for me.\r\n\r\nIn my case I ran all tests in a package and a deleted test class was included in the test. After `mvn clean` the deleted class doesn&#39;t appear any more.","title":"IntelliJ is running old class files","body":"<p><code>mvn clean</code> fixed it for me.</p>\n<p>In my case I ran all tests in a package and a deleted test class was included in the test. After <code>mvn clean</code> the deleted class doesn't appear any more.</p>\n"}],"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8298,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":6,"score":14,"last_activity_date":1693403681,"creation_date":1497981679,"question_id":44660071,"body_markdown":"I am using Intellij for my project development(Java). Strangely, whenever I try to run the project making some new changes to it, Intellij is always running old class files which were complied for a older version of my project. I tried recompiling, rebuilding, tried invalidate caches and restart, removed the project and opened it again but nothing seems to work. Not able to figure out the reason and now I am clueless what to do.\r\n\r\nAny help would be appreciated. Thank you.","title":"IntelliJ is running old class files","body":"<p>I am using Intellij for my project development(Java). Strangely, whenever I try to run the project making some new changes to it, Intellij is always running old class files which were complied for a older version of my project. I tried recompiling, rebuilding, tried invalidate caches and restart, removed the project and opened it again but nothing seems to work. Not able to figure out the reason and now I am clueless what to do.</p>\n\n<p>Any help would be appreciated. Thank you.</p>\n"},{"tags":["java","unit-testing","concurrency","completable-future"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693402993,"creation_date":1693365700,"answer_id":77004797,"question_id":77004658,"body_markdown":"Yes. You can spy the `ClassA` instance you want to test. The nice thing of a spy is that it allows you to test the real thing but at the same time can also let you to verify if certain of its method are really executed or not. \r\n\r\nAnother nice thing is that it allow you to add some codes that will be executed before actually executing the real method by using `doAnswer()`. So you can make use of it to capture the thread name that is used to execute methodB for verification later , and also setup a `CountDownLatch` such that the main thread will wait for the aysnc. thread to finish before proceeding. \r\n\r\n\r\nSo something likes as below after combining all of these :  \r\n\r\n``` java\r\n@Test\r\nvoid test(){\r\n    ClassA sut = new ClassA(xxx);\r\n    sut = spy(sut);\r\n\r\n    CountDownLatch latch = new CountDownLatch(1);\r\n    AtomicReference&lt;Thread&gt; asyncThreadRef = new AtomicReference();\r\n\r\n     doAnswer(ans -&gt; {\r\n            try {\r\n               asyncThreadRef.set(Thread.currentThread());\r\n                return ans.callRealMethod();\r\n            } finally {\r\n                latch.countDown();\r\n            }\r\n     }).when(sut).methodB(eq(aaa), eq(bbb));\r\n    \r\n    sut.methodA(aaa,bbb);\r\n    latch.await(500, TimeUnit.MILLISECONDS);\r\n\r\n    verify(sut, times(1)).methodB(aaa, bbb);\r\n    assertThat(asyncThreadRef.get()).isNotSameAs(Thread.currentThread());   \r\n}\r\n```","title":"Unittest verify async method Java","body":"<p>Yes. You can spy the <code>ClassA</code> instance you want to test. The nice thing of a spy is that it allows you to test the real thing but at the same time can also let you to verify if certain of its method are really executed or not.</p>\n<p>Another nice thing is that it allow you to add some codes that will be executed before actually executing the real method by using <code>doAnswer()</code>. So you can make use of it to capture the thread name that is used to execute methodB for verification later , and also setup a <code>CountDownLatch</code> such that the main thread will wait for the aysnc. thread to finish before proceeding.</p>\n<p>So something likes as below after combining all of these :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test(){\n    ClassA sut = new ClassA(xxx);\n    sut = spy(sut);\n\n    CountDownLatch latch = new CountDownLatch(1);\n    AtomicReference&lt;Thread&gt; asyncThreadRef = new AtomicReference();\n\n     doAnswer(ans -&gt; {\n            try {\n               asyncThreadRef.set(Thread.currentThread());\n                return ans.callRealMethod();\n            } finally {\n                latch.countDown();\n            }\n     }).when(sut).methodB(eq(aaa), eq(bbb));\n    \n    sut.methodA(aaa,bbb);\n    latch.await(500, TimeUnit.MILLISECONDS);\n\n    verify(sut, times(1)).methodB(aaa, bbb);\n    assertThat(asyncThreadRef.get()).isNotSameAs(Thread.currentThread());   \n}\n</code></pre>\n"}],"owner":{"account_id":23103592,"reputation":55,"user_id":17212637,"display_name":"Luka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77004797,"answer_count":1,"score":0,"last_activity_date":1693402993,"creation_date":1693362949,"question_id":77004658,"body_markdown":"I want to verify that when run methodA, my code run through methodB asynchronously (1 time) like below\r\n\r\n```\r\npublic class ClassA {\r\n\r\n    @Inject\r\n    @Named(&quot;executor&quot;)\r\n    ExecutionContextExecutor eventHandlerExecutor;\r\n\r\n    public Object methodA (Object x, Object y) {\r\n        ...\r\n        CompletableFuture.runAsync(() -&gt; methodB(i, j), eventHandlerExecutor);\r\n        ...\r\n    }\r\n\r\n    public void methodB (Object n, Object m) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nHow should I write a unit test for this?\r\n\r\n```\r\nclassA.methodA(x, y);\r\n\r\n// can spying classA help to verify it?\r\nverify(classA, times(1)).methodB(any(), any());\r\n```\r\n","title":"Unittest verify async method Java","body":"<p>I want to verify that when run methodA, my code run through methodB asynchronously (1 time) like below</p>\n<pre><code>public class ClassA {\n\n    @Inject\n    @Named(&quot;executor&quot;)\n    ExecutionContextExecutor eventHandlerExecutor;\n\n    public Object methodA (Object x, Object y) {\n        ...\n        CompletableFuture.runAsync(() -&gt; methodB(i, j), eventHandlerExecutor);\n        ...\n    }\n\n    public void methodB (Object n, Object m) {\n        ...\n    }\n}\n</code></pre>\n<p>How should I write a unit test for this?</p>\n<pre><code>classA.methodA(x, y);\n\n// can spying classA help to verify it?\nverify(classA, times(1)).methodB(any(), any());\n</code></pre>\n"},{"tags":["java","html","css","pdf","flying-saucer"],"comments":[{"owner":{"account_id":13743867,"reputation":75,"user_id":9918191,"display_name":"zaro"},"score":1,"creation_date":1693407751,"post_id":77008614,"comment_id":135757433,"body_markdown":"I think the problem was that the original HTML code wasn&#39;t creating an A4 Page but just a smaller container with the information, that&#39;s why it appears that way. I changed the code to make the page as big as A4 and it works well now; it still has a little of this greyish thing in the bottom but its not a big deal.","body":"I think the problem was that the original HTML code wasn&#39;t creating an A4 Page but just a smaller container with the information, that&#39;s why it appears that way. I changed the code to make the page as big as A4 and it works well now; it still has a little of this greyish thing in the bottom but its not a big deal."}],"owner":{"account_id":13743867,"reputation":75,"user_id":9918191,"display_name":"zaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693402896,"creation_date":1693402896,"question_id":77008614,"body_markdown":"I am using Flying Saucer library to convert `.html` file to `.pdf` file, but the created `.pdf` doesn&#39;t fill the whole page and creates weird gaps. I tried using `@page { size: A4}` in the HTML code but it didn&#39;t work. What could be the problem? Here&#39;s the images of the `.pdf` file:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ONoAP.png","title":"How to set pdf size using Flying Saucer library?","body":"<p>I am using Flying Saucer library to convert <code>.html</code> file to <code>.pdf</code> file, but the created <code>.pdf</code> doesn't fill the whole page and creates weird gaps. I tried using <code>@page { size: A4}</code> in the HTML code but it didn't work. What could be the problem? Here's the images of the <code>.pdf</code> file:</p>\n<p><a href=\"https://i.stack.imgur.com/ONoAP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ONoAP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693399886,"post_id":77008193,"comment_id":135755473,"body_markdown":"[this.setLayout(null);](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)\n*// an ugly fix because swing is so broken* It isn&#39;t broken. What *is* broken is *your code* as you are ignoring Swing&#39;s threading model","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">this.setLayout(null);</a> <i>// an ugly fix because swing is so broken</i> It isn&#39;t broken. What <i>is</i> broken is <i>your code</i> as you are ignoring Swing&#39;s threading model"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693401713,"post_id":77008193,"comment_id":135755908,"body_markdown":"You should be overriding `paintComponent()` and not `paint()` for `JPanel `, don&#39;t subcalss `JFrame` , and you should be doing most of your computations outside of the EDT as possible, to name a few problems out of many.  Check out the [Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html) and [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)","body":"You should be overriding <code>paintComponent()</code> and not <code>paint()</code> for <code>JPanel </code>, don&#39;t subcalss <code>JFrame</code> , and you should be doing most of your computations outside of the EDT as possible, to name a few problems out of many.  Check out the <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java Tutorials</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1693402133,"post_id":77008193,"comment_id":135756029,"body_markdown":"1) Components should be added to the frame BEFORE the frame is made visible. 2) the updateOnSize() method is not needed. Use a proper layout manager and the size of components will automatically be resized based on the rules of the layout manager. 3) *an ugly fix because swing is so broken* - it is your code that is broken because of your lack of understanding how Swing works. Read the tutorials for examples showing a better way to structure your code and create the frame.","body":"1) Components should be added to the frame BEFORE the frame is made visible. 2) the updateOnSize() method is not needed. Use a proper layout manager and the size of components will automatically be resized based on the rules of the layout manager. 3) <i>an ugly fix because swing is so broken</i> - it is your code that is broken because of your lack of understanding how Swing works. Read the tutorials for examples showing a better way to structure your code and create the frame."},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1693403111,"post_id":77008193,"comment_id":135756263,"body_markdown":"Move this.setVisible(true); at the end. This will make the frame visible after the required components have been added to it and you will see it without any click or resize.","body":"Move this.setVisible(true); at the end. This will make the frame visible after the required components have been added to it and you will see it without any click or resize."}],"answers":[{"tags":[],"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693402552,"creation_date":1693401439,"answer_id":77008420,"question_id":77008193,"body_markdown":"Override `paintComponent()` instead of `paint()`!\r\n\r\nBasically the drawing of the images is being done at the wrong order: the button is being painted first, that is, the image are being draw over the button.\r\n\r\nThe `paint()` method calls `paintComponent`, `paintBorder`, and `paintChildren` - drawing the *background* is better done in `paintComponent` so the component children are draw *over* the background.\r\n\r\n-----\r\n\r\nNote: it is also recommended to use a `LayoutManager`, that is, do not do `setLayout(null)`!\r\n\r\nAlso have a look at the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) tutorial.\r\n\r\n","title":"Why does JPanel not show its components until manually updated?","body":"<p>Override <code>paintComponent()</code> instead of <code>paint()</code>!</p>\n<p>Basically the drawing of the images is being done at the wrong order: the button is being painted first, that is, the image are being draw over the button.</p>\n<p>The <code>paint()</code> method calls <code>paintComponent</code>, <code>paintBorder</code>, and <code>paintChildren</code> - drawing the <em>background</em> is better done in <code>paintComponent</code> so the component children are draw <em>over</em> the background.</p>\n<hr />\n<p>Note: it is also recommended to use a <code>LayoutManager</code>, that is, do not do <code>setLayout(null)</code>!</p>\n<p>Also have a look at the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> tutorial.</p>\n"}],"owner":{"account_id":26641224,"reputation":19,"user_id":20256870,"display_name":"glowiak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693402552,"creation_date":1693399687,"question_id":77008193,"body_markdown":"I see Java Swing components like JFrame or JPanel having such weird property, that they don&#39;t display their components, unless they are activated by, for example clicking them.\r\n\r\nAnd while in case of JFrame it can be solved simply by using the .pack() function, in case of JPanel it is literally hell.\r\n\r\nI have tried .updateUI(), .validate(), .repaint() and even setting it firstly to wrong size to then resize. Nothing works.\r\n\r\nPanel class:\r\n```\r\npackage com.glowiak.xup.ui;\r\n\r\nimport javax.swing.JPanel;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport java.io.IOException;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JButton;\r\n\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class XupLoginPanel extends JPanel\r\n{\r\n\tprotected Image[] images;\r\n\tprotected JTextField tf_username;\r\n\tprotected JButton b_login;\r\n\t\r\n\tpublic XupLoginPanel()\r\n\t{\r\n\t\tthis.setPreferredSize(new Dimension(16 * 50, 16 * 30));\r\n\t\tthis.setLayout(null);\r\n\t\t\r\n\t\tthis.loadImages();\r\n\t\tthis.initComponents();\r\n\t\tthis.updateOnResize();\r\n\t}\r\n\tprivate final void loadImages()\r\n\t{\r\n\t\tthis.images = new Image[5];\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.images[0] = ImageIO.read(this.getClass().getResource(&quot;/dirt.png&quot;));\r\n\t\t\tthis.images[0] = this.images[0].getScaledInstance(32, 32, Image.SCALE_DEFAULT);\r\n\t\t\t\r\n\t\t\tthis.images[1] = ImageIO.read(this.getClass().getResource(&quot;/logo.png&quot;));\r\n\t\t\tthis.images[1] = this.images[1].getScaledInstance(512, 512, Image.SCALE_DEFAULT);\r\n\t\t\t\r\n\t\t\tthis.images[2] = ImageIO.read(this.getClass().getResource(&quot;/favicon.png&quot;));\r\n\t\t} catch (IOException ioe)\r\n\t\t{\r\n\t\t\tioe.printStackTrace();\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t}\r\n\tprivate final void initComponents()\r\n\t{\r\n\t\tthis.tf_username = new JTextField();\r\n\t\tthis.b_login = new JButton(&quot;Play&quot;);\r\n\t\t\r\n\t\tthis.add(this.tf_username);\r\n\t\tthis.add(this.b_login);\r\n\t}\r\n\tprotected final void updateOnResize()\r\n\t{\r\n\t\tthis.tf_username.setBounds(this.getWidth() / 2 - 60, 160, 120, 25);\r\n\t\tthis.b_login.setBounds(this.getWidth() / 2 - 60, 210, 120, 35);\r\n\t}\r\n\tpublic void paint(Graphics g)\r\n\t{\r\n\t\tsuper.paint(g);\r\n\t\t\r\n\t\tint tx = (int)(this.getWidth() / 32) + 2;\r\n\t\tint ty = (int)(this.getHeight() / 32) + 2;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; tx; i++)\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; ty; j++)\r\n\t\t\t{\r\n\t\t\t\tg.drawImage(this.images[0], i * 32, j * 32, null);\r\n\t\t\t}\r\n\t\t}\r\n\t\tg.drawImage(this.images[1], this.getWidth() / 2 - 256, 25, null);\r\n\t\t\r\n\t\tg.setColor(Color.lightGray);\r\n\t\ttx = this.getWidth() / 2 - 80;\r\n\t\tty = 130;\r\n\t\tint w = (this.getWidth() / 2 + 80) - tx;\r\n\t\tint h = 150;\r\n\t\tg.fillRect(tx, ty, w, h);\r\n\t\t\r\n\t\tg.setColor(Color.black);\r\n\t\tg.drawString(&quot;Username:&quot;, tx + 45, ty + 20);\r\n\t}\r\n}\r\n```\r\nwindow class:\r\n```\r\npackage com.glowiak.xup.ui;\r\n\r\nimport javax.swing.JFrame;\r\n\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\n\r\nimport com.glowiak.xup.launcher.Launcher;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class XupWindow extends JFrame\r\n{\r\n\tprotected XupLoginPanel p_login;\r\n\t\r\n\tpublic Launcher launcher;\r\n\t\r\n\tpublic XupWindow()\r\n\t{\r\n\t\tsuper(&quot;Minecraft Launcher&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setVisible(true);\r\n\t\t//this.setResizable(false);\r\n\t\t\r\n\t\tthis.launcher = new Launcher();\r\n\t\t\r\n\t\tthis.p_login = new XupLoginPanel();\r\n\t\t\r\n\t\tthis.setIconImage(this.p_login.images[2]);\r\n\t\t\r\n\t\tthis.addComponentListener(new ComponentAdapter()\r\n\t\t{\r\n\t\t\tpublic void componentResized(ComponentEvent e)\r\n\t\t\t{\r\n\t\t\t\tp_login.updateOnResize();\r\n\t\t\t\tp_login.validate();\r\n\t\t\t\tp_login.updateUI();\r\n\t\t\t\tp_login.repaint();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tthis.add(this.p_login);\r\n\t\t\r\n\t\tthis.pack();\r\n\t\t\r\n\t\t// an ugly fix because swing is so broken\r\n\t\ttry { Thread.sleep(2); } catch (Exception e) {}\r\n\t\tthis.setSize(16 * 50, 16 * 30);\r\n\t\ttry { Thread.sleep(2); } catch (Exception e) {}\r\n\t\tthis.p_login.validate();\r\n\t\tthis.p_login.updateUI();\r\n\t\tthis.p_login.repaint();\r\n\t}\r\n}\r\n```\r\n\r\nThanks in advance.","title":"Why does JPanel not show its components until manually updated?","body":"<p>I see Java Swing components like JFrame or JPanel having such weird property, that they don't display their components, unless they are activated by, for example clicking them.</p>\n<p>And while in case of JFrame it can be solved simply by using the .pack() function, in case of JPanel it is literally hell.</p>\n<p>I have tried .updateUI(), .validate(), .repaint() and even setting it firstly to wrong size to then resize. Nothing works.</p>\n<p>Panel class:</p>\n<pre><code>package com.glowiak.xup.ui;\n\nimport javax.swing.JPanel;\n\nimport javax.imageio.ImageIO;\n\nimport java.io.IOException;\n\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Color;\n\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\n\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class XupLoginPanel extends JPanel\n{\n    protected Image[] images;\n    protected JTextField tf_username;\n    protected JButton b_login;\n    \n    public XupLoginPanel()\n    {\n        this.setPreferredSize(new Dimension(16 * 50, 16 * 30));\n        this.setLayout(null);\n        \n        this.loadImages();\n        this.initComponents();\n        this.updateOnResize();\n    }\n    private final void loadImages()\n    {\n        this.images = new Image[5];\n        \n        try {\n            this.images[0] = ImageIO.read(this.getClass().getResource(&quot;/dirt.png&quot;));\n            this.images[0] = this.images[0].getScaledInstance(32, 32, Image.SCALE_DEFAULT);\n            \n            this.images[1] = ImageIO.read(this.getClass().getResource(&quot;/logo.png&quot;));\n            this.images[1] = this.images[1].getScaledInstance(512, 512, Image.SCALE_DEFAULT);\n            \n            this.images[2] = ImageIO.read(this.getClass().getResource(&quot;/favicon.png&quot;));\n        } catch (IOException ioe)\n        {\n            ioe.printStackTrace();\n            System.exit(1);\n        }\n    }\n    private final void initComponents()\n    {\n        this.tf_username = new JTextField();\n        this.b_login = new JButton(&quot;Play&quot;);\n        \n        this.add(this.tf_username);\n        this.add(this.b_login);\n    }\n    protected final void updateOnResize()\n    {\n        this.tf_username.setBounds(this.getWidth() / 2 - 60, 160, 120, 25);\n        this.b_login.setBounds(this.getWidth() / 2 - 60, 210, 120, 35);\n    }\n    public void paint(Graphics g)\n    {\n        super.paint(g);\n        \n        int tx = (int)(this.getWidth() / 32) + 2;\n        int ty = (int)(this.getHeight() / 32) + 2;\n        \n        for (int i = 0; i &lt; tx; i++)\n        {\n            for (int j = 0; j &lt; ty; j++)\n            {\n                g.drawImage(this.images[0], i * 32, j * 32, null);\n            }\n        }\n        g.drawImage(this.images[1], this.getWidth() / 2 - 256, 25, null);\n        \n        g.setColor(Color.lightGray);\n        tx = this.getWidth() / 2 - 80;\n        ty = 130;\n        int w = (this.getWidth() / 2 + 80) - tx;\n        int h = 150;\n        g.fillRect(tx, ty, w, h);\n        \n        g.setColor(Color.black);\n        g.drawString(&quot;Username:&quot;, tx + 45, ty + 20);\n    }\n}\n</code></pre>\n<p>window class:</p>\n<pre><code>package com.glowiak.xup.ui;\n\nimport javax.swing.JFrame;\n\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport com.glowiak.xup.launcher.Launcher;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class XupWindow extends JFrame\n{\n    protected XupLoginPanel p_login;\n    \n    public Launcher launcher;\n    \n    public XupWindow()\n    {\n        super(&quot;Minecraft Launcher&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n        //this.setResizable(false);\n        \n        this.launcher = new Launcher();\n        \n        this.p_login = new XupLoginPanel();\n        \n        this.setIconImage(this.p_login.images[2]);\n        \n        this.addComponentListener(new ComponentAdapter()\n        {\n            public void componentResized(ComponentEvent e)\n            {\n                p_login.updateOnResize();\n                p_login.validate();\n                p_login.updateUI();\n                p_login.repaint();\n            }\n        });\n        \n        this.add(this.p_login);\n        \n        this.pack();\n        \n        // an ugly fix because swing is so broken\n        try { Thread.sleep(2); } catch (Exception e) {}\n        this.setSize(16 * 50, 16 * 30);\n        try { Thread.sleep(2); } catch (Exception e) {}\n        this.p_login.validate();\n        this.p_login.updateUI();\n        this.p_login.repaint();\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","macos","info.plist"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693402503,"creation_date":1693402503,"answer_id":77008553,"question_id":77007289,"body_markdown":"It was never the application that read Info.plist - it was the launcher. You replaced it with a different implementation, and this different implementation seems to not read the information.\r\n\r\nBut why do you need to read that information at all? It cannot be anything that was unknown at build time, so if your application needs it you can either read Info.plist in Java or inject something in your jar directy.\r\n\r\nYou might also want to consider switching to the standard packager for Java applications, [JPackage][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A","title":"Why does my Java app not read keys from Info.plist","body":"<p>It was never the application that read Info.plist - it was the launcher. You replaced it with a different implementation, and this different implementation seems to not read the information.</p>\n<p>But why do you need to read that information at all? It cannot be anything that was unknown at build time, so if your application needs it you can either read Info.plist in Java or inject something in your jar directy.</p>\n<p>You might also want to consider switching to the standard packager for Java applications, <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">JPackage</a>.</p>\n"}],"owner":{"account_id":29328817,"reputation":19,"user_id":22470725,"display_name":"Jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77008553,"answer_count":1,"score":0,"last_activity_date":1693402503,"creation_date":1693392454,"question_id":77007289,"body_markdown":"My company has a Java application with bundled Java that we distribute to customers, both Windows and macOS users. Our setup uses Advanced Installer that creates both the msi file for Windows and the app package for macOS. We have not notarized the macOS app previously, just signed it, but now one of our customers requires notarization. Unfortuntely, the signing process that is required for notarization, breaks the app launcher file provided by Advanced Installer (this is a known problem, and they do not currently have a fix). So I have replaced it with JavaMacLauncher (https://github.com/OpenIndex/JavaMacLauncher). And now the app is correctly notarized.\r\n\r\nBut my problem is that the app no longer seem to read information from Info.plist after startup. Earlier we had to add the key NSRequiresAquaSystemAppearance with the value YES to prevent it from using dark mode, but this key is no longer respected. Additionally the LSMinimumSystemVersion key also seems to be ignored.\r\n\r\nJavaMacLauncher is started based on the key CFBundleExecutable in Info.plist. It also fetches the Java options used when starting the app. So the file is read before startup.\r\n\r\nSo I&#39;m wondering if I need to add some additional values to the startup script before the Java command is executed. Or if I&#39;m missing an option in the Java command itself, maybe from where the app is launched? Do I need to refer to the bundle identifier from the startup script?\r\n\r\nThe content of my app launcher is this:\r\n```\r\nexec /Applications/MyApp.app/Contents/PlugIns/temurin-8.jdk/Contents/Home/bin/java \\\r\n    -Xms32m \\\r\n    -Xmx512m \\\r\n    -Xdock:name=&quot;My App&quot; \\\r\n    -Xdock:icon=&quot;/Applications/MyApp.app/Contents/Resources/myappicon.icns&quot; \\\r\n    -XstartOnFirstThread \\\r\n    -Dinstalled.directory=&quot;/Applications/MyApp.app/Contents/Java&quot; \\\r\n    -Dprogram.version=1.2.3 \\\r\n    -Dteamdev.licence.info=true \\\r\n    -d64 \\\r\n    -Xdebug \\\r\n    -classpath &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar;/Applications/MyApp.app/Contents/Java/lib&quot; \\\r\n    -jar &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar&quot;\r\n```\r\n    \r\nThe app launcher is located in /Applications/MyApp.app/Contents/MacOS.The bundled Java is under ../Contents/PlugIns and the Java files are under ../Contents/Java.\r\n    \r\nI get the same result if I try other AppLaunchers, and also when I start the application from the terminal with the above command.\r\n    \r\nIf anyone could give me some pointers, it would be greatly appreciated.","title":"Why does my Java app not read keys from Info.plist","body":"<p>My company has a Java application with bundled Java that we distribute to customers, both Windows and macOS users. Our setup uses Advanced Installer that creates both the msi file for Windows and the app package for macOS. We have not notarized the macOS app previously, just signed it, but now one of our customers requires notarization. Unfortuntely, the signing process that is required for notarization, breaks the app launcher file provided by Advanced Installer (this is a known problem, and they do not currently have a fix). So I have replaced it with JavaMacLauncher (<a href=\"https://github.com/OpenIndex/JavaMacLauncher\" rel=\"nofollow noreferrer\">https://github.com/OpenIndex/JavaMacLauncher</a>). And now the app is correctly notarized.</p>\n<p>But my problem is that the app no longer seem to read information from Info.plist after startup. Earlier we had to add the key NSRequiresAquaSystemAppearance with the value YES to prevent it from using dark mode, but this key is no longer respected. Additionally the LSMinimumSystemVersion key also seems to be ignored.</p>\n<p>JavaMacLauncher is started based on the key CFBundleExecutable in Info.plist. It also fetches the Java options used when starting the app. So the file is read before startup.</p>\n<p>So I'm wondering if I need to add some additional values to the startup script before the Java command is executed. Or if I'm missing an option in the Java command itself, maybe from where the app is launched? Do I need to refer to the bundle identifier from the startup script?</p>\n<p>The content of my app launcher is this:</p>\n<pre><code>exec /Applications/MyApp.app/Contents/PlugIns/temurin-8.jdk/Contents/Home/bin/java \\\n    -Xms32m \\\n    -Xmx512m \\\n    -Xdock:name=&quot;My App&quot; \\\n    -Xdock:icon=&quot;/Applications/MyApp.app/Contents/Resources/myappicon.icns&quot; \\\n    -XstartOnFirstThread \\\n    -Dinstalled.directory=&quot;/Applications/MyApp.app/Contents/Java&quot; \\\n    -Dprogram.version=1.2.3 \\\n    -Dteamdev.licence.info=true \\\n    -d64 \\\n    -Xdebug \\\n    -classpath &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar;/Applications/MyApp.app/Contents/Java/lib&quot; \\\n    -jar &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar&quot;\n</code></pre>\n<p>The app launcher is located in /Applications/MyApp.app/Contents/MacOS.The bundled Java is under ../Contents/PlugIns and the Java files are under ../Contents/Java.</p>\n<p>I get the same result if I try other AppLaunchers, and also when I start the application from the terminal with the above command.</p>\n<p>If anyone could give me some pointers, it would be greatly appreciated.</p>\n"},{"tags":["java","android","macos","visual-studio","xamarin"],"comments":[{"owner":{"account_id":10528629,"reputation":58509,"user_id":7758804,"display_name":"Trenton McKinney"},"score":3,"creation_date":1693061896,"post_id":76935856,"comment_id":135711674,"body_markdown":"The OP stated https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12 Solved this issue. The question will be marked as a duplicate when the bounty expires.","body":"The OP stated <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\" title=\"android studio error manifest merger failed apps targeting android 12\">stackoverflow.com/questions/67412084/&hellip;</a> Solved this issue. The question will be marked as a duplicate when the bounty expires."},{"owner":{"account_id":10528629,"reputation":58509,"user_id":7758804,"display_name":"Trenton McKinney"},"score":0,"creation_date":1693575496,"post_id":76935856,"comment_id":135783166,"body_markdown":"Does this answer your question? [Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;](https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\">Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26934379,"reputation":1,"user_id":20506234,"display_name":"Dewmith Mihisara"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1692521132,"creation_date":1692521132,"answer_id":76938632,"question_id":76935856,"body_markdown":"First, you need to verify which version of Java you have installed on your system.If you&#39;re indeed using Java 11.0, you should install an earlier version of Java that is compatible with the Android Designer. Historically, Android development has been most compatible with Java 8.\r\n\r\nAfter installing the compatible version of Java, you may need to configure your system to use that version. This might involve updating the JAVA_HOME environment variable to point to the directory where the compatible Java version is installed.\r\n\r\nMake sure that your Visual Studio for Mac is up to date. Sometimes, newer updates include fixes for compatibility issues.\r\n\r\nCheck your Xamarin.Android project settings within Visual Studio for Mac to ensure that it&#39;s using the correct Java version. You might need to specify the path to the compatible Java SDK in your project settings.\r\n\r\nIf there are any project files or configuration files where you can specify the Java SDK version, review them to ensure that the correct version is being used.","title":"How to fix Xamarin Error in Visual Studio for Mac 8.10.25 (build 2) &quot;Java SDK 11.0 or above is required when using $(TargetFrameworkVersion)v12.0","body":"<p>First, you need to verify which version of Java you have installed on your system.If you're indeed using Java 11.0, you should install an earlier version of Java that is compatible with the Android Designer. Historically, Android development has been most compatible with Java 8.</p>\n<p>After installing the compatible version of Java, you may need to configure your system to use that version. This might involve updating the JAVA_HOME environment variable to point to the directory where the compatible Java version is installed.</p>\n<p>Make sure that your Visual Studio for Mac is up to date. Sometimes, newer updates include fixes for compatibility issues.</p>\n<p>Check your Xamarin.Android project settings within Visual Studio for Mac to ensure that it's using the correct Java version. You might need to specify the path to the compatible Java SDK in your project settings.</p>\n<p>If there are any project files or configuration files where you can specify the Java SDK version, review them to ensure that the correct version is being used.</p>\n"}],"owner":{"account_id":5955271,"reputation":39,"user_id":4682140,"display_name":"Larry Feldman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1693402336,"creation_date":1692459217,"question_id":76935856,"body_markdown":"I&#39;m getting this error in VS for Mac 8.10.25 (build 2):\r\n\r\n&gt; /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Legacy.targets(252,5): error XA0031: Note: the Android Designer is incompatible with Java SDK 11.0: https://aka.ms/vs2019-and-jdk-11\r\n\r\nI&#39;ve seen some answers on Stack Overflow for Visual Studio for PC, but I haven&#39;t been able to understand and/or apply the answers for my Mac hardware and software.\r\n","title":"How to fix Xamarin Error in Visual Studio for Mac 8.10.25 (build 2) &quot;Java SDK 11.0 or above is required when using $(TargetFrameworkVersion)v12.0","body":"<p>I'm getting this error in VS for Mac 8.10.25 (build 2):</p>\n<blockquote>\n<p>/Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Legacy.targets(252,5): error XA0031: Note: the Android Designer is incompatible with Java SDK 11.0: <a href=\"https://aka.ms/vs2019-and-jdk-11\" rel=\"nofollow noreferrer\">https://aka.ms/vs2019-and-jdk-11</a></p>\n</blockquote>\n<p>I've seen some answers on Stack Overflow for Visual Studio for PC, but I haven't been able to understand and/or apply the answers for my Mac hardware and software.</p>\n"},{"tags":["java","linux","jar"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1693168495,"post_id":76988639,"comment_id":135721108,"body_markdown":"A jar is literally a zip file with a manifest. Your `jar tf` shows the desired classes were jarred with the desired structure. **What** are you asking? Why the command doesn&#39;t work like you thought it should from the documentation? Why are you even using jar manually? You should be using a build tool. And it should do the packaging.","body":"A jar is literally a zip file with a manifest. Your <code>jar tf</code> shows the desired classes were jarred with the desired structure. <b>What</b> are you asking? Why the command doesn&#39;t work like you thought it should from the documentation? Why are you even using jar manually? You should be using a build tool. And it should do the packaging."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1693170771,"post_id":76988639,"comment_id":135721322,"body_markdown":"@ElliottFrisch I&#39;m asking why the *first* file should be relative to the directory specified by `-C` when all others should be absolute or relative to current directory (which leads to *&quot;why the inconsistency between `man` and `--help`&quot;*).","body":"@ElliottFrisch I&#39;m asking why the <i>first</i> file should be relative to the directory specified by <code>-C</code> when all others should be absolute or relative to current directory (which leads to <i>&quot;why the inconsistency between <code>man</code> and <code>--help</code>&quot;</i>)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693171123,"post_id":76988639,"comment_id":135721356,"body_markdown":"The [documentation](https://docs.oracle.com/en/java/javase/18/docs/specs/man/jar.html) isn’t very clear on how multiple `-C` options work, and in fact I see a mistake in that documentation.  It does seem to faintly imply that all files after a -C *dir* should be relative to *dir*.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/jar.html\" rel=\"nofollow noreferrer\">documentation</a> isn’t very clear on how multiple <code>-C</code> options work, and in fact I see a mistake in that documentation.  It does seem to faintly imply that all files after a -C <i>dir</i> should be relative to <i>dir</i>."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1693171374,"post_id":76988639,"comment_id":135721383,"body_markdown":"@VGR indeed, the documentation is misleading on that point, but that&#39;s how I would expect it to work. And tbh I wasn&#39;t sure whether multiple `-C` would work, I tried my luck... ;)","body":"@VGR indeed, the documentation is misleading on that point, but that&#39;s how I would expect it to work. And tbh I wasn&#39;t sure whether multiple <code>-C</code> would work, I tried my luck... ;)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693171527,"post_id":76988639,"comment_id":135721402,"body_markdown":"On the other hand, `jar --help` describes the `-C` option with “Change to the specified directory and include the following file”.  The word ‘file’ is singular.  I have might have questioned whether that’s a careful decision or merely a bit of carelessness, but your observation seems to suggest the former.","body":"On the other hand, <code>jar --help</code> describes the <code>-C</code> option with “Change to the specified directory and include the following file”.  The word ‘file’ is singular.  I have might have questioned whether that’s a careful decision or merely a bit of carelessness, but your observation seems to suggest the former."}],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693401864,"creation_date":1693164562,"question_id":76988639,"body_markdown":"I&#39;m trying to understand what I find a strange behavior for `jar`.\r\n\r\n**TL;DR** `jar -C dir file1 file2 file3` expects `file1` relative to `dir` and all other `file2`, `file3`, ... relative to current directory.\r\n\r\n---\r\n\r\nI have a directory containing many classes and want to create a jar file with some of them (i.e. not all from a specific directory). I also need to include some resources from another directory and want the paths stored in the jar relative to those directories:\r\n\r\n```\r\n$ tree\r\n.\r\n├── classes\r\n│&#160;&#160; └── com\r\n│&#160;&#160;     ├── c2.class\r\n│&#160;&#160;     └── cc1.class\r\n└── ressources\r\n│&#160;&#160; └── res\r\n│&#160;&#160;     ├── a.png\r\n│&#160;&#160;     └── b.png\r\n```\r\n\r\nI want to have a jar storing these paths:\r\n\r\n```\r\ncom/cc1.class\r\ncom/c2.class\r\nres/a.png\r\nres/b.png\r\n```\r\n\r\nI initially thought using `-C` before adding each individual files from the same &quot;group&quot; directory but it&#39;s not working:\r\n\r\n```\r\n$ jar -cf test.jar -C classes/ com/cc1.class com/c2.class -C resources/ res/a.png res/b.png\r\ncom/c2.class : no such file or directory\r\nres/b.png : no such file or directory\r\n```\r\n\r\nThe error is on the second file only; the first one begin OK...\r\n\r\n```\r\n$ jar -cf test.jar -C classes/ com/cc1.class ./classes/com/c2.class -C resources/ res/a.png ./resources/res/b.png\r\n```\r\n\r\nJar was created successfully:\r\n\r\n```\r\n$ jar tf test.jar\r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\ncom/cc1.class\r\ncom/c2.class\r\nres/a.png\r\nres/b.png\r\n```\r\n\r\nThe behaviour feels odd: I have to give the *first* file a path *relative to `-C`* and all other files a path *relative to `.`* (or an absolute path also works)?\r\n\r\nThe `man` says:\r\n\r\n&gt; -C DIR Changes the specified directory and includes the **files** specified at the end of the command line.\r\n\r\n(note the plural `include the *files*`).\r\n\r\n... but `jar --help` says otherwise:\r\n\r\n&gt; -C DIR  Change to the specified directory and include the **following file**\r\n\r\n(note the singular `include the *following file*`).\r\n\r\nIndeed, the `jar --help` is correct and `man` is misleading, but why that behavior?\r\n\r\n`jar --version` gives `jar 18.0.2-ea`.","title":"jar -C behavior for multiple files","body":"<p>I'm trying to understand what I find a strange behavior for <code>jar</code>.</p>\n<p><strong>TL;DR</strong> <code>jar -C dir file1 file2 file3</code> expects <code>file1</code> relative to <code>dir</code> and all other <code>file2</code>, <code>file3</code>, ... relative to current directory.</p>\n<hr />\n<p>I have a directory containing many classes and want to create a jar file with some of them (i.e. not all from a specific directory). I also need to include some resources from another directory and want the paths stored in the jar relative to those directories:</p>\n<pre><code>$ tree\n.\n├── classes\n│   └── com\n│       ├── c2.class\n│       └── cc1.class\n└── ressources\n│   └── res\n│       ├── a.png\n│       └── b.png\n</code></pre>\n<p>I want to have a jar storing these paths:</p>\n<pre><code>com/cc1.class\ncom/c2.class\nres/a.png\nres/b.png\n</code></pre>\n<p>I initially thought using <code>-C</code> before adding each individual files from the same &quot;group&quot; directory but it's not working:</p>\n<pre><code>$ jar -cf test.jar -C classes/ com/cc1.class com/c2.class -C resources/ res/a.png res/b.png\ncom/c2.class : no such file or directory\nres/b.png : no such file or directory\n</code></pre>\n<p>The error is on the second file only; the first one begin OK...</p>\n<pre><code>$ jar -cf test.jar -C classes/ com/cc1.class ./classes/com/c2.class -C resources/ res/a.png ./resources/res/b.png\n</code></pre>\n<p>Jar was created successfully:</p>\n<pre><code>$ jar tf test.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\ncom/cc1.class\ncom/c2.class\nres/a.png\nres/b.png\n</code></pre>\n<p>The behaviour feels odd: I have to give the <em>first</em> file a path <em>relative to <code>-C</code></em> and all other files a path <em>relative to <code>.</code></em> (or an absolute path also works)?</p>\n<p>The <code>man</code> says:</p>\n<blockquote>\n<p>-C DIR Changes the specified directory and includes the <strong>files</strong> specified at the end of the command line.</p>\n</blockquote>\n<p>(note the plural <code>include the *files*</code>).</p>\n<p>... but <code>jar --help</code> says otherwise:</p>\n<blockquote>\n<p>-C DIR  Change to the specified directory and include the <strong>following file</strong></p>\n</blockquote>\n<p>(note the singular <code>include the *following file*</code>).</p>\n<p>Indeed, the <code>jar --help</code> is correct and <code>man</code> is misleading, but why that behavior?</p>\n<p><code>jar --version</code> gives <code>jar 18.0.2-ea</code>.</p>\n"},{"tags":["java","spring-mvc","url","resttemplate","victoriametrics"],"comments":[{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1693316314,"post_id":77000704,"comment_id":135742386,"body_markdown":"Does this answer your question? [Using RestTemplate in Spring. Exception- Not enough variables available to expand](https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan\">Using RestTemplate in Spring. Exception- Not enough variables available to expand</a>"},{"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"score":0,"creation_date":1693316521,"post_id":77000704,"comment_id":135742435,"body_markdown":"No, the requestURL in mycase has %22 in {} whereas in the link provided is different. also filter is in mid of URL, whereas in the link provided was at the end of the URL&quot;{sort}&quot;","body":"No, the requestURL in mycase has %22 in {} whereas in the link provided is different. also filter is in mid of URL, whereas in the link provided was at the end of the URL&quot;{sort}&quot;"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1693317280,"post_id":77000704,"comment_id":135742611,"body_markdown":"I don&#39;t have a way to test it right now, but would this work? \n\nRestTemplate restTemplate = new RestTemplate();\n        \nString baseUrl = &quot;https://test.env123.com:8081/select/0/prometheus/api/v1/query_range&quot;;\nString query = &quot;test.link.packets{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;;\nString start = &quot;2023-08-10T01:02:03Z&quot;;\nString end = &quot;2023-08-26T01:02:03Z&quot;;\n        \n\n        \nString requestURL = baseUrl + &quot;?query=&quot; + query + &quot;&amp;start=&quot; + start + &quot;&amp;end=&quot; + end;\n        \nResponseEntity&lt;String&gt; result = restTemplate.exchange(requestURL, HttpMethod.GET, new HttpEntity&lt;&gt;(headers), String.class);","body":"I don&#39;t have a way to test it right now, but would this work?   RestTemplate restTemplate = new RestTemplate();          String baseUrl = &quot;<a href=\"https://test.env123.com:8081/select/0/prometheus/api/v1/query_range\" rel=\"nofollow noreferrer\">test.env123.com:8081/select/0/prometheus/api/v1/query_range</a>&zwnj;&#8203;&quot;; String query = &quot;test.link.packets{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;; String start = &quot;2023-08-10T01:02:03Z&quot;; String end = &quot;2023-08-26T01:02:03Z&quot;;                    String requestURL = baseUrl + &quot;?query=&quot; + query + &quot;&amp;start=&quot; + start + &quot;&amp;end=&quot; + end;          ResponseEntity&lt;String&gt; result = restTemplate.exchange(requestURL, HttpMethod.GET, new HttpEntity&lt;&gt;(headers), String.class);"},{"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"score":0,"creation_date":1693328600,"post_id":77000704,"comment_id":135745162,"body_markdown":"I tried this but still getting same error","body":"I tried this but still getting same error"}],"answers":[{"tags":[],"owner":{"account_id":13374714,"reputation":105,"user_id":14201481,"display_name":"PertalGad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693400839,"creation_date":1693396561,"answer_id":77007771,"question_id":77000704,"body_markdown":"when You are trying to send get requests with get parameters which contain some of the special symbols like *&amp;, {, }, ?* and others you have to UrlEncode them, becaus when server sees &amp; as eaxmple, he recognises it as and of previous parameter and waits for another parameter. Try pls to UrlEncode these params.\r\n\r\n**Here is an example, You can use UriComponentsBuilder**\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.getMessageConverters()\r\n                .add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\r\n\r\n    String baseUrl = &quot;YOUR_API_URL&quot;;\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(baseUrl)\r\n                .queryParam(&quot;query&quot;,&quot;test.link.packets{filter}&quot;)\r\n                .queryParam(&quot;start&quot;,&quot;2023-08-10T01:02:03Z&quot;)\r\n                .queryParam(&quot;end&quot;,&quot;2023-08-26T01:02:03Z&quot;);\r\n\r\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(builder.toUriString(), String.class);\r\n\r\n\r\n\r\n**UPDATED**\r\n\r\nHere is another approach which will also work great. But note, if you are passing paramters into the url in this way, order matters, rest template will pass these params to the url, in order how they are passed in getForEntity function\r\n\r\n    // Create a RestTemplate instance\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String start = &quot;2023-08-10T01:02:03Z&quot;;\r\n    String end = &quot;2023-08-26T01:02:03Z&quot;;\r\n    String filter = &quot;{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;;\r\n    // Define the URL with parameters or build it\r\n    String baseUrl = &quot;https://play.victoriametrics.com/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start={start}&amp;end={end}&quot;;\r\n    // Make the GET request and receive the response as ResponseEntity\r\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(baseUrl, String.class, filter, start, end);","title":"How to pass %22 as filter in restTemplate in Spring MVC","body":"<p>when You are trying to send get requests with get parameters which contain some of the special symbols like <em>&amp;, {, }, ?</em> and others you have to UrlEncode them, becaus when server sees &amp; as eaxmple, he recognises it as and of previous parameter and waits for another parameter. Try pls to UrlEncode these params.</p>\n<p><strong>Here is an example, You can use UriComponentsBuilder</strong></p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nrestTemplate.getMessageConverters()\n            .add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\n\nString baseUrl = &quot;YOUR_API_URL&quot;;\nUriComponentsBuilder builder = UriComponentsBuilder.fromUriString(baseUrl)\n            .queryParam(&quot;query&quot;,&quot;test.link.packets{filter}&quot;)\n            .queryParam(&quot;start&quot;,&quot;2023-08-10T01:02:03Z&quot;)\n            .queryParam(&quot;end&quot;,&quot;2023-08-26T01:02:03Z&quot;);\n\nResponseEntity&lt;String&gt; response = restTemplate.getForEntity(builder.toUriString(), String.class);\n</code></pre>\n<p><strong>UPDATED</strong></p>\n<p>Here is another approach which will also work great. But note, if you are passing paramters into the url in this way, order matters, rest template will pass these params to the url, in order how they are passed in getForEntity function</p>\n<pre><code>// Create a RestTemplate instance\nRestTemplate restTemplate = new RestTemplate();\nString start = &quot;2023-08-10T01:02:03Z&quot;;\nString end = &quot;2023-08-26T01:02:03Z&quot;;\nString filter = &quot;{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;;\n// Define the URL with parameters or build it\nString baseUrl = &quot;https://play.victoriametrics.com/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start={start}&amp;end={end}&quot;;\n// Make the GET request and receive the response as ResponseEntity\nResponseEntity&lt;String&gt; response = restTemplate.getForEntity(baseUrl, String.class, filter, start, end);\n</code></pre>\n"}],"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77007771,"answer_count":1,"score":1,"last_activity_date":1693400839,"creation_date":1693316056,"question_id":77000704,"body_markdown":"1.requestURL = https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{billid=%22P1yhABCnWJ7WhI%22}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\r\n\r\nResponseEntity&lt;String&gt; result  = restTemplate.getForEntity(requestURL, String.class);\r\n\r\n\r\n2. String filter = &quot;&quot;;\r\nrequestURL = https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\r\n\r\nfilter = &quot;{billid=%22P1yhABCnWJ7WhI%22}&quot;;\r\n\r\nResponseEntity&lt;String&gt; result = restTemplate.exchange(requestURL, HttpMethod.GET, request, String.class, filter);\r\n\r\nI tried both the ways, none of them worked.\r\n\r\nthrows this exception:\r\njava.lang.IllegalArgumentException: Not enough variable values available to expand &#39;billid=%22P1yhABCnWJ7WhI%22&#39;\r\n\r\nHow do I resolve such cases specially when URL has double quotes &quot; and curly braces { } ? \r\n\r\n\r\n\r\n","title":"How to pass %22 as filter in restTemplate in Spring MVC","body":"<p>1.requestURL = <a href=\"https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets%7Bbillid=%22P1yhABCnWJ7WhI%22%7D&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\" rel=\"nofollow noreferrer\">https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{billid=%22P1yhABCnWJ7WhI%22}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z</a></p>\n<p>ResponseEntity result  = restTemplate.getForEntity(requestURL, String.class);</p>\n<ol start=\"2\">\n<li>String filter = &quot;&quot;;\nrequestURL = <a href=\"https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets%7Bfilter%7D&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\" rel=\"nofollow noreferrer\">https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z</a></li>\n</ol>\n<p>filter = &quot;{billid=%22P1yhABCnWJ7WhI%22}&quot;;</p>\n<p>ResponseEntity result = restTemplate.exchange(requestURL, HttpMethod.GET, request, String.class, filter);</p>\n<p>I tried both the ways, none of them worked.</p>\n<p>throws this exception:\njava.lang.IllegalArgumentException: Not enough variable values available to expand 'billid=%22P1yhABCnWJ7WhI%22'</p>\n<p>How do I resolve such cases specially when URL has double quotes &quot; and curly braces { } ?</p>\n"},{"tags":["java","eclipse","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1693401539,"post_id":77008256,"comment_id":135755871,"body_markdown":"That looks like you are using the Eclipse Installer, but an outdated version of it. Get the current Eclipse Installer or a directly a IDE package from here: https://www.eclipse.org/downloads/packages/ If you use the Eclipse Installer, better use the Java contained in Eclipse rather than a Java installed on your system.","body":"That looks like you are using the Eclipse Installer, but an outdated version of it. Get the current Eclipse Installer or a directly a IDE package from here: <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a> If you use the Eclipse Installer, better use the Java contained in Eclipse rather than a Java installed on your system."},{"owner":{"account_id":11274291,"reputation":253,"user_id":8268757,"display_name":"Abirami"},"score":0,"creation_date":1693401734,"post_id":77008256,"comment_id":135755914,"body_markdown":"@howlger I&#39;ve used the latest installer from this link only. I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too. Facing the same issue.","body":"@howlger I&#39;ve used the latest installer from this link only. I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too. Facing the same issue."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1693404890,"post_id":77008256,"comment_id":135756721,"body_markdown":"Your log says otherwise. Please tell the exact version number and the download link (the mentioned web site contains different download links which are updated every three months). What do you mean by _&quot;I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too&quot;? What exactly did you do?","body":"Your log says otherwise. Please tell the exact version number and the download link (the mentioned web site contains different download links which are updated every three months). What do you mean by _&quot;I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too&quot;? What exactly did you do?"}],"owner":{"account_id":11274291,"reputation":253,"user_id":8268757,"display_name":"Abirami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693400229,"creation_date":1693400229,"question_id":77008256,"body_markdown":"I&#39;m trying install latest Eclipse version to work with Java 17. But the installation fails with below exception. I&#39;ve tried pointing to OpenJDK 17 Temurin and also Oracle JDK 17. I&#39;ve also extracted the cert from the link which it was trying to download the resource from and installed it in cacerts. Still, the installation fails with below exception.\r\n\r\n    [2023-08-30 18:20:24] Repository http://download.eclipse.org/oomph/updates/milestone/latest\r\n    [2023-08-30 18:20:24] ERROR: org.eclipse.equinox.p2.transport.ecf code=1002 Unable to read repository at https://download.eclipse.org/technology/epp/packages/2021-09/202109101200/content.xml.\r\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n      at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n      at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n      at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n      at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)","title":"Eclipse IDE 2023‑06 installation fails with Certificate error","body":"<p>I'm trying install latest Eclipse version to work with Java 17. But the installation fails with below exception. I've tried pointing to OpenJDK 17 Temurin and also Oracle JDK 17. I've also extracted the cert from the link which it was trying to download the resource from and installed it in cacerts. Still, the installation fails with below exception.</p>\n<pre><code>[2023-08-30 18:20:24] Repository http://download.eclipse.org/oomph/updates/milestone/latest\n[2023-08-30 18:20:24] ERROR: org.eclipse.equinox.p2.transport.ecf code=1002 Unable to read repository at https://download.eclipse.org/technology/epp/packages/2021-09/202109101200/content.xml.\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n</code></pre>\n"},{"tags":["java","design-patterns","singleton","instance","instantiation"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":9,"creation_date":1693328503,"post_id":77002265,"comment_id":135745133,"body_markdown":"Look at the `getInstance()` method again. It *does* use `new` to create a new `SingletonExample`.","body":"Look at the <code>getInstance()</code> method again. It <i>does</i> use <code>new</code> to create a new <code>SingletonExample</code>."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1693328559,"post_id":77002265,"comment_id":135745150,"body_markdown":"Also, `new SingletonExample()` *would* actually work in the code you&#39;ve given, because your `main` method is within the `SingletonExample` class... ideally your example would show it in a different class.","body":"Also, <code>new SingletonExample()</code> <i>would</i> actually work in the code you&#39;ve given, because your <code>main</code> method is within the <code>SingletonExample</code> class... ideally your example would show it in a different class."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693330693,"creation_date":1693330349,"answer_id":77002459,"question_id":77002265,"body_markdown":"`getInstance()` actually returns an instance of previously created and saved to a variable the instance of a class with the `new` operator.\r\n\r\n```\r\npublic static SingletonExample getInstance() {\r\n    if (instance == null) {\r\n        instance = new SingletonExample();\r\n                   ^^^\r\n    }\r\n    return instance;\r\n}\r\n```\r\n---\r\n\r\n[**Instantiating a class**][1]\r\n\r\n&gt;The new operator instantiates a class by allocating memory for a new object and returning a reference to that memory. The new operator also invokes the object constructor.\r\n&gt;\r\n&gt;Note: The phrase &quot;instantiating a class&quot; means the same thing as &quot;creating an object.&quot; When you create an object, you are creating an &quot;instance&quot; of a class, therefore &quot;instantiating&quot; a class.\r\nThe new operator requires a single, postfix argument: a call to a constructor. The name of the constructor provides the name of the class to instantiate.\r\n&gt;\r\n&gt;The new operator returns a reference to the object it created. This reference is usually assigned to a variable of the appropriate type, like:\r\n&gt;\r\n&gt;Point originOne = new Point(23, 94);\r\nThe reference returned by the new operator does not have to be assigned to a variable. It can also be used directly in an expression. For example:\r\n&gt;\r\n&gt;int height = new Rectangle().height;\r\nThis statement will be discussed in the next section.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html","title":"How the getInstance() method works and why the new keyword is not used?","body":"<p><code>getInstance()</code> actually returns an instance of previously created and saved to a variable the instance of a class with the <code>new</code> operator.</p>\n<pre><code>public static SingletonExample getInstance() {\n    if (instance == null) {\n        instance = new SingletonExample();\n                   ^^^\n    }\n    return instance;\n}\n</code></pre>\n<hr />\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"nofollow noreferrer\"><strong>Instantiating a class</strong></a></p>\n<blockquote>\n<p>The new operator instantiates a class by allocating memory for a new object and returning a reference to that memory. The new operator also invokes the object constructor.</p>\n<p>Note: The phrase &quot;instantiating a class&quot; means the same thing as &quot;creating an object.&quot; When you create an object, you are creating an &quot;instance&quot; of a class, therefore &quot;instantiating&quot; a class.\nThe new operator requires a single, postfix argument: a call to a constructor. The name of the constructor provides the name of the class to instantiate.</p>\n<p>The new operator returns a reference to the object it created. This reference is usually assigned to a variable of the appropriate type, like:</p>\n<p>Point originOne = new Point(23, 94);\nThe reference returned by the new operator does not have to be assigned to a variable. It can also be used directly in an expression. For example:</p>\n<p>int height = new Rectangle().height;\nThis statement will be discussed in the next section.</p>\n</blockquote>\n"}],"owner":{"account_id":26349910,"reputation":1,"user_id":20007688,"display_name":"David "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693400054,"creation_date":1693328425,"question_id":77002265,"body_markdown":"I noticed that the `new` keyword is not used when creating the reference to the instance. Here&#39;s the code snippet:\r\n\r\n```\r\npublic class SingletonExample {\r\n    private static SingletonExample instance;\r\n\r\n    private SingletonExample() {\r\n        // Private constructor\r\n        System.out.println(&quot;SingletonExample instance created.&quot;);\r\n    }\r\n\r\n    public static SingletonExample getInstance() {\r\n        if (instance == null) {\r\n            instance = new SingletonExample();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public void displayMessage() {\r\n        System.out.println(&quot;Hello from SingletonExample!&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // This won&#39;t work : SingletonExample instance = new SingletonExample();\r\n\r\n        // Getting an instance of SingletonExample using getInstance() method\r\n       SingletonExample singleton = SingletonExample.getInstance();\r\n        singleton.displayMessage();\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI expected that creating a new instance of a class would involve using the `new` keyword, but it appears that the `getInstance()` method handles this without it. I&#39;m looking for an explanation of why the `new` keyword is omitted in this scenario and how the instance is actually created using the `getInstance()` method.\r\n\r\nCan someone provide insights into how the `getInstance()` method works in this context and why the `new` keyword is not used?\r\n\r\n","title":"How the getInstance() method works and why the new keyword is not used?","body":"<p>I noticed that the <code>new</code> keyword is not used when creating the reference to the instance. Here's the code snippet:</p>\n<pre><code>public class SingletonExample {\n    private static SingletonExample instance;\n\n    private SingletonExample() {\n        // Private constructor\n        System.out.println(&quot;SingletonExample instance created.&quot;);\n    }\n\n    public static SingletonExample getInstance() {\n        if (instance == null) {\n            instance = new SingletonExample();\n        }\n        return instance;\n    }\n\n    public void displayMessage() {\n        System.out.println(&quot;Hello from SingletonExample!&quot;);\n    }\n\n    public static void main(String[] args) {\n        // This won't work : SingletonExample instance = new SingletonExample();\n\n        // Getting an instance of SingletonExample using getInstance() method\n       SingletonExample singleton = SingletonExample.getInstance();\n        singleton.displayMessage();\n        \n    }\n}\n</code></pre>\n<p>I expected that creating a new instance of a class would involve using the <code>new</code> keyword, but it appears that the <code>getInstance()</code> method handles this without it. I'm looking for an explanation of why the <code>new</code> keyword is omitted in this scenario and how the instance is actually created using the <code>getInstance()</code> method.</p>\n<p>Can someone provide insights into how the <code>getInstance()</code> method works in this context and why the <code>new</code> keyword is not used?</p>\n"},{"tags":["java","playframework","sbt","pac4j","playframework-2.8"],"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1693399539,"creation_date":1689873122,"question_id":76732229,"body_markdown":"We are using Play framework (v2.8.16) with Pac4j (v10.0.2) as the security framework running on OpenJDK 12. Our application is a Java app and we are using Play&#39;s multi-module setup. \r\nIn Play&#39;s development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types.\r\nThis happens to some developers very frequently and to other only every once in a few days (same JDK &amp; libraries). Running from IDE (IntelliJ) or command line SBT is the same.\r\n\r\nSo given a custom type:\r\n\r\n```\r\npublic class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\r\n```\r\n\r\nThe hot code reload fails with:\r\n\r\n```\r\nplay.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader \r\nplay.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader \r\nplay.runsupport.DelegatedResourcesClassLoader @47424930)]]\r\n```\r\n\r\nI suspect Play&#39;s code reloading works via a quite coarse grained mechanism, that just reloads the whole application in a different class-loader (We see on code reloading log output that initializes/bootstraps the Play app again). The above errors seems to me like a mismatch of runtime-types, so the same &quot;class-file type&quot; is present in different class loaders - so in JVM reality they form two different runtime-types and that causes the `ClassCastExcpeption`.\r\nMaybe the Pac4j code is not swapped out correctly together with the application code and some objects of the old runtime-type remain ?\r\n\r\nWe currently just stop the Play process and start it via SBT again .. that slows the heavily affected developers down quite alot and effectivly makes the hot code reloading useless.\r\n\r\nThanks for any ideas ...","title":"Pac4j + Play framework hot class reloading issue","body":"<p>We are using Play framework (v2.8.16) with Pac4j (v10.0.2) as the security framework running on OpenJDK 12. Our application is a Java app and we are using Play's multi-module setup.\nIn Play's development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types.\nThis happens to some developers very frequently and to other only every once in a few days (same JDK &amp; libraries). Running from IDE (IntelliJ) or command line SBT is the same.</p>\n<p>So given a custom type:</p>\n<pre><code>public class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\n</code></pre>\n<p>The hot code reload fails with:</p>\n<pre><code>play.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader \nplay.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader \nplay.runsupport.DelegatedResourcesClassLoader @47424930)]]\n</code></pre>\n<p>I suspect Play's code reloading works via a quite coarse grained mechanism, that just reloads the whole application in a different class-loader (We see on code reloading log output that initializes/bootstraps the Play app again). The above errors seems to me like a mismatch of runtime-types, so the same &quot;class-file type&quot; is present in different class loaders - so in JVM reality they form two different runtime-types and that causes the <code>ClassCastExcpeption</code>.\nMaybe the Pac4j code is not swapped out correctly together with the application code and some objects of the old runtime-type remain ?</p>\n<p>We currently just stop the Play process and start it via SBT again .. that slows the heavily affected developers down quite alot and effectivly makes the hot code reloading useless.</p>\n<p>Thanks for any ideas ...</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693399140,"post_id":77008098,"comment_id":135755308,"body_markdown":"Well, you seem to be curiously mixing a MySql &#39;import&#39; with a Java programmatic approach. Since your mix seems to be contain more of the former and that&#39;s not working out for you, why don&#39;t you go for a pure programmatic approach? How many rows in the file, out of interest?","body":"Well, you seem to be curiously mixing a MySql &#39;import&#39; with a Java programmatic approach. Since your mix seems to be contain more of the former and that&#39;s not working out for you, why don&#39;t you go for a pure programmatic approach? How many rows in the file, out of interest?"}],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693399293,"creation_date":1693399293,"answer_id":77008157,"question_id":77008098,"body_markdown":"The problem you&#39;re facing often stems from MySQL Connector/J having the `allowLoadLocalInfile` property turned off by default. This is a security measure in the connector to prevent potentially malicious files from being loaded from the client to the server.\r\n\r\nTo resolve this, you can change the way you establish the connection by enabling the allowLoadLocalInfile property:\r\n\r\n    connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&amp;allowLoadLocalInfile=true&quot;);\r\n\r\n","title":"MySQL: Loading local data is disabled","body":"<p>The problem you're facing often stems from MySQL Connector/J having the <code>allowLoadLocalInfile</code> property turned off by default. This is a security measure in the connector to prevent potentially malicious files from being loaded from the client to the server.</p>\n<p>To resolve this, you can change the way you establish the connection by enabling the allowLoadLocalInfile property:</p>\n<pre><code>connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&amp;allowLoadLocalInfile=true&quot;);\n</code></pre>\n"}],"owner":{"account_id":10389972,"reputation":13,"user_id":7661646,"display_name":"McCo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77008157,"answer_count":1,"score":1,"last_activity_date":1693399293,"creation_date":1693398851,"question_id":77008098,"body_markdown":"I have a Java program, one of the tasks of which was to upload data from a plain text file into a table of a MySQL 5.7 database.This has worked without problems so far. I recently moved the database to MySQL 8.0 and recompiled the Java program, with the mysql-connector-java-8.0.22.jar library. After that, however, I received the following error message when uploading:\r\n\r\nLoading local data is disabled: this must be enabled on both the client and server sides\r\n\r\nAfter reading a little about the problem, I found that two things need to be specified in my.ini to eliminate the error. I put these in. (secure-file-priv was already in)\r\n\r\n```\r\n[client]\r\nlocal_infile = 1\r\n\r\n[mysqld]\r\nsecure-file-priv=&quot;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads&quot;\r\nlocal_infile = 1\r\n\r\n```\r\n\r\n\r\nThen, after restarting the mysql service, unfortunately the situation did not change. \r\nSHOW VARIABLES LIKE &#39;local_infile&#39;;\r\nlocal_infile = ON\r\n\r\nMaybe something should be done differently in the Java program?\r\nIt currently looks like this:\r\n\r\n\r\n```\r\nconnection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&quot;);\r\nstmt = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\r\nstmt.executeUpdate(&quot;LOAD DATA LOCAL INFILE &#39;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads\r\n/something.csv&#39; INTO TABLE data FIELDS TERMINATED BY &#39;;&#39; LINES TERMINATED BY &#39;&#39; (field1,field2,field3,field4)&quot;);\r\n\r\n```\r\n\r\n\r\n\r\nWhen compiling Java, the environment was JavaSE-1.8 (jdk1.8.0_281).\r\nHowever, the error still exists. In which direction do you think I should continue my research?\r\n","title":"MySQL: Loading local data is disabled","body":"<p>I have a Java program, one of the tasks of which was to upload data from a plain text file into a table of a MySQL 5.7 database.This has worked without problems so far. I recently moved the database to MySQL 8.0 and recompiled the Java program, with the mysql-connector-java-8.0.22.jar library. After that, however, I received the following error message when uploading:</p>\n<p>Loading local data is disabled: this must be enabled on both the client and server sides</p>\n<p>After reading a little about the problem, I found that two things need to be specified in my.ini to eliminate the error. I put these in. (secure-file-priv was already in)</p>\n<pre><code>[client]\nlocal_infile = 1\n\n[mysqld]\nsecure-file-priv=&quot;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads&quot;\nlocal_infile = 1\n\n</code></pre>\n<p>Then, after restarting the mysql service, unfortunately the situation did not change.\nSHOW VARIABLES LIKE 'local_infile';\nlocal_infile = ON</p>\n<p>Maybe something should be done differently in the Java program?\nIt currently looks like this:</p>\n<pre><code>connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&quot;);\nstmt = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\nstmt.executeUpdate(&quot;LOAD DATA LOCAL INFILE 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads\n/something.csv' INTO TABLE data FIELDS TERMINATED BY ';' LINES TERMINATED BY '' (field1,field2,field3,field4)&quot;);\n\n</code></pre>\n<p>When compiling Java, the environment was JavaSE-1.8 (jdk1.8.0_281).\nHowever, the error still exists. In which direction do you think I should continue my research?</p>\n"},{"tags":["java","java-stream","quarkus","tostring","mutiny"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1693391733,"post_id":77007051,"comment_id":135753700,"body_markdown":"What is `Response`? And what is `clinetService`?","body":"What is <code>Response</code>? And what is <code>clinetService</code>?"},{"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"score":0,"creation_date":1693391968,"post_id":77007051,"comment_id":135753769,"body_markdown":"Response is a class of jakarta.ws.rs.core library.\nclientService is an object of a class provided by a client service, output of which is an object of type Uni&lt;Response&gt;.","body":"Response is a class of jakarta.ws.rs.core library. clientService is an object of a class provided by a client service, output of which is an object of type Uni&lt;Response&gt;."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693399281,"creation_date":1693399281,"answer_id":77008154,"question_id":77007051,"body_markdown":"You actually have to solve two tasks:\r\n1) Convert the `Uni&lt;Response&gt;` into a `Uni&lt;String&gt;`\r\n2) Convert the `Uni&lt;String&gt;` into a `String`\r\n\r\nThe first can probably be as easy as this:\r\n```\r\nUni&lt;String&gt; body = response.map(r -&gt; r.readEntity(String.class));\r\n```\r\n\r\nThe second can be done using `UniAwait`. A full example:\r\n```\r\nString body = response.map(r -&gt; r.readEntity(String.class))\r\n        .await()\r\n        .indefinitely();\r\n```\r\nYou can also use `atMost` instead of `indefinitely`, and you can put `asOptional()` between `await()` and `indefinitely()` to return an `Optional&lt;String&gt;` instead.","title":"How to convert a Uni&lt;Response&gt; object into a String?","body":"<p>You actually have to solve two tasks:</p>\n<ol>\n<li>Convert the <code>Uni&lt;Response&gt;</code> into a <code>Uni&lt;String&gt;</code></li>\n<li>Convert the <code>Uni&lt;String&gt;</code> into a <code>String</code></li>\n</ol>\n<p>The first can probably be as easy as this:</p>\n<pre><code>Uni&lt;String&gt; body = response.map(r -&gt; r.readEntity(String.class));\n</code></pre>\n<p>The second can be done using <code>UniAwait</code>. A full example:</p>\n<pre><code>String body = response.map(r -&gt; r.readEntity(String.class))\n        .await()\n        .indefinitely();\n</code></pre>\n<p>You can also use <code>atMost</code> instead of <code>indefinitely</code>, and you can put <code>asOptional()</code> between <code>await()</code> and <code>indefinitely()</code> to return an <code>Optional&lt;String&gt;</code> instead.</p>\n"}],"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693399281,"creation_date":1693390423,"question_id":77007051,"body_markdown":"I am using a Quarkus application which have a dependent client service which pass me the response as a Uni&lt;Response&gt; object type\r\n\r\n    Uni&lt;Response&gt; response = clinetService.someMethod(id);\r\n\r\nNow I need to pass this response to a another client cache service as a String:\r\n\r\n    cacheService(id, mapObj, responseObjectAsAString);\r\n\r\nSo I need to pass this converted String value to the above method.\r\n\r\nI tried multiple ways to serialize/convert it into a String using `ObjectMapper writeValueAsString(obj)` method or Gson class `.toJson(obj)`, but nothing worked.\r\n\r\nAny suggestion will be very helpful.","title":"How to convert a Uni&lt;Response&gt; object into a String?","body":"<p>I am using a Quarkus application which have a dependent client service which pass me the response as a Uni object type</p>\n<pre><code>Uni&lt;Response&gt; response = clinetService.someMethod(id);\n</code></pre>\n<p>Now I need to pass this response to a another client cache service as a String:</p>\n<pre><code>cacheService(id, mapObj, responseObjectAsAString);\n</code></pre>\n<p>So I need to pass this converted String value to the above method.</p>\n<p>I tried multiple ways to serialize/convert it into a String using <code>ObjectMapper writeValueAsString(obj)</code> method or Gson class <code>.toJson(obj)</code>, but nothing worked.</p>\n<p>Any suggestion will be very helpful.</p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","coroutine"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693427789,"post_id":77008126,"comment_id":135761458,"body_markdown":"It theoretically can be done, but it would be exceedingly complicated. The above would take about 15-20 lines of code in Java and you&#39;d have to know exactly what you were doing with the low level coroutine continuations, so you&#39;d have to be more of an expert on Kotlin coroutines than most highly competent Kotlin programmers. If you don&#39;t need to interact with Kotlin coroutine code, then you should use RxJava for this kind of thing.","body":"It theoretically can be done, but it would be exceedingly complicated. The above would take about 15-20 lines of code in Java and you&#39;d have to know exactly what you were doing with the low level coroutine continuations, so you&#39;d have to be more of an expert on Kotlin coroutines than most highly competent Kotlin programmers. If you don&#39;t need to interact with Kotlin coroutine code, then you should use RxJava for this kind of thing."}],"owner":{"account_id":22951635,"reputation":45,"user_id":17174960,"display_name":"Arya_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693399062,"creation_date":1693399062,"question_id":77008126,"body_markdown":"So I was watching Android Developers channel on [how to build data layer](https://www.youtube.com/watch?v=P125nWICYps&amp;t=1144s) and at 19:18 I see him use the following code\r\n```\r\nval taskId = withContext(dispatcher){\r\n    createTaskId()\r\n}\r\n```\r\nNow given that \r\n1. this code is written in kotlin\r\n2. `dispatcher` is of `CoroutineDispatcher` data type\r\n3. `createTaskId()` returns String\r\n4. the code is implemented inside another suspend function\r\n\r\nHow can I **implement** this in **java** properly, or can I ?","title":"How to implement coroutine dispatcher for java android?","body":"<p>So I was watching Android Developers channel on <a href=\"https://www.youtube.com/watch?v=P125nWICYps&amp;t=1144s\" rel=\"nofollow noreferrer\">how to build data layer</a> and at 19:18 I see him use the following code</p>\n<pre><code>val taskId = withContext(dispatcher){\n    createTaskId()\n}\n</code></pre>\n<p>Now given that</p>\n<ol>\n<li>this code is written in kotlin</li>\n<li><code>dispatcher</code> is of <code>CoroutineDispatcher</code> data type</li>\n<li><code>createTaskId()</code> returns String</li>\n<li>the code is implemented inside another suspend function</li>\n</ol>\n<p>How can I <strong>implement</strong> this in <strong>java</strong> properly, or can I ?</p>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":1140218,"reputation":7755,"user_id":1124350,"accept_rate":72,"display_name":"Fabricio"},"score":1,"creation_date":1539691843,"post_id":49438517,"comment_id":92586309,"body_markdown":"I have the same problem and no answer below solved it. Any idea?","body":"I have the same problem and no answer below solved it. Any idea?"},{"owner":{"account_id":887475,"reputation":3622,"user_id":926568,"accept_rate":100,"display_name":"deviant"},"score":2,"creation_date":1541176836,"post_id":49438517,"comment_id":93139781,"body_markdown":"none of answers helped me :( after upgrading spring boot to 2.x the db stopped to autoupdate/create new tables","body":"none of answers helped me :( after upgrading spring boot to 2.x the db stopped to autoupdate/create new tables"}],"answers":[{"tags":[],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1522261055,"creation_date":1521753557,"answer_id":49438661,"question_id":49438517,"body_markdown":"Check the documents [here][1]. \r\n\r\n&gt; In a JPA-based app, you can choose to let Hibernate create the schema\r\n&gt; or use schema.sql, but you cannot do both. Make sure to disable\r\n&gt; spring.jpa.hibernate.ddl-auto if you use schema.sql.\r\n\r\nYou have `spring.jpa.hibernate.ddl-auto=create-drop` that&#39;s why `schema.sql` is not executed.\r\nLooks like this is the way Spring Boot works.\r\n\r\n**Edit**\r\n\r\nI think that the problem(not really a problem) is that your application points to a mysql instance. \r\n\r\nSee the [current Spring Boot properties][2]:\r\n\r\n    spring.datasource.initialization-mode=embedded # Initialize the datasource with available DDL and DML scripts.\r\n\r\nThe default value is `embedded` - e.g. initialize only if you&#39;re running and embedded database, like H2.\r\n\r\nAlso see the answer of Stephan [here][3]. He said:\r\n\r\n&gt; Adding spring.datasource.initialization-mode=always to your project is\r\n&gt; enough.\r\n\r\nSo try to set:\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-initialize-a-database-using-spring-jdbc\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/12612","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>Check the documents <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-initialize-a-database-using-spring-jdbc\" rel=\"noreferrer\">here</a>. </p>\n\n<blockquote>\n  <p>In a JPA-based app, you can choose to let Hibernate create the schema\n  or use schema.sql, but you cannot do both. Make sure to disable\n  spring.jpa.hibernate.ddl-auto if you use schema.sql.</p>\n</blockquote>\n\n<p>You have <code>spring.jpa.hibernate.ddl-auto=create-drop</code> that's why <code>schema.sql</code> is not executed.\nLooks like this is the way Spring Boot works.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I think that the problem(not really a problem) is that your application points to a mysql instance. </p>\n\n<p>See the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">current Spring Boot properties</a>:</p>\n\n<pre><code>spring.datasource.initialization-mode=embedded # Initialize the datasource with available DDL and DML scripts.\n</code></pre>\n\n<p>The default value is <code>embedded</code> - e.g. initialize only if you're running and embedded database, like H2.</p>\n\n<p>Also see the answer of Stephan <a href=\"https://github.com/spring-projects/spring-boot/issues/12612\" rel=\"noreferrer\">here</a>. He said:</p>\n\n<blockquote>\n  <p>Adding spring.datasource.initialization-mode=always to your project is\n  enough.</p>\n</blockquote>\n\n<p>So try to set:</p>\n\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1524870099,"creation_date":1524870099,"answer_id":50071245,"question_id":49438517,"body_markdown":"# Not embedded (e.g. MySQL)\r\n\r\nIf you load a database that is **not embedded**, in Spring Boot 2 you need to add:\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\nCheck the [Migration Guide][1]:\r\n\r\n&gt; # Database Initialization\r\n&gt; \r\n&gt; Basic DataSource initialization is now only enabled for embedded data\r\n&gt; sources and will switch off as soon as you’re using a production\r\n&gt; database. The new `spring.datasource.initialization-mode` (replacing\r\n&gt; `spring.datasource.initialize`) offers more control.\r\n\r\n---\r\n\r\n# Embedded (e.g. h2)\r\n\r\nI once had a similar problem, even though it was an h2 (so it **was** an embedded DB), my h2 configuration was activated by a `my-test` profile.\r\n\r\nMy test class was like:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest                     // does not work alone\r\n    @ActiveProfiles(&quot;my-test&quot;)\r\n    public class MyEntityRepositoryTest {\r\n\r\nThe problem is `@SpringBootTest` alone **did not initialize the test database**. I had to either use `@DataJpaTest` or `@SpringBootTest`+`@AutoConfigureTestDatabase`. Examples\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest                       // works\r\n    @ActiveProfiles(&quot;sep-test&quot;)\r\n    public class MyEntityRepositoryTest {\r\n\r\nor\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest                     // these two\r\n    @AutoConfigureTestDatabase          // together work\r\n    @ActiveProfiles(&quot;sep-test&quot;)\r\n    public class MyEntityRepositoryTest {\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#database-initialization\r\n\r\n","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<h1>Not embedded (e.g. MySQL)</h1>\n\n<p>If you load a database that is <strong>not embedded</strong>, in Spring Boot 2 you need to add:</p>\n\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n\n<p>Check the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#database-initialization\" rel=\"noreferrer\">Migration Guide</a>:</p>\n\n<blockquote>\n  <h1>Database Initialization</h1>\n  \n  <p>Basic DataSource initialization is now only enabled for embedded data\n  sources and will switch off as soon as you’re using a production\n  database. The new <code>spring.datasource.initialization-mode</code> (replacing\n  <code>spring.datasource.initialize</code>) offers more control.</p>\n</blockquote>\n\n<hr>\n\n<h1>Embedded (e.g. h2)</h1>\n\n<p>I once had a similar problem, even though it was an h2 (so it <strong>was</strong> an embedded DB), my h2 configuration was activated by a <code>my-test</code> profile.</p>\n\n<p>My test class was like:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest                     // does not work alone\n@ActiveProfiles(\"my-test\")\npublic class MyEntityRepositoryTest {\n</code></pre>\n\n<p>The problem is <code>@SpringBootTest</code> alone <strong>did not initialize the test database</strong>. I had to either use <code>@DataJpaTest</code> or <code>@SpringBootTest</code>+<code>@AutoConfigureTestDatabase</code>. Examples</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest                       // works\n@ActiveProfiles(\"sep-test\")\npublic class MyEntityRepositoryTest {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest                     // these two\n@AutoConfigureTestDatabase          // together work\n@ActiveProfiles(\"sep-test\")\npublic class MyEntityRepositoryTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1968926,"reputation":163,"user_id":1768451,"accept_rate":50,"display_name":"Jack Zhou"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526550186,"creation_date":1526550186,"answer_id":50388267,"question_id":49438517,"body_markdown":"It works fine for me, you can try it. Set datasource type to what you like instead of HikariCP.\r\n\r\n    spring.datasource.initialization-mode=always\r\n    spring.datasource.type=com.mysql.jdbc.jdbc2.optional.MysqlDataSource\r\n    spring.jpa.hibernate.ddl-auto=none","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>It works fine for me, you can try it. Set datasource type to what you like instead of HikariCP.</p>\n\n<pre><code>spring.datasource.initialization-mode=always\nspring.datasource.type=com.mysql.jdbc.jdbc2.optional.MysqlDataSource\nspring.jpa.hibernate.ddl-auto=none\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6073758,"reputation":101,"user_id":4741715,"display_name":"jay chang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684949763,"creation_date":1535439812,"answer_id":52051931,"question_id":49438517,"body_markdown":"There might be another problem causing data.sql not to be executed, If you don&#39;t config the `spring.jpa.hibernate.ddl-auto=none`, the data.sql will not be executed.","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>There might be another problem causing data.sql not to be executed, If you don't config the <code>spring.jpa.hibernate.ddl-auto=none</code>, the data.sql will not be executed.</p>\n"},{"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563278477,"creation_date":1542208091,"answer_id":53303256,"question_id":49438517,"body_markdown":"I was able to make application run only after excluding Hikary CP like that:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease, see the issue [here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-security/issues/143","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>I was able to make application run only after excluding Hikary CP like that:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Please, see the issue <a href=\"https://github.com/spring-cloud/spring-cloud-security/issues/143\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1653061925,"creation_date":1653061925,"answer_id":72321666,"question_id":49438517,"body_markdown":"Recent Update\r\n-------------\r\n\r\nAs of Spring Boot **Version 2.7**\r\n\r\nthe property `spring.datasource.initialization-mode` has been removed.\r\n\r\nYou should from this version and onwards use the replacement property `spring.sql.init.mode`\r\n\r\nExample: `spring.sql.init.mode:always` \r\n\r\n[Spring Boot 2.7 changelog][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<h2>Recent Update</h2>\n<p>As of Spring Boot <strong>Version 2.7</strong></p>\n<p>the property <code>spring.datasource.initialization-mode</code> has been removed.</p>\n<p>You should from this version and onwards use the replacement property <code>spring.sql.init.mode</code></p>\n<p>Example: <code>spring.sql.init.mode:always</code></p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog\" rel=\"noreferrer\">Spring Boot 2.7 changelog</a></p>\n"},{"tags":[],"owner":{"account_id":3707693,"reputation":257,"user_id":3085766,"accept_rate":27,"display_name":"shemerk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691392920,"creation_date":1691392920,"answer_id":76849556,"question_id":49438517,"body_markdown":"For me, for some reason, Spring didn&#39;t find the schema.sql file in the classpath.\r\nI had to specify it explicitly for it to work:\r\n\r\n    spring.sql.init.schema-locations=classpath:/sql/schema.sql\r\n","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>For me, for some reason, Spring didn't find the schema.sql file in the classpath.\nI had to specify it explicitly for it to work:</p>\n<pre><code>spring.sql.init.schema-locations=classpath:/sql/schema.sql\n</code></pre>\n"}],"owner":{"account_id":5049753,"reputation":511,"user_id":4054693,"display_name":"Đorđe Pržulj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64726,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"accepted_answer_id":49438661,"answer_count":7,"score":49,"last_activity_date":1693398988,"creation_date":1521752971,"question_id":49438517,"body_markdown":"While I was using Spring Boot 1.5, on application startup Hibernate executed *schema.sql* file located in */resources* folder when appropriate configuration is set. After Spring Boot 2.0 release this feature does not work any more. I couldn&#39;t find anything about this change in documentation.\r\nHere is my *application.properties* file content:\r\n\r\n    spring.datasource.url=...\r\n    spring.datasource.username=...\r\n    spring.datasource.password=...\r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n\r\nIs there some change in Spring Boot 2.0 or is this an bug/issue?","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>While I was using Spring Boot 1.5, on application startup Hibernate executed <em>schema.sql</em> file located in <em>/resources</em> folder when appropriate configuration is set. After Spring Boot 2.0 release this feature does not work any more. I couldn't find anything about this change in documentation.\nHere is my <em>application.properties</em> file content:</p>\n<pre><code>spring.datasource.url=...\nspring.datasource.username=...\nspring.datasource.password=...\n\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>Is there some change in Spring Boot 2.0 or is this an bug/issue?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11386,"reputation":119180,"user_id":21926,"display_name":"Sean Bright"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1429271746,"creation_date":1429200344,"answer_id":29680246,"question_id":29680157,"body_markdown":"**Update:** The original answer here was completely wrong. You must specify the path to your source files.  `-sourcepath` is for another purpose:\r\n\r\n&gt; Specify the source code path to search for class or interface\r\n&gt; definitions. As with the user class path, source path entries are\r\n&gt; separated by semicolons (;) and can be directories, JAR archives, or\r\n&gt; ZIP archives. If packages are used, the local path name within the\r\n&gt; directory or archive must reflect the package name.\r\n\r\n----------\r\n\r\nNote that there are many other build tools for Java applications that are very mature and well regarded.  Maven, Gradle, and Ant are the ones that spring to mind immediately.  If you don&#39;t have to use `make` I would take a look at one of those.","title":"Is it possible to use relative path when compiling the java files?","body":"<p><strong>Update:</strong> The original answer here was completely wrong. You must specify the path to your source files.  <code>-sourcepath</code> is for another purpose:</p>\n\n<blockquote>\n  <p>Specify the source code path to search for class or interface\n  definitions. As with the user class path, source path entries are\n  separated by semicolons (;) and can be directories, JAR archives, or\n  ZIP archives. If packages are used, the local path name within the\n  directory or archive must reflect the package name.</p>\n</blockquote>\n\n<hr>\n\n<p>Note that there are many other build tools for Java applications that are very mature and well regarded.  Maven, Gradle, and Ant are the ones that spring to mind immediately.  If you don't have to use <code>make</code> I would take a look at one of those.</p>\n"},{"tags":[],"owner":{"account_id":17186093,"reputation":1,"user_id":12440687,"display_name":"V&#225;clav Pastušek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693398862,"creation_date":1693398862,"answer_id":77008100,"question_id":29680157,"body_markdown":"I have similar problem in Python and again both works in same directory, but only &quot;javac&quot; works with relative path. So if you have HelloWorld.java in folder HelloWorld, you need to do something like this:\r\n\r\n    import subprocess\r\n    import os\r\n    \r\n    \r\n    path_to_java = &quot;HelloWorld/&quot;\r\n    \r\n    compile_process = subprocess.Popen([&quot;javac&quot;, path_to_java + &quot;HelloWorld.java&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\r\n    compile_output, compile_errors = compile_process.communicate()\r\n    \r\n    print(&quot;compile_output:&quot;)\r\n    print(compile_output)\r\n    \r\n    if compile_errors:\r\n        print(&quot;compile_errors:&quot;)\r\n        print(compile_errors)\r\n    \r\n    # get full path\r\n    script_directory = os.path.dirname(os.path.abspath(__file__))\r\n    \r\n    run_process = subprocess.Popen([&quot;java&quot;, &quot;-cp&quot;, script_directory + &quot;\\\\HelloWorld&quot;, &quot;HelloWorld&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\r\n    run_output, run_errors = run_process.communicate()\r\n    \r\n    print(&quot;\\nrun_output:&quot;)\r\n    print(run_output)\r\n    \r\n    if run_errors:\r\n        print(&quot;run_errors:&quot;)\r\n        print(run_errors)\r\n\r\n**Output:**\r\ncompile_output:\r\n\r\n\r\nrun_output:\r\nHello, World!\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n**Java code:**\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello, World!&quot;);\r\n        }\r\n    }","title":"Is it possible to use relative path when compiling the java files?","body":"<p>I have similar problem in Python and again both works in same directory, but only &quot;javac&quot; works with relative path. So if you have HelloWorld.java in folder HelloWorld, you need to do something like this:</p>\n<pre><code>import subprocess\nimport os\n\n\npath_to_java = &quot;HelloWorld/&quot;\n\ncompile_process = subprocess.Popen([&quot;javac&quot;, path_to_java + &quot;HelloWorld.java&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\ncompile_output, compile_errors = compile_process.communicate()\n\nprint(&quot;compile_output:&quot;)\nprint(compile_output)\n\nif compile_errors:\n    print(&quot;compile_errors:&quot;)\n    print(compile_errors)\n\n# get full path\nscript_directory = os.path.dirname(os.path.abspath(__file__))\n\nrun_process = subprocess.Popen([&quot;java&quot;, &quot;-cp&quot;, script_directory + &quot;\\\\HelloWorld&quot;, &quot;HelloWorld&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\nrun_output, run_errors = run_process.communicate()\n\nprint(&quot;\\nrun_output:&quot;)\nprint(run_output)\n\nif run_errors:\n    print(&quot;run_errors:&quot;)\n    print(run_errors)\n</code></pre>\n<p><strong>Output:</strong>\ncompile_output:</p>\n<p>run_output:\nHello, World!</p>\n<p>Process finished with exit code 0</p>\n<p><strong>Java code:</strong></p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3676284,"reputation":3465,"user_id":3062311,"accept_rate":96,"display_name":"sop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29680246,"answer_count":2,"score":2,"last_activity_date":1693398862,"creation_date":1429200088,"question_id":29680157,"body_markdown":"Hi I am trying to learn to compile a java class with make file. My make file looks like this:\r\n\r\n    build:\r\n    \tjavac test_java.java\r\n    clean:\r\n    \trm -rfv *~ test_java.class\r\n    run:\r\n    \tjava test_java\r\n\r\nNow I have moved the `test_java.java` into a folder, called `classes` I am trying to compile the file using a relative path, is it possible?\r\n\r\nI have tried:\r\n\r\n    javac -d classes test_java.java\r\n\r\nbut I am getting errors: \r\n\r\n    javac -d classes test_java.java\r\n    javac: file not found: test_java.java\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n    use -help for a list of possible options\r\n\r\nI have also tried: `-d ./classes` and also `-d /home/the/whole/path` (but I would like to have the relative path), and the errors are the same. It seems to work only the \r\n\r\n    javac classes/test_java.java\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"Is it possible to use relative path when compiling the java files?","body":"<p>Hi I am trying to learn to compile a java class with make file. My make file looks like this:</p>\n\n<pre><code>build:\n    javac test_java.java\nclean:\n    rm -rfv *~ test_java.class\nrun:\n    java test_java\n</code></pre>\n\n<p>Now I have moved the <code>test_java.java</code> into a folder, called <code>classes</code> I am trying to compile the file using a relative path, is it possible?</p>\n\n<p>I have tried:</p>\n\n<pre><code>javac -d classes test_java.java\n</code></pre>\n\n<p>but I am getting errors: </p>\n\n<pre><code>javac -d classes test_java.java\njavac: file not found: test_java.java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\n</code></pre>\n\n<p>I have also tried: <code>-d ./classes</code> and also <code>-d /home/the/whole/path</code> (but I would like to have the relative path), and the errors are the same. It seems to work only the </p>\n\n<pre><code>javac classes/test_java.java\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1621008722,"post_id":67533484,"comment_id":119374326,"body_markdown":"Why both of your consumers are in the same group? Of course only one of them is going consumer records from a single partition.","body":"Why both of your consumers are in the same group? Of course only one of them is going consumer records from a single partition."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1621010115,"post_id":67533484,"comment_id":119374912,"body_markdown":"Why are we assuming they are in separate groups? Your config/code doesn&#39;t show this","body":"Why are we assuming they are in separate groups? Your config/code doesn&#39;t show this"},{"owner":{"account_id":4201175,"reputation":992,"user_id":3441253,"accept_rate":47,"display_name":"im_infamous"},"score":0,"creation_date":1621245193,"post_id":67533484,"comment_id":119427861,"body_markdown":"thx for input, updated","body":"thx for input, updated"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1621864022,"post_id":67533484,"comment_id":119615274,"body_markdown":"If you are still having problems, post a complete [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) someplace, that exhibits the behavior.","body":"If you are still having problems, post a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> someplace, that exhibits the behavior."}],"answers":[{"tags":[],"owner":{"account_id":4201175,"reputation":992,"user_id":3441253,"accept_rate":47,"display_name":"im_infamous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621865848,"creation_date":1621865848,"answer_id":67673645,"question_id":67533484,"body_markdown":"This one turns out to be solved by adding this one instead of props map:\r\n\r\n    factory.getContainerProperties().setClientId(&quot;consumer-group-other-1&quot;);\r\n    factory.getContainerProperties().setGroupId(&quot;consumer-group-other&quot;);\r\n\r\n\r\n","title":"multiple consumers with latest and earliest offset options with spring-kafka","body":"<p>This one turns out to be solved by adding this one instead of props map:</p>\n<pre><code>factory.getContainerProperties().setClientId(&quot;consumer-group-other-1&quot;);\nfactory.getContainerProperties().setGroupId(&quot;consumer-group-other&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5668909,"reputation":56,"user_id":4484241,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693398824,"creation_date":1693393765,"answer_id":77007429,"question_id":67533484,"body_markdown":"Regarding the way of overriding kafka consumer properties that provided through kafka auto configuration, It seem to me that you created a new consumer properties object. which will override the all properties. \r\n\r\nthe below method **kafkaListenerContainerFactory** in **KafkaAnnotationDrivenConfiguration** class, which is a part of Kafka auto configuration\r\n\r\n        @Bean\r\n        @ConditionalOnMissingBean(name = {&quot;kafkaListenerContainerFactory&quot;})\r\n        ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\r\n            ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory();\r\n            configurer.configure(factory, (ConsumerFactory)kafkaConsumerFactory.getIfAvailable(() -&gt; {\r\n                return new DefaultKafkaConsumerFactory(this.properties.buildConsumerProperties());\r\n            }));\r\n            return factory;\r\n        }\r\n\r\nSo you have to autowire kafkaProperties and appened whatever you want.\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class CustomKafkaConsumerConfig {\r\n        @Autowired\r\n        KafkaProperties kafkaProperties;\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\r\n    \r\n            ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            //configurer.configure(factory, kafkaConsumerFactory.getIfAvailable(() -&gt; new DefaultKafkaConsumerFactory&lt;&gt;(consumerFactory()));\r\n    \r\n            factory.setConsumerFactory(consumerFactory());\r\n            \r\n            //change Ack mode for example\r\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n            \r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n        }\r\n    \r\n        @Bean\r\n        public Map&lt;String, Object&gt; consumerConfigs() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;(kafkaProperties.buildConsumerProperties());\r\n    \r\n            //change offset reset and assignment strategy for example\r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n            props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, RoundRobinAssignor.class.getName());\r\n            return props;\r\n        }\r\n    }\r\n\r\nhere is the log:\r\n\r\n    ...\r\n    auto.offset.reset = earliest\r\n    bootstrap.servers = [localhost:9092, localhost:9093, localhost:9094]\r\n    check.crcs = true\r\n    client.dns.lookup = use_all_dns_ips\r\n    client.id = consumer-test-topic-listener-group-1\r\n    client.rack = \r\n    ....\r\n    metric.reporters = []\r\n    metrics.num.samples = 2\r\n    metrics.recording.level = INFO\r\n    metrics.sample.window.ms = 30000\r\n    partition.assignment.strategy = [org.apache.kafka.clients.consumer.RoundRobinAssignor]\r\n    receive.buffer.bytes = 65536\r\n    ...\r\n\r\n","title":"multiple consumers with latest and earliest offset options with spring-kafka","body":"<p>Regarding the way of overriding kafka consumer properties that provided through kafka auto configuration, It seem to me that you created a new consumer properties object. which will override the all properties.</p>\n<p>the below method <strong>kafkaListenerContainerFactory</strong> in <strong>KafkaAnnotationDrivenConfiguration</strong> class, which is a part of Kafka auto configuration</p>\n<pre><code>    @Bean\n    @ConditionalOnMissingBean(name = {&quot;kafkaListenerContainerFactory&quot;})\n    ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory();\n        configurer.configure(factory, (ConsumerFactory)kafkaConsumerFactory.getIfAvailable(() -&gt; {\n            return new DefaultKafkaConsumerFactory(this.properties.buildConsumerProperties());\n        }));\n        return factory;\n    }\n</code></pre>\n<p>So you have to autowire kafkaProperties and appened whatever you want.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class CustomKafkaConsumerConfig {\n    @Autowired\n    KafkaProperties kafkaProperties;\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\n\n        ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        //configurer.configure(factory, kafkaConsumerFactory.getIfAvailable(() -&gt; new DefaultKafkaConsumerFactory&lt;&gt;(consumerFactory()));\n\n        factory.setConsumerFactory(consumerFactory());\n        \n        //change Ack mode for example\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n        \n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;(kafkaProperties.buildConsumerProperties());\n\n        //change offset reset and assignment strategy for example\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, RoundRobinAssignor.class.getName());\n        return props;\n    }\n}\n</code></pre>\n<p>here is the log:</p>\n<pre><code>...\nauto.offset.reset = earliest\nbootstrap.servers = [localhost:9092, localhost:9093, localhost:9094]\ncheck.crcs = true\nclient.dns.lookup = use_all_dns_ips\nclient.id = consumer-test-topic-listener-group-1\nclient.rack = \n....\nmetric.reporters = []\nmetrics.num.samples = 2\nmetrics.recording.level = INFO\nmetrics.sample.window.ms = 30000\npartition.assignment.strategy = [org.apache.kafka.clients.consumer.RoundRobinAssignor]\nreceive.buffer.bytes = 65536\n...\n</code></pre>\n"}],"owner":{"account_id":4201175,"reputation":992,"user_id":3441253,"accept_rate":47,"display_name":"im_infamous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693398824,"creation_date":1620991268,"question_id":67533484,"body_markdown":"There&#39;s one consumer with `earliest` offset option and batch processing which works perfectly fine.\r\n\r\n\r\nNow there&#39;s need to add another consumer which should work in single processing mode and always look for `latest` offset - this one appears to be in clash with some of configs below because it doesn&#39;t really have messages processed.\r\n\r\nproperties for whole application:\r\n\r\n    spring.kafka.bootstrap-servers=${KAFKA_ADDRESS:localhost:9092}\r\n    spring.kafka.consumer.group-id=group\r\n    spring.kafka.listener.type=batch\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.max-poll-records=100000\r\n\r\nbean for working consumer:\r\n\r\n    @Bean(&quot;batchKafkaListenerContainerFactory&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; batchKafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        factory.setBatchListener(true);\r\n        return factory;\r\n    }\r\n\r\nbean for problem consumer:\r\n\r\n    @Bean(&quot;singleKafkaListenerContainerFactoryManualCommit&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; singleKafkaListenerContainerFactoryManualCommit(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        Properties props = new Properties();\r\n        props.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        factory.getContainerProperties().setKafkaConsumerProperties(props);\r\n        factory.setBatchListener(false);\r\n        return factory;\r\n    }\r\n\r\nBoth consumers are up and running as follows:\r\n\r\n    [ntainer#1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-2, groupId=group] Successfully joined group with generation 15\r\n    [ntainer#0-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-1, groupId=group] Successfully joined group with generation 15\r\n\r\nthey do target same topic but assuming that there are separate consumer groups in play this shouldn&#39;t affect anything in this case.\r\n\r\nMaybe there&#39;s tricky problem of consumer waiting to poll entire batch or another option interference plays out?\r\n\r\n*UPD*\r\nBased on comments this can be done via plain and simple separate consumer group addition.\r\n\r\nThis is how I&#39;ve figured to amend properties for new consumer group creation:\r\n\r\n    props.put(&quot;group.id&quot;, &quot;group-single&quot;);\r\nand another option:\r\n\r\n    props.setProperty(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-single&quot;);\r\n\r\n\r\nStill logs indicate no presence of new consumer however.","title":"multiple consumers with latest and earliest offset options with spring-kafka","body":"<p>There's one consumer with <code>earliest</code> offset option and batch processing which works perfectly fine.</p>\n<p>Now there's need to add another consumer which should work in single processing mode and always look for <code>latest</code> offset - this one appears to be in clash with some of configs below because it doesn't really have messages processed.</p>\n<p>properties for whole application:</p>\n<pre><code>spring.kafka.bootstrap-servers=${KAFKA_ADDRESS:localhost:9092}\nspring.kafka.consumer.group-id=group\nspring.kafka.listener.type=batch\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.max-poll-records=100000\n</code></pre>\n<p>bean for working consumer:</p>\n<pre><code>@Bean(&quot;batchKafkaListenerContainerFactory&quot;)\npublic ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; batchKafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n    factory.setBatchListener(true);\n    return factory;\n}\n</code></pre>\n<p>bean for problem consumer:</p>\n<pre><code>@Bean(&quot;singleKafkaListenerContainerFactoryManualCommit&quot;)\npublic ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; singleKafkaListenerContainerFactoryManualCommit(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    Properties props = new Properties();\n    props.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n    factory.getContainerProperties().setKafkaConsumerProperties(props);\n    factory.setBatchListener(false);\n    return factory;\n}\n</code></pre>\n<p>Both consumers are up and running as follows:</p>\n<pre><code>[ntainer#1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-2, groupId=group] Successfully joined group with generation 15\n[ntainer#0-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-1, groupId=group] Successfully joined group with generation 15\n</code></pre>\n<p>they do target same topic but assuming that there are separate consumer groups in play this shouldn't affect anything in this case.</p>\n<p>Maybe there's tricky problem of consumer waiting to poll entire batch or another option interference plays out?</p>\n<p><em>UPD</em>\nBased on comments this can be done via plain and simple separate consumer group addition.</p>\n<p>This is how I've figured to amend properties for new consumer group creation:</p>\n<pre><code>props.put(&quot;group.id&quot;, &quot;group-single&quot;);\n</code></pre>\n<p>and another option:</p>\n<pre><code>props.setProperty(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-single&quot;);\n</code></pre>\n<p>Still logs indicate no presence of new consumer however.</p>\n"},{"tags":["java","ip-address","ipv6"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411340412,"creation_date":1411339882,"answer_id":25964686,"question_id":25955369,"body_markdown":"This transformation will do the conversion:\r\n\r\n    ip = ip. replaceAll(&quot;^&quot;, &quot;0000&quot;).replaceAll(&quot;::&quot;, &quot;0000:0000:0000:0000:0000&quot;).replaceAll(&quot;^.*?(....)(?=:)|(?&lt;=:)[^:]*(?=....$)&quot;, &quot;&quot;);\r\n\r\nThe extra `replaceAll()` at the end ensures there are no extra zeroes in the first/final part, which caters for the leading/trailing address info (&quot;0&quot; and &quot;9&quot; in this case) being any number of digits.","title":"Code for converting a compressed IPv6 adress into its long form","body":"<p>This transformation will do the conversion:</p>\n\n<pre><code>ip = ip. replaceAll(\"^\", \"0000\").replaceAll(\"::\", \"0000:0000:0000:0000:0000\").replaceAll(\"^.*?(....)(?=:)|(?&lt;=:)[^:]*(?=....$)\", \"\");\n</code></pre>\n\n<p>The extra <code>replaceAll()</code> at the end ensures there are no extra zeroes in the first/final part, which caters for the leading/trailing address info (\"0\" and \"9\" in this case) being any number of digits.</p>\n"},{"tags":[],"owner":{"account_id":5463917,"reputation":161,"user_id":4345230,"display_name":"lmm333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693398810,"creation_date":1693398810,"answer_id":77008093,"question_id":25955369,"body_markdown":"    import com.google.common.net.InetAddresses;\r\n    // Convert the short IPv6 address to a full version\r\n    InetAddress inetAddress = InetAddresses.forString(shortIPv6); \r\n    return inetAddress.getHostAddress();\r\n\r\n\r\n    import java.net.Inet6Address;\r\n    import java.net.InetAddress;\r\n    InetAddress inetAddress = Inet6Address.getByName(shortIPv6); \r\n    return inetAddress.getHostAddress();","title":"Code for converting a compressed IPv6 adress into its long form","body":"<pre><code>import com.google.common.net.InetAddresses;\n// Convert the short IPv6 address to a full version\nInetAddress inetAddress = InetAddresses.forString(shortIPv6); \nreturn inetAddress.getHostAddress();\n\n\nimport java.net.Inet6Address;\nimport java.net.InetAddress;\nInetAddress inetAddress = Inet6Address.getByName(shortIPv6); \nreturn inetAddress.getHostAddress();\n</code></pre>\n"}],"owner":{"account_id":2598308,"reputation":1,"user_id":2251416,"display_name":"msn.sadiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693398810,"creation_date":1411268470,"question_id":25955369,"body_markdown":"I would like to know, whether there is a library which I can use to convert a represenation of a compressed IPv6 adress (such as 0:9876:5700::9) into the long IPv6 form (in this case: `0000:9876:5700:0000:0000:0000:0000:0009).`","title":"Code for converting a compressed IPv6 adress into its long form","body":"<p>I would like to know, whether there is a library which I can use to convert a represenation of a compressed IPv6 adress (such as 0:9876:5700::9) into the long IPv6 form (in this case: <code>0000:9876:5700:0000:0000:0000:0000:0009).</code></p>\n"},{"tags":["java","spring","spring-boot","flapdoodle-embed-mongo"],"owner":{"account_id":6178813,"reputation":508,"user_id":4814955,"display_name":"Mykeul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693398682,"creation_date":1693398682,"question_id":77008077,"body_markdown":"I am using emdedded mongodb (flapdoodle) in my tests.\r\nI am moving to Spring Boot 3. I got help from this link:\r\nhttps://stackoverflow.com/questions/74734106/how-to-use-embedded-mongodb-with-springboot-v3-0-0\r\n(@egimaben answer).\r\n\r\nNow if I want to be able to create the mongo client (mongotemplate), I need to know in advance the port.\r\nSo I am using a fixed port to start MongoDB server:\r\n   \r\n\r\nspring.data.mongodb.port=27777\r\n\r\nThen I create the client (Mongotemplate) to connect to this port.\r\nEverything works fine.\r\n\r\nBut if I have multiple tests, each test is trying to start MongoDB server and fails since the port is busy.\r\nHow can I start/stop embedded MongoDB for each test?\r\nor\r\nIf I use random port instead of fixed port, how can I know in advance the random port in order to create the Mongo client (mongoTemplate)?\r\n\r\nThank you for your help.","title":"Embedded MongoDB with SpringBoot v3.0.0?","body":"<p>I am using emdedded mongodb (flapdoodle) in my tests.\nI am moving to Spring Boot 3. I got help from this link:\n<a href=\"https://stackoverflow.com/questions/74734106/how-to-use-embedded-mongodb-with-springboot-v3-0-0\">How to use embedded MongoDB with SpringBoot v3.0.0?</a>\n(@egimaben answer).</p>\n<p>Now if I want to be able to create the mongo client (mongotemplate), I need to know in advance the port.\nSo I am using a fixed port to start MongoDB server:</p>\n<p>spring.data.mongodb.port=27777</p>\n<p>Then I create the client (Mongotemplate) to connect to this port.\nEverything works fine.</p>\n<p>But if I have multiple tests, each test is trying to start MongoDB server and fails since the port is busy.\nHow can I start/stop embedded MongoDB for each test?\nor\nIf I use random port instead of fixed port, how can I know in advance the random port in order to create the Mongo client (mongoTemplate)?</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","ipv6"],"answers":[{"tags":[],"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1285091151,"creation_date":1285084643,"answer_id":3762111,"question_id":3760936,"body_markdown":"    public class Ipv6AddressCompressor {\r\n    \tpublic static String getCompressedAddress(String longAddress) throws UnknownHostException {\r\n    \t\tlongAddress = Inet6Address.getByName(longAddress).getHostAddress();\r\n    \t\treturn longAddress.replaceFirst(&quot;(^|:)(0+(:|$)){2,8}&quot;, &quot;::&quot;);\r\n    \t}\r\n    }\r\n\r\nThis should protect you against invalid addresses (throws the UnknownHostException), and will properly compress trailing ipv4 addresses (i.e. 0:0:0:0:0:0:255.255.255.255 -&gt; ::FFFF:FFFF).  This will also protect against already compressed addresses.","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<pre><code>public class Ipv6AddressCompressor {\n    public static String getCompressedAddress(String longAddress) throws UnknownHostException {\n        longAddress = Inet6Address.getByName(longAddress).getHostAddress();\n        return longAddress.replaceFirst(\"(^|:)(0+(:|$)){2,8}\", \"::\");\n    }\n}\n</code></pre>\n\n<p>This should protect you against invalid addresses (throws the UnknownHostException), and will properly compress trailing ipv4 addresses (i.e. 0:0:0:0:0:0:255.255.255.255 -> ::FFFF:FFFF).  This will also protect against already compressed addresses.</p>\n"},{"tags":[],"owner":{"account_id":56438,"reputation":14829,"user_id":169045,"accept_rate":89,"display_name":"rodion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310216672,"creation_date":1310216672,"answer_id":6634894,"question_id":3760936,"body_markdown":"You can try this code. It&#39;ll probably perform better than the regex equivalent (not that I have benchmarked it, or anything). It&#39;s pretty well tested too.\r\n\r\nNote that you will need to use a numeric representation (in `byte[]`) of the IP address. To get it you can either do `InetAddress.getByName(ip).getAddress()` if you need to resolve host names, or use sun utility class `IPAddressUtil.textToNumericFormatV6(ip)` to parse from an IP address without host resolution.\r\n\r\n\tprivate static final char[] ipv6conseqZeroFiller = { &#39;:&#39;, &#39;:&#39; };\r\n\tprivate static final char ipv6hextetSeparator = &#39;:&#39;;\r\n\r\n\t/*\r\n\t * Convert numeric IPv6 to compressed format, where\r\n\t * the longest sequence of 0&#39;s (with 2 or more 0&#39;s) is replaced with &quot;::&quot;\r\n\t */\r\n\tpublic static String ipv6toCompressedForm(byte[] src) {\r\n\t\tassert src.length == 16;\r\n\t\t//Find the longest sequence of 0&#39;s \r\n\t\tint cmprHextet = -1; //start of compressed region (hextet index)\r\n\t\tint cmprSize = 0; //length of compressed region\r\n\t\tfor (int hextet = 0; hextet &lt; 8;) {\r\n\t\t\tint curByte = hextet * 2;\r\n\t\t\tint size = 0;\r\n\t\t\twhile (curByte &lt; src.length &amp;&amp; src[curByte] == 0\r\n\t\t\t\t\t&amp;&amp; src[curByte + 1] == 0) {\r\n\t\t\t\tcurByte += 2;\r\n\t\t\t\tsize++;\r\n\t\t\t}\r\n\t\t\tif (size &gt; cmprSize) {\r\n\t\t\t\tcmprHextet = hextet;\r\n\t\t\t\tcmprSize = size;\r\n\t\t\t}\r\n\t\t\thextet = (curByte / 2) + 1;\r\n\t\t}\r\n\t\tif (cmprHextet == -1 || cmprSize &lt; 2) {\r\n\t\t\t//No compression can be applied\r\n\t\t\treturn ipv6toStr(src);\r\n\t\t}\r\n\t\tStringBuilder sb = new StringBuilder(39);\r\n\t\tipv6toStr(sb, src, 0, cmprHextet);\r\n\t\tsb.append(ipv6conseqZeroFiller);\r\n\t\tipv6toStr(sb, src, cmprHextet + cmprSize, 8);\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\t/*\r\n\t * Convert numeric IPv6 to standard (non-compressed) format.\r\n\t *\r\n\t * Borrowed from Inet6Address.java #numericToTextFormat(byte[])\r\n\t * Changed StringBuffer -&gt; StringBuilder and &quot;:&quot; -&gt; &#39;:&#39; for performance.\r\n\t */\r\n\tpublic static String ipv6toStr(byte[] src) {\r\n\t\tassert src.length == 16;\r\n\t\tStringBuilder sb = new StringBuilder(39);\r\n\t\tipv6toStr(sb, src, 0, 8);\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tprivate static final void ipv6toStr(StringBuilder sb, byte[] src,\r\n\t\t\tint fromHextet, int toHextet) {\r\n\t\tfor (int i = fromHextet; i &lt; toHextet; i++) {\r\n\t\t\tsb.append(Integer.toHexString(((src[i &lt;&lt; 1] &lt;&lt; 8) &amp; 0xff00)\r\n\t\t\t\t\t| (src[(i &lt;&lt; 1) + 1] &amp; 0xff)));\r\n\t\t\tif (i &lt; toHextet - 1) {\r\n\t\t\t\tsb.append(ipv6hextetSeparator);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p>You can try this code. It'll probably perform better than the regex equivalent (not that I have benchmarked it, or anything). It's pretty well tested too.</p>\n\n<p>Note that you will need to use a numeric representation (in <code>byte[]</code>) of the IP address. To get it you can either do <code>InetAddress.getByName(ip).getAddress()</code> if you need to resolve host names, or use sun utility class <code>IPAddressUtil.textToNumericFormatV6(ip)</code> to parse from an IP address without host resolution.</p>\n\n<pre><code>private static final char[] ipv6conseqZeroFiller = { ':', ':' };\nprivate static final char ipv6hextetSeparator = ':';\n\n/*\n * Convert numeric IPv6 to compressed format, where\n * the longest sequence of 0's (with 2 or more 0's) is replaced with \"::\"\n */\npublic static String ipv6toCompressedForm(byte[] src) {\n    assert src.length == 16;\n    //Find the longest sequence of 0's \n    int cmprHextet = -1; //start of compressed region (hextet index)\n    int cmprSize = 0; //length of compressed region\n    for (int hextet = 0; hextet &lt; 8;) {\n        int curByte = hextet * 2;\n        int size = 0;\n        while (curByte &lt; src.length &amp;&amp; src[curByte] == 0\n                &amp;&amp; src[curByte + 1] == 0) {\n            curByte += 2;\n            size++;\n        }\n        if (size &gt; cmprSize) {\n            cmprHextet = hextet;\n            cmprSize = size;\n        }\n        hextet = (curByte / 2) + 1;\n    }\n    if (cmprHextet == -1 || cmprSize &lt; 2) {\n        //No compression can be applied\n        return ipv6toStr(src);\n    }\n    StringBuilder sb = new StringBuilder(39);\n    ipv6toStr(sb, src, 0, cmprHextet);\n    sb.append(ipv6conseqZeroFiller);\n    ipv6toStr(sb, src, cmprHextet + cmprSize, 8);\n    return sb.toString();\n}\n\n/*\n * Convert numeric IPv6 to standard (non-compressed) format.\n *\n * Borrowed from Inet6Address.java #numericToTextFormat(byte[])\n * Changed StringBuffer -&gt; StringBuilder and \":\" -&gt; ':' for performance.\n */\npublic static String ipv6toStr(byte[] src) {\n    assert src.length == 16;\n    StringBuilder sb = new StringBuilder(39);\n    ipv6toStr(sb, src, 0, 8);\n    return sb.toString();\n}\n\nprivate static final void ipv6toStr(StringBuilder sb, byte[] src,\n        int fromHextet, int toHextet) {\n    for (int i = fromHextet; i &lt; toHextet; i++) {\n        sb.append(Integer.toHexString(((src[i &lt;&lt; 1] &lt;&lt; 8) &amp; 0xff00)\n                | (src[(i &lt;&lt; 1) + 1] &amp; 0xff)));\n        if (i &lt; toHextet - 1) {\n            sb.append(ipv6hextetSeparator);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364298007,"creation_date":1364298007,"answer_id":15636179,"question_id":3760936,"body_markdown":"[java-ipv6][1] is a very decent library for that. It also handles address ranges well.\r\n\r\n  [1]: https://code.google.com/p/java-ipv6/","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p><a href=\"https://code.google.com/p/java-ipv6/\">java-ipv6</a> is a very decent library for that. It also handles address ranges well.</p>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488697461,"creation_date":1488697461,"answer_id":42605520,"question_id":3760936,"body_markdown":"[The open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) can do ip address parsing and produce a variety of strings.  Disclaimer: I am the project manager of that library.\r\n\r\nExample code:\r\n\r\n        String ipv6 = &quot;2002:9876:57AB:0000:0000:0000:0000:0001&quot;;\r\n        try {\r\n            IPAddressString str = new IPAddressString(ipv6);\r\n            IPAddress addr = str.toAddress();\r\n            String compressed = addr.toCompressedString();\r\n            System.out.println(compressed); //\r\n        } catch(IPAddressStringException e) {\r\n            //e.getMessage has validation error\r\n        }\r\n\r\noutput:\r\n    \r\n    2002:9876:57ab::1\r\n","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">The open-source IPAddress Java library</a> can do ip address parsing and produce a variety of strings.  Disclaimer: I am the project manager of that library.</p>\n\n<p>Example code:</p>\n\n<pre><code>    String ipv6 = \"2002:9876:57AB:0000:0000:0000:0000:0001\";\n    try {\n        IPAddressString str = new IPAddressString(ipv6);\n        IPAddress addr = str.toAddress();\n        String compressed = addr.toCompressedString();\n        System.out.println(compressed); //\n    } catch(IPAddressStringException e) {\n        //e.getMessage has validation error\n    }\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>2002:9876:57ab::1\n</code></pre>\n"}],"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10429,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1693404969,"accepted_answer_id":3762111,"answer_count":4,"score":6,"last_activity_date":1693398658,"creation_date":1285076798,"question_id":3760936,"body_markdown":"I would like to know, whether there is a library which I can use to convert a represenation of a long IPv6 address (such as 2002:9876:57AB:0000:0000:0000:0000:0001) into the compressed IPv6 form (in this case: 2002:9876:57AB::1).\r\n\r\nI was not able to find such a library. This library should not use any IP Api, a network connection must not be made.\r\n\r\nI already tried\r\n\r\n    return Inet6Address.getByName(longAdress).toString();\r\n\r\nbut this just replaces the 4 zeros with 1 zero (in this case 2002:9876:57AB:0:0:0:0:1).\r\n\r\nany suggestions?","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p>I would like to know, whether there is a library which I can use to convert a represenation of a long IPv6 address (such as 2002:9876:57AB:0000:0000:0000:0000:0001) into the compressed IPv6 form (in this case: 2002:9876:57AB::1).</p>\n\n<p>I was not able to find such a library. This library should not use any IP Api, a network connection must not be made.</p>\n\n<p>I already tried</p>\n\n<pre><code>return Inet6Address.getByName(longAdress).toString();\n</code></pre>\n\n<p>but this just replaces the 4 zeros with 1 zero (in this case 2002:9876:57AB:0:0:0:0:1).</p>\n\n<p>any suggestions?</p>\n"},{"tags":["java","ipv6"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1454476313,"post_id":35168524,"comment_id":58055937,"body_markdown":"Use the java.net.Inet6Address Class:  https://docs.oracle.com/javase/7/docs/api/java/net/Inet6Address.html","body":"Use the java.net.Inet6Address Class:  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Inet6Address.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/Inet6Address.html</a>"},{"owner":{"account_id":6569365,"reputation":91,"user_id":5077949,"accept_rate":83,"display_name":"Tri Pham"},"score":1,"creation_date":1454478355,"post_id":35168524,"comment_id":58056604,"body_markdown":"Thanks for your reply! I think it will return &quot;2001:cdba:0:0:0:0:3257:9652&quot; but I need fully &quot;2001:cdba:0000:0000:0000:0000:3257:9652&quot;","body":"Thanks for your reply! I think it will return &quot;2001:cdba:0:0:0:0:3257:9652&quot; but I need fully &quot;2001:cdba:0000:0000:0000:0000:3257:9652&quot;"},{"owner":{"account_id":6569365,"reputation":91,"user_id":5077949,"accept_rate":83,"display_name":"Tri Pham"},"score":0,"creation_date":1454485681,"post_id":35168524,"comment_id":58059976,"body_markdown":"Actually, I wrote a function to do that but I want to know: Does has any function in java to do that?","body":"Actually, I wrote a function to do that but I want to know: Does has any function in java to do that?"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":1,"creation_date":1454510448,"post_id":35168524,"comment_id":58076952,"body_markdown":"[RFC 5952, A Recommendation for IPv6 Address Text Representation](https://tools.ietf.org/html/rfc5952) has an affect on this.","body":"<a href=\"https://tools.ietf.org/html/rfc5952\" rel=\"nofollow noreferrer\">RFC 5952, A Recommendation for IPv6 Address Text Representation</a> has an affect on this."}],"answers":[{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1473403163,"creation_date":1473403163,"answer_id":39405311,"question_id":35168524,"body_markdown":"There is no method in the standard Java libraries to do that.\r\n\r\n[The IPAddress Java library](https://seancfoley.github.io/IPAddress/) has methods to produce those formats and various other string formats.\r\n\r\nHere is a code sample:\r\n\r\n\t\tIPAddressString addrString = new IPAddressString(&quot;2001:cdba::3257:9652&quot;);\r\n\t\tIPAddress addr = addrString.getAddress();\r\n\t\tString string = addr.toFullString();\r\n\t\tSystem.out.println(string);\r\n\t\tstring = addr.toCanonicalString();\r\n\t\tSystem.out.println(string);\r\n\r\nThe output is:\r\n\r\n    2001:cdba:0000:0000:0000:0000:3257:9652\r\n    2001:cdba::3257:9652\r\n","title":"Get Ipv6 Full Format In Java","body":"<p>There is no method in the standard Java libraries to do that.</p>\n\n<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow\">The IPAddress Java library</a> has methods to produce those formats and various other string formats.</p>\n\n<p>Here is a code sample:</p>\n\n<pre><code>    IPAddressString addrString = new IPAddressString(\"2001:cdba::3257:9652\");\n    IPAddress addr = addrString.getAddress();\n    String string = addr.toFullString();\n    System.out.println(string);\n    string = addr.toCanonicalString();\n    System.out.println(string);\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>2001:cdba:0000:0000:0000:0000:3257:9652\n2001:cdba::3257:9652\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5463917,"reputation":161,"user_id":4345230,"display_name":"lmm333"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693398632,"creation_date":1693398632,"answer_id":77008070,"question_id":35168524,"body_markdown":"    import com.google.common.net.InetAddresses;\r\n    // Convert the short IPv6 address to a full version\r\n    InetAddress inetAddress = InetAddresses.forString(shortIPv6); \r\n    return inetAddress.getHostAddress();","title":"Get Ipv6 Full Format In Java","body":"<pre><code>import com.google.common.net.InetAddresses;\n// Convert the short IPv6 address to a full version\nInetAddress inetAddress = InetAddresses.forString(shortIPv6); \nreturn inetAddress.getHostAddress();\n</code></pre>\n"}],"owner":{"account_id":6569365,"reputation":91,"user_id":5077949,"accept_rate":83,"display_name":"Tri Pham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39405311,"answer_count":2,"score":2,"last_activity_date":1693398632,"creation_date":1454473663,"question_id":35168524,"body_markdown":"I have an ipv6 like:**&quot;2001:cdba::3257:9652&quot;.** I want get ipv6 in full format like: **2001:cdba:0000:0000:0000:0000:3257:9652**. Does has any function in java to do that? And how to compress a ipv6 full format?\r\nThanks all.","title":"Get Ipv6 Full Format In Java","body":"<p>I have an ipv6 like:<strong>\"2001:cdba::3257:9652\".</strong> I want get ipv6 in full format like: <strong>2001:cdba:0000:0000:0000:0000:3257:9652</strong>. Does has any function in java to do that? And how to compress a ipv6 full format?\nThanks all.</p>\n"},{"tags":["java","android","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693398364,"creation_date":1693398364,"answer_id":77008024,"question_id":77006196,"body_markdown":"As the [manual][1] helpfully states GeoTools stores its release jars at https://repo.osgeo.org/repository/release/ \r\n\r\nAlso, much of GeoTools depends on the SPI tools to load datastores and other plugins so it won&#39;t work on Android unless you rewrite the loader.\r\n\r\n\r\n  [1]: https://docs.geotools.org/stable/userguide/build/maven/repositories.html","title":"How to integrate GeoTools library in android Project","body":"<p>As the <a href=\"https://docs.geotools.org/stable/userguide/build/maven/repositories.html\" rel=\"nofollow noreferrer\">manual</a> helpfully states GeoTools stores its release jars at <a href=\"https://repo.osgeo.org/repository/release/\" rel=\"nofollow noreferrer\">https://repo.osgeo.org/repository/release/</a></p>\n<p>Also, much of GeoTools depends on the SPI tools to load datastores and other plugins so it won't work on Android unless you rewrite the loader.</p>\n"}],"owner":{"account_id":23782993,"reputation":81,"user_id":17795444,"display_name":"user17795444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77008024,"answer_count":1,"score":1,"last_activity_date":1693398364,"creation_date":1693384046,"question_id":77006196,"body_markdown":"I am trying to integrate geotools libray, but I am getting error please help to integrate i have done following step for integration. \r\n\r\nI am getting error: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find org.geotools:geotools:29.2.\r\n - https://dl.google.com/dl/android/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\r\n       - https://repo.maven.apache.org/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\r\n\r\n\r\n\r\n\r\nPlease help me to integrate \r\n\r\n\r\n\r\n ## Project level build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;8.0.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;8.0.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.20&#39; apply false\r\n}\r\n```\r\n\r\n## app level build.gradle dependencies\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;androidx.core:core-ktx:1.8.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;io.oss84.geotools:geotools:24.2-oss84-1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;org.geotools:geotools:29.2&#39;\r\n}\r\n```\r\n## settings.gradle\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n        maven { url &#39;https://jitpack.io&#39; } // Add GeoTools repository\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;GeoToolsAndroid&quot;\r\ninclude &#39;:app&#39;\r\n```","title":"How to integrate GeoTools library in android Project","body":"<p>I am trying to integrate geotools libray, but I am getting error please help to integrate i have done following step for integration.</p>\n<p>I am getting error: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</p>\n<blockquote>\n<p>Could not find org.geotools:geotools:29.2.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://dl.google.com/dl/android/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/org/geotools/geotools/29.2/geotools-29.2.pom</a>\n- <a href=\"https://repo.maven.apache.org/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/geotools/geotools/29.2/geotools-29.2.pom</a></li>\n</ul>\n<p>Please help me to integrate</p>\n<h2>Project level build.gradle</h2>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.2' apply false\n    id 'com.android.library' version '8.0.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.20' apply false\n}\n</code></pre>\n<h2>app level build.gradle dependencies</h2>\n<pre><code>dependencies {\n    implementation 'androidx.core:core-ktx:1.8.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'io.oss84.geotools:geotools:24.2-oss84-1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'org.geotools:geotools:29.2'\n}\n</code></pre>\n<h2>settings.gradle</h2>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n        maven { url 'https://jitpack.io' } // Add GeoTools repository\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;GeoToolsAndroid&quot;\ninclude ':app'\n</code></pre>\n"},{"tags":["java","kotlin","opencv","camera-calibration","opencv-solvepnp"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1693404975,"post_id":77007868,"comment_id":135756756,"body_markdown":"According to my own tests from some years ago, solvePnp gives the object pose, so to get the camera extrinsics you would have to invert. BUT maybe opencv changed the behaviour in a later version. If you place the camera front-facing to the chessboard (rotation nearly 0, x and y nearly 0), what&#39;s the z position coordinate given in solvePnp? Is it positive or negative? If you move the cam to some x coordinate, does this fit to your chessboard-coordinate-system or to its inverse?","body":"According to my own tests from some years ago, solvePnp gives the object pose, so to get the camera extrinsics you would have to invert. BUT maybe opencv changed the behaviour in a later version. If you place the camera front-facing to the chessboard (rotation nearly 0, x and y nearly 0), what&#39;s the z position coordinate given in solvePnp? Is it positive or negative? If you move the cam to some x coordinate, does this fit to your chessboard-coordinate-system or to its inverse?"},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1693405574,"post_id":77007868,"comment_id":135756906,"body_markdown":"Have a look at the docs, even for calibrateCamera it says fit rvec/tvec: &quot;this tuple is equivalent to the position of the calibration pattern with respect to the camera coordinate space.&quot; So imho if you are searching the camera pose in the board-coordinate-system you have to invert rvec and tvec. Still,if possible, you should verify this in a controlled setup where the camera extrinsics are coarsely known. Thus can also help to understand the actual coordinate systems.","body":"Have a look at the docs, even for calibrateCamera it says fit rvec/tvec: &quot;this tuple is equivalent to the position of the calibration pattern with respect to the camera coordinate space.&quot; So imho if you are searching the camera pose in the board-coordinate-system you have to invert rvec and tvec. Still,if possible, you should verify this in a controlled setup where the camera extrinsics are coarsely known. Thus can also help to understand the actual coordinate systems."}],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693398088,"creation_date":1693397191,"question_id":77007868,"body_markdown":"I have a camera that has known intrinsic parameters but unknown extrinsic parameters. I am attempting to get an extrinsic calibration and to do that, I positioned a chessboard pattern with known world coordinates in the frame of the camera. To get the extrinsic calibration, I am comparing two OpenCV methods from the Calib3D module:\r\n\r\n    val flags = CALIB_USE_INTRINSIC_GUESS or\r\n        CALIB_FIX_PRINCIPAL_POINT or\r\n        CALIB_FIX_FOCAL_LENGTH or\r\n        CALIB_FIX_K1 or\r\n        CALIB_FIX_K2 or\r\n        CALIB_FIX_K3 or\r\n        CALIB_FIX_K4 or\r\n        CALIB_FIX_K5 or\r\n        CALIB_FIX_K6 or\r\n        CALIB_FIX_S1_S2_S3_S4 or\r\n        CALIB_FIX_TAUX_TAUY\r\n    val overallRms = Calib3d.calibrateCamera(\r\n        objectPoints,\r\n        imagePoints,\r\n        imageSize,\r\n        cameraMatrix,\r\n        distortionCoefficients,\r\n        rotationVectors,\r\n        translationVectors,\r\n        flags\r\n    )\r\n\r\nand\r\n\r\n    val solveReturnValue = Calib3d.solvePnP(\r\n        objectPointsInFrame.second,\r\n        imagePointsInFrame.second,\r\n        cameraMatrix,\r\n        distortionCoefficients,\r\n        rotationVector,\r\n        translationVector,\r\n        false // useExtrinsicsGuess\r\n    )\r\n\r\nBoth methods yield the same results for translation and rotation +- 1.5 units. However, I have read on multiple occasions (e.g., [here](https://answers.opencv.org/question/133855/does-anyone-actually-use-the-return-values-of-solvepnp-to-compute-the-coordinates-of-the-camera-wrt-the-object-in-the-world-space/) ) that `solvePnP` yields the inverse of `calibrateCamera` and one needs to invert the transformation again by \r\n\r\n1. computing the rotation matrix `R` from the rotation vector using `Calib3D.Rodrigues()`\r\n2. inverting the rotation by inverting the rotation matrix\r\n3. inverting the translation using `-R.t()*tvec`\r\n\r\nwhich according to my testing does not seem to be the case. Hence, my questions: Is it safe to assume that  `rotationVectors` and `translationVectors` are the extrinsic calibration of the camera? And when is the aforementioned transformation actually necessary?","title":"Transformation of extrinsic camera parameters from solvePnP","body":"<p>I have a camera that has known intrinsic parameters but unknown extrinsic parameters. I am attempting to get an extrinsic calibration and to do that, I positioned a chessboard pattern with known world coordinates in the frame of the camera. To get the extrinsic calibration, I am comparing two OpenCV methods from the Calib3D module:</p>\n<pre><code>val flags = CALIB_USE_INTRINSIC_GUESS or\n    CALIB_FIX_PRINCIPAL_POINT or\n    CALIB_FIX_FOCAL_LENGTH or\n    CALIB_FIX_K1 or\n    CALIB_FIX_K2 or\n    CALIB_FIX_K3 or\n    CALIB_FIX_K4 or\n    CALIB_FIX_K5 or\n    CALIB_FIX_K6 or\n    CALIB_FIX_S1_S2_S3_S4 or\n    CALIB_FIX_TAUX_TAUY\nval overallRms = Calib3d.calibrateCamera(\n    objectPoints,\n    imagePoints,\n    imageSize,\n    cameraMatrix,\n    distortionCoefficients,\n    rotationVectors,\n    translationVectors,\n    flags\n)\n</code></pre>\n<p>and</p>\n<pre><code>val solveReturnValue = Calib3d.solvePnP(\n    objectPointsInFrame.second,\n    imagePointsInFrame.second,\n    cameraMatrix,\n    distortionCoefficients,\n    rotationVector,\n    translationVector,\n    false // useExtrinsicsGuess\n)\n</code></pre>\n<p>Both methods yield the same results for translation and rotation +- 1.5 units. However, I have read on multiple occasions (e.g., <a href=\"https://answers.opencv.org/question/133855/does-anyone-actually-use-the-return-values-of-solvepnp-to-compute-the-coordinates-of-the-camera-wrt-the-object-in-the-world-space/\" rel=\"nofollow noreferrer\">here</a> ) that <code>solvePnP</code> yields the inverse of <code>calibrateCamera</code> and one needs to invert the transformation again by</p>\n<ol>\n<li>computing the rotation matrix <code>R</code> from the rotation vector using <code>Calib3D.Rodrigues()</code></li>\n<li>inverting the rotation by inverting the rotation matrix</li>\n<li>inverting the translation using <code>-R.t()*tvec</code></li>\n</ol>\n<p>which according to my testing does not seem to be the case. Hence, my questions: Is it safe to assume that  <code>rotationVectors</code> and <code>translationVectors</code> are the extrinsic calibration of the camera? And when is the aforementioned transformation actually necessary?</p>\n"},{"tags":["java","function","kotlin","lambda"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693397884,"creation_date":1693396884,"answer_id":77007811,"question_id":77007755,"body_markdown":"The issue you&#39;re is due to Kotlin&#39;s type inference not working as expected in this specific context when using lambdas with Java functional interfaces.\r\n\r\nTo address this, you can explicitly declare the lambda type using the `Function` interface in your code:\r\n\r\n```kotlin\r\nimport java.util.function.Function\r\n\r\nfun main() {\r\n   val s: Function&lt;String, String&gt; = Function&lt;String, String&gt; { s -&gt; s + s }\r\n   // Or simply \r\n   // val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\r\n}\r\n```","title":"Is there a way to use Kotlin lambda to create java.util.funtion.Function?","body":"<p>The issue you're is due to Kotlin's type inference not working as expected in this specific context when using lambdas with Java functional interfaces.</p>\n<p>To address this, you can explicitly declare the lambda type using the <code>Function</code> interface in your code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.util.function.Function\n\nfun main() {\n   val s: Function&lt;String, String&gt; = Function&lt;String, String&gt; { s -&gt; s + s }\n   // Or simply \n   // val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693397015,"creation_date":1693397015,"answer_id":77007831,"question_id":77007755,"body_markdown":"Try to use `Function&lt;String, String&gt;`, full example:\r\n\r\n    import java.util.function.Function\r\n    \r\n    fun main() {\r\n        val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\r\n        val result = s.apply(&quot;Kotlin&quot;)\r\n        println(result) // KotlinKotlin\r\n    }","title":"Is there a way to use Kotlin lambda to create java.util.funtion.Function?","body":"<p>Try to use <code>Function&lt;String, String&gt;</code>, full example:</p>\n<pre><code>import java.util.function.Function\n\nfun main() {\n    val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\n    val result = s.apply(&quot;Kotlin&quot;)\n    println(result) // KotlinKotlin\n}\n</code></pre>\n"}],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77007811,"answer_count":2,"score":3,"last_activity_date":1693397884,"creation_date":1693396493,"question_id":77007755,"body_markdown":"I tried to write the following code:\r\n\r\n    val s: Function&lt;String, String&gt; = { s -&gt; s + s }\r\n\r\nIt compiles with the following error:\r\n\r\n    Type mismatch: inferred type is (???) -&gt; [Error type: Return type for function cannot be resolved] but Function&lt;String, String&gt; was expected\r\n    \r\n    Cannot infer a type for this parameter. Please specify it explicitly.\r\n\r\nWhat is the proper way to assign `Kotlin` lambda to `Java` function?","title":"Is there a way to use Kotlin lambda to create java.util.funtion.Function?","body":"<p>I tried to write the following code:</p>\n<pre><code>val s: Function&lt;String, String&gt; = { s -&gt; s + s }\n</code></pre>\n<p>It compiles with the following error:</p>\n<pre><code>Type mismatch: inferred type is (???) -&gt; [Error type: Return type for function cannot be resolved] but Function&lt;String, String&gt; was expected\n\nCannot infer a type for this parameter. Please specify it explicitly.\n</code></pre>\n<p>What is the proper way to assign <code>Kotlin</code> lambda to <code>Java</code> function?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1667648645,"post_id":74327336,"comment_id":131219373,"body_markdown":"with latest spring you can check : https://stackoverflow.com/a/70503395/13523946","body":"with latest spring you can check : <a href=\"https://stackoverflow.com/a/70503395/13523946\">stackoverflow.com/a/70503395/13523946</a>"},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667663624,"post_id":74327336,"comment_id":131222250,"body_markdown":"Seems to be somehow linked with `.apis(RequestHandlerSelectors.basePackage(&quot;com.educative.ecommerce&quot;))`, is the package name correct?","body":"Seems to be somehow linked with <code>.apis(RequestHandlerSelectors.basePackage(&quot;com.educative.eco&zwnj;&#8203;mmerce&quot;))</code>, is the package name correct?"}],"answers":[{"tags":[],"owner":{"account_id":29323120,"reputation":1,"user_id":22466255,"display_name":"Anjali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693397766,"creation_date":1693324277,"answer_id":77001753,"question_id":74327336,"body_markdown":"Including below lines in the `application.yml` file worked for me.\r\n```none\r\nspring:\r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher\r\n```\r\nAlso in my case I was using spring-boot-starter-actuator dependency. Somehow it was also impacting this issue. I commented it for the time being.","title":"Swagger issue - Springboot and Java","body":"<p>Including below lines in the <code>application.yml</code> file worked for me.</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring:\n  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n</code></pre>\n<p>Also in my case I was using spring-boot-starter-actuator dependency. Somehow it was also impacting this issue. I commented it for the time being.</p>\n"}],"owner":{"account_id":26837926,"reputation":21,"user_id":20424913,"display_name":"Jeremy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693397766,"creation_date":1667648017,"question_id":74327336,"body_markdown":"Can someone help me with this issue. I tried following a tutorial but when I had to build the program I got this issue: &quot;java.lang.NullPointerException: Cannot invoke&quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null.&quot;\r\n\r\nSwaggerConfig:\r\n`\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport springfox.documentation.builders.ApiInfoBuilder;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.service.ApiInfo;\r\nimport springfox.documentation.service.Contact;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n\r\n\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket productApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n        \t\t.apiInfo(getApiInfo())\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.educative.ecommerce&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n\r\n\tprivate ApiInfo getApiInfo() {\r\n        Contact contact = new Contact(&quot;webtutsplus&quot;, &quot;http://webtutsplus.com&quot;, &quot;contact.webtutsplus@gmail.com&quot;);\r\n        return new ApiInfoBuilder()\r\n                .title(&quot;Ecommerce API&quot;)\r\n                .description(&quot;Documentation Ecommerce api&quot;)\r\n                .version(&quot;1.0.0&quot;)\r\n                .license(&quot;Apache 2.0&quot;)\r\n                .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;)\r\n                .contact(contact)\r\n                .build();\r\n    }\r\n}\r\n```\r\n`\r\n\r\npom.xml:\r\n`\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.bulafj&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                        &lt;type&gt;jar&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                    &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                        &lt;type&gt;jar&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n`\r\n\r\nError:\r\n`\r\n```\r\ncd C:\\Users\\ADMIN\\Desktop\\demo; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-18.0.2.1&quot; \r\n\r\nConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-11-05 22:56:33.180 ERROR 24168 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109) ~[springfox-spi-2.9.2.jar:null]\r\n\tat com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37) ~[guava-20.0.jar:na]\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1233) ~[na:na]\r\n\tat com.google.common.collect.Ordering.sortedCopy(Ordering.java:855) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n\t... 80 common frames omitted\r\n\r\n2022-11-05 22:56:33.183 ERROR 24168 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3bd323e9] to prepare test instance [com.bulafj.demo.DemoApplicationTests@6a0aa5e2]\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\tat at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n\t... 80 common frames omitted\r\n\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.58 s &lt;&lt;&lt; FAILURE! - in com.bulafj.demo.DemoApplicationTests\r\ncontextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\r\n\r\nResults:\r\n\r\nErrors: \r\n  DemoApplicationTests.contextLoads &#194;&#187; IllegalState Failed to load ApplicationCon...\r\n\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n\r\nBUILD FAILURE\r\n\r\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project demo: There are test failures.\r\n```\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTried some other solutions but still got the same error.","title":"Swagger issue - Springboot and Java","body":"<p>Can someone help me with this issue. I tried following a tutorial but when I had to build the program I got this issue: &quot;java.lang.NullPointerException: Cannot invoke&quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null.&quot;</p>\n<p>SwaggerConfig:\n`</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(getApiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.educative.ecommerce&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo getApiInfo() {\n        Contact contact = new Contact(&quot;webtutsplus&quot;, &quot;http://webtutsplus.com&quot;, &quot;contact.webtutsplus@gmail.com&quot;);\n        return new ApiInfoBuilder()\n                .title(&quot;Ecommerce API&quot;)\n                .description(&quot;Documentation Ecommerce api&quot;)\n                .version(&quot;1.0.0&quot;)\n                .license(&quot;Apache 2.0&quot;)\n                .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;)\n                .contact(contact)\n                .build();\n    }\n}\n</code></pre>\n<p>`</p>\n<p>pom.xml:\n`</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.bulafj&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n                    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n                    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                    &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n                    &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                    &lt;version&gt;2.9.2&lt;/version&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                    &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>`</p>\n<p>Error:\n`</p>\n<pre><code>cd C:\\Users\\ADMIN\\Desktop\\demo; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-18.0.2.1&quot; \n\nConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-11-05 22:56:33.180 ERROR 24168 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109) ~[springfox-spi-2.9.2.jar:null]\n    at com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37) ~[guava-20.0.jar:na]\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\n    at java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\n    at java.base/java.util.Arrays.sort(Arrays.java:1233) ~[na:na]\n    at com.google.common.collect.Ordering.sortedCopy(Ordering.java:855) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\n    at com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\n    at com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 80 common frames omitted\n\n2022-11-05 22:56:33.183 ERROR 24168 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3bd323e9] to prepare test instance [com.bulafj.demo.DemoApplicationTests@6a0aa5e2]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n    at at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\n    at com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\n    at com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 80 common frames omitted\n\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.58 s &lt;&lt;&lt; FAILURE! - in com.bulafj.demo.DemoApplicationTests\ncontextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n\n\nResults:\n\nErrors: \n  DemoApplicationTests.contextLoads Â» IllegalState Failed to load ApplicationCon...\n\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0\n\nBUILD FAILURE\n\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project demo: There are test failures.\n</code></pre>\n<p>`</p>\n<p>Tried some other solutions but still got the same error.</p>\n"},{"tags":["java","logback","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1656327607,"post_id":72770461,"comment_id":128536456,"body_markdown":"Have you tried changing the loggers in your code from static to normal fields? It is common to use static loggers with logback, but not required. If you use &quot;private final Logger&quot; instead of &quot;private static final Logger&quot; the initialization will happen at runtime. EDIT: see also https://stackoverflow.com/questions/60654455/how-to-fix-try-avoiding-to-initialize-the-class-that-caused-initialization-wit?rq=1.","body":"Have you tried changing the loggers in your code from static to normal fields? It is common to use static loggers with logback, but not required. If you use &quot;private final Logger&quot; instead of &quot;private static final Logger&quot; the initialization will happen at runtime. EDIT: see also <a href=\"https://stackoverflow.com/questions/60654455/how-to-fix-try-avoiding-to-initialize-the-class-that-caused-initialization-wit?rq=1\" title=\"how to fix try avoiding to initialize the class that caused initialization wit\">stackoverflow.com/questions/60654455/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":3974566,"reputation":1419,"user_id":3278064,"display_name":"Thach Van"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1664224349,"creation_date":1663913958,"answer_id":73823690,"question_id":72770461,"body_markdown":"Short answer - you should add `ch.qos.logback` to `--initialize-at-build-time`:\r\n\r\n```\r\n--initialize-at-build-time=ch.qos.logback\r\n```\r\n\r\nFor details, I would like to post what I have done to make `logback` working with GraalVM.\r\n\r\nIn the `build.gradle` file, I added instructions about what should be included at build time, at run time and also path to the file contains reflection configuration:\r\n\r\n```\r\ngraalvmNative {\r\n  binaries {\r\n    all {\r\n      resources.autodetect()\r\n    }\r\n    main {\r\n      imageName.set(&#39;app&#39;) \r\n      buildArgs.add(&#39;--verbose&#39;)\r\n      buildArgs.add(&#39;--add-opens=java.base/java.nio=ALL-UNNAMED&#39;)\r\n      buildArgs.add(&#39;--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED&#39;)\r\n      buildArgs.add(&#39;--add-opens=java.base/jdk.internal.ref=ALL-UNNAMED&#39;)\r\n      buildArgs.add(&#39;--trace-class-initialization=ch.qos.logback.classic.Logger&#39;)\r\n      buildArgs.add(&#39;--trace-object-instantiation=ch.qos.logback.core.AsyncAppenderBase$Worker&#39;)\r\n      buildArgs.add(&#39;--initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback&#39;)\r\n      buildArgs.add(&#39;--initialize-at-run-time=io.netty&#39;)\r\n    }\r\n  }\r\n}\r\n\r\nnativeBuild {\r\n  buildArgs(&#39;-H:ReflectionConfigurationFiles=../../../src/main/resources/reflection-config.json&#39;)\r\n}\r\n```\r\n\r\nHere is the content of `reflection-config.json` file:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.AsyncAppender&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.DateConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LevelConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LineSeparatorConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LoggerConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.MessageConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.ThreadConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.core.ConsoleAppender&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.core.FileAppender&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  }\r\n]\r\n```\r\n\r\nI use this `logback.xml` file:\r\n```\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;150 seconds&quot;&gt;\r\n  &lt;property name=&quot;LOG_DIR&quot; value=&quot;logs&quot; /&gt;\r\n\r\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; target=&quot;System.out&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger{0} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n    &lt;file&gt;${LOG_DIR}/app.log&lt;/file&gt;\r\n    &lt;encoder&gt;\r\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\r\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\r\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\r\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;ASYNC_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\r\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\r\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\r\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;all&quot;&gt;\r\n    &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;ASYNC_FILE&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"GraalVM (native-image) can not compile logback dependencies","body":"<p>Short answer - you should add <code>ch.qos.logback</code> to <code>--initialize-at-build-time</code>:</p>\n<pre><code>--initialize-at-build-time=ch.qos.logback\n</code></pre>\n<p>For details, I would like to post what I have done to make <code>logback</code> working with GraalVM.</p>\n<p>In the <code>build.gradle</code> file, I added instructions about what should be included at build time, at run time and also path to the file contains reflection configuration:</p>\n<pre><code>graalvmNative {\n  binaries {\n    all {\n      resources.autodetect()\n    }\n    main {\n      imageName.set('app') \n      buildArgs.add('--verbose')\n      buildArgs.add('--add-opens=java.base/java.nio=ALL-UNNAMED')\n      buildArgs.add('--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED')\n      buildArgs.add('--add-opens=java.base/jdk.internal.ref=ALL-UNNAMED')\n      buildArgs.add('--trace-class-initialization=ch.qos.logback.classic.Logger')\n      buildArgs.add('--trace-object-instantiation=ch.qos.logback.core.AsyncAppenderBase$Worker')\n      buildArgs.add('--initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback')\n      buildArgs.add('--initialize-at-run-time=io.netty')\n    }\n  }\n}\n\nnativeBuild {\n  buildArgs('-H:ReflectionConfigurationFiles=../../../src/main/resources/reflection-config.json')\n}\n</code></pre>\n<p>Here is the content of <code>reflection-config.json</code> file:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.AsyncAppender&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.DateConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LevelConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LineSeparatorConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LoggerConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.MessageConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.ThreadConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.core.ConsoleAppender&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.core.FileAppender&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  }\n]\n</code></pre>\n<p>I use this <code>logback.xml</code> file:</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;150 seconds&quot;&gt;\n  &lt;property name=&quot;LOG_DIR&quot; value=&quot;logs&quot; /&gt;\n\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; target=&quot;System.out&quot;&gt;\n    &lt;encoder&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger{0} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${LOG_DIR}/app.log&lt;/file&gt;\n    &lt;encoder&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;ASYNC_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;all&quot;&gt;\n    &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot; /&gt;\n    &lt;appender-ref ref=&quot;ASYNC_FILE&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2855451,"reputation":881,"user_id":2451811,"accept_rate":36,"display_name":"Vicky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693397732,"creation_date":1693397732,"answer_id":77007951,"question_id":72770461,"body_markdown":"Maybe I am late to answer but this may help someone. I was also facing issues with `logback.xml` initialisation. \r\n\r\nWhile searching for solution I found that spring suggests to name the file as `logback-spring.xml` instead of `logback.xml`\r\n\r\nSee here https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3e7uU.png\r\n\r\n","title":"GraalVM (native-image) can not compile logback dependencies","body":"<p>Maybe I am late to answer but this may help someone. I was also facing issues with <code>logback.xml</code> initialisation.</p>\n<p>While searching for solution I found that spring suggests to name the file as <code>logback-spring.xml</code> instead of <code>logback.xml</code></p>\n<p>See here <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/3e7uU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3e7uU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5549,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1693397732,"creation_date":1656325158,"question_id":72770461,"body_markdown":"I&#39;m using the current version of community edition: GraalVM/native-image 22.1.0\r\n\r\nMy project has a dependency to the logging framework logback (version 1.2.3)\r\n\r\nIf I want to compile my &quot;all-in-one&quot; jar with graalVM the native-image complains:\r\n\r\n&gt; Error: java.util.concurrent.ExecutionException:\r\n&gt; com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No\r\n&gt; instances of ch.qos.logback.classic.Logger are allowed in the image\r\n&gt; heap as this class should be initialized at image runtime. To see how\r\n&gt; this object got instantiated use\r\n&gt; --trace-object-instantiation=ch.qos.logback.classic.Logger.\r\n\r\nI played around with many different permutations of settings e.g. `--initialize-at-run-time=\\&lt;complete list of logback classes\\&gt;`  and `--initialize-at-run-time`\r\n\r\nI tried to generate a reflection configuration file with\r\n\r\n`java -agentlib:native-image-agent=config-output-dir=META-INF/native-image -jar build/myjar-all.jar`\r\n\r\nand added it to the config file with \r\n\r\n`-H:ReflectionConfigurationFiles=reflect-config.json`\r\n\r\nBut without success. Always getting different error messages all related to logback.\r\n\r\nSo my question:\r\n\r\n**Has anyone got logback successfully compiled with graalvm before?**\r\n\r\n","title":"GraalVM (native-image) can not compile logback dependencies","body":"<p>I'm using the current version of community edition: GraalVM/native-image 22.1.0</p>\n<p>My project has a dependency to the logging framework logback (version 1.2.3)</p>\n<p>If I want to compile my &quot;all-in-one&quot; jar with graalVM the native-image complains:</p>\n<blockquote>\n<p>Error: java.util.concurrent.ExecutionException:\ncom.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No\ninstances of ch.qos.logback.classic.Logger are allowed in the image\nheap as this class should be initialized at image runtime. To see how\nthis object got instantiated use\n--trace-object-instantiation=ch.qos.logback.classic.Logger.</p>\n</blockquote>\n<p>I played around with many different permutations of settings e.g. <code>--initialize-at-run-time=\\&lt;complete list of logback classes\\&gt;</code>  and <code>--initialize-at-run-time</code></p>\n<p>I tried to generate a reflection configuration file with</p>\n<p><code>java -agentlib:native-image-agent=config-output-dir=META-INF/native-image -jar build/myjar-all.jar</code></p>\n<p>and added it to the config file with</p>\n<p><code>-H:ReflectionConfigurationFiles=reflect-config.json</code></p>\n<p>But without success. Always getting different error messages all related to logback.</p>\n<p>So my question:</p>\n<p><strong>Has anyone got logback successfully compiled with graalvm before?</strong></p>\n"},{"tags":["java","android","tcp","android-webview","serversocket"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1693358354,"post_id":77004331,"comment_id":135749174,"body_markdown":"Why is &#39;handle input and output streams&#39; being done in the acceptor thread rather than in the per-connection thread?   or is that just an ambiguous description of what happens after &#39;accept&#39;?","body":"Why is &#39;handle input and output streams&#39; being done in the acceptor thread rather than in the per-connection thread?   or is that just an ambiguous description of what happens after &#39;accept&#39;?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693380842,"post_id":77004331,"comment_id":135751367,"body_markdown":"`a simple Java server socket hosted on localhost.` So on your Android device as every device is its own localhost.","body":"<code>a simple Java server socket hosted on localhost.</code> So on your Android device as every device is its own localhost."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693381267,"post_id":77004331,"comment_id":135751447,"body_markdown":"Dont understand your setup. Is there also a webserver to deliver your web page? And what is that server socket delivering? The server socket is part of your android app? All pretty unclear.","body":"Dont understand your setup. Is there also a webserver to deliver your web page? And what is that server socket delivering? The server socket is part of your android app? All pretty unclear."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693381376,"post_id":77004331,"comment_id":135751466,"body_markdown":"Where is that web page displayed? External browsers?","body":"Where is that web page displayed? External browsers?"},{"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"score":0,"creation_date":1693396536,"post_id":77004331,"comment_id":135754688,"body_markdown":"@ArfurNarf all handling of input and output streams is passed to separate threads after the accept. Nothing else other than creating a new thread happens in the accept thread","body":"@ArfurNarf all handling of input and output streams is passed to separate threads after the accept. Nothing else other than creating a new thread happens in the accept thread"},{"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"score":0,"creation_date":1693396822,"post_id":77004331,"comment_id":135754743,"body_markdown":"@blackapps obviously every device is its own localhost so yes, it is being hosted on the device. The web page is displayed in an embedded android webView but is being hosted on its own web server remotely. The server socket is part of the android app. The &#39;proxy&#39; transfers data between the local android web view and the remote address and vice versa instead of directly embedding the remote website","body":"@blackapps obviously every device is its own localhost so yes, it is being hosted on the device. The web page is displayed in an embedded android webView but is being hosted on its own web server remotely. The server socket is part of the android app. The &#39;proxy&#39; transfers data between the local android web view and the remote address and vice versa instead of directly embedding the remote website"},{"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"score":0,"creation_date":1693397372,"post_id":77004331,"comment_id":135754851,"body_markdown":"@blackapps added diagram to explain further","body":"@blackapps added diagram to explain further"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693401363,"post_id":77004331,"comment_id":135755840,"body_markdown":"Sorry, can not help you as i cannot reproduce this setup to begin with.","body":"Sorry, can not help you as i cannot reproduce this setup to begin with."}],"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693397355,"creation_date":1693355959,"question_id":77004331,"body_markdown":"I have a simple Java server socket hosted on localhost. It has a while loop that kicks off connection threads that handle various data processing functions. The server socket is being used within a TCP proxy architecture to act as the middleman between a web page and my application, all running on Android (i.e. to locally host a remote webpage within my application). \r\n\r\nThe accept call waits / blocks for new connections as is typical. However, it seems to only get triggered every other call by the rest API buttons in the embedded web view. To simplify:\r\n\r\n1. Button pressed -&gt; accept still waiting / blocking\r\n2. Button pressed again -&gt; accept call goes through then immediately again accept call goes through. \r\n\r\nIt is expected that for these interactions a new connection is made. However, they seem to be &#39;queuing&#39; and only getting pushed through to the accept call every other interaction. Has anyone experienced behavior like this? I have tried setting almost all options on the server socket but none seem to make a difference. \r\n\r\nThe code follows the simple pattern: \r\n\r\n    ServerSocket server = new ServerSocket();\r\n    server.bind(new InetSocketAddress(&quot;localhost&quot;, 0));\r\n    \r\n    while (!cancel.get()) {\r\n        Socket socket = server.accept();\r\n        // Create new thread and pass in socket to handle input and output streams...\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HOsTB.png","title":"Java ServerSocket accept call missing or queuing connections?","body":"<p>I have a simple Java server socket hosted on localhost. It has a while loop that kicks off connection threads that handle various data processing functions. The server socket is being used within a TCP proxy architecture to act as the middleman between a web page and my application, all running on Android (i.e. to locally host a remote webpage within my application).</p>\n<p>The accept call waits / blocks for new connections as is typical. However, it seems to only get triggered every other call by the rest API buttons in the embedded web view. To simplify:</p>\n<ol>\n<li>Button pressed -&gt; accept still waiting / blocking</li>\n<li>Button pressed again -&gt; accept call goes through then immediately again accept call goes through.</li>\n</ol>\n<p>It is expected that for these interactions a new connection is made. However, they seem to be 'queuing' and only getting pushed through to the accept call every other interaction. Has anyone experienced behavior like this? I have tried setting almost all options on the server socket but none seem to make a difference.</p>\n<p>The code follows the simple pattern:</p>\n<pre><code>ServerSocket server = new ServerSocket();\nserver.bind(new InetSocketAddress(&quot;localhost&quot;, 0));\n\nwhile (!cancel.get()) {\n    Socket socket = server.accept();\n    // Create new thread and pass in socket to handle input and output streams...\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HOsTB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOsTB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1424970490,"post_id":28747909,"comment_id":45779011,"body_markdown":"Do you have any other classes annotated with `SpringBootApplication` or `EnableAutoConfiguration`?","body":"Do you have any other classes annotated with <code>SpringBootApplication</code> or <code>EnableAutoConfiguration</code>?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":4,"creation_date":1424970814,"post_id":28747909,"comment_id":45779213,"body_markdown":"Try to exclude `MongoRepositoriesAutoConfiguration` as well.","body":"Try to exclude <code>MongoRepositoriesAutoConfiguration</code> as well."},{"owner":{"account_id":5852871,"reputation":697,"user_id":4611047,"display_name":"im__"},"score":0,"creation_date":1424990068,"post_id":28747909,"comment_id":45789863,"body_markdown":"@AndyWilkinson embarrassingly I did have another class annotated with SpringBootApplication. I had more than one entry point - main for testing and Apache Daemon + jsvc runner for production and I simply copy/pasted all the annotations instead of putting them to one common place... Excluding MongoRepositoriesAutoConfiguration turned out not to be necessary...","body":"@AndyWilkinson embarrassingly I did have another class annotated with SpringBootApplication. I had more than one entry point - main for testing and Apache Daemon + jsvc runner for production and I simply copy/pasted all the annotations instead of putting them to one common place... Excluding MongoRepositoriesAutoConfiguration turned out not to be necessary..."},{"owner":{"account_id":2146407,"reputation":1047,"user_id":1903941,"accept_rate":86,"display_name":"Francis Zabala"},"score":0,"creation_date":1461839181,"post_id":28747909,"comment_id":61386021,"body_markdown":"I just wanted to add that annotations used in the MainRunner class helped me trying to run a spring boot connected to two database using the code from https://falkenfighter.wordpress.com/2015/10/13/multiple-databases-with-spring-boot-mongodb-repositories/","body":"I just wanted to add that annotations used in the MainRunner class helped me trying to run a spring boot connected to two database using the code from <a href=\"https://falkenfighter.wordpress.com/2015/10/13/multiple-databases-with-spring-boot-mongodb-repositories/\" rel=\"nofollow noreferrer\">falkenfighter.wordpress.com/2015/10/13/&hellip;</a>"},{"owner":{"account_id":559218,"reputation":349,"user_id":921559,"accept_rate":80,"display_name":"Antoine Wils"},"score":0,"creation_date":1463586392,"post_id":28747909,"comment_id":62130619,"body_markdown":"also exclude EmbeddedMongoAutoConfiguration.class and EmbeddedMongoProperties.class","body":"also exclude EmbeddedMongoAutoConfiguration.class and EmbeddedMongoProperties.class"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1680470303,"post_id":28747909,"comment_id":133899912,"body_markdown":"My use case was similar: I wanted to enable embedded MongoDB, but only when running in the IDE. Note that that even the way to use embedded MongoDB with autoconfiguration has changed [since Spring Boot 2.7](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#springmongodbembeddedfeatures-configuration-property-removed). I wrote up a blog post using some of the pointers I found here, as well some other tips that may be helpful, in [Embedded MongoDB Only in IDE using Spring Boot 3.x](https://www.garretwilson.com/blog/2023/04/02/embedded-mongodb-ide-spring-boot-3).","body":"My use case was similar: I wanted to enable embedded MongoDB, but only when running in the IDE. Note that that even the way to use embedded MongoDB with autoconfiguration has changed <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#springmongodbembeddedfeatures-configuration-property-removed\" rel=\"nofollow noreferrer\">since Spring Boot 2.7</a>. I wrote up a blog post using some of the pointers I found here, as well some other tips that may be helpful, in <a href=\"https://www.garretwilson.com/blog/2023/04/02/embedded-mongodb-ide-spring-boot-3\" rel=\"nofollow noreferrer\">Embedded MongoDB Only in IDE using Spring Boot 3.x</a>."}],"answers":[{"tags":[],"owner":{"account_id":5852871,"reputation":697,"user_id":4611047,"display_name":"im__"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1424990349,"creation_date":1424990349,"answer_id":28754172,"question_id":28747909,"body_markdown":"As pointed out by Andy Wilkinson in comments, when using EnableAutoConfiguration with exclude list make sure there are no other classes annotated with EnableAutoConfiguration or SpringBootApplication.","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>As pointed out by Andy Wilkinson in comments, when using EnableAutoConfiguration with exclude list make sure there are no other classes annotated with EnableAutoConfiguration or SpringBootApplication.</p>\n"},{"tags":[],"owner":{"account_id":1899115,"reputation":1781,"user_id":1715376,"accept_rate":67,"display_name":"Miguel Pereira"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1503974394,"creation_date":1503974394,"answer_id":45929916,"question_id":28747909,"body_markdown":"My use case was slightly different. I had a requirement for 2 different databases in the same project. I extended the auto configuration classes and added a profile annotation.\r\n\r\n    @Profile(&quot;mongo&quot;)\r\n    @Configuration\r\n    public class CustomMongoAutoConfiguration extends MongoAutoConfiguration {\r\n    \r\n        public CustomMongoAutoConfiguration(\r\n            MongoProperties properties,\r\n            ObjectProvider&lt;MongoClientOptions&gt; options,\r\n            Environment environment) {\r\n            super(properties,options,environment);\r\n        }\r\n    }\r\n\r\nAnd\r\n    \r\n    @Profile(&quot;mongo&quot;)\r\n    @Configuration\r\n    @EnableConfigurationProperties(MongoProperties.class)\r\n    public class CustomMongoDataAutoConfiguration extends MongoDataAutoConfiguration {\r\n    \r\n        public CustomMongoDataAutoConfiguration(\r\n            ApplicationContext applicationContext,\r\n            MongoProperties properties) {\r\n            super(applicationContext,properties);\r\n        }\r\n    \r\n    }","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>My use case was slightly different. I had a requirement for 2 different databases in the same project. I extended the auto configuration classes and added a profile annotation.</p>\n\n<pre><code>@Profile(\"mongo\")\n@Configuration\npublic class CustomMongoAutoConfiguration extends MongoAutoConfiguration {\n\n    public CustomMongoAutoConfiguration(\n        MongoProperties properties,\n        ObjectProvider&lt;MongoClientOptions&gt; options,\n        Environment environment) {\n        super(properties,options,environment);\n    }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Profile(\"mongo\")\n@Configuration\n@EnableConfigurationProperties(MongoProperties.class)\npublic class CustomMongoDataAutoConfiguration extends MongoDataAutoConfiguration {\n\n    public CustomMongoDataAutoConfiguration(\n        ApplicationContext applicationContext,\n        MongoProperties properties) {\n        super(applicationContext,properties);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6113812,"reputation":2124,"user_id":5365075,"accept_rate":76,"display_name":"user5365075"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1571784081,"creation_date":1524485748,"answer_id":49980868,"question_id":28747909,"body_markdown":"This is how I do it:\r\n\r\n```\r\n@SpringBootApplication(exclude = {\r\n  MongoAutoConfiguration.class, \r\n  MongoDataAutoConfiguration.class\r\n})\r\n```\r\n\r\nor as suggested by [Dan Oak](https://stackoverflow.com/users/2601742/dan-oak):\r\n```\r\nspring.autoconfigure.exclude= \\\r\n  org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\\\r\n  org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\r\n```","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>This is how I do it:</p>\n\n<pre><code>@SpringBootApplication(exclude = {\n  MongoAutoConfiguration.class, \n  MongoDataAutoConfiguration.class\n})\n</code></pre>\n\n<p>or as suggested by <a href=\"https://stackoverflow.com/users/2601742/dan-oak\">Dan Oak</a>:</p>\n\n<pre><code>spring.autoconfigure.exclude= \\\n  org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\\\n  org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2356960,"reputation":93,"user_id":2064555,"display_name":"Shrinivasa Uppunda"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1693397352,"creation_date":1538721599,"answer_id":52659689,"question_id":28747909,"body_markdown":"Try to Run application in Debug mode. It happens when MongoDB dependant configaration is trying to instantiate but respective bean not present. \r\nIn My case I have excluded MongoDataAutoConfiguration.class and MongoRepositoriesAutoConfiguration.class, to  get the application run.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoRepositoriesAutoConfiguration.class,MongoDataAutoConfiguration.class})\r\npublic class SomeApplication {\r\n//...\r\n}\r\n```\r\n\r\n\r\n","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Try to Run application in Debug mode. It happens when MongoDB dependant configaration is trying to instantiate but respective bean not present.\nIn My case I have excluded MongoDataAutoConfiguration.class and MongoRepositoriesAutoConfiguration.class, to  get the application run.</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoRepositoriesAutoConfiguration.class,MongoDataAutoConfiguration.class})\npublic class SomeApplication {\n//...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6770312,"reputation":111,"user_id":5213837,"display_name":"Olivier Bearn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599827090,"creation_date":1599827090,"answer_id":63847061,"question_id":28747909,"body_markdown":"Same as https://stackoverflow.com/a/45929916/5213837 with https://stackoverflow.com/a/49980868/5213837, Spring boot 2.3/Kotlin\r\n\r\n```kotlin\r\n@SpringBootApplication(exclude = [MongoAutoConfiguration::class, MongoDataAutoConfiguration::class]\r\n```\r\n```kotlin\r\n@Profile(&quot;mongo&quot;)\r\n@Configuration\r\nclass CustomMongoAutoConfiguration: MongoAutoConfiguration() {\r\n    override fun mongo(\r\n        properties: MongoProperties?,\r\n        environment: Environment?,\r\n        builderCustomizers: ObjectProvider&lt;MongoClientSettingsBuilderCustomizer&gt;?,\r\n        settings: ObjectProvider&lt;MongoClientSettings&gt;?\r\n    ): MongoClient {\r\n        return super.mongo(properties, environment, builderCustomizers, settings)\r\n    }\r\n}\r\n```\r\n\r\n```kotlin\r\n@Profile(&quot;mongo&quot;)\r\n@Configuration\r\n@EnableConfigurationProperties(MongoProperties::class)\r\nclass CustomMongoDataAutoConfiguration : MongoDataAutoConfiguration()\r\n```\r\n\r\n","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Same as <a href=\"https://stackoverflow.com/a/45929916/5213837\">https://stackoverflow.com/a/45929916/5213837</a> with <a href=\"https://stackoverflow.com/a/49980868/5213837\">https://stackoverflow.com/a/49980868/5213837</a>, Spring boot 2.3/Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SpringBootApplication(exclude = [MongoAutoConfiguration::class, MongoDataAutoConfiguration::class]\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;mongo&quot;)\n@Configuration\nclass CustomMongoAutoConfiguration: MongoAutoConfiguration() {\n    override fun mongo(\n        properties: MongoProperties?,\n        environment: Environment?,\n        builderCustomizers: ObjectProvider&lt;MongoClientSettingsBuilderCustomizer&gt;?,\n        settings: ObjectProvider&lt;MongoClientSettings&gt;?\n    ): MongoClient {\n        return super.mongo(properties, environment, builderCustomizers, settings)\n    }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;mongo&quot;)\n@Configuration\n@EnableConfigurationProperties(MongoProperties::class)\nclass CustomMongoDataAutoConfiguration : MongoDataAutoConfiguration()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3619459,"reputation":1250,"user_id":4697235,"accept_rate":78,"display_name":"emvidi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602264890,"creation_date":1602264890,"answer_id":64284773,"question_id":28747909,"body_markdown":"Spring Boot 2.3.x:\r\n\r\n    spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\r\n    spring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration\r\n\r\nReactive:\r\n\r\n    spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration\r\n    spring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Spring Boot 2.3.x:</p>\n<pre><code>spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\nspring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration\n</code></pre>\n<p>Reactive:</p>\n<pre><code>spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration\nspring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":5852871,"reputation":697,"user_id":4611047,"display_name":"im__"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89881,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":28754172,"answer_count":6,"score":55,"last_activity_date":1693397352,"creation_date":1424968861,"question_id":28747909,"body_markdown":"Has anyone tried disabling autoconfiguration for mongodb in spring-boot?\r\n\r\nI am trying out spring-boot with spring-data-mongodb; Using java based configuration; Using spring-boot 1.2.1.RELEASE, I import spring-boot-starter-web and its&#39; parent pom for dependency management. I also import spring-data-mongodb (tried spring-boot-starter-mongodb as well).\r\n\r\nI need to connect to two different MongoDB servers. So I need to configure two sets of instances for mongo connection, MongoTemplate etc. **I also want to disable auto-configuration. Since I am connecting to multiple servers, I don&#39;t need to have a single default MongoTemplate and GridFsTemplate bean autoconfigured.**\r\n\r\nMy main class looks like this:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoDataAutoConfiguration.class})\r\n    @ComponentScan\r\n    //@SpringBootApplication  \r\n    public class MainRunner {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainRunner.class, args);\r\n        }\r\n    }\r\n\r\n\r\nMy two mongo configuration classes look like this:\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackageClasses = {Test1Repository.class},\r\n            mongoTemplateRef = &quot;template1&quot;,\r\n            includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test1Repository&quot;)}\r\n    )\r\n    public class Mongo1Config {\r\n    \r\n        @Bean\r\n        public Mongo mongo1() throws UnknownHostException {\r\n            return new Mongo(&quot;localhost&quot;, 27017);\r\n        }\r\n        \r\n        @Primary\r\n        @Bean\r\n        public MongoDbFactory mongoDbFactory1() throws UnknownHostException {\r\n            return new SimpleMongoDbFactory(mongo1(), &quot;test1&quot;);\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public MongoTemplate template1() throws UnknownHostException {\r\n            return new MongoTemplate(mongoDbFactory1());\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackageClasses = {Test2Repository.class},\r\n            mongoTemplateRef = &quot;template2&quot;,\r\n            includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test2Repository&quot;)}\r\n    )\r\n    public class Mongo2Config {\r\n        \r\n        @Bean\r\n        public Mongo mongo2() throws UnknownHostException {\r\n            return new Mongo(&quot;localhost&quot;, 27017);\r\n        }\r\n        \r\n        @Bean\r\n        public MongoDbFactory mongoDbFactory2() throws UnknownHostException {\r\n            return new SimpleMongoDbFactory(mongo2(), &quot;test2&quot;);\r\n        }\r\n        \r\n        @Bean\r\n        public MongoTemplate template2() throws UnknownHostException {\r\n            return new MongoTemplate(mongoDbFactory2());\r\n        }\r\n    }\r\n\r\nWith this setup everything works. If I remove @Primary annotations from mongoDbFactory1 and template1 beans, application will fail with an exception that seems like autoconfiguration hasn&#39;t been disabled. Exception message is listed below:\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:133)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:474)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\r\n    \tat com.fourexpand.buzz.web.api.template.MainRunner.main(MainRunner.java:26)\r\n    Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:98)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:75)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:378)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:155)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:157)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:130)\r\n    \t... 7 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter&#39;: Injection of autowired dependencies failed; nested exception is  org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.core.io.ResourceLoader org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.resourceLoader; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;gridFsTemplate&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoDataAutoConfiguration.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [org.springframework.data.mongodb.MongoDbFactory]: : No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1\r\n\r\n","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Has anyone tried disabling autoconfiguration for mongodb in spring-boot?</p>\n<p>I am trying out spring-boot with spring-data-mongodb; Using java based configuration; Using spring-boot 1.2.1.RELEASE, I import spring-boot-starter-web and its' parent pom for dependency management. I also import spring-data-mongodb (tried spring-boot-starter-mongodb as well).</p>\n<p>I need to connect to two different MongoDB servers. So I need to configure two sets of instances for mongo connection, MongoTemplate etc. <strong>I also want to disable auto-configuration. Since I am connecting to multiple servers, I don't need to have a single default MongoTemplate and GridFsTemplate bean autoconfigured.</strong></p>\n<p>My main class looks like this:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoDataAutoConfiguration.class})\n@ComponentScan\n//@SpringBootApplication  \npublic class MainRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainRunner.class, args);\n    }\n}\n</code></pre>\n<p>My two mongo configuration classes look like this:</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackageClasses = {Test1Repository.class},\n        mongoTemplateRef = &quot;template1&quot;,\n        includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test1Repository&quot;)}\n)\npublic class Mongo1Config {\n\n    @Bean\n    public Mongo mongo1() throws UnknownHostException {\n        return new Mongo(&quot;localhost&quot;, 27017);\n    }\n    \n    @Primary\n    @Bean\n    public MongoDbFactory mongoDbFactory1() throws UnknownHostException {\n        return new SimpleMongoDbFactory(mongo1(), &quot;test1&quot;);\n    }\n\n    @Primary\n    @Bean\n    public MongoTemplate template1() throws UnknownHostException {\n        return new MongoTemplate(mongoDbFactory1());\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackageClasses = {Test2Repository.class},\n        mongoTemplateRef = &quot;template2&quot;,\n        includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test2Repository&quot;)}\n)\npublic class Mongo2Config {\n    \n    @Bean\n    public Mongo mongo2() throws UnknownHostException {\n        return new Mongo(&quot;localhost&quot;, 27017);\n    }\n    \n    @Bean\n    public MongoDbFactory mongoDbFactory2() throws UnknownHostException {\n        return new SimpleMongoDbFactory(mongo2(), &quot;test2&quot;);\n    }\n    \n    @Bean\n    public MongoTemplate template2() throws UnknownHostException {\n        return new MongoTemplate(mongoDbFactory2());\n    }\n}\n</code></pre>\n<p>With this setup everything works. If I remove @Primary annotations from mongoDbFactory1 and template1 beans, application will fail with an exception that seems like autoconfiguration hasn't been disabled. Exception message is listed below:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:133)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:474)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\n    at com.fourexpand.buzz.web.api.template.MainRunner.main(MainRunner.java:26)\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:98)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:75)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:378)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:155)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:157)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:130)\n    ... 7 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter': Injection of autowired dependencies failed; nested exception is  org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.core.io.ResourceLoader org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.resourceLoader; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gridFsTemplate' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoDataAutoConfiguration.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [org.springframework.data.mongodb.MongoDbFactory]: : No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9780,"page":212,"page_size":100}
