{"items":[{"tags":["java","maven"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":5,"creation_date":1422940228,"post_id":28291691,"comment_id":44936785,"body_markdown":"...and you&#39;re sure you have Java 8 installed somewhere?","body":"...and you&#39;re sure you have Java 8 installed somewhere?"},{"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"score":0,"creation_date":1422940610,"post_id":28291691,"comment_id":44936906,"body_markdown":"i have x86 , 64 java 7 and no java 8","body":"i have x86 , 64 java 7 and no java 8"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":4,"creation_date":1422940631,"post_id":28291691,"comment_id":44936908,"body_markdown":"Okay.  So why are you trying to compile Java 8 code without a Java 8 compiler?","body":"Okay.  So why are you trying to compile Java 8 code without a Java 8 compiler?"},{"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"score":0,"creation_date":1422942544,"post_id":28291691,"comment_id":44937483,"body_markdown":"@Makoto ty for looking into my problem installing java 8 solved it ....  ty man :)","body":"@Makoto ty for looking into my problem installing java 8 solved it ....  ty man :)"},{"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"score":0,"creation_date":1423028607,"post_id":28291691,"comment_id":44978307,"body_markdown":"@Makoto Finally i got what u were saying &quot;Okay. So why are you trying to compile Java 8 code without a Java 8 compiler?&quot;  so i just changed in my pom.xml file java.version&gt;1.8&lt;/java.version&gt; to java.version&gt;1.7&lt;/java.version&gt; and i could use mvn compile on java7 too","body":"@Makoto Finally i got what u were saying &quot;Okay. So why are you trying to compile Java 8 code without a Java 8 compiler?&quot;  so i just changed in my pom.xml file java.version&gt;1.8&lt;/java.version&gt; to java.version&gt;1.7&lt;/java.version&gt; and i could use mvn compile on java7 too"}],"answers":[{"comments":[{"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"score":7,"creation_date":1423028652,"post_id":28291716,"comment_id":44978319,"body_markdown":"one more possible solution in my case is edit pom.xml file java.version&gt;1.8&lt;/java.version&gt; to java.version&gt;1.7&lt;/java.version&gt;","body":"one more possible solution in my case is edit pom.xml file java.version&gt;1.8&lt;/java.version&gt; to java.version&gt;1.7&lt;/java.version&gt;"},{"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"score":1,"creation_date":1423039335,"post_id":28291716,"comment_id":44982872,"body_markdown":"That is specifically where maven looks for the java version. So effectively you changed the java version to one you had installed on your %JAVA_HOME.","body":"That is specifically where maven looks for the java version. So effectively you changed the java version to one you had installed on your %JAVA_HOME."},{"owner":{"account_id":2378154,"reputation":734,"user_id":2080916,"accept_rate":57,"display_name":"bruce szalwinski"},"score":3,"creation_date":1440778180,"post_id":28291716,"comment_id":52429596,"body_markdown":"On a my mac, I do export JAVA_HOME=`/usr/libexec/java_home -v 1.8` to set the JAVA_HOME to the proper location for 1.8 JDK.  Supply your favorite version in place of 1.8.  (There are backticks after = and after 8).","body":"On a my mac, I do export JAVA_HOME=<code>&#47;usr&#47;libexec&#47;java_home -v 1.8</code> to set the JAVA_HOME to the proper location for 1.8 JDK.  Supply your favorite version in place of 1.8.  (There are backticks after = and after 8)."},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1577798355,"post_id":28291716,"comment_id":105258144,"body_markdown":"Yes, right u got me. I changed it to compile another legacy program which only supports 1.7 yesterday :D Thanks!","body":"Yes, right u got me. I changed it to compile another legacy program which only supports 1.7 yesterday :D Thanks!"}],"tags":[],"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"comment_count":4,"down_vote_count":1,"up_vote_count":318,"is_accepted":true,"score":317,"last_activity_date":1430932174,"creation_date":1422939893,"answer_id":28291716,"question_id":28291691,"body_markdown":"You have set your `%JAVA_HOME` to jdk 1.7, but you are trying to compile using 1.8. Install jdk 1.8 and make sure your `%JAVA_HOME` points to that or drop the target release to 1.7. \r\n\r\n&gt; invalid target release: 1.8\r\n\r\nThe target release refers to the jdk version.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>You have set your <code>%JAVA_HOME</code> to jdk 1.7, but you are trying to compile using 1.8. Install jdk 1.8 and make sure your <code>%JAVA_HOME</code> points to that or drop the target release to 1.7. </p>\n\n<blockquote>\n  <p>invalid target release: 1.8</p>\n</blockquote>\n\n<p>The target release refers to the jdk version.</p>\n"},{"comments":[{"owner":{"account_id":399282,"reputation":923,"user_id":764516,"accept_rate":38,"display_name":"thinkhy"},"score":2,"creation_date":1476619833,"post_id":38744822,"comment_id":67413534,"body_markdown":"In my case, the solution is to set both source and target to 1.7","body":"In my case, the solution is to set both source and target to 1.7"},{"owner":{"account_id":3723355,"reputation":1732,"user_id":3097810,"accept_rate":65,"display_name":"Yusril Maulidan Raji"},"score":0,"creation_date":1580384932,"post_id":38744822,"comment_id":106084272,"body_markdown":"in what file can I find this?","body":"in what file can I find this?"},{"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"score":0,"creation_date":1629615772,"post_id":38744822,"comment_id":121729745,"body_markdown":"@YusrilMaulidanRaji pom.xml","body":"@YusrilMaulidanRaji pom.xml"}],"tags":[],"owner":{"account_id":6298366,"reputation":867,"user_id":4893739,"display_name":"Camila Macedo"},"comment_count":3,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1470233543,"creation_date":1470230336,"answer_id":38744822,"question_id":28291691,"body_markdown":"Put the value in the plugin:\r\n\r\n \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe error was use:\r\n\r\n    &lt;source&gt;${java.version}&lt;/source&gt;\r\n    &lt;target&gt;${java.version}&lt;/target&gt;\r\n\r\n\r\n\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Put the value in the plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The error was use:</p>\n\n<pre><code>&lt;source&gt;${java.version}&lt;/source&gt;\n&lt;target&gt;${java.version}&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498738685,"creation_date":1498738685,"answer_id":44824930,"question_id":28291691,"body_markdown":"Putting that in your .profile will dynamically take care of your `$JAVA_HOME`\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\nClose your shell afterwards, open a new one and test with\r\n\r\n    echo $JAVA_HOME\r\nIt should display something like\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home\r\n\r\n**If not**, remove any other assignments of JAVA_HOME in your startup scripts. Remember, that these startup scripts start with a `.` so they are hidden and won&#39;t be included when using `*` wildcard, e.g. if you want to grep all files of your home directory, you need to:\r\n\r\n    grep -s JAVA_HOME ~/.* --exclude=.bash_history","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Putting that in your .profile will dynamically take care of your <code>$JAVA_HOME</code></p>\n\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n\n<p>Close your shell afterwards, open a new one and test with</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<p>It should display something like</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home\n</code></pre>\n\n<p><strong>If not</strong>, remove any other assignments of JAVA_HOME in your startup scripts. Remember, that these startup scripts start with a <code>.</code> so they are hidden and won't be included when using <code>*</code> wildcard, e.g. if you want to grep all files of your home directory, you need to:</p>\n\n<pre><code>grep -s JAVA_HOME ~/.* --exclude=.bash_history\n</code></pre>\n"},{"comments":[{"owner":{"account_id":281741,"reputation":13310,"user_id":578215,"accept_rate":85,"display_name":"Farhan"},"score":0,"creation_date":1532590204,"post_id":45456335,"comment_id":90034225,"body_markdown":"that is true, so we have following things to check next time if this error comes: JAVA_HOME, BUILD_Configuration, RUN_Configuration","body":"that is true, so we have following things to check next time if this error comes: JAVA_HOME, BUILD_Configuration, RUN_Configuration"}],"tags":[],"owner":{"account_id":4704422,"reputation":2665,"user_id":3807033,"accept_rate":57,"display_name":"Roland Ettinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1501664800,"creation_date":1501664800,"answer_id":45456335,"question_id":28291691,"body_markdown":"In my case the maven &quot;Run configuration&quot; was using the wrong JRE (1.7). Be sure to check **Run -&gt; Run Configurations -&gt; (Tab) JRE** to be some jdk1.8.x.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>In my case the maven \"Run configuration\" was using the wrong JRE (1.7). Be sure to check <strong>Run -> Run Configurations -> (Tab) JRE</strong> to be some jdk1.8.x.</p>\n"},{"tags":[],"owner":{"account_id":11825071,"reputation":161,"user_id":8653172,"display_name":"Bikramjit Saha"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1612345193,"creation_date":1506054697,"answer_id":46356908,"question_id":28291691,"body_markdown":"The issue was resolved as I was having a JDK pointing to 1.7 and JRE pointing to 1.8. Check in the command prompt by typing \r\n\r\n    java -version\r\n\r\n \r\nand \r\n\r\n    javac -version\r\n\r\nBoth should be same.\r\n&amp;nbsp;","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>The issue was resolved as I was having a JDK pointing to 1.7 and JRE pointing to 1.8. Check in the command prompt by typing</p>\n<pre><code>java -version\n</code></pre>\n<p>and</p>\n<pre><code>javac -version\n</code></pre>\n<p>Both should be same.\n </p>\n"},{"comments":[{"owner":{"account_id":948242,"reputation":389,"user_id":975019,"accept_rate":60,"display_name":"Skystrider"},"score":0,"creation_date":1587479409,"post_id":47348800,"comment_id":108524127,"body_markdown":"This was my problem and solution.","body":"This was my problem and solution."}],"tags":[],"owner":{"account_id":10358108,"reputation":638,"user_id":7639365,"display_name":"Vaibhav Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510915460,"creation_date":1510915460,"answer_id":47348800,"question_id":28291691,"body_markdown":"The problem I was facing was that I was able to make a maven build from the command prompt but not from Eclipse.What worked for me in eclipse is that I changed the run configuration to point to JRE folder inside of JDK rather than leaving it in JDK folder only as per the standard.This solution may work for you as well but try this if and only if all the java paths are correct, java and javac are showing the same version as present in the target of pom.xml.\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>The problem I was facing was that I was able to make a maven build from the command prompt but not from Eclipse.What worked for me in eclipse is that I changed the run configuration to point to JRE folder inside of JDK rather than leaving it in JDK folder only as per the standard.This solution may work for you as well but try this if and only if all the java paths are correct, java and javac are showing the same version as present in the target of pom.xml.</p>\n"},{"comments":[{"owner":{"account_id":954558,"reputation":11913,"user_id":980097,"accept_rate":87,"display_name":"Popeye"},"score":0,"creation_date":1521460873,"post_id":48183887,"comment_id":85724918,"body_markdown":"Do you understand the change that you have done or did you just make the change hoping for the best?","body":"Do you understand the change that you have done or did you just make the change hoping for the best?"},{"owner":{"account_id":8442593,"reputation":31,"user_id":6334514,"display_name":"VIJAYKUMAR REDDY ALAVALA"},"score":0,"creation_date":1524301635,"post_id":48183887,"comment_id":86924745,"body_markdown":"Both. I understand that the project is now running on Java 1.7 version. I  did that hoping it will work.","body":"Both. I understand that the project is now running on Java 1.7 version. I  did that hoping it will work."}],"tags":[],"owner":{"account_id":8442593,"reputation":31,"user_id":6334514,"display_name":"VIJAYKUMAR REDDY ALAVALA"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1515579327,"creation_date":1515575689,"answer_id":48183887,"question_id":28291691,"body_markdown":"What worked in my case is this:\r\n    \r\nI opened the `pom.xml` and replaced the one of the plug-ins as below.\r\n    \r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n    \r\nBefore I edited the source and target tags both had `1.8`, I changed that to `1.7` and it worked.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>What worked in my case is this:</p>\n\n<p>I opened the <code>pom.xml</code> and replaced the one of the plug-ins as below.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.7&lt;/source&gt;\n        &lt;target&gt;1.7&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Before I edited the source and target tags both had <code>1.8</code>, I changed that to <code>1.7</code> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":114857,"reputation":65572,"user_id":301857,"display_name":"Grant Winney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520007280,"creation_date":1520007280,"answer_id":49073082,"question_id":28291691,"body_markdown":"This question wasn&#39;t asking explicitly about Docker, but I received the same error when I had a pom.xml file that was targeting 1.9...\r\n\r\n    &lt;properties&gt;\r\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n... but then tried to run tests against a Docker container by specifying &quot;maven&quot; by itself. \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven mvn -e test\r\n\r\nFor me, the fix was to target the exact version I needed.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven:3.5.2-jdk-9 mvn test\r\n\r\n_(You can [learn more here](https://hub.docker.com/_/maven/).)_","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>This question wasn't asking explicitly about Docker, but I received the same error when I had a pom.xml file that was targeting 1.9...</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>... but then tried to run tests against a Docker container by specifying \"maven\" by itself. </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven mvn -e test\n</code></pre>\n\n<p>For me, the fix was to target the exact version I needed.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>docker run -t --rm -v m2_repository:/root/.m2/repository -v $(pwd):/work -w /work maven:3.5.2-jdk-9 mvn test\n</code></pre>\n\n<p><em>(You can <a href=\"https://hub.docker.com/_/maven/\" rel=\"nofollow noreferrer\">learn more here</a>.)</em></p>\n"},{"tags":[],"owner":{"account_id":1705426,"reputation":11615,"user_id":1564562,"accept_rate":46,"display_name":"РАВИ"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1528841617,"creation_date":1528841617,"answer_id":50826561,"question_id":28291691,"body_markdown":"For eclipse here is how I solved my problem:\r\n\r\n1. Preferences --&gt; Compiler --&gt; Compiler Complainer Level (Change to 1.8)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Perferences --&gt; Installed JREs --&gt; select JAVA SE 8 1.8\r\n[![enter image description here][2]][2]\r\n\r\n3. Rebuild via maven using Run as maven build.\r\n\r\nIt shouldn&#39;t show you the invalid target error anymore. &lt;br&gt;\r\nNote: I didn&#39;t have to set or change any other variables in my terminal.\r\nHope this helps.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9gtYV.png\r\n  [2]: https://i.stack.imgur.com/lFh3A.png","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>For eclipse here is how I solved my problem:</p>\n\n<ol>\n<li><p>Preferences --> Compiler --> Compiler Complainer Level (Change to 1.8)\n<a href=\"https://i.stack.imgur.com/9gtYV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9gtYV.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Perferences --> Installed JREs --> select JAVA SE 8 1.8\n<a href=\"https://i.stack.imgur.com/lFh3A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lFh3A.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Rebuild via maven using Run as maven build.</p></li>\n</ol>\n\n<p>It shouldn't show you the invalid target error anymore. <br>\nNote: I didn't have to set or change any other variables in my terminal.\nHope this helps.</p>\n"},{"comments":[{"owner":{"account_id":3077713,"reputation":393,"user_id":2606671,"display_name":"Mister Vanderbilt"},"score":0,"creation_date":1574788080,"post_id":51068901,"comment_id":104351687,"body_markdown":"The hint still works. I had to search a lot to change the Java version in Dokku to 11. Thank you very much.","body":"The hint still works. I had to search a lot to change the Java version in Dokku to 11. Thank you very much."},{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":0,"creation_date":1606208180,"post_id":51068901,"comment_id":114886041,"body_markdown":"You made my day ! Thanks for your answer.","body":"You made my day ! Thanks for your answer."}],"tags":[],"owner":{"account_id":7952959,"reputation":926,"user_id":6081362,"display_name":"Edmore M Gonese Digolodollarz"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530122473,"creation_date":1530122473,"answer_id":51068901,"question_id":28291691,"body_markdown":"I faced this issue deploying on Dokku, for some reason it was choosing JDK 1.7\r\n\r\nCreating a `system.properties` file and setting `java.runtime.version=1.8` solved the issue. Dokku now uses Java version 8.\r\n[Choosing a JDK on Heroku][1] \r\n\r\nI Never had to do it before...\r\n\r\n  [1]: https://github.com/heroku/heroku-buildpack-java","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>I faced this issue deploying on Dokku, for some reason it was choosing JDK 1.7</p>\n\n<p>Creating a <code>system.properties</code> file and setting <code>java.runtime.version=1.8</code> solved the issue. Dokku now uses Java version 8.\n<a href=\"https://github.com/heroku/heroku-buildpack-java\" rel=\"nofollow noreferrer\">Choosing a JDK on Heroku</a> </p>\n\n<p>I Never had to do it before...</p>\n"},{"tags":[],"owner":{"account_id":1383947,"reputation":51,"user_id":1316369,"display_name":"user1316369"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540236679,"creation_date":1540229281,"answer_id":52934700,"question_id":28291691,"body_markdown":"On Windows machine you can temporarily set Java version.  \r\nFor example, to change the version to Java 8, run this command on `cmd`: \r\n\r\n    set JAVA_HOME=C:\\\\...\\jdk1.8.0_65","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>On Windows machine you can temporarily set Java version.<br>\nFor example, to change the version to Java 8, run this command on <code>cmd</code>: </p>\n\n<pre><code>set JAVA_HOME=C:\\\\...\\jdk1.8.0_65\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15414288,"reputation":1,"user_id":11120234,"display_name":"Sandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551201164,"creation_date":1551201164,"answer_id":54890789,"question_id":28291691,"body_markdown":"Do a force Maven Update which will bring the compatible 1.8 Jar Versions and then while building, update the JRE Versions in Execute environment to 1.8 from Run Configurations and hit RUN","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Do a force Maven Update which will bring the compatible 1.8 Jar Versions and then while building, update the JRE Versions in Execute environment to 1.8 from Run Configurations and hit RUN</p>\n"},{"tags":[],"owner":{"account_id":16276718,"reputation":1,"user_id":11753715,"display_name":"Himanshu Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562578808,"creation_date":1562578808,"answer_id":56932167,"question_id":28291691,"body_markdown":"If you are using Eclipse IDE then go inside Window menu and select preferences and there you search for installed JREs and select the JRE you need to build the project","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>If you are using Eclipse IDE then go inside Window menu and select preferences and there you search for installed JREs and select the JRE you need to build the project</p>\n"},{"comments":[{"owner":{"account_id":8112068,"reputation":594,"user_id":6111835,"display_name":"Cortex"},"score":0,"creation_date":1591212775,"post_id":57354107,"comment_id":109974139,"body_markdown":"Yes, setting `maven.compiler.release` fixed it in my Maven project.","body":"Yes, setting <code>maven.compiler.release</code> fixed it in my Maven project."}],"tags":[],"owner":{"account_id":12426202,"reputation":31,"user_id":9050758,"display_name":"M. Gryshenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564990566,"creation_date":1564990566,"answer_id":57354107,"question_id":28291691,"body_markdown":"As mentioned by Camila Macedo - you have to explicitly point the java version for compiler-plugin. For spring boot you can do that by next property:\r\n\r\n  \r\n\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>As mentioned by Camila Macedo - you have to explicitly point the java version for compiler-plugin. For spring boot you can do that by next property:</p>\n\n<pre><code>  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1472916,"reputation":1703,"user_id":1384013,"accept_rate":50,"display_name":"Ubeogesh"},"score":1,"creation_date":1575894216,"post_id":58715580,"comment_id":104707442,"body_markdown":"Restarting intelliJ was the key for me. I updated the environment variable of JAVA_HOME to point to different java version, but it appears the system variable doesn&#39;t refresh in existing CMD session. Possibly it would be enough to just create new Terminal session.","body":"Restarting intelliJ was the key for me. I updated the environment variable of JAVA_HOME to point to different java version, but it appears the system variable doesn&#39;t refresh in existing CMD session. Possibly it would be enough to just create new Terminal session."}],"tags":[],"owner":{"account_id":1396846,"reputation":8682,"user_id":2645713,"display_name":"Markus Zeller"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572971278,"creation_date":1572971278,"answer_id":58715580,"question_id":28291691,"body_markdown":"Using IntelliJ I just had to install another (higher) JDK Version. After restarting IDE, everything worked and even all dependencies were solved.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Using IntelliJ I just had to install another (higher) JDK Version. After restarting IDE, everything worked and even all dependencies were solved.</p>\n"},{"tags":[],"owner":{"account_id":2038913,"reputation":4421,"user_id":1820583,"accept_rate":84,"display_name":"Eduardo Briguenti Vieira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598629592,"creation_date":1598629592,"answer_id":63637042,"question_id":28291691,"body_markdown":"In my case (IntelliJ), I needed to check if I had **the right Runner** for maven:\r\n\r\n 1. Preferences\r\n 2. Build, Execution, Deployment\r\n 3. Maven -&gt; Runner\r\n\r\n[![Preferences][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OHSxI.png","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>In my case (IntelliJ), I needed to check if I had <strong>the right Runner</strong> for maven:</p>\n<ol>\n<li>Preferences</li>\n<li>Build, Execution, Deployment</li>\n<li>Maven -&gt; Runner</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/OHSxI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHSxI.png\" alt=\"Preferences\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15344798,"reputation":179,"user_id":12391466,"display_name":"Jason Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617653809,"creation_date":1617638922,"answer_id":66955988,"question_id":28291691,"body_markdown":"I have similar problem when I was trying to deploy my spring boot project to heroku, although my problem is `invalid target release: 11`.\r\nI solved it by adding a new file `system.properties` and the content added to the file is `java.runtime.version=11` (For me I am using JDK 11).\r\n\r\n\r\n","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>I have similar problem when I was trying to deploy my spring boot project to heroku, although my problem is <code>invalid target release: 11</code>.\nI solved it by adding a new file <code>system.properties</code> and the content added to the file is <code>java.runtime.version=11</code> (For me I am using JDK 11).</p>\n"},{"tags":[],"owner":{"account_id":21727914,"reputation":1,"user_id":16037076,"display_name":"Kyle "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623134739,"creation_date":1623134739,"answer_id":67882644,"question_id":28291691,"body_markdown":"NETBEANS \r\n**Error**:\r\nFailed to execute goal org.apache.maven.pluginsmaven-compiler-plugin3.1compile (default-compile) on project doit Fatal error compiling invalid target release 11 - [Help 1]\r\n\r\n**How I solved my problem:**\r\n .Right click on the project.\r\n .Go to Properties.\r\n .Click on Source.\r\n .Go to Source/Binary Format and change to the latest version\r\n\r\n\r\nIn my case (1.8)","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>NETBEANS\n<strong>Error</strong>:\nFailed to execute goal org.apache.maven.pluginsmaven-compiler-plugin3.1compile (default-compile) on project doit Fatal error compiling invalid target release 11 - [Help 1]</p>\n<p><strong>How I solved my problem:</strong>\n.Right click on the project.\n.Go to Properties.\n.Click on Source.\n.Go to Source/Binary Format and change to the latest version</p>\n<p>In my case (1.8)</p>\n"},{"tags":[],"owner":{"account_id":7996752,"reputation":61,"user_id":6032797,"display_name":"Hieu Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624807667,"creation_date":1624807667,"answer_id":68152640,"question_id":28291691,"body_markdown":"First, if you are using eclipse, please check Build Path -&gt; Configure Build Path -&gt; Java Build Path, see which java version your project is using. I recommend using Java 1.8.\r\nSecond, check the pom.xml file. ctrl + F to search the text &quot;java.version&quot; =&gt; change it to 1.8.\r\nThird install Java 1.8 and then change your JAVE_HOME path to point to Java 1.8 folder.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>First, if you are using eclipse, please check Build Path -&gt; Configure Build Path -&gt; Java Build Path, see which java version your project is using. I recommend using Java 1.8.\nSecond, check the pom.xml file. ctrl + F to search the text &quot;java.version&quot; =&gt; change it to 1.8.\nThird install Java 1.8 and then change your JAVE_HOME path to point to Java 1.8 folder.</p>\n"},{"tags":[],"owner":{"account_id":26206668,"reputation":148,"user_id":19886178,"display_name":"Vishal Bramhankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665844130,"creation_date":1665844130,"answer_id":74080312,"question_id":28291691,"body_markdown":"Verify your jdk version in your pom.xml and environmental variables are same or not. if not make it same.\r\n\r\nAt pom.xml -&gt; \r\n\r\n    &lt;properties&gt;\r\n\t\t    &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nAt environmental variables -&gt;\r\nJAVA_HOME = C:\\Program Files\\Java\\jdk-11.0.13","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Verify your jdk version in your pom.xml and environmental variables are same or not. if not make it same.</p>\n<p>At pom.xml -&gt;</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>At environmental variables -&gt;\nJAVA_HOME = C:\\Program Files\\Java\\jdk-11.0.13</p>\n"},{"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986517,"creation_date":1676986517,"answer_id":75521252,"question_id":28291691,"body_markdown":"In my case bumping the version of the `maven-compiler-plugin` from `3.8.1` to `3.10.1` solved the issue:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.10.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n       &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhere `${maven.compiler.release}` = your java version","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>In my case bumping the version of the <code>maven-compiler-plugin</code> from <code>3.8.1</code> to <code>3.10.1</code> solved the issue:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.10.1&lt;/version&gt;\n   &lt;configuration&gt;\n   &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>where <code>${maven.compiler.release}</code> = your java version</p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484085,"creation_date":1693484085,"answer_id":77015737,"question_id":28291691,"body_markdown":"I had a similar failure when I tried to build a Maven project in Netbeans.\r\nMy pom file looks like this: \r\n\r\n    &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;com.example.Main&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;source&gt;17&lt;/source&gt;\r\n                &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt; \r\n            ...\r\n\r\nBut Java platform for the project was set to 1.8 (as it is the default Java platform in my Netbeans configuration). \r\n\r\nSolution: `Right-click on project Properties-&gt;Build-&gt;Compile-&gt;Java Platform-&gt; choose JDK 17 from dropdown. `\r\n\r\nIf the dropdown does not have the required Java platform, it should be downloaded, installed, and then configured thru `Tools-&gt;Java platforms`.","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>I had a similar failure when I tried to build a Maven project in Netbeans.\nMy pom file looks like this:</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;com.example.Main&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;source&gt;17&lt;/source&gt;\n            &lt;target&gt;17&lt;/target&gt;\n                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt; \n        ...\n</code></pre>\n<p>But Java platform for the project was set to 1.8 (as it is the default Java platform in my Netbeans configuration).</p>\n<p>Solution: <code>Right-click on project Properties-&gt;Build-&gt;Compile-&gt;Java Platform-&gt; choose JDK 17 from dropdown. </code></p>\n<p>If the dropdown does not have the required Java platform, it should be downloaded, installed, and then configured thru <code>Tools-&gt;Java platforms</code>.</p>\n"}],"owner":{"account_id":5725566,"reputation":2224,"user_id":4522625,"display_name":"rvd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362127,"favorite_count":0,"down_vote_count":0,"up_vote_count":203,"accepted_answer_id":28291716,"answer_count":22,"score":203,"last_activity_date":1693484085,"creation_date":1422939784,"question_id":28291691,"body_markdown":"Similar problem like one posted on https://stackoverflow.com/questions/19891423/invalid-target-release-1-7 but after following the blog my problem is still unresolved.\r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hm_app: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\r\n\r\nI was following [as tutorial][1] when I faced this problem.\r\n\r\n    abt java &amp; mvn\r\n\r\n    C:\\mvn&gt;echo %JAVA_HOME% \r\n    C:\\mvn&gt;echo %JRE_HOME%\r\n    C:\\mvn&gt;echo %MAVEN_HOME% yields\r\n    \r\noutputs\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_51\r\n    C:\\Program Files\\Java\\jre7\r\n    C:\\apache-maven-3.0.4\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/getting-started/index.html","title":"Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]","body":"<p>Similar problem like one posted on <a href=\"https://stackoverflow.com/questions/19891423/invalid-target-release-1-7\">invalid target release: 1.7</a> but after following the blog my problem is still unresolved.</p>\n\n<blockquote>\n  <p>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hm_app: Fatal error compiling: invalid target release: 1.8 -> [Help 1]</p>\n</blockquote>\n\n<p>I was following <a href=\"http://maven.apache.org/guides/getting-started/index.html\" rel=\"noreferrer\">as tutorial</a> when I faced this problem.</p>\n\n<pre><code>abt java &amp; mvn\n\nC:\\mvn&gt;echo %JAVA_HOME% \nC:\\mvn&gt;echo %JRE_HOME%\nC:\\mvn&gt;echo %MAVEN_HOME% yields\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_51\nC:\\Program Files\\Java\\jre7\nC:\\apache-maven-3.0.4\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1671536502,"post_id":74862254,"comment_id":132115822,"body_markdown":"Try adding this to your `application.properties`  `logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace`","body":"Try adding this to your <code>application.properties</code>  <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;trace</code>"},{"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":1,"creation_date":1671544376,"post_id":74862254,"comment_id":132118493,"body_markdown":"@SaifAhmad I tried it, but it also doesn&#39;t work","body":"@SaifAhmad I tried it, but it also doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"score":0,"creation_date":1687658716,"post_id":74862954,"comment_id":134967059,"body_markdown":"in my case i had to set the logging.level.root to TRACE for this to work, which opened the gates for all types of TRACE level logs, how can i avoid this ? @Dirk Deyne","body":"in my case i had to set the logging.level.root to TRACE for this to work, which opened the gates for all types of TRACE level logs, how can i avoid this ? @Dirk Deyne"},{"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"score":0,"creation_date":1687658769,"post_id":74862954,"comment_id":134967065,"body_markdown":"here&#39;s my application.yml : \n\nlogging:\n  level:\n    org:\n      hibernate:\n        orm:\n          jdcb:\n            bind: TRACE\n        sql: DEBUG\n    root: TRACE","body":"here&#39;s my application.yml :   logging:   level:     org:       hibernate:         orm:           jdcb:             bind: TRACE         sql: DEBUG     root: TRACE"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1687710885,"post_id":74862954,"comment_id":134971407,"body_markdown":"@Abdou changing the root logging level will not change the output of the other logging levels.","body":"@Abdou changing the root logging level will not change the output of the other logging levels."}],"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1671538558,"creation_date":1671538558,"answer_id":74862954,"question_id":74862254,"body_markdown":"Logging SQL in Spring boot 3 with Hibernate 6:\r\n\r\n- `logging.level.sql` for SQL logging group including Hibernate SQL logger.\r\n- `logging.level.org.hibernate.orm.jdbc.bind` for showing the binding parameters\r\n\r\n\r\nSo this should work:\r\n```yaml\r\nlogging:\r\n  level:\r\n    sql: debug\r\n    org.hibernate.orm.jdbc.bind: trace\r\n```","title":"How to log SQL statements with query param values in Spring Boot 3/Hibernate 6","body":"<p>Logging SQL in Spring boot 3 with Hibernate 6:</p>\n<ul>\n<li><code>logging.level.sql</code> for SQL logging group including Hibernate SQL logger.</li>\n<li><code>logging.level.org.hibernate.orm.jdbc.bind</code> for showing the binding parameters</li>\n</ul>\n<p>So this should work:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    sql: debug\n    org.hibernate.orm.jdbc.bind: trace\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1816479,"reputation":613,"user_id":1651466,"accept_rate":33,"display_name":"Francis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693484021,"creation_date":1693472116,"answer_id":77014291,"question_id":74862254,"body_markdown":"these properties also work with spring boot version 3.x.x\r\n\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.orm.jdbc.bind=TRACE","title":"How to log SQL statements with query param values in Spring Boot 3/Hibernate 6","body":"<p>these properties also work with spring boot version 3.x.x</p>\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.orm.jdbc.bind=TRACE\n</code></pre>\n"}],"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5181,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74862954,"answer_count":2,"score":8,"last_activity_date":1693484021,"creation_date":1671534882,"question_id":74862254,"body_markdown":"I recently upgraded my Spring Boot app to v3.0 which required Hibernate to be upgraded to v6.1.5.Final.\r\n\r\nI&#39;m using Spring Data JPA with Hibernate as the JPA provider. When I run the app locally, I want to log SQL statements and the values of any parameters in those statements. To this end, I&#39;ve added the following to my local configuration, as per [this blog post][1]:\r\n\r\n```yaml\r\nspring:\r\n  jpa:\r\n    show-sql: false\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\nlogging:\r\n  level:\r\n    org.hibernate.SQL: debug\r\n    org.hibernate.type.descriptor.sql: trace\r\n```\r\n\r\nI&#39;m pretty sure this worked prior to the upgrade, but now only the SQL statements are logged i.e. the parameter values are missing.\r\n\r\nIs it possible to log the query parameter values when using Spring Boot v3.0 and Hibernate v6.1.5.Final?\r\n\r\n\r\n  [1]: https://vladmihalcea.com/log-sql-spring-boot/","title":"How to log SQL statements with query param values in Spring Boot 3/Hibernate 6","body":"<p>I recently upgraded my Spring Boot app to v3.0 which required Hibernate to be upgraded to v6.1.5.Final.</p>\n<p>I'm using Spring Data JPA with Hibernate as the JPA provider. When I run the app locally, I want to log SQL statements and the values of any parameters in those statements. To this end, I've added the following to my local configuration, as per <a href=\"https://vladmihalcea.com/log-sql-spring-boot/\" rel=\"noreferrer\">this blog post</a>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    show-sql: false\n    properties:\n      hibernate:\n        format_sql: true\nlogging:\n  level:\n    org.hibernate.SQL: debug\n    org.hibernate.type.descriptor.sql: trace\n</code></pre>\n<p>I'm pretty sure this worked prior to the upgrade, but now only the SQL statements are logged i.e. the parameter values are missing.</p>\n<p>Is it possible to log the query parameter values when using Spring Boot v3.0 and Hibernate v6.1.5.Final?</p>\n"},{"tags":["java","gitlab","gitlab-api"],"answers":[{"comments":[{"owner":{"account_id":4465040,"reputation":175,"user_id":6695579,"accept_rate":0,"display_name":"Antonio Roque"},"score":0,"creation_date":1481804019,"post_id":41162658,"comment_id":69528225,"body_markdown":"thank you , but &quot;my&quot; problems start on the url to connect  using the  https://gitlab.zzz.com/ , username and password I get this error  javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target .. in this case what the url would be ?","body":"thank you , but &quot;my&quot; problems start on the url to connect  using the  <a href=\"https://gitlab.zzz.com/\" rel=\"nofollow noreferrer\">gitlab.zzz.com</a> , username and password I get this error  javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target .. in this case what the url would be ?"},{"owner":{"account_id":1991670,"reputation":505,"user_id":1785559,"accept_rate":67,"display_name":"Abzal Kalimbetov"},"score":0,"creation_date":1482205650,"post_id":41162658,"comment_id":69668709,"body_markdown":"You should use Gitlab certificate to encrypt your request, or write your code such as you TRUST all certificates.","body":"You should use Gitlab certificate to encrypt your request, or write your code such as you TRUST all certificates."}],"tags":[],"owner":{"account_id":1991670,"reputation":505,"user_id":1785559,"accept_rate":67,"display_name":"Abzal Kalimbetov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481800092,"creation_date":1481800092,"answer_id":41162658,"question_id":41162404,"body_markdown":"Proper way to get data from Gitlab is through Gitlab API (https://docs.gitlab.com/ee/api/README.html). According to documentation you get token first using your username and password. Further you use this token to access other resources","title":"connect to a gitlab using gitlab java api","body":"<p>Proper way to get data from Gitlab is through Gitlab API (<a href=\"https://docs.gitlab.com/ee/api/README.html\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/api/README.html</a>). According to documentation you get token first using your username and password. Further you use this token to access other resources</p>\n"},{"comments":[{"owner":{"account_id":4465040,"reputation":175,"user_id":6695579,"accept_rate":0,"display_name":"Antonio Roque"},"score":0,"creation_date":1503505128,"post_id":45821870,"comment_id":78647629,"body_markdown":"thank you , but i&#180;m no longer in project  that where this was required , didn&#180;t have any feedback from the &quot;project manager&quot; about how they resolved this .","body":"thank you , but i&#180;m no longer in project  that where this was required , didn&#180;t have any feedback from the &quot;project manager&quot; about how they resolved this ."}],"tags":[],"owner":{"account_id":6848645,"reputation":26,"user_id":5266507,"display_name":"messnerized"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503811050,"creation_date":1503416179,"answer_id":45821870,"question_id":41162404,"body_markdown":"You could use GitLab4J (https://github.com/gmessner/gitlab4j-api) to do this.  It allows you to connect with a username and password and internally handles the returned session token.\r\n\r\n    // Create a GitLabApi instance to communicate with your GitLab server\r\n    GitLabApi gitLabApi = GitLabApi.login(&quot;http://your.gitlab.server.com&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);\r\n\r\n    // Get the list of projects your account has access to\r\n    List&lt;Project&gt; projects = gitLabApi.getProjectApi().getProjects();","title":"connect to a gitlab using gitlab java api","body":"<p>You could use GitLab4J (<a href=\"https://github.com/gmessner/gitlab4j-api\" rel=\"nofollow noreferrer\">https://github.com/gmessner/gitlab4j-api</a>) to do this.  It allows you to connect with a username and password and internally handles the returned session token.</p>\n\n<pre><code>// Create a GitLabApi instance to communicate with your GitLab server\nGitLabApi gitLabApi = GitLabApi.login(\"http://your.gitlab.server.com\", \"USERNAME\", \"PASSWORD\");\n\n// Get the list of projects your account has access to\nList&lt;Project&gt; projects = gitLabApi.getProjectApi().getProjects();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"score":0,"creation_date":1585318369,"post_id":58357050,"comment_id":107724594,"body_markdown":"Can you please let me kow on how do you allow firewall for https url","body":"Can you please let me kow on how do you allow firewall for https url"}],"tags":[],"owner":{"account_id":16169549,"reputation":1,"user_id":11673652,"display_name":"RKumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570947331,"creation_date":1570903809,"answer_id":58357050,"question_id":41162404,"body_markdown":" I was able to connect to gitlab using following Java gitlab API.For this, you need to  Allow firewall. \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)`enter code here`\r\n    public class GitlabController {\r\n    \r\n    \t@RequestMapping(&quot;/hello&quot;)\r\n    \tpublic String getGitData() throws GitLabApiException {\r\n    \r\n    \t\tSystem.out.println(&quot;going to execute gitlab api..&quot;);\r\n    \t\tGitLabApi gitLabApi = GitLabApi.login(&quot;https://gitlab.&lt;domain&gt;.com/&quot;, &quot;USERNAME&quot;, &quot;PASSWORD&quot;);\r\n    \t\tUser currentUser = gitLabApi.getUserApi().getCurrentUser();\r\n    \t\tSystem.out.println(currentUser.getUsername());\r\n    \t\treturn &quot;returning from git Controller&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"connect to a gitlab using gitlab java api","body":"<p>I was able to connect to gitlab using following Java gitlab API.For this, you need to  Allow firewall. </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/test\")`enter code here`\npublic class GitlabController {\n\n    @RequestMapping(\"/hello\")\n    public String getGitData() throws GitLabApiException {\n\n        System.out.println(\"going to execute gitlab api..\");\n        GitLabApi gitLabApi = GitLabApi.login(\"https://gitlab.&lt;domain&gt;.com/\", \"USERNAME\", \"PASSWORD\");\n        User currentUser = gitLabApi.getUserApi().getCurrentUser();\n        System.out.println(currentUser.getUsername());\n        return \"returning from git Controller\";\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4465040,"reputation":175,"user_id":6695579,"accept_rate":0,"display_name":"Antonio Roque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12976,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693483565,"creation_date":1481799298,"question_id":41162404,"body_markdown":"I&#180;m very &quot;dummy&quot; about gitlab , my question my sound stupid ... but where it goes ..\r\n\r\nI would like to connect to a gitlab repo using java , the idea is just to retrieve the list of &quot;entry&#180;s&quot; of the repository\r\n\r\nI have seem some java code, but I&#180;m not sure what will the url the send to &quot;connect&quot; method .\r\n\r\nusing the web browser the url is something like this https://gitlab.zzz.com/\r\n\r\nexample  :\r\n\r\n```\r\n  public static GitlabSession connect(String hostUrl, String username, String password) throws IOException {\r\n        String tailUrl = GitlabSession.URL;\r\n        GitlabAPI api = connect(**hostUrl**, null, null, null);\r\n        return api.dispatch().with(&quot;login&quot;, username).with(&quot;password&quot;, password)\r\n                .to(tailUrl, GitlabSession.class);\r\n    }\r\n```\r\n\r\nAlso, I only have the user and password .. no oauth token .. is possible to connect without the token ? \r\n\r\nI sorry for my dummy questions, may some of you can give some tips how to start.\r\n\r\nThank you\r\nRoque\r\n\r\n\r\n\r\n","title":"connect to a gitlab using gitlab java api","body":"<p>I´m very &quot;dummy&quot; about gitlab , my question my sound stupid ... but where it goes ..</p>\n<p>I would like to connect to a gitlab repo using java , the idea is just to retrieve the list of &quot;entry´s&quot; of the repository</p>\n<p>I have seem some java code, but I´m not sure what will the url the send to &quot;connect&quot; method .</p>\n<p>using the web browser the url is something like this <a href=\"https://gitlab.zzz.com/\" rel=\"nofollow noreferrer\">https://gitlab.zzz.com/</a></p>\n<p>example  :</p>\n<pre><code>  public static GitlabSession connect(String hostUrl, String username, String password) throws IOException {\n        String tailUrl = GitlabSession.URL;\n        GitlabAPI api = connect(**hostUrl**, null, null, null);\n        return api.dispatch().with(&quot;login&quot;, username).with(&quot;password&quot;, password)\n                .to(tailUrl, GitlabSession.class);\n    }\n</code></pre>\n<p>Also, I only have the user and password .. no oauth token .. is possible to connect without the token ?</p>\n<p>I sorry for my dummy questions, may some of you can give some tips how to start.</p>\n<p>Thank you\nRoque</p>\n"},{"tags":["java","netbeans","import","jar","package"],"comments":[{"owner":{"account_id":120805,"reputation":2012,"user_id":313447,"accept_rate":67,"display_name":"yggdraa"},"score":0,"creation_date":1332344333,"post_id":9807700,"comment_id":12491311,"body_markdown":"You should open your project Properties and add the library to wich you added the jar in your project","body":"You should open your project Properties and add the library to wich you added the jar in your project"},{"owner":{"account_id":1333437,"reputation":883,"user_id":1276759,"accept_rate":79,"display_name":"Perry Monschau"},"score":0,"creation_date":1332344452,"post_id":9807700,"comment_id":12491372,"body_markdown":"What&#39;s the name of the jar file?","body":"What&#39;s the name of the jar file?"},{"owner":{"account_id":1249349,"reputation":73,"user_id":1210108,"accept_rate":25,"display_name":"Brian"},"score":0,"creation_date":1332348812,"post_id":9807700,"comment_id":12493328,"body_markdown":"As I mentioned, I added the JAR file through the Properties -&gt; Library -&gt; Add Jar functionality.  The JAR is not a standard library.","body":"As I mentioned, I added the JAR file through the Properties -&gt; Library -&gt; Add Jar functionality.  The JAR is not a standard library."}],"answers":[{"comments":[{"owner":{"account_id":1249349,"reputation":73,"user_id":1210108,"accept_rate":25,"display_name":"Brian"},"score":0,"creation_date":1332349144,"post_id":9807928,"comment_id":12493440,"body_markdown":"I have already tried these exact steps.  It adds the JAR no problem and I can see the .java files contained within.  But when I try and import/include anything contained within, Java doesn&#39;t recognize it.","body":"I have already tried these exact steps.  It adds the JAR no problem and I can see the .java files contained within.  But when I try and import/include anything contained within, Java doesn&#39;t recognize it."}],"tags":[],"owner":{"account_id":1309193,"reputation":251,"user_id":1257559,"accept_rate":88,"display_name":"Leonardo Arruda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332344367,"creation_date":1332344367,"answer_id":9807928,"question_id":9807700,"body_markdown":"Try this: \r\n\r\nhttp://gpraveenkumar.wordpress.com/2009/06/17/abc-to-import-a-jar-file-in-netbeans-6-5/\r\n\r\nHope help.","title":"Package does not exist when importing JAR file","body":"<p>Try this: </p>\n\n<p><a href=\"http://gpraveenkumar.wordpress.com/2009/06/17/abc-to-import-a-jar-file-in-netbeans-6-5/\" rel=\"nofollow\">http://gpraveenkumar.wordpress.com/2009/06/17/abc-to-import-a-jar-file-in-netbeans-6-5/</a></p>\n\n<p>Hope help.</p>\n"},{"comments":[{"owner":{"account_id":1249349,"reputation":73,"user_id":1210108,"accept_rate":25,"display_name":"Brian"},"score":0,"creation_date":1332348896,"post_id":9808061,"comment_id":12493350,"body_markdown":"I&#39;m beginning to think that the JAR was not packed correctly.  It contains only Java files, no .class files.","body":"I&#39;m beginning to think that the JAR was not packed correctly.  It contains only Java files, no .class files."},{"owner":{"account_id":1336608,"reputation":129,"user_id":1279210,"accept_rate":100,"display_name":"mechmsk"},"score":0,"creation_date":1332353583,"post_id":9808061,"comment_id":12495354,"body_markdown":"Maybe this can help: http://netbeans.org/kb/docs/java/project-setup.html#building-compile-on-save","body":"Maybe this can help: <a href=\"http://netbeans.org/kb/docs/java/project-setup.html#building-compile-on-save\" rel=\"nofollow noreferrer\">netbeans.org/kb/docs/java/&hellip;</a>"}],"tags":[],"owner":{"account_id":1336608,"reputation":129,"user_id":1279210,"accept_rate":100,"display_name":"mechmsk"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332345203,"creation_date":1332344743,"answer_id":9808061,"question_id":9807700,"body_markdown":"Does your Jar really contain .java files? It looks unusual, because java-files should be compiled to .class files before packing to Jar.\r\n\r\n\r\nMaybe [http://docs.oracle.com/javase/tutorial/deployment/jar/][1] can help you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/deployment/jar/","title":"Package does not exist when importing JAR file","body":"<p>Does your Jar really contain .java files? It looks unusual, because java-files should be compiled to .class files before packing to Jar.</p>\n\n<p>Maybe <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/deployment/jar/</a> can help you.</p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392733759,"creation_date":1392733759,"answer_id":21856807,"question_id":9807700,"body_markdown":"Haven&#39;t you seen some warnings while installing the jar? \r\n\r\nI have seen that message when I had erroneously the same jar installed twice - as compile library and as a test library. \r\n\r\nAs the result, many of packages became invisible. \r\n\r\nAfter removing the jar from compile libraries everything become visible.","title":"Package does not exist when importing JAR file","body":"<p>Haven't you seen some warnings while installing the jar? </p>\n\n<p>I have seen that message when I had erroneously the same jar installed twice - as compile library and as a test library. </p>\n\n<p>As the result, many of packages became invisible. </p>\n\n<p>After removing the jar from compile libraries everything become visible.</p>\n"},{"tags":[],"owner":{"account_id":3778807,"reputation":11,"user_id":3138841,"display_name":"Sergey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432626296,"creation_date":1432626296,"answer_id":30452515,"question_id":9807700,"body_markdown":"One can understand, **why** the such a problem may comes from.\r\nI have had this problem, when used in Netbeans IDE the java SOURCE code using \r\n**pasting** code from the other internet source by Ctrl-C Ctrl-V key combination.\r\n(Pasting from other IDE).\r\nThe reserching of prombled showed that the problem is of **absence** of \r\nstatement &quot;package *nameofpackage*&quot; in code, that you want to use as library.\r\n\r\nSo, to correct the mistake you need to **insert the statement *package*** in project you want to use as library.\r\nPerhaps, you need also to delete and link library in Netbeans again.\r\nTo link library I used the the menu point &quot;**Add library as JAR file**&quot; from tree menu item in project &quot;Libraries&quot; and rignt-mouse click - then &quot;add library&quot;\r\n\r\n","title":"Package does not exist when importing JAR file","body":"<p>One can understand, <strong>why</strong> the such a problem may comes from.\nI have had this problem, when used in Netbeans IDE the java SOURCE code using \n<strong>pasting</strong> code from the other internet source by Ctrl-C Ctrl-V key combination.\n(Pasting from other IDE).\nThe reserching of prombled showed that the problem is of <strong>absence</strong> of \nstatement \"package <em>nameofpackage</em>\" in code, that you want to use as library.</p>\n\n<p>So, to correct the mistake you need to <strong>insert the statement <em>package</em></strong> in project you want to use as library.\nPerhaps, you need also to delete and link library in Netbeans again.\nTo link library I used the the menu point \"<strong>Add library as JAR file</strong>\" from tree menu item in project \"Libraries\" and rignt-mouse click - then \"add library\"</p>\n"}],"owner":{"account_id":1249349,"reputation":73,"user_id":1210108,"accept_rate":25,"display_name":"Brian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1693483565,"creation_date":1332343788,"question_id":9807700,"body_markdown":"I have a JAR file that contains a series of .java files/stub code. I need to include the JAR into a NetBeans project and call the various methods contained within.  I&#39;ve attempted Solaris as well, but no luck there either.\r\n\r\nAt the moment, the entirety of my Main.java (the only src file in the project) is:\r\n\r\n    package TestApplication;\r\n    \r\n    import edu.university.department.ws.DiscoveryServices;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\nThe exact error is:\r\n\r\n    C:\\code\\Projects\\WebServiceTest\\TestApplication\\src\\testapplication\\Main.java:3: package edu.university.department.ws does not exist\r\n    import edu.university.department.ws.DiscoveryServices;\r\n    1 error\r\n\r\nI added the JAR file by going to libraries, clicking Add JAR/Folder, and selecting the JAR. Once it was added, I can drill down into it in NetBeans and see all the stub code, including edu.university.department.ws.DiscoveryServices.java, but yet it can&#39;t seem to import it.\r\n\r\nI also tried going to Tools -&gt; Libraries then adding the JAR to the classpath there. It didn&#39;t change anything.\r\n\r\nIs it possible the JAR file wasn&#39;t created correctly?  I can see the code in NetBeans, so I don&#39;t think anything is wrong with the JAR, but I&#39;m new at this and not sure what I should be looking for.\r\n\r\nThanks!","title":"Package does not exist when importing JAR file","body":"<p>I have a JAR file that contains a series of .java files/stub code. I need to include the JAR into a NetBeans project and call the various methods contained within.  I've attempted Solaris as well, but no luck there either.</p>\n\n<p>At the moment, the entirety of my Main.java (the only src file in the project) is:</p>\n\n<pre><code>package TestApplication;\n\nimport edu.university.department.ws.DiscoveryServices;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World\");\n    }\n}\n</code></pre>\n\n<p>The exact error is:</p>\n\n<pre><code>C:\\code\\Projects\\WebServiceTest\\TestApplication\\src\\testapplication\\Main.java:3: package edu.university.department.ws does not exist\nimport edu.university.department.ws.DiscoveryServices;\n1 error\n</code></pre>\n\n<p>I added the JAR file by going to libraries, clicking Add JAR/Folder, and selecting the JAR. Once it was added, I can drill down into it in NetBeans and see all the stub code, including edu.university.department.ws.DiscoveryServices.java, but yet it can't seem to import it.</p>\n\n<p>I also tried going to Tools -> Libraries then adding the JAR to the classpath there. It didn't change anything.</p>\n\n<p>Is it possible the JAR file wasn't created correctly?  I can see the code in NetBeans, so I don't think anything is wrong with the JAR, but I'm new at this and not sure what I should be looking for.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1693482337,"post_id":77015533,"comment_id":135768586,"body_markdown":"please don&#39;t add (links to) images, just post the relevant information as formatted text in your question","body":"please don&#39;t add (links to) images, just post the relevant information as formatted text in your question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693485305,"post_id":77015533,"comment_id":135769218,"body_markdown":"Let me guess both project include the `spring-boot-maven-plugin`?","body":"Let me guess both project include the <code>spring-boot-maven-plugin</code>?"},{"owner":{"account_id":27126576,"reputation":11,"user_id":20669508,"display_name":"reckless1000"},"score":0,"creation_date":1693485932,"post_id":77015533,"comment_id":135769336,"body_markdown":"@M.Deinum they are :), solved now thank you so much. However, i wonder what&#39;s its logic? Why it gave the error? Can you please explain in short?","body":"@M.Deinum they are :), solved now thank you so much. However, i wonder what&#39;s its logic? Why it gave the error? Can you please explain in short?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693487600,"post_id":77015533,"comment_id":135769728,"body_markdown":"The Spring Boot Maven plugin creates a special fatjar which isn&#39;t usable as a dependency. The Spring Boot Maven plugin should only be a part of the project that contains the `@SpringBootApplication` annotated class.","body":"The Spring Boot Maven plugin creates a special fatjar which isn&#39;t usable as a dependency. The Spring Boot Maven plugin should only be a part of the project that contains the <code>@SpringBootApplication</code> annotated class."},{"owner":{"account_id":27126576,"reputation":11,"user_id":20669508,"display_name":"reckless1000"},"score":0,"creation_date":1693488538,"post_id":77015533,"comment_id":135769949,"body_markdown":"@M.Deinum okay sir i understand thanks for your reply.","body":"@M.Deinum okay sir i understand thanks for your reply."}],"owner":{"account_id":27126576,"reputation":11,"user_id":20669508,"display_name":"reckless1000"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693482964,"creation_date":1693482269,"question_id":77015533,"body_markdown":"hello i am trying to develop a project with spring. There are multiple modules in my project. I am using amqp module in borrow-service. For this, I added my amqp to the pom file of borrow-service and I can use amqp module in borrow-service without any problems. But when I trying to do mvn clean install in borrow-service maven build failures. What&#39;s the problem? Thanks.\r\n\r\namqp pom:\r\n\r\n\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ky&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;amqp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;amqp&lt;/name&gt;\r\n\t&lt;description&gt;amqp&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t...\r\n                &lt;/dependencies&gt;\r\n\r\nborrow-service pom:\r\n\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.ky&lt;/groupId&gt;\r\n    &lt;artifactId&gt;borrow-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;borrow-service&lt;/name&gt;\r\n    &lt;description&gt;borrow-service&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ky&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amqp&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        ...\r\n        &lt;/dependencies&gt;\r\n\r\n\r\nI am trying to do build my borrow-service using mvn clean install however, i get the following error:\r\n```\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] package com.ky.amqp.dto does not exist\r\n[ERROR] package com.ky.amqp.producer does not exist\r\n[ERROR] cannot find symbol\r\n  symbol:   class RabbitMQMessageProducer\r\n  location: class com.ky.borrowservice.service.BorrowService\r\n[ERROR] cannot find symbol\r\n  symbol:   class RabbitMQMessageProducer\r\n[ERROR]   symbol:   class RabbitMQMessageProducer\r\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\r\n[ERROR] cannot find symbol\r\n[ERROR]   symbol:   class RabbitMQMessageProducer\r\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\r\n[ERROR] package com.ky.amqp.dto does not exist\r\n[ERROR] cannot find symbol\r\n[ERROR]   symbol:   class BorrowBookRequest\r\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\r\n[ERROR]  cannot find symbol\r\n[ERROR]   symbol:   class BorrowBookRequest\r\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```","title":"maven COMPILATION ERROR : package could not found","body":"<p>hello i am trying to develop a project with spring. There are multiple modules in my project. I am using amqp module in borrow-service. For this, I added my amqp to the pom file of borrow-service and I can use amqp module in borrow-service without any problems. But when I trying to do mvn clean install in borrow-service maven build failures. What's the problem? Thanks.</p>\n<p>amqp pom:</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;groupId&gt;com.ky&lt;/groupId&gt;\n&lt;artifactId&gt;amqp&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;amqp&lt;/name&gt;\n&lt;description&gt;amqp&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n    ...\n            &lt;/dependencies&gt;\n</code></pre>\n<p>borrow-service pom:</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;groupId&gt;com.ky&lt;/groupId&gt;\n&lt;artifactId&gt;borrow-service&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;borrow-service&lt;/name&gt;\n&lt;description&gt;borrow-service&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ky&lt;/groupId&gt;\n        &lt;artifactId&gt;amqp&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    ...\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I am trying to do build my borrow-service using mvn clean install however, i get the following error:</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] package com.ky.amqp.dto does not exist\n[ERROR] package com.ky.amqp.producer does not exist\n[ERROR] cannot find symbol\n  symbol:   class RabbitMQMessageProducer\n  location: class com.ky.borrowservice.service.BorrowService\n[ERROR] cannot find symbol\n  symbol:   class RabbitMQMessageProducer\n[ERROR]   symbol:   class RabbitMQMessageProducer\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\n[ERROR] cannot find symbol\n[ERROR]   symbol:   class RabbitMQMessageProducer\n[ERROR]   location: class com.ky.borrowservice.service.BorrowService\n[ERROR] package com.ky.amqp.dto does not exist\n[ERROR] cannot find symbol\n[ERROR]   symbol:   class BorrowBookRequest\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\n[ERROR]  cannot find symbol\n[ERROR]   symbol:   class BorrowBookRequest\n[ERROR]   location: class com.ky.borrowservice.controller.BorrowController\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","join","apache-flink","flink-streaming","scaling"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1693521189,"post_id":77015597,"comment_id":135776111,"body_markdown":"This certainly looks odd. Is it possible that 100000 was accidentally used as the window size? I think that would explain the results.","body":"This certainly looks odd. Is it possible that 100000 was accidentally used as the window size? I think that would explain the results."},{"owner":{"account_id":28874223,"reputation":1,"user_id":22115128,"display_name":"ark"},"score":1,"creation_date":1693583397,"post_id":77015597,"comment_id":135784870,"body_markdown":"@DavidAnderson Thanks for answer. The issue was indeed related to the window size. \nThe job takes the window size as a parameter, which is defined as an environment variable in the jobmanager container. \nAt parallelism 1, the window size is 1000 millis as defined, but during rescale this value changes to 5000 millis. I am trying to figure out what causes this change, meanwhile hardcoding 1000 millis directly in the job seems to solve the issue.","body":"@DavidAnderson Thanks for answer. The issue was indeed related to the window size.  The job takes the window size as a parameter, which is defined as an environment variable in the jobmanager container.  At parallelism 1, the window size is 1000 millis as defined, but during rescale this value changes to 5000 millis. I am trying to figure out what causes this change, meanwhile hardcoding 1000 millis directly in the job seems to solve the issue."}],"owner":{"account_id":28874223,"reputation":1,"user_id":22115128,"display_name":"ark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693482836,"creation_date":1693482836,"question_id":77015597,"body_markdown":"Good afternoon,\r\nI am currently working on the scalability of stateful operators in stream processing systems.\r\n\r\nI am particularly interested in the case of the &#39;join&#39; operator, for which I have implemented a fictional scenario to test its performance (especially throughput) and behavior during a rescale. However, since I am new to Flink, I don&#39;t think I have correctly implemented this generic scenario.\r\n\r\nMy current scenario involves the use of two load generators (taken from Theodolite project https://www.theodolite.rocks/theodolite-benchmarks/load-generator.html) that inject a certain number of records into two different Kafka topics. The quantity and generation time of records are parameterized.\r\n\r\nA record consists of a triplet containing: sensor name, generation timestamp, and sensor value.\r\n\r\nMy Flink application reads records from the two topics and performs a join, using a one-second window, between messages with the same sensor name.\r\n\r\nHere is an excerpt from my job:\r\n\r\n```\r\nfinal DataStream&lt;ActivePowerRecord&gt; stream1 = this.env.addSource(kafkaConsumer1).name(&quot;Source1&quot;).uid(&quot;Source1&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\r\n\r\nfinal DataStream&lt;ActivePowerRecord&gt; stream2 = this.env.addSource(kafkaConsumer2).name(&quot;Source2&quot;).uid(&quot;Source2&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\r\n\r\nfinal DataStream&lt;String&gt; outputStream = runWindowJoin(stream1, stream2, Integer.parseInt(windowSize));\r\n\r\noutputStream.addSink(new DiscardingSink&lt;&gt;()).name(&quot;Sink&quot;).uid(&quot;4&quot;).setParallelism(1).disableChaining();\r\n```\r\n\r\nAnd here is my join function:\r\n\r\n```\r\n    public static DataStream&lt;String&gt; runWindowJoin(\r\n            DataStream&lt;ActivePowerRecord&gt; tuple1,\r\n            DataStream&lt;ActivePowerRecord&gt; tuple2,\r\n            long windowSize) {\r\n        \r\n        return tuple1.join(tuple2)\r\n                .where(ActivePowerRecord::getIdentifier)\r\n                .equalTo(ActivePowerRecord::getIdentifier)\r\n                .window(TumblingEventTimeWindows.of(Time.milliseconds(windowSize))).trigger(EventTimeTrigger.create()).evictor(TimeEvictor.of(Time.seconds(0),true))\r\n                .apply(new MyJoinFunction()).assignTimestampsAndWatermarks(WatermarkStrategy.forBoundedOutOfOrderness(Duration.ofMillis(windowSize))).disableChaining();\r\n    }&quot;\r\n```\r\n\r\nI am running both load generators with the following parameters: 100000 sensors per load generator and generation rate of 1 second.\r\nThe joining window is 1 second.\r\n\r\nWith parallelism set to 1 for the join operator, everything seems to work normally as I am getting 1-to-1 joins since each sensor, for each topic, appears once within the window.\r\nHowever, when I apply parallelism 2 (or more), the Cartesian product resulting from the join seems to explode the number of results and by inspecting records with print() it seems that some old records stay stuck. \r\n\r\nAs you can see in this screenshot, the delta between timestamps for a given join is way bigger than the fixed window: [Screenshot of joined records](https://i.stack.imgur.com/lZMS8.png)\r\n\r\nHow can I avoid the explosion of this Cartesian product? How can i keep the same &quot;determinism&quot; when scaling up? What am I getting really wrong here?  \r\n  \r\nThank you very much for your input.","title":"Rescaling simple join application in Flink","body":"<p>Good afternoon,\nI am currently working on the scalability of stateful operators in stream processing systems.</p>\n<p>I am particularly interested in the case of the 'join' operator, for which I have implemented a fictional scenario to test its performance (especially throughput) and behavior during a rescale. However, since I am new to Flink, I don't think I have correctly implemented this generic scenario.</p>\n<p>My current scenario involves the use of two load generators (taken from Theodolite project <a href=\"https://www.theodolite.rocks/theodolite-benchmarks/load-generator.html\" rel=\"nofollow noreferrer\">https://www.theodolite.rocks/theodolite-benchmarks/load-generator.html</a>) that inject a certain number of records into two different Kafka topics. The quantity and generation time of records are parameterized.</p>\n<p>A record consists of a triplet containing: sensor name, generation timestamp, and sensor value.</p>\n<p>My Flink application reads records from the two topics and performs a join, using a one-second window, between messages with the same sensor name.</p>\n<p>Here is an excerpt from my job:</p>\n<pre><code>final DataStream&lt;ActivePowerRecord&gt; stream1 = this.env.addSource(kafkaConsumer1).name(&quot;Source1&quot;).uid(&quot;Source1&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\n\nfinal DataStream&lt;ActivePowerRecord&gt; stream2 = this.env.addSource(kafkaConsumer2).name(&quot;Source2&quot;).uid(&quot;Source2&quot;).setParallelism(1).keyBy(ActivePowerRecord::getIdentifier).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ActivePowerRecord&gt;forMonotonousTimestamps().withTimestampAssigner((record, timestamp) -&gt; record.getTimestamp()));\n\nfinal DataStream&lt;String&gt; outputStream = runWindowJoin(stream1, stream2, Integer.parseInt(windowSize));\n\noutputStream.addSink(new DiscardingSink&lt;&gt;()).name(&quot;Sink&quot;).uid(&quot;4&quot;).setParallelism(1).disableChaining();\n</code></pre>\n<p>And here is my join function:</p>\n<pre><code>    public static DataStream&lt;String&gt; runWindowJoin(\n            DataStream&lt;ActivePowerRecord&gt; tuple1,\n            DataStream&lt;ActivePowerRecord&gt; tuple2,\n            long windowSize) {\n        \n        return tuple1.join(tuple2)\n                .where(ActivePowerRecord::getIdentifier)\n                .equalTo(ActivePowerRecord::getIdentifier)\n                .window(TumblingEventTimeWindows.of(Time.milliseconds(windowSize))).trigger(EventTimeTrigger.create()).evictor(TimeEvictor.of(Time.seconds(0),true))\n                .apply(new MyJoinFunction()).assignTimestampsAndWatermarks(WatermarkStrategy.forBoundedOutOfOrderness(Duration.ofMillis(windowSize))).disableChaining();\n    }&quot;\n</code></pre>\n<p>I am running both load generators with the following parameters: 100000 sensors per load generator and generation rate of 1 second.\nThe joining window is 1 second.</p>\n<p>With parallelism set to 1 for the join operator, everything seems to work normally as I am getting 1-to-1 joins since each sensor, for each topic, appears once within the window.\nHowever, when I apply parallelism 2 (or more), the Cartesian product resulting from the join seems to explode the number of results and by inspecting records with print() it seems that some old records stay stuck.</p>\n<p>As you can see in this screenshot, the delta between timestamps for a given join is way bigger than the fixed window: <a href=\"https://i.stack.imgur.com/lZMS8.png\" rel=\"nofollow noreferrer\">Screenshot of joined records</a></p>\n<p>How can I avoid the explosion of this Cartesian product? How can i keep the same &quot;determinism&quot; when scaling up? What am I getting really wrong here?</p>\n<p>Thank you very much for your input.</p>\n"},{"tags":["java","spring-boot","selenide","chrome-options"],"comments":[{"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"score":0,"creation_date":1693399178,"post_id":77007108,"comment_id":135755322,"body_markdown":"Remove all selenium dependencies in your pom and just keep one.\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.11.0&lt;/version&gt;\n    &lt;/dependency&gt;","body":"Remove all selenium dependencies in your pom and just keep one.  &lt;dependency&gt;         &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;         &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;         &lt;version&gt;4.11.0&lt;/version&gt;     &lt;/dependency&gt;"},{"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"score":0,"creation_date":1693482610,"post_id":77007108,"comment_id":135768653,"body_markdown":"Please upvote my answer as this solved your problem.","body":"Please upvote my answer as this solved your problem."},{"owner":{"account_id":29328625,"reputation":1,"user_id":22470564,"display_name":"jahu86"},"score":0,"creation_date":1693557508,"post_id":77007108,"comment_id":135779751,"body_markdown":"@IndrapalSingh dont have enough reputation :( will do, in future :)","body":"@IndrapalSingh dont have enough reputation :( will do, in future :)"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693545893,"post_id":77014660,"comment_id":135777878,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77014660/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29328625,"reputation":1,"user_id":22470564,"display_name":"jahu86"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475213,"creation_date":1693475072,"answer_id":77014660,"question_id":77007108,"body_markdown":"Solution from @Indrapal Singh helped, thanks\r\n\r\nremoving all selenium dependencies, except:\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n     &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n     &lt;version&gt;4.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)","body":"<p>Solution from @Indrapal Singh helped, thanks</p>\n<p>removing all selenium dependencies, except:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693482540,"creation_date":1693482540,"answer_id":77015557,"question_id":77007108,"body_markdown":"The problem here was different selenium dependencies contained duplicate classes and needed to use exclusion to overcome them. The better solution is to remove all selenium dependencies and keep selenium-java only.\r\n \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n     &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n     &lt;version&gt;4.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)","body":"<p>The problem here was different selenium dependencies contained duplicate classes and needed to use exclusion to overcome them. The better solution is to remove all selenium dependencies and keep selenium-java only.</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29328625,"reputation":1,"user_id":22470564,"display_name":"jahu86"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693482540,"creation_date":1693390887,"question_id":77007108,"body_markdown":"since webdrivers 115 version release, my projects started failing with this error:\r\n[first error - not facing with it right now](https://i.stack.imgur.com/lKmvu.png)\r\n\r\nSo I have decided to update all dependencies in POM to have the most fresh packages there..\r\nAfter resolving all dependencies conflicts(checked in Dependencies Analyzer in InteliJ), I am receiving this error message:\r\n```\r\n2023-08-30 10:49:09.122  INFO 2996 --- [           main] c.c.s.i.WebDriverThreadLocalContainer    : No webdriver is bound to current thread: 1 - let&#39;s create a new webdriver\r\n\r\n2023-08-30 10:49:09.136  INFO 2996 --- [           main] com.codeborne.selenide.impl.FileHelper   : Creating folder: C:\\Workspace\\testautomation\\build\\downloads\\1693388949135_2996_1\r\n\r\n \r\n\r\njava.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)&#39;\r\n\r\n \r\n\r\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:67)\r\n\r\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:48)\r\n\r\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.merge(AbstractDriverFactory.java:90)\r\n\r\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.createCommonCapabilities(AbstractDriverFactory.java:82)\r\n\r\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.createCapabilities(ChromeDriverFactory.java:48)\r\n\r\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.create(ChromeDriverFactory.java:32)\r\n\r\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriverInstance(WebDriverFactory.java:120)\r\n\r\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriver(WebDriverFactory.java:67)\r\n\r\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.lambda$createDriver$0(CreateDriverCommand.java:76)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.get(SelenideLogger.java:113)\r\n\r\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.createDriver(CreateDriverCommand.java:52)\r\n\r\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createDriver(WebDriverThreadLocalContainer.java:205)\r\n\r\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createAndRegisterDriver(WebDriverThreadLocalContainer.java:190)\r\n\r\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.getAndCheckWebDriver(WebDriverThreadLocalContainer.java:152)\r\n\r\n    at com.codeborne.selenide.WebDriverRunner.getAndCheckWebDriver(WebDriverRunner.java:130)\r\n\r\n    at com.codeborne.selenide.impl.StaticDriver.getAndCheckWebDriver(StaticDriver.java:65)\r\n\r\n    at com.codeborne.selenide.SelenideDriver.getAndCheckWebDriver(SelenideDriver.java:222)\r\n\r\n    at com.codeborne.selenide.drivercommands.Navigator.lambda$navigateTo$0(Navigator.java:71)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.lambda$run$0(SelenideLogger.java:105)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\r\n\r\n    at com.codeborne.selenide.logevents.SelenideLogger.run(SelenideLogger.java:104)\r\n\r\n    at com.codeborne.selenide.drivercommands.Navigator.navigateTo(Navigator.java:69)\r\n\r\n    at com.codeborne.selenide.drivercommands.Navigator.open(Navigator.java:32)\r\n\r\n    at com.codeborne.selenide.SelenideDriver.open(SelenideDriver.java:101)\r\n\r\n    at com.codeborne.selenide.Selenide.open(Selenide.java:53)\r\n\r\n    at testConfiguration.BaseTestConfiguration.prepareTestEnv(BaseTestConfiguration.java:50)\r\n\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\r\n\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.runConfigMethods(TestInvoker.java:810)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:577)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n\r\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\r\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n\r\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n\r\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\r\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n\r\n    at org.testng.TestRunner.run(TestRunner.java:621)\r\n\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\r\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\r\n    at org.testng.TestNG.run(TestNG.java:1082)\r\n\r\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\r\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\n\r\n \r\n```\r\n\r\nI think that, this is possible caused by some exclusions in POM or I haven&#39;t set properly ChromeOptions..\r\nBefore, I have use only ChromeOptions for such configurations:\r\n\r\n```\r\n@BeforeMethod\r\npublic void prepareTestEnv() {\r\n    **open**(conf.getUrl() + &quot;env.com&quot;);\r\n}\r\n\r\n@AfterMethod\r\npublic void close() {\r\n    closeWebDriver();\r\n}\r\n\r\nprivate void prepareBrowser() {\r\n    Configuration.browser = &quot;chrome&quot;;\r\n    Configuration.browser = browserConf.getBrowser();\r\n    Configuration.browserSize = browserConf.getSize();\r\n    Configuration.pageLoadTimeout = 10000;\r\n    Configuration.timeout = 30000;\r\n    Configuration.pollingInterval = 500;\r\n}\r\n```\r\n\r\nand to precise issue: error message is pointing on Selenide.open method..\r\n\r\nhere you have POM(with anonymized client data):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent --&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.14&lt;/version&gt;\r\n        &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;XXX&lt;/groupId&gt;\r\n    &lt;artifactId&gt;XXX&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;description&gt;XXX&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;14&lt;/java.version&gt;\r\n        &lt;aspectj.version&gt;1.9.20&lt;/aspectj.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;XXX&lt;/id&gt;\r\n            &lt;url&gt;XXX&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;XXX&lt;/id&gt;\r\n            &lt;url&gt;XXX&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;XXX&lt;/id&gt;\r\n            &lt;url&gt;XXX&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.1.2-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;6.17.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy-xml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;2.24.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;2.24.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;test&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        --illegal-access=permit\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    &lt;/argLine&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testNgSuites/${testSuite}.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;defaultBrowser&gt;chrome&lt;/defaultBrowser&gt;\r\n                        &lt;defaultTestEnvironment&gt;ST&lt;/defaultTestEnvironment&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.9.20&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;key&gt;browser&lt;/key&gt;\r\n                                &lt;value&gt;${browser}&lt;/value&gt;\r\n                                &lt;key&gt;env&lt;/key&gt;\r\n                                &lt;value&gt;${environment}&lt;/value&gt;\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;14&lt;/release&gt;\r\n                    &lt;source&gt;14&lt;/source&gt;\r\n                    &lt;target&gt;14&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.22&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPLEASE HELP :)\r\n\r\nI think, that I have tried everything :)","title":"java.lang.NoSuchMethodError: &#39;void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)","body":"<p>since webdrivers 115 version release, my projects started failing with this error:\n<a href=\"https://i.stack.imgur.com/lKmvu.png\" rel=\"nofollow noreferrer\">first error - not facing with it right now</a></p>\n<p>So I have decided to update all dependencies in POM to have the most fresh packages there..\nAfter resolving all dependencies conflicts(checked in Dependencies Analyzer in InteliJ), I am receiving this error message:</p>\n<pre><code>2023-08-30 10:49:09.122  INFO 2996 --- [           main] c.c.s.i.WebDriverThreadLocalContainer    : No webdriver is bound to current thread: 1 - let's create a new webdriver\n\n2023-08-30 10:49:09.136  INFO 2996 --- [           main] com.codeborne.selenide.impl.FileHelper   : Creating folder: C:\\Workspace\\testautomation\\build\\downloads\\1693388949135_2996_1\n\n \n\njava.lang.NoSuchMethodError: 'void org.openqa.selenium.chrome.ChromeOptions.mergeInOptionsFromCaps(java.lang.String, org.openqa.selenium.Capabilities)'\n\n \n\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:67)\n\n    at org.openqa.selenium.chrome.ChromeOptions.merge(ChromeOptions.java:48)\n\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.merge(AbstractDriverFactory.java:90)\n\n    at com.codeborne.selenide.webdriver.AbstractDriverFactory.createCommonCapabilities(AbstractDriverFactory.java:82)\n\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.createCapabilities(ChromeDriverFactory.java:48)\n\n    at com.codeborne.selenide.webdriver.ChromeDriverFactory.create(ChromeDriverFactory.java:32)\n\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriverInstance(WebDriverFactory.java:120)\n\n    at com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriver(WebDriverFactory.java:67)\n\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.lambda$createDriver$0(CreateDriverCommand.java:76)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.get(SelenideLogger.java:113)\n\n    at com.codeborne.selenide.drivercommands.CreateDriverCommand.createDriver(CreateDriverCommand.java:52)\n\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createDriver(WebDriverThreadLocalContainer.java:205)\n\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createAndRegisterDriver(WebDriverThreadLocalContainer.java:190)\n\n    at com.codeborne.selenide.impl.WebDriverThreadLocalContainer.getAndCheckWebDriver(WebDriverThreadLocalContainer.java:152)\n\n    at com.codeborne.selenide.WebDriverRunner.getAndCheckWebDriver(WebDriverRunner.java:130)\n\n    at com.codeborne.selenide.impl.StaticDriver.getAndCheckWebDriver(StaticDriver.java:65)\n\n    at com.codeborne.selenide.SelenideDriver.getAndCheckWebDriver(SelenideDriver.java:222)\n\n    at com.codeborne.selenide.drivercommands.Navigator.lambda$navigateTo$0(Navigator.java:71)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.lambda$run$0(SelenideLogger.java:105)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.wrap(SelenideLogger.java:133)\n\n    at com.codeborne.selenide.logevents.SelenideLogger.run(SelenideLogger.java:104)\n\n    at com.codeborne.selenide.drivercommands.Navigator.navigateTo(Navigator.java:69)\n\n    at com.codeborne.selenide.drivercommands.Navigator.open(Navigator.java:32)\n\n    at com.codeborne.selenide.SelenideDriver.open(SelenideDriver.java:101)\n\n    at com.codeborne.selenide.Selenide.open(Selenide.java:53)\n\n    at testConfiguration.BaseTestConfiguration.prepareTestEnv(BaseTestConfiguration.java:50)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:390)\n\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:325)\n\n    at org.testng.internal.invokers.TestInvoker.runConfigMethods(TestInvoker.java:810)\n\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:577)\n\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n\n    at org.testng.TestRunner.run(TestRunner.java:621)\n\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n\n    at org.testng.TestNG.run(TestNG.java:1082)\n\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\n\n \n</code></pre>\n<p>I think that, this is possible caused by some exclusions in POM or I haven't set properly ChromeOptions..\nBefore, I have use only ChromeOptions for such configurations:</p>\n<pre><code>@BeforeMethod\npublic void prepareTestEnv() {\n    **open**(conf.getUrl() + &quot;env.com&quot;);\n}\n\n@AfterMethod\npublic void close() {\n    closeWebDriver();\n}\n\nprivate void prepareBrowser() {\n    Configuration.browser = &quot;chrome&quot;;\n    Configuration.browser = browserConf.getBrowser();\n    Configuration.browserSize = browserConf.getSize();\n    Configuration.pageLoadTimeout = 10000;\n    Configuration.timeout = 30000;\n    Configuration.pollingInterval = 500;\n}\n</code></pre>\n<p>and to precise issue: error message is pointing on Selenide.open method..</p>\n<p>here you have POM(with anonymized client data):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent --&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;XXX&lt;/groupId&gt;\n    &lt;artifactId&gt;XXX&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;XXX&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;\n        &lt;aspectj.version&gt;1.9.20&lt;/aspectj.version&gt;\n    &lt;/properties&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;XXX&lt;/id&gt;\n            &lt;url&gt;XXX&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;XXX&lt;/id&gt;\n            &lt;url&gt;XXX&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;XXX&lt;/id&gt;\n            &lt;url&gt;XXX&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;32.1.2-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;6.17.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\n                    &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                    &lt;artifactId&gt;groovy-xml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-selenide&lt;/artifactId&gt;\n            &lt;version&gt;2.24.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;version&gt;2.24.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                    &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;test&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --illegal-access=permit\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;!--suppress UnresolvedMavenProperty --&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/testNgSuites/${testSuite}.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;defaultBrowser&gt;chrome&lt;/defaultBrowser&gt;\n                        &lt;defaultTestEnvironment&gt;ST&lt;/defaultTestEnvironment&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.20&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;key&gt;browser&lt;/key&gt;\n                                &lt;value&gt;${browser}&lt;/value&gt;\n                                &lt;key&gt;env&lt;/key&gt;\n                                &lt;value&gt;${environment}&lt;/value&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;14&lt;/release&gt;\n                    &lt;source&gt;14&lt;/source&gt;\n                    &lt;target&gt;14&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.22&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PLEASE HELP :)</p>\n<p>I think, that I have tried everything :)</p>\n"},{"tags":["java","eclipse","junit","ide"],"answers":[{"comments":[{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":16,"creation_date":1269603555,"post_id":2522908,"comment_id":2520287,"body_markdown":"+1 note: the Java-in-built assertations are not the junit ones ... I do not recommend to use those in-built assert statements. instead do unit testing","body":"+1 note: the Java-in-built assertations are not the junit ones ... I do not recommend to use those in-built assert statements. instead do unit testing"},{"owner":{"account_id":1160998,"reputation":233,"user_id":1384471,"display_name":"Peter"},"score":6,"creation_date":1534938786,"post_id":2522908,"comment_id":90882254,"body_markdown":"@Karussell Assertions and unit tests serve different purposes. When writing unit tests, you should use the junit assert functions. Inside your regular code, you should use the assert keyword if you want to test invariants and other conditions (which is a good idea).","body":"@Karussell Assertions and unit tests serve different purposes. When writing unit tests, you should use the junit assert functions. Inside your regular code, you should use the assert keyword if you want to test invariants and other conditions (which is a good idea)."}],"tags":[],"owner":{"account_id":20061,"reputation":20239,"user_id":47552,"accept_rate":91,"display_name":"Matt McHenry"},"comment_count":2,"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1430234340,"creation_date":1269603441,"answer_id":2522908,"question_id":2522897,"body_markdown":"It enables the JVM to honour [assertions][1]\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.10","title":"Eclipse Junit &#39;-ea&#39; VM Option","body":"<p>It enables the JVM to honour <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.10\" rel=\"noreferrer\">assertions</a></p>\n"}],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40452,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":2522908,"answer_count":1,"score":69,"last_activity_date":1693482474,"creation_date":1269603346,"question_id":2522897,"body_markdown":"In eclipse preferences\r\n\r\n    Windows &gt; Preferences &gt; Java &gt; Junit\r\n\r\n![alt text][1]\r\n\r\nWhat effect does the &quot;Add &#39;-ea&#39; to VM args ....&quot; checkbox option actually have on the new junit launch config?\r\n\r\n\r\n  [1]: https://1.bp.blogspot.com/_UjH7scA_Bek/S6yamSn9pGI/AAAAAAAABhE/znqFy0yrZgc/s320/eclipse-junit-ea-jvm-args.png","title":"Eclipse Junit &#39;-ea&#39; VM Option","body":"<p>In eclipse preferences</p>\n\n<pre><code>Windows &gt; Preferences &gt; Java &gt; Junit\n</code></pre>\n\n<p><img src=\"https://1.bp.blogspot.com/_UjH7scA_Bek/S6yamSn9pGI/AAAAAAAABhE/znqFy0yrZgc/s320/eclipse-junit-ea-jvm-args.png\" alt=\"alt text\"></p>\n\n<p>What effect does the \"Add '-ea' to VM args ....\" checkbox option actually have on the new junit launch config?</p>\n"},{"tags":["java","record","java-17","final-class"],"answers":[{"comments":[{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1685295963,"post_id":71474203,"comment_id":134638557,"body_markdown":"All these statements are true, but none of them really capture the essence of what it means to be a record.  A record _gives up the ability to decouple its representation from its API_.  That is, a record is the class _derived from_ a specific tuple of representation -- it must have a constructor accepting that tuple, it must have accessors for each component, etc.  But it is not about &quot;the compiler generates stuff for you&quot; -- it&#39;s about &quot;this is the class _defined by_ this slug of data.&quot;  The syntactic concision is a bonus.","body":"All these statements are true, but none of them really capture the essence of what it means to be a record.  A record <i>gives up the ability to decouple its representation from its API</i>.  That is, a record is the class <i>derived from</i> a specific tuple of representation -- it must have a constructor accepting that tuple, it must have accessors for each component, etc.  But it is not about &quot;the compiler generates stuff for you&quot; -- it&#39;s about &quot;this is the class <i>defined by</i> this slug of data.&quot;  The syntactic concision is a bonus."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1693482383,"creation_date":1647291545,"answer_id":71474203,"question_id":71473485,"body_markdown":"**Record** is an ***immutable class***, i.e. all its fields are `final`. *Records* are implicitly `final`, hence as well as regular *final class* `record` can&#39;t be *extended*.\r\n\r\nThere are a number of **restrictions** imposed on records ([*for more details, take a look at **JEP 395***](https://openjdk.java.net/jeps/395)). \r\n\r\nContrary to *normal classes*:\r\n* it&#39;s forbidden to declare ***instance fields*** *explicitly* inside **records** (*and reminder: all fields are* `final`, *which is a very important distinction*);\r\n* `extends` clause is not allowed with **records**, because every **record** implicitly *extends* abstract class [Record](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html);\r\n* **record** can&#39;t be declared with any of these modifiers: `abstract`, `sealed`, or `non-sealed` (as a consequence of being implicitly `final`);\r\n* **records** can&#39;t declare *instance initializers* and *native methods*.\r\n\r\nRecords are meant to be ***&quot;transparent carriers for immutable data&quot;*** as *JEP 395* says. \r\n\r\nThey are designed to be *concise*, *default constructor*, *getters*, `hashCode/equals` and `toString()` will be generated by the compiler for you. So that inside a **record** you need to declare only your custom logic (*if any*) and record declaration can be literally a ***one-liner***.\r\n\r\n*Records* differ a lot from regular *final classes*. \r\n\r\nAlso, apart from the peculiarities mentioned above, the mechanism of *serialization / deserialization* was reimplemented for **records**, so that *deserialization* doesn&#39;t bypass the constructor.\r\n\r\n&gt; In which case should I use a record?\r\n\r\nIn short, if your objects must be ***stateful***, or you need to ***extend*** a particular class, then you can&#39;t utilize `record` in such a case.\r\n\r\nOn the other hand, if your objects are meant just ***carry the data***, they are not intended to be modified or inherit from other classes, then it might be a good candidate to be implemented as a `record`.\r\n","title":"What is the difference between a final Class and a Record?","body":"<p><strong>Record</strong> is an <em><strong>immutable class</strong></em>, i.e. all its fields are <code>final</code>. <em>Records</em> are implicitly <code>final</code>, hence as well as regular <em>final class</em> <code>record</code> can't be <em>extended</em>.</p>\n<p>There are a number of <strong>restrictions</strong> imposed on records (<a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\"><em>for more details, take a look at <strong>JEP 395</strong></em></a>).</p>\n<p>Contrary to <em>normal classes</em>:</p>\n<ul>\n<li>it's forbidden to declare <em><strong>instance fields</strong></em> <em>explicitly</em> inside <strong>records</strong> (<em>and reminder: all fields are</em> <code>final</code>, <em>which is a very important distinction</em>);</li>\n<li><code>extends</code> clause is not allowed with <strong>records</strong>, because every <strong>record</strong> implicitly <em>extends</em> abstract class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">Record</a>;</li>\n<li><strong>record</strong> can't be declared with any of these modifiers: <code>abstract</code>, <code>sealed</code>, or <code>non-sealed</code> (as a consequence of being implicitly <code>final</code>);</li>\n<li><strong>records</strong> can't declare <em>instance initializers</em> and <em>native methods</em>.</li>\n</ul>\n<p>Records are meant to be <em><strong>&quot;transparent carriers for immutable data&quot;</strong></em> as <em>JEP 395</em> says.</p>\n<p>They are designed to be <em>concise</em>, <em>default constructor</em>, <em>getters</em>, <code>hashCode/equals</code> and <code>toString()</code> will be generated by the compiler for you. So that inside a <strong>record</strong> you need to declare only your custom logic (<em>if any</em>) and record declaration can be literally a <em><strong>one-liner</strong></em>.</p>\n<p><em>Records</em> differ a lot from regular <em>final classes</em>.</p>\n<p>Also, apart from the peculiarities mentioned above, the mechanism of <em>serialization / deserialization</em> was reimplemented for <strong>records</strong>, so that <em>deserialization</em> doesn't bypass the constructor.</p>\n<blockquote>\n<p>In which case should I use a record?</p>\n</blockquote>\n<p>In short, if your objects must be <em><strong>stateful</strong></em>, or you need to <em><strong>extend</strong></em> a particular class, then you can't utilize <code>record</code> in such a case.</p>\n<p>On the other hand, if your objects are meant just <em><strong>carry the data</strong></em>, they are not intended to be modified or inherit from other classes, then it might be a good candidate to be implemented as a <code>record</code>.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1647295465,"creation_date":1647295465,"answer_id":71474736,"question_id":71473485,"body_markdown":"A `final` class is simply one that cannot be extended.  But that imposes no other constraints on the class; it can still have mutable fields, fully encapsulate its state, etc.  \r\n\r\nA `record` is a transparent carrier for a given tuple of state components, and is required to expose an API derived from its state description.  Records are therefore more heavily constrained, but in exchange for these constraints, you get a great deal of convenience (constructors, accessors, `Object` methods) as well as some semantic promises (e.g., that unpacking a record with its component accessors and repacking the results with the constructor gives you an `equals` object.)  \r\n\r\nRecords also happen to be `final` classes, but this is a very small part of what it means to be a record.","title":"What is the difference between a final Class and a Record?","body":"<p>A <code>final</code> class is simply one that cannot be extended.  But that imposes no other constraints on the class; it can still have mutable fields, fully encapsulate its state, etc.</p>\n<p>A <code>record</code> is a transparent carrier for a given tuple of state components, and is required to expose an API derived from its state description.  Records are therefore more heavily constrained, but in exchange for these constraints, you get a great deal of convenience (constructors, accessors, <code>Object</code> methods) as well as some semantic promises (e.g., that unpacking a record with its component accessors and repacking the results with the constructor gives you an <code>equals</code> object.)</p>\n<p>Records also happen to be <code>final</code> classes, but this is a very small part of what it means to be a record.</p>\n"}],"owner":{"account_id":12502565,"reputation":258,"user_id":15815623,"display_name":"Denilson Anachury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10596,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":71474203,"answer_count":2,"score":15,"last_activity_date":1693482383,"creation_date":1647287561,"question_id":71473485,"body_markdown":"In simple words what is the difference between a **final class** and a **record** in Java 17?\r\n\r\nIn which case should I use a record?\r\n","title":"What is the difference between a final Class and a Record?","body":"<p>In simple words what is the difference between a <strong>final class</strong> and a <strong>record</strong> in Java 17?</p>\n<p>In which case should I use a record?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":5137250,"reputation":722,"user_id":4115587,"accept_rate":50,"display_name":"Rahal Kanishka"},"score":0,"creation_date":1469624837,"post_id":31536660,"comment_id":64613960,"body_markdown":"Why you used Separate &quot;path&quot; variable to define driver&#39;s path.If you know where you installed your chromeDriver,why don&#39;t you provide it directly.","body":"Why you used Separate &quot;path&quot; variable to define driver&#39;s path.If you know where you installed your chromeDriver,why don&#39;t you provide it directly."}],"answers":[{"comments":[{"owner":{"account_id":6648808,"reputation":33,"user_id":5131762,"display_name":"박수지"},"score":0,"creation_date":1437476153,"post_id":31536775,"comment_id":51033500,"body_markdown":"i&#39;ve tried that but NullPointerException occurred in &#39;assertTrue(Browser.driver().getTitle().equals(title));&#39; and chromedriver still not run.(bad english sorry T.T)","body":"i&#39;ve tried that but NullPointerException occurred in &#39;assertTrue(Browser.driver().getTitle().equals(title));&#39; and chromedriver still not run.(bad english sorry T.T)"},{"owner":{"account_id":3280203,"reputation":18216,"user_id":2760986,"accept_rate":100,"display_name":"mrhn"},"score":0,"creation_date":1437476414,"post_id":31536775,"comment_id":51033660,"body_markdown":"Are you sure the path is correct then? Have you tried with an aboslute path like &quot;C:\\\\MyWebDrivers\\\\chromedriver.exe&quot; and ensure your webdriver is at that location.","body":"Are you sure the path is correct then? Have you tried with an aboslute path like &quot;C:\\\\MyWebDrivers\\\\chromedriver.exe&quot; and ensure your webdriver is at that location."},{"owner":{"account_id":6648808,"reputation":33,"user_id":5131762,"display_name":"박수지"},"score":0,"creation_date":1437477191,"post_id":31536775,"comment_id":51034173,"body_markdown":"yes, i checked the path. \nif wrote code like this, chromedriver is run\n`\n public class Page {\n\tprivate String path = System.getProperty(&quot;user.dir&quot;);\n\t...\n\n\t@Before\n\tpublic void setUp() throws Exception {\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;);\n\t    \tdriver = new ChromeDriver();\n\t...\n\t}\n\n\t@Test\n\tpublic void pageTest() {\n\t...\n\t}\n...\n}\n`","body":"yes, i checked the path.  if wrote code like this, chromedriver is run `  public class Page { \tprivate String path = System.getProperty(&quot;user.dir&quot;); \t...  \t@Before \tpublic void setUp() throws Exception { \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;); \t    \tdriver = new ChromeDriver(); \t... \t}  \t@Test \tpublic void pageTest() { \t... \t} ... } `"}],"tags":[],"owner":{"account_id":3280203,"reputation":18216,"user_id":2760986,"accept_rate":100,"display_name":"mrhn"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437475209,"creation_date":1437475209,"answer_id":31536775,"question_id":31536660,"body_markdown":"Initially i think you are creating the Chromedriver, without the reference to the exe being there.\r\n\r\nSo if you change it into something like this, it will probaly work.\r\n\r\n    public class Browser {\r\n        private static WebDriver driver;\r\n\r\n        public static WebDriver driver() {\r\n            return driver;\r\n        }\r\n\r\n        public static void open(String url) {\r\n            String path = System.getProperty(&quot;user.dir&quot;);\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;);\r\n            driver = new ChromeDriver(); //Initilize here\r\n            driver.manage().window().maximize();\r\n            driver.get(url);\r\n        }\r\n    }","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>Initially i think you are creating the Chromedriver, without the reference to the exe being there.</p>\n\n<p>So if you change it into something like this, it will probaly work.</p>\n\n<pre><code>public class Browser {\n    private static WebDriver driver;\n\n    public static WebDriver driver() {\n        return driver;\n    }\n\n    public static void open(String url) {\n        String path = System.getProperty(\"user.dir\");\n        System.setProperty(\"webdriver.chrome.driver\",path + \"\\\\chromedrive\\\\chromedriver.exe\");\n        driver = new ChromeDriver(); //Initilize here\n        driver.manage().window().maximize();\n        driver.get(url);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6648808,"reputation":33,"user_id":5131762,"display_name":"박수지"},"score":0,"creation_date":1437528612,"post_id":31536789,"comment_id":51062903,"body_markdown":"thank you for your answer!, but i don&#39;t understand that create the ChromeDriver object /after/ setting the system property. please explain in detail","body":"thank you for your answer!, but i don&#39;t understand that create the ChromeDriver object /after/ setting the system property. please explain in detail"}],"tags":[],"owner":{"account_id":4556100,"reputation":3497,"user_id":3699808,"accept_rate":83,"display_name":"mhlz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437475245,"creation_date":1437475245,"answer_id":31536789,"question_id":31536660,"body_markdown":"When your application loads the first time, it&#39;ll try to load the Browser class.\r\n\r\nWhile  loading a class the JVM will do all the static initializing that is specified, in this case it&#39;ll try to create a ChromeDriver object, because you&#39;re initializing the static field with `new ChromeDriver()`. At that point your `open` method hasn&#39;t been called yet to set the system property, so an exception will be thrown, which causes the JVM to quit.\r\n\r\nTo fix this, either create the ChromeDriver object /after/ setting the system property (e.g. in your `open` method) or set the system property when starting the JVM:\r\n\r\n    java -Dwebdriver.chrome.driver=path/to/driver -jar somejar.jar","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>When your application loads the first time, it'll try to load the Browser class.</p>\n\n<p>While  loading a class the JVM will do all the static initializing that is specified, in this case it'll try to create a ChromeDriver object, because you're initializing the static field with <code>new ChromeDriver()</code>. At that point your <code>open</code> method hasn't been called yet to set the system property, so an exception will be thrown, which causes the JVM to quit.</p>\n\n<p>To fix this, either create the ChromeDriver object /after/ setting the system property (e.g. in your <code>open</code> method) or set the system property when starting the JVM:</p>\n\n<pre><code>java -Dwebdriver.chrome.driver=path/to/driver -jar somejar.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3280203,"reputation":18216,"user_id":2760986,"accept_rate":100,"display_name":"mrhn"},"score":0,"creation_date":1437653001,"post_id":31536951,"comment_id":51125507,"body_markdown":"And what is the reason for this argument? The driver object will still be on the heap, so nothing will change.","body":"And what is the reason for this argument? The driver object will still be on the heap, so nothing will change."}],"tags":[],"owner":{"account_id":6073472,"reputation":5051,"user_id":4741503,"display_name":"Ram Pasala"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437475661,"creation_date":1437475661,"answer_id":31536951,"question_id":31536660,"body_markdown":"You should instantiate you browser inside the function you are defining and setting the path.\r\n\r\ntry this:\r\n\r\n      public static void open(String url) {\r\n        String path = System.getProperty(&quot;user.dir&quot;);\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;);\r\n        driver.manage().window().maximize();\r\n         WebDriver driver = new ChromeDriver();\r\n        driver.get(url);\r\n    }\r\n\r\nThere is no need of separately creating a driver function.please remove it.","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>You should instantiate you browser inside the function you are defining and setting the path.</p>\n\n<p>try this:</p>\n\n<pre><code>  public static void open(String url) {\n    String path = System.getProperty(\"user.dir\");\n    System.setProperty(\"webdriver.chrome.driver\",path + \"\\\\chromedrive\\\\chromedriver.exe\");\n    driver.manage().window().maximize();\n     WebDriver driver = new ChromeDriver();\n    driver.get(url);\n}\n</code></pre>\n\n<p>There is no need of separately creating a driver function.please remove it.</p>\n"},{"tags":[],"owner":{"account_id":23640636,"reputation":1,"user_id":17670932,"display_name":"Ronald Domingo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693481648,"creation_date":1693449312,"answer_id":77012549,"question_id":31536660,"body_markdown":"Step 1: Copy the version number in the Eclipse console e.g. **116.0.5845.111**\r\n\r\neclipse console\r\n[DEBUG] Result: Version=**116.0.5845.111**\r\n\r\nStep 2: Create a new folder inside the win64 with a folder name you copied in the eclipse console\r\nC:\\Users\\yourUSER\\\\.cache\\selenium\\chromedriver\\win64\r\n\r\nStep 3: Download the specific chrome driver version and copy inside the new folder you have created\r\n\r\nStep 4: Go to C:\\Users\\yourUSER\\\\.cache\\selenium and edit the file **resolution.properties**\r\n\r\ninside the resolution properties:\r\n\r\nadd this code:\r\n\r\n**chrome116=116.0.5845.111\r\nchrome116-ttl=11\\:23\\:04 31/08/2023 CST**\r\n\r\nsee photo for the example\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghmjK.png","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>Step 1: Copy the version number in the Eclipse console e.g. <strong>116.0.5845.111</strong></p>\n<p>eclipse console\n[DEBUG] Result: Version=<strong>116.0.5845.111</strong></p>\n<p>Step 2: Create a new folder inside the win64 with a folder name you copied in the eclipse console\nC:\\Users\\yourUSER\\.cache\\selenium\\chromedriver\\win64</p>\n<p>Step 3: Download the specific chrome driver version and copy inside the new folder you have created</p>\n<p>Step 4: Go to C:\\Users\\yourUSER\\.cache\\selenium and edit the file <strong>resolution.properties</strong></p>\n<p>inside the resolution properties:</p>\n<p>add this code:</p>\n<p><strong>chrome116=116.0.5845.111\nchrome116-ttl=11:23:04 31/08/2023 CST</strong></p>\n<p>see photo for the example</p>\n<p><a href=\"https://i.stack.imgur.com/ghmjK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":6648808,"reputation":33,"user_id":5131762,"display_name":"박수지"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693481648,"creation_date":1437474878,"question_id":31536660,"body_markdown":"I wrote code like this but this code isn&#39;t running the chromedriver and i have added the file(chromedriver.exe) with this path (\\\\chromedrive\\\\chromedriver.exe).\r\n\r\n\r\n\tpublic class Browser {\r\n\t\tprivate static WebDriver driver = new ChromeDriver();\r\n\t\r\n\t\tpublic static WebDriver driver() {\r\n\t\t\treturn driver;\r\n\t\t}\r\n\t\r\n\t\tpublic static void open(String url) {\r\n\t\t\tString path = System.getProperty(&quot;user.dir&quot;);\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,path + &quot;\\\\chromedrive\\\\chromedriver.exe&quot;);\r\n    \t\tdriver.manage().window().maximize();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t}\r\n\r\n.\r\n\r\n\tpublic class Page extends LoadableComponent&lt;Page&gt; {\r\n\t\r\n\t\tstatic String url = &quot;http://-------&quot;;\r\n\t\r\n\t\tprivate static String title = &quot;title&quot;;\r\n\t\r\n\t\tpublic Page() {\r\n\t\t\tPageFactory.initElements(Browser.driver(), this);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void load() {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tBrowser.open(url);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void isLoaded() throws Error {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tassertTrue(Browser.driver().getTitle().equals(title));\r\n\t\t}\r\n\t}\r\n.\r\n\r\n\tpublic class PageTests {\r\n\t\t@Test\r\n\t\tpublic void pageTest() {\r\n\t\t\tPage page = new Page();\r\n\t\t\tpage.get();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThe error message is:\r\n\r\n\r\n\r\n&gt; java.lang.ExceptionInInitializerError\r\n&gt; \r\n&gt; Caused by: java.lang.IllegalStateException: The path to the driver\r\n&gt; executable must be set by the webdriver.chrome.driver system property;\r\n\r\n","title":"ChromeDriver Will not run (Selenium Webdriver)","body":"<p>I wrote code like this but this code isn't running the chromedriver and i have added the file(chromedriver.exe) with this path (\\chromedrive\\chromedriver.exe).</p>\n\n<pre><code>public class Browser {\n    private static WebDriver driver = new ChromeDriver();\n\n    public static WebDriver driver() {\n        return driver;\n    }\n\n    public static void open(String url) {\n        String path = System.getProperty(\"user.dir\");\n        System.setProperty(\"webdriver.chrome.driver\",path + \"\\\\chromedrive\\\\chromedriver.exe\");\n        driver.manage().window().maximize();\n        driver.get(url);\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public class Page extends LoadableComponent&lt;Page&gt; {\n\n    static String url = \"http://-------\";\n\n    private static String title = \"title\";\n\n    public Page() {\n        PageFactory.initElements(Browser.driver(), this);\n    }\n\n    @Override\n    protected void load() {\n        // TODO Auto-generated method stub\n        Browser.open(url);\n    }\n\n    @Override\n    protected void isLoaded() throws Error {\n        // TODO Auto-generated method stub\n        assertTrue(Browser.driver().getTitle().equals(title));\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public class PageTests {\n    @Test\n    public void pageTest() {\n        Page page = new Page();\n        page.get();\n    }\n}\n</code></pre>\n\n<p>The error message is:</p>\n\n<blockquote>\n  <p>java.lang.ExceptionInInitializerError</p>\n  \n  <p>Caused by: java.lang.IllegalStateException: The path to the driver\n  executable must be set by the webdriver.chrome.driver system property;</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-data-neo4j"],"owner":{"account_id":4933158,"reputation":70,"user_id":3972225,"accept_rate":100,"display_name":"P J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693481147,"creation_date":1693481147,"question_id":77015377,"body_markdown":"pom.xml contains \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-ogm-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.6&lt;/version&gt; &lt;!-- Use the appropriate version --&gt;\r\n        &lt;/dependency&gt;\r\n   \r\n\r\nIn service \r\n\r\n    private final Neo4jOperations neo4jOperations;\r\n    public GraphInitService(Neo4jOperations neo4jOperations) {\r\n        this.neo4jOperations = neo4jOperations;\r\n    }\r\n       private void execute(String query) {\r\n        return neo4jOperations.query(query);\r\n    }\r\nbut am getting error as Cannot resolve method &#39;query&#39; in &#39;Neo4jOperations&#39;\r\nAm I doing something wrong","title":"Cannot resolve method &#39;query&#39; in &#39;Neo4jOperations&#39;","body":"<p>pom.xml contains</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n        &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n        &lt;artifactId&gt;neo4j-ogm-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.6&lt;/version&gt; &lt;!-- Use the appropriate version --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In service</p>\n<pre><code>private final Neo4jOperations neo4jOperations;\npublic GraphInitService(Neo4jOperations neo4jOperations) {\n    this.neo4jOperations = neo4jOperations;\n}\n   private void execute(String query) {\n    return neo4jOperations.query(query);\n}\n</code></pre>\n<p>but am getting error as Cannot resolve method 'query' in 'Neo4jOperations'\nAm I doing something wrong</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1693441745,"post_id":77012197,"comment_id":135763021,"body_markdown":"Package names should be lower case, class names should start with upper case. Change your class names.","body":"Package names should be lower case, class names should start with upper case. Change your class names."},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693442042,"post_id":77012197,"comment_id":135763036,"body_markdown":"As you know in Java, the dot operator is used to access members of a class or package. When you use ```a.c```, Java first looks for a class ```c``` in package ```a```, if it can&#39;t find one, it looks for a class ```a``` with a menber ```c```. Since there is a class ```a``` with a member class ```c``` in package ```d```, then Java macths ```a.c``` to the inner class ```a``` with member ```c```.","body":"As you know in Java, the dot operator is used to access members of a class or package. When you use <code>a.c</code>, Java first looks for a class <code>c</code> in package <code>a</code>, if it can&#39;t find one, it looks for a class <code>a</code> with a menber <code>c</code>. Since there is a class <code>a</code> with a member class <code>c</code> in package <code>d</code>, then Java macths <code>a.c</code> to the inner class <code>a</code> with member <code>c</code>."},{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":0,"creation_date":1693447053,"post_id":77012197,"comment_id":135763369,"body_markdown":"@esQmo_ any solution without changing names?","body":"@esQmo_ any solution without changing names?"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693447344,"post_id":77012197,"comment_id":135763396,"body_markdown":"To access the class ```c``` in package ```a```, you can use the fully qualified name of the class, which includes its package","body":"To access the class <code>c</code> in package <code>a</code>, you can use the fully qualified name of the class, which includes its package"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1693454857,"post_id":77012197,"comment_id":135763961,"body_markdown":"This doesn&#39;t _ever_ occur in any relevant real world scenario. Or, if somehow it did, the fix is to stop using the deplorably-unconventionally-named library if you can&#39;t change the code inside it, or change it if you can.","body":"This doesn&#39;t <i>ever</i> occur in any relevant real world scenario. Or, if somehow it did, the fix is to stop using the deplorably-unconventionally-named library if you can&#39;t change the code inside it, or change it if you can."},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693482114,"post_id":77012197,"comment_id":135768537,"body_markdown":"After your edit, I&#39;m tempted to ask if the code is not decompiled from an obfuscated source?","body":"After your edit, I&#39;m tempted to ask if the code is not decompiled from an obfuscated source?"}],"answers":[{"comments":[{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":1,"creation_date":1693446992,"post_id":77012244,"comment_id":135763364,"body_markdown":"it doesn&#39;t make sense","body":"it doesn&#39;t make sense"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1693448380,"post_id":77012244,"comment_id":135763477,"body_markdown":"It doesn&#39;t, this isn&#39;t a salvagable answer.","body":"It doesn&#39;t, this isn&#39;t a salvagable answer."}],"tags":[],"owner":{"account_id":28504524,"reputation":1,"user_id":21815344,"display_name":"Muhamed Elockly"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1693442165,"creation_date":1693442165,"answer_id":77012244,"question_id":77012197,"body_markdown":"You can achieve this by importing the class c from the package d into the package a. To do this, add the following import statement to the top of the class file in the package a\r\n\r\nimport d.c;","title":"Conflict between Class Name and Package Name in Java","body":"<p>You can achieve this by importing the class c from the package d into the package a. To do this, add the following import statement to the top of the class file in the package a</p>\n<p>import d.c;</p>\n"},{"comments":[{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":0,"creation_date":1693480434,"post_id":77012494,"comment_id":135768177,"body_markdown":"Let me change your code a bit according to mine\n\npackage animal;\npublic class lion {\n}\n\n\npackage zoo; \npublic class animal {\n    public class lion {\n    }\n}\n\nI am well aware of the naming conventions, but I am in a situation where I am not allowed to edit class or package names. They are all written in lowercase letters, and the package is simply a single word.","body":"Let me change your code a bit according to mine  package animal; public class lion { }   package zoo;  public class animal {     public class lion {     } }  I am well aware of the naming conventions, but I am in a situation where I am not allowed to edit class or package names. They are all written in lowercase letters, and the package is simply a single word."},{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":0,"creation_date":1693480711,"post_id":77012494,"comment_id":135768235,"body_markdown":"also edited on my question","body":"also edited on my question"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693482182,"post_id":77012494,"comment_id":135768551,"body_markdown":"I understand that. Did using fully qualified name solve your issue? Or just to be curious is the code coming from an obfuscated decompiled source?","body":"I understand that. Did using fully qualified name solve your issue? Or just to be curious is the code coming from an obfuscated decompiled source?"},{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":0,"creation_date":1693487331,"post_id":77012494,"comment_id":135769666,"body_markdown":"yes, it is from decompiled source","body":"yes, it is from decompiled source"},{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":0,"creation_date":1693487395,"post_id":77012494,"comment_id":135769685,"body_markdown":"using animal.lion doesn&#39;t work","body":"using animal.lion doesn&#39;t work"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1693487580,"post_id":77012494,"comment_id":135769721,"body_markdown":"Well, because this is decompiled from an obfuscated code, many things will not make sense; You&#39;ll need to make your own package and put the classes in there. The original code didn&#39;t have that structure","body":"Well, because this is decompiled from an obfuscated code, many things will not make sense; You&#39;ll need to make your own package and put the classes in there. The original code didn&#39;t have that structure"},{"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"score":0,"creation_date":1693559300,"post_id":77012494,"comment_id":135780106,"body_markdown":"I see, I wonder if there is any solution for this issue though, as I guessed it isn&#39;t","body":"I see, I wonder if there is any solution for this issue though, as I guessed it isn&#39;t"}],"tags":[],"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693448238,"creation_date":1693448238,"answer_id":77012494,"question_id":77012197,"body_markdown":"Continuing from the comment, let&#39;s consider a real world scenario (using a, c, d... can be tough and misleading):\r\n\r\n```java\r\n\r\npackage com.example.animals; // com/example/animals/Lion.java\r\npublic class Lion {\r\n}\r\n\r\n\r\npackage com.example.zoo; // com/example/zoo/Zoo.java\r\npublic class Zoo {\r\n    public class Lion {\r\n    }\r\n}\r\n```\r\n\r\nIf you want to create an instance of the Lion class from com;example.animals and there is a Lion class in com.example.zoo package, you can do something like:\r\n\r\n```java\r\n\r\ncom.example.zoo.Zoo.Lion zooLion = new com.example.zoo.Zoo().new Lion(); // This refers to the inner class Lion of class Zoo in package com.example.zoo\r\n\r\n// To refer to the class Lion in package com.example.animals, use the fully qualified name\r\ncom.example.animals.Lion animalsLion = new com.example.animals.Lion();\r\n```","title":"Conflict between Class Name and Package Name in Java","body":"<p>Continuing from the comment, let's consider a real world scenario (using a, c, d... can be tough and misleading):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.animals; // com/example/animals/Lion.java\npublic class Lion {\n}\n\n\npackage com.example.zoo; // com/example/zoo/Zoo.java\npublic class Zoo {\n    public class Lion {\n    }\n}\n</code></pre>\n<p>If you want to create an instance of the Lion class from com;example.animals and there is a Lion class in com.example.zoo package, you can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ncom.example.zoo.Zoo.Lion zooLion = new com.example.zoo.Zoo().new Lion(); // This refers to the inner class Lion of class Zoo in package com.example.zoo\n\n// To refer to the class Lion in package com.example.animals, use the fully qualified name\ncom.example.animals.Lion animalsLion = new com.example.animals.Lion();\n</code></pre>\n"}],"owner":{"account_id":6685736,"reputation":988,"user_id":5157066,"accept_rate":0,"display_name":"Hai Hack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693480340,"creation_date":1693441116,"question_id":77012197,"body_markdown":"In the context of the following code:\r\n\r\n    package animal; \r\n    public class lion {\r\n    }\r\n    \r\n    \r\n    package zoo; \r\n    public class animal {\r\n        public class lion {\r\n        }\r\n    }\r\n\r\nWhen I use &#39;animal.lion&#39; to declare and instantiate an object \r\n\r\n    animal.lion cub = new animal.lion()\r\n\r\nAndroid Studio is recognizing the class &#39;lion&#39; from package &#39;zoo&#39;. However, I intend to access the class &#39;lion&#39; from package &#39;animal&#39;. How can I achieve this **without needing to change the package names or class names**?\r\n\r\nEdit: I am well aware of the naming conventions, but I am in a situation where I am not allowed to edit class or package names. They are all written in lowercase letters, and the package is simply a single word.","title":"Conflict between Class Name and Package Name in Java","body":"<p>In the context of the following code:</p>\n<pre><code>package animal; \npublic class lion {\n}\n\n\npackage zoo; \npublic class animal {\n    public class lion {\n    }\n}\n</code></pre>\n<p>When I use 'animal.lion' to declare and instantiate an object</p>\n<pre><code>animal.lion cub = new animal.lion()\n</code></pre>\n<p>Android Studio is recognizing the class 'lion' from package 'zoo'. However, I intend to access the class 'lion' from package 'animal'. How can I achieve this <strong>without needing to change the package names or class names</strong>?</p>\n<p>Edit: I am well aware of the naming conventions, but I am in a situation where I am not allowed to edit class or package names. They are all written in lowercase letters, and the package is simply a single word.</p>\n"},{"tags":["java","spring-boot","exception","http-status-code-406"],"owner":{"account_id":24293263,"reputation":1,"user_id":18237887,"display_name":"1449piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693480290,"creation_date":1693388420,"question_id":77006795,"body_markdown":"When I add `&quot;Accept&quot;: &quot;application/xml&quot;` in the HTTP headers, my application returns empty content and `HttpMediaTypeNotAcceptableException` in the console. I don&#39;t know how to handle it to get a response like this:\r\n \r\n```json\r\n{\r\n    &quot;status&quot;: 406,\r\n    &quot;message&quot;: &quot;{message}&quot;\r\n}\r\n```\r\n\r\nHere is the controller class I try to catch this error in, but this does not work. I was also trying to use `@ExceptionHandler` annotation but it also doesn&#39;t seem to work. \r\n\r\n```java\r\npackage com.example.zadanie.controller;\r\n\r\nimport com.example.zadanie.model.ErrorModel;\r\nimport com.example.zadanie.model.RepoModel;\r\nimport com.example.zadanie.service.RepoService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.HttpStatusCode;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.HttpMediaTypeException;\r\nimport org.springframework.web.HttpMediaTypeNotAcceptableException;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\n\r\nimport java.util.List;\r\n\r\n@org.springframework.stereotype.Controller\r\npublic class Controller {\r\n    private RepoService repoService;\r\n\r\n    @Autowired\r\n    public Controller(RepoService repoService) {\r\n        this.repoService = repoService;\r\n    }\r\n\r\n    @GetMapping(&quot;/{username}&quot;)\r\n    public ResponseEntity&lt;List&lt;RepoModel&gt;&gt; getRepoList(@PathVariable String username) {\r\n        try {\r\n            return new ResponseEntity(repoService.repoModels(username), HttpStatus.OK);\r\n        }\r\n        catch (HttpClientErrorException e) {\r\n            ErrorModel errorModel = new ErrorModel(e.getStatusCode().value(), &quot;user does not exist&quot;);\r\n            return new ResponseEntity(errorModel, HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n//    @GetMapping\r\n//    @ExceptionHandler(HttpMediaTypeNotAcceptableException.class)\r\n//    public ResponseEntity httpMediaTypeNotAcceptableExceptionHandler(){\r\n//        return new ResponseEntity(new ErrorModel(HttpStatus.NOT_ACCEPTABLE.value(), &quot;this application accept only json response&quot;),HttpStatus.NOT_ACCEPTABLE);\r\n//    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Service class**\r\n\r\nHere I download repos from github with its APIs.\r\n\r\n\r\n```java\r\npackage com.example.zadanie.service;\r\n\r\nimport com.example.zadanie.model.RepoModel;\r\nimport com.example.zadanie.model.ResponseModel;\r\nimport org.springframework.http.HttpStatusCode;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class RepoService {\r\n\r\n    public List&lt;ResponseModel&gt; repoModels(String username){\r\n        List&lt;ResponseModel&gt; responseModelList = new ArrayList&lt;&gt;();\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n            RepoModel[] repoModels = restTemplate.getForObject(&quot;https://api.github.com/users/&quot; + username + &quot;/repos&quot;, RepoModel[].class);\r\n            for (RepoModel repoModel : repoModels) {\r\n                ResponseModel responseModel = new ResponseModel();\r\n                responseModel.setName(repoModel.getName());\r\n                responseModel.setLogin(repoModel.getOwner().getLogin());\r\n                responseModelList.add(responseModel);\r\n            }\r\n            return responseModelList;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**ErrorModel class**\r\n\r\n\r\n\r\n```java\r\npackage com.example.zadanie.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.HttpStatusCode;\r\n\r\npublic class ErrorModel {\r\n    @JsonProperty(&quot;status&quot;)\r\n    private int httpStatusCode;\r\n    @JsonProperty(&quot;message&quot;)\r\n    private String message;\r\n\r\n    public ErrorModel() {\r\n    }\r\n\r\n    public ErrorModel(int httpStatusCode, String message) {\r\n        this.httpStatusCode = httpStatusCode;\r\n        this.message = message;\r\n    }\r\n\r\n    public int getHttpStatusCode() {\r\n        return httpStatusCode;\r\n    }\r\n\r\n    public void setHttpStatusCode(int httpStatusCode) {\r\n        this.httpStatusCode = httpStatusCode;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ErrorModel{&quot; +\r\n                &quot;httpStatusCode=&quot; + httpStatusCode +\r\n                &quot;, message=&#39;&quot; + message + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nHow can I handle this exception the right way, and get an output formatted like shown earlier?\r\n","title":"How to handle HttpMediaTypeNotAcceptableException in Java SpringBoot?","body":"<p>When I add <code>&quot;Accept&quot;: &quot;application/xml&quot;</code> in the HTTP headers, my application returns empty content and <code>HttpMediaTypeNotAcceptableException</code> in the console. I don't know how to handle it to get a response like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: 406,\n    &quot;message&quot;: &quot;{message}&quot;\n}\n</code></pre>\n<p>Here is the controller class I try to catch this error in, but this does not work. I was also trying to use <code>@ExceptionHandler</code> annotation but it also doesn't seem to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.zadanie.controller;\n\nimport com.example.zadanie.model.ErrorModel;\nimport com.example.zadanie.model.RepoModel;\nimport com.example.zadanie.service.RepoService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.HttpStatusCode;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.HttpMediaTypeException;\nimport org.springframework.web.HttpMediaTypeNotAcceptableException;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.client.HttpClientErrorException;\n\nimport java.util.List;\n\n@org.springframework.stereotype.Controller\npublic class Controller {\n    private RepoService repoService;\n\n    @Autowired\n    public Controller(RepoService repoService) {\n        this.repoService = repoService;\n    }\n\n    @GetMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;List&lt;RepoModel&gt;&gt; getRepoList(@PathVariable String username) {\n        try {\n            return new ResponseEntity(repoService.repoModels(username), HttpStatus.OK);\n        }\n        catch (HttpClientErrorException e) {\n            ErrorModel errorModel = new ErrorModel(e.getStatusCode().value(), &quot;user does not exist&quot;);\n            return new ResponseEntity(errorModel, HttpStatus.NOT_FOUND);\n        }\n    }\n\n//    @GetMapping\n//    @ExceptionHandler(HttpMediaTypeNotAcceptableException.class)\n//    public ResponseEntity httpMediaTypeNotAcceptableExceptionHandler(){\n//        return new ResponseEntity(new ErrorModel(HttpStatus.NOT_ACCEPTABLE.value(), &quot;this application accept only json response&quot;),HttpStatus.NOT_ACCEPTABLE);\n//    }\n}\n\n</code></pre>\n<p><strong>Service class</strong></p>\n<p>Here I download repos from github with its APIs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.zadanie.service;\n\nimport com.example.zadanie.model.RepoModel;\nimport com.example.zadanie.model.ResponseModel;\nimport org.springframework.http.HttpStatusCode;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class RepoService {\n\n    public List&lt;ResponseModel&gt; repoModels(String username){\n        List&lt;ResponseModel&gt; responseModelList = new ArrayList&lt;&gt;();\n        RestTemplate restTemplate = new RestTemplate();\n\n            RepoModel[] repoModels = restTemplate.getForObject(&quot;https://api.github.com/users/&quot; + username + &quot;/repos&quot;, RepoModel[].class);\n            for (RepoModel repoModel : repoModels) {\n                ResponseModel responseModel = new ResponseModel();\n                responseModel.setName(repoModel.getName());\n                responseModel.setLogin(repoModel.getOwner().getLogin());\n                responseModelList.add(responseModel);\n            }\n            return responseModelList;\n    }\n\n\n}\n\n</code></pre>\n<p><strong>ErrorModel class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.zadanie.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.HttpStatusCode;\n\npublic class ErrorModel {\n    @JsonProperty(&quot;status&quot;)\n    private int httpStatusCode;\n    @JsonProperty(&quot;message&quot;)\n    private String message;\n\n    public ErrorModel() {\n    }\n\n    public ErrorModel(int httpStatusCode, String message) {\n        this.httpStatusCode = httpStatusCode;\n        this.message = message;\n    }\n\n    public int getHttpStatusCode() {\n        return httpStatusCode;\n    }\n\n    public void setHttpStatusCode(int httpStatusCode) {\n        this.httpStatusCode = httpStatusCode;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ErrorModel{&quot; +\n                &quot;httpStatusCode=&quot; + httpStatusCode +\n                &quot;, message='&quot; + message + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>How can I handle this exception the right way, and get an output formatted like shown earlier?</p>\n"},{"tags":["java","function","return-value","wicket","return-type"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692985833,"post_id":76979493,"comment_id":135704856,"body_markdown":"Please put `FormComponent` and `ComboCustom` classes in the question.","body":"Please put <code>FormComponent</code> and <code>ComboCustom</code> classes in the question."}],"answers":[{"comments":[{"owner":{"account_id":15153471,"reputation":77,"user_id":10935093,"display_name":"Diogo Cruz"},"score":0,"creation_date":1693494410,"post_id":77015123,"comment_id":135771382,"body_markdown":"So, how can I return a textfield + combocustom?","body":"So, how can I return a textfield + combocustom?"},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1693550057,"post_id":77015123,"comment_id":135778402,"body_markdown":"Since Java does not support tuples out of the box, e.g. `(formComponent, choiceRenderer)` you could return an `Object[]` or a custom Tuple/Pair class that holds the form component and the choice renderer.","body":"Since Java does not support tuples out of the box, e.g. <code>(formComponent, choiceRenderer)</code> you could return an <code>Object[]</code> or a custom Tuple/Pair class that holds the form component and the choice renderer."}],"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693478961,"creation_date":1693478961,"answer_id":77015123,"question_id":76979493,"body_markdown":"`ComboCustom` seems to be an implementation of [IChoiceRenderer][1]. It is not really a [FormComponent][2]\r\n\r\n\r\n  [1]: https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/IChoiceRenderer.java#L42\r\n  [2]: https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/FormComponent.java","title":"How can I return different values in a FormComponent method?","body":"<p><code>ComboCustom</code> seems to be an implementation of <a href=\"https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/IChoiceRenderer.java#L42\" rel=\"nofollow noreferrer\">IChoiceRenderer</a>. It is not really a <a href=\"https://github.com/apache/wicket/blob/b0c7d49bba73024ea0d1f6917e2f1437934cb6ae/wicket-core/src/main/java/org/apache/wicket/markup/html/form/FormComponent.java\" rel=\"nofollow noreferrer\">FormComponent</a></p>\n"}],"owner":{"account_id":15153471,"reputation":77,"user_id":10935093,"display_name":"Diogo Cruz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693478961,"creation_date":1692985358,"question_id":76979493,"body_markdown":"I have this method that is going to create 2 textfields and a combobox. \r\nBut I have a problem returning the different values because it gives me an error that &quot;Type mismatch: cannot convert from ComboCustom&lt;EqpMarca&gt; to FormComponent&lt;?&gt;&quot;\r\n\r\nThe 2 textfields work great, but I don&#180;t understand why the combobox doesn&#180;t and how to make it work.\r\nThanks in advance.\r\n\r\n```\r\n\tprivate static FormComponent&lt;?&gt;[] criaComponentes(FiltroListaEquipamentosASerSubstituido2 filtro) {\r\n\t\t\r\n\t\t\r\n\t\tComboCustom&lt;EqpMarca&gt; marca = new ComboCustom&lt;EqpMarca&gt;(&quot;marca&quot;, new PropertyModel&lt;EqpMarca&gt;(filtro, &quot;marca&quot;), list, new ChoiceRenderer&lt;EqpMarca&gt;() {\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String getDisplayValue(EqpMarca est) {\r\n\t\t\t\treturn est.getDesignacao();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String getIdValue(EqpMarca est, int arg) {\r\n\t\t\t\treturn String.valueOf(est.getIdMarca());\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tmarca.add(new AjaxFormComponentUpdatingBehavior(HtmlTag.ONCHANGE) {\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onUpdate(AjaxRequestTarget target) {\r\n\t\t\t\ttarget.add(marca);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn new FormComponent&lt;?&gt;[] {\r\n\t\t\tnew TextField&lt;String&gt;(&quot;nome&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;nome&quot;)),\r\n\t\t\tmarca,\r\n\t\t\tnew TextField&lt;String&gt;(&quot;modelo&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;modelo&quot;))\r\n\t\t};\r\n\t\t\r\n\t}\r\n```","title":"How can I return different values in a FormComponent method?","body":"<p>I have this method that is going to create 2 textfields and a combobox.\nBut I have a problem returning the different values because it gives me an error that &quot;Type mismatch: cannot convert from ComboCustom to FormComponent&lt;?&gt;&quot;</p>\n<p>The 2 textfields work great, but I don´t understand why the combobox doesn´t and how to make it work.\nThanks in advance.</p>\n<pre><code>    private static FormComponent&lt;?&gt;[] criaComponentes(FiltroListaEquipamentosASerSubstituido2 filtro) {\n        \n        \n        ComboCustom&lt;EqpMarca&gt; marca = new ComboCustom&lt;EqpMarca&gt;(&quot;marca&quot;, new PropertyModel&lt;EqpMarca&gt;(filtro, &quot;marca&quot;), list, new ChoiceRenderer&lt;EqpMarca&gt;() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public String getDisplayValue(EqpMarca est) {\n                return est.getDesignacao();\n            }\n\n            @Override\n            public String getIdValue(EqpMarca est, int arg) {\n                return String.valueOf(est.getIdMarca());\n            }\n        });\n        \n        \n        marca.add(new AjaxFormComponentUpdatingBehavior(HtmlTag.ONCHANGE) {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            protected void onUpdate(AjaxRequestTarget target) {\n                target.add(marca);\n            }\n        });\n        \n        return new FormComponent&lt;?&gt;[] {\n            new TextField&lt;String&gt;(&quot;nome&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;nome&quot;)),\n            marca,\n            new TextField&lt;String&gt;(&quot;modelo&quot;, new PropertyModel&lt;String&gt;(filtro, &quot;modelo&quot;))\n        };\n        \n    }\n</code></pre>\n"},{"tags":["java","sorting","dictionary","collections"],"comments":[{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":32,"creation_date":1391967282,"post_id":109383,"comment_id":32742299,"body_markdown":"A map is not meant to be sorted, but accessed fast. Object equal values break the constraint of the map. Use the entry set, like `List&lt;Map.Entry&lt;...&gt;&gt; list =new LinkedList(map.entrySet())` and `Collections.sort ....` it that way.","body":"A map is not meant to be sorted, but accessed fast. Object equal values break the constraint of the map. Use the entry set, like <code>List&lt;Map.Entry&lt;...&gt;&gt; list =new LinkedList(map.entrySet())</code> and <code>Collections.sort ....</code> it that way."},{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":2,"creation_date":1513886638,"post_id":109383,"comment_id":82832976,"body_markdown":"A case where this might arise when we try to make use of a Counter in Java (Map&lt;Object, Integer&gt;).  Sorting by number of occurrences would then be a common operation.  A language like Python has a built in Counter data structure.  For an alternate way of implementation in Java, [here](https://introcs.cs.princeton.edu/java/33design/Counter.java.html) is an example","body":"A case where this might arise when we try to make use of a Counter in Java (Map&lt;Object, Integer&gt;).  Sorting by number of occurrences would then be a common operation.  A language like Python has a built in Counter data structure.  For an alternate way of implementation in Java, <a href=\"https://introcs.cs.princeton.edu/java/33design/Counter.java.html\" rel=\"nofollow noreferrer\">here</a> is an example"},{"owner":{"account_id":4788875,"reputation":1284,"user_id":3868605,"accept_rate":62,"display_name":"alobodzk"},"score":14,"creation_date":1524424245,"post_id":109383,"comment_id":86955407,"body_markdown":"There are plenty of use cases for sorted maps, that&#39;s why you have TreeMap and ConcurrentSkipListMap in jdk.","body":"There are plenty of use cases for sorted maps, that&#39;s why you have TreeMap and ConcurrentSkipListMap in jdk."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1563878225,"post_id":109383,"comment_id":100838237,"body_markdown":"See also https://stackoverflow.com/questions/7860822/sorting-hashmap-based-on-keys","body":"See also <a href=\"https://stackoverflow.com/questions/7860822/sorting-hashmap-based-on-keys\" title=\"sorting hashmap based on keys\">stackoverflow.com/questions/7860822/&hellip;</a>"},{"owner":{"account_id":1144688,"reputation":343,"user_id":1127720,"display_name":"Peter"},"score":8,"creation_date":1588076908,"post_id":109383,"comment_id":108755607,"body_markdown":"TreeMap and ConcurrentSkipListMap sort by key. The question is about sorting by value.","body":"TreeMap and ConcurrentSkipListMap sort by key. The question is about sorting by value."},{"owner":{"account_id":7165027,"reputation":2330,"user_id":5937230,"accept_rate":90,"display_name":"rococo"},"score":3,"creation_date":1626072358,"post_id":109383,"comment_id":120785024,"body_markdown":"I&#39;d like to add that *depending on your use case*, it may be reasonable to simply keep a duplicate TreeMap that maps your value to your keys. For example, your regular map may have &quot;a&quot; -&gt; 5, &quot;b&quot; -&gt; 7&quot;. And your &quot;sorted&quot; map can have 5 -&gt; &quot;a&quot;, 7 -&gt; &quot;b&quot;. You would just use whichever map is appropriate in different places and make an effort to always modify the two maps together. It&#39;s not pretty and there are many caveats and assumptions, but for *some* cases it can be a straightforward and efficient answer compared to all the top answers here which rely on actively sorting your values.","body":"I&#39;d like to add that <i>depending on your use case</i>, it may be reasonable to simply keep a duplicate TreeMap that maps your value to your keys. For example, your regular map may have &quot;a&quot; -&gt; 5, &quot;b&quot; -&gt; 7&quot;. And your &quot;sorted&quot; map can have 5 -&gt; &quot;a&quot;, 7 -&gt; &quot;b&quot;. You would just use whichever map is appropriate in different places and make an effort to always modify the two maps together. It&#39;s not pretty and there are many caveats and assumptions, but for <i>some</i> cases it can be a straightforward and efficient answer compared to all the top answers here which rely on actively sorting your values."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1657306103,"post_id":109383,"comment_id":128787497,"body_markdown":"@Hannes [`NavigableMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html) and [`SortedMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html) want to have a word with you.","body":"@Hannes <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a> want to have a word with you."}],"answers":[{"comments":[{"owner":{"account_id":54451,"reputation":8858,"user_id":162895,"accept_rate":100,"display_name":"Dimitris Andreou"},"score":16,"creation_date":1270732415,"post_id":109389,"comment_id":2608823,"body_markdown":"The list to be sorted is &quot;new LinkedList&quot;?? Gee. Thankfully Collections.sort() dump the list to an array first, to avoid precisely this kind of error (but still, dumping an ArrayList to an array should be faster than doing the same for a LinkedList).","body":"The list to be sorted is &quot;new LinkedList&quot;?? Gee. Thankfully Collections.sort() dump the list to an array first, to avoid precisely this kind of error (but still, dumping an ArrayList to an array should be faster than doing the same for a LinkedList)."},{"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"score":0,"creation_date":1307118675,"post_id":109389,"comment_id":7258529,"body_markdown":"cannot convert from Iterator to TernaryTree.Iterator","body":"cannot convert from Iterator to TernaryTree.Iterator"},{"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"score":0,"creation_date":1338338993,"post_id":109389,"comment_id":14065330,"body_markdown":"why use Collections.sort if there is Arrays.sort? see my answer for more details","body":"why use Collections.sort if there is Arrays.sort? see my answer for more details"},{"owner":{"account_id":2031274,"reputation":4019,"user_id":1814909,"accept_rate":74,"display_name":"kaspersky"},"score":0,"creation_date":1354101335,"post_id":109389,"comment_id":18649428,"body_markdown":"@DimitrisAndreou, why is it bad to sort a linkedlist?","body":"@DimitrisAndreou, why is it bad to sort a linkedlist?"},{"owner":{"account_id":54451,"reputation":8858,"user_id":162895,"accept_rate":100,"display_name":"Dimitris Andreou"},"score":6,"creation_date":1354217387,"post_id":109389,"comment_id":18700198,"body_markdown":"@gg.kaspersky I&#39;m not saying &quot;it&#39;s bad to sort a LinkedList&quot;, but that LinkedList itself is a bad choice here, regardless of sorting. \n\n_Much_ better to use an ArrayList, and for extra points, size it at exactly map.size().\n\nAlso see http://code.google.com/p/memory-measurer/wiki/ElementCostInDataStructures\n\naverage cost per element in ArrayList: 5 bytes\naverage cost per element in LinkedList: 24 bytes.\n\nFor an exactly sized ArrayList, the average cost would be 4 bytes. That is, LinkedList takes *SIX* times the amount of memory that ArrayList needs. It&#39;s just bloat","body":"@gg.kaspersky I&#39;m not saying &quot;it&#39;s bad to sort a LinkedList&quot;, but that LinkedList itself is a bad choice here, regardless of sorting.   <i>Much</i> better to use an ArrayList, and for extra points, size it at exactly map.size().  Also see <a href=\"http://code.google.com/p/memory-measurer/wiki/ElementCostInDataStructures\" rel=\"nofollow noreferrer\">code.google.com/p/memory-measurer/wiki/&hellip;</a>  average cost per element in ArrayList: 5 bytes average cost per element in LinkedList: 24 bytes.  For an exactly sized ArrayList, the average cost would be 4 bytes. That is, LinkedList takes <i>SIX</i> times the amount of memory that ArrayList needs. It&#39;s just bloat"},{"owner":{"account_id":3172683,"reputation":2295,"user_id":2681246,"accept_rate":55,"display_name":"ram"},"score":2,"creation_date":1429189798,"post_id":109389,"comment_id":47489025,"body_markdown":"using above values has been sorted in ascending order. How to sort in descending ?","body":"using above values has been sorted in ascending order. How to sort in descending ?"},{"owner":{"account_id":471094,"reputation":5249,"user_id":878672,"accept_rate":60,"display_name":"Soheil"},"score":1,"creation_date":1496693651,"post_id":109389,"comment_id":75754821,"body_markdown":"Replace o1 and o2 to sort descending.","body":"Replace o1 and o2 to sort descending."}],"tags":[],"owner":{"account_id":8772,"reputation":2726,"user_id":15950,"display_name":"devinmoore"},"comment_count":7,"down_vote_count":11,"up_vote_count":200,"is_accepted":false,"score":189,"last_activity_date":1465890667,"creation_date":1221944794,"answer_id":109389,"question_id":109383,"body_markdown":"From http://www.programmersheaven.com/download/49349/download.aspx\r\n\r\n    private static &lt;K, V&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\r\n\t\tList&lt;Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;&gt;(map.entrySet());\r\n\t\tCollections.sort(list, new Comparator&lt;Object&gt;() {\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tpublic int compare(Object o1, Object o2) {\r\n\t\t\t\treturn ((Comparable&lt;V&gt;) ((Map.Entry&lt;K, V&gt;) (o1)).getValue()).compareTo(((Map.Entry&lt;K, V&gt;) (o2)).getValue());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tMap&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\r\n\t\tfor (Iterator&lt;Entry&lt;K, V&gt;&gt; it = list.iterator(); it.hasNext();) {\r\n\t\t\tMap.Entry&lt;K, V&gt; entry = (Map.Entry&lt;K, V&gt;) it.next();\r\n\t\t\tresult.put(entry.getKey(), entry.getValue());\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>From <a href=\"http://www.programmersheaven.com/download/49349/download.aspx\" rel=\"noreferrer\">http://www.programmersheaven.com/download/49349/download.aspx</a></p>\n\n<pre><code>private static &lt;K, V&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\n    List&lt;Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;&gt;(map.entrySet());\n    Collections.sort(list, new Comparator&lt;Object&gt;() {\n        @SuppressWarnings(\"unchecked\")\n        public int compare(Object o1, Object o2) {\n            return ((Comparable&lt;V&gt;) ((Map.Entry&lt;K, V&gt;) (o1)).getValue()).compareTo(((Map.Entry&lt;K, V&gt;) (o2)).getValue());\n        }\n    });\n\n    Map&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\n    for (Iterator&lt;Entry&lt;K, V&gt;&gt; it = list.iterator(); it.hasNext();) {\n        Map.Entry&lt;K, V&gt; entry = (Map.Entry&lt;K, V&gt;) it.next();\n        result.put(entry.getKey(), entry.getValue());\n    }\n\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":534256,"reputation":5711,"user_id":904344,"accept_rate":74,"display_name":"NobleUplift"},"score":0,"creation_date":1461010035,"post_id":109396,"comment_id":60994428,"body_markdown":"I don&#39;t see why this was -1, so far LinkedHashMap is probably the best solution for me, I&#39;m just trying to figure out how expensive it is to throw away and create a new LinkedHashMap.","body":"I don&#39;t see why this was -1, so far LinkedHashMap is probably the best solution for me, I&#39;m just trying to figure out how expensive it is to throw away and create a new LinkedHashMap."}],"tags":[],"owner":{"account_id":6003,"reputation":7728,"user_id":9931,"accept_rate":94,"display_name":"Ryan Delucchi"},"comment_count":1,"down_vote_count":5,"up_vote_count":10,"is_accepted":false,"score":5,"last_activity_date":1221944869,"creation_date":1221944869,"answer_id":109396,"question_id":109383,"body_markdown":"Depending on the context, using `java.util.LinkedHashMap&lt;T&gt;` which rememebers the order in which items are placed into the map.  Otherwise, if you need to sort values based on their natural ordering, I would recommend maintaining a separate List which can be sorted via `Collections.sort()`.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Depending on the context, using <code>java.util.LinkedHashMap&lt;T&gt;</code> which rememebers the order in which items are placed into the map.  Otherwise, if you need to sort values based on their natural ordering, I would recommend maintaining a separate List which can be sorted via <code>Collections.sort()</code>.</p>\n"},{"comments":[{"owner":{"account_id":193,"reputation":390,"user_id":237,"display_name":"yoliho"},"score":0,"creation_date":1221970984,"post_id":109406,"comment_id":21268,"body_markdown":"You don&#39;t have to use the commons-collection.  Java comes with its own java.util.TreeMap.","body":"You don&#39;t have to use the commons-collection.  Java comes with its own java.util.TreeMap."},{"owner":{"account_id":9110,"reputation":1980,"user_id":16685,"accept_rate":83,"display_name":"p3t0r"},"score":2,"creation_date":1221977900,"post_id":109406,"comment_id":21341,"body_markdown":"yes, but TreeMap is far less flexible when sorting on the _value_ part of the mapentries.","body":"yes, but TreeMap is far less flexible when sorting on the <i>value</i> part of the mapentries."},{"owner":{"account_id":139782,"reputation":1446,"user_id":345600,"accept_rate":90,"display_name":"Doug"},"score":10,"creation_date":1279914555,"post_id":109406,"comment_id":3443816,"body_markdown":"The trouble with BidiMap is that it adds a 1:1 relation constraint between keys and values in order to make the relation invertible (ie. both keys and values need to be unique).  This means you can&#39;t use this to store something like a word count object since many words will have the same count.","body":"The trouble with BidiMap is that it adds a 1:1 relation constraint between keys and values in order to make the relation invertible (ie. both keys and values need to be unique).  This means you can&#39;t use this to store something like a word count object since many words will have the same count."}],"tags":[],"owner":{"account_id":9110,"reputation":1980,"user_id":16685,"accept_rate":83,"display_name":"p3t0r"},"comment_count":3,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1306781991,"creation_date":1221945031,"answer_id":109406,"question_id":109383,"body_markdown":"The commons-collections library contains a solution called [TreeBidiMap][1]. Or, you could have a look at the Google Collections API. It has [TreeMultimap][2] which you could use.\r\n\r\nAnd if you don&#39;t want to use these framework... they come with source code.\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/bidimap/TreeBidiMap.html\r\n  [2]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultimap.html\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>The commons-collections library contains a solution called <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/bidimap/TreeBidiMap.html\" rel=\"noreferrer\">TreeBidiMap</a>. Or, you could have a look at the Google Collections API. It has <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultimap.html\" rel=\"noreferrer\">TreeMultimap</a> which you could use.</p>\n\n<p>And if you don't want to use these framework... they come with source code.</p>\n"},{"comments":[{"owner":{"account_id":1907,"reputation":23510,"user_id":2628,"accept_rate":86,"display_name":"Aaron"},"score":1,"creation_date":1222025228,"post_id":109407,"comment_id":22036,"body_markdown":"Agreed. Simple and makes sense when compared to other submissions here. I&#39;m not sure why everyone else is suggesting more complicated ways to solve this when Collections already has it done for you.","body":"Agreed. Simple and makes sense when compared to other submissions here. I&#39;m not sure why everyone else is suggesting more complicated ways to solve this when Collections already has it done for you."},{"owner":{"account_id":6138,"reputation":9524,"user_id":10204,"display_name":"gregory"},"score":20,"creation_date":1224508937,"post_id":109407,"comment_id":87764,"body_markdown":"The reason is that this doesn&#39;t solve the problem. It sorts the values all right, but it throws away the keys. What the question asked for was a way to sort the map, meaning that the keys and values should still be linked.","body":"The reason is that this doesn&#39;t solve the problem. It sorts the values all right, but it throws away the keys. What the question asked for was a way to sort the map, meaning that the keys and values should still be linked."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":3,"creation_date":1263132323,"post_id":109407,"comment_id":1962054,"body_markdown":"Won&#39;t work because you are just sorting a copy of the values, thus leaving the map untouched.","body":"Won&#39;t work because you are just sorting a copy of the values, thus leaving the map untouched."}],"tags":[],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":3,"down_vote_count":16,"up_vote_count":8,"is_accepted":false,"score":-8,"last_activity_date":1221945402,"creation_date":1221945036,"answer_id":109407,"question_id":109383,"body_markdown":"If your Map values implement Comparable (e.g. String), this should work\r\n\r\n    Map&lt;Object, String&gt; map = new HashMap&lt;Object, String&gt;();\r\n    // Populate the Map\r\n    List&lt;String&gt; mapValues = new ArrayList&lt;String&gt;(map.values());\r\n    Collections.sort(mapValues);\r\n\r\nIf the map values themselves don&#39;t implement Comparable, but you have an instance of Comparable that can sort them, replace the last line with this:\r\n\r\n    Collections.sort(mapValues, comparable);\r\n\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If your Map values implement Comparable (e.g. String), this should work</p>\n\n<pre><code>Map&lt;Object, String&gt; map = new HashMap&lt;Object, String&gt;();\n// Populate the Map\nList&lt;String&gt; mapValues = new ArrayList&lt;String&gt;(map.values());\nCollections.sort(mapValues);\n</code></pre>\n\n<p>If the map values themselves don't implement Comparable, but you have an instance of Comparable that can sort them, replace the last line with this:</p>\n\n<pre><code>Collections.sort(mapValues, comparable);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4470616,"reputation":1798,"user_id":3637043,"accept_rate":73,"display_name":"sitakant"},"score":0,"creation_date":1450178380,"post_id":109495,"comment_id":56317069,"body_markdown":"put  all the value in treeMap autometically they&#39;ll be sorted by its key using R-B Tree.","body":"put  all the value in treeMap autometically they&#39;ll be sorted by its key using R-B Tree."},{"owner":{"account_id":405625,"reputation":620,"user_id":774630,"display_name":"Hussein El Motayam"},"score":0,"creation_date":1499341277,"post_id":109495,"comment_id":76870665,"body_markdown":"The comparator passed to the TreeMap constructor compares the KEYS of the TreeMap instead of the VALUES.\n\nIn your example, it worked because sorting by keys is the same as sorting by values.\n\nThe full constructor is:\npublic TreeMap(Comparator&lt;? super K&gt; comparator)\nWhere it accepts decedents of K which is the key. For more refer to:\n\nhttp://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html#TreeMap(java.util.Comparator)","body":"The comparator passed to the TreeMap constructor compares the KEYS of the TreeMap instead of the VALUES.  In your example, it worked because sorting by keys is the same as sorting by values.  The full constructor is: public TreeMap(Comparator&lt;? super K&gt; comparator) Where it accepts decedents of K which is the key. For more refer to:  <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html#TreeMap(java.util.Comparator)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/&hellip;</a>"}],"tags":[],"owner":{"account_id":6878,"reputation":9611,"user_id":11705,"accept_rate":73,"display_name":"GHad"},"comment_count":2,"down_vote_count":6,"up_vote_count":4,"is_accepted":false,"score":-2,"last_activity_date":1306784642,"creation_date":1221946417,"answer_id":109495,"question_id":109383,"body_markdown":"For sorting upon the keys I found a better solution with a TreeMap (I will try to get a solution for value based sorting ready too):\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\r\n        unsorted.put(&quot;Cde&quot;, &quot;Cde_Value&quot;);\r\n        unsorted.put(&quot;Abc&quot;, &quot;Abc_Value&quot;);\r\n        unsorted.put(&quot;Bcd&quot;, &quot;Bcd_Value&quot;);\r\n\r\n        Comparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\r\n            @Override\r\n            public int compare(String o1, String o2) {\r\n                return o1.compareTo(o2);\r\n            }};\r\n\r\n        Map&lt;String, String&gt; sorted = new TreeMap&lt;String, String&gt;(comparer);\r\n        sorted.putAll(unsorted);\r\n        System.out.println(sorted);\r\n    }\r\n\r\nOutput would be:\r\n\r\n{Abc=Abc_Value, Bcd=Bcd_Value, Cde=Cde_Value}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>For sorting upon the keys I found a better solution with a TreeMap (I will try to get a solution for value based sorting ready too):</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\n    unsorted.put(\"Cde\", \"Cde_Value\");\n    unsorted.put(\"Abc\", \"Abc_Value\");\n    unsorted.put(\"Bcd\", \"Bcd_Value\");\n\n    Comparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\n        @Override\n        public int compare(String o1, String o2) {\n            return o1.compareTo(o2);\n        }};\n\n    Map&lt;String, String&gt; sorted = new TreeMap&lt;String, String&gt;(comparer);\n    sorted.putAll(unsorted);\n    System.out.println(sorted);\n}\n</code></pre>\n\n<p>Output would be:</p>\n\n<p>{Abc=Abc_Value, Bcd=Bcd_Value, Cde=Cde_Value}</p>\n"},{"comments":[{"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"score":0,"creation_date":1221954322,"post_id":109667,"comment_id":21057,"body_markdown":"I&#39;d use the SortedMap interface along with the TreeMap. Then you aren&#39;t tied to the TreeMap&#39;s implementation.","body":"I&#39;d use the SortedMap interface along with the TreeMap. Then you aren&#39;t tied to the TreeMap&#39;s implementation."},{"owner":{"account_id":6494,"reputation":82736,"user_id":10947,"accept_rate":79,"display_name":"benzado"},"score":8,"creation_date":1221955145,"post_id":109667,"comment_id":21067,"body_markdown":"The documentation is saying TreeMap sorts its *keys* based on their natural ordering or by a Comparator you provide.  But the sorting is based on the keys, not the values.  A Comparator that compared the values would give a tree structure the same as using the value as the key in the first place.","body":"The documentation is saying TreeMap sorts its <i>keys</i> based on their natural ordering or by a Comparator you provide.  But the sorting is based on the keys, not the values.  A Comparator that compared the values would give a tree structure the same as using the value as the key in the first place."}],"tags":[],"owner":{"account_id":193,"reputation":390,"user_id":237,"display_name":"yoliho"},"comment_count":2,"down_vote_count":13,"up_vote_count":2,"is_accepted":false,"score":-11,"last_activity_date":1221950851,"creation_date":1221950851,"answer_id":109667,"question_id":109383,"body_markdown":"Use **[java.util.TreeMap][1]**.\r\n\r\n&quot;The map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time, depending on which constructor is used.&quot;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/TreeMap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Use <strong><a href=\"http://java.sun.com/javase/6/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">java.util.TreeMap</a></strong>.</p>\n\n<p>\"The map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time, depending on which constructor is used.\"</p>\n"},{"comments":[{"owner":{"account_id":8861,"reputation":2179,"user_id":16138,"accept_rate":100,"display_name":"Mike Miller"},"score":0,"creation_date":1316552455,"post_id":109787,"comment_id":9069105,"body_markdown":"The second version can be more concise if you return List&lt;Map.Entry&lt;K,V&gt;&gt; This also makes it easier to iterate and get both the keys and the values without having to do a lot of extra gets to the map. This is all assuming you are ok with this code being thread-unsafe. If the backing map or sorted list are shared in a multithreaded environment, all bets are off.","body":"The second version can be more concise if you return List&lt;Map.Entry&lt;K,V&gt;&gt; This also makes it easier to iterate and get both the keys and the values without having to do a lot of extra gets to the map. This is all assuming you are ok with this code being thread-unsafe. If the backing map or sorted list are shared in a multithreaded environment, all bets are off."}],"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"comment_count":1,"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1222894948,"creation_date":1221954114,"answer_id":109787,"question_id":109383,"body_markdown":"Sorting the keys requires the Comparator to look up each value for each comparison. A more scalable solution would use the entrySet directly, since then the value would be immediately available for each comparison (although I haven&#39;t backed this up by numbers).\r\n\r\nHere&#39;s a generic version of such a thing:\r\n\r\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue(Map&lt;K, V&gt; map) {\r\n        final int size = map.size();\r\n        final List&lt;Map.Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(size);\r\n        list.addAll(map.entrySet());\r\n        final ValueComparator&lt;V&gt; cmp = new ValueComparator&lt;V&gt;();\r\n        Collections.sort(list, cmp);\r\n        final List&lt;K&gt; keys = new ArrayList&lt;K&gt;(size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            keys.set(i, list.get(i).getKey());\r\n        }\r\n        return keys;\r\n    }\r\n\r\n    private static final class ValueComparator&lt;V extends Comparable&lt;? super V&gt;&gt;\r\n                                         implements Comparator&lt;Map.Entry&lt;?, V&gt;&gt; {\r\n        public int compare(Map.Entry&lt;?, V&gt; o1, Map.Entry&lt;?, V&gt; o2) {\r\n            return o1.getValue().compareTo(o2.getValue());\r\n        }\r\n    }\r\n\r\nThere are ways to lessen memory rotation for the above solution. The first ArrayList created could for instance be re-used as a return value; this would require suppression of some generics warnings, but it might be worth it for re-usable library code. Also,  the Comparator does not have to be re-allocated at every invocation.\r\n\r\nHere&#39;s a more efficient albeit less appealing version:\r\n\r\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue2(Map&lt;K, V&gt; map) {\r\n        final int size = map.size();\r\n        final List reusedList = new ArrayList(size);\r\n        final List&lt;Map.Entry&lt;K, V&gt;&gt; meView = reusedList;\r\n        meView.addAll(map.entrySet());\r\n        Collections.sort(meView, SINGLE);\r\n        final List&lt;K&gt; keyView = reusedList;\r\n        for (int i = 0; i &lt; size; i++) {\r\n            keyView.set(i, meView.get(i).getKey());\r\n        }\r\n        return keyView;\r\n    }\r\n\r\n    private static final Comparator SINGLE = new ValueComparator();\r\n\r\n\r\n\r\n\r\nFinally, if you need to continously access the sorted information (rather than just sorting it once in a while), you can use an additional multi map. Let me know if you need more details...\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Sorting the keys requires the Comparator to look up each value for each comparison. A more scalable solution would use the entrySet directly, since then the value would be immediately available for each comparison (although I haven't backed this up by numbers).</p>\n\n<p>Here's a generic version of such a thing:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue(Map&lt;K, V&gt; map) {\n    final int size = map.size();\n    final List&lt;Map.Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(size);\n    list.addAll(map.entrySet());\n    final ValueComparator&lt;V&gt; cmp = new ValueComparator&lt;V&gt;();\n    Collections.sort(list, cmp);\n    final List&lt;K&gt; keys = new ArrayList&lt;K&gt;(size);\n    for (int i = 0; i &lt; size; i++) {\n        keys.set(i, list.get(i).getKey());\n    }\n    return keys;\n}\n\nprivate static final class ValueComparator&lt;V extends Comparable&lt;? super V&gt;&gt;\n                                     implements Comparator&lt;Map.Entry&lt;?, V&gt;&gt; {\n    public int compare(Map.Entry&lt;?, V&gt; o1, Map.Entry&lt;?, V&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n}\n</code></pre>\n\n<p>There are ways to lessen memory rotation for the above solution. The first ArrayList created could for instance be re-used as a return value; this would require suppression of some generics warnings, but it might be worth it for re-usable library code. Also,  the Comparator does not have to be re-allocated at every invocation.</p>\n\n<p>Here's a more efficient albeit less appealing version:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;K&gt; getKeysSortedByValue2(Map&lt;K, V&gt; map) {\n    final int size = map.size();\n    final List reusedList = new ArrayList(size);\n    final List&lt;Map.Entry&lt;K, V&gt;&gt; meView = reusedList;\n    meView.addAll(map.entrySet());\n    Collections.sort(meView, SINGLE);\n    final List&lt;K&gt; keyView = reusedList;\n    for (int i = 0; i &lt; size; i++) {\n        keyView.set(i, meView.get(i).getKey());\n    }\n    return keyView;\n}\n\nprivate static final Comparator SINGLE = new ValueComparator();\n</code></pre>\n\n<p>Finally, if you need to continously access the sorted information (rather than just sorting it once in a while), you can use an additional multi map. Let me know if you need more details...</p>\n"},{"tags":[],"owner":{"account_id":6878,"reputation":9611,"user_id":11705,"accept_rate":73,"display_name":"GHad"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1221961021,"creation_date":1221961021,"answer_id":109958,"question_id":109383,"body_markdown":"Okay, this version works with two new Map objects and two iterations and sorts on values. Hope, the performs well although the map entries must be looped twice:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\r\n\t\tunsorted.put(&quot;Cde&quot;, &quot;Cde_Value&quot;);\r\n\t\tunsorted.put(&quot;Abc&quot;, &quot;Abc_Value&quot;);\r\n\t\tunsorted.put(&quot;Bcd&quot;, &quot;Bcd_Value&quot;);\r\n\r\n\t\tComparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(String o1, String o2) {\r\n\t\t\t\treturn o1.compareTo(o2);\r\n\t\t\t}};\r\n\t\t\r\n\t\tSystem.out.println(sortByValue(unsorted, comparer));\r\n\t\t\t\t\r\n\t}\r\n\r\n\tpublic static &lt;K, V&gt; Map&lt;K,V&gt; sortByValue(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\r\n\t\tMap&lt;V, K&gt; swapped = new TreeMap&lt;V, K&gt;(compare);\r\n\t\tfor(Entry&lt;K,V&gt; entry: in.entrySet()) {\r\n\t\t\tif (entry.getValue() != null) {\r\n\t\t\t\tswapped.put(entry.getValue(), entry.getKey());\r\n\t\t\t}\r\n\t\t}\r\n\t\tLinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\r\n\t\tfor(Entry&lt;V,K&gt; entry: swapped.entrySet()) {\r\n\t\t\tif (entry.getValue() != null) {\r\n\t\t\t\tresult.put(entry.getValue(), entry.getKey());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nThe solution uses a TreeMap with a Comparator and sorts out all null keys and values. First, the ordering functionality from the TreeMap is used to sort upon the values, next the sorted Map is used to create a result as a LinkedHashMap that retains has the same order of values.\r\n\r\nGreetz, GHad","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Okay, this version works with two new Map objects and two iterations and sorts on values. Hope, the performs well although the map entries must be looped twice:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; unsorted = new HashMap&lt;String, String&gt;();\n    unsorted.put(\"Cde\", \"Cde_Value\");\n    unsorted.put(\"Abc\", \"Abc_Value\");\n    unsorted.put(\"Bcd\", \"Bcd_Value\");\n\n    Comparator&lt;String&gt; comparer = new Comparator&lt;String&gt;() {\n        @Override\n        public int compare(String o1, String o2) {\n            return o1.compareTo(o2);\n        }};\n\n    System.out.println(sortByValue(unsorted, comparer));\n\n}\n\npublic static &lt;K, V&gt; Map&lt;K,V&gt; sortByValue(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\n    Map&lt;V, K&gt; swapped = new TreeMap&lt;V, K&gt;(compare);\n    for(Entry&lt;K,V&gt; entry: in.entrySet()) {\n        if (entry.getValue() != null) {\n            swapped.put(entry.getValue(), entry.getKey());\n        }\n    }\n    LinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\n    for(Entry&lt;V,K&gt; entry: swapped.entrySet()) {\n        if (entry.getValue() != null) {\n            result.put(entry.getValue(), entry.getKey());\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>The solution uses a TreeMap with a Comparator and sorts out all null keys and values. First, the ordering functionality from the TreeMap is used to sort upon the values, next the sorted Map is used to create a result as a LinkedHashMap that retains has the same order of values.</p>\n\n<p>Greetz, GHad</p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222009401,"creation_date":1222009401,"answer_id":111183,"question_id":109383,"body_markdown":"When I&#39;m faced with this, I just create a list on the side. If you put them together in a custom Map implementation, it&#39;ll have a nice feel to it... You can use something like the following, performing the sort only when needed. (Note: I haven&#39;t really tested this, but it compiles... might be a silly little bug in there somewhere)\r\n\r\n(If you want it sorted by both keys and values, have the class extend TreeMap, don&#39;t define the accessor methods, and have the mutators call super.xxxxx instead of map_.xxxx)\r\n\r\n    package com.javadude.sample;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    public class SortedValueHashMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\r\n        private Map&lt;K, V&gt; map_ = new HashMap&lt;K, V&gt;();\r\n        private List&lt;V&gt; valueList_ = new ArrayList&lt;V&gt;();\r\n        private boolean needsSort_ = false;\r\n        private Comparator&lt;V&gt; comparator_;\r\n    \r\n        public SortedValueHashMap() {\r\n        }\r\n        public SortedValueHashMap(List&lt;V&gt; valueList) {\r\n            valueList_ = valueList;\r\n        }\r\n    \r\n        public List&lt;V&gt; sortedValues() {\r\n            if (needsSort_) {\r\n                needsSort_ = false;\r\n                Collections.sort(valueList_, comparator_);\r\n            }\r\n            return valueList_;\r\n        }\r\n    \r\n        // mutators\r\n        public void clear() {\r\n            map_.clear();\r\n            valueList_.clear();\r\n            needsSort_ = false;\r\n        }\r\n    \r\n        public V put(K key, V value) {\r\n            valueList_.add(value);\r\n            needsSort_ = true;\r\n            return map_.put(key, value);\r\n        }\r\n    \r\n        public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\r\n            map_.putAll(m);\r\n            valueList_.addAll(m.values());\r\n            needsSort_ = true;\r\n        }\r\n    \r\n        public V remove(Object key) {\r\n            V value = map_.remove(key);\r\n            valueList_.remove(value);\r\n            return value;\r\n        }\r\n    \r\n        // accessors\r\n        public boolean containsKey(Object key)           { return map_.containsKey(key); }\r\n        public boolean containsValue(Object value)       { return map_.containsValue(value); }\r\n        public Set&lt;java.util.Map.Entry&lt;K, V&gt;&gt; entrySet() { return map_.entrySet(); }\r\n        public boolean equals(Object o)                  { return map_.equals(o); }\r\n        public V get(Object key)                         { return map_.get(key); }\r\n        public int hashCode()                            { return map_.hashCode(); }\r\n        public boolean isEmpty()                         { return map_.isEmpty(); }\r\n        public Set&lt;K&gt; keySet()                           { return map_.keySet(); }\r\n        public int size()                                { return map_.size(); }\r\n        public Collection&lt;V&gt; values()                    { return map_.values(); }\r\n    }\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>When I'm faced with this, I just create a list on the side. If you put them together in a custom Map implementation, it'll have a nice feel to it... You can use something like the following, performing the sort only when needed. (Note: I haven't really tested this, but it compiles... might be a silly little bug in there somewhere)</p>\n\n<p>(If you want it sorted by both keys and values, have the class extend TreeMap, don't define the accessor methods, and have the mutators call super.xxxxx instead of map_.xxxx)</p>\n\n<pre><code>package com.javadude.sample;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class SortedValueHashMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\n    private Map&lt;K, V&gt; map_ = new HashMap&lt;K, V&gt;();\n    private List&lt;V&gt; valueList_ = new ArrayList&lt;V&gt;();\n    private boolean needsSort_ = false;\n    private Comparator&lt;V&gt; comparator_;\n\n    public SortedValueHashMap() {\n    }\n    public SortedValueHashMap(List&lt;V&gt; valueList) {\n        valueList_ = valueList;\n    }\n\n    public List&lt;V&gt; sortedValues() {\n        if (needsSort_) {\n            needsSort_ = false;\n            Collections.sort(valueList_, comparator_);\n        }\n        return valueList_;\n    }\n\n    // mutators\n    public void clear() {\n        map_.clear();\n        valueList_.clear();\n        needsSort_ = false;\n    }\n\n    public V put(K key, V value) {\n        valueList_.add(value);\n        needsSort_ = true;\n        return map_.put(key, value);\n    }\n\n    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\n        map_.putAll(m);\n        valueList_.addAll(m.values());\n        needsSort_ = true;\n    }\n\n    public V remove(Object key) {\n        V value = map_.remove(key);\n        valueList_.remove(value);\n        return value;\n    }\n\n    // accessors\n    public boolean containsKey(Object key)           { return map_.containsKey(key); }\n    public boolean containsValue(Object value)       { return map_.containsValue(value); }\n    public Set&lt;java.util.Map.Entry&lt;K, V&gt;&gt; entrySet() { return map_.entrySet(); }\n    public boolean equals(Object o)                  { return map_.equals(o); }\n    public V get(Object key)                         { return map_.get(key); }\n    public int hashCode()                            { return map_.hashCode(); }\n    public boolean isEmpty()                         { return map_.isEmpty(); }\n    public Set&lt;K&gt; keySet()                           { return map_.keySet(); }\n    public int size()                                { return map_.size(); }\n    public Collection&lt;V&gt; values()                    { return map_.values(); }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":257128,"reputation":2458,"user_id":538336,"accept_rate":57,"display_name":"Jeff Wu"},"score":0,"creation_date":1325209788,"post_id":119143,"comment_id":10784538,"body_markdown":"This method is much easier and more intuitive than creating a Map&lt;V, List&lt;K&gt;&gt; object with pretty much the same effect.  The values are not really supposed to be keys in a Map object, what you&#39;re really looking for is a list in this situation, IMHO.","body":"This method is much easier and more intuitive than creating a Map&lt;V, List&lt;K&gt;&gt; object with pretty much the same effect.  The values are not really supposed to be keys in a Map object, what you&#39;re really looking for is a list in this situation, IMHO."},{"owner":{"account_id":452677,"reputation":3366,"user_id":849231,"accept_rate":78,"display_name":"Sam Levin"},"score":0,"creation_date":1347725853,"post_id":119143,"comment_id":16725693,"body_markdown":"This solution doesn&#39;t work with lots of values, it screwed with my counts (the value associated with each key)","body":"This solution doesn&#39;t work with lots of values, it screwed with my counts (the value associated with each key)"},{"owner":{"account_id":7526,"reputation":1163,"user_id":13121,"accept_rate":56,"display_name":"Lyudmil"},"score":1,"creation_date":1348914293,"post_id":119143,"comment_id":17066236,"body_markdown":"That&#39;s strange. Could you elaborate? What was your output and what was the output you expected?","body":"That&#39;s strange. Could you elaborate? What was your output and what was the output you expected?"}],"tags":[],"owner":{"account_id":7526,"reputation":1163,"user_id":13121,"accept_rate":56,"display_name":"Lyudmil"},"comment_count":3,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1222217907,"creation_date":1222144240,"answer_id":119143,"question_id":109383,"body_markdown":"While I agree that the constant need to sort a map is probably a smell, I think the following code is the easiest way to do it without using a different data structure.\r\n\r\n    public class MapUtilities {\r\n\r\n\tpublic static &lt;K, V extends Comparable&lt;V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sortByValue(Map&lt;K, V&gt; map) {\r\n\t\tList&lt;Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(map.entrySet());\r\n\t\tCollections.sort(entries, new ByValue&lt;K, V&gt;());\r\n\t\treturn entries;\r\n\t}\r\n\t\r\n\tprivate static class ByValue&lt;K, V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;Entry&lt;K, V&gt;&gt; {\r\n\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\treturn o1.getValue().compareTo(o2.getValue());\r\n\t\t}\r\n\t}\r\n}\r\n\r\nAnd here is an embarrassingly incomplete unit test:\r\n\r\n    public class MapUtilitiesTest extends TestCase {\r\n\tpublic void testSorting() {\r\n\t\tHashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n\t\tmap.put(&quot;One&quot;, 1);\r\n\t\tmap.put(&quot;Two&quot;, 2);\r\n\t\tmap.put(&quot;Three&quot;, 3);\r\n\r\n\t\tList&lt;Map.Entry&lt;String, Integer&gt;&gt; sorted = MapUtilities.sortByValue(map);\r\n\t\tassertEquals(&quot;First&quot;, &quot;One&quot;, sorted.get(0).getKey());\r\n\t\tassertEquals(&quot;Second&quot;, &quot;Two&quot;, sorted.get(1).getKey());\r\n\t\tassertEquals(&quot;Third&quot;, &quot;Three&quot;, sorted.get(2).getKey());\r\n\t}\r\n}\r\n\r\nThe result is a sorted list of Map.Entry objects, from which you can obtain the keys and values.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>While I agree that the constant need to sort a map is probably a smell, I think the following code is the easiest way to do it without using a different data structure.</p>\n\n<pre><code>public class MapUtilities {\n\npublic static &lt;K, V extends Comparable&lt;V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sortByValue(Map&lt;K, V&gt; map) {\n    List&lt;Entry&lt;K, V&gt;&gt; entries = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(map.entrySet());\n    Collections.sort(entries, new ByValue&lt;K, V&gt;());\n    return entries;\n}\n\nprivate static class ByValue&lt;K, V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;Entry&lt;K, V&gt;&gt; {\n    public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And here is an embarrassingly incomplete unit test:</p>\n\n<pre><code>public class MapUtilitiesTest extends TestCase {\npublic void testSorting() {\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    map.put(\"One\", 1);\n    map.put(\"Two\", 2);\n    map.put(\"Three\", 3);\n\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; sorted = MapUtilities.sortByValue(map);\n    assertEquals(\"First\", \"One\", sorted.get(0).getKey());\n    assertEquals(\"Second\", \"Two\", sorted.get(1).getKey());\n    assertEquals(\"Third\", \"Three\", sorted.get(2).getKey());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The result is a sorted list of Map.Entry objects, from which you can obtain the keys and values.</p>\n"},{"comments":[{"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"score":0,"creation_date":1239716900,"post_id":747627,"comment_id":558968,"body_markdown":"Then again maybe a better solution would be to just use a self sorting map, in the case use org.apache.commons.collections.bidimap.TreeBidiMap","body":"Then again maybe a better solution would be to just use a self sorting map, in the case use org.apache.commons.collections.bidimap.TreeBidiMap"}],"tags":[],"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1239716669,"creation_date":1239716669,"answer_id":747627,"question_id":109383,"body_markdown":"Based on @devinmoore code, a map sorting methods using generics and supporting both ascending and descending ordering.\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s keys in ascending order. \r\n\t *  \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map) {\r\n\t\treturn sortMapByKey(map, SortingOrder.ASCENDING);\r\n\t}\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s values in ascending order.\r\n\t *  \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map) {\r\n\t\treturn sortMapByValue(map, SortingOrder.ASCENDING);\r\n\t}\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s keys.\r\n\t *  \r\n\t * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\r\n\t\tComparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\r\n\t\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn comparableCompare(o1.getKey(), o2.getKey(), sortingOrder);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\treturn sortMap(map, comparator);\r\n\t}\r\n\r\n\t/**\r\n\t * Sort a map by it&#39;s values.\r\n\t *  \r\n\t * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\r\n\t\tComparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\r\n\t\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn comparableCompare(o1.getValue(), o2.getValue(), sortingOrder);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\treturn sortMap(map, comparator);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprivate static &lt;T&gt; int comparableCompare(T o1, T o2, SortingOrder sortingOrder) {\r\n\t\tint compare = ((Comparable&lt;T&gt;)o1).compareTo(o2);\r\n\t\t\r\n\t\tswitch (sortingOrder) {\r\n\t\tcase ASCENDING:\r\n\t\t\treturn compare;\r\n\t\tcase DESCENDING:\r\n\t\t\treturn (-1) * compare;\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sort a map by supplied comparator logic.\r\n\t *  \r\n\t * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\r\n\t * @author Maxim Veksler\r\n\t */\r\n\tpublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMap(final Map&lt;K, V&gt; map, final Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator) {\r\n\t\t// Convert the map into a list of key,value pairs.\r\n\t\tList&lt;Map.Entry&lt;K, V&gt;&gt; mapEntries = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\r\n\t\t\r\n\t\t// Sort the converted list according to supplied comparator.\r\n\t\tCollections.sort(mapEntries, comparator);\r\n\r\n\t\t// Build a new ordered map, containing the same entries as the old map.  \r\n\t\tLinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;(map.size() + (map.size() / 20));\r\n\t\tfor(Map.Entry&lt;K, V&gt; entry : mapEntries) {\r\n\t\t\t// We iterate on the mapEntries list which is sorted by the comparator putting new entries into \r\n\t\t\t// the targeted result which is a sorted map. \r\n\t\t\tresult.put(entry.getKey(), entry.getValue());\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sorting order enum, specifying request result sort behavior.\r\n\t * @author Maxim Veksler\r\n\t *\r\n\t */\r\n\tpublic static enum SortingOrder {\r\n\t\t/**\r\n\t\t * Resulting sort will be from smaller to biggest.\r\n\t\t */\r\n\t\tASCENDING,\r\n\t\t/**\r\n\t\t * Resulting sort will be from biggest to smallest.\r\n\t\t */\r\n\t\tDESCENDING\r\n\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Based on @devinmoore code, a map sorting methods using generics and supporting both ascending and descending ordering.</p>\n\n<pre><code>/**\n * Sort a map by it's keys in ascending order. \n *  \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map) {\n    return sortMapByKey(map, SortingOrder.ASCENDING);\n}\n\n/**\n * Sort a map by it's values in ascending order.\n *  \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map) {\n    return sortMapByValue(map, SortingOrder.ASCENDING);\n}\n\n/**\n * Sort a map by it's keys.\n *  \n * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByKey(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\n    Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\n        public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n            return comparableCompare(o1.getKey(), o2.getKey(), sortingOrder);\n        }\n    };\n\n    return sortMap(map, comparator);\n}\n\n/**\n * Sort a map by it's values.\n *  \n * @param sortingOrder {@link SortingOrder} enum specifying requested sorting order. \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMapByValue(final Map&lt;K, V&gt; map, final SortingOrder sortingOrder) {\n    Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator = new Comparator&lt;Entry&lt;K,V&gt;&gt;() {\n        public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n            return comparableCompare(o1.getValue(), o2.getValue(), sortingOrder);\n        }\n    };\n\n    return sortMap(map, comparator);\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate static &lt;T&gt; int comparableCompare(T o1, T o2, SortingOrder sortingOrder) {\n    int compare = ((Comparable&lt;T&gt;)o1).compareTo(o2);\n\n    switch (sortingOrder) {\n    case ASCENDING:\n        return compare;\n    case DESCENDING:\n        return (-1) * compare;\n    }\n\n    return 0;\n}\n\n/**\n * Sort a map by supplied comparator logic.\n *  \n * @return new instance of {@link LinkedHashMap} contained sorted entries of supplied map.\n * @author Maxim Veksler\n */\npublic static &lt;K, V&gt; LinkedHashMap&lt;K, V&gt; sortMap(final Map&lt;K, V&gt; map, final Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparator) {\n    // Convert the map into a list of key,value pairs.\n    List&lt;Map.Entry&lt;K, V&gt;&gt; mapEntries = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\n\n    // Sort the converted list according to supplied comparator.\n    Collections.sort(mapEntries, comparator);\n\n    // Build a new ordered map, containing the same entries as the old map.  \n    LinkedHashMap&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;(map.size() + (map.size() / 20));\n    for(Map.Entry&lt;K, V&gt; entry : mapEntries) {\n        // We iterate on the mapEntries list which is sorted by the comparator putting new entries into \n        // the targeted result which is a sorted map. \n        result.put(entry.getKey(), entry.getValue());\n    }\n\n    return result;\n}\n\n/**\n * Sorting order enum, specifying request result sort behavior.\n * @author Maxim Veksler\n *\n */\npublic static enum SortingOrder {\n    /**\n     * Resulting sort will be from smaller to biggest.\n     */\n    ASCENDING,\n    /**\n     * Resulting sort will be from biggest to smallest.\n     */\n    DESCENDING\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"score":18,"creation_date":1281563454,"post_id":1283722,"comment_id":3611709,"body_markdown":"Not any more (http://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java/3420912#3420912).  Also, why was there a cast to Double?  Shouldn&#39;t it just be `return ((Comparable)base.get(a).compareTo(((Comparable)base.get(b)))`?","body":"Not any more (<a href=\"http://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java/3420912#3420912\" title=\"how to sort a mapkey value on the values in java\">stackoverflow.com/questions/109383/&hellip;</a>).  Also, why was there a cast to Double?  Shouldn&#39;t it just be <code>return ((Comparable)base.get(a).compareTo(((Comparable)base.get(b))&zwnj;&#8203;)</code>?"},{"owner":{"account_id":102298,"reputation":2152,"user_id":274686,"accept_rate":100,"display_name":"steffen"},"score":12,"creation_date":1282287623,"post_id":1283722,"comment_id":3691807,"body_markdown":"@Stephen: No. In this case all keys equal by value are dropped (difference between equals and comparion by reference). Additionally: Even this code has problems with the following sequence    \n`map.put(&quot;A&quot;,&quot;1d&quot;);map.put(&quot;B&quot;,&quot;1d&quot;);map.put(&quot;C&quot;,67d);map.put(&quot;D&quot;,99.5d);`","body":"@Stephen: No. In this case all keys equal by value are dropped (difference between equals and comparion by reference). Additionally: Even this code has problems with the following sequence     <code>map.put(&quot;A&quot;,&quot;1d&quot;);map.put(&quot;B&quot;,&quot;1d&quot;);map.put(&quot;C&quot;,67d);map.put&zwnj;&#8203;(&quot;D&quot;,99.5d);</code>"},{"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"score":43,"creation_date":1291214210,"post_id":1283722,"comment_id":4699669,"body_markdown":"The comparator used for the treemap is inconsistent with equals (see the sortMap javadox). This means retireving items from the tree map will not work. sorted_map.get(&quot;A&quot;) will return null. That means this use of treemap is broken.","body":"The comparator used for the treemap is inconsistent with equals (see the sortMap javadox). This means retireving items from the tree map will not work. sorted_map.get(&quot;A&quot;) will return null. That means this use of treemap is broken."},{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1320509760,"post_id":1283722,"comment_id":9817646,"body_markdown":"@mR_fr0g That is true only if the base map is altered. As long as it is not modified the natural order of the keys (according to the comparator) will follow the natural order of the values.","body":"@mR_fr0g That is true only if the base map is altered. As long as it is not modified the natural order of the keys (according to the comparator) will follow the natural order of the values."},{"owner":{"account_id":322745,"reputation":2802,"user_id":642337,"accept_rate":86,"display_name":"Maxy-B"},"score":91,"creation_date":1322109475,"post_id":1283722,"comment_id":10154388,"body_markdown":"Just in case it&#39;s not clear to people: this solution will probably not do what you want if you have multiple keys mapping to the same value -- only one of those keys will appear in the sorted result.","body":"Just in case it&#39;s not clear to people: this solution will probably not do what you want if you have multiple keys mapping to the same value -- only one of those keys will appear in the sorted result."},{"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"score":5,"creation_date":1337783878,"post_id":1283722,"comment_id":13925854,"body_markdown":"It&#39;s practically a bug ... I can image a very few use cases for omitting one of 2 map entries that have the same value...","body":"It&#39;s practically a bug ... I can image a very few use cases for omitting one of 2 map entries that have the same value..."},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":64,"creation_date":1341350370,"post_id":1283722,"comment_id":14899161,"body_markdown":"Louis Wasserman (yes, one of the Google Guava guys), actually dislikes this answer quite a bit: &quot;It breaks in several really confusing ways if you even look at it funny. If the backing map changes, it will break. If multiple keys map to the same value, it will break. If you call get on a key that isn&#39;t in the backing map, it will break. If you do anything whatsoever that would cause a lookup to happen on a key that isn&#39;t in the map -- a Map.equals call, containsKey, anything -- it will break with really weird stack traces.&quot; https://plus.google.com/102216152814616302326/posts/bEQLDK712MJ","body":"Louis Wasserman (yes, one of the Google Guava guys), actually dislikes this answer quite a bit: &quot;It breaks in several really confusing ways if you even look at it funny. If the backing map changes, it will break. If multiple keys map to the same value, it will break. If you call get on a key that isn&#39;t in the backing map, it will break. If you do anything whatsoever that would cause a lookup to happen on a key that isn&#39;t in the map -- a Map.equals call, containsKey, anything -- it will break with really weird stack traces.&quot; <a href=\"https://plus.google.com/102216152814616302326/posts/bEQLDK712MJ\" rel=\"nofollow noreferrer\">plus.google.com/102216152814616302326/posts/bEQLDK712MJ</a>"},{"owner":{"account_id":6292,"reputation":5329,"user_id":10523,"accept_rate":100,"display_name":"Tomasz"},"score":2,"creation_date":1346951682,"post_id":1283722,"comment_id":16510222,"body_markdown":"If ValueComparator#compare() does not return 0 for equals (see edited answer) @Maxy-B &#39;s comment about missing keys no longer applies","body":"If ValueComparator#compare() does not return 0 for equals (see edited answer) @Maxy-B &#39;s comment about missing keys no longer applies"},{"owner":{"account_id":1671392,"reputation":919,"user_id":1537800,"display_name":"Volodymyr Krupach"},"score":8,"creation_date":1365436714,"post_id":1283722,"comment_id":22613984,"body_markdown":"I regret using this approach. Now I reproduced in my code all the bugs described here in comments. My mistake was not reading the comments.\nThis http://stackoverflow.com/a/2581754/1537800 works just fine.","body":"I regret using this approach. Now I reproduced in my code all the bugs described here in comments. My mistake was not reading the comments. This <a href=\"http://stackoverflow.com/a/2581754/1537800\">stackoverflow.com/a/2581754/1537800</a> works just fine."},{"owner":{"account_id":56326,"reputation":8327,"user_id":168719,"accept_rate":74,"display_name":"Konrad Morawski"},"score":3,"creation_date":1378937149,"post_id":1283722,"comment_id":27641033,"body_markdown":"`var sorted_map = map.OrderByDescending(entry =&gt; entry.Value);` (in C#). Sorry, I couldn&#39;t resist ;) +1, though","body":"<code>var sorted_map = map.OrderByDescending(entry =&gt; entry.Value);</code> (in C#). Sorry, I couldn&#39;t resist ;) +1, though"},{"owner":{"account_id":327532,"reputation":1636,"user_id":919049,"accept_rate":71,"display_name":"Mohammad"},"score":1,"creation_date":1394528741,"post_id":1283722,"comment_id":33919020,"body_markdown":"I think adding if(a.equals(b)) return 0;  in compare will  make it perfect. As it will eliminate duplicate keys + will make normal traversal possible. Let me know if I am missing something, I am going to give it a chance in production...:P","body":"I think adding if(a.equals(b)) return 0;  in compare will  make it perfect. As it will eliminate duplicate keys + will make normal traversal possible. Let me know if I am missing something, I am going to give it a chance in production...:P"},{"owner":{"account_id":2300587,"reputation":315,"user_id":2020956,"display_name":"Aniket Kapse"},"score":1,"creation_date":1428929652,"post_id":1283722,"comment_id":47357218,"body_markdown":"Can&#39;t we just use a TreeMap instead? Did I miss anything?","body":"Can&#39;t we just use a TreeMap instead? Did I miss anything?"},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":0,"creation_date":1440259027,"post_id":1283722,"comment_id":52203992,"body_markdown":"@AniketKapse, you can use only a tree map constructed after the map is populated (There is no need ValueComparator). Then you can iterate through the map following an order.","body":"@AniketKapse, you can use only a tree map constructed after the map is populated (There is no need ValueComparator). Then you can iterate through the map following an order."},{"owner":{"account_id":544312,"reputation":507,"user_id":913717,"accept_rate":80,"display_name":"Bruce Zu"},"score":0,"creation_date":1452799687,"post_id":1283722,"comment_id":57339204,"body_markdown":"@Override\npublic int compare(Character o1, Character o2) {\n    if (charToTimes.get(o1) == null || charToTimes.get(o2) == null) {\n                    return -o1.compareTo(o2);\n    }\n    int result = -charToTimes.get(o1).compareTo(charToTimes.get(o2));\n   if (result != 0) {\n                    return result;\n  }\n   return -o1.compareTo(o2);}","body":"@Override public int compare(Character o1, Character o2) {     if (charToTimes.get(o1) == null || charToTimes.get(o2) == null) {                     return -o1.compareTo(o2);     }     int result = -charToTimes.get(o1).compareTo(charToTimes.get(o2));    if (result != 0) {                     return result;   }    return -o1.compareTo(o2);}"},{"owner":{"account_id":227397,"reputation":434,"user_id":489048,"accept_rate":83,"display_name":"hephestos"},"score":0,"creation_date":1539074683,"post_id":1283722,"comment_id":92359043,"body_markdown":"Don&#39;y you compare objects and not primitive values...thus don&#39;t you compare memory position instead real values ?","body":"Don&#39;y you compare objects and not primitive values...thus don&#39;t you compare memory position instead real values ?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1558009231,"post_id":1283722,"comment_id":98963301,"body_markdown":"returning -1 for equal values is a very wrong way. It will pass small test cases and work for a while until suddenly throws an `IllegalArgumentException`","body":"returning -1 for equal values is a very wrong way. It will pass small test cases and work for a while until suddenly throws an <code>IllegalArgumentException</code>"}],"tags":[],"owner":{"account_id":52601,"reputation":1005,"user_id":157196,"display_name":"user157196"},"comment_count":16,"down_vote_count":89,"up_vote_count":520,"is_accepted":false,"score":431,"last_activity_date":1461022880,"creation_date":1250409192,"answer_id":1283722,"question_id":109383,"body_markdown":"### Important note:\n\n**This code can break in multiple ways.** If you intend to use the code provided, be sure to read the comments as well to be aware of the implications. For example, values can no longer be retrieved by their key. (`get` always returns `null`.)\n\n---\n\nIt seems much easier than all of the foregoing. Use a TreeMap as follows:\n    \n    public class Testing {\n        public static void main(String[] args) {\n            HashMap&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\n            ValueComparator bvc = new ValueComparator(map);\n            TreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\n    \n            map.put(&quot;A&quot;, 99.5);\n            map.put(&quot;B&quot;, 67.4);\n            map.put(&quot;C&quot;, 67.4);\n            map.put(&quot;D&quot;, 67.3);\n    \n            System.out.println(&quot;unsorted map: &quot; + map);\n            sorted_map.putAll(map);\n            System.out.println(&quot;results: &quot; + sorted_map);\n        }\n    }\n    \n    class ValueComparator implements Comparator&lt;String&gt; {\n        Map&lt;String, Double&gt; base;\n    \n        public ValueComparator(Map&lt;String, Double&gt; base) {\n            this.base = base;\n        }\n    \n        // Note: this comparator imposes orderings that are inconsistent with\n        // equals.\n        public int compare(String a, String b) {\n            if (base.get(a) &gt;= base.get(b)) {\n                return -1;\n            } else {\n                return 1;\n            } // returning 0 would merge keys\n        }\n    }\n\nOutput:\n\n    unsorted map: {D=67.3, A=99.5, B=67.4, C=67.4}\n    results: {D=67.3, B=67.4, C=67.4, A=99.5}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<h3>Important note:</h3>\n<p><strong>This code can break in multiple ways.</strong> If you intend to use the code provided, be sure to read the comments as well to be aware of the implications. For example, values can no longer be retrieved by their key. (<code>get</code> always returns <code>null</code>.)</p>\n<hr />\n<p>It seems much easier than all of the foregoing. Use a TreeMap as follows:</p>\n<pre><code>public class Testing {\n    public static void main(String[] args) {\n        HashMap&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\n        ValueComparator bvc = new ValueComparator(map);\n        TreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\n\n        map.put(&quot;A&quot;, 99.5);\n        map.put(&quot;B&quot;, 67.4);\n        map.put(&quot;C&quot;, 67.4);\n        map.put(&quot;D&quot;, 67.3);\n\n        System.out.println(&quot;unsorted map: &quot; + map);\n        sorted_map.putAll(map);\n        System.out.println(&quot;results: &quot; + sorted_map);\n    }\n}\n\nclass ValueComparator implements Comparator&lt;String&gt; {\n    Map&lt;String, Double&gt; base;\n\n    public ValueComparator(Map&lt;String, Double&gt; base) {\n        this.base = base;\n    }\n\n    // Note: this comparator imposes orderings that are inconsistent with\n    // equals.\n    public int compare(String a, String b) {\n        if (base.get(a) &gt;= base.get(b)) {\n            return -1;\n        } else {\n            return 1;\n        } // returning 0 would merge keys\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>unsorted map: {D=67.3, A=99.5, B=67.4, C=67.4}\nresults: {D=67.3, B=67.4, C=67.4, A=99.5}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":439169,"reputation":34683,"user_id":827927,"accept_rate":74,"display_name":"Erel Segal-Halevi"},"score":7,"creation_date":1317571110,"post_id":2112659,"comment_id":9261133,"body_markdown":"PROBLEM: if you want to use the returned map later, for example to check if it contains a certain element, you will always get false, because of your custom comparator!\n\nA possible solution: replace the last line with:\n\n     return new LinkedHashMap&lt;K,V&gt;(sortedByValues);","body":"PROBLEM: if you want to use the returned map later, for example to check if it contains a certain element, you will always get false, because of your custom comparator!  A possible solution: replace the last line with:       return new LinkedHashMap&lt;K,V&gt;(sortedByValues);"},{"owner":{"account_id":277301,"reputation":621,"user_id":571217,"accept_rate":50,"display_name":"abhi"},"score":0,"creation_date":1368519280,"post_id":2112659,"comment_id":23752221,"body_markdown":"This looks a clean solution to me , except the fact that @ErelSegalHalevi pointed out , checking whether the values exist in the Map will not be possible as you specified the comparator.         map.put(&quot;1&quot;, &quot;One&quot;);\n\t\tmap.put(&quot;2&quot;, &quot;Two&quot;);\n\t\tmap.put(&quot;3&quot;, &quot;Three&quot;);\n\t\tmap.put(&quot;4&quot;, &quot;Four&quot;);\n\t\tmap.put(&quot;5&quot;, &quot;Five&quot;);                         map.containsKey(&quot;1&quot;) will always return false , if you return new object in the function sortByValues() like return new TreeMap&lt;K, V&gt;(sortedByValues); solves the problem .   Thanks Abhi","body":"This looks a clean solution to me , except the fact that @ErelSegalHalevi pointed out , checking whether the values exist in the Map will not be possible as you specified the comparator.         map.put(&quot;1&quot;, &quot;One&quot;); \t\tmap.put(&quot;2&quot;, &quot;Two&quot;); \t\tmap.put(&quot;3&quot;, &quot;Three&quot;); \t\tmap.put(&quot;4&quot;, &quot;Four&quot;); \t\tmap.put(&quot;5&quot;, &quot;Five&quot;);                         map.containsKey(&quot;1&quot;) will always return false , if you return new object in the function sortByValues() like return new TreeMap&lt;K, V&gt;(sortedByValues); solves the problem .   Thanks Abhi"},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1398188236,"post_id":2112659,"comment_id":35533781,"body_markdown":"pretty much the same as user157196&#39;s and Carter Page&#39;s answer. Carter Page&#39;s contains the LinkedHashMap fix","body":"pretty much the same as user157196&#39;s and Carter Page&#39;s answer. Carter Page&#39;s contains the LinkedHashMap fix"},{"owner":{"account_id":945325,"reputation":2097,"user_id":972676,"accept_rate":62,"display_name":"Leo"},"score":0,"creation_date":1406017205,"post_id":2112659,"comment_id":38648420,"body_markdown":"4th line of the solution should be   int compare = map.get(k1).compareTo(map.get(k2));  if you need ascending order","body":"4th line of the solution should be   int compare = map.get(k1).compareTo(map.get(k2));  if you need ascending order"}],"tags":[],"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"comment_count":4,"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1330188282,"creation_date":1264106079,"answer_id":2112659,"question_id":109383,"body_markdown":"I&#39;ve looked at the given answers, but a lot of them are more complicated than needed or remove map elements when several keys have same value.\r\n\r\nHere is a solution that I think fits better:\r\n\r\n    public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortByValues(final Map&lt;K, V&gt; map) {\r\n        Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\r\n            public int compare(K k1, K k2) {\r\n                int compare = map.get(k2).compareTo(map.get(k1));\r\n                if (compare == 0) return 1;\r\n                else return compare;\r\n            }\r\n        };\r\n        Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\r\n        sortedByValues.putAll(map);\r\n        return sortedByValues;\r\n    }\r\n\r\nNote that the map is sorted from the highest value to the lowest.\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I've looked at the given answers, but a lot of them are more complicated than needed or remove map elements when several keys have same value.</p>\n\n<p>Here is a solution that I think fits better:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortByValues(final Map&lt;K, V&gt; map) {\n    Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\n        public int compare(K k1, K k2) {\n            int compare = map.get(k2).compareTo(map.get(k1));\n            if (compare == 0) return 1;\n            else return compare;\n        }\n    };\n    Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\n    sortedByValues.putAll(map);\n    return sortedByValues;\n}\n</code></pre>\n\n<p>Note that the map is sorted from the highest value to the lowest.</p>\n"},{"comments":[{"owner":{"account_id":301697,"reputation":2478,"user_id":609601,"display_name":"John Mark"},"score":0,"creation_date":1340121964,"post_id":2581754,"comment_id":14544881,"body_markdown":"This saved me a TON of time! The test case is great too. :) Is there a reason why you used a LinkedHashMap as opposed to a regular HashMap?","body":"This saved me a TON of time! The test case is great too. :) Is there a reason why you used a LinkedHashMap as opposed to a regular HashMap?"},{"owner":{"account_id":118523,"reputation":2655,"user_id":309596,"display_name":"Carter Page"},"score":15,"creation_date":1341146776,"post_id":2581754,"comment_id":14838446,"body_markdown":"Glad this helps.  John, the LinkedHashMap is important to the solution as it provides predictable iteration order.","body":"Glad this helps.  John, the LinkedHashMap is important to the solution as it provides predictable iteration order."},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":0,"creation_date":1366902149,"post_id":2581754,"comment_id":23194324,"body_markdown":"Note this solution would not work reliably on a map which contains mutable values e.g. AtomicLong.  I wanted to use it for a performance statistics collector in our application.  So first needed to snapshot all the AtomicLong values and then sort a map with the snapshots.","body":"Note this solution would not work reliably on a map which contains mutable values e.g. AtomicLong.  I wanted to use it for a performance statistics collector in our application.  So first needed to snapshot all the AtomicLong values and then sort a map with the snapshots."},{"owner":{"account_id":118523,"reputation":2655,"user_id":309596,"display_name":"Carter Page"},"score":4,"creation_date":1366916117,"post_id":2581754,"comment_id":23202111,"body_markdown":"@buzz3791 True.  That&#39;s going to be the case in any sorting algorithm.  Change the value of nodes in a structure during a sort creates unpredictable (and nearly always bad) results.","body":"@buzz3791 True.  That&#39;s going to be the case in any sorting algorithm.  Change the value of nodes in a structure during a sort creates unpredictable (and nearly always bad) results."},{"owner":{"account_id":127846,"reputation":1191,"user_id":325306,"accept_rate":60,"display_name":"fire in the hole"},"score":0,"creation_date":1414828402,"post_id":2581754,"comment_id":41971989,"body_markdown":"DOESN&#39;T WORK, I tried your code in android, it sorts the hashmap by value but after that when it iterates to fill the result Map it gets sorted again by key","body":"DOESN&#39;T WORK, I tried your code in android, it sorts the hashmap by value but after that when it iterates to fill the result Map it gets sorted again by key"},{"owner":{"account_id":1408320,"reputation":1285,"user_id":1335438,"display_name":"saiyancoder"},"score":3,"creation_date":1418001149,"post_id":2581754,"comment_id":43154358,"body_markdown":"@Sheagorath I tried it in Android and it works too. It is not a platform specific problem, considering you are using the Java 6 version. Have you implemented **Comparable** correctly in your value object?","body":"@Sheagorath I tried it in Android and it works too. It is not a platform specific problem, considering you are using the Java 6 version. Have you implemented <b>Comparable</b> correctly in your value object?"},{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":0,"creation_date":1422916194,"post_id":2581754,"comment_id":44929865,"body_markdown":"This solution did not work for me. I am using BigDecimal as my value object and Pair&lt;K, V&gt; for the key (from Apache Commons). The values are not sorted when I access the map after sorting.","body":"This solution did not work for me. I am using BigDecimal as my value object and Pair&lt;K, V&gt; for the key (from Apache Commons). The values are not sorted when I access the map after sorting."},{"owner":{"account_id":4410958,"reputation":2420,"user_id":3854476,"accept_rate":56,"display_name":"Reinstate Monica"},"score":0,"creation_date":1443624780,"post_id":2581754,"comment_id":53570358,"body_markdown":"@akhil_mittal LinkedList should be replaced by ArrayList but LinkedHashMap is necessary because it preserves insertion order.","body":"@akhil_mittal LinkedList should be replaced by ArrayList but LinkedHashMap is necessary because it preserves insertion order."},{"owner":{"account_id":3845548,"reputation":211,"user_id":3187217,"accept_rate":100,"display_name":"cirko"},"score":0,"creation_date":1447418440,"post_id":2581754,"comment_id":55157402,"body_markdown":"@trillions Could you tell me what change you made to reverse the order? Thanks.","body":"@trillions Could you tell me what change you made to reverse the order? Thanks."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1520720070,"post_id":2581754,"comment_id":85433484,"body_markdown":"I removed all solutions except the original one. The others should get their own answers instead.","body":"I removed all solutions except the original one. The others should get their own answers instead."},{"owner":{"account_id":15298434,"reputation":309,"user_id":11037723,"display_name":"Cecilia"},"score":0,"creation_date":1572209513,"post_id":2581754,"comment_id":103480871,"body_markdown":"What if I want to sort by key (which contains string)?","body":"What if I want to sort by key (which contains string)?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1574678776,"post_id":2581754,"comment_id":104304031,"body_markdown":"@Cecilia then you replace `comparingByValue` with `comparingByKey`.","body":"@Cecilia then you replace <code>comparingByValue</code> with <code>comparingByKey</code>."},{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1631127835,"post_id":2581754,"comment_id":122142999,"body_markdown":"`map.entrySet().stream().sorted(Map.Entry.comparingByValue())`","body":"<code>map.entrySet().stream().sorted(Map.Entry.comparingByValue())</code>"},{"owner":{"account_id":24877651,"reputation":106,"user_id":18751272,"display_name":"acrastt"},"score":0,"creation_date":1652910240,"post_id":2581754,"comment_id":127724920,"body_markdown":"You should probally use Arrays.asList instead of new ArrayList to increase performance","body":"You should probally use Arrays.asList instead of new ArrayList to increase performance"},{"owner":{"account_id":5954121,"reputation":731,"user_id":4681316,"display_name":"Ersel Er"},"score":0,"creation_date":1675414387,"post_id":2581754,"comment_id":132927950,"body_markdown":"`list.sort(Collections.reverseOrder(Map.Entry.comparingByValue()))` can be used for reverse order.","body":"<code>list.sort(Collections.reverseOrder(Map.Entry.comparingByValu&zwnj;&#8203;e()))</code> can be used for reverse order."},{"owner":{"account_id":3849012,"reputation":341,"user_id":3189611,"display_name":"atLeastD"},"score":0,"creation_date":1690534589,"post_id":2581754,"comment_id":135370362,"body_markdown":"It saved my time","body":"It saved my time"}],"tags":[],"owner":{"account_id":118523,"reputation":2655,"user_id":309596,"display_name":"Carter Page"},"comment_count":16,"down_vote_count":2,"up_vote_count":1011,"is_accepted":false,"score":1009,"last_activity_date":1522713627,"creation_date":1270509845,"answer_id":2581754,"question_id":109383,"body_markdown":"Here&#39;s a generic-friendly version:\r\n\r\n\tpublic class MapUtil {\r\n\t    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\r\n\t        List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n\t        list.sort(Entry.comparingByValue());\r\n\t\r\n\t        Map&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\r\n\t        for (Entry&lt;K, V&gt; entry : list) {\r\n\t            result.put(entry.getKey(), entry.getValue());\r\n\t        }\r\n\t        \r\n\t        return result;\r\n\t    }\r\n\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Here's a generic-friendly version:</p>\n\n<pre><code>public class MapUtil {\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {\n        List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n        list.sort(Entry.comparingByValue());\n\n        Map&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();\n        for (Entry&lt;K, V&gt; entry : list) {\n            result.put(entry.getKey(), entry.getValue());\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":614271,"reputation":11,"user_id":336642,"display_name":"Darkless"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1325194431,"creation_date":1273412459,"answer_id":2797784,"question_id":109383,"body_markdown":"This is just too complicated. Maps were not supposed to do such job as sorting them by Value. The easiest way is to create your own Class so it fits your requirement.\r\n\r\nIn example lower you are supposed to add TreeMap a comparator at place where * is. But by java API it gives comparator only keys, not values. All of examples stated here is based on 2 Maps. One Hash and one new Tree. Which is odd.\r\n\r\nThe example:\r\n\r\n    Map&lt;Driver driver, Float time&gt; map = new TreeMap&lt;Driver driver, Float time&gt;(*);\r\n\r\nSo change the map into a set this way:\r\n\r\n    ResultComparator rc = new ResultComparator();\r\n    Set&lt;Results&gt; set = new TreeSet&lt;Results&gt;(rc);\r\n\r\nYou will create class `Results`,\r\n\r\n    public class Results {\r\n        private Driver driver;\r\n        private Float time;\r\n\r\n        public Results(Driver driver, Float time) {\r\n            this.driver = driver;\r\n            this.time = time;\r\n        }\r\n\r\n        public Float getTime() {\r\n            return time;\r\n        }\r\n\r\n        public void setTime(Float time) {\r\n            this.time = time;\r\n        }\r\n\r\n        public Driver getDriver() {\r\n            return driver;\r\n        }\r\n\r\n        public void setDriver (Driver driver) {\r\n            this.driver = driver;\r\n        }\r\n    }\r\n\r\nand the Comparator class:\r\n\r\n    public class ResultsComparator implements Comparator&lt;Results&gt; {\r\n        public int compare(Results t, Results t1) {\r\n            if (t.getTime() &lt; t1.getTime()) {\r\n                return 1;\r\n            } else if (t.getTime() == t1.getTime()) {\r\n                return 0;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n\r\nThis way you can easily add more dependencies.\r\n\r\nAnd as the last point I&#39;ll add simple iterator:\r\n\r\n    Iterator it = set.iterator();\r\n    while (it.hasNext()) {\r\n        Results r = (Results)it.next();\r\n        System.out.println( r.getDriver().toString\r\n            //or whatever that is related to Driver class -getName() getSurname()\r\n            + &quot; &quot;\r\n            + r.getTime()\r\n            );\r\n    }\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This is just too complicated. Maps were not supposed to do such job as sorting them by Value. The easiest way is to create your own Class so it fits your requirement.</p>\n\n<p>In example lower you are supposed to add TreeMap a comparator at place where * is. But by java API it gives comparator only keys, not values. All of examples stated here is based on 2 Maps. One Hash and one new Tree. Which is odd.</p>\n\n<p>The example:</p>\n\n<pre><code>Map&lt;Driver driver, Float time&gt; map = new TreeMap&lt;Driver driver, Float time&gt;(*);\n</code></pre>\n\n<p>So change the map into a set this way:</p>\n\n<pre><code>ResultComparator rc = new ResultComparator();\nSet&lt;Results&gt; set = new TreeSet&lt;Results&gt;(rc);\n</code></pre>\n\n<p>You will create class <code>Results</code>,</p>\n\n<pre><code>public class Results {\n    private Driver driver;\n    private Float time;\n\n    public Results(Driver driver, Float time) {\n        this.driver = driver;\n        this.time = time;\n    }\n\n    public Float getTime() {\n        return time;\n    }\n\n    public void setTime(Float time) {\n        this.time = time;\n    }\n\n    public Driver getDriver() {\n        return driver;\n    }\n\n    public void setDriver (Driver driver) {\n        this.driver = driver;\n    }\n}\n</code></pre>\n\n<p>and the Comparator class:</p>\n\n<pre><code>public class ResultsComparator implements Comparator&lt;Results&gt; {\n    public int compare(Results t, Results t1) {\n        if (t.getTime() &lt; t1.getTime()) {\n            return 1;\n        } else if (t.getTime() == t1.getTime()) {\n            return 0;\n        } else {\n            return -1;\n        }\n    }\n}\n</code></pre>\n\n<p>This way you can easily add more dependencies.</p>\n\n<p>And as the last point I'll add simple iterator:</p>\n\n<pre><code>Iterator it = set.iterator();\nwhile (it.hasNext()) {\n    Results r = (Results)it.next();\n    System.out.println( r.getDriver().toString\n        //or whatever that is related to Driver class -getName() getSurname()\n        + \" \"\n        + r.getTime()\n        );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1289386732,"post_id":3420912,"comment_id":4469496,"body_markdown":"Hi @Stephen , can you give an example how to use Ordering ? I look into Ordering&#39;s source code , and totally cannot figure out what .natural().onResultOf(...) returns! The source code is &quot;public &lt;F&gt; Ordering&lt;F&gt; onResultOf&quot; , I even don&#39;t know how it compiles ! Most important , how to use &quot;&lt;F&gt; Ordering&lt;F&gt;&quot; to sort a map ? Is it a comparator or something ? Thanks.","body":"Hi @Stephen , can you give an example how to use Ordering ? I look into Ordering&#39;s source code , and totally cannot figure out what .natural().onResultOf(...) returns! The source code is &quot;public &lt;F&gt; Ordering&lt;F&gt; onResultOf&quot; , I even don&#39;t know how it compiles ! Most important , how to use &quot;&lt;F&gt; Ordering&lt;F&gt;&quot; to sort a map ? Is it a comparator or something ? Thanks."},{"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"score":0,"creation_date":1289475894,"post_id":3420912,"comment_id":4482890,"body_markdown":"`Ordering` is simply a rich `Comparator`. I&#39;ve tried commenting each example (the italics underneath each one). &quot;natural&quot; indicates that the objects are `Comparable`; it&#39;s like apache common&#39;s ComparableComparator. `onResultOf` applies a function to the item being compared. So if you had a function that added 1 to an integer, then `natural().onResultOf(add1Function).compare(1,2)` would end up doing `2.compareTo(3)`","body":"<code>Ordering</code> is simply a rich <code>Comparator</code>. I&#39;ve tried commenting each example (the italics underneath each one). &quot;natural&quot; indicates that the objects are <code>Comparable</code>; it&#39;s like apache common&#39;s ComparableComparator. <code>onResultOf</code> applies a function to the item being compared. So if you had a function that added 1 to an integer, then <code>natural().onResultOf(add1Function).compare(1,2)</code> would end up doing <code>2.compareTo(3)</code>"},{"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"score":0,"creation_date":1367314757,"post_id":3420912,"comment_id":23328786,"body_markdown":"ImmutableSortedMap.copyOf throws IllegalArgumentException if there are duplicate values in the original map.","body":"ImmutableSortedMap.copyOf throws IllegalArgumentException if there are duplicate values in the original map."},{"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"score":0,"creation_date":1367368278,"post_id":3420912,"comment_id":23354601,"body_markdown":"@Ibalazscs Yes it will - You should be able to use `ImmutableSetMultiMap` or `ImmutableListMultiMap` to contain the collection of duplicate variables.","body":"@Ibalazscs Yes it will - You should be able to use <code>ImmutableSetMultiMap</code> or <code>ImmutableListMultiMap</code> to contain the collection of duplicate variables."},{"owner":{"account_id":1923489,"reputation":3432,"user_id":1734454,"accept_rate":42,"display_name":"alex"},"score":1,"creation_date":1377076957,"post_id":3420912,"comment_id":26943454,"body_markdown":"Thanks for this, I used your solution in one project. I think there&#39;s a problem in put though: to behave like a map it needs to return the value previously associated with the key, if it exists, but like this it will never do. The solution I used is to return the removed value if it exists.","body":"Thanks for this, I used your solution in one project. I think there&#39;s a problem in put though: to behave like a map it needs to return the value previously associated with the key, if it exists, but like this it will never do. The solution I used is to return the removed value if it exists."},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":0,"creation_date":1398159709,"post_id":3420912,"comment_id":35514762,"body_markdown":"Currently, `class ValueComparableMap&lt;K extends Comparable&lt;K&gt;,V&gt; extends TreeMap&lt;K,V&gt;`. Why `K extends Comparable&lt;K&gt;`? What about just `K`? Requiring the *key type `K`* to be a `Comparable` seems overly restrictive.","body":"Currently, <code>class ValueComparableMap&lt;K extends Comparable&lt;K&gt;,V&gt; extends TreeMap&lt;K,V&gt;</code>. Why <code>K extends Comparable&lt;K&gt;</code>? What about just <code>K</code>? Requiring the <i>key type <code>K</code></i> to be a <code>Comparable</code> seems overly restrictive."},{"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"score":0,"creation_date":1398190040,"post_id":3420912,"comment_id":35534806,"body_markdown":"@Abdull, you probably want to read the paragraph under the code a few times. (I&#39;ve just re-read it and have had a little trouble a year later ;)). We have to ensure the keys are not clobbered (otherwise we could remove items with the same values). The easiest way to do this is to make the key comparable. So yes, it is restrictive, but you&#39;d need to have 2 comparators otherwise (which is certainly possible, but outside the scope of the question).","body":"@Abdull, you probably want to read the paragraph under the code a few times. (I&#39;ve just re-read it and have had a little trouble a year later ;)). We have to ensure the keys are not clobbered (otherwise we could remove items with the same values). The easiest way to do this is to make the key comparable. So yes, it is restrictive, but you&#39;d need to have 2 comparators otherwise (which is certainly possible, but outside the scope of the question)."},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":0,"creation_date":1425595656,"post_id":3420912,"comment_id":46039559,"body_markdown":"Couldn&#39;t this simply work without the valueMap by using super.put() in the first place? Just thinking, haven&#39;t tried yet...","body":"Couldn&#39;t this simply work without the valueMap by using super.put() in the first place? Just thinking, haven&#39;t tried yet..."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1433903993,"post_id":3420912,"comment_id":49547493,"body_markdown":"Object valueComparator = Ordering.natural().onResultOf(Functions.forMap(map)).compound(Ordering.natural()); results in an error, Cannot resolve .compound(Ordering&lt;Comparable&gt;)","body":"Object valueComparator = Ordering.natural().onResultOf(Functions.forMap(map)).compoun&zwnj;&#8203;d(Ordering.natural()&zwnj;&#8203;); results in an error, Cannot resolve .compound(Ordering&lt;Comparable&gt;)"},{"owner":{"account_id":336815,"reputation":435,"user_id":664690,"accept_rate":60,"display_name":"has981"},"score":0,"creation_date":1465113403,"post_id":3420912,"comment_id":62759482,"body_markdown":"Thanks for the solution, I had to add:`@Override\n    public boolean containsKey(Object key) {\n      return valueMap.containsKey(key);\n    }` to overcome an exception thrown when calling containsKey.","body":"Thanks for the solution, I had to add:<code>@Override     public boolean containsKey(Object key) {       return valueMap.containsKey(key);     }</code> to overcome an exception thrown when calling containsKey."}],"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"comment_count":10,"down_vote_count":1,"up_vote_count":215,"is_accepted":false,"score":214,"last_activity_date":1374534899,"creation_date":1281067181,"answer_id":3420912,"question_id":109383,"body_markdown":"**Three 1-line answers...**\r\n\r\nI would use &lt;s&gt;Google Collections&lt;/s&gt; [**Guava**][1] to do this - if your values are `Comparable` then you can use\r\n\r\n    valueComparator = Ordering.natural().onResultOf(Functions.forMap(map))\r\n\r\nWhich will create a function (object) for the map [that takes any of the keys as input, returning the respective value], and then apply natural (comparable) ordering to them [the values].\r\n\r\nIf they&#39;re not comparable, then you&#39;ll need to do something along the lines of\r\n\r\n    valueComparator = Ordering.from(comparator).onResultOf(Functions.forMap(map)) \r\n\r\nThese may be applied to a TreeMap (as `Ordering` extends `Comparator`), or a [LinkedHashMap after some sorting][2]\r\n\r\n_NB_: If you are going to use a TreeMap, remember that if a comparison == 0, then the item is already in the list (which will happen if you have multiple values that compare the same).  To alleviate this, you could add your key to the comparator like so (presuming that your keys and values are `Comparable`):\r\n\r\n    valueComparator = Ordering.natural().onResultOf(Functions.forMap(map)).compound(Ordering.natural())\r\n\r\n= _Apply natural ordering to the value mapped by the key, and compound that with the natural ordering of the key_\r\n\r\nNote that this will still not work if your keys compare to 0, but this should be sufficient for most `comparable` items (as `hashCode`, `equals` and `compareTo` are often in sync...)\r\n\r\nSee [Ordering.onResultOf()][3] and [Functions.forMap()][4].\r\n\r\n&lt;h2&gt;Implementation&lt;/h2&gt;\r\n\r\nSo now that we&#39;ve got a comparator that does what we want, we need to get a result from it. \r\n\r\n    map = ImmutableSortedMap.copyOf(myOriginalMap, valueComparator);\r\n\r\nNow this will most likely work work, but:\r\n\r\n1. needs to be done given a complete finished map\r\n1. Don&#39;t try the comparators above on a `TreeMap`; there&#39;s no point trying to compare an inserted key when it doesn&#39;t have a value until after the put, i.e., it will break really fast\r\n\r\nPoint 1 is a bit of a deal-breaker for me; google collections is incredibly lazy (which is good: you can do pretty much every operation in an instant; the real work is done when you start using the result), and this requires copying a *whole* map!\r\n\r\n&lt;h2&gt;&quot;Full&quot; answer/Live sorted map by values&lt;/h2&gt;\r\n\r\nDon&#39;t worry though; if you were obsessed enough with having a &quot;live&quot; map sorted in this manner, you could solve not one but both(!) of the above issues with something crazy like the following:\r\n\r\n**Note: This has changed significantly in June 2012 - the previous code could never work: an internal HashMap is required to lookup the values without creating an infinite loop between the `TreeMap.get()` -&gt; `compare()` and `compare()` -&gt; `get()`**\r\n\r\n\timport static org.junit.Assert.assertEquals;\r\n\t\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\timport java.util.TreeMap;\r\n\t\r\n\timport com.google.common.base.Functions;\r\n\timport com.google.common.collect.Ordering;\r\n\t\r\n\tclass ValueComparableMap&lt;K extends Comparable&lt;K&gt;,V&gt; extends TreeMap&lt;K,V&gt; {\r\n\t\t//A map for doing lookups on the keys for comparison so we don&#39;t get infinite loops\r\n\t\tprivate final Map&lt;K, V&gt; valueMap;\r\n\t\r\n\t\tValueComparableMap(final Ordering&lt;? super V&gt; partialValueOrdering) {\r\n\t        this(partialValueOrdering, new HashMap&lt;K,V&gt;());\r\n\t    }\r\n\t\r\n\t\tprivate ValueComparableMap(Ordering&lt;? super V&gt; partialValueOrdering,\r\n\t\t\t\tHashMap&lt;K, V&gt; valueMap) {\r\n\t\t\tsuper(partialValueOrdering //Apply the value ordering\r\n\t\t\t\t\t.onResultOf(Functions.forMap(valueMap)) //On the result of getting the value for the key from the map\r\n\t\t\t\t\t.compound(Ordering.natural())); //as well as ensuring that the keys don&#39;t get clobbered\r\n\t\t\tthis.valueMap = valueMap;\r\n\t\t}\r\n\t\r\n\t    public V put(K k, V v) {\r\n\t    \tif (valueMap.containsKey(k)){\r\n\t    \t\t//remove the key in the sorted set before adding the key again\r\n\t    \t\tremove(k);\r\n\t    \t}\r\n\t    \tvalueMap.put(k,v); //To get &quot;real&quot; unsorted values for the comparator\r\n\t    \treturn super.put(k, v); //Put it in value order\r\n\t    }\r\n\t\r\n\t    public static void main(String[] args){\r\n\t    \tTreeMap&lt;String, Integer&gt; map = new ValueComparableMap&lt;String, Integer&gt;(Ordering.natural());\r\n\t    \tmap.put(&quot;a&quot;, 5);\r\n\t    \tmap.put(&quot;b&quot;, 1);\r\n\t    \tmap.put(&quot;c&quot;, 3);\r\n\t    \tassertEquals(&quot;b&quot;,map.firstKey());\r\n\t    \tassertEquals(&quot;a&quot;,map.lastKey());\r\n\t    \tmap.put(&quot;d&quot;,0);\r\n\t    \tassertEquals(&quot;d&quot;,map.firstKey());\r\n\t    \t//ensure it&#39;s still a map (by overwriting a key, but with a new value) \r\n\t    \tmap.put(&quot;d&quot;, 2);\r\n\t    \tassertEquals(&quot;b&quot;, map.firstKey());\r\n\t    \t//Ensure multiple values do not clobber keys\r\n\t    \tmap.put(&quot;e&quot;, 2);\r\n\t    \tassertEquals(5, map.size());\r\n\t    \tassertEquals(2, (int) map.get(&quot;e&quot;));\r\n\t    \tassertEquals(2, (int) map.get(&quot;d&quot;));\r\n\t    }\r\n\t }\r\n\r\nWhen we put, we ensure that the hash map has the value for the comparator, and then put to the TreeSet for sorting. But before that we check the hash map to see that the key is not actually a duplicate. Also, the comparator that we create will also include the key so that duplicate values don&#39;t delete the non-duplicate keys (due to == comparison).\r\nThese 2 items are *vital* for ensuring the map contract is kept; if you think you don&#39;t want that, then you&#39;re almost at the point of reversing the map entirely (to `Map&lt;V,K&gt;`).\r\n\r\nThe constructor would need to be called as \r\n\r\n     new ValueComparableMap(Ordering.natural());\r\n     //or\r\n     new ValueComparableMap(Ordering.from(comparator));\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java/109389#109389\r\n  [3]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Ordering.html#onResultOf(com.google.common.base.Function)\r\n  [4]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Functions.html#forMap(java.util.Map)","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>Three 1-line answers...</strong></p>\n\n<p>I would use <s>Google Collections</s> <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\"><strong>Guava</strong></a> to do this - if your values are <code>Comparable</code> then you can use</p>\n\n<pre><code>valueComparator = Ordering.natural().onResultOf(Functions.forMap(map))\n</code></pre>\n\n<p>Which will create a function (object) for the map [that takes any of the keys as input, returning the respective value], and then apply natural (comparable) ordering to them [the values].</p>\n\n<p>If they're not comparable, then you'll need to do something along the lines of</p>\n\n<pre><code>valueComparator = Ordering.from(comparator).onResultOf(Functions.forMap(map)) \n</code></pre>\n\n<p>These may be applied to a TreeMap (as <code>Ordering</code> extends <code>Comparator</code>), or a <a href=\"https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java/109389#109389\">LinkedHashMap after some sorting</a></p>\n\n<p><em>NB</em>: If you are going to use a TreeMap, remember that if a comparison == 0, then the item is already in the list (which will happen if you have multiple values that compare the same).  To alleviate this, you could add your key to the comparator like so (presuming that your keys and values are <code>Comparable</code>):</p>\n\n<pre><code>valueComparator = Ordering.natural().onResultOf(Functions.forMap(map)).compound(Ordering.natural())\n</code></pre>\n\n<p>= <em>Apply natural ordering to the value mapped by the key, and compound that with the natural ordering of the key</em></p>\n\n<p>Note that this will still not work if your keys compare to 0, but this should be sufficient for most <code>comparable</code> items (as <code>hashCode</code>, <code>equals</code> and <code>compareTo</code> are often in sync...)</p>\n\n<p>See <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Ordering.html#onResultOf(com.google.common.base.Function)\" rel=\"noreferrer\">Ordering.onResultOf()</a> and <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Functions.html#forMap(java.util.Map)\" rel=\"noreferrer\">Functions.forMap()</a>.</p>\n\n<h2>Implementation</h2>\n\n<p>So now that we've got a comparator that does what we want, we need to get a result from it. </p>\n\n<pre><code>map = ImmutableSortedMap.copyOf(myOriginalMap, valueComparator);\n</code></pre>\n\n<p>Now this will most likely work work, but:</p>\n\n<ol>\n<li>needs to be done given a complete finished map</li>\n<li>Don't try the comparators above on a <code>TreeMap</code>; there's no point trying to compare an inserted key when it doesn't have a value until after the put, i.e., it will break really fast</li>\n</ol>\n\n<p>Point 1 is a bit of a deal-breaker for me; google collections is incredibly lazy (which is good: you can do pretty much every operation in an instant; the real work is done when you start using the result), and this requires copying a <em>whole</em> map!</p>\n\n<h2>\"Full\" answer/Live sorted map by values</h2>\n\n<p>Don't worry though; if you were obsessed enough with having a \"live\" map sorted in this manner, you could solve not one but both(!) of the above issues with something crazy like the following:</p>\n\n<p><strong>Note: This has changed significantly in June 2012 - the previous code could never work: an internal HashMap is required to lookup the values without creating an infinite loop between the <code>TreeMap.get()</code> -> <code>compare()</code> and <code>compare()</code> -> <code>get()</code></strong></p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.TreeMap;\n\nimport com.google.common.base.Functions;\nimport com.google.common.collect.Ordering;\n\nclass ValueComparableMap&lt;K extends Comparable&lt;K&gt;,V&gt; extends TreeMap&lt;K,V&gt; {\n    //A map for doing lookups on the keys for comparison so we don't get infinite loops\n    private final Map&lt;K, V&gt; valueMap;\n\n    ValueComparableMap(final Ordering&lt;? super V&gt; partialValueOrdering) {\n        this(partialValueOrdering, new HashMap&lt;K,V&gt;());\n    }\n\n    private ValueComparableMap(Ordering&lt;? super V&gt; partialValueOrdering,\n            HashMap&lt;K, V&gt; valueMap) {\n        super(partialValueOrdering //Apply the value ordering\n                .onResultOf(Functions.forMap(valueMap)) //On the result of getting the value for the key from the map\n                .compound(Ordering.natural())); //as well as ensuring that the keys don't get clobbered\n        this.valueMap = valueMap;\n    }\n\n    public V put(K k, V v) {\n        if (valueMap.containsKey(k)){\n            //remove the key in the sorted set before adding the key again\n            remove(k);\n        }\n        valueMap.put(k,v); //To get \"real\" unsorted values for the comparator\n        return super.put(k, v); //Put it in value order\n    }\n\n    public static void main(String[] args){\n        TreeMap&lt;String, Integer&gt; map = new ValueComparableMap&lt;String, Integer&gt;(Ordering.natural());\n        map.put(\"a\", 5);\n        map.put(\"b\", 1);\n        map.put(\"c\", 3);\n        assertEquals(\"b\",map.firstKey());\n        assertEquals(\"a\",map.lastKey());\n        map.put(\"d\",0);\n        assertEquals(\"d\",map.firstKey());\n        //ensure it's still a map (by overwriting a key, but with a new value) \n        map.put(\"d\", 2);\n        assertEquals(\"b\", map.firstKey());\n        //Ensure multiple values do not clobber keys\n        map.put(\"e\", 2);\n        assertEquals(5, map.size());\n        assertEquals(2, (int) map.get(\"e\"));\n        assertEquals(2, (int) map.get(\"d\"));\n    }\n }\n</code></pre>\n\n<p>When we put, we ensure that the hash map has the value for the comparator, and then put to the TreeSet for sorting. But before that we check the hash map to see that the key is not actually a duplicate. Also, the comparator that we create will also include the key so that duplicate values don't delete the non-duplicate keys (due to == comparison).\nThese 2 items are <em>vital</em> for ensuring the map contract is kept; if you think you don't want that, then you're almost at the point of reversing the map entirely (to <code>Map&lt;V,K&gt;</code>).</p>\n\n<p>The constructor would need to be called as </p>\n\n<pre><code> new ValueComparableMap(Ordering.natural());\n //or\n new ValueComparableMap(Ordering.from(comparator));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1293947602,"creation_date":1293947602,"answer_id":4577336,"question_id":109383,"body_markdown":"Here is an OO solution (i.e., doesn&#39;t use `static` methods):\r\n\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class SortableValueMap&lt;K, V extends Comparable&lt;V&gt;&gt;\r\n      extends LinkedHashMap&lt;K, V&gt; {\r\n      public SortableValueMap() { }\r\n    \r\n      public SortableValueMap( Map&lt;K, V&gt; map ) {\r\n        super( map );\r\n      }\r\n    \r\n      public void sortByValue() {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;( entrySet() );\r\n    \r\n        Collections.sort( list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\r\n          public int compare( Map.Entry&lt;K, V&gt; entry1, Map.Entry&lt;K, V&gt; entry2 ) {\r\n            return entry1.getValue().compareTo( entry2.getValue() );\r\n          }\r\n        });\r\n    \r\n        clear();\r\n    \r\n        for( Map.Entry&lt;K, V&gt; entry : list ) {\r\n          put( entry.getKey(), entry.getValue() );\r\n        }\r\n      }\r\n    \r\n      private static void print( String text, Map&lt;String, Double&gt; map ) {\r\n        System.out.println( text );\r\n    \r\n        for( String key : map.keySet() ) {\r\n          System.out.println( &quot;key/value: &quot; + key + &quot;/&quot; + map.get( key ) );\r\n        }\r\n      }\r\n    \r\n      public static void main( String[] args ) {\r\n        SortableValueMap&lt;String, Double&gt; map =\r\n          new SortableValueMap&lt;String, Double&gt;();\r\n    \r\n        map.put( &quot;A&quot;, 67.5 );\r\n        map.put( &quot;B&quot;, 99.5 );\r\n        map.put( &quot;C&quot;, 82.4 );\r\n        map.put( &quot;D&quot;, 42.0 );\r\n    \r\n        print( &quot;Unsorted map&quot;, map );\r\n        map.sortByValue();\r\n        print( &quot;Sorted map&quot;, map );\r\n      }\r\n    }\r\n\r\nHereby donated to the public domain.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Here is an OO solution (i.e., doesn't use <code>static</code> methods):</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class SortableValueMap&lt;K, V extends Comparable&lt;V&gt;&gt;\n  extends LinkedHashMap&lt;K, V&gt; {\n  public SortableValueMap() { }\n\n  public SortableValueMap( Map&lt;K, V&gt; map ) {\n    super( map );\n  }\n\n  public void sortByValue() {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;( entrySet() );\n\n    Collections.sort( list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\n      public int compare( Map.Entry&lt;K, V&gt; entry1, Map.Entry&lt;K, V&gt; entry2 ) {\n        return entry1.getValue().compareTo( entry2.getValue() );\n      }\n    });\n\n    clear();\n\n    for( Map.Entry&lt;K, V&gt; entry : list ) {\n      put( entry.getKey(), entry.getValue() );\n    }\n  }\n\n  private static void print( String text, Map&lt;String, Double&gt; map ) {\n    System.out.println( text );\n\n    for( String key : map.keySet() ) {\n      System.out.println( \"key/value: \" + key + \"/\" + map.get( key ) );\n    }\n  }\n\n  public static void main( String[] args ) {\n    SortableValueMap&lt;String, Double&gt; map =\n      new SortableValueMap&lt;String, Double&gt;();\n\n    map.put( \"A\", 67.5 );\n    map.put( \"B\", 99.5 );\n    map.put( \"C\", 82.4 );\n    map.put( \"D\", 42.0 );\n\n    print( \"Unsorted map\", map );\n    map.sortByValue();\n    print( \"Sorted map\", map );\n  }\n}\n</code></pre>\n\n<p>Hereby donated to the public domain.</p>\n"},{"comments":[{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1330188053,"post_id":4943507,"comment_id":11946867,"body_markdown":"It&#39;s incorrect, my method works if there are duplicate values. I&#39;ve used it with maps having more than 100 keys with &quot;1&quot; as value.","body":"It&#39;s incorrect, my method works if there are duplicate values. I&#39;ve used it with maps having more than 100 keys with &quot;1&quot; as value."}],"tags":[],"owner":{"account_id":269066,"reputation":597,"user_id":558193,"display_name":"Roger"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1297246885,"creation_date":1297246885,"answer_id":4943507,"question_id":109383,"body_markdown":"This is a variation of Anthony&#39;s answer, which doesn&#39;t work if there are duplicate values:\r\n\r\n    public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortMapByValues(final Map&lt;K, V&gt; map) {\r\n        Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\r\n            public int compare(K k1, K k2) {\r\n                final V v1 = map.get(k1);\r\n                final V v2 = map.get(k2);\r\n                \r\n                /* Not sure how to handle nulls ... */\r\n                if (v1 == null) {\r\n                    return (v2 == null) ? 0 : 1;\r\n                }\r\n                \r\n                int compare = v2.compareTo(v1);\r\n                if (compare != 0)\r\n                {\r\n                    return compare;\r\n                }\r\n                else\r\n                {\r\n                    Integer h1 = k1.hashCode();\r\n                    Integer h2 = k2.hashCode();\r\n                    return h2.compareTo(h1);\r\n                }\r\n            }\r\n        };\r\n        Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\r\n        sortedByValues.putAll(map);\r\n        return sortedByValues;\r\n    }\r\n\r\n\r\nNote that it&#39;s rather up in the air how to handle nulls. \r\n\r\nOne important advantage of this approach is that it actually returns a Map, unlike some of the other solutions offered here.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This is a variation of Anthony's answer, which doesn't work if there are duplicate values:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortMapByValues(final Map&lt;K, V&gt; map) {\n    Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\n        public int compare(K k1, K k2) {\n            final V v1 = map.get(k1);\n            final V v2 = map.get(k2);\n\n            /* Not sure how to handle nulls ... */\n            if (v1 == null) {\n                return (v2 == null) ? 0 : 1;\n            }\n\n            int compare = v2.compareTo(v1);\n            if (compare != 0)\n            {\n                return compare;\n            }\n            else\n            {\n                Integer h1 = k1.hashCode();\n                Integer h2 = k2.hashCode();\n                return h2.compareTo(h1);\n            }\n        }\n    };\n    Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\n    sortedByValues.putAll(map);\n    return sortedByValues;\n}\n</code></pre>\n\n<p>Note that it's rather up in the air how to handle nulls. </p>\n\n<p>One important advantage of this approach is that it actually returns a Map, unlike some of the other solutions offered here.</p>\n"},{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1306785407,"creation_date":1298034389,"answer_id":5041615,"question_id":109383,"body_markdown":"    public class SortedMapExample {\r\n\r\n        public static void main(String[] args) {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n            map.put(&quot;Cde&quot;, &quot;C&quot;);\r\n            map.put(&quot;Abc&quot;, &quot;A&quot;);\r\n            map.put(&quot;Cbc&quot;, &quot;Z&quot;);\r\n            map.put(&quot;Dbc&quot;, &quot;D&quot;);\r\n            map.put(&quot;Bcd&quot;, &quot;B&quot;);\r\n            map.put(&quot;sfd&quot;, &quot;Bqw&quot;);\r\n            map.put(&quot;DDD&quot;, &quot;Bas&quot;);\r\n            map.put(&quot;BGG&quot;, &quot;Basd&quot;);\r\n\r\n            System.out.println(sort(map, new Comparator&lt;String&gt;() {\r\n                @Override\r\n                public int compare(String o1, String o2) {\r\n                        return o1.compareTo(o2);\r\n                }}));\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;K, V&gt; Map&lt;K,V&gt; sort(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\r\n            Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\r\n            V[] array = (V[])in.values().toArray();\r\n            for(int i=0;i&lt;array.length;i++)\r\n            {\r\n\r\n            }\r\n            Arrays.sort(array, compare);\r\n            for (V item : array) {\r\n                K key= (K) getKey(in, item);\r\n                result.put(key, item);\r\n            }\r\n            return result;\r\n        }\r\n\r\n        public static &lt;K, V&gt;  Object getKey(Map&lt;K, V&gt; in,V value)\r\n        {\r\n           Set&lt;K&gt; key= in.keySet();\r\n           Iterator&lt;K&gt; keyIterator=key.iterator();\r\n           while (keyIterator.hasNext()) {\r\n               K valueObject = (K) keyIterator.next();\r\n               if(in.get(valueObject).equals(value))\r\n               {\r\n                       return valueObject;\r\n               }\r\n           }\r\n           return null;\r\n       }\r\n   }\r\n\r\n// Please try here. I am modifing the code for value sort.\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>public class SortedMapExample {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n        map.put(\"Cde\", \"C\");\n        map.put(\"Abc\", \"A\");\n        map.put(\"Cbc\", \"Z\");\n        map.put(\"Dbc\", \"D\");\n        map.put(\"Bcd\", \"B\");\n        map.put(\"sfd\", \"Bqw\");\n        map.put(\"DDD\", \"Bas\");\n        map.put(\"BGG\", \"Basd\");\n\n        System.out.println(sort(map, new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String o1, String o2) {\n                    return o1.compareTo(o2);\n            }}));\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;K, V&gt; Map&lt;K,V&gt; sort(Map&lt;K, V&gt; in, Comparator&lt;? super V&gt; compare) {\n        Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\n        V[] array = (V[])in.values().toArray();\n        for(int i=0;i&lt;array.length;i++)\n        {\n\n        }\n        Arrays.sort(array, compare);\n        for (V item : array) {\n            K key= (K) getKey(in, item);\n            result.put(key, item);\n        }\n        return result;\n    }\n\n    public static &lt;K, V&gt;  Object getKey(Map&lt;K, V&gt; in,V value)\n    {\n       Set&lt;K&gt; key= in.keySet();\n       Iterator&lt;K&gt; keyIterator=key.iterator();\n       while (keyIterator.hasNext()) {\n           K valueObject = (K) keyIterator.next();\n           if(in.get(valueObject).equals(value))\n           {\n                   return valueObject;\n           }\n       }\n       return null;\n   }\n</code></pre>\n\n<p>}</p>\n\n<p>// Please try here. I am modifing the code for value sort.</p>\n"},{"tags":[],"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1307546584,"creation_date":1307546584,"answer_id":6281263,"question_id":109383,"body_markdown":"Afaik the most cleaner way is utilizing collections to sort map on value:\r\n\r\n    Map&lt;String, Long&gt; map = new HashMap&lt;String, Long&gt;();\r\n    // populate with data to sort on Value\r\n    // use datastructure designed for sorting\r\n    \r\n    Queue queue = new PriorityQueue( map.size(), new MapComparable() );\r\n    queue.addAll( map.entrySet() );\r\n    \r\n    // get a sorted map\r\n    LinkedHashMap&lt;String, Long&gt; linkedMap = new LinkedHashMap&lt;String, Long&gt;();\r\n    \r\n    for (Map.Entry&lt;String, Long&gt; entry; (entry = queue.poll())!=null;) {\r\n        linkedMap.put(entry.getKey(), entry.getValue());\r\n    }\r\n    \r\n    public static class MapComparable implements Comparator&lt;Map.Entry&lt;String, Long&gt;&gt;{\r\n    \r\n      public int compare(Entry&lt;String, Long&gt; e1, Entry&lt;String, Long&gt; e2) {\r\n        return e1.getValue().compareTo(e2.getValue());\r\n      }\r\n    }\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Afaik the most cleaner way is utilizing collections to sort map on value:</p>\n\n<pre><code>Map&lt;String, Long&gt; map = new HashMap&lt;String, Long&gt;();\n// populate with data to sort on Value\n// use datastructure designed for sorting\n\nQueue queue = new PriorityQueue( map.size(), new MapComparable() );\nqueue.addAll( map.entrySet() );\n\n// get a sorted map\nLinkedHashMap&lt;String, Long&gt; linkedMap = new LinkedHashMap&lt;String, Long&gt;();\n\nfor (Map.Entry&lt;String, Long&gt; entry; (entry = queue.poll())!=null;) {\n    linkedMap.put(entry.getKey(), entry.getValue());\n}\n\npublic static class MapComparable implements Comparator&lt;Map.Entry&lt;String, Long&gt;&gt;{\n\n  public int compare(Entry&lt;String, Long&gt; e1, Entry&lt;String, Long&gt; e2) {\n    return e1.getValue().compareTo(e2.getValue());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":781513,"reputation":11,"user_id":829939,"display_name":"RoyalBigorno"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1629260163,"creation_date":1309877359,"answer_id":6584631,"question_id":109383,"body_markdown":"Use a generic comparator such as:\r\n\r\n```java\r\nfinal class MapValueComparator&lt;K,V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;K&gt; {\r\n    private final Map&lt;K,V&gt; map;\r\n    \r\n    private MapValueComparator() {\r\n        super();\r\n    }\r\n    \r\n    public MapValueComparator(Map&lt;K,V&gt; map) {\r\n        this();\r\n        this.map = map;\r\n    }\r\n        \r\n    public int compare(K o1, K o2) {\r\n        return map.get(o1).compareTo(map.get(o2));\r\n    }\r\n}\r\n```","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Use a generic comparator such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class MapValueComparator&lt;K,V extends Comparable&lt;V&gt;&gt; implements Comparator&lt;K&gt; {\n    private final Map&lt;K,V&gt; map;\n    \n    private MapValueComparator() {\n        super();\n    }\n    \n    public MapValueComparator(Map&lt;K,V&gt; map) {\n        this();\n        this.map = map;\n    }\n        \n    public int compare(K o1, K o2) {\n        return map.get(o1).compareTo(map.get(o2));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":153655,"reputation":5838,"user_id":369060,"accept_rate":89,"display_name":"michel.iamit"},"score":0,"creation_date":1322053960,"post_id":6705027,"comment_id":10139739,"body_markdown":"you were right, there was some error in the code I gave at first! i Hope my recent edit will help you.","body":"you were right, there was some error in the code I gave at first! i Hope my recent edit will help you."}],"tags":[],"owner":{"account_id":153655,"reputation":5838,"user_id":369060,"accept_rate":89,"display_name":"michel.iamit"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1322053906,"creation_date":1310721804,"answer_id":6705027,"question_id":109383,"body_markdown":"The answer voted for the most does not work when you have 2 items that equals.\r\nthe TreeMap leaves equal values out.\r\n\r\nthe exmaple:\r\nunsorted map\r\n&lt;pre&gt;\r\nkey/value: D/67.3\r\nkey/value: A/99.5\r\nkey/value: B/67.4\r\nkey/value: C/67.5\r\nkey/value: E/99.5\r\n&lt;/pre&gt;\r\nresults\r\n&lt;pre&gt;\r\nkey/value: A/99.5\r\nkey/value: C/67.5\r\nkey/value: B/67.4\r\nkey/value: D/67.3\r\n&lt;/pre&gt;\r\nSo leaves out E!!\r\n\r\nFor me it worked fine to adjust the comparator, if it equals do not return 0 but -1.\r\n\r\nin the example:\r\n&gt;&gt; class ValueComparator implements Comparator {\r\n&gt;&gt; \r\n&gt;&gt;   Map base;\r\n&gt;&gt;   public ValueComparator(Map base) {\r\n&gt;&gt;       this.base = base;\r\n&gt;&gt;   }\r\n&gt;&gt; \r\n&gt;&gt;   public int compare(Object a, Object b) {\r\n&gt;&gt; \r\n&gt;&gt;     if((Double)base.get(a) &lt; (Double)base.get(b)) {\r\n&gt;&gt;       return 1;\r\n&gt;&gt;     } else if((Double)base.get(a) == (Double)base.get(b)) {\r\n&gt;&gt;       return -1;\r\n&gt;&gt;     } else {\r\n&gt;&gt;       return -1;\r\n&gt;&gt;     }\r\n&gt;&gt;   }\r\n&gt;&gt; }\r\n\r\n\r\nnow it returns:\r\n\r\nunsorted map:\r\n&lt;pre&gt;\r\nkey/value: D/67.3\r\nkey/value: A/99.5\r\nkey/value: B/67.4\r\nkey/value: C/67.5\r\nkey/value: E/99.5\r\n&lt;/pre&gt;\r\nresults:\r\n&lt;pre&gt;\r\nkey/value: A/99.5\r\nkey/value: E/99.5\r\nkey/value: C/67.5\r\nkey/value: B/67.4\r\nkey/value: D/67.3\r\n&lt;/pre&gt;\r\n\r\nas a response to Aliens (2011 nov. 22):\r\nI Am using this solution for a map of Integer Id&#39;s and names, but the idea is the same, so might be the code above is not correct (I will write it in a test and give you the correct code), this is the code for a Map&lt;Integer,String&gt; sorting, based on the solution above:\r\n\r\n    package nl.iamit.util;\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.Map;\r\n    \r\n    public class Comparators {\r\n    \t\r\n    \t\r\n    \tpublic static class MapIntegerStringComparator implements Comparator {\r\n    \r\n    \t\tMap&lt;Integer, String&gt; base;\r\n    \r\n    \t\tpublic MapIntegerStringComparator(Map&lt;Integer, String&gt; base) {\r\n    \t\t\tthis.base = base;\r\n    \t\t}\r\n    \r\n    \t\tpublic int compare(Object a, Object b) {\r\n    \r\n    \t\t\tint compare = ((String) base.get(a))\r\n    \t\t\t\t\t.compareTo((String) base.get(b));\r\n    \t\t\tif (compare == 0) {\r\n    \t\t\t\treturn -1;\r\n    \t\t\t}\r\n    \t\t\treturn compare;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\nand this is the test class (I just tested it, and this works for the Integer, String Map:\r\n\r\n    package test.nl.iamit.util;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.TreeMap;\r\n    import nl.iamit.util.Comparators;\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.assertArrayEquals;\r\n    \r\n    public class TestComparators {\r\n    \r\n    \t\r\n    \t@Test\r\n    \tpublic void testMapIntegerStringComparator(){\r\n    \t\tHashMap&lt;Integer, String&gt; unSoretedMap = new HashMap&lt;Integer, String&gt;();\r\n    \t\tComparators.MapIntegerStringComparator bvc = new Comparators.MapIntegerStringComparator(\r\n    \t\t\t\tunSoretedMap);\r\n    \t\tTreeMap&lt;Integer, String&gt; sorted_map = new TreeMap&lt;Integer, String&gt;(bvc);\r\n    \t\t//the testdata:\r\n    \t\tunSoretedMap.put(new Integer(1), &quot;E&quot;);\r\n    \t\tunSoretedMap.put(new Integer(2), &quot;A&quot;);\r\n    \t\tunSoretedMap.put(new Integer(3), &quot;E&quot;);\r\n    \t\tunSoretedMap.put(new Integer(4), &quot;B&quot;);\r\n    \t\tunSoretedMap.put(new Integer(5), &quot;F&quot;);\r\n    \r\n    \t\tsorted_map.putAll(unSoretedMap);\r\n    \r\n    \t\tObject[] targetKeys={new Integer(2),new Integer(4),new Integer(3),new Integer(1),new Integer(5) };\r\n    \t\tObject[] currecntKeys=sorted_map.keySet().toArray();\r\n    \t\t\r\n    \t\tassertArrayEquals(targetKeys,currecntKeys);\r\n    \t}\r\n    }\r\n\r\n\r\nhere is the code for the Comparator of a Map&lt;String,Double&gt;:\r\n\r\n\tpublic static class MapStringDoubleComparator implements Comparator {\r\n\r\n\t\tMap&lt;String, Double&gt; base;\r\n\r\n\t\tpublic MapStringDoubleComparator(Map&lt;String, Double&gt; base) {\r\n\t\t\tthis.base = base;\r\n\t\t}\r\n\r\n\t\t//note if you want decending in stead of ascending, turn around 1 and -1\r\n\t\tpublic int compare(Object a, Object b) {\r\n\t\t\tif ((Double) base.get(a) == (Double) base.get(b)) {\r\n\t\t\t\treturn 0;\r\n\t\t\t} else if((Double) base.get(a) &lt; (Double) base.get(b)) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}else{\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nand this is the testcase for this:\r\n\r\n\t@Test\r\n\tpublic void testMapStringDoubleComparator(){\r\n\t\tHashMap&lt;String, Double&gt; unSoretedMap = new HashMap&lt;String, Double&gt;();\r\n\t\tComparators.MapStringDoubleComparator bvc = new Comparators.MapStringDoubleComparator(\r\n\t\t\t\tunSoretedMap);\r\n\t\tTreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\r\n\t\t//the testdata:\r\n\t\tunSoretedMap.put(&quot;D&quot;,new Double(67.3));\r\n\t\tunSoretedMap.put(&quot;A&quot;,new Double(99.5));\r\n\t\tunSoretedMap.put(&quot;B&quot;,new Double(67.4));\r\n\t\tunSoretedMap.put(&quot;C&quot;,new Double(67.5));\r\n\t\tunSoretedMap.put(&quot;E&quot;,new Double(99.5));\r\n\r\n\t\tsorted_map.putAll(unSoretedMap);\r\n\r\n\t\tObject[] targetKeys={&quot;D&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;,&quot;A&quot;};\r\n\t\tObject[] currecntKeys=sorted_map.keySet().toArray();\r\n\t\t\r\n\t\tassertArrayEquals(targetKeys,currecntKeys);\r\n\t}\r\n\r\n\r\nof cource you can make this a lot more generic, but I just needed it for 1 case (the Map&lt;Integer,String&gt;)\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>The answer voted for the most does not work when you have 2 items that equals.\nthe TreeMap leaves equal values out.</p>\n\n<p>the exmaple:\nunsorted map</p>\n\n<pre>\nkey/value: D/67.3\nkey/value: A/99.5\nkey/value: B/67.4\nkey/value: C/67.5\nkey/value: E/99.5\n</pre>\n\n<p>results</p>\n\n<pre>\nkey/value: A/99.5\nkey/value: C/67.5\nkey/value: B/67.4\nkey/value: D/67.3\n</pre>\n\n<p>So leaves out E!!</p>\n\n<p>For me it worked fine to adjust the comparator, if it equals do not return 0 but -1.</p>\n\n<p>in the example:</p>\n\n<blockquote>\n  <blockquote>\n    <p>class ValueComparator implements Comparator {</p>\n    \n    <p>Map base;\n      public ValueComparator(Map base) {\n          this.base = base;\n      }</p>\n    \n    <p>public int compare(Object a, Object b) {</p>\n\n<pre><code>if((Double)base.get(a) &lt; (Double)base.get(b)) {\n  return 1;\n} else if((Double)base.get(a) == (Double)base.get(b)) {\n  return -1;\n} else {\n  return -1;\n}\n</code></pre>\n    \n    <p>}\n    }</p>\n  </blockquote>\n</blockquote>\n\n<p>now it returns:</p>\n\n<p>unsorted map:</p>\n\n<pre>\nkey/value: D/67.3\nkey/value: A/99.5\nkey/value: B/67.4\nkey/value: C/67.5\nkey/value: E/99.5\n</pre>\n\n<p>results:</p>\n\n<pre>\nkey/value: A/99.5\nkey/value: E/99.5\nkey/value: C/67.5\nkey/value: B/67.4\nkey/value: D/67.3\n</pre>\n\n<p>as a response to Aliens (2011 nov. 22):\nI Am using this solution for a map of Integer Id's and names, but the idea is the same, so might be the code above is not correct (I will write it in a test and give you the correct code), this is the code for a Map sorting, based on the solution above:</p>\n\n<pre><code>package nl.iamit.util;\n\nimport java.util.Comparator;\nimport java.util.Map;\n\npublic class Comparators {\n\n\n    public static class MapIntegerStringComparator implements Comparator {\n\n        Map&lt;Integer, String&gt; base;\n\n        public MapIntegerStringComparator(Map&lt;Integer, String&gt; base) {\n            this.base = base;\n        }\n\n        public int compare(Object a, Object b) {\n\n            int compare = ((String) base.get(a))\n                    .compareTo((String) base.get(b));\n            if (compare == 0) {\n                return -1;\n            }\n            return compare;\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>and this is the test class (I just tested it, and this works for the Integer, String Map:</p>\n\n<pre><code>package test.nl.iamit.util;\n\nimport java.util.HashMap;\nimport java.util.TreeMap;\nimport nl.iamit.util.Comparators;\nimport org.junit.Test;\nimport static org.junit.Assert.assertArrayEquals;\n\npublic class TestComparators {\n\n\n    @Test\n    public void testMapIntegerStringComparator(){\n        HashMap&lt;Integer, String&gt; unSoretedMap = new HashMap&lt;Integer, String&gt;();\n        Comparators.MapIntegerStringComparator bvc = new Comparators.MapIntegerStringComparator(\n                unSoretedMap);\n        TreeMap&lt;Integer, String&gt; sorted_map = new TreeMap&lt;Integer, String&gt;(bvc);\n        //the testdata:\n        unSoretedMap.put(new Integer(1), \"E\");\n        unSoretedMap.put(new Integer(2), \"A\");\n        unSoretedMap.put(new Integer(3), \"E\");\n        unSoretedMap.put(new Integer(4), \"B\");\n        unSoretedMap.put(new Integer(5), \"F\");\n\n        sorted_map.putAll(unSoretedMap);\n\n        Object[] targetKeys={new Integer(2),new Integer(4),new Integer(3),new Integer(1),new Integer(5) };\n        Object[] currecntKeys=sorted_map.keySet().toArray();\n\n        assertArrayEquals(targetKeys,currecntKeys);\n    }\n}\n</code></pre>\n\n<p>here is the code for the Comparator of a Map:</p>\n\n<pre><code>public static class MapStringDoubleComparator implements Comparator {\n\n    Map&lt;String, Double&gt; base;\n\n    public MapStringDoubleComparator(Map&lt;String, Double&gt; base) {\n        this.base = base;\n    }\n\n    //note if you want decending in stead of ascending, turn around 1 and -1\n    public int compare(Object a, Object b) {\n        if ((Double) base.get(a) == (Double) base.get(b)) {\n            return 0;\n        } else if((Double) base.get(a) &lt; (Double) base.get(b)) {\n            return -1;\n        }else{\n            return 1;\n        }\n    }\n}\n</code></pre>\n\n<p>and this is the testcase for this:</p>\n\n<pre><code>@Test\npublic void testMapStringDoubleComparator(){\n    HashMap&lt;String, Double&gt; unSoretedMap = new HashMap&lt;String, Double&gt;();\n    Comparators.MapStringDoubleComparator bvc = new Comparators.MapStringDoubleComparator(\n            unSoretedMap);\n    TreeMap&lt;String, Double&gt; sorted_map = new TreeMap&lt;String, Double&gt;(bvc);\n    //the testdata:\n    unSoretedMap.put(\"D\",new Double(67.3));\n    unSoretedMap.put(\"A\",new Double(99.5));\n    unSoretedMap.put(\"B\",new Double(67.4));\n    unSoretedMap.put(\"C\",new Double(67.5));\n    unSoretedMap.put(\"E\",new Double(99.5));\n\n    sorted_map.putAll(unSoretedMap);\n\n    Object[] targetKeys={\"D\",\"B\",\"C\",\"E\",\"A\"};\n    Object[] currecntKeys=sorted_map.keySet().toArray();\n\n    assertArrayEquals(targetKeys,currecntKeys);\n}\n</code></pre>\n\n<p>of cource you can make this a lot more generic, but I just needed it for 1 case (the Map)</p>\n"},{"tags":[],"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314125562,"creation_date":1314125562,"answer_id":7166058,"question_id":109383,"body_markdown":"This method will just serve the purpose. (the &#39;setback&#39; is that the Values **must implement the java.util.Comparable interface**)\r\n\r\n      /**\r\n\r\n     * Sort a map according to values.\r\n\r\n     * @param &lt;K&gt; the key of the map.\r\n     * @param &lt;V&gt; the value to sort according to.\r\n     * @param mapToSort the map to sort.\r\n\r\n     * @return a map sorted on the values.\r\n\r\n     */ \r\n    public static &lt;K, V extends Comparable&lt; ? super V&gt;&gt; Map&lt;K, V&gt;\r\n    sortMapByValues(final Map &lt;K, V&gt; mapToSort)\r\n    {\r\n        List&lt;Map.Entry&lt;K, V&gt;&gt; entries =\r\n            new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(mapToSort.size());  \r\n\r\n        entries.addAll(mapToSort.entrySet());\r\n\r\n        Collections.sort(entries,\r\n                         new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\r\n        {\r\n            @Override\r\n            public int compare(\r\n                   final Map.Entry&lt;K, V&gt; entry1,\r\n                   final Map.Entry&lt;K, V&gt; entry2)\r\n            {\r\n                return entry1.getValue().compareTo(entry2.getValue());\r\n            }\r\n        });      \r\n\r\n        Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;K, V&gt;();      \r\n\r\n        for (Map.Entry&lt;K, V&gt; entry : entries)\r\n        {\r\n            sortedMap.put(entry.getKey(), entry.getValue());\r\n\r\n        }      \r\n\r\n        return sortedMap;\r\n\r\n    }\r\n[http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html][1]\r\n\r\n\r\n  [1]: http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This method will just serve the purpose. (the 'setback' is that the Values <strong>must implement the java.util.Comparable interface</strong>)</p>\n\n<pre><code>  /**\n\n * Sort a map according to values.\n\n * @param &lt;K&gt; the key of the map.\n * @param &lt;V&gt; the value to sort according to.\n * @param mapToSort the map to sort.\n\n * @return a map sorted on the values.\n\n */ \npublic static &lt;K, V extends Comparable&lt; ? super V&gt;&gt; Map&lt;K, V&gt;\nsortMapByValues(final Map &lt;K, V&gt; mapToSort)\n{\n    List&lt;Map.Entry&lt;K, V&gt;&gt; entries =\n        new ArrayList&lt;Map.Entry&lt;K, V&gt;&gt;(mapToSort.size());  \n\n    entries.addAll(mapToSort.entrySet());\n\n    Collections.sort(entries,\n                     new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\n    {\n        @Override\n        public int compare(\n               final Map.Entry&lt;K, V&gt; entry1,\n               final Map.Entry&lt;K, V&gt; entry2)\n        {\n            return entry1.getValue().compareTo(entry2.getValue());\n        }\n    });      \n\n    Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;K, V&gt;();      \n\n    for (Map.Entry&lt;K, V&gt; entry : entries)\n    {\n        sortedMap.put(entry.getKey(), entry.getValue());\n\n    }      \n\n    return sortedMap;\n\n}\n</code></pre>\n\n<p><a href=\"http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html\" rel=\"nofollow\">http://javawithswaranga.blogspot.com/2011/06/generic-method-to-sort-hashmap.html</a></p>\n"},{"comments":[{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1325008113,"post_id":7263116,"comment_id":10742401,"body_markdown":"that&#39;s right but your comparator doesn&#39;t handle equals values case","body":"that&#39;s right but your comparator doesn&#39;t handle equals values case"}],"tags":[],"owner":{"account_id":457261,"reputation":3574,"user_id":856468,"display_name":"malix"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1314823225,"creation_date":1314823225,"answer_id":7263116,"question_id":109383,"body_markdown":"Since ***TreeMap&lt;&gt; does not work*** for values that can be equal, I used this:\r\n    \r\n\tprivate &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map)     {\r\n\t\tList&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\r\n\t\tCollections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\r\n\t\t\tpublic int compare(Map.Entry&lt;K, V&gt; o1, Map.Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn o1.getValue().compareTo(o2.getValue());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\nYou might want to put ***list*** in a ***LinkedHashMap***, but if you&#39;re only going to iterate over it right away, that&#39;s superfluous...\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Since <strong><em>TreeMap&lt;> does not work</em></strong> for values that can be equal, I used this:</p>\n\n<pre><code>private &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map)     {\n    List&lt;Map.Entry&lt;K, V&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;(map.entrySet());\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() {\n        public int compare(Map.Entry&lt;K, V&gt; o1, Map.Entry&lt;K, V&gt; o2) {\n            return o1.getValue().compareTo(o2.getValue());\n        }\n    });\n\n    return list;\n}\n</code></pre>\n\n<p>You might want to put <strong><em>list</em></strong> in a <strong><em>LinkedHashMap</em></strong>, but if you're only going to iterate over it right away, that's superfluous...</p>\n"},{"tags":[],"owner":{"account_id":872698,"reputation":11,"user_id":923190,"display_name":"dimkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314870813,"creation_date":1314870813,"answer_id":7268690,"question_id":109383,"body_markdown":"Some simple changes in order to have a sorted map with pairs that have duplicate values. In the compare method (class ValueComparator) when values are equal do not return 0 but return the result of comparing the 2 keys. Keys are distinct in a map so you succeed to keep duplicate values (which are sorted by keys by the way). So the above example could be modified like this:\r\n\r\n        public int compare(Object a, Object b) {\r\n\r\n\t\t    if((Double)base.get(a) &lt; (Double)base.get(b)) {\r\n\t\t      return 1;\r\n\t\t    } else if((Double)base.get(a) == (Double)base.get(b)) {\r\n\t\t      return ((String)a).compareTo((String)b);\r\n\t\t    } else {\r\n\t\t      return -1;\r\n\t\t    }\r\n\t\t  }\r\n\t\t}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Some simple changes in order to have a sorted map with pairs that have duplicate values. In the compare method (class ValueComparator) when values are equal do not return 0 but return the result of comparing the 2 keys. Keys are distinct in a map so you succeed to keep duplicate values (which are sorted by keys by the way). So the above example could be modified like this:</p>\n\n<pre><code>    public int compare(Object a, Object b) {\n\n        if((Double)base.get(a) &lt; (Double)base.get(b)) {\n          return 1;\n        } else if((Double)base.get(a) == (Double)base.get(b)) {\n          return ((String)a).compareTo((String)b);\n        } else {\n          return -1;\n        }\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937165,"reputation":1,"user_id":965886,"display_name":"nibor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317073172,"creation_date":1317073172,"answer_id":7561661,"question_id":109383,"body_markdown":"If you have duplicate keys and only a small set of data (&lt;1000) and your code is not performance critical you can just do the following:\r\n\r\n    Map&lt;String,Integer&gt; tempMap=new HashMap&lt;String,Integer&gt;(inputUnsortedMap);\r\n    LinkedHashMap&lt;String,Integer&gt; sortedOutputMap=new LinkedHashMap&lt;String,Integer&gt;();\r\n\r\n    for(int i=0;i&lt;inputUnsortedMap.size();i++){\r\n    \tMap.Entry&lt;String,Integer&gt; maxEntry=null;\r\n      \tInteger maxValue=-1;\r\n       \tfor(Map.Entry&lt;String,Integer&gt; entry:tempMap.entrySet()){\r\n        \tif(entry.getValue()&gt;maxValue){\r\n        \t\tmaxValue=entry.getValue();\r\n        \t\tmaxEntry=entry;\r\n        \t}\r\n        }\r\n       \ttempMap.remove(maxEntry.getKey());\r\n       \tsortedOutputMap.put(maxEntry.getKey(),maxEntry.getValue());\r\n    }\r\n\r\n**inputUnsortedMap** is the input to the code.\r\n\r\nThe variable **sortedOutputMap** will contain the data in decending order when iterated over. To change order just change &gt; to a &lt; in the if statement.\r\n\r\nIs not the fastest sort but does the job without any additional dependencies.\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If you have duplicate keys and only a small set of data (&lt;1000) and your code is not performance critical you can just do the following:</p>\n\n<pre><code>Map&lt;String,Integer&gt; tempMap=new HashMap&lt;String,Integer&gt;(inputUnsortedMap);\nLinkedHashMap&lt;String,Integer&gt; sortedOutputMap=new LinkedHashMap&lt;String,Integer&gt;();\n\nfor(int i=0;i&lt;inputUnsortedMap.size();i++){\n    Map.Entry&lt;String,Integer&gt; maxEntry=null;\n    Integer maxValue=-1;\n    for(Map.Entry&lt;String,Integer&gt; entry:tempMap.entrySet()){\n        if(entry.getValue()&gt;maxValue){\n            maxValue=entry.getValue();\n            maxEntry=entry;\n        }\n    }\n    tempMap.remove(maxEntry.getKey());\n    sortedOutputMap.put(maxEntry.getKey(),maxEntry.getValue());\n}\n</code></pre>\n\n<p><strong>inputUnsortedMap</strong> is the input to the code.</p>\n\n<p>The variable <strong>sortedOutputMap</strong> will contain the data in decending order when iterated over. To change order just change > to a &lt; in the if statement.</p>\n\n<p>Is not the fastest sort but does the job without any additional dependencies.</p>\n"},{"tags":[],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1325007824,"creation_date":1325007824,"answer_id":8647597,"question_id":109383,"body_markdown":"For sure the solution of Stephen is really great, but for those who can&#39;t use Guava:\r\n\r\n\r\n\r\nHere&#39;s my solution for sorting by value a map.\r\nThis solution handle the case where there are twice the same value etc...\r\n\r\n \r\n\r\n       \r\n    // If you want to sort a map by value, and if there can be twice the same value:\r\n    \r\n    // here is your original map\r\n    Map&lt;String,Integer&gt; mapToSortByValue = new HashMap&lt;String, Integer&gt;();\r\n    mapToSortByValue.put(&quot;A&quot;, 3);\r\n    mapToSortByValue.put(&quot;B&quot;, 1);\r\n    mapToSortByValue.put(&quot;C&quot;, 3);\r\n    mapToSortByValue.put(&quot;D&quot;, 5);\r\n    mapToSortByValue.put(&quot;E&quot;, -1);\r\n    mapToSortByValue.put(&quot;F&quot;, 1000);\r\n    mapToSortByValue.put(&quot;G&quot;, 79);\r\n    mapToSortByValue.put(&quot;H&quot;, 15);\r\n    \r\n    // Sort all the map entries by value\r\n    Set&lt;Map.Entry&lt;String,Integer&gt;&gt; set = new TreeSet&lt;Map.Entry&lt;String,Integer&gt;&gt;(\r\n            new Comparator&lt;Map.Entry&lt;String,Integer&gt;&gt;(){\r\n                @Override\r\n                public int compare(Map.Entry&lt;String,Integer&gt; obj1, Map.Entry&lt;String,Integer&gt; obj2) {\r\n                    Integer val1 = obj1.getValue();\r\n                    Integer val2 = obj2.getValue();\r\n                    // DUPLICATE VALUE CASE\r\n                    // If the values are equals, we can&#39;t return 0 because the 2 entries would be considered\r\n                    // as equals and one of them would be deleted (because we use a set, no duplicate, remember!)\r\n                    int compareValues = val1.compareTo(val2);\r\n                    if ( compareValues == 0 ) {\r\n                        String key1 = obj1.getKey();\r\n                        String key2 = obj2.getKey();\r\n                        int compareKeys = key1.compareTo(key2);\r\n                        if ( compareKeys == 0 ) {\r\n                            // what you return here will tell us if you keep REAL KEY-VALUE duplicates in your set\r\n                            // if you want to, do whatever you want but do not return 0 (but don&#39;t break the comparator contract!)\r\n                            return 0;\r\n                        }\r\n                        return compareKeys;\r\n                    }\r\n                    return compareValues;\r\n                }\r\n            }\r\n    );\r\n    set.addAll(mapToSortByValue.entrySet());\r\n    \r\n    \r\n    // OK NOW OUR SET IS SORTED COOL!!!!\r\n    \r\n    // And there&#39;s nothing more to do: the entries are sorted by value!\r\n    for ( Map.Entry&lt;String,Integer&gt; entry : set ) {\r\n        System.out.println(&quot;Set entries: &quot; + entry.getKey() + &quot; -&gt; &quot; + entry.getValue());\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    // But if you add them to an hashmap\r\n    Map&lt;String,Integer&gt; myMap = new HashMap&lt;String,Integer&gt;();\r\n    // When iterating over the set the order is still good in the println...\r\n    for ( Map.Entry&lt;String,Integer&gt; entry : set ) {\r\n        System.out.println(&quot;Added to result map entries: &quot; + entry.getKey() + &quot; &quot; + entry.getValue());\r\n        myMap.put(entry.getKey(), entry.getValue());\r\n    }\r\n    \r\n    // But once they are in the hashmap, the order is not kept!\r\n    for ( Integer value : myMap.values() ) {\r\n        System.out.println(&quot;Result map values: &quot; + value);\r\n    }\r\n    // Also this way doesn&#39;t work:\r\n    // Logic because the entryset is a hashset for hashmaps and not a treeset\r\n    // (and even if it was a treeset, it would be on the keys only)\r\n    for ( Map.Entry&lt;String,Integer&gt; entry : myMap.entrySet() ) {\r\n        System.out.println(&quot;Result map entries: &quot; + entry.getKey() + &quot; -&gt; &quot; + entry.getValue());\r\n    }\r\n    \r\n    \r\n    // CONCLUSION:\r\n    // If you want to iterate on a map ordered by value, you need to remember:\r\n    // 1) Maps are only sorted by keys, so you can&#39;t sort them directly by value\r\n    // 2) So you simply CAN&#39;T return a map to a sortMapByValue function\r\n    // 3) You can&#39;t reverse the keys and the values because you have duplicate values\r\n    //    This also means you can&#39;t neither use Guava/Commons bidirectionnal treemaps or stuff like that\r\n    \r\n    // SOLUTIONS\r\n    // So you can:\r\n    // 1) only sort the values which is easy, but you loose the key/value link (since you have duplicate values)\r\n    // 2) sort the map entries, but don&#39;t forget to handle the duplicate value case (like i did)\r\n    // 3) if you really need to return a map, use a LinkedHashMap which keep the insertion order\r\n\r\nThe exec:\r\nhttp://www.ideone.com/dq3Lu\r\n\r\n\r\n\r\nThe output:\r\n\r\n    Set entries: E -&gt; -1\r\n    Set entries: B -&gt; 1\r\n    Set entries: A -&gt; 3\r\n    Set entries: C -&gt; 3\r\n    Set entries: D -&gt; 5\r\n    Set entries: H -&gt; 15\r\n    Set entries: G -&gt; 79\r\n    Set entries: F -&gt; 1000\r\n    Added to result map entries: E -1\r\n    Added to result map entries: B 1\r\n    Added to result map entries: A 3\r\n    Added to result map entries: C 3\r\n    Added to result map entries: D 5\r\n    Added to result map entries: H 15\r\n    Added to result map entries: G 79\r\n    Added to result map entries: F 1000\r\n    Result map values: 5\r\n    Result map values: -1\r\n    Result map values: 1000\r\n    Result map values: 79\r\n    Result map values: 3\r\n    Result map values: 1\r\n    Result map values: 3\r\n    Result map values: 15\r\n    Result map entries: D -&gt; 5\r\n    Result map entries: E -&gt; -1\r\n    Result map entries: F -&gt; 1000\r\n    Result map entries: G -&gt; 79\r\n    Result map entries: A -&gt; 3\r\n    Result map entries: B -&gt; 1\r\n    Result map entries: C -&gt; 3\r\n    Result map entries: H -&gt; 15\r\n\r\nHope it will help some folks\r\n\r\n\r\n\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>For sure the solution of Stephen is really great, but for those who can't use Guava:</p>\n\n<p>Here's my solution for sorting by value a map.\nThis solution handle the case where there are twice the same value etc...</p>\n\n<pre><code>// If you want to sort a map by value, and if there can be twice the same value:\n\n// here is your original map\nMap&lt;String,Integer&gt; mapToSortByValue = new HashMap&lt;String, Integer&gt;();\nmapToSortByValue.put(\"A\", 3);\nmapToSortByValue.put(\"B\", 1);\nmapToSortByValue.put(\"C\", 3);\nmapToSortByValue.put(\"D\", 5);\nmapToSortByValue.put(\"E\", -1);\nmapToSortByValue.put(\"F\", 1000);\nmapToSortByValue.put(\"G\", 79);\nmapToSortByValue.put(\"H\", 15);\n\n// Sort all the map entries by value\nSet&lt;Map.Entry&lt;String,Integer&gt;&gt; set = new TreeSet&lt;Map.Entry&lt;String,Integer&gt;&gt;(\n        new Comparator&lt;Map.Entry&lt;String,Integer&gt;&gt;(){\n            @Override\n            public int compare(Map.Entry&lt;String,Integer&gt; obj1, Map.Entry&lt;String,Integer&gt; obj2) {\n                Integer val1 = obj1.getValue();\n                Integer val2 = obj2.getValue();\n                // DUPLICATE VALUE CASE\n                // If the values are equals, we can't return 0 because the 2 entries would be considered\n                // as equals and one of them would be deleted (because we use a set, no duplicate, remember!)\n                int compareValues = val1.compareTo(val2);\n                if ( compareValues == 0 ) {\n                    String key1 = obj1.getKey();\n                    String key2 = obj2.getKey();\n                    int compareKeys = key1.compareTo(key2);\n                    if ( compareKeys == 0 ) {\n                        // what you return here will tell us if you keep REAL KEY-VALUE duplicates in your set\n                        // if you want to, do whatever you want but do not return 0 (but don't break the comparator contract!)\n                        return 0;\n                    }\n                    return compareKeys;\n                }\n                return compareValues;\n            }\n        }\n);\nset.addAll(mapToSortByValue.entrySet());\n\n\n// OK NOW OUR SET IS SORTED COOL!!!!\n\n// And there's nothing more to do: the entries are sorted by value!\nfor ( Map.Entry&lt;String,Integer&gt; entry : set ) {\n    System.out.println(\"Set entries: \" + entry.getKey() + \" -&gt; \" + entry.getValue());\n}\n\n\n\n\n// But if you add them to an hashmap\nMap&lt;String,Integer&gt; myMap = new HashMap&lt;String,Integer&gt;();\n// When iterating over the set the order is still good in the println...\nfor ( Map.Entry&lt;String,Integer&gt; entry : set ) {\n    System.out.println(\"Added to result map entries: \" + entry.getKey() + \" \" + entry.getValue());\n    myMap.put(entry.getKey(), entry.getValue());\n}\n\n// But once they are in the hashmap, the order is not kept!\nfor ( Integer value : myMap.values() ) {\n    System.out.println(\"Result map values: \" + value);\n}\n// Also this way doesn't work:\n// Logic because the entryset is a hashset for hashmaps and not a treeset\n// (and even if it was a treeset, it would be on the keys only)\nfor ( Map.Entry&lt;String,Integer&gt; entry : myMap.entrySet() ) {\n    System.out.println(\"Result map entries: \" + entry.getKey() + \" -&gt; \" + entry.getValue());\n}\n\n\n// CONCLUSION:\n// If you want to iterate on a map ordered by value, you need to remember:\n// 1) Maps are only sorted by keys, so you can't sort them directly by value\n// 2) So you simply CAN'T return a map to a sortMapByValue function\n// 3) You can't reverse the keys and the values because you have duplicate values\n//    This also means you can't neither use Guava/Commons bidirectionnal treemaps or stuff like that\n\n// SOLUTIONS\n// So you can:\n// 1) only sort the values which is easy, but you loose the key/value link (since you have duplicate values)\n// 2) sort the map entries, but don't forget to handle the duplicate value case (like i did)\n// 3) if you really need to return a map, use a LinkedHashMap which keep the insertion order\n</code></pre>\n\n<p>The exec:\n<a href=\"http://www.ideone.com/dq3Lu\" rel=\"nofollow\">http://www.ideone.com/dq3Lu</a></p>\n\n<p>The output:</p>\n\n<pre><code>Set entries: E -&gt; -1\nSet entries: B -&gt; 1\nSet entries: A -&gt; 3\nSet entries: C -&gt; 3\nSet entries: D -&gt; 5\nSet entries: H -&gt; 15\nSet entries: G -&gt; 79\nSet entries: F -&gt; 1000\nAdded to result map entries: E -1\nAdded to result map entries: B 1\nAdded to result map entries: A 3\nAdded to result map entries: C 3\nAdded to result map entries: D 5\nAdded to result map entries: H 15\nAdded to result map entries: G 79\nAdded to result map entries: F 1000\nResult map values: 5\nResult map values: -1\nResult map values: 1000\nResult map values: 79\nResult map values: 3\nResult map values: 1\nResult map values: 3\nResult map values: 15\nResult map entries: D -&gt; 5\nResult map entries: E -&gt; -1\nResult map entries: F -&gt; 1000\nResult map entries: G -&gt; 79\nResult map entries: A -&gt; 3\nResult map entries: B -&gt; 1\nResult map entries: C -&gt; 3\nResult map entries: H -&gt; 15\n</code></pre>\n\n<p>Hope it will help some folks</p>\n"},{"tags":[],"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1338338847,"creation_date":1338338847,"answer_id":10808650,"question_id":109383,"body_markdown":"Instead of using `Collections.sort` as some do I&#39;d suggest using `Arrays.sort`. Actually what `Collections.sort` does is something like this:\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list) {\r\n        Object[] a = list.toArray();\r\n        Arrays.sort(a);\r\n        ListIterator&lt;T&gt; i = list.listIterator();\r\n        for (int j=0; j&lt;a.length; j++) {\r\n            i.next();\r\n            i.set((T)a[j]);\r\n        }\r\n    }\r\n\r\nIt just calls `toArray` on the list and then uses `Arrays.sort`. This way all the map entries will be copied three times: once from the map to the temporary list (be it a LinkedList or ArrayList), then to the temporary array and finally to the new map.\r\n\r\nMy solution ommits this one step as it does not create unnecessary LinkedList. Here is the code, generic-friendly and performance-optimal:\r\n\r\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) \r\n    {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Map.Entry&lt;K,V&gt;[] array = map.entrySet().toArray(new Map.Entry[map.size()]);\r\n    \r\n        Arrays.sort(array, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() \r\n        {\r\n            public int compare(Map.Entry&lt;K, V&gt; e1, Map.Entry&lt;K, V&gt; e2) \r\n            {\r\n                return e1.getValue().compareTo(e2.getValue());\r\n            }\r\n        });\r\n    \r\n        Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\r\n        for (Map.Entry&lt;K, V&gt; entry : array)\r\n            result.put(entry.getKey(), entry.getValue());\r\n    \r\n        return result;\r\n    }\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Instead of using <code>Collections.sort</code> as some do I'd suggest using <code>Arrays.sort</code>. Actually what <code>Collections.sort</code> does is something like this:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list) {\n    Object[] a = list.toArray();\n    Arrays.sort(a);\n    ListIterator&lt;T&gt; i = list.listIterator();\n    for (int j=0; j&lt;a.length; j++) {\n        i.next();\n        i.set((T)a[j]);\n    }\n}\n</code></pre>\n\n<p>It just calls <code>toArray</code> on the list and then uses <code>Arrays.sort</code>. This way all the map entries will be copied three times: once from the map to the temporary list (be it a LinkedList or ArrayList), then to the temporary array and finally to the new map.</p>\n\n<p>My solution ommits this one step as it does not create unnecessary LinkedList. Here is the code, generic-friendly and performance-optimal:</p>\n\n<pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) \n{\n    @SuppressWarnings(\"unchecked\")\n    Map.Entry&lt;K,V&gt;[] array = map.entrySet().toArray(new Map.Entry[map.size()]);\n\n    Arrays.sort(array, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;() \n    {\n        public int compare(Map.Entry&lt;K, V&gt; e1, Map.Entry&lt;K, V&gt; e2) \n        {\n            return e1.getValue().compareTo(e2.getValue());\n        }\n    });\n\n    Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();\n    for (Map.Entry&lt;K, V&gt; entry : array)\n        result.put(entry.getKey(), entry.getValue());\n\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":10,"creation_date":1347969311,"post_id":12172924,"comment_id":16783931,"body_markdown":"this just creates a treemap, treemaps sort on the key","body":"this just creates a treemap, treemaps sort on the key"}],"tags":[],"owner":{"account_id":1775549,"reputation":121,"user_id":1619400,"display_name":"Rashid C Y"},"comment_count":1,"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1346225606,"creation_date":1346225606,"answer_id":12172924,"question_id":109383,"body_markdown":"We simply sort a map just like this\r\n\r\n                Map&lt;String, String&gt; unsortedMap = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tunsortedMap.put(&quot;E&quot;, &quot;E Val&quot;);\r\n\t\tunsortedMap.put(&quot;F&quot;, &quot;F Val&quot;);\r\n\t\tunsortedMap.put(&quot;H&quot;, &quot;H Val&quot;);\r\n\t\tunsortedMap.put(&quot;B&quot;, &quot;B Val&quot;);\r\n\t\tunsortedMap.put(&quot;C&quot;, &quot;C Val&quot;);\r\n\t\tunsortedMap.put(&quot;A&quot;, &quot;A Val&quot;);\r\n\t\tunsortedMap.put(&quot;G&quot;, &quot;G Val&quot;);\r\n\t\tunsortedMap.put(&quot;D&quot;, &quot;D Val&quot;);\r\n\t\t\r\n\t\tMap&lt;String, String&gt; sortedMap = new TreeMap&lt;String, String&gt;(unsortedMap);\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\nAfter sorting..&quot;);\r\n\t\tfor (Map.Entry &lt;String, String&gt; mapEntry : sortedMap.entrySet()) {\r\n\t\t\tSystem.out.println(mapEntry.getKey() + &quot; \\t&quot; + mapEntry.getValue());","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>We simply sort a map just like this</p>\n\n<pre><code>            Map&lt;String, String&gt; unsortedMap = new HashMap&lt;String, String&gt;();\n\n    unsortedMap.put(\"E\", \"E Val\");\n    unsortedMap.put(\"F\", \"F Val\");\n    unsortedMap.put(\"H\", \"H Val\");\n    unsortedMap.put(\"B\", \"B Val\");\n    unsortedMap.put(\"C\", \"C Val\");\n    unsortedMap.put(\"A\", \"A Val\");\n    unsortedMap.put(\"G\", \"G Val\");\n    unsortedMap.put(\"D\", \"D Val\");\n\n    Map&lt;String, String&gt; sortedMap = new TreeMap&lt;String, String&gt;(unsortedMap);\n\n    System.out.println(\"\\nAfter sorting..\");\n    for (Map.Entry &lt;String, String&gt; mapEntry : sortedMap.entrySet()) {\n        System.out.println(mapEntry.getKey() + \" \\t\" + mapEntry.getValue());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213160,"reputation":1144,"user_id":466402,"accept_rate":53,"display_name":"Masood_mj"},"score":0,"creation_date":1358916840,"post_id":13438052,"comment_id":20162288,"body_markdown":"Now when you add two entries with equal values they will be merged you should only return 0 if you are sure that the objects are the same (equal)","body":"Now when you add two entries with equal values they will be merged you should only return 0 if you are sure that the objects are the same (equal)"}],"tags":[],"owner":{"account_id":2055120,"reputation":1,"user_id":1833089,"display_name":"cuneyt"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1353220670,"creation_date":1353220670,"answer_id":13438052,"question_id":109383,"body_markdown":"Major problem. If you use the first answer (Google takes you here), change the comparator to add an equal clause, otherwise you cannot get values from the sorted_map by keys:\r\n\r\n    public int compare(String a, String b) {\r\n\t\t\tif (base.get(a) &gt; base.get(b)) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else if (base.get(a) &lt; base.get(b)){\r\n\t\t\t\treturn -1;\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\treturn 0;\r\n\t\t\t// returning 0 would merge keys\r\n\t\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Major problem. If you use the first answer (Google takes you here), change the comparator to add an equal clause, otherwise you cannot get values from the sorted_map by keys:</p>\n\n<pre><code>public int compare(String a, String b) {\n        if (base.get(a) &gt; base.get(b)) {\n            return 1;\n        } else if (base.get(a) &lt; base.get(b)){\n            return -1;\n        } \n\n        return 0;\n        // returning 0 would merge keys\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3693893,"reputation":841,"user_id":3075829,"display_name":"gjgjgj"},"score":0,"creation_date":1552845469,"post_id":14795215,"comment_id":97156335,"body_markdown":"In the case the values are equal, I changed the &quot;return 1&quot; line to compare the keys: &quot;return ((String) o1).compareTo((String) o2);&quot;","body":"In the case the values are equal, I changed the &quot;return 1&quot; line to compare the keys: &quot;return ((String) o1).compareTo((String) o2);&quot;"}],"tags":[],"owner":{"account_id":2346160,"reputation":132,"user_id":2056362,"display_name":"Sujan Reddy A"},"comment_count":1,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1360476609,"creation_date":1360476609,"answer_id":14795215,"question_id":109383,"body_markdown":"Create customized comparator and use it while creating new TreeMap object.\r\n\r\n    class MyComparator implements Comparator&lt;Object&gt; {\r\n\r\n\t    Map&lt;String, Integer&gt; map;\r\n\r\n\t    public MyComparator(Map&lt;String, Integer&gt; map) {\r\n\t\t    this.map = map;\r\n\t    }\r\n\r\n\t    public int compare(Object o1, Object o2) {\r\n\r\n\t\t    if (map.get(o2) == map.get(o1))\r\n\t\t\t    return 1;\r\n\t\t    else\r\n\t\t\t    return ((Integer) map.get(o2)).compareTo((Integer)     \r\n                                                                map.get(o1));\r\n\r\n\t    }\r\n    }\r\n\r\nUse the below code in your main func\r\n\r\n    \tMap&lt;String, Integer&gt; lMap = new HashMap&lt;String, Integer&gt;();\r\n\t\tlMap.put(&quot;A&quot;, 35);\r\n\t\tlMap.put(&quot;B&quot;, 75);\r\n\t\tlMap.put(&quot;C&quot;, 50);\r\n\t\tlMap.put(&quot;D&quot;, 50);\r\n\r\n\t\tMyComparator comparator = new MyComparator(lMap);\r\n\r\n\t\tMap&lt;String, Integer&gt; newMap = new TreeMap&lt;String, Integer&gt;(comparator);\r\n\t\tnewMap.putAll(lMap);\r\n\t\tSystem.out.println(newMap);\r\n\r\nOutput:\r\n\r\n    {B=75, D=50, C=50, A=35}\r\n\t\t","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Create customized comparator and use it while creating new TreeMap object.</p>\n\n<pre><code>class MyComparator implements Comparator&lt;Object&gt; {\n\n    Map&lt;String, Integer&gt; map;\n\n    public MyComparator(Map&lt;String, Integer&gt; map) {\n        this.map = map;\n    }\n\n    public int compare(Object o1, Object o2) {\n\n        if (map.get(o2) == map.get(o1))\n            return 1;\n        else\n            return ((Integer) map.get(o2)).compareTo((Integer)     \n                                                            map.get(o1));\n\n    }\n}\n</code></pre>\n\n<p>Use the below code in your main func</p>\n\n<pre><code>    Map&lt;String, Integer&gt; lMap = new HashMap&lt;String, Integer&gt;();\n    lMap.put(\"A\", 35);\n    lMap.put(\"B\", 75);\n    lMap.put(\"C\", 50);\n    lMap.put(\"D\", 50);\n\n    MyComparator comparator = new MyComparator(lMap);\n\n    Map&lt;String, Integer&gt; newMap = new TreeMap&lt;String, Integer&gt;(comparator);\n    newMap.putAll(lMap);\n    System.out.println(newMap);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{B=75, D=50, C=50, A=35}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1417290388,"creation_date":1374978360,"answer_id":17904414,"question_id":109383,"body_markdown":"You can try Guava&#39;s multimaps:\r\n\r\n    TreeMap&lt;Integer, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;(\r\n            Multimaps.invertFrom(Multimaps.forMap(originalMap), \r\n            ArrayListMultimap.&lt;Integer, String&gt;create()).asMap());\r\n\r\nAs a result you get a map from original values to collections of keys that correspond to them. This approach can be used even if there are multiple keys for the same value.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>You can try Guava's multimaps:</p>\n\n<pre><code>TreeMap&lt;Integer, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;(\n        Multimaps.invertFrom(Multimaps.forMap(originalMap), \n        ArrayListMultimap.&lt;Integer, String&gt;create()).asMap());\n</code></pre>\n\n<p>As a result you get a map from original values to collections of keys that correspond to them. This approach can be used even if there are multiple keys for the same value.</p>\n"},{"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":9,"creation_date":1397546964,"post_id":19563077,"comment_id":35268701,"body_markdown":"This sorts based on keys, not values.","body":"This sorts based on keys, not values."}],"tags":[],"owner":{"account_id":2705965,"reputation":581,"user_id":2335562,"display_name":"rohan kamat"},"comment_count":1,"down_vote_count":11,"up_vote_count":1,"is_accepted":false,"score":-10,"last_activity_date":1394257919,"creation_date":1382609592,"answer_id":19563077,"question_id":109383,"body_markdown":"as map is unordered \r\nto sort it ,we can do following \r\n\r\n    Map&lt;String, String&gt; map= new TreeMap&lt;String, String&gt;(unsortMap);\r\n\r\n\r\nYou should note that, unlike a hash map, a tree map guarantees that its elements will be sorted in ascending key order.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>as map is unordered \nto sort it ,we can do following </p>\n\n<pre><code>Map&lt;String, String&gt; map= new TreeMap&lt;String, String&gt;(unsortMap);\n</code></pre>\n\n<p>You should note that, unlike a hash map, a tree map guarantees that its elements will be sorted in ascending key order.</p>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1393867565,"post_id":20089342,"comment_id":33617537,"body_markdown":"This returns a List of Entries rather than a map sorted by value. Other version that returns a map: http://stackoverflow.com/a/22132422/829571","body":"This returns a List of Entries rather than a map sorted by value. Other version that returns a map: <a href=\"http://stackoverflow.com/a/22132422/829571\">stackoverflow.com/a/22132422/829571</a>"}],"tags":[],"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1403648179,"creation_date":1384930479,"answer_id":20089342,"question_id":109383,"body_markdown":"To accomplish this with the new features in Java 8:\r\n\r\n    import static java.util.Map.Entry.comparingByValue;\r\n    import static java.util.stream.Collectors.toList;\r\n    \r\n    &lt;K, V&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map, Comparator&lt;? super V&gt; comparator) {\r\n        return map.entrySet().stream().sorted(comparingByValue(comparator)).collect(toList());\r\n    }\r\n\r\nThe entries are ordered by their values using the given comparator. Alternatively, if your values are mutually comparable, no explicit comparator is needed:\r\n\r\n    &lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\r\n        return map.entrySet().stream().sorted(comparingByValue()).collect(toList());\r\n    }\r\n\r\nThe returned list is a snapshot of the given map at the time this method is called, so neither will reflect subsequent changes to the other. For a live iterable view of the map:\r\n\r\n    &lt;K, V extends Comparable&lt;? super V&gt;&gt; Iterable&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\r\n    \treturn () -&gt; map.entrySet().stream().sorted(comparingByValue()).iterator();\r\n    }\r\n\r\nThe returned iterable creates a fresh snapshot of the given map each time it&#39;s iterated, so barring concurrent modification, it will always reflect the current state of the map.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>To accomplish this with the new features in Java 8:</p>\n\n<pre><code>import static java.util.Map.Entry.comparingByValue;\nimport static java.util.stream.Collectors.toList;\n\n&lt;K, V&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map, Comparator&lt;? super V&gt; comparator) {\n    return map.entrySet().stream().sorted(comparingByValue(comparator)).collect(toList());\n}\n</code></pre>\n\n<p>The entries are ordered by their values using the given comparator. Alternatively, if your values are mutually comparable, no explicit comparator is needed:</p>\n\n<pre><code>&lt;K, V extends Comparable&lt;? super V&gt;&gt; List&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\n    return map.entrySet().stream().sorted(comparingByValue()).collect(toList());\n}\n</code></pre>\n\n<p>The returned list is a snapshot of the given map at the time this method is called, so neither will reflect subsequent changes to the other. For a live iterable view of the map:</p>\n\n<pre><code>&lt;K, V extends Comparable&lt;? super V&gt;&gt; Iterable&lt;Entry&lt;K, V&gt;&gt; sort(Map&lt;K, V&gt; map) {\n    return () -&gt; map.entrySet().stream().sorted(comparingByValue()).iterator();\n}\n</code></pre>\n\n<p>The returned iterable creates a fresh snapshot of the given map each time it's iterated, so barring concurrent modification, it will always reflect the current state of the map.</p>\n"},{"comments":[{"owner":{"account_id":3232372,"reputation":4976,"user_id":2727317,"accept_rate":93,"display_name":"Vlad Holubiev"},"score":0,"creation_date":1401650297,"post_id":22132422,"comment_id":36955939,"body_markdown":"How to sort it in a reverse order?","body":"How to sort it in a reverse order?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1401651201,"post_id":22132422,"comment_id":36956209,"body_markdown":"@VladGolubev `comparing(Entry::getValue).reversed()`","body":"@VladGolubev <code>comparing(Entry::getValue).reversed()</code>"},{"owner":{"account_id":3232372,"reputation":4976,"user_id":2727317,"accept_rate":93,"display_name":"Vlad Holubiev"},"score":8,"creation_date":1407572816,"post_id":22132422,"comment_id":39275813,"body_markdown":"found a solution - `Collections.reverseOrder(comparing(Entry::getValue))`","body":"found a solution - <code>Collections.reverseOrder(comparing(Entry::getValue))</code>"},{"owner":{"account_id":6576261,"reputation":618,"user_id":5082182,"display_name":"Gediminas Rimsa"},"score":7,"creation_date":1543051239,"post_id":22132422,"comment_id":93785542,"body_markdown":"A better way to sort by entry value in reverse order is: `Entry.comparingByValue(Comparator.reverseOrder())`","body":"A better way to sort by entry value in reverse order is: <code>Entry.comparingByValue(Comparator.reverseOrder())</code>"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":4,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1537250692,"creation_date":1393789095,"answer_id":22132422,"question_id":109383,"body_markdown":"With Java 8, you can use the [streams api][1] to do it in a significantly less verbose way:\r\n\r\n    Map&lt;K, V&gt; sortedMap = map.entrySet().stream()\r\n                             .sorted(Entry.comparingByValue())\r\n                             .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>With Java 8, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">streams api</a> to do it in a significantly less verbose way:</p>\n\n<pre><code>Map&lt;K, V&gt; sortedMap = map.entrySet().stream()\n                         .sorted(Entry.comparingByValue())\n                         .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2905957,"reputation":488,"user_id":2491301,"accept_rate":20,"display_name":"RobotMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398157799,"creation_date":1398157799,"answer_id":23215184,"question_id":109383,"body_markdown":"I&#39;ve merged the solutions of user157196 and Carter Page:\r\n\r\n    class MapUtil {\r\n    \t\r\n    \tpublic static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue( Map&lt;K, V&gt; map ){\r\n    \t\tValueComparator&lt;K,V&gt; bvc =  new ValueComparator&lt;K,V&gt;(map);\r\n    \t\tTreeMap&lt;K,V&gt; sorted_map = new TreeMap&lt;K,V&gt;(bvc);\r\n    \t\tsorted_map.putAll(map);\r\n    \t\treturn sorted_map;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class ValueComparator&lt;K, V extends Comparable&lt;? super V&gt;&gt; implements Comparator&lt;K&gt; {\r\n    \r\n        Map&lt;K, V&gt; base;\r\n        public ValueComparator(Map&lt;K, V&gt; base) {\r\n            this.base = base;\r\n        }\r\n    \r\n        public int compare(K a, K b) {\r\n            int result = (base.get(a).compareTo(base.get(b)));\r\n            if (result == 0) result=1;\r\n            // returning 0 would merge keys\r\n            return result;\r\n        }\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I've merged the solutions of user157196 and Carter Page:</p>\n\n<pre><code>class MapUtil {\n\n    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue( Map&lt;K, V&gt; map ){\n        ValueComparator&lt;K,V&gt; bvc =  new ValueComparator&lt;K,V&gt;(map);\n        TreeMap&lt;K,V&gt; sorted_map = new TreeMap&lt;K,V&gt;(bvc);\n        sorted_map.putAll(map);\n        return sorted_map;\n    }\n\n}\n\nclass ValueComparator&lt;K, V extends Comparable&lt;? super V&gt;&gt; implements Comparator&lt;K&gt; {\n\n    Map&lt;K, V&gt; base;\n    public ValueComparator(Map&lt;K, V&gt; base) {\n        this.base = base;\n    }\n\n    public int compare(K a, K b) {\n        int result = (base.get(a).compareTo(base.get(b)));\n        if (result == 0) result=1;\n        // returning 0 would merge keys\n        return result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1418149314,"post_id":23846961,"comment_id":43220258,"body_markdown":"Nice, but what about the use of `parallelStream()` in this case ?","body":"Nice, but what about the use of <code>parallelStream()</code> in this case ?"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":14,"creation_date":1418150245,"post_id":23846961,"comment_id":43220754,"body_markdown":"It will work in parallel, however, you may find that the cost of merging maps to combine the partial results is too expensive and the parallel version may not perform as well as you&#39;d hope.  But it does work and produce the correct answer.","body":"It will work in parallel, however, you may find that the cost of merging maps to combine the partial results is too expensive and the parallel version may not perform as well as you&#39;d hope.  But it does work and produce the correct answer."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1418239849,"post_id":23846961,"comment_id":43262883,"body_markdown":"Thanks for your useful advice. It was exactly what I was wondering, though it depends on what type of key you use and so many parameters... The important thing is &quot;it does work and produce the correct answer&quot;.","body":"Thanks for your useful advice. It was exactly what I was wondering, though it depends on what type of key you use and so many parameters... The important thing is &quot;it does work and produce the correct answer&quot;."},{"owner":{"account_id":3584610,"reputation":504,"user_id":2992055,"accept_rate":53,"display_name":"Pete"},"score":0,"creation_date":1430233466,"post_id":23846961,"comment_id":47967552,"body_markdown":"How can I sort according to the values being Lists with different sizes? I want to sort by descending list size.","body":"How can I sort according to the values being Lists with different sizes? I want to sort by descending list size."},{"owner":{"account_id":125694,"reputation":1251,"user_id":321629,"accept_rate":41,"display_name":"CyberMew"},"score":0,"creation_date":1444123093,"post_id":23846961,"comment_id":53756966,"body_markdown":"Once sorted how would we go about extracting back the map from the Stream&lt;&gt;?","body":"Once sorted how would we go about extracting back the map from the Stream&lt;&gt;?"},{"owner":{"account_id":1075183,"reputation":751,"user_id":5319114,"accept_rate":64,"display_name":"Leo"},"score":2,"creation_date":1471649641,"post_id":23846961,"comment_id":65447628,"body_markdown":"don&#39; t you have to use compareByValue in the top10 example?","body":"don&#39; t you have to use compareByValue in the top10 example?"},{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1499149520,"post_id":23846961,"comment_id":76774251,"body_markdown":"How do I copy the sorted values of the map in a list?","body":"How do I copy the sorted values of the map in a list?"},{"owner":{"account_id":7436526,"reputation":1236,"user_id":5655767,"accept_rate":50,"display_name":"Steven"},"score":1,"creation_date":1503314351,"post_id":23846961,"comment_id":78549048,"body_markdown":"The part for making up a top ten is incorrect, you need to add two more parameters as posted here: https://stackoverflow.com/a/19671853/5655767","body":"The part for making up a top ten is incorrect, you need to add two more parameters as posted here: <a href=\"https://stackoverflow.com/a/19671853/5655767\">stackoverflow.com/a/19671853/5655767</a>"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1511224125,"post_id":23846961,"comment_id":81760444,"body_markdown":"`Collectors.toMap` here would default to plain `HashMap`, which would discard the ordering. Refer to the top answer for properly collecting to `LinkedHashMap`.","body":"<code>Collectors.toMap</code> here would default to plain <code>HashMap</code>, which would discard the ordering. Refer to the top answer for properly collecting to <code>LinkedHashMap</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1511225260,"post_id":23846961,"comment_id":81760744,"body_markdown":"@Vadzim The point was to capture the top 10, not to preserve the order.","body":"@Vadzim The point was to capture the top 10, not to preserve the order."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":1,"creation_date":1560868236,"post_id":23846961,"comment_id":99872705,"body_markdown":"@Benj it will work in terms of extracting the top-10, but the resulting map will no longer be ordered.","body":"@Benj it will work in terms of extracting the top-10, but the resulting map will no longer be ordered."},{"owner":{"account_id":5362142,"reputation":173,"user_id":4273056,"accept_rate":40,"display_name":"Sourabh"},"score":0,"creation_date":1578755833,"post_id":23846961,"comment_id":105546321,"body_markdown":"What is happening here in the java8 stream version to get the top 10? Can somebody explain this to me?","body":"What is happening here in the java8 stream version to get the top 10? Can somebody explain this to me?"}],"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":12,"down_vote_count":3,"up_vote_count":488,"is_accepted":false,"score":485,"last_activity_date":1657307599,"creation_date":1400946831,"answer_id":23846961,"question_id":109383,"body_markdown":"Java 8 offers a new answer: convert the entries into a stream, and use the comparator combinators from Map.Entry:\r\n\r\n    Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\r\n        map.entrySet().stream()\r\n           .sorted(Map.Entry.comparingByValue());\r\n\r\nThis will let you consume the entries sorted in ascending order of value.  If you want descending value, simply reverse the comparator:\r\n\r\n    Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\r\n        map.entrySet().stream()\r\n           .sorted(Collections.reverseOrder(Map.Entry.comparingByValue()));\r\n\r\nIf the values are not comparable, you can pass an explicit comparator:\r\n\r\n    Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\r\n        map.entrySet().stream()\r\n           .sorted(Map.Entry.comparingByValue(comparator));\r\n\r\nYou can then proceed to use other stream operations to consume the data. For example, if you want the top 10 in a new map:\r\n\r\n    Map&lt;K,V&gt; topTen =\r\n        map.entrySet().stream()\r\n           .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n           .limit(10)\r\n           .collect(Collectors.toMap(\r\n              Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\nThe [`LinkedHashMap`][1] seen above iterates entries in the order in which they were inserted. \r\n \r\nOr print to `System.out`:\r\n\r\n    map.entrySet().stream()\r\n       .sorted(Map.Entry.comparingByValue())\r\n       .forEach(System.out::println);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Java 8 offers a new answer: convert the entries into a stream, and use the comparator combinators from Map.Entry:</p>\n<pre><code>Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\n    map.entrySet().stream()\n       .sorted(Map.Entry.comparingByValue());\n</code></pre>\n<p>This will let you consume the entries sorted in ascending order of value.  If you want descending value, simply reverse the comparator:</p>\n<pre><code>Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\n    map.entrySet().stream()\n       .sorted(Collections.reverseOrder(Map.Entry.comparingByValue()));\n</code></pre>\n<p>If the values are not comparable, you can pass an explicit comparator:</p>\n<pre><code>Stream&lt;Map.Entry&lt;K,V&gt;&gt; sorted =\n    map.entrySet().stream()\n       .sorted(Map.Entry.comparingByValue(comparator));\n</code></pre>\n<p>You can then proceed to use other stream operations to consume the data. For example, if you want the top 10 in a new map:</p>\n<pre><code>Map&lt;K,V&gt; topTen =\n    map.entrySet().stream()\n       .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n       .limit(10)\n       .collect(Collectors.toMap(\n          Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"noreferrer\"><code>LinkedHashMap</code></a> seen above iterates entries in the order in which they were inserted.</p>\n<p>Or print to <code>System.out</code>:</p>\n<pre><code>map.entrySet().stream()\n   .sorted(Map.Entry.comparingByValue())\n   .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4925584,"reputation":900,"user_id":3966892,"display_name":"Nilesh Jadav"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1480976957,"creation_date":1447928941,"answer_id":33801276,"question_id":109383,"body_markdown":"**Best Approach**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.Map.Entry; \r\n\r\n    public class OrderByValue {\r\n \r\n      public static void main(String a[]){\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n        map.put(&quot;java&quot;, 20);\r\n        map.put(&quot;C++&quot;, 45);\r\n        map.put(&quot;Unix&quot;, 67);\r\n        map.put(&quot;MAC&quot;, 26);\r\n        map.put(&quot;Why this kolavari&quot;, 93);\r\n        Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\r\n        List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\r\n        Collections.sort( list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()\r\n        {\r\n            public int compare( Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2 )\r\n            {\r\n                return (o1.getValue()).compareTo( o2.getValue() );//Ascending order\r\n\t\t\t\t//return (o2.getValue()).compareTo( o1.getValue() );//Descending order\r\n            }\r\n        } );\r\n        for(Map.Entry&lt;String, Integer&gt; entry:list){\r\n            System.out.println(entry.getKey()+&quot; ==== &quot;+entry.getValue());\r\n        }\r\n      }}\r\n\r\n**Output**\r\n\r\n    java ==== 20\r\n    \r\n    MAC ==== 26\r\n    \r\n    C++ ==== 45\r\n    \r\n    Unix ==== 67\r\n\r\n    Why this kolavari ==== 93","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>Best Approach</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.Map.Entry; \n\npublic class OrderByValue {\n\n  public static void main(String a[]){\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    map.put(\"java\", 20);\n    map.put(\"C++\", 45);\n    map.put(\"Unix\", 67);\n    map.put(\"MAC\", 26);\n    map.put(\"Why this kolavari\", 93);\n    Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\n    Collections.sort( list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()\n    {\n        public int compare( Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2 )\n        {\n            return (o1.getValue()).compareTo( o2.getValue() );//Ascending order\n            //return (o2.getValue()).compareTo( o1.getValue() );//Descending order\n        }\n    } );\n    for(Map.Entry&lt;String, Integer&gt; entry:list){\n        System.out.println(entry.getKey()+\" ==== \"+entry.getValue());\n    }\n  }}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>java ==== 20\n\nMAC ==== 26\n\nC++ ==== 45\n\nUnix ==== 67\n\nWhy this kolavari ==== 93\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1450216637,"post_id":34295647,"comment_id":56342247,"body_markdown":"This `copyArray[entry.getValue()]` is very error-prone, since it will fail, if the map contains values which are larger than the map size.","body":"This <code>copyArray[entry.getValue()]</code> is very error-prone, since it will fail, if the map contains values which are larger than the map size."}],"tags":[],"owner":{"account_id":374668,"reputation":1331,"user_id":724991,"display_name":"Ux&#237;o"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1450261817,"creation_date":1450200377,"answer_id":34295647,"question_id":109383,"body_markdown":"If there&#39;s not any value bigger than the size of the map, you could use arrays, this should be the fastest approach:\r\n\r\n    public List&lt;String&gt; getList(Map&lt;String, Integer&gt; myMap) {\r\n        String[] copyArray = new String[myMap.size()];\r\n        for (Entry&lt;String, Integer&gt; entry : myMap.entrySet()) {\r\n            copyArray[entry.getValue()] = entry.getKey();\r\n        }\r\n        return Arrays.asList(copyArray);\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If there's not any value bigger than the size of the map, you could use arrays, this should be the fastest approach:</p>\n\n<pre><code>public List&lt;String&gt; getList(Map&lt;String, Integer&gt; myMap) {\n    String[] copyArray = new String[myMap.size()];\n    for (Entry&lt;String, Integer&gt; entry : myMap.entrySet()) {\n        copyArray[entry.getValue()] = entry.getKey();\n    }\n    return Arrays.asList(copyArray);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544312,"reputation":507,"user_id":913717,"accept_rate":80,"display_name":"Bruce Zu"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1452824313,"creation_date":1452820177,"answer_id":34802755,"question_id":109383,"body_markdown":"        static &lt;K extends Comparable&lt;? super K&gt;, V extends Comparable&lt;? super V&gt;&gt;\r\n        Map sortByValueInDescendingOrder(final Map&lt;K, V&gt; map) {\r\n            Map re = new TreeMap(new Comparator&lt;K&gt;() {\r\n                @Override\r\n                public int compare(K o1, K o2) {\r\n                    if (map.get(o1) == null || map.get(o2) == null) {\r\n                        return -o1.compareTo(o2);\r\n                    }\r\n                    int result = -map.get(o1).compareTo(map.get(o2));\r\n                    if (result != 0) {\r\n                        return result;\r\n                    }\r\n                    return -o1.compareTo(o2);\r\n                }\r\n            });\r\n            re.putAll(map);\r\n            return re;\r\n        }\r\n        @Test(timeout = 3000l, expected = Test.None.class)\r\n        public void testSortByValueInDescendingOrder() {\r\n            char[] arr = &quot;googler&quot;.toCharArray();\r\n            Map&lt;Character, Integer&gt; charToTimes = new HashMap();\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                Integer times = charToTimes.get(arr[i]);\r\n                charToTimes.put(arr[i], times == null ? 1 : times + 1);\r\n            }\r\n            Map sortedByTimes = sortByValueInDescendingOrder(charToTimes);\r\n            Assert.assertEquals(charToTimes.toString(), &quot;{g=2, e=1, r=1, o=2, l=1}&quot;);\r\n            Assert.assertEquals(sortedByTimes.toString(), &quot;{o=2, g=2, r=1, l=1, e=1}&quot;);\r\n            Assert.assertEquals(sortedByTimes.containsKey(&#39;a&#39;), false);\r\n            Assert.assertEquals(sortedByTimes.get(&#39;a&#39;), null);\r\n            Assert.assertEquals(sortedByTimes.get(&#39;g&#39;), 2);\r\n            Assert.assertEquals(sortedByTimes.equals(charToTimes), true);\r\n        }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>    static &lt;K extends Comparable&lt;? super K&gt;, V extends Comparable&lt;? super V&gt;&gt;\n    Map sortByValueInDescendingOrder(final Map&lt;K, V&gt; map) {\n        Map re = new TreeMap(new Comparator&lt;K&gt;() {\n            @Override\n            public int compare(K o1, K o2) {\n                if (map.get(o1) == null || map.get(o2) == null) {\n                    return -o1.compareTo(o2);\n                }\n                int result = -map.get(o1).compareTo(map.get(o2));\n                if (result != 0) {\n                    return result;\n                }\n                return -o1.compareTo(o2);\n            }\n        });\n        re.putAll(map);\n        return re;\n    }\n    @Test(timeout = 3000l, expected = Test.None.class)\n    public void testSortByValueInDescendingOrder() {\n        char[] arr = \"googler\".toCharArray();\n        Map&lt;Character, Integer&gt; charToTimes = new HashMap();\n        for (int i = 0; i &lt; arr.length; i++) {\n            Integer times = charToTimes.get(arr[i]);\n            charToTimes.put(arr[i], times == null ? 1 : times + 1);\n        }\n        Map sortedByTimes = sortByValueInDescendingOrder(charToTimes);\n        Assert.assertEquals(charToTimes.toString(), \"{g=2, e=1, r=1, o=2, l=1}\");\n        Assert.assertEquals(sortedByTimes.toString(), \"{o=2, g=2, r=1, l=1, e=1}\");\n        Assert.assertEquals(sortedByTimes.containsKey('a'), false);\n        Assert.assertEquals(sortedByTimes.get('a'), null);\n        Assert.assertEquals(sortedByTimes.get('g'), 2);\n        Assert.assertEquals(sortedByTimes.equals(charToTimes), true);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"score":0,"creation_date":1559065278,"post_id":36819520,"comment_id":99299901,"body_markdown":"If Comparable and Comparator are not allowed then how to do it?","body":"If Comparable and Comparator are not allowed then how to do it?"},{"owner":{"account_id":1958091,"reputation":61,"user_id":1760575,"display_name":"David Bleckmann"},"score":0,"creation_date":1559192242,"post_id":36819520,"comment_id":99345782,"body_markdown":"Not sure if I understand your use case, maybe you can elaborate. If the object you wish to use as a value is not Comparable then you would need to convert it to an object that is.","body":"Not sure if I understand your use case, maybe you can elaborate. If the object you wish to use as a value is not Comparable then you would need to convert it to an object that is."}],"tags":[],"owner":{"account_id":1958091,"reputation":61,"user_id":1760575,"display_name":"David Bleckmann"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1496698587,"creation_date":1461474701,"answer_id":36819520,"question_id":109383,"body_markdown":"There are a lot of answers for this question already, but none provided me what I was looking for, a map implementation that returns keys and entries sorted by the associated value, and maintains this property as keys and values are modified in the map. Two [other][1] [questions][2] ask for this specifically. \r\n\r\nI cooked up a generic friendly example that solves this use case. This implementation does not honor all of the contracts of the Map interface, such as reflecting value changes and removals in the sets return from keySet() and entrySet() in the original object. I felt such a solution would be too large to include in a Stack Overflow answer. If I manage to create a more complete implementation, perhaps I will post it to Github and then to it link in an updated version of this answer.\r\n\r\n\r\n    import java.util.*;\r\n\r\n    /**\r\n     * A map where {@link #keySet()} and {@link #entrySet()} return sets ordered\r\n     * by associated values based on the the comparator provided at construction\r\n     * time. The order of two or more keys with identical values is not defined.\r\n     * &lt;p&gt;\r\n     * Several contracts of the Map interface are not satisfied by this minimal\r\n     * implementation.\r\n     */\r\n    public class ValueSortedMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n        protected Map&lt;V, Collection&lt;K&gt;&gt; valueToKeysMap;\r\n\r\n        // uses natural order of value object, if any\r\n        public ValueSortedMap() {\r\n            this((Comparator&lt;? super V&gt;) null);\r\n        }\r\n\r\n        public ValueSortedMap(Comparator&lt;? super V&gt; valueComparator) {\r\n            this.valueToKeysMap = new TreeMap&lt;V, Collection&lt;K&gt;&gt;(valueComparator);\r\n        }\r\n\r\n        public boolean containsValue(Object o) {\r\n            return valueToKeysMap.containsKey(o);\r\n        }\r\n\r\n        public V put(K k, V v) {\r\n            V oldV = null;\r\n            if (containsKey(k)) {\r\n                oldV = get(k);\r\n                valueToKeysMap.get(oldV).remove(k);\r\n            }\r\n            super.put(k, v);\r\n            if (!valueToKeysMap.containsKey(v)) {\r\n                Collection&lt;K&gt; keys = new ArrayList&lt;K&gt;();\r\n                keys.add(k);\r\n                valueToKeysMap.put(v, keys);\r\n            } else {\r\n                valueToKeysMap.get(v).add(k);\r\n            }\r\n            return oldV;\r\n        }\r\n\r\n        public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\r\n            for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet())\r\n                put(e.getKey(), e.getValue());\r\n        }\r\n\r\n        public V remove(Object k) {\r\n            V oldV = null;\r\n            if (containsKey(k)) {\r\n                oldV = get(k);\r\n                super.remove(k);\r\n                valueToKeysMap.get(oldV).remove(k);\r\n            }\r\n            return oldV;\r\n        }\r\n\r\n        public void clear() {\r\n            super.clear();\r\n            valueToKeysMap.clear();\r\n        }\r\n\r\n        public Set&lt;K&gt; keySet() {\r\n            LinkedHashSet&lt;K&gt; ret = new LinkedHashSet&lt;K&gt;(size());\r\n            for (V v : valueToKeysMap.keySet()) {\r\n                Collection&lt;K&gt; keys = valueToKeysMap.get(v);\r\n                ret.addAll(keys);\r\n            }\r\n            return ret;\r\n        }\r\n\r\n        public Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet() {\r\n            LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt; ret = new LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt;(size());\r\n            for (Collection&lt;K&gt; keys : valueToKeysMap.values()) {\r\n                for (final K k : keys) {\r\n                    final V v = get(k);\r\n                    ret.add(new Map.Entry&lt;K,V&gt;() {\r\n                        public K getKey() {\r\n                            return k;\r\n                        }\r\n\r\n                        public V getValue() {\r\n                            return v;\r\n                        }\r\n\r\n                        public V setValue(V v) {\r\n                            throw new UnsupportedOperationException();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/13108887/1760575\r\n  [2]: https://stackoverflow.com/q/7465369/1760575","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>There are a lot of answers for this question already, but none provided me what I was looking for, a map implementation that returns keys and entries sorted by the associated value, and maintains this property as keys and values are modified in the map. Two <a href=\"https://stackoverflow.com/q/13108887/1760575\">other</a> <a href=\"https://stackoverflow.com/q/7465369/1760575\">questions</a> ask for this specifically. </p>\n\n<p>I cooked up a generic friendly example that solves this use case. This implementation does not honor all of the contracts of the Map interface, such as reflecting value changes and removals in the sets return from keySet() and entrySet() in the original object. I felt such a solution would be too large to include in a Stack Overflow answer. If I manage to create a more complete implementation, perhaps I will post it to Github and then to it link in an updated version of this answer.</p>\n\n<pre><code>import java.util.*;\n\n/**\n * A map where {@link #keySet()} and {@link #entrySet()} return sets ordered\n * by associated values based on the the comparator provided at construction\n * time. The order of two or more keys with identical values is not defined.\n * &lt;p&gt;\n * Several contracts of the Map interface are not satisfied by this minimal\n * implementation.\n */\npublic class ValueSortedMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n    protected Map&lt;V, Collection&lt;K&gt;&gt; valueToKeysMap;\n\n    // uses natural order of value object, if any\n    public ValueSortedMap() {\n        this((Comparator&lt;? super V&gt;) null);\n    }\n\n    public ValueSortedMap(Comparator&lt;? super V&gt; valueComparator) {\n        this.valueToKeysMap = new TreeMap&lt;V, Collection&lt;K&gt;&gt;(valueComparator);\n    }\n\n    public boolean containsValue(Object o) {\n        return valueToKeysMap.containsKey(o);\n    }\n\n    public V put(K k, V v) {\n        V oldV = null;\n        if (containsKey(k)) {\n            oldV = get(k);\n            valueToKeysMap.get(oldV).remove(k);\n        }\n        super.put(k, v);\n        if (!valueToKeysMap.containsKey(v)) {\n            Collection&lt;K&gt; keys = new ArrayList&lt;K&gt;();\n            keys.add(k);\n            valueToKeysMap.put(v, keys);\n        } else {\n            valueToKeysMap.get(v).add(k);\n        }\n        return oldV;\n    }\n\n    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\n        for (Map.Entry&lt;? extends K, ? extends V&gt; e : m.entrySet())\n            put(e.getKey(), e.getValue());\n    }\n\n    public V remove(Object k) {\n        V oldV = null;\n        if (containsKey(k)) {\n            oldV = get(k);\n            super.remove(k);\n            valueToKeysMap.get(oldV).remove(k);\n        }\n        return oldV;\n    }\n\n    public void clear() {\n        super.clear();\n        valueToKeysMap.clear();\n    }\n\n    public Set&lt;K&gt; keySet() {\n        LinkedHashSet&lt;K&gt; ret = new LinkedHashSet&lt;K&gt;(size());\n        for (V v : valueToKeysMap.keySet()) {\n            Collection&lt;K&gt; keys = valueToKeysMap.get(v);\n            ret.addAll(keys);\n        }\n        return ret;\n    }\n\n    public Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet() {\n        LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt; ret = new LinkedHashSet&lt;Map.Entry&lt;K, V&gt;&gt;(size());\n        for (Collection&lt;K&gt; keys : valueToKeysMap.values()) {\n            for (final K k : keys) {\n                final V v = get(k);\n                ret.add(new Map.Entry&lt;K,V&gt;() {\n                    public K getKey() {\n                        return k;\n                    }\n\n                    public V getValue() {\n                        return v;\n                    }\n\n                    public V setValue(V v) {\n                        throw new UnsupportedOperationException();\n                    }\n                });\n            }\n        }\n        return ret;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":137712,"reputation":7725,"user_id":342095,"accept_rate":73,"display_name":"SMUsamaShah"},"score":0,"creation_date":1616083267,"post_id":39659333,"comment_id":117897879,"body_markdown":"What is `MapEntryComparator`?","body":"What is <code>MapEntryComparator</code>?"}],"tags":[],"owner":{"account_id":5729658,"reputation":1391,"user_id":4525620,"display_name":"Alexander"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1474629050,"creation_date":1474629050,"answer_id":39659333,"question_id":109383,"body_markdown":"My solution is a quite simple approach in the way of using mostly given APIs.\r\nWe use the feature of **Map** to export its content as **Set** via **entrySet()** method. We now have a **Set** containing **Map.Entry&lt;K,V&gt;** objects. \r\n\r\nOkay, a Set does not carry an order, but we can take the content an put it into an **ArrayList**. It now has an *random* order, but we will sort it anyway.\r\n\r\nAs **ArrayList** is a **Collection**, we now use the **Collections.sort()** method to bring order to chaos. Because our **Map.Entry&lt;K,V&gt;** objects do not realize the kind of comparison we need, we provide a custom **Comparator**.\r\n\r\n    public static void main(String[] args) {\r\n\t\tHashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;Z&quot;, &quot;E&quot;);\r\n\t\tmap.put(&quot;G&quot;, &quot;A&quot;);\r\n\t\tmap.put(&quot;D&quot;, &quot;C&quot;);\r\n\t\tmap.put(&quot;E&quot;, null);\r\n\t\tmap.put(&quot;O&quot;, &quot;C&quot;);\r\n\t\tmap.put(&quot;L&quot;, &quot;D&quot;);\r\n\t\tmap.put(&quot;Q&quot;, &quot;B&quot;);\r\n\t\tmap.put(&quot;A&quot;, &quot;F&quot;);\r\n\t\tmap.put(null, &quot;X&quot;);\r\n\t\tMapEntryComparator mapEntryComparator = new MapEntryComparator();\r\n\t\t\r\n\t\tList&lt;Entry&lt;String,String&gt;&gt; entryList = new ArrayList&lt;&gt;(map.entrySet());\r\n\t\tCollections.sort(entryList, mapEntryComparator);\r\n\t\t\r\n\t\tfor (Entry&lt;String, String&gt; entry : entryList) {\r\n\t\t\tSystem.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n\t\t}\r\n\t\t\r\n\t}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>My solution is a quite simple approach in the way of using mostly given APIs.\nWe use the feature of <strong>Map</strong> to export its content as <strong>Set</strong> via <strong>entrySet()</strong> method. We now have a <strong>Set</strong> containing <strong>Map.Entry</strong> objects. </p>\n\n<p>Okay, a Set does not carry an order, but we can take the content an put it into an <strong>ArrayList</strong>. It now has an <em>random</em> order, but we will sort it anyway.</p>\n\n<p>As <strong>ArrayList</strong> is a <strong>Collection</strong>, we now use the <strong>Collections.sort()</strong> method to bring order to chaos. Because our <strong>Map.Entry</strong> objects do not realize the kind of comparison we need, we provide a custom <strong>Comparator</strong>.</p>\n\n<pre><code>public static void main(String[] args) {\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"Z\", \"E\");\n    map.put(\"G\", \"A\");\n    map.put(\"D\", \"C\");\n    map.put(\"E\", null);\n    map.put(\"O\", \"C\");\n    map.put(\"L\", \"D\");\n    map.put(\"Q\", \"B\");\n    map.put(\"A\", \"F\");\n    map.put(null, \"X\");\n    MapEntryComparator mapEntryComparator = new MapEntryComparator();\n\n    List&lt;Entry&lt;String,String&gt;&gt; entryList = new ArrayList&lt;&gt;(map.entrySet());\n    Collections.sort(entryList, mapEntryComparator);\n\n    for (Entry&lt;String, String&gt; entry : entryList) {\n        System.out.println(entry.getKey() + \" : \" + entry.getValue());\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":1,"creation_date":1503162812,"post_id":40852723,"comment_id":78506552,"body_markdown":"What part of the answer is using AbacusUtil? Just the `toMap()` helper?","body":"What part of the answer is using AbacusUtil? Just the <code>toMap()</code> helper?"}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":1,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1673926640,"creation_date":1480364187,"answer_id":40852723,"question_id":109383,"body_markdown":"Here is the code by Java 8 with [abacus-common][1]\r\n\r\n    Map&lt;String, Integer&gt; map = N.asMap(&quot;a&quot;, 2, &quot;b&quot;, 3, &quot;c&quot;, 1, &quot;d&quot;, 2);\r\n    Map&lt;String, Integer&gt; sortedMap = Stream.of(map.entrySet()).sorted(Map.Entry.comparingByValue()).toMap(e -&gt; e.getKey(), e -&gt; e.getValue(),\r\n        LinkedHashMap::new);\r\n    N.println(sortedMap);\r\n    // output: {c=1, a=2, d=2, b=3}\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Here is the code by Java 8 with <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Map&lt;String, Integer&gt; map = N.asMap(&quot;a&quot;, 2, &quot;b&quot;, 3, &quot;c&quot;, 1, &quot;d&quot;, 2);\nMap&lt;String, Integer&gt; sortedMap = Stream.of(map.entrySet()).sorted(Map.Entry.comparingByValue()).toMap(e -&gt; e.getKey(), e -&gt; e.getValue(),\n    LinkedHashMap::new);\nN.println(sortedMap);\n// output: {c=1, a=2, d=2, b=3}\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":3361715,"reputation":388,"user_id":2823380,"display_name":"Tanuj Verma"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1487569053,"creation_date":1487569053,"answer_id":42337208,"question_id":109383,"body_markdown":"Best thing is to convert HashMap to TreeMap. TreeMap sort keys on its own.\r\nIf you want to sort on values than quick fix can be you can switch values with keys if your values are not duplicates.","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Best thing is to convert HashMap to TreeMap. TreeMap sort keys on its own.\nIf you want to sort on values than quick fix can be you can switch values with keys if your values are not duplicates.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1538874306,"post_id":48068780,"comment_id":92297007,"body_markdown":"O(N^2) solution.  And it will produce spurious results if there are duplicate values.","body":"O(N^2) solution.  And it will produce spurious results if there are duplicate values."}],"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1520717523,"creation_date":1514932537,"answer_id":48068780,"question_id":109383,"body_markdown":"    public class Test {\r\n      public static void main(String[] args) {\r\n        TreeMap&lt;Integer, String&gt; hm=new TreeMap();\r\n        hm.put(3, &quot;arun singh&quot;);\r\n        hm.put(5, &quot;vinay singh&quot;);\r\n        hm.put(1, &quot;bandagi singh&quot;);\r\n        hm.put(6, &quot;vikram singh&quot;);\r\n        hm.put(2, &quot;panipat singh&quot;);\r\n        hm.put(28, &quot;jakarta singh&quot;);\r\n    \r\n        ArrayList&lt;String&gt; al=new ArrayList(hm.values());\r\n        Collections.sort(al, new myComparator());\r\n    \r\n        System.out.println(&quot;//sort by values \\n&quot;);\r\n        for(String obj: al){\r\n        \tfor(Map.Entry&lt;Integer, String&gt; map2:hm.entrySet()){\r\n    \t    \tif(map2.getValue().equals(obj)){\r\n    \t    \t\tSystem.out.println(map2.getKey()+&quot; &quot;+map2.getValue());\r\n    \t    \t}\r\n    \t    } \r\n         }\r\n      }\r\n    }\r\n    \r\n    class myComparator implements Comparator{\r\n    \t@Override\r\n        public int compare(Object o1, Object o2) {\r\n           String o3=(String) o1;\r\n           String o4 =(String) o2;\r\n           return o3.compareTo(o4);\r\n        }\t\r\n    }\r\nOUTPUT=\r\n\r\n    //sort by values \r\n    \r\n    3 arun singh\r\n    1 bandagi singh\r\n    28 jakarta singh\r\n    2 panipat singh\r\n    6 vikram singh\r\n    5 vinay singh","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>public class Test {\n  public static void main(String[] args) {\n    TreeMap&lt;Integer, String&gt; hm=new TreeMap();\n    hm.put(3, \"arun singh\");\n    hm.put(5, \"vinay singh\");\n    hm.put(1, \"bandagi singh\");\n    hm.put(6, \"vikram singh\");\n    hm.put(2, \"panipat singh\");\n    hm.put(28, \"jakarta singh\");\n\n    ArrayList&lt;String&gt; al=new ArrayList(hm.values());\n    Collections.sort(al, new myComparator());\n\n    System.out.println(\"//sort by values \\n\");\n    for(String obj: al){\n        for(Map.Entry&lt;Integer, String&gt; map2:hm.entrySet()){\n            if(map2.getValue().equals(obj)){\n                System.out.println(map2.getKey()+\" \"+map2.getValue());\n            }\n        } \n     }\n  }\n}\n\nclass myComparator implements Comparator{\n    @Override\n    public int compare(Object o1, Object o2) {\n       String o3=(String) o1;\n       String o4 =(String) o2;\n       return o3.compareTo(o4);\n    }   \n}\n</code></pre>\n\n<p>OUTPUT=</p>\n\n<pre><code>//sort by values \n\n3 arun singh\n1 bandagi singh\n28 jakarta singh\n2 panipat singh\n6 vikram singh\n5 vinay singh\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1599169,"reputation":2993,"user_id":1480587,"accept_rate":87,"display_name":"Peter T."},"score":0,"creation_date":1547197104,"post_id":50406218,"comment_id":95117476,"body_markdown":"Thanks for this commented version. One question: What is the difference of using `Entry.comparingByValue()`(as assylias answer above https://stackoverflow.com/a/22132422/1480587) or `comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey)` that you used? I understand you also compare keys if values are identical, right? I noticed that the sorting keeps order of elements with the same value - so is sorting by keys necessary if the keys happen to be already sorted before?","body":"Thanks for this commented version. One question: What is the difference of using <code>Entry.comparingByValue()</code>(as assylias answer above <a href=\"https://stackoverflow.com/a/22132422/1480587\">stackoverflow.com/a/22132422/1480587</a>) or <code>comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::g&zwnj;&#8203;etKey)</code> that you used? I understand you also compare keys if values are identical, right? I noticed that the sorting keeps order of elements with the same value - so is sorting by keys necessary if the keys happen to be already sorted before?"}],"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526633404,"creation_date":1526629239,"answer_id":50406218,"question_id":109383,"body_markdown":"Late Entry.\r\n\r\nWith the advent of Java-8, we can use streams for data manipulation in a very easy/succinct way. You can use streams to sort the map entries by value and create a [LinkedHashMap][1] which preserves *insertion-order* iteration.\r\n\r\nEg:\r\n\r\n    LinkedHashMap sortedByValueMap = map.entrySet().stream()\r\n                    .sorted(comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey))     //first sorting by Value, then sorting by Key(entries with same value)\r\n                    .collect(LinkedHashMap::new,(map,entry) -&gt; map.put(entry.getKey(),entry.getValue()),LinkedHashMap::putAll);\r\n\r\n\r\n----------\r\n\r\n\r\nFor reverse ordering, replace:\r\n\r\n    comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey)\r\n\r\nwith\r\n\r\n    comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey).reversed()\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Late Entry.</p>\n\n<p>With the advent of Java-8, we can use streams for data manipulation in a very easy/succinct way. You can use streams to sort the map entries by value and create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\">LinkedHashMap</a> which preserves <em>insertion-order</em> iteration.</p>\n\n<p>Eg:</p>\n\n<pre><code>LinkedHashMap sortedByValueMap = map.entrySet().stream()\n                .sorted(comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey))     //first sorting by Value, then sorting by Key(entries with same value)\n                .collect(LinkedHashMap::new,(map,entry) -&gt; map.put(entry.getKey(),entry.getValue()),LinkedHashMap::putAll);\n</code></pre>\n\n<hr>\n\n<p>For reverse ordering, replace:</p>\n\n<pre><code>comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>comparing(Entry&lt;Key,Value&gt;::getValue).thenComparing(Entry::getKey).reversed()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536304696,"creation_date":1532185010,"answer_id":51457226,"question_id":109383,"body_markdown":"If there is a preference of having a `Map` data structure that inherently sorts by values without having to trigger any sort methods or explicitly pass to a utility, then the following solutions may be applicable:\r\n\r\n(1) [org.drools.chance.core.util.ValueSortedMap][1] (JBoss project) maintains two maps internally one for lookup and one for maintaining the sorted values. Quite similar to previously added answers, but probably it is the abstraction and encapsulation part (including copying mechanism) that makes it safer to use from the outside. \r\n\r\n(2) [http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html][2] avoids maintaining two maps and instead relies/extends from Apache Common&#39;s LinkedMap. (Blog author&#39;s note: `as all the code here is in the public domain`):\r\n\r\n\t// required to access LinkEntry.before and LinkEntry.after\r\n\tpackage org.apache.commons.collections.map;\r\n\r\n\t// SNIP: imports\r\n\r\n\t/**\r\n\t* map implementation based on LinkedMap that maintains a sorted list of\r\n\t* values for iteration\r\n\t*/\r\n\tpublic class ValueSortedHashMap extends LinkedMap {\r\n\t\tprivate final boolean _asc;\r\n\r\n\t\t// don&#39;t use super()!\r\n\t\tpublic ValueSortedHashMap(final boolean asc) {\r\n\t\t\tsuper(DEFAULT_CAPACITY);\r\n\t\t\t_asc = asc;\r\n\t\t}\r\n\r\n\t\t// SNIP: some more constructors with initial capacity and the like\r\n\r\n\t\tprotected void addEntry(final HashEntry entry, final int hashIndex) {\r\n\t\t\tfinal LinkEntry link = (LinkEntry) entry;\r\n\t\t\tinsertSorted(link);\r\n\t\t\tdata[hashIndex] = entry;\r\n\t\t}\r\n\r\n\t\tprotected void updateEntry(final HashEntry entry, final Object newValue) {\r\n\t\t\tentry.setValue(newValue);\r\n\t\t\tfinal LinkEntry link = (LinkEntry) entry;\r\n\t\t\tlink.before.after = link.after;\r\n\t\t\tlink.after.before = link.before;\r\n\t\t\tlink.after = link.before = null;\r\n\t\t\tinsertSorted(link);\r\n\t\t}\r\n\r\n\t\tprivate void insertSorted(final LinkEntry link) {\r\n\t\t\tLinkEntry cur = header;\r\n\t\t\t// iterate whole list, could (should?) be replaced with quicksearch\r\n\t\t\t// start at end to optimize speed for in-order insertions\r\n\t\t\twhile ((cur = cur.before) != header &amp; amp; &amp; amp; !insertAfter(cur, link)) {}\r\n\t\t\tlink.after = cur.after;\r\n\t\t\tlink.before = cur;\r\n\t\t\tcur.after.before = link;\r\n\t\t\tcur.after = link;\r\n\t\t}\r\n\r\n\t\tprotected boolean insertAfter(final LinkEntry cur, final LinkEntry link) {\r\n\t\t\tif (_asc) {\r\n\t\t\t\treturn ((Comparable) cur.getValue())\r\n\t\t\t\t.compareTo((V) link.getValue()) &amp; lt; = 0;\r\n\t\t\t} else {\r\n\t\t\t\treturn ((Comparable) cur.getValue())\r\n\t\t\t\t.compareTo((V) link.getValue()) &amp; gt; = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic boolean isAscending() {\r\n\t\t\treturn _asc;\r\n\t\t}\r\n\t}\r\n\r\n(3) Write a custom `Map` or extends from `LinkedHashMap` that will only sort during enumeration (e.g., `values()`, `keyset()`, `entryset()`) as needed. The inner implementation/behavior is abstracted from the one using this class but it appears to the client of this class that values are always sorted when requested for enumeration. This class hopes that sorting will happen mostly once if all `put` operations have been completed before enumerations. Sorting method adopts some of the previous answers to this question. \r\n\r\n    public class SortByValueMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\r\n    \r\n        private boolean isSortingNeeded = false;\r\n    \t\r\n    \tprivate final Map&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\r\n    \r\n        @Override\r\n        public V put(K key, V value) {\r\n            isSortingNeeded = true;\r\n            return map.put(key, value);\r\n        }\r\n    \r\n        @Override\r\n        public void putAll(Map&lt;? extends K, ? extends V&gt; map) {\r\n            isSortingNeeded = true;\r\n            map.putAll(map);\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;K&gt; keySet() {\r\n            sort();\r\n            return map.keySet();\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n            sort();\r\n            return map.entrySet();\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;V&gt; values() {\r\n            sort();\r\n            return map.values();\r\n        }\r\n    \r\n        private void sort() {\r\n            if (!isSortingNeeded) {\r\n                return;\r\n            }\r\n    \r\n            List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(size());\r\n    \r\n            for (Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator(); it.hasNext();) {\r\n                Map.Entry&lt;K, V&gt; entry = it.next();\r\n    \t\t\tlist.add(entry);\r\n    \t\t\tit.remove();\r\n            }\r\n    \r\n            Collections.sort(list);\r\n    \r\n            for (Entry&lt;K, V&gt; entry : list) {\r\n                map.put(entry.getKey(), entry.getValue());\r\n            }\r\n    \r\n            isSortingNeeded = false;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            sort();\r\n            return map.toString();\r\n        }\r\n    }\r\n\r\n(4) Guava offers [ImmutableMap.Builder.orderEntriesByValue(Comparator&lt;? super V&gt; valueComparator)][3] although the resulting map will be immutable:\r\n\r\n&gt; Configures this Builder to order entries by value according to the\r\n&gt; specified comparator.\r\n&gt; \r\n&gt; The sort order is stable, that is, if two entries have values that\r\n&gt; compare as equivalent, the entry that was inserted first will be first\r\n&gt; in the built map&#39;s iteration order.\r\n\r\n\r\n  [1]: https://github.com/kiegroup/drools-chance/blob/898c619b74ebff5ea6add8dd750c505b441e17bb/drools-chance-core/src/main/java/org/drools/chance/core/util/ValueSortedMap.java\r\n  [2]: http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html\r\n  [3]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html#orderEntriesByValue-java.util.Comparator-","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>If there is a preference of having a <code>Map</code> data structure that inherently sorts by values without having to trigger any sort methods or explicitly pass to a utility, then the following solutions may be applicable:</p>\n\n<p>(1) <a href=\"https://github.com/kiegroup/drools-chance/blob/898c619b74ebff5ea6add8dd750c505b441e17bb/drools-chance-core/src/main/java/org/drools/chance/core/util/ValueSortedMap.java\" rel=\"nofollow noreferrer\">org.drools.chance.core.util.ValueSortedMap</a> (JBoss project) maintains two maps internally one for lookup and one for maintaining the sorted values. Quite similar to previously added answers, but probably it is the abstraction and encapsulation part (including copying mechanism) that makes it safer to use from the outside. </p>\n\n<p>(2) <a href=\"http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html\" rel=\"nofollow noreferrer\">http://techblog.molindo.at/2008/11/java-map-sorted-by-value.html</a> avoids maintaining two maps and instead relies/extends from Apache Common's LinkedMap. (Blog author's note: <code>as all the code here is in the public domain</code>):</p>\n\n<pre><code>// required to access LinkEntry.before and LinkEntry.after\npackage org.apache.commons.collections.map;\n\n// SNIP: imports\n\n/**\n* map implementation based on LinkedMap that maintains a sorted list of\n* values for iteration\n*/\npublic class ValueSortedHashMap extends LinkedMap {\n    private final boolean _asc;\n\n    // don't use super()!\n    public ValueSortedHashMap(final boolean asc) {\n        super(DEFAULT_CAPACITY);\n        _asc = asc;\n    }\n\n    // SNIP: some more constructors with initial capacity and the like\n\n    protected void addEntry(final HashEntry entry, final int hashIndex) {\n        final LinkEntry link = (LinkEntry) entry;\n        insertSorted(link);\n        data[hashIndex] = entry;\n    }\n\n    protected void updateEntry(final HashEntry entry, final Object newValue) {\n        entry.setValue(newValue);\n        final LinkEntry link = (LinkEntry) entry;\n        link.before.after = link.after;\n        link.after.before = link.before;\n        link.after = link.before = null;\n        insertSorted(link);\n    }\n\n    private void insertSorted(final LinkEntry link) {\n        LinkEntry cur = header;\n        // iterate whole list, could (should?) be replaced with quicksearch\n        // start at end to optimize speed for in-order insertions\n        while ((cur = cur.before) != header &amp; amp; &amp; amp; !insertAfter(cur, link)) {}\n        link.after = cur.after;\n        link.before = cur;\n        cur.after.before = link;\n        cur.after = link;\n    }\n\n    protected boolean insertAfter(final LinkEntry cur, final LinkEntry link) {\n        if (_asc) {\n            return ((Comparable) cur.getValue())\n            .compareTo((V) link.getValue()) &amp; lt; = 0;\n        } else {\n            return ((Comparable) cur.getValue())\n            .compareTo((V) link.getValue()) &amp; gt; = 0;\n        }\n    }\n\n    public boolean isAscending() {\n        return _asc;\n    }\n}\n</code></pre>\n\n<p>(3) Write a custom <code>Map</code> or extends from <code>LinkedHashMap</code> that will only sort during enumeration (e.g., <code>values()</code>, <code>keyset()</code>, <code>entryset()</code>) as needed. The inner implementation/behavior is abstracted from the one using this class but it appears to the client of this class that values are always sorted when requested for enumeration. This class hopes that sorting will happen mostly once if all <code>put</code> operations have been completed before enumerations. Sorting method adopts some of the previous answers to this question. </p>\n\n<pre><code>public class SortByValueMap&lt;K, V&gt; implements Map&lt;K, V&gt; {\n\n    private boolean isSortingNeeded = false;\n\n    private final Map&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\n\n    @Override\n    public V put(K key, V value) {\n        isSortingNeeded = true;\n        return map.put(key, value);\n    }\n\n    @Override\n    public void putAll(Map&lt;? extends K, ? extends V&gt; map) {\n        isSortingNeeded = true;\n        map.putAll(map);\n    }\n\n    @Override\n    public Set&lt;K&gt; keySet() {\n        sort();\n        return map.keySet();\n    }\n\n    @Override\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n        sort();\n        return map.entrySet();\n    }\n\n    @Override\n    public Collection&lt;V&gt; values() {\n        sort();\n        return map.values();\n    }\n\n    private void sort() {\n        if (!isSortingNeeded) {\n            return;\n        }\n\n        List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;&gt;(size());\n\n        for (Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator(); it.hasNext();) {\n            Map.Entry&lt;K, V&gt; entry = it.next();\n            list.add(entry);\n            it.remove();\n        }\n\n        Collections.sort(list);\n\n        for (Entry&lt;K, V&gt; entry : list) {\n            map.put(entry.getKey(), entry.getValue());\n        }\n\n        isSortingNeeded = false;\n    }\n\n    @Override\n    public String toString() {\n        sort();\n        return map.toString();\n    }\n}\n</code></pre>\n\n<p>(4) Guava offers <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html#orderEntriesByValue-java.util.Comparator-\" rel=\"nofollow noreferrer\">ImmutableMap.Builder.orderEntriesByValue(Comparator valueComparator)</a> although the resulting map will be immutable:</p>\n\n<blockquote>\n  <p>Configures this Builder to order entries by value according to the\n  specified comparator.</p>\n  \n  <p>The sort order is stable, that is, if two entries have values that\n  compare as equivalent, the entry that was inserted first will be first\n  in the built map's iteration order.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6777242,"reputation":195,"user_id":5218673,"display_name":"smart-developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534954971,"creation_date":1534954506,"answer_id":51971086,"question_id":109383,"body_markdown":"I rewrote devinmoore&#39;s method that performs sorting a map by it&#39;s value without using Iterator :\r\n\r\n    public static Map&lt;K, V&gt; sortMapByValue(Map&lt;K, V&gt; inputMap) {\r\n\r\n\t\tSet&lt;Entry&lt;K, V&gt;&gt; set = inputMap.entrySet();\r\n\t    List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(set);\r\n\t\t\r\n\t    Collections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\r\n\t    {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\r\n\t\t\t\treturn (o1.getValue()).compareTo( o2.getValue() );  //Ascending order\r\n\t\t\t}\r\n\t    } );\r\n        \r\n        Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\n\r\n\t\tfor(Map.Entry&lt;K, V&gt; entry : list){\r\n\t        sortedMap.put(entry.getKey(), entry.getValue());\r\n\t    }\r\n\t\t\r\n\t\treturn sortedMap;\r\n\t}\r\n`Note:` that we used  `LinkedHashMap` as output map, because our list has been sorted by value and now we should store our list into output map with order of inserted key,values. So if you use for example `TreeMap` as your output map, your map will be sorted by map keys again!\r\n\r\nThis is the main method:\r\n\r\n    public static void main(String[] args) {\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;3&quot;, &quot;three&quot;);\r\n\t\tmap.put(&quot;1&quot;, &quot;one&quot;);\r\n\t\tmap.put(&quot;5&quot;, &quot;five&quot;);\r\n\t\tSystem.out.println(&quot;Input Map:&quot; + map);\r\n\t\tSystem.out.println(&quot;Sorted Map:&quot; + sortMapByValue(map));\r\n\t}\r\nFinally, this is the output:\r\n\r\n    Input Map:{1=one, 3=three, 5=five}\r\n    Sorted Map:{5=five, 1=one, 3=three}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I rewrote devinmoore's method that performs sorting a map by it's value without using Iterator :</p>\n\n<pre><code>public static Map&lt;K, V&gt; sortMapByValue(Map&lt;K, V&gt; inputMap) {\n\n    Set&lt;Entry&lt;K, V&gt;&gt; set = inputMap.entrySet();\n    List&lt;Entry&lt;K, V&gt;&gt; list = new ArrayList&lt;Entry&lt;K, V&gt;&gt;(set);\n\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()\n    {\n        @Override\n        public int compare(Entry&lt;K, V&gt; o1, Entry&lt;K, V&gt; o2) {\n            return (o1.getValue()).compareTo( o2.getValue() );  //Ascending order\n        }\n    } );\n\n    Map&lt;K, V&gt; sortedMap = new LinkedHashMap&lt;&gt;();\n\n    for(Map.Entry&lt;K, V&gt; entry : list){\n        sortedMap.put(entry.getKey(), entry.getValue());\n    }\n\n    return sortedMap;\n}\n</code></pre>\n\n<p><code>Note:</code> that we used  <code>LinkedHashMap</code> as output map, because our list has been sorted by value and now we should store our list into output map with order of inserted key,values. So if you use for example <code>TreeMap</code> as your output map, your map will be sorted by map keys again!</p>\n\n<p>This is the main method:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"3\", \"three\");\n    map.put(\"1\", \"one\");\n    map.put(\"5\", \"five\");\n    System.out.println(\"Input Map:\" + map);\n    System.out.println(\"Sorted Map:\" + sortMapByValue(map));\n}\n</code></pre>\n\n<p>Finally, this is the output:</p>\n\n<pre><code>Input Map:{1=one, 3=three, 5=five}\nSorted Map:{5=five, 1=one, 3=three}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1573995408,"post_id":52688845,"comment_id":104064911,"body_markdown":"_An integer literal is of type_ long _if it is suffixed with an ASCII letter_ L _or_ l _, eg._ 4L. [3.10.1. Integer Literals](https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.1)","body":"<i>An integer literal is of type</i> long <i>if it is suffixed with an ASCII letter</i> L <i>or</i> l <i>, eg.</i> 4L. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.1\" rel=\"nofollow noreferrer\">3.10.1. Integer Literals</a>"}],"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543944577,"creation_date":1538918005,"answer_id":52688845,"question_id":109383,"body_markdown":"**The simplest** brute-force `sortHashMap` method for `HashMap&lt;String, Long&gt;`: you can just **copypaste it and use** like this:\r\n\r\n    public class Test  {\r\n        public static void main(String[] args)  {\r\n            HashMap&lt;String, Long&gt; hashMap = new HashMap&lt;&gt;();\r\n            hashMap.put(&quot;Cat&quot;, (long) 4);\r\n            hashMap.put(&quot;Human&quot;, (long) 2);\r\n            hashMap.put(&quot;Dog&quot;, (long) 4);\r\n            hashMap.put(&quot;Fish&quot;, (long) 0);\r\n            hashMap.put(&quot;Tree&quot;, (long) 1);\r\n            hashMap.put(&quot;Three-legged-human&quot;, (long) 3);\r\n            hashMap.put(&quot;Monkey&quot;, (long) 2);\r\n    \r\n            System.out.println(hashMap);  //{Human=2, Cat=4, Three-legged-human=3, Monkey=2, Fish=0, Tree=1, Dog=4}\r\n            System.out.println(sortHashMap(hashMap));  //{Cat=4, Dog=4, Three-legged-human=3, Human=2, Monkey=2, Tree=1, Fish=0}\r\n        }\r\n    \r\n        public LinkedHashMap&lt;String, Long&gt; sortHashMap(HashMap&lt;String, Long&gt; unsortedMap)  {\r\n            LinkedHashMap&lt;String, Long&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \r\n            //add String keys to an array: the array would get sorted, based on those keys&#39; values\r\n            ArrayList&lt;String&gt; sortedKeys = new ArrayList&lt;&gt;();\r\n            for (String key: unsortedMap.keySet())  {\r\n                sortedKeys.add(key);\r\n            }\r\n    \r\n            //sort the ArrayList&lt;String&gt; of keys    \r\n            for (int i=0; i&lt;unsortedMap.size(); i++)  {\r\n                for (int j=1; j&lt;sortedKeys.size(); j++)  {\r\n                    if (unsortedMap.get(sortedKeys.get(j)) &gt; unsortedMap.get(sortedKeys.get(j-1))) {\r\n                        String temp = sortedKeys.get(j);\r\n                        sortedKeys.set(j, sortedKeys.get(j-1));\r\n                        sortedKeys.set(j-1, temp);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            // construct the result Map\r\n            for (String key: sortedKeys)  {\r\n                result.put(key, unsortedMap.get(key));\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>The simplest</strong> brute-force <code>sortHashMap</code> method for <code>HashMap&lt;String, Long&gt;</code>: you can just <strong>copypaste it and use</strong> like this:</p>\n\n<pre><code>public class Test  {\n    public static void main(String[] args)  {\n        HashMap&lt;String, Long&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(\"Cat\", (long) 4);\n        hashMap.put(\"Human\", (long) 2);\n        hashMap.put(\"Dog\", (long) 4);\n        hashMap.put(\"Fish\", (long) 0);\n        hashMap.put(\"Tree\", (long) 1);\n        hashMap.put(\"Three-legged-human\", (long) 3);\n        hashMap.put(\"Monkey\", (long) 2);\n\n        System.out.println(hashMap);  //{Human=2, Cat=4, Three-legged-human=3, Monkey=2, Fish=0, Tree=1, Dog=4}\n        System.out.println(sortHashMap(hashMap));  //{Cat=4, Dog=4, Three-legged-human=3, Human=2, Monkey=2, Tree=1, Fish=0}\n    }\n\n    public LinkedHashMap&lt;String, Long&gt; sortHashMap(HashMap&lt;String, Long&gt; unsortedMap)  {\n        LinkedHashMap&lt;String, Long&gt; result = new LinkedHashMap&lt;&gt;();\n\n        //add String keys to an array: the array would get sorted, based on those keys' values\n        ArrayList&lt;String&gt; sortedKeys = new ArrayList&lt;&gt;();\n        for (String key: unsortedMap.keySet())  {\n            sortedKeys.add(key);\n        }\n\n        //sort the ArrayList&lt;String&gt; of keys    \n        for (int i=0; i&lt;unsortedMap.size(); i++)  {\n            for (int j=1; j&lt;sortedKeys.size(); j++)  {\n                if (unsortedMap.get(sortedKeys.get(j)) &gt; unsortedMap.get(sortedKeys.get(j-1))) {\n                    String temp = sortedKeys.get(j);\n                    sortedKeys.set(j, sortedKeys.get(j-1));\n                    sortedKeys.set(j-1, temp);\n                }\n            }\n        }\n\n        // construct the result Map\n        for (String key: sortedKeys)  {\n            result.put(key, unsortedMap.get(key));\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5945493,"reputation":628,"user_id":4675109,"accept_rate":0,"display_name":"Praveen Kumar Mekala"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563884582,"creation_date":1563884582,"answer_id":57164142,"question_id":109383,"body_markdown":"posting my version of answer\r\n\r\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n\t\tCollections.sort(list, (obj1, obj2) -&gt; obj2.getValue().compareTo(obj1.getValue()));\r\n\t\tMap&lt;String, Integer&gt; resultMap = new LinkedHashMap&lt;&gt;();\r\n\t\tlist.forEach(arg0 -&gt; {\r\n\t\t\tresultMap.put(arg0.getKey(), arg0.getValue());\r\n\t\t});\r\n\t\tSystem.out.println(resultMap);","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>posting my version of answer</p>\n\n<pre><code>List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n    Collections.sort(list, (obj1, obj2) -&gt; obj2.getValue().compareTo(obj1.getValue()));\n    Map&lt;String, Integer&gt; resultMap = new LinkedHashMap&lt;&gt;();\n    list.forEach(arg0 -&gt; {\n        resultMap.put(arg0.getKey(), arg0.getValue());\n    });\n    System.out.println(resultMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":908232,"reputation":2175,"user_id":942689,"accept_rate":75,"display_name":"Stanislav Levental"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566941544,"creation_date":1566941544,"answer_id":57682518,"question_id":109383,"body_markdown":"Using Guava library:\r\n\r\n    public static &lt;K,V extends Comparable&lt;V&gt;&gt;SortedMap&lt;K,V&gt; sortByValue(Map&lt;K,V&gt; original){\r\n        var comparator = Ordering.natural()\r\n                .reverse() // highest first\r\n                .nullsLast()\r\n                .onResultOf(Functions.forMap(original, null))\r\n                .compound(Ordering.usingToString());\r\n        return ImmutableSortedMap.copyOf(original, comparator);\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Using Guava library:</p>\n\n<pre><code>public static &lt;K,V extends Comparable&lt;V&gt;&gt;SortedMap&lt;K,V&gt; sortByValue(Map&lt;K,V&gt; original){\n    var comparator = Ordering.natural()\n            .reverse() // highest first\n            .nullsLast()\n            .onResultOf(Functions.forMap(original, null))\n            .compound(Ordering.usingToString());\n    return ImmutableSortedMap.copyOf(original, comparator);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573812562,"creation_date":1573583060,"answer_id":58824564,"question_id":109383,"body_markdown":"_creates a list of entries for each value, where the values are sorted_&lt;br /&gt;\r\nrequires Java 8 or above\r\n\r\n    Map&lt;Double,List&lt;Entry&lt;String,Double&gt;&gt;&gt; sorted =\r\n    map.entrySet().stream().collect( Collectors.groupingBy( Entry::getValue, TreeMap::new,\r\n        Collectors.mapping( Function.identity(), Collectors.toList() ) ) );\r\n\r\nusing the map {[A=99.5], [B=67.4], [C=67.4], [D=67.3]}&lt;br /&gt;\r\ngets `{67.3=[D=67.3], 67.4=[B=67.4, C=67.4], 99.5=[A=99.5]}`\r\n\r\n&lt;br /&gt;_…and how to access each entry one after the other:_\r\n\r\n    sorted.entrySet().forEach( e -&gt; e.getValue().forEach( l -&gt; System.out.println( l ) ) );\r\n\r\n`D=67.3` `B=67.4` `C=67.4` `A=99.5`\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><em>creates a list of entries for each value, where the values are sorted</em><br />\nrequires Java 8 or above</p>\n\n<pre><code>Map&lt;Double,List&lt;Entry&lt;String,Double&gt;&gt;&gt; sorted =\nmap.entrySet().stream().collect( Collectors.groupingBy( Entry::getValue, TreeMap::new,\n    Collectors.mapping( Function.identity(), Collectors.toList() ) ) );\n</code></pre>\n\n<p>using the map {[A=99.5], [B=67.4], [C=67.4], [D=67.3]}<br />\ngets <code>{67.3=[D=67.3], 67.4=[B=67.4, C=67.4], 99.5=[A=99.5]}</code></p>\n\n<p><br /><em>…and how to access each entry one after the other:</em></p>\n\n<pre><code>sorted.entrySet().forEach( e -&gt; e.getValue().forEach( l -&gt; System.out.println( l ) ) );\n</code></pre>\n\n<p><code>D=67.3</code> <code>B=67.4</code> <code>C=67.4</code> <code>A=99.5</code></p>\n"},{"comments":[{"owner":{"account_id":11666701,"reputation":2049,"user_id":8543203,"display_name":"Ali Tou"},"score":0,"creation_date":1581076436,"post_id":58970003,"comment_id":106318269,"body_markdown":"It works but I don&#39;t understand how the order of elements comes in play in a HashMap?","body":"It works but I don&#39;t understand how the order of elements comes in play in a HashMap?"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1603044475,"post_id":58970003,"comment_id":113905044,"body_markdown":"If you mean pure HashMap, the order *does not* come in play. But in LinkedHashMap, the insertion order is preserved.","body":"If you mean pure HashMap, the order <i>does not</i> come in play. But in LinkedHashMap, the insertion order is preserved."}],"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":2,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1657491208,"creation_date":1574323362,"answer_id":58970003,"question_id":109383,"body_markdown":" \r\n\r\n**Given Map**\r\n\r\n       Map&lt;String, Integer&gt; wordCounts = new HashMap&lt;&gt;();\r\n        wordCounts.put(&quot;USA&quot;, 100);\r\n        wordCounts.put(&quot;jobs&quot;, 200);\r\n        wordCounts.put(&quot;software&quot;, 50);\r\n        wordCounts.put(&quot;technology&quot;, 70);\r\n        wordCounts.put(&quot;opportunity&quot;, 200);\r\n\r\n\r\n   **Sort the map based on the value in ascending order**\r\n\r\n    Map&lt;String,Integer&gt;  sortedMap =  wordCounts.entrySet().\r\n                                                    stream().\r\n                                                    sorted(Map.Entry.comparingByValue()).\r\n            collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n        System.out.println(sortedMap);\r\n        \r\n    \r\n**Sort the map based on value in descending order**\r\n\r\n\r\n    Map&lt;String,Integer&gt;  sortedMapReverseOrder =  wordCounts.entrySet().\r\n                stream().\r\n                sorted(Map.Entry.comparingByValue(Comparator.reverseOrder())).\r\n                collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n        System.out.println(sortedMapReverseOrder);\r\n\r\n**Output:**\r\n\r\n{software=50, technology=70, USA=100, jobs=200, opportunity=200}\r\n\r\n{jobs=200, opportunity=200, USA=100, technology=70, software=50}","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><strong>Given Map</strong></p>\n<pre><code>   Map&lt;String, Integer&gt; wordCounts = new HashMap&lt;&gt;();\n    wordCounts.put(&quot;USA&quot;, 100);\n    wordCounts.put(&quot;jobs&quot;, 200);\n    wordCounts.put(&quot;software&quot;, 50);\n    wordCounts.put(&quot;technology&quot;, 70);\n    wordCounts.put(&quot;opportunity&quot;, 200);\n</code></pre>\n<p><strong>Sort the map based on the value in ascending order</strong></p>\n<pre><code>Map&lt;String,Integer&gt;  sortedMap =  wordCounts.entrySet().\n                                                stream().\n                                                sorted(Map.Entry.comparingByValue()).\n        collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n    System.out.println(sortedMap);\n    \n</code></pre>\n<p><strong>Sort the map based on value in descending order</strong></p>\n<pre><code>Map&lt;String,Integer&gt;  sortedMapReverseOrder =  wordCounts.entrySet().\n            stream().\n            sorted(Map.Entry.comparingByValue(Comparator.reverseOrder())).\n            collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n    System.out.println(sortedMapReverseOrder);\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>{software=50, technology=70, USA=100, jobs=200, opportunity=200}</p>\n<p>{jobs=200, opportunity=200, USA=100, technology=70, software=50}</p>\n"},{"tags":[],"owner":{"account_id":8108093,"reputation":2413,"user_id":6109034,"display_name":"Mimu Saha Tishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575633523,"creation_date":1575633523,"answer_id":59212736,"question_id":109383,"body_markdown":"Using LinkedList\r\n\r\n    //Create a list by HashMap\r\n    List&lt;Map.Entry&lt;String, Double&gt;&gt; list = new LinkedList&lt;&gt;(hashMap.entrySet());\r\n    \r\n    //Sorting the list\r\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\r\n        public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\r\n            return (o1.getValue()).compareTo(o2.getValue());\r\n        }\r\n    });\r\n    \r\n    //put data from sorted list to hashmap\r\n    HashMap&lt;String, Double&gt; sortedData = new LinkedHashMap&lt;&gt;();\r\n    for (Map.Entry&lt;String, Double&gt; data : list) {\r\n        sortedData.put(data.getKey(), data.getValue());\r\n    }\r\n    \r\n    System.out.print(sortedData);\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Using LinkedList</p>\n\n<pre><code>//Create a list by HashMap\nList&lt;Map.Entry&lt;String, Double&gt;&gt; list = new LinkedList&lt;&gt;(hashMap.entrySet());\n\n//Sorting the list\nCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\n    public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\n        return (o1.getValue()).compareTo(o2.getValue());\n    }\n});\n\n//put data from sorted list to hashmap\nHashMap&lt;String, Double&gt; sortedData = new LinkedHashMap&lt;&gt;();\nfor (Map.Entry&lt;String, Double&gt; data : list) {\n    sortedData.put(data.getKey(), data.getValue());\n}\n\nSystem.out.print(sortedData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580817137,"creation_date":1580817137,"answer_id":60056821,"question_id":109383,"body_markdown":"This has the added benefit of being able to sort ascending or descending, using Java 8\r\n\r\n    import static java.util.Comparator.comparingInt;\r\n    import static java.util.stream.Collectors.toMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n\r\n    class Utils {\r\n        public static Map&lt;String, Integer&gt; sortMapBasedOnValues(Map&lt;String, Integer&gt; map, boolean descending) {\r\n    \t\tint multiplyBy = (descending) ? -1: 1;\r\n    \t\tMap&lt;String, Integer&gt; sorted =  map.entrySet().stream()\r\n    \t\t\t    .sorted(comparingInt(e -&gt; multiplyBy * e.getValue() ))\r\n    \t\t\t    .collect(toMap(\r\n    \t\t\t    \t\tMap.Entry::getKey, \r\n    \t\t\t    \t\tMap.Entry::getValue,\r\n    \t\t\t            (a, b) -&gt; { throw new AssertionError();},\r\n    \t\t\t    \t\tLinkedHashMap::new\r\n    \t\t\t    \t));\r\n    \t\treturn sorted;\r\n    \t}\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This has the added benefit of being able to sort ascending or descending, using Java 8</p>\n\n<pre><code>import static java.util.Comparator.comparingInt;\nimport static java.util.stream.Collectors.toMap;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nclass Utils {\n    public static Map&lt;String, Integer&gt; sortMapBasedOnValues(Map&lt;String, Integer&gt; map, boolean descending) {\n        int multiplyBy = (descending) ? -1: 1;\n        Map&lt;String, Integer&gt; sorted =  map.entrySet().stream()\n                .sorted(comparingInt(e -&gt; multiplyBy * e.getValue() ))\n                .collect(toMap(\n                        Map.Entry::getKey, \n                        Map.Entry::getValue,\n                        (a, b) -&gt; { throw new AssertionError();},\n                        LinkedHashMap::new\n                    ));\n        return sorted;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13908538,"reputation":208,"user_id":10042324,"display_name":"C.B."},"score":0,"creation_date":1642198869,"post_id":60676473,"comment_id":125016405,"body_markdown":"this won&#39;t work for duplicate values in the original map which would cause duplicate keys in the sorted map.","body":"this won&#39;t work for duplicate values in the original map which would cause duplicate keys in the sorted map."}],"tags":[],"owner":{"account_id":15116274,"reputation":101,"user_id":10908536,"display_name":"avi"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1599065837,"creation_date":1584128863,"answer_id":60676473,"question_id":109383,"body_markdown":"Simple way to sort any map in Java 8 and above\r\n````\r\nMap&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\r\n\r\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\r\n\r\nCollections.sort(list, Comparator.comparing(o -&gt; o.getValue().getAttribute()));\r\n\r\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\nfor (Map.Entry&lt;String, Object&gt; map : list) {\r\n   sortedMap.put(map.getKey(), map.getValue());\r\n}\r\n````\r\n\r\nif you are using Java 7 and below\r\n\r\n````\r\nMap&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\r\n\r\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\r\n\r\nCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, Object&gt;&gt;() {\r\n    @Override\r\n    public int compare(Map.Entry&lt;String, Object&gt; o1, Map.Entry&lt;String, Object&gt; o2) {\r\n       return o1.getValue().getAttribute().compareTo(o2.getValue().getAttribute());      \r\n    }\r\n});\r\n\r\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\nfor (Map.Entry&lt;String, Object&gt; map : list) {\r\n   sortedMap.put(map.getKey(), map.getValue());\r\n}\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Simple way to sort any map in Java 8 and above</p>\n<pre><code>Map&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\n\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\n\nCollections.sort(list, Comparator.comparing(o -&gt; o.getValue().getAttribute()));\n\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\nfor (Map.Entry&lt;String, Object&gt; map : list) {\n   sortedMap.put(map.getKey(), map.getValue());\n}\n</code></pre>\n<p>if you are using Java 7 and below</p>\n<pre><code>Map&lt;String, Object&gt; mapToSort = new HashMap&lt;&gt;();\n\nList&lt;Map.Entry&lt;String, Object&gt;&gt; list = new LinkedList&lt;&gt;(mapToSort.entrySet());\n\nCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, Object&gt;&gt;() {\n    @Override\n    public int compare(Map.Entry&lt;String, Object&gt; o1, Map.Entry&lt;String, Object&gt; o2) {\n       return o1.getValue().getAttribute().compareTo(o2.getValue().getAttribute());      \n    }\n});\n\nHashMap&lt;String, Object&gt; sortedMap = new LinkedHashMap&lt;&gt;();\nfor (Map.Entry&lt;String, Object&gt; map : list) {\n   sortedMap.put(map.getKey(), map.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5098571,"reputation":31,"user_id":4088988,"display_name":"thenish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585578037,"creation_date":1585578037,"answer_id":60932599,"question_id":109383,"body_markdown":"    map = your hashmap;\r\n\r\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;String, Integer&gt;&gt;(map.entrySet());\r\n    Collections.sort(list, new cm());//IMP\r\n    \r\n    HashMap&lt;String, Integer&gt; sorted = new LinkedHashMap&lt;String, Integer&gt;();\r\n    for(Map.Entry&lt;String, Integer&gt; en: list){\r\n    \tsorted.put(en.getKey(),en.getValue());\r\n    }\r\n    \t\t\r\n    System.out.println(sorted);//sorted hashmap\r\n\r\ncreate new class\r\n\r\n    class cm implements Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;{\r\n    \t@Override\r\n    \tpublic int compare(Map.Entry&lt;String, Integer&gt; a, \r\n    \t\t\t\t\t\t\tMap.Entry&lt;String, Integer&gt; b)\r\n    \t{\r\n    \t\treturn (a.getValue()).compareTo(b.getValue());\r\n    \t}\r\n    }\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>map = your hashmap;\n\nList&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;String, Integer&gt;&gt;(map.entrySet());\nCollections.sort(list, new cm());//IMP\n\nHashMap&lt;String, Integer&gt; sorted = new LinkedHashMap&lt;String, Integer&gt;();\nfor(Map.Entry&lt;String, Integer&gt; en: list){\n    sorted.put(en.getKey(),en.getValue());\n}\n\nSystem.out.println(sorted);//sorted hashmap\n</code></pre>\n\n<p>create new class</p>\n\n<pre><code>class cm implements Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;{\n    @Override\n    public int compare(Map.Entry&lt;String, Integer&gt; a, \n                            Map.Entry&lt;String, Integer&gt; b)\n    {\n        return (a.getValue()).compareTo(b.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11303714,"reputation":1376,"user_id":8288930,"accept_rate":60,"display_name":"BlueJapan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599832193,"creation_date":1599831271,"answer_id":63848163,"question_id":109383,"body_markdown":"I can give you an example but sure this is what you need. \r\n```html\r\nmap = {10 = 3, 11 = 1,12 = 2} \r\n```\r\nLet&#39;s say you want the top 2 most frequent key which is (10, 12)\r\nSo the easiest way is using a PriorityQueue to sort based on the value of the map.\r\n\r\n```java\r\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; (map.get(a) - map.get(b));\r\nfor(int key: map.keySets()) {\r\n   pq.add(key);\r\n   if(pq.size() &gt; 2) {\r\n      pq.poll();\r\n   }\r\n}\r\n// Now pq has the top 2 most frequent key based on value. It sorts the value. \r\n```","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I can give you an example but sure this is what you need.</p>\n<pre class=\"lang-html prettyprint-override\"><code>map = {10 = 3, 11 = 1,12 = 2} \n</code></pre>\n<p>Let's say you want the top 2 most frequent key which is (10, 12)\nSo the easiest way is using a PriorityQueue to sort based on the value of the map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; (map.get(a) - map.get(b));\nfor(int key: map.keySets()) {\n   pq.add(key);\n   if(pq.size() &gt; 2) {\n      pq.poll();\n   }\n}\n// Now pq has the top 2 most frequent key based on value. It sorts the value. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9229376,"reputation":902,"user_id":6856020,"display_name":"Supreet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611742454,"creation_date":1611742454,"answer_id":65917002,"question_id":109383,"body_markdown":"This could be achieved very easily with java 8\r\n\r\n    public static LinkedHashMap&lt;Integer, String&gt; sortByValue(HashMap&lt;Integer, String&gt; map) {\r\n    \r\n            List&lt;Map.Entry&lt;Integer, String&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n            list.sort(Map.Entry.comparingByValue());\r\n            LinkedHashMap&lt;Integer, String&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\n            list.forEach(e -&gt; sortedMap.put(e.getKey(), e.getValue()));\r\n            return sortedMap;\r\n        }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>This could be achieved very easily with java 8</p>\n<pre><code>public static LinkedHashMap&lt;Integer, String&gt; sortByValue(HashMap&lt;Integer, String&gt; map) {\n\n        List&lt;Map.Entry&lt;Integer, String&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n        list.sort(Map.Entry.comparingByValue());\n        LinkedHashMap&lt;Integer, String&gt; sortedMap = new LinkedHashMap&lt;&gt;();\n        list.forEach(e -&gt; sortedMap.put(e.getKey(), e.getValue()));\n        return sortedMap;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16068520,"reputation":19,"user_id":11597506,"display_name":"djklicks-dhananjay"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627125273,"creation_date":1627124626,"answer_id":68509369,"question_id":109383,"body_markdown":"Sort any Hashmap the easiest way in Java.\r\nWe need not store it in treemaps, list etc.\r\n\r\nHere, I would be using Java Streams:\r\n\r\nLets sort this map by its value (Ascending order)\r\n\r\n    Map&lt;String, Integer&gt; mp= new HashMap&lt;&gt;();\r\n    mp.put(&quot;zebra&quot;, 1);\r\n    mp.put(&quot;blossom&quot;, 2);\r\n    mp.put(&quot;gemini&quot;, 3);\r\n    mp.put(&quot;opera&quot;, 7);\r\n    mp.put(&quot;adelaide&quot;, 10);\r\n    \r\n    Map&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\nYou can now printed the sorted resultMap in multiple ways like using advanced for loops or iterators.\r\n\r\nThe above map can also be sorted in descending order of the value\r\n\r\n     Map&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\n\r\nLets now take another scenario where we store &quot;User&quot; in the map and sort it based on &quot;name&quot; of the &quot;User&quot; in ascending order (lexicographically):\r\n\r\n   \r\n\r\n\tUser u1= new User(&quot;hi&quot;, 135);\r\n\tUser u2= new User(&quot;bismuth&quot;, 900);\r\n\tUser u3= new User(&quot;alloy&quot;, 675);\r\n\tUser u4= new User(&quot;jupiter&quot;, 342);\r\n\tUser u5= new User(&quot;lily&quot;, 941);\r\n\t\r\n\tMap&lt;String, User&gt; map2= new HashMap&lt;&gt;();\r\n\tmap2.put(&quot;zebra&quot;, u3);\r\n\tmap2.put(&quot;blossom&quot;, u5);\r\n\tmap2.put(&quot;gemini&quot;, u1);\r\n\tmap2.put(&quot;opera&quot;, u2);\r\n\tmap2.put(&quot;adelaide&quot;, u4);\r\n\r\n\r\n    Map&lt;String, User&gt;  resultMap= \r\n    \t\t  map2.entrySet().stream().sorted(Map.Entry.&lt;String, User&gt;comparingByValue( (User o1, User o2)-&gt; o1.getName().compareTo(o2.getName()))).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e2, LinkedHashMap::new));\r\n\r\n \r\n\r\n    class User\r\n     {\r\n     \tString name;\r\n     \tint id;\r\n     \t \t\r\n\r\n \tpublic User(String name, int id) {\r\n \t\tsuper();\r\n \t\tthis.name = name;\r\n \t\tthis.id = id;\r\n \t}\r\n \tpublic String getName() {\r\n \t\treturn name;\r\n \t}\r\n \tpublic void setName(String name) {\r\n \t\tthis.name = name;\r\n \t}\r\n \tpublic int getId() {\r\n \t\treturn id;\r\n \t}\r\n \tpublic void setId(int id) {\r\n \t\tthis.id = id;\r\n \t}\r\n \t@Override\r\n \tpublic String toString() {\r\n \t\treturn &quot;User [name=&quot; + name + &quot;, id=&quot; + id + &quot;]&quot;;\r\n \t}\r\n \t@Override\r\n \tpublic int hashCode() {\r\n \t\tfinal int prime = 31;\r\n \t\tint result = 1;\r\n \t\tresult = prime * result + id;\r\n \t\tresult = prime * result + ((name == null) ? 0 : name.hashCode());\r\n \t\treturn result;\r\n \t}\r\n \t@Override\r\n \tpublic boolean equals(Object obj) {\r\n \t\tif (this == obj)\r\n \t\t\treturn true;\r\n \t\tif (obj == null)\r\n \t\t\treturn false;\r\n \t\tif (getClass() != obj.getClass())\r\n \t\t\treturn false;\r\n \t\tUser other = (User) obj;\r\n \t\tif (id != other.id)\r\n \t\t\treturn false;\r\n \t\tif (name == null) {\r\n \t\t\tif (other.name != null)\r\n \t\t\t\treturn false;\r\n \t\t} else if (!name.equals(other.name))\r\n \t\t\treturn false;\r\n \t\treturn true;\r\n \r\n\r\n    \t}\r\n     }\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>Sort any Hashmap the easiest way in Java.\nWe need not store it in treemaps, list etc.</p>\n<p>Here, I would be using Java Streams:</p>\n<p>Lets sort this map by its value (Ascending order)</p>\n<pre><code>Map&lt;String, Integer&gt; mp= new HashMap&lt;&gt;();\nmp.put(&quot;zebra&quot;, 1);\nmp.put(&quot;blossom&quot;, 2);\nmp.put(&quot;gemini&quot;, 3);\nmp.put(&quot;opera&quot;, 7);\nmp.put(&quot;adelaide&quot;, 10);\n\nMap&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n<p>You can now printed the sorted resultMap in multiple ways like using advanced for loops or iterators.</p>\n<p>The above map can also be sorted in descending order of the value</p>\n<pre><code> Map&lt;String, Integer&gt; resultMap= mp.entrySet().stream().sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n<p>Lets now take another scenario where we store &quot;User&quot; in the map and sort it based on &quot;name&quot; of the &quot;User&quot; in ascending order (lexicographically):</p>\n<pre><code>User u1= new User(&quot;hi&quot;, 135);\nUser u2= new User(&quot;bismuth&quot;, 900);\nUser u3= new User(&quot;alloy&quot;, 675);\nUser u4= new User(&quot;jupiter&quot;, 342);\nUser u5= new User(&quot;lily&quot;, 941);\n\nMap&lt;String, User&gt; map2= new HashMap&lt;&gt;();\nmap2.put(&quot;zebra&quot;, u3);\nmap2.put(&quot;blossom&quot;, u5);\nmap2.put(&quot;gemini&quot;, u1);\nmap2.put(&quot;opera&quot;, u2);\nmap2.put(&quot;adelaide&quot;, u4);\n\n\nMap&lt;String, User&gt;  resultMap= \n          map2.entrySet().stream().sorted(Map.Entry.&lt;String, User&gt;comparingByValue( (User o1, User o2)-&gt; o1.getName().compareTo(o2.getName()))).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,(e1, e2) -&gt; e2, LinkedHashMap::new));\n\n\n\nclass User\n {\n    String name;\n    int id;\n        \n\npublic User(String name, int id) {\n    super();\n    this.name = name;\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\n@Override\npublic String toString() {\n    return &quot;User [name=&quot; + name + &quot;, id=&quot; + id + &quot;]&quot;;\n}\n@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + id;\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\n    return result;\n}\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    User other = (User) obj;\n    if (id != other.id)\n        return false;\n    if (name == null) {\n        if (other.name != null)\n            return false;\n    } else if (!name.equals(other.name))\n        return false;\n    return true;\n\n\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397301,"reputation":544,"user_id":761348,"accept_rate":71,"display_name":"Jayavinoth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645640769,"creation_date":1637083841,"answer_id":69993629,"question_id":109383,"body_markdown":"In TreeMap, keys are sorted in natural order. For example, if you sorting numbers, (notice the ordering of `4`)\r\n\r\n`{0=0, 10=10, 20=20, 30=30, 4=4, 50=50, 60=60, 70=70}`\r\n\r\nTo fix this, In Java8, first check string length and then compare.\r\n\r\n    Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;Comparator.comparingInt(String::length)\r\n    .thenComparing(Function.identity()));\r\n\r\n`{0=0, 4=4, 10=10, 20=20, 30=30, 50=50, 60=60, 70=70}`","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>In TreeMap, keys are sorted in natural order. For example, if you sorting numbers, (notice the ordering of <code>4</code>)</p>\n<p><code>{0=0, 10=10, 20=20, 30=30, 4=4, 50=50, 60=60, 70=70}</code></p>\n<p>To fix this, In Java8, first check string length and then compare.</p>\n<pre><code>Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;Comparator.comparingInt(String::length)\n.thenComparing(Function.identity()));\n</code></pre>\n<p><code>{0=0, 4=4, 10=10, 20=20, 30=30, 50=50, 60=60, 70=70}</code></p>\n"},{"comments":[{"owner":{"account_id":1818690,"reputation":1231,"user_id":1653236,"accept_rate":54,"display_name":"CodeFinity"},"score":0,"creation_date":1643764241,"post_id":70401747,"comment_id":125424894,"body_markdown":"See [this answer](https://stackoverflow.com/a/53325730/1653236) for `reversed()`","body":"See <a href=\"https://stackoverflow.com/a/53325730/1653236\">this answer</a> for <code>reversed()</code>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645640731,"post_id":70401747,"comment_id":125928936,"body_markdown":"This is sorting a list, not a map","body":"This is sorting a list, not a map"}],"tags":[],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639813231,"creation_date":1639813231,"answer_id":70401747,"question_id":109383,"body_markdown":"        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;b&quot;, 2);\r\n        map.put(&quot;a&quot;, 1);\r\n        map.put(&quot;d&quot;, 4);\r\n        map.put(&quot;c&quot;, 3);\r\n        \r\n        // ----- Using Java 7 -------------------\r\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; entries = new ArrayList&lt;&gt;(map.entrySet());\r\n        Collections.sort(entries, (o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()));\r\n        System.out.println(entries); // [a=1, b=2, c=3, d=4]\r\n\r\n\r\n        // ----- Using Java 8 Stream API --------\r\n       map.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(System.out::println); // {a=1, b=2, c=3, d=4}\r\n\r\n        \r\n\r\n","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<pre><code>    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;b&quot;, 2);\n    map.put(&quot;a&quot;, 1);\n    map.put(&quot;d&quot;, 4);\n    map.put(&quot;c&quot;, 3);\n    \n    // ----- Using Java 7 -------------------\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; entries = new ArrayList&lt;&gt;(map.entrySet());\n    Collections.sort(entries, (o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()));\n    System.out.println(entries); // [a=1, b=2, c=3, d=4]\n\n\n    // ----- Using Java 8 Stream API --------\n   map.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(System.out::println); // {a=1, b=2, c=3, d=4}\n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20627185,"reputation":140,"user_id":15142774,"display_name":"ADITYA AHLAWAT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659080437,"creation_date":1659080437,"answer_id":73163197,"question_id":109383,"body_markdown":"[Geeks For Geeks on sorting the HashMap by Value][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/sorting-a-hashmap-according-to-values/\r\n\r\n\r\n    Input : Key = Math, Value = 98\r\n        Key = Data Structure, Value = 85\r\n        Key = Database, Value = 91\r\n        Key = Java, Value = 95\r\n        Key = Operating System, Value = 79\r\n        Key = Networking, Value = 80\r\n\r\n    Output : Key = Operating System, Value = 79\r\n             Key = Networking, Value = 80\r\n             Key = Data Structure, Value = 85\r\n             Key = Database, Value = 91\r\n             Key = Java, Value = 95\r\n             Key = Math, Value = 98\r\n    Solution: The idea is to store the entry set in a list and sort the list on the basis of values. Then fetch values and keys from the list and put them in a new hashmap. Thus, a new hashmap is sorted according to values.\r\n    Below is the implementation of the above idea: \r\n\r\n \r\n\r\n\r\n    // Java program to sort hashmap by values\r\n    import java.util.*;\r\n    import java.lang.*;\r\n     \r\n    public class GFG {\r\n     \r\n        // function to sort hashmap by values\r\n        public static HashMap&lt;String, Integer&gt; sortByValue(HashMap&lt;String, Integer&gt; hm)\r\n        {\r\n            // Create a list from elements of HashMap\r\n            List&lt;Map.Entry&lt;String, Integer&gt; &gt; list =\r\n                   new LinkedList&lt;Map.Entry&lt;String, Integer&gt; &gt;(hm.entrySet());\r\n     \r\n            // Sort the list\r\n            Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt; &gt;() {\r\n                public int compare(Map.Entry&lt;String, Integer&gt; o1,\r\n                                   Map.Entry&lt;String, Integer&gt; o2)\r\n                {\r\n                    return (o1.getValue()).compareTo(o2.getValue());\r\n                }\r\n            });\r\n             \r\n            // put data from sorted list to hashmap\r\n            HashMap&lt;String, Integer&gt; temp = new LinkedHashMap&lt;String, Integer&gt;();\r\n            for (Map.Entry&lt;String, Integer&gt; aa : list) {\r\n                temp.put(aa.getKey(), aa.getValue());\r\n            }\r\n            return temp;\r\n        }\r\n     \r\n        // Driver Code\r\n        public static void main(String[] args)\r\n        {\r\n     \r\n            HashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\r\n     \r\n            // enter data into hashmap\r\n            hm.put(&quot;Math&quot;, 98);\r\n            hm.put(&quot;Data Structure&quot;, 85);\r\n            hm.put(&quot;Database&quot;, 91);\r\n            hm.put(&quot;Java&quot;, 95);\r\n            hm.put(&quot;Operating System&quot;, 79);\r\n            hm.put(&quot;Networking&quot;, 80);\r\n            Map&lt;String, Integer&gt; hm1 = sortByValue(hm);\r\n     \r\n            // print the sorted hashmap\r\n            for (Map.Entry&lt;String, Integer&gt; en : hm1.entrySet()) {\r\n                System.out.println(&quot;Key = &quot; + en.getKey() +\r\n                              &quot;, Value = &quot; + en.getValue());\r\n            }\r\n        }\r\n    }\r\n    Output\r\n    Key = Operating System, Value = 79\r\n    Key = Networking, Value = 80\r\n    Key = Data Structure, Value = 85\r\n    Key = Database, Value = 91\r\n    Key = Java, Value = 95\r\n    Key = Math, Value = 98","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p><a href=\"https://www.geeksforgeeks.org/sorting-a-hashmap-according-to-values/\" rel=\"nofollow noreferrer\">Geeks For Geeks on sorting the HashMap by Value</a></p>\n<pre><code>Input : Key = Math, Value = 98\n    Key = Data Structure, Value = 85\n    Key = Database, Value = 91\n    Key = Java, Value = 95\n    Key = Operating System, Value = 79\n    Key = Networking, Value = 80\n\nOutput : Key = Operating System, Value = 79\n         Key = Networking, Value = 80\n         Key = Data Structure, Value = 85\n         Key = Database, Value = 91\n         Key = Java, Value = 95\n         Key = Math, Value = 98\nSolution: The idea is to store the entry set in a list and sort the list on the basis of values. Then fetch values and keys from the list and put them in a new hashmap. Thus, a new hashmap is sorted according to values.\nBelow is the implementation of the above idea: \n\n\n\n\n// Java program to sort hashmap by values\nimport java.util.*;\nimport java.lang.*;\n \npublic class GFG {\n \n    // function to sort hashmap by values\n    public static HashMap&lt;String, Integer&gt; sortByValue(HashMap&lt;String, Integer&gt; hm)\n    {\n        // Create a list from elements of HashMap\n        List&lt;Map.Entry&lt;String, Integer&gt; &gt; list =\n               new LinkedList&lt;Map.Entry&lt;String, Integer&gt; &gt;(hm.entrySet());\n \n        // Sort the list\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt; &gt;() {\n            public int compare(Map.Entry&lt;String, Integer&gt; o1,\n                               Map.Entry&lt;String, Integer&gt; o2)\n            {\n                return (o1.getValue()).compareTo(o2.getValue());\n            }\n        });\n         \n        // put data from sorted list to hashmap\n        HashMap&lt;String, Integer&gt; temp = new LinkedHashMap&lt;String, Integer&gt;();\n        for (Map.Entry&lt;String, Integer&gt; aa : list) {\n            temp.put(aa.getKey(), aa.getValue());\n        }\n        return temp;\n    }\n \n    // Driver Code\n    public static void main(String[] args)\n    {\n \n        HashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\n \n        // enter data into hashmap\n        hm.put(&quot;Math&quot;, 98);\n        hm.put(&quot;Data Structure&quot;, 85);\n        hm.put(&quot;Database&quot;, 91);\n        hm.put(&quot;Java&quot;, 95);\n        hm.put(&quot;Operating System&quot;, 79);\n        hm.put(&quot;Networking&quot;, 80);\n        Map&lt;String, Integer&gt; hm1 = sortByValue(hm);\n \n        // print the sorted hashmap\n        for (Map.Entry&lt;String, Integer&gt; en : hm1.entrySet()) {\n            System.out.println(&quot;Key = &quot; + en.getKey() +\n                          &quot;, Value = &quot; + en.getValue());\n        }\n    }\n}\nOutput\nKey = Operating System, Value = 79\nKey = Networking, Value = 80\nKey = Data Structure, Value = 85\nKey = Database, Value = 91\nKey = Java, Value = 95\nKey = Math, Value = 98\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675843004,"creation_date":1675837848,"answer_id":75382089,"question_id":109383,"body_markdown":"I think the best way, it to use special data structure. You may think about `TreeMap`, but values can be not unique in general case. So, your choise is `PriorityQueue`:\r\n\r\n```java\r\npublic static &lt;K, V&gt; Iterator&lt;Map.Entry&lt;K, V&gt;&gt; sortByValue(\r\n                                              Map&lt;K, V&gt; map,\r\n                                              Comparator&lt;V&gt; valueComparator) {\r\n    Queue&lt;Map.Entry&lt;K, V&gt;&gt; queue = new PriorityQueue&lt;&gt;((one, two) -&gt;\r\n                     valueComparator.compare(one.getValue(), two.getValue()));\r\n    queue.addAll(map.entrySet());\r\n    return queue.iterator();\r\n}\r\n```","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I think the best way, it to use special data structure. You may think about <code>TreeMap</code>, but values can be not unique in general case. So, your choise is <code>PriorityQueue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;K, V&gt; Iterator&lt;Map.Entry&lt;K, V&gt;&gt; sortByValue(\n                                              Map&lt;K, V&gt; map,\n                                              Comparator&lt;V&gt; valueComparator) {\n    Queue&lt;Map.Entry&lt;K, V&gt;&gt; queue = new PriorityQueue&lt;&gt;((one, two) -&gt;\n                     valueComparator.compare(one.getValue(), two.getValue()));\n    queue.addAll(map.entrySet());\n    return queue.iterator();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744671,"reputation":624,"user_id":1595156,"accept_rate":22,"display_name":"Arpit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692773728,"creation_date":1692773728,"answer_id":76958971,"question_id":109383,"body_markdown":"By using the below code you can sort the hashmap on the basis of key &amp; value both.\r\nFirst you can sort it on the basis of value &amp; if the values are same then you can compare on the basis of key.\r\n\r\n    val list: List&lt;Map.Entry&lt;Int, String&gt;&gt; = LinkedList&lt;Map.Entry&lt;Int, String&gt;&gt;(hm.entries)\r\n\r\n    Collections.sort(list) { entry: Map.Entry&lt;Int, String&gt;, entry1: Map.Entry&lt;Int, String&gt; -&gt;\r\n        var result = entry.value.compareTo(entry1.value)\r\n        if (result == 0) {\r\n            result = entry.key.compareTo(entry1.key)\r\n        }\r\n        result\r\n    }\r\n\r\n    val hashmap: HashMap&lt;Int, String&gt; = LinkedHashMap&lt;Int, String&gt;()\r\n    list.forEach {\r\n        hashmap[it.key] = it.value\r\n    }\r\n\r\n    hashmap.forEach {\r\n        println(&quot;${it.key}, ${it.value}&quot;)\r\n    }","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>By using the below code you can sort the hashmap on the basis of key &amp; value both.\nFirst you can sort it on the basis of value &amp; if the values are same then you can compare on the basis of key.</p>\n<pre><code>val list: List&lt;Map.Entry&lt;Int, String&gt;&gt; = LinkedList&lt;Map.Entry&lt;Int, String&gt;&gt;(hm.entries)\n\nCollections.sort(list) { entry: Map.Entry&lt;Int, String&gt;, entry1: Map.Entry&lt;Int, String&gt; -&gt;\n    var result = entry.value.compareTo(entry1.value)\n    if (result == 0) {\n        result = entry.key.compareTo(entry1.key)\n    }\n    result\n}\n\nval hashmap: HashMap&lt;Int, String&gt; = LinkedHashMap&lt;Int, String&gt;()\nlist.forEach {\n    hashmap[it.key] = it.value\n}\n\nhashmap.forEach {\n    println(&quot;${it.key}, ${it.value}&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":5777,"reputation":2463,"user_id":9466,"display_name":"Abe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1754378,"favorite_count":0,"down_vote_count":5,"up_vote_count":1886,"answer_count":65,"score":1881,"last_activity_date":1693478898,"creation_date":1221944603,"question_id":109383,"body_markdown":"I need to sort a `Map&lt;Key, Value&gt;` on the values.\r\n\r\nSince the values are not unique, I find myself converting the `keySet` into an `array`, and sorting that array through **array sort** with a **custom comparator** that sorts on the value associated with the key.\r\n\r\nIs there an easier way?","title":"Sort a Map&lt;Key, Value&gt; by values","body":"<p>I need to sort a <code>Map&lt;Key, Value&gt;</code> on the values.</p>\n<p>Since the values are not unique, I find myself converting the <code>keySet</code> into an <code>array</code>, and sorting that array through <strong>array sort</strong> with a <strong>custom comparator</strong> that sorts on the value associated with the key.</p>\n<p>Is there an easier way?</p>\n"},{"tags":["java","android","kotlin","activity-result-api","activityresultcontracts"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1665255957,"post_id":73999566,"comment_id":130659035,"body_markdown":"`ActivityResultContracts.PickVisualMedia.ImageOnly` is a Kotlin `object`, not a class. In Kotlin, you would refer to that object simply as `ActivityResultContracts.PickVisualMedia.ImageOnly`. I forget how the JVM interop works for these. Regardless, you do not create an instance of `ActivityResultContracts.PickVisualMedia.ImageOnly`, but use the pre-existing singleton instance.","body":"<code>ActivityResultContracts.PickVisualMedia.ImageOnly</code> is a Kotlin <code>object</code>, not a class. In Kotlin, you would refer to that object simply as <code>ActivityResultContracts.PickVisualMedia.ImageOnly</code>. I forget how the JVM interop works for these. Regardless, you do not create an instance of <code>ActivityResultContracts.PickVisualMedia.ImageOnly</code>, but use the pre-existing singleton instance."},{"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"score":2,"creation_date":1665258005,"post_id":73999566,"comment_id":130659459,"body_markdown":"The Java equivalent would be ```ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE```. Writing it out this way in Java requires casting it to ```VisualMediaType```. After doing so in Java, the compiler complains about it being an incompatible cast. It&#39;s especially weird because it doesn&#39;t complain about it when written that way in Kotlin. I even decompiled that same working Kotlin code into Java and then weirdly the compiler complains about it. Very weird.","body":"The Java equivalent would be <code>ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE</code>. Writing it out this way in Java requires casting it to <code>VisualMediaType</code>. After doing so in Java, the compiler complains about it being an incompatible cast. It&#39;s especially weird because it doesn&#39;t complain about it when written that way in Kotlin. I even decompiled that same working Kotlin code into Java and then weirdly the compiler complains about it. Very weird."}],"answers":[{"comments":[{"owner":{"account_id":6258909,"reputation":2791,"user_id":4866667,"accept_rate":64,"display_name":"Mikhail"},"score":2,"creation_date":1668972815,"post_id":74000104,"comment_id":131530480,"body_markdown":"Is it possible to somehow hide this error in Android Studio?","body":"Is it possible to somehow hide this error in Android Studio?"},{"owner":{"account_id":1031524,"reputation":1431,"user_id":1123880,"display_name":"Roney Thomas"},"score":4,"creation_date":1673039495,"post_id":74000104,"comment_id":132415946,"body_markdown":"```PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()                     .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)                     .build(); ``` Casting is not required but the IDE still shows error.","body":"<code>PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()                     .setMediaType(ActivityResultContracts.PickVisualMedia.ImageO&zwnj;&#8203;nly.INSTANCE)                     .build(); </code> Casting is not required but the IDE still shows error."},{"owner":{"account_id":5684826,"reputation":520,"user_id":4494727,"accept_rate":61,"display_name":"Gaurav Mandlik"},"score":0,"creation_date":1676363548,"post_id":74000104,"comment_id":133116958,"body_markdown":"have you found any other solution? ?","body":"have you found any other solution? ?"},{"owner":{"account_id":1031524,"reputation":1431,"user_id":1123880,"display_name":"Roney Thomas"},"score":0,"creation_date":1679961031,"post_id":74000104,"comment_id":133811532,"body_markdown":"@GauravMandlik Update the dependency to androidx.activity:activity:1.7.0 and you should be good. They fixed the error with v1.7.0.","body":"@GauravMandlik Update the dependency to androidx.activity:activity:1.7.0 and you should be good. They fixed the error with v1.7.0."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1680449524,"post_id":74000104,"comment_id":133896815,"body_markdown":"@GauravMandlik easiest solution to every new google libraries bugs is to wait up to 1-2 years until they fix it","body":"@GauravMandlik easiest solution to every new google libraries bugs is to wait up to 1-2 years until they fix it"}],"tags":[],"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"comment_count":5,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1665258487,"creation_date":1665258487,"answer_id":74000104,"question_id":73999566,"body_markdown":"After some help from CommonsWare, I determined that ```setMediaType()``` accepts a Kotlin object instance. So, the above bad function I had should be:\r\n\r\n```\r\nprivate void onSelectNewPhotoButtonClick() {\r\n    ActivityResultContracts.PickVisualMedia.VisualMediaType mediaType = (ActivityResultContracts.PickVisualMedia.VisualMediaType) ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE;\r\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\r\n            .setMediaType(mediaType)\r\n            .build();\r\n    pickVisualMediaActivityResultLauncher.launch(request);\r\n}\r\n```\r\n\r\nAndroid Studio complains about the type casting, but the code does compile and work as expected. Very bizarre.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gXs9p.png\r\n  [2]: https://i.stack.imgur.com/3ZUVv.png","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>After some help from CommonsWare, I determined that <code>setMediaType()</code> accepts a Kotlin object instance. So, the above bad function I had should be:</p>\n<pre><code>private void onSelectNewPhotoButtonClick() {\n    ActivityResultContracts.PickVisualMedia.VisualMediaType mediaType = (ActivityResultContracts.PickVisualMedia.VisualMediaType) ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE;\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\n            .setMediaType(mediaType)\n            .build();\n    pickVisualMediaActivityResultLauncher.launch(request);\n}\n</code></pre>\n<p>Android Studio complains about the type casting, but the code does compile and work as expected. Very bizarre.</p>\n<p><a href=\"https://i.stack.imgur.com/gXs9p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gXs9p.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3ZUVv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3ZUVv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1031524,"reputation":1431,"user_id":1123880,"display_name":"Roney Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679961194,"creation_date":1679961194,"answer_id":75861295,"question_id":73999566,"body_markdown":"As of March 22, 2023. There is a fix just update [androidx.activity:activity][1] to version 1.7.0.\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/activity#1.7.0","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>As of March 22, 2023. There is a fix just update <a href=\"https://developer.android.com/jetpack/androidx/releases/activity#1.7.0\" rel=\"nofollow noreferrer\">androidx.activity:activity</a> to version 1.7.0.</p>\n"},{"tags":[],"owner":{"account_id":16585000,"reputation":338,"user_id":11984655,"display_name":"Sachidanand Pandit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692878553,"creation_date":1692878553,"answer_id":76969077,"question_id":73999566,"body_markdown":"Actually, I also got the same error but when I executed the code it was compiled and run and worked as expected. \r\n\r\nyou can refer to the code\r\n\r\n\r\npickMedia.launch(new PickVisualMediaRequest.Builder()                          .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n.build());\r\n\r\nvisit to [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/photopicker#select-single-item","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>Actually, I also got the same error but when I executed the code it was compiled and run and worked as expected.</p>\n<p>you can refer to the code</p>\n<p>pickMedia.launch(new PickVisualMediaRequest.Builder()                          .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\n.build());</p>\n<p>visit to <a href=\"https://developer.android.com/training/data-storage/shared/photopicker#select-single-item\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":26875236,"reputation":13,"user_id":20456581,"display_name":"Nebobrod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693478765,"creation_date":1693478765,"answer_id":77015101,"question_id":73999566,"body_markdown":"For me this code from [vendor (last sample)][1] is working \r\n*(but yep, the error is still bothering so I&#39;d like to find stable solution as well).*\r\n \r\n[![SingleMimeType as an alternative to VisualMediaType][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/photopicker#select-single-item\r\n  [2]: https://i.stack.imgur.com/zRzLZ.png","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>For me this code from <a href=\"https://developer.android.com/training/data-storage/shared/photopicker#select-single-item\" rel=\"nofollow noreferrer\">vendor (last sample)</a> is working\n<em>(but yep, the error is still bothering so I'd like to find stable solution as well).</em></p>\n<p><a href=\"https://i.stack.imgur.com/zRzLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRzLZ.png\" alt=\"SingleMimeType as an alternative to VisualMediaType\" /></a></p>\n"}],"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5928,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74000104,"answer_count":4,"score":8,"last_activity_date":1693478765,"creation_date":1665253897,"question_id":73999566,"body_markdown":"I am trying to use the [Activity Result APIs](https://developer.android.com/training/basics/intents/result) to handle the picking of a single photo for an app I am developing. I am trying to use one of the predefined contracts to keep things simple. So, I am attempting to use the [ActivityResultContracts.PickVisualMedia()](https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.PickVisualMedia) contract.\r\n\r\nI am setting the Activity Result Launcher up as follows:\r\n```\r\nprivate ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickVisualMediaActivityResultLauncher;\r\n\r\n@Override\r\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\r\n    pickVisualMediaActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.PickVisualMedia(),\r\n            this::onPickVisualMediaActivityResult\r\n    );\r\n}\r\n```\r\n\r\nAnd I am attempting to construct a [PickVisualMediaRequest](https://developer.android.com/reference/androidx/activity/result/PickVisualMediaRequest) and launch the Activity Result Launcher here:\r\n\r\n```\r\nprivate void onSelectNewPhotoButtonClick() {\r\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\r\n            .setMediaType(new ActivityResultContracts.PickVisualMedia.ImageOnly())\r\n            .build();\r\n    pickVisualMediaActivityResultLauncher.launch(request);\r\n}\r\n```\r\n\r\nIssue is that Android Studio is complaining about ActivityResultContracts.PickVisualMedia.ImageOnly() not having proper visibility to be used, even though it is a valid VisualMediaType and the docs imply that it should be used this way:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y1Zjh.png\r\n\r\nI can&#39;t really find any code samples on this particular scenario. Am I missing something? Does the API have a visibility defect or am I just dumb today?","title":"How to construct PickVisualMediaRequest for ActivityResultLauncher","body":"<p>I am trying to use the <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"noreferrer\">Activity Result APIs</a> to handle the picking of a single photo for an app I am developing. I am trying to use one of the predefined contracts to keep things simple. So, I am attempting to use the <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.PickVisualMedia\" rel=\"noreferrer\">ActivityResultContracts.PickVisualMedia()</a> contract.</p>\n<p>I am setting the Activity Result Launcher up as follows:</p>\n<pre><code>private ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickVisualMediaActivityResultLauncher;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    pickVisualMediaActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.PickVisualMedia(),\n            this::onPickVisualMediaActivityResult\n    );\n}\n</code></pre>\n<p>And I am attempting to construct a <a href=\"https://developer.android.com/reference/androidx/activity/result/PickVisualMediaRequest\" rel=\"noreferrer\">PickVisualMediaRequest</a> and launch the Activity Result Launcher here:</p>\n<pre><code>private void onSelectNewPhotoButtonClick() {\n    PickVisualMediaRequest request = new PickVisualMediaRequest.Builder()\n            .setMediaType(new ActivityResultContracts.PickVisualMedia.ImageOnly())\n            .build();\n    pickVisualMediaActivityResultLauncher.launch(request);\n}\n</code></pre>\n<p>Issue is that Android Studio is complaining about ActivityResultContracts.PickVisualMedia.ImageOnly() not having proper visibility to be used, even though it is a valid VisualMediaType and the docs imply that it should be used this way:\n<a href=\"https://i.stack.imgur.com/Y1Zjh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y1Zjh.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't really find any code samples on this particular scenario. Am I missing something? Does the API have a visibility defect or am I just dumb today?</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1693427286,"post_id":77011245,"comment_id":135761372,"body_markdown":"1) Best guess is whatever is doing creation process is not committing the transaction and all changes are lost when the session is closed. 2) To troubleshoot look at the Postgres log and see what is actually hitting the database.","body":"1) Best guess is whatever is doing creation process is not committing the transaction and all changes are lost when the session is closed. 2) To troubleshoot look at the Postgres log and see what is actually hitting the database."},{"owner":{"account_id":986214,"reputation":975,"user_id":1004631,"display_name":"robot_alien"},"score":0,"creation_date":1693478826,"post_id":77011245,"comment_id":135767851,"body_markdown":"First, observe the queries that are executed where your database logs are logged. \nSecond, change your `spring.jpa.hibernate.ddl-auto=update`  to `create`.\n\nAt last, sometimes dropping the entire table that does not update the columns seems to be the only option. But make sure to do a pg_dump in case if you have important data in your database. \nI&#39;d suggest trying this only on your local setup, because the implications are huge.","body":"First, observe the queries that are executed where your database logs are logged.  Second, change your <code>spring.jpa.hibernate.ddl-auto=update</code>  to <code>create</code>.  At last, sometimes dropping the entire table that does not update the columns seems to be the only option. But make sure to do a pg_dump in case if you have important data in your database.  I&#39;d suggest trying this only on your local setup, because the implications are huge."}],"answers":[{"tags":[],"owner":{"account_id":22039438,"reputation":39,"user_id":16305424,"display_name":"CaileanCuina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693469676,"creation_date":1693469676,"answer_id":77013991,"question_id":77011245,"body_markdown":"Why don&#39;t you try something like Liquibase ( database schema change management)?\r\nwith that it&#39;s also easier to maintain your db.\r\nFor that you have to add the dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand organize your db changes in changelog files, like described in here:\r\nhttps://www.baeldung.com/liquibase-refactor-schema-of-java-app","title":"PostgreSQL is not creating any table while running springboot without any exception","body":"<p>Why don't you try something like Liquibase ( database schema change management)?\nwith that it's also easier to maintain your db.\nFor that you have to add the dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and organize your db changes in changelog files, like described in here:\n<a href=\"https://www.baeldung.com/liquibase-refactor-schema-of-java-app\" rel=\"nofollow noreferrer\">https://www.baeldung.com/liquibase-refactor-schema-of-java-app</a></p>\n"}],"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693478316,"creation_date":1693426101,"question_id":77011245,"body_markdown":"I cannot create any table or column in PostgreSQL with springboot and **there&#39;s no exception observed.** It&#39;s driving me crazy. I really need your help, here is my code:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@Table(name = &quot;doctor_info&quot;)\r\npublic class DoctorInfo  {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t@Column\r\n\tprivate String fullName; \r\n\t@Column\r\n\tprivate String department; \r\n\t@Column\r\n\tprivate String userName; \r\n\t@Column\r\n\tprivate String password;\r\n\r\n} \r\n```\r\n\r\nThis is application properties:\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=update \r\nspring.jpa.show-sql = true\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/hospital\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\nspring.datasource.initialization-mode=always\r\nspring.datasource.initialize=true \r\n```\r\n\r\n[this is the database I created][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Mvqa.png","title":"PostgreSQL is not creating any table while running springboot without any exception","body":"<p>I cannot create any table or column in PostgreSQL with springboot and <strong>there's no exception observed.</strong> It's driving me crazy. I really need your help, here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@Table(name = &quot;doctor_info&quot;)\npublic class DoctorInfo  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @Column\n    private String fullName; \n    @Column\n    private String department; \n    @Column\n    private String userName; \n    @Column\n    private String password;\n\n} \n</code></pre>\n<p>This is application properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update \nspring.jpa.show-sql = true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.url=jdbc:postgresql://localhost:5432/hospital\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.datasource.initialization-mode=always\nspring.datasource.initialize=true \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1Mvqa.png\" rel=\"nofollow noreferrer\">this is the database I created</a></p>\n"},{"tags":["java","spring","multithreading","spring-boot","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544006737,"creation_date":1544006737,"answer_id":53630503,"question_id":53630419,"body_markdown":"Second way is better because you **let Spring handle class** `TaskScheduler` and later you can use it in other classes using  `@Autowired` as:\r\n\r\n    @Autowired\r\n    TaskScheduler taskScheduler  \r\n\r\n","title":"Spring Boot - Scheduler configuration","body":"<p>Second way is better because you <strong>let Spring handle class</strong> <code>TaskScheduler</code> and later you can use it in other classes using  <code>@Autowired</code> as:</p>\n\n<pre><code>@Autowired\nTaskScheduler taskScheduler  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5042493,"reputation":300,"user_id":4049426,"display_name":"Sodala"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544011291,"creation_date":1544009742,"answer_id":53631394,"question_id":53630419,"body_markdown":"Why in way 2 initialize method of ThreadPoolTaskScheduler object isn&#39;t called?\r\n\r\nBecause now, ThreadPoolTaskScheduler is a bean and it follows the Bean Life Cycle.\r\n\r\nYou can see that ThreadPoolTaskScheduler implements InitializingBean.\r\nSo after spring builds this bean, it will call the afterPropertiesSet() method .\r\n\r\nIf you inspect the code of ThreadPoolTaskScheduler, you will see:\r\n\r\n    public void afterPropertiesSet() {\r\n        this.initialize();\r\n    }\r\n\r\n","title":"Spring Boot - Scheduler configuration","body":"<p>Why in way 2 initialize method of ThreadPoolTaskScheduler object isn't called?</p>\n\n<p>Because now, ThreadPoolTaskScheduler is a bean and it follows the Bean Life Cycle.</p>\n\n<p>You can see that ThreadPoolTaskScheduler implements InitializingBean.\nSo after spring builds this bean, it will call the afterPropertiesSet() method .</p>\n\n<p>If you inspect the code of ThreadPoolTaskScheduler, you will see:</p>\n\n<pre><code>public void afterPropertiesSet() {\n    this.initialize();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7447887,"reputation":135,"user_id":5663561,"accept_rate":67,"display_name":"dobedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693477950,"creation_date":1693477950,"answer_id":77015022,"question_id":53630419,"body_markdown":"I was also tempted to define such a configuration. Since Spring Boot 2.1.0 you can do this via configuration (`org.springframework.boot.autoconfigure.task.TaskSchedulingProperties`), both the number of threads and threadNamePrefix can be customised.","title":"Spring Boot - Scheduler configuration","body":"<p>I was also tempted to define such a configuration. Since Spring Boot 2.1.0 you can do this via configuration (<code>org.springframework.boot.autoconfigure.task.TaskSchedulingProperties</code>), both the number of threads and threadNamePrefix can be customised.</p>\n"}],"owner":{"account_id":6672699,"reputation":379,"user_id":5148363,"accept_rate":82,"display_name":"nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6518,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53630503,"answer_count":3,"score":3,"last_activity_date":1693477950,"creation_date":1544006469,"question_id":53630419,"body_markdown":"In Spring Boot application I have several scheduled tasks. I want them to run simultaneously, so in my configuration I should create `ThreadPoolTaskScheduler` object and register it in `ScheduledTaskRegistrar`.\r\n I find two ways to do that:\r\n\r\n**way 1**\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulerConfig implements SchedulingConfigurer {\r\n\r\n        private final int POOL_SIZE = 10;\r\n\r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n\r\n            ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n\r\n            scheduler.setPoolSize(POOL_SIZE);\r\n            scheduler.setThreadNamePrefix(&quot;name&quot;);\r\n            scheduler.initialize();\r\n\r\n            scheduledTaskRegistrar.setTaskScheduler(scheduler);\r\n        }\r\n    }\r\n\r\n**way 2**\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulerConfig implements SchedulingConfigurer {\r\n\r\n        private final int POOL_SIZE = 10;\r\n\r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n\r\n            scheduledTaskRegistrar.setTaskScheduler(this.poolScheduler());\r\n        }\r\n\r\n        @Bean\r\n        public TaskScheduler poolScheduler() {\r\n\r\n            ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n\r\n            scheduler.setPoolSize(POOL_SIZE);\r\n            scheduler.setThreadNamePrefix(&quot;name&quot;);\r\n\r\n            return scheduler;\r\n        }\r\n    }\r\n\r\n 1. Which way is better or they do exactly the same?  \r\n 2. Why in way 2 initialize method of ThreadPoolTaskScheduler object isn&#39;t called? ","title":"Spring Boot - Scheduler configuration","body":"<p>In Spring Boot application I have several scheduled tasks. I want them to run simultaneously, so in my configuration I should create <code>ThreadPoolTaskScheduler</code> object and register it in <code>ScheduledTaskRegistrar</code>.\n I find two ways to do that:</p>\n\n<p><strong>way 1</strong></p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig implements SchedulingConfigurer {\n\n    private final int POOL_SIZE = 10;\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n\n        ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n\n        scheduler.setPoolSize(POOL_SIZE);\n        scheduler.setThreadNamePrefix(\"name\");\n        scheduler.initialize();\n\n        scheduledTaskRegistrar.setTaskScheduler(scheduler);\n    }\n}\n</code></pre>\n\n<p><strong>way 2</strong></p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig implements SchedulingConfigurer {\n\n    private final int POOL_SIZE = 10;\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n\n        scheduledTaskRegistrar.setTaskScheduler(this.poolScheduler());\n    }\n\n    @Bean\n    public TaskScheduler poolScheduler() {\n\n        ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n\n        scheduler.setPoolSize(POOL_SIZE);\n        scheduler.setThreadNamePrefix(\"name\");\n\n        return scheduler;\n    }\n}\n</code></pre>\n\n<ol>\n<li>Which way is better or they do exactly the same?  </li>\n<li>Why in way 2 initialize method of ThreadPoolTaskScheduler object isn't called? </li>\n</ol>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693477550,"post_id":77014018,"comment_id":135767585,"body_markdown":"If it is deprecated, it will have documentation how to replace it (and besides, it will still work if it was only deprecated).","body":"If it is deprecated, it will have documentation how to replace it (and besides, it will still work if it was only deprecated)."},{"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"score":0,"creation_date":1693477910,"post_id":77014018,"comment_id":135767652,"body_markdown":"@MarkRotteveel I was wrong, this annotation has already been removed in Hibernate 6.","body":"@MarkRotteveel I was wrong, this annotation has already been removed in Hibernate 6."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1693478242,"post_id":77014018,"comment_id":135767726,"body_markdown":"The Hibernate 6 documentation and Migration Guide really gloss over this (as in hardly describe this, they just mention it was removed). I think [this example](https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#basic-bitset) might show you the alternative, but I&#39;m not entirely sure.","body":"The Hibernate 6 documentation and Migration Guide really gloss over this (as in hardly describe this, they just mention it was removed). I think <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#basic-bitset\" rel=\"nofollow noreferrer\">this example</a> might show you the alternative, but I&#39;m not entirely sure."}],"owner":{"account_id":28684108,"reputation":35,"user_id":21964694,"display_name":"Sonnka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693470114,"answer_count":0,"score":0,"last_activity_date":1693477811,"creation_date":1693469923,"question_id":77014018,"body_markdown":"I updated hibernate to version 6, but it turned out that the @TypeDef annotation was removed. \r\nAnnotation:\r\n``` \r\n@TypeDef(\r\n        typeClass = PostgreSQLIntervalType.class,\r\n        defaultForType = Duration.class)\r\n``` \r\nField:\r\n``` \r\n    @Column(name = &quot;period&quot;, columnDefinition = &quot;interval&quot;)\r\n    @Getter(AccessLevel.NONE)\r\n    private Duration workedOutTime = Duration.between(createdAt.toLocalTime(), createdAt.toLocalTime());\r\n\r\n    public LocalTime getWorkedOutTime() {\r\n        return LocalTime.ofSecondOfDay(workedOutTime.getSeconds());\r\n    }\r\n\r\n    public long getWorkedOutDuration() {\r\n        return workedOutTime.getSeconds();\r\n    }\r\n\r\n``` \r\n\r\nHow can it be replaced?","title":"@TypeDef(typeClass = PostgreSQLIntervalType.class, defaultForType = Duration.class) annotation in Hibernate 6","body":"<p>I updated hibernate to version 6, but it turned out that the @TypeDef annotation was removed.\nAnnotation:</p>\n<pre><code>@TypeDef(\n        typeClass = PostgreSQLIntervalType.class,\n        defaultForType = Duration.class)\n</code></pre>\n<p>Field:</p>\n<pre><code>    @Column(name = &quot;period&quot;, columnDefinition = &quot;interval&quot;)\n    @Getter(AccessLevel.NONE)\n    private Duration workedOutTime = Duration.between(createdAt.toLocalTime(), createdAt.toLocalTime());\n\n    public LocalTime getWorkedOutTime() {\n        return LocalTime.ofSecondOfDay(workedOutTime.getSeconds());\n    }\n\n    public long getWorkedOutDuration() {\n        return workedOutTime.getSeconds();\n    }\n\n</code></pre>\n<p>How can it be replaced?</p>\n"},{"tags":["java","json","xml","scala","jackson-databind"],"comments":[{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1693357056,"post_id":76972540,"comment_id":135749076,"body_markdown":"Underscore-java library has static method U.xmlToJson(xml)","body":"Underscore-java library has static method U.xmlToJson(xml)"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693477721,"creation_date":1693477721,"answer_id":77014994,"question_id":76972540,"body_markdown":"It is possible if you use the [`ObjectWriter.withRootName`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectWriter.html#withRootName-java.lang.String-) method with the constructed `ObjectWriter` writer from your already existing `ObjectMapper` mapper present in your code, so giving the correct rootname (in your case the value *Person*):\r\n\r\n~~~\r\nval node: JsonNode = xmlMapper.readTree(xml)\r\nval jsonMapper: ObjectMapper = new ObjectMapper()\r\nval json: String = jsonMapper.writer()\r\n                             .withRootName(&quot;Person&quot;)\r\n                             .writeValueAsString(node)\r\n//Output: {&quot;Person&quot;:{&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}}\r\nprintln(json)\r\n~~~\r\n\r\n\r\n","title":"Right configuration to convert a small and a large number from XML to Json using com.fasterxml.jackson.dataformat.xml.XmlMapper class","body":"<p>It is possible if you use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectWriter.html#withRootName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ObjectWriter.withRootName</code></a> method with the constructed <code>ObjectWriter</code> writer from your already existing <code>ObjectMapper</code> mapper present in your code, so giving the correct rootname (in your case the value <em>Person</em>):</p>\n<pre><code>val node: JsonNode = xmlMapper.readTree(xml)\nval jsonMapper: ObjectMapper = new ObjectMapper()\nval json: String = jsonMapper.writer()\n                             .withRootName(&quot;Person&quot;)\n                             .writeValueAsString(node)\n//Output: {&quot;Person&quot;:{&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}}\nprintln(json)\n</code></pre>\n"}],"owner":{"account_id":3146538,"reputation":149,"user_id":2660920,"display_name":"Heitor Barbieri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77014994,"answer_count":1,"score":1,"last_activity_date":1693477772,"creation_date":1692906804,"question_id":76972540,"body_markdown":"How can I configure the com.fasterxml.jackson.dataformat.xml.XmlMapper class so that given an xml like:\r\n\r\n```\r\n&lt;Person&gt;\r\n    &lt;Age&gt;33&lt;/Age&gt;\r\n    &lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;\r\n&lt;/Person&gt;\r\n```\r\n\r\nCan turn it into a json string like:\r\n\r\n```\r\n{\r\n    &quot;Person&quot;: {\r\n     &quot;Age&quot;: 33,\r\n     &quot;GrantID&quot;: &quot;815721008160186381772405&quot;\r\n     }\r\n}\r\n```\r\n\r\nSee the detail that 33 can be converted into a number, but 815721008160186381772405 cannot and is converted into a string.\r\n\r\n\r\nMy sample program:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper\r\n\r\nobject Xml2Json extends App {\r\n  val xml: String = &quot;&lt;Person&gt;&lt;Age&gt;33&lt;/Age&gt;&lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;&lt;/Person&gt;&quot;\r\n  val xmlMapper: XmlMapper = new XmlMapper()\r\n  val node: JsonNode = xmlMapper.readTree(xml) //.readTree(xml.getBytes())\r\n  val jsonMapper: ObjectMapper = new ObjectMapper()\r\n  val json: String = jsonMapper.writeValueAsString(node)\r\n\r\n  println(json)\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n    {&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}","title":"Right configuration to convert a small and a large number from XML to Json using com.fasterxml.jackson.dataformat.xml.XmlMapper class","body":"<p>How can I configure the com.fasterxml.jackson.dataformat.xml.XmlMapper class so that given an xml like:</p>\n<pre><code>&lt;Person&gt;\n    &lt;Age&gt;33&lt;/Age&gt;\n    &lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;\n&lt;/Person&gt;\n</code></pre>\n<p>Can turn it into a json string like:</p>\n<pre><code>{\n    &quot;Person&quot;: {\n     &quot;Age&quot;: 33,\n     &quot;GrantID&quot;: &quot;815721008160186381772405&quot;\n     }\n}\n</code></pre>\n<p>See the detail that 33 can be converted into a number, but 815721008160186381772405 cannot and is converted into a string.</p>\n<p>My sample program:</p>\n<pre><code>import com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper\n\nobject Xml2Json extends App {\n  val xml: String = &quot;&lt;Person&gt;&lt;Age&gt;33&lt;/Age&gt;&lt;GrantID&gt;815721008160186381772405&lt;/GrantID&gt;&lt;/Person&gt;&quot;\n  val xmlMapper: XmlMapper = new XmlMapper()\n  val node: JsonNode = xmlMapper.readTree(xml) //.readTree(xml.getBytes())\n  val jsonMapper: ObjectMapper = new ObjectMapper()\n  val json: String = jsonMapper.writeValueAsString(node)\n\n  println(json)\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;Age&quot;:&quot;33&quot;,&quot;GrantID&quot;:&quot;815721008160186381772405&quot;}\n</code></pre>\n"},{"tags":["java","c++","c"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1693471606,"post_id":881064,"comment_id":135766363,"body_markdown":"We don&#39;t say anything of the sort. Where did you get this? It is *programming styles* or even *analysis* which is top-down or bottom-up. But this topic dates from the 1970s. We are well past all that now. The &#39;top-down&#39; fallacies were exposed decades ago.","body":"We don&#39;t say anything of the sort. Where did you get this? It is <i>programming styles</i> or even <i>analysis</i> which is top-down or bottom-up. But this topic dates from the 1970s. We are well past all that now. The &#39;top-down&#39; fallacies were exposed decades ago."}],"answers":[{"tags":[],"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1242710894,"creation_date":1242710894,"answer_id":881098,"question_id":881064,"body_markdown":"In Top-Down development you start out with your main function, and then think of the main steps you need to take, then you break up each of those steps into their subparts, and so on.\r\n\r\nIn Bottom-Up programming you think of the basic functionality and the parts you&#39;re going to need and build them up.  You develop the actors and their methods, and then you tie them together to make a coherent whole.\r\n\r\nOOP naturally tends toward Bottom-Up as you develop your objects, while procedural programming tends toward Top-Down as you start out with one function and slowly add to it.","title":"Top down and Bottom up programming","body":"<p>In Top-Down development you start out with your main function, and then think of the main steps you need to take, then you break up each of those steps into their subparts, and so on.</p>\n\n<p>In Bottom-Up programming you think of the basic functionality and the parts you're going to need and build them up.  You develop the actors and their methods, and then you tie them together to make a coherent whole.</p>\n\n<p>OOP naturally tends toward Bottom-Up as you develop your objects, while procedural programming tends toward Top-Down as you start out with one function and slowly add to it.</p>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":1,"creation_date":1548705508,"post_id":881100,"comment_id":95629581,"body_markdown":"No wonder I hate OO. Top-down design in practice results in unforeseen problems.","body":"No wonder I hate OO. Top-down design in practice results in unforeseen problems."},{"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":2,"creation_date":1584053783,"post_id":881100,"comment_id":107326765,"body_markdown":"@SridharSarnobat I&#39;m sorry it&#39;s taken so long to spot this comment. Now, that said, in general, OO isn&#39;t supposed to be practiced top-down anyway. And pretty much all programming will involve going back and reworking. That&#39;s why Fred Brooks advises &quot;Plan to throw one away. You will anyway.&quot;","body":"@SridharSarnobat I&#39;m sorry it&#39;s taken so long to spot this comment. Now, that said, in general, OO isn&#39;t supposed to be practiced top-down anyway. And pretty much all programming will involve going back and reworking. That&#39;s why Fred Brooks advises &quot;Plan to throw one away. You will anyway.&quot;"}],"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":2,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1242710970,"creation_date":1242710970,"answer_id":881100,"question_id":881064,"body_markdown":"The &quot;top down&quot; approach takes a high level definition of the problem and subdivides it into subproblems, which you then do recursively until you&#39;re down to pieces that are obvious and easy to code.  This is often associated with the &quot;functional decomposition&quot; style of programming, but needn&#39;t be.\r\n\r\nIn &quot;bottom up&quot; programming, you identify lower-level tools that you can compose to become a bigger program.\r\n\r\nIn reality, almost all programming is done with a combination of approaches.  in object oriented programming, you commonly subdivide the problem by identifying domain objects (which is a top down step), and refining those, then recombining those into the final program — a bottom up step.\r\n\r\n","title":"Top down and Bottom up programming","body":"<p>The \"top down\" approach takes a high level definition of the problem and subdivides it into subproblems, which you then do recursively until you're down to pieces that are obvious and easy to code.  This is often associated with the \"functional decomposition\" style of programming, but needn't be.</p>\n\n<p>In \"bottom up\" programming, you identify lower-level tools that you can compose to become a bigger program.</p>\n\n<p>In reality, almost all programming is done with a combination of approaches.  in object oriented programming, you commonly subdivide the problem by identifying domain objects (which is a top down step), and refining those, then recombining those into the final program — a bottom up step.</p>\n"},{"comments":[{"owner":{"account_id":3963959,"reputation":21080,"user_id":3329664,"display_name":"Billal Begueradj"},"score":2,"creation_date":1493017377,"post_id":881101,"comment_id":74212580,"body_markdown":"You are absolutely right. The question has a false statement. They are just approaches that can be respected and implemented independently from the programming language in use. With the complexity of modern software, both approaches are mixed and lot of developers use them both without even being aware of that. Your answer must be the accepted one because it is straightforward and not confusing for beginners.","body":"You are absolutely right. The question has a false statement. They are just approaches that can be respected and implemented independently from the programming language in use. With the complexity of modern software, both approaches are mixed and lot of developers use them both without even being aware of that. Your answer must be the accepted one because it is straightforward and not confusing for beginners."}],"tags":[],"owner":{"account_id":6080,"reputation":12964,"user_id":10080,"accept_rate":88,"display_name":"AviD"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242711013,"creation_date":1242711013,"answer_id":881101,"question_id":881064,"body_markdown":"I&#39;ve never heard that classification applied to specific languages, rather it&#39;s a programming paradigm - do you first fill out the details (i.e. build full implementation methods) and then put them together (e.g. call them from them main() method), or start with the logical flow and then flesh out the implementation?  \r\n\r\nYou can really do either with both types of lanugages...  But I would say it&#39;s typically the opposite, in current OOP languages you&#39;ll first define the interfaces, forming the logical structure, and only afterwards worry about the implementation, whereas straight procedural languages like C, you need to actually implement some methods before you call them.","title":"Top down and Bottom up programming","body":"<p>I've never heard that classification applied to specific languages, rather it's a programming paradigm - do you first fill out the details (i.e. build full implementation methods) and then put them together (e.g. call them from them main() method), or start with the logical flow and then flesh out the implementation?  </p>\n\n<p>You can really do either with both types of lanugages...  But I would say it's typically the opposite, in current OOP languages you'll first define the interfaces, forming the logical structure, and only afterwards worry about the implementation, whereas straight procedural languages like C, you need to actually implement some methods before you call them.</p>\n"},{"tags":[],"owner":{"account_id":876937,"reputation":9851,"user_id":99389,"display_name":"Nat"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1242711526,"creation_date":1242711526,"answer_id":881118,"question_id":881064,"body_markdown":"I&#39;ve never heard the terms &quot;top-down&quot; and &quot;bottom-up&quot; used in that way.\r\n\r\nThe terms are usually used to describe how one approaches design and implementation of a software system and so apply to any language or programming paradigm.\r\n\r\nIn &quot;On LISP&quot;, Paul Graham uses the term &quot;bottom-up&quot; slightly differently to mean continually extracting common functionality into shared functions so that you end up creating a new, higher level dialect of LISP that lets you program in terms of your application domain. That&#39;s not a common use of the term. These days we would call that &quot;refactoring&quot; and &quot;domain-specific embedded languages&quot; (and old LISP programmers would sneer that LISP has been able to do that since the 1950s).\r\n   ","title":"Top down and Bottom up programming","body":"<p>I've never heard the terms \"top-down\" and \"bottom-up\" used in that way.</p>\n\n<p>The terms are usually used to describe how one approaches design and implementation of a software system and so apply to any language or programming paradigm.</p>\n\n<p>In \"On LISP\", Paul Graham uses the term \"bottom-up\" slightly differently to mean continually extracting common functionality into shared functions so that you end up creating a new, higher level dialect of LISP that lets you program in terms of your application domain. That's not a common use of the term. These days we would call that \"refactoring\" and \"domain-specific embedded languages\" (and old LISP programmers would sneer that LISP has been able to do that since the 1950s).</p>\n"},{"tags":[],"owner":{"account_id":227283,"reputation":563,"user_id":488861,"accept_rate":100,"display_name":"Rytek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364909029,"creation_date":1364909029,"answer_id":15765295,"question_id":881064,"body_markdown":"It&#39;s more about paradigm (object oriented, imperative, functionnal etc.) than syntax.\r\n\r\nFrom [dept-info.labri.fr][1]\r\n\r\n&gt; Bottom-up programming is the opposite of top-down programming. It\r\n&gt; refers to a style of programming where an **application is constructed\r\n&gt; starting with existing primitives of the programming language**, and\r\n&gt; constructing gradually more and more complicated features, until the\r\n&gt; all of the application has been written.\r\n\r\nLater in the same article :\r\n\r\n&gt; In a language such as C or Java, bottom-up programming takes the form\r\n&gt; of constructing abstract data types from primitives of the language or\r\n&gt; from existing abstract data types.\r\n\r\n  [1]: http://dept-info.labri.fr/~strandh/Teaching/PFS/Common/Strandh-Tutorial/bottom-up-programming.html","title":"Top down and Bottom up programming","body":"<p>It's more about paradigm (object oriented, imperative, functionnal etc.) than syntax.</p>\n\n<p>From <a href=\"http://dept-info.labri.fr/~strandh/Teaching/PFS/Common/Strandh-Tutorial/bottom-up-programming.html\" rel=\"nofollow\">dept-info.labri.fr</a></p>\n\n<blockquote>\n  <p>Bottom-up programming is the opposite of top-down programming. It\n  refers to a style of programming where an <strong>application is constructed\n  starting with existing primitives of the programming language</strong>, and\n  constructing gradually more and more complicated features, until the\n  all of the application has been written.</p>\n</blockquote>\n\n<p>Later in the same article :</p>\n\n<blockquote>\n  <p>In a language such as C or Java, bottom-up programming takes the form\n  of constructing abstract data types from primitives of the language or\n  from existing abstract data types.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2965287,"reputation":21,"user_id":2518583,"display_name":"varinder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372132989,"creation_date":1372132989,"answer_id":17288961,"question_id":881064,"body_markdown":"In top-down approach the system is first formulated specifying but not detailing any subsystem at the beginning, and then each system and its subsystem is defined in great detail until specifying it to the base. \r\n\r\ne.g.- In a C program one needs to declare functions at the top of the program and then through the main entry to every subsystem/subroutine is defined in great detail.\r\n\r\nIn bottom-up approach first designing, beginning  from the base level to the abstract level is done.\r\n\r\ne.g.-In c++/java starts designing from class from basic level of the programming features and then goes to the main part of the program.","title":"Top down and Bottom up programming","body":"<p>In top-down approach the system is first formulated specifying but not detailing any subsystem at the beginning, and then each system and its subsystem is defined in great detail until specifying it to the base. </p>\n\n<p>e.g.- In a C program one needs to declare functions at the top of the program and then through the main entry to every subsystem/subroutine is defined in great detail.</p>\n\n<p>In bottom-up approach first designing, beginning  from the base level to the abstract level is done.</p>\n\n<p>e.g.-In c++/java starts designing from class from basic level of the programming features and then goes to the main part of the program.</p>\n"},{"tags":[],"owner":{"account_id":5463150,"reputation":129,"user_id":4344615,"accept_rate":20,"display_name":"Xcode"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490165045,"creation_date":1490165045,"answer_id":42944471,"question_id":881064,"body_markdown":"I do believe the difference between the top down approach and bottom up approach to programming is that the top down approach takes the problem and into and breaks into manageable steps and bottom up approach is actually detailing those steps.","title":"Top down and Bottom up programming","body":"<p>I do believe the difference between the top down approach and bottom up approach to programming is that the top down approach takes the problem and into and breaks into manageable steps and bottom up approach is actually detailing those steps.</p>\n"},{"tags":[],"owner":{"account_id":14697363,"reputation":1,"user_id":10614393,"display_name":"Vivek"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565586054,"creation_date":1565586054,"answer_id":57455846,"question_id":881064,"body_markdown":"Most of the procedural or low level languages follow Top-down approach like C language.Similarly high level languages like java ,c++ etc follows Bottom-Up Approach.\r\n\r\nIn Top-down approach,all the system or big functions are broken down into small subsystem whereas in Bottom-up approach,Small sub-system are combined together to develop a big and final system.\r\n\r\ne.g.Recursive is top down approach while Iterative is Bottom up approach.\r\n","title":"Top down and Bottom up programming","body":"<p>Most of the procedural or low level languages follow Top-down approach like C language.Similarly high level languages like java ,c++ etc follows Bottom-Up Approach.</p>\n\n<p>In Top-down approach,all the system or big functions are broken down into small subsystem whereas in Bottom-up approach,Small sub-system are combined together to develop a big and final system.</p>\n\n<p>e.g.Recursive is top down approach while Iterative is Bottom up approach.</p>\n"}],"owner":{"display_name":"buz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82700,"favorite_count":0,"down_vote_count":2,"up_vote_count":42,"closed_date":1693479587,"accepted_answer_id":881100,"answer_count":8,"score":40,"last_activity_date":1693477375,"creation_date":1242710048,"question_id":881064,"body_markdown":"Why do we say languages such as C are top-down while OOP languages like Java or C++ are bottom-up? Does this classification have any importance in software development?\r\n","title":"Top down and Bottom up programming","body":"<p>Why do we say languages such as C are top-down while OOP languages like Java or C++ are bottom-up? Does this classification have any importance in software development?</p>\n"},{"tags":["java","jhipster","liquibase"],"comments":[{"owner":{"account_id":6014015,"reputation":1182,"user_id":4723506,"display_name":"redge"},"score":0,"creation_date":1429316347,"post_id":29711327,"comment_id":47558400,"body_markdown":"Where is the code for your `SpringLiquibase` class.","body":"Where is the code for your <code>SpringLiquibase</code> class."},{"owner":{"account_id":5877724,"reputation":171,"user_id":4628120,"display_name":"ivan"},"score":0,"creation_date":1429316817,"post_id":29711327,"comment_id":47558507,"body_markdown":"Hi, thanks for your comment, I actually now found the reason for this - the value in the field databasechangelog.md5sum for script 00000000000000_initial_schema.xml::00000000000001 which is in database is different than the one that jHipster is generating upon update to new version. Because of this clash, liquidbase was complaining, even though the script itself hasn&#39;t been changed. I now updated the field value in database to match what liquidbase is trying to  enter and it all worked, validation passed.","body":"Hi, thanks for your comment, I actually now found the reason for this - the value in the field databasechangelog.md5sum for script 00000000000000_initial_schema.xml::00000000000001 which is in database is different than the one that jHipster is generating upon update to new version. Because of this clash, liquidbase was complaining, even though the script itself hasn&#39;t been changed. I now updated the field value in database to match what liquidbase is trying to  enter and it all worked, validation passed."},{"owner":{"account_id":5877724,"reputation":171,"user_id":4628120,"display_name":"ivan"},"score":0,"creation_date":1429349987,"post_id":29711327,"comment_id":47565871,"body_markdown":"http://stackoverflow.com/questions/28427950/jhipster-run-embedded-jar-with-prod-profile-issue-with-liquibase has good explanation of liquidbase check.","body":"<a href=\"http://stackoverflow.com/questions/28427950/jhipster-run-embedded-jar-with-prod-profile-issue-with-liquibase\" title=\"jhipster run embedded jar with prod profile issue with liquibase\">stackoverflow.com/questions/28427950/&hellip;</a> has good explanation of liquidbase check."},{"owner":{"account_id":298276,"reputation":4634,"user_id":604218,"display_name":"Roberto"},"score":0,"creation_date":1466274759,"post_id":29711327,"comment_id":63253692,"body_markdown":"You have a liquibase validation issue, check the following post http://stackoverflow.com/questions/9995747/liquibase-checksum-validation-error-without-any-changes","body":"You have a liquibase validation issue, check the following post <a href=\"http://stackoverflow.com/questions/9995747/liquibase-checksum-validation-error-without-any-changes\" title=\"liquibase checksum validation error without any changes\">stackoverflow.com/questions/9995747/&hellip;</a>"},{"owner":{"account_id":302125,"reputation":1172,"user_id":610317,"accept_rate":100,"display_name":"DRaehal"},"score":3,"creation_date":1531841050,"post_id":29711327,"comment_id":89742111,"body_markdown":"@ivan, If you have found a solution to your own problem, you should add it as a solution and accept it.  This way other people can clearly see the solution instead of having to find it in comments.  Comments cannot be verified as correct by the community.","body":"@ivan, If you have found a solution to your own problem, you should add it as a solution and accept it.  This way other people can clearly see the solution instead of having to find it in comments.  Comments cannot be verified as correct by the community."}],"answers":[{"tags":[],"owner":{"account_id":9359310,"reputation":3767,"user_id":7245145,"accept_rate":100,"display_name":"Steffi Keran Rani J"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1633025976,"creation_date":1542092480,"answer_id":53275493,"question_id":29711327,"body_markdown":"It is a known fact that **Liquibase** writes all changelogs into a table named as **databasechangelog** in your database as:\r\n&gt; The root of all Liquibase changes is the databaseChangeLog file.\r\n\r\nWhen I had the similar error occuring, I solved it manually by altering the checksum value in the **databasechangelog** table in my database. You can solve it by running the following SQL query in your database:\r\n\r\n    UPDATE `databasechangelog` SET `MD5SUM`=`7:bde7b076d47aefe8278d126cde26b172` WHERE `ID`=`00000000000001`;\r\n\r\n**ANOTHER WORKAROUND**\r\n\r\nTruncate the `databasechangelog` table. Add **no-liquibase** in appropriate place in the **pom.xml** file as below:\r\n\r\n    &lt;properties&gt;\r\n        &lt;spring.profiles.active&gt;local,no-liquibase&lt;/spring.profiles.active&gt;\r\n    &lt;/properties&gt;\r\n\r\nAnd then run **mvn** (or **mvnw**, as per your project settings) and the application will be launched successfully!","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>It is a known fact that <strong>Liquibase</strong> writes all changelogs into a table named as <strong>databasechangelog</strong> in your database as:</p>\n<blockquote>\n<p>The root of all Liquibase changes is the databaseChangeLog file.</p>\n</blockquote>\n<p>When I had the similar error occuring, I solved it manually by altering the checksum value in the <strong>databasechangelog</strong> table in my database. You can solve it by running the following SQL query in your database:</p>\n<pre><code>UPDATE `databasechangelog` SET `MD5SUM`=`7:bde7b076d47aefe8278d126cde26b172` WHERE `ID`=`00000000000001`;\n</code></pre>\n<p><strong>ANOTHER WORKAROUND</strong></p>\n<p>Truncate the <code>databasechangelog</code> table. Add <strong>no-liquibase</strong> in appropriate place in the <strong>pom.xml</strong> file as below:</p>\n<pre><code>&lt;properties&gt;\n    &lt;spring.profiles.active&gt;local,no-liquibase&lt;/spring.profiles.active&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>And then run <strong>mvn</strong> (or <strong>mvnw</strong>, as per your project settings) and the application will be launched successfully!</p>\n"},{"comments":[{"owner":{"account_id":16209366,"reputation":61,"user_id":11703800,"display_name":"David Randoll"},"score":0,"creation_date":1695337159,"post_id":53703064,"comment_id":136014697,"body_markdown":"can&#39;t do that in production","body":"can&#39;t do that in production"}],"tags":[],"owner":{"account_id":9257898,"reputation":21,"user_id":6876087,"display_name":"Milica"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544435335,"creation_date":1544435335,"answer_id":53703064,"question_id":29711327,"body_markdown":"I had this problem many times, the fastest way for me was to delete all the tables with records that were generated, and rerun the application. ","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had this problem many times, the fastest way for me was to delete all the tables with records that were generated, and rerun the application. </p>\n"},{"tags":[],"owner":{"account_id":3506615,"reputation":61,"user_id":2932024,"display_name":"Neal Shail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554756225,"creation_date":1554756225,"answer_id":55581471,"question_id":29711327,"body_markdown":"I had a similar error running flowable-admin which also uses liquibase with spring\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in org.flowable.admin.conf.DatabaseConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.Liquibase]: Factory method &#39;liquibase&#39; threw exception; nested exception is or\r\ng.flowable.app.service.exception.InternalServerErrorException: Error creating liquibase database\r\n       at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(\r\n```\r\nI also solved this using the suggestion above by modifying the **databasechangeloglock** table which was set to **true**, apparently due to an error during application of changes to **databasechanglog** which had terminated badly.  Setting it to **false** solved this issue and the flowable-admin started up fine.","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had a similar error running flowable-admin which also uses liquibase with spring</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in org.flowable.admin.conf.DatabaseConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.Liquibase]: Factory method 'liquibase' threw exception; nested exception is or\ng.flowable.app.service.exception.InternalServerErrorException: Error creating liquibase database\n       at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(\n</code></pre>\n\n<p>I also solved this using the suggestion above by modifying the <strong>databasechangeloglock</strong> table which was set to <strong>true</strong>, apparently due to an error during application of changes to <strong>databasechanglog</strong> which had terminated badly.  Setting it to <strong>false</strong> solved this issue and the flowable-admin started up fine.</p>\n"},{"comments":[{"owner":{"account_id":391817,"reputation":3557,"user_id":752695,"display_name":"Brian Minton"},"score":2,"creation_date":1570631363,"post_id":58301724,"comment_id":102974756,"body_markdown":"You should include some documentation about what that code is supposed to do, and how it solves the asked problem.","body":"You should include some documentation about what that code is supposed to do, and how it solves the asked problem."}],"tags":[],"owner":{"account_id":8915790,"reputation":21,"user_id":6654414,"display_name":"doudou"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570615490,"creation_date":1570615490,"answer_id":58301724,"question_id":29711327,"body_markdown":"I use rancher v1 and I needed to run this inside the mysql database:\r\n\r\n`DELETE FROM DATABASECHANGELOGLOCK where ID = 1;`","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I use rancher v1 and I needed to run this inside the mysql database:</p>\n\n<p><code>DELETE FROM DATABASECHANGELOGLOCK where ID = 1;</code></p>\n"},{"tags":[],"owner":{"account_id":2246784,"reputation":2135,"user_id":1979953,"accept_rate":58,"display_name":"shingo.nakanishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586350942,"creation_date":1586350942,"answer_id":61101338,"question_id":29711327,"body_markdown":"In my case, it was because the file did not load properly.\r\n\r\nI used `includeAll` to show `liquibase` where the include file is.\r\n\r\n# db.changelog-master.yaml\r\n\r\n    databaseChangeLog:\r\n     - includeAll:\r\n        path: classpath*:db/changelog/changes/\r\n     - include:\r\n        file: db/changelog/changes/a.yaml\r\n\r\n\r\n\r\n## reference\r\n[Liquibase and Spring Boot | Object Partners](https://objectpartners.com/2018/05/09/liquibase-and-spring-boot/)\r\n\r\n","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>In my case, it was because the file did not load properly.</p>\n\n<p>I used <code>includeAll</code> to show <code>liquibase</code> where the include file is.</p>\n\n<h1>db.changelog-master.yaml</h1>\n\n<pre><code>databaseChangeLog:\n - includeAll:\n    path: classpath*:db/changelog/changes/\n - include:\n    file: db/changelog/changes/a.yaml\n</code></pre>\n\n<h2>reference</h2>\n\n<p><a href=\"https://objectpartners.com/2018/05/09/liquibase-and-spring-boot/\" rel=\"nofollow noreferrer\">Liquibase and Spring Boot | Object Partners</a></p>\n"},{"tags":[],"owner":{"account_id":11156602,"reputation":31,"user_id":8188113,"display_name":"&#199;ağatay Hakan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588252284,"creation_date":1588252284,"answer_id":61524211,"question_id":29711327,"body_markdown":"I had the same problem. My solution is this way:\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nOpen ;\r\n&lt;br&gt;\r\n*Database Tables (mySql or postgresql or another)\r\n&lt;br&gt;\r\n*databasechangeloglock Table\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nChange;\r\n&lt;br&gt;\r\n*Locked=false\r\n\r\nI reached the solution in this way. I hope it solves your problem.\r\n\r\n","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had the same problem. My solution is this way:\n<br>\n<br>\nOpen ;\n<br>\n*Database Tables (mySql or postgresql or another)\n<br>\n*databasechangeloglock Table\n<br>\n<br>\nChange;\n<br>\n*Locked=false</p>\n\n<p>I reached the solution in this way. I hope it solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693477351,"creation_date":1693477351,"answer_id":77014959,"question_id":29711327,"body_markdown":"I had the same issue, for the delete the table and re run the application or update the table for the id showing in the logs:\r\n\r\nUpdate &quot;table_Name&quot; set column_Name = &#39;changeValueGivenInTheLog (after was)&#39; where id = &quot;valueGivenInTheLog (dbchangeLog::**idValue**)&quot;","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I had the same issue, for the delete the table and re run the application or update the table for the id showing in the logs:</p>\n<p>Update &quot;table_Name&quot; set column_Name = 'changeValueGivenInTheLog (after was)' where id = &quot;valueGivenInTheLog (dbchangeLog::<strong>idValue</strong>)&quot;</p>\n"}],"owner":{"account_id":5877724,"reputation":171,"user_id":4628120,"display_name":"ivan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116213,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1693477351,"creation_date":1429315363,"question_id":29711327,"body_markdown":"I have this annoying error when starting Embedded Tomcat on my jHipster Project. Spent a lot of time trying to resolve it but can&#39;t figure out why it&#39;s happening. It started happening after updating project from main rep but I also implemented Custom Repository.\r\n\r\n**Stack Trace:**\r\n\r\n        DEBUG] uk.co.\r\n    config.DatabaseConfiguration - Configuring Liquibase\r\n    [WARN] org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered d\r\n    uring context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path\r\n     resource [uk/co/inspiresoft/config/DatabaseConfiguration.class]: Invocation of init method failed; nested exception is\r\n    liquibase.exception.ValidationFailedException: Validation Failed:\r\n         1 change sets check sum\r\n              classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\r\n    7b076d47aefe8278d126cde26b172\r\n    \r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\r\n    apableBeanFactory.java:1574) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCap\r\n    ableBeanFactory.java:539) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapab\r\n    leBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spr\r\n    ing-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegis\r\n    try.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[sprin\r\n    g-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194) ~[spring-\r\n    beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListable\r\n    BeanFactory.java:755) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplic\r\n    ationContext.java:757) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480) ~\r\n    [spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext\r\n    .java:118) [spring-boot-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686) [spring-boot-1.2.3.RELEASE.jar\r\n    :1.2.3.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:320) [spring-boot-1.2.3.RELEASE.jar:1.2\r\n    .3.RELEASE]\r\n            at uk.co.Application.main(Application.java:59) [classes/:na]\r\n    Caused by: liquibase.exception.ValidationFailedException: Validation Failed:\r\n         1 change sets check sum\r\n              classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\r\n    7b076d47aefe8278d126cde26b172\r\n    \r\n            at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:196) ~[liquibase-core-3.3.2.jar:na]\r\n            at liquibase.Liquibase.update(Liquibase.java:196) ~[liquibase-core-3.3.2.jar:na]\r\n            at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:353) ~[liquibase-core-3.3.2.j\r\n    ar:na]\r\n            at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:317) ~[liquibase-core-3.\r\n    3.2.jar:na]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowi\r\n    reCapableBeanFactory.java:1633) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\r\n    apableBeanFactory.java:1570) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n            ... 13 common frames omitted\r\n    [INFO] uk.co.config.CacheConfiguration - Closing Cache Manager\r\n    [INFO] com.hazelcast.core.LifecycleService - [192.168.1.48]:5701 [dev] [3.4] Address[192.168.1.48]:5701 is SHUTTING_DOWN\r\n\r\n\r\nThis is my **DatabaseConfiguration.class**\r\n\r\n\r\n        import java.util.Arrays;\r\n    \r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.sql.DataSource;\r\n    \r\n    import liquibase.integration.spring.SpringLiquibase;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingClass;\r\n    import org.springframework.boot.bind.RelaxedPropertyResolver;\r\n    import org.springframework.context.ApplicationContextException;\r\n    import org.springframework.context.EnvironmentAware;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Profile;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import com.codahale.metrics.MetricRegistry;\r\n    import com.fasterxml.jackson.datatype.hibernate4.Hibernate4Module;\r\n    import com.zaxxer.hikari.HikariConfig;\r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(repositoryFactoryBeanClass=uk.co.repository.IRepositoryFactoryBean.class, basePackages={&quot;uk.co.repository&quot;})\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;springSecurityAuditorAware&quot;)\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfiguration implements EnvironmentAware {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\r\n    \r\n        private RelaxedPropertyResolver propertyResolver;\r\n    \r\n        private Environment env;\r\n    \r\n        @Autowired(required = false)\r\n        private MetricRegistry metricRegistry;\r\n    \r\n        @Override\r\n        public void setEnvironment(Environment env) {\r\n            this.env = env;\r\n            this.propertyResolver = new RelaxedPropertyResolver(env, &quot;spring.datasource.&quot;);\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;shutdown&quot;)\r\n        @ConditionalOnMissingClass(name = &quot;uk.co.config.HerokuDatabaseConfiguration&quot;)\r\n        @Profile(&quot;!&quot; + Constants.SPRING_PROFILE_CLOUD)\r\n        public DataSource dataSource() {\r\n            log.debug(&quot;Configuring Datasource&quot;);\r\n            if (propertyResolver.getProperty(&quot;url&quot;) == null &amp;&amp; propertyResolver.getProperty(&quot;databaseName&quot;) == null) {\r\n                log.error(&quot;Your database connection pool configuration is incorrect! The application&quot; +\r\n                        &quot;cannot start. Please check your Spring profile, current profiles are: {}&quot;,\r\n                        Arrays.toString(env.getActiveProfiles()));\r\n    \r\n                throw new ApplicationContextException(&quot;Database connection pool is not configured correctly&quot;);\r\n            }\r\n            HikariConfig config = new HikariConfig();\r\n            config.setDataSourceClassName(propertyResolver.getProperty(&quot;dataSourceClassName&quot;));\r\n            if (propertyResolver.getProperty(&quot;url&quot;) == null || &quot;&quot;.equals(propertyResolver.getProperty(&quot;url&quot;))) {\r\n                config.addDataSourceProperty(&quot;databaseName&quot;, propertyResolver.getProperty(&quot;databaseName&quot;));\r\n                config.addDataSourceProperty(&quot;serverName&quot;, propertyResolver.getProperty(&quot;serverName&quot;));\r\n            } else {\r\n                config.addDataSourceProperty(&quot;url&quot;, propertyResolver.getProperty(&quot;url&quot;));\r\n            }\r\n            config.addDataSourceProperty(&quot;user&quot;, propertyResolver.getProperty(&quot;username&quot;));\r\n            config.addDataSourceProperty(&quot;password&quot;, propertyResolver.getProperty(&quot;password&quot;));\r\n    \r\n            if (metricRegistry != null) {\r\n                config.setMetricRegistry(metricRegistry);\r\n            }\r\n            return new HikariDataSource(config);\r\n        }\r\n    \r\n        @Bean\r\n        public SpringLiquibase liquibase(DataSource dataSource) {\r\n            SpringLiquibase liquibase = new SpringLiquibase();\r\n            liquibase.setDataSource(dataSource);\r\n            liquibase.setChangeLog(&quot;classpath:config/liquibase/master.xml&quot;);\r\n            liquibase.setContexts(&quot;development, production&quot;);\r\n            if (env.acceptsProfiles(Constants.SPRING_PROFILE_FAST)) {\r\n                if (&quot;org.h2.jdbcx.JdbcDataSource&quot;.equals(propertyResolver.getProperty(&quot;dataSourceClassName&quot;))) {\r\n                    liquibase.setShouldRun(true);\r\n                    log.warn(&quot;Using &#39;{}&#39; profile with H2 database in memory is not optimal, you should consider switching to&quot; +\r\n                        &quot; MySQL or Postgresql to avoid rebuilding your database upon each start.&quot;, Constants.SPRING_PROFILE_FAST);\r\n                } else {\r\n                    liquibase.setShouldRun(false);\r\n                }\r\n            } else {\r\n                log.debug(&quot;Configuring Liquibase&quot;);\r\n            }\r\n            return liquibase;\r\n        }\r\n    \r\n        @Bean\r\n        public Hibernate4Module hibernate4Module() {\r\n            return new Hibernate4Module();\r\n        }\r\n        \r\n        @Bean\r\n        public EntityManagerFactory entityManagerFactory() {\r\n    \r\n          HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n          vendorAdapter.setGenerateDdl(true);\r\n    \r\n          LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n          factory.setJpaVendorAdapter(vendorAdapter);\r\n          factory.setPackagesToScan(&quot;uk.co.repository&quot;);\r\n          factory.setDataSource(dataSource());\r\n          factory.afterPropertiesSet();\r\n    \r\n          return factory.getObject();\r\n        }\r\n    }\r\n","title":"Error creating bean with name &#39;liquibase&#39; defined in class path resource ... /config/DatabaseConfiguration.class","body":"<p>I have this annoying error when starting Embedded Tomcat on my jHipster Project. Spent a lot of time trying to resolve it but can't figure out why it's happening. It started happening after updating project from main rep but I also implemented Custom Repository.</p>\n\n<p><strong>Stack Trace:</strong></p>\n\n<pre><code>    DEBUG] uk.co.\nconfig.DatabaseConfiguration - Configuring Liquibase\n[WARN] org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered d\nuring context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path\n resource [uk/co/inspiresoft/config/DatabaseConfiguration.class]: Invocation of init method failed; nested exception is\nliquibase.exception.ValidationFailedException: Validation Failed:\n     1 change sets check sum\n          classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\n7b076d47aefe8278d126cde26b172\n\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\napableBeanFactory.java:1574) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCap\nableBeanFactory.java:539) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapab\nleBeanFactory.java:476) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303) ~[spr\ning-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegis\ntry.java:230) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299) ~[sprin\ng-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194) ~[spring-\nbeans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListable\nBeanFactory.java:755) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplic\nationContext.java:757) ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480) ~\n[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext\n.java:118) [spring-boot-1.2.3.RELEASE.jar:1.2.3.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686) [spring-boot-1.2.3.RELEASE.jar\n:1.2.3.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:320) [spring-boot-1.2.3.RELEASE.jar:1.2\n.3.RELEASE]\n        at uk.co.Application.main(Application.java:59) [classes/:na]\nCaused by: liquibase.exception.ValidationFailedException: Validation Failed:\n     1 change sets check sum\n          classpath:config/liquibase/changelog/00000000000000_initial_schema.xml::00000000000001::jhipster is now: 7:bde\n7b076d47aefe8278d126cde26b172\n\n        at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:196) ~[liquibase-core-3.3.2.jar:na]\n        at liquibase.Liquibase.update(Liquibase.java:196) ~[liquibase-core-3.3.2.jar:na]\n        at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:353) ~[liquibase-core-3.3.2.j\nar:na]\n        at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:317) ~[liquibase-core-3.\n3.2.jar:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowi\nreCapableBeanFactory.java:1633) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireC\napableBeanFactory.java:1570) ~[spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n        ... 13 common frames omitted\n[INFO] uk.co.config.CacheConfiguration - Closing Cache Manager\n[INFO] com.hazelcast.core.LifecycleService - [192.168.1.48]:5701 [dev] [3.4] Address[192.168.1.48]:5701 is SHUTTING_DOWN\n</code></pre>\n\n<p>This is my <strong>DatabaseConfiguration.class</strong></p>\n\n<pre><code>    import java.util.Arrays;\n\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\n\nimport liquibase.integration.spring.SpringLiquibase;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingClass;\nimport org.springframework.boot.bind.RelaxedPropertyResolver;\nimport org.springframework.context.ApplicationContextException;\nimport org.springframework.context.EnvironmentAware;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport com.codahale.metrics.MetricRegistry;\nimport com.fasterxml.jackson.datatype.hibernate4.Hibernate4Module;\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\n\n@Configuration\n@EnableJpaRepositories(repositoryFactoryBeanClass=uk.co.repository.IRepositoryFactoryBean.class, basePackages={\"uk.co.repository\"})\n@EnableJpaAuditing(auditorAwareRef = \"springSecurityAuditorAware\")\n@EnableTransactionManagement\npublic class DatabaseConfiguration implements EnvironmentAware {\n\n    private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\n\n    private RelaxedPropertyResolver propertyResolver;\n\n    private Environment env;\n\n    @Autowired(required = false)\n    private MetricRegistry metricRegistry;\n\n    @Override\n    public void setEnvironment(Environment env) {\n        this.env = env;\n        this.propertyResolver = new RelaxedPropertyResolver(env, \"spring.datasource.\");\n    }\n\n    @Bean(destroyMethod = \"shutdown\")\n    @ConditionalOnMissingClass(name = \"uk.co.config.HerokuDatabaseConfiguration\")\n    @Profile(\"!\" + Constants.SPRING_PROFILE_CLOUD)\n    public DataSource dataSource() {\n        log.debug(\"Configuring Datasource\");\n        if (propertyResolver.getProperty(\"url\") == null &amp;&amp; propertyResolver.getProperty(\"databaseName\") == null) {\n            log.error(\"Your database connection pool configuration is incorrect! The application\" +\n                    \"cannot start. Please check your Spring profile, current profiles are: {}\",\n                    Arrays.toString(env.getActiveProfiles()));\n\n            throw new ApplicationContextException(\"Database connection pool is not configured correctly\");\n        }\n        HikariConfig config = new HikariConfig();\n        config.setDataSourceClassName(propertyResolver.getProperty(\"dataSourceClassName\"));\n        if (propertyResolver.getProperty(\"url\") == null || \"\".equals(propertyResolver.getProperty(\"url\"))) {\n            config.addDataSourceProperty(\"databaseName\", propertyResolver.getProperty(\"databaseName\"));\n            config.addDataSourceProperty(\"serverName\", propertyResolver.getProperty(\"serverName\"));\n        } else {\n            config.addDataSourceProperty(\"url\", propertyResolver.getProperty(\"url\"));\n        }\n        config.addDataSourceProperty(\"user\", propertyResolver.getProperty(\"username\"));\n        config.addDataSourceProperty(\"password\", propertyResolver.getProperty(\"password\"));\n\n        if (metricRegistry != null) {\n            config.setMetricRegistry(metricRegistry);\n        }\n        return new HikariDataSource(config);\n    }\n\n    @Bean\n    public SpringLiquibase liquibase(DataSource dataSource) {\n        SpringLiquibase liquibase = new SpringLiquibase();\n        liquibase.setDataSource(dataSource);\n        liquibase.setChangeLog(\"classpath:config/liquibase/master.xml\");\n        liquibase.setContexts(\"development, production\");\n        if (env.acceptsProfiles(Constants.SPRING_PROFILE_FAST)) {\n            if (\"org.h2.jdbcx.JdbcDataSource\".equals(propertyResolver.getProperty(\"dataSourceClassName\"))) {\n                liquibase.setShouldRun(true);\n                log.warn(\"Using '{}' profile with H2 database in memory is not optimal, you should consider switching to\" +\n                    \" MySQL or Postgresql to avoid rebuilding your database upon each start.\", Constants.SPRING_PROFILE_FAST);\n            } else {\n                liquibase.setShouldRun(false);\n            }\n        } else {\n            log.debug(\"Configuring Liquibase\");\n        }\n        return liquibase;\n    }\n\n    @Bean\n    public Hibernate4Module hibernate4Module() {\n        return new Hibernate4Module();\n    }\n\n    @Bean\n    public EntityManagerFactory entityManagerFactory() {\n\n      HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n      vendorAdapter.setGenerateDdl(true);\n\n      LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n      factory.setJpaVendorAdapter(vendorAdapter);\n      factory.setPackagesToScan(\"uk.co.repository\");\n      factory.setDataSource(dataSource());\n      factory.afterPropertiesSet();\n\n      return factory.getObject();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","webassembly","teavm"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693481505,"post_id":77014950,"comment_id":135768408,"body_markdown":"Have you tried just using that generated WASM?","body":"Have you tried just using that generated WASM?"},{"owner":{"account_id":16920899,"reputation":35,"user_id":12237752,"display_name":"Majo"},"score":0,"creation_date":1693482079,"post_id":77014950,"comment_id":135768530,"body_markdown":"Yes, but I was unable to use it in my react app but that is different issue. First, I want to be sure that annotated functions were “translated” to webassembly.","body":"Yes, but I was unable to use it in my react app but that is different issue. First, I want to be sure that annotated functions were “translated” to webassembly."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693482294,"post_id":77014950,"comment_id":135768577,"body_markdown":"Have you tried a simple HTML/JavaScript just for testing this? Seems that TealVM can generate that for you.","body":"Have you tried a simple HTML/JavaScript just for testing this? Seems that TealVM can generate that for you."},{"owner":{"account_id":16920899,"reputation":35,"user_id":12237752,"display_name":"Majo"},"score":0,"creation_date":1693482953,"post_id":77014950,"comment_id":135768730,"body_markdown":"I tried to create a React app with fetching my .wasm file and then printing into console but I only get some errors regarding to **instantiateStreaming** method. This is the site I used for this whole task: [link](https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/java-in-the-browser-webassembly-tutorial-wasm-teavm-html-javascript). Can you give me more info where I can find how to generate this HTML/JS please? I tried to read the documentation but it is kind of poor.","body":"I tried to create a React app with fetching my .wasm file and then printing into console but I only get some errors regarding to <b>instantiateStreaming</b> method. This is the site I used for this whole task: <a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/java-in-the-browser-webassembly-tutorial-wasm-teavm-html-javascript\" rel=\"nofollow noreferrer\">link</a>. Can you give me more info where I can find how to generate this HTML/JS please? I tried to read the documentation but it is kind of poor."}],"owner":{"account_id":16920899,"reputation":35,"user_id":12237752,"display_name":"Majo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693477301,"creation_date":1693477301,"question_id":77014950,"body_markdown":"I am relatively new to TeaVM and overall converting to webassembly. I have created Java 11 library which is meant to be used for calculations - so far it has one Core module which consist of logic used for calculations. I want to convert this java library to webassembly (.wasm file) so it can be used on frontend (React app).\r\n\r\nI have found [TeaVM][1] that can compile my java code to this format. I followed these steps:\r\n\r\n 1. Add TeaVM dependency and configuration to my Maven *pom.xml* \r\n 2. Annotated function with *@Export(name=&quot;nameOfFunction&quot;)*\r\n 3. Run *mvn clean package*\r\n\r\nNext, I wanted to make sure that function has been added so I opened generated .wasm file [here][2] and tried to look for function name but did not succeeded so I guess it has not been added then.\r\n\r\nAre there any additional steps required in order to achive .wasm file generated using TeaVM please? Thanks for any help \r\n\r\n\r\nThis is part of my pom.xml related to TeaVM:\r\n``` \r\n// rest of pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;targetDirectory&gt;${project.build.directory}/webapp/wasm&lt;/targetDirectory&gt;\r\n                            &lt;targetFileName&gt;complexlogic.wasm&lt;/targetFileName&gt;\r\n                            &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\r\n                            &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is function I am trying to export (it is just an example so it is just easy calculation):\r\n```\r\nimport org.teavm.interop.Export;\r\n\r\n// rest of code\r\n\r\n    @Export(name = &quot;getMagicNumber&quot;)\r\n    public int getMagicNumber(int range) {\r\n        return range * 2;\r\n    }\r\n\r\n// rest of code\r\n```\r\n\r\n\r\n  [1]: https://teavm.org/\r\n  [2]: https://webassembly.github.io/wabt/demo/wasm2wat/","title":"How to convert Java library to Webassembly","body":"<p>I am relatively new to TeaVM and overall converting to webassembly. I have created Java 11 library which is meant to be used for calculations - so far it has one Core module which consist of logic used for calculations. I want to convert this java library to webassembly (.wasm file) so it can be used on frontend (React app).</p>\n<p>I have found <a href=\"https://teavm.org/\" rel=\"nofollow noreferrer\">TeaVM</a> that can compile my java code to this format. I followed these steps:</p>\n<ol>\n<li>Add TeaVM dependency and configuration to my Maven <em>pom.xml</em></li>\n<li>Annotated function with <em>@Export(name=&quot;nameOfFunction&quot;)</em></li>\n<li>Run <em>mvn clean package</em></li>\n</ol>\n<p>Next, I wanted to make sure that function has been added so I opened generated .wasm file <a href=\"https://webassembly.github.io/wabt/demo/wasm2wat/\" rel=\"nofollow noreferrer\">here</a> and tried to look for function name but did not succeeded so I guess it has not been added then.</p>\n<p>Are there any additional steps required in order to achive .wasm file generated using TeaVM please? Thanks for any help</p>\n<p>This is part of my pom.xml related to TeaVM:</p>\n<pre><code>// rest of pom.xml\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n            &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\n            &lt;version&gt;0.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n                &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;targetDirectory&gt;${project.build.directory}/webapp/wasm&lt;/targetDirectory&gt;\n                            &lt;targetFileName&gt;complexlogic.wasm&lt;/targetFileName&gt;\n                            &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\n                            &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is function I am trying to export (it is just an example so it is just easy calculation):</p>\n<pre><code>import org.teavm.interop.Export;\n\n// rest of code\n\n    @Export(name = &quot;getMagicNumber&quot;)\n    public int getMagicNumber(int range) {\n        return range * 2;\n    }\n\n// rest of code\n</code></pre>\n"},{"tags":["java","dll","launch4j","javaw"],"answers":[{"tags":[],"owner":{"account_id":1515689,"reputation":357,"user_id":1416735,"display_name":"imranhasanhira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351973960,"creation_date":1351973960,"answer_id":13213124,"question_id":13212637,"body_markdown":"I see that there is an [option][1] that you can set the system property with the javaw command. This way you can set the library path.\r\n\r\n&gt; -Dproperty=value Set a system property value. If value is a string that contains spaces, you must enclose the string in double quotes:\r\n&gt;         java -Dfoo=&quot;some string&quot; SomeClass\r\n\r\n\r\nYou can see some details [here][2] also (Point-#4).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html\r\n  [2]: http://www.chilkatsoft.com/java-loadLibrary-Windows.asp","title":"How do launch jar through javaw.exe with dll","body":"<p>I see that there is an <a href=\"http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html\" rel=\"nofollow\">option</a> that you can set the system property with the javaw command. This way you can set the library path.</p>\n\n<blockquote>\n  <p>-Dproperty=value Set a system property value. If value is a string that contains spaces, you must enclose the string in double quotes:\n          java -Dfoo=\"some string\" SomeClass</p>\n</blockquote>\n\n<p>You can see some details <a href=\"http://www.chilkatsoft.com/java-loadLibrary-Windows.asp\" rel=\"nofollow\">here</a> also (Point-#4).</p>\n"}],"owner":{"account_id":1366270,"reputation":176,"user_id":1302630,"accept_rate":71,"display_name":"tae jun Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693477163,"creation_date":1351970619,"question_id":13212637,"body_markdown":"I try to execute a jar.\r\n\r\n`java.exe` is wrapper system dll files. so it can use native library.\r\n\r\nBut `javaw.exe` is not wrapper system dll or path..\r\n\r\n`java -jar somejar.jar` correctly works.\r\n\r\nBut `javaw -jar somejar.jar` isn&#39;t working with dll library..\r\n\r\nI must use `javaw.exe`. \r\n\r\nBecause `java.exe` is executed on console windows.\r\n\r\nI don&#39;t want to popup console windows... I want to execute only my jar.\r\n\r\nHow can I use `javaw.exe`? or `java.exe`?\r\n","title":"How do launch jar through javaw.exe with dll","body":"<p>I try to execute a jar.</p>\n<p><code>java.exe</code> is wrapper system dll files. so it can use native library.</p>\n<p>But <code>javaw.exe</code> is not wrapper system dll or path..</p>\n<p><code>java -jar somejar.jar</code> correctly works.</p>\n<p>But <code>javaw -jar somejar.jar</code> isn't working with dll library..</p>\n<p>I must use <code>javaw.exe</code>.</p>\n<p>Because <code>java.exe</code> is executed on console windows.</p>\n<p>I don't want to popup console windows... I want to execute only my jar.</p>\n<p>How can I use <code>javaw.exe</code>? or <code>java.exe</code>?</p>\n"},{"tags":["java","android","kotlin","google-play","google-play-console"],"comments":[{"owner":{"account_id":6971993,"reputation":593,"user_id":5348018,"accept_rate":43,"display_name":"Umer Farooq"},"score":0,"creation_date":1607413966,"post_id":65194727,"comment_id":115257532,"body_markdown":"Play store console generates the app public link as soon as you upload the your first release. First release my take 7-10 days in review, I think now they review the app manually.","body":"Play store console generates the app public link as soon as you upload the your first release. First release my take 7-10 days in review, I think now they review the app manually."},{"owner":{"account_id":6971993,"reputation":593,"user_id":5348018,"accept_rate":43,"display_name":"Umer Farooq"},"score":0,"creation_date":1607414009,"post_id":65194727,"comment_id":115257551,"body_markdown":"Your query regarding IARC rating, I have no idea about it.","body":"Your query regarding IARC rating, I have no idea about it."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1607415362,"post_id":65194727,"comment_id":115258028,"body_markdown":"@UmerFarooq Okay. You may post your comment as an answer, so it will be visible with others answers.","body":"@UmerFarooq Okay. You may post your comment as an answer, so it will be visible with others answers."}],"answers":[{"tags":[],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608364999,"creation_date":1608364999,"answer_id":65367840,"question_id":65194727,"body_markdown":"Well, there was no issue. Google play URL get available as soon as you published an app. If you navigate into `release` section, you will see the app is `under review`. \r\n\r\nGoogle took around 12 days to review my app","title":"Google Play : the requested URL was not found on this server","body":"<p>Well, there was no issue. Google play URL get available as soon as you published an app. If you navigate into <code>release</code> section, you will see the app is <code>under review</code>.</p>\n<p>Google took around 12 days to review my app</p>\n"},{"tags":[],"owner":{"account_id":9013736,"reputation":11,"user_id":7983074,"display_name":"Lunodzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666530189,"creation_date":1666530189,"answer_id":74171355,"question_id":65194727,"body_markdown":"The release status still indicates that your app is in review. I think there is no issue; it is just the review process may sometimes take a while.","title":"Google Play : the requested URL was not found on this server","body":"<p>The release status still indicates that your app is in review. I think there is no issue; it is just the review process may sometimes take a while.</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2283,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65367840,"answer_count":2,"score":2,"last_activity_date":1693476989,"creation_date":1607412383,"question_id":65194727,"body_markdown":"I recently created an app and launched in Google Play. Yesterday I re-uploaded another version fixing a minor bug. I can see `View on Google Play` text and link next to my app name. But, when I clicked on it I see `We&#39;re sorry, the requested URL was not found on this server.` error. I can&#39;t see the app on Playstore by searching as well.\r\n\r\nReading some other questions, I noticed this is a rising issue in Google Play developer console in this year, probably after the new console is released. Some say we need to wait till IARC rating is approved, so I checked it as well.\r\n\r\nI checked IARC rating for my app as the following. I can&#39;t see the IARC rating ID.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen I checked the release dashboard, I noticed my first release and the immediate update is still under review.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo, what is going on here? In my experience, I only see `View on Google Play` link only if the app is available in the playstore. \r\n\r\nHere I see `View on Google Play` link, but release dashboard says both updates are in review and IARC does not show the ID, so I suspect it&#39;s still pending to be reviewed as well.\r\n\r\nWhat&#39;s going on here? Google Play console is now buggy?\r\n\r\n  [1]: https://i.stack.imgur.com/2AjeS.png\r\n  [2]: https://i.stack.imgur.com/U4n2I.png","title":"Google Play : the requested URL was not found on this server","body":"<p>I recently created an app and launched in Google Play. Yesterday I re-uploaded another version fixing a minor bug. I can see <code>View on Google Play</code> text and link next to my app name. But, when I clicked on it I see <code>We're sorry, the requested URL was not found on this server.</code> error. I can't see the app on Playstore by searching as well.</p>\n<p>Reading some other questions, I noticed this is a rising issue in Google Play developer console in this year, probably after the new console is released. Some say we need to wait till IARC rating is approved, so I checked it as well.</p>\n<p>I checked IARC rating for my app as the following. I can't see the IARC rating ID.</p>\n<p><a href=\"https://i.stack.imgur.com/2AjeS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2AjeS.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I checked the release dashboard, I noticed my first release and the immediate update is still under review.</p>\n<p><a href=\"https://i.stack.imgur.com/U4n2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4n2I.png\" alt=\"enter image description here\" /></a></p>\n<p>So, what is going on here? In my experience, I only see <code>View on Google Play</code> link only if the app is available in the playstore.</p>\n<p>Here I see <code>View on Google Play</code> link, but release dashboard says both updates are in review and IARC does not show the ID, so I suspect it's still pending to be reviewed as well.</p>\n<p>What's going on here? Google Play console is now buggy?</p>\n"},{"tags":["java","filesystems","directory","virtual"],"comments":[{"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"score":0,"creation_date":1351695214,"post_id":13160645,"comment_id":17905905,"body_markdown":"[a few ideas](http://web.archive.org/web/20061128034903/http://mindprod.com/projects/javafilesystem.html). For the commands, I&#39;d follow the [POSIX](http://pubs.opengroup.org/onlinepubs/9699919799/) specification (mkdir, ls, chmod, etc.), so that users won&#39;t be bothered with unknown commands (and you have a track of what needs to be done).","body":"<a href=\"http://web.archive.org/web/20061128034903/http://mindprod.com/projects/javafilesystem.html\" rel=\"nofollow noreferrer\">a few ideas</a>. For the commands, I&#39;d follow the <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/\" rel=\"nofollow noreferrer\">POSIX</a> specification (mkdir, ls, chmod, etc.), so that users won&#39;t be bothered with unknown commands (and you have a track of what needs to be done)."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1351695354,"post_id":13160645,"comment_id":17905973,"body_markdown":"possible duplicate of [Are there any Fake File System frameworks for Java?](http://stackoverflow.com/questions/6970192/are-there-any-fake-file-system-frameworks-for-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6970192/are-there-any-fake-file-system-frameworks-for-java\">Are there any Fake File System frameworks for Java?</a>"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1351695442,"post_id":13160645,"comment_id":17906026,"body_markdown":"Do you *need* it or do you need to *create* it? Like, for a homework?","body":"Do you <i>need</i> it or do you need to <i>create</i> it? Like, for a homework?"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1351698025,"post_id":13160645,"comment_id":17907434,"body_markdown":"I&#39;d use byte arrays rather than strings for the underlying files. That would be closer to how existing file systems work.","body":"I&#39;d use byte arrays rather than strings for the underlying files. That would be closer to how existing file systems work."}],"answers":[{"comments":[{"owner":{"account_id":1853997,"reputation":1260,"user_id":1679964,"display_name":"tb-"},"score":0,"creation_date":1351696120,"post_id":13160811,"comment_id":17906398,"body_markdown":"I would not use different classes. Use a class node and add all necessary members. Like listSubNodes, parent, isFile, isDirectory and so on.","body":"I would not use different classes. Use a class node and add all necessary members. Like listSubNodes, parent, isFile, isDirectory and so on."}],"tags":[],"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351695433,"creation_date":1351695433,"answer_id":13160811,"question_id":13160645,"body_markdown":"You can have this kind of format\r\n\r\n\r\n    public class Directory{\r\n\t\r\n\tprivate List&lt;File&gt; files;\r\n        \r\n\t\r\n\t// geters and setters\r\n\t// add more propertied to directory if required\r\n\t\r\n}\r\n\r\n\r\n     public class File{\r\n\t\r\n\tprivate String name;\r\n\tprivate int size;\r\n\tprivate Date cretedDate;\r\n\t\r\n\t// add more properties\r\n      }","title":"Java virtual file system application","body":"<p>You can have this kind of format</p>\n\n<pre><code>public class Directory{\n\nprivate List&lt;File&gt; files;\n\n\n// geters and setters\n// add more propertied to directory if required\n</code></pre>\n\n<p>}</p>\n\n<pre><code> public class File{\n\nprivate String name;\nprivate int size;\nprivate Date cretedDate;\n\n// add more properties\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1351697900,"post_id":13160887,"comment_id":17907354,"body_markdown":"I don&#39;t think Commons VFS provides what OP is looking for. It&#39;s an abstraction layer that presents a uniform view of a wide range of existing storage systems. It does not provide an in-memory storage system itself.","body":"I don&#39;t think Commons VFS provides what OP is looking for. It&#39;s an abstraction layer that presents a uniform view of a wide range of existing storage systems. It does not provide an in-memory storage system itself."},{"owner":{"account_id":973046,"reputation":1495,"user_id":995156,"display_name":"Pierre-Henri"},"score":0,"creation_date":1351698154,"post_id":13160887,"comment_id":17907494,"body_markdown":"OP could either use the in-memory database if this is a possibility or implement his own FS implementation for VSF.","body":"OP could either use the in-memory database if this is a possibility or implement his own FS implementation for VSF."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1351698541,"post_id":13160887,"comment_id":17907677,"body_markdown":"Well, the question is, in fact, how to &quot;implement his own FS implementation&quot;, so this seems to leave OP where he started.","body":"Well, the question is, in fact, how to &quot;implement his own FS implementation&quot;, so this seems to leave OP where he started."},{"owner":{"account_id":973046,"reputation":1495,"user_id":995156,"display_name":"Pierre-Henri"},"score":0,"creation_date":1351702198,"post_id":13160887,"comment_id":17909477,"body_markdown":"Yes but VFS would provide a good framework for that(managing the structure for you). The ram implementation would be a good starter.","body":"Yes but VFS would provide a good framework for that(managing the structure for you). The ram implementation would be a good starter."}],"tags":[],"owner":{"account_id":973046,"reputation":1495,"user_id":995156,"display_name":"Pierre-Henri"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351695638,"creation_date":1351695638,"answer_id":13160887,"question_id":13160645,"body_markdown":"I would use the [Commons Virtual File System][1] library.\r\n\r\n\r\n  [1]: http://commons.apache.org/vfs/ &quot;Commons Virtual File System&quot;","title":"Java virtual file system application","body":"<p>I would use the <a href=\"http://commons.apache.org/vfs/\" rel=\"nofollow\" title=\"Commons Virtual File System\">Commons Virtual File System</a> library.</p>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585913316,"creation_date":1585913316,"answer_id":61010851,"question_id":13160645,"body_markdown":"Another option you can use is [Google&#39;s in memory file system implementation for java][1] which implements Java&#39;s [FileSystem][2] abstraction.\r\n\r\n\r\n  [1]: https://github.com/google/jimfs\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html","title":"Java virtual file system application","body":"<p>Another option you can use is <a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">Google's in memory file system implementation for java</a> which implements Java's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html\" rel=\"nofollow noreferrer\">FileSystem</a> abstraction.</p>\n"},{"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693476741,"creation_date":1693476741,"answer_id":77014886,"question_id":13160645,"body_markdown":"User jnrfuse, supporting crossplatform\r\n\r\nExample usage:\r\n\r\nhttps://github.com/SerCeMan/jnr-fuse/blob/master/src/main/java/ru/serce/jnrfuse/examples/MemoryFS.java","title":"Java virtual file system application","body":"<p>User jnrfuse, supporting crossplatform</p>\n<p>Example usage:</p>\n<p><a href=\"https://github.com/SerCeMan/jnr-fuse/blob/master/src/main/java/ru/serce/jnrfuse/examples/MemoryFS.java\" rel=\"nofollow noreferrer\">https://github.com/SerCeMan/jnr-fuse/blob/master/src/main/java/ru/serce/jnrfuse/examples/MemoryFS.java</a></p>\n"}],"owner":{"account_id":1995880,"reputation":77,"user_id":1788867,"display_name":"user1788867"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7406,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1693476741,"creation_date":1351694950,"question_id":13160645,"body_markdown":"Good day, everyone,\r\n\r\nI need to make a *virtual Java file system*. It means that all the modifications on this system are not reflected on real OS - so if user creates, moves, deletes, copies files and directories in program, it just imitates the file system and its structure and nothing more. As the initial point we have the root of the file system, kept in program memory - virtual &quot;C:&quot;. The user can write command &quot;**create directory C:\\text**&quot; or &quot;**delete file C:\\test2\\myfile.txt**&quot;. At any time you can print the tree of created virtual directories and files.\r\n\r\nWhat is the best way to do it? Or where I can find how real file systems work?\r\n\r\nP.S. I thought of organizing directories as lists, and files as simple strings.\r\n\r\nThanks in advance!\r\n\r\n","title":"Java virtual file system application","body":"<p>Good day, everyone,</p>\n\n<p>I need to make a <em>virtual Java file system</em>. It means that all the modifications on this system are not reflected on real OS - so if user creates, moves, deletes, copies files and directories in program, it just imitates the file system and its structure and nothing more. As the initial point we have the root of the file system, kept in program memory - virtual \"C:\". The user can write command \"<strong>create directory C:\\text</strong>\" or \"<strong>delete file C:\\test2\\myfile.txt</strong>\". At any time you can print the tree of created virtual directories and files.</p>\n\n<p>What is the best way to do it? Or where I can find how real file systems work?</p>\n\n<p>P.S. I thought of organizing directories as lists, and files as simple strings.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1693293973,"post_id":74863711,"comment_id":135737942,"body_markdown":"It can be useful to pass the parameter `-Dlog4j.debug=true` to your executing program to make the logger output debug information as it configures itself. This will indicate the configuration files it finds, etc.","body":"It can be useful to pass the parameter <code>-Dlog4j.debug=true</code> to your executing program to make the logger output debug information as it configures itself. This will indicate the configuration files it finds, etc."}],"answers":[{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693289791,"creation_date":1693289791,"answer_id":76997760,"question_id":74863711,"body_markdown":"I was facing the exact same issue when I was running tests for my spring boot application. \r\n\r\nI added logback.xml in src/test/resources and it worked. ","title":"Could not find an appender named [appender_name_IS_UNDEFINED]","body":"<p>I was facing the exact same issue when I was running tests for my spring boot application.</p>\n<p>I added logback.xml in src/test/resources and it worked.</p>\n"}],"owner":{"account_id":18557282,"reputation":23,"user_id":13522047,"display_name":"Hridoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693476703,"creation_date":1671542224,"question_id":74863711,"body_markdown":"I am using Spring Spring Boot :: (v2.7.7-SNAPSHOT)\r\nI was trying to access configuration from `application.yaml` file to `logback-spring.xml` but the problem is it always shows me the error : **Could not find an appender named [appender_name_IS_UNDEFINED].** I have attached my configuration here for better understanding. Please help me I am trying to fix this last 2 days but I am failed. Thank you\r\n\r\n**application.yaml**\r\n\r\n```\r\n\r\n    server:\r\n      port: 80\r\n    app:\r\n      logging-to:console\r\n    logging:\r\n      level:\r\n        &quot;[org.springframework]&quot;: INFO\r\n        &quot;[com.med4pan.cloudapp]&quot;: DEBUG\r\n\r\n```\r\n\r\n\r\n**logback-spring.xml**\r\n\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/looging/logback/defaults.xml&quot;/&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;CONSOLE_PATTERN&quot; source=&quot;application.console-pattern&quot;/&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;appender_name&quot; source=&quot;app.logging-to&quot;/&gt;\r\n        \r\n        &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;\r\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;Cloud-Panel-Logs.log&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;Cloud-Panel-Logs.%d{yyyy-MM}.log&lt;/fileNamePattern&gt;\r\n                &lt;maxHistory&gt;6&lt;/maxHistory&gt;\r\n                &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;    \r\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${appender_name}&quot;/&gt;\r\n            &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n            &lt;queueSize&gt;100000&lt;/queueSize&gt;\r\n            &lt;includeCallerData&gt;false&lt;/includeCallerData&gt;\r\n            &lt;neverBlock&gt;false&lt;/neverBlock&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n        &lt;logger name=&quot;org.springframework.web&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\n```\r\n\r\n**Error**\r\n\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [appender_name_IS_UNDEFINED]. Did you define it below instead of above in the configuration file?\r\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\r\nERROR in ch.qos.logback.classic.AsyncAppender[ASYNC_CONSOLE] - No attached appenders found.\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:301)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 87 common frames omitted\r\n```\r\n\r\n\r\nI followed [this link](http://logback.qos.ch/codes.html#appender_order) given in the error message. I think I have configured the file according to the instruction but it didn&#39;t work \r\n","title":"Could not find an appender named [appender_name_IS_UNDEFINED]","body":"<p>I am using Spring Spring Boot :: (v2.7.7-SNAPSHOT)\nI was trying to access configuration from <code>application.yaml</code> file to <code>logback-spring.xml</code> but the problem is it always shows me the error : <strong>Could not find an appender named [appender_name_IS_UNDEFINED].</strong> I have attached my configuration here for better understanding. Please help me I am trying to fix this last 2 days but I am failed. Thank you</p>\n<p><strong>application.yaml</strong></p>\n<pre><code>\n    server:\n      port: 80\n    app:\n      logging-to:console\n    logging:\n      level:\n        &quot;[org.springframework]&quot;: INFO\n        &quot;[com.med4pan.cloudapp]&quot;: DEBUG\n\n</code></pre>\n<p><strong>logback-spring.xml</strong></p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;configuration&gt;\n        &lt;include resource=&quot;org/springframework/boot/looging/logback/defaults.xml&quot;/&gt;\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\n        &lt;springProperty scope=&quot;context&quot; name=&quot;CONSOLE_PATTERN&quot; source=&quot;application.console-pattern&quot;/&gt;\n        &lt;springProperty scope=&quot;context&quot; name=&quot;appender_name&quot; source=&quot;app.logging-to&quot;/&gt;\n        \n        &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n    \n        &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n            &lt;file&gt;Cloud-Panel-Logs.log&lt;/file&gt;\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n                &lt;fileNamePattern&gt;Cloud-Panel-Logs.%d{yyyy-MM}.log&lt;/fileNamePattern&gt;\n                &lt;maxHistory&gt;6&lt;/maxHistory&gt;\n                &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\n            &lt;/rollingPolicy&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&lt;/pattern&gt;    \n                &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n    \n        &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n            &lt;appender-ref ref=&quot;${appender_name}&quot;/&gt;\n            &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n            &lt;queueSize&gt;100000&lt;/queueSize&gt;\n            &lt;includeCallerData&gt;false&lt;/includeCallerData&gt;\n            &lt;neverBlock&gt;false&lt;/neverBlock&gt;\n        &lt;/appender&gt;\n    \n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot;/&gt;\n        &lt;/root&gt;\n        &lt;logger name=&quot;org.springframework.web&quot; level=&quot;DEBUG&quot;/&gt;\n    &lt;/configuration&gt;\n\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Caused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - Could not find an appender named [appender_name_IS_UNDEFINED]. Did you define it below instead of above in the configuration file?\nERROR in ch.qos.logback.core.joran.action.AppenderRefAction - See http://logback.qos.ch/codes.html#appender_order for more details.\nERROR in ch.qos.logback.classic.AsyncAppender[ASYNC_CONSOLE] - No attached appenders found.\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:301)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 87 common frames omitted\n</code></pre>\n<p>I followed <a href=\"http://logback.qos.ch/codes.html#appender_order\" rel=\"nofollow noreferrer\">this link</a> given in the error message. I think I have configured the file according to the instruction but it didn't work</p>\n"},{"tags":["java","macos","scala","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":16359605,"reputation":35,"user_id":11993199,"display_name":"anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475014,"creation_date":1693371894,"answer_id":77005105,"question_id":77002108,"body_markdown":"1. Running these commands helped to fix ```scala``` but ```scalac``` still crashes\r\n```\r\nbrew reinstall openjdk &amp;&amp; brew reinstall scala\r\n```\r\n\r\n2. Downgrading Java to version 9 helped:\r\n```\r\nbrew tap adoptopenjdk/openjdk\r\nbrew install --cask adoptopenjdk9\r\n```\r\nAdd this line to `.bash_profile`\r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home -v 9)\r\n```\r\nRestart your terminal or `source .bash_profile`\r\n\r\nIt should work now","title":"Module java.se.ee not found (M1 MacBook)","body":"<ol>\n<li>Running these commands helped to fix <code>scala</code> but <code>scalac</code> still crashes</li>\n</ol>\n<pre><code>brew reinstall openjdk &amp;&amp; brew reinstall scala\n</code></pre>\n<ol start=\"2\">\n<li>Downgrading Java to version 9 helped:</li>\n</ol>\n<pre><code>brew tap adoptopenjdk/openjdk\nbrew install --cask adoptopenjdk9\n</code></pre>\n<p>Add this line to <code>.bash_profile</code></p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 9)\n</code></pre>\n<p>Restart your terminal or <code>source .bash_profile</code></p>\n<p>It should work now</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693476385,"creation_date":1693475905,"answer_id":77014775,"question_id":77002108,"body_markdown":"According to the official [Scala &quot;Getting Started&quot;][1] if you install by hand, you need Java 8 or Java 11.\r\n\r\nInstalling and using Java 9 (in 2023) is a **bad idea** because Java 9 has been end-of-life for over 5 years.\r\n\r\n\r\n  [1]: https://docs.scala-lang.org/getting-started/index.html","title":"Module java.se.ee not found (M1 MacBook)","body":"<p>According to the official <a href=\"https://docs.scala-lang.org/getting-started/index.html\" rel=\"nofollow noreferrer\">Scala &quot;Getting Started&quot;</a> if you install by hand, you need Java 8 or Java 11.</p>\n<p>Installing and using Java 9 (in 2023) is a <strong>bad idea</strong> because Java 9 has been end-of-life for over 5 years.</p>\n"}],"owner":{"account_id":16359605,"reputation":35,"user_id":11993199,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693476385,"creation_date":1693327087,"question_id":77002108,"body_markdown":"I have encountered an error while trying to install scala on my M1 mac.\r\n\r\n I&#39;ve used the terminal commands from the official Getting Started guide.\r\n\r\n```\r\ncurl -fL https://github.com/VirtusLab/coursier-m1/releases/latest/download/cs-aarch64-apple-darwin.gz | gzip -d &gt; cs &amp;&amp; chmod +x cs &amp;&amp; (xattr -d com.apple.quarantine cs || true) &amp;&amp; ./cs setup\r\n```\r\n\r\nI got the result, that all the needed packages had been installed. I rebooted the computer. Then I tried to run\r\n\r\n```\r\nscala --version\r\n```\r\n\r\nand got the error:\r\n\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module java.se.ee not found\r\n```\r\n\r\nI would be glad if someone could help me)","title":"Module java.se.ee not found (M1 MacBook)","body":"<p>I have encountered an error while trying to install scala on my M1 mac.</p>\n<p>I've used the terminal commands from the official Getting Started guide.</p>\n<pre><code>curl -fL https://github.com/VirtusLab/coursier-m1/releases/latest/download/cs-aarch64-apple-darwin.gz | gzip -d &gt; cs &amp;&amp; chmod +x cs &amp;&amp; (xattr -d com.apple.quarantine cs || true) &amp;&amp; ./cs setup\n</code></pre>\n<p>I got the result, that all the needed packages had been installed. I rebooted the computer. Then I tried to run</p>\n<pre><code>scala --version\n</code></pre>\n<p>and got the error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module java.se.ee not found\n</code></pre>\n<p>I would be glad if someone could help me)</p>\n"},{"tags":["java","eclipse","fonts","font-size"],"comments":[{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":1,"creation_date":1297089481,"post_id":4922305,"comment_id":5484622,"body_markdown":"Works fine in 3.5 using those same directions.","body":"Works fine in 3.5 using those same directions."},{"owner":{"account_id":321462,"reputation":870,"user_id":640307,"accept_rate":50,"display_name":"Philip Murphy"},"score":80,"creation_date":1349828250,"post_id":4922305,"comment_id":17325050,"body_markdown":"FYI, if you want to change all editors at the same time, select General → Appearance → Colors and Fonts → Basic → Text Font.","body":"FYI, if you want to change all editors at the same time, select General → Appearance → Colors and Fonts → Basic → Text Font."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1351648233,"post_id":4922305,"comment_id":17889031,"body_markdown":"possible duplicate of [How to change font size quickly in Eclipse](http://stackoverflow.com/questions/6948374/how-to-change-font-size-quickly-in-eclipse)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6948374/how-to-change-font-size-quickly-in-eclipse\">How to change font size quickly in Eclipse</a>"},{"owner":{"account_id":66363,"reputation":1707,"user_id":194721,"accept_rate":61,"display_name":"RicardoBalda"},"score":1,"creation_date":1379204801,"post_id":4922305,"comment_id":27738193,"body_markdown":"Other solution Windows -&gt; Preferences -&gt; General -&gt; appareance -&gt; Colors a fonts -&gt; Structured Text Editor -&gt; Edit. this work for me :)","body":"Other solution Windows -&gt; Preferences -&gt; General -&gt; appareance -&gt; Colors a fonts -&gt; Structured Text Editor -&gt; Edit. this work for me :)"},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1418223087,"post_id":4922305,"comment_id":43252565,"body_markdown":"Not sure if this is because changes were made beforehand, but I had to make changes to both &quot;Basic&quot; and &quot;Java&quot;. The former affected things like the JSP editor, the latter affected the java programming window","body":"Not sure if this is because changes were made beforehand, but I had to make changes to both &quot;Basic&quot; and &quot;Java&quot;. The former affected things like the JSP editor, the latter affected the java programming window"},{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":8,"creation_date":1463665303,"post_id":4922305,"comment_id":62169281,"body_markdown":"**Eclipse Neon (4.6)** added `Ctrl` + `+` and `Ctrl` + `=` for **Zoom In** and `Ctrl` + `-` for **Zoom Out**. See http://www.eclipse.org/eclipse/news/4.6/M4/","body":"<b>Eclipse Neon (4.6)</b> added <code>Ctrl</code> + <code>+</code> and <code>Ctrl</code> + <code>=</code> for <b>Zoom In</b> and <code>Ctrl</code> + <code>-</code> for <b>Zoom Out</b>. See <a href=\"http://www.eclipse.org/eclipse/news/4.6/M4/\" rel=\"nofollow noreferrer\">eclipse.org/eclipse/news/4.6/M4</a>"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1483284418,"post_id":4922305,"comment_id":70037482,"body_markdown":"Related (changing ***colours***): *[Eclipse fonts and background color](http://stackoverflow.com/questions/186118)*","body":"Related (changing <b><i>colours</i></b>): <i><a href=\"http://stackoverflow.com/questions/186118\">Eclipse fonts and background color</a></i>"},{"owner":{"account_id":4294120,"reputation":2056,"user_id":3509609,"accept_rate":43,"display_name":"Vikash"},"score":0,"creation_date":1520940010,"post_id":4922305,"comment_id":85512660,"body_markdown":"you can simply press   CTR+ to increase and CTR- to decrease","body":"you can simply press   CTR+ to increase and CTR- to decrease"}],"answers":[{"comments":[{"owner":{"account_id":125140,"reputation":26301,"user_id":320724,"accept_rate":80,"display_name":"Bohn"},"score":3,"creation_date":1341027440,"post_id":4923243,"comment_id":14820322,"body_markdown":"Was searching for the same question tonight and found this...just a quick note: in JUNO they have moved Preferences section under EClise menu...: EClipse-&gt;Preferences..... just If I knew Eclipse keeps moving things around so much!","body":"Was searching for the same question tonight and found this...just a quick note: in JUNO they have moved Preferences section under EClise menu...: EClipse-&gt;Preferences..... just If I knew Eclipse keeps moving things around so much!"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1357905660,"post_id":4923243,"comment_id":19822406,"body_markdown":"tested on Version: Indigo Service Release 2 on 12-12-2012 good answer","body":"tested on Version: Indigo Service Release 2 on 12-12-2012 good answer"},{"owner":{"account_id":66363,"reputation":1707,"user_id":194721,"accept_rate":61,"display_name":"RicardoBalda"},"score":2,"creation_date":1379204777,"post_id":4923243,"comment_id":27738187,"body_markdown":"Other solution Windows -&gt; Preferences -&gt; General -&gt; appareance -&gt; Colors a fonts -&gt; Structured Text Editor -&gt; Edit. this work for me :)","body":"Other solution Windows -&gt; Preferences -&gt; General -&gt; appareance -&gt; Colors a fonts -&gt; Structured Text Editor -&gt; Edit. this work for me :)"},{"owner":{"account_id":2121182,"reputation":2010,"user_id":1884386,"accept_rate":96,"display_name":"Geek Stocks"},"score":0,"creation_date":1450498789,"post_id":4923243,"comment_id":56476658,"body_markdown":"Checked on MARS on 12/18/2015 and still works just fine. Thanks man!","body":"Checked on MARS on 12/18/2015 and still works just fine. Thanks man!"},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1495205482,"post_id":4923243,"comment_id":75170156,"body_markdown":"The Window -&gt; Preferences menu is still there in NEON.","body":"The Window -&gt; Preferences menu is still there in NEON."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1623683743,"post_id":4923243,"comment_id":120142269,"body_markdown":"This is still correct in Eclipse v 4.9 (2018)","body":"This is still correct in Eclipse v 4.9 (2018)"}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":6,"down_vote_count":1,"up_vote_count":465,"is_accepted":false,"score":464,"last_activity_date":1647876119,"creation_date":1297093437,"answer_id":4923243,"question_id":4922305,"body_markdown":"If you are changing the font size, but it is only working for the currently open file, then I suspect that you are changing the wrong preferences.\r\n\r\n * On the Eclipse toolbar, select *Window* → *Preferences*\r\n * Set the font size, *General* → *Appearance* → *Colors and Fonts* → *Java* → *Java Editor Text Font*).\r\n * Save the preferences.\r\n\r\nCheck that you do not have per-project preferences. These will override the top-level preferences.\r\n\r\n### Eclipse&amp;nbsp;v4.2 (Juno) note\r\n\r\nPer comment below, this has moved to the Eclipse *Preferences* menu (no longer named the *Window* menu).\r\n\r\n### Eclipse&amp;nbsp;v4.3 (Kepler) note\r\n\r\nThe *Window* menu is live again, that is, menu *Window* → *Preferences*.\r\n\r\n### Eclipse&amp;nbsp;2021-12 note\r\nVerified that the path described\r\n(*Window → Preferences, General → Appearance → Colors and Fonts → Java → Java Editor Text Font*)\r\nis still correct.\r\n\r\n**Note** Be sure to check out the [ChandraBhan Singh&#39;s answer][1], it shows the key bindings to change the font size.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42083500/3798217","title":"How to change font size in Eclipse for Java text editors?","body":"<p>If you are changing the font size, but it is only working for the currently open file, then I suspect that you are changing the wrong preferences.</p>\n<ul>\n<li>On the Eclipse toolbar, select <em>Window</em> → <em>Preferences</em></li>\n<li>Set the font size, <em>General</em> → <em>Appearance</em> → <em>Colors and Fonts</em> → <em>Java</em> → <em>Java Editor Text Font</em>).</li>\n<li>Save the preferences.</li>\n</ul>\n<p>Check that you do not have per-project preferences. These will override the top-level preferences.</p>\n<h3>Eclipse v4.2 (Juno) note</h3>\n<p>Per comment below, this has moved to the Eclipse <em>Preferences</em> menu (no longer named the <em>Window</em> menu).</p>\n<h3>Eclipse v4.3 (Kepler) note</h3>\n<p>The <em>Window</em> menu is live again, that is, menu <em>Window</em> → <em>Preferences</em>.</p>\n<h3>Eclipse 2021-12 note</h3>\n<p>Verified that the path described\n(<em>Window → Preferences, General → Appearance → Colors and Fonts → Java → Java Editor Text Font</em>)\nis still correct.</p>\n<p><strong>Note</strong> Be sure to check out the <a href=\"https://stackoverflow.com/a/42083500/3798217\">ChandraBhan Singh's answer</a>, it shows the key bindings to change the font size.</p>\n"},{"tags":[],"owner":{"account_id":327215,"reputation":2001,"user_id":649451,"display_name":"Venugopal Madathil"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1483280062,"creation_date":1343750548,"answer_id":11744332,"question_id":4922305,"body_markdown":"You can have a look at [Eclipse color theme][1], also which has a hell of a lot of options for customizing font, background color, etc. \r\n\r\n  [1]: http://eclipsecolorthemes.org/\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>You can have a look at <a href=\"http://eclipsecolorthemes.org/\" rel=\"nofollow noreferrer\">Eclipse color theme</a>, also which has a hell of a lot of options for customizing font, background color, etc. </p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1483280472,"post_id":15151327,"comment_id":70036509,"body_markdown":"After *Colors and Fonts*, isn&#39;t it something like *Java* → *Editor* → *Java Editor Text Font (set to default: Text Font)* (two more levels interjected)? (Seen in [Eclipse v4.6 (Neon)](https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases), but for C/C++).","body":"After <i>Colors and Fonts</i>, isn&#39;t it something like <i>Java</i> → <i>Editor</i> → <i>Java Editor Text Font (set to default: Text Font)</i> (two more levels interjected)? (Seen in <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases\" rel=\"nofollow noreferrer\">Eclipse v4.6 (Neon)</a>, but for C/C++)."},{"owner":{"account_id":5620296,"reputation":283,"user_id":4539511,"display_name":"Mathieu K."},"score":0,"creation_date":1486139037,"post_id":15151327,"comment_id":71231634,"body_markdown":"Does not work for me in Neon.2, at least on the Java file I&#39;m looking at.","body":"Does not work for me in Neon.2, at least on the Java file I&#39;m looking at."}],"tags":[],"owner":{"account_id":2431573,"reputation":49,"user_id":2122342,"display_name":"Anand"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1486145019,"creation_date":1362116678,"answer_id":15151327,"question_id":4922305,"body_markdown":" 1. On the menu bar, select *Window* → *Preferences*\r\n 2. Set the font size (*General* → *Appearance* → *Colors and Fonts* → *Structured Text Editors* → *Structured Text Editor Text Font (set to default: Text Font)* → &lt;kbd&gt;Edit...&lt;/kbd&gt;).\r\n 3. Save the preferences.\r\n\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<ol>\n<li>On the menu bar, select <em>Window</em> → <em>Preferences</em></li>\n<li>Set the font size (<em>General</em> → <em>Appearance</em> → <em>Colors and Fonts</em> → <em>Structured Text Editors</em> → <em>Structured Text Editor Text Font (set to default: Text Font)</em> → <kbd>Edit...</kbd>).</li>\n<li>Save the preferences.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":86128,"reputation":492,"user_id":239729,"accept_rate":83,"display_name":"M. Atif Riaz"},"score":3,"creation_date":1494342480,"post_id":18097855,"comment_id":74782081,"body_markdown":"Yes this is more applicable as it is global settings","body":"Yes this is more applicable as it is global settings"}],"tags":[],"owner":{"account_id":2069955,"reputation":710,"user_id":1844664,"display_name":"AlvaroCachoperro"},"comment_count":1,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1483280611,"creation_date":1375862551,"answer_id":18097855,"question_id":4922305,"body_markdown":"This worked for me:\n\n 1. On the Eclipse toolbar, select *Window* → *Preferences*.\n\n 2. Set the font size (*General* → *Appearance* → *Colors and Fonts* → *Basic* → *Text Font*):\n\n    ![Enter image description here][1]\n\n 3. Save the preferences.\n\n  [1]: http://i.stack.imgur.com/JzVRf.png\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>This worked for me:</p>\n<ol>\n<li><p>On the Eclipse toolbar, select <em>Window</em> → <em>Preferences</em>.</p>\n</li>\n<li><p>Set the font size (<em>General</em> → <em>Appearance</em> → <em>Colors and Fonts</em> → <em>Basic</em> → <em>Text Font</em>):</p>\n<p><img src=\"https://i.stack.imgur.com/JzVRf.png\" alt=\"Enter image description here\" /></p>\n</li>\n<li><p>Save the preferences.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":15915975,"reputation":586,"user_id":11498860,"display_name":"Aman"},"score":0,"creation_date":1585566302,"post_id":18584284,"comment_id":107795362,"body_markdown":"Edit Eclipse toolbar&gt;Window&gt; @BenniMcBeno.","body":"Edit Eclipse toolbar&gt;Window&gt; @BenniMcBeno."},{"owner":{"account_id":5058163,"reputation":2221,"user_id":4060708,"accept_rate":75,"display_name":"amdg"},"score":0,"creation_date":1628681070,"post_id":18584284,"comment_id":121484806,"body_markdown":"Open the java file and use `Command` and `+/-` to increase/decrease the font size","body":"Open the java file and use <code>Command</code> and <code>+&#47;-</code> to increase/decrease the font size"}],"tags":[],"owner":{"account_id":2006394,"reputation":2415,"user_id":1796171,"accept_rate":97,"display_name":"BenniMcBeno"},"comment_count":2,"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1693476346,"creation_date":1378183843,"answer_id":18584284,"question_id":4922305,"body_markdown":"On Mac:\r\n\r\n1. Eclipse toolbar Eclipse → *Settings* OR &lt;kbd&gt;Command&lt;/kbd&gt; + &lt;kbd&gt;,&lt;/kbd&gt; (comma)\r\n\r\n2. *General* → *Appearance* → *Colors and Fonts* → *Basic* → *Text Font*\r\n\r\n3. Apply\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>On Mac:</p>\n<ol>\n<li><p>Eclipse toolbar Eclipse → <em>Settings</em> OR <kbd>Command</kbd> + <kbd>,</kbd> (comma)</p>\n</li>\n<li><p><em>General</em> → <em>Appearance</em> → <em>Colors and Fonts</em> → <em>Basic</em> → <em>Text Font</em></p>\n</li>\n<li><p>Apply</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3618872,"reputation":21,"user_id":3018137,"display_name":"user3018137"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483281777,"creation_date":1385046661,"answer_id":20124592,"question_id":4922305,"body_markdown":"I tend to use menu *Windows* → *Preferences* → *General* → *Appearances* → *Colors and Fonts* → *Java Text Editors* → *Change* → *Apply*.\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>I tend to use menu <em>Windows</em> → <em>Preferences</em> → <em>General</em> → <em>Appearances</em> → <em>Colors and Fonts</em> → <em>Java Text Editors</em> → <em>Change</em> → <em>Apply</em>.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1483281975,"post_id":21138312,"comment_id":70036853,"body_markdown":"How are preferences saved? Pressing button OK?","body":"How are preferences saved? Pressing button OK?"},{"owner":{"account_id":5620296,"reputation":283,"user_id":4539511,"display_name":"Mathieu K."},"score":0,"creation_date":1486138685,"post_id":21138312,"comment_id":71231371,"body_markdown":"If we&#39;re talking about the menu bar, this is the same answer as [4539511](http://stackoverflow.com/a/18097855/4539511).","body":"If we&#39;re talking about the menu bar, this is the same answer as <a href=\"http://stackoverflow.com/a/18097855/4539511\">4539511</a>."}],"tags":[],"owner":{"account_id":3018328,"reputation":111,"user_id":2559897,"display_name":"user2559897"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1483281942,"creation_date":1389791402,"answer_id":21138312,"question_id":4922305,"body_markdown":"On the Eclipse toolbar, select *Window* → *Preferences*, set the font size (*General* → *Appearance* → *Colors and Fonts* → *Basic* → *Text Font*).\r\n\r\nSave the preferences.\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>On the Eclipse toolbar, select <em>Window</em> → <em>Preferences</em>, set the font size (<em>General</em> → <em>Appearance</em> → <em>Colors and Fonts</em> → <em>Basic</em> → <em>Text Font</em>).</p>\n\n<p>Save the preferences.</p>\n"},{"tags":[],"owner":{"account_id":3763750,"reputation":101,"user_id":3127865,"display_name":"Donald W. Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483282187,"creation_date":1393099198,"answer_id":21959748,"question_id":4922305,"body_markdown":"Running Eclipse&amp;nbsp;v4.3 (Kepler), the steps outlined by AlvaroCachoperro do the trick for the Java text editor and console window text.\r\n\r\nMany of the text font options, including the Java Editor Text Font note, are &quot;set to default: Text Font&quot;. The &#39;default&#39; can be found and configured as follows:\r\n\r\n  On the Eclipse toolbar, select *Window* → *Preferences*. Drill down to: (*General* → *Appearance* → *Colors and Fonts* → *Basic* → *Text Font*) (at the bottom)\r\n\r\n - Click &lt;kbd&gt;Edit&lt;/kbd&gt; and select the font, style and size   \r\n - Click &lt;kbd&gt;OK&lt;/kbd&gt; in the Font dialog   \r\n - Click &lt;kbd&gt;Apply&lt;/kbd&gt; in the Preferences dialog to check it \r\n - Click &lt;kbd&gt;OK&lt;/kbd&gt; in the Preferences dialog to save it\r\n\r\nEclipse will remember your settings for your current workspace.\r\n\r\nI teach programming and use the larger font for the students in the back.  \r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>Running Eclipse&nbsp;v4.3 (Kepler), the steps outlined by AlvaroCachoperro do the trick for the Java text editor and console window text.</p>\n\n<p>Many of the text font options, including the Java Editor Text Font note, are \"set to default: Text Font\". The 'default' can be found and configured as follows:</p>\n\n<p>On the Eclipse toolbar, select <em>Window</em> → <em>Preferences</em>. Drill down to: (<em>General</em> → <em>Appearance</em> → <em>Colors and Fonts</em> → <em>Basic</em> → <em>Text Font</em>) (at the bottom)</p>\n\n<ul>\n<li>Click <kbd>Edit</kbd> and select the font, style and size   </li>\n<li>Click <kbd>OK</kbd> in the Font dialog   </li>\n<li>Click <kbd>Apply</kbd> in the Preferences dialog to check it </li>\n<li>Click <kbd>OK</kbd> in the Preferences dialog to save it</li>\n</ul>\n\n<p>Eclipse will remember your settings for your current workspace.</p>\n\n<p>I teach programming and use the larger font for the students in the back.  </p>\n"},{"comments":[{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1407916045,"post_id":22248894,"comment_id":39395295,"body_markdown":"@SumitSingh How did you achieve this color shema for eclipse? Can you give some explanation or link?","body":"@SumitSingh How did you achieve this color shema for eclipse? Can you give some explanation or link?"},{"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"score":0,"creation_date":1409220085,"post_id":22248894,"comment_id":39887193,"body_markdown":"This is new theme in Luna See: http://eclipsesource.com/blogs/2014/06/20/dark-theme-top-eclipse-luna-feature-5/","body":"This is new theme in Luna See: <a href=\"http://eclipsesource.com/blogs/2014/06/20/dark-theme-top-eclipse-luna-feature-5/\" rel=\"nofollow noreferrer\">eclipsesource.com/blogs/2014/06/20/&hellip;</a>"}],"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1394191806,"creation_date":1394191806,"answer_id":22248894,"question_id":4922305,"body_markdown":"    General → Appearance → Colors and Fonts → Java Editor text font\r\n\r\nSee the image:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/u9YuU.png","title":"How to change font size in Eclipse for Java text editors?","body":"<pre><code>General → Appearance → Colors and Fonts → Java Editor text font\n</code></pre>\n\n<p>See the image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/u9YuU.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":5620296,"reputation":283,"user_id":4539511,"display_name":"Mathieu K."},"score":0,"creation_date":1486138610,"post_id":25885421,"comment_id":71231326,"body_markdown":"Appears to be the same answer as [4539511](http://stackoverflow.com/a/18097855/4539511).","body":"Appears to be the same answer as <a href=\"http://stackoverflow.com/a/18097855/4539511\">4539511</a>."}],"tags":[],"owner":{"account_id":1702196,"reputation":601,"user_id":1561948,"display_name":"ThmHarsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1483282276,"creation_date":1410941380,"answer_id":25885421,"question_id":4922305,"body_markdown":"![Enter image description here][1]\r\n\r\nMenu *Window* → *Preferences*. *General* → *Appearance* → *Colors and Fonts* → *Basic* → *Text Font*\r\n\r\n  [1]: http://i.stack.imgur.com/dr3xs.png\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p><img src=\"https://i.stack.imgur.com/dr3xs.png\" alt=\"Enter image description here\"></p>\n\n<p>Menu <em>Window</em> → <em>Preferences</em>. <em>General</em> → <em>Appearance</em> → <em>Colors and Fonts</em> → <em>Basic</em> → <em>Text Font</em></p>\n"},{"comments":[{"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"score":0,"creation_date":1501493019,"post_id":31018374,"comment_id":77784314,"body_markdown":"Project is not active anymore.","body":"Project is not active anymore."}],"tags":[],"owner":{"account_id":3484522,"reputation":6667,"user_id":2915785,"accept_rate":82,"display_name":"Naveed Ahmad"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1483282489,"creation_date":1435124171,"answer_id":31018374,"question_id":4922305,"body_markdown":"The [Eclipse-Fonts][1] extension will add toolbar buttons and keyboard shortcuts for changing font size. You can then use [AutoHotkey][2] to make **&lt;kbd&gt;Ctrl&lt;/kbd&gt; + mousewheel** zoom.\r\n\r\nUnder menu *Help* → *Install New Software...* in the menu, paste the update URL (http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/) into the **Works with:** text box and press &lt;kbd&gt;Enter&lt;/kbd&gt;. Expand the tree and select *FontsFeature* as in the following image:\r\n\r\n![Eclipse extension installation screen capture][3]\r\n\r\nComplete the installation and restart Eclipse. Then you should see the **A** toolbar buttons (circled in red in the following image) and be able to use the keyboard shortcuts &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;-&lt;/kbd&gt; and &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;=&lt;/kbd&gt; to zoom (although you may have to unbind those keys from Eclipse first).\r\n\r\n![Eclipse screen capture with the font size toolbar buttons circled][4]\r\n\r\nTo get &lt;kbd&gt;Ctrl&lt;/kbd&gt; + *mouse wheel* zooming, you can use AutoHotkey with the following script:\r\n\r\n    ; Ctrl + mouse wheel zooming in Eclipse.\r\n    ; Requires Eclipse-Fonts (https://code.google.com/p/eclipse-fonts/).\r\n    ; Thank you for the unique window class, SWT/Eclipse.\r\n    ;\r\n    #IfWinActive ahk_class SWT_Window0\r\n        ^WheelUp:: Send ^{=}\r\n        ^WheelDown:: Send ^-\r\n    #IfWinActive\r\n\r\n  [1]: https://code.google.com/p/eclipse-fonts/\r\n  [2]: http://en.wikipedia.org/wiki/AutoHotkey\r\n  [3]: http://i.stack.imgur.com/R2Ni5.png\r\n  [4]: http://i.stack.imgur.com/XHaX5.jpg\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>The <a href=\"https://code.google.com/p/eclipse-fonts/\" rel=\"nofollow noreferrer\">Eclipse-Fonts</a> extension will add toolbar buttons and keyboard shortcuts for changing font size. You can then use <a href=\"http://en.wikipedia.org/wiki/AutoHotkey\" rel=\"nofollow noreferrer\">AutoHotkey</a> to make <strong><kbd>Ctrl</kbd> + mousewheel</strong> zoom.</p>\n\n<p>Under menu <em>Help</em> → <em>Install New Software...</em> in the menu, paste the update URL (<a href=\"http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/\" rel=\"nofollow noreferrer\">http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/</a>) into the <strong>Works with:</strong> text box and press <kbd>Enter</kbd>. Expand the tree and select <em>FontsFeature</em> as in the following image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/R2Ni5.png\" alt=\"Eclipse extension installation screen capture\"></p>\n\n<p>Complete the installation and restart Eclipse. Then you should see the <strong>A</strong> toolbar buttons (circled in red in the following image) and be able to use the keyboard shortcuts <kbd>Ctrl</kbd> + <kbd>-</kbd> and <kbd>Ctrl</kbd> + <kbd>=</kbd> to zoom (although you may have to unbind those keys from Eclipse first).</p>\n\n<p><img src=\"https://i.stack.imgur.com/XHaX5.jpg\" alt=\"Eclipse screen capture with the font size toolbar buttons circled\"></p>\n\n<p>To get <kbd>Ctrl</kbd> + <em>mouse wheel</em> zooming, you can use AutoHotkey with the following script:</p>\n\n<pre><code>; Ctrl + mouse wheel zooming in Eclipse.\n; Requires Eclipse-Fonts (https://code.google.com/p/eclipse-fonts/).\n; Thank you for the unique window class, SWT/Eclipse.\n;\n#IfWinActive ahk_class SWT_Window0\n    ^WheelUp:: Send ^{=}\n    ^WheelDown:: Send ^-\n#IfWinActive\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":16,"creation_date":1486677357,"post_id":42083500,"comment_id":71461679,"body_markdown":"For other languaged keyboards (like Hungarian): CTRL SHIFT (+) CTRL SHIFT (-)","body":"For other languaged keyboards (like Hungarian): CTRL SHIFT (+) CTRL SHIFT (-)"},{"owner":{"account_id":2864779,"reputation":1457,"user_id":2459308,"accept_rate":74,"display_name":"Pierpaolo Cira"},"score":1,"creation_date":1488280410,"post_id":42083500,"comment_id":72151799,"body_markdown":"For Mac OsX use CMD key instead of Ctrl","body":"For Mac OsX use CMD key instead of Ctrl"},{"owner":{"account_id":27373,"reputation":34397,"user_id":72178,"accept_rate":90,"display_name":"ks1322"},"score":2,"creation_date":1606485358,"post_id":42083500,"comment_id":114982290,"body_markdown":"For me `Ctrl -` to decrease, but `Ctrl Shift +` to increase.","body":"For me <code>Ctrl -</code> to decrease, but <code>Ctrl Shift +</code> to increase."}],"tags":[],"owner":{"account_id":3563147,"reputation":2861,"user_id":2975478,"display_name":"ChandraBhan Singh"},"comment_count":3,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1486450310,"creation_date":1486450310,"answer_id":42083500,"question_id":4922305,"body_markdown":"**For Eclipse Neon**\r\n\r\nTo Increase\r\n**Ctrl**  **+**\r\n\r\nTo reduce **Ctrl**  **-**\r\n\r\n\r\n[![shortcut for font eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lqSsU.jpg","title":"How to change font size in Eclipse for Java text editors?","body":"<p><strong>For Eclipse Neon</strong></p>\n\n<p>To Increase\n<strong>Ctrl</strong>  <strong>+</strong></p>\n\n<p>To reduce <strong>Ctrl</strong>  <strong>-</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/lqSsU.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lqSsU.jpg\" alt=\"shortcut for font eclipse\"></a></p>\n"},{"tags":[],"owner":{"account_id":1085313,"reputation":359,"user_id":1081150,"accept_rate":67,"display_name":"praveenj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486961474,"creation_date":1486961474,"answer_id":42196856,"question_id":4922305,"body_markdown":"Try the tarlog plugin. You can change the font through Ctrl++ and Ctrl-- commands with it. A very convenient thing.\r\n\r\nhttps://code.google.com/archive/p/tarlog-plugins/downloads\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>Try the tarlog plugin. You can change the font through Ctrl++ and Ctrl-- commands with it. A very convenient thing.</p>\n\n<p><a href=\"https://code.google.com/archive/p/tarlog-plugins/downloads\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/tarlog-plugins/downloads</a></p>\n"},{"tags":[],"owner":{"account_id":6138760,"reputation":2773,"user_id":4786793,"accept_rate":75,"display_name":"Shubham Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1623241124,"creation_date":1516167459,"answer_id":48294241,"question_id":4922305,"body_markdown":"If you are using Windows then to increase font size try with \r\n\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;&lt;kbd&gt;+&lt;/kbd&gt; \r\n\r\nand for decreasing font size you can use \r\n\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;&lt;kbd&gt;-&lt;/kbd&gt;","title":"How to change font size in Eclipse for Java text editors?","body":"<p>If you are using Windows then to increase font size try with</p>\n<p><kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>+</kbd></p>\n<p>and for decreasing font size you can use</p>\n<p><kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>-</kbd></p>\n"},{"comments":[{"owner":{"account_id":4628781,"reputation":7731,"user_id":3751845,"accept_rate":67,"display_name":"NaN"},"score":0,"creation_date":1522923969,"post_id":48765406,"comment_id":86349989,"body_markdown":"Works for me. Tested with Oxygen on Linux","body":"Works for me. Tested with Oxygen on Linux"}],"tags":[],"owner":{"account_id":2527555,"reputation":535,"user_id":2196607,"display_name":"Usman"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1518520125,"creation_date":1518520125,"answer_id":48765406,"question_id":4922305,"body_markdown":"You can use \r\n\r\nctrl and + or - key","title":"How to change font size in Eclipse for Java text editors?","body":"<p>You can use </p>\n\n<p>ctrl and + or - key</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531222755,"creation_date":1531222755,"answer_id":51264239,"question_id":4922305,"body_markdown":"If you are using STS, then goto STS/Contents/Eclipse directory and open the STS.ini file.\r\n\r\nFrom the STS.ini file, remove the flooring line:\r\n\r\n    -Dorg.eclipse.swt.internal.carbon.smallFonts\r\n\r\nAnd restart the STS.","title":"How to change font size in Eclipse for Java text editors?","body":"<p>If you are using STS, then goto STS/Contents/Eclipse directory and open the STS.ini file.</p>\n\n<p>From the STS.ini file, remove the flooring line:</p>\n\n<pre><code>-Dorg.eclipse.swt.internal.carbon.smallFonts\n</code></pre>\n\n<p>And restart the STS.</p>\n"},{"tags":[],"owner":{"account_id":4148170,"reputation":79,"user_id":3401332,"display_name":"Vrajendra Singh Mandloi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567779984,"creation_date":1567779984,"answer_id":57823909,"question_id":4922305,"body_markdown":"I Found the best way to increase Font Size in Eclipse:\r\n\r\nFollow this path : Eclipse-Folder\\plugins\\org.eclipse.ui.themes_1.2.100.v20180514-1547\\css\r\n\r\n--There are a bunch of Files here and it depends on user system which file to change.\r\n\r\n    * {\r\n      font-size:13;\r\n      font-family: Helvetica, Arial, sans-serif;\r\n      font-weight: normal;\r\n    } \r\n\r\nyou can even change Font Family if you like.\r\n\r\n1. For Windows Users add the following piece of css at BOTTOM of these files:\r\n    **File Names:    e4_default_gtk.css &amp; e4_default_win.css**\r\n\r\n2. For Mac Users: e4_default_mac.css\r\n","title":"How to change font size in Eclipse for Java text editors?","body":"<p>I Found the best way to increase Font Size in Eclipse:</p>\n\n<p>Follow this path : Eclipse-Folder\\plugins\\org.eclipse.ui.themes_1.2.100.v20180514-1547\\css</p>\n\n<p>--There are a bunch of Files here and it depends on user system which file to change.</p>\n\n<pre><code>* {\n  font-size:13;\n  font-family: Helvetica, Arial, sans-serif;\n  font-weight: normal;\n} \n</code></pre>\n\n<p>you can even change Font Family if you like.</p>\n\n<ol>\n<li><p>For Windows Users add the following piece of css at BOTTOM of these files:\n<strong>File Names:    e4_default_gtk.css &amp; e4_default_win.css</strong></p></li>\n<li><p>For Mac Users: e4_default_mac.css</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6958103,"reputation":400,"user_id":5338514,"display_name":"shashi"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1598428346,"creation_date":1568012474,"answer_id":57849200,"question_id":4922305,"body_markdown":"Press **`ctrl`** + **`-`** to decrease, and **`ctrl`** + **`+`** to increase the Font Size. \r\n\r\nIt&#39;s working for me in Eclipse Oxygen.","title":"How to change font size in Eclipse for Java text editors?","body":"<p>Press <strong><code>ctrl</code></strong> + <strong><code>-</code></strong> to decrease, and <strong><code>ctrl</code></strong> + <strong><code>+</code></strong> to increase the Font Size.</p>\n<p>It's working for me in Eclipse Oxygen.</p>\n"}],"owner":{"account_id":103658,"reputation":20992,"user_id":277516,"accept_rate":77,"display_name":"Venkat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738622,"favorite_count":0,"down_vote_count":0,"up_vote_count":495,"answer_count":18,"score":495,"last_activity_date":1693476346,"creation_date":1297088280,"question_id":4922305,"body_markdown":"I have just tried to change my font size in Eclipse 3.6.0 in the following way:\r\n\r\n&gt; General &amp;rarr; Appearance &amp;rarr; Colors and Fonts &amp;rarr; Java Editor text font\r\n\r\nHowever, the font size only changed in the file I had open. How can I change the font size for all Java files and projects I open in Eclipse?","title":"How to change font size in Eclipse for Java text editors?","body":"<p>I have just tried to change my font size in Eclipse 3.6.0 in the following way:</p>\n\n<blockquote>\n  <p>General &rarr; Appearance &rarr; Colors and Fonts &rarr; Java Editor text font</p>\n</blockquote>\n\n<p>However, the font size only changed in the file I had open. How can I change the font size for all Java files and projects I open in Eclipse?</p>\n"},{"tags":["java","css","xml","twitter-bootstrap","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670279418,"post_id":74692626,"comment_id":131835530,"body_markdown":"There was an [answer which seemed fairly decent that was moderator deleted](https://stackoverflow.com/a/74692724/1155209), I am not sure why.","body":"There was an <a href=\"https://stackoverflow.com/a/74692724/1155209\">answer which seemed fairly decent that was moderator deleted</a>, I am not sure why."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670279497,"post_id":74692626,"comment_id":131835549,"body_markdown":"The [Idea new project wizard](https://www.jetbrains.com/help/idea/javafx.html) provides an option for including BootstrapFX in a project, perhaps try that and see if it helps (I don&#39;t know if it will or not in your case).","body":"The <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Idea new project wizard</a> provides an option for including BootstrapFX in a project, perhaps try that and see if it helps (I don&#39;t know if it will or not in your case)."},{"owner":{"account_id":27155574,"reputation":11,"user_id":20694452,"display_name":"Francesco Antoni"},"score":0,"creation_date":1670316357,"post_id":74692626,"comment_id":131842201,"body_markdown":"@jewelsea I have used that, but I don’t know how to set it in the code. I mean how to actually tell JFX I want to use that framework. The GitHub page shows how to do that from Java code but I would like to do that from the FXML file.","body":"@jewelsea I have used that, but I don’t know how to set it in the code. I mean how to actually tell JFX I want to use that framework. The GitHub page shows how to do that from Java code but I would like to do that from the FXML file."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670322790,"post_id":74692626,"comment_id":131844476,"body_markdown":"Yeah that info looks to be in the moderator deleted answer.","body":"Yeah that info looks to be in the moderator deleted answer."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670324126,"post_id":74692626,"comment_id":131844918,"body_markdown":"There is a style sheet you get through a static method `BootstrapFX.bootstrapFXStylesheet()` which gets `bootstrapfx.css` out of the bootstrap jar (fxml can reference style sheets so if you extracted it to a file you can also access it that way).  And there is one additional layout class called Panel.  All other usages are just setting style classes, which can also be set in fxml.  There are lots of examples in the [sampler code](https://github.com/kordamp/bootstrapfx/tree/master/subprojects/sampler/src/main), which is mostly bootstrap styled fxml.","body":"There is a style sheet you get through a static method <code>BootstrapFX.bootstrapFXStylesheet()</code> which gets <code>bootstrapfx.css</code> out of the bootstrap jar (fxml can reference style sheets so if you extracted it to a file you can also access it that way).  And there is one additional layout class called Panel.  All other usages are just setting style classes, which can also be set in fxml.  There are lots of examples in the <a href=\"https://github.com/kordamp/bootstrapfx/tree/master/subprojects/sampler/src/main\" rel=\"nofollow noreferrer\">sampler code</a>, which is mostly bootstrap styled fxml."}],"owner":{"account_id":27155574,"reputation":11,"user_id":20694452,"display_name":"Francesco Antoni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693476336,"creation_date":1670264055,"question_id":74692626,"body_markdown":"Using IntelliJ, I wanted to create a new JavaFX project using BootstrapFX framework in order to improve the look of my app. I thought it would be easy to include it and use it but I couldn&#39;t find any documentation online.\r\n\r\nThe only example I found is this: [Link](https://github.com/kordamp/bootstrapfx) but this doesn&#39;t mention anything about settings in the FXML files and controller classes since it does everything in the `start()` method. Can somebody help me? I anticipately apologize for any incorrect thing I could have said since I am new to this.","title":"How do I use BootstrapFX in my Maven JavaFX project with FXML?","body":"<p>Using IntelliJ, I wanted to create a new JavaFX project using BootstrapFX framework in order to improve the look of my app. I thought it would be easy to include it and use it but I couldn't find any documentation online.</p>\n<p>The only example I found is this: <a href=\"https://github.com/kordamp/bootstrapfx\" rel=\"nofollow noreferrer\">Link</a> but this doesn't mention anything about settings in the FXML files and controller classes since it does everything in the <code>start()</code> method. Can somebody help me? I anticipately apologize for any incorrect thing I could have said since I am new to this.</p>\n"},{"tags":["java","spring-boot","maven","maven-multi-module"],"comments":[{"owner":{"account_id":1344147,"reputation":83,"user_id":1285203,"display_name":"Prabhakaran"},"score":0,"creation_date":1693467666,"post_id":77013728,"comment_id":135765586,"body_markdown":"My first approach is influenced by Package by feature approach [link](http://www.javapractices.com/topic/TopicAction.do?Id=205).","body":"My first approach is influenced by Package by feature approach <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=205\" rel=\"nofollow noreferrer\">link</a>."}],"answers":[{"tags":[],"owner":{"account_id":24183521,"reputation":99,"user_id":18143824,"display_name":"Yannick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693476130,"creation_date":1693476130,"answer_id":77014800,"question_id":77013728,"body_markdown":"I&#39;d definitely go for the package-by-feature approach. By that you ensure that services can&#39;t use other services&#39; classes and thus keep them independent.","title":"How to muti-module a large spring application","body":"<p>I'd definitely go for the package-by-feature approach. By that you ensure that services can't use other services' classes and thus keep them independent.</p>\n"}],"owner":{"account_id":1344147,"reputation":83,"user_id":1285203,"display_name":"Prabhakaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693499523,"answer_count":1,"score":0,"last_activity_date":1693476130,"creation_date":1693467512,"question_id":77013728,"body_markdown":"I am developing a spring boot project consisting of multiple independent modules used by the main project. As I am new to this, I need guidance on how to segregate large project into maven modules. I have few ideas which I would like to get your opinion on,\r\n\r\n1. **Modules by feature (and only by feature)**: Each feature is segregated into its own modules. Thus, the modules would have their own Entities, Repositories, Services. Only services which would be consumed by other modules.\r\n\r\n\r\n```\r\nParent Project\r\n   |- Feature 1 (owns dtos, repo, entities)\r\n   |- Feature 2 (owns dtos, repo, entities)\r\n   |- ...\r\n   |- Main project (depends on Feature 1,2, ...)\r\n```\r\n2. **Modules by common concerns and subsequently by feature**\r\n\r\n```\r\nParent Project\r\n   |- Entities\r\n   |- Repositories (depends on Entities)\r\n   |- Dtos (depends on Entities)\r\n   |- Feature 1 (depends on dtos, repo)\r\n   |- Feature 2 (depends on dtos, repo)\r\n   |- Main project (depends on Feature Entities, Repositories, Dtos,1,2, ...)\r\n```\r\n\r\nI would like to know the pros and cons of either of the approaches. Any new approach is also welcome.","title":"How to muti-module a large spring application","body":"<p>I am developing a spring boot project consisting of multiple independent modules used by the main project. As I am new to this, I need guidance on how to segregate large project into maven modules. I have few ideas which I would like to get your opinion on,</p>\n<ol>\n<li><strong>Modules by feature (and only by feature)</strong>: Each feature is segregated into its own modules. Thus, the modules would have their own Entities, Repositories, Services. Only services which would be consumed by other modules.</li>\n</ol>\n<pre><code>Parent Project\n   |- Feature 1 (owns dtos, repo, entities)\n   |- Feature 2 (owns dtos, repo, entities)\n   |- ...\n   |- Main project (depends on Feature 1,2, ...)\n</code></pre>\n<ol start=\"2\">\n<li><strong>Modules by common concerns and subsequently by feature</strong></li>\n</ol>\n<pre><code>Parent Project\n   |- Entities\n   |- Repositories (depends on Entities)\n   |- Dtos (depends on Entities)\n   |- Feature 1 (depends on dtos, repo)\n   |- Feature 2 (depends on dtos, repo)\n   |- Main project (depends on Feature Entities, Repositories, Dtos,1,2, ...)\n</code></pre>\n<p>I would like to know the pros and cons of either of the approaches. Any new approach is also welcome.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":3,"creation_date":1693341111,"post_id":77003405,"comment_id":135747465,"body_markdown":"JFileChooser has two dialogs.  Should be showOpenFileDialog() and showSaveFileDialog().","body":"JFileChooser has two dialogs.  Should be showOpenFileDialog() and showSaveFileDialog()."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693348406,"post_id":77003405,"comment_id":135748365,"body_markdown":"Also, it is in your best interest to peruse [all of the methods of JFileChooser](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JFileChooser.html#method-summary).","body":"Also, it is in your best interest to peruse <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JFileChooser.html#method-summary\" rel=\"nofollow noreferrer\">all of the methods of JFileChooser</a>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693362043,"post_id":77003405,"comment_id":135749449,"body_markdown":"Also demonstrated in [How to Use File Choosers](https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)","body":"Also demonstrated in <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\" rel=\"nofollow noreferrer\">How to Use File Choosers</a>"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1693414450,"post_id":77003405,"comment_id":135758932,"body_markdown":"@pcalkins thank you! But still, how do I change that (without affecting all the instances)?","body":"@pcalkins thank you! But still, how do I change that (without affecting all the instances)?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693414519,"post_id":77003405,"comment_id":135758948,"body_markdown":"those are methods of the instances so you&#39;re fine.","body":"those are methods of the instances so you&#39;re fine."}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693476009,"creation_date":1693476009,"answer_id":77014787,"question_id":77003405,"body_markdown":"There is no built in function for that kind of thing.\r\n\r\nYou either need to build your own file chooser which is not perfect idea.\r\n\r\nI made a quick function to change name of any button\r\n\r\n    private void changeButtonName(Container fc, String oldValue, String newValue) {\r\n            for (Component item : fc.getComponents()) {\r\n                if (item instanceof  JButton) {\r\n                    JButton button = (JButton) item;\r\n                    if (button.getText() != null &amp;&amp; button.getText().length() &gt; 0 &amp;&amp; button.getText().equalsIgnoreCase(oldValue)) {\r\n                        button.setText(newValue);\r\n                    }\r\n                }\r\n    \r\n                if (item instanceof Container) {\r\n                    changeButtonName((Container)item, oldValue, newValue);\r\n                }\r\n            }\r\n        }\r\n\r\nthen you can just call it like that:\r\n\r\n\r\n    final JFileChooser fc = new JFileChooser();\r\n    \r\n    changeButtonName(fc,&quot;cancel&quot;, &quot;new_cancel&quot;);\r\n\r\n\r\nKeep in mind that I didn&#39;t test it extensively\r\n","title":"How do I change the text of a JFileChooser instance&#39;s button?","body":"<p>There is no built in function for that kind of thing.</p>\n<p>You either need to build your own file chooser which is not perfect idea.</p>\n<p>I made a quick function to change name of any button</p>\n<pre><code>private void changeButtonName(Container fc, String oldValue, String newValue) {\n        for (Component item : fc.getComponents()) {\n            if (item instanceof  JButton) {\n                JButton button = (JButton) item;\n                if (button.getText() != null &amp;&amp; button.getText().length() &gt; 0 &amp;&amp; button.getText().equalsIgnoreCase(oldValue)) {\n                    button.setText(newValue);\n                }\n            }\n\n            if (item instanceof Container) {\n                changeButtonName((Container)item, oldValue, newValue);\n            }\n        }\n    }\n</code></pre>\n<p>then you can just call it like that:</p>\n<pre><code>final JFileChooser fc = new JFileChooser();\n\nchangeButtonName(fc,&quot;cancel&quot;, &quot;new_cancel&quot;);\n</code></pre>\n<p>Keep in mind that I didn't test it extensively</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693476009,"creation_date":1693340303,"question_id":77003405,"body_markdown":"I have two `JFileChooser` instances in my app: one for saving and another one for loading. The default &quot;Save&quot; button works fine in the former case but is semantically wrong in the latter. How do I change button text for a **particular `JFileChooser` instance**? Please note that things like\r\n```java\r\n UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);\r\n SwingUtilities.updateComponentTreeUI(Filechoose);\r\n```\r\nwon&#39;t work since they will change button text of all instances (the example is from [this SO question][1]). If it&#39;s not possible, what are the workarounds?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32054155/change-text-value-of-jfilechooser","title":"How do I change the text of a JFileChooser instance&#39;s button?","body":"<p>I have two <code>JFileChooser</code> instances in my app: one for saving and another one for loading. The default &quot;Save&quot; button works fine in the former case but is semantically wrong in the latter. How do I change button text for a <strong>particular <code>JFileChooser</code> instance</strong>? Please note that things like</p>\n<pre class=\"lang-java prettyprint-override\"><code> UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);\n SwingUtilities.updateComponentTreeUI(Filechoose);\n</code></pre>\n<p>won't work since they will change button text of all instances (the example is from <a href=\"https://stackoverflow.com/questions/32054155/change-text-value-of-jfilechooser\">this SO question</a>). If it's not possible, what are the workarounds?</p>\n"},{"tags":["java","shell","command-line"],"comments":[{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":2,"creation_date":1252674568,"post_id":1410741,"comment_id":1252935,"body_markdown":"`cat` and `csh` don’t have anything to do with one another.","body":"<code>cat</code> and <code>csh</code> don’t have anything to do with one another."},{"owner":{"account_id":49086,"reputation":9943,"user_id":146003,"accept_rate":99,"display_name":"Atmocreations"},"score":4,"creation_date":1252674744,"post_id":1410741,"comment_id":1252950,"body_markdown":"i can understand the question for other commands, but for cat: why the hell don&#39;t you just read in the file?","body":"i can understand the question for other commands, but for cat: why the hell don&#39;t you just read in the file?"},{"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"score":10,"creation_date":1252680785,"post_id":1410741,"comment_id":1253600,"body_markdown":"Everyone gets this wrong first time - Java&#39;s exec() does not use the underlying system&#39;s shell to execute the command (as kts points out).  The redirection and piping are features of a real shell and are not available from Java&#39;s exec().","body":"Everyone gets this wrong first time - Java&#39;s exec() does not use the underlying system&#39;s shell to execute the command (as kts points out).  The redirection and piping are features of a real shell and are not available from Java&#39;s exec()."},{"owner":{"account_id":54601,"reputation":39081,"user_id":163394,"accept_rate":86,"display_name":"Narek"},"score":0,"creation_date":1252869550,"post_id":1410741,"comment_id":1261709,"body_markdown":"stevendick: Thank you very much, I was getting problems because of redirection and piping!","body":"stevendick: Thank you very much, I was getting problems because of redirection and piping!"},{"owner":{"display_name":"user2347760"},"score":0,"creation_date":1367600380,"post_id":1410741,"comment_id":23449852,"body_markdown":"System.exit(0) is not inside conditional checking if process is done, so it will always exit without outputting errors. Never write conditionals without braces, to avoid exactly this sort of mistake.","body":"System.exit(0) is not inside conditional checking if process is done, so it will always exit without outputting errors. Never write conditionals without braces, to avoid exactly this sort of mistake."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1367605404,"post_id":1410741,"comment_id":23449853,"body_markdown":"This is not an answer to this question.","body":"This is not an answer to this question."},{"owner":{"account_id":1090797,"reputation":8695,"user_id":1085483,"accept_rate":83,"display_name":"Rui Marques"},"score":0,"creation_date":1406213125,"post_id":1410741,"comment_id":38751535,"body_markdown":"Check here for Runtime exec Pitfalls: http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html","body":"Check here for Runtime exec Pitfalls: <a href=\"http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">javaworld.com/article/2071275/core-java/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"score":0,"creation_date":1252683971,"post_id":1410778,"comment_id":1253931,"body_markdown":"@Narek. Sorry about that. I fixed it by removing the extra \\&quot; &#39;s Apparently they aren&#39;t needed. I don&#39;t have csh on my system, but it works with bash.","body":"@Narek. Sorry about that. I fixed it by removing the extra \\&quot; &#39;s Apparently they aren&#39;t needed. I don&#39;t have csh on my system, but it works with bash."},{"owner":{"account_id":54601,"reputation":39081,"user_id":163394,"accept_rate":86,"display_name":"Narek"},"score":3,"creation_date":1253165610,"post_id":1410778,"comment_id":1281797,"body_markdown":"As others has mentioned this should be independent wether you have csh or bash, isn&#39;t it?","body":"As others has mentioned this should be independent wether you have csh or bash, isn&#39;t it?"},{"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"score":0,"creation_date":1253191093,"post_id":1410778,"comment_id":1283587,"body_markdown":"@Narek. It should, but I don;&#39;t know how csh handles arguments.","body":"@Narek. It should, but I don;&#39;t know how csh handles arguments."},{"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"score":0,"creation_date":1310477419,"post_id":1410778,"comment_id":7880002,"body_markdown":"@Stephan Actually it does if you remember to escape them correctly =/","body":"@Stephan Actually it does if you remember to escape them correctly =/"},{"owner":{"account_id":243984,"reputation":5184,"user_id":516512,"accept_rate":84,"display_name":"Farshid"},"score":1,"creation_date":1338635528,"post_id":1410778,"comment_id":14149696,"body_markdown":"Thank you. This worked. Actually I used &quot;sh&quot; instead of &quot;csh&quot;.","body":"Thank you. This worked. Actually I used &quot;sh&quot; instead of &quot;csh&quot;."},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":9,"creation_date":1418287618,"post_id":1410778,"comment_id":43280333,"body_markdown":"**Warning: this solution will very likely run into the typical problem of it hanging because you didn&#39;t read its output and error streams.** For example: http://stackoverflow.com/questions/8595748/java-runtime-exec","body":"<b>Warning: this solution will very likely run into the typical problem of it hanging because you didn&#39;t read its output and error streams.</b> For example: <a href=\"http://stackoverflow.com/questions/8595748/java-runtime-exec\">stackoverflow.com/questions/8595748/java-runtime-exec</a>"}],"tags":[],"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"comment_count":6,"down_vote_count":2,"up_vote_count":110,"is_accepted":true,"score":108,"last_activity_date":1252683905,"creation_date":1252674735,"answer_id":1410778,"question_id":1410741,"body_markdown":"exec does not execute a command in your shell\r\n\r\ntry\r\n\r\n    Process p = Runtime.getRuntime().exec(new String[]{&quot;csh&quot;,&quot;-c&quot;,&quot;cat /home/narek/pk.txt&quot;});\r\n\r\ninstead.\r\n\r\nEDIT::\r\nI don&#39;t have csh on my system so I used bash instead. The following worked for me\r\n\r\n\tProcess p = Runtime.getRuntime().exec(new String[]{&quot;bash&quot;,&quot;-c&quot;,&quot;ls /home/XXX&quot;});\r\n\r\n","title":"How to invoke a Linux shell command from Java","body":"<p>exec does not execute a command in your shell</p>\n\n<p>try</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\"csh\",\"-c\",\"cat /home/narek/pk.txt\"});\n</code></pre>\n\n<p>instead.</p>\n\n<p>EDIT::\nI don't have csh on my system so I used bash instead. The following worked for me</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\"bash\",\"-c\",\"ls /home/XXX\"});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":146357,"reputation":15123,"user_id":356759,"accept_rate":58,"display_name":"Stephan Kristyn"},"score":0,"creation_date":1310256215,"post_id":1410779,"comment_id":7842142,"body_markdown":"Even after java.util.*; is properly imported I can&#39;t get above example to run.","body":"Even after java.util.*; is properly imported I can&#39;t get above example to run."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1310379416,"post_id":1410779,"comment_id":7856697,"body_markdown":"@Stephan I&#39;ve updated the example code above to remove the logging statements and variables that were declared outside the pasted code, and it should now compile &amp; run. Feel free to try and let me know how it works out.","body":"@Stephan I&#39;ve updated the example code above to remove the logging statements and variables that were declared outside the pasted code, and it should now compile &amp; run. Feel free to try and let me know how it works out."}],"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"comment_count":2,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1407226871,"creation_date":1252674736,"answer_id":1410779,"question_id":1410741,"body_markdown":"Use ProcessBuilder to separate commands and arguments instead of spaces. This should work regardless of shell used:\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStreamReader;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\t\r\n\tpublic class Test {\r\n\t\r\n\t\tpublic static void main(final String[] args) throws IOException, InterruptedException {\r\n\t\t\t//Build command \r\n\t\t\tList&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n\t\t\tcommands.add(&quot;/bin/cat&quot;);\r\n\t\t\t//Add arguments\r\n\t\t\tcommands.add(&quot;/home/narek/pk.txt&quot;);\r\n\t\t\tSystem.out.println(commands);\r\n\t\r\n\t\t\t//Run macro on target\r\n\t\t\tProcessBuilder pb = new ProcessBuilder(commands);\r\n\t\t\tpb.directory(new File(&quot;/home/narek&quot;));\r\n\t\t\tpb.redirectErrorStream(true);\r\n\t\t\tProcess process = pb.start();\r\n\t\r\n\t\t\t//Read output\r\n\t\t\tStringBuilder out = new StringBuilder();\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tString line = null, previous = null;\r\n\t\t\twhile ((line = br.readLine()) != null)\r\n\t\t\t\tif (!line.equals(previous)) {\r\n\t\t\t\t\tprevious = line;\r\n\t\t\t\t\tout.append(line).append(&#39;\\n&#39;);\r\n\t\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t//Check result\r\n\t\t\tif (process.waitFor() == 0) {\r\n\t\t\t\tSystem.out.println(&quot;Success!&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\r\n\t\t\t//Abnormal termination: Log command parameters and output and throw ExecutionException\r\n\t\t\tSystem.err.println(commands);\r\n\t\t\tSystem.err.println(out.toString());\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t}","title":"How to invoke a Linux shell command from Java","body":"<p>Use ProcessBuilder to separate commands and arguments instead of spaces. This should work regardless of shell used:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\n    public static void main(final String[] args) throws IOException, InterruptedException {\n        //Build command \n        List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n        commands.add(\"/bin/cat\");\n        //Add arguments\n        commands.add(\"/home/narek/pk.txt\");\n        System.out.println(commands);\n\n        //Run macro on target\n        ProcessBuilder pb = new ProcessBuilder(commands);\n        pb.directory(new File(\"/home/narek\"));\n        pb.redirectErrorStream(true);\n        Process process = pb.start();\n\n        //Read output\n        StringBuilder out = new StringBuilder();\n        BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line = null, previous = null;\n        while ((line = br.readLine()) != null)\n            if (!line.equals(previous)) {\n                previous = line;\n                out.append(line).append('\\n');\n                System.out.println(line);\n            }\n\n        //Check result\n        if (process.waitFor() == 0) {\n            System.out.println(\"Success!\");\n            System.exit(0);\n        }\n\n        //Abnormal termination: Log command parameters and output and throw ExecutionException\n        System.err.println(commands);\n        System.err.println(out.toString());\n        System.exit(1);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10200,"reputation":23824,"user_id":19163,"accept_rate":62,"display_name":"vog"},"score":0,"creation_date":1473834847,"post_id":27437171,"comment_id":66286190,"body_markdown":"You should ask your question as new StackOverflow question, not as part of your answer.","body":"You should ask your question as new StackOverflow question, not as part of your answer."},{"owner":{"account_id":4553039,"reputation":195,"user_id":3697584,"display_name":"TheMadsen"},"score":0,"creation_date":1530812314,"post_id":27437171,"comment_id":89375925,"body_markdown":"Works with two and four on OSX / Oracle java8. Seems there is a problem with your original java environment (which you do not mention the nature of)","body":"Works with two and four on OSX / Oracle java8. Seems there is a problem with your original java environment (which you do not mention the nature of)"}],"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1418375941,"creation_date":1418360598,"answer_id":27437171,"question_id":1410741,"body_markdown":"Building on @Tim&#39;s example to make a self-contained method:\r\n\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Shell {\r\n    \r\n        /** Returns null if it failed for some reason.\r\n         */\r\n        public static ArrayList&lt;String&gt; command(final String cmdline,\r\n        final String directory) {\r\n            try {\r\n                Process process = \r\n                    new ProcessBuilder(new String[] {&quot;bash&quot;, &quot;-c&quot;, cmdline})\r\n                        .redirectErrorStream(true)\r\n                        .directory(new File(directory))\r\n                        .start();\r\n    \r\n                ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n                BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(process.getInputStream()));\r\n                String line = null;\r\n                while ( (line = br.readLine()) != null )\r\n                    output.add(line);\r\n    \r\n                //There should really be a timeout here.\r\n                if (0 != process.waitFor())\r\n                    return null;\r\n    \r\n                return output;\r\n    \r\n            } catch (Exception e) {\r\n                //Warning: doing this is no good in high quality applications.\r\n                //Instead, present appropriate error messages to the user.\r\n                //But it&#39;s perfectly fine for prototyping.\r\n    \r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            test(&quot;which bash&quot;);\r\n    \r\n            test(&quot;find . -type f -printf &#39;%T@\\\\\\\\t%p\\\\\\\\n&#39; &quot;\r\n                + &quot;| sort -n | cut -f 2- | &quot;\r\n                + &quot;sed -e &#39;s/ /\\\\\\\\\\\\\\\\ /g&#39; | xargs ls -halt&quot;);\r\n            \r\n        }\r\n    \r\n        static void test(String cmdline) {\r\n            ArrayList&lt;String&gt; output = command(cmdline, &quot;.&quot;);\r\n            if (null == output)\r\n                System.out.println(&quot;\\n\\n\\t\\tCOMMAND FAILED: &quot; + cmdline);\r\n            else\r\n                for (String line : output)\r\n                    System.out.println(line);\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n(The test example is a [command that lists all files in a directory and its subdirectories, recursively, in chronological order][1].)\r\n\r\nBy the way, if somebody can tell me why I need four and eight backslashes there, instead of two and four, I can learn something. There is one more level of unescaping happening than what I am counting.\r\n\r\nEdit: Just tried this same code on Linux, and there it turns out that I need half as many backslashes in the test command! (That is: the expected number of two and four.) Now it&#39;s no longer just weird, it&#39;s a portability problem.\r\n\r\n\r\n  [1]: https://superuser.com/a/745424/141883","title":"How to invoke a Linux shell command from Java","body":"<p>Building on @Tim's example to make a self-contained method:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\n\npublic class Shell {\n\n    /** Returns null if it failed for some reason.\n     */\n    public static ArrayList&lt;String&gt; command(final String cmdline,\n    final String directory) {\n        try {\n            Process process = \n                new ProcessBuilder(new String[] {\"bash\", \"-c\", cmdline})\n                    .redirectErrorStream(true)\n                    .directory(new File(directory))\n                    .start();\n\n            ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\n            BufferedReader br = new BufferedReader(\n                new InputStreamReader(process.getInputStream()));\n            String line = null;\n            while ( (line = br.readLine()) != null )\n                output.add(line);\n\n            //There should really be a timeout here.\n            if (0 != process.waitFor())\n                return null;\n\n            return output;\n\n        } catch (Exception e) {\n            //Warning: doing this is no good in high quality applications.\n            //Instead, present appropriate error messages to the user.\n            //But it's perfectly fine for prototyping.\n\n            return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        test(\"which bash\");\n\n        test(\"find . -type f -printf '%T@\\\\\\\\t%p\\\\\\\\n' \"\n            + \"| sort -n | cut -f 2- | \"\n            + \"sed -e 's/ /\\\\\\\\\\\\\\\\ /g' | xargs ls -halt\");\n\n    }\n\n    static void test(String cmdline) {\n        ArrayList&lt;String&gt; output = command(cmdline, \".\");\n        if (null == output)\n            System.out.println(\"\\n\\n\\t\\tCOMMAND FAILED: \" + cmdline);\n        else\n            for (String line : output)\n                System.out.println(line);\n\n    }\n}\n</code></pre>\n\n<p>(The test example is a <a href=\"https://superuser.com/a/745424/141883\">command that lists all files in a directory and its subdirectories, recursively, in chronological order</a>.)</p>\n\n<p>By the way, if somebody can tell me why I need four and eight backslashes there, instead of two and four, I can learn something. There is one more level of unescaping happening than what I am counting.</p>\n\n<p>Edit: Just tried this same code on Linux, and there it turns out that I need half as many backslashes in the test command! (That is: the expected number of two and four.) Now it's no longer just weird, it's a portability problem.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693475620,"creation_date":1693475620,"answer_id":77014747,"question_id":1410741,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;shell&quot;, &quot;command&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .withCheck(false) // ignore the exit code (no exception if it&#39;s not zero)\r\n    .exec();\r\n```\r\n\r\nHere, `Jaxec` will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Obviously, behind the scene `Jaxec` uses `Runtime`.","title":"How to invoke a Linux shell command from Java","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;shell&quot;, &quot;command&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .withCheck(false) // ignore the exit code (no exception if it's not zero)\n    .exec();\n</code></pre>\n<p>Here, <code>Jaxec</code> will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Obviously, behind the scene <code>Jaxec</code> uses <code>Runtime</code>.</p>\n"}],"owner":{"account_id":54601,"reputation":39081,"user_id":163394,"accept_rate":86,"display_name":"Narek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186532,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":1410778,"answer_count":4,"score":104,"last_activity_date":1693475620,"creation_date":1252674319,"question_id":1410741,"body_markdown":"I am trying to execute some Linux commands from Java using redirection (&gt;&amp;) and pipes (|). How can Java invoke `csh` or `bash` commands?\r\n\r\nI tried to use this:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;shell command&quot;);\r\n\r\nBut it&#39;s not compatible with redirections or pipes.","title":"How to invoke a Linux shell command from Java","body":"<p>I am trying to execute some Linux commands from Java using redirection (>&amp;) and pipes (|). How can Java invoke <code>csh</code> or <code>bash</code> commands?</p>\n\n<p>I tried to use this:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"shell command\");\n</code></pre>\n\n<p>But it's not compatible with redirections or pipes.</p>\n"},{"tags":["java","hostname","fqdn"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1575614114,"post_id":59207901,"comment_id":104633248,"body_markdown":"`getHostName()` is an instance method of class `InetAddress`. How do you obtain an instance of `InetAddress` in order to invoke method `getHostName()`?","body":"<code>getHostName()</code> is an instance method of class <code>InetAddress</code>. How do you obtain an instance of <code>InetAddress</code> in order to invoke method <code>getHostName()</code>?"},{"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"score":0,"creation_date":1575615475,"post_id":59207901,"comment_id":104633746,"body_markdown":"@Abra I did ```inetAddress = InetAddress.getLocalHost();```","body":"@Abra I did <code>inetAddress = InetAddress.getLocalHost();</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1575616324,"post_id":59207901,"comment_id":104634002,"body_markdown":"An excerpt from the _javadoc_ for method `getLocalHost()`: _Returns the address of the local host. This is achieved by retrieving the name of the host from the system_ So I guess the value returned by method `getHostName()` depends on how the host name is defined in your operating system. On my Windows 10 machine, I get the value of the `COMPUTERNAME` environment variable.","body":"An excerpt from the <i>javadoc</i> for method <code>getLocalHost()</code>: <i>Returns the address of the local host. This is achieved by retrieving the name of the host from the system</i> So I guess the value returned by method <code>getHostName()</code> depends on how the host name is defined in your operating system. On my Windows 10 machine, I get the value of the <code>COMPUTERNAME</code> environment variable."},{"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"score":0,"creation_date":1575617570,"post_id":59207901,"comment_id":104634450,"body_markdown":"It is something related to OS but what is that configuration which decides at OS level?","body":"It is something related to OS but what is that configuration which decides at OS level?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1575618740,"post_id":59207901,"comment_id":104634909,"body_markdown":"Obviously, it depends on the OS.  Which OS are you asking about?","body":"Obviously, it depends on the OS.  Which OS are you asking about?"},{"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"score":0,"creation_date":1575620657,"post_id":59207901,"comment_id":104635600,"body_markdown":"@StephenC  I am looking it on RHEL.","body":"@StephenC  I am looking it on RHEL."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1575631857,"post_id":59207901,"comment_id":104640925,"body_markdown":"An Internet search provided: [Linux - Fully Qualified Domain Name (FQDN)](https://gerardnico.com/os/linux/fqdn)","body":"An Internet search provided: <a href=\"https://gerardnico.com/os/linux/fqdn\" rel=\"nofollow noreferrer\">Linux - Fully Qualified Domain Name (FQDN)</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1575838173,"creation_date":1575651896,"answer_id":59217450,"question_id":59207901,"body_markdown":"&gt; Why does java `getHostName` sometime gives the FQDN and sometimes not?\r\n\r\nShort answer: because it depends on information provided by the OS.\r\n\r\n--------------\r\n\r\nIn Java 11, the hostname returned by `InetAddress` is obtained by using the JVM&#39;s DNS resolver to perform a reverse lookup on the IP address.  \r\n\r\nThe default behavior for the JVM&#39;s DNS resolver is to delegate to the OS-provided local DNS resolver.  It is also possible to configure Java to use a simple builtin resolver that gets all name server data from a file; search the Java 9 release notes for the description of the &quot;jdk.net.hosts.file&quot; property.\r\n\r\n(Prior to Java 9, the implementation different but (AFAIK) the default behavior was to use the OS-provided name resolution.)\r\n\r\n-----------------\r\n\r\n&gt; I am looking at it on RHEL\r\n\r\n&lt;sup&gt;(This not really a &quot;programming&quot; question anymore, but here goes ...)&lt;/sup&gt;\r\n\r\nOn Linux the reverse lookup turns into a call to `getnameinfo(3)` which makes the resolver call; refer to the Linux manual entry for the full details.   The resolver behavior depends on the &quot;/etc/nsswitch.conf&quot; file: specifically the &quot;hosts&quot; line.  For example on my (Ubuntu) system it says:\r\n\r\n    hosts:  files mdns4_minimal [NOTFOUND=return] dns myhostname\r\n\r\nThis says to try the lookup in the following places:\r\n\r\n   1. &quot;files&quot; means the &quot;/etc/hosts&quot; file.\r\n   2. &quot;mdns4_minimal&quot; is a flavor of mDNS (multicast DNS) service; see https://askubuntu.com/a/853284/566610\r\n   3. &quot;dns&quot; is classical centralized DNS\r\n   4. &quot;myhostname&quot; is a fallback that uses the system information typically configured by the `hostname` command.\r\n\r\nSo, if I have added an entry for my host&#39;s IP address to my &quot;/etc/hosts&quot; file, then the first name in that entry will be what `getHostname` returns.  It could be a simple name or a FQDN, depending on what the file says.   Here&#39;s an example:\r\n\r\n    192.168.1.1    bogsnorkel.example.com bogsnorkel\r\n\r\n&lt;sup&gt;(With my nsswitch.conf settings as above, and if my primary IP was 192.168.1.1, `getHostname()` would return &quot;bogsnorkel.example.com&quot;.  But if the unqualified name &quot;bogsnorkel&quot; was first, it would return that instead.)&lt;/sup&gt;\r\n\r\nBut if there isn&#39;t an &quot;/etc/hosts&quot; entry, then next step will be to lookup in mDNS or else DNS.  If the IP has been registered with mDNS / DNS, then you should get an FQDN.\r\n\r\nFinally, the fallback will be whatever was set using `hostname`.\r\n\r\n--------------------\r\n\r\nStepping back: if you are looking for a way to ensure that your application always gets an FQDN from `inetAddress.getHostName()` irrespective of OS-level configurations, etc, you are probably out of luck:\r\n\r\n  -  It would be better to make your application *insensitive* to that.  \r\n  -  If that is not possible:\r\n     1. Have your application check that the hostname is acceptable on startup and &quot;bail out&quot; if it isn&#39;t.\r\n     2. Redirect the user to OS instructions for configuring an FQDN\r\n     3. Maybe ... provide an option or config parameter for the case where the (non-privileged) user cannot fix what the OS is returning.","title":"Why java getHostName gives the FQDN?","body":"<blockquote>\n  <p>Why does java <code>getHostName</code> sometime gives the FQDN and sometimes not?</p>\n</blockquote>\n\n<p>Short answer: because it depends on information provided by the OS.</p>\n\n<hr>\n\n<p>In Java 11, the hostname returned by <code>InetAddress</code> is obtained by using the JVM's DNS resolver to perform a reverse lookup on the IP address.  </p>\n\n<p>The default behavior for the JVM's DNS resolver is to delegate to the OS-provided local DNS resolver.  It is also possible to configure Java to use a simple builtin resolver that gets all name server data from a file; search the Java 9 release notes for the description of the \"jdk.net.hosts.file\" property.</p>\n\n<p>(Prior to Java 9, the implementation different but (AFAIK) the default behavior was to use the OS-provided name resolution.)</p>\n\n<hr>\n\n<blockquote>\n  <p>I am looking at it on RHEL</p>\n</blockquote>\n\n<p><sup>(This not really a \"programming\" question anymore, but here goes ...)</sup></p>\n\n<p>On Linux the reverse lookup turns into a call to <code>getnameinfo(3)</code> which makes the resolver call; refer to the Linux manual entry for the full details.   The resolver behavior depends on the \"/etc/nsswitch.conf\" file: specifically the \"hosts\" line.  For example on my (Ubuntu) system it says:</p>\n\n<pre><code>hosts:  files mdns4_minimal [NOTFOUND=return] dns myhostname\n</code></pre>\n\n<p>This says to try the lookup in the following places:</p>\n\n<ol>\n<li>\"files\" means the \"/etc/hosts\" file.</li>\n<li>\"mdns4_minimal\" is a flavor of mDNS (multicast DNS) service; see <a href=\"https://askubuntu.com/a/853284/566610\">https://askubuntu.com/a/853284/566610</a></li>\n<li>\"dns\" is classical centralized DNS</li>\n<li>\"myhostname\" is a fallback that uses the system information typically configured by the <code>hostname</code> command.</li>\n</ol>\n\n<p>So, if I have added an entry for my host's IP address to my \"/etc/hosts\" file, then the first name in that entry will be what <code>getHostname</code> returns.  It could be a simple name or a FQDN, depending on what the file says.   Here's an example:</p>\n\n<pre><code>192.168.1.1    bogsnorkel.example.com bogsnorkel\n</code></pre>\n\n<p><sup>(With my nsswitch.conf settings as above, and if my primary IP was 192.168.1.1, <code>getHostname()</code> would return \"bogsnorkel.example.com\".  But if the unqualified name \"bogsnorkel\" was first, it would return that instead.)</sup></p>\n\n<p>But if there isn't an \"/etc/hosts\" entry, then next step will be to lookup in mDNS or else DNS.  If the IP has been registered with mDNS / DNS, then you should get an FQDN.</p>\n\n<p>Finally, the fallback will be whatever was set using <code>hostname</code>.</p>\n\n<hr>\n\n<p>Stepping back: if you are looking for a way to ensure that your application always gets an FQDN from <code>inetAddress.getHostName()</code> irrespective of OS-level configurations, etc, you are probably out of luck:</p>\n\n<ul>\n<li>It would be better to make your application <em>insensitive</em> to that.  </li>\n<li>If that is not possible:\n\n<ol>\n<li>Have your application check that the hostname is acceptable on startup and \"bail out\" if it isn't.</li>\n<li>Redirect the user to OS instructions for configuring an FQDN</li>\n<li>Maybe ... provide an option or config parameter for the case where the (non-privileged) user cannot fix what the OS is returning.</li>\n</ol></li>\n</ul>\n"}],"owner":{"account_id":10369666,"reputation":932,"user_id":7647706,"display_name":"Nish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59217450,"answer_count":1,"score":1,"last_activity_date":1693475604,"creation_date":1575613261,"question_id":59207901,"body_markdown":"Why sometimes, Java ``` inetAddress.getHostName(); ``` gives the fully qualified domain name and sometimes only hostname without domain?\r\nIs there something which can be tweaked at system level to get either fqdn or hostname only by calling that method. I know ``` inetAddress.getCanonicalHostName() ``` is there, but I want to know if we can play around ```getHostName()```.","title":"Why java getHostName gives the FQDN?","body":"<p>Why sometimes, Java <code>inetAddress.getHostName();</code> gives the fully qualified domain name and sometimes only hostname without domain?\nIs there something which can be tweaked at system level to get either fqdn or hostname only by calling that method. I know <code>inetAddress.getCanonicalHostName()</code> is there, but I want to know if we can play around <code>getHostName()</code>.</p>\n"},{"tags":["java","linux","shell","ksh"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1599211694,"post_id":63738277,"comment_id":112710320,"body_markdown":"&quot;Will the script get executed on the Linux box properly&quot; does it work on your machine, for starters?","body":"&quot;Will the script get executed on the Linux box properly&quot; does it work on your machine, for starters?"},{"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"score":0,"creation_date":1599212783,"post_id":63738277,"comment_id":112710778,"body_markdown":"@FedericoklezCulloca - I am coding on Windows machine and opening a Notepad using below for testing purpose. ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);","body":"@FedericoklezCulloca - I am coding on Windows machine and opening a Notepad using below for testing purpose. ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);"},{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":0,"creation_date":1599213003,"post_id":63738277,"comment_id":112710875,"body_markdown":"Does this answer your question? [How to run Unix shell script from Java code?](https://stackoverflow.com/questions/525212/how-to-run-unix-shell-script-from-java-code)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/525212/how-to-run-unix-shell-script-from-java-code\">How to run Unix shell script from Java code?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1599214727,"post_id":63738277,"comment_id":112711628,"body_markdown":"@VinodKhade leaving aside the specific case, you should really test it on linux anyway. Don&#39;t guess compatibility. Also, don&#39;t expect `ksh` to be installed, it&#39;s not standard on any linux distro I can think of.","body":"@VinodKhade leaving aside the specific case, you should really test it on linux anyway. Don&#39;t guess compatibility. Also, don&#39;t expect <code>ksh</code> to be installed, it&#39;s not standard on any linux distro I can think of."},{"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"score":0,"creation_date":1599228832,"post_id":63738277,"comment_id":112718288,"body_markdown":"@FedericoklezCulloca - How do we handle for ksh ? Do we need to put all these in a list of String ? Like List&lt;String&gt; will contain &quot;ksh&quot; ,  &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; ,  &quot;param1&quot;  &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;","body":"@FedericoklezCulloca - How do we handle for ksh ? Do we need to put all these in a list of String ? Like List&lt;String&gt; will contain &quot;ksh&quot; ,  &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; ,  &quot;param1&quot;  &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1599231746,"post_id":63738277,"comment_id":112719840,"body_markdown":"`new ProcessBuilder(&quot;ksh&quot;, &quot;-c&quot;, &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;, etc...);` should do the trick, but, again, test it on an actual linux system (even wsl is fine).","body":"<code>new ProcessBuilder(&quot;ksh&quot;, &quot;-c&quot;, &quot;&#47;xyz&#47;abc&#47;data&#47;code_base&#47;RUN_SCRIPTS&#47;dev&#47;my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;, etc...);</code> should do the trick, but, again, test it on an actual linux system (even wsl is fine)."},{"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"score":0,"creation_date":1599237102,"post_id":63738277,"comment_id":112722377,"body_markdown":"@FedericoklezCulloca - Thank you so much...What is the use of &quot;-c&quot; ?.  Also is there a reference link which i could refer to get more understanding of this.","body":"@FedericoklezCulloca - Thank you so much...What is the use of &quot;-c&quot; ?.  Also is there a reference link which i could refer to get more understanding of this."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1599238568,"post_id":63738277,"comment_id":112722969,"body_markdown":"`-c` is for &quot;command&quot;. It&#39;s a thing for ksh, not for `ProcessBuilder`. Here&#39;s the doc for [`ProcessBuilder`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html#start()) and here&#39;s the manual page for [`ksh`](https://linux.die.net/man/1/ksh).","body":"<code>-c</code> is for &quot;command&quot;. It&#39;s a thing for ksh, not for <code>ProcessBuilder</code>. Here&#39;s the doc for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html#start()\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a> and here&#39;s the manual page for <a href=\"https://linux.die.net/man/1/ksh\" rel=\"nofollow noreferrer\"><code>ksh</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":9697312,"reputation":51,"user_id":7193334,"display_name":"Difettoso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599212215,"creation_date":1599212215,"answer_id":63738591,"question_id":63738277,"body_markdown":"Take a look at this Runtime.getRunTime().exec","title":"How to execute a shell script in Java","body":"<p>Take a look at this Runtime.getRunTime().exec</p>\n"},{"tags":[],"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599213073,"creation_date":1599213073,"answer_id":63738802,"question_id":63738277,"body_markdown":"You _should_ be able to use `Runtime.exec()` or `ProcessBuilder` to invoke a shell to run a script, but the whole process is full of pitfalls. \r\n\r\nI would suggest reading this article:\r\n\r\nhttps://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html\r\n\r\nwhich explains many of these pitfalls, and how to avoid them. In particular, on Linux you&#39;ll almost certainly need to consume stdout and stderr from your shell invocation -- that&#39;s sometimes true even if the script doesn&#39;t produce any output. You&#39;ll also need to be careful how you handle spaces and special characters -- if there are any -- in the arguments to your script. The parser that Java uses for the command line blindly breaks a command line at whitespace.","title":"How to execute a shell script in Java","body":"<p>You <em>should</em> be able to use <code>Runtime.exec()</code> or <code>ProcessBuilder</code> to invoke a shell to run a script, but the whole process is full of pitfalls.</p>\n<p>I would suggest reading this article:</p>\n<p><a href=\"https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">https://www.infoworld.com/article/2071275/when-runtime-exec---won-t.html</a></p>\n<p>which explains many of these pitfalls, and how to avoid them. In particular, on Linux you'll almost certainly need to consume stdout and stderr from your shell invocation -- that's sometimes true even if the script doesn't produce any output. You'll also need to be careful how you handle spaces and special characters -- if there are any -- in the arguments to your script. The parser that Java uses for the command line blindly breaks a command line at whitespace.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693475558,"creation_date":1693475558,"answer_id":77014736,"question_id":63738277,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .exec();\r\n```\r\n\r\nThe instance of `Jaxec` class will not only execute your script, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Behind the scene, `Jaxec` uses `Runtime`.","title":"How to execute a shell script in Java","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;my_script.sh&quot;, &quot;param1&quot;, &quot;param2&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .exec();\n</code></pre>\n<p>The instance of <code>Jaxec</code> class will not only execute your script, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero. Behind the scene, <code>Jaxec</code> uses <code>Runtime</code>.</p>\n"}],"owner":{"account_id":19409417,"reputation":147,"user_id":14194109,"display_name":"VinodKhade"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693475558,"creation_date":1599210929,"question_id":63738277,"body_markdown":"I have to run a shell script from Java in a Linux box\r\nfor eg,\r\nBelow is the script path and all parameters needed by the script.\r\n\r\n    &quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;\r\n\r\nBelow is the code,\r\n\r\n    String script = &quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;;\r\n    ProcessBuilder processBuilder = new ProcessBuilder();\t\t\t\t\t\t\r\n    processBuilder.command(script);\r\n    processBuilder.redirectErrorStream(true);\r\n    //start() will be in try catch\r\n    process = processBuilder.start();\r\n    \r\n    int exitVal = process.waitFor();\r\n    \r\n    if(exitVal == 0){\r\n       //code\r\n    }\r\n\r\n\r\n**Do i need to pass the script as a List&lt;String&gt; by adding each as a separate String in the List ?**\r\n&quot;ksh&quot; , &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; , &quot;param1&quot; &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;\r\n\r\nOn my Windows machine, i am opening a Notepad as below and it works fine,\r\n\r\n    ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);\r\n    processBuilder.redirectErrorStream(true);\r\n    process = processBuilder.start();\r\n\r\nWill the script get executed on the Linux box properly or any more changes are required in the code ??\r\n\r\n\r\n\r\n","title":"How to execute a shell script in Java","body":"<p>I have to run a shell script from Java in a Linux box\nfor eg,\nBelow is the script path and all parameters needed by the script.</p>\n<pre><code>&quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;\n</code></pre>\n<p>Below is the code,</p>\n<pre><code>String script = &quot;ksh /xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh param1 param2 20200901 459 121&quot;;\nProcessBuilder processBuilder = new ProcessBuilder();                       \nprocessBuilder.command(script);\nprocessBuilder.redirectErrorStream(true);\n//start() will be in try catch\nprocess = processBuilder.start();\n\nint exitVal = process.waitFor();\n\nif(exitVal == 0){\n   //code\n}\n</code></pre>\n<p><strong>Do i need to pass the script as a List by adding each as a separate String in the List ?</strong>\n&quot;ksh&quot; , &quot;/xyz/abc/data/code_base/RUN_SCRIPTS/dev/my_script.sh&quot; , &quot;param1&quot; &quot;param2&quot; &quot;20200901&quot; &quot;459&quot; &quot;121&quot;</p>\n<p>On my Windows machine, i am opening a Notepad as below and it works fine,</p>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;Notepad.exe&quot;, &quot;C:/Dev/Test.txt&quot;);\nprocessBuilder.redirectErrorStream(true);\nprocess = processBuilder.start();\n</code></pre>\n<p>Will the script get executed on the Linux box properly or any more changes are required in the code ??</p>\n"},{"tags":["java","bash","shell"],"comments":[{"owner":{"account_id":534498,"reputation":856,"user_id":9493582,"display_name":"Arndt Jonasson"},"score":0,"creation_date":1522333469,"post_id":49558546,"comment_id":86124909,"body_markdown":"Add some `echo` commands to the bash script so you see how far it gets.","body":"Add some <code>echo</code> commands to the bash script so you see how far it gets."},{"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"score":0,"creation_date":1522333650,"post_id":49558546,"comment_id":86125029,"body_markdown":"@ArndtJonasson I tried that before and the echos are not displayed in the terminal.","body":"@ArndtJonasson I tried that before and the echos are not displayed in the terminal."},{"owner":{"account_id":10736746,"reputation":107,"user_id":7901186,"accept_rate":0,"display_name":"V3V"},"score":0,"creation_date":1522334585,"post_id":49558546,"comment_id":86125757,"body_markdown":"I use Runtime.getRuntime().exec to create processes, maybe that will help.  Also, the echos should be captured in the input stream of the process (see https://stackoverflow.com/questions/15801069/printing-a-java-inputstream-from-a-process?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa for how to print out the results)","body":"I use Runtime.getRuntime().exec to create processes, maybe that will help.  Also, the echos should be captured in the input stream of the process (see <a href=\"https://stackoverflow.com/questions/15801069/printing-a-java-inputstream-from-a-process?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"printing a java inputstream from a process\">stackoverflow.com/questions/15801069/&hellip;</a> for how to print out the results)"}],"answers":[{"comments":[{"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"score":0,"creation_date":1522335529,"post_id":49559008,"comment_id":86126459,"body_markdown":"But i guess this is why i used `p.waitFor() ;` because now process `A` will not start until process `B` is finished?","body":"But i guess this is why i used <code>p.waitFor() ;</code> because now process <code>A</code> will not start until process <code>B</code> is finished?"}],"tags":[],"owner":{"account_id":13249938,"reputation":1,"user_id":9567721,"display_name":"Joonsun Baek"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522334667,"creation_date":1522334667,"answer_id":49559008,"question_id":49558546,"body_markdown":"if you start a process like you wrote `Process p = pb.start();`\nit will make(we usually say fork) one more process from the java process.\n\n 1. for example, java is running as a process &#39;A&#39;\n 2. and if the process &#39;A&#39; starts another process &#39;B&#39;\n 3. then those are running at the same time.\n\n    (in your case, A is &#39;JAVA&#39; and B is &#39;Shell&#39;)\n\nso, it will be 2. and the 2 processes are running in the same time (parallely), so you will get two of those results at the same time.","title":"Run shell script from java code","body":"<p>if you start a process like you wrote <code>Process p = pb.start();</code>\nit will make(we usually say fork) one more process from the java process.</p>\n<ol>\n<li><p>for example, java is running as a process 'A'</p>\n</li>\n<li><p>and if the process 'A' starts another process 'B'</p>\n</li>\n<li><p>then those are running at the same time.</p>\n<p>(in your case, A is 'JAVA' and B is 'Shell')</p>\n</li>\n</ol>\n<p>so, it will be 2. and the 2 processes are running in the same time (parallely), so you will get two of those results at the same time.</p>\n"},{"comments":[{"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"score":0,"creation_date":1522335410,"post_id":49559031,"comment_id":86126371,"body_markdown":"I used this and now the echo statements are printed  but still i can&#39;t run the file `Client`!","body":"I used this and now the echo statements are printed  but still i can&#39;t run the file <code>Client</code>!"},{"owner":{"account_id":5551110,"reputation":542,"user_id":4404129,"accept_rate":100,"display_name":"Jeffin Manuel"},"score":0,"creation_date":1522336665,"post_id":49559031,"comment_id":86127198,"body_markdown":"@John123 I have made a minor edit which would enable you to also get the error result. I guess is, &quot;Client&quot; is not in the right location. Just do a &quot;pwd&quot; and make sure it is in the right path.","body":"@John123 I have made a minor edit which would enable you to also get the error result. I guess is, &quot;Client&quot; is not in the right location. Just do a &quot;pwd&quot; and make sure it is in the right path."},{"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"score":0,"creation_date":1522336932,"post_id":49559031,"comment_id":86127381,"body_markdown":"This is the output now:\n`I&#39;m main..\nbash started\nbash finished\nError: Could not find or load main class Client`\n\nThis is weird because as i said before if i run the client separately it works normally!","body":"This is the output now: <code>I&#39;m main.. bash started bash finished Error: Could not find or load main class Client</code>  This is weird because as i said before if i run the client separately it works normally!"}],"tags":[],"owner":{"account_id":5551110,"reputation":542,"user_id":4404129,"accept_rate":100,"display_name":"Jeffin Manuel"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1522336628,"creation_date":1522334732,"answer_id":49559031,"question_id":49558546,"body_markdown":"Another way of doing would be to use `Runtime.getRuntime()`. Something like this\r\n\r\n      public void executeScript() throws IOException, InterruptedException {\r\n        Process p = Runtime.getRuntime().exec(&quot;sh /root/Desktop/chat/script.sh&quot;);\r\n        p.waitFor();\r\n\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        BufferedReader errorReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n\r\n\r\n        String line = &quot;&quot;;\r\n        while ((line = reader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n\r\n        line = &quot;&quot;;\r\n        while ((line = errorReader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n    }","title":"Run shell script from java code","body":"<p>Another way of doing would be to use <code>Runtime.getRuntime()</code>. Something like this</p>\n\n<pre><code>  public void executeScript() throws IOException, InterruptedException {\n    Process p = Runtime.getRuntime().exec(\"sh /root/Desktop/chat/script.sh\");\n    p.waitFor();\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n    BufferedReader errorReader = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n\n\n    String line = \"\";\n    while ((line = reader.readLine()) != null) {\n        System.out.println(line);\n    }\n\n    line = \"\";\n    while ((line = errorReader.readLine()) != null) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"score":0,"creation_date":1522337400,"post_id":49559534,"comment_id":86127674,"body_markdown":"I added an `getErrorStream()` and i got this output in the file:\n`I&#39;m main.. bash started bash finished Error: Could not find or load main class Client`","body":"I added an <code>getErrorStream()</code> and i got this output in the file: <code>I&#39;m main.. bash started bash finished Error: Could not find or load main class Client</code>"},{"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"score":0,"creation_date":1522337868,"post_id":49559534,"comment_id":86127967,"body_markdown":"Your problem is with java class path. Inside the shell script set the class path before executing the java application.","body":"Your problem is with java class path. Inside the shell script set the class path before executing the java application."}],"tags":[],"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522336318,"creation_date":1522336318,"answer_id":49559534,"question_id":49558546,"body_markdown":"With the above test you can not guaranty that whether it is running or not. Because clearly you told that your are running a infinite loop inside your second java application. Now my advise would be to put some `System.out.println` statement inside that infinite loop and use below java code to execute your shell script. Here in the `output.txt` file you can see the output from your shell script as well as java program and you will know whether application executed successfully or not. Also put some `echo` statement inside your shell script as well.\r\n\r\n     String[] command ={&quot;/root/Desktop/chat/script.sh&quot;, &quot;command line param if any&quot;};\r\n\t\tProcessBuilder pb = new ProcessBuilder(command);\r\n\r\n\t    pb.redirectOutput(new File(&quot;/tmp/output.txt&quot;));\r\n\t    String result;\r\n\t    String overall=&quot;&quot;;\r\n\t    try {\r\n\t    \tProcess p = pb.start();\r\n\t        p.waitFor();\r\n\t        BufferedReader br = new BufferedReader(\r\n\t                new InputStreamReader(p.getInputStream()));\r\n\t            while ((result = br.readLine()) != null){\r\n\t                overall = overall + &quot;\\n&quot; + result;\r\n\t            }\r\n\t            p.destroy();\r\n\t            System.out.println(result);\r\n\r\n\t    } catch (Exception e) {\r\n\t        e.printStackTrace();\r\n\t    }","title":"Run shell script from java code","body":"<p>With the above test you can not guaranty that whether it is running or not. Because clearly you told that your are running a infinite loop inside your second java application. Now my advise would be to put some <code>System.out.println</code> statement inside that infinite loop and use below java code to execute your shell script. Here in the <code>output.txt</code> file you can see the output from your shell script as well as java program and you will know whether application executed successfully or not. Also put some <code>echo</code> statement inside your shell script as well.</p>\n\n<pre><code> String[] command ={\"/root/Desktop/chat/script.sh\", \"command line param if any\"};\n    ProcessBuilder pb = new ProcessBuilder(command);\n\n    pb.redirectOutput(new File(\"/tmp/output.txt\"));\n    String result;\n    String overall=\"\";\n    try {\n        Process p = pb.start();\n        p.waitFor();\n        BufferedReader br = new BufferedReader(\n                new InputStreamReader(p.getInputStream()));\n            while ((result = br.readLine()) != null){\n                overall = overall + \"\\n\" + result;\n            }\n            p.destroy();\n            System.out.println(result);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475462,"creation_date":1693475462,"answer_id":77014720,"question_id":49558546,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;script.sh&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .exec();\r\n```\r\n\r\n`Jaxec` class will not only execute the shell command, but will also send its output to Slf4j log, will wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.","title":"Run shell script from java code","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;script.sh&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .exec();\n</code></pre>\n<p><code>Jaxec</code> class will not only execute the shell command, but will also send its output to Slf4j log, will wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.</p>\n"}],"owner":{"account_id":7154371,"reputation":122,"user_id":5467365,"accept_rate":40,"display_name":"John123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49559031,"answer_count":4,"score":1,"last_activity_date":1693475462,"creation_date":1522333313,"question_id":49558546,"body_markdown":"I have a java app that runs a bash file and inside the bash file i have a code to run another java app and it doesn&#39;t seem to work.I come from c++ where this is a very easy task but i&#39;m not really experienced in java.\r\nSo, here&#39;s my code:\r\n\r\n    import java.io.IOException;\r\n    import java.net.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class start {\r\n    \r\n    public void executeScript(){\r\n    \ttry{\r\n    \t\tProcessBuilder pb = new ProcessBuilder(&quot;/root/Desktop/chat/script.sh&quot;);\r\n    \t\tProcess p = pb.start();\r\n    \t\tp.waitFor();\r\n    \t\tSystem.out.println(&quot;Script executed..&quot;);\r\n    \t}catch(Exception e){\r\n    \t\te.printStackTrace();\r\n    \t\t}\r\n    \t\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        start st = new start();\r\n        System.out.println(&quot;I&#39;m main..&quot;);\r\n    \tst.executeScript();\r\n    }\r\n    \r\n    }\r\n\r\nHere&#39;s my bash file:\r\n\r\n    #!/bin/bash\r\n    echo &quot;bash started&quot;\r\n    java Client ip_address\r\n    echo &quot;bash finished&quot;\r\n\r\nHere&#39;s the result of this code:\r\n\r\n&gt; I&#39;m main.. Script executed..\r\n\r\nI know &quot;Script executed..&quot; shouldn&#39;t print because the java file i&#39;m trying to run from the bash file is an infinite loop.\r\n\r\n**Note:** `If i run the bash file separately in the terminal i get an infinite loop which is the intended result and this is why i know that my mistake is from this file.`\r\n\r\nI hope I made myself clear and if not please ask for more information. Thank you.\r\n\r\n\r\n\r\n\r\n","title":"Run shell script from java code","body":"<p>I have a java app that runs a bash file and inside the bash file i have a code to run another java app and it doesn't seem to work.I come from c++ where this is a very easy task but i'm not really experienced in java.\nSo, here's my code:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.*;\nimport java.util.Scanner;\n\npublic class start {\n\npublic void executeScript(){\n    try{\n        ProcessBuilder pb = new ProcessBuilder(\"/root/Desktop/chat/script.sh\");\n        Process p = pb.start();\n        p.waitFor();\n        System.out.println(\"Script executed..\");\n    }catch(Exception e){\n        e.printStackTrace();\n        }\n\n}\n\npublic static void main(String[] args) {\n    start st = new start();\n    System.out.println(\"I'm main..\");\n    st.executeScript();\n}\n\n}\n</code></pre>\n\n<p>Here's my bash file:</p>\n\n<pre><code>#!/bin/bash\necho \"bash started\"\njava Client ip_address\necho \"bash finished\"\n</code></pre>\n\n<p>Here's the result of this code:</p>\n\n<blockquote>\n  <p>I'm main.. Script executed..</p>\n</blockquote>\n\n<p>I know \"Script executed..\" shouldn't print because the java file i'm trying to run from the bash file is an infinite loop.</p>\n\n<p><strong>Note:</strong> <code>If i run the bash file separately in the terminal i get an infinite loop which is the intended result and this is why i know that my mistake is from this file.</code></p>\n\n<p>I hope I made myself clear and if not please ask for more information. Thank you.</p>\n"},{"tags":["java","unix","shell"],"comments":[{"owner":{"account_id":60721,"reputation":1919,"user_id":181293,"accept_rate":67,"display_name":"ernesto"},"score":4,"creation_date":1397818645,"post_id":525212,"comment_id":35402782,"body_markdown":"Things get interesting if that shell script is interactive.","body":"Things get interesting if that shell script is interactive."},{"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"score":0,"creation_date":1463669824,"post_id":525212,"comment_id":62173009,"body_markdown":"what is myCommand variable is that String? if yes, then it will not work,  exec method requires String[] and argument, see below my answar, it works perfectly","body":"what is myCommand variable is that String? if yes, then it will not work,  exec method requires String[] and argument, see below my answar, it works perfectly"}],"answers":[{"comments":[{"owner":{"account_id":5036390,"reputation":173,"user_id":4045018,"accept_rate":100,"display_name":"v kumar"},"score":0,"creation_date":1455600383,"post_id":525218,"comment_id":58548508,"body_markdown":"I&#39;ve faced a similar situation where I need to rsync a few files on different servers when a certain condition occurs in my java code. Is there any other better way ?","body":"I&#39;ve faced a similar situation where I need to rsync a few files on different servers when a certain condition occurs in my java code. Is there any other better way ?"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":1,"creation_date":1529930754,"post_id":525218,"comment_id":89040055,"body_markdown":"@Chris Ballance...  I Know this comment is almost after 10 years:) but to answer your question , what if my program has to interact with half a dozen downstream and upstream channels and dependent on their accepted mode of communication.  Especially when you are working on a project which interacts with so many odd channels :)","body":"@Chris Ballance...  I Know this comment is almost after 10 years:) but to answer your question , what if my program has to interact with half a dozen downstream and upstream channels and dependent on their accepted mode of communication.  Especially when you are working on a project which interacts with so many odd channels :)"},{"owner":{"account_id":1169,"reputation":33942,"user_id":1551,"accept_rate":95,"display_name":"Chris Ballance"},"score":0,"creation_date":1530108249,"post_id":525218,"comment_id":89119576,"body_markdown":"Pushing the functionality out to a shell script would be a last-ditch effort if there&#39;s no other way to do the work in Java.  It will be necessarily complicated to coordinate state and dependencies if you&#39;re pushing the work out to a shell script.  Occasionally, a shell script is the only way or timeframe makes it the only reasonable way to accomplish a bit of work, so this is a way to do that.","body":"Pushing the functionality out to a shell script would be a last-ditch effort if there&#39;s no other way to do the work in Java.  It will be necessarily complicated to coordinate state and dependencies if you&#39;re pushing the work out to a shell script.  Occasionally, a shell script is the only way or timeframe makes it the only reasonable way to accomplish a bit of work, so this is a way to do that."},{"owner":{"account_id":1455541,"reputation":1052,"user_id":1371217,"accept_rate":80,"display_name":"Zoomzoom"},"score":0,"creation_date":1675347201,"post_id":525218,"comment_id":132912683,"body_markdown":"Another use case is debugging in production. What if there is some intermittent issue that cannot be reproduced, and you need to capture network stats whenever the issue occurs, for example. It has to be done programmatically from the main java app.","body":"Another use case is debugging in production. What if there is some intermittent issue that cannot be reproduced, and you need to capture network stats whenever the issue occurs, for example. It has to be done programmatically from the main java app."}],"tags":[],"owner":{"account_id":1169,"reputation":33942,"user_id":1551,"accept_rate":95,"display_name":"Chris Ballance"},"comment_count":4,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1234079813,"creation_date":1234071557,"answer_id":525218,"question_id":525212,"body_markdown":"I think you have answered your own question with\r\n\r\n    Runtime.getRuntime().exec(myShellScript);\r\n\r\nAs to whether it is good practice... what are you trying to do with a shell script that you cannot do with Java?\r\n","title":"How to run Unix shell script from Java code?","body":"<p>I think you have answered your own question with</p>\n\n<pre><code>Runtime.getRuntime().exec(myShellScript);\n</code></pre>\n\n<p>As to whether it is good practice... what are you trying to do with a shell script that you cannot do with Java?</p>\n"},{"comments":[{"owner":{"account_id":17260,"reputation":28385,"user_id":38426,"display_name":"BobbyShaftoe"},"score":46,"creation_date":1234072265,"post_id":525222,"comment_id":338481,"body_markdown":"Yes, but in many ways that &quot;spirit of Java&quot; or &quot;write once run everywhere&quot; mantra is a myth anyway.","body":"Yes, but in many ways that &quot;spirit of Java&quot; or &quot;write once run everywhere&quot; mantra is a myth anyway."},{"owner":{"account_id":11357,"reputation":6723,"user_id":2170994,"accept_rate":65,"display_name":"Brian Sweeney"},"score":17,"creation_date":1321558369,"post_id":525222,"comment_id":10037039,"body_markdown":"what&#39;s mythical about it is, that you usually end up writing numerous `switches` and `if` statements to get around all of the nuances that don&#39;t work exactly the same on different platforms despite the best efforts of the people who came up with the java core libraries.","body":"what&#39;s mythical about it is, that you usually end up writing numerous <code>switches</code> and <code>if</code> statements to get around all of the nuances that don&#39;t work exactly the same on different platforms despite the best efforts of the people who came up with the java core libraries."},{"owner":{"account_id":1157428,"reputation":7762,"user_id":1137672,"accept_rate":91,"display_name":"Anjan Biswas"},"score":3,"creation_date":1353538807,"post_id":525222,"comment_id":18481660,"body_markdown":"Surprisingly enough! I agree with all the comments above and the answer!","body":"Surprisingly enough! I agree with all the comments above and the answer!"},{"owner":{"account_id":42441,"reputation":2772,"user_id":123642,"accept_rate":40,"display_name":"kolen"},"score":1,"creation_date":1438683269,"post_id":525222,"comment_id":51538842,"body_markdown":"Spirit of Java is to invent xml-based shell replacement instead of running shell script.","body":"Spirit of Java is to invent xml-based shell replacement instead of running shell script."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":12,"creation_date":1472663465,"post_id":525222,"comment_id":65846409,"body_markdown":"@BobbyShaftoe I have been writing java for 16 years, and always developed on windows, all my apps always deployed on solaris/ibm or oracle flavored unix boxes, so I have no idea what you are talking about","body":"@BobbyShaftoe I have been writing java for 16 years, and always developed on windows, all my apps always deployed on solaris/ibm or oracle flavored unix boxes, so I have no idea what you are talking about"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":4,"creation_date":1516006452,"post_id":525222,"comment_id":83501829,"body_markdown":"@KalpeshSoni that is the reason; you always have a fixed target deploy platform; case is different when you have to deploy to Windows, Linux, Mac and Solaris simultaneously.","body":"@KalpeshSoni that is the reason; you always have a fixed target deploy platform; case is different when you have to deploy to Windows, Linux, Mac and Solaris simultaneously."}],"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"comment_count":6,"down_vote_count":11,"up_vote_count":33,"is_accepted":false,"score":22,"last_activity_date":1341929078,"creation_date":1234071683,"answer_id":525222,"question_id":525212,"body_markdown":"I would say that it is not *in the spirit of Java* to run a shell script from Java. Java is meant to be cross platform, and running a shell script would limit its use to just UNIX.\r\n\r\nWith that said, it&#39;s definitely possible to run a shell script from within Java. You&#39;d use exactly the same syntax you listed (I haven&#39;t tried it myself, but try executing the shell script directly, and if that doesn&#39;t work, execute the shell itself, passing the script in as a command line parameter).","title":"How to run Unix shell script from Java code?","body":"<p>I would say that it is not <em>in the spirit of Java</em> to run a shell script from Java. Java is meant to be cross platform, and running a shell script would limit its use to just UNIX.</p>\n\n<p>With that said, it's definitely possible to run a shell script from within Java. You'd use exactly the same syntax you listed (I haven't tried it myself, but try executing the shell script directly, and if that doesn't work, execute the shell itself, passing the script in as a command line parameter).</p>\n"},{"tags":[],"owner":{"account_id":15008,"reputation":27992,"user_id":31288,"accept_rate":88,"display_name":"Kekoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234079364,"creation_date":1234079364,"answer_id":525359,"question_id":525212,"body_markdown":"It is possible, just exec it as any other program.  Just make sure your script has the proper #! (she-bang) line as the first line of the script, and make sure there are execute permissions on the file.\r\n\r\nFor example, if it is a bash script put #!/bin/bash at the top of the script, also chmod +x &lt;file&gt; .\r\n\r\nAlso as for if it&#39;s good practice, no it&#39;s not, especially for Java, but if it saves you a lot of time porting a large script over, and you&#39;re not getting paid extra to do it ;) save your time, exec the script, and put the porting to Java on your long-term todo list.","title":"How to run Unix shell script from Java code?","body":"<p>It is possible, just exec it as any other program.  Just make sure your script has the proper #! (she-bang) line as the first line of the script, and make sure there are execute permissions on the file.</p>\n\n<p>For example, if it is a bash script put #!/bin/bash at the top of the script, also chmod +x  .</p>\n\n<p>Also as for if it's good practice, no it's not, especially for Java, but if it saves you a lot of time porting a large script over, and you're not getting paid extra to do it ;) save your time, exec the script, and put the porting to Java on your long-term todo list.</p>\n"},{"comments":[{"owner":{"account_id":8588257,"reputation":355,"user_id":6433590,"display_name":"kautuksahni"},"score":3,"creation_date":1505714375,"post_id":526287,"comment_id":79507312,"body_markdown":"Is it good practice to call scripts from JAVA? Any performance issues?","body":"Is it good practice to call scripts from JAVA? Any performance issues?"},{"owner":{"account_id":218810,"reputation":2309,"user_id":475329,"accept_rate":85,"display_name":"Ben Holland"},"score":1,"creation_date":1519700452,"post_id":526287,"comment_id":85006004,"body_markdown":"Note that that you may need to specify the program /bin/bash or sh to execute the script within depending on Java&#39;s configuration (see https://stackoverflow.com/questions/25647806/running-shell-script-from-external-directory-no-such-file-or-directory)","body":"Note that that you may need to specify the program /bin/bash or sh to execute the script within depending on Java&#39;s configuration (see <a href=\"https://stackoverflow.com/questions/25647806/running-shell-script-from-external-directory-no-such-file-or-directory\" title=\"running shell script from external directory no such file or directory\">stackoverflow.com/questions/25647806/&hellip;</a>)"},{"owner":{"account_id":184474,"reputation":727,"user_id":420544,"accept_rate":62,"display_name":"Harman"},"score":0,"creation_date":1573381671,"post_id":526287,"comment_id":103857686,"body_markdown":"@Milhous I know this is quite late and things might have changed but per current Java Process documentation this is not recommended method for shell scripts: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\n\n\n&quot;The methods that create processes may not work well for special processes on certain native platforms, such as native windowing processes, daemon processes, Win16/DOS processes on Microsoft Windows, or shell scripts.&quot;","body":"@Milhous I know this is quite late and things might have changed but per current Java Process documentation this is not recommended method for shell scripts: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Process.html</a>   &quot;The methods that create processes may not work well for special processes on certain native platforms, such as native windowing processes, daemon processes, Win16/DOS processes on Microsoft Windows, or shell scripts.&quot;"}],"tags":[],"owner":{"account_id":9557,"reputation":14503,"user_id":17712,"accept_rate":67,"display_name":"Milhous"},"comment_count":3,"down_vote_count":1,"up_vote_count":187,"is_accepted":false,"score":186,"last_activity_date":1348012611,"creation_date":1234124288,"answer_id":526287,"question_id":525212,"body_markdown":"You should really look at [Process Builder][1].  It is really built for this kind of thing.\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;myshellScript.sh&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\r\n     Map&lt;String, String&gt; env = pb.environment();\r\n     env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\r\n     env.remove(&quot;OTHERVAR&quot;);\r\n     env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\r\n     pb.directory(new File(&quot;myDir&quot;));\r\n     Process p = pb.start();\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html","title":"How to run Unix shell script from Java code?","body":"<p>You should really look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\">Process Builder</a>.  It is really built for this kind of thing.</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"myshellScript.sh\", \"myArg1\", \"myArg2\");\n Map&lt;String, String&gt; env = pb.environment();\n env.put(\"VAR1\", \"myValue\");\n env.remove(\"OTHERVAR\");\n env.put(\"VAR2\", env.get(\"VAR1\") + \"suffix\");\n pb.directory(new File(\"myDir\"));\n Process p = pb.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":561826,"reputation":1,"user_id":187507,"display_name":"Saul"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1320860722,"creation_date":1255136374,"answer_id":1546727,"question_id":525212,"body_markdown":"Just the same thing that Solaris 5.10 it works like this `./batchstart.sh` there is a trick I don&#180;t know if your OS accept it use `\\\\. batchstart.sh` instead. This double slash may help.","title":"How to run Unix shell script from Java code?","body":"<p>Just the same thing that Solaris 5.10 it works like this <code>./batchstart.sh</code> there is a trick I don´t know if your OS accept it use <code>\\\\. batchstart.sh</code> instead. This double slash may help.</p>\n"},{"tags":[],"owner":{"account_id":1438842,"reputation":433,"user_id":1359592,"display_name":"Vladimir Bosyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392375877,"creation_date":1341913643,"answer_id":11410652,"question_id":525212,"body_markdown":"As for me all things must be simple. \r\nFor running script just need to execute\r\n\r\n    new ProcessBuilder(&quot;pathToYourShellScript&quot;).start();\r\n\r\n","title":"How to run Unix shell script from Java code?","body":"<p>As for me all things must be simple. \nFor running script just need to execute</p>\n\n<pre><code>new ProcessBuilder(\"pathToYourShellScript\").start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920030,"reputation":23840,"user_id":1731796,"accept_rate":52,"display_name":"Desta Haileselassie Hagos"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1362407157,"creation_date":1362407157,"answer_id":15203793,"question_id":525212,"body_markdown":"Yes it is possible to do so. This worked out for me.\r\n\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import org.omg.CORBA.portable.InputStream;\r\n    \r\n    public static void readBashScript() {\r\n    \t\ttry {\r\n    \t\t\tProcess proc = Runtime.getRuntime().exec(&quot;/home/destino/workspace/JavaProject/listing.sh /&quot;); //Whatever you want to execute\r\n    \t\t\tBufferedReader read = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\tproc.getInputStream()));\r\n    \t\t\ttry {\r\n    \t\t\t\tproc.waitFor();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t}\r\n    \t\t\twhile (read.ready()) {\r\n    \t\t\t\tSystem.out.println(read.readLine());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}","title":"How to run Unix shell script from Java code?","body":"<p>Yes it is possible to do so. This worked out for me.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nimport org.omg.CORBA.portable.InputStream;\n\npublic static void readBashScript() {\n        try {\n            Process proc = Runtime.getRuntime().exec(\"/home/destino/workspace/JavaProject/listing.sh /\"); //Whatever you want to execute\n            BufferedReader read = new BufferedReader(new InputStreamReader(\n                    proc.getInputStream()));\n            try {\n                proc.waitFor();\n            } catch (InterruptedException e) {\n                System.out.println(e.getMessage());\n            }\n            while (read.ready()) {\n                System.out.println(read.readLine());\n            }\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":958802,"reputation":357,"user_id":983592,"display_name":"DayaMoon"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1370857173,"creation_date":1370857173,"answer_id":17020905,"question_id":525212,"body_markdown":"I think with\r\n\r\n    System.getProperty(&quot;os.name&quot;); \r\n\r\nChecking the operating system on can manage the shell/bash scrips  if such are supported.\r\nif there is need to make the code portable.","title":"How to run Unix shell script from Java code?","body":"<p>I think with</p>\n\n<pre><code>System.getProperty(\"os.name\"); \n</code></pre>\n\n<p>Checking the operating system on can manage the shell/bash scrips  if such are supported.\nif there is need to make the code portable.</p>\n"},{"comments":[{"owner":{"account_id":362870,"reputation":5928,"user_id":706295,"accept_rate":66,"display_name":"AKB"},"score":0,"creation_date":1396634506,"post_id":21793314,"comment_id":34893254,"body_markdown":"Can I run this in Windows?","body":"Can I run this in Windows?"},{"owner":{"account_id":3234610,"reputation":498,"user_id":3041275,"accept_rate":69,"display_name":"Kranthi Sama"},"score":0,"creation_date":1436432962,"post_id":21793314,"comment_id":50613818,"body_markdown":"@KisHanSarsecHaGajjar can we also capture the output from shellscript and display it in the java ui. I want to know is it possible to do so","body":"@KisHanSarsecHaGajjar can we also capture the output from shellscript and display it in the java ui. I want to know is it possible to do so"},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":0,"creation_date":1444723113,"post_id":21793314,"comment_id":54009846,"body_markdown":"@KranthiSama You can set `OutputStream` for `DefaultExecuter` using `DefaultExecuter.setStreamHandler` method to capture output in `OutputStream`. Please refer this thread for more info : [How can I capture the output of a command...](http://stackoverflow.com/a/6295923/1686291)","body":"@KranthiSama You can set <code>OutputStream</code> for <code>DefaultExecuter</code> using <code>DefaultExecuter.setStreamHandler</code> method to capture output in <code>OutputStream</code>. Please refer this thread for more info : <a href=\"http://stackoverflow.com/a/6295923/1686291\">How can I capture the output of a command...</a>"},{"owner":{"account_id":13962,"reputation":985,"user_id":28321,"display_name":"aunlead"},"score":1,"creation_date":1458322534,"post_id":21793314,"comment_id":59825902,"body_markdown":"Link to add Apache Commons Exec library dependency to your project - https://commons.apache.org/proper/commons-exec/dependency-info.html","body":"Link to add Apache Commons Exec library dependency to your project - <a href=\"https://commons.apache.org/proper/commons-exec/dependency-info.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-exec/dependency-info.html</a>"},{"owner":{"account_id":3235148,"reputation":378,"user_id":2729551,"accept_rate":50,"display_name":"Dev"},"score":2,"creation_date":1522063500,"post_id":21793314,"comment_id":85983473,"body_markdown":"the best solution.","body":"the best solution."}],"tags":[],"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1453445193,"creation_date":1392437725,"answer_id":21793314,"question_id":525212,"body_markdown":"You can use [Apache Commons exec library][2] also.\r\n\r\nExample :\r\n\r\n    package testShellScript;\r\n    \r\n    import java.io.IOException;\r\n    import org.apache.commons.exec.CommandLine;\r\n    import org.apache.commons.exec.DefaultExecutor;\r\n    import org.apache.commons.exec.ExecuteException;\r\n    \r\n    public class TestScript {\r\n    \tint iExitValue;\r\n    \tString sCommandString;\r\n    \t\r\n    \tpublic void runScript(String command){\r\n    \t\tsCommandString = command;\r\n    \t\tCommandLine oCmdLine = CommandLine.parse(sCommandString);\r\n    \t\tDefaultExecutor oDefaultExecutor = new DefaultExecutor();\r\n    \t\toDefaultExecutor.setExitValue(0);\r\n    \t\ttry {\r\n    \t\t\tiExitValue = oDefaultExecutor.execute(oCmdLine);\r\n    \t\t} catch (ExecuteException e) {\r\n    \t\t\tSystem.err.println(&quot;Execution failed.&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(&quot;permission denied.&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\tTestScript testScript = new TestScript();\r\n    \t\ttestScript.runScript(&quot;sh /root/Desktop/testScript.sh&quot;);\r\n    \t}\r\n    }\r\n\r\nFor further reference, An example is given on [Apache Doc][3] also.\r\n\r\n  [2]: https://commons.apache.org/proper/commons-exec/\r\n  [3]: https://commons.apache.org/proper/commons-exec/commandline.html","title":"How to run Unix shell script from Java code?","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-exec/\">Apache Commons exec library</a> also.</p>\n\n<p>Example :</p>\n\n<pre><code>package testShellScript;\n\nimport java.io.IOException;\nimport org.apache.commons.exec.CommandLine;\nimport org.apache.commons.exec.DefaultExecutor;\nimport org.apache.commons.exec.ExecuteException;\n\npublic class TestScript {\n    int iExitValue;\n    String sCommandString;\n\n    public void runScript(String command){\n        sCommandString = command;\n        CommandLine oCmdLine = CommandLine.parse(sCommandString);\n        DefaultExecutor oDefaultExecutor = new DefaultExecutor();\n        oDefaultExecutor.setExitValue(0);\n        try {\n            iExitValue = oDefaultExecutor.execute(oCmdLine);\n        } catch (ExecuteException e) {\n            System.err.println(\"Execution failed.\");\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.err.println(\"permission denied.\");\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String args[]){\n        TestScript testScript = new TestScript();\n        testScript.runScript(\"sh /root/Desktop/testScript.sh\");\n    }\n}\n</code></pre>\n\n<p>For further reference, An example is given on <a href=\"https://commons.apache.org/proper/commons-exec/commandline.html\">Apache Doc</a> also.</p>\n"},{"tags":[],"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463669856,"creation_date":1463669856,"answer_id":37327025,"question_id":525212,"body_markdown":"\t  String scriptName = PATH+&quot;/myScript.sh&quot;;\r\n\t  String commands[] = new String[]{scriptName,&quot;myArg1&quot;, &quot;myArg2&quot;};\r\n\t  \r\n\t  Runtime rt = Runtime.getRuntime();\r\n\t  Process process = null;\r\n\t  try{\r\n\t\t  process = rt.exec(commands);\r\n\t\t  process.waitFor();\r\n\t  }catch(Exception e){\r\n\t\t  e.printStackTrace();\r\n\t  }\t ","title":"How to run Unix shell script from Java code?","body":"<pre><code>  String scriptName = PATH+\"/myScript.sh\";\n  String commands[] = new String[]{scriptName,\"myArg1\", \"myArg2\"};\n\n  Runtime rt = Runtime.getRuntime();\n  Process process = null;\n  try{\n      process = rt.exec(commands);\n      process.waitFor();\n  }catch(Exception e){\n      e.printStackTrace();\n  }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8582064,"reputation":101,"user_id":6429357,"display_name":"Lionel Yan"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1577973645,"creation_date":1469599747,"answer_id":38604984,"question_id":525212,"body_markdown":"Here is my example. Hope it make sense.\r\n\r\n    public static void excuteCommand(String filePath) throws IOException{\r\n        File file = new File(filePath);\r\n        if(!file.isFile()){\r\n            throw new IllegalArgumentException(&quot;The file &quot; + filePath + &quot; does not exist&quot;);\r\n        }\r\n        if(isLinux()){\r\n            Runtime.getRuntime().exec(new String[] {&quot;/bin/sh&quot;, &quot;-c&quot;, filePath}, null);\r\n        }else if(isWindows()){\r\n            Runtime.getRuntime().exec(&quot;cmd /c start &quot; + filePath);\r\n        }\r\n    }\r\n    public static boolean isLinux(){\r\n        String os = System.getProperty(&quot;os.name&quot;);  \r\n        return os.toLowerCase().indexOf(&quot;linux&quot;) &gt;= 0;\r\n    }\r\n\r\n    public static boolean isWindows(){\r\n        String os = System.getProperty(&quot;os.name&quot;);\r\n        return os.toLowerCase().indexOf(&quot;windows&quot;) &gt;= 0;\r\n    }\r\n","title":"How to run Unix shell script from Java code?","body":"<p>Here is my example. Hope it make sense.</p>\n\n<pre><code>public static void excuteCommand(String filePath) throws IOException{\n    File file = new File(filePath);\n    if(!file.isFile()){\n        throw new IllegalArgumentException(\"The file \" + filePath + \" does not exist\");\n    }\n    if(isLinux()){\n        Runtime.getRuntime().exec(new String[] {\"/bin/sh\", \"-c\", filePath}, null);\n    }else if(isWindows()){\n        Runtime.getRuntime().exec(\"cmd /c start \" + filePath);\n    }\n}\npublic static boolean isLinux(){\n    String os = System.getProperty(\"os.name\");  \n    return os.toLowerCase().indexOf(\"linux\") &gt;= 0;\n}\n\npublic static boolean isWindows(){\n    String os = System.getProperty(\"os.name\");\n    return os.toLowerCase().indexOf(\"windows\") &gt;= 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495188964,"creation_date":1469889267,"answer_id":38675063,"question_id":525212,"body_markdown":"The [ZT Process Executor][page] library is an alternative to Apache Commons Exec. It has functionality to run commands, capturing their output, setting timeouts, etc.\r\n\r\nI have not used it yet, but it looks reasonably well-documented.\r\n\r\nAn example from the documentation: Executing a command, pumping the stderr to a logger, returning the output as UTF8 string.\r\n\r\n     String output = new ProcessExecutor().command(&quot;java&quot;, &quot;-version&quot;)\r\n        .redirectError(Slf4jStream.of(getClass()).asInfo())\r\n        .readOutput(true).execute()\r\n        .outputUTF8();\r\n\r\nIts documentation lists the following advantages over Commons Exec:\r\n\r\n* Improved handling of streams\r\n * Reading/writing to streams\r\n * Redirecting stderr to stdout\r\n* Improved handling of timeouts\r\n* Improved checking of exit codes\r\n* Improved API\r\n * One liners for quite complex use cases\r\n * One liners to get process output into a String\r\n * Access to the **Process** object available\r\n * Support for async processes ( **Future** ) \r\n* Improved logging with [SLF4J API](http://www.slf4j.org/)\r\n* Support for multiple processes\r\n\r\n\r\n[page]: https://github.com/zeroturnaround/zt-exec","title":"How to run Unix shell script from Java code?","body":"<p>The <a href=\"https://github.com/zeroturnaround/zt-exec\" rel=\"nofollow noreferrer\">ZT Process Executor</a> library is an alternative to Apache Commons Exec. It has functionality to run commands, capturing their output, setting timeouts, etc.</p>\n\n<p>I have not used it yet, but it looks reasonably well-documented.</p>\n\n<p>An example from the documentation: Executing a command, pumping the stderr to a logger, returning the output as UTF8 string.</p>\n\n<pre><code> String output = new ProcessExecutor().command(\"java\", \"-version\")\n    .redirectError(Slf4jStream.of(getClass()).asInfo())\n    .readOutput(true).execute()\n    .outputUTF8();\n</code></pre>\n\n<p>Its documentation lists the following advantages over Commons Exec:</p>\n\n<ul>\n<li>Improved handling of streams\n\n<ul>\n<li>Reading/writing to streams</li>\n<li>Redirecting stderr to stdout</li>\n</ul></li>\n<li>Improved handling of timeouts</li>\n<li>Improved checking of exit codes</li>\n<li>Improved API\n\n<ul>\n<li>One liners for quite complex use cases</li>\n<li>One liners to get process output into a String</li>\n<li>Access to the <strong>Process</strong> object available</li>\n<li>Support for async processes ( <strong>Future</strong> ) </li>\n</ul></li>\n<li>Improved logging with <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">SLF4J API</a></li>\n<li>Support for multiple processes</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5701912,"reputation":59,"user_id":4506621,"display_name":"YANKEE"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582302224,"creation_date":1476462314,"answer_id":40047871,"question_id":525212,"body_markdown":"Yes, it is possible and you have answered it! About good practises, I think it is better to launch commands from files and not directly from your code. So you have to make Java execute the list of commands (or one command) in an existing `.bat`, `.sh` , `.ksh` ... files. \r\nHere is an example of executing a list of commands in a file `MyFile.sh`:\r\n\r\n        String[] cmd = { &quot;sh&quot;, &quot;MyFile.sh&quot;, &quot;\\pathOfTheFile&quot;};\r\n\t\tRuntime.getRuntime().exec(cmd);\r\n","title":"How to run Unix shell script from Java code?","body":"<p>Yes, it is possible and you have answered it! About good practises, I think it is better to launch commands from files and not directly from your code. So you have to make Java execute the list of commands (or one command) in an existing <code>.bat</code>, <code>.sh</code> , <code>.ksh</code> ... files. \nHere is an example of executing a list of commands in a file <code>MyFile.sh</code>:</p>\n\n<pre><code>    String[] cmd = { \"sh\", \"MyFile.sh\", \"\\pathOfTheFile\"};\n    Runtime.getRuntime().exec(cmd);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479510962,"creation_date":1479510962,"answer_id":40687370,"question_id":525212,"body_markdown":"To avoid having to hardcode an absolute path, you can use the following method that will find and execute your script if it is in your root directory.\r\n\r\n    public static void runScript() throws IOException, InterruptedException {\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;./nameOfScript.sh&quot;);\r\n        //Sets the source and destination for subprocess standard I/O to be the same as those of the current Java process.\r\n        processBuilder.inheritIO();\r\n        Process process = processBuilder.start();\r\n    \r\n        int exitValue = process.waitFor();\r\n        if (exitValue != 0) {\r\n            // check for errors\r\n            new BufferedInputStream(process.getErrorStream());\r\n            throw new RuntimeException(&quot;execution of script failed!&quot;);\r\n        }\r\n    }","title":"How to run Unix shell script from Java code?","body":"<p>To avoid having to hardcode an absolute path, you can use the following method that will find and execute your script if it is in your root directory.</p>\n\n<pre><code>public static void runScript() throws IOException, InterruptedException {\n    ProcessBuilder processBuilder = new ProcessBuilder(\"./nameOfScript.sh\");\n    //Sets the source and destination for subprocess standard I/O to be the same as those of the current Java process.\n    processBuilder.inheritIO();\n    Process process = processBuilder.start();\n\n    int exitValue = process.waitFor();\n    if (exitValue != 0) {\n        // check for errors\n        new BufferedInputStream(process.getErrorStream());\n        throw new RuntimeException(\"execution of script failed!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528114180,"creation_date":1528114180,"answer_id":50680287,"question_id":525212,"body_markdown":"This is a late answer. However, I thought of putting the struggle I had to bear to get a shell script to be executed from a Spring-Boot application for future developers. \r\n\r\n 1. I was working in Spring-Boot and I was not able to find the file to be executed from my Java application and it was throwing `FileNotFoundFoundException`. I had to keep the file in the `resources` directory and had to set the file to be scanned in `pom.xml` while the application was being started like the following. \r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                    &lt;include&gt;**/*.sh&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n 2. After that I was having trouble executing the file and it was returning `error code = 13, Permission Denied`. Then I had to make the file executable by running this command - `chmod u+x myShellScript.sh` \r\n\r\nFinally, I could execute the file using the following code snippet. \r\n\r\n    public void runScript() {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;src/main/resources/myFile.sh&quot;);\r\n        try {\r\n            Process p;\r\n            p = pb.start();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nHope that solves someone&#39;s problem. ","title":"How to run Unix shell script from Java code?","body":"<p>This is a late answer. However, I thought of putting the struggle I had to bear to get a shell script to be executed from a Spring-Boot application for future developers. </p>\n\n<ol>\n<li><p>I was working in Spring-Boot and I was not able to find the file to be executed from my Java application and it was throwing <code>FileNotFoundFoundException</code>. I had to keep the file in the <code>resources</code> directory and had to set the file to be scanned in <code>pom.xml</code> while the application was being started like the following. </p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.xml&lt;/include&gt;\n            &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;include&gt;**/*.sh&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre></li>\n<li>After that I was having trouble executing the file and it was returning <code>error code = 13, Permission Denied</code>. Then I had to make the file executable by running this command - <code>chmod u+x myShellScript.sh</code> </li>\n</ol>\n\n<p>Finally, I could execute the file using the following code snippet. </p>\n\n<pre><code>public void runScript() {\n    ProcessBuilder pb = new ProcessBuilder(\"src/main/resources/myFile.sh\");\n    try {\n        Process p;\n        p = pb.start();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Hope that solves someone's problem. </p>\n"},{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540455846,"creation_date":1540455846,"answer_id":52984637,"question_id":525212,"body_markdown":"Here is an example how to run an Unix bash or Windows bat/cmd script from Java. Arguments can be passed on the script and output received from the script. The method accepts arbitrary number of arguments.\r\n\r\n    public static void runScript(String path, String... args) {\r\n        try {\r\n            String[] cmd = new String[args.length + 1];\r\n            cmd[0] = path;\r\n            int count = 0;\r\n            for (String s : args) {\r\n                cmd[++count] = args[count - 1];\r\n            }\r\n            Process process = Runtime.getRuntime().exec(cmd);\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            try {\r\n                process.waitFor();\r\n            } catch (Exception ex) {\r\n                System.out.println(ex.getMessage());\r\n            }\r\n            while (bufferedReader.ready()) {\r\n                System.out.println(&quot;Received from script: &quot; + bufferedReader.readLine());\r\n            }\r\n        } catch (Exception ex) {\r\n            System.out.println(ex.getMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\nWhen running on Unix/Linux, the path must be Unix-like (with &#39;/&#39; as separator), when running on Windows - use &#39;\\&#39;. Hier is an example of a bash script (test.sh) that receives arbitrary number of arguments and doubles every argument:\r\n\r\n    #!/bin/bash\r\n    counter=0\r\n    while [ $# -gt 0 ]\r\n    do\r\n      echo argument $((counter +=1)): $1\r\n      echo doubling argument $((counter)): $(($1+$1))\r\n      shift\r\n    done\r\n\r\nWhen calling \r\n\r\n    runScript(&quot;path_to_script/test.sh&quot;, &quot;1&quot;, &quot;2&quot;)\r\n\r\n\r\non Unix/Linux, the output is:\r\n\r\n    Received from script: argument 1: 1\r\n    Received from script: doubling argument 1: 2\r\n    Received from script: argument 2: 2\r\n    Received from script: doubling argument 2: 4\r\n\r\nHier is a simple cmd Windows script test.cmd that counts number of input arguments:\r\n\r\n    @echo off\r\n    set a=0\r\n    for %%x in (%*) do Set /A a+=1 \r\n    echo %a% arguments received\r\n\r\nWhen calling the script on Windows\r\n\r\n      runScript(&quot;path_to_script\\\\test.cmd&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;)\r\n\r\nThe output is\r\n\r\n    Received from script: 3 arguments received","title":"How to run Unix shell script from Java code?","body":"<p>Here is an example how to run an Unix bash or Windows bat/cmd script from Java. Arguments can be passed on the script and output received from the script. The method accepts arbitrary number of arguments.</p>\n\n<pre><code>public static void runScript(String path, String... args) {\n    try {\n        String[] cmd = new String[args.length + 1];\n        cmd[0] = path;\n        int count = 0;\n        for (String s : args) {\n            cmd[++count] = args[count - 1];\n        }\n        Process process = Runtime.getRuntime().exec(cmd);\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        try {\n            process.waitFor();\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n        }\n        while (bufferedReader.ready()) {\n            System.out.println(\"Received from script: \" + bufferedReader.readLine());\n        }\n    } catch (Exception ex) {\n        System.out.println(ex.getMessage());\n        System.exit(1);\n    }\n}\n</code></pre>\n\n<p>When running on Unix/Linux, the path must be Unix-like (with '/' as separator), when running on Windows - use '\\'. Hier is an example of a bash script (test.sh) that receives arbitrary number of arguments and doubles every argument:</p>\n\n<pre><code>#!/bin/bash\ncounter=0\nwhile [ $# -gt 0 ]\ndo\n  echo argument $((counter +=1)): $1\n  echo doubling argument $((counter)): $(($1+$1))\n  shift\ndone\n</code></pre>\n\n<p>When calling </p>\n\n<pre><code>runScript(\"path_to_script/test.sh\", \"1\", \"2\")\n</code></pre>\n\n<p>on Unix/Linux, the output is:</p>\n\n<pre><code>Received from script: argument 1: 1\nReceived from script: doubling argument 1: 2\nReceived from script: argument 2: 2\nReceived from script: doubling argument 2: 4\n</code></pre>\n\n<p>Hier is a simple cmd Windows script test.cmd that counts number of input arguments:</p>\n\n<pre><code>@echo off\nset a=0\nfor %%x in (%*) do Set /A a+=1 \necho %a% arguments received\n</code></pre>\n\n<p>When calling the script on Windows</p>\n\n<pre><code>  runScript(\"path_to_script\\\\test.cmd\", \"1\", \"2\", \"3\")\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>Received from script: 3 arguments received\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3219,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553846787,"creation_date":1553846787,"answer_id":55412953,"question_id":525212,"body_markdown":"for linux use\r\n\r\n    public static void runShell(String directory, String command, String[] args, Map&lt;String, String&gt; environment)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif(directory.trim().equals(&quot;&quot;))\r\n\t\t\t\tdirectory = &quot;/&quot;;\r\n\r\n\t\t\tString[] cmd = new String[args.length + 1];\r\n\t\t\tcmd[0] = command;\r\n\r\n\t\t\tint count = 1;\r\n\r\n\t\t\tfor(String s : args)\r\n\t\t\t{\r\n\t\t\t\tcmd[count] = s;\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tProcessBuilder pb = new ProcessBuilder(cmd);\r\n\r\n\t\t\tMap&lt;String, String&gt; env = pb.environment();\r\n\r\n\t\t\tfor(String s : environment.keySet())\r\n\t\t\t\tenv.put(s, environment.get(s));\r\n\r\n\t\t\tpb.directory(new File(directory));\r\n\r\n\t\t\tProcess process = pb.start();\r\n\r\n\t\t\tBufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tBufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\t\t\tBufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n\r\n\t\t\tint exitValue = process.waitFor();\r\n\r\n\t\t\tif(exitValue != 0) // has errors\r\n\t\t\t{\r\n\t\t\t\twhile(errReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;ErrShell: &quot; + errReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\twhile(inputReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;Shell Result : &quot; + inputReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tLogClass.log(&quot;Err: RunShell, &quot; + e.toString(), LogClass.LogMode.LogAll);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void runShell(String path, String command, String[] args)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString[] cmd = new String[args.length + 1];\r\n\r\n\t\t\tif(!path.trim().isEmpty())\r\n\t\t\t\tcmd[0] = path + &quot;/&quot; + command;\r\n\t\t\telse\r\n\t\t\t\tcmd[0] = command;\r\n\r\n\t\t\tint count = 1;\r\n\r\n\t\t\tfor(String s : args)\r\n\t\t\t{\r\n\t\t\t\tcmd[count] = s;\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tProcess process = Runtime.getRuntime().exec(cmd);\r\n\r\n\t\t\tBufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tBufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\t\t\tBufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n\r\n\t\t\tint exitValue = process.waitFor();\r\n\r\n\t\t\tif(exitValue != 0) // has errors\r\n\t\t\t{\r\n\t\t\t\twhile(errReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;ErrShell: &quot; + errReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\twhile(inputReader.ready())\r\n\t\t\t\t{\r\n\t\t\t\t\tLogClass.log(&quot;Shell Result: &quot; + inputReader.readLine(), LogClass.LogMode.LogAll);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tLogClass.log(&quot;Err: RunShell, &quot; + e.toString(), LogClass.LogMode.LogAll);\r\n\t\t}\r\n\t}\r\n\r\nand for usage;\r\n\r\n    ShellAssistance.runShell(&quot;&quot;, &quot;pg_dump&quot;, new String[]{&quot;-U&quot;, &quot;aliAdmin&quot;, &quot;-f&quot;, &quot;/home/Backup.sql&quot;, &quot;StoresAssistanceDB&quot;});\r\n\r\nOR\r\n\r\n    ShellAssistance.runShell(&quot;&quot;, &quot;pg_dump&quot;, new String[]{&quot;-U&quot;, &quot;aliAdmin&quot;, &quot;-f&quot;, &quot;/home/Backup.sql&quot;, &quot;StoresAssistanceDB&quot;}, new Hashmap&lt;&gt;());","title":"How to run Unix shell script from Java code?","body":"<p>for linux use</p>\n\n<pre><code>public static void runShell(String directory, String command, String[] args, Map&lt;String, String&gt; environment)\n{\n    try\n    {\n        if(directory.trim().equals(\"\"))\n            directory = \"/\";\n\n        String[] cmd = new String[args.length + 1];\n        cmd[0] = command;\n\n        int count = 1;\n\n        for(String s : args)\n        {\n            cmd[count] = s;\n            count++;\n        }\n\n        ProcessBuilder pb = new ProcessBuilder(cmd);\n\n        Map&lt;String, String&gt; env = pb.environment();\n\n        for(String s : environment.keySet())\n            env.put(s, environment.get(s));\n\n        pb.directory(new File(directory));\n\n        Process process = pb.start();\n\n        BufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        BufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\n        BufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n\n        int exitValue = process.waitFor();\n\n        if(exitValue != 0) // has errors\n        {\n            while(errReader.ready())\n            {\n                LogClass.log(\"ErrShell: \" + errReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n        else\n        {\n            while(inputReader.ready())\n            {\n                LogClass.log(\"Shell Result : \" + inputReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n    }\n    catch(Exception e)\n    {\n        LogClass.log(\"Err: RunShell, \" + e.toString(), LogClass.LogMode.LogAll);\n    }\n}\n\npublic static void runShell(String path, String command, String[] args)\n{\n    try\n    {\n        String[] cmd = new String[args.length + 1];\n\n        if(!path.trim().isEmpty())\n            cmd[0] = path + \"/\" + command;\n        else\n            cmd[0] = command;\n\n        int count = 1;\n\n        for(String s : args)\n        {\n            cmd[count] = s;\n            count++;\n        }\n\n        Process process = Runtime.getRuntime().exec(cmd);\n\n        BufferedReader inputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        BufferedWriter outputReader = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\n        BufferedReader errReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n\n        int exitValue = process.waitFor();\n\n        if(exitValue != 0) // has errors\n        {\n            while(errReader.ready())\n            {\n                LogClass.log(\"ErrShell: \" + errReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n        else\n        {\n            while(inputReader.ready())\n            {\n                LogClass.log(\"Shell Result: \" + inputReader.readLine(), LogClass.LogMode.LogAll);\n            }\n        }\n    }\n    catch(Exception e)\n    {\n        LogClass.log(\"Err: RunShell, \" + e.toString(), LogClass.LogMode.LogAll);\n    }\n}\n</code></pre>\n\n<p>and for usage;</p>\n\n<pre><code>ShellAssistance.runShell(\"\", \"pg_dump\", new String[]{\"-U\", \"aliAdmin\", \"-f\", \"/home/Backup.sql\", \"StoresAssistanceDB\"});\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>ShellAssistance.runShell(\"\", \"pg_dump\", new String[]{\"-U\", \"aliAdmin\", \"-f\", \"/home/Backup.sql\", \"StoresAssistanceDB\"}, new Hashmap&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693475389,"creation_date":1693475389,"answer_id":77014709,"question_id":525212,"body_markdown":"You can also use my small library called [jaxec](https://github.com/yegor256/jaxec):\r\n\r\n```\r\nimport com.yegor256.Jaxec;\r\nString stdout = new Jaxec(&quot;ls&quot;, &quot;-al&quot;, &quot;/tmp&quot;)\r\n    .withHome(&quot;/home/me&quot;) // run it in this directory\r\n    .withRedirect(false) // don&#39;t redirect STDERR to STDOUT\r\n    .exec();\r\n```\r\n\r\nIt will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.","title":"How to run Unix shell script from Java code?","body":"<p>You can also use my small library called <a href=\"https://github.com/yegor256/jaxec\" rel=\"nofollow noreferrer\">jaxec</a>:</p>\n<pre><code>import com.yegor256.Jaxec;\nString stdout = new Jaxec(&quot;ls&quot;, &quot;-al&quot;, &quot;/tmp&quot;)\n    .withHome(&quot;/home/me&quot;) // run it in this directory\n    .withRedirect(false) // don't redirect STDERR to STDOUT\n    .exec();\n</code></pre>\n<p>It will not only execute the shell command, but also will send its output to Slf4j log, wait for its completion, redirect stderr to stdout, and make sure an exception is raised if the exit code is not equal to zero.</p>\n"}],"owner":{"display_name":"Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480221,"favorite_count":0,"down_vote_count":0,"up_vote_count":179,"answer_count":18,"score":179,"last_activity_date":1693475389,"creation_date":1234071145,"question_id":525212,"body_markdown":"It is quite simple to run a Unix command from Java. \r\n\r\n    Runtime.getRuntime().exec(myCommand);\r\n\r\nBut is it possible to run a Unix shell script from Java code? If yes, would it be a good practice to run a shell script from within Java code?","title":"How to run Unix shell script from Java code?","body":"<p>It is quite simple to run a Unix command from Java. </p>\n\n<pre><code>Runtime.getRuntime().exec(myCommand);\n</code></pre>\n\n<p>But is it possible to run a Unix shell script from Java code? If yes, would it be a good practice to run a shell script from within Java code?</p>\n"},{"tags":["java","html","css","pdf","itext"],"answers":[{"comments":[{"owner":{"account_id":242410,"reputation":634,"user_id":513905,"accept_rate":62,"display_name":"Sean Anderson"},"score":0,"creation_date":1654724913,"post_id":71983494,"comment_id":128163316,"body_markdown":"Looks like this version was released about the time I gave up on iText. Before that, I could not get this to work.  I moved to openhtmltopdf and was successful.","body":"Looks like this version was released about the time I gave up on iText. Before that, I could not get this to work.  I moved to openhtmltopdf and was successful."}],"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650746902,"creation_date":1650746902,"answer_id":71983494,"question_id":71670809,"body_markdown":"pdfHTML 4.0.2 allows you to make a PDF from an HTML file and add headers and footers easily in a completely declarative style (so only using HTML+CSS combination without necessity to write a lot of boilerplate code).\r\n\r\nAnd you can even add page numbers to your output PDF, all with pure CSS instructions that are processed by pdfHTML.\r\n\r\nHere is an example of an HTML file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;style&gt;\r\n      #header {\r\n        position: running(header);\r\n      }\r\n\r\n      #footer {\r\n        position: running(footer);\r\n      }\r\n\r\n      @page {\r\n        margin-top: 100px;\r\n        margin-bottom: 100px;\r\n\r\n        @top-center {\r\n          content: element(header);\r\n        }\r\n\r\n        @bottom-center {\r\n          content: element(footer);\r\n        }\r\n      }\r\n\r\n      #current-page-placeholder::before {\r\n        content: counter(page);\r\n      }\r\n\r\n\r\n      #total-pages-placeholder::before {\r\n        content: counter(pages);\r\n      }\r\n    &lt;/style&gt;\r\n\r\n    &lt;div id=&quot;header&quot;&gt;&lt;p style=&quot;color: green&quot;&gt;This is a header&lt;/p&gt;&lt;/div&gt;\r\n    &lt;div id=&quot;footer&quot;&gt;&lt;p style=&quot;color: red&quot;&gt;This is a footer. Page &lt;span id=&quot;current-page-placeholder&quot;&gt;&lt;/span&gt;/&lt;span id=&quot;total-pages-placeholder&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;\r\n\r\n    &lt;h2&gt;An ordered HTML list&lt;/h2&gt;\r\n\r\n    &lt;ol&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;1&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;A&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;a&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;I&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;ol type=&quot;i&quot;&gt;\r\n      &lt;li&gt;Coffee&lt;/li&gt;\r\n      &lt;li&gt;Tea&lt;/li&gt;\r\n      &lt;li&gt;Milk&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nVisual output result:\r\n\r\n\r\n[![result][1]][1]\r\n\r\nAnd that is achieved by a single line call:\r\n\r\n    HtmlConverter.convertToPdf(new File(&quot;in.html&quot;), new File(&quot;out.pdf&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UdJeI.png","title":"How do I repeat headers and footers fixed to top and bottom of document with CSS in iText 7 using pdfHTML converter?","body":"<p>pdfHTML 4.0.2 allows you to make a PDF from an HTML file and add headers and footers easily in a completely declarative style (so only using HTML+CSS combination without necessity to write a lot of boilerplate code).</p>\n<p>And you can even add page numbers to your output PDF, all with pure CSS instructions that are processed by pdfHTML.</p>\n<p>Here is an example of an HTML file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;style&gt;\n  #header {\n    position: running(header);\n  }\n\n  #footer {\n    position: running(footer);\n  }\n\n  @page {\n    margin-top: 100px;\n    margin-bottom: 100px;\n\n    @top-center {\n      content: element(header);\n    }\n\n    @bottom-center {\n      content: element(footer);\n    }\n  }\n\n  #current-page-placeholder::before {\n    content: counter(page);\n  }\n\n\n  #total-pages-placeholder::before {\n    content: counter(pages);\n  }\n&lt;/style&gt;\n\n&lt;div id=\"header\"&gt;&lt;p style=\"color: green\"&gt;This is a header&lt;/p&gt;&lt;/div&gt;\n&lt;div id=\"footer\"&gt;&lt;p style=\"color: red\"&gt;This is a footer. Page &lt;span id=\"current-page-placeholder\"&gt;&lt;/span&gt;/&lt;span id=\"total-pages-placeholder\"&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;\n\n&lt;h2&gt;An ordered HTML list&lt;/h2&gt;\n\n&lt;ol&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"1\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"A\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"a\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"I\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;ol type=\"i\"&gt;\n  &lt;li&gt;Coffee&lt;/li&gt;\n  &lt;li&gt;Tea&lt;/li&gt;\n  &lt;li&gt;Milk&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Visual output result:</p>\n<p><a href=\"https://i.stack.imgur.com/UdJeI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdJeI.png\" alt=\"result\" /></a></p>\n<p>And that is achieved by a single line call:</p>\n<pre><code>HtmlConverter.convertToPdf(new File(&quot;in.html&quot;), new File(&quot;out.pdf&quot;));\n</code></pre>\n"}],"owner":{"account_id":242410,"reputation":634,"user_id":513905,"accept_rate":62,"display_name":"Sean Anderson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71983494,"answer_count":1,"score":0,"last_activity_date":1693475388,"creation_date":1648607144,"question_id":71670809,"body_markdown":"When I use the following HTML+CSS to produce a table with header and footer it repeats the header and footer on each page when printing and when converting to PDF via iText 7 pdfHTML library. The document looks/behaves the same in both browser printing and in output as a PDF from iText. I&#39;m trying to get the header and footer to be fixed to the top and bottom of each page regadless of the number of rows in the table. \r\n\r\nJava/iText convert html document to pdf...\r\n\r\n    var mediaDeviceDescription = new MediaDeviceDescription(MediaType.PRINT);\r\n    var props = new ConverterProperties();\r\n    props.setMediaDeviceDescription(mediaDeviceDescription);\r\n    HtmlConverter.convertToPdf(html, new FileOutputStream(pdfTempFile.toFile()), props);  \r\n\r\nThe html...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;title&gt;Invoice&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\r\n        &lt;style&gt;\r\n            * {\r\n                margin: 0;\r\n                padding: 0;\r\n            }\r\n\r\n            @page {\r\n                margin: 0;\r\n            }\r\n\r\n            .label-font {\r\n                font-size: 18px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                font-style: normal;\r\n                text-transform: none;\r\n            }\r\n\r\n            .companySection {\r\n                margin-top: 10px;\r\n                width: 100%;\r\n                display: flex;\r\n                justify-content: space-between;\r\n            }\r\n\r\n            .logoBusinessDetails {\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .headerBusinessFont {\r\n                font-size: 32px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                text-decoration: overline solid rgb(68, 68, 68);\r\n                font-style: normal;\r\n                font-variant: small-caps;\r\n                text-transform: none;\r\n            }\r\n\r\n            table.invoiceItems {\r\n                margin-top: 10px;\r\n                border: 2px solid #000000;\r\n                width: 100%;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.invoiceItems td,\r\n            table.invoiceItems th {\r\n                border: 1px solid #000000;\r\n                padding: 6px 5px;\r\n            }\r\n\r\n            table.invoiceItems tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.invoiceItems tr:nth-child(even) {\r\n                /*background: #667FFF;*/\r\n            }\r\n\r\n            table.invoiceItems thead {\r\n                background: #667FFF;\r\n                background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                border-bottom: 3px solid #000000;\r\n            }\r\n\r\n            table.invoiceItems thead th {\r\n                font-size: 15px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                text-align: left;\r\n            }\r\n\r\n            invoiceItems.table.invoiceItems tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            .customerSection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n            .billTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .shipTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .documentDetails {\r\n                /*border-left: 15px solid #667FFF;*/\r\n                flex-grow: 1;\r\n            }\r\n\r\n\r\n\r\n            .message {\r\n                flex-basis: 65%\r\n            }\r\n\r\n            .totals {\r\n                flex-basis: 35%;\r\n            }\r\n\r\n            .totalColumns {\r\n                width: 100%;\r\n                display: flex;\r\n            }\r\n\r\n            .totalLabels {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            .totalAmounts {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            /* Total labels column*/\r\n            table.totalLabels {\r\n                border-width: 0px 1px 0px 2px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalLabels td,\r\n            table.totalLabels th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalLabels tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalLabels tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalLabels tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            /* Amounts Column*/\r\n            table.totalAmounts {\r\n                border-width: 0px 2px 0px 1px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalAmounts td,\r\n            table.totalAmounts th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalAmounts tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalAmounts tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalAmounts tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            table.documentInfo {\r\n                width: 100%;\r\n                text-align: right;\r\n            }\r\n\r\n            table.documentInfo td,\r\n            table.documentInfo th {}\r\n\r\n            .footer {\r\n                border: 2px #000000;\r\n            }\r\n\r\n            tbody.invoiceItems tr td {\r\n                border: 1px solid #000000;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n                width: 100%;\r\n\r\n            }\r\n\r\n            table {\r\n                border-spacing: 0px;\r\n                width: 100%;\r\n            }\r\n\r\n          \r\n    @media print, screen{\r\n            .headerSection {\r\n                width: 100%;\r\n   \r\n            }\r\n\r\n            .summarySection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n \r\n            }\r\n    }\r\n        &lt;/style&gt;\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n\r\n        &lt;div&gt;\r\n\r\n\r\n            &lt;table&gt;\r\n\r\n                &lt;thead&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;!--&lt;div class=&quot;header-space&quot;&gt;&lt;/div&gt;--&gt;\r\n                            \r\n                            &lt;div class=&quot;headerSection&quot;&gt;\r\n            &lt;div class=&quot;companySection&quot;&gt;\r\n\r\n                &lt;div class=&quot;headerBusinessLogo headerBusinessFont  logoBusinessDetails&quot;&gt;\r\n                    Acme Paper Co LLC\r\n                &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n\r\n\r\n\r\n            &lt;div class=&quot;customerSection&quot;&gt;\r\n                &lt;div class=&quot;billTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;shipTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;documentDetails&quot;&gt;\r\n                    &lt;table class=&quot;documentInfo&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Number&lt;/td&gt;\r\n                                &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Date: &lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Due Date&lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax Id&lt;/td&gt;\r\n                                &lt;td&gt;D288658797&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;Quantity&lt;/th&gt;\r\n                        &lt;th&gt;Code&lt;/th&gt;\r\n                        &lt;th&gt;Description&lt;/th&gt;\r\n                        &lt;th&gt;Unit Price&lt;/th&gt;\r\n                        &lt;th&gt;Tax1&lt;/th&gt;\r\n                        &lt;th&gt;Tax2&lt;/th&gt;\r\n                        &lt;th&gt;Line Total&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n\r\n                &lt;tbody class=&quot;invoiceItems&quot;&gt;\r\n                    &lt;!-- &lt;#list items as item&gt; --&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td style=&quot;width: 10%;&quot;&gt;${item.quantity}&lt;/td&gt;\r\n                        &lt;td style=&quot;width: 15%;&quot;&gt;\r\n                            &lt;#if item.code?has_content&gt;\r\n                                ${item.code}\r\n                            &lt;/#if&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td style=&quot;width: 45%;&quot;&gt;${item.description}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.unitPrice}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable1?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable2?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.getItemSubtotal()}&lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;!-- other rows ommitted to reduce body size for SO--&gt;                    \r\n                    &lt;!-- &lt;/#list&gt; --&gt;\r\n\r\n                &lt;/tbody&gt;\r\n\r\n                &lt;tfoot&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;!--&lt;div class=&quot;summary-space&quot;&gt;&lt;/div&gt;--&gt;\r\n                             &lt;div class=&quot;summarySection&quot;&gt;\r\n            &lt;div class=&quot;message&quot;&gt;\r\n                &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\r\n                    committee responsible for\r\n                    developing the seal. At the time of the American Revolution, the phrase appeared\r\n                    regularly on the title page\r\n                    of the London-based Gentleman&#39;s Magazine, founded in 1731,[10][11] which collected\r\n                    articles from many\r\n                    sources into one periodical. This usage in turn can be traced back to the\r\n                    London-based Huguenot Peter\r\n                    Anthony Motteux, who had employed the adage for his The Gentleman&#39;s Journal, or the\r\n                    Monthly Miscellany\r\n                    (1692-1694). The phrase is similar to a Latin translation of a variation of\r\n                    Heraclitus&#39;s tenth fragment,\r\n                    &quot;The one is made up of all things, and all things issue from the one&quot;.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;totals&quot;&gt;\r\n                &lt;div class=&quot;totalColumns&quot;&gt;\r\n\r\n                    &lt;table class=&quot;totalLabels&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Item Total&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Discounts&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Payments&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Amount Due&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                    &lt;table class=&quot;totalAmounts&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${subTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${discountsTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax1Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax2Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${payments}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${amountDue}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n                        &lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n\r\n        &lt;/tfoot&gt;\r\n\r\n        &lt;/table&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBrowser print output.\r\n(Notice how the footer (marked in red) appears directly after the end of the table content on the last page--or first page if there are not enough rows to fill an entire page.)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\niText PDF Output.\r\n(Same behavior as printing the HTML version from the browser. The consistency is good here, but I want the footer to be pegged to the bottom of each page regardless of the number of table rows.)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI found a way to get the header and footer to be stuck to the top and bottom of each page regardless of the table row count using CSS, and it works when printing from the browser but iText is a disaster. \r\n\r\nUsing this method detailed here: https://medium.com/@Idan_Co/the-ultimate-print-html-template-with-header-footer-568f415f6d2a\r\n\r\nThis HTML+CSS...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;title&gt;Invoice&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\r\n        &lt;style&gt;\r\n            * {\r\n                margin: 0;\r\n                padding: 0;\r\n            }\r\n\r\n            @page {\r\n                margin: 0;\r\n            }\r\n\r\n            .label-font {\r\n                font-size: 18px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                font-style: normal;\r\n                text-transform: none;\r\n            }\r\n\r\n            .companySection {\r\n                margin-top: 10px;\r\n                width: 100%;\r\n                display: flex;\r\n                justify-content: space-between;\r\n            }\r\n\r\n            .logoBusinessDetails {\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .headerBusinessFont {\r\n                font-size: 32px;\r\n                letter-spacing: 3.6px;\r\n                word-spacing: 2.2px;\r\n                color: #000000;\r\n                font-weight: 700;\r\n                text-decoration: overline solid rgb(68, 68, 68);\r\n                font-style: normal;\r\n                font-variant: small-caps;\r\n                text-transform: none;\r\n            }\r\n\r\n            table.invoiceItems {\r\n                margin-top: 10px;\r\n                border: 2px solid #000000;\r\n                width: 100%;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.invoiceItems td,\r\n            table.invoiceItems th {\r\n                border: 1px solid #000000;\r\n                padding: 6px 5px;\r\n            }\r\n\r\n            table.invoiceItems tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.invoiceItems tr:nth-child(even) {\r\n                /*background: #667FFF;*/\r\n            }\r\n\r\n            table.invoiceItems thead {\r\n                background: #667FFF;\r\n                background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\r\n                border-bottom: 3px solid #000000;\r\n            }\r\n\r\n            table.invoiceItems thead th {\r\n                font-size: 15px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                text-align: left;\r\n            }\r\n\r\n            invoiceItems.table.invoiceItems tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            .customerSection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n            .billTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .shipTo {\r\n                border-left: 15px solid #808080;\r\n                flex-grow: 1;\r\n            }\r\n\r\n            .documentDetails {\r\n                /*border-left: 15px solid #667FFF;*/\r\n                flex-grow: 1;\r\n            }\r\n\r\n\r\n\r\n            .message {\r\n                flex-basis: 65%\r\n            }\r\n\r\n            .totals {\r\n                flex-basis: 35%;\r\n            }\r\n\r\n            .totalColumns {\r\n                width: 100%;\r\n                display: flex;\r\n            }\r\n\r\n            .totalLabels {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            .totalAmounts {\r\n                flex-basis: 50%\r\n            }\r\n\r\n            /* Total labels column*/\r\n            table.totalLabels {\r\n                border-width: 0px 1px 0px 2px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalLabels td,\r\n            table.totalLabels th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalLabels tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalLabels tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalLabels tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            /* Amounts Column*/\r\n            table.totalAmounts {\r\n                border-width: 0px 2px 0px 1px;\r\n                border-style: solid;\r\n                border-color: #000000;\r\n                width: 100%;\r\n                text-align: right;\r\n                border-collapse: collapse;\r\n            }\r\n\r\n            table.totalAmounts td,\r\n            table.totalAmounts th {\r\n                border: 1px solid #000000;\r\n                padding: 5px 4px;\r\n            }\r\n\r\n            table.totalAmounts tbody td {\r\n                font-size: 13px;\r\n            }\r\n\r\n            table.totalAmounts tfoot {\r\n                font-size: 14px;\r\n                font-weight: bold;\r\n                color: #000000;\r\n                border-top: 3px solid #000000;\r\n            }\r\n\r\n            table.totalAmounts tfoot td {\r\n                font-size: 14px;\r\n            }\r\n\r\n            table.documentInfo {\r\n                width: 100%;\r\n                text-align: right;\r\n            }\r\n\r\n            table.documentInfo td,\r\n            table.documentInfo th {}\r\n\r\n            .footer {\r\n                border: 2px #000000;\r\n            }\r\n\r\n            tbody.invoiceItems tr td {\r\n                border: 1px solid #000000;\r\n                text-align: left;\r\n                border-collapse: collapse;\r\n                width: 100%;\r\n\r\n            }\r\n\r\n            table {\r\n                border-spacing: 0px;\r\n                width: 100%;\r\n            }\r\n\r\n          \r\n    @media print, screen{\r\n            .headerSection {\r\n                width: 100%;\r\n                position: fixed;\r\n                top: 0;\r\n            }\r\n\r\n            .summarySection {\r\n                width: 100%;\r\n                display: flex;\r\n                align-items: flex-start;\r\n            }\r\n\r\n            .headerSection,\r\n            .header-space {\r\n                height: 200px;\r\n            }\r\n\r\n            .summarySection,\r\n            .summary-space {\r\n                height: 230px;\r\n            }\r\n\r\n            .summarySection {\r\n                position: fixed;\r\n                bottom: 0;\r\n            }\r\n    }\r\n        &lt;/style&gt;\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n\r\n        &lt;div&gt;\r\n\r\n\r\n            &lt;table&gt;\r\n\r\n                &lt;thead&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;div class=&quot;header-space&quot;&gt;&lt;/div&gt;\r\n\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;Quantity&lt;/th&gt;\r\n                        &lt;th&gt;Code&lt;/th&gt;\r\n                        &lt;th&gt;Description&lt;/th&gt;\r\n                        &lt;th&gt;Unit Price&lt;/th&gt;\r\n                        &lt;th&gt;Tax1&lt;/th&gt;\r\n                        &lt;th&gt;Tax2&lt;/th&gt;\r\n                        &lt;th&gt;Line Total&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n\r\n                &lt;tbody class=&quot;invoiceItems&quot;&gt;\r\n                    &lt;!-- &lt;#list items as item&gt; --&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td style=&quot;width: 10%;&quot;&gt;${item.quantity}&lt;/td&gt;\r\n                        &lt;td style=&quot;width: 15%;&quot;&gt;\r\n                            &lt;#if item.code?has_content&gt;\r\n                                ${item.code}\r\n                            &lt;/#if&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td style=&quot;width: 45%;&quot;&gt;${item.description}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.unitPrice}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable1?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: center; width: 5%;&quot;&gt;${item.taxable2?string(&#39;yes&#39;,&#39;no&#39;)}&lt;/td&gt;\r\n                        &lt;td style=&quot;text-align: right; width: 10%;&quot;&gt;${item.getItemSubtotal()}&lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n\r\n                    &lt;!-- other rows ommitted to reduce body size for SO--&gt;                     \r\n                    \r\n                    &lt;!-- &lt;/#list&gt; --&gt;\r\n\r\n                &lt;/tbody&gt;\r\n\r\n                &lt;tfoot&gt;\r\n\r\n                    &lt;tr&gt;\r\n\r\n                        &lt;td colspan=&quot;8&quot;&gt;\r\n\r\n                            &lt;div class=&quot;summary-space&quot;&gt;&lt;/div&gt;\r\n\r\n\r\n                        &lt;/td&gt;\r\n\r\n                    &lt;/tr&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n\r\n        &lt;/tfoot&gt;\r\n\r\n        &lt;/table&gt;\r\n\r\n\r\n        &lt;div class=&quot;headerSection&quot;&gt;\r\n            &lt;div class=&quot;companySection&quot;&gt;\r\n\r\n                &lt;div class=&quot;headerBusinessLogo headerBusinessFont  logoBusinessDetails&quot;&gt;\r\n                    ACME Gaming Co LLC\r\n                &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n\r\n\r\n\r\n            &lt;div class=&quot;customerSection&quot;&gt;\r\n                &lt;div class=&quot;billTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;shipTo&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\r\n\r\n                &lt;div class=&quot;documentDetails&quot;&gt;\r\n                    &lt;table class=&quot;documentInfo&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Number&lt;/td&gt;\r\n                                &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Invoice Date: &lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Due Date&lt;/td&gt;\r\n                                &lt;td&gt;2022-03-12&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax Id&lt;/td&gt;\r\n                                &lt;td&gt;D288658797&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;summarySection&quot;&gt;\r\n            &lt;div class=&quot;message&quot;&gt;\r\n                &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\r\n                    committee responsible for\r\n                    developing the seal. At the time of the American Revolution, the phrase appeared\r\n                    regularly on the title page\r\n                    of the London-based Gentleman&#39;s Magazine, founded in 1731,[10][11] which collected\r\n                    articles from many\r\n                    sources into one periodical. This usage in turn can be traced back to the\r\n                    London-based Huguenot Peter\r\n                    Anthony Motteux, who had employed the adage for his The Gentleman&#39;s Journal, or the\r\n                    Monthly Miscellany\r\n                    (1692-1694). The phrase is similar to a Latin translation of a variation of\r\n                    Heraclitus&#39;s tenth fragment,\r\n                    &quot;The one is made up of all things, and all things issue from the one&quot;.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;totals&quot;&gt;\r\n                &lt;div class=&quot;totalColumns&quot;&gt;\r\n\r\n                    &lt;table class=&quot;totalLabels&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Item Total&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Discounts&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Taxable2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax1&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Tax2&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Payments&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;Amount Due&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                    &lt;table class=&quot;totalAmounts&quot;&gt;\r\n                        &lt;tbody&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${subTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${discountsTotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax1Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${tax2Total}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${payments}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;${amountDue}&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n\r\n\r\n            &lt;!--&lt;div class=&quot;footer&quot; style=&quot;border: 2px solid black;&quot;&gt;Page 1 of 1&lt;/div&gt;--&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n    &lt;/body&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe browser print output... (works perfect...header/footer at the top/\r\nbottom of every page)\r\n\r\n[![enter image description here][3]][3]\r\n\r\niText pdfHTML output... (doesn&#39;t print header/footer until the end...just ignores fixed position CSS and dumps the header and footer div after the table content)\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hFYj9.jpg\r\n  [2]: https://i.stack.imgur.com/GxiQY.png\r\n  [3]: https://i.stack.imgur.com/rP2cq.png\r\n  [4]: https://i.stack.imgur.com/fzkoV.png","title":"How do I repeat headers and footers fixed to top and bottom of document with CSS in iText 7 using pdfHTML converter?","body":"<p>When I use the following HTML+CSS to produce a table with header and footer it repeats the header and footer on each page when printing and when converting to PDF via iText 7 pdfHTML library. The document looks/behaves the same in both browser printing and in output as a PDF from iText. I'm trying to get the header and footer to be fixed to the top and bottom of each page regadless of the number of rows in the table.</p>\n<p>Java/iText convert html document to pdf...</p>\n<pre><code>var mediaDeviceDescription = new MediaDeviceDescription(MediaType.PRINT);\nvar props = new ConverterProperties();\nprops.setMediaDeviceDescription(mediaDeviceDescription);\nHtmlConverter.convertToPdf(html, new FileOutputStream(pdfTempFile.toFile()), props);  \n</code></pre>\n<p>The html...</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Invoice&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n\n    &lt;style&gt;\n        * {\n            margin: 0;\n            padding: 0;\n        }\n\n        @page {\n            margin: 0;\n        }\n\n        .label-font {\n            font-size: 18px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            font-style: normal;\n            text-transform: none;\n        }\n\n        .companySection {\n            margin-top: 10px;\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .logoBusinessDetails {\n            flex-grow: 1;\n        }\n\n        .headerBusinessFont {\n            font-size: 32px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            text-decoration: overline solid rgb(68, 68, 68);\n            font-style: normal;\n            font-variant: small-caps;\n            text-transform: none;\n        }\n\n        table.invoiceItems {\n            margin-top: 10px;\n            border: 2px solid #000000;\n            width: 100%;\n            text-align: left;\n            border-collapse: collapse;\n        }\n\n        table.invoiceItems td,\n        table.invoiceItems th {\n            border: 1px solid #000000;\n            padding: 6px 5px;\n        }\n\n        table.invoiceItems tbody td {\n            font-size: 13px;\n        }\n\n        table.invoiceItems tr:nth-child(even) {\n            /*background: #667FFF;*/\n        }\n\n        table.invoiceItems thead {\n            background: #667FFF;\n            background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            border-bottom: 3px solid #000000;\n        }\n\n        table.invoiceItems thead th {\n            font-size: 15px;\n            font-weight: bold;\n            color: #000000;\n            text-align: left;\n        }\n\n        invoiceItems.table.invoiceItems tfoot td {\n            font-size: 14px;\n        }\n\n        .customerSection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n        .billTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .shipTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .documentDetails {\n            /*border-left: 15px solid #667FFF;*/\n            flex-grow: 1;\n        }\n\n\n\n        .message {\n            flex-basis: 65%\n        }\n\n        .totals {\n            flex-basis: 35%;\n        }\n\n        .totalColumns {\n            width: 100%;\n            display: flex;\n        }\n\n        .totalLabels {\n            flex-basis: 50%\n        }\n\n        .totalAmounts {\n            flex-basis: 50%\n        }\n\n        /* Total labels column*/\n        table.totalLabels {\n            border-width: 0px 1px 0px 2px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalLabels td,\n        table.totalLabels th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalLabels tbody td {\n            font-size: 13px;\n        }\n\n        table.totalLabels tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalLabels tfoot td {\n            font-size: 14px;\n        }\n\n        /* Amounts Column*/\n        table.totalAmounts {\n            border-width: 0px 2px 0px 1px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalAmounts td,\n        table.totalAmounts th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalAmounts tbody td {\n            font-size: 13px;\n        }\n\n        table.totalAmounts tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalAmounts tfoot td {\n            font-size: 14px;\n        }\n\n        table.documentInfo {\n            width: 100%;\n            text-align: right;\n        }\n\n        table.documentInfo td,\n        table.documentInfo th {}\n\n        .footer {\n            border: 2px #000000;\n        }\n\n        tbody.invoiceItems tr td {\n            border: 1px solid #000000;\n            text-align: left;\n            border-collapse: collapse;\n            width: 100%;\n\n        }\n\n        table {\n            border-spacing: 0px;\n            width: 100%;\n        }\n\n      \n@media print, screen{\n        .headerSection {\n            width: 100%;\n   \n        }\n\n        .summarySection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n \n        }\n}\n    &lt;/style&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n\n    &lt;div&gt;\n\n\n        &lt;table&gt;\n\n            &lt;thead&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;!--&lt;div class=\"header-space\"&gt;&lt;/div&gt;--&gt;\n                        \n                        &lt;div class=\"headerSection\"&gt;\n        &lt;div class=\"companySection\"&gt;\n\n            &lt;div class=\"headerBusinessLogo headerBusinessFont  logoBusinessDetails\"&gt;\n                Acme Paper Co LLC\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n\n\n        &lt;div class=\"customerSection\"&gt;\n            &lt;div class=\"billTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\n\n            &lt;div class=\"shipTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\n\n            &lt;div class=\"documentDetails\"&gt;\n                &lt;table class=\"documentInfo\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Number&lt;/td&gt;\n                            &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Date: &lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Due Date&lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax Id&lt;/td&gt;\n                            &lt;td&gt;D288658797&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;th&gt;Quantity&lt;/th&gt;\n                    &lt;th&gt;Code&lt;/th&gt;\n                    &lt;th&gt;Description&lt;/th&gt;\n                    &lt;th&gt;Unit Price&lt;/th&gt;\n                    &lt;th&gt;Tax1&lt;/th&gt;\n                    &lt;th&gt;Tax2&lt;/th&gt;\n                    &lt;th&gt;Line Total&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n\n            &lt;tbody class=\"invoiceItems\"&gt;\n                &lt;!-- &lt;#list items as item&gt; --&gt;\n                &lt;tr&gt;\n                    &lt;td style=\"width: 10%;\"&gt;${item.quantity}&lt;/td&gt;\n                    &lt;td style=\"width: 15%;\"&gt;\n                        &lt;#if item.code?has_content&gt;\n                            ${item.code}\n                        &lt;/#if&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\"width: 45%;\"&gt;${item.description}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.unitPrice}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable1?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable2?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.getItemSubtotal()}&lt;/td&gt;\n\n                &lt;/tr&gt;\n\n                &lt;!-- other rows ommitted to reduce body size for SO--&gt;                    \n                &lt;!-- &lt;/#list&gt; --&gt;\n\n            &lt;/tbody&gt;\n\n            &lt;tfoot&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;!--&lt;div class=\"summary-space\"&gt;&lt;/div&gt;--&gt;\n                         &lt;div class=\"summarySection\"&gt;\n        &lt;div class=\"message\"&gt;\n            &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\n                committee responsible for\n                developing the seal. At the time of the American Revolution, the phrase appeared\n                regularly on the title page\n                of the London-based Gentleman's Magazine, founded in 1731,[10][11] which collected\n                articles from many\n                sources into one periodical. This usage in turn can be traced back to the\n                London-based Huguenot Peter\n                Anthony Motteux, who had employed the adage for his The Gentleman's Journal, or the\n                Monthly Miscellany\n                (1692-1694). The phrase is similar to a Latin translation of a variation of\n                Heraclitus's tenth fragment,\n                \"The one is made up of all things, and all things issue from the one\".&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"totals\"&gt;\n            &lt;div class=\"totalColumns\"&gt;\n\n                &lt;table class=\"totalLabels\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Item Total&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Discounts&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Payments&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Amount Due&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n                &lt;table class=\"totalAmounts\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${subTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${discountsTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax1Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax2Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${payments}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${amountDue}&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n                    &lt;/td&gt;\n\n                &lt;/tr&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;/tfoot&gt;\n\n    &lt;/table&gt;\n\n    &lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Browser print output.\n(Notice how the footer (marked in red) appears directly after the end of the table content on the last page--or first page if there are not enough rows to fill an entire page.)</p>\n<p><a href=\"https://i.stack.imgur.com/hFYj9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hFYj9.jpg\" alt=\"enter image description here\" /></a></p>\n<p>iText PDF Output.\n(Same behavior as printing the HTML version from the browser. The consistency is good here, but I want the footer to be pegged to the bottom of each page regardless of the number of table rows.)</p>\n<p><a href=\"https://i.stack.imgur.com/GxiQY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GxiQY.png\" alt=\"enter image description here\" /></a></p>\n<p>I found a way to get the header and footer to be stuck to the top and bottom of each page regardless of the table row count using CSS, and it works when printing from the browser but iText is a disaster.</p>\n<p>Using this method detailed here: <a href=\"https://medium.com/@Idan_Co/the-ultimate-print-html-template-with-header-footer-568f415f6d2a\" rel=\"nofollow noreferrer\">https://medium.com/@Idan_Co/the-ultimate-print-html-template-with-header-footer-568f415f6d2a</a></p>\n<p>This HTML+CSS...</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Invoice&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n\n    &lt;style&gt;\n        * {\n            margin: 0;\n            padding: 0;\n        }\n\n        @page {\n            margin: 0;\n        }\n\n        .label-font {\n            font-size: 18px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            font-style: normal;\n            text-transform: none;\n        }\n\n        .companySection {\n            margin-top: 10px;\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .logoBusinessDetails {\n            flex-grow: 1;\n        }\n\n        .headerBusinessFont {\n            font-size: 32px;\n            letter-spacing: 3.6px;\n            word-spacing: 2.2px;\n            color: #000000;\n            font-weight: 700;\n            text-decoration: overline solid rgb(68, 68, 68);\n            font-style: normal;\n            font-variant: small-caps;\n            text-transform: none;\n        }\n\n        table.invoiceItems {\n            margin-top: 10px;\n            border: 2px solid #000000;\n            width: 100%;\n            text-align: left;\n            border-collapse: collapse;\n        }\n\n        table.invoiceItems td,\n        table.invoiceItems th {\n            border: 1px solid #000000;\n            padding: 6px 5px;\n        }\n\n        table.invoiceItems tbody td {\n            font-size: 13px;\n        }\n\n        table.invoiceItems tr:nth-child(even) {\n            /*background: #667FFF;*/\n        }\n\n        table.invoiceItems thead {\n            background: #667FFF;\n            background: -moz-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: -webkit-linear-gradient(top, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            background: linear-gradient(to bottom, #dbdbdb 0%, #d3d3d3 66%, #CFCFCF 100%);\n            border-bottom: 3px solid #000000;\n        }\n\n        table.invoiceItems thead th {\n            font-size: 15px;\n            font-weight: bold;\n            color: #000000;\n            text-align: left;\n        }\n\n        invoiceItems.table.invoiceItems tfoot td {\n            font-size: 14px;\n        }\n\n        .customerSection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n        .billTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .shipTo {\n            border-left: 15px solid #808080;\n            flex-grow: 1;\n        }\n\n        .documentDetails {\n            /*border-left: 15px solid #667FFF;*/\n            flex-grow: 1;\n        }\n\n\n\n        .message {\n            flex-basis: 65%\n        }\n\n        .totals {\n            flex-basis: 35%;\n        }\n\n        .totalColumns {\n            width: 100%;\n            display: flex;\n        }\n\n        .totalLabels {\n            flex-basis: 50%\n        }\n\n        .totalAmounts {\n            flex-basis: 50%\n        }\n\n        /* Total labels column*/\n        table.totalLabels {\n            border-width: 0px 1px 0px 2px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalLabels td,\n        table.totalLabels th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalLabels tbody td {\n            font-size: 13px;\n        }\n\n        table.totalLabels tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalLabels tfoot td {\n            font-size: 14px;\n        }\n\n        /* Amounts Column*/\n        table.totalAmounts {\n            border-width: 0px 2px 0px 1px;\n            border-style: solid;\n            border-color: #000000;\n            width: 100%;\n            text-align: right;\n            border-collapse: collapse;\n        }\n\n        table.totalAmounts td,\n        table.totalAmounts th {\n            border: 1px solid #000000;\n            padding: 5px 4px;\n        }\n\n        table.totalAmounts tbody td {\n            font-size: 13px;\n        }\n\n        table.totalAmounts tfoot {\n            font-size: 14px;\n            font-weight: bold;\n            color: #000000;\n            border-top: 3px solid #000000;\n        }\n\n        table.totalAmounts tfoot td {\n            font-size: 14px;\n        }\n\n        table.documentInfo {\n            width: 100%;\n            text-align: right;\n        }\n\n        table.documentInfo td,\n        table.documentInfo th {}\n\n        .footer {\n            border: 2px #000000;\n        }\n\n        tbody.invoiceItems tr td {\n            border: 1px solid #000000;\n            text-align: left;\n            border-collapse: collapse;\n            width: 100%;\n\n        }\n\n        table {\n            border-spacing: 0px;\n            width: 100%;\n        }\n\n      \n@media print, screen{\n        .headerSection {\n            width: 100%;\n            position: fixed;\n            top: 0;\n        }\n\n        .summarySection {\n            width: 100%;\n            display: flex;\n            align-items: flex-start;\n        }\n\n        .headerSection,\n        .header-space {\n            height: 200px;\n        }\n\n        .summarySection,\n        .summary-space {\n            height: 230px;\n        }\n\n        .summarySection {\n            position: fixed;\n            bottom: 0;\n        }\n}\n    &lt;/style&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n\n    &lt;div&gt;\n\n\n        &lt;table&gt;\n\n            &lt;thead&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;div class=\"header-space\"&gt;&lt;/div&gt;\n\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;th&gt;Quantity&lt;/th&gt;\n                    &lt;th&gt;Code&lt;/th&gt;\n                    &lt;th&gt;Description&lt;/th&gt;\n                    &lt;th&gt;Unit Price&lt;/th&gt;\n                    &lt;th&gt;Tax1&lt;/th&gt;\n                    &lt;th&gt;Tax2&lt;/th&gt;\n                    &lt;th&gt;Line Total&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n\n            &lt;tbody class=\"invoiceItems\"&gt;\n                &lt;!-- &lt;#list items as item&gt; --&gt;\n                &lt;tr&gt;\n                    &lt;td style=\"width: 10%;\"&gt;${item.quantity}&lt;/td&gt;\n                    &lt;td style=\"width: 15%;\"&gt;\n                        &lt;#if item.code?has_content&gt;\n                            ${item.code}\n                        &lt;/#if&gt;\n                    &lt;/td&gt;\n                    &lt;td style=\"width: 45%;\"&gt;${item.description}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.unitPrice}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable1?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: center; width: 5%;\"&gt;${item.taxable2?string('yes','no')}&lt;/td&gt;\n                    &lt;td style=\"text-align: right; width: 10%;\"&gt;${item.getItemSubtotal()}&lt;/td&gt;\n\n                &lt;/tr&gt;\n\n                &lt;!-- other rows ommitted to reduce body size for SO--&gt;                     \n                \n                &lt;!-- &lt;/#list&gt; --&gt;\n\n            &lt;/tbody&gt;\n\n            &lt;tfoot&gt;\n\n                &lt;tr&gt;\n\n                    &lt;td colspan=\"8\"&gt;\n\n                        &lt;div class=\"summary-space\"&gt;&lt;/div&gt;\n\n\n                    &lt;/td&gt;\n\n                &lt;/tr&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;/tfoot&gt;\n\n    &lt;/table&gt;\n\n\n    &lt;div class=\"headerSection\"&gt;\n        &lt;div class=\"companySection\"&gt;\n\n            &lt;div class=\"headerBusinessLogo headerBusinessFont  logoBusinessDetails\"&gt;\n                ACME Gaming Co LLC\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n\n\n        &lt;div class=\"customerSection\"&gt;\n            &lt;div class=\"billTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Bill To:&lt;/span&gt;&lt;br&gt;${billTo}&lt;/div&gt;\n\n            &lt;div class=\"shipTo\"&gt;&lt;span style=\"font-weight: bold;\"&gt;Ship To:&lt;/span&gt;&lt;br&gt;${shipTo}&lt;/div&gt;\n\n            &lt;div class=\"documentDetails\"&gt;\n                &lt;table class=\"documentInfo\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Number&lt;/td&gt;\n                            &lt;td&gt;${invoice.invoiceNumber}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Invoice Date: &lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Due Date&lt;/td&gt;\n                            &lt;td&gt;2022-03-12&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax Id&lt;/td&gt;\n                            &lt;td&gt;D288658797&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"summarySection\"&gt;\n        &lt;div class=\"message\"&gt;\n            &lt;p&gt;The 13-letter motto was suggested in 1776 by Pierre Eugene du Simitiere to the\n                committee responsible for\n                developing the seal. At the time of the American Revolution, the phrase appeared\n                regularly on the title page\n                of the London-based Gentleman's Magazine, founded in 1731,[10][11] which collected\n                articles from many\n                sources into one periodical. This usage in turn can be traced back to the\n                London-based Huguenot Peter\n                Anthony Motteux, who had employed the adage for his The Gentleman's Journal, or the\n                Monthly Miscellany\n                (1692-1694). The phrase is similar to a Latin translation of a variation of\n                Heraclitus's tenth fragment,\n                \"The one is made up of all things, and all things issue from the one\".&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"totals\"&gt;\n            &lt;div class=\"totalColumns\"&gt;\n\n                &lt;table class=\"totalLabels\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Item Total&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Discounts&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Taxable2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax1&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Tax2&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Payments&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Amount Due&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n                &lt;table class=\"totalAmounts\"&gt;\n                    &lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${subTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${discountsTotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable1Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${taxable2Subtotal}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax1Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${tax2Total}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${payments}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${amountDue}&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\n\n        &lt;!--&lt;div class=\"footer\" style=\"border: 2px solid black;\"&gt;Page 1 of 1&lt;/div&gt;--&gt;\n\n    &lt;/div&gt;\n\n&lt;/body&gt;\n\n\n\n\n\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The browser print output... (works perfect...header/footer at the top/\nbottom of every page)</p>\n<p><a href=\"https://i.stack.imgur.com/rP2cq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rP2cq.png\" alt=\"enter image description here\" /></a></p>\n<p>iText pdfHTML output... (doesn't print header/footer until the end...just ignores fixed position CSS and dumps the header and footer div after the table content)</p>\n<p><a href=\"https://i.stack.imgur.com/fzkoV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzkoV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","http","spring-mvc","tomcat","spring-boot"],"comments":[{"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"score":0,"creation_date":1522669050,"post_id":49610522,"comment_id":86227488,"body_markdown":"You can find required substring from the returned response.","body":"You can find required substring from the returned response."},{"owner":{"account_id":11959087,"reputation":131,"user_id":8750567,"display_name":"HomJie"},"score":0,"creation_date":1522669461,"post_id":49610522,"comment_id":86227689,"body_markdown":"I don&#39;t know how to do","body":"I don&#39;t know how to do"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1522669586,"post_id":49610522,"comment_id":86227751,"body_markdown":"Use a better client?","body":"Use a better client?"},{"owner":{"account_id":11959087,"reputation":131,"user_id":8750567,"display_name":"HomJie"},"score":0,"creation_date":1522669635,"post_id":49610522,"comment_id":86227776,"body_markdown":"no, I need to return with ok","body":"no, I need to return with ok"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1522670263,"post_id":49610522,"comment_id":86228068,"body_markdown":"I can&#39;t reproduce it. Run `curl -D - &lt;your URL&gt;` and check the output. I get `HTTP/1.1 200 OK` in a Spring Boot (version `1.4.2.RELEASE`) app.","body":"I can&#39;t reproduce it. Run <code>curl -D - &lt;your URL&gt;</code> and check the output. I get <code>HTTP&#47;1.1 200 OK</code> in a Spring Boot (version <code>1.4.2.RELEASE</code>) app."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522670466,"creation_date":1522670466,"answer_id":49610913,"question_id":49610522,"body_markdown":"See https://tomcat.apache.org/tomcat-8.5-doc/config/http.html\n\n&gt; sendReasonPhrase  \n&gt;\n&gt; Set this attribute to true if you wish to have a reason phrase in the response. The default value is false.\n&gt;\n&gt; **Note**: This option is deprecated and will be removed in Tomcat 9. The reason phrase will not be sent.\n\nDiscussion: https://bz.apache.org/bugzilla/show_bug.cgi?id=60362\n\nI would definitely try fixing/changing the client.","title":"Spring boot return &#39;HTTP/1.1 200&#39; not &#39;HTTP/1.1 200 OK&#39;","body":"<p>See <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/http.html</a></p>\n<blockquote>\n<p>sendReasonPhrase</p>\n<p>Set this attribute to true if you wish to have a reason phrase in the response. The default value is false.</p>\n<p><strong>Note</strong>: This option is deprecated and will be removed in Tomcat 9. The reason phrase will not be sent.</p>\n</blockquote>\n<p>Discussion: <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=60362\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=60362</a></p>\n<p>I would definitely try fixing/changing the client.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1693475042,"creation_date":1522675211,"answer_id":49612116,"question_id":49610522,"body_markdown":"The HTTP specification ([RFC 2616 Section 6.1][1]) says&lt;sup&gt;1&lt;/sup&gt; that the &quot;reason phrase&quot; consists of zero or more characters.  It also says:\r\n\r\n  &gt; The reason phrases listed here are only\r\n   recommendations -- they MAY be replaced by local equivalents without\r\n   affecting the protocol.\r\n\r\nIn other words, the HTTP specifications allow a server to use different text for the reason phrases, or leave it out entirely.\r\n\r\nThe latest version of the HTTP specification ([RFC 7230 Section 3.1.2][2]) is more explicit about client behavior.\r\n\r\n&gt; The reason-phrase element exists for the sole purpose of providing a\r\n   textual description associated with the numeric status code, mostly\r\n   out of deference to earlier Internet application protocols that were\r\n   more frequently used with interactive text clients.  **A client SHOULD\r\n   ignore the reason-phrase content.**\r\n\r\nIf your client relies on a specific value for the reason phrase of any response, it is non-interoperable, and arguably broken.\r\n\r\nIn this case, you have encountered a case where the developers of Tomcat have decided to leave out the reason phrases .... presumably because they are redundant.  While you can work around this behavior in Tomcat 8.5 (see [this answer][3]), with Tomcat 9 onwards you will have no option other than fixing your (broken!) client code to not depend on the reason phrase.\r\n\r\nIn short: if you plan to continue using Tomcat servers in the future, you should fix or replace the client.\r\n\r\n-------------\r\n\r\n&lt;sup&gt; 1 - The wording in RFC 7231 is virtually identical.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616#section-6.1\r\n  [2]: https://www.rfc-editor.org/rfc/rfc7230#section-3.1.2\r\n  [3]: https://stackoverflow.com/a/49610913/139985","title":"Spring boot return &#39;HTTP/1.1 200&#39; not &#39;HTTP/1.1 200 OK&#39;","body":"<p>The HTTP specification (<a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-6.1\" rel=\"nofollow noreferrer\">RFC 2616 Section 6.1</a>) says<sup>1</sup> that the &quot;reason phrase&quot; consists of zero or more characters.  It also says:</p>\n<blockquote>\n<p>The reason phrases listed here are only\nrecommendations -- they MAY be replaced by local equivalents without\naffecting the protocol.</p>\n</blockquote>\n<p>In other words, the HTTP specifications allow a server to use different text for the reason phrases, or leave it out entirely.</p>\n<p>The latest version of the HTTP specification (<a href=\"https://www.rfc-editor.org/rfc/rfc7230#section-3.1.2\" rel=\"nofollow noreferrer\">RFC 7230 Section 3.1.2</a>) is more explicit about client behavior.</p>\n<blockquote>\n<p>The reason-phrase element exists for the sole purpose of providing a\ntextual description associated with the numeric status code, mostly\nout of deference to earlier Internet application protocols that were\nmore frequently used with interactive text clients.  <strong>A client SHOULD\nignore the reason-phrase content.</strong></p>\n</blockquote>\n<p>If your client relies on a specific value for the reason phrase of any response, it is non-interoperable, and arguably broken.</p>\n<p>In this case, you have encountered a case where the developers of Tomcat have decided to leave out the reason phrases .... presumably because they are redundant.  While you can work around this behavior in Tomcat 8.5 (see <a href=\"https://stackoverflow.com/a/49610913/139985\">this answer</a>), with Tomcat 9 onwards you will have no option other than fixing your (broken!) client code to not depend on the reason phrase.</p>\n<p>In short: if you plan to continue using Tomcat servers in the future, you should fix or replace the client.</p>\n<hr />\n<p><sup> 1 - The wording in RFC 7231 is virtually identical.</sup></p>\n"}],"owner":{"account_id":11959087,"reputation":131,"user_id":8750567,"display_name":"HomJie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4813,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1693475042,"creation_date":1522668919,"question_id":49610522,"body_markdown":"Client expecting the &quot;`OK`&quot; after &quot;`200`&quot; when receiving HTTP response as:\r\n\r\n    HTTP/1.1 200 OK\r\n\r\nWithout the &quot;`OK`&quot;, the client can NOT parse the HTTP response correctly. How to fix the problem\r\n\r\n------\r\nI had fix it\r\n\r\n```java\r\n@Bean\r\npublic EmbeddedServletContainerCustomizer containerCustomizer() {\r\n    return container -&gt; {\r\n        if (container instanceof TomcatEmbeddedServletContainerFactory) {\r\n            TomcatEmbeddedServletContainerFactory tomcat = (TomcatEmbeddedServletContainerFactory)container;\r\n            tomcat.addConnectorCustomizers((TomcatConnectorCustomizer)connector -&gt; {\r\n                ProtocolHandler protocolHandler = connector.getProtocolHandler();\r\n                if (protocolHandler != null &amp;&amp; protocolHandler instanceof AbstractHttp11Protocol) {\r\n                    AbstractProtocol protocol = (AbstractProtocol)protocolHandler;\r\n                    // fix tomcat 8.5 can&#39;t send reason phrase\r\n                    protocol.setSendReasonPhrase(true);\r\n                }\r\n            });\r\n        }\r\n    };\r\n}\r\n```\r\n","title":"Spring boot return &#39;HTTP/1.1 200&#39; not &#39;HTTP/1.1 200 OK&#39;","body":"<p>Client expecting the &quot;<code>OK</code>&quot; after &quot;<code>200</code>&quot; when receiving HTTP response as:</p>\n<pre><code>HTTP/1.1 200 OK\n</code></pre>\n<p>Without the &quot;<code>OK</code>&quot;, the client can NOT parse the HTTP response correctly. How to fix the problem</p>\n<hr />\n<p>I had fix it</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic EmbeddedServletContainerCustomizer containerCustomizer() {\n    return container -&gt; {\n        if (container instanceof TomcatEmbeddedServletContainerFactory) {\n            TomcatEmbeddedServletContainerFactory tomcat = (TomcatEmbeddedServletContainerFactory)container;\n            tomcat.addConnectorCustomizers((TomcatConnectorCustomizer)connector -&gt; {\n                ProtocolHandler protocolHandler = connector.getProtocolHandler();\n                if (protocolHandler != null &amp;&amp; protocolHandler instanceof AbstractHttp11Protocol) {\n                    AbstractProtocol protocol = (AbstractProtocol)protocolHandler;\n                    // fix tomcat 8.5 can't send reason phrase\n                    protocol.setSendReasonPhrase(true);\n                }\n            });\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","xml","jaxb","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1693406376,"post_id":77008850,"comment_id":135757110,"body_markdown":"Make sure to build the instance with required attributes `@XmlElement(required = true)`","body":"Make sure to build the instance with required attributes <code>@XmlElement(required = true)</code>"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1693406928,"post_id":77008850,"comment_id":135757260,"body_markdown":"Need to see the beginning of XML file.  root tag should be &quot;audio-service&quot; and it is case sensitive.  The issue could be the namespace needs to be defined in class definition.","body":"Need to see the beginning of XML file.  root tag should be &quot;audio-service&quot; and it is case sensitive.  The issue could be the namespace needs to be defined in class definition."},{"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"score":0,"creation_date":1693415971,"post_id":77008850,"comment_id":135759256,"body_markdown":"Here&#39;s a small stand-alone sample project [README](https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/animal/README.md) and [ZIP](https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-animal-2.1.0-mvn-src.zip) that uses `jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0`, `org.glassfish.jaxb:jaxb-runtime:jar:4.0.2` and [hisrc-higherjaxb-maven-plugin](https://github.com/patrodyne/hisrc-higherjaxb#readme). It should be easy to replace the sample schema with your schema to see if it helps to use the latest JAXB.","body":"Here&#39;s a small stand-alone sample project <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/animal/README.md\" rel=\"nofollow noreferrer\">README</a> and <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-animal-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">ZIP</a> that uses <code>jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0</code>, <code>org.glassfish.jaxb:jaxb-runtime:jar:4.0.2</code> and <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-maven-plugin</a>. It should be easy to replace the sample schema with your schema to see if it helps to use the latest JAXB."}],"answers":[{"tags":[],"owner":{"account_id":4867191,"reputation":11,"user_id":3925008,"display_name":"Pichou Bichou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693474698,"creation_date":1693474698,"answer_id":77014617,"question_id":77008850,"body_markdown":"Thanks for your answers, It gives me the idea to check my dependencies.\r\nFinally I&#39;ve found the pbm in the pom i had mixed dependencies with \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt; I had mix import with : \r\n```\r\nAnd \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSince I&#39;ve removed javax.xml.bind packages It&#39;s now resolved !\r\n\r\nThanks again ","title":"Pbm marshaling XML with classes generated via JAXB2","body":"<p>Thanks for your answers, It gives me the idea to check my dependencies.\nFinally I've found the pbm in the pom i had mixed dependencies with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt; I had mix import with : \n</code></pre>\n<p>And</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Since I've removed javax.xml.bind packages It's now resolved !</p>\n<p>Thanks again</p>\n"}],"owner":{"account_id":4867191,"reputation":11,"user_id":3925008,"display_name":"Pichou Bichou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693474698,"creation_date":1693404786,"question_id":77008850,"body_markdown":"today is one day I think I&#39;ll become crazy.\r\n\r\nI would like to generate some code to be able to mashshall/unmarshall XML files.\r\nI&#39;m starting with an XSD that I pass to JAXB2 to generate Java classes via a maven module =&gt; It&#39;s OK.\r\n\r\nThen I&#39;m using those generated classes to make a first test to create a basic XML file but I&#39;ve got the following error : Impossible to serialize type &quot;com.xxx.xxx.AudioService&quot; as an element because it is missing an @XmlRootElement annotation\r\n\r\n```\r\npublic static void marshal() throws JAXBException, IOException {\r\n\t\tAudioService audioService = new AudioService();\r\n\t\t\r\n\t\taudioService.setName(&quot;TTS1&quot;);\r\n\t\taudioService.setEngineClass(&quot;Toto&quot;);\r\n\t\t\r\n\t\tJAXBContext context = JAXBContext.newInstance(AudioService.class);\r\n\t\tMarshaller mar= context.createMarshaller();\r\n\t\tmar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n\t\tmar.marshal(audioService, new File(&quot;./test.xml&quot;));\r\n\t}\r\n```\r\n\r\nBut my generated  class AudioService looks to :\r\n\r\n```\r\npackage com.xxx.xxx;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport jakarta.xml.bind.JAXBElement;\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlAttribute;\r\nimport jakarta.xml.bind.annotation.XmlElement;\r\nimport jakarta.xml.bind.annotation.XmlElementRef;\r\nimport jakarta.xml.bind.annotation.XmlMixed;\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\nimport jakarta.xml.bind.annotation.XmlValue;\r\n\r\n\r\n@XmlRootElement(name = &quot;audio-service&quot;)\r\npublic class AudioService {\r\n\r\n    @XmlElement(name = &quot;property&quot;)\r\n    protected List&lt;AudioService.Property&gt; properties;\r\n    @XmlElement(required = true)\r\n    protected AudioService.Tts tts;\r\n```\r\n\r\nDoes anybody have an idea why this error is thrown as everything seems ok ? \r\n\r\nNote it&#39;s runing under java 17, \r\njavax.xml.bind:jaxb-api = 2.3.1\r\njakarta.xml.bind:jakarta.xml.bind-api=4.0.0\r\n\r\nThanks","title":"Pbm marshaling XML with classes generated via JAXB2","body":"<p>today is one day I think I'll become crazy.</p>\n<p>I would like to generate some code to be able to mashshall/unmarshall XML files.\nI'm starting with an XSD that I pass to JAXB2 to generate Java classes via a maven module =&gt; It's OK.</p>\n<p>Then I'm using those generated classes to make a first test to create a basic XML file but I've got the following error : Impossible to serialize type &quot;com.xxx.xxx.AudioService&quot; as an element because it is missing an @XmlRootElement annotation</p>\n<pre><code>public static void marshal() throws JAXBException, IOException {\n        AudioService audioService = new AudioService();\n        \n        audioService.setName(&quot;TTS1&quot;);\n        audioService.setEngineClass(&quot;Toto&quot;);\n        \n        JAXBContext context = JAXBContext.newInstance(AudioService.class);\n        Marshaller mar= context.createMarshaller();\n        mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        mar.marshal(audioService, new File(&quot;./test.xml&quot;));\n    }\n</code></pre>\n<p>But my generated  class AudioService looks to :</p>\n<pre><code>package com.xxx.xxx;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport jakarta.xml.bind.JAXBElement;\nimport jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlElementRef;\nimport jakarta.xml.bind.annotation.XmlMixed;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlType;\nimport jakarta.xml.bind.annotation.XmlValue;\n\n\n@XmlRootElement(name = &quot;audio-service&quot;)\npublic class AudioService {\n\n    @XmlElement(name = &quot;property&quot;)\n    protected List&lt;AudioService.Property&gt; properties;\n    @XmlElement(required = true)\n    protected AudioService.Tts tts;\n</code></pre>\n<p>Does anybody have an idea why this error is thrown as everything seems ok ?</p>\n<p>Note it's runing under java 17,\njavax.xml.bind:jaxb-api = 2.3.1\njakarta.xml.bind:jakarta.xml.bind-api=4.0.0</p>\n<p>Thanks</p>\n"},{"tags":["java","junit","powermockito"],"answers":[{"comments":[{"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"score":1,"creation_date":1646145474,"post_id":71296829,"comment_id":126047705,"body_markdown":"It solves the previous error but it gives another exception\n\njava.lang.reflect.InaccessibleObjectException: Unable to make private static long java.util.UUID.parse4Nibbles(java.lang.String,int) accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3d8c7aca","body":"It solves the previous error but it gives another exception  java.lang.reflect.InaccessibleObjectException: Unable to make private static long java.util.UUID.parse4Nibbles(java.lang.String,int) accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3d8c7aca"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1646151551,"post_id":71296829,"comment_id":126050243,"body_markdown":"You&#39;ll need to add an `argLine` like that one for each package that is reported. Note that this is caused because PowerMock is doing stuff it shouldn&#39;t be doing. Is there perhaps a newer version that you can use?","body":"You&#39;ll need to add an <code>argLine</code> like that one for each package that is reported. Note that this is caused because PowerMock is doing stuff it shouldn&#39;t be doing. Is there perhaps a newer version that you can use?"},{"owner":{"account_id":6685218,"reputation":459,"user_id":5156737,"display_name":"Ayush Shukla"},"score":0,"creation_date":1657090703,"post_id":71296829,"comment_id":128723685,"body_markdown":"How can I do this with gradle and TestNG?","body":"How can I do this with gradle and TestNG?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1657115265,"post_id":71296829,"comment_id":128732991,"body_markdown":"I can&#39;t help you with that, as I haven&#39;t worked with either of them.","body":"I can&#39;t help you with that, as I haven&#39;t worked with either of them."},{"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"score":2,"creation_date":1673449678,"post_id":71296829,"comment_id":132502266,"body_markdown":"Surefire was picking up one of the `argLine` (and working) but not the other packages until I saw this: https://stackoverflow.com/a/64920692/2336934.  (only 1 `&lt;argLine/&gt;` tag needed for all `--add-opens` and other arguments)","body":"Surefire was picking up one of the <code>argLine</code> (and working) but not the other packages until I saw this: <a href=\"https://stackoverflow.com/a/64920692/2336934\">stackoverflow.com/a/64920692/2336934</a>.  (only 1 <code>&lt;argLine&#47;&gt;</code> tag needed for all <code>--add-opens</code> and other arguments)"},{"owner":{"account_id":12701375,"reputation":95,"user_id":9227989,"display_name":"Babad00k"},"score":0,"creation_date":1696851257,"post_id":71296829,"comment_id":136201588,"body_markdown":"Migrating from Java 8 to Java 17 led me to this error and your answer gave me a hint on how to solve our issue. So, thanks!","body":"Migrating from Java 8 to Java 17 led me to this error and your answer gave me a hint on how to solve our issue. So, thanks!"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1696872161,"post_id":71296829,"comment_id":136205747,"body_markdown":"@Babad00k you&#39;re welcome","body":"@Babad00k you&#39;re welcome"}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":7,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1646060009,"creation_date":1646060009,"answer_id":71296829,"question_id":71296783,"body_markdown":"In Java 9 and above, the module system can cause these errors. I&#39;ve had the same issues with JUnit 5 itself because I omit the `public` from my test classes and methods.\r\n\r\nHere&#39;s what I have in my POM to solve this:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;!-- Allow JUnit to access the test classes --&gt;\r\n        &lt;argLine&gt;--add-opens &lt;my-module&gt;/&lt;my-package&gt;=ALL-UNNAMED&lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIn your case you probably need to use `java.base/java.lang=ALL_UNNAMED`.","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>In Java 9 and above, the module system can cause these errors. I've had the same issues with JUnit 5 itself because I omit the <code>public</code> from my test classes and methods.</p>\n<p>Here's what I have in my POM to solve this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;!-- Allow JUnit to access the test classes --&gt;\n    &lt;argLine&gt;--add-opens &lt;my-module&gt;/&lt;my-package&gt;=ALL-UNNAMED&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>In your case you probably need to use <code>java.base/java.lang=ALL_UNNAMED</code>.</p>\n"},{"tags":[],"owner":{"account_id":7840591,"reputation":198,"user_id":5927289,"display_name":"Mario Petrovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1646060610,"creation_date":1646060610,"answer_id":71296956,"question_id":71296783,"body_markdown":"launch the JVM as follows:\r\n\r\n    # --add-opens has the following syntax: {A}/{package}={B}\r\n    java --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nhttps://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>launch the JVM as follows:</p>\n<pre><code># --add-opens has the following syntax: {A}/{package}={B}\njava --add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?</a></p>\n"},{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669304462,"creation_date":1669304462,"answer_id":74563206,"question_id":71296783,"body_markdown":"Uninstalling openjdk 19 solved this error for me.\r\n\r\n    $ brew uninstall maven openjdk@19\r\n    $ brew install --ignore-dependencies maven","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>Uninstalling openjdk 19 solved this error for me.</p>\n<pre><code>$ brew uninstall maven openjdk@19\n$ brew install --ignore-dependencies maven\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1214811,"reputation":142,"user_id":1182625,"display_name":"user1182625"},"score":0,"creation_date":1691482354,"post_id":75764924,"comment_id":135494001,"body_markdown":"Java8 doesn&#39;t have this issue?","body":"Java8 doesn&#39;t have this issue?"},{"owner":{"account_id":4276592,"reputation":309,"user_id":3497056,"display_name":"S&#233;bastien Coste"},"score":0,"creation_date":1692404292,"post_id":75764924,"comment_id":135623037,"body_markdown":"No it came with java9","body":"No it came with java9"}],"tags":[],"owner":{"account_id":4234156,"reputation":848,"user_id":3465812,"display_name":"Ayushi Jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679039167,"creation_date":1679039167,"answer_id":75764924,"question_id":71296783,"body_markdown":"In IntelliJ, I went to &quot;Edit Configuration&quot; for opening the Run/Debug Configurations and there I explicitly gave &quot;Java8&quot; as my version.","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>In IntelliJ, I went to &quot;Edit Configuration&quot; for opening the Run/Debug Configurations and there I explicitly gave &quot;Java8&quot; as my version.</p>\n"},{"tags":[],"owner":{"account_id":5702469,"reputation":506,"user_id":4507044,"accept_rate":0,"display_name":"Vinayak Khedkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693474658,"creation_date":1693474658,"answer_id":77014613,"question_id":71296783,"body_markdown":"For Android Studio you have to provide a VM option in the configuration where you can put --add-opens &lt;Module_Name&gt;/&lt;Package_of_Module&gt;=ALL_UNNAMED.\r\n\r\nIf you can not see the VM option input box then go to the Modify option and check &quot;Add VM Options&quot; under the Java menu\r\n\r\nThis solved my issue","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>For Android Studio you have to provide a VM option in the configuration where you can put --add-opens &lt;Module_Name&gt;/&lt;Package_of_Module&gt;=ALL_UNNAMED.</p>\n<p>If you can not see the VM option input box then go to the Modify option and check &quot;Add VM Options&quot; under the Java menu</p>\n<p>This solved my issue</p>\n"}],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39113,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":71296829,"answer_count":5,"score":11,"last_activity_date":1693474658,"creation_date":1646059754,"question_id":71296783,"body_markdown":"While running the test I am getting the error , I am not able to understand why am I getting this error , this code is working with fine in java 8 , while running it in java 17 it is giving error. googled this error but found nothing useful. Please help me to understand this error. \r\nThanks in advance:)\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({PopulatedAuthorizedUser.class})\r\n    @SpringBootTest(classes = MockServletContext.class)\r\n    @PowerMockIgnore({&quot;javax.management.*&quot;, &quot;javax.net.ssl.*&quot;, \r\n    &quot;jdk.internal.reflect.*&quot;})\r\n    public class ProjectUserControllerTest {\r\n\r\n    private ProjectUserController controller;\r\n\r\n    private UUID projectId = UUID.randomUUID();\r\n    private UUID groupId = UUID.randomUUID();\r\n    private String email = &quot;project.user@email.com&quot;;\r\n\r\n    @Mock\r\n    private ProjectUserService projectUserService;\r\n\r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Mock\r\n    protected AuthorizedUser au;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        controller = new ProjectUserController();\r\n        FieldUtils.writeField(controller, &quot;projectUserService&quot;, projectUserService, true);\r\n        FieldUtils.writeField(controller, &quot;objectMapper&quot;, objectMapper, true);\r\n        PowerMockito.mockStatic(PopulatedAuthorizedUser.class);\r\n        Mockito.when(PopulatedAuthorizedUser.get()).thenReturn(mockAuthorizedUser());\r\n    }\r\n\r\n    @Test\r\n    public void testGetProjectUsers() {\r\n        Mockito.doReturn(Arrays.asList(mockProjectUser())).when(projectUserService)\r\n                .findProjectUsersByProjectId(projectId);\r\n        Mockito.doNothing().when(projectUserService).enrichUserDetails(any(ProjectUserDto.class));\r\n        ResponseEntity&lt;List&lt;ProjectUserDto&gt;&gt; response=controller.getProjectUsers(projectId);\r\n        assertNotNull(response);\r\n        ProjectUserDto projectUserDto = response.getBody().get(0);\r\n        assertEquals(groupId, projectUserDto.getGroupId());\r\n        assertEquals(email, projectUserDto.getUsername());\r\n        assertTrue(projectUserDto.getEmailNotification());\r\n        assertEquals(ProjectUserRole.OWNER.toString(), projectUserDto.getRole());\r\n       }\r\n\r\n     }\r\n\r\nException:\r\n\r\n\r\n     java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ba23b66\r\n\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1492)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1467)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:847)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:807)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:790)\r\n\tat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:466)\r\n\tat org.powermock.modules.junit4.common.internal.impl.PowerMockJUnit4RunListener.testFinished(PowerMockJUnit4RunListener.java:55)\r\n\tat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\r\n\tat org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\r\n\tat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\r\n\tat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.testAborted(PowerMockJUnit44RunnerDelegateImpl.java:229)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:206)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\n\r\n\r\n\r\n","title":"JUINT test giving error java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize()","body":"<p>While running the test I am getting the error , I am not able to understand why am I getting this error , this code is working with fine in java 8 , while running it in java 17 it is giving error. googled this error but found nothing useful. Please help me to understand this error.\nThanks in advance:)</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({PopulatedAuthorizedUser.class})\n@SpringBootTest(classes = MockServletContext.class)\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;javax.net.ssl.*&quot;, \n&quot;jdk.internal.reflect.*&quot;})\npublic class ProjectUserControllerTest {\n\nprivate ProjectUserController controller;\n\nprivate UUID projectId = UUID.randomUUID();\nprivate UUID groupId = UUID.randomUUID();\nprivate String email = &quot;project.user@email.com&quot;;\n\n@Mock\nprivate ProjectUserService projectUserService;\n\nprivate ObjectMapper objectMapper = new ObjectMapper();\n\n@Mock\nprotected AuthorizedUser au;\n\n@Before\npublic void setUp() throws Exception {\n    controller = new ProjectUserController();\n    FieldUtils.writeField(controller, &quot;projectUserService&quot;, projectUserService, true);\n    FieldUtils.writeField(controller, &quot;objectMapper&quot;, objectMapper, true);\n    PowerMockito.mockStatic(PopulatedAuthorizedUser.class);\n    Mockito.when(PopulatedAuthorizedUser.get()).thenReturn(mockAuthorizedUser());\n}\n\n@Test\npublic void testGetProjectUsers() {\n    Mockito.doReturn(Arrays.asList(mockProjectUser())).when(projectUserService)\n            .findProjectUsersByProjectId(projectId);\n    Mockito.doNothing().when(projectUserService).enrichUserDetails(any(ProjectUserDto.class));\n    ResponseEntity&lt;List&lt;ProjectUserDto&gt;&gt; response=controller.getProjectUsers(projectId);\n    assertNotNull(response);\n    ProjectUserDto projectUserDto = response.getBody().get(0);\n    assertEquals(groupId, projectUserDto.getGroupId());\n    assertEquals(email, projectUserDto.getUsername());\n    assertTrue(projectUserDto.getEmailNotification());\n    assertEquals(ProjectUserRole.OWNER.toString(), projectUserDto.getRole());\n   }\n\n }\n</code></pre>\n<p>Exception:</p>\n<pre><code> java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ba23b66\n\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\nat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1492)\nat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1467)\nat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:847)\nat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:807)\nat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:790)\nat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:466)\nat org.powermock.modules.junit4.common.internal.impl.PowerMockJUnit4RunListener.testFinished(PowerMockJUnit4RunListener.java:55)\nat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\nat org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\nat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\nat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.testAborted(PowerMockJUnit44RunnerDelegateImpl.java:229)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:206)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\nat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\nat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","docker","apache-kafka"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1608725481,"post_id":65423839,"comment_id":115666650,"body_markdown":"How are you starting the Kafka containers?  Can you run Kafka directly on the host, so you have one fewer totally new technology to work with?  (In particular there&#39;s a confusing bit where the initial Kafka connection has the server tell the client where to connect, and that can be tricky to get right in a mixed Docker/non-Docker environment.)","body":"How are you starting the Kafka containers?  Can you run Kafka directly on the host, so you have one fewer totally new technology to work with?  (In particular there&#39;s a confusing bit where the initial Kafka connection has the server tell the client where to connect, and that can be tricky to get right in a mixed Docker/non-Docker environment.)"},{"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"score":0,"creation_date":1608726377,"post_id":65423839,"comment_id":115666981,"body_markdown":"@DavidMaze\nto run zookeeper container:\n `docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc/cp-zookeeper:4.0.0`  \n  to run kafka container: `docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka:4.0.0`\n yeah, it does work perfectly with kafka_2.13-2.6.0 folder on my host. I know it&#39;s a confusing structure and my api should run in a third container, but I&#39;m trying to understand how real Kafka container is.","body":"@DavidMaze to run zookeeper container:  <code>docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc&#47;cp-zookeeper:4.0.0</code>     to run kafka container: <code>docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT:&#47;&#47;localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc&#47;cp-kafka:4.0.0</code>  yeah, it does work perfectly with kafka_2.13-2.6.0 folder on my host. I know it&#39;s a confusing structure and my api should run in a third container, but I&#39;m trying to understand how real Kafka container is."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1608746917,"post_id":65423839,"comment_id":115675387,"body_markdown":"What do you mean &quot;how real&quot;? 1)You don&#39;t need to use `--net=host`, and that only works as expected on Linux, anyway 2) Please read https://www.confluent.io/blog/kafka-listeners-explained/ 3) Using Compose would be easier (see the blog post) 4) why do you want/need to use an old version of Confluent Platform?","body":"What do you mean &quot;how real&quot;? 1)You don&#39;t need to use <code>--net=host</code>, and that only works as expected on Linux, anyway 2) Please read <a href=\"https://www.confluent.io/blog/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">confluent.io/blog/kafka-listeners-explained</a> 3) Using Compose would be easier (see the blog post) 4) why do you want/need to use an old version of Confluent Platform?"},{"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"score":0,"creation_date":1608751296,"post_id":65423839,"comment_id":115676930,"body_markdown":"@OneCricketeer \nI have no experience with virtual os at all. It&#39;s kinda black box for me and I&#39;d like to see how it does work step by step. \n1) and 4) I&#39;ve copied from docs.confluent.io . 2 and 3 - ok","body":"@OneCricketeer  I have no experience with virtual os at all. It&#39;s kinda black box for me and I&#39;d like to see how it does work step by step.  1) and 4) I&#39;ve copied from docs.confluent.io . 2 and 3 - ok"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1608755898,"post_id":65423839,"comment_id":115678550,"body_markdown":"4) You could read the warning at the top of the page that links to the current version ;)","body":"4) You could read the warning at the top of the page that links to the current version ;)"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1608756066,"post_id":65423839,"comment_id":115678605,"body_markdown":"In any case, the key takeaway would be that you need an advertised listener from the container that exposes and returns the Kafka address. With that information, you can either run the spring app in or out of a container, but you&#39;d have to use different addresses and ports depending on how you configured Kafka","body":"In any case, the key takeaway would be that you need an advertised listener from the container that exposes and returns the Kafka address. With that information, you can either run the spring app in or out of a container, but you&#39;d have to use different addresses and ports depending on how you configured Kafka"}],"answers":[{"tags":[],"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608827341,"creation_date":1608827341,"answer_id":65440914,"question_id":65423839,"body_markdown":"For some reason, it works with a new version of the guide.\r\n\r\n[https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html][1]\r\n\r\n\r\n  [1]: https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html","title":"Kafka and zookeeper docker containers talking to my api on the host machine","body":"<p>For some reason, it works with a new version of the guide.</p>\n<p><a href=\"https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/quickstart/ce-docker-quickstart.html</a></p>\n"}],"owner":{"account_id":17452153,"reputation":51,"user_id":12774094,"display_name":"Timofey Borisov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65440914,"answer_count":1,"score":0,"last_activity_date":1693474575,"creation_date":1608724181,"question_id":65423839,"body_markdown":"Step 1: Setting up Zookeeper and Kafka Containers\r\n\r\nI&#39;ve diligently followed the instructions outlined in a particular guide to establish a Zookeeper container, establishing a seamless connection with a Kafka container. This connection facilitates their communication through local ports. Furthermore, I&#39;ve successfully created a topic named &quot;foo,&quot; featuring a single partition. To populate this topic, I&#39;ve dispatched a total of 42 messages using an appropriate Docker command. I&#39;ve comprehended that a Kafka port is now accessible on my local operating system via &quot;localhost:29092.&quot; This port essentially serves as a gateway for both message production and consumption.\r\n\r\nCommands used to launch the Zookeeper container:\r\n\r\n    docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc/cp-zookeeper:4.0.0   \r\n  \r\nCommands used to initiate the Kafka container:\r\n\r\n    docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka:4.0.0\r\n\r\nStep 2: Integrating Kafka Producer and Consumer Scripts in Spring Boot API\r\n\r\nMoving forward, my objective revolves around integrating Kafka producer and consumer scripts into my Spring Boot API. Remarkably, I&#39;m striving to accomplish this without resorting to Docker Compose. My intention is to verify whether these two containers can function akin to a conventional Kafka distribution when operating on my host operating system.\r\n\r\nCommands employed for launching the Kafka container:\r\n\r\n    public class KafkaProducer {private static final String TOPIC = &quot;foo&quot;;...}\r\n    public class KafkaConsumer { @KafkaListener(topics = &quot;foo&quot;, groupId = &quot;group1&quot;)...}\r\n    \r\n    spring.kafka.producer.bootstrap-servers: localhost:29092\r\n    spring.kafka.consumer.bootstrap-servers: localhost:29092\r\n\r\nas result, I&#39;m getting these ERRORS:\r\n\r\n    2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Connection to node -1 (localhost/127.0.0.1:29092) could not be established. Broker may not be available.\r\n    2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Bootstrap broker localhost:29092 (id: -1 rack: null) disconnected.\r\n\r\nWhat went wrong?\r\n\r\n\r\n  [1]: https://docs.confluent.io/4.0.0/installation/docker/docs/quickstart.html#getting-started-with-docker-client\r\n  [2]: https://i.stack.imgur.com/q4WUJ.png","title":"Kafka and zookeeper docker containers talking to my api on the host machine","body":"<p>Step 1: Setting up Zookeeper and Kafka Containers</p>\n<p>I've diligently followed the instructions outlined in a particular guide to establish a Zookeeper container, establishing a seamless connection with a Kafka container. This connection facilitates their communication through local ports. Furthermore, I've successfully created a topic named &quot;foo,&quot; featuring a single partition. To populate this topic, I've dispatched a total of 42 messages using an appropriate Docker command. I've comprehended that a Kafka port is now accessible on my local operating system via &quot;localhost:29092.&quot; This port essentially serves as a gateway for both message production and consumption.</p>\n<p>Commands used to launch the Zookeeper container:</p>\n<pre><code>docker run -d --net=host --name=zookeeper -e ZOOKEEPER_CLIENT_PORT=32181 confluentinc/cp-zookeeper:4.0.0   \n</code></pre>\n<p>Commands used to initiate the Kafka container:</p>\n<pre><code>docker run -d --net=host --name=kafka -e KAFKA_ZOOKEEPER_CONNECT=localhost:32181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:29092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka:4.0.0\n</code></pre>\n<p>Step 2: Integrating Kafka Producer and Consumer Scripts in Spring Boot API</p>\n<p>Moving forward, my objective revolves around integrating Kafka producer and consumer scripts into my Spring Boot API. Remarkably, I'm striving to accomplish this without resorting to Docker Compose. My intention is to verify whether these two containers can function akin to a conventional Kafka distribution when operating on my host operating system.</p>\n<p>Commands employed for launching the Kafka container:</p>\n<pre><code>public class KafkaProducer {private static final String TOPIC = &quot;foo&quot;;...}\npublic class KafkaConsumer { @KafkaListener(topics = &quot;foo&quot;, groupId = &quot;group1&quot;)...}\n\nspring.kafka.producer.bootstrap-servers: localhost:29092\nspring.kafka.consumer.bootstrap-servers: localhost:29092\n</code></pre>\n<p>as result, I'm getting these ERRORS:</p>\n<pre><code>2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Connection to node -1 (localhost/127.0.0.1:29092) could not be established. Broker may not be available.\n2020-12-23 14:38:45.937  WARN 14056 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group1-1, groupId=group1] Bootstrap broker localhost:29092 (id: -1 rack: null) disconnected.\n</code></pre>\n<p>What went wrong?</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":2,"creation_date":1693475567,"post_id":77014587,"comment_id":135767188,"body_markdown":"All unchecked exceptions will trigger the rollback, but if for some reason you want to rollback with a checked exception you can do it with the rollbackFor, for example you have a custom exception when you do not find a specific database user, you can put it in your `rollbackFor` and every time you have it the rollback will occur.","body":"All unchecked exceptions will trigger the rollback, but if for some reason you want to rollback with a checked exception you can do it with the rollbackFor, for example you have a custom exception when you do not find a specific database user, you can put it in your <code>rollbackFor</code> and every time you have it the rollback will occur."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693475603,"post_id":77014587,"comment_id":135767193,"body_markdown":"There isn&#39;t any point, there is only a point using `noRollbackFor` for specific `RuntimeException`&#39;s or `rollbackFor` to include certain checked exceptions. It will still rollback all `RuntimeException` that occur.","body":"There isn&#39;t any point, there is only a point using <code>noRollbackFor</code> for specific <code>RuntimeException</code>&#39;s or <code>rollbackFor</code> to include certain checked exceptions. It will still rollback all <code>RuntimeException</code> that occur."},{"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"score":0,"creation_date":1693477747,"post_id":77014587,"comment_id":135767617,"body_markdown":"It will keep rolling back for all runtime unchecked exceptions and errors. Only thing you did by this code @Transactional(rollbackFor = { SomeRuntimeException.class }), that you ensure that when you raise this exception, it rolls back.","body":"It will keep rolling back for all runtime unchecked exceptions and errors. Only thing you did by this code @Transactional(rollbackFor = { SomeRuntimeException.class }), that you ensure that when you raise this exception, it rolls back."}],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693474554,"creation_date":1693474425,"question_id":77014587,"body_markdown":"Suppose I have a method annotated with `@Transactional`, without the `rollbackFor` attribute:\r\n\r\n```java\r\n@Transational\r\npublic void doSomething() {\r\n    ...\r\n}\r\n```\r\n\r\nThe docs say that when `rollbackFor` is not specified, then if any `RuntimeException` or `Error` occurs, the transaction is rolled back.\r\n\r\nFrom the [`Transactional.rollbackFor()`][rollback-for] docs:\r\n\r\n&gt; By default, a transaction will be rolled back on `RuntimeException` and `Error` but not on checked exceptions (business exceptions). See `DefaultTransactionAttribute.rollbackOn(Throwable)` for a detailed explanation.\r\n\r\nFrom the [`DefaultTransactionAttribute.rollbackOn(Throwable)`][rollback-on] docs:\r\n\r\n&gt; The default behavior is as with EJB: rollback on unchecked exception (RuntimeException), assuming an unexpected outcome outside any business rules. Additionally, we also attempt to rollback on Error which is clearly an unexpected outcome as well.\r\n\r\nNow suppose I have a custom subclass of `RuntimeException` called `SomeRuntimeException`, And I add the `rollbackFor` attribute:\r\n\r\n```java\r\n@Transactional(rollbackFor = { SomeRuntimeException.class })\r\npublic void doSomething() {\r\n    ...\r\n}\r\n```\r\n\r\nDoes that mean that any other `RuntimeException`, like `ArrayIndexOutOfBoundsException` or even `NullPointerException`, will cause the transaction to be committed? (I think not, but I&#39;m not sure whether there are any exceptions to this.)\r\n\r\nAnyhow, what&#39;s the point of adding any subclass of `RuntimeException` to the array of `rollbackFor` values?\r\n\r\n[ROLLBACK-FOR]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#rollbackFor()\r\n[ROLLBACK-ON]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/interceptor/DefaultTransactionAttribute.html#rollbackOn(java.lang.Throwable)","title":"Does @Transactional(rollbackFor = { SomeRuntimeException.class }) in Spring cause other RuntimeExceptions to be excluded?","body":"<p>Suppose I have a method annotated with <code>@Transactional</code>, without the <code>rollbackFor</code> attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transational\npublic void doSomething() {\n    ...\n}\n</code></pre>\n<p>The docs say that when <code>rollbackFor</code> is not specified, then if any <code>RuntimeException</code> or <code>Error</code> occurs, the transaction is rolled back.</p>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html#rollbackFor()\" rel=\"nofollow noreferrer\"><code>Transactional.rollbackFor()</code></a> docs:</p>\n<blockquote>\n<p>By default, a transaction will be rolled back on <code>RuntimeException</code> and <code>Error</code> but not on checked exceptions (business exceptions). See <code>DefaultTransactionAttribute.rollbackOn(Throwable)</code> for a detailed explanation.</p>\n</blockquote>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/interceptor/DefaultTransactionAttribute.html#rollbackOn(java.lang.Throwable)\" rel=\"nofollow noreferrer\"><code>DefaultTransactionAttribute.rollbackOn(Throwable)</code></a> docs:</p>\n<blockquote>\n<p>The default behavior is as with EJB: rollback on unchecked exception (RuntimeException), assuming an unexpected outcome outside any business rules. Additionally, we also attempt to rollback on Error which is clearly an unexpected outcome as well.</p>\n</blockquote>\n<p>Now suppose I have a custom subclass of <code>RuntimeException</code> called <code>SomeRuntimeException</code>, And I add the <code>rollbackFor</code> attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(rollbackFor = { SomeRuntimeException.class })\npublic void doSomething() {\n    ...\n}\n</code></pre>\n<p>Does that mean that any other <code>RuntimeException</code>, like <code>ArrayIndexOutOfBoundsException</code> or even <code>NullPointerException</code>, will cause the transaction to be committed? (I think not, but I'm not sure whether there are any exceptions to this.)</p>\n<p>Anyhow, what's the point of adding any subclass of <code>RuntimeException</code> to the array of <code>rollbackFor</code> values?</p>\n"},{"tags":["java","spring","spring-boot","exception","jax-rs"],"comments":[{"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"score":0,"creation_date":1693346807,"post_id":77003565,"comment_id":135748232,"body_markdown":"Any reason why your RestController is a `@Service` and not `@RestController`","body":"Any reason why your RestController is a <code>@Service</code> and not <code>@RestController</code>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693360290,"creation_date":1693360290,"answer_id":77004530,"question_id":77003565,"body_markdown":"It is because you are using JAX-RS (RESTEasy) rather than spring-mvc to implement the REST API while `@RestControllerAdvice` is the spring-mvc stuff and so it is normal that JAX-RS cannot understand it and does not have any effect. \r\n\r\nYou should refer to [this][1] for how to handle exception in JAX-RS way.\r\n\r\n\r\n  [1]: https://docs.jboss.org/resteasy/docs/6.2.5.Final/userguide/html/ch30.html","title":"ExceptionHandler does not handle exception","body":"<p>It is because you are using JAX-RS (RESTEasy) rather than spring-mvc to implement the REST API while <code>@RestControllerAdvice</code> is the spring-mvc stuff and so it is normal that JAX-RS cannot understand it and does not have any effect.</p>\n<p>You should refer to <a href=\"https://docs.jboss.org/resteasy/docs/6.2.5.Final/userguide/html/ch30.html\" rel=\"nofollow noreferrer\">this</a> for how to handle exception in JAX-RS way.</p>\n"},{"tags":[],"owner":{"account_id":29328418,"reputation":1,"user_id":22470404,"display_name":"ijumper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693474278,"creation_date":1693387680,"answer_id":77006696,"question_id":77003565,"body_markdown":"Try this instead. You may need to use `@RestController` to annotate your controller\r\n\r\n```java\r\n@RestController\r\npublic class UserRestService {\r\n//....\r\n}\r\n```","title":"ExceptionHandler does not handle exception","body":"<p>Try this instead. You may need to use <code>@RestController</code> to annotate your controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class UserRestService {\n//....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18932242,"reputation":87,"user_id":13814148,"display_name":"Bufer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693416815,"creation_date":1693416815,"answer_id":77010321,"question_id":77003565,"body_markdown":"You are right, this did the trick:\r\n```\r\n@Provider\r\n@Component\r\npublic class ApiExceptionHandler implements ExceptionMapper&lt;RuntimeException&gt; {\r\n\r\n    @Override\r\n    public Response toResponse(RuntimeException ex) {\r\n        \r\n       \r\n        int defaultHttpErrorCode = HttpStatus.INTERNAL_SERVER_ERROR.value();\r\n        return Response.status(defaultHttpErrorCode).entity(new EmptyRestResponse()).build();\r\n    }\r\n}\r\n```\r\nFor your information: Provider and Component annotaions are needed.","title":"ExceptionHandler does not handle exception","body":"<p>You are right, this did the trick:</p>\n<pre><code>@Provider\n@Component\npublic class ApiExceptionHandler implements ExceptionMapper&lt;RuntimeException&gt; {\n\n    @Override\n    public Response toResponse(RuntimeException ex) {\n        \n       \n        int defaultHttpErrorCode = HttpStatus.INTERNAL_SERVER_ERROR.value();\n        return Response.status(defaultHttpErrorCode).entity(new EmptyRestResponse()).build();\n    }\n}\n</code></pre>\n<p>For your information: Provider and Component annotaions are needed.</p>\n"}],"owner":{"account_id":18932242,"reputation":87,"user_id":13814148,"display_name":"Bufer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77004530,"answer_count":3,"score":0,"last_activity_date":1693474278,"creation_date":1693342255,"question_id":77003565,"body_markdown":"I&#39;m making a RestApi in Spring boot. I tried to add exception handling so the client gets meaningful response other than 404.\r\n\r\nThis is my RestController:\r\n```\r\n@Path(&quot;/v1&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserRestService {\r\n\r\n  \r\n    private final UserRepository userRepository;\r\n\r\n    @GET\r\n    @Path(&quot;/users/{publicId}&quot;)\r\n    public RestResponse&lt;UserListItemRestDto&gt; getUserByPublicId(@PathParam(&quot;publicId&quot;) UUID publicId) {\r\n\r\n        Optional&lt;User&gt; optionalUser = userRepository.findOneByPublicId(publicId);\r\n\r\n        if(optionalUser.isEmpty()){\r\n            throw new ApiRequestException(&quot;CANNOT FIND USER&quot;);\r\n        }\r\n\r\n        User user = optionalUser.get();\r\n\r\n        return RestResponse.of(UserListItemRestDto.builder()\r\n                        .email(user.getEmail())\r\n                        .name(user.getName())\r\n                .build());\r\n    }\r\n\r\n...\r\n```\r\n\r\nMy ExceptionHandler:\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class ApiExceptionHandler {\r\n\r\n    @ExceptionHandler(ApiRequestException.class)\r\n    public ResponseEntity&lt;ApiException&gt; handleApiRequestException(ApiRequestException e){\r\n        return new ResponseEntity&lt;&gt;(new ApiException(e.getMessage(),\r\n          e.getCause(),\r\n          HttpStatus.BAD_REQUEST, \r\n          ZonedDateTime.now()),HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n```\r\n\r\nMy CustomException:\r\n\r\n```\r\npublic class ApiRequestException extends RuntimeException{\r\n\r\n    public ApiRequestException(String message){\r\n        super(message);\r\n    }\r\n\r\n    public ApiRequestException(String message, Throwable cause){\r\n        super(message,cause);\r\n    }\r\n}\r\n```\r\n\r\nCurrently if no user found it throws the exception but doesn&#39;t get handled.\r\n```\r\norg.jboss.resteasy.spi.UnhandledException: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\r\n\tat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\r\n\tat com.backend.flows.user.rest.UserRestService.getUserByPublicId(UserRestService.java:55) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\r\n\t... 42 common frames omitted\r\n```\r\n\r\nIs the Handler not scanned or I left out an annotation or a misconfig?","title":"ExceptionHandler does not handle exception","body":"<p>I'm making a RestApi in Spring boot. I tried to add exception handling so the client gets meaningful response other than 404.</p>\n<p>This is my RestController:</p>\n<pre><code>@Path(&quot;/v1&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class UserRestService {\n\n  \n    private final UserRepository userRepository;\n\n    @GET\n    @Path(&quot;/users/{publicId}&quot;)\n    public RestResponse&lt;UserListItemRestDto&gt; getUserByPublicId(@PathParam(&quot;publicId&quot;) UUID publicId) {\n\n        Optional&lt;User&gt; optionalUser = userRepository.findOneByPublicId(publicId);\n\n        if(optionalUser.isEmpty()){\n            throw new ApiRequestException(&quot;CANNOT FIND USER&quot;);\n        }\n\n        User user = optionalUser.get();\n\n        return RestResponse.of(UserListItemRestDto.builder()\n                        .email(user.getEmail())\n                        .name(user.getName())\n                .build());\n    }\n\n...\n</code></pre>\n<p>My ExceptionHandler:</p>\n<pre><code>@RestControllerAdvice\npublic class ApiExceptionHandler {\n\n    @ExceptionHandler(ApiRequestException.class)\n    public ResponseEntity&lt;ApiException&gt; handleApiRequestException(ApiRequestException e){\n        return new ResponseEntity&lt;&gt;(new ApiException(e.getMessage(),\n          e.getCause(),\n          HttpStatus.BAD_REQUEST, \n          ZonedDateTime.now()),HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>My CustomException:</p>\n<pre><code>public class ApiRequestException extends RuntimeException{\n\n    public ApiRequestException(String message){\n        super(message);\n    }\n\n    public ApiRequestException(String message, Throwable cause){\n        super(message,cause);\n    }\n}\n</code></pre>\n<p>Currently if no user found it throws the exception but doesn't get handled.</p>\n<pre><code>org.jboss.resteasy.spi.UnhandledException: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\n    at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: com.common.rest.exception.ApiRequestException: CANNOT FIND USER\n    at com.backend.flows.user.rest.UserRestService.getUserByPublicId(UserRestService.java:55) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492) ~[resteasy-core-5.0.0.Final.jar:5.0.0.Final]\n    ... 42 common frames omitted\n</code></pre>\n<p>Is the Handler not scanned or I left out an annotation or a misconfig?</p>\n"},{"tags":["java","image","file","azure-cognitive-services","photo"],"answers":[{"comments":[{"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"score":1,"creation_date":1695033793,"post_id":77014559,"comment_id":135965397,"body_markdown":"Thank you very much for your response Suresh Chikkam! I&#39;m sorry for answering delay. It&#39;s a good idea and I will apply it. btw, it&#39;s true throwing IllegalArgumentException","body":"Thank you very much for your response Suresh Chikkam! I&#39;m sorry for answering delay. It&#39;s a good idea and I will apply it. btw, it&#39;s true throwing IllegalArgumentException"}],"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693474249,"creation_date":1693474249,"answer_id":77014559,"question_id":76976003,"body_markdown":"Calculate the scaling factor as a ratio of the face size to a reference size (e.g., 100x100). Then, you can multiply this scaling factor with your fixed minimum pixel size (e.g., 10) to get a dynamically adjusted minimum pixel size.\r\n\r\n```java\r\ndouble scalingFactor = (double) minDimension / referenceSize;\r\nint dynamicMinPixelSize = (int) (scalingFactor * 10); // Adjust 10 based on your needs\r\nint pixelSize = Math.max(pixelSize, dynamicMinPixelSize);\r\n```\r\n\r\n- Instead of iterating over each pixel within the block, you can use the `BufferedImage` method `setRGB(int startX, int startY, int w, int h, int[] rgbArray, int offset, int scansize)` to set a block of pixels in one operation.\r\n\r\n```java\r\nint[] pixelArray = new int[pixelBlockWidth - x];\r\nArrays.fill(pixelArray, pixelColor);\r\n\r\nfor (int yd = y; yd &lt; pixelBlockHeight; yd++) {\r\n    bufferedImage.setRGB(x, yd, pixelBlockWidth - x, 1, pixelArray, 0, pixelBlockWidth - x);\r\n}\r\n```\r\n\r\n- Throwing an `ArithmeticException` if the `maxPixelBlocks` value is not within the valid range. It might be better to throw an `IllegalArgumentException` instead.\r\n\r\n```java\r\nif (maxPixelBlocks &lt;= 1 || maxPixelBlocks &gt; 36) {\r\n    throw new IllegalArgumentException(&quot;Number of pixel blocks must be in the range of 2 to 36&quot;);\r\n}\r\n```\r\n\r\nI am able get the data that which I send the image.\r\n\r\n**Result:**\r\n![enter image description here](https://i.imgur.com/NWGTXNM.png)\r\n\r\n- Simple block filling might not produce the best quality output. There are algorithms that average the colors within each block, which can lead to smoother pixelation effects.","title":"Pixelate the faces that come to me from an image and resize pixel size","body":"<p>Calculate the scaling factor as a ratio of the face size to a reference size (e.g., 100x100). Then, you can multiply this scaling factor with your fixed minimum pixel size (e.g., 10) to get a dynamically adjusted minimum pixel size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double scalingFactor = (double) minDimension / referenceSize;\nint dynamicMinPixelSize = (int) (scalingFactor * 10); // Adjust 10 based on your needs\nint pixelSize = Math.max(pixelSize, dynamicMinPixelSize);\n</code></pre>\n<ul>\n<li>Instead of iterating over each pixel within the block, you can use the <code>BufferedImage</code> method <code>setRGB(int startX, int startY, int w, int h, int[] rgbArray, int offset, int scansize)</code> to set a block of pixels in one operation.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int[] pixelArray = new int[pixelBlockWidth - x];\nArrays.fill(pixelArray, pixelColor);\n\nfor (int yd = y; yd &lt; pixelBlockHeight; yd++) {\n    bufferedImage.setRGB(x, yd, pixelBlockWidth - x, 1, pixelArray, 0, pixelBlockWidth - x);\n}\n</code></pre>\n<ul>\n<li>Throwing an <code>ArithmeticException</code> if the <code>maxPixelBlocks</code> value is not within the valid range. It might be better to throw an <code>IllegalArgumentException</code> instead.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (maxPixelBlocks &lt;= 1 || maxPixelBlocks &gt; 36) {\n    throw new IllegalArgumentException(&quot;Number of pixel blocks must be in the range of 2 to 36&quot;);\n}\n</code></pre>\n<p>I am able get the data that which I send the image.</p>\n<p><strong>Result:</strong>\n<img src=\"https://i.imgur.com/NWGTXNM.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Simple block filling might not produce the best quality output. There are algorithms that average the colors within each block, which can lead to smoother pixelation effects.</li>\n</ul>\n"}],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77014559,"answer_count":1,"score":0,"last_activity_date":1693474249,"creation_date":1692956261,"question_id":76976003,"body_markdown":"I am trying to pixelate the faces that come to me from an image. I am using the Azure API to pixelate the faces, and it returns me where the faces are. The problem is that depending on the size of the face, one pixelation or another must be applied.\r\nFor example, for a 20x20 face, it is not worth applying a pixel of size 10. But it is worth applying a pixel of 10 on a 100x100 face, for example.\r\n\r\nthanks in advance!\r\n\r\n    \r\n    /**\r\n     * Pixela las caras en una imagen.\r\n     * Lee una imagen desde un archivo, y para cada cara detectada en la imagen (faces) ,\r\n     * recorre cada bloque de pixels del tama&#241;o especificado en la regi&#243;n de la cara. Cada bloque de\r\n     * pixels se llena con el color del pixel superior izquierdo del bloque.\r\n     * Finalmente, la imagen modificada se vuelve a escribir en el archivo original.\r\n     *\r\n     * @param pixelSize Tama&#241;o de los pixels en la imagen pixelada.\r\n     * @param inputFile Archivo de la imagen a pixelar.\r\n     * @param faces     Lista de caras detectadas en la imagen.\r\n     *\r\n     * @throws IOException Si ocurre un error durante la lectura o la escritura del archivo de la imagen.\r\n     */\r\n    public static PixelatedOutput pixelateFaces(int pixelSize, File inputFile,\r\n                                                List&lt;AzureComputerVisionService.FaceDetectionResponse&gt; faces)\r\n    throws IOException {\r\n        BufferedImage bufferedImage = ImageIO.read(inputFile);\r\n        File f = File.createTempFile(&quot;pixelate&quot;, &quot;.jpg&quot;);\r\n\r\n        // Iterar sobre cada cara detectada\r\n        for (AzureComputerVisionService.FaceDetectionResponse face : faces) {\r\n            AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle =\r\n                    face.faceRectangle;\r\n            //por cada cara nuevo pixel size.\r\n            pixelSize = calculatePixelSize(faceRectangle, pixelSize);\r\n            int rectangleRight = faceRectangle.left + faceRectangle.width;\r\n            int rectangleBottom = faceRectangle.top + faceRectangle.height;\r\n\r\n            for (int y = faceRectangle.top; y &lt; rectangleBottom; y += pixelSize) {\r\n                for (int x = faceRectangle.left; x &lt; rectangleRight; x += pixelSize) {\r\n\r\n                    int pixelColor = bufferedImage.getRGB(x, y);\r\n\r\n                    int pixelBlockWidth = Math.min(x + pixelSize, rectangleRight);\r\n                    int pixelBlockHeight = Math.min(y + pixelSize, rectangleBottom);\r\n\r\n                    for (int yd = y; yd &lt; pixelBlockHeight; yd++) {\r\n                        for (int xd = x; xd &lt; pixelBlockWidth; xd++) {\r\n                            bufferedImage.setRGB(xd, yd, pixelColor);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        ImageIO.write(bufferedImage, &quot;jpg&quot;, f);\r\n        PixelatedOutput pixelatedOutput = new PixelatedOutput();\r\n        pixelatedOutput.setFile(f);\r\n        pixelatedOutput.setContentType(&quot;image/jpeg&quot;);\r\n        return pixelatedOutput;\r\n    }\r\n\r\n    /**\r\n     * Calcula el tama&#241;o del p&#237;xel para una cara dada, bas&#225;ndose en la dimensi&#243;n m&#237;nima de la cara (ancho o alto, lo que sea menor)\r\n     * y el n&#250;mero m&#225;ximo de bloques de p&#237;xeles que representar&#225;n la cara, limitado a 36.\r\n     * &lt;p&gt;\r\n     * El m&#233;todo funciona tomando la dimensi&#243;n m&#237;nima de la cara, la cual siempre ser&#225; mayor o igual a 36 p&#237;xeles, y dividi&#233;ndola\r\n     * por el n&#250;mero m&#225;ximo de bloques de p&#237;xeles (limitado a un rango de 2 a 36). Esto calcula el tama&#241;o de cada p&#237;xel, asegurando\r\n     * que la representaci&#243;n de la cara tendr&#225; exactamente {@code maxPixelBlocks} p&#237;xeles, y cada p&#237;xel tendr&#225; un tama&#241;o proporcional\r\n     * al tama&#241;o de la cara.\r\n     * &lt;p&gt;\r\n     * Esto permite representar la cara con un nivel de detalle constante, independientemente de su tama&#241;o.\r\n     * &lt;p&gt;\r\n     * Para m&#225;s informaci&#243;n sobre el tama&#241;o m&#237;nimo detectable de la cara, consultear el service:\r\n     * &lt;a href=&quot;https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236&quot;&gt;documentaci&#243;n oficial de Azure&lt;/a&gt;.\r\n     *\r\n     * @param faceRectangle Rect&#225;ngulo que define las dimensiones de la cara. Las dimensiones deben ser mayores que cero y m&#237;nimo de 36 p&#237;xeles. (asi lo dice azure).\r\n     * @param maxPixelBlocks N&#250;mero m&#225;ximo de bloques de p&#237;xeles permitidos para representar la cara, debe estar en el rango de 2 a 36.\r\n     * @return El tama&#241;o del p&#237;xel calculado, que es la dimensi&#243;n m&#237;nima de la cara dividida por {@code maxPixelBlocks}, con un m&#237;nimo de 2.\r\n     * @throws ArithmeticException si {@code maxPixelBlocks} es menor o igual a 0 o mayor que 36.\r\n     */\r\n    public static int calculatePixelSize(AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle,\r\n                                          int maxPixelBlocks) {\r\n        // Escogemos la m&#237;nima dimensi&#243;n entre el ancho y el alto. Nos determina siempre el MIN.\r\n        if(maxPixelBlocks&lt;=1 || maxPixelBlocks&gt;36){\r\n            log.error(&quot;N&#250;mero m&#225;ximo de bloques de p&#237;xeles permitidos para representar la cara no puede ser 0 o menor o mayor que 36&quot;);\r\n            throw new ArithmeticException();\r\n        }\r\n        int minDimension = Math.min(faceRectangle.width, faceRectangle.height);\r\n        int pixelSize = minDimension / maxPixelBlocks; //no va a ser\r\n        // Asegurarse de que el tama&#241;o del p&#237;xel sea al menos un valor m&#237;nimo. (en el caso que sea 1).\r\n        pixelSize = Math.max(pixelSize, 10);\r\n        return pixelSize;\r\n    }","title":"Pixelate the faces that come to me from an image and resize pixel size","body":"<p>I am trying to pixelate the faces that come to me from an image. I am using the Azure API to pixelate the faces, and it returns me where the faces are. The problem is that depending on the size of the face, one pixelation or another must be applied.\nFor example, for a 20x20 face, it is not worth applying a pixel of size 10. But it is worth applying a pixel of 10 on a 100x100 face, for example.</p>\n<p>thanks in advance!</p>\n<pre><code>/**\n * Pixela las caras en una imagen.\n * Lee una imagen desde un archivo, y para cada cara detectada en la imagen (faces) ,\n * recorre cada bloque de pixels del tamaño especificado en la región de la cara. Cada bloque de\n * pixels se llena con el color del pixel superior izquierdo del bloque.\n * Finalmente, la imagen modificada se vuelve a escribir en el archivo original.\n *\n * @param pixelSize Tamaño de los pixels en la imagen pixelada.\n * @param inputFile Archivo de la imagen a pixelar.\n * @param faces     Lista de caras detectadas en la imagen.\n *\n * @throws IOException Si ocurre un error durante la lectura o la escritura del archivo de la imagen.\n */\npublic static PixelatedOutput pixelateFaces(int pixelSize, File inputFile,\n                                            List&lt;AzureComputerVisionService.FaceDetectionResponse&gt; faces)\nthrows IOException {\n    BufferedImage bufferedImage = ImageIO.read(inputFile);\n    File f = File.createTempFile(&quot;pixelate&quot;, &quot;.jpg&quot;);\n\n    // Iterar sobre cada cara detectada\n    for (AzureComputerVisionService.FaceDetectionResponse face : faces) {\n        AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle =\n                face.faceRectangle;\n        //por cada cara nuevo pixel size.\n        pixelSize = calculatePixelSize(faceRectangle, pixelSize);\n        int rectangleRight = faceRectangle.left + faceRectangle.width;\n        int rectangleBottom = faceRectangle.top + faceRectangle.height;\n\n        for (int y = faceRectangle.top; y &lt; rectangleBottom; y += pixelSize) {\n            for (int x = faceRectangle.left; x &lt; rectangleRight; x += pixelSize) {\n\n                int pixelColor = bufferedImage.getRGB(x, y);\n\n                int pixelBlockWidth = Math.min(x + pixelSize, rectangleRight);\n                int pixelBlockHeight = Math.min(y + pixelSize, rectangleBottom);\n\n                for (int yd = y; yd &lt; pixelBlockHeight; yd++) {\n                    for (int xd = x; xd &lt; pixelBlockWidth; xd++) {\n                        bufferedImage.setRGB(xd, yd, pixelColor);\n                    }\n                }\n            }\n        }\n    }\n    ImageIO.write(bufferedImage, &quot;jpg&quot;, f);\n    PixelatedOutput pixelatedOutput = new PixelatedOutput();\n    pixelatedOutput.setFile(f);\n    pixelatedOutput.setContentType(&quot;image/jpeg&quot;);\n    return pixelatedOutput;\n}\n\n/**\n * Calcula el tamaño del píxel para una cara dada, basándose en la dimensión mínima de la cara (ancho o alto, lo que sea menor)\n * y el número máximo de bloques de píxeles que representarán la cara, limitado a 36.\n * &lt;p&gt;\n * El método funciona tomando la dimensión mínima de la cara, la cual siempre será mayor o igual a 36 píxeles, y dividiéndola\n * por el número máximo de bloques de píxeles (limitado a un rango de 2 a 36). Esto calcula el tamaño de cada píxel, asegurando\n * que la representación de la cara tendrá exactamente {@code maxPixelBlocks} píxeles, y cada píxel tendrá un tamaño proporcional\n * al tamaño de la cara.\n * &lt;p&gt;\n * Esto permite representar la cara con un nivel de detalle constante, independientemente de su tamaño.\n * &lt;p&gt;\n * Para más información sobre el tamaño mínimo detectable de la cara, consultear el service:\n * &lt;a href=&quot;https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236&quot;&gt;documentación oficial de Azure&lt;/a&gt;.\n *\n * @param faceRectangle Rectángulo que define las dimensiones de la cara. Las dimensiones deben ser mayores que cero y mínimo de 36 píxeles. (asi lo dice azure).\n * @param maxPixelBlocks Número máximo de bloques de píxeles permitidos para representar la cara, debe estar en el rango de 2 a 36.\n * @return El tamaño del píxel calculado, que es la dimensión mínima de la cara dividida por {@code maxPixelBlocks}, con un mínimo de 2.\n * @throws ArithmeticException si {@code maxPixelBlocks} es menor o igual a 0 o mayor que 36.\n */\npublic static int calculatePixelSize(AzureComputerVisionService.FaceDetectionResponse.FaceRectangle faceRectangle,\n                                      int maxPixelBlocks) {\n    // Escogemos la mínima dimensión entre el ancho y el alto. Nos determina siempre el MIN.\n    if(maxPixelBlocks&lt;=1 || maxPixelBlocks&gt;36){\n        log.error(&quot;Número máximo de bloques de píxeles permitidos para representar la cara no puede ser 0 o menor o mayor que 36&quot;);\n        throw new ArithmeticException();\n    }\n    int minDimension = Math.min(faceRectangle.width, faceRectangle.height);\n    int pixelSize = minDimension / maxPixelBlocks; //no va a ser\n    // Asegurarse de que el tamaño del píxel sea al menos un valor mínimo. (en el caso que sea 1).\n    pixelSize = Math.max(pixelSize, 10);\n    return pixelSize;\n}\n</code></pre>\n"},{"tags":["java","android","xml","video-streaming","agora.io"],"comments":[{"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"score":0,"creation_date":1693374050,"post_id":76956373,"comment_id":135750367,"body_markdown":"You&#39;re using setupLocalVideo() to set up the local video feed, but I don&#39;t see where this method is called in your code. It should be called before you join the channel.\nIn setupLocalVideo(), you are setting VideoCanvas.RENDER_MODE_FILL for the local video. You might want to try VideoCanvas.RENDER_MODE_HIDDEN instead, as this mode might be more appropriate for your use case.","body":"You&#39;re using setupLocalVideo() to set up the local video feed, but I don&#39;t see where this method is called in your code. It should be called before you join the channel. In setupLocalVideo(), you are setting VideoCanvas.RENDER_MODE_FILL for the local video. You might want to try VideoCanvas.RENDER_MODE_HIDDEN instead, as this mode might be more appropriate for your use case."},{"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"score":0,"creation_date":1693382418,"post_id":76956373,"comment_id":135751664,"body_markdown":"Its being called inside the joinChannel function. The render mode change is not showing any effect. Do you have any working example.?","body":"Its being called inside the joinChannel function. The render mode change is not showing any effect. Do you have any working example.?"}],"answers":[{"comments":[{"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"score":0,"creation_date":1693421905,"post_id":77006113,"comment_id":135760405,"body_markdown":"This just opens the screen but there is nothing happening after that. Can you please have a look and help again on this.?","body":"This just opens the screen but there is nothing happening after that. Can you please have a look and help again on this.?"},{"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"score":0,"creation_date":1693459755,"post_id":77006113,"comment_id":135764311,"body_markdown":"I&#39;ve edited my answer, add layout.xml code now make sure permissions are properly granted to your app.","body":"I&#39;ve edited my answer, add layout.xml code now make sure permissions are properly granted to your app."},{"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"score":0,"creation_date":1693474079,"post_id":77006113,"comment_id":135766889,"body_markdown":"Hi Hassan, my layout is already same actually. Must be a problem I am not able to figure out. Anyway thanks a lot for trying to help. I have also added the layout.","body":"Hi Hassan, my layout is already same actually. Must be a problem I am not able to figure out. Anyway thanks a lot for trying to help. I have also added the layout."},{"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"score":0,"creation_date":1693478491,"post_id":77006113,"comment_id":135767778,"body_markdown":"Double-check your token generation logic. Ensure that the token is being generated correctly and that it&#39;s being used during channel joining. Test your application on different Android devices and on different network.","body":"Double-check your token generation logic. Ensure that the token is being generated correctly and that it&#39;s being used during channel joining. Test your application on different Android devices and on different network."},{"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"score":0,"creation_date":1693592661,"post_id":77006113,"comment_id":135786334,"body_markdown":"Just out of curiosity, have you tested your code and are able to run the call properly.? I tried with a temporary token as well and it was not working.","body":"Just out of curiosity, have you tested your code and are able to run the call properly.? I tried with a temporary token as well and it was not working."},{"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"score":0,"creation_date":1693910458,"post_id":77006113,"comment_id":135818628,"body_markdown":"Hey.. I got it fixed. Nevertheless, I am going to award the bounty to you for efforts. Thanks a lot man.","body":"Hey.. I got it fixed. Nevertheless, I am going to award the bounty to you for efforts. Thanks a lot man."},{"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"score":0,"creation_date":1693984165,"post_id":77006113,"comment_id":135829855,"body_markdown":"Thanks and can you share how you fixed it?","body":"Thanks and can you share how you fixed it?"}],"tags":[],"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693459704,"creation_date":1693383393,"answer_id":77006113,"question_id":76956373,"body_markdown":"Please note that this `example` may not cover all the functionalities of your code, but it should give you a `starting point`.\r\n\r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.SurfaceView;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.FrameLayout;\r\n    import android.widget.Toast;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import io.agora.rtc.Constants;\r\n    import io.agora.rtc.IRtcEngineEventHandler;\r\n    import io.agora.rtc.RtcEngine;\r\n    \r\n    public class VideoCallActivity extends AppCompatActivity {\r\n    \r\n        private static final int PERMISSION_REQ_ID = 1;\r\n        private static final String[] REQUESTED_PERMISSIONS = {\r\n                Manifest.permission.RECORD_AUDIO,\r\n                Manifest.permission.CAMERA\r\n        };\r\n    \r\n        private RtcEngine rtcEngine;\r\n        private SurfaceView localSurfaceView;\r\n        private SurfaceView remoteSurfaceView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_video_call);\r\n    \r\n            if (!checkSelfPermission()) {\r\n                ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\r\n            }\r\n    \r\n            initializeAgoraEngine();\r\n        }\r\n    \r\n        private boolean checkSelfPermission() {\r\n            return ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                    ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    \r\n        private void initializeAgoraEngine() {\r\n            try {\r\n                rtcEngine = RtcEngine.create(getBaseContext(), &quot;YOUR_APP_ID&quot;, new IRtcEngineEventHandler() {\r\n                    @Override\r\n                    public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\r\n                        setupLocalVideo();\r\n                        rtcEngine.startPreview();\r\n                        rtcEngine.enableVideo();\r\n                        rtcEngine.joinChannel(null, channel, null, uid);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onUserJoined(int uid, int elapsed) {\r\n                        setupRemoteVideo(uid);\r\n                    }\r\n                });\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void setupLocalVideo() {\r\n            localSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\r\n            localSurfaceView.setZOrderMediaOverlay(true);\r\n            FrameLayout container = findViewById(R.id.local_video_container);\r\n            container.addView(localSurfaceView);\r\n            rtcEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FIT, 0));\r\n        }\r\n    \r\n        private void setupRemoteVideo(int uid) {\r\n            remoteSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\r\n            FrameLayout container = findViewById(R.id.remote_video_container);\r\n            container.addView(remoteSurfaceView);\r\n            rtcEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            if (rtcEngine != null) {\r\n                rtcEngine.leaveChannel();\r\n                rtcEngine.destroy();\r\n                rtcEngine = null;\r\n            }\r\n        }\r\n    }\r\n\r\nLayout.xml\r\n\r\n    &lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/local_video_container&quot;\r\n        android:layout_width=&quot;160dp&quot;\r\n        android:layout_height=&quot;240dp&quot;\r\n        android:layout_gravity=&quot;top|start&quot;/&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/remote_video_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n\r\n\r\nDon&#39;t forget to replace `YOUR_APP_ID` with your actual `agora.io` app id. I&#39;ve just covered the basic video setup and rendering aspects.\r\n","title":"Agora showing black screen with occasional screen capture. But audio works fine and both users are able to join the channel","body":"<p>Please note that this <code>example</code> may not cover all the functionalities of your code, but it should give you a <code>starting point</code>.</p>\n<pre><code>import android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.SurfaceView;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.FrameLayout;\nimport android.widget.Toast;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport io.agora.rtc.Constants;\nimport io.agora.rtc.IRtcEngineEventHandler;\nimport io.agora.rtc.RtcEngine;\n\npublic class VideoCallActivity extends AppCompatActivity {\n\n    private static final int PERMISSION_REQ_ID = 1;\n    private static final String[] REQUESTED_PERMISSIONS = {\n            Manifest.permission.RECORD_AUDIO,\n            Manifest.permission.CAMERA\n    };\n\n    private RtcEngine rtcEngine;\n    private SurfaceView localSurfaceView;\n    private SurfaceView remoteSurfaceView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_video_call);\n\n        if (!checkSelfPermission()) {\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\n        }\n\n        initializeAgoraEngine();\n    }\n\n    private boolean checkSelfPermission() {\n        return ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ActivityCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private void initializeAgoraEngine() {\n        try {\n            rtcEngine = RtcEngine.create(getBaseContext(), &quot;YOUR_APP_ID&quot;, new IRtcEngineEventHandler() {\n                @Override\n                public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\n                    setupLocalVideo();\n                    rtcEngine.startPreview();\n                    rtcEngine.enableVideo();\n                    rtcEngine.joinChannel(null, channel, null, uid);\n                }\n\n                @Override\n                public void onUserJoined(int uid, int elapsed) {\n                    setupRemoteVideo(uid);\n                }\n            });\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void setupLocalVideo() {\n        localSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\n        localSurfaceView.setZOrderMediaOverlay(true);\n        FrameLayout container = findViewById(R.id.local_video_container);\n        container.addView(localSurfaceView);\n        rtcEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FIT, 0));\n    }\n\n    private void setupRemoteVideo(int uid) {\n        remoteSurfaceView = RtcEngine.CreateRendererView(getBaseContext());\n        FrameLayout container = findViewById(R.id.remote_video_container);\n        container.addView(remoteSurfaceView);\n        rtcEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (rtcEngine != null) {\n            rtcEngine.leaveChannel();\n            rtcEngine.destroy();\n            rtcEngine = null;\n        }\n    }\n}\n</code></pre>\n<p>Layout.xml</p>\n<pre><code>&lt;FrameLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/local_video_container&quot;\n    android:layout_width=&quot;160dp&quot;\n    android:layout_height=&quot;240dp&quot;\n    android:layout_gravity=&quot;top|start&quot;/&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/remote_video_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n\n<p>Don't forget to replace <code>YOUR_APP_ID</code> with your actual <code>agora.io</code> app id. I've just covered the basic video setup and rendering aspects.</p>\n"}],"owner":{"account_id":2141892,"reputation":1813,"user_id":1969846,"accept_rate":60,"display_name":"Aishvarya Jaiswal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693474233,"creation_date":1692732779,"question_id":76956373,"body_markdown":"I am not able to identify the problem here.\r\n\r\nHere is my code for Agora Video Call Screen.\r\n\r\n\r\n    public class VideoCallActivity extends AppCompatActivity implements WebServiceInterface {\r\n\r\n    Session session;\r\n    private AgoraVideoViewer agView = null;\r\n    private String appId = &quot;xxxx&quot;;\r\n    private String appCertificate = &quot;xxxx&quot;;\r\n    private String channelName = &quot;VideoCallTestChannelNew&quot;;\r\n    private String token = &quot;xxxx&quot;;\r\n\r\n    private int uid = 5;\r\n    private boolean isJoined = false;\r\n\r\n    private RtcEngine agoraEngine;\r\n    private SurfaceView localSurfaceView;\r\n    private SurfaceView remoteSurfaceView;\r\n\r\n    FloatingActionButton fabLeaveChannel;\r\n    String userID, doctorID, userName, doctorName, appointmentID;\r\n\r\n    private static final int PERMISSION_REQ_ID = 22;\r\n    private static final String[] REQUESTED_PERMISSIONS =\r\n            {\r\n                    Manifest.permission.RECORD_AUDIO,\r\n                    Manifest.permission.CAMERA\r\n            };\r\n    private int GET_APPOINTMENT_REQUEST_CODE = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video_call);\r\n\r\n        init();\r\n\r\n        fabLeaveChannel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                leaveChannel();\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void init() {\r\n\r\n        session = new Session(this);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        TextView textViewToolbarTitle = toolbar.findViewById(R.id.textViewToolbarTitle);\r\n        textViewToolbarTitle.setText(&quot;OnGoing Call&quot;);\r\n        getSupportActionBar().setTitle(null);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n\r\n        userID = getIntent().getStringExtra(LinksAndKeys.USER_ID_KEY);\r\n        userName = getIntent().getStringExtra(LinksAndKeys.USER_NAME_KEY);\r\n        doctorID = getIntent().getStringExtra(LinksAndKeys.DOCTOR_ID_KEY);\r\n        doctorName = getIntent().getStringExtra(LinksAndKeys.DOCTOR_NAME_KEY);\r\n        appointmentID = getIntent().getStringExtra(LinksAndKeys.APPOINTMENT_ID_KEY);\r\n\r\n        channelName = userID + &quot;:&quot; + userName + &quot;:&quot; + appointmentID + &quot;:&quot; + doctorID + &quot;:&quot; + doctorName;\r\n        channelName = channelName.replaceAll(&quot; &quot;, &quot;_&quot;).toLowerCase();\r\n\r\n        fabLeaveChannel = findViewById(R.id.fabLeaveChannel);\r\n\r\n        try {\r\n            agView = new AgoraVideoViewer(this, new AgoraConnectionData(appId, token), AgoraVideoViewer.Style.FLOATING, new AgoraSettings(), null);\r\n        } catch (Exception e) {\r\n            Log.e(&quot;AgoraVideoViewer&quot;,\r\n                    &quot;Could not initialize AgoraVideoViewer. Check that your app Id is valid.&quot;);\r\n            Log.e(&quot;Exception&quot;, e.toString());\r\n            return;\r\n        }\r\n\r\n        if (!checkSelfPermission()) {\r\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, \r\n    PERMISSION_REQ_ID);\r\n        }\r\n        setupVideoSDKEngine();\r\n\r\n    }\r\n\r\n    private boolean checkSelfPermission() {\r\n        if (ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) != PackageManager.PERMISSION_GRANTED ||\r\n                ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) != PackageManager.PERMISSION_GRANTED) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    void showMessage(String message) {\r\n        runOnUiThread(() -&gt;\r\n                Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\r\n    }\r\n\r\n    private void setupVideoSDKEngine() {\r\n        try {\r\n            RtcEngineConfig config = new RtcEngineConfig();\r\n            config.mContext = getBaseContext();\r\n            config.mAppId = appId;\r\n            config.mEventHandler = mRtcEventHandler;\r\n            agoraEngine = RtcEngine.create(config);\r\n            agoraEngine.enableVideo();\r\n\r\n            sendGetAppointmentRequest();\r\n        } catch (Exception e) {\r\n            showMessage(e.toString());\r\n        }\r\n    }\r\n\r\n    private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\r\n        @Override\r\n        // Listen for the remote host joining the channel to get the uid of the host.\r\n        public void onUserJoined(int uid, int elapsed) {\r\n            showMessage(&quot;Remote user joined &quot; + uid);\r\n            runOnUiThread(() -&gt; setupRemoteVideo(uid));\r\n        }\r\n\r\n        @Override\r\n        public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\r\n            isJoined = true;\r\n            showMessage(&quot;Joined Channel &quot; + channel);\r\n        }\r\n\r\n        @Override\r\n        public void onUserOffline(int uid, int reason) {\r\n            showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\r\n            runOnUiThread(() -&gt; remoteSurfaceView.setVisibility(View.GONE));\r\n        }\r\n    };\r\n\r\n    private void setupRemoteVideo(int uid) {\r\n        FrameLayout container = findViewById(R.id.remote_video_view_container);\r\n        remoteSurfaceView = new SurfaceView(getBaseContext());\r\n        remoteSurfaceView.setZOrderMediaOverlay(true);\r\n        container.addView(remoteSurfaceView);\r\n        agoraEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\r\n        remoteSurfaceView.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    private void setupLocalVideo() {\r\n        FrameLayout container = findViewById(R.id.local_video_view_container);\r\n        localSurfaceView = new SurfaceView(getBaseContext());\r\n        container.addView(localSurfaceView);\r\n        agoraEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FILL, 0));\r\n    }\r\n\r\n    public void joinChannel() {\r\n        if (checkSelfPermission()) {\r\n            ChannelMediaOptions options = new ChannelMediaOptions();\r\n    //            options.channelProfile = Constants.CHANNEL_PROFILE_COMMUNICATION;\r\n    //            options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\r\n            setupLocalVideo();\r\n            localSurfaceView.setVisibility(View.VISIBLE);\r\n            agoraEngine.startPreview();\r\n            agoraEngine.joinChannel(token, channelName, String.valueOf(options), uid);\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Permissions was not granted&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    public void leaveChannel() {\r\n        if (!isJoined) {\r\n            showMessage(&quot;Join a channel first&quot;);\r\n        } else {\r\n            agoraEngine.leaveChannel();\r\n            showMessage(&quot;You left the channel&quot;);\r\n            // Stop remote video rendering.\r\n            if (remoteSurfaceView != null) remoteSurfaceView.setVisibility(View.GONE);\r\n            // Stop local video rendering.\r\n            if (localSurfaceView != null) localSurfaceView.setVisibility(View.GONE);\r\n            isJoined = false;\r\n        }\r\n    }\r\n\r\n    private void sendGetAppointmentRequest() {\r\n        HashMap&lt;String, String&gt; paramsList = new HashMap&lt;&gt;();\r\n\r\n        WebServiceController webServiceController = new WebServiceController(VideoCallActivity.this, VideoCallActivity.this);\r\n        String hitURL = LinksAndKeys.GET_APPOINTMENT_BY_ID_URL + appointmentID;\r\n        webServiceController.sendGETRequest(session.getToken(), LinksAndKeys.REQUEST_MESSAGE, hitURL, paramsList, GET_APPOINTMENT_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void getResponse(int responseCode, String responseString, String requestType, int requestCode) {\r\n        if (responseCode == 200) {\r\n            generateToken();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                onBackPressed();\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        agoraEngine.stopPreview();\r\n        agoraEngine.leaveChannel();\r\n\r\n        // Destroy the engine in a sub-thread to avoid congestion\r\n        new Thread(() -&gt; {\r\n            RtcEngine.destroy();\r\n            agoraEngine = null;\r\n        }).start();\r\n    }\r\n\r\n    public void generateToken() {\r\n\r\n        RtcTokenBuilder2 tokenBuilder = new RtcTokenBuilder2();\r\n        long expirationTimeInSeconds = 3600;\r\n        int timestamp = (int) (System.currentTimeMillis() / 1000 + expirationTimeInSeconds);\r\n\r\n        System.out.println(&quot;UID token&quot;);\r\n        String result = tokenBuilder.buildTokenWithUid(appId, appCertificate,\r\n                channelName, uid, RtcTokenBuilder2.Role.ROLE_PUBLISHER, timestamp, timestamp);\r\n        System.out.println(&quot;The new Token Is - &quot; + result);\r\n        token = result;\r\n        joinChannel();\r\n    }\r\n\r\n    }\r\n\r\nHere is the xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            layout=&quot;@layout/layout_toolbar&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            tools:context=&quot;.VideoCallActivity&quot;&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/remote_video_view_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_margin=&quot;@dimen/size_medium&quot;\r\n                android:background=&quot;@android:color/darker_gray&quot; /&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/local_video_view_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_gravity=&quot;bottom|right&quot;\r\n                android:layout_margin=&quot;@dimen/size_large&quot;\r\n                android:background=&quot;@android:color/darker_gray&quot; /&gt;\r\n    \r\n            &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n                android:id=&quot;@+id/fabLeaveChannel&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;bottom|center_horizontal&quot;\r\n                android:layout_marginBottom=&quot;@dimen/size_extra_large&quot;\r\n                android:src=&quot;@android:drawable/ic_menu_call&quot;\r\n                android:tint=&quot;@color/white&quot;\r\n                app:backgroundTint=&quot;@color/highlightRed&quot; /&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nIs anyone able to understand what is going wrong here?","title":"Agora showing black screen with occasional screen capture. But audio works fine and both users are able to join the channel","body":"<p>I am not able to identify the problem here.</p>\n<p>Here is my code for Agora Video Call Screen.</p>\n<pre><code>public class VideoCallActivity extends AppCompatActivity implements WebServiceInterface {\n\nSession session;\nprivate AgoraVideoViewer agView = null;\nprivate String appId = &quot;xxxx&quot;;\nprivate String appCertificate = &quot;xxxx&quot;;\nprivate String channelName = &quot;VideoCallTestChannelNew&quot;;\nprivate String token = &quot;xxxx&quot;;\n\nprivate int uid = 5;\nprivate boolean isJoined = false;\n\nprivate RtcEngine agoraEngine;\nprivate SurfaceView localSurfaceView;\nprivate SurfaceView remoteSurfaceView;\n\nFloatingActionButton fabLeaveChannel;\nString userID, doctorID, userName, doctorName, appointmentID;\n\nprivate static final int PERMISSION_REQ_ID = 22;\nprivate static final String[] REQUESTED_PERMISSIONS =\n        {\n                Manifest.permission.RECORD_AUDIO,\n                Manifest.permission.CAMERA\n        };\nprivate int GET_APPOINTMENT_REQUEST_CODE = 1;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_video_call);\n\n    init();\n\n    fabLeaveChannel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            leaveChannel();\n            finish();\n        }\n    });\n\n}\n\nprivate void init() {\n\n    session = new Session(this);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    TextView textViewToolbarTitle = toolbar.findViewById(R.id.textViewToolbarTitle);\n    textViewToolbarTitle.setText(&quot;OnGoing Call&quot;);\n    getSupportActionBar().setTitle(null);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    getSupportActionBar().setDisplayShowHomeEnabled(true);\n\n    userID = getIntent().getStringExtra(LinksAndKeys.USER_ID_KEY);\n    userName = getIntent().getStringExtra(LinksAndKeys.USER_NAME_KEY);\n    doctorID = getIntent().getStringExtra(LinksAndKeys.DOCTOR_ID_KEY);\n    doctorName = getIntent().getStringExtra(LinksAndKeys.DOCTOR_NAME_KEY);\n    appointmentID = getIntent().getStringExtra(LinksAndKeys.APPOINTMENT_ID_KEY);\n\n    channelName = userID + &quot;:&quot; + userName + &quot;:&quot; + appointmentID + &quot;:&quot; + doctorID + &quot;:&quot; + doctorName;\n    channelName = channelName.replaceAll(&quot; &quot;, &quot;_&quot;).toLowerCase();\n\n    fabLeaveChannel = findViewById(R.id.fabLeaveChannel);\n\n    try {\n        agView = new AgoraVideoViewer(this, new AgoraConnectionData(appId, token), AgoraVideoViewer.Style.FLOATING, new AgoraSettings(), null);\n    } catch (Exception e) {\n        Log.e(&quot;AgoraVideoViewer&quot;,\n                &quot;Could not initialize AgoraVideoViewer. Check that your app Id is valid.&quot;);\n        Log.e(&quot;Exception&quot;, e.toString());\n        return;\n    }\n\n    if (!checkSelfPermission()) {\n        ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, \nPERMISSION_REQ_ID);\n    }\n    setupVideoSDKEngine();\n\n}\n\nprivate boolean checkSelfPermission() {\n    if (ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) != PackageManager.PERMISSION_GRANTED ||\n            ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[1]) != PackageManager.PERMISSION_GRANTED) {\n        return false;\n    }\n    return true;\n}\n\nvoid showMessage(String message) {\n    runOnUiThread(() -&gt;\n            Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\n}\n\nprivate void setupVideoSDKEngine() {\n    try {\n        RtcEngineConfig config = new RtcEngineConfig();\n        config.mContext = getBaseContext();\n        config.mAppId = appId;\n        config.mEventHandler = mRtcEventHandler;\n        agoraEngine = RtcEngine.create(config);\n        agoraEngine.enableVideo();\n\n        sendGetAppointmentRequest();\n    } catch (Exception e) {\n        showMessage(e.toString());\n    }\n}\n\nprivate final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\n    @Override\n    // Listen for the remote host joining the channel to get the uid of the host.\n    public void onUserJoined(int uid, int elapsed) {\n        showMessage(&quot;Remote user joined &quot; + uid);\n        runOnUiThread(() -&gt; setupRemoteVideo(uid));\n    }\n\n    @Override\n    public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\n        isJoined = true;\n        showMessage(&quot;Joined Channel &quot; + channel);\n    }\n\n    @Override\n    public void onUserOffline(int uid, int reason) {\n        showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\n        runOnUiThread(() -&gt; remoteSurfaceView.setVisibility(View.GONE));\n    }\n};\n\nprivate void setupRemoteVideo(int uid) {\n    FrameLayout container = findViewById(R.id.remote_video_view_container);\n    remoteSurfaceView = new SurfaceView(getBaseContext());\n    remoteSurfaceView.setZOrderMediaOverlay(true);\n    container.addView(remoteSurfaceView);\n    agoraEngine.setupRemoteVideo(new VideoCanvas(remoteSurfaceView, VideoCanvas.RENDER_MODE_FIT, uid));\n    remoteSurfaceView.setVisibility(View.VISIBLE);\n}\n\nprivate void setupLocalVideo() {\n    FrameLayout container = findViewById(R.id.local_video_view_container);\n    localSurfaceView = new SurfaceView(getBaseContext());\n    container.addView(localSurfaceView);\n    agoraEngine.setupLocalVideo(new VideoCanvas(localSurfaceView, VideoCanvas.RENDER_MODE_FILL, 0));\n}\n\npublic void joinChannel() {\n    if (checkSelfPermission()) {\n        ChannelMediaOptions options = new ChannelMediaOptions();\n//            options.channelProfile = Constants.CHANNEL_PROFILE_COMMUNICATION;\n//            options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\n        setupLocalVideo();\n        localSurfaceView.setVisibility(View.VISIBLE);\n        agoraEngine.startPreview();\n        agoraEngine.joinChannel(token, channelName, String.valueOf(options), uid);\n    } else {\n        Toast.makeText(getApplicationContext(), &quot;Permissions was not granted&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n\npublic void leaveChannel() {\n    if (!isJoined) {\n        showMessage(&quot;Join a channel first&quot;);\n    } else {\n        agoraEngine.leaveChannel();\n        showMessage(&quot;You left the channel&quot;);\n        // Stop remote video rendering.\n        if (remoteSurfaceView != null) remoteSurfaceView.setVisibility(View.GONE);\n        // Stop local video rendering.\n        if (localSurfaceView != null) localSurfaceView.setVisibility(View.GONE);\n        isJoined = false;\n    }\n}\n\nprivate void sendGetAppointmentRequest() {\n    HashMap&lt;String, String&gt; paramsList = new HashMap&lt;&gt;();\n\n    WebServiceController webServiceController = new WebServiceController(VideoCallActivity.this, VideoCallActivity.this);\n    String hitURL = LinksAndKeys.GET_APPOINTMENT_BY_ID_URL + appointmentID;\n    webServiceController.sendGETRequest(session.getToken(), LinksAndKeys.REQUEST_MESSAGE, hitURL, paramsList, GET_APPOINTMENT_REQUEST_CODE);\n}\n\n@Override\npublic void getResponse(int responseCode, String responseString, String requestType, int requestCode) {\n    if (responseCode == 200) {\n        generateToken();\n    }\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case android.R.id.home:\n            onBackPressed();\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n\nprotected void onDestroy() {\n    super.onDestroy();\n    agoraEngine.stopPreview();\n    agoraEngine.leaveChannel();\n\n    // Destroy the engine in a sub-thread to avoid congestion\n    new Thread(() -&gt; {\n        RtcEngine.destroy();\n        agoraEngine = null;\n    }).start();\n}\n\npublic void generateToken() {\n\n    RtcTokenBuilder2 tokenBuilder = new RtcTokenBuilder2();\n    long expirationTimeInSeconds = 3600;\n    int timestamp = (int) (System.currentTimeMillis() / 1000 + expirationTimeInSeconds);\n\n    System.out.println(&quot;UID token&quot;);\n    String result = tokenBuilder.buildTokenWithUid(appId, appCertificate,\n            channelName, uid, RtcTokenBuilder2.Role.ROLE_PUBLISHER, timestamp, timestamp);\n    System.out.println(&quot;The new Token Is - &quot; + result);\n    token = result;\n    joinChannel();\n}\n\n}\n</code></pre>\n<p>Here is the xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/colorPrimary&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/toolbar&quot;\n        layout=&quot;@layout/layout_toolbar&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.VideoCallActivity&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/remote_video_view_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_margin=&quot;@dimen/size_medium&quot;\n            android:background=&quot;@android:color/darker_gray&quot; /&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/local_video_view_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_gravity=&quot;bottom|right&quot;\n            android:layout_margin=&quot;@dimen/size_large&quot;\n            android:background=&quot;@android:color/darker_gray&quot; /&gt;\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/fabLeaveChannel&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom|center_horizontal&quot;\n            android:layout_marginBottom=&quot;@dimen/size_extra_large&quot;\n            android:src=&quot;@android:drawable/ic_menu_call&quot;\n            android:tint=&quot;@color/white&quot;\n            app:backgroundTint=&quot;@color/highlightRed&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Is anyone able to understand what is going wrong here?</p>\n"},{"tags":["java","spring","mongodb","rest"],"comments":[{"owner":{"account_id":4547518,"reputation":1684,"user_id":3693606,"accept_rate":50,"display_name":"ArslanAnjum"},"score":0,"creation_date":1505232857,"post_id":45635607,"comment_id":79325003,"body_markdown":"have a look at this. https://stackoverflow.com/questions/45668388/spring-security-for-certain-entity-variables?noredirect=1#comment78324306_45668388","body":"have a look at this. <a href=\"https://stackoverflow.com/questions/45668388/spring-security-for-certain-entity-variables?noredirect=1#comment78324306_45668388\" title=\"spring security for certain entity variables\">stackoverflow.com/questions/45668388/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9551375,"reputation":142,"user_id":7095424,"display_name":"Ivo Udelsmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510165797,"creation_date":1510165797,"answer_id":47187126,"question_id":45635607,"body_markdown":"You could use:\r\n\r\n    @Column(updatable = false)\r\n    @NonNull\r\n    private String firstName;\r\n\r\nThis won&#39;t throw errors but will avoid the field from being updated.\r\n","title":"Spring Data Rest PATCH forbid update on specific fields","body":"<p>You could use:</p>\n\n<pre><code>@Column(updatable = false)\n@NonNull\nprivate String firstName;\n</code></pre>\n\n<p>This won't throw errors but will avoid the field from being updated.</p>\n"},{"comments":[{"owner":{"account_id":6681732,"reputation":353,"user_id":5154619,"display_name":"Davi Cavalcanti"},"score":1,"creation_date":1693457064,"post_id":65290550,"comment_id":135764106,"body_markdown":"Hi, what&#39;s the type of `jsonPatcher` here?","body":"Hi, what&#39;s the type of <code>jsonPatcher</code> here?"},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1693474019,"post_id":65290550,"comment_id":135766876,"body_markdown":"I added the definition here, thanks for pointing it out @DaviCavalcanti","body":"I added the definition here, thanks for pointing it out @DaviCavalcanti"},{"owner":{"account_id":6681732,"reputation":353,"user_id":5154619,"display_name":"Davi Cavalcanti"},"score":0,"creation_date":1693605562,"post_id":65290550,"comment_id":135787920,"body_markdown":"Thank you, @alegria! It works like a charm :-)","body":"Thank you, @alegria! It works like a charm :-)"},{"owner":{"account_id":6681732,"reputation":353,"user_id":5154619,"display_name":"Davi Cavalcanti"},"score":0,"creation_date":1693783880,"post_id":65290550,"comment_id":135802337,"body_markdown":"Oh, actually now Spring developers have made DomainObjectReader.merge() internal as well :-(","body":"Oh, actually now Spring developers have made DomainObjectReader.merge() internal as well :-("},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1700308688,"post_id":65290550,"comment_id":136640156,"body_markdown":"In retrospective, I&#39;m probably using the wrong approach here. I can&#39;t quite remember why I went with this approach than the previous answer (https://stackoverflow.com/a/47187126/1512555) which seems a plausible option. What&#39;s your use case? Could you perhaps utilise AOP (you can intercept repository calls or service layer methods) or BeforeSaveValidator or RepositoryEventHandler?","body":"In retrospective, I&#39;m probably using the wrong approach here. I can&#39;t quite remember why I went with this approach than the previous answer (<a href=\"https://stackoverflow.com/a/47187126/1512555\">stackoverflow.com/a/47187126/1512555</a>) which seems a plausible option. What&#39;s your use case? Could you perhaps utilise AOP (you can intercept repository calls or service layer methods) or BeforeSaveValidator or RepositoryEventHandler?"},{"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"score":0,"creation_date":1700308838,"post_id":65290550,"comment_id":136640165,"body_markdown":"Oh, I think I still want the field to be editable internally in the service but not externally from a PATCH request. That&#39;s probably why I did this as a solution. But it looks like this is no longer valid since DomainObjectReader.merge is deprecated. I haven&#39;t thought of anything yet, unfortunately. Let me know here if you have a good alternative. Thanks!","body":"Oh, I think I still want the field to be editable internally in the service but not externally from a PATCH request. That&#39;s probably why I did this as a solution. But it looks like this is no longer valid since DomainObjectReader.merge is deprecated. I haven&#39;t thought of anything yet, unfortunately. Let me know here if you have a good alternative. Thanks!"}],"tags":[],"owner":{"account_id":1639895,"reputation":1340,"user_id":1512555,"display_name":"alegria"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693473980,"creation_date":1607955313,"answer_id":65290550,"question_id":45635607,"body_markdown":"You could override the specific PATCH endpoint and retain only the allowed fields\r\n\r\n```\r\n\r\n    @PatchMapping(&quot;/persons/{id}&quot;)\r\n    HttpEntity&lt;?&gt; patchPerson(@PathVariable(&quot;id&quot;) Person person,\r\n                            @RequestBody final ObjectNode patch,\r\n                            PersistentEntityResourceAssembler assembler) {\r\n        List&lt;String&gt; allowedFields = List.of(&quot;age&quot;);\r\n        ObjectNode validPatch = patch.retain(allowedFields);\r\n        Person patchedPerson = jsonPatcher.merge(validPatch, person);\r\n\r\n        Person entity = personRepository.save(patchedPerson);\r\n        PersistentEntityResource resource = assembler.toFullResource(entity);\r\n        return ResponseEntity.accepted().body(resource);\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.mapping.context.PersistentEntities;\r\nimport org.springframework.data.rest.webmvc.json.DomainObjectReader;\r\nimport org.springframework.data.rest.webmvc.mapping.Associations;\r\nimport org.springframework.stereotype.Component;\r\n\r\n/**\r\n * Utility class mainly for applying patches to domain objects.\r\n */\r\n@Component\r\npublic class JsonPatcher {\r\n\r\n    private final DomainObjectReader domainObjectReader;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public JsonPatcher(PersistentEntities persistentEntities, Associations associations, ObjectMapper objectMapper) {\r\n        this.domainObjectReader = new DomainObjectReader(persistentEntities, associations);\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    /*\r\n    Almost the same exact implementation used in {@link org.springframework.data.rest.webmvc.config.JsonPatchHandler}\r\n    to merge JSON documents for Spring Data REST. It&#39;s copied here because the patch code that Spring uses was made\r\n    internal to the framework.\r\n     */\r\n    public &lt;T&gt; T merge(ObjectNode patch, T target) {\r\n        return domainObjectReader.merge(patch, target, objectMapper);\r\n    }\r\n\r\n}\r\n```","title":"Spring Data Rest PATCH forbid update on specific fields","body":"<p>You could override the specific PATCH endpoint and retain only the allowed fields</p>\n<pre><code>\n    @PatchMapping(&quot;/persons/{id}&quot;)\n    HttpEntity&lt;?&gt; patchPerson(@PathVariable(&quot;id&quot;) Person person,\n                            @RequestBody final ObjectNode patch,\n                            PersistentEntityResourceAssembler assembler) {\n        List&lt;String&gt; allowedFields = List.of(&quot;age&quot;);\n        ObjectNode validPatch = patch.retain(allowedFields);\n        Person patchedPerson = jsonPatcher.merge(validPatch, person);\n\n        Person entity = personRepository.save(patchedPerson);\n        PersistentEntityResource resource = assembler.toFullResource(entity);\n        return ResponseEntity.accepted().body(resource);\n    }\n\n</code></pre>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mapping.context.PersistentEntities;\nimport org.springframework.data.rest.webmvc.json.DomainObjectReader;\nimport org.springframework.data.rest.webmvc.mapping.Associations;\nimport org.springframework.stereotype.Component;\n\n/**\n * Utility class mainly for applying patches to domain objects.\n */\n@Component\npublic class JsonPatcher {\n\n    private final DomainObjectReader domainObjectReader;\n\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public JsonPatcher(PersistentEntities persistentEntities, Associations associations, ObjectMapper objectMapper) {\n        this.domainObjectReader = new DomainObjectReader(persistentEntities, associations);\n        this.objectMapper = objectMapper;\n    }\n\n    /*\n    Almost the same exact implementation used in {@link org.springframework.data.rest.webmvc.config.JsonPatchHandler}\n    to merge JSON documents for Spring Data REST. It's copied here because the patch code that Spring uses was made\n    internal to the framework.\n     */\n    public &lt;T&gt; T merge(ObjectNode patch, T target) {\n        return domainObjectReader.merge(patch, target, objectMapper);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4202976,"reputation":278,"user_id":3442635,"accept_rate":75,"display_name":"PurplePanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2326,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1693473980,"creation_date":1502455564,"question_id":45635607,"body_markdown":"I&#39;m currently working on a small REST web service using spring-data-rest using :\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI followed the following guide: https://spring.io/guides/gs/accessing-mongodb-data-rest/ and it&#39;s working really fine.\r\n\r\nI add some annotation on my Person.class, in order to validate the object during a POST request (like @NonNull and so on) like this :\r\n\r\n    public class Person {\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        @NonNull\r\n        private String firstName;\r\n    \r\n        @NonNull\r\n        private String lastName;\r\n    \r\n        private Integer age;\r\n    \r\n    }\r\n\r\nBut now I want to do a PATCH request to update my object (by doing a request curl -X PATCH http://localhost:8080/people/598c2a80d8425fae64161cc4 -d &#39;{&quot;age&quot;:23}&#39;).\r\n\r\nIt&#39;s also working fine, but I want to prevent the update on some fields, people shouldn&#39;t be allowed to update firstName and lastName for example.\r\n\r\nIs there some way to do it easily with an annotation? Or do I have to do a custom validation for every PATCH (or PUT) request? I don&#39;t like that solution because I would have to do it for every entity of my model.\r\n\r\nI hope I clearly exposed my problem, if it&#39;s not clear, feel free to ask me more questions. \r\n\r\nThanks for your help.","title":"Spring Data Rest PATCH forbid update on specific fields","body":"<p>I'm currently working on a small REST web service using spring-data-rest using :</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I followed the following guide: <a href=\"https://spring.io/guides/gs/accessing-mongodb-data-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-mongodb-data-rest/</a> and it's working really fine.</p>\n\n<p>I add some annotation on my Person.class, in order to validate the object during a POST request (like @NonNull and so on) like this :</p>\n\n<pre><code>public class Person {\n\n    @Id\n    private String id;\n\n    @NonNull\n    private String firstName;\n\n    @NonNull\n    private String lastName;\n\n    private Integer age;\n\n}\n</code></pre>\n\n<p>But now I want to do a PATCH request to update my object (by doing a request curl -X PATCH <a href=\"http://localhost:8080/people/598c2a80d8425fae64161cc4\" rel=\"nofollow noreferrer\">http://localhost:8080/people/598c2a80d8425fae64161cc4</a> -d '{\"age\":23}').</p>\n\n<p>It's also working fine, but I want to prevent the update on some fields, people shouldn't be allowed to update firstName and lastName for example.</p>\n\n<p>Is there some way to do it easily with an annotation? Or do I have to do a custom validation for every PATCH (or PUT) request? I don't like that solution because I would have to do it for every entity of my model.</p>\n\n<p>I hope I clearly exposed my problem, if it's not clear, feel free to ask me more questions. </p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","hibernate","parent-child","one-to-many"],"comments":[{"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1257548165,"post_id":1690859,"comment_id":1565903,"body_markdown":"What do you mean by &quot;When trying to save an ID from my parent class into a child class&quot;. Can you elaborate?","body":"What do you mean by &quot;When trying to save an ID from my parent class into a child class&quot;. Can you elaborate?"}],"answers":[{"comments":[{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":2,"creation_date":1257623469,"post_id":1692085,"comment_id":1569342,"body_markdown":"While certainly a valid suggestion, that doesn&#39;t exactly answer OP&#39;s question.","body":"While certainly a valid suggestion, that doesn&#39;t exactly answer OP&#39;s question."},{"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"score":0,"creation_date":1257646909,"post_id":1692085,"comment_id":1570368,"body_markdown":"Absolutely correct ChssPly76 I assumed that his use of the extensions here were unfounded seeing that the `parent_id` is not being propagated correctly. His annotations all look correct beside the changes I suggested. What do you think is going on given the lack of info from the OP?","body":"Absolutely correct ChssPly76 I assumed that his use of the extensions here were unfounded seeing that the <code>parent_id</code> is not being propagated correctly. His annotations all look correct beside the changes I suggested. What do you think is going on given the lack of info from the OP?"}],"tags":[],"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257571313,"creation_date":1257571313,"answer_id":1692085,"question_id":1690859,"body_markdown":"Change your `@OneToMany` to `@OneToMany(cascade=CascadeType.ALL)` use JPA rather than the Hibernate extensions\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>Change your <code>@OneToMany</code> to <code>@OneToMany(cascade=CascadeType.ALL)</code> use JPA rather than the Hibernate extensions</p>\n"},{"comments":[{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1313292927,"post_id":3319589,"comment_id":8435674,"body_markdown":"referencedColumnName isn&#39;t needed in the typical case of creating a foreign key referencing a primary key. From the docs: &quot;Default (only applies if single join column is being used): The same name as the primary key column of the referenced table.&quot;","body":"referencedColumnName isn&#39;t needed in the typical case of creating a foreign key referencing a primary key. From the docs: &quot;Default (only applies if single join column is being used): The same name as the primary key column of the referenced table.&quot;"}],"tags":[],"owner":{"account_id":49036,"reputation":2892,"user_id":145880,"accept_rate":92,"display_name":"Josh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279898460,"creation_date":1279898460,"answer_id":3319589,"question_id":1690859,"body_markdown":"My guess is that the `@JoinColumn annotation` needs a `referencedColumnName` assigned.\r\n\r\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>My guess is that the <code>@JoinColumn annotation</code> needs a <code>referencedColumnName</code> assigned.</p>\n\n<pre><code>@JoinColumn(name = \"parent_id\", referencedColumnName = \"id\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1313292788,"creation_date":1313292788,"answer_id":7054829,"question_id":1690859,"body_markdown":"You must have something wrong somewhere else because those mappings will work the way they are. They could be better, but they&#39;ll work. Specifically, all the `@Column` annotations are redundant and unnecessary, and as non sequitor noted, you should use the cascade property of JPA&#39;s `@OneToMany` instead of Hibernate&#39;s `@Cascade`. I&#39;ve created a [runnable example][1] with the cleaned-up version of what you posted. If you have git and maven, you can run it with:\r\n\r\n    git clone git://github.com/zzantozz/testbed tmp\r\n    cd tmp\r\n    mvn -q compile exec:java \\\r\n        -Dexec.mainClass=rds.hibernate.UnidirectionalManyToOneJoinColumn \\\r\n        -pl hibernate-unidirectional-one-to-many-with-join-column\r\n\r\nIt creates a parent with two children, saves them, and then loads them and prints out the graph. The output is:\r\n\r\n    Creating parent with two children\r\n    Loading saved parent\r\n    Parent{description=&#39;parent&#39;, children=[Child{description=&#39;child 2&#39;}, Child{description=&#39;child 1&#39;}]}\r\n\r\n\r\n  [1]: https://github.com/zzantozz/testbed/tree/master/hibernate-unidirectional-one-to-many-with-join-column","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>You must have something wrong somewhere else because those mappings will work the way they are. They could be better, but they'll work. Specifically, all the <code>@Column</code> annotations are redundant and unnecessary, and as non sequitor noted, you should use the cascade property of JPA's <code>@OneToMany</code> instead of Hibernate's <code>@Cascade</code>. I've created a <a href=\"https://github.com/zzantozz/testbed/tree/master/hibernate-unidirectional-one-to-many-with-join-column\" rel=\"noreferrer\">runnable example</a> with the cleaned-up version of what you posted. If you have git and maven, you can run it with:</p>\n\n<pre><code>git clone git://github.com/zzantozz/testbed tmp\ncd tmp\nmvn -q compile exec:java \\\n    -Dexec.mainClass=rds.hibernate.UnidirectionalManyToOneJoinColumn \\\n    -pl hibernate-unidirectional-one-to-many-with-join-column\n</code></pre>\n\n<p>It creates a parent with two children, saves them, and then loads them and prints out the graph. The output is:</p>\n\n<pre><code>Creating parent with two children\nLoading saved parent\nParent{description='parent', children=[Child{description='child 2'}, Child{description='child 1'}]}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4763312,"reputation":1693,"user_id":3850156,"accept_rate":60,"display_name":"smilin_stan"},"score":6,"creation_date":1414228186,"post_id":13515875,"comment_id":41742164,"body_markdown":"I was really scratching my head over this problem and changing `@JoinColumn(name = &quot;event_id&quot;)` to `@JoinColumn(name = &quot;event_id&quot;, nullable = false)` solved the problem.","body":"I was really scratching my head over this problem and changing <code>@JoinColumn(name = &quot;event_id&quot;)</code> to <code>@JoinColumn(name = &quot;event_id&quot;, nullable = false)</code> solved the problem."}],"tags":[],"owner":{"account_id":4627,"reputation":16143,"user_id":7034,"accept_rate":100,"display_name":"Henning"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1353598210,"creation_date":1353598210,"answer_id":13515875,"question_id":1690859,"body_markdown":"A late addition in case anyone ever runs into the same issue.\r\n\r\nThis entity here, when persisted using Hibernate 4.1.8, *will* cascade the `FieldChange`entities, but will *not* fill the join column:\r\n\r\n    @Entity\r\n    public class Event {\r\n\r\n        //ID and other fields here\r\n\r\n    \t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    \t@JoinColumn(name = &quot;event_id&quot;)\r\n    \tprivate List&lt;FieldChange&lt;?&gt;&gt; fields = new ArrayList&lt;FieldChange&lt;?&gt;&gt;();\r\n\r\n     }\r\n\r\nNeither does the  insert statement set the `event_id` column, nor does it update the inserted entity after the fact - the `event_id` remains null and the relation is lost.  \r\n\r\nIf, however, the `@JoinColumn` definition is changed like this:\r\n\r\n    @JoinColumn(name = &quot;event_id&quot;, nullable = false)\r\n\r\n, then the insert statement includes the `event_id` column like it should, and all is well.\r\n\r\nThis may only be a regression in this particular version of Hibernate, but maybe it helps someone.","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>A late addition in case anyone ever runs into the same issue.</p>\n\n<p>This entity here, when persisted using Hibernate 4.1.8, <em>will</em> cascade the <code>FieldChange</code>entities, but will <em>not</em> fill the join column:</p>\n\n<pre><code>@Entity\npublic class Event {\n\n    //ID and other fields here\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = \"event_id\")\n    private List&lt;FieldChange&lt;?&gt;&gt; fields = new ArrayList&lt;FieldChange&lt;?&gt;&gt;();\n\n }\n</code></pre>\n\n<p>Neither does the  insert statement set the <code>event_id</code> column, nor does it update the inserted entity after the fact - the <code>event_id</code> remains null and the relation is lost.  </p>\n\n<p>If, however, the <code>@JoinColumn</code> definition is changed like this:</p>\n\n<pre><code>@JoinColumn(name = \"event_id\", nullable = false)\n</code></pre>\n\n<p>, then the insert statement includes the <code>event_id</code> column like it should, and all is well.</p>\n\n<p>This may only be a regression in this particular version of Hibernate, but maybe it helps someone.</p>\n"},{"comments":[{"owner":{"account_id":465027,"reputation":1186,"user_id":868879,"accept_rate":82,"display_name":"Bart Weber"},"score":0,"creation_date":1404396001,"post_id":24144459,"comment_id":38031060,"body_markdown":"Option 1 fixed this problem for me using EclipseLink 2.5.1 Thanks!","body":"Option 1 fixed this problem for me using EclipseLink 2.5.1 Thanks!"}],"tags":[],"owner":{"account_id":4593930,"reputation":1243,"user_id":3726554,"display_name":"slavik"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1402412762,"creation_date":1402412762,"answer_id":24144459,"question_id":1690859,"body_markdown":" In your case JPA provider to persist child object with its parent perform at least three queries on db. First two persist the objects by its own. The last one\r\nupdate child object with the foreign key referencing parent. The second query fail because you have a NOT NULL constraint on the foreign key column. You have three options:\r\n\r\n\r\n1. Remove NOT NULL constraint on foreign key in the child entity\r\n2. Use bidirectional relationship\r\n3. Change JPA provider to one which supports such cases.","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>In your case JPA provider to persist child object with its parent perform at least three queries on db. First two persist the objects by its own. The last one\nupdate child object with the foreign key referencing parent. The second query fail because you have a NOT NULL constraint on the foreign key column. You have three options:</p>\n\n<ol>\n<li>Remove NOT NULL constraint on foreign key in the child entity</li>\n<li>Use bidirectional relationship</li>\n<li>Change JPA provider to one which supports such cases.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8066986,"reputation":109,"user_id":6080805,"display_name":"Adit choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693473723,"creation_date":1693473723,"answer_id":77014487,"question_id":1690859,"body_markdown":"For **Unidirectional Mapping**\r\n\r\nYour child table should have 1 column for foreign key (parent_id).\r\n\r\nAdd 1 more filed in child entity to set **parent_id** before saving, like below.\r\n\r\n    class Child {\r\n     \r\n      //other fields\r\n    \r\n       @Column(name = &quot;Id&quot;)\r\n        private int parentId;\r\n    }\r\n\r\nthen you save parent object\r\n\r\n    Parent createdParent = parentRepository.save(parent);\r\n\r\nreturned createdParent contains auto generated *Parent ID* Use it for setting above parentId field inside Child entity. like below.\r\n\r\n    child.setParentId(createdParent.getId());\r\n\r\nthen save child entity, like.\r\n\r\n     childRepository.save(child);\r\n\r\n\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>For <strong>Unidirectional Mapping</strong></p>\n<p>Your child table should have 1 column for foreign key (parent_id).</p>\n<p>Add 1 more filed in child entity to set <strong>parent_id</strong> before saving, like below.</p>\n<pre><code>class Child {\n \n  //other fields\n\n   @Column(name = &quot;Id&quot;)\n    private int parentId;\n}\n</code></pre>\n<p>then you save parent object</p>\n<pre><code>Parent createdParent = parentRepository.save(parent);\n</code></pre>\n<p>returned createdParent contains auto generated <em>Parent ID</em> Use it for setting above parentId field inside Child entity. like below.</p>\n<pre><code>child.setParentId(createdParent.getId());\n</code></pre>\n<p>then save child entity, like.</p>\n<pre><code> childRepository.save(child);\n</code></pre>\n"}],"owner":{"account_id":35174,"reputation":504,"user_id":99509,"accept_rate":50,"display_name":"ButtersB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17545,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7054829,"answer_count":6,"score":5,"last_activity_date":1693473723,"creation_date":1257545873,"question_id":1690859,"body_markdown":"When trying to save an ID from my parent class into a child class, I keep getting the error\r\n&quot;ERROR - Field &#39;parent_id&#39; doesn&#39;t have a default value&quot;\r\n\r\nI have tried all types of mappings. I am using annotations. \r\n\r\n\r\nAny help on this would be appreciated\r\n\r\nParent:\r\n\r\n\r\n          @Id\r\n          @Column(name=&quot;id&quot;)\r\n          @GeneratedValue(strategy=GenerationType.AUTO)\r\n          private long id;\r\n          @Column(name=&quot;description&quot;)\r\n          private String description;\r\n          @OneToMany\r\n          @Cascade(value= {org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.DELETE})\r\n          @JoinColumn(name=&quot;parent_id&quot;)\r\n          private List&lt;Child&gt; children;\r\n\r\nChild:\r\n\r\n      @Id\r\n      @Column(name=&quot;id&quot;)\r\n      @GeneratedValue(strategy=GenerationType.AUTO)\r\n      private long id;\r\n      @Column(name=&quot;description&quot;)\r\n      private String description;\r\n\r\nThanks.\r\n\r\n","title":"One-to-Many Unidirectional Parent-Child ID Cascade Save","body":"<p>When trying to save an ID from my parent class into a child class, I keep getting the error\n\"ERROR - Field 'parent_id' doesn't have a default value\"</p>\n\n<p>I have tried all types of mappings. I am using annotations. </p>\n\n<p>Any help on this would be appreciated</p>\n\n<p>Parent:</p>\n\n<pre><code>      @Id\n      @Column(name=\"id\")\n      @GeneratedValue(strategy=GenerationType.AUTO)\n      private long id;\n      @Column(name=\"description\")\n      private String description;\n      @OneToMany\n      @Cascade(value= {org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.DELETE})\n      @JoinColumn(name=\"parent_id\")\n      private List&lt;Child&gt; children;\n</code></pre>\n\n<p>Child:</p>\n\n<pre><code>  @Id\n  @Column(name=\"id\")\n  @GeneratedValue(strategy=GenerationType.AUTO)\n  private long id;\n  @Column(name=\"description\")\n  private String description;\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven","properties","bean-validation"],"answers":[{"comments":[{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":0,"creation_date":1693448319,"post_id":10413556,"comment_id":135763473,"body_markdown":"11 years has passed.  Is it possible to customize the default, to use application.properties instead of ValidationMessages.properties?","body":"11 years has passed.  Is it possible to customize the default, to use application.properties instead of ValidationMessages.properties?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1693473351,"post_id":10413556,"comment_id":135766748,"body_markdown":"If you&#39;re using Hibernate Validator as Bean Validation implementation, then yes: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-resource-bundle-locator","body":"If you&#39;re using Hibernate Validator as Bean Validation implementation, then yes: <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-resource-bundle-locator\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/validator/reference/en-US/&hellip;</a>"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693473710,"creation_date":1335960997,"answer_id":10413556,"question_id":10413500,"body_markdown":"&gt; *I can&#39;t seem to get the message from my ValidationMessage.properties file*\r\n\r\nThe filename must be exactly `ValidationMessages.properties`, with the plural `s`. It must also be placed in the root of the classpath and thus not in any subfolder/package.\r\n\r\nIn case you actually wanted to customize the default name/location of the properties file, then you need to head to implementation specific ways, because this is not (yet?) supported by the API. In case of Hibernate Validator refer to [section 4.2.1 ResourceBundleLocator][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-resource-bundle-locator","title":"How to get bean validation error message from properties file?","body":"<blockquote>\n<p><em>I can't seem to get the message from my ValidationMessage.properties file</em></p>\n</blockquote>\n<p>The filename must be exactly <code>ValidationMessages.properties</code>, with the plural <code>s</code>. It must also be placed in the root of the classpath and thus not in any subfolder/package.</p>\n<p>In case you actually wanted to customize the default name/location of the properties file, then you need to head to implementation specific ways, because this is not (yet?) supported by the API. In case of Hibernate Validator refer to <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-resource-bundle-locator\" rel=\"nofollow noreferrer\">section 4.2.1 ResourceBundleLocator</a>.</p>\n"}],"owner":{"account_id":1425696,"reputation":5389,"user_id":1349281,"accept_rate":81,"display_name":"tarka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10413556,"answer_count":1,"score":1,"last_activity_date":1693473710,"creation_date":1335960750,"question_id":10413500,"body_markdown":"I have the following regexp that I am using to validate an email;\r\n\r\n    @Pattern(regexp=&quot;[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?&quot;, message=&quot;Invalid Email&quot;)\r\n    private String email;\r\n\r\nMy problem is that I can&#39;t seem to get the message from  my ValidationMessage.properties file. It simply displays the string I place in the &quot;&quot;. I tried the following:\r\n\r\n    message=&quot;{InvalidEmail}&quot;\r\n\r\n(there is a key pair called &#39;InvalidEmail&#39; in the ValidationMessage.properties file)\r\nbut instead of collection the key pair value it simply prints out the string &#39;{InvalidEmail}&#39;.\r\n\r\n","title":"How to get bean validation error message from properties file?","body":"<p>I have the following regexp that I am using to validate an email;</p>\n\n<pre><code>@Pattern(regexp=\"[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\", message=\"Invalid Email\")\nprivate String email;\n</code></pre>\n\n<p>My problem is that I can't seem to get the message from  my ValidationMessage.properties file. It simply displays the string I place in the \"\". I tried the following:</p>\n\n<pre><code>message=\"{InvalidEmail}\"\n</code></pre>\n\n<p>(there is a key pair called 'InvalidEmail' in the ValidationMessage.properties file)\nbut instead of collection the key pair value it simply prints out the string '{InvalidEmail}'.</p>\n"},{"tags":["java","jdbc","compiler-errors"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1693461364,"post_id":77013141,"comment_id":135764488,"body_markdown":"Please add the complete stacktrace and share the content of `DBUtil.executeQuery`","body":"Please add the complete stacktrace and share the content of <code>DBUtil.executeQuery</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693470983,"post_id":77013141,"comment_id":135766229,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29312362,"reputation":1,"user_id":22457817,"display_name":"Ahmer Naveed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693473146,"creation_date":1693461253,"question_id":77013141,"body_markdown":"i face this error and my code is \r\n\r\n    try {\r\n\r\n            String[] aray = new String[]{userOpLogObj.getLogQuery(), insertQry};\r\n\r\n            String result = DBUtil.executeQuery(aray);\r\n            if (result.equals(&quot;1&quot;)) {\r\n                return &quot;1&quot;;\r\n            } else {\r\n                return &quot;-1&quot;;\r\n            }\r\n        } catch (DBException e) {\r\n\r\n            return &quot;-1,DBEX,&quot; + e.getError();\r\n        } catch (Exception ex) {\r\n\r\n            return &quot;-1&quot; + ex;\r\n        }\r\n\r\n    }\r\n\r\n\r\ni try everything own my own but nothing happened \r\n","title":"The method executeQuery(String[]) from the type DBUtil refers to the missing type UncategorizedSQLException","body":"<p>i face this error and my code is</p>\n<pre><code>try {\n\n        String[] aray = new String[]{userOpLogObj.getLogQuery(), insertQry};\n\n        String result = DBUtil.executeQuery(aray);\n        if (result.equals(&quot;1&quot;)) {\n            return &quot;1&quot;;\n        } else {\n            return &quot;-1&quot;;\n        }\n    } catch (DBException e) {\n\n        return &quot;-1,DBEX,&quot; + e.getError();\n    } catch (Exception ex) {\n\n        return &quot;-1&quot; + ex;\n    }\n\n}\n</code></pre>\n<p>i try everything own my own but nothing happened</p>\n"},{"tags":["java","spring","micrometer","health-monitoring","spring-micrometer"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693473847,"post_id":77014401,"comment_id":135766837,"body_markdown":"How are you using a `RestTemplate`? Which Spring Boot version are you using?","body":"How are you using a <code>RestTemplate</code>? Which Spring Boot version are you using?"},{"owner":{"account_id":19547899,"reputation":51,"user_id":14842678,"display_name":"Deepdarshan"},"score":0,"creation_date":1693474434,"post_id":77014401,"comment_id":135766971,"body_markdown":"@M.Deinum I am using spring boot version: `2.7.0` and making request like this\n`restTemplate.postForEntity(hostname + url,createPostHttpEntity(requestBody, headers),responseClass);`","body":"@M.Deinum I am using spring boot version: <code>2.7.0</code> and making request like this <code>restTemplate.postForEntity(hostname + url,createPostHttpEntity(requestBody, headers),responseClass);</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693475256,"post_id":77014401,"comment_id":135767129,"body_markdown":"Spring Boot 2.7 doesn&#39;t have build in observability so you would need some additional ibrary. Spring Boot 3 has. I understand how you are using `RestTemplate` (that is kind of obvious) but are you using an injected `RestTemplate` (which you should) or are constructing it as you need it (which you shouldn&#39;t do ).","body":"Spring Boot 2.7 doesn&#39;t have build in observability so you would need some additional ibrary. Spring Boot 3 has. I understand how you are using <code>RestTemplate</code> (that is kind of obvious) but are you using an injected <code>RestTemplate</code> (which you should) or are constructing it as you need it (which you shouldn&#39;t do )."},{"owner":{"account_id":19547899,"reputation":51,"user_id":14842678,"display_name":"Deepdarshan"},"score":0,"creation_date":1693475953,"post_id":77014401,"comment_id":135767272,"body_markdown":"@M.Deinum I am using injected `RestTemplate` only. Can I know which library are you telling?","body":"@M.Deinum I am using injected <code>RestTemplate</code> only. Can I know which library are you telling?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693480494,"post_id":77014401,"comment_id":135768193,"body_markdown":"Sorry my bad there is an interceptor that registers the metrics. DId you use the `RestTemplateBuilder` to create the `RestTemplate` or did you create it yourself? If you used the builder you should have metrics.","body":"Sorry my bad there is an interceptor that registers the metrics. DId you use the <code>RestTemplateBuilder</code> to create the <code>RestTemplate</code> or did you create it yourself? If you used the builder you should have metrics."}],"owner":{"account_id":19547899,"reputation":51,"user_id":14842678,"display_name":"Deepdarshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693473034,"creation_date":1693473034,"question_id":77014401,"body_markdown":"I am using Rest template to make API third party API request from my server.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/y0txe.png)](https://i.stack.imgur.com/y0txe.png)\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include=*\r\n```\r\n\r\nAfter doing all this I am not able to view `http.client.request`\r\n\r\n[![enter image description here](https://i.stack.imgur.com/uDxTJ.png)](https://i.stack.imgur.com/uDxTJ.png)\r\n\r\nI wanted to know where I am missing, why `http.client.request` not coming. I also made request various time but then also I didn&#39;t get anything","title":"http.client.requests not working in Java Spring Boot","body":"<p>I am using Rest template to make API third party API request from my server.</p>\n<p><a href=\"https://i.stack.imgur.com/y0txe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y0txe.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>management.endpoints.web.exposure.include=*\n</code></pre>\n<p>After doing all this I am not able to view <code>http.client.request</code></p>\n<p><a href=\"https://i.stack.imgur.com/uDxTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDxTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I wanted to know where I am missing, why <code>http.client.request</code> not coming. I also made request various time but then also I didn't get anything</p>\n"},{"tags":["java","sql","jpa","hql"],"owner":{"account_id":29335954,"reputation":1,"user_id":22476332,"display_name":"Progress"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693472593,"creation_date":1693472593,"question_id":77014354,"body_markdown":"```\r\n@Repository\r\npublic interface MeetupRepository extends CrudRepository&lt;Meetup, Long&gt; {\r\n\r\n    List&lt;Meetup&gt; findAll();\r\n\r\n    @Query(value = &quot;select * from meetup join meetup_timetable &quot; +\r\n            &quot;on meetup.id=meetup_timetable.meetup_id where meetup_timetable.employee_id = :employee_id&quot;, nativeQuery = true)\r\n\r\n    List&lt;Meetup&gt; getAllByEmployeeId(@Param(&quot;employee_id&quot;) String employeeId);\r\n }\r\n```\r\nHow to add a second condition to the code above in @Query - (meetupRepository.getAllByEmployeeId(employeeId).stream().\r\n                    filter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)),    to pull the necessary data from the database at once?\r\n\r\n```\r\npublic Map&lt;String, Boolean&gt; checkingIntersectionMeetup(List&lt;String&gt; employeesId, LocalDateTime startDate, LocalDateTime endDate) {\r\n\r\n        //We check if they have any meetings that overlap with the one they want to invite them to\r\n\r\n        Map&lt;String, Boolean&gt; intersect = new HashMap&lt;&gt;(employeesId.size());\r\n\r\n       for (String employeeId : employeesId) {\r\n            List&lt;Meetup&gt; overlappingMeetups = meetupRepository.getAllByEmployeeId(employeeId).stream().\r\n                    filter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)\r\n                    .collect(Collectors.toList());\r\n            if (overlappingMeetups.isEmpty()) {\r\n                intersect.put(employeeId, false);\r\n            } else intersect.put(employeeId, true);\r\n        }\r\n        return intersect;\r\n```\r\n\r\n\r\n\r\nI tried to add a secondary condition, but an empty Resultlist was returned?","title":"How to pull data using HQL code through the repository using 2 conditions","body":"<pre><code>@Repository\npublic interface MeetupRepository extends CrudRepository&lt;Meetup, Long&gt; {\n\n    List&lt;Meetup&gt; findAll();\n\n    @Query(value = &quot;select * from meetup join meetup_timetable &quot; +\n            &quot;on meetup.id=meetup_timetable.meetup_id where meetup_timetable.employee_id = :employee_id&quot;, nativeQuery = true)\n\n    List&lt;Meetup&gt; getAllByEmployeeId(@Param(&quot;employee_id&quot;) String employeeId);\n }\n</code></pre>\n<p>How to add a second condition to the code above in @Query - (meetupRepository.getAllByEmployeeId(employeeId).stream().\nfilter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)),    to pull the necessary data from the database at once?</p>\n<pre><code>public Map&lt;String, Boolean&gt; checkingIntersectionMeetup(List&lt;String&gt; employeesId, LocalDateTime startDate, LocalDateTime endDate) {\n\n        //We check if they have any meetings that overlap with the one they want to invite them to\n\n        Map&lt;String, Boolean&gt; intersect = new HashMap&lt;&gt;(employeesId.size());\n\n       for (String employeeId : employeesId) {\n            List&lt;Meetup&gt; overlappingMeetups = meetupRepository.getAllByEmployeeId(employeeId).stream().\n                    filter(m -&gt; m.getEndDate().compareTo(startDate) &gt; 0 &amp;&amp; m.getStartDate().compareTo(endDate) &lt; 0)\n                    .collect(Collectors.toList());\n            if (overlappingMeetups.isEmpty()) {\n                intersect.put(employeeId, false);\n            } else intersect.put(employeeId, true);\n        }\n        return intersect;\n</code></pre>\n<p>I tried to add a secondary condition, but an empty Resultlist was returned?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1692885454,"post_id":76970030,"comment_id":135687132,"body_markdown":"Looks like extra effort for little-to-no gain. Also, don&#39;t optimize blindly. Worry about that level of micro-optimization when you have *measured* there&#39;s a bottleneck there.","body":"Looks like extra effort for little-to-no gain. Also, don&#39;t optimize blindly. Worry about that level of micro-optimization when you have <i>measured</i> there&#39;s a bottleneck there."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1692886963,"post_id":76970030,"comment_id":135687491,"body_markdown":"Before jumping to conclusions you either look at the source code of that setter (maybe it performs the same check anyway) or run a benchmark.","body":"Before jumping to conclusions you either look at the source code of that setter (maybe it performs the same check anyway) or run a benchmark."},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1692930545,"post_id":76970030,"comment_id":135694557,"body_markdown":"The better approach depends on the context and your coding style. If your intention is to simply enable the button regardless of its current state, using `saveButton.setEnabled(true);` is cleaner and more direct. It&#39;s also a common idiom in programming to set properties directly when you know what you want to set them to.\n\nHowever, if you&#39;re concerned about performance or if you want to make sure you&#39;re only making changes to the button&#39;s state when necessary, the conditional approach might be more appropriate.","body":"The better approach depends on the context and your coding style. If your intention is to simply enable the button regardless of its current state, using <code>saveButton.setEnabled(true);</code> is cleaner and more direct. It&#39;s also a common idiom in programming to set properties directly when you know what you want to set them to.  However, if you&#39;re concerned about performance or if you want to make sure you&#39;re only making changes to the button&#39;s state when necessary, the conditional approach might be more appropriate."}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693472379,"creation_date":1693472379,"answer_id":77014323,"question_id":76970030,"body_markdown":"The main difference here would be if you want to know if property was changed or not.\r\n\r\nJButton.setEnabled() will call JComponent.setEnabled()\r\n\r\nwhich looks like that\r\n\r\n    public void setEnabled(boolean enabled) {\r\n            boolean oldEnabled = isEnabled();\r\n            super.setEnabled(enabled);\r\n            firePropertyChange(&quot;enabled&quot;, oldEnabled, enabled);\r\n            if (enabled != oldEnabled) {\r\n                repaint();\r\n            }\r\n        }\r\n\r\nfirePropertyChange will fire an event which can be listened to etc.\r\n\r\nSo performance wise checking first if button is enabled would be better but the difference will be minimal\r\n\r\nKeep in mind that actual event will be fired only if your new value will be different from old value so better performance would only come from more functions being called and few more if statements in setEnabled vs checking for is enabled beforehand","title":"Does it make sense to query a state with a getter before toggling that state with a setter?","body":"<p>The main difference here would be if you want to know if property was changed or not.</p>\n<p>JButton.setEnabled() will call JComponent.setEnabled()</p>\n<p>which looks like that</p>\n<pre><code>public void setEnabled(boolean enabled) {\n        boolean oldEnabled = isEnabled();\n        super.setEnabled(enabled);\n        firePropertyChange(&quot;enabled&quot;, oldEnabled, enabled);\n        if (enabled != oldEnabled) {\n            repaint();\n        }\n    }\n</code></pre>\n<p>firePropertyChange will fire an event which can be listened to etc.</p>\n<p>So performance wise checking first if button is enabled would be better but the difference will be minimal</p>\n<p>Keep in mind that actual event will be fired only if your new value will be different from old value so better performance would only come from more functions being called and few more if statements in setEnabled vs checking for is enabled beforehand</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77014323,"answer_count":1,"score":2,"last_activity_date":1693472379,"creation_date":1692885330,"question_id":76970030,"body_markdown":"I have a little Swing app that has the following code snippet (it&#39;s an inner class). The checkboxes and buttons are `JCheckBox` and `JButton` instances respectively\r\n```java\r\n    private class CheckBoxListener implements ItemListener {\r\n        @Override\r\n        public void itemStateChanged(ItemEvent e) {\r\n            if (e.getStateChange() == ItemEvent.SELECTED) {\r\n                saveButton.setEnabled(true);\r\n                clearButton.setEnabled(true);\r\n            } else if (e.getStateChange() == ItemEvent.DESELECTED &amp;&amp;\r\n                    checkBoxList.stream().noneMatch(AbstractButton::isSelected)) {\r\n                saveButton.setEnabled(false);\r\n                clearButton.setEnabled(false);\r\n            }\r\n        }\r\n    }\r\n```\r\nI am wondering whether it makes sense to change, for example, this\r\n```java\r\nsaveButton.setEnabled(true);\r\n```\r\nto this\r\n```java\r\nif (!saveButton.isEnabled()) {\r\n    saveButton.setEnabled(true);\r\n}\r\n```\r\nWithout the check, I&#39;d say, 90% of the time the setter doesn&#39;t do any actual work (the button already has the state being set). On the other hand, setting it blindly may be cheaper that querying that state every time and then setting it if needed. Which approach should I prefer?","title":"Does it make sense to query a state with a getter before toggling that state with a setter?","body":"<p>I have a little Swing app that has the following code snippet (it's an inner class). The checkboxes and buttons are <code>JCheckBox</code> and <code>JButton</code> instances respectively</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private class CheckBoxListener implements ItemListener {\n        @Override\n        public void itemStateChanged(ItemEvent e) {\n            if (e.getStateChange() == ItemEvent.SELECTED) {\n                saveButton.setEnabled(true);\n                clearButton.setEnabled(true);\n            } else if (e.getStateChange() == ItemEvent.DESELECTED &amp;&amp;\n                    checkBoxList.stream().noneMatch(AbstractButton::isSelected)) {\n                saveButton.setEnabled(false);\n                clearButton.setEnabled(false);\n            }\n        }\n    }\n</code></pre>\n<p>I am wondering whether it makes sense to change, for example, this</p>\n<pre class=\"lang-java prettyprint-override\"><code>saveButton.setEnabled(true);\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!saveButton.isEnabled()) {\n    saveButton.setEnabled(true);\n}\n</code></pre>\n<p>Without the check, I'd say, 90% of the time the setter doesn't do any actual work (the button already has the state being set). On the other hand, setting it blindly may be cheaper that querying that state every time and then setting it if needed. Which approach should I prefer?</p>\n"},{"tags":["java","mockito","powermock"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":4,"creation_date":1693428481,"post_id":77010870,"comment_id":135761561,"body_markdown":"Why do you need/want to mock? You wouldn&#39;t be testing your class if you mock it.","body":"Why do you need/want to mock? You wouldn&#39;t be testing your class if you mock it."},{"owner":{"account_id":237029,"reputation":4989,"user_id":504913,"accept_rate":25,"display_name":"aholbreich"},"score":2,"creation_date":1693472415,"post_id":77010870,"comment_id":135766540,"body_markdown":"It would help if you would provide more concrete details. What do those two functions actually look like? and what exactly are you trying to test?","body":"It would help if you would provide more concrete details. What do those two functions actually look like? and what exactly are you trying to test?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693494348,"post_id":77010870,"comment_id":135771366,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24490446,"reputation":1,"user_id":18407591,"display_name":"PG24"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693471995,"creation_date":1693422261,"question_id":77010870,"body_markdown":"I am writing a test case in `Junit` for function which is `public[firstFunction]` and its invoking another function which is private.\r\n\r\n    public firstFunction(Object1 object1 , Object2 object2){\r\n           secondFunction(object1,object2)\r\n    }\r\n    private secondFunction(Object1 object1 , Object2 object2){\r\n           ....\r\n    }\r\n\r\nI am trying to write a test case using but unable to find solution3","title":"mock a private method which doesn&#39;t return anything using Junit","body":"<p>I am writing a test case in <code>Junit</code> for function which is <code>public[firstFunction]</code> and its invoking another function which is private.</p>\n<pre><code>public firstFunction(Object1 object1 , Object2 object2){\n       secondFunction(object1,object2)\n}\nprivate secondFunction(Object1 object1 , Object2 object2){\n       ....\n}\n</code></pre>\n<p>I am trying to write a test case using but unable to find solution3</p>\n"},{"tags":["java","security","path-traversal"],"comments":[{"owner":{"account_id":1580389,"reputation":1921,"user_id":1465881,"display_name":"brz"},"score":0,"creation_date":1693465938,"post_id":77013556,"comment_id":135765243,"body_markdown":"Please add a programming language tag.","body":"Please add a programming language tag."}],"owner":{"account_id":3052073,"reputation":21,"user_id":2586411,"display_name":"Poonam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693471399,"creation_date":1693465815,"question_id":77013556,"body_markdown":"I&#39;m trying to fix Path Traversal Vulnerability raised by Gitlab SAST in the Java Source code. There is a scenario where I am creating a file object by passing in an Input string. Then creating a file output stream to write to the file represented by the specified File object.\r\n\r\n```java\r\nprivate BufferedWriter createFile( String filePath, String fileName )\r\n\t{\t\t\r\n\t\ttry {\r\n\t\t\tFile dir = new File( FilenameUtils.normalize(filePath) );\r\n\t\r\n\t\t\tif ( ! dir.exists() ) {\r\n\t\t\t\tif (! dir.mkdirs() ) {\r\n\t\t\t\t\tlog(&quot;** WARNING: The file &quot; + fileName + &quot; cannot be created because the path &quot; + filePath  + &quot; could not be created **\\n&quot;);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\tFile file = new File(dir.getPath() + File.separatorChar + fileName);\r\n\t\t\tif ( file.exists() )\r\n\t\t\t\tfile.delete();\r\n\r\n\t\t\tFileOutputStream fos = new FileOutputStream( file , false );\r\n\t\t\tps = new PrintStream(fos);\r\n\t\t\t\r\n\t\t\treturn new BufferedWriter(new FileWriter(file));\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tlog(&quot;** Warning: could not create file : &quot; + filePath + File.separatorChar + fileName + &quot; **\\n&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nIssue is I am getting Path traversal vulnerability error for line `FileOutputStream fos = new FileOutputStream( file , false );` How do I fix this?\r\nI have tried using `getCanonicalPath()` method but that didn&#39;t solve the issue. \r\n\r\nThere was a vulnerability error while creating file object as well which I fixed it using `FilenameUtils` class","title":"Path Traversal vulnerability for a file object","body":"<p>I'm trying to fix Path Traversal Vulnerability raised by Gitlab SAST in the Java Source code. There is a scenario where I am creating a file object by passing in an Input string. Then creating a file output stream to write to the file represented by the specified File object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private BufferedWriter createFile( String filePath, String fileName )\n    {       \n        try {\n            File dir = new File( FilenameUtils.normalize(filePath) );\n    \n            if ( ! dir.exists() ) {\n                if (! dir.mkdirs() ) {\n                    log(&quot;** WARNING: The file &quot; + fileName + &quot; cannot be created because the path &quot; + filePath  + &quot; could not be created **\\n&quot;);\n                    return null;\n                }\n            }\n        \n            File file = new File(dir.getPath() + File.separatorChar + fileName);\n            if ( file.exists() )\n                file.delete();\n\n            FileOutputStream fos = new FileOutputStream( file , false );\n            ps = new PrintStream(fos);\n            \n            return new BufferedWriter(new FileWriter(file));\n        }\n        catch (Exception e) {\n            log(&quot;** Warning: could not create file : &quot; + filePath + File.separatorChar + fileName + &quot; **\\n&quot;);\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>Issue is I am getting Path traversal vulnerability error for line <code>FileOutputStream fos = new FileOutputStream( file , false );</code> How do I fix this?\nI have tried using <code>getCanonicalPath()</code> method but that didn't solve the issue.</p>\n<p>There was a vulnerability error while creating file object as well which I fixed it using <code>FilenameUtils</code> class</p>\n"},{"tags":["java","hibernate","quarkus","database-schema"],"comments":[{"owner":{"account_id":1086765,"reputation":9377,"user_id":1082300,"accept_rate":50,"display_name":"Steve Ebersole"},"score":0,"creation_date":1693500158,"post_id":77014168,"comment_id":135772670,"body_markdown":"Is it really just validation though where you want this skipped?  I&#39;d imagine no - that you really want Hibernate to simply treat the attribute as transient on one db and persistent (non-transient) on the other.  And that&#39;s not possible.  Even if the validation passed, you will still have trouble at runtime - as you&#39;ve seen with `@Transient` and not persisting on one hand; but the other is true as well - without `@Transient` in the case of the schema NOT having that column, you will run into SQL errors at runtime","body":"Is it really just validation though where you want this skipped?  I&#39;d imagine no - that you really want Hibernate to simply treat the attribute as transient on one db and persistent (non-transient) on the other.  And that&#39;s not possible.  Even if the validation passed, you will still have trouble at runtime - as you&#39;ve seen with <code>@Transient</code> and not persisting on one hand; but the other is true as well - without <code>@Transient</code> in the case of the schema NOT having that column, you will run into SQL errors at runtime"}],"owner":{"account_id":1668779,"reputation":2093,"user_id":1535655,"accept_rate":55,"display_name":"Frank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693471179,"creation_date":1693471179,"question_id":77014168,"body_markdown":"I&#39;m using Java and Quarkus 2.16.x. I have a DB entity having a field that is existing only in some databases and not in others.\r\nIn my `application.properties` I&#39;m using `quarkus.hibernate-orm.&quot;iad&quot;.database.generation=validate` and I need to keep it to validate the general schema.\r\n\r\nWhat I need is just to ignore the specific field inside my entity during the schema validation, so that the application starts regardless of the presence of the field in the DB schema I choose!\r\n\r\nIs there anything like an `@Ignore` annotation from Quarkus or Java or Hibernate that I can use for that field?\r\n\r\nI tried to use `@Transient`, but when the column is existing in the DB the value of the field is always ignored while doing set/get operations!\r\n\r\nThanks","title":"Ignore/skip specific field in Hibernate schema validation","body":"<p>I'm using Java and Quarkus 2.16.x. I have a DB entity having a field that is existing only in some databases and not in others.\nIn my <code>application.properties</code> I'm using <code>quarkus.hibernate-orm.&quot;iad&quot;.database.generation=validate</code> and I need to keep it to validate the general schema.</p>\n<p>What I need is just to ignore the specific field inside my entity during the schema validation, so that the application starts regardless of the presence of the field in the DB schema I choose!</p>\n<p>Is there anything like an <code>@Ignore</code> annotation from Quarkus or Java or Hibernate that I can use for that field?</p>\n<p>I tried to use <code>@Transient</code>, but when the column is existing in the DB the value of the field is always ignored while doing set/get operations!</p>\n<p>Thanks</p>\n"},{"tags":["java","sal"],"comments":[{"owner":{"account_id":12953390,"reputation":101,"user_id":10178107,"display_name":"ozgenbaris"},"score":1,"creation_date":1693472027,"post_id":77014155,"comment_id":135766458,"body_markdown":"Instead of truncate/load you can load the data into a staging table that has the same schema. And once the load phase is succeeded then you can rename these two tables in a single transaction as a swap operation. So the staging table becomes the main one and the other one becomes the staging table. Once everything is fine you can truncate the staging table to clean up","body":"Instead of truncate/load you can load the data into a staging table that has the same schema. And once the load phase is succeeded then you can rename these two tables in a single transaction as a swap operation. So the staging table becomes the main one and the other one becomes the staging table. Once everything is fine you can truncate the staging table to clean up"},{"owner":{"account_id":28491594,"reputation":1,"user_id":21804153,"display_name":"Atul"},"score":0,"creation_date":1693548604,"post_id":77014155,"comment_id":135778185,"body_markdown":"Thanks for input. Just trying to understand during the swap operation do we normally need to pause/halt the application ? Just thinking if reading from main table and swap operation happen exactly at the same time and how to handle this situation.  Do we need a lock to perform one operation at a time ( reading from main table and swap operation )","body":"Thanks for input. Just trying to understand during the swap operation do we normally need to pause/halt the application ? Just thinking if reading from main table and swap operation happen exactly at the same time and how to handle this situation.  Do we need a lock to perform one operation at a time ( reading from main table and swap operation )"},{"owner":{"account_id":12953390,"reputation":101,"user_id":10178107,"display_name":"ozgenbaris"},"score":0,"creation_date":1693555599,"post_id":77014155,"comment_id":135779391,"body_markdown":"Since you&#39;re trying to truncate/load this table I am assuming that your application is only reading from this table (not writing any data). So I am not really sure but I am guessing that if there is a select query that is already running on the table and your table is not optimized (missing indexes etc) for the submitted queries, then your rename operation should wait for the queries to end. But if your table gives response fast enough then this atomic operation can be completed in just a moment.","body":"Since you&#39;re trying to truncate/load this table I am assuming that your application is only reading from this table (not writing any data). So I am not really sure but I am guessing that if there is a select query that is already running on the table and your table is not optimized (missing indexes etc) for the submitted queries, then your rename operation should wait for the queries to end. But if your table gives response fast enough then this atomic operation can be completed in just a moment."},{"owner":{"account_id":28491594,"reputation":1,"user_id":21804153,"display_name":"Atul"},"score":0,"creation_date":1693818295,"post_id":77014155,"comment_id":135805671,"body_markdown":"Yes, True. Truncate and load table is for read only operation","body":"Yes, True. Truncate and load table is for read only operation"}],"owner":{"account_id":28491594,"reputation":1,"user_id":21804153,"display_name":"Atul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693471061,"creation_date":1693471061,"question_id":77014155,"body_markdown":"We have Java and reactJs based application with SQL database. We have requirement to periodically reload ( truncate and load) tables from external system while application is running.  \r\n\r\nThinking of cases where reload is in progress and application is reading from the sql table at the same time. How to best handle this ?\r\n\r\nTrying to simulate the scenario but not able to reproduce.  ","title":"Truncate and Load table while application is running","body":"<p>We have Java and reactJs based application with SQL database. We have requirement to periodically reload ( truncate and load) tables from external system while application is running.</p>\n<p>Thinking of cases where reload is in progress and application is reading from the sql table at the same time. How to best handle this ?</p>\n<p>Trying to simulate the scenario but not able to reproduce.</p>\n"},{"tags":["java","apt","annotation-processing"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1693363719,"post_id":77004661,"comment_id":135749566,"body_markdown":"Try enabling in the IDE as well","body":"Try enabling in the IDE as well"},{"owner":{"account_id":29321897,"reputation":1,"user_id":22465295,"display_name":"hill cxs"},"score":0,"creation_date":1693470914,"post_id":77004661,"comment_id":135766214,"body_markdown":"Hi hermit, I&#39;m glad to receive your comment. A good news is that I have found a solution for this problem. It was totally because the annotation processor module should be placed in a diff module from other module.","body":"Hi hermit, I&#39;m glad to receive your comment. A good news is that I have found a solution for this problem. It was totally because the annotation processor module should be placed in a diff module from other module."}],"answers":[{"tags":[],"owner":{"account_id":29321897,"reputation":1,"user_id":22465295,"display_name":"hill cxs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693471056,"creation_date":1693471056,"answer_id":77014153,"question_id":77004661,"body_markdown":"Put the annotation processor codes in a seperated module and other module just depend on it.","title":"Annotation processor doesn&#39;t run","body":"<p>Put the annotation processor codes in a seperated module and other module just depend on it.</p>\n"}],"owner":{"account_id":29321897,"reputation":1,"user_id":22465295,"display_name":"hill cxs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693471056,"creation_date":1693363014,"question_id":77004661,"body_markdown":"I wannna use annotation processor in my IDEA plugin, which will resolve classes and methods with &#39;TaskID&#39; annotation. But I found that my processor can&#39;t run at all. I do wanna know what&#39;s wrong and what should I do.\r\nHere is my code below\r\n```\r\nimport com.google.auto.service.AutoService;\r\n\r\nimport javax.annotation.processing.AbstractProcessor;\r\nimport javax.annotation.processing.ProcessingEnvironment;\r\nimport javax.annotation.processing.Processor;\r\nimport javax.annotation.processing.RoundEnvironment;\r\nimport javax.lang.model.SourceVersion;\r\nimport javax.lang.model.element.*;\r\nimport javax.lang.model.util.Elements;\r\nimport java.util.*;\r\n\r\n@AutoService(Processor.class)\r\npublic class AnnotationProcessor extends AbstractProcessor {\r\n```\r\n\r\n```\r\n@Retention(RetentionPolicy.SOURCE)\r\n@Target({TYPE, METHOD})\r\npublic @interface TaskID {\r\n    /**\r\n     * Task ID\r\n     */\r\n    String[] taskID();\r\n}\r\n```\r\n\r\n```\r\ndependencies {\r\n    annotationProcessor &#39;com.google.auto.service:auto-service:1.0-rc2&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    implementation &#39;com.google.auto.service:auto-service:1.0-rc2&#39;\r\n    implementation (&quot;com.github.javaparser:javaparser-core:3.25.4&quot;)\r\n}\r\n```\r\n\r\n\r\nEnviroment: JDK 11, Gradle-7.6 IntelliJ IDEA 2021.3.1 (Community Edition)","title":"Annotation processor doesn&#39;t run","body":"<p>I wannna use annotation processor in my IDEA plugin, which will resolve classes and methods with 'TaskID' annotation. But I found that my processor can't run at all. I do wanna know what's wrong and what should I do.\nHere is my code below</p>\n<pre><code>import com.google.auto.service.AutoService;\n\nimport javax.annotation.processing.AbstractProcessor;\nimport javax.annotation.processing.ProcessingEnvironment;\nimport javax.annotation.processing.Processor;\nimport javax.annotation.processing.RoundEnvironment;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.*;\nimport javax.lang.model.util.Elements;\nimport java.util.*;\n\n@AutoService(Processor.class)\npublic class AnnotationProcessor extends AbstractProcessor {\n</code></pre>\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@Target({TYPE, METHOD})\npublic @interface TaskID {\n    /**\n     * Task ID\n     */\n    String[] taskID();\n}\n</code></pre>\n<pre><code>dependencies {\n    annotationProcessor 'com.google.auto.service:auto-service:1.0-rc2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'com.google.auto.service:auto-service:1.0-rc2'\n    implementation (&quot;com.github.javaparser:javaparser-core:3.25.4&quot;)\n}\n</code></pre>\n<p>Enviroment: JDK 11, Gradle-7.6 IntelliJ IDEA 2021.3.1 (Community Edition)</p>\n"},{"tags":["java","arrays","database"],"answers":[{"comments":[{"owner":{"account_id":29313296,"reputation":13,"user_id":22458572,"display_name":"Amaan Udhay"},"score":0,"creation_date":1693466053,"post_id":77006260,"comment_id":135765275,"body_markdown":"Hey thanks for your response! I tried it out and it didn&#39;t quite work for this test case: \n\nInput: [0,1,2,2,3,0,4,2] 2 \n\nOutput: [0,1,4,4,3,0]\n\nExpected: [0,1,4,0,3]","body":"Hey thanks for your response! I tried it out and it didn&#39;t quite work for this test case:   Input: [0,1,2,2,3,0,4,2] 2   Output: [0,1,4,4,3,0]  Expected: [0,1,4,0,3]"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1693470497,"post_id":77006260,"comment_id":135766136,"body_markdown":"@AmaanUdhay you&#39;re right. I forgot to decrement `last` after the assignment. See edited answer.","body":"@AmaanUdhay you&#39;re right. I forgot to decrement <code>last</code> after the assignment. See edited answer."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693470461,"creation_date":1693384522,"answer_id":77006260,"question_id":77006189,"body_markdown":"Your code is not correct. When you find an element equal to `val`, you overwrite it with `nums[i] = nums[i + 1];`. If `nums[i + 1]` is also equal to `val`, this will give you an incorrect result.\r\n\r\nBesides, your `while` loop causes an infinite loop and does nothing meaningful. That&#39;s why you reach the time limit.\r\n\r\nYou should eliminate the `while` loop. And in the `for` loop you should assign to `nums[i]` a value that is different than `val`. I&#39;d take the value with the highest index that is not equal to `val` and wasn&#39;t already used.\r\n\r\nI believe this should work:\r\n\r\n    class Solution {\r\n        public int removeElement(int[] nums, int val) {\r\n            int k = 0;\r\n            int last = nums.length - 1;\r\n            for (int i = 0; i &lt; last; i++) {\r\n                if (nums[i] == val) {\r\n                    while (nums[last] == val) {\r\n                      last--;\r\n                    }\r\n                    if (i &lt; last) {\r\n                        nums[i] = nums[last];\r\n                        last--;\r\n                        k++;\r\n                    }\r\n                } else {\r\n                  k++;\r\n                }\r\n            }\r\n\r\n            return k;\r\n        }\r\n    }\r\n\r\n","title":"Need help to shorten this piece of code as I keep getting a Time Limit Exceeded error on LeetCode","body":"<p>Your code is not correct. When you find an element equal to <code>val</code>, you overwrite it with <code>nums[i] = nums[i + 1];</code>. If <code>nums[i + 1]</code> is also equal to <code>val</code>, this will give you an incorrect result.</p>\n<p>Besides, your <code>while</code> loop causes an infinite loop and does nothing meaningful. That's why you reach the time limit.</p>\n<p>You should eliminate the <code>while</code> loop. And in the <code>for</code> loop you should assign to <code>nums[i]</code> a value that is different than <code>val</code>. I'd take the value with the highest index that is not equal to <code>val</code> and wasn't already used.</p>\n<p>I believe this should work:</p>\n<pre><code>class Solution {\n    public int removeElement(int[] nums, int val) {\n        int k = 0;\n        int last = nums.length - 1;\n        for (int i = 0; i &lt; last; i++) {\n            if (nums[i] == val) {\n                while (nums[last] == val) {\n                  last--;\n                }\n                if (i &lt; last) {\n                    nums[i] = nums[last];\n                    last--;\n                    k++;\n                }\n            } else {\n              k++;\n            }\n        }\n\n        return k;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29313296,"reputation":13,"user_id":22458572,"display_name":"Amaan Udhay"},"score":0,"creation_date":1693465961,"post_id":77006764,"comment_id":135765253,"body_markdown":"Hey thanks for your response! I tried this adjustment and it failed on this test case:\n\nInput:\n[0,1,2,2,3,0,4,2]\n2\n\nOutput:\n[0,1,2,3,3]\n\nExpected:\n[0,1,4,0,3]","body":"Hey thanks for your response! I tried this adjustment and it failed on this test case:  Input: [0,1,2,2,3,0,4,2] 2  Output: [0,1,2,3,3]  Expected: [0,1,4,0,3]"}],"tags":[],"owner":{"account_id":28569435,"reputation":79,"user_id":21871881,"display_name":"KamiSama"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693388187,"creation_date":1693388187,"answer_id":77006764,"question_id":77006189,"body_markdown":"Looks like your while is running forever bro. if you need to have some stop condition, if numOfVal != 0 you will be decreasing val infinite times. Ussualy you want to decrease or increase inside the while brackets the same variable that you have in the while condition. \r\nEX: \r\n\r\n    int a = 99;\r\n    while (a!=0) {\r\n    a--;\r\n    }\r\n\r\nso after 100 iterations your while stops. But you are never updating numOfVal so your while is something like this \r\n\r\n    int a = 99;\r\n    int b = 0;\r\n    while (a!=0) {\r\n    b--;\r\n    }\r\n\r\nb will decrease forever and a=99 will nver change so the while is not going to stop.\r\n\r\n","title":"Need help to shorten this piece of code as I keep getting a Time Limit Exceeded error on LeetCode","body":"<p>Looks like your while is running forever bro. if you need to have some stop condition, if numOfVal != 0 you will be decreasing val infinite times. Ussualy you want to decrease or increase inside the while brackets the same variable that you have in the while condition.\nEX:</p>\n<pre><code>int a = 99;\nwhile (a!=0) {\na--;\n}\n</code></pre>\n<p>so after 100 iterations your while stops. But you are never updating numOfVal so your while is something like this</p>\n<pre><code>int a = 99;\nint b = 0;\nwhile (a!=0) {\nb--;\n}\n</code></pre>\n<p>b will decrease forever and a=99 will nver change so the while is not going to stop.</p>\n"}],"owner":{"account_id":29313296,"reputation":13,"user_id":22458572,"display_name":"Amaan Udhay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77006260,"answer_count":2,"score":0,"last_activity_date":1693470461,"creation_date":1693383987,"question_id":77006189,"body_markdown":"I submitted this code on LeetCode recently and kept getting a Time Limit Exceeded error. I am new to Java and would like help shortening it. Here is some information about the question:\r\n\r\n\r\nGiven an integer array nums and an integer val, remove all occurrences of val in nums in-place. The order of the elements may be changed. Then return the number of elements in nums which are not equal to val.\r\n\r\nConsider the number of elements in nums which are not equal to val be k, to get accepted, you need to do the following things:\r\n\r\nChange the array nums such that the first k elements of nums contain the elements which are not equal to val. The remaining elements of nums are not important as well as the size of nums.\r\nReturn k.\r\nCustom Judge:\r\n\r\nThe judge will test your solution with the following code:\r\n\r\n```\r\n    int[] nums = [...]; // Input array\r\n    int val = ...; // Value to remove\r\n    int[] expectedNums = [...]; // The expected answer with correct length.\r\n                            // It is sorted with no values equaling val.\r\n\r\n    int k = removeElement(nums, val); // Calls your implementation\r\n\r\n    assert k == expectedNums.length;\r\n    sort(nums, 0, k); // Sort the first k elements of nums\r\n    for (int i = 0; i &lt; actualLength; i++) {\r\n        assert nums[i] == expectedNums[i];\r\n    }\r\n```\r\n\r\nIf all assertions pass, then your solution will be accepted.\r\n\r\nExample 1:\r\n\r\n\r\nInput: nums = [3,2,2,3], val = 3\r\nOutput: 2, nums = [2,2,_,_]\r\nExplanation: Your function should return k = 2, with the first two elements of nums being 2.\r\nIt does not matter what you leave beyond the returned k (hence they are underscores).\r\n\r\n\r\nExample 2:\r\n\r\nInput: nums = [0,1,2,2,3,0,4,2], val = 2\r\nOutput: 5, nums = [0,1,4,0,3,_,_,_]\r\nExplanation: Your function should return k = 5, with the first five elements of nums containing 0, 0, 1, 3, and 4.\r\nNote that the five elements can be returned in any order.\r\nIt does not matter what you leave beyond the returned k (hence they are underscores).\r\n\r\n\r\n\r\nConstraints:\r\n```\r\n0 &lt;= nums.length &lt;= 100\r\n0 &lt;= nums[i] &lt;= 50\r\n0 &lt;= val &lt;= 100\r\n```\r\n\r\nHere is the code I submitted:\r\n\r\n```\r\n    class Solution {\r\n        public int removeElement(int[] nums, int val) {\r\n        \r\n            int k = 0;\r\n            int numOfVal = 0;\r\n        \r\n            for (int i = 0; i &lt; nums.length - 1; i++) {\r\n                if (nums[i] == val) {\r\n                    nums[i] = nums[i + 1];\r\n                    numOfVal++;\r\n                }\r\n                else {\r\n                    k++;\r\n                }\r\n            }\r\n        \r\n            while (numOfVal != 0) {\r\n                val--;\r\n            }\r\n            return k;\r\n        }\r\n    }\r\n```\r\n\r\nI think the code works since I didn&#39;t get any errors, but I can&#39;t check it&#39;s correctness with all the test cases due to the Time Limit Exceeded error!\r\n\r\nP.S. I&#39;m new to Stack Overflow as well so forgive me if my post is hard to read or confusing, I&#39;ll try to improve that next time!","title":"Need help to shorten this piece of code as I keep getting a Time Limit Exceeded error on LeetCode","body":"<p>I submitted this code on LeetCode recently and kept getting a Time Limit Exceeded error. I am new to Java and would like help shortening it. Here is some information about the question:</p>\n<p>Given an integer array nums and an integer val, remove all occurrences of val in nums in-place. The order of the elements may be changed. Then return the number of elements in nums which are not equal to val.</p>\n<p>Consider the number of elements in nums which are not equal to val be k, to get accepted, you need to do the following things:</p>\n<p>Change the array nums such that the first k elements of nums contain the elements which are not equal to val. The remaining elements of nums are not important as well as the size of nums.\nReturn k.\nCustom Judge:</p>\n<p>The judge will test your solution with the following code:</p>\n<pre><code>    int[] nums = [...]; // Input array\n    int val = ...; // Value to remove\n    int[] expectedNums = [...]; // The expected answer with correct length.\n                            // It is sorted with no values equaling val.\n\n    int k = removeElement(nums, val); // Calls your implementation\n\n    assert k == expectedNums.length;\n    sort(nums, 0, k); // Sort the first k elements of nums\n    for (int i = 0; i &lt; actualLength; i++) {\n        assert nums[i] == expectedNums[i];\n    }\n</code></pre>\n<p>If all assertions pass, then your solution will be accepted.</p>\n<p>Example 1:</p>\n<p>Input: nums = [3,2,2,3], val = 3\nOutput: 2, nums = [2,2,<em>,</em>]\nExplanation: Your function should return k = 2, with the first two elements of nums being 2.\nIt does not matter what you leave beyond the returned k (hence they are underscores).</p>\n<p>Example 2:</p>\n<p>Input: nums = [0,1,2,2,3,0,4,2], val = 2\nOutput: 5, nums = [0,1,4,0,3,<em>,</em>,_]\nExplanation: Your function should return k = 5, with the first five elements of nums containing 0, 0, 1, 3, and 4.\nNote that the five elements can be returned in any order.\nIt does not matter what you leave beyond the returned k (hence they are underscores).</p>\n<p>Constraints:</p>\n<pre><code>0 &lt;= nums.length &lt;= 100\n0 &lt;= nums[i] &lt;= 50\n0 &lt;= val &lt;= 100\n</code></pre>\n<p>Here is the code I submitted:</p>\n<pre><code>    class Solution {\n        public int removeElement(int[] nums, int val) {\n        \n            int k = 0;\n            int numOfVal = 0;\n        \n            for (int i = 0; i &lt; nums.length - 1; i++) {\n                if (nums[i] == val) {\n                    nums[i] = nums[i + 1];\n                    numOfVal++;\n                }\n                else {\n                    k++;\n                }\n            }\n        \n            while (numOfVal != 0) {\n                val--;\n            }\n            return k;\n        }\n    }\n</code></pre>\n<p>I think the code works since I didn't get any errors, but I can't check it's correctness with all the test cases due to the Time Limit Exceeded error!</p>\n<p>P.S. I'm new to Stack Overflow as well so forgive me if my post is hard to read or confusing, I'll try to improve that next time!</p>\n"},{"tags":["java","spring-boot","multithreading","database-connection","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693470889,"post_id":77014069,"comment_id":135766209,"body_markdown":"Check your code, next to that you probably have a connection leak in your code due to messing around with connections yourself.","body":"Check your code, next to that you probably have a connection leak in your code due to messing around with connections yourself."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693472822,"post_id":77014069,"comment_id":135766627,"body_markdown":"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing","body":"<a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing</a>"}],"owner":{"account_id":280819,"reputation":2980,"user_id":576741,"accept_rate":78,"display_name":"NikhilWanpal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693470385,"creation_date":1693470385,"question_id":77014069,"body_markdown":"We are facing an issue with the application reaching the maximum number of connections. This is a Java+SpringBoot setup with DB Multitenancy. So, multiple thread pools are an expectation as long as there is only one pool per database. We are seeing issues saying, &quot;Unable to acquire JDBC Connection.&quot; We bumped up our pool size, and the issue is gone for now, but the application should not require these many connections, as most connections are sitting idle on the Postgres DB.\r\n\r\nWhen we look at the heap dump, we see 32 connection pools, 4 are duplicates; giving us to assume that there are multi-threading issues in the code initializing the connection pools. Is this understanding correct?\r\n\r\nWhen we look at the PGConnection object, there are 666 of those, and a whole lot are showing up as &quot;referent in Finalizer&quot;, which indicates they are marked for garbage collection but not yet removed. Is this understanding correct?\r\n\r\nWhat should we check next? What could be the potential causes for something like this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kSm5J.png","title":"Why is my application creating huge number of connections are putting them in Finaliser?","body":"<p>We are facing an issue with the application reaching the maximum number of connections. This is a Java+SpringBoot setup with DB Multitenancy. So, multiple thread pools are an expectation as long as there is only one pool per database. We are seeing issues saying, &quot;Unable to acquire JDBC Connection.&quot; We bumped up our pool size, and the issue is gone for now, but the application should not require these many connections, as most connections are sitting idle on the Postgres DB.</p>\n<p>When we look at the heap dump, we see 32 connection pools, 4 are duplicates; giving us to assume that there are multi-threading issues in the code initializing the connection pools. Is this understanding correct?</p>\n<p>When we look at the PGConnection object, there are 666 of those, and a whole lot are showing up as &quot;referent in Finalizer&quot;, which indicates they are marked for garbage collection but not yet removed. Is this understanding correct?</p>\n<p>What should we check next? What could be the potential causes for something like this?</p>\n<p><a href=\"https://i.stack.imgur.com/kSm5J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSm5J.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693468986,"creation_date":1693468986,"answer_id":77013901,"question_id":77003594,"body_markdown":"As far as I know, mapping methods with multiple source properties is not yet supported using `@Named` methods.\r\n\r\nHowever, you can use a Java expression workaround:\r\n\r\n```java\r\n@Mapper\r\npublic abstract class CardMapper {\r\n\r\n    @Mapping(target = &quot;color&quot;, source = &quot;localCar.color&quot;)\r\n    @Mapping(target = &quot;price&quot;, source = &quot;blueBookCar.price&quot;)\r\n    @Mapping(target = &quot;features&quot;, expression = &quot;java(mapFeatures(localCar, blueBookCar))&quot;)\r\n    public abstract CarDto from(LocalCar localCar, BlueBookCar blueBookCar);\r\n\r\n    protected Map&lt;Long, Feature&gt; mapFeatures(LocalCar localCar, BlueBookCar blueBookCar) {\r\n        //do stuff with both blueBookCar and features from localCar\r\n    }\r\n}\r\n```","title":"In MapStruct, how do I use the same method parameter in @Mapping and a @Named method?","body":"<p>As far as I know, mapping methods with multiple source properties is not yet supported using <code>@Named</code> methods.</p>\n<p>However, you can use a Java expression workaround:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic abstract class CardMapper {\n\n    @Mapping(target = &quot;color&quot;, source = &quot;localCar.color&quot;)\n    @Mapping(target = &quot;price&quot;, source = &quot;blueBookCar.price&quot;)\n    @Mapping(target = &quot;features&quot;, expression = &quot;java(mapFeatures(localCar, blueBookCar))&quot;)\n    public abstract CarDto from(LocalCar localCar, BlueBookCar blueBookCar);\n\n    protected Map&lt;Long, Feature&gt; mapFeatures(LocalCar localCar, BlueBookCar blueBookCar) {\n        //do stuff with both blueBookCar and features from localCar\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77013901,"answer_count":1,"score":1,"last_activity_date":1693469544,"creation_date":1693342577,"question_id":77003594,"body_markdown":"I have the following methods in my `@Mapper` class:\r\n\r\n    @Mapping(source = &quot;localCar.color&quot;, target = &quot;color&quot;)\r\n    @Mapping(source = &quot;blueBookCar.price&quot;, target = &quot;price&quot;)\r\n    @Mapping(source = &quot;localCar.features&quot;, target = &quot;features&quot;, qualifiedByName = &quot;mapFeatures&quot;) \r\n    abstract CarDto from(LocalCar localCar, BlueBookCar blueBookCar);\r\n    \r\n    @Named(&quot;mapFeatures&quot;)\r\n    Map&lt;Long, Feature&gt; mapFeatures(Map&lt;Group, Feature&gt; features, BlueBookCar blueBookCar) {\r\n     // do stuff with both blueBookCar and features from localCar\r\n    }\r\n\r\nHowever, I get a compile error stating no map struct method `mapFeatures(Map)` found. \r\n\r\nFrom [this post][1], I tried to use `@Context` `blueBookCar` for both methods but then I get an error that it can be used to map in the `from` method. \r\n\r\nThe only solution I can find is to pass in the `blueBookCar` twice once annotated with `@Context` and once without:\r\n\r\n    @Mapping(source = &quot;localCar.color&quot;, target = &quot;color&quot;)\r\n    @Mapping(source = &quot;blueBookCar.price&quot;, target = &quot;price&quot;)\r\n    @Mapping(source = &quot;localCar.features&quot;, target = &quot;features&quot;, qualifiedByName = &quot;mapFeatures&quot;) \r\n    abstract CarDto from(LocalCar localCar, BlueBookCar blueBookCar, @Context BlueBookCar blueBookCar2)\r\n\r\n    @Named(&quot;mapFeatures&quot;)\r\n    Map&lt;Long, Feature&gt; mapFeatures(Map&lt;Group, Feature&gt; features, @Context BlueBookCar blueBookCar2) {\r\n     //do stuff with both blueBookCar and features from localCar\r\n    }\r\n\r\nHow can I use a parameter to map in both `@Mapping` and `@Named` methods?\r\n\r\n  [1]: https://stackoverflow.com/questions/47694501/mapstruct-qualifiedbyname-with-multiple-parameters\r\n\r\n\r\n","title":"In MapStruct, how do I use the same method parameter in @Mapping and a @Named method?","body":"<p>I have the following methods in my <code>@Mapper</code> class:</p>\n<pre><code>@Mapping(source = &quot;localCar.color&quot;, target = &quot;color&quot;)\n@Mapping(source = &quot;blueBookCar.price&quot;, target = &quot;price&quot;)\n@Mapping(source = &quot;localCar.features&quot;, target = &quot;features&quot;, qualifiedByName = &quot;mapFeatures&quot;) \nabstract CarDto from(LocalCar localCar, BlueBookCar blueBookCar);\n\n@Named(&quot;mapFeatures&quot;)\nMap&lt;Long, Feature&gt; mapFeatures(Map&lt;Group, Feature&gt; features, BlueBookCar blueBookCar) {\n // do stuff with both blueBookCar and features from localCar\n}\n</code></pre>\n<p>However, I get a compile error stating no map struct method <code>mapFeatures(Map)</code> found.</p>\n<p>From <a href=\"https://stackoverflow.com/questions/47694501/mapstruct-qualifiedbyname-with-multiple-parameters\">this post</a>, I tried to use <code>@Context</code> <code>blueBookCar</code> for both methods but then I get an error that it can be used to map in the <code>from</code> method.</p>\n<p>The only solution I can find is to pass in the <code>blueBookCar</code> twice once annotated with <code>@Context</code> and once without:</p>\n<pre><code>@Mapping(source = &quot;localCar.color&quot;, target = &quot;color&quot;)\n@Mapping(source = &quot;blueBookCar.price&quot;, target = &quot;price&quot;)\n@Mapping(source = &quot;localCar.features&quot;, target = &quot;features&quot;, qualifiedByName = &quot;mapFeatures&quot;) \nabstract CarDto from(LocalCar localCar, BlueBookCar blueBookCar, @Context BlueBookCar blueBookCar2)\n\n@Named(&quot;mapFeatures&quot;)\nMap&lt;Long, Feature&gt; mapFeatures(Map&lt;Group, Feature&gt; features, @Context BlueBookCar blueBookCar2) {\n //do stuff with both blueBookCar and features from localCar\n}\n</code></pre>\n<p>How can I use a parameter to map in both <code>@Mapping</code> and <code>@Named</code> methods?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":2,"creation_date":1693465746,"post_id":77013483,"comment_id":135765206,"body_markdown":"You have the attribute &quot;nativeQuery = true&quot;, but your query doesn&#39;t look like a native query at all.","body":"You have the attribute &quot;nativeQuery = true&quot;, but your query doesn&#39;t look like a native query at all."}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693469418,"creation_date":1693468400,"answer_id":77013827,"question_id":77013483,"body_markdown":"You have the attribute &quot;nativeQuery = true&quot;, but your query doesn&#39;t look like a native query at all. \r\n\r\nThat is why you get the exception, the parser fails to parse this incorrect syntax.\r\n\r\nA native query would be usual SQL, something like :\r\n\r\n `@Query(value = &quot;select car.id, car.arena_id, car.content_id from mz_content_arena car where car.arena_id=?1&quot;, nativeQuery = true)`","title":"Spring-Data-Jpa use @Query Caused by: com.alibaba.druid.sql.parser.ParserException","body":"<p>You have the attribute &quot;nativeQuery = true&quot;, but your query doesn't look like a native query at all.</p>\n<p>That is why you get the exception, the parser fails to parse this incorrect syntax.</p>\n<p>A native query would be usual SQL, something like :</p>\n<p><code>@Query(value = &quot;select car.id, car.arena_id, car.content_id from mz_content_arena car where car.arena_id=?1&quot;, nativeQuery = true)</code></p>\n"}],"owner":{"account_id":9427444,"reputation":45,"user_id":7011962,"display_name":"gfq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77013827,"answer_count":1,"score":1,"last_activity_date":1693469418,"creation_date":1693465210,"question_id":77013483,"body_markdown":"I use data-jpa query return entity when use @Query\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\npublic class MzContentArenaDTO implements Serializable {\r\n\r\n\r\n    private Integer id;\r\n\r\n\r\n    private Integer arenaId;\r\n\r\n\r\n    private Integer contentId;\r\n\r\n    private LocalDateTime createDate;\r\n\r\n\r\n\r\n    public MzContentArenaDTO(Integer id, Integer arenaId, Integer contentId) {\r\n        this.id = id;\r\n        this.arenaId = arenaId;\r\n        this.contentId = contentId;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;mz_content_arena&quot;)\r\npublic class MzContentArena {\r\n   \r\n    @Id\r\n    private Integer id;\r\n\r\n    private Integer arenaId;\r\n\r\n    private Integer contentId;\r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface MzArenaRepository extends JpaRepository&lt;MzArena,Long&gt; {\r\n\r\n    @Query(value = &quot;select new com.qiguliuxing.dts.db.entity.MzContentArenaDTO(car.id,car.arena_id,car.content_id) from MzContentArena car where car.arena_id=?1&quot;,nativeQuery = true)\r\n    public List&lt;MzContentArenaDTO&gt; findMzArenaByName3(String id);\r\n}\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Fyhqx.png)](https://i.stack.imgur.com/Fyhqx.png)\r\n\r\nI donot know what happen\r\nI donot know what happen\r\nI donot know what happen\r\nuse @Query return result to MzContentArenaDTO Entit\r\n","title":"Spring-Data-Jpa use @Query Caused by: com.alibaba.druid.sql.parser.ParserException","body":"<p>I use data-jpa query return entity when use @Query</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class MzContentArenaDTO implements Serializable {\n\n\n    private Integer id;\n\n\n    private Integer arenaId;\n\n\n    private Integer contentId;\n\n    private LocalDateTime createDate;\n\n\n\n    public MzContentArenaDTO(Integer id, Integer arenaId, Integer contentId) {\n        this.id = id;\n        this.arenaId = arenaId;\n        this.contentId = contentId;\n    }\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;mz_content_arena&quot;)\npublic class MzContentArena {\n   \n    @Id\n    private Integer id;\n\n    private Integer arenaId;\n\n    private Integer contentId;\n}\n</code></pre>\n<pre><code>@Repository\npublic interface MzArenaRepository extends JpaRepository&lt;MzArena,Long&gt; {\n\n    @Query(value = &quot;select new com.qiguliuxing.dts.db.entity.MzContentArenaDTO(car.id,car.arena_id,car.content_id) from MzContentArena car where car.arena_id=?1&quot;,nativeQuery = true)\n    public List&lt;MzContentArenaDTO&gt; findMzArenaByName3(String id);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Fyhqx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fyhqx.png\" alt=\"enter image description here\" /></a></p>\n<p>I donot know what happen\nI donot know what happen\nI donot know what happen\nuse @Query return result to MzContentArenaDTO Entit</p>\n"},{"tags":["java","list","linked-list","size"],"comments":[{"owner":{"account_id":45958,"reputation":4660,"user_id":135673,"accept_rate":100,"display_name":"froderik"},"score":1,"creation_date":1348734354,"post_id":12617021,"comment_id":17009838,"body_markdown":"looks like a school example - for real world code you would want to use one of the numerous List implementations in the standard library","body":"looks like a school example - for real world code you would want to use one of the numerous List implementations in the standard library"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1348734375,"post_id":12617021,"comment_id":17009847,"body_markdown":"Also: The java convention is that variable names start with lower case letter, so you should probably rename `CurrNode` into `currNode`. It will make fellow java coders much more fond with your code (My first thought for example was &quot;Why is he accessing a static variable in the class `CurrNode`&quot;, and I needed a second read to see it is not the case)","body":"Also: The java convention is that variable names start with lower case letter, so you should probably rename <code>CurrNode</code> into <code>currNode</code>. It will make fellow java coders much more fond with your code (My first thought for example was &quot;Why is he accessing a static variable in the class <code>CurrNode</code>&quot;, and I needed a second read to see it is not the case)"}],"answers":[{"comments":[{"owner":{"account_id":1882834,"reputation":111,"user_id":1702633,"accept_rate":0,"display_name":"user1702633"},"score":0,"creation_date":1348735713,"post_id":12617140,"comment_id":17010392,"body_markdown":"oh I see, the homework sort of limited that by saying this would work for an input linked list, and I would have to at least measure that once before I can do a size++/-- for add/delete. I&#39;ll have to try that separately to get my coding syntax down.","body":"oh I see, the homework sort of limited that by saying this would work for an input linked list, and I would have to at least measure that once before I can do a size++/-- for add/delete. I&#39;ll have to try that separately to get my coding syntax down."},{"owner":{"account_id":1795265,"reputation":163,"user_id":1664580,"display_name":"lotophage"},"score":0,"creation_date":1348736989,"post_id":12617140,"comment_id":17010962,"body_markdown":"if the input linkedlist is the same class as the one you are adding it to, then it will still work. e.g. addList(LinkedList otherList) { addLast(otherList.head); this.size += otherList.size(); }","body":"if the input linkedlist is the same class as the one you are adding it to, then it will still work. e.g. addList(LinkedList otherList) { addLast(otherList.head); this.size += otherList.size(); }"}],"tags":[],"owner":{"account_id":1795265,"reputation":163,"user_id":1664580,"display_name":"lotophage"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348734612,"creation_date":1348734612,"answer_id":12617140,"question_id":12617021,"body_markdown":"The easiest way would be to have variable that tracks the size initialised at 0. Then each time you add a node it&#39;s just size++, or size-- when you remove a node. You size() method then just has to return this variable without traversing the list.","title":"Measure size/length of singly linked list in Java?","body":"<p>The easiest way would be to have variable that tracks the size initialised at 0. Then each time you add a node it's just size++, or size-- when you remove a node. You size() method then just has to return this variable without traversing the list.</p>\n"},{"comments":[{"owner":{"account_id":2004045,"reputation":1180,"user_id":1794406,"accept_rate":50,"display_name":"das kinder"},"score":1,"creation_date":1431854813,"post_id":12617156,"comment_id":48668358,"body_markdown":"for(Node n = head; n.next != null; n = n.next)\n       size++; \n   this always give the number of actual element in list with one short","body":"for(Node n = head; n.next != null; n = n.next)        size++;     this always give the number of actual element in list with one short"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1431865931,"post_id":12617156,"comment_id":48671168,"body_markdown":"@daskinder this code assumes that the `head` is not an entry just the start of the linked list as LinkedList does.  if you want this to be a node you need to check whether it is `null` and add one.","body":"@daskinder this code assumes that the <code>head</code> is not an entry just the start of the linked list as LinkedList does.  if you want this to be a node you need to check whether it is <code>null</code> and add one."},{"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"score":0,"creation_date":1450069628,"post_id":12617156,"comment_id":56261660,"body_markdown":"Where does `.next` come from? I don&#39;t see that it is a part of the `Node` class, and there is no variable declaration.","body":"Where does <code>.next</code> come from? I don&#39;t see that it is a part of the <code>Node</code> class, and there is no variable declaration."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1450112229,"post_id":12617156,"comment_id":56286670,"body_markdown":"@NoniA. The `.next` is in the sample code from the OP. I assumed from the code provided that there is a field called `next`","body":"@NoniA. The <code>.next</code> is in the sample code from the OP. I assumed from the code provided that there is a field called <code>next</code>"},{"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"score":1,"creation_date":1450159616,"post_id":12617156,"comment_id":56305950,"body_markdown":"Thanks Peter. I was curious because I found this use of `.next` in the book Cracking the Coding Interview, and it was a variable of type `Node`. That&#39;s probably what it was in the OP&#39;s code too.","body":"Thanks Peter. I was curious because I found this use of <code>.next</code> in the book Cracking the Coding Interview, and it was a variable of type <code>Node</code>. That&#39;s probably what it was in the OP&#39;s code too."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":5,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1348734642,"creation_date":1348734642,"answer_id":12617156,"question_id":12617021,"body_markdown":"The biggest improvement you can make is to use Java Coding Convension and use camelCase local variables.\r\n\r\nYou can write it like this.\r\n\r\n    public int size() {\r\n       int size = 0;\r\n       for(Node n = head; n.next != null; n = n.next)\r\n           size++;     \r\n       return size;\r\n    }\r\n\r\nas you are re-writing a commonly used class in Java, I suggest you have a look at how it is done there if you want a better way of doing things.\r\n\r\nFrom [LinkedList][1]\r\n\r\n    /**\r\n     * Returns the number of elements in this list.\r\n     *\r\n     * @return the number of elements in this list\r\n     */\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\nAs you can see, when an element is added size is incremented and when an element is removed it id decremented saving you having to traverse the list to get the size.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html","title":"Measure size/length of singly linked list in Java?","body":"<p>The biggest improvement you can make is to use Java Coding Convension and use camelCase local variables.</p>\n\n<p>You can write it like this.</p>\n\n<pre><code>public int size() {\n   int size = 0;\n   for(Node n = head; n.next != null; n = n.next)\n       size++;     \n   return size;\n}\n</code></pre>\n\n<p>as you are re-writing a commonly used class in Java, I suggest you have a look at how it is done there if you want a better way of doing things.</p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\">LinkedList</a></p>\n\n<pre><code>/**\n * Returns the number of elements in this list.\n *\n * @return the number of elements in this list\n */\npublic int size() {\n    return size;\n}\n</code></pre>\n\n<p>As you can see, when an element is added size is incremented and when an element is removed it id decremented saving you having to traverse the list to get the size.</p>\n"},{"tags":[],"owner":{"account_id":4114692,"reputation":432,"user_id":3376613,"accept_rate":56,"display_name":"Hans Pour"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436129735,"creation_date":1436129735,"answer_id":31234923,"question_id":12617021,"body_markdown":"You need to pass the list to your method and check currNode!= null :\r\n\r\n    public static int size(Node currNode){\r\n\t\tint count = 0;\r\n\t\twhile (currNode!= null){\r\n\t\t\tcount++;\r\n\t\t\tcurrNode=currNode.getNext();\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Measure size/length of singly linked list in Java?","body":"<p>You need to pass the list to your method and check currNode!= null :</p>\n\n<pre><code>public static int size(Node currNode){\n    int count = 0;\n    while (currNode!= null){\n        count++;\n        currNode=currNode.getNext();\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4874403,"reputation":59,"user_id":3929958,"display_name":"Sanket Saha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500808814,"creation_date":1500808388,"answer_id":45264436,"question_id":12617021,"body_markdown":"Well, the easiest way to calculate the length is by checking whether the currentNode!=null and keep the currentNode incrementing .\r\n\r\nWe can use while or a for loop to implement this.\r\n\r\nBelow is an example where for loop is used.\r\n\r\n    public int getLength(){\r\n\t\tListNode temp = head;\r\n\t\tfor(temp = head; temp!=null; temp=temp.getNextNode()){\r\n\t\t\t\r\n\t\t\tlength++;\r\n\t\t}\r\n\t\treturn length;\r\n\t}","title":"Measure size/length of singly linked list in Java?","body":"<p>Well, the easiest way to calculate the length is by checking whether the currentNode!=null and keep the currentNode incrementing .</p>\n\n<p>We can use while or a for loop to implement this.</p>\n\n<p>Below is an example where for loop is used.</p>\n\n<pre><code>public int getLength(){\n    ListNode temp = head;\n    for(temp = head; temp!=null; temp=temp.getNextNode()){\n\n        length++;\n    }\n    return length;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21836144,"reputation":1,"user_id":16130367,"display_name":"Alptuğ Altın"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693469322,"creation_date":1693469234,"answer_id":77013934,"question_id":12617021,"body_markdown":"You can just use a simple while loop to determine how many nodes there are in the linked list to do that I always create a new current variable to track where am I in the list.\r\n\r\n\r\n    public int addTwoNumbers(ListNode l1) {\r\n        int l1Len = 0;\r\n        ListNode current = l1;\r\n\r\n        while(current != null)\r\n        {\r\n            current = current.next;\r\n            l1Len = l1Len + 1;\r\n        }\r\n\r\n        return l1Len;\r\n    }","title":"Measure size/length of singly linked list in Java?","body":"<p>You can just use a simple while loop to determine how many nodes there are in the linked list to do that I always create a new current variable to track where am I in the list.</p>\n<pre><code>public int addTwoNumbers(ListNode l1) {\n    int l1Len = 0;\n    ListNode current = l1;\n\n    while(current != null)\n    {\n        current = current.next;\n        l1Len = l1Len + 1;\n    }\n\n    return l1Len;\n}\n</code></pre>\n"}],"owner":{"account_id":1882834,"reputation":111,"user_id":1702633,"accept_rate":0,"display_name":"user1702633"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77097,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1693469322,"creation_date":1348734236,"question_id":12617021,"body_markdown":"I need help making the `int size();` method for a singly linked list in Java.\r\n\r\nThis is what I have so far, but it does not return the correct size of the list.\r\n\r\n\tpublic int size()\r\n\t{\r\n\t\tint size = 0;\r\n\t\tNode CurrNode = head;\r\n\t\twhile(CurrNode.next != null)\r\n\t\t{\r\n\t\t\tCurrNode = CurrNode.next;\r\n\t\t\tsize++;\t\t\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n\r\nCan someone help me implement this method in Java?","title":"Measure size/length of singly linked list in Java?","body":"<p>I need help making the <code>int size();</code> method for a singly linked list in Java.</p>\n\n<p>This is what I have so far, but it does not return the correct size of the list.</p>\n\n<pre><code>public int size()\n{\n    int size = 0;\n    Node CurrNode = head;\n    while(CurrNode.next != null)\n    {\n        CurrNode = CurrNode.next;\n        size++;     \n    }\n    return size;\n}\n</code></pre>\n\n<p>Can someone help me implement this method in Java?</p>\n"},{"tags":["java","android","android-8.0-oreo","android-8.1-oreo"],"comments":[{"owner":{"account_id":10570738,"reputation":1161,"user_id":7787620,"display_name":"yash786"},"score":0,"creation_date":1514961760,"post_id":48072438,"comment_id":83118421,"body_markdown":"Check this: https://stackoverflow.com/questions/6745797/how-to-set-entire-application-in-portrait-mode-only","body":"Check this: <a href=\"https://stackoverflow.com/questions/6745797/how-to-set-entire-application-in-portrait-mode-only\" title=\"how to set entire application in portrait mode only\">stackoverflow.com/questions/6745797/&hellip;</a>"},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":1,"creation_date":1514961806,"post_id":48072438,"comment_id":83118443,"body_markdown":"this may help you https://stackoverflow.com/questions/46980697/lock-screen-orientation-when-targeting-android-api-27-with-a-non-opaque-activity","body":"this may help you <a href=\"https://stackoverflow.com/questions/46980697/lock-screen-orientation-when-targeting-android-api-27-with-a-non-opaque-activity\" title=\"lock screen orientation when targeting android api 27 with a non opaque activity\">stackoverflow.com/questions/46980697/&hellip;</a>"},{"owner":{"account_id":10570738,"reputation":1161,"user_id":7787620,"display_name":"yash786"},"score":0,"creation_date":1514961889,"post_id":48072438,"comment_id":83118473,"body_markdown":"check this as well :https://stackoverflow.com/questions/46980697/lock-screen-orientation-when-targeting-android-api-27-with-a-non-opaque-activity","body":"check this as well :<a href=\"https://stackoverflow.com/questions/46980697/lock-screen-orientation-when-targeting-android-api-27-with-a-non-opaque-activity\" title=\"lock screen orientation when targeting android api 27 with a non opaque activity\">stackoverflow.com/questions/46980697/&hellip;</a>"},{"owner":{"account_id":8090831,"reputation":3574,"user_id":6096821,"accept_rate":50,"display_name":"Shubham Sejpal"},"score":2,"creation_date":1514962600,"post_id":48072438,"comment_id":83118744,"body_markdown":"Tried all suggestion but no one is worked for me.","body":"Tried all suggestion but no one is worked for me."},{"owner":{"account_id":7766987,"reputation":3480,"user_id":5877879,"display_name":"Ragesh Ramesh"},"score":1,"creation_date":1514962794,"post_id":48072438,"comment_id":83118816,"body_markdown":"are you using  android:screenOrientation=&quot;portrait&quot; in manifest?","body":"are you using  android:screenOrientation=&quot;portrait&quot; in manifest?"},{"owner":{"account_id":8090831,"reputation":3574,"user_id":6096821,"accept_rate":50,"display_name":"Shubham Sejpal"},"score":0,"creation_date":1514962830,"post_id":48072438,"comment_id":83118827,"body_markdown":"yes i have already set it portrait.","body":"yes i have already set it portrait."},{"owner":{"account_id":5185024,"reputation":4532,"user_id":4149649,"display_name":"Yuri Misyac"},"score":0,"creation_date":1514981260,"post_id":48072438,"comment_id":83127807,"body_markdown":"i solved it in my project like this https://stackoverflow.com/a/48077046/4149649","body":"i solved it in my project like this <a href=\"https://stackoverflow.com/a/48077046/4149649\">stackoverflow.com/a/48077046/4149649</a>"},{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":0,"creation_date":1518004303,"post_id":48072438,"comment_id":84323458,"body_markdown":"@ShubhamSejpal did you solved? If not, have you extended a NoActionBar theme putting window translucent and are you compiling with `compileSdkVersion =  targetSdkVersion = 27`","body":"@ShubhamSejpal did you solved? If not, have you extended a NoActionBar theme putting window translucent and are you compiling with <code>compileSdkVersion =  targetSdkVersion = 27</code>"}],"answers":[{"comments":[{"owner":{"account_id":2931434,"reputation":2879,"user_id":2511560,"display_name":"Irfan Raza"},"score":0,"creation_date":1515676607,"post_id":48072720,"comment_id":83396821,"body_markdown":"Any idea why? I want to restrict my app to go into landscape.","body":"Any idea why? I want to restrict my app to go into landscape."},{"owner":{"account_id":7766987,"reputation":3480,"user_id":5877879,"display_name":"Ragesh Ramesh"},"score":7,"creation_date":1515742300,"post_id":48072720,"comment_id":83424415,"body_markdown":"Its a bug from google side. Should be fixed in future updates. setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT); will restrict your app from going into landscape. Make sure you use this in on create of all your activities.","body":"Its a bug from google side. Should be fixed in future updates. setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORT&zwnj;&#8203;RAIT); will restrict your app from going into landscape. Make sure you use this in on create of all your activities."},{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":49,"creation_date":1517223102,"post_id":48072720,"comment_id":83992330,"body_markdown":"**Removing** `&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;` from my style that inherits from `Theme.AppCompat.Light.NoActionBar`  worked for me.","body":"<b>Removing</b> <code>&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;&#47;item&gt;</code> from my style that inherits from <code>Theme.AppCompat.Light.NoActionBar</code>  worked for me."},{"owner":{"account_id":485587,"reputation":1644,"user_id":901973,"accept_rate":100,"display_name":"thundertrick"},"score":1,"creation_date":1517370528,"post_id":48072720,"comment_id":84063779,"body_markdown":"Then the issue becomes: `Only fullscreen activities can request orientation`. However, I have set the theme of activity to `@android:style/Theme.Translucent.NoTitleBar.Fullscreen`","body":"Then the issue becomes: <code>Only fullscreen activities can request orientation</code>. However, I have set the theme of activity to <code>@android:style&#47;Theme.Translucent.NoTitleBar.Fullscreen</code>"},{"owner":{"account_id":4115446,"reputation":1122,"user_id":3377123,"display_name":"doctorram"},"score":17,"creation_date":1520269985,"post_id":48072720,"comment_id":85236989,"body_markdown":"This solution works, but it messes up my splashScreenTheme.  Shame on Google for frequent sloppy roll-outs...","body":"This solution works, but it messes up my splashScreenTheme.  Shame on Google for frequent sloppy roll-outs..."},{"owner":{"account_id":1707890,"reputation":4379,"user_id":1566588,"accept_rate":67,"display_name":"Teovald"},"score":1,"creation_date":1520989812,"post_id":48072720,"comment_id":85539952,"body_markdown":"it does not look like this is a bug but intended : https://github.com/aosp-mirror/platform_frameworks_base/commit/39791594560b2326625b663ed6796882900c220f#diff-960c6fdd4a4b336d98b785268b2a78ff","body":"it does not look like this is a bug but intended : <a href=\"https://github.com/aosp-mirror/platform_frameworks_base/commit/39791594560b2326625b663ed6796882900c220f#diff-960c6fdd4a4b336d98b785268b2a78ff\" rel=\"nofollow noreferrer\">github.com/aosp-mirror/platform_frameworks_base/commit/&hellip;</a>"},{"owner":{"account_id":1176846,"reputation":5131,"user_id":1152643,"accept_rate":50,"display_name":"Oleg Gryb"},"score":4,"creation_date":1521389635,"post_id":48072720,"comment_id":85699841,"body_markdown":"&quot;Intended&quot; to break apps that worked on earlier versions? That goal has been definitely achieved. At least we have a solution, thanks to  @Ragesh","body":"&quot;Intended&quot; to break apps that worked on earlier versions? That goal has been definitely achieved. At least we have a solution, thanks to  @Ragesh"},{"owner":{"account_id":7766987,"reputation":3480,"user_id":5877879,"display_name":"Ragesh Ramesh"},"score":0,"creation_date":1521452184,"post_id":48072720,"comment_id":85719446,"body_markdown":"@OlegGryb Took me a long time to figure this out. Glad its of help to fellow developpers","body":"@OlegGryb Took me a long time to figure this out. Glad its of help to fellow developpers"},{"owner":{"account_id":1176846,"reputation":5131,"user_id":1152643,"accept_rate":50,"display_name":"Oleg Gryb"},"score":0,"creation_date":1521479072,"post_id":48072720,"comment_id":85737969,"body_markdown":"Many thanks again to @Ragesh. I got a number of crash reports for 8.0 at play console and would never figure it out without his answer. I wish, I could give him more than +1 :)","body":"Many thanks again to @Ragesh. I got a number of crash reports for 8.0 at play console and would never figure it out without his answer. I wish, I could give him more than +1 :)"},{"owner":{"account_id":1597837,"reputation":4000,"user_id":1479511,"accept_rate":57,"display_name":"Narendra Singh"},"score":0,"creation_date":1522233404,"post_id":48072720,"comment_id":86070616,"body_markdown":"Thanks :) I mistakenly placed that `android:screenOrientation=&quot;portrait&quot;` in my FacebookActivity tag, after removing, it got resolved","body":"Thanks :) I mistakenly placed that <code>android:screenOrientation=&quot;portrait&quot;</code> in my FacebookActivity tag, after removing, it got resolved"},{"owner":{"account_id":2301539,"reputation":567,"user_id":2021745,"accept_rate":50,"display_name":"rmgoncalo"},"score":11,"creation_date":1523009692,"post_id":48072720,"comment_id":86392526,"body_markdown":"Replacing the manifest attribute by setting the orientation on the Activity class does not solve the problem.","body":"Replacing the manifest attribute by setting the orientation on the Activity class does not solve the problem."},{"owner":{"account_id":7766987,"reputation":3480,"user_id":5877879,"display_name":"Ragesh Ramesh"},"score":0,"creation_date":1523335937,"post_id":48072720,"comment_id":86505480,"body_markdown":"@rmgoncalo are you using interstitial ads?","body":"@rmgoncalo are you using interstitial ads?"},{"owner":{"account_id":2301539,"reputation":567,"user_id":2021745,"accept_rate":50,"display_name":"rmgoncalo"},"score":1,"creation_date":1523375545,"post_id":48072720,"comment_id":86530959,"body_markdown":"No @RageshRamesh, I have a regular and simple translucent activity. And it crashes on Android 8.0 (fixed on 8.1) either by setting orientation on the manifest or on the Activity&#39;s onCreate method","body":"No @RageshRamesh, I have a regular and simple translucent activity. And it crashes on Android 8.0 (fixed on 8.1) either by setting orientation on the manifest or on the Activity&#39;s onCreate method"},{"owner":{"account_id":1118604,"reputation":189,"user_id":1107382,"accept_rate":43,"display_name":"Thamilvanan"},"score":0,"creation_date":1528455320,"post_id":48072720,"comment_id":88525493,"body_markdown":"anyone found the solution","body":"anyone found the solution"},{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"score":0,"creation_date":1538686788,"post_id":48072720,"comment_id":92241474,"body_markdown":"I&#39;m getting this error with &#39;com.google.firebase:firebase-ads:15.0.1&#39; gradle configuration. I&#39;m updating it to 16.0.1 . I hope it will fix the error. Btw error happens only Android 8.\n\nAlso firebase crash gives the following line in the crash report:\n\n&#39;na.onTransact(:com.google.android.gms.dynamite_adsdynamite@13280051@13.2.80 (040408-211705629):10)&#39;","body":"I&#39;m getting this error with &#39;com.google.firebase:firebase-ads:15.0.1&#39; gradle configuration. I&#39;m updating it to 16.0.1 . I hope it will fix the error. Btw error happens only Android 8.  Also firebase crash gives the following line in the crash report:  &#39;na.onTransact(:com.google.android.gms.dynamite_adsdynamite@&zwnj;&#8203;13280051@13.2.80 (040408-211705629):10)&#39;"},{"owner":{"account_id":8069720,"reputation":895,"user_id":6082859,"display_name":"Nishita"},"score":0,"creation_date":1567674615,"post_id":48072720,"comment_id":102036097,"body_markdown":"@RageshRamesh, I get this error when I try to set orientation programmatically  java.lang.IllegalStateException: Only fullscreen activities can request orientation","body":"@RageshRamesh, I get this error when I try to set orientation programmatically  java.lang.IllegalStateException: Only fullscreen activities can request orientation"}],"tags":[],"owner":{"account_id":7766987,"reputation":3480,"user_id":5877879,"display_name":"Ragesh Ramesh"},"comment_count":16,"down_vote_count":13,"up_vote_count":108,"is_accepted":false,"score":95,"last_activity_date":1514963150,"creation_date":1514963150,"answer_id":48072720,"question_id":48072438,"body_markdown":"In Android O and later this error happens when you set\r\n\r\n     android:screenOrientation=&quot;portrait&quot;\r\n\r\nin Manifest.\r\n\r\nRemove that line and use\r\n\r\n     setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\nin your activity. \r\n\r\nThis will fix your issue.\r\n","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>In Android O and later this error happens when you set</p>\n\n<pre><code> android:screenOrientation=\"portrait\"\n</code></pre>\n\n<p>in Manifest.</p>\n\n<p>Remove that line and use</p>\n\n<pre><code> setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n</code></pre>\n\n<p>in your activity. </p>\n\n<p>This will fix your issue.</p>\n"},{"comments":[{"owner":{"account_id":272685,"reputation":12778,"user_id":563904,"accept_rate":100,"display_name":"Entreco"},"score":2,"creation_date":1541511276,"post_id":48871807,"comment_id":93235689,"body_markdown":"I don&#39;t have this issue on my OnePlus running Android PIE. So it&#39;s not after v27, but when v!=28","body":"I don&#39;t have this issue on my OnePlus running Android PIE. So it&#39;s not after v27, but when v!=28"},{"owner":{"account_id":1287094,"reputation":7973,"user_id":1239966,"display_name":"Shivam Verma"},"score":0,"creation_date":1542457982,"post_id":48871807,"comment_id":93580305,"body_markdown":"Do you happen to have a link to the documentation for this ? I can&#39;t seem to find it.","body":"Do you happen to have a link to the documentation for this ? I can&#39;t seem to find it."},{"owner":{"account_id":12470834,"reputation":3112,"user_id":9079028,"display_name":"Abhishek Garg"},"score":0,"creation_date":1545070963,"post_id":48871807,"comment_id":94490474,"body_markdown":"translucent problem is really crazy, thanks ,it fixes my problem","body":"translucent problem is really crazy, thanks ,it fixes my problem"},{"owner":{"account_id":3181077,"reputation":3160,"user_id":2774781,"accept_rate":73,"display_name":"guy_m"},"score":0,"creation_date":1550536612,"post_id":48871807,"comment_id":96296079,"body_markdown":"Thank you for noting that last section &#39;One special situation...&#39;","body":"Thank you for noting that last section &#39;One special situation...&#39;"},{"owner":{"account_id":207277,"reputation":14528,"user_id":457059,"accept_rate":65,"display_name":"stoefln"},"score":0,"creation_date":1562179647,"post_id":48871807,"comment_id":100301107,"body_markdown":"This should be the accepted answer. Makes perfect sense!","body":"This should be the accepted answer. Makes perfect sense!"}],"tags":[],"owner":{"account_id":10497820,"reputation":871,"user_id":7737403,"display_name":"Steven Sun"},"comment_count":5,"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1533137859,"creation_date":1519063391,"answer_id":48871807,"question_id":48072438,"body_markdown":"Google throws this exception on Activity&#39;s `onCreate` method after v27, their meaning is : if an Activity is translucent or floating, its orientation should be relied on parent(background) Activity, can&#39;t make decision on itself. \r\n\r\nEven if you remove `android:screenOrientation=&quot;portrait&quot;` from the floating or translucent Activity but fix orientation on its parent(background) Activity, it is still fixed by the parent, I have tested already.\r\n\r\nOne special situation : if you make translucent on a launcher Activity,  it has&#39;t parent(background), so always rotate with device. Want to fix it, you have to take another way to replace `&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;` style.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>Google throws this exception on Activity's <code>onCreate</code> method after v27, their meaning is : if an Activity is translucent or floating, its orientation should be relied on parent(background) Activity, can't make decision on itself. </p>\n\n<p>Even if you remove <code>android:screenOrientation=\"portrait\"</code> from the floating or translucent Activity but fix orientation on its parent(background) Activity, it is still fixed by the parent, I have tested already.</p>\n\n<p>One special situation : if you make translucent on a launcher Activity,  it has't parent(background), so always rotate with device. Want to fix it, you have to take another way to replace <code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;</code> style.</p>\n"},{"comments":[{"owner":{"account_id":1963159,"reputation":3916,"user_id":1764080,"accept_rate":65,"display_name":"Shmuel"},"score":3,"creation_date":1524166228,"post_id":49373861,"comment_id":86873664,"body_markdown":"You shouldn&#39;t lower the targetsdk level. Your app will be blocked from the play store eventually. Always target the latest Android Api level https://android-developers.googleblog.com/2017/12/improving-app-security-and-performance.html","body":"You shouldn&#39;t lower the targetsdk level. Your app will be blocked from the play store eventually. Always target the latest Android Api level <a href=\"https://android-developers.googleblog.com/2017/12/improving-app-security-and-performance.html\" rel=\"nofollow noreferrer\">android-developers.googleblog.com/2017/12/&hellip;</a>"},{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":1,"creation_date":1527865820,"post_id":49373861,"comment_id":88303320,"body_markdown":"@Shmuel : wrong. You can target 26 and be available on 28 on the store.","body":"@Shmuel : wrong. You can target 26 and be available on 28 on the store."},{"owner":{"account_id":1963159,"reputation":3916,"user_id":1764080,"accept_rate":65,"display_name":"Shmuel"},"score":1,"creation_date":1527888106,"post_id":49373861,"comment_id":88313156,"body_markdown":"Correct, I wrote &#39;eventually&#39;  if you build your app targeting an older api level you will be in a world of pain when you are forced to update","body":"Correct, I wrote &#39;eventually&#39;  if you build your app targeting an older api level you will be in a world of pain when you are forced to update"},{"owner":{"account_id":1172561,"reputation":5924,"user_id":1149398,"accept_rate":100,"display_name":"sud007"},"score":0,"creation_date":1568280972,"post_id":49373861,"comment_id":102227671,"body_markdown":"This is not a solution but a workaround. One day you have to migrate your app to 28 and hence!","body":"This is not a solution but a workaround. One day you have to migrate your app to 28 and hence!"}],"tags":[],"owner":{"account_id":7095111,"reputation":3242,"user_id":5428997,"display_name":"Seven"},"comment_count":4,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1521501021,"creation_date":1521501021,"answer_id":49373861,"question_id":48072438,"body_markdown":"I do not know if this is a bug from Google or an intended behavior but I (at least momentarily) solved it by changing compileSdkVersion and targetSdkVersion back to 26 in Gradle...","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I do not know if this is a bug from Google or an intended behavior but I (at least momentarily) solved it by changing compileSdkVersion and targetSdkVersion back to 26 in Gradle...</p>\n"},{"tags":[],"owner":{"account_id":4290042,"reputation":370,"user_id":3506664,"accept_rate":100,"display_name":"Gardax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522924094,"creation_date":1522924094,"answer_id":49670089,"question_id":48072438,"body_markdown":"If you haven&#39;t resolved your problem just register the ad activity in the manifest like this:\r\n\r\n    &lt;activity\r\n    android:name=&quot;com.google.android.gms.ads.AdActivity&quot;\r\n    android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;\r\n    tools:replace=&quot;android:theme&quot;\r\n     /&gt;\r\n\r\nYou also need to update to the latest version of the sdk.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>If you haven't resolved your problem just register the ad activity in the manifest like this:</p>\n\n<pre><code>&lt;activity\nandroid:name=\"com.google.android.gms.ads.AdActivity\"\nandroid:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"\ntools:replace=\"android:theme\"\n /&gt;\n</code></pre>\n\n<p>You also need to update to the latest version of the sdk.</p>\n"},{"comments":[{"owner":{"account_id":1744483,"reputation":876,"user_id":1594998,"accept_rate":43,"display_name":"Kostadin Georgiev"},"score":0,"creation_date":1524036013,"post_id":49877532,"comment_id":86802476,"body_markdown":"Hmm very strange, for me that was the case. Try running the app on different Android versions, see what will be the result this may help you...","body":"Hmm very strange, for me that was the case. Try running the app on different Android versions, see what will be the result this may help you..."}],"tags":[],"owner":{"account_id":1744483,"reputation":876,"user_id":1594998,"accept_rate":43,"display_name":"Kostadin Georgiev"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523966429,"creation_date":1523966429,"answer_id":49877532,"question_id":48072438,"body_markdown":"Probably you showing Activity looking like Dialog(non-fullscreen), so remove **screenOrientation** from **Manifest** or from code. This will fix the issue.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>Probably you showing Activity looking like Dialog(non-fullscreen), so remove <strong>screenOrientation</strong> from <strong>Manifest</strong> or from code. This will fix the issue.</p>\n"},{"comments":[{"owner":{"account_id":1376418,"reputation":12080,"user_id":1310343,"accept_rate":83,"display_name":"Frank"},"score":0,"creation_date":1525773742,"post_id":49898384,"comment_id":87479093,"body_markdown":"&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt; =&gt; this fixed it for me on android 8.0. I could still leave screenOrientation in the manifest.","body":"&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;         &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt; =&gt; this fixed it for me on android 8.0. I could still leave screenOrientation in the manifest."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1556548523,"post_id":49898384,"comment_id":98466673,"body_markdown":"This doesn&#39;t work the same as windowIsTranslucent , because now you can&#39;t see what&#39;s behind the Activity.","body":"This doesn&#39;t work the same as windowIsTranslucent , because now you can&#39;t see what&#39;s behind the Activity."}],"tags":[],"owner":{"account_id":1083758,"reputation":16815,"user_id":1079990,"display_name":"hannes ach"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1524050274,"creation_date":1524050274,"answer_id":49898384,"question_id":48072438,"body_markdown":"I can&#39;t agree to most rated answer, because \r\n\r\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\ncauses an error \r\n\r\n&gt; java.lang.IllegalStateException: Only fullscreen opaque activities can\r\n&gt; request orientation\r\n\r\nbut this makes it works for me\r\n\r\n    &lt;style name=&quot;TranslucentTheme&quot; parent=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand use it for your Activity, when you extends from \r\n\r\n    InterstitialActivity extends AppCompatActivity\r\n\r\n in AndroidManifest.xml\r\n\r\n        &lt;activity\r\n            android:name=&quot;.InterstitialActivity&quot;\r\n            ...\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/TranslucentTheme&quot; /&gt;","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I can't agree to most rated answer, because </p>\n\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n</code></pre>\n\n<p>causes an error </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Only fullscreen opaque activities can\n  request orientation</p>\n</blockquote>\n\n<p>but this makes it works for me</p>\n\n<pre><code>&lt;style name=\"TranslucentTheme\" parent=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and use it for your Activity, when you extends from </p>\n\n<pre><code>InterstitialActivity extends AppCompatActivity\n</code></pre>\n\n<p>in AndroidManifest.xml</p>\n\n<pre><code>    &lt;activity\n        android:name=\".InterstitialActivity\"\n        ...\n        android:screenOrientation=\"portrait\"\n        android:theme=\"@style/TranslucentTheme\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4356438,"reputation":51,"user_id":3554895,"display_name":"Cliche818"},"score":1,"creation_date":1529338780,"post_id":50619515,"comment_id":88827480,"body_markdown":"Changing the target SDK to 26 instead of 27 worked for me.  Changing windowIsTranslucent didn&#39;t.","body":"Changing the target SDK to 26 instead of 27 worked for me.  Changing windowIsTranslucent didn&#39;t."},{"owner":{"account_id":7921422,"reputation":177,"user_id":5982279,"display_name":"Leonardo G."},"score":0,"creation_date":1557702916,"post_id":50619515,"comment_id":98842776,"body_markdown":"This worked for me using targetSDK: 27. It is specially important since I had a splashscreen configured.","body":"This worked for me using targetSDK: 27. It is specially important since I had a splashscreen configured."}],"tags":[],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1537193327,"creation_date":1527753766,"answer_id":50619515,"question_id":48072438,"body_markdown":"The only solution that really works :\r\n\r\nChange:\r\n\r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n\r\nto:\r\n\r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;\r\n\r\nin styles.xml\r\n\r\nBut this might induce a problem with your splashscreen (white screen at startup)... In this case, add the following line to your styles.xml:\r\n\r\n     &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt; \r\n\r\njust below the windowIsTranslucent line.\r\n\r\nLast chance if the previous tips do not work : target SDK 26 instead o 27.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>The only solution that really works :</p>\n\n<p>Change:</p>\n\n<pre><code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>&lt;item name=\"android:windowIsTranslucent\"&gt;false&lt;/item&gt;\n</code></pre>\n\n<p>in styles.xml</p>\n\n<p>But this might induce a problem with your splashscreen (white screen at startup)... In this case, add the following line to your styles.xml:</p>\n\n<pre><code> &lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt; \n</code></pre>\n\n<p>just below the windowIsTranslucent line.</p>\n\n<p>Last chance if the previous tips do not work : target SDK 26 instead o 27.</p>\n"},{"comments":[{"owner":{"account_id":5091296,"reputation":2603,"user_id":4084269,"display_name":"Josselin"},"score":0,"creation_date":1531424632,"post_id":50694326,"comment_id":89603360,"body_markdown":"I think you made a small typo: should be &quot;if you use a fullscreen *translucent* activity it will take the configuration setting of its parent activity&quot; ^^","body":"I think you made a small typo: should be &quot;if you use a fullscreen <i>translucent</i> activity it will take the configuration setting of its parent activity&quot; ^^"},{"owner":{"account_id":2980585,"reputation":477,"user_id":2530623,"accept_rate":10,"display_name":"Bhupesh"},"score":3,"creation_date":1532697685,"post_id":50694326,"comment_id":90084537,"body_markdown":"What if my transparent activity is my launcher activity(i.e. splash screen)","body":"What if my transparent activity is my launcher activity(i.e. splash screen)"},{"owner":{"account_id":3049482,"reputation":4367,"user_id":3090120,"accept_rate":56,"display_name":"vepzfe"},"score":2,"creation_date":1537810444,"post_id":50694326,"comment_id":91910616,"body_markdown":"Is this true for all android versions? Or is it only Android O and upwards?","body":"Is this true for all android versions? Or is it only Android O and upwards?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556628992,"post_id":50694326,"comment_id":98496555,"body_markdown":"This won&#39;t work if this is the only Activity that&#39;s being used, though (example: starting it from a Service)","body":"This won&#39;t work if this is the only Activity that&#39;s being used, though (example: starting it from a Service)"}],"tags":[],"owner":{"account_id":4877435,"reputation":730,"user_id":3932098,"display_name":"gellyke"},"comment_count":4,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1531650313,"creation_date":1528183270,"answer_id":50694326,"question_id":48072438,"body_markdown":"If you use a fullscreen transparent activity, there is no need to specify the orientation lock on the activity. It will take the configuration settings of the parent activity. So if the parent activity has in the manifest: \r\n\r\n&gt;  android:screenOrientation=&quot;portrait&quot;\r\n\r\nyour translucent activity will have the same orientation lock: portrait. \r\n\r\n","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>If you use a fullscreen transparent activity, there is no need to specify the orientation lock on the activity. It will take the configuration settings of the parent activity. So if the parent activity has in the manifest: </p>\n\n<blockquote>\n  <p>android:screenOrientation=\"portrait\"</p>\n</blockquote>\n\n<p>your translucent activity will have the same orientation lock: portrait. </p>\n"},{"comments":[{"owner":{"account_id":1610225,"reputation":1991,"user_id":1489446,"display_name":"Erick M. Sprengel"},"score":1,"creation_date":1536862049,"post_id":50809044,"comment_id":91586272,"body_markdown":"Checking the code on master at this moment, it&#39;s already removed from framework: mirror/platform_frameworks_base/commit/e83f34cde79c51efb66f31f2770c2e8e572e96db#diff-a9aa0352703240c8ae70f1c83add4bc8\n\nIt&#39;s interesting to see the commit message.","body":"Checking the code on master at this moment, it&#39;s already removed from framework: mirror/platform_frameworks_base/commit/e83f34cde79c51efb66f3&zwnj;&#8203;1f2770c2e8e572e96db#&zwnj;&#8203;diff-a9aa0352703240c&zwnj;&#8203;8ae70f1c83add4bc8  It&#39;s interesting to see the commit message."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556631880,"post_id":50809044,"comment_id":98498289,"body_markdown":"Can you please show a link to the source code of this part? Is there any workaround that will let me have an Activity with specific orientation AND have a transparent background, so that it will be possible to see what&#39;s behind it (including other apps) ?","body":"Can you please show a link to the source code of this part? Is there any workaround that will let me have an Activity with specific orientation AND have a transparent background, so that it will be possible to see what&#39;s behind it (including other apps) ?"}],"tags":[],"owner":{"account_id":539394,"reputation":1037,"user_id":907233,"display_name":"Bingerz"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1528775896,"creation_date":1528775896,"answer_id":50809044,"question_id":48072438,"body_markdown":"Many people have given a fix, so I&#39;ll talk about the source of the problem.\r\n\r\nAccording to the exception log：\r\n\r\n    Caused by: java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation\r\n        at android.app.Activity.onCreate(Activity.java:1081)\r\n        at android.support.v4.app.SupportActivity.onCreate(SupportActivity.java:66)\r\n        at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:297)\r\n        at android.support.v7.app.AppCompatActivity.onCreate(AppCompatActivity.java:84)\r\n        at com.nut.blehunter.ui.DialogContainerActivity.onCreate(DialogContainerActivity.java:43)\r\n        at android.app.Activity.performCreate(Activity.java:7372)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1218)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3147)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3302)&#160;\r\n        at android.app.ActivityThread.-wrap12(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1891)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:108)&#160;\r\n        at android.os.Looper.loop(Looper.java:166)\r\n\r\nThe code that triggered the exception in Activity.java\r\n\r\n        //Need to pay attention mActivityInfo.isFixedOrientation() and ActivityInfo.isTranslucentOrFloating(ta)\r\n        if (getApplicationInfo().targetSdkVersion &gt;= O_MR1 &amp;&amp; mActivityInfo.isFixedOrientation()) {\r\n            final TypedArray ta = obtainStyledAttributes(com.android.internal.R.styleable.Window);\r\n            final boolean isTranslucentOrFloating = ActivityInfo.isTranslucentOrFloating(ta);\r\n            ta.recycle();\r\n\r\n            //Exception occurred\r\n            if (isTranslucentOrFloating) {\r\n                throw new IllegalStateException(\r\n                        &quot;Only fullscreen opaque activities can request orientation&quot;);\r\n            }\r\n        }\r\n\r\nmActivityInfo.isFixedOrientation()：\r\n\r\n            /**\r\n            * Returns true if the activity&#39;s orientation is fixed.\r\n            * @hide\r\n            */\r\n            public boolean isFixedOrientation() {\r\n                return isFixedOrientationLandscape() || isFixedOrientationPortrait()\r\n                        || screenOrientation == SCREEN_ORIENTATION_LOCKED;\r\n            }\r\n            /**\r\n            * Returns true if the activity&#39;s orientation is fixed to portrait.\r\n            * @hide\r\n            */\r\n            boolean isFixedOrientationPortrait() {\r\n                return isFixedOrientationPortrait(screenOrientation);\r\n            }\r\n\r\n            /**\r\n            * Returns true if the activity&#39;s orientation is fixed to portrait.\r\n            * @hide\r\n            */\r\n            public static boolean isFixedOrientationPortrait(@ScreenOrientation int orientation) {\r\n                return orientation == SCREEN_ORIENTATION_PORTRAIT\r\n                        || orientation == SCREEN_ORIENTATION_SENSOR_PORTRAIT\r\n                        || orientation == SCREEN_ORIENTATION_REVERSE_PORTRAIT\r\n                        || orientation == SCREEN_ORIENTATION_USER_PORTRAIT;\r\n            }\r\n\r\n            /**\r\n            * Determines whether the {@link Activity} is considered translucent or floating.\r\n            * @hide\r\n            */\r\n            public static boolean isTranslucentOrFloating(TypedArray attributes) {\r\n                final boolean isTranslucent = attributes.getBoolean(com.android.internal.R.styleable.Window_windowIsTranslucent, false);\r\n                final boolean isSwipeToDismiss = !attributes.hasValue(com.android.internal.R.styleable.Window_windowIsTranslucent)\r\n                                                &amp;&amp; attributes.getBoolean(com.android.internal.R.styleable.Window_windowSwipeToDismiss, false);\r\n                final boolean isFloating = attributes.getBoolean(com.android.internal.R.styleable.Window_windowIsFloating, false);\r\n                return isFloating || isTranslucent || isSwipeToDismiss;\r\n            }\r\n\r\nAccording to the above code analysis, when TargetSdkVersion&gt;=27, when using SCREEN_ORIENTATION_LANDSCAPE, SCREEN_ORIENTATION_PORTRAIT, and other related attributes, the use of windowIsTranslucent, windowIsFloating, and windowSwipeToDismiss topic attributes will trigger an exception.\r\n\r\nAfter the problem is found, you can change the TargetSdkVersion or remove the related attributes of the theme according to your needs.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>Many people have given a fix, so I'll talk about the source of the problem.</p>\n\n<p>According to the exception log：</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation\n    at android.app.Activity.onCreate(Activity.java:1081)\n    at android.support.v4.app.SupportActivity.onCreate(SupportActivity.java:66)\n    at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:297)\n    at android.support.v7.app.AppCompatActivity.onCreate(AppCompatActivity.java:84)\n    at com.nut.blehunter.ui.DialogContainerActivity.onCreate(DialogContainerActivity.java:43)\n    at android.app.Activity.performCreate(Activity.java:7372)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1218)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3147)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3302) \n    at android.app.ActivityThread.-wrap12(Unknown Source:0) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1891) \n    at android.os.Handler.dispatchMessage(Handler.java:108) \n    at android.os.Looper.loop(Looper.java:166)\n</code></pre>\n\n<p>The code that triggered the exception in Activity.java</p>\n\n<pre><code>    //Need to pay attention mActivityInfo.isFixedOrientation() and ActivityInfo.isTranslucentOrFloating(ta)\n    if (getApplicationInfo().targetSdkVersion &gt;= O_MR1 &amp;&amp; mActivityInfo.isFixedOrientation()) {\n        final TypedArray ta = obtainStyledAttributes(com.android.internal.R.styleable.Window);\n        final boolean isTranslucentOrFloating = ActivityInfo.isTranslucentOrFloating(ta);\n        ta.recycle();\n\n        //Exception occurred\n        if (isTranslucentOrFloating) {\n            throw new IllegalStateException(\n                    \"Only fullscreen opaque activities can request orientation\");\n        }\n    }\n</code></pre>\n\n<p>mActivityInfo.isFixedOrientation()：</p>\n\n<pre><code>        /**\n        * Returns true if the activity's orientation is fixed.\n        * @hide\n        */\n        public boolean isFixedOrientation() {\n            return isFixedOrientationLandscape() || isFixedOrientationPortrait()\n                    || screenOrientation == SCREEN_ORIENTATION_LOCKED;\n        }\n        /**\n        * Returns true if the activity's orientation is fixed to portrait.\n        * @hide\n        */\n        boolean isFixedOrientationPortrait() {\n            return isFixedOrientationPortrait(screenOrientation);\n        }\n\n        /**\n        * Returns true if the activity's orientation is fixed to portrait.\n        * @hide\n        */\n        public static boolean isFixedOrientationPortrait(@ScreenOrientation int orientation) {\n            return orientation == SCREEN_ORIENTATION_PORTRAIT\n                    || orientation == SCREEN_ORIENTATION_SENSOR_PORTRAIT\n                    || orientation == SCREEN_ORIENTATION_REVERSE_PORTRAIT\n                    || orientation == SCREEN_ORIENTATION_USER_PORTRAIT;\n        }\n\n        /**\n        * Determines whether the {@link Activity} is considered translucent or floating.\n        * @hide\n        */\n        public static boolean isTranslucentOrFloating(TypedArray attributes) {\n            final boolean isTranslucent = attributes.getBoolean(com.android.internal.R.styleable.Window_windowIsTranslucent, false);\n            final boolean isSwipeToDismiss = !attributes.hasValue(com.android.internal.R.styleable.Window_windowIsTranslucent)\n                                            &amp;&amp; attributes.getBoolean(com.android.internal.R.styleable.Window_windowSwipeToDismiss, false);\n            final boolean isFloating = attributes.getBoolean(com.android.internal.R.styleable.Window_windowIsFloating, false);\n            return isFloating || isTranslucent || isSwipeToDismiss;\n        }\n</code></pre>\n\n<p>According to the above code analysis, when TargetSdkVersion>=27, when using SCREEN_ORIENTATION_LANDSCAPE, SCREEN_ORIENTATION_PORTRAIT, and other related attributes, the use of windowIsTranslucent, windowIsFloating, and windowSwipeToDismiss topic attributes will trigger an exception.</p>\n\n<p>After the problem is found, you can change the TargetSdkVersion or remove the related attributes of the theme according to your needs.</p>\n"},{"comments":[{"owner":{"account_id":272685,"reputation":12778,"user_id":563904,"accept_rate":100,"display_name":"Entreco"},"score":34,"creation_date":1541511226,"post_id":50832408,"comment_id":93235655,"body_markdown":"on Android PIE this works as expected. So the check really should be: `android.os.Build.VERSION.SDK_INT != Build.VERSION_CODES.O`","body":"on Android PIE this works as expected. So the check really should be: <code>android.os.Build.VERSION.SDK_INT != Build.VERSION_CODES.O</code>"},{"owner":{"account_id":8248188,"reputation":911,"user_id":6203660,"display_name":"Manikandan K"},"score":0,"creation_date":1566968569,"post_id":50832408,"comment_id":101816174,"body_markdown":"@avisper could you please share full condition code","body":"@avisper could you please share full condition code"},{"owner":{"account_id":537138,"reputation":9404,"user_id":905801,"accept_rate":78,"display_name":"AbdelHady"},"score":1,"creation_date":1570976892,"post_id":50832408,"comment_id":103079713,"body_markdown":"In a device/emulator running API 26, option 2 doesn&#39;t work, I had to make a new `styles.xml` in `values-v26` to disable `android:windowIsTranslucent` for that API only.","body":"In a device/emulator running API 26, option 2 doesn&#39;t work, I had to make a new <code>styles.xml</code> in <code>values-v26</code> to disable <code>android:windowIsTranslucent</code> for that API only."},{"owner":{"account_id":8541170,"reputation":13189,"user_id":6401241,"display_name":"Radesh"},"score":0,"creation_date":1571037152,"post_id":50832408,"comment_id":103092831,"body_markdown":"@AbdelHady Good solution, i will add it to my answer but check you code and fine why option 2 doesn&#39;t work, that my suggested option,","body":"@AbdelHady Good solution, i will add it to my answer but check you code and fine why option 2 doesn&#39;t work, that my suggested option,"},{"owner":{"account_id":2791341,"reputation":881,"user_id":2401525,"accept_rate":57,"display_name":"drorsun"},"score":6,"creation_date":1577113329,"post_id":50832408,"comment_id":105095955,"body_markdown":"I used option 3 with a boolean value `&lt;bool name=&quot;allowWindowFullScreenTranslucent&quot;&gt;true&lt;/bool&gt;` and referred to it in `&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;@bool/allowWindowFullScreenTranslucent&lt;/item&gt;`.   Then in styles.xml under values-v26 set it to `false` and in values and values-v27 set it to `true`.","body":"I used option 3 with a boolean value <code>&lt;bool name=&quot;allowWindowFullScreenTranslucent&quot;&gt;true&lt;&#47;bool&gt;</code> and referred to it in <code>&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;@bool&#47;allowWindowFullScre&zwnj;&#8203;enTranslucent&lt;&#47;item&gt;</code>&zwnj;&#8203;.   Then in styles.xml under values-v26 set it to <code>false</code> and in values and values-v27 set it to <code>true</code>."}],"tags":[],"owner":{"account_id":8541170,"reputation":13189,"user_id":6401241,"display_name":"Radesh"},"comment_count":5,"down_vote_count":1,"up_vote_count":207,"is_accepted":false,"score":206,"last_activity_date":1624428666,"creation_date":1528878145,"answer_id":50832408,"question_id":48072438,"body_markdown":"In android Oreo (API 26) you can not change orientation for Activity that have below line(s) in style\r\n\r\n     &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n\r\nor \r\n\r\n     &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt;\r\n\r\nYou have several way to solving this :\r\n\r\n**1)** You can simply remove above line(s) (or turn it to *false*) and your app works fine.\r\n\r\n**2)** **Or** you can first **remove** below line from manifest for that activity\r\n\r\n    android:screenOrientation=&quot;portrait&quot;\r\n    \r\nThen you must **add** this line to your activity (in onCreate()) \r\n&gt; &#39;&gt;=&#39; change to &#39;!=&#39; thanks to [Entreco][1] comment\r\n\r\n        //android O fix bug orientation\r\n        if (android.os.Build.VERSION.SDK_INT != Build.VERSION_CODES.O) {\r\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n        }\r\n\r\n**3)** You can create new `styles.xml` in `values-v26` folder and add this to your `style.xml`. (Thanks to [AbdelHady][2] comment)\r\n\r\n     &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;\r\n     &lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/563904/entreco\r\n  [2]: https://stackoverflow.com/users/905801/abdelhady","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>In android Oreo (API 26) you can not change orientation for Activity that have below line(s) in style</p>\n<pre><code> &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\n</code></pre>\n<p>or</p>\n<pre><code> &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt;\n</code></pre>\n<p>You have several way to solving this :</p>\n<p><strong>1)</strong> You can simply remove above line(s) (or turn it to <em>false</em>) and your app works fine.</p>\n<p><strong>2)</strong> <strong>Or</strong> you can first <strong>remove</strong> below line from manifest for that activity</p>\n<pre><code>android:screenOrientation=&quot;portrait&quot;\n</code></pre>\n<p>Then you must <strong>add</strong> this line to your activity (in onCreate())</p>\n<blockquote>\n<p>'&gt;=' change to '!=' thanks to <a href=\"https://stackoverflow.com/users/563904/entreco\">Entreco</a> comment</p>\n</blockquote>\n<pre><code>    //android O fix bug orientation\n    if (android.os.Build.VERSION.SDK_INT != Build.VERSION_CODES.O) {\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n    }\n</code></pre>\n<p><strong>3)</strong> You can create new <code>styles.xml</code> in <code>values-v26</code> folder and add this to your <code>style.xml</code>. (Thanks to <a href=\"https://stackoverflow.com/users/905801/abdelhady\">AbdelHady</a> comment)</p>\n<pre><code> &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;\n &lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5883743,"reputation":1803,"user_id":4632372,"accept_rate":100,"display_name":"Mohammedsalim Shivani"},"score":2,"creation_date":1531887320,"post_id":51393405,"comment_id":89758549,"body_markdown":"Please provide any reference (link or quoted) when posting an answer. So future users can understand easily. Also, welcome to the **SO Community**.","body":"Please provide any reference (link or quoted) when posting an answer. So future users can understand easily. Also, welcome to the <b>SO Community</b>."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556549250,"post_id":51393405,"comment_id":98467108,"body_markdown":"@MohammedsalimShivani Here: https://issuetracker.google.com/issues/68454482#comment4 &quot;Our engineering team has fixed this issue. It will be available in a future Android release, so please keep an eye on the release notes.&quot;","body":"@MohammedsalimShivani Here: <a href=\"https://issuetracker.google.com/issues/68454482#comment4\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/68454482#comment4</a> &quot;Our engineering team has fixed this issue. It will be available in a future Android release, so please keep an eye on the release notes.&quot;"},{"owner":{"account_id":1956342,"reputation":3329,"user_id":1759274,"accept_rate":50,"display_name":"Chris"},"score":0,"creation_date":1570961882,"post_id":51393405,"comment_id":103076563,"body_markdown":"This is bad advice","body":"This is bad advice"}],"tags":[],"owner":{"account_id":13980962,"reputation":21,"user_id":10097118,"display_name":"yihang wu"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1531886652,"creation_date":1531886652,"answer_id":51393405,"question_id":48072438,"body_markdown":"this happened after 27,use targetSdkVersion 26 replace, wait for google fixed it","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>this happened after 27,use targetSdkVersion 26 replace, wait for google fixed it</p>\n"},{"tags":[],"owner":{"account_id":2430271,"reputation":51,"user_id":8351055,"display_name":"mustafa.ertrk"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532183195,"creation_date":1532183195,"answer_id":51456974,"question_id":48072438,"body_markdown":"in the manifest file set second activity parentActivityName as first activity and remove the screenOrientation parameter to the second activity. it means your first activity is the parent and decide to an orientation of your second activity. \r\n\r\n    &lt;activity\r\n            android:name=&quot;.view.FirstActiviy&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; /&gt;\r\n\r\n    &lt;activity\r\n            android:name=&quot;.view.SecondActivity&quot;\r\n            android:parentActivityName=&quot;.view.FirstActiviy&quot;\r\n            android:theme=&quot;@style/AppTheme.Transparent&quot; /&gt;","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>in the manifest file set second activity parentActivityName as first activity and remove the screenOrientation parameter to the second activity. it means your first activity is the parent and decide to an orientation of your second activity. </p>\n\n<pre><code>&lt;activity\n        android:name=\".view.FirstActiviy\"\n        android:screenOrientation=\"portrait\"\n        android:theme=\"@style/AppTheme\" /&gt;\n\n&lt;activity\n        android:name=\".view.SecondActivity\"\n        android:parentActivityName=\".view.FirstActiviy\"\n        android:theme=\"@style/AppTheme.Transparent\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1534449432,"post_id":51883154,"comment_id":90720504,"body_markdown":"Please use English on Stack Overflow. Thanks!","body":"Please use English on Stack Overflow. Thanks!"}],"tags":[],"owner":{"account_id":14168703,"reputation":55,"user_id":10235941,"display_name":"jrivas"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534449537,"creation_date":1534443546,"answer_id":51883154,"question_id":48072438,"body_markdown":"I had the same problem, and my solution was to eliminate the line\r\n\r\n    android:screenOrientation=&quot;portrait&quot;\r\n\r\nand then add this in the activity:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n    }","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I had the same problem, and my solution was to eliminate the line</p>\n\n<pre><code>android:screenOrientation=\"portrait\"\n</code></pre>\n\n<p>and then add this in the activity:</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2773463,"reputation":3896,"user_id":2387564,"accept_rate":74,"display_name":"Attaullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574110886,"creation_date":1535223468,"answer_id":52020366,"question_id":48072438,"body_markdown":"**Just Set Orientation of activity in Manifiest.xml**\r\n\r\n    android:screenOrientation=&quot;unspecified&quot;\r\n\r\n**OR for restricted to Portrait Orientation**\r\n\r\nYou can also use in Activity, In **`onCreate`** method call before **`super.onCreate(...)`** e.g. \r\n \r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            setOrientation(this);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.your_xml_layout);\r\n            //...\r\n            //...\r\n    }\r\n\r\n    // Method \r\n    public static void setOrientation(Activity context) {\r\n       if (android.os.Build.VERSION.SDK_INT == Build.VERSION_CODES.O)\r\n            context.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\r\n          else\r\n            context.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n    }\r\n","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p><strong>Just Set Orientation of activity in Manifiest.xml</strong></p>\n\n<pre><code>android:screenOrientation=\"unspecified\"\n</code></pre>\n\n<p><strong>OR for restricted to Portrait Orientation</strong></p>\n\n<p>You can also use in Activity, In <strong><code>onCreate</code></strong> method call before <strong><code>super.onCreate(...)</code></strong> e.g. </p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        setOrientation(this);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.your_xml_layout);\n        //...\n        //...\n}\n\n// Method \npublic static void setOrientation(Activity context) {\n   if (android.os.Build.VERSION.SDK_INT == Build.VERSION_CODES.O)\n        context.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\n      else\n        context.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556628905,"post_id":52426009,"comment_id":98496499,"body_markdown":"What if I want the Activity that I&#39;ve created to be transparent, showing what&#39;s beneath it  (including other apps), while also staying on the current orientation?  If I let it stay &quot;behind&quot;, it can still change orientation on various cases...","body":"What if I want the Activity that I&#39;ve created to be transparent, showing what&#39;s beneath it  (including other apps), while also staying on the current orientation?  If I let it stay &quot;behind&quot;, it can still change orientation on various cases..."}],"tags":[],"owner":{"account_id":14382211,"reputation":341,"user_id":10389090,"display_name":"Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1537449301,"creation_date":1537449301,"answer_id":52426009,"question_id":48072438,"body_markdown":"I used `android:screenOrientation=&quot;behind&quot;` instead of `android:screenOrientation=&quot;portrait&quot;`. Basically, you created a dialog (in an activity) and dialog can&#39;t request orientation by itself it needs parent activity to do this (because a parent is visible in the background and has own layout).\r\n\r\n&gt; &quot;behind&quot;    The same orientation as the activity that&#39;s immediately beneath it in the activity stack.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I used <code>android:screenOrientation=\"behind\"</code> instead of <code>android:screenOrientation=\"portrait\"</code>. Basically, you created a dialog (in an activity) and dialog can't request orientation by itself it needs parent activity to do this (because a parent is visible in the background and has own layout).</p>\n\n<blockquote>\n  <p>\"behind\"    The same orientation as the activity that's immediately beneath it in the activity stack.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":465149,"reputation":131,"user_id":869052,"display_name":"siripan"},"score":1,"creation_date":1542606397,"post_id":52508539,"comment_id":93614226,"body_markdown":"This one worked for me by setting targetSdkVersion to 26, android:screenOrientation=&quot;portrait&quot; and &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;","body":"This one worked for me by setting targetSdkVersion to 26, android:screenOrientation=&quot;portrait&quot; and &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;"},{"owner":{"account_id":5878968,"reputation":682,"user_id":4628993,"accept_rate":100,"display_name":"Acau&#227; Pitta"},"score":0,"creation_date":1552411313,"post_id":52508539,"comment_id":96996200,"body_markdown":"@siripan for me too","body":"@siripan for me too"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556548680,"post_id":52508539,"comment_id":98466768,"body_markdown":"But eventually you will have to set the targetSdkVersion to 28 this year : https://support.google.com/googleplay/android-developer/answer/113469#targetsdk . What will you do?","body":"But eventually you will have to set the targetSdkVersion to 28 this year : <a href=\"https://support.google.com/googleplay/android-developer/answer/113469#targetsdk\" rel=\"nofollow noreferrer\">support.google.com/googleplay/android-developer/answer/&hellip;</a> . What will you do?"}],"tags":[],"owner":{"account_id":14038418,"reputation":85,"user_id":10140518,"display_name":"NaturallyAsh"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537923848,"creation_date":1537923848,"answer_id":52508539,"question_id":48072438,"body_markdown":"After doing some research, it seems that this problem may be due to a google bug.  For me, I was able to leave this line in my Activities onCreate method:\r\n\r\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\nAND I changed my targetSdkVersion to 26.  Having that line in my onCreate still resulted in a crash while my targetSdkVersion was still set at 27.  Since no one else&#39;s solution has worked for me thus far, I found that this works as a temporary fix for now.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>After doing some research, it seems that this problem may be due to a google bug.  For me, I was able to leave this line in my Activities onCreate method:</p>\n\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n</code></pre>\n\n<p>AND I changed my targetSdkVersion to 26.  Having that line in my onCreate still resulted in a crash while my targetSdkVersion was still set at 27.  Since no one else's solution has worked for me thus far, I found that this works as a temporary fix for now.</p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556548722,"post_id":52550225,"comment_id":98466793,"body_markdown":"But then you lose the functionality of actually having the orientation set to what you wanted.","body":"But then you lose the functionality of actually having the orientation set to what you wanted."}],"tags":[],"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1538118802,"creation_date":1538118802,"answer_id":52550225,"question_id":48072438,"body_markdown":"I faced this problem only in SDK 26 (8.0.0) if using windowIsTranslucent &#39;true&#39; and forcefully setting orientation:\r\n\r\nHere&#39;s the solution:\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_splash);\t\r\n        \r\n        \t// fixing portrait mode problem for SDK 26 if using windowIsTranslucent = true\r\n            if (Build.VERSION.SDK_INT == 26) {\r\n                setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\r\n            } else {\r\n                setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n            }        \r\n        }\r\n        \r\n        \r\n        \r\n           &lt;style name=&quot;SplashActivty&quot; parent=&quot;AppTheme&quot;&gt;\r\n            &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n    \r\n    \r\n    &lt;!-- Splash screen --&gt;\r\n            &lt;activity\r\n                android:name=&quot;edu.aku.family_hifazat.activities.SplashActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:screenOrientation=&quot;unspecified&quot;\r\n                android:theme=&quot;@style/SplashActivty&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n    \r\n            &lt;/activity&gt;","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I faced this problem only in SDK 26 (8.0.0) if using windowIsTranslucent 'true' and forcefully setting orientation:</p>\n\n<p>Here's the solution:</p>\n\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);   \n\n        // fixing portrait mode problem for SDK 26 if using windowIsTranslucent = true\n        if (Build.VERSION.SDK_INT == 26) {\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\n        } else {\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n        }        \n    }\n\n\n\n       &lt;style name=\"SplashActivty\" parent=\"AppTheme\"&gt;\n        &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@android:color/transparent&lt;/item&gt;\n        &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n        &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n\n\n&lt;!-- Splash screen --&gt;\n        &lt;activity\n            android:name=\"edu.aku.family_hifazat.activities.SplashActivity\"\n            android:label=\"@string/app_name\"\n            android:screenOrientation=\"unspecified\"\n            android:theme=\"@style/SplashActivty\"&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1666262,"reputation":3716,"user_id":1533585,"accept_rate":82,"display_name":"NAP-Developer"},"comment_count":0,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1539002649,"creation_date":1539002649,"answer_id":52702616,"question_id":48072438,"body_markdown":"User extend `AppCompatActivity` &amp; it will work !!","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>User extend <code>AppCompatActivity</code> &amp; it will work !!</p>\n"},{"comments":[{"owner":{"account_id":2762539,"reputation":304,"user_id":2379136,"accept_rate":25,"display_name":"th317erd"},"score":25,"creation_date":1550686860,"post_id":52964692,"comment_id":96363792,"body_markdown":"To anyone else who stumbles upon this &quot;fix&quot; I had to set `&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;` and also had to set `&lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;` before it would work.","body":"To anyone else who stumbles upon this &quot;fix&quot; I had to set <code>&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;&#47;item&gt;</code> and also had to set <code>&lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;&#47;item&gt;</code> before it would work."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":11,"creation_date":1556547577,"post_id":52964692,"comment_id":98466119,"body_markdown":"Where exactly is the solution to this? There is no `screenOrientation` attribute in the `activity` tag, and the only thing that causes the crash is `screenOrientation` being set while `android:windowIsTranslucent` is set to true.","body":"Where exactly is the solution to this? There is no <code>screenOrientation</code> attribute in the <code>activity</code> tag, and the only thing that causes the crash is <code>screenOrientation</code> being set while <code>android:windowIsTranslucent</code> is set to true."},{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":0,"creation_date":1558681529,"post_id":52964692,"comment_id":99187667,"body_markdown":"This does not work, unless comments above is used. See answer by Radesh, which covers comments above, and more, and is clear","body":"This does not work, unless comments above is used. See answer by Radesh, which covers comments above, and more, and is clear"},{"owner":{"account_id":2029846,"reputation":1056,"user_id":1813861,"accept_rate":9,"display_name":"Tran Quan"},"score":0,"creation_date":1564573990,"post_id":52964692,"comment_id":101074773,"body_markdown":"Setting translucent to false work for me &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;","body":"Setting translucent to false work for me &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;"},{"owner":{"account_id":5009550,"reputation":1537,"user_id":4026208,"display_name":"Pavel Kataykin"},"score":0,"creation_date":1585380094,"post_id":52964692,"comment_id":107742979,"body_markdown":"In my case, the solution was to remove &#39;android:theme&#39; from the Activity in AndroidManifest.xml.\nBut if you need it, you can add it programmatically before &#39;super.onCreate&#39;:\nsetTheme(R.style.Theme_AppCompat_Light_Dialog);","body":"In my case, the solution was to remove &#39;android:theme&#39; from the Activity in AndroidManifest.xml. But if you need it, you can add it programmatically before &#39;super.onCreate&#39;: setTheme(R.style.Theme_AppCompat_Light_Dialog);"}],"tags":[],"owner":{"account_id":9660059,"reputation":1877,"user_id":7168430,"display_name":"Debasish Ghosh"},"comment_count":5,"down_vote_count":6,"up_vote_count":78,"is_accepted":true,"score":72,"last_activity_date":1563813263,"creation_date":1540371052,"answer_id":52964692,"question_id":48072438,"body_markdown":"The problem seems to be happening when your target sdk is 28. So after trying out many options finally this worked.\r\n\r\n    &lt;activity\r\n                android:name=&quot;.activities.FilterActivity&quot;\r\n                android:theme=&quot;@style/Transparent&quot;\r\n                android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot; /&gt;\r\n    \r\n  \r\n\r\n  style:-\r\n\r\n    &lt;style name=&quot;Transparent&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n         &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n         &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n         &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt;\r\n         &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n         &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n         &lt;item name=&quot;android:backgroundDimEnabled&quot;&gt;false&lt;/item&gt;\r\n     &lt;/style&gt;\r\n\r\nNote:parent=&quot;Theme.AppCompat.Light.NoActionBar&quot; is needed for api 28. Previously had something else at api 26. Was working great but started to give problem at 28.\r\nHope it helps someone out here.\r\nEDIT: For some only by setting `&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt; and  &lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;`\r\n worked.May be depends upon the way you implement the solution works.In my case it worked by setting them to true. ","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>The problem seems to be happening when your target sdk is 28. So after trying out many options finally this worked.</p>\n\n<pre><code>&lt;activity\n            android:name=\".activities.FilterActivity\"\n            android:theme=\"@style/Transparent\"\n            android:windowSoftInputMode=\"stateHidden|adjustResize\" /&gt;\n</code></pre>\n\n<p>style:-</p>\n\n<pre><code>&lt;style name=\"Transparent\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n     &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n     &lt;item name=\"android:windowBackground\"&gt;@android:color/transparent&lt;/item&gt;\n     &lt;item name=\"android:windowIsFloating\"&gt;true&lt;/item&gt;\n     &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n     &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n     &lt;item name=\"android:backgroundDimEnabled\"&gt;false&lt;/item&gt;\n &lt;/style&gt;\n</code></pre>\n\n<p>Note:parent=\"Theme.AppCompat.Light.NoActionBar\" is needed for api 28. Previously had something else at api 26. Was working great but started to give problem at 28.\nHope it helps someone out here.\nEDIT: For some only by setting <code>&lt;item name=\"android:windowIsTranslucent\"&gt;false&lt;/item&gt; and  &lt;item name=\"android:windowIsFloating\"&gt;false&lt;/item&gt;</code>\n worked.May be depends upon the way you implement the solution works.In my case it worked by setting them to true. </p>\n"},{"comments":[{"owner":{"account_id":10875141,"reputation":2530,"user_id":8199772,"accept_rate":55,"display_name":"ClassA"},"score":0,"creation_date":1559880974,"post_id":53432521,"comment_id":99565182,"body_markdown":"What if the previous activity has a different orientation the what you want in the current activity?","body":"What if the previous activity has a different orientation the what you want in the current activity?"}],"tags":[],"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1542894846,"creation_date":1542894846,"answer_id":53432521,"question_id":48072438,"body_markdown":"Just remove this line `android:screenOrientation=&quot;portrait&quot;` of activity in Manifiest.xml\r\n\r\nThat activity will get orientation from it&#39;s previous activity so no need to apply orientation which has `&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;`. ","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>Just remove this line <code>android:screenOrientation=\"portrait\"</code> of activity in Manifiest.xml</p>\n\n<p>That activity will get orientation from it's previous activity so no need to apply orientation which has <code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;</code>. </p>\n"},{"tags":[],"owner":{"account_id":10989721,"reputation":271,"user_id":8074158,"display_name":"leigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1566358913,"creation_date":1544423096,"answer_id":53700461,"question_id":48072438,"body_markdown":"If you have to use `setRequestedOrientation()`, there is no way but sacrifice the windowIsTranslucent attribute on Android 8.0 \r\n\r\n`values\\styles.xml` for api level 25- (&lt;8.0)\r\n  \r\n\r\n    &lt;style name=&quot;Base.Theme.DesignDemo&quot; parent=&quot;Base.Theme.AppCompat.Light&quot;&gt;\r\n            ...\r\n            &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n            ...\r\n        &lt;/style&gt;\r\n\r\n`values-v26\\styles.xml` for api level 26 (=8.0)\r\n\r\n    &lt;style name=&quot;Base.Theme.DesignDemo&quot; parent=&quot;Base.Theme.AppCompat.Light&quot;&gt;\r\n        ...\r\n        &lt;!-- android 8.0(api26)，Only fullscreen opaque activities can request orientation --&gt;\r\n        &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;\r\n        ...\r\n    &lt;/style&gt;\r\n\r\n`values-v27\\styles.xml` for api level 27+ (&gt;8.0) \r\n\r\n    &lt;style name=&quot;Base.Theme.DesignDemo&quot; parent=&quot;Base.Theme.AppCompat.Light&quot;&gt;\r\n        ...\r\n        &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n        ...\r\n    &lt;/style&gt;","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>If you have to use <code>setRequestedOrientation()</code>, there is no way but sacrifice the windowIsTranslucent attribute on Android 8.0 </p>\n\n<p><code>values\\styles.xml</code> for api level 25- (&lt;8.0)</p>\n\n<pre><code>&lt;style name=\"Base.Theme.DesignDemo\" parent=\"Base.Theme.AppCompat.Light\"&gt;\n        ...\n        &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n        ...\n    &lt;/style&gt;\n</code></pre>\n\n<p><code>values-v26\\styles.xml</code> for api level 26 (=8.0)</p>\n\n<pre><code>&lt;style name=\"Base.Theme.DesignDemo\" parent=\"Base.Theme.AppCompat.Light\"&gt;\n    ...\n    &lt;!-- android 8.0(api26)，Only fullscreen opaque activities can request orientation --&gt;\n    &lt;item name=\"android:windowIsTranslucent\"&gt;false&lt;/item&gt;\n    ...\n&lt;/style&gt;\n</code></pre>\n\n<p><code>values-v27\\styles.xml</code> for api level 27+ (>8.0) </p>\n\n<pre><code>&lt;style name=\"Base.Theme.DesignDemo\" parent=\"Base.Theme.AppCompat.Light\"&gt;\n    ...\n    &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n    ...\n&lt;/style&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556549017,"post_id":54001465,"comment_id":98466970,"body_markdown":"This doesn&#39;t work, as `windowIsFloating` causes the same crash as `windowIsTranslucent` .","body":"This doesn&#39;t work, as <code>windowIsFloating</code> causes the same crash as <code>windowIsTranslucent</code> ."}],"tags":[],"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546405616,"creation_date":1546405616,"answer_id":54001465,"question_id":48072438,"body_markdown":"I was getting this error when I try to capture image or take image from gallery what works for me is to remove both\r\n \r\n\r\n     setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\nand\r\n\r\n    android:screenOrientation=&quot;portrait&quot;\r\nnow my activity is using this theme:\r\n\r\n      &lt;style name=&quot;Transparent&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n            &lt;item name=&quot;android:colorBackgroundCacheHint&quot;&gt;@null&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@android:style/Animation&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:backgroundDimEnabled&quot;&gt;false&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\n","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I was getting this error when I try to capture image or take image from gallery what works for me is to remove both</p>\n\n<pre><code> setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>android:screenOrientation=\"portrait\"\n</code></pre>\n\n<p>now my activity is using this theme:</p>\n\n<pre><code>  &lt;style name=\"Transparent\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@android:color/transparent&lt;/item&gt;\n        &lt;item name=\"android:colorBackgroundCacheHint\"&gt;@null&lt;/item&gt;\n        &lt;item name=\"android:windowAnimationStyle\"&gt;@android:style/Animation&lt;/item&gt;\n        &lt;item name=\"android:windowIsTranslucent\"&gt;false&lt;/item&gt;\n        &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n        &lt;item name=\"android:windowIsFloating\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:backgroundDimEnabled\"&gt;false&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8312718,"reputation":2819,"user_id":6247186,"display_name":"Hamed Jaliliani"},"score":0,"creation_date":1546874506,"post_id":54039600,"comment_id":94987480,"body_markdown":"Android 7, 7.1 ,  8.0 , 8.1 all have this problem","body":"Android 7, 7.1 ,  8.0 , 8.1 all have this problem"},{"owner":{"account_id":10131639,"reputation":51,"user_id":7484819,"display_name":"Mingo"},"score":0,"creation_date":1546947406,"post_id":54039600,"comment_id":95014175,"body_markdown":"`appInfo.targetSdkVersion &gt; O` throw the exception","body":"<code>appInfo.targetSdkVersion &gt; O</code> throw the exception"},{"owner":{"account_id":1937905,"reputation":1529,"user_id":1744889,"display_name":"zOqvxf"},"score":0,"creation_date":1553245833,"post_id":54039600,"comment_id":97320707,"body_markdown":"Its checking the `target` sdk version. It doesn&#39;t matter what sdk version the device is actually running, you&#39;re compiling against Android O (28) but not following the conventions of that version of the platform.","body":"Its checking the <code>target</code> sdk version. It doesn&#39;t matter what sdk version the device is actually running, you&#39;re compiling against Android O (28) but not following the conventions of that version of the platform."}],"tags":[],"owner":{"account_id":10131639,"reputation":51,"user_id":7484819,"display_name":"Mingo"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546607423,"creation_date":1546607423,"answer_id":54039600,"question_id":48072438,"body_markdown":"only 8.0.0 throw the exception, above 8.0 has remove the exception\r\n\r\n[![8.0.0 throw the exception][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0JOJ5.png","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>only 8.0.0 throw the exception, above 8.0 has remove the exception</p>\n\n<p><a href=\"https://i.stack.imgur.com/0JOJ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0JOJ5.png\" alt=\"8.0.0 throw the exception\"></a></p>\n"},{"comments":[{"owner":{"account_id":1185423,"reputation":3523,"user_id":1159507,"accept_rate":65,"display_name":"anber"},"score":0,"creation_date":1554302394,"post_id":54077089,"comment_id":97702604,"body_markdown":"Tried this solution, but app still crashes:\nI need portrait transparent activity so I need both this options. Tried set in manifest screenOrientation unspecified, but no luck.","body":"Tried this solution, but app still crashes: I need portrait transparent activity so I need both this options. Tried set in manifest screenOrientation unspecified, but no luck."},{"owner":{"account_id":1185423,"reputation":3523,"user_id":1159507,"accept_rate":65,"display_name":"anber"},"score":0,"creation_date":1554483998,"post_id":54077089,"comment_id":97783883,"body_markdown":"No. I tried remove orientation in manifest at all, and make activity fullscreen, but it still crashes. Only on 1 device - honor 9 lite. On Samsung it works ok.","body":"No. I tried remove orientation in manifest at all, and make activity fullscreen, but it still crashes. Only on 1 device - honor 9 lite. On Samsung it works ok."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556548784,"post_id":54077089,"comment_id":98466829,"body_markdown":"Setting the orientation programmatically also causes the crash. How did you use it exactly?","body":"Setting the orientation programmatically also causes the crash. How did you use it exactly?"},{"owner":{"account_id":8312718,"reputation":2819,"user_id":6247186,"display_name":"Hamed Jaliliani"},"score":0,"creation_date":1556550175,"post_id":54077089,"comment_id":98467613,"body_markdown":"@androiddeveloper how can I access your source code?!  I must see what you did","body":"@androiddeveloper how can I access your source code?!  I must see what you did"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556579154,"post_id":54077089,"comment_id":98478582,"body_markdown":"@HamedJaliliani Setting it programmaticaly is as such, for example: ` setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);`","body":"@HamedJaliliani Setting it programmaticaly is as such, for example: ` setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORT&zwnj;&#8203;RAIT);`"},{"owner":{"account_id":8312718,"reputation":2819,"user_id":6247186,"display_name":"Hamed Jaliliani"},"score":0,"creation_date":1556600062,"post_id":54077089,"comment_id":98482590,"body_markdown":"@androiddeveloper  what is your  activity tag code in manifest, version of android that you face this error  &amp; logcat error?","body":"@androiddeveloper  what is your  activity tag code in manifest, version of android that you face this error  &amp; logcat error?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556607999,"post_id":54077089,"comment_id":98485451,"body_markdown":"@HamedJaliliani Here&#39;s a sample code: https://issuetracker.google.com/issues/131534974 . Would be easier than to explain in a restricted comment section.","body":"@HamedJaliliani Here&#39;s a sample code: <a href=\"https://issuetracker.google.com/issues/131534974\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/131534974</a> . Would be easier than to explain in a restricted comment section."},{"owner":{"account_id":3108639,"reputation":694,"user_id":2630919,"accept_rate":88,"display_name":"ezaspi"},"score":1,"creation_date":1688578781,"post_id":54077089,"comment_id":135093711,"body_markdown":"It&#39;s 2023 and we just ran into this! We have\ntargetSdkVersion 32 and minSdkVersion 26\nThis solution is closest to what worked for us, we just removed in the manifest\nandroid:screenOrientation=&quot;portrait&quot; \nfor all activities that were also having\nandroid:windowIsTranslucent\ndone","body":"It&#39;s 2023 and we just ran into this! We have targetSdkVersion 32 and minSdkVersion 26 This solution is closest to what worked for us, we just removed in the manifest android:screenOrientation=&quot;portrait&quot;  for all activities that were also having android:windowIsTranslucent done"}],"tags":[],"owner":{"account_id":8312718,"reputation":2819,"user_id":6247186,"display_name":"Hamed Jaliliani"},"comment_count":8,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556599712,"creation_date":1546874334,"answer_id":54077089,"question_id":48072438,"body_markdown":"It is a conflict (bug) between Themes inside style.xml file in android versions 7 (Api levels 24,25) &amp; 8 (api levels 26,27),\r\n when you have\r\n\r\n ` android:screenOrientation=&quot;portrait&quot;`\r\n:inside specific activity (that crashes)  in AndroidManifest.xml\r\n\r\n &amp; \r\n\r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt; \r\nin the theme that applied to that activity inside style.xml\r\n\r\nIt can be solve by these ways according to your need :\r\n\r\n1- Remove on of the above mentioned properties that make conflict\r\n\r\n2- Change Activity orientation to one of these values as you need : `unspecified` or `behind` and so on that can be found here : [ Google reference for android:screenOrientation][1]\r\n`\r\n\r\n3- Set the orientation programmatically in run time\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/activity-element#screen","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>It is a conflict (bug) between Themes inside style.xml file in android versions 7 (Api levels 24,25) &amp; 8 (api levels 26,27),\n when you have</p>\n\n<p><code>android:screenOrientation=\"portrait\"</code>\n:inside specific activity (that crashes)  in AndroidManifest.xml</p>\n\n<p>&amp; </p>\n\n<pre><code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt; \n</code></pre>\n\n<p>in the theme that applied to that activity inside style.xml</p>\n\n<p>It can be solve by these ways according to your need :</p>\n\n<p>1- Remove on of the above mentioned properties that make conflict</p>\n\n<p>2- Change Activity orientation to one of these values as you need : <code>unspecified</code> or <code>behind</code> and so on that can be found here : <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#screen\" rel=\"nofollow noreferrer\"> Google reference for android:screenOrientation</a>\n`</p>\n\n<p>3- Set the orientation programmatically in run time</p>\n"},{"tags":[],"owner":{"account_id":5979278,"reputation":116,"user_id":4698946,"display_name":"linjiang"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1547104871,"creation_date":1547104871,"answer_id":54123657,"question_id":48072438,"body_markdown":"If the activity created by yourself, you can try this in the Activity:\r\n\r\n    @Override\r\n    public void setRequestedOrientation(int requestedOrientation) {\r\n        try {\r\n            super.setRequestedOrientation(requestedOrientation);\r\n        } catch (IllegalStateException e) {\r\n            // Only fullscreen activities can request orientation\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis should be the easiest solution.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>If the activity created by yourself, you can try this in the Activity:</p>\n\n<pre><code>@Override\npublic void setRequestedOrientation(int requestedOrientation) {\n    try {\n        super.setRequestedOrientation(requestedOrientation);\n    } catch (IllegalStateException e) {\n        // Only fullscreen activities can request orientation\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>This should be the easiest solution.</p>\n"},{"tags":[],"owner":{"account_id":13128433,"reputation":21,"user_id":9483570,"display_name":"paulparkbom"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550798820,"creation_date":1550798820,"answer_id":54818728,"question_id":48072438,"body_markdown":"Try remove lines of your theme:\r\n\r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\nand\r\n\r\n    &lt;item name=&quot;android:windowIsFloating&quot;&gt;true&lt;/item&gt;\r\nafter this, add `android:screenOrientation=&quot;portrait&quot;` in your activity.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>Try remove lines of your theme:</p>\n\n<pre><code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;item name=\"android:windowIsFloating\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>after this, add <code>android:screenOrientation=\"portrait\"</code> in your activity.</p>\n"},{"comments":[{"owner":{"account_id":1185423,"reputation":3523,"user_id":1159507,"accept_rate":65,"display_name":"anber"},"score":0,"creation_date":1554302278,"post_id":55456951,"comment_id":97702526,"body_markdown":"Tried this solution, but app still crashes","body":"Tried this solution, but app still crashes"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1556548815,"post_id":55456951,"comment_id":98466846,"body_markdown":"But then you lose the function of setting the orientation","body":"But then you lose the function of setting the orientation"},{"owner":{"account_id":8413211,"reputation":21,"user_id":6314432,"display_name":"Max Heimer"},"score":0,"creation_date":1557324033,"post_id":55456951,"comment_id":98727036,"body_markdown":"@androiddeveloper: The way I understand it the orientation will be inherited from the parent activity. If you want to explicitly set another orientation on the translucent activity that wouldn&#39;t work this way...","body":"@androiddeveloper: The way I understand it the orientation will be inherited from the parent activity. If you want to explicitly set another orientation on the translucent activity that wouldn&#39;t work this way..."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1557337169,"post_id":55456951,"comment_id":98734134,"body_markdown":"Sometimes you can&#39;t have control of the previous Activity. Sometimes you want to show your transparent one on top of what the user currently sees. So this can&#39;t help :(","body":"Sometimes you can&#39;t have control of the previous Activity. Sometimes you want to show your transparent one on top of what the user currently sees. So this can&#39;t help :("}],"tags":[],"owner":{"account_id":8413211,"reputation":21,"user_id":6314432,"display_name":"Max Heimer"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554127147,"creation_date":1554127147,"answer_id":55456951,"question_id":48072438,"body_markdown":"The only thing that worked for me was changing \r\n```xml\r\nandroid:screenOrientation=&quot;portrait&quot;\r\n```\r\nto\r\n```xml\r\nandroid:screenOrientation=&quot;unspecified&quot;\r\n```\r\nin the manifest for all translucent activities.\r\n\r\nThat way it is compatible with all API versions since the translucent activity seems to inherit its orientation from the parent activity as of `targetApi: 28`.\r\n\r\nThe style can be left as it is including `&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;`.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>The only thing that worked for me was changing </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>android:screenOrientation=\"portrait\"\n</code></pre>\n\n<p>to</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>android:screenOrientation=\"unspecified\"\n</code></pre>\n\n<p>in the manifest for all translucent activities.</p>\n\n<p>That way it is compatible with all API versions since the translucent activity seems to inherit its orientation from the parent activity as of <code>targetApi: 28</code>.</p>\n\n<p>The style can be left as it is including <code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":14246651,"reputation":91,"user_id":10291492,"display_name":"Victor Tavares"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558627036,"creation_date":1558627036,"answer_id":56279000,"question_id":48072438,"body_markdown":"I&#39;ve just removed the tags &quot;portrait&quot; from the non full-screen elements and everything went fine.\r\n\r\n    android:screenOrientation=&quot;portrait&quot;","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I've just removed the tags \"portrait\" from the non full-screen elements and everything went fine.</p>\n\n<pre><code>android:screenOrientation=\"portrait\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440120,"reputation":11,"user_id":4990387,"display_name":"Francesco Pietrangelo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1559741944,"creation_date":1559741944,"answer_id":56461668,"question_id":48072438,"body_markdown":"I had the same problem and I fixed it just by setting this: `&lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;` in styles.xml","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I had the same problem and I fixed it just by setting this: <code>&lt;item name=\"android:windowIsFloating\"&gt;false&lt;/item&gt;</code> in styles.xml</p>\n"},{"tags":[],"owner":{"account_id":1667128,"reputation":659,"user_id":1534316,"accept_rate":69,"display_name":"Mostafa Imran"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562055302,"creation_date":1562055302,"answer_id":56848086,"question_id":48072438,"body_markdown":"Use\r\n\r\n    android:screenOrientation=&quot;behind&quot;\r\n\r\nAnd Theme\r\n\r\n    &lt;style name=&quot;translucent&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;#beaaaaaa&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@android:style/Animation&lt;/item&gt;\r\n        &lt;item name=&quot;android:typeface&quot;&gt;normal&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowSoftInputMode&quot;&gt;adjustPan&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n    &lt;/style&gt;","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>Use</p>\n\n<pre><code>android:screenOrientation=\"behind\"\n</code></pre>\n\n<p>And Theme</p>\n\n<pre><code>&lt;style name=\"translucent\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;#beaaaaaa&lt;/item&gt;\n    &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowAnimationStyle\"&gt;@android:style/Animation&lt;/item&gt;\n    &lt;item name=\"android:typeface\"&gt;normal&lt;/item&gt;\n    &lt;item name=\"android:windowSoftInputMode\"&gt;adjustPan&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2077746,"reputation":1892,"user_id":1850588,"accept_rate":11,"display_name":"Avinash Jadaun"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1562076687,"creation_date":1562074576,"answer_id":56853760,"question_id":48072438,"body_markdown":"it seems when target sdk is pie (api level 28.0) and windowIsTranslucent is true\r\n  \r\n`&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;` \r\n\r\nand you try to access orientation. problem comes with android oreo 8.0 (api level 26) there are two ways to solve this\r\n\r\n 1. remove the orientation\r\n 2. or set windowIsTranslucent to false\r\n\r\nif you are setting orientation in manifest like this \r\n\r\n    android:screenOrientation=&quot;portrait&quot;\r\n\r\nor \r\nin activity class like this \r\n   \r\n\r\n     setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\nremove form both places.\r\n\r\nand observed when u set  windowIsTranslucent to true, it takes orientation from parent activity.\r\n\r\n\r\n   \r\n\r\n\r\n","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>it seems when target sdk is pie (api level 28.0) and windowIsTranslucent is true</p>\n\n<p><code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;</code> </p>\n\n<p>and you try to access orientation. problem comes with android oreo 8.0 (api level 26) there are two ways to solve this</p>\n\n<ol>\n<li>remove the orientation</li>\n<li>or set windowIsTranslucent to false</li>\n</ol>\n\n<p>if you are setting orientation in manifest like this </p>\n\n<pre><code>android:screenOrientation=\"portrait\"\n</code></pre>\n\n<p>or \nin activity class like this </p>\n\n<pre><code> setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n</code></pre>\n\n<p>remove form both places.</p>\n\n<p>and observed when u set  windowIsTranslucent to true, it takes orientation from parent activity.</p>\n"},{"tags":[],"owner":{"account_id":7558541,"reputation":711,"user_id":6073671,"display_name":"MD. Shafiul Alam Biplob"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1573943547,"creation_date":1573943547,"answer_id":58895828,"question_id":48072438,"body_markdown":"I recently faced the issue and here&#39;s the solution.\r\n\r\nNo need to change the screen orientation parameter which you set at android manifest file.\r\n\r\nJust add two folders in \r\n\r\n    res&gt;values\r\n    as  res&gt;values-v26 \r\n    and res&gt;values-v27\r\n\r\n   \r\n\r\nThen copy your styles.xml and themes.xml file there.\r\n\r\nand change the following parameters from TRUE to FALSE.\r\n\r\n\r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n     \r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;false&lt;/item&gt;\r\n\r\nIt will work.\r\n\r\nA common bug of Android 8.0\r\n\r\n    ","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I recently faced the issue and here's the solution.</p>\n\n<p>No need to change the screen orientation parameter which you set at android manifest file.</p>\n\n<p>Just add two folders in </p>\n\n<pre><code>res&gt;values\nas  res&gt;values-v26 \nand res&gt;values-v27\n</code></pre>\n\n<p>Then copy your styles.xml and themes.xml file there.</p>\n\n<p>and change the following parameters from TRUE to FALSE.</p>\n\n<pre><code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n\n&lt;item name=\"android:windowIsTranslucent\"&gt;false&lt;/item&gt;\n</code></pre>\n\n<p>It will work.</p>\n\n<p>A common bug of Android 8.0</p>\n"},{"tags":[],"owner":{"account_id":5875481,"reputation":1,"user_id":4626419,"display_name":"sreedhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578646582,"creation_date":1578642733,"answer_id":59677424,"question_id":48072438,"body_markdown":"Please check the style of your Activity and make sure if you are not using any Translucent related things, change the style to alternate. So that we can fix this problem.\r\n```\r\nandroid:theme=&quot;@android:style/Theme.Translucent.NoTitleBar.Fullscreen&quot;\r\nandroid:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;\r\n```","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>Please check the style of your Activity and make sure if you are not using any Translucent related things, change the style to alternate. So that we can fix this problem.</p>\n\n<pre><code>android:theme=\"@android:style/Theme.Translucent.NoTitleBar.Fullscreen\"\nandroid:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4842181,"reputation":604,"user_id":3906926,"display_name":"Waheed Nazir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582514956,"creation_date":1582514956,"answer_id":60369175,"question_id":48072438,"body_markdown":"I resolved this issue by removing `android:screenOrientation=&quot;portrait&quot;` and added below code into my onCreate \r\n```\r\nif (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\r\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n}\r\n```\r\n\r\nwhile my theme properties are \r\n```\r\n&lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n&lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n```","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I resolved this issue by removing <code>android:screenOrientation=\"portrait\"</code> and added below code into my onCreate </p>\n\n<pre><code>if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n}\n</code></pre>\n\n<p>while my theme properties are </p>\n\n<pre><code>&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8777002,"reputation":3712,"user_id":6561930,"display_name":"Ridha Rezzag"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625065761,"creation_date":1625065761,"answer_id":68197377,"question_id":48072438,"body_markdown":"some of the answers wasnt clear for me and didnt work,\r\n\r\nso this was causing the error:\r\n\r\n    &lt;activity\r\n    android:name=&quot;.ForgotPass_ChangePass&quot;\r\n    android:screenOrientation=&quot;portrait&quot; &lt;--- // this caused the error\r\n    android:windowSoftInputMode=&quot;stateHidden|adjustPan|adjustResize&quot;/&gt;\r\n\r\nandroid studio was suggeting to set screenOrientation to fullSensor\r\n\r\n    android:screenOrientation=&quot;fullSensor&quot;\r\n\r\n yes this will fix the error but i wan to keep my layout in the portrait mode, and fullSensor will act based on the sensor\r\n\r\n\r\n&gt; &quot;fullSensor&quot;\tThe orientation is determined by the device orientation\r\n&gt; sensor for any of the 4 orientations. This is similar to &quot;sensor&quot;\r\n&gt; except this allows any of the 4 possible screen orientations,\r\n&gt; regardless of what the device will normally do (for example, some\r\n&gt; devices won&#39;t normally use reverse portrait or reverse landscape, but\r\n&gt; this enables those). Added in API level 9.\r\n\r\n[ source: android:screenOrientation][1]\r\n\r\nso the solution that worked for me i used &quot;nosensor&quot; :\r\n\r\n     &lt;activity\r\n            android:name=&quot;.ForgotPass_ChangePass&quot;\r\n            android:screenOrientation=&quot;nosensor&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden|adjustPan|adjustResize&quot;/&gt;\r\n\r\n\r\n&gt; &quot;nosensor&quot;\tThe orientation is determined without reference to a\r\n&gt; physical orientation sensor. The sensor is ignored, so the display\r\n&gt; will not rotate based on how the user moves the device.\r\n\r\n\r\n\r\n[see android documentation here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/activity-element#screen","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>some of the answers wasnt clear for me and didnt work,</p>\n<p>so this was causing the error:</p>\n<pre><code>&lt;activity\nandroid:name=&quot;.ForgotPass_ChangePass&quot;\nandroid:screenOrientation=&quot;portrait&quot; &lt;--- // this caused the error\nandroid:windowSoftInputMode=&quot;stateHidden|adjustPan|adjustResize&quot;/&gt;\n</code></pre>\n<p>android studio was suggeting to set screenOrientation to fullSensor</p>\n<pre><code>android:screenOrientation=&quot;fullSensor&quot;\n</code></pre>\n<p>yes this will fix the error but i wan to keep my layout in the portrait mode, and fullSensor will act based on the sensor</p>\n<blockquote>\n<p>&quot;fullSensor&quot;  The orientation is determined by the device orientation\nsensor for any of the 4 orientations. This is similar to &quot;sensor&quot;\nexcept this allows any of the 4 possible screen orientations,\nregardless of what the device will normally do (for example, some\ndevices won't normally use reverse portrait or reverse landscape, but\nthis enables those). Added in API level 9.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/manifest/activity-element#screen\" rel=\"noreferrer\"> source: android:screenOrientation</a></p>\n<p>so the solution that worked for me i used &quot;nosensor&quot; :</p>\n<pre><code> &lt;activity\n        android:name=&quot;.ForgotPass_ChangePass&quot;\n        android:screenOrientation=&quot;nosensor&quot;\n        android:windowSoftInputMode=&quot;stateHidden|adjustPan|adjustResize&quot;/&gt;\n</code></pre>\n<blockquote>\n<p>&quot;nosensor&quot;    The orientation is determined without reference to a\nphysical orientation sensor. The sensor is ignored, so the display\nwill not rotate based on how the user moves the device.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/manifest/activity-element#screen\" rel=\"noreferrer\">see android documentation here</a></p>\n"},{"tags":[],"owner":{"account_id":12601487,"reputation":304,"user_id":9164064,"display_name":"chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693469291,"creation_date":1693469291,"answer_id":77013942,"question_id":48072438,"body_markdown":"In Oreo API 27 transparent and translucent activity can’t request of orientation. Because the previous non opaque activity might have a different orientation as compared to top transparent activity which might create uneven UI behaviour.\r\n\r\nopaque activity A (portrait) → transparent activity B (landscape)\r\nIf above case was possible we might able to see A portrait from B’s transparent landscape orientation. Which will cut off A’s top and bottom.\r\n\r\nA better solution would be to set A’s orientation to portrait if we want B to be portrait. It will inherit the last opaque activity orientation.\r\nOr just make the activity opaque and add your own orientation.","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>In Oreo API 27 transparent and translucent activity can’t request of orientation. Because the previous non opaque activity might have a different orientation as compared to top transparent activity which might create uneven UI behaviour.</p>\n<p>opaque activity A (portrait) → transparent activity B (landscape)\nIf above case was possible we might able to see A portrait from B’s transparent landscape orientation. Which will cut off A’s top and bottom.</p>\n<p>A better solution would be to set A’s orientation to portrait if we want B to be portrait. It will inherit the last opaque activity orientation.\nOr just make the activity opaque and add your own orientation.</p>\n"}],"owner":{"account_id":8090831,"reputation":3574,"user_id":6096821,"accept_rate":50,"display_name":"Shubham Sejpal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133480,"favorite_count":0,"down_vote_count":0,"up_vote_count":257,"accepted_answer_id":52964692,"answer_count":36,"score":257,"last_activity_date":1693469291,"creation_date":1514961686,"question_id":48072438,"body_markdown":"I am facing the problem while retrieving the contacts from the contact book in Android 8.0 Oreo java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation\r\n\r\nI am trying to get the contact in my activity from the phone contact book and it works perfect for Lollipop, Marshmallow, Nougat, etc but it will gives me the error for Oreo like this please help me. My code is here below.\r\n\r\n**Demo Code :-**\r\n\r\n    private void loadContacts() {\r\n                contactAsync = new ContactLoaderAsync();\r\n                contactAsync.execute();\r\n            }\r\n        \r\n            private class ContactLoaderAsync extends AsyncTask&lt;Void, Void, Void&gt; {\r\n                private Cursor numCursor;\r\n        \r\n                @Override\r\n                protected void onPreExecute() {\r\n                    super.onPreExecute();\r\n                    Uri numContacts = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;\r\n                    String[] numProjection = new String[]{ContactsContract.CommonDataKinds.Phone.CONTACT_ID, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME, ContactsContract.CommonDataKinds.Phone.NUMBER, ContactsContract.CommonDataKinds.Phone.TYPE};\r\n                    if (android.os.Build.VERSION.SDK_INT &lt; 11) {\r\n                        numCursor = InviteByContactActivity.this.managedQuery(numContacts, numProjection, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + &quot; COLLATE NOCASE ASC&quot;);\r\n                    } else {\r\n                        CursorLoader cursorLoader = new CursorLoader(InviteByContactActivity.this, numContacts, numProjection, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + &quot; COLLATE NOCASE ASC&quot;);\r\n                        numCursor = cursorLoader.loadInBackground();\r\n                    }\r\n        \r\n                }\r\n        \r\n                @Override\r\n                protected Void doInBackground(Void... params) {\r\n                    if (numCursor.moveToFirst()) {\r\n                        try {\r\n                            final int contactIdIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.CONTACT_ID);\r\n                            final int displayNameIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);\r\n                            final int numberIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\r\n                            final int typeIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.TYPE);\r\n                            String displayName, number, type;\r\n                            do {\r\n                                displayName = numCursor.getString(displayNameIndex);\r\n                                number = numCursor.getString(numberIndex);\r\n                                type = getContactTypeString(numCursor.getString(typeIndex), true);\r\n                                final ContactModel contact = new ContactModel(displayName, type, number);\r\n                                phoneNumber = number.replaceAll(&quot; &quot;, &quot;&quot;).replaceAll(&quot;\\\\(&quot;, &quot;&quot;).replaceAll(&quot;\\\\)&quot;, &quot;&quot;).replaceAll(&quot;-&quot;, &quot;&quot;);\r\n        \r\n                                if (phoneNumber != null || displayName != null) {\r\n                                    contacts.add(phoneNumber);\r\n                                    contactsName.add(displayName);\r\n                                    contactsChecked.add(false);\r\n        \r\n                                    filterdNames.add(phoneNumber);\r\n                                    filterdContactNames.add(displayName);\r\n                                    filterdCheckedNames.add(false);\r\n                                }\r\n                            } while (numCursor.moveToNext());\r\n                        } finally {\r\n                            numCursor.close();\r\n                        }\r\n                    }\r\n        \r\n        \r\n                    Collections.sort(contacts, new Comparator&lt;String&gt;() {\r\n                        @Override\r\n                        public int compare(String lhs, String rhs) {\r\n                            return lhs.compareToIgnoreCase(rhs);\r\n                        }\r\n                    });\r\n        \r\n                    InviteByContactActivity.this.runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            mContactAdapter.notifyDataSetChanged();\r\n                        }\r\n                    });\r\n        \r\n                    return null;\r\n                }\r\n            }\r\n        \r\n            private String getContactTypeString(String typeNum, boolean isPhone) {\r\n                String type = PHONE_TYPES.get(typeNum);\r\n                if (type == null)\r\n                    return &quot;other&quot;;\r\n                return type;\r\n            }\r\n        \r\n            static HashMap&lt;String, String&gt; PHONE_TYPES = new HashMap&lt;String, String&gt;();\r\n        \r\n            static {\r\n                PHONE_TYPES.put(ContactsContract.CommonDataKinds.Phone.TYPE_HOME + &quot;&quot;, &quot;home&quot;);\r\n                PHONE_TYPES.put(ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE + &quot;&quot;, &quot;mobile&quot;);\r\n                PHONE_TYPES.put(ContactsContract.CommonDataKinds.Phone.TYPE_WORK + &quot;&quot;, &quot;work&quot;);\r\n            }\r\n    }\r\n\r\n**Error Log:-**\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example, PID: 6573\r\n                                                                 java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example/com.example.Activity.InviteByContactActivity}: java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation\r\n                                                                  Caused by: java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","title":"java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation","body":"<p>I am facing the problem while retrieving the contacts from the contact book in Android 8.0 Oreo java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation</p>\n\n<p>I am trying to get the contact in my activity from the phone contact book and it works perfect for Lollipop, Marshmallow, Nougat, etc but it will gives me the error for Oreo like this please help me. My code is here below.</p>\n\n<p><strong>Demo Code :-</strong></p>\n\n<pre><code>private void loadContacts() {\n            contactAsync = new ContactLoaderAsync();\n            contactAsync.execute();\n        }\n\n        private class ContactLoaderAsync extends AsyncTask&lt;Void, Void, Void&gt; {\n            private Cursor numCursor;\n\n            @Override\n            protected void onPreExecute() {\n                super.onPreExecute();\n                Uri numContacts = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;\n                String[] numProjection = new String[]{ContactsContract.CommonDataKinds.Phone.CONTACT_ID, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME, ContactsContract.CommonDataKinds.Phone.NUMBER, ContactsContract.CommonDataKinds.Phone.TYPE};\n                if (android.os.Build.VERSION.SDK_INT &lt; 11) {\n                    numCursor = InviteByContactActivity.this.managedQuery(numContacts, numProjection, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + \" COLLATE NOCASE ASC\");\n                } else {\n                    CursorLoader cursorLoader = new CursorLoader(InviteByContactActivity.this, numContacts, numProjection, null, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + \" COLLATE NOCASE ASC\");\n                    numCursor = cursorLoader.loadInBackground();\n                }\n\n            }\n\n            @Override\n            protected Void doInBackground(Void... params) {\n                if (numCursor.moveToFirst()) {\n                    try {\n                        final int contactIdIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.CONTACT_ID);\n                        final int displayNameIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);\n                        final int numberIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\n                        final int typeIndex = numCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.TYPE);\n                        String displayName, number, type;\n                        do {\n                            displayName = numCursor.getString(displayNameIndex);\n                            number = numCursor.getString(numberIndex);\n                            type = getContactTypeString(numCursor.getString(typeIndex), true);\n                            final ContactModel contact = new ContactModel(displayName, type, number);\n                            phoneNumber = number.replaceAll(\" \", \"\").replaceAll(\"\\\\(\", \"\").replaceAll(\"\\\\)\", \"\").replaceAll(\"-\", \"\");\n\n                            if (phoneNumber != null || displayName != null) {\n                                contacts.add(phoneNumber);\n                                contactsName.add(displayName);\n                                contactsChecked.add(false);\n\n                                filterdNames.add(phoneNumber);\n                                filterdContactNames.add(displayName);\n                                filterdCheckedNames.add(false);\n                            }\n                        } while (numCursor.moveToNext());\n                    } finally {\n                        numCursor.close();\n                    }\n                }\n\n\n                Collections.sort(contacts, new Comparator&lt;String&gt;() {\n                    @Override\n                    public int compare(String lhs, String rhs) {\n                        return lhs.compareToIgnoreCase(rhs);\n                    }\n                });\n\n                InviteByContactActivity.this.runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        mContactAdapter.notifyDataSetChanged();\n                    }\n                });\n\n                return null;\n            }\n        }\n\n        private String getContactTypeString(String typeNum, boolean isPhone) {\n            String type = PHONE_TYPES.get(typeNum);\n            if (type == null)\n                return \"other\";\n            return type;\n        }\n\n        static HashMap&lt;String, String&gt; PHONE_TYPES = new HashMap&lt;String, String&gt;();\n\n        static {\n            PHONE_TYPES.put(ContactsContract.CommonDataKinds.Phone.TYPE_HOME + \"\", \"home\");\n            PHONE_TYPES.put(ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE + \"\", \"mobile\");\n            PHONE_TYPES.put(ContactsContract.CommonDataKinds.Phone.TYPE_WORK + \"\", \"work\");\n        }\n}\n</code></pre>\n\n<p><strong>Error Log:-</strong></p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example, PID: 6573\n                                                             java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example/com.example.Activity.InviteByContactActivity}: java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation\n                                                              Caused by: java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation\n</code></pre>\n"},{"tags":["java","rest","sharepoint","sharepoint-online"],"answers":[{"tags":[],"owner":{"account_id":3379326,"reputation":1397,"user_id":2836750,"accept_rate":30,"display_name":"Muhammad Murad Haider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802555,"creation_date":1692802555,"answer_id":76962601,"question_id":76956187,"body_markdown":"you may need separate API calls for this. you can get lists/document libraries using `&#39;_api/web/lists&#39;` endpoint. Then for each list you can hit `&#39;list/getbytitle(&#39;listname&#39;)/items&#39;` endpoint to get list&#39;s items. **Here the catch is, you can use filter parameter to get only the folders i.e. &#39;$filter= &#39;FileSystemObjectType = 1&#39;**. This should return you only the folders in the response.","title":"Can&#39;t list folders using SharePoint REST API","body":"<p>you may need separate API calls for this. you can get lists/document libraries using <code>'_api/web/lists'</code> endpoint. Then for each list you can hit <code>'list/getbytitle('listname')/items'</code> endpoint to get list's items. <strong>Here the catch is, you can use filter parameter to get only the folders i.e. '$filter= 'FileSystemObjectType = 1'</strong>. This should return you only the folders in the response.</p>\n"},{"tags":[],"owner":{"account_id":22330835,"reputation":702,"user_id":16552137,"display_name":"RaytheonXie-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693469257,"creation_date":1693469257,"answer_id":77013939,"question_id":76956187,"body_markdown":"You could use following apis to get items under a list\r\n\r\n    /sites/xxx.sharepoint.com,{siteid}/lists/{listid}/drive/root/children","title":"Can&#39;t list folders using SharePoint REST API","body":"<p>You could use following apis to get items under a list</p>\n<pre><code>/sites/xxx.sharepoint.com,{siteid}/lists/{listid}/drive/root/children\n</code></pre>\n"}],"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693469257,"creation_date":1692730771,"question_id":76956187,"body_markdown":"Based on Microsoft Sharepoint [Documentation Here][1] I am trying to list my Sharepoint application document libraries &amp; folders using the REST API.\r\n\r\nI have tried by Java using apache HTTP client and using Postman in both ways failing with status code 400 and error message: **Value does not fall within the expected range.**\r\n\r\nBelow is the response error messages:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;m:error xmlns:m=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;&gt;\r\n        &lt;m:code&gt;-2147024809, System.ArgumentException&lt;/m:code&gt;\r\n        &lt;m:message xml:lang=&quot;en-US&quot;&gt;Value does not fall within the expected range.&lt;/m:message&gt;\r\n    &lt;/m:error&gt;\r\n\r\nHere is a screenshot of the postman:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n \r\nI am using  **NTLM Authentication**\r\n\r\nHere is my java code sample (test case):\r\n\r\n\r\n    @Test\r\n    public void testListFolders() {\r\n        // SharePoint site URL and API endpoint\r\n        String siteUrl = &quot;http://sharepoint2013.MY_SITE_NAME.com/sites/home&quot;;\r\n        String apiEndpoint = &quot;/_api/web/GetFolderByServerRelativeUrl(&#39;/Shared%20Documents&#39;)/Folders&quot;;\r\n    \r\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n        credsProvider.setCredentials(new AuthScope(AuthScope.ANY),\r\n                new NTCredentials(String.join(&quot;:&quot;, &quot;MY_USERNAME&quot;, &quot;MY_PASSWORD&quot;)));\r\n    \r\n        RequestConfig defaultRequestConfig = RequestConfig.custom()\r\n                .setExpectContinueEnabled(false)\r\n                .setTargetPreferredAuthSchemes(Arrays.asList(AuthSchemes.NTLM, AuthSchemes.DIGEST))\r\n                .setProxyPreferredAuthSchemes(Collections.singletonList(AuthSchemes.BASIC))\r\n                .build();\r\n    \r\n        // Create HttpClient instance\r\n        CloseableHttpClient httpClient = HttpClients.custom()\r\n                                                    .setDefaultCredentialsProvider(credsProvider)\r\n                                                    .setDefaultRequestConfig(defaultRequestConfig)\r\n                                                    .build();\r\n        // Create HTTP GET request\r\n        HttpGet request = new HttpGet(siteUrl + apiEndpoint);\r\n        request.setHeader(HttpHeaders.ACCEPT, &quot;application/json;odata=verbose&quot;);\r\n    \r\n        try {\r\n            // Execute the request\r\n            HttpResponse response = httpClient.execute(request);\r\n            System.out.println(&quot;Status code: &quot; + response.getStatusLine().getStatusCode());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                httpClient.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThe status code is always 400 and same error message as form Postman.\r\n\r\nIf I replace the endpoint for this test case to be the endpoint to list Sharepoint list: `/_api/web/Lists/?$Select=Title%2CIsApplicationList%2CContentTypesEnabled%2CHidden%2CBaseType%2CItemCount%2CIsCatalog&amp;$Filter=BaseType%20eq%200%20and%20Hidden%20eq%20false` it will work fine and return a valid response and status code 200\r\n\r\n - Is there a specific header I am missing to list folders from\r\n   Sharepoint using the REST API? \r\n - Or is there some permissions or\r\n   configurations I need to set/enable from Sharepoint application?\r\n - Or is there something wrong in the code / request I am doing?\r\n\r\n  [1]: http://sharepoint2013.incortaops.com/sites/home/_api/web/GetFolderByServerRelativeUrl/%28%27Shared+Documents%27%29\r\n  [2]: https://i.stack.imgur.com/rXj1N.png\r\n","title":"Can&#39;t list folders using SharePoint REST API","body":"<p>Based on Microsoft Sharepoint <a href=\"http://sharepoint2013.incortaops.com/sites/home/_api/web/GetFolderByServerRelativeUrl/%28%27Shared+Documents%27%29\" rel=\"nofollow noreferrer\">Documentation Here</a> I am trying to list my Sharepoint application document libraries &amp; folders using the REST API.</p>\n<p>I have tried by Java using apache HTTP client and using Postman in both ways failing with status code 400 and error message: <strong>Value does not fall within the expected range.</strong></p>\n<p>Below is the response error messages:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;m:error xmlns:m=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;&gt;\n    &lt;m:code&gt;-2147024809, System.ArgumentException&lt;/m:code&gt;\n    &lt;m:message xml:lang=&quot;en-US&quot;&gt;Value does not fall within the expected range.&lt;/m:message&gt;\n&lt;/m:error&gt;\n</code></pre>\n<p>Here is a screenshot of the postman:</p>\n<p><a href=\"https://i.stack.imgur.com/rXj1N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXj1N.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using  <strong>NTLM Authentication</strong></p>\n<p>Here is my java code sample (test case):</p>\n<pre><code>@Test\npublic void testListFolders() {\n    // SharePoint site URL and API endpoint\n    String siteUrl = &quot;http://sharepoint2013.MY_SITE_NAME.com/sites/home&quot;;\n    String apiEndpoint = &quot;/_api/web/GetFolderByServerRelativeUrl('/Shared%20Documents')/Folders&quot;;\n\n    CredentialsProvider credsProvider = new BasicCredentialsProvider();\n    credsProvider.setCredentials(new AuthScope(AuthScope.ANY),\n            new NTCredentials(String.join(&quot;:&quot;, &quot;MY_USERNAME&quot;, &quot;MY_PASSWORD&quot;)));\n\n    RequestConfig defaultRequestConfig = RequestConfig.custom()\n            .setExpectContinueEnabled(false)\n            .setTargetPreferredAuthSchemes(Arrays.asList(AuthSchemes.NTLM, AuthSchemes.DIGEST))\n            .setProxyPreferredAuthSchemes(Collections.singletonList(AuthSchemes.BASIC))\n            .build();\n\n    // Create HttpClient instance\n    CloseableHttpClient httpClient = HttpClients.custom()\n                                                .setDefaultCredentialsProvider(credsProvider)\n                                                .setDefaultRequestConfig(defaultRequestConfig)\n                                                .build();\n    // Create HTTP GET request\n    HttpGet request = new HttpGet(siteUrl + apiEndpoint);\n    request.setHeader(HttpHeaders.ACCEPT, &quot;application/json;odata=verbose&quot;);\n\n    try {\n        // Execute the request\n        HttpResponse response = httpClient.execute(request);\n        System.out.println(&quot;Status code: &quot; + response.getStatusLine().getStatusCode());\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            httpClient.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The status code is always 400 and same error message as form Postman.</p>\n<p>If I replace the endpoint for this test case to be the endpoint to list Sharepoint list: <code>/_api/web/Lists/?$Select=Title%2CIsApplicationList%2CContentTypesEnabled%2CHidden%2CBaseType%2CItemCount%2CIsCatalog&amp;$Filter=BaseType%20eq%200%20and%20Hidden%20eq%20false</code> it will work fine and return a valid response and status code 200</p>\n<ul>\n<li>Is there a specific header I am missing to list folders from\nSharepoint using the REST API?</li>\n<li>Or is there some permissions or\nconfigurations I need to set/enable from Sharepoint application?</li>\n<li>Or is there something wrong in the code / request I am doing?</li>\n</ul>\n"},{"tags":["java","android","android-ffmpeg"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693376493,"post_id":77000749,"comment_id":135750683,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1117539,"reputation":2100,"user_id":1106547,"accept_rate":63,"display_name":"mortalis"},"score":0,"creation_date":1693409654,"post_id":77000749,"comment_id":135757867,"body_markdown":"Why do you need to compile ffmpeg kit (or your project with it)? It provides a ready to use interface for Java. Anyway post you code, build.gradle, Android.mk, code that uses ffmpeg kit.","body":"Why do you need to compile ffmpeg kit (or your project with it)? It provides a ready to use interface for Java. Anyway post you code, build.gradle, Android.mk, code that uses ffmpeg kit."},{"owner":{"account_id":23769200,"reputation":1,"user_id":20485336,"display_name":"Kenan Bandaliyev"},"score":0,"creation_date":1693468097,"post_id":77000749,"comment_id":135765651,"body_markdown":"By compiling it i mean to build AOSP. I am including the Android.mk file with the compilation comment in my original post with the script.","body":"By compiling it i mean to build AOSP. I am including the Android.mk file with the compilation comment in my original post with the script."}],"owner":{"account_id":23769200,"reputation":1,"user_id":20485336,"display_name":"Kenan Bandaliyev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693469142,"creation_date":1693316398,"question_id":77000749,"body_markdown":"I have a codebase consisting of java code that i can run in android studio. I use ffmpeg-kit as external library and it works fine in android studio. But I have to compile it using an Android.mk file and I get the .so files not found error. I tried including them in a separate mk file where I declare them as separate modules and build but still get the same issue. \r\nWhen I analyze the apk file generated I cannot see the lib folder where so files with their respective abis are located. \r\n\r\nEdit: Android.mk file: \r\n\r\n\r\n```\r\nLOCAL_PATH:= $(call my-dir)\r\n\r\ninclude $(CLEAR_VARS)\r\nLOCAL_MODULE := libabidect\r\nLOCAL_SRC_FILES := src/jni/libffmpegkit_abidetect.so\r\ninclude $(PREBUILT_SHARED_LIBRARY)\r\ninclude $(CLEAR_VARS)\r\nLOCAL_MODULE := ffmpegkit\r\nLOCAL_SRC_FILES := ffmpegkit.c\r\nLOCAL_LDLIBS := -llog\r\nLOCAL_SHARED_LIBRARIES := libabidect\r\nLOCAL_C_INCLUDES := ffmpegkit\r\ninclude $(BUILD_SHARED_LIBRARY)\r\n\r\ninclude $(CLEAR_VARS)\r\nLOCAL_SYSTEM_EXT_MODULE := true\r\nLOCAL_MODULE_OWNER := mtk\r\nLOCAL_MODULE_TAGS := optional\r\nLOCAL_CERTIFICATE := platform\r\n\r\nLOCAL_STATIC_ANDROID_LIBRARIES := \\\r\n    android-support-constraint-layout \\\r\n    android-support-v17-leanback \\\r\n    android-support-design \\\r\n    android-support-v4 \\\r\n\r\nLOCAL_STATIC_JAVA_AAR_LIBRARIES := \\\r\n    lottie \\\r\n    ffmpeg \\\r\n\r\nLOCAL_STATIC_JAVA_LIBRARIES := \\\r\n    android-support-constraint-layout-solver \\\r\n    com.mediatek.support.factory \\\r\n    aaa \\\r\n    AudioAnalyzer \\\r\n    javaee-api \\ \r\n\r\nLOCAL_RESOURCE_DIR := \\\r\n    $(LOCAL_PATH)/res\r\nLOCAL_USE_AAPT2 := true\r\nLOCAL_SRC_FILES := \\\r\n    $(call all-java-files-under, src)\r\n\r\nLOCAL_PACKAGE_NAME := PACKAGE_NAME\r\nLOCAL_PROGUARD_FLAG_FILES := proguard.flags\r\nLOCAL_PRIVATE_PLATFORM_APIS := true\r\nLOCAL_DEX_PREOPT := false\r\ninclude $(BUILD_PACKAGE)\r\n\r\ninclude $(CLEAR_VARS)\r\n LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := \\\r\n    lottie:libs/lottie-2.7.0.aar \\\r\n    AudioAnalyzer:libs/AudioAnalyzer.jar \\\r\n    ffmpeg:libs/ ffmpeg-kit-full-gpl-6.0.aar \\\r\n    javaee-api:libs/javaee-api-8.0.1.jar \\\r\n\r\nLOCAL_SHARED_LIBRARIES := libabidect \r\ninclude $(BUILD_MULTI_PREBUILT)\r\n```\r\n\r\nBuild script:\r\n```\r\n# Prepare some environment variables before build\r\nexport JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\r\n\r\n# Apply patch before build\r\n# bash vendor/mediatek/tv/build/android/android_r_base_build_fusion.sh\r\nsource build/envsetup.sh\r\n\r\nm -j4 WEEKLY_BUILD_TYPE=PRETEST EMMC_SIZE=16G PACKAGE\r\n```\r\n","title":"İncluding .so files in Android.mk builds","body":"<p>I have a codebase consisting of java code that i can run in android studio. I use ffmpeg-kit as external library and it works fine in android studio. But I have to compile it using an Android.mk file and I get the .so files not found error. I tried including them in a separate mk file where I declare them as separate modules and build but still get the same issue.\nWhen I analyze the apk file generated I cannot see the lib folder where so files with their respective abis are located.</p>\n<p>Edit: Android.mk file:</p>\n<pre><code>LOCAL_PATH:= $(call my-dir)\n\ninclude $(CLEAR_VARS)\nLOCAL_MODULE := libabidect\nLOCAL_SRC_FILES := src/jni/libffmpegkit_abidetect.so\ninclude $(PREBUILT_SHARED_LIBRARY)\ninclude $(CLEAR_VARS)\nLOCAL_MODULE := ffmpegkit\nLOCAL_SRC_FILES := ffmpegkit.c\nLOCAL_LDLIBS := -llog\nLOCAL_SHARED_LIBRARIES := libabidect\nLOCAL_C_INCLUDES := ffmpegkit\ninclude $(BUILD_SHARED_LIBRARY)\n\ninclude $(CLEAR_VARS)\nLOCAL_SYSTEM_EXT_MODULE := true\nLOCAL_MODULE_OWNER := mtk\nLOCAL_MODULE_TAGS := optional\nLOCAL_CERTIFICATE := platform\n\nLOCAL_STATIC_ANDROID_LIBRARIES := \\\n    android-support-constraint-layout \\\n    android-support-v17-leanback \\\n    android-support-design \\\n    android-support-v4 \\\n\nLOCAL_STATIC_JAVA_AAR_LIBRARIES := \\\n    lottie \\\n    ffmpeg \\\n\nLOCAL_STATIC_JAVA_LIBRARIES := \\\n    android-support-constraint-layout-solver \\\n    com.mediatek.support.factory \\\n    aaa \\\n    AudioAnalyzer \\\n    javaee-api \\ \n\nLOCAL_RESOURCE_DIR := \\\n    $(LOCAL_PATH)/res\nLOCAL_USE_AAPT2 := true\nLOCAL_SRC_FILES := \\\n    $(call all-java-files-under, src)\n\nLOCAL_PACKAGE_NAME := PACKAGE_NAME\nLOCAL_PROGUARD_FLAG_FILES := proguard.flags\nLOCAL_PRIVATE_PLATFORM_APIS := true\nLOCAL_DEX_PREOPT := false\ninclude $(BUILD_PACKAGE)\n\ninclude $(CLEAR_VARS)\n LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := \\\n    lottie:libs/lottie-2.7.0.aar \\\n    AudioAnalyzer:libs/AudioAnalyzer.jar \\\n    ffmpeg:libs/ ffmpeg-kit-full-gpl-6.0.aar \\\n    javaee-api:libs/javaee-api-8.0.1.jar \\\n\nLOCAL_SHARED_LIBRARIES := libabidect \ninclude $(BUILD_MULTI_PREBUILT)\n</code></pre>\n<p>Build script:</p>\n<pre><code># Prepare some environment variables before build\nexport JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\n\n# Apply patch before build\n# bash vendor/mediatek/tv/build/android/android_r_base_build_fusion.sh\nsource build/envsetup.sh\n\nm -j4 WEEKLY_BUILD_TYPE=PRETEST EMMC_SIZE=16G PACKAGE\n</code></pre>\n"},{"tags":["java","vector","3d","processing"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1693702466,"post_id":76921845,"comment_id":135795365,"body_markdown":"User Rabbid76 already answered this a couple of years ago: https://stackoverflow.com/questions/69669771/calculate-rotation-to-align-object-with-two-points-in-3d-space . (Wish the search worked a bit better to get you there sooner).","body":"User Rabbid76 already answered this a couple of years ago: <a href=\"https://stackoverflow.com/questions/69669771/calculate-rotation-to-align-object-with-two-points-in-3d-space\" title=\"calculate rotation to align object with two points in 3d space\">stackoverflow.com/questions/69669771/&hellip;</a> . (Wish the search worked a bit better to get you there sooner)."}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693702391,"answer_count":0,"score":0,"last_activity_date":1693469108,"creation_date":1692277793,"question_id":76921845,"body_markdown":"I need to rotate the rectangle in the following code to align with the line, as in the smaller faces of the rectangle are facing the ends of the line. How wold a rotation of a rectangle to a line or vector work in processing?\r\n\r\n[![Rectangle to rotate to line&#39;s direction][1]][1]\r\n\r\n    import peasy.*;\r\n    \r\n    int r = int(random(0, 256));\r\n    int g = int(random(0, 256));\r\n    int b = int(random(0, 256));\r\n    \r\n    \r\n    void setup() {\r\n    \r\n      size(430, 760, P3D);\r\n      frameRate(60);\r\n    \r\n      PeasyCam cam = new PeasyCam(this, 0, 0, 0, 2000);\r\n      cam.setMinimumDistance(50);\r\n      cam.setMaximumDistance(2000);\r\n    \r\n    }\r\n    \r\n    void draw() {\r\n      ambientLight(128, 128, 128);\r\n      background(28);\r\n      \r\n      stroke(color(r,  g, b));\r\n    \r\n      line(-500, -500, -500, 500, 500, 500);\r\n      \r\n      box(200, 50, 50);\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z3NAk.jpg","title":"Rotate Object to the Same Direction as a Vector or Line","body":"<p>I need to rotate the rectangle in the following code to align with the line, as in the smaller faces of the rectangle are facing the ends of the line. How wold a rotation of a rectangle to a line or vector work in processing?</p>\n<p><a href=\"https://i.stack.imgur.com/z3NAk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3NAk.jpg\" alt=\"Rectangle to rotate to line's direction\" /></a></p>\n<pre><code>import peasy.*;\n\nint r = int(random(0, 256));\nint g = int(random(0, 256));\nint b = int(random(0, 256));\n\n\nvoid setup() {\n\n  size(430, 760, P3D);\n  frameRate(60);\n\n  PeasyCam cam = new PeasyCam(this, 0, 0, 0, 2000);\n  cam.setMinimumDistance(50);\n  cam.setMaximumDistance(2000);\n\n}\n\nvoid draw() {\n  ambientLight(128, 128, 128);\n  background(28);\n  \n  stroke(color(r,  g, b));\n\n  line(-500, -500, -500, 500, 500, 500);\n  \n  box(200, 50, 50);\n\n}\n</code></pre>\n"},{"tags":["java","jpa","gradle","spring-data-jpa","querydsl"],"comments":[{"owner":{"account_id":10558379,"reputation":569,"user_id":7778833,"display_name":"Amy Doxy"},"score":0,"creation_date":1693448312,"post_id":72336122,"comment_id":135763470,"body_markdown":"I had QueryDsl working with Gradle 6.9 but when upgraded to 7.2, Qclasses generation stopped working, Anyone knows how to fix it?","body":"I had QueryDsl working with Gradle 6.9 but when upgraded to 7.2, Qclasses generation stopped working, Anyone knows how to fix it?"}],"answers":[{"tags":[],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693468910,"creation_date":1693468910,"answer_id":77013891,"question_id":72336122,"body_markdown":"Working configuration for Spring Cloud `2021.0.8`/Spring Boot `2.6.15` and Gradle `8.3`\r\n\r\n    implementation &#39;com.querydsl:querydsl-jpa:5.0.0&#39;\r\n    annotationProcessor &#39;org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.2.Final&#39;\r\n    annotationProcessor &#39;com.querydsl:querydsl-apt:5.0.0:jpa&#39;\r\n\r\n","title":"Querydsl configuration for Gradle 7.4.2","body":"<p>Working configuration for Spring Cloud <code>2021.0.8</code>/Spring Boot <code>2.6.15</code> and Gradle <code>8.3</code></p>\n<pre><code>implementation 'com.querydsl:querydsl-jpa:5.0.0'\nannotationProcessor 'org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.2.Final'\nannotationProcessor 'com.querydsl:querydsl-apt:5.0.0:jpa'\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693468910,"creation_date":1653209980,"question_id":72336122,"body_markdown":"I have a Gradle project into which I want to implement Java class with querydsl. I tried this implementation:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.7&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;test&#39;\r\n    version = &#39;0.0.1&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2021.0.2&quot;)\r\n        queryDslVersion = &#39;5.0.0&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.hibernate.validator:hibernate-validator&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        implementation &#39;joda-time:joda-time:2.10.14&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-hateoas:2.6.7&#39;\r\n        implementation &#39;org.postgresql:postgresql&#39;\r\n        implementation &#39;org.jadira.usertype:usertype.core:7.0.0.CR1&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap:3.1.2&#39;\r\n        implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    \r\n        // QueryDSL\r\n        implementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\r\n        annotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\r\n        testImplementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\r\n        testAnnotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\r\n        \r\n        // Lombok\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n        // Swagger\r\n        implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.8&#39;\r\n    \r\n        implementation &#39;org.liquibase:liquibase-core&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nBut JPA classes are not generated. I get exception:\r\n\r\n    import com.test.domain.QTransaction;\r\n                           ^\r\n      symbol:   class QTransaction\r\n      location: package com.test.domain\r\n\r\nDo you know what is the proper way to implement this?","title":"Querydsl configuration for Gradle 7.4.2","body":"<p>I have a Gradle project into which I want to implement Java class with querydsl. I tried this implementation:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.7'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'test'\nversion = '0.0.1'\nsourceCompatibility = '17'\n\next {\n    set('springCloudVersion', &quot;2021.0.2&quot;)\n    queryDslVersion = '5.0.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.hibernate.validator:hibernate-validator'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'joda-time:joda-time:2.10.14'\n    implementation 'org.springframework.boot:spring-boot-starter-hateoas:2.6.7'\n    implementation 'org.postgresql:postgresql'\n    implementation 'org.jadira.usertype:usertype.core:7.0.0.CR1'\n    implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap:3.1.2'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'com.google.code.gson:gson:2.9.0'\n\n    // QueryDSL\n    implementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\n    annotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\n    testImplementation &quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;\n    testAnnotationProcessor &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jpa&quot;\n    \n    // Lombok\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n    // Swagger\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.8'\n\n    implementation 'org.liquibase:liquibase-core'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>But JPA classes are not generated. I get exception:</p>\n<pre><code>import com.test.domain.QTransaction;\n                       ^\n  symbol:   class QTransaction\n  location: package com.test.domain\n</code></pre>\n<p>Do you know what is the proper way to implement this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569861918,"creation_date":1569861918,"answer_id":58172063,"question_id":58171970,"body_markdown":"    System.out.println(((Parent) c).getX());    //2\r\n\r\nThis dispatches to `Child.getX()` because of polymorphism. Then the variable resolution rules apply in the context of this method. They aren&#39;t overridden. So yes, you are essentially correct.","title":"Java instance variable resolution in Java is confusing;","body":"<pre><code>System.out.println(((Parent) c).getX());    //2\n</code></pre>\n\n<p>This dispatches to <code>Child.getX()</code> because of polymorphism. Then the variable resolution rules apply in the context of this method. They aren't overridden. So yes, you are essentially correct.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569862333,"creation_date":1569862333,"answer_id":58172165,"question_id":58171970,"body_markdown":"Methods and variables behave differently. Variables do not get inherited or participate in polymorphism.\r\n\r\nThe Parent and Child classes each have their own distinct variable x. One doesn&#39;t override the other. You can use the cast to specify that you want the Parent&#39;s x, not the Child&#39;s.\r\n\r\nWith the method, it doesn&#39;t matter what cast you stick on it, when calling the Child you get the overridden version of getX. (Within a method of the Child you can call super.getX to get the parent&#39;s version of the method.)\r\n\r\nTLDR: variable resolution rules don&#39;t apply to methods. Polmorphism doesn&#39;t apply to variables.\r\n\r\n\r\n","title":"Java instance variable resolution in Java is confusing;","body":"<p>Methods and variables behave differently. Variables do not get inherited or participate in polymorphism.</p>\n\n<p>The Parent and Child classes each have their own distinct variable x. One doesn't override the other. You can use the cast to specify that you want the Parent's x, not the Child's.</p>\n\n<p>With the method, it doesn't matter what cast you stick on it, when calling the Child you get the overridden version of getX. (Within a method of the Child you can call super.getX to get the parent's version of the method.)</p>\n\n<p>TLDR: variable resolution rules don't apply to methods. Polmorphism doesn't apply to variables.</p>\n"},{"tags":[],"owner":{"account_id":2060716,"reputation":1666,"user_id":1837314,"display_name":"kotoole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569862614,"creation_date":1569862614,"answer_id":58172221,"question_id":58171970,"body_markdown":"Polymorphism is a mechanism applied before calling a method, which always looks for the most specific override in the whole chain of subclasses, regardless of the instance&#39;s declared type.\r\n\r\nThere is no such mechanism for fields. Giving the two variables the same name &quot;x&quot; does not connect them in any way, so giving those two fields the same name will likely only serve to confuse future readers of your code.","title":"Java instance variable resolution in Java is confusing;","body":"<p>Polymorphism is a mechanism applied before calling a method, which always looks for the most specific override in the whole chain of subclasses, regardless of the instance's declared type.</p>\n\n<p>There is no such mechanism for fields. Giving the two variables the same name \"x\" does not connect them in any way, so giving those two fields the same name will likely only serve to confuse future readers of your code.</p>\n"},{"tags":[],"owner":{"account_id":29314563,"reputation":1,"user_id":22459619,"display_name":"Vaishnavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693468248,"creation_date":1693468248,"answer_id":77013801,"question_id":58171970,"body_markdown":"Variable resolution is based on the reference type.\r\nThe reference is of parent type so it will get the value of x of the parent class.\r\n\r\nwhile;\r\nThe Method resolution is based on the runtime object.\r\nThe runtime object is of a child class so the method resolution with getX() will get the value of x of the child class.\r\n\r\n","title":"Java instance variable resolution in Java is confusing;","body":"<p>Variable resolution is based on the reference type.\nThe reference is of parent type so it will get the value of x of the parent class.</p>\n<p>while;\nThe Method resolution is based on the runtime object.\nThe runtime object is of a child class so the method resolution with getX() will get the value of x of the child class.</p>\n"}],"owner":{"account_id":7096033,"reputation":1005,"user_id":5429587,"accept_rate":52,"display_name":"Brendon Cheung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1693468248,"creation_date":1569861463,"question_id":58171970,"body_markdown":"I am studying for my OCA exam and came across this problem and It is very confusing.\r\n\r\nVariable resolution always based on reference type instead of the runtime object. So if my parent and child class look like this:\r\n\r\n    class Parent {\r\n    \r\n        public int x = 1;\r\n    \r\n        public int getX() {\r\n            return x;\r\n        }\r\n    }\r\n    \r\n    class Child extends Parent {\r\n        public int x = 2;\r\n    \r\n        public int getX() {\r\n            return x;\r\n        }\r\n    }\r\n\r\n\r\nBased on the rules (variable resolution is always based on reference type), the following code is behaving as expected:\r\n        \r\n        Child c = new Child();\r\n        System.out.println(c.x);                    //2\r\n        System.out.println(((Parent) c).x);         //1\r\n\r\nHowever. if I retrieve the variables by using the getter defined in the parent and child class, then I get this:\r\n\r\n        Child c = new Child();\r\n        System.out.println(c.getX());               //2\r\n        System.out.println(((Parent) c).getX());    //2\r\n\r\nShouldn&#39;t it print the same as if I was to access the variable directly? why would getting the variable via getter be different than getting the variable directly?\r\n\r\n**One theory I have is this:**\r\n\r\nSince instance method resolution is based on runtime object, therefore it overrides the variable resolution rule. In other words, the compiler will resolve the getter methods to the child class since instance method resolution is based on runtime object. Am I right?\r\n\r\nThank you\r\n\r\n\r\n\r\n","title":"Java instance variable resolution in Java is confusing;","body":"<p>I am studying for my OCA exam and came across this problem and It is very confusing.</p>\n\n<p>Variable resolution always based on reference type instead of the runtime object. So if my parent and child class look like this:</p>\n\n<pre><code>class Parent {\n\n    public int x = 1;\n\n    public int getX() {\n        return x;\n    }\n}\n\nclass Child extends Parent {\n    public int x = 2;\n\n    public int getX() {\n        return x;\n    }\n}\n</code></pre>\n\n<p>Based on the rules (variable resolution is always based on reference type), the following code is behaving as expected:</p>\n\n<pre><code>    Child c = new Child();\n    System.out.println(c.x);                    //2\n    System.out.println(((Parent) c).x);         //1\n</code></pre>\n\n<p>However. if I retrieve the variables by using the getter defined in the parent and child class, then I get this:</p>\n\n<pre><code>    Child c = new Child();\n    System.out.println(c.getX());               //2\n    System.out.println(((Parent) c).getX());    //2\n</code></pre>\n\n<p>Shouldn't it print the same as if I was to access the variable directly? why would getting the variable via getter be different than getting the variable directly?</p>\n\n<p><strong>One theory I have is this:</strong></p>\n\n<p>Since instance method resolution is based on runtime object, therefore it overrides the variable resolution rule. In other words, the compiler will resolve the getter methods to the child class since instance method resolution is based on runtime object. Am I right?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","android","gradle","jvm","kapt"],"answers":[{"tags":[],"owner":{"account_id":18228151,"reputation":26,"user_id":13267539,"display_name":"Marcelo Cz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693468141,"creation_date":1693335800,"answer_id":77003005,"question_id":76884683,"body_markdown":"I solved the issue updating it to JAVA 17:\r\n\r\n```\r\ncompileOptions {\r\n sourceCompatibility = JavaVersion.VERSION_17\r\n targetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nkotlinOptions {\r\n jvmTarget = &quot;17&quot;\r\n}\r\n```\r\n\r\nAlso make sure you have Gradle JDK 17:![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/xw5Gq.png","title":"How to fix org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39; in Android Studio Giraffe?","body":"<p>I solved the issue updating it to JAVA 17:</p>\n<pre><code>compileOptions {\n sourceCompatibility = JavaVersion.VERSION_17\n targetCompatibility = JavaVersion.VERSION_17\n}\n\nkotlinOptions {\n jvmTarget = &quot;17&quot;\n}\n</code></pre>\n<p>Also make sure you have Gradle JDK 17:<img src=\"https://i.stack.imgur.com/xw5Gq.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":4033977,"reputation":6390,"user_id":3319132,"accept_rate":49,"display_name":"reza_khalafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77003005,"answer_count":1,"score":0,"last_activity_date":1693468141,"creation_date":1691766064,"question_id":76884683,"body_markdown":"After successful gradle sync in **Android Studio Giraffe | 2022.3.1**, Getting error like this:\r\n\r\n    Execution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39;.\r\n    &gt; &#39;compileDebugJavaWithJavac&#39; task (current target is 1.8) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 17) jvm target compatibility should be set to the same Java version.\r\n      Consider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\r\n\r\n\r\nbuild.gradle app file:\r\n\r\n    plugins {\r\n        kotlin(&quot;kapt&quot;)\r\n        id(&quot;com.android.application&quot;)\r\n        id(&quot;org.jetbrains.kotlin.android&quot;)\r\n    }\r\n    \r\n    android {\r\n        namespace = &quot;com.test.test&quot;\r\n        compileSdk = 33\r\n    \r\n        defaultConfig {\r\n            applicationId = &quot;com.test.test&quot;\r\n            minSdk = 24\r\n            targetSdk = 33\r\n            versionCode = 1\r\n            versionName = &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables {\r\n                useSupportLibrary = true\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                isMinifyEnabled = false\r\n                proguardFiles(\r\n                    getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\r\n                    &quot;proguard-rules.pro&quot;\r\n                )\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility = JavaVersion.VERSION_1_8\r\n            targetCompatibility = JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &quot;1.8&quot;\r\n        }\r\n        buildFeatures {\r\n            compose = true\r\n        }\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\r\n        }\r\n        packaging {\r\n            resources {\r\n                excludes += &quot;/META-INF/{AL2.0,LGPL2.1}&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;androidx.core:core-ktx:1.10.1&quot;)\r\n        implementation(&quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;)\r\n        implementation(&quot;androidx.activity:activity-compose:1.7.2&quot;)\r\n        implementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\r\n        implementation(&quot;androidx.compose.ui:ui&quot;)\r\n        implementation(&quot;androidx.compose.ui:ui-graphics&quot;)\r\n        implementation(&quot;androidx.compose.ui:ui-tooling-preview&quot;)\r\n        implementation(&quot;androidx.compose.material3:material3&quot;)\r\n        testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n        androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n        androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n        androidTestImplementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\r\n        androidTestImplementation(&quot;androidx.compose.ui:ui-test-junit4&quot;)\r\n        debugImplementation(&quot;androidx.compose.ui:ui-tooling&quot;)\r\n        debugImplementation(&quot;androidx.compose.ui:ui-test-manifest&quot;)\r\n    \r\n    }\r\n    \r\n    // Allow references to generated code\r\n    kapt {\r\n        correctErrorTypes = true\r\n        generateStubs = true\r\n    }\r\n\r\n\r\nAnd build.gradle project file:\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id(&quot;com.android.application&quot;) version &quot;8.1.0&quot; apply false\r\n        id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.10&quot; apply false\r\n    }\r\n\r\nAnd gradle-wrapper.prpertice file:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\nI download several jdk from \r\n\r\n&gt; settings/build tools/gradle\r\n\r\n, But not works.  \r\nPlease help to fix this error.\r\n","title":"How to fix org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39; in Android Studio Giraffe?","body":"<p>After successful gradle sync in <strong>Android Studio Giraffe | 2022.3.1</strong>, Getting error like this:</p>\n<pre><code>Execution failed for task ':app:kaptGenerateStubsDebugKotlin'.\n&gt; 'compileDebugJavaWithJavac' task (current target is 1.8) and 'kaptGenerateStubsDebugKotlin' task (current target is 17) jvm target compatibility should be set to the same Java version.\n  Consider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\n</code></pre>\n<p>build.gradle app file:</p>\n<pre><code>plugins {\n    kotlin(&quot;kapt&quot;)\n    id(&quot;com.android.application&quot;)\n    id(&quot;org.jetbrains.kotlin.android&quot;)\n}\n\nandroid {\n    namespace = &quot;com.test.test&quot;\n    compileSdk = 33\n\n    defaultConfig {\n        applicationId = &quot;com.test.test&quot;\n        minSdk = 24\n        targetSdk = 33\n        versionCode = 1\n        versionName = &quot;1.0&quot;\n\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary = true\n        }\n    }\n\n    buildTypes {\n        release {\n            isMinifyEnabled = false\n            proguardFiles(\n                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\n                &quot;proguard-rules.pro&quot;\n            )\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n    buildFeatures {\n        compose = true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n    }\n    packaging {\n        resources {\n            excludes += &quot;/META-INF/{AL2.0,LGPL2.1}&quot;\n        }\n    }\n}\n\ndependencies {\n    implementation(&quot;androidx.core:core-ktx:1.10.1&quot;)\n    implementation(&quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;)\n    implementation(&quot;androidx.activity:activity-compose:1.7.2&quot;)\n    implementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\n    implementation(&quot;androidx.compose.ui:ui&quot;)\n    implementation(&quot;androidx.compose.ui:ui-graphics&quot;)\n    implementation(&quot;androidx.compose.ui:ui-tooling-preview&quot;)\n    implementation(&quot;androidx.compose.material3:material3&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n    androidTestImplementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\n    androidTestImplementation(&quot;androidx.compose.ui:ui-test-junit4&quot;)\n    debugImplementation(&quot;androidx.compose.ui:ui-tooling&quot;)\n    debugImplementation(&quot;androidx.compose.ui:ui-test-manifest&quot;)\n\n}\n\n// Allow references to generated code\nkapt {\n    correctErrorTypes = true\n    generateStubs = true\n}\n</code></pre>\n<p>And build.gradle project file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id(&quot;com.android.application&quot;) version &quot;8.1.0&quot; apply false\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.10&quot; apply false\n}\n</code></pre>\n<p>And gradle-wrapper.prpertice file:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>I download several jdk from</p>\n<blockquote>\n<p>settings/build tools/gradle</p>\n</blockquote>\n<p>, But not works.<br />\nPlease help to fix this error.</p>\n"},{"tags":["java","playframework","hot-reload"],"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693467209,"creation_date":1693467209,"question_id":77013697,"body_markdown":"my application using Java framework (v2.8.16) sbt (v1.5.5), Play-Ebean plugin (v6.2.0-RC7),  and have multi-module setup. In Play&#39;s development mode there is a hot code reloading feature that seems to get fail when one class from Module A extend/implements class from Module B\r\n\r\nits a error like \r\n\r\n``` Caused by: java.lang.ClassCastException: class controllers.moduleB.ModuleBClass cannot be cast to class controllers.moduleB.ModuleBClass(controllers.shared.api.auth.JwtCommonProfile is in unnamed module of l\r\noader play.runsupport.DelegatedResourcesClassLoader @5d340c5; controllers.moduleB.ModuleBClass is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @4263d364)\r\nat controllers.moduleA.ModuleAClass.method(ModuleAClass.java:18) \r\n```\r\n\r\n\r\nModuleA included ModuleB like that (from build.sbt)\r\n\r\n\r\n\r\n``` \r\nlazy val modB: sbt.ProjectReference = RootProject(file(&quot;../moduleB&quot;))\r\n\r\nlazy val moduleA = (project in file(&quot;.&quot;)).enablePlugins(ABC, XYZ)\r\n    .dependsOn(modB % &quot;compile-&gt;compile;test-&gt;test&quot;)\r\n\r\n```\r\n\r\n\r\n\r\n        \r\n ","title":"Play Framwork Java hot reloading fails for Multi module app","body":"<p>my application using Java framework (v2.8.16) sbt (v1.5.5), Play-Ebean plugin (v6.2.0-RC7),  and have multi-module setup. In Play's development mode there is a hot code reloading feature that seems to get fail when one class from Module A extend/implements class from Module B</p>\n<p>its a error like</p>\n<pre><code>oader play.runsupport.DelegatedResourcesClassLoader @5d340c5; controllers.moduleB.ModuleBClass is in unnamed module of loader play.runsupport.DelegatedResourcesClassLoader @4263d364)\nat controllers.moduleA.ModuleAClass.method(ModuleAClass.java:18) \n</code></pre>\n<p>ModuleA included ModuleB like that (from build.sbt)</p>\n<pre><code>lazy val modB: sbt.ProjectReference = RootProject(file(&quot;../moduleB&quot;))\n\nlazy val moduleA = (project in file(&quot;.&quot;)).enablePlugins(ABC, XYZ)\n    .dependsOn(modB % &quot;compile-&gt;compile;test-&gt;test&quot;)\n\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1090,"reputation":36365,"user_id":1448,"accept_rate":53,"display_name":"cnu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1230234846,"creation_date":1230234846,"answer_id":393131,"question_id":393121,"body_markdown":"Not a Java person, but wouldn&#39;t a `&quot;Address: (.*)$&quot;` work? \r\n\r\nEdit: Without the Pattern.MULTILINE | Pattern.DOTALL option it should match only on that line.\r\n","title":"Regular Expression to extract label-value pairs in Java","body":"<p>Not a Java person, but wouldn't a <code>\"Address: (.*)$\"</code> work? </p>\n\n<p>Edit: Without the Pattern.MULTILINE | Pattern.DOTALL option it should match only on that line.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1230236449,"creation_date":1230235051,"answer_id":393137,"question_id":393121,"body_markdown":"Can it contain a newline? If it cannot contain a newline, you don&#39;t need to use the multiline modifier, and can do instead\r\n\r\n    Pattern p = Pattern.compile(&quot;^Address: (.*)$&quot;);\r\n\r\nIf it can, an alternative I can think of is\r\n\r\n    Pattern p = Pattern.compile(&quot;Address: (.*)\\nCountry&quot;, Pattern.MULTILINE);\r\n\r\nWithout the DOTALL, the dot won&#39;t match a newline, so you can explicitly specify it in the regexp, allowing you to do what you asked about.","title":"Regular Expression to extract label-value pairs in Java","body":"<p>Can it contain a newline? If it cannot contain a newline, you don't need to use the multiline modifier, and can do instead</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^Address: (.*)$\");\n</code></pre>\n\n<p>If it can, an alternative I can think of is</p>\n\n<pre><code>Pattern p = Pattern.compile(\"Address: (.*)\\nCountry\", Pattern.MULTILINE);\n</code></pre>\n\n<p>Without the DOTALL, the dot won't match a newline, so you can explicitly specify it in the regexp, allowing you to do what you asked about.</p>\n"},{"comments":[{"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":0,"creation_date":1230239433,"post_id":393183,"comment_id":220128,"body_markdown":"Why use Apache Commons Assert isntead of Java assert?","body":"Why use Apache Commons Assert isntead of Java assert?"}],"tags":[],"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1230238546,"creation_date":1230238546,"answer_id":393183,"question_id":393121,"body_markdown":"You might want to look into [`Properties`][1] class instead of regex. It provides you ways to manage plain text or XML files to represent key-value pairs.\r\n\r\nSo you can read in your example file and then get the values like so after loading to a `Properties` object:\r\n\r\n    Properties properties = new Properties();\r\n    properties.load(/* InputStream of your file */);\r\n\r\n    Assert.assertEquals(&quot;Peter&quot;, properties.getProperty(&quot;Name&quot;));\r\n    Assert.assertEquals(&quot;St. Serrano n&#250;mero 12, Espa&#241;a&quot;, properties.getProperty(&quot;Address&quot;));\r\n    Assert.assertEquals(&quot;Spain&quot;, properties.getProperty(&quot;Country&quot;));\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/","title":"Regular Expression to extract label-value pairs in Java","body":"<p>You might want to look into <a href=\"http://java.sun.com/javase/6/docs/api/\" rel=\"nofollow noreferrer\"><code>Properties</code></a> class instead of regex. It provides you ways to manage plain text or XML files to represent key-value pairs.</p>\n\n<p>So you can read in your example file and then get the values like so after loading to a <code>Properties</code> object:</p>\n\n<pre><code>Properties properties = new Properties();\nproperties.load(/* InputStream of your file */);\n\nAssert.assertEquals(\"Peter\", properties.getProperty(\"Name\"));\nAssert.assertEquals(\"St. Serrano número 12, España\", properties.getProperty(\"Address\"));\nAssert.assertEquals(\"Spain\", properties.getProperty(\"Country\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1007,"reputation":33914,"user_id":1337,"accept_rate":100,"display_name":"Brad Gilbert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1230250919,"creation_date":1230250919,"answer_id":393315,"question_id":393121,"body_markdown":"You should definitely check out [YAML][yaml.org].\r\n\r\nYou could try [JYaml][jyaml].\r\n\r\nBest of all it has implementations in many languages.\r\n\r\n*ps I have tried the sample text in [YAML::XS][yamlxs], and it works perfectly.*\r\n\r\n   [yaml.org]: http://yaml.org\r\n   [jyaml]:    http://jyaml.sourceforge.net/\r\n   [yamlxs]:   http://search.cpan.org/perldoc?YAML::XS","title":"Regular Expression to extract label-value pairs in Java","body":"<p>You should definitely check out <a href=\"http://yaml.org\" rel=\"nofollow noreferrer\">YAML</a>.</p>\n\n<p>You could try <a href=\"http://jyaml.sourceforge.net/\" rel=\"nofollow noreferrer\">JYaml</a>.</p>\n\n<p>Best of all it has implementations in many languages.</p>\n\n<p><em>ps I have tried the sample text in <a href=\"http://search.cpan.org/perldoc?YAML::XS\" rel=\"nofollow noreferrer\">YAML::XS</a>, and it works perfectly.</em></p>\n"},{"tags":[],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1230258150,"creation_date":1230258150,"answer_id":393399,"question_id":393121,"body_markdown":"I don&#39;t mean to be a stick in the mud, but do you have to use a regex? Why not spare your future self (or others) the headache and do:\r\n\r\n    String line = reader.readLine();\r\n    while(line != null)\r\n    {\r\n        line = line.trim();\r\n        if(line.startsWith(&quot;Address: &quot;))\r\n        {\r\n            return line.substr(&quot;Address: &quot;.length()).trim();\r\n        }\r\n        line = reader.readLine();\r\n    }\r\n    return null;\r\n\r\nOf course this can be parameterized a bit as well and put into a method.\r\n\r\nOtherwise, I&#39;d second the Properties or JYaml suggestions.\r\n","title":"Regular Expression to extract label-value pairs in Java","body":"<p>I don't mean to be a stick in the mud, but do you have to use a regex? Why not spare your future self (or others) the headache and do:</p>\n\n<pre><code>String line = reader.readLine();\nwhile(line != null)\n{\n    line = line.trim();\n    if(line.startsWith(\"Address: \"))\n    {\n        return line.substr(\"Address: \".length()).trim();\n    }\n    line = reader.readLine();\n}\nreturn null;\n</code></pre>\n\n<p>Of course this can be parameterized a bit as well and put into a method.</p>\n\n<p>Otherwise, I'd second the Properties or JYaml suggestions.</p>\n"},{"comments":[{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":0,"creation_date":1230308700,"post_id":393480,"comment_id":220807,"body_markdown":"Thanks. What if address is a multiline field ? Is it possible to capture it with no need to depend on the next field name ?","body":"Thanks. What if address is a multiline field ? Is it possible to capture it with no need to depend on the next field name ?"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1230343131,"post_id":393480,"comment_id":221386,"body_markdown":"Both of Nick&#39;s regexes will match if the Address field is at the end of the input.  Is that what you mean?","body":"Both of Nick&#39;s regexes will match if the Address field is at the end of the input.  Is that what you mean?"}],"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1230266520,"creation_date":1230266520,"answer_id":393480,"question_id":393121,"body_markdown":"Assuming &quot;content&quot; is a string containing the file&#39;s contents, your main problem is that you&#39;re using `matches()` where you should be using `find()`.\r\n\r\n    Pattern p = Pattern.compile(&quot;^Address:\\\\s*(.*)$&quot;, Pattern.MULTILINE);\r\n    Matcher m = p.matcher(content);\r\n    if ( m.find() )\r\n    {\r\n      ...\r\n    }\r\n\r\nThere seems to be some confusion in other answers about MULTLINE and DOTALL modes.  MULTILINE is what lets the `^` and `$` anchors match the beginning and end, respectively, of a logical line.  DOTALL lets the dot (period, full stop, whatever) match line separator characters like `\\n` (linefeed) and `\\r` (carriage return).  This regex **must** use MULTILINE mode and **must not** use DOTALL mode.","title":"Regular Expression to extract label-value pairs in Java","body":"<p>Assuming \"content\" is a string containing the file's contents, your main problem is that you're using <code>matches()</code> where you should be using <code>find()</code>.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^Address:\\\\s*(.*)$\", Pattern.MULTILINE);\nMatcher m = p.matcher(content);\nif ( m.find() )\n{\n  ...\n}\n</code></pre>\n\n<p>There seems to be some confusion in other answers about MULTLINE and DOTALL modes.  MULTILINE is what lets the <code>^</code> and <code>$</code> anchors match the beginning and end, respectively, of a logical line.  DOTALL lets the dot (period, full stop, whatever) match line separator characters like <code>\\n</code> (linefeed) and <code>\\r</code> (carriage return).  This regex <strong>must</strong> use MULTILINE mode and <strong>must not</strong> use DOTALL mode.</p>\n"},{"comments":[{"owner":{"account_id":2578349,"reputation":6772,"user_id":2235567,"accept_rate":90,"display_name":"Aseem Bansal"},"score":0,"creation_date":1445747191,"post_id":394278,"comment_id":54449868,"body_markdown":"Anyone reading this. For the multi-line case the flag DOTALL needs to be passed and ^ and $ need to be removed from the case.","body":"Anyone reading this. For the multi-line case the flag DOTALL needs to be passed and ^ and $ need to be removed from the case."}],"tags":[],"owner":{"account_id":18234,"reputation":47478,"user_id":41613,"accept_rate":68,"display_name":"ʞɔıu"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1230326470,"creation_date":1230325996,"answer_id":394278,"question_id":393121,"body_markdown":"I don&#39;t know Java&#39;s regex objects that well, but something like this pattern will do it:\r\n\r\n    ^Address:\\s*((?:(?!^\\w+:).)+)$\r\n\r\nassuming multiline and dotall modes are on.\r\n\r\nThis will match any line starting with Address, followed by anything until a newline character and a single word followed by a colon.\r\n\r\nIf you know the next field has to be &quot;Country&quot;, you can simplify this a little bit:\r\n\r\n    ^Address:\\s*((?:(?!^Country:).)+)$\r\n\r\nThe trick is in the lookahead assertion in the repeating group. &#39;(?!Country:).&#39; will match everything except the start of the string &#39;Country:&#39;, so we just stick it in noncapturing parentheses (?:...) and quantify it with +, then group all of that in normal capturing parentheses.","title":"Regular Expression to extract label-value pairs in Java","body":"<p>I don't know Java's regex objects that well, but something like this pattern will do it:</p>\n\n<pre><code>^Address:\\s*((?:(?!^\\w+:).)+)$\n</code></pre>\n\n<p>assuming multiline and dotall modes are on.</p>\n\n<p>This will match any line starting with Address, followed by anything until a newline character and a single word followed by a colon.</p>\n\n<p>If you know the next field has to be \"Country\", you can simplify this a little bit:</p>\n\n<pre><code>^Address:\\s*((?:(?!^Country:).)+)$\n</code></pre>\n\n<p>The trick is in the lookahead assertion in the repeating group. '(?!Country:).' will match everything except the start of the string 'Country:', so we just stick it in noncapturing parentheses (?:...) and quantify it with +, then group all of that in normal capturing parentheses.</p>\n"}],"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5645,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":394278,"answer_count":7,"score":7,"last_activity_date":1693466926,"creation_date":1230234275,"question_id":393121,"body_markdown":"I have a file containing several lines similar to:\r\n\r\n    Name: Peter\r\n    Address: St. Serrano n&#250;mero 12, Espa&#241;a\r\n    Country: Spain\r\n\r\nAnd I need to extract the address using a regular expression, taking into account that it can contain dots, special characters (&#241;, &#231;), &#225;&#233;&#237;&#243;&#250;...\r\n\r\nThe current code works, but it looks quite ugly:.\r\n\r\n    Pattern p = Pattern.compile(&quot;^(.+?)Address: ([a-zA-Z0-9&#241;&#209;&#231;&#199;&#225;&#233;&#237;&#243;&#250;., ]+)(.+?)$&quot;,\r\n                                Pattern.MULTILINE | Pattern.DOTALL);\r\n    Matcher m = p.matcher(content);\r\n    if (m.matches()) { ... }\r\n\r\n**Edit: The Address field could also be divided into multiple lines**\r\n\r\n    Name: Peter\r\n    Address: St. Serrano n&#250;mero 12,   \r\n    Madrid\r\n    Espa&#241;a\r\n    Country: Spain\r\n\r\nEdit: I can&#39;t use a Properties object or a YAML parser, as the file contains other kind of information, too.","title":"Regular Expression to extract label-value pairs in Java","body":"<p>I have a file containing several lines similar to:</p>\n\n<pre><code>Name: Peter\nAddress: St. Serrano número 12, España\nCountry: Spain\n</code></pre>\n\n<p>And I need to extract the address using a regular expression, taking into account that it can contain dots, special characters (ñ, ç), áéíóú...</p>\n\n<p>The current code works, but it looks quite ugly:.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^(.+?)Address: ([a-zA-Z0-9ñÑçÇáéíóú., ]+)(.+?)$\",\n                            Pattern.MULTILINE | Pattern.DOTALL);\nMatcher m = p.matcher(content);\nif (m.matches()) { ... }\n</code></pre>\n\n<p><strong>Edit: The Address field could also be divided into multiple lines</strong></p>\n\n<pre><code>Name: Peter\nAddress: St. Serrano número 12,   \nMadrid\nEspaña\nCountry: Spain\n</code></pre>\n\n<p>Edit: I can't use a Properties object or a YAML parser, as the file contains other kind of information, too.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":10,"creation_date":1331011825,"post_id":9578244,"comment_id":12145519,"body_markdown":"How will removing the security from this end solve the problem at the other end? That TrustManager code doesn&#39;t even conform to the specification.","body":"How will removing the security from this end solve the problem at the other end? That TrustManager code doesn&#39;t even conform to the specification."},{"owner":{"account_id":1231886,"reputation":6128,"user_id":1196285,"accept_rate":68,"display_name":"bnguyen82"},"score":0,"creation_date":1331015110,"post_id":9578244,"comment_id":12146214,"body_markdown":"I doesn&#39;t see your point. The problem comes from client side, hence we only need to change it. Which TrustManager code line does not comply with specification?","body":"I doesn&#39;t see your point. The problem comes from client side, hence we only need to change it. Which TrustManager code line does not comply with specification?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":8,"creation_date":1331018978,"post_id":9578244,"comment_id":12147091,"body_markdown":"`getAcceptedIssuers()` is specified never to return null. The code you have posted is radically insecure. It doesn&#39;t solve any problem, it just creates another problem, for example vulnerability to man-in-the-middle attacks.","body":"<code>getAcceptedIssuers()</code> is specified never to return null. The code you have posted is radically insecure. It doesn&#39;t solve any problem, it just creates another problem, for example vulnerability to man-in-the-middle attacks."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":4,"creation_date":1351768130,"post_id":9578244,"comment_id":17930298,"body_markdown":"The code is perfectly all right for testing purposes, but definitely is not suitable for production","body":"The code is perfectly all right for testing purposes, but definitely is not suitable for production"},{"owner":{"account_id":208745,"reputation":1141,"user_id":459431,"display_name":"Jas"},"score":0,"creation_date":1400749434,"post_id":9578244,"comment_id":36612357,"body_markdown":"Had to downvote this, because it removes the point of using mutual authentication at all. You might as well use plain HTTP instead of this (less hassle to implement anyway).","body":"Had to downvote this, because it removes the point of using mutual authentication at all. You might as well use plain HTTP instead of this (less hassle to implement anyway)."},{"owner":{"account_id":1394779,"reputation":692,"user_id":1324773,"display_name":"DocWatson"},"score":1,"creation_date":1404314099,"post_id":9578244,"comment_id":37992285,"body_markdown":"Thank you for this. Needed to do some testing while we sort out cert specifics, this helped keep the dev ball rolling.","body":"Thank you for this. Needed to do some testing while we sort out cert specifics, this helped keep the dev ball rolling."}],"tags":[],"owner":{"account_id":1231886,"reputation":6128,"user_id":1196285,"accept_rate":68,"display_name":"bnguyen82"},"comment_count":6,"down_vote_count":10,"up_vote_count":26,"is_accepted":false,"score":16,"last_activity_date":1378379597,"creation_date":1331010863,"answer_id":9578244,"question_id":9578129,"body_markdown":"This error is because your server doesn&#39;t have a valid SSL certificate. Hence we need to tell the client to use a different TrustManager. Here is a sample code:\r\n\r\n\r\n    SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n    X509TrustManager tm = new X509TrustManager() {\r\n \r\n        public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n        }\r\n \r\n        public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n        }\r\n \r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return null;\r\n        }\r\n    };\r\n    ctx.init(null, new TrustManager[]{tm}, null);\r\n    SSLSocketFactory ssf = new SSLSocketFactory(ctx,SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n    ClientConnectionManager ccm = base.getConnectionManager();\r\n    SchemeRegistry sr = ccm.getSchemeRegistry();\r\n    sr.register(new Scheme(&quot;https&quot;, 443, ssf));\r\n\r\n    client = new DefaultHttpClient(ccm, base.getParams());\r\n\r\n","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>This error is because your server doesn't have a valid SSL certificate. Hence we need to tell the client to use a different TrustManager. Here is a sample code:</p>\n\n<pre><code>SSLContext ctx = SSLContext.getInstance(\"TLS\");\nX509TrustManager tm = new X509TrustManager() {\n\n    public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n    }\n\n    public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n    }\n\n    public X509Certificate[] getAcceptedIssuers() {\n        return null;\n    }\n};\nctx.init(null, new TrustManager[]{tm}, null);\nSSLSocketFactory ssf = new SSLSocketFactory(ctx,SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\nClientConnectionManager ccm = base.getConnectionManager();\nSchemeRegistry sr = ccm.getSchemeRegistry();\nsr.register(new Scheme(\"https\", 443, ssf));\n\nclient = new DefaultHttpClient(ccm, base.getParams());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":3,"creation_date":1492202677,"post_id":13146619,"comment_id":73896951,"body_markdown":"Pardon the &quot;dumb&quot; question, but the expired certificate was on the Server side or the Client side?","body":"Pardon the &quot;dumb&quot; question, but the expired certificate was on the Server side or the Client side?"},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":1,"creation_date":1493215916,"post_id":13146619,"comment_id":74321563,"body_markdown":"@Igal If I recall accurately, the server side.","body":"@Igal If I recall accurately, the server side."}],"tags":[],"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1455031357,"creation_date":1351626650,"answer_id":13146619,"question_id":9578129,"body_markdown":"Expired certificate was the cause of our &quot;javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated&quot;.\r\n\r\n&gt; keytool -list -v -keystore filetruststore.ts\r\n\r\n        Enter keystore password:\r\n        Keystore type: JKS\r\n        Keystore provider: SUN\r\n        Your keystore contains 1 entry\r\n        Alias name: somealias\r\n        Creation date: Jul 26, 2012\r\n        Entry type: PrivateKeyEntry\r\n        Certificate chain length: 1\r\n        Certificate[1]:\r\n        Owner: CN=Unknown, OU=SomeOU, O=&quot;Some Company, Inc.&quot;, L=SomeCity, ST=GA, C=US\r\n        Issuer: CN=Unknown, OU=SomeOU, O=Some Company, Inc.&quot;, L=SomeCity, ST=GA, C=US\r\n        Serial number: 5011a47b\r\n        Valid from: Thu Jul 26 16:11:39 EDT 2012 until: Wed Oct 24 16:11:39 EDT 2012","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>Expired certificate was the cause of our \"javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\".</p>\n\n<blockquote>\n  <p>keytool -list -v -keystore filetruststore.ts</p>\n</blockquote>\n\n<pre><code>    Enter keystore password:\n    Keystore type: JKS\n    Keystore provider: SUN\n    Your keystore contains 1 entry\n    Alias name: somealias\n    Creation date: Jul 26, 2012\n    Entry type: PrivateKeyEntry\n    Certificate chain length: 1\n    Certificate[1]:\n    Owner: CN=Unknown, OU=SomeOU, O=\"Some Company, Inc.\", L=SomeCity, ST=GA, C=US\n    Issuer: CN=Unknown, OU=SomeOU, O=Some Company, Inc.\", L=SomeCity, ST=GA, C=US\n    Serial number: 5011a47b\n    Valid from: Thu Jul 26 16:11:39 EDT 2012 until: Wed Oct 24 16:11:39 EDT 2012\n</code></pre>\n"},{"comments":[{"owner":{"account_id":334702,"reputation":4293,"user_id":661327,"accept_rate":50,"display_name":"Robert Reiz"},"score":10,"creation_date":1377553734,"post_id":16989100,"comment_id":27118688,"body_markdown":"What can be configured wrong? The ssl certificate works fine in the browser. Why does it not work with Java? Why is Java so special?","body":"What can be configured wrong? The ssl certificate works fine in the browser. Why does it not work with Java? Why is Java so special?"}],"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1370623352,"creation_date":1370623352,"answer_id":16989100,"question_id":9578129,"body_markdown":"This can also happen if you are attempting to connect over HTTPS and the server is not configured to handle SSL connections correctly. \r\n\r\nI would check your application servers SSL settings and make sure that the certification is configured correctly. ","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>This can also happen if you are attempting to connect over HTTPS and the server is not configured to handle SSL connections correctly. </p>\n\n<p>I would check your application servers SSL settings and make sure that the certification is configured correctly. </p>\n"},{"comments":[{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1479278298,"post_id":23339305,"comment_id":68484533,"body_markdown":"That&#39;s not what the OP is asking for","body":"That&#39;s not what the OP is asking for"}],"tags":[],"owner":{"account_id":4393225,"reputation":1,"user_id":3581038,"display_name":"Jessa Hubahib"},"comment_count":1,"down_vote_count":10,"up_vote_count":1,"is_accepted":false,"score":-9,"last_activity_date":1398683877,"creation_date":1398682685,"answer_id":23339305,"question_id":9578129,"body_markdown":"if you are in dev mode with not valid certificate, why not just set **`weClient.setUseInsecureSSL(true)`**. works for me","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>if you are in dev mode with not valid certificate, why not just set <strong><code>weClient.setUseInsecureSSL(true)</code></strong>. works for me</p>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1540973654,"post_id":32220941,"comment_id":93055188,"body_markdown":"Had the same problem in Java 1.7, when I compiled and run it in 1.8 it in server it works fine.","body":"Had the same problem in Java 1.7, when I compiled and run it in 1.8 it in server it works fine."}],"tags":[],"owner":{"account_id":6849966,"reputation":201,"user_id":5267410,"display_name":"Tanuj Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1440575790,"creation_date":1440575790,"answer_id":32220941,"question_id":9578129,"body_markdown":"This exception will come in case your server is based on JDK 7 and your client is on JDK 6 and using SSL certificates. In JDK 7 sslv2hello message handshaking is disabled by default while in JDK 6 sslv2hello message handshaking is enabled. For this reason when your client trying to connect server then a sslv2hello message will be sent towards server and due to sslv2hello message disable you will get this exception. To solve this either you have to move your client to JDK 7 or you have to use 6u91 version of JDK. But to get this version of JDK you have to get the MOS (My Oracle Support) Enterprise support. This patch is not public.","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>This exception will come in case your server is based on JDK 7 and your client is on JDK 6 and using SSL certificates. In JDK 7 sslv2hello message handshaking is disabled by default while in JDK 6 sslv2hello message handshaking is enabled. For this reason when your client trying to connect server then a sslv2hello message will be sent towards server and due to sslv2hello message disable you will get this exception. To solve this either you have to move your client to JDK 7 or you have to use 6u91 version of JDK. But to get this version of JDK you have to get the MOS (My Oracle Support) Enterprise support. This patch is not public.</p>\n"},{"comments":[{"owner":{"account_id":7876523,"reputation":693,"user_id":5952126,"accept_rate":45,"display_name":"Tiny"},"score":0,"creation_date":1598951678,"post_id":34744268,"comment_id":112615615,"body_markdown":"did this fix the error for you .. did you add the SSlCipherSuite property to property files. please elaborate","body":"did this fix the error for you .. did you add the SSlCipherSuite property to property files. please elaborate"},{"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"score":0,"creation_date":1599056646,"post_id":34744268,"comment_id":112656141,"body_markdown":"I doubt I made any changes to the client. I think I only changed the ciphers on the server and it fixed it.","body":"I doubt I made any changes to the client. I think I only changed the ciphers on the server and it fixed it."}],"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452603259,"creation_date":1452603259,"answer_id":34744268,"question_id":9578129,"body_markdown":"In my case I was using a JDK 8 client and the server was using insecure old ciphers. The server is Apache and I added this line to the Apache config:\r\n\r\n    SSLCipherSuite ALL:!ADH:RC4+RSA:+HIGH:!MEDIUM:!LOW:!SSLv2:!EXPORT\r\n\r\nYou should use a tool like this to verify your SSL configuration is currently secure: https://www.ssllabs.com/ssltest/analyze.html","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>In my case I was using a JDK 8 client and the server was using insecure old ciphers. The server is Apache and I added this line to the Apache config:</p>\n\n<pre><code>SSLCipherSuite ALL:!ADH:RC4+RSA:+HIGH:!MEDIUM:!LOW:!SSLv2:!EXPORT\n</code></pre>\n\n<p>You should use a tool like this to verify your SSL configuration is currently secure: <a href=\"https://www.ssllabs.com/ssltest/analyze.html\" rel=\"nofollow\">https://www.ssllabs.com/ssltest/analyze.html</a></p>\n"},{"tags":[],"owner":{"account_id":1603273,"reputation":2630,"user_id":1483903,"accept_rate":75,"display_name":"thebiggestlebowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1465590975,"creation_date":1465590975,"answer_id":37756797,"question_id":9578129,"body_markdown":"You can get this if the client specifies &quot;https&quot; but the server is only running &quot;http&quot;.  So, the server isn&#39;t expecting to make a secure connection.","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>You can get this if the client specifies \"https\" but the server is only running \"http\".  So, the server isn't expecting to make a secure connection.</p>\n"},{"tags":[],"owner":{"account_id":4006738,"reputation":356,"user_id":3301229,"display_name":"Francois Connetable"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626859072,"creation_date":1626859072,"answer_id":68466976,"question_id":9578129,"body_markdown":"In my case, the server was running on Docker (using base image adoptopenjdk/openjdk11:alpine) and the issue was a TLS protocol level error (thanks to the following page for providing the explanation: https://jfrog.com/knowledge-base/how-to-resolve-the-javax-net-ssl-sslpeerunverifiedexception-peer-not-authenticated-error-when-using-java-11/).\r\n\r\nThe solution was eventually to run the client using the following java flag:\r\n\r\n    -Djdk.tls.client.protocols=TLSv1.2\r\n\r\n","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>In my case, the server was running on Docker (using base image adoptopenjdk/openjdk11:alpine) and the issue was a TLS protocol level error (thanks to the following page for providing the explanation: <a href=\"https://jfrog.com/knowledge-base/how-to-resolve-the-javax-net-ssl-sslpeerunverifiedexception-peer-not-authenticated-error-when-using-java-11/\" rel=\"nofollow noreferrer\">https://jfrog.com/knowledge-base/how-to-resolve-the-javax-net-ssl-sslpeerunverifiedexception-peer-not-authenticated-error-when-using-java-11/</a>).</p>\n<p>The solution was eventually to run the client using the following java flag:</p>\n<pre><code>-Djdk.tls.client.protocols=TLSv1.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17507201,"reputation":33,"user_id":12696154,"display_name":"Kartikeya Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674810919,"creation_date":1674801383,"answer_id":75254770,"question_id":9578129,"body_markdown":"The same issue I was facing we are using VPN this occurs when the captcha certificate is missing in your keystore.jks file.\r\n\r\n 1. Check if your server keystore has the captcha certificate or not, to do this use the below command. Go to your keystore.jks location and hit `usr/java/jdk1.7.0_91/bin/keytool -list -v -keystore keystore.jks` it will list all the certificate you have in it where : `usr/java/jdk1.7.0_91/bin/keytool` is the location of your java keytool you can use `which java`command if you are not sure of java path on your server. \r\n\r\n2. If its not there then you have to download the captcha certifacte and install it to keystore, to do this follow the step:\r\n  \r\n  a. Open : https://www.google.com/recaptcha/api/siteverify and click on the secure icon,Click on certificate is valid\r\n \r\n[![enter image description here][1]][1]\r\n\r\nb. Click on connection is secure\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nc. After that Click on details and export the certificate as `.crt`\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\nd. Copy this .crt file on your server.\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WA8TG.png\r\n  [2]: https://i.stack.imgur.com/3OJ7t.png\r\n  [3]: https://i.stack.imgur.com/v6spU.png\r\n  [4]: https://i.stack.imgur.com/yqyem.png\r\n\r\n\r\n\r\n\tGo to the location of keystore.jks : \r\n\tRun this command : \r\n\t /usr/java/jdk1.7.0_91/bin/keytool -import -alias googlecaptcha -keystore &quot;/location/to/the/keystore.jks&quot; -file &quot;/location/to/crtfile/where/you/have/keep/ /on/server/googlecaptcha.crt&quot;\r\n\r\nNOTE : I have renamed www.google.com.crt as googlecaptcha.crt, also change the location parameter.\r\n\r\nOnce the certificate is installed you can use the list command (given in step 1) to verify it.\r\n\r\nHere is the code snippet once the above process is done :\r\n\r\n    try {\r\n\t\t      URL url = new URL(googleURL);\r\n\t\t      if(proxy!=null){\r\n\t\t    \t  conn = (HttpURLConnection)url.openConnection(proxy);\r\n\t\t      }else{\r\n\t\t    \t  conn = (HttpURLConnection)url.openConnection();\r\n\t\t      }\r\n\t\t      conn.setRequestMethod(&quot;POST&quot;);\r\n\t\t      conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t        \r\n\t\t      InputStreamReader in = new InputStreamReader(conn.getInputStream());\r\n\t\t      BufferedReader br = new BufferedReader(in);\r\n\t\t      StringBuilder sb = new StringBuilder();\r\n\t\t      String output;\r\n\t\t      while ((output = br.readLine()) != null) {\r\n\t\t        System.out.println(output);\r\n\t\t        sb.append(output);\r\n\t\t      } \r\n\t\t      String responseNew = sb.toString();\r\n\t\t       responseObject = (ImplValidateCaptchaGoogleResponse)this.mapper.readValue(responseNew, ImplValidateCaptchaGoogleResponse.class);\r\n\t\t    \r\n\t\t    } catch (Exception e) {\r\n\t\t    LOGGER.debug(&quot;ERROR_OCCURED ::&quot;+e.getMessage() );\r\n\t\t      e.printStackTrace();\r\n\t\t    } \r\n\t}\r\n\r\n \r\n","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>The same issue I was facing we are using VPN this occurs when the captcha certificate is missing in your keystore.jks file.</p>\n<ol>\n<li><p>Check if your server keystore has the captcha certificate or not, to do this use the below command. Go to your keystore.jks location and hit <code>usr/java/jdk1.7.0_91/bin/keytool -list -v -keystore keystore.jks</code> it will list all the certificate you have in it where : <code>usr/java/jdk1.7.0_91/bin/keytool</code> is the location of your java keytool you can use <code>which java</code>command if you are not sure of java path on your server.</p>\n</li>\n<li><p>If its not there then you have to download the captcha certifacte and install it to keystore, to do this follow the step:</p>\n</li>\n</ol>\n<p>a. Open : <a href=\"https://www.google.com/recaptcha/api/siteverify\" rel=\"nofollow noreferrer\">https://www.google.com/recaptcha/api/siteverify</a> and click on the secure icon,Click on certificate is valid</p>\n<p><a href=\"https://i.stack.imgur.com/WA8TG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WA8TG.png\" alt=\"enter image description here\" /></a></p>\n<p>b. Click on connection is secure</p>\n<p><a href=\"https://i.stack.imgur.com/3OJ7t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3OJ7t.png\" alt=\"enter image description here\" /></a></p>\n<p>c. After that Click on details and export the certificate as <code>.crt</code>\n<a href=\"https://i.stack.imgur.com/v6spU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6spU.png\" alt=\"enter image description here\" /></a></p>\n<p>d. Copy this .crt file on your server.\n<a href=\"https://i.stack.imgur.com/yqyem.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yqyem.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Go to the location of keystore.jks : \nRun this command : \n /usr/java/jdk1.7.0_91/bin/keytool -import -alias googlecaptcha -keystore &quot;/location/to/the/keystore.jks&quot; -file &quot;/location/to/crtfile/where/you/have/keep/ /on/server/googlecaptcha.crt&quot;\n</code></pre>\n<p>NOTE : I have renamed <a href=\"http://www.google.com.crt\" rel=\"nofollow noreferrer\">www.google.com.crt</a> as googlecaptcha.crt, also change the location parameter.</p>\n<p>Once the certificate is installed you can use the list command (given in step 1) to verify it.</p>\n<p>Here is the code snippet once the above process is done :</p>\n<pre><code>try {\n          URL url = new URL(googleURL);\n          if(proxy!=null){\n              conn = (HttpURLConnection)url.openConnection(proxy);\n          }else{\n              conn = (HttpURLConnection)url.openConnection();\n          }\n          conn.setRequestMethod(&quot;POST&quot;);\n          conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            \n          InputStreamReader in = new InputStreamReader(conn.getInputStream());\n          BufferedReader br = new BufferedReader(in);\n          StringBuilder sb = new StringBuilder();\n          String output;\n          while ((output = br.readLine()) != null) {\n            System.out.println(output);\n            sb.append(output);\n          } \n          String responseNew = sb.toString();\n           responseObject = (ImplValidateCaptchaGoogleResponse)this.mapper.readValue(responseNew, ImplValidateCaptchaGoogleResponse.class);\n        \n        } catch (Exception e) {\n        LOGGER.debug(&quot;ERROR_OCCURED ::&quot;+e.getMessage() );\n          e.printStackTrace();\n        } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8864769,"reputation":81,"user_id":6620233,"display_name":"Victor Lv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680774993,"creation_date":1680774993,"answer_id":75948190,"question_id":9578129,"body_markdown":"If user Java 11.0.2 AdoptOpenJDK, may the bug, see jfrog article:\r\n\r\n[ARTIFACTORY: How to Resolve the javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated Error When Using Java 11][1]\r\n\r\n\r\n  [1]: https://jfrog.com/knowledge-base/artifactory-how-to-resolve-the-javax-net-ssl-sslpeerunverifiedexception-peer-not-authenticated-error-when-using-java-11/","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>If user Java 11.0.2 AdoptOpenJDK, may the bug, see jfrog article:</p>\n<p><a href=\"https://jfrog.com/knowledge-base/artifactory-how-to-resolve-the-javax-net-ssl-sslpeerunverifiedexception-peer-not-authenticated-error-when-using-java-11/\" rel=\"nofollow noreferrer\">ARTIFACTORY: How to Resolve the javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated Error When Using Java 11</a></p>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1870,"user_id":2517035,"display_name":"Rajeev Rathor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685173794,"creation_date":1685173794,"answer_id":76345877,"question_id":9578129,"body_markdown":"This is issue of Certificate that you created on system. You need to specify the IP while create certificate [Keystore] Please refer command.\r\n\r\nkeytool -genkeypair -alias baeldung -keyalg RSA -keysize 2048 -storetype PKCS12 -keystore baeldung.p12 -validity 36500 -ext &quot;SAN:c=DNS:&lt;localhost/Server DNSName&gt;,IP:&lt;Your ServerIP&gt;&quot;","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>This is issue of Certificate that you created on system. You need to specify the IP while create certificate [Keystore] Please refer command.</p>\n<p>keytool -genkeypair -alias baeldung -keyalg RSA -keysize 2048 -storetype PKCS12 -keystore baeldung.p12 -validity 36500 -ext &quot;SAN:c=DNS:&lt;localhost/Server DNSName&gt;,IP:&quot;</p>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693466717,"creation_date":1693466717,"answer_id":77013639,"question_id":9578129,"body_markdown":"### Spring application and &quot;peer not authenticated&quot; error\r\nIf you are experiencing this error while connecting to your Spring application, check the security configuration (`@EnableWebSecurity`, `WebSecurityConfigurerAdapter`, etc., based on what approach you use). If you secure the application&#39;s endpoints, make sure that you either add the target endpoint to exclusions (and do not require authentication) or ensure the proper authentication while trying to connect using the strategy that is set up in your application.\r\n\r\nIn my case, I was trying to connect to the application using WebSocket (with TLS support). I had this snippet in the security configuration (it&#39;s in Kotlin, but you will be able to get the idea):\r\n```java\r\n@Bean\r\nfun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n\thttp.csrf {\r\n\t\tit.disable()\r\n\t}.authorizeHttpRequests {\r\n\t\tit\r\n\t\t\t.requestMatchers(PUT, &quot;/tasks/**&quot;).hasAuthority(&quot;&lt;scope1&gt;&quot;)\r\n\t\t\t.requestMatchers(POST, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope2&gt;&quot;)\r\n\t\t\t.requestMatchers(GET, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope3&gt;&quot;)\r\n\t\t\t.requestMatchers(GET, &quot;/tasks/**&quot;).hasAuthority&quot;&lt;scope4&gt;&quot;)\r\n\t}.oauth2ResourceServer {\r\n\t\tit.jwt(withDefaults())\r\n\t}\r\n\r\n\treturn http.build()\r\n}\r\n```\r\nBased on this config, all the incoming requests should be handled with an authenticated user. When I was trying to connect to `wss://&lt;host&gt;:&lt;port&gt;/websocket` using Postman, I was getting `javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated` error, because I didn&#39;t set up an authentication in Postman.\r\n\r\n\r\nI adjusted the configuration by adding a new line into the `authorizeHttpRequests` section:\r\n```kotlin\r\nauthorizeHttpRequests {\r\n   it\r\n\t .requestMatchers(PUT, &quot;/tasks/**&quot;).hasAuthority(&quot;&lt;scope1&gt;&quot;)\r\n\t .requestMatchers(POST, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope2&gt;&quot;)\r\n\t .requestMatchers(GET, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope3&gt;&quot;)\r\n\t .requestMatchers(GET, &quot;/tasks/**&quot;).hasAuthority&quot;&lt;scope4&gt;&quot;)\r\n     .requestMatchers(&quot;/websocket&quot;).permitAll() // new setting\r\n}\r\n```\r\n\r\nUsing the new setting I can send a request to `/websocket` without authentication. \r\n\r\nThe second option was to set up authentication in Postman when I was trying to connect to the WebSocket using the first version of the configuration. \r\n","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<h3>Spring application and &quot;peer not authenticated&quot; error</h3>\n<p>If you are experiencing this error while connecting to your Spring application, check the security configuration (<code>@EnableWebSecurity</code>, <code>WebSecurityConfigurerAdapter</code>, etc., based on what approach you use). If you secure the application's endpoints, make sure that you either add the target endpoint to exclusions (and do not require authentication) or ensure the proper authentication while trying to connect using the strategy that is set up in your application.</p>\n<p>In my case, I was trying to connect to the application using WebSocket (with TLS support). I had this snippet in the security configuration (it's in Kotlin, but you will be able to get the idea):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nfun filterChain(http: HttpSecurity): SecurityFilterChain {\n    http.csrf {\n        it.disable()\n    }.authorizeHttpRequests {\n        it\n            .requestMatchers(PUT, &quot;/tasks/**&quot;).hasAuthority(&quot;&lt;scope1&gt;&quot;)\n            .requestMatchers(POST, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope2&gt;&quot;)\n            .requestMatchers(GET, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope3&gt;&quot;)\n            .requestMatchers(GET, &quot;/tasks/**&quot;).hasAuthority&quot;&lt;scope4&gt;&quot;)\n    }.oauth2ResourceServer {\n        it.jwt(withDefaults())\n    }\n\n    return http.build()\n}\n</code></pre>\n<p>Based on this config, all the incoming requests should be handled with an authenticated user. When I was trying to connect to <code>wss://&lt;host&gt;:&lt;port&gt;/websocket</code> using Postman, I was getting <code>javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated</code> error, because I didn't set up an authentication in Postman.</p>\n<p>I adjusted the configuration by adding a new line into the <code>authorizeHttpRequests</code> section:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>authorizeHttpRequests {\n   it\n     .requestMatchers(PUT, &quot;/tasks/**&quot;).hasAuthority(&quot;&lt;scope1&gt;&quot;)\n     .requestMatchers(POST, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope2&gt;&quot;)\n     .requestMatchers(GET, &quot;/tasks&quot;).hasAuthority(&quot;&lt;scope3&gt;&quot;)\n     .requestMatchers(GET, &quot;/tasks/**&quot;).hasAuthority&quot;&lt;scope4&gt;&quot;)\n     .requestMatchers(&quot;/websocket&quot;).permitAll() // new setting\n}\n</code></pre>\n<p>Using the new setting I can send a request to <code>/websocket</code> without authentication.</p>\n<p>The second option was to set up authentication in Postman when I was trying to connect to the WebSocket using the first version of the configuration.</p>\n"}],"owner":{"account_id":1301507,"reputation":611,"user_id":1251298,"display_name":"Liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279757,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"answer_count":12,"score":61,"last_activity_date":1693466717,"creation_date":1331009898,"question_id":9578129,"body_markdown":"    public HttpClientVM() {\r\n    \r\n        BasicHttpParams params = new BasicHttpParams();\r\n        ConnManagerParams.setMaxTotalConnections(params, 10);\r\n        HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\r\n        HttpProtocolParams.setUseExpectContinue(params, false);\r\n        HttpConnectionParams.setStaleCheckingEnabled(params, true);\r\n        HttpConnectionParams.setConnectionTimeout(params, 30000);\r\n        HostnameVerifier hostnameVerifier=\r\n              org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\r\n        HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n        SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\r\n        socketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\r\n        SchemeRegistry schemeRegistry = new SchemeRegistry();\r\n        schemeRegistry.register(new Scheme(&quot;http&quot;,socketFactory, 80));\r\n        schemeRegistry.register(new Scheme(&quot;https&quot;,socketFactory, 443));\r\n    \t\tThreadSafeClientConnManager manager = new ThreadSafeClientConnManager(params, schemeRegistry);\r\n    \t\t// Set verifier     \r\n    \t\tclient = new DefaultHttpClient(manager, params);\t\r\n    \t}\r\n\r\n**Problem:**\r\n\r\nWhen executing `client.accessURL(url)`, the following error occurs:\r\n\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:352)\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:397)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:495)\r\n    \tat org.apache.http.conn.scheme.SchemeSocketFactoryAdaptor.connectSocket(SchemeSocketFactoryAdaptor.java:62)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)\r\n    \tat org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:150)\r\n    \tat org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:575)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:425)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)\r\n\r\n***Additional information:***\r\n\r\n- Window 7\r\n- HttpClient 4","title":"Exception : javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<pre><code>public HttpClientVM() {\n\n    BasicHttpParams params = new BasicHttpParams();\n    ConnManagerParams.setMaxTotalConnections(params, 10);\n    HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\n    HttpProtocolParams.setUseExpectContinue(params, false);\n    HttpConnectionParams.setStaleCheckingEnabled(params, true);\n    HttpConnectionParams.setConnectionTimeout(params, 30000);\n    HostnameVerifier hostnameVerifier=\n          org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\n    HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n    SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\n    socketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\n    SchemeRegistry schemeRegistry = new SchemeRegistry();\n    schemeRegistry.register(new Scheme(\"http\",socketFactory, 80));\n    schemeRegistry.register(new Scheme(\"https\",socketFactory, 443));\n        ThreadSafeClientConnManager manager = new ThreadSafeClientConnManager(params, schemeRegistry);\n        // Set verifier     \n        client = new DefaultHttpClient(manager, params);    \n    }\n</code></pre>\n\n<p><strong>Problem:</strong></p>\n\n<p>When executing <code>client.accessURL(url)</code>, the following error occurs:</p>\n\n<pre><code>Exception in thread \"main\" javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at com.sun.net.ssl.internal.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:352)\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:397)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:495)\n    at org.apache.http.conn.scheme.SchemeSocketFactoryAdaptor.connectSocket(SchemeSocketFactoryAdaptor.java:62)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)\n    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:150)\n    at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:575)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:425)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)\n</code></pre>\n\n<p><strong><em>Additional information:</em></strong></p>\n\n<ul>\n<li>Window 7</li>\n<li>HttpClient 4</li>\n</ul>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1447338469,"post_id":33673691,"comment_id":55120206,"body_markdown":"Please format your question properbly","body":"Please format your question properbly"},{"owner":{"account_id":934511,"reputation":4576,"user_id":963700,"display_name":"Darryl Miles"},"score":0,"creation_date":1447338608,"post_id":33673691,"comment_id":55120317,"body_markdown":"Use a hbm2ddl export, create the script and check the `CREATE` statements have been run on your database.  Maybe just use the script as-is in a fresh empty database ?  http://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do ... you probably need the hibernate_sequence table that will get created in the script if it is needed.  What database you use?","body":"Use a hbm2ddl export, create the script and check the <code>CREATE</code> statements have been run on your database.  Maybe just use the script as-is in a fresh empty database ?  <a href=\"http://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\" title=\"hibernate hbm2ddl auto possible values and what they do\">stackoverflow.com/questions/438146/&hellip;</a> ... you probably need the hibernate_sequence table that will get created in the script if it is needed.  What database you use?"},{"owner":{"account_id":118399,"reputation":2148,"user_id":309399,"accept_rate":89,"display_name":"SGB"},"score":1,"creation_date":1477328442,"post_id":33673691,"comment_id":67710862,"body_markdown":"Was the issue identified? Could you please post your fix? I am evaluating using hibernate-envers and having this same issue when I add the @Audited annotation to the entity class.","body":"Was the issue identified? Could you please post your fix? I am evaluating using hibernate-envers and having this same issue when I add the @Audited annotation to the entity class."}],"answers":[{"tags":[],"owner":{"account_id":3483308,"reputation":624,"user_id":2914800,"display_name":"Jean-Christophe"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1478266751,"creation_date":1478266751,"answer_id":40424129,"question_id":33673691,"body_markdown":"Hibernate Envers expects a global sequence &quot;hibernate_sequence&quot; in order to insert into the &quot;revinfo&quot; table.","title":"Hibernate_sequence does not exist with hibernate envers","body":"<p>Hibernate Envers expects a global sequence \"hibernate_sequence\" in order to insert into the \"revinfo\" table.</p>\n"},{"comments":[{"owner":{"account_id":291592,"reputation":1085,"user_id":593852,"accept_rate":43,"display_name":"Tchypp"},"score":0,"creation_date":1627282740,"post_id":40424287,"comment_id":121104453,"body_markdown":"Is this the case with every DB ? I remember using envers with an SQL Server DB and there I created no explicit sequence (or I am not able to find it in the project&#39;s code).","body":"Is this the case with every DB ? I remember using envers with an SQL Server DB and there I created no explicit sequence (or I am not able to find it in the project&#39;s code)."},{"owner":{"account_id":1475026,"reputation":1446,"user_id":1385652,"accept_rate":25,"display_name":"Hossein Nasr"},"score":0,"creation_date":1676436847,"post_id":40424287,"comment_id":133134620,"body_markdown":"It worked. But I couldn&#39;t find any documentation indicating that we must create this sequence. Also, even if we set `spring.jpa.hibernate.ddl-auto = create`, hibernate won&#39;t generate the sequence.","body":"It worked. But I couldn&#39;t find any documentation indicating that we must create this sequence. Also, even if we set <code>spring.jpa.hibernate.ddl-auto = create</code>, hibernate won&#39;t generate the sequence."}],"tags":[],"owner":{"account_id":8929263,"reputation":4088,"user_id":6662421,"accept_rate":85,"display_name":"Sangram Badi"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1478267147,"creation_date":1478267147,"answer_id":40424287,"question_id":33673691,"body_markdown":"you need to create `hibernate_sequence` in your database,\r\ncheck sample code\r\n\r\n    CREATE SEQUENCE hibernate_sequence  INCREMENT 1  MINVALUE 1\r\n      MAXVALUE 9223372036854775807\r\n      START 1\r\n      CACHE 1;","title":"Hibernate_sequence does not exist with hibernate envers","body":"<p>you need to create <code>hibernate_sequence</code> in your database,\ncheck sample code</p>\n\n<pre><code>CREATE SEQUENCE hibernate_sequence  INCREMENT 1  MINVALUE 1\n  MAXVALUE 9223372036854775807\n  START 1\n  CACHE 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226445,"reputation":274,"user_id":487496,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693466278,"creation_date":1693466278,"answer_id":77013594,"question_id":33673691,"body_markdown":"I solved this by creating a custom entity for the revision info:\r\n\r\n```\r\n@Entity\r\n@RevisionEntity\r\n@Table(name=&quot;_revinfo&quot;)\r\npublic class RevInfoEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @RevisionNumber\r\n    @Column(name=&quot;rev&quot;)\r\n    private long rev;\r\n\r\n    @RevisionTimestamp\r\n    @Column(name=&quot;revtstmp&quot;)\r\n    private LocalDateTime revtstmp;\r\n}\r\n```\r\n\r\nThe table and column names maybe have to be adjusted.","title":"Hibernate_sequence does not exist with hibernate envers","body":"<p>I solved this by creating a custom entity for the revision info:</p>\n<pre><code>@Entity\n@RevisionEntity\n@Table(name=&quot;_revinfo&quot;)\npublic class RevInfoEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @RevisionNumber\n    @Column(name=&quot;rev&quot;)\n    private long rev;\n\n    @RevisionTimestamp\n    @Column(name=&quot;revtstmp&quot;)\n    private LocalDateTime revtstmp;\n}\n</code></pre>\n<p>The table and column names maybe have to be adjusted.</p>\n"}],"owner":{"account_id":4227039,"reputation":175,"user_id":3460330,"display_name":"user3460330"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8786,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1693466278,"creation_date":1447338265,"question_id":33673691,"body_markdown":"I am using Hibernate Envers with entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;, schema = &quot;core&quot;)\r\n    @Audited public class Users implements java.io.Serializable, Comparable&lt;Users&gt; {\r\n        protected static final long serialVersionUID = 1250157348010696249L;  \t\r\n        @Id\r\n     \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     \t@Basic(optional = false)\r\n     \t@Column(name = &quot;userid&quot;)\r\n     \tprotected Integer userId;\r\n\r\n     \t@Column(name = &quot;aduserid&quot;)\r\n \t    protected String aduserId;\r\n\r\n     \t@Column(name = &quot;firstname&quot;)\r\n \t    protected String firstName;\r\n\r\n     \t@Column(name = &quot;middlename&quot;)\r\n\r\ni am getting error hibernate sequence does not exist .\r\n\r\nwhen i am changing &lt;prop key=&quot;org.hibernate.envers.use_revision_entity_with_native_id&quot;&gt;false&lt;/prop&gt;\r\nthen it says revision generator does not exist.\r\nPls help me.","title":"Hibernate_sequence does not exist with hibernate envers","body":"<p>I am using Hibernate Envers with entity</p>\n\n<pre><code>@Entity\n@Table(name = \"users\", schema = \"core\")\n@Audited public class Users implements java.io.Serializable, Comparable&lt;Users&gt; {\n    protected static final long serialVersionUID = 1250157348010696249L;    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"userid\")\n    protected Integer userId;\n\n    @Column(name = \"aduserid\")\n    protected String aduserId;\n\n    @Column(name = \"firstname\")\n    protected String firstName;\n\n    @Column(name = \"middlename\")\n</code></pre>\n\n<p>i am getting error hibernate sequence does not exist .</p>\n\n<p>when i am changing false\nthen it says revision generator does not exist.\nPls help me.</p>\n"},{"tags":["java","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1693429026,"post_id":77009928,"comment_id":135761641,"body_markdown":"Instead of using the default transformer, have you considered using a dedicated `@ParameterType` for the terminal type instead?","body":"Instead of using the default transformer, have you considered using a dedicated <code>@ParameterType</code> for the terminal type instead?"},{"owner":{"account_id":20059391,"reputation":63,"user_id":14706431,"display_name":"drstruggle"},"score":0,"creation_date":1693465590,"post_id":77009928,"comment_id":135765169,"body_markdown":"I did (added the code here above), but that does not make a difference","body":"I did (added the code here above), but that does not make a difference"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1693582123,"post_id":77009928,"comment_id":135784583,"body_markdown":"You  currently aren&#39;t using the the parameter type in your step definition","body":"You  currently aren&#39;t using the the parameter type in your step definition"}],"owner":{"account_id":20059391,"reputation":63,"user_id":14706431,"display_name":"drstruggle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693465693,"creation_date":1693413209,"question_id":77009928,"body_markdown":"Hope you can help me out here.\r\nRecently we have converted our steps to use {int}  and {string} etc in the sentences.\r\nHowever, it seems the default parameter transformed does not kick in any longer, when using this.\r\n\r\nIn other words, when I formulate my sentence as :\r\n  @Given(&quot;^terminal \\&quot;([^\\&quot;]*)\\&quot; is connected$&quot;)\r\n\r\nit works fine (meaning, the parameter does through the ParameterTypes.defaultTransformer, the argument is converted, and the converted value lands as a string into the method terminalIsConnected(String terminalLogicalId).\r\n\r\nHowever, after conversion to:\r\n  @Given(&quot;terminal {string} is connected&quot;)\r\nthe parameter never does through the ParameterTypes.defaultTransformer. The method terminalIsConnected(String terminalLogicalId) receives the UNtransformed value.\r\n\r\nIs there anyone that knows how to solve this?\r\n\r\n\r\n-----------\r\nThis is the feature file:\r\n\r\n  Scenario: Check step argument transformation\r\n\r\n    Given the query parameters\r\n      | workstationid | 123123123 |\r\n    Then store result for query &quot;CHECK_WORKSTATION_ID.sql&quot; in memory with tag &quot;terminal&quot;\r\n\r\n    Then terminal &quot;{#terminal}&quot; is connected\r\n    Then operator selects terminal &quot;{#terminal}&quot;\r\n\r\n\r\nThis is the ParameterTypes class:\r\n\r\n    public class ParameterTypes {\r\n    \r\n      private static final Logger LOGGER = LoggerFactory.getLogger(ParameterTypes.class);\r\n      private final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n      @Autowired\r\n      private MemoryTagService memoryTagService;\r\n    \r\n      @DefaultParameterTransformer\r\n      @DefaultDataTableCellTransformer\r\n      @DefaultDataTableEntryTransformer\r\n      public Object defaultTransformer(Object fromValue, Type toValueType) {\r\n        var stringValue = (String) fromValue;\r\n        Pattern pattern = Pattern.compile(MemoryTagService.MEMORY_TAG_REGEX);\r\n        Matcher matcher = pattern.matcher(stringValue);\r\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        while (matcher.find()) {\r\n          list.add(matcher.group());\r\n        }\r\n        for (String match : list) {\r\n          String fromMemory = memoryTagService.getFromMemory(match);\r\n          if (fromMemory != null) {\r\n            LOGGER.debug(&quot;Found memory tag [{}] with value[{}]&quot;, match, fromMemory);\r\n            fromValue = stringValue.replace(match, fromMemory);\r\n          } else {\r\n            Assert.fail(&quot;A Memory tag (&quot; + match + &quot;) was provided, but no value was found in memory!&quot;);\r\n          }\r\n        }\r\n        return objectMapper.convertValue(fromValue, objectMapper.constructType(toValueType));\r\n      }\r\n    \r\n      @ParameterType(value = &quot;true|True|TRUE|false|False|FALSE&quot;)\r\n      public Boolean booleanValue(String value) {\r\n        return Boolean.valueOf(value);\r\n      }\r\n    \r\n    }\r\n\r\n\r\nThis is the relevant code in the steps class:\r\n\r\n    public class MyStepsClass {\r\n    \r\n          @Given(&quot;terminal {string} is connected&quot;) // Does NOT work\r\n          //@Given(&quot;^terminal \\&quot;([^\\&quot;]*)\\&quot; is connected$&quot;) // Does work\r\n          public void terminalIsConnected(String terminalLogicalId) {\r\n            boolean isConnected = ptlService.isConnected(terminalLogicalId);\r\n            etc.\r\n          }\r\n    \r\n    etc\r\n    }\r\n\r\nI also tried adding the below in the ParameterType class, but that does not change anything:\r\n\r\n      @ParameterType(&quot;^{#.*}$&quot;)\r\n      public String stringConversion(String memoryString) {\r\n        return defaultTransformer(memoryString, Object.class).toString();\r\n      }\r\n    \r\n      @ParameterType(value = &quot;.*&quot;)\r\n      public Object stringValue(String memoryString) {\r\n        return defaultTransformer(memoryString, String.class);\r\n      }","title":"Default Parameter Transformer does not kick in, when using {string} in a sentence","body":"<p>Hope you can help me out here.\nRecently we have converted our steps to use {int}  and {string} etc in the sentences.\nHowever, it seems the default parameter transformed does not kick in any longer, when using this.</p>\n<p>In other words, when I formulate my sentence as :\n@Given(&quot;^terminal &quot;([^&quot;]*)&quot; is connected$&quot;)</p>\n<p>it works fine (meaning, the parameter does through the ParameterTypes.defaultTransformer, the argument is converted, and the converted value lands as a string into the method terminalIsConnected(String terminalLogicalId).</p>\n<p>However, after conversion to:\n@Given(&quot;terminal {string} is connected&quot;)\nthe parameter never does through the ParameterTypes.defaultTransformer. The method terminalIsConnected(String terminalLogicalId) receives the UNtransformed value.</p>\n<p>Is there anyone that knows how to solve this?</p>\n<hr />\n<p>This is the feature file:</p>\n<p>Scenario: Check step argument transformation</p>\n<pre><code>Given the query parameters\n  | workstationid | 123123123 |\nThen store result for query &quot;CHECK_WORKSTATION_ID.sql&quot; in memory with tag &quot;terminal&quot;\n\nThen terminal &quot;{#terminal}&quot; is connected\nThen operator selects terminal &quot;{#terminal}&quot;\n</code></pre>\n<p>This is the ParameterTypes class:</p>\n<pre><code>public class ParameterTypes {\n\n  private static final Logger LOGGER = LoggerFactory.getLogger(ParameterTypes.class);\n  private final ObjectMapper objectMapper = new ObjectMapper();\n\n  @Autowired\n  private MemoryTagService memoryTagService;\n\n  @DefaultParameterTransformer\n  @DefaultDataTableCellTransformer\n  @DefaultDataTableEntryTransformer\n  public Object defaultTransformer(Object fromValue, Type toValueType) {\n    var stringValue = (String) fromValue;\n    Pattern pattern = Pattern.compile(MemoryTagService.MEMORY_TAG_REGEX);\n    Matcher matcher = pattern.matcher(stringValue);\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n    while (matcher.find()) {\n      list.add(matcher.group());\n    }\n    for (String match : list) {\n      String fromMemory = memoryTagService.getFromMemory(match);\n      if (fromMemory != null) {\n        LOGGER.debug(&quot;Found memory tag [{}] with value[{}]&quot;, match, fromMemory);\n        fromValue = stringValue.replace(match, fromMemory);\n      } else {\n        Assert.fail(&quot;A Memory tag (&quot; + match + &quot;) was provided, but no value was found in memory!&quot;);\n      }\n    }\n    return objectMapper.convertValue(fromValue, objectMapper.constructType(toValueType));\n  }\n\n  @ParameterType(value = &quot;true|True|TRUE|false|False|FALSE&quot;)\n  public Boolean booleanValue(String value) {\n    return Boolean.valueOf(value);\n  }\n\n}\n</code></pre>\n<p>This is the relevant code in the steps class:</p>\n<pre><code>public class MyStepsClass {\n\n      @Given(&quot;terminal {string} is connected&quot;) // Does NOT work\n      //@Given(&quot;^terminal \\&quot;([^\\&quot;]*)\\&quot; is connected$&quot;) // Does work\n      public void terminalIsConnected(String terminalLogicalId) {\n        boolean isConnected = ptlService.isConnected(terminalLogicalId);\n        etc.\n      }\n\netc\n}\n</code></pre>\n<p>I also tried adding the below in the ParameterType class, but that does not change anything:</p>\n<pre><code>  @ParameterType(&quot;^{#.*}$&quot;)\n  public String stringConversion(String memoryString) {\n    return defaultTransformer(memoryString, Object.class).toString();\n  }\n\n  @ParameterType(value = &quot;.*&quot;)\n  public Object stringValue(String memoryString) {\n    return defaultTransformer(memoryString, String.class);\n  }\n</code></pre>\n"},{"tags":["java","jvm","version"],"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":3,"creation_date":1298547244,"post_id":5103121,"comment_id":5721320,"body_markdown":"few notes. System properties are meant for that but DO keep in mind it&#39;s a privileged operation and applets/webstart/sand boxed code will not be able to execute it (getting SecurityException). Normally you&#39;d like to run it in similar way `AccessController.doPrivileged(new PrivilegedAction&lt;String&gt;(...)); `","body":"few notes. System properties are meant for that but DO keep in mind it&#39;s a privileged operation and applets/webstart/sand boxed code will not be able to execute it (getting SecurityException). Normally you&#39;d like to run it in similar way <code>AccessController.doPrivileged(new PrivilegedAction&lt;String&gt;(...)); </code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1402656825,"post_id":5103121,"comment_id":37368669,"body_markdown":"@bestsss  While some properties are only available to applets that are trusted: `java.specification.version`, `java.version` &amp; `java.vm.version` are all available to a sand-boxed applet, or at least they were as of `1.6.0_23`.  See [my answer](http://stackoverflow.com/a/5105344/418556) for more details.","body":"@bestsss  While some properties are only available to applets that are trusted: <code>java.specification.version</code>, <code>java.version</code> &amp; <code>java.vm.version</code> are all available to a sand-boxed applet, or at least they were as of <code>1.6.0_23</code>.  See <a href=\"http://stackoverflow.com/a/5105344/418556\">my answer</a> for more details."},{"owner":{"account_id":7936,"reputation":11507,"user_id":13992,"accept_rate":67,"display_name":"badp"},"score":1,"creation_date":1487850060,"post_id":5103121,"comment_id":71974797,"body_markdown":"Also a thing that may work: `java -version` :)","body":"Also a thing that may work: <code>java -version</code> :)"},{"owner":{"account_id":61679,"reputation":6221,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":2,"creation_date":1565869200,"post_id":5103121,"comment_id":101485785,"body_markdown":"Possible duplicate of [Getting Java version at runtime](https://stackoverflow.com/questions/2591083/getting-java-version-at-runtime)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2591083/getting-java-version-at-runtime\">Getting Java version at runtime</a>"}],"answers":[{"tags":[],"owner":{"account_id":106062,"reputation":31478,"user_id":282706,"accept_rate":80,"display_name":"Finbarr"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1298542168,"creation_date":1298542168,"answer_id":5103165,"question_id":5103121,"body_markdown":"Simply a case of calling `System.getProperty(&quot;java.version&quot;)`.","title":"How to find the JVM version from a program?","body":"<p>Simply a case of calling <code>System.getProperty(\"java.version\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":97,"is_accepted":false,"score":97,"last_activity_date":1558935933,"creation_date":1298542169,"answer_id":5103166,"question_id":5103121,"body_markdown":"Use:\r\n\r\n```java\r\nSystem.getProperty(&quot;java.version&quot;);\r\n```\r\n\r\nWhere `java.version` can be replaced with one of the many other system properties related to the current Java version. Here is a table of them:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n```\r\n Property                        Value (OpenJDK 12)                        Value (Oracle JRE 8u201)                Value (Sun JRE 5u22)                                 Description\r\n------------------------------- ----------------------------------------- --------------------------------------- ---------------------------------------------------- ---------------------------------------------------------------------------------------------------------------\r\n java.version                    &quot;12&quot;                                      &quot;1.8.0_201&quot;                             &quot;1.5.0_22&quot;                                           Java Runtime Environment version, which may be interpreted as a Runtime.Version\r\n java.version.date               &quot;2019-03-19&quot;                              null                                    null                                                 Java Runtime Environment version date, in ISO-8601 YYYY-MM-DD format, which may be interpreted as a LocalDate\r\n java.vendor                     &quot;Oracle Corporation&quot;                      &quot;Oracle Corporation&quot;                    &quot;Sun Microsystems Inc.&quot;                              Java Runtime Environment vendor\r\n java.vendor.version             null                                      null                                    null                                                 Java vendor version\r\n java.vendor.url                 &quot;https://java.oracle.com/&quot;                &quot;http://java.oracle.com/&quot;               &quot;http://java.sun.com/&quot;                               Java vendor URL\r\n java.vendor.url.bug             &quot;https://bugreport.java.com/bugreport/&quot;   &quot;http://bugreport.sun.com/bugreport/&quot;   &quot;http://java.sun.com/cgi-bin/bugreport.cgi&quot;          Undocumented\r\n java.specification.name         &quot;Java Platform API Specification&quot;         &quot;Java Platform API Specification&quot;       &quot;Java Platform API Specification&quot;                    Java Runtime Environment specification name\r\n java.specification.vendor       &quot;Oracle Corporation&quot;                      &quot;Oracle Corporation&quot;                    &quot;Sun Microsystems Inc.&quot;                              Java Runtime Environment specification vendor\r\n java.specification.version      &quot;12&quot;                                      &quot;1.8&quot;                                   &quot;1.5&quot;                                                Java Runtime Environment specification version, whose value is the feature element of the runtime version\r\n java.vm.name                    &quot;OpenJDK 64-Bit Server VM&quot;                &quot;Java HotSpot(TM) 64-Bit Server VM&quot;     &quot;Java HotSpot(TM) 64-Bit Server VM&quot;                  Java Virtual Machine implementation name\r\n java.vm.vendor                  &quot;Oracle Corporation&quot;                      &quot;Oracle Corporation&quot;                    &quot;Sun Microsystems Inc.&quot;                              Java Virtual Machine implementation vendor\r\n java.vm.version                 &quot;12+33&quot;                                   &quot;25.201-b09&quot;                            &quot;1.5.0_22-b03&quot;                                       Java Virtual Machine implementation version which may be interpreted as a Runtime.Version\r\n java.vm.info                    &quot;mixed mode, sharing&quot;                     &quot;mixed mode&quot;                            &quot;mixed mode&quot;                                         Undocumented\r\n java.vm.specification.name      &quot;Java Virtual Machine Specification&quot;      &quot;Java Virtual Machine Specification&quot;    &quot;Java Virtual Machine Specification&quot;                 Java Virtual Machine specification name\r\n java.vm.specification.vendor    &quot;Oracle Corporation&quot;                      &quot;Oracle Corporation&quot;                    &quot;Sun Microsystems Inc.&quot;                              Java Virtual Machine specification vendor\r\n java.vm.specification.version   &quot;12&quot;                                      &quot;1.8&quot;                                   &quot;1.0&quot;                                                Java Virtual Machine specification version, whose value is the feature element of the runtime version\r\n java.runtime.name               &quot;OpenJDK Runtime Environment&quot;             &quot;Java(TM) SE Runtime Environment&quot;       &quot;Java(TM) 2 Runtime Environment, Standard Edition&quot;   Undocumented\r\n java.runtime.version            &quot;12+33&quot;                                   &quot;1.8.0_201-b09&quot;                         &quot;1.5.0_22-b03&quot;                                       Undocumented\r\n java.class.version              &quot;56.0&quot;                                    &quot;52.0&quot;                                  &quot;49.0&quot;                                               Java class format version number\r\n jdk.debug                       &quot;release&quot;                                 null                                    null                                                 Undocumented\r\n sun.java.launcher               &quot;SUN_STANDARD&quot;                            &quot;SUN_STANDARD&quot;                          &quot;SUN_STANDARD&quot;                                       Undocumented\r\n sun.management.compiler         &quot;HotSpot 64-Bit Tiered Compilers&quot;         &quot;HotSpot 64-Bit Tiered Compilers&quot;       &quot;HotSpot 64-Bit Server Compiler&quot;                     Undocumented\r\n```\r\n\r\nSources:\r\n\r\n - Output of `java -XshowSettings:all -version` for a variety of JVM versions.\r\n - Java API Reference documentation for [`System.getProperties()`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/System.html#getProperties())","title":"How to find the JVM version from a program?","body":"<p>Use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.getProperty(\"java.version\");\n</code></pre>\n\n<p>Where <code>java.version</code> can be replaced with one of the many other system properties related to the current Java version. Here is a table of them:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> Property                        Value (OpenJDK 12)                        Value (Oracle JRE 8u201)                Value (Sun JRE 5u22)                                 Description\n------------------------------- ----------------------------------------- --------------------------------------- ---------------------------------------------------- ---------------------------------------------------------------------------------------------------------------\n java.version                    \"12\"                                      \"1.8.0_201\"                             \"1.5.0_22\"                                           Java Runtime Environment version, which may be interpreted as a Runtime.Version\n java.version.date               \"2019-03-19\"                              null                                    null                                                 Java Runtime Environment version date, in ISO-8601 YYYY-MM-DD format, which may be interpreted as a LocalDate\n java.vendor                     \"Oracle Corporation\"                      \"Oracle Corporation\"                    \"Sun Microsystems Inc.\"                              Java Runtime Environment vendor\n java.vendor.version             null                                      null                                    null                                                 Java vendor version\n java.vendor.url                 \"https://java.oracle.com/\"                \"http://java.oracle.com/\"               \"http://java.sun.com/\"                               Java vendor URL\n java.vendor.url.bug             \"https://bugreport.java.com/bugreport/\"   \"http://bugreport.sun.com/bugreport/\"   \"http://java.sun.com/cgi-bin/bugreport.cgi\"          Undocumented\n java.specification.name         \"Java Platform API Specification\"         \"Java Platform API Specification\"       \"Java Platform API Specification\"                    Java Runtime Environment specification name\n java.specification.vendor       \"Oracle Corporation\"                      \"Oracle Corporation\"                    \"Sun Microsystems Inc.\"                              Java Runtime Environment specification vendor\n java.specification.version      \"12\"                                      \"1.8\"                                   \"1.5\"                                                Java Runtime Environment specification version, whose value is the feature element of the runtime version\n java.vm.name                    \"OpenJDK 64-Bit Server VM\"                \"Java HotSpot(TM) 64-Bit Server VM\"     \"Java HotSpot(TM) 64-Bit Server VM\"                  Java Virtual Machine implementation name\n java.vm.vendor                  \"Oracle Corporation\"                      \"Oracle Corporation\"                    \"Sun Microsystems Inc.\"                              Java Virtual Machine implementation vendor\n java.vm.version                 \"12+33\"                                   \"25.201-b09\"                            \"1.5.0_22-b03\"                                       Java Virtual Machine implementation version which may be interpreted as a Runtime.Version\n java.vm.info                    \"mixed mode, sharing\"                     \"mixed mode\"                            \"mixed mode\"                                         Undocumented\n java.vm.specification.name      \"Java Virtual Machine Specification\"      \"Java Virtual Machine Specification\"    \"Java Virtual Machine Specification\"                 Java Virtual Machine specification name\n java.vm.specification.vendor    \"Oracle Corporation\"                      \"Oracle Corporation\"                    \"Sun Microsystems Inc.\"                              Java Virtual Machine specification vendor\n java.vm.specification.version   \"12\"                                      \"1.8\"                                   \"1.0\"                                                Java Virtual Machine specification version, whose value is the feature element of the runtime version\n java.runtime.name               \"OpenJDK Runtime Environment\"             \"Java(TM) SE Runtime Environment\"       \"Java(TM) 2 Runtime Environment, Standard Edition\"   Undocumented\n java.runtime.version            \"12+33\"                                   \"1.8.0_201-b09\"                         \"1.5.0_22-b03\"                                       Undocumented\n java.class.version              \"56.0\"                                    \"52.0\"                                  \"49.0\"                                               Java class format version number\n jdk.debug                       \"release\"                                 null                                    null                                                 Undocumented\n sun.java.launcher               \"SUN_STANDARD\"                            \"SUN_STANDARD\"                          \"SUN_STANDARD\"                                       Undocumented\n sun.management.compiler         \"HotSpot 64-Bit Tiered Compilers\"         \"HotSpot 64-Bit Tiered Compilers\"       \"HotSpot 64-Bit Server Compiler\"                     Undocumented\n</code></pre>\n\n<p>Sources:</p>\n\n<ul>\n<li>Output of <code>java -XshowSettings:all -version</code> for a variety of JVM versions.</li>\n<li>Java API Reference documentation for <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"noreferrer\"><code>System.getProperties()</code></a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"score":6,"creation_date":1371830046,"post_id":5103183,"comment_id":24979976,"body_markdown":"That JMX call returns the equivalent of &quot;java.vm.version&quot;, not &quot;java.version&quot;. These are usually (but not necessarily) the same.","body":"That JMX call returns the equivalent of &quot;java.vm.version&quot;, not &quot;java.version&quot;. These are usually (but not necessarily) the same."},{"owner":{"account_id":5345230,"reputation":2477,"user_id":4260959,"accept_rate":70,"display_name":"auntyellow"},"score":2,"creation_date":1418105067,"post_id":5103183,"comment_id":43195827,"body_markdown":"ManagementFactory.getRuntimeMXBean().getSpecVersion() may be more accurate.","body":"ManagementFactory.getRuntimeMXBean().getSpecVersion() may be more accurate."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":0,"creation_date":1436315178,"post_id":5103183,"comment_id":50556268,"body_markdown":"When are they different, @AlexMiller? That sounds interesting.","body":"When are they different, @AlexMiller? That sounds interesting."},{"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"score":2,"creation_date":1436321992,"post_id":5103183,"comment_id":50557841,"body_markdown":"Actually, I&#39;d say they&#39;re *not* the same. The java.vm.version is the jvm version number, something like &quot;25.0-b70&quot; whereas the java.version is the normal java language version you&#39;re used to seeing &quot;1.8.0&quot;.","body":"Actually, I&#39;d say they&#39;re <i>not</i> the same. The java.vm.version is the jvm version number, something like &quot;25.0-b70&quot; whereas the java.version is the normal java language version you&#39;re used to seeing &quot;1.8.0&quot;."},{"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"score":3,"creation_date":1461179530,"post_id":5103183,"comment_id":61086343,"body_markdown":"Worth noting that the Java 9 will change the returned value from this string.","body":"Worth noting that the Java 9 will change the returned value from this string."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":5,"down_vote_count":1,"up_vote_count":155,"is_accepted":true,"score":154,"last_activity_date":1298542245,"creation_date":1298542245,"answer_id":5103183,"question_id":5103121,"body_markdown":"`System.getProperty(&quot;java.version&quot;)` returns what you need. \r\n\r\nYou can also use JMX if you want:\r\n\r\n`ManagementFactory.getRuntimeMXBean().getVmVersion()`","title":"How to find the JVM version from a program?","body":"<p><code>System.getProperty(\"java.version\")</code> returns what you need. </p>\n\n<p>You can also use JMX if you want:</p>\n\n<p><code>ManagementFactory.getRuntimeMXBean().getVmVersion()</code></p>\n"},{"comments":[{"owner":{"account_id":11742596,"reputation":376,"user_id":8594421,"display_name":"User8461"},"score":2,"creation_date":1552161962,"post_id":5105344,"comment_id":96908685,"body_markdown":"`java.vm.version` is null in openjdk-11-headless","body":"<code>java.vm.version</code> is null in openjdk-11-headless"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1552162467,"post_id":5105344,"comment_id":96908807,"body_markdown":"@User8461 Maybe you should raise a bug report with whoever oversees the open JDK, To be honest I&#39;ve not seen much point to finding out that value. Here it is currently `25.45-b02` .. which means nothing (provides no useful information) to me.","body":"@User8461 Maybe you should raise a bug report with whoever oversees the open JDK, To be honest I&#39;ve not seen much point to finding out that value. Here it is currently <code>25.45-b02</code> .. which means nothing (provides no useful information) to me."}],"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":2,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1576886730,"creation_date":1298554482,"answer_id":5105344,"question_id":5103121,"body_markdown":"It seems the &lt;code&gt;java.specification.version&lt;/code&gt; is the best one for the job.\r\n\r\nE.G. \r\n\r\n    java.specification.version\t1.6\r\n    java.version\t1.6.0_23\r\n    java.vm.version\t19.0-b09\r\n    java.runtime.version\t1.6.0_23-b05\r\n\r\n","title":"How to find the JVM version from a program?","body":"<p>It seems the <code>java.specification.version</code> is the best one for the job.</p>\n\n<p>E.G. </p>\n\n<pre><code>java.specification.version  1.6\njava.version    1.6.0_23\njava.vm.version 19.0-b09\njava.runtime.version    1.6.0_23-b05\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263674,"reputation":51,"user_id":1221439,"display_name":"Abbath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461154047,"creation_date":1461154047,"answer_id":36743296,"question_id":5103121,"body_markdown":"Information about versions is stored as a properties of `System` class.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/System.html#getProperties%28%29","title":"How to find the JVM version from a program?","body":"<p>Information about versions is stored as a properties of <code>System</code> class.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#getProperties%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#getProperties%28%29</a></p>\n"},{"tags":[],"owner":{"display_name":"user6166867"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462800868,"creation_date":1462800868,"answer_id":37117187,"question_id":5103121,"body_markdown":"Below java code returns `JVM` versions which are available in your current IDE \r\n\r\n    List&lt;VirtualMachineDescriptor&gt; descriptors = VirtualMachine.list();\r\n    \t      for (VirtualMachineDescriptor descriptor : descriptors) {\r\n    \t          System.out.println(&quot;Found JVM: &quot; + descriptor.displayName());\r\n    \t          try {\r\n    \t              VirtualMachine vm = VirtualMachine.attach(descriptor);\r\n    \t              String version = vm.getSystemProperties().getProperty(&quot;java.runtime.version&quot;);\r\n    \t              System.out.println(&quot;   Runtime Version: &quot; + version);\r\n    \t              \r\n    \t               String connectorAddress = vm.getAgentProperties().getProperty(&quot;com.sun.management.jmxremote.localConnectorAddress&quot;);\r\n    \t              if (connectorAddress == null) {\r\n    \t            \t  \r\n    \t                  connectorAddress = vm.getAgentProperties().getProperty(&quot;com.sun.management.jmxremote.localConnectorAddress&quot;);\r\n    \t              }\r\n    \r\n    \t              JMXServiceURL url = new JMXServiceURL(connectorAddress);\r\n    \t              JMXConnector connector = JMXConnectorFactory.connect(url);\r\n    \t              MBeanServerConnection mbs = connector.getMBeanServerConnection();\r\n    \r\n    \t              ObjectName threadName = new ObjectName(ManagementFactory.THREAD_MXBEAN_NAME);\r\n    \t              Integer threadCount = (Integer)mbs.getAttribute(threadName, &quot;ThreadCount&quot;);\r\n    \t              System.out.println(&quot;    Thread count: &quot; + threadCount);\r\n    \t          }\r\n    \t          catch (Exception e) {\r\n    \t              // ...\r\n    \t          }\r\n\r\noutput:\r\n\r\n    Found JVM: /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar -os linux -ws gtk -arch x86_64 -showsplash -launcher /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE/STS -name STS --launcher.library /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.300.v20150602-1417/eclipse_1612.so -startup /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar --launcher.overrideVmargs -exitdata 1ad000f -product org.springsource.sts.ide -vm /usr/bin/java -vmargs -Dosgi.requiredJavaVersion=1.7 -Xms40m -XX:MaxPermSize=256m -Xverify:none -Xmx1200m -jar /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar\r\n       Runtime Version: 1.8.0_91-b14\r\n    Found JVM: com.intellij.idea.Main\r\n       Runtime Version: 1.8.0_91-b14\r\n    Found JVM: Test\r\n       Runtime Version: 1.7.0_80-b15\r\n\r\n","title":"How to find the JVM version from a program?","body":"<p>Below java code returns <code>JVM</code> versions which are available in your current IDE </p>\n\n<pre><code>List&lt;VirtualMachineDescriptor&gt; descriptors = VirtualMachine.list();\n          for (VirtualMachineDescriptor descriptor : descriptors) {\n              System.out.println(\"Found JVM: \" + descriptor.displayName());\n              try {\n                  VirtualMachine vm = VirtualMachine.attach(descriptor);\n                  String version = vm.getSystemProperties().getProperty(\"java.runtime.version\");\n                  System.out.println(\"   Runtime Version: \" + version);\n\n                   String connectorAddress = vm.getAgentProperties().getProperty(\"com.sun.management.jmxremote.localConnectorAddress\");\n                  if (connectorAddress == null) {\n\n                      connectorAddress = vm.getAgentProperties().getProperty(\"com.sun.management.jmxremote.localConnectorAddress\");\n                  }\n\n                  JMXServiceURL url = new JMXServiceURL(connectorAddress);\n                  JMXConnector connector = JMXConnectorFactory.connect(url);\n                  MBeanServerConnection mbs = connector.getMBeanServerConnection();\n\n                  ObjectName threadName = new ObjectName(ManagementFactory.THREAD_MXBEAN_NAME);\n                  Integer threadCount = (Integer)mbs.getAttribute(threadName, \"ThreadCount\");\n                  System.out.println(\"    Thread count: \" + threadCount);\n              }\n              catch (Exception e) {\n                  // ...\n              }\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Found JVM: /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar -os linux -ws gtk -arch x86_64 -showsplash -launcher /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE/STS -name STS --launcher.library /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.300.v20150602-1417/eclipse_1612.so -startup /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar --launcher.overrideVmargs -exitdata 1ad000f -product org.springsource.sts.ide -vm /usr/bin/java -vmargs -Dosgi.requiredJavaVersion=1.7 -Xms40m -XX:MaxPermSize=256m -Xverify:none -Xmx1200m -jar /home/.../STS IDE/sts-bundle/sts-3.7.2.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar\n   Runtime Version: 1.8.0_91-b14\nFound JVM: com.intellij.idea.Main\n   Runtime Version: 1.8.0_91-b14\nFound JVM: Test\n   Runtime Version: 1.7.0_80-b15\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3112440,"reputation":61,"user_id":2633932,"display_name":"umut.bayram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481533367,"creation_date":1481533367,"answer_id":41097283,"question_id":5103121,"body_markdown":"System.getProperty(&quot;sun.arch.data.model&quot;);\r\n\r\nJava 32 Bit and 64 Bit Control \r\n\r\n\t\tInteger vers = Integer.parseInt(System.getProperty(&quot;java.version&quot;).split(&quot;\\\\.&quot;)[1]);\r\n\t\tString bitMode = System.getProperty(&quot;sun.arch.data.model&quot;).toString();\r\n\t\tSystem.out.println(vers);\r\n\t\tSystem.out.println(bitMode);\r\n\r\n\r\nOutput : \r\n\r\n    6\r\n    32\r\n\r\n","title":"How to find the JVM version from a program?","body":"<p>System.getProperty(\"sun.arch.data.model\");</p>\n\n<p>Java 32 Bit and 64 Bit Control </p>\n\n<pre><code>    Integer vers = Integer.parseInt(System.getProperty(\"java.version\").split(\"\\\\.\")[1]);\n    String bitMode = System.getProperty(\"sun.arch.data.model\").toString();\n    System.out.println(vers);\n    System.out.println(bitMode);\n</code></pre>\n\n<p>Output : </p>\n\n<pre><code>6\n32\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484723165,"creation_date":1484723165,"answer_id":41713248,"question_id":5103121,"body_markdown":"Depending on what one needs, the other answers can help.\n\nIn my case, they didn&#39;t. I was looking for the &quot;fully qualified&quot; version information of a IBM JDK.\n\nSo, the &quot;real&quot; answer can be: just dump **all** system properties and check if there is one that gives you what you are looking for.\n\nIn my case; I found that the IBM JDK knows a \n\nProperty: **java.fullversion**\n\n&gt; JRE 1.8.0 IBM J9 2.8 Linux amd64-64 Compressed References 20161013_322271 (JIT enabled, AOT enabled)\n&gt;\n&gt; J9VM - R28_Java8_SR3_20161013_1635_B322271\n&gt;\n&gt; JIT  - tr.r14.java.green_20161011_125790\n&gt;\n&gt; GC   - R28_Java8_SR3_20161013_1635_B322271_CMPRSS\nJ9CL - 20161013_322271","title":"How to find the JVM version from a program?","body":"<p>Depending on what one needs, the other answers can help.</p>\n<p>In my case, they didn't. I was looking for the &quot;fully qualified&quot; version information of a IBM JDK.</p>\n<p>So, the &quot;real&quot; answer can be: just dump <strong>all</strong> system properties and check if there is one that gives you what you are looking for.</p>\n<p>In my case; I found that the IBM JDK knows a</p>\n<p>Property: <strong>java.fullversion</strong></p>\n<blockquote>\n<p>JRE 1.8.0 IBM J9 2.8 Linux amd64-64 Compressed References 20161013_322271 (JIT enabled, AOT enabled)</p>\n<p>J9VM - R28_Java8_SR3_20161013_1635_B322271</p>\n<p>JIT  - tr.r14.java.green_20161011_125790</p>\n<p>GC   - R28_Java8_SR3_20161013_1635_B322271_CMPRSS\nJ9CL - 20161013_322271</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498827528,"creation_date":1498827528,"answer_id":44847096,"question_id":5103121,"body_markdown":"Just simply call, \r\n\r\n    System.out.println(System.getProperty(&quot;java.specification.version&quot;));\r\n    System.out.println(System.getProperty(&quot;java.runtime.version&quot;));\r\n\r\nExample output:\r\n\r\n    9\r\n    9+176","title":"How to find the JVM version from a program?","body":"<p>Just simply call, </p>\n\n<pre><code>System.out.println(System.getProperty(\"java.specification.version\"));\nSystem.out.println(System.getProperty(\"java.runtime.version\"));\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>9\n9+176\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"score":0,"creation_date":1638825277,"post_id":70251996,"comment_id":124186397,"body_markdown":"Unfortunately I couldn&#39;t find a nice list of constant fields, so we can&#39;t write `Runtime.version(). compareToIgnoreOptional(Something.V11)` or similar. A kinda-workaround would be to use `Runtime.Version.parse(&quot;11&quot;)`.","body":"Unfortunately I couldn&#39;t find a nice list of constant fields, so we can&#39;t write <code>Runtime.version(). compareToIgnoreOptional(Something.V11)</code> or similar. A kinda-workaround would be to use <code>Runtime.Version.parse(&quot;11&quot;)</code>."}],"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638825036,"creation_date":1638825036,"answer_id":70251996,"question_id":5103121,"body_markdown":"Since Java 9 we have a new static method: [Runtime.version()][1].\r\n\r\nThe object returned has interesting methods such as feature() or compareToIgnoreOptional() what might be easier to work with (e.g. `Runtime.version().feature() &gt;= 11`).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.html#version()","title":"How to find the JVM version from a program?","body":"<p>Since Java 9 we have a new static method: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.html#version()\" rel=\"nofollow noreferrer\">Runtime.version()</a>.</p>\n<p>The object returned has interesting methods such as feature() or compareToIgnoreOptional() what might be easier to work with (e.g. <code>Runtime.version().feature() &gt;= 11</code>).</p>\n"},{"tags":[],"owner":{"account_id":16567032,"reputation":785,"user_id":11971304,"display_name":"mahee96"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693465426,"creation_date":1693464947,"answer_id":77013452,"question_id":5103121,"body_markdown":"we can use the JVM runtime&#39;s **class bytecode version** to check against required JVM release:\r\n\r\nThis solution doesn&#39;t depend on any Enum constants etc and is backward compatible.\r\n\r\n**NOTE**: *This solution **works irrespective of the bytecode version of the current executing class** or other classes/jars in runtime classpath because the property **reflects the assigned bytecode version for a given JDK release**.*  \r\n  \r\n**example:** if a class is compiled at sourceCompatibility/targetCompatiblity 1.8/release level 8, but if it is executed using Java 11 JDK/runtime, then the `java.class.version` system property value will still be 55(Java11) though the executing class bytecode level is 52(Java8). \r\n```\r\npublic class Java9Check{\r\n    public static void main(String[] args){\r\n        String bytecodeStr = System.getProperty(&quot;java.class.version&quot;);\r\n        try {\r\n            double bytecodeVal = Double.parseDouble(bytecodeStr);\r\n            int bytecode = (int) bytecodeVal;\r\n            // if Java 8 or below, return ExitCode(1)\r\n            if (bytecode &lt; 53) {\r\n                System.out.println(&quot;Java8 or below&quot;);\r\n                System.exit(1);\r\n            }\r\n            System.out.println(&quot;Java9 or above&quot;);\r\n        } catch (NumberFormatException ignored) {}\r\n        // proceed with normal exit, ExitCode(0)\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nJDK Version  Class File Version\r\nJava 1.0     45.0\r\nJava 1.1     45.3\r\nJava 1.2     46.0\r\nJava 1.3     47.0\r\nJava 1.4     48.0\r\nJava 5       49.0\r\nJava 6       50.0\r\nJava 7       51.0\r\nJava 8       52.0\r\nJava 9       53.0\r\nJava 10      54.0\r\nJava 11      55.0\r\nJava 12      56.0\r\nJava 13      57.0\r\nJava 14      58.0\r\nJava 15      59.0\r\nJava 16      60.0\r\nJava 17      61.0\r\nJava 18      62.0\r\nJava 19      63.0\r\nJava 20      64.0\r\nJava 21      65.0\r\nJava 22      66.0\r\n```","title":"How to find the JVM version from a program?","body":"<p>we can use the JVM runtime's <strong>class bytecode version</strong> to check against required JVM release:</p>\n<p>This solution doesn't depend on any Enum constants etc and is backward compatible.</p>\n<p><strong>NOTE</strong>: <em>This solution <strong>works irrespective of the bytecode version of the current executing class</strong> or other classes/jars in runtime classpath because the property <strong>reflects the assigned bytecode version for a given JDK release</strong>.</em></p>\n<p><strong>example:</strong> if a class is compiled at sourceCompatibility/targetCompatiblity 1.8/release level 8, but if it is executed using Java 11 JDK/runtime, then the <code>java.class.version</code> system property value will still be 55(Java11) though the executing class bytecode level is 52(Java8).</p>\n<pre><code>public class Java9Check{\n    public static void main(String[] args){\n        String bytecodeStr = System.getProperty(&quot;java.class.version&quot;);\n        try {\n            double bytecodeVal = Double.parseDouble(bytecodeStr);\n            int bytecode = (int) bytecodeVal;\n            // if Java 8 or below, return ExitCode(1)\n            if (bytecode &lt; 53) {\n                System.out.println(&quot;Java8 or below&quot;);\n                System.exit(1);\n            }\n            System.out.println(&quot;Java9 or above&quot;);\n        } catch (NumberFormatException ignored) {}\n        // proceed with normal exit, ExitCode(0)\n    }\n}\n</code></pre>\n<pre><code>JDK Version  Class File Version\nJava 1.0     45.0\nJava 1.1     45.3\nJava 1.2     46.0\nJava 1.3     47.0\nJava 1.4     48.0\nJava 5       49.0\nJava 6       50.0\nJava 7       51.0\nJava 8       52.0\nJava 9       53.0\nJava 10      54.0\nJava 11      55.0\nJava 12      56.0\nJava 13      57.0\nJava 14      58.0\nJava 15      59.0\nJava 16      60.0\nJava 17      61.0\nJava 18      62.0\nJava 19      63.0\nJava 20      64.0\nJava 21      65.0\nJava 22      66.0\n</code></pre>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138588,"favorite_count":0,"down_vote_count":0,"up_vote_count":147,"accepted_answer_id":5103183,"answer_count":11,"score":147,"last_activity_date":1693465426,"creation_date":1298541978,"question_id":5103121,"body_markdown":"I want to write a sample Java file in which I want to know the JVM version in which the class is running. Is there a way?","title":"How to find the JVM version from a program?","body":"<p>I want to write a sample Java file in which I want to know the JVM version in which the class is running. Is there a way?</p>\n"},{"tags":["java","gradle","intellij-idea","intellij-13"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564131364,"post_id":57216444,"comment_id":100937535,"body_markdown":"Can you try to remove from {configurations.runtimeClasspath.collect...} from jar section from gradle.","body":"Can you try to remove from {configurations.runtimeClasspath.collect...} from jar section from gradle."},{"owner":{"account_id":2537238,"reputation":292,"user_id":2204000,"display_name":"Trevor Lee Oakley"},"score":0,"creation_date":1564132257,"post_id":57216444,"comment_id":100937981,"body_markdown":"@Sambit - same error after that change.","body":"@Sambit - same error after that change."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1564139209,"post_id":57216444,"comment_id":100941790,"body_markdown":"Recreate the JAR file.","body":"Recreate the JAR file."},{"owner":{"account_id":2537238,"reputation":292,"user_id":2204000,"display_name":"Trevor Lee Oakley"},"score":0,"creation_date":1564140599,"post_id":57216444,"comment_id":100942543,"body_markdown":"@user207421 works now, issue was two manifest files.","body":"@user207421 works now, issue was two manifest files."}],"answers":[{"comments":[{"owner":{"account_id":2537238,"reputation":292,"user_id":2204000,"display_name":"Trevor Lee Oakley"},"score":0,"creation_date":1564132235,"post_id":57216563,"comment_id":100937966,"body_markdown":"same error - more details - trevor@trevor-Lenovo-YOGA-510-14AST:~/decent/HelloWorldArt$ find ./ -name MANIFEST.MF\n./src/main/java/META-INF/MANIFEST.MF\n./META-INF/MANIFEST.MF\ntrevor@trevor-Lenovo-YOGA-510-14AST:~/decent/HelloWorldArt$ more ./META-INF/MANIFEST.MF\nManifest-Version: 1.0\nMain-Class: Hello\n\ntrevor@trevor-Lenovo-YOGA-510-14AST:~/decent/HelloWorldArt - Not sure if the blank line makes a difference in the manifest at the end.","body":"same error - more details - trevor@trevor-Lenovo-YOGA-510-14AST:~/decent/HelloWorldArt$ find ./ -name MANIFEST.MF ./src/main/java/META-INF/MANIFEST.MF ./META-INF/MANIFEST.MF trevor@trevor-Lenovo-YOGA-510-14AST:~/decent/HelloWorldArt$ more ./META-INF/MANIFEST.MF Manifest-Version: 1.0 Main-Class: Hello  trevor@trevor-Lenovo-YOGA-510-14AST:~/decent/HelloWorldArt - Not sure if the blank line makes a difference in the manifest at the end."},{"owner":{"account_id":4905304,"reputation":502,"user_id":3952202,"display_name":"Michael Kleimann"},"score":0,"creation_date":1564132411,"post_id":57216563,"comment_id":100938074,"body_markdown":"Have you tried the most basic version of the jar task without the &quot;from&quot; and &quot;archivesBaseName&quot;?\n\n`jar {\n    manifest {\n        attributes &#39;Main-Class&#39;: &#39;Hello&#39;\n    }\n}`","body":"Have you tried the most basic version of the jar task without the &quot;from&quot; and &quot;archivesBaseName&quot;?  <code>jar {     manifest {         attributes &#39;Main-Class&#39;: &#39;Hello&#39;     } }</code>"},{"owner":{"account_id":4905304,"reputation":502,"user_id":3952202,"display_name":"Michael Kleimann"},"score":0,"creation_date":1564132558,"post_id":57216563,"comment_id":100938148,"body_markdown":"Also why do you have a manifest in your src folder if you generate it with gradle?","body":"Also why do you have a manifest in your src folder if you generate it with gradle?"},{"owner":{"account_id":2537238,"reputation":292,"user_id":2204000,"display_name":"Trevor Lee Oakley"},"score":0,"creation_date":1564132727,"post_id":57216563,"comment_id":100938258,"body_markdown":"Michael Kleinmann - I specified the directory in the Build Artifact project structure as the src one, that was the default by Intellij. Should I change this? It seems to have two manifests now as I posted above. I think that could be one issue.","body":"Michael Kleinmann - I specified the directory in the Build Artifact project structure as the src one, that was the default by Intellij. Should I change this? It seems to have two manifests now as I posted above. I think that could be one issue."},{"owner":{"account_id":4905304,"reputation":502,"user_id":3952202,"display_name":"Michael Kleimann"},"score":0,"creation_date":1564133118,"post_id":57216563,"comment_id":100938462,"body_markdown":"Ok I am not aware with these IntelliJ defaults. I just created a new gradle project in IntelliJ, added the Hello class under src/main/java and configured the jar task in the build.gradle like this:\n\n`jar { manifest { attributes &#39;Main-Class&#39;: &#39;Hello&#39; } }`\n\nIt builds and runs without any problem, so I would say you need to remove your manifest from the src folder because you are generating it with gradle.","body":"Ok I am not aware with these IntelliJ defaults. I just created a new gradle project in IntelliJ, added the Hello class under src/main/java and configured the jar task in the build.gradle like this:  <code>jar { manifest { attributes &#39;Main-Class&#39;: &#39;Hello&#39; } }</code>  It builds and runs without any problem, so I would say you need to remove your manifest from the src folder because you are generating it with gradle."},{"owner":{"account_id":4905304,"reputation":502,"user_id":3952202,"display_name":"Michael Kleimann"},"score":0,"creation_date":1564133246,"post_id":57216563,"comment_id":100938541,"body_markdown":"Also what you specify in the IntelliJ project structure settings doesn&#39;t affect your gradle build. Everything gradle needs to know is taken from your `build.gradle` and the rest is convention over configuration.","body":"Also what you specify in the IntelliJ project structure settings doesn&#39;t affect your gradle build. Everything gradle needs to know is taken from your <code>build.gradle</code> and the rest is convention over configuration."},{"owner":{"account_id":2537238,"reputation":292,"user_id":2204000,"display_name":"Trevor Lee Oakley"},"score":0,"creation_date":1564134006,"post_id":57216563,"comment_id":100938983,"body_markdown":"worked!!! Solution - two manifests existed - I deleted both. Deleted at the cli in Ubuntu, also in Intellij, removed the src default and then regenerated, and that all worked.","body":"worked!!! Solution - two manifests existed - I deleted both. Deleted at the cli in Ubuntu, also in Intellij, removed the src default and then regenerated, and that all worked."}],"tags":[],"owner":{"account_id":4905304,"reputation":502,"user_id":3952202,"display_name":"Michael Kleimann"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564134925,"creation_date":1564131541,"answer_id":57216563,"question_id":57216444,"body_markdown":"In your manifest you have defined your main class as `com.HelloWorldTesting.Hello`.\r\nLooking at your project tree I can see that the Hello.java class is on your source folder root and is not in the package `com.HelloWorldTesting`. \r\n\r\nTry setting your main class like this:\r\n`&quot;Main-Class&quot;: &quot;Hello&quot;`\r\n\r\n\r\nAlso you have a manifest file in your src folder **and** you are generating a manifest with gradle:\r\n   \r\n    manifest {\r\n        attributes(\r\n                &#39;Implementation-Title&#39;: &#39;Hello World&#39;,\r\n                &#39;Main-Class&#39;: &#39;Hello&#39;\r\n        )\r\n    }\r\n\r\nHaving multiple manifest files leads to this unexpected behaviour. Delete the manifest from your source folder, run `gradle clean` and the build should work after that.","title":"How to solve Error: Invalid or corrupt jarfile","body":"<p>In your manifest you have defined your main class as <code>com.HelloWorldTesting.Hello</code>.\nLooking at your project tree I can see that the Hello.java class is on your source folder root and is not in the package <code>com.HelloWorldTesting</code>. </p>\n\n<p>Try setting your main class like this:\n<code>\"Main-Class\": \"Hello\"</code></p>\n\n<p>Also you have a manifest file in your src folder <strong>and</strong> you are generating a manifest with gradle:</p>\n\n<pre><code>manifest {\n    attributes(\n            'Implementation-Title': 'Hello World',\n            'Main-Class': 'Hello'\n    )\n}\n</code></pre>\n\n<p>Having multiple manifest files leads to this unexpected behaviour. Delete the manifest from your source folder, run <code>gradle clean</code> and the build should work after that.</p>\n"}],"owner":{"account_id":2537238,"reputation":292,"user_id":2204000,"display_name":"Trevor Lee Oakley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20305,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693465255,"creation_date":1564131095,"question_id":57216444,"body_markdown":"I have a Intellij Gradle project for HelloWorld. The program runs in the IDE but running the jar files with an invalid or corrupt jar error. I made several changes to the build.gradle and Manifest and still this does not run. I am using Ubuntu 16.04.\r\n\r\nI think the issue is related to the manifest.\r\n\r\nIDE -\r\n\r\nIntellij - 2019.2\r\nGradle Project\r\n\r\n    Java - java version &quot;1.8.0_191&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_191-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)\r\n\r\nbuild.gradle -\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;com.HelloWorldTesting&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    jar {\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        manifest {\r\n            attributes(\r\n                    &#39;Implementation-Title&#39;: &#39;Hello World&#39;,\r\n                    &quot;Main-Class&quot;: &quot;com.HelloWorldTesting.Hello&quot;\r\n            )\r\n        }\r\n        archivesBaseName = &#39;app&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    }\r\n\r\nClass -\r\n\r\n    public class Hello {\r\n        public static void main(String[] args) {\r\n            // Prints &quot;Hello, World&quot; to the terminal window.\r\n            System.out.println(&quot;Hello, World&quot;);\r\n        }\r\n    }\r\n\r\n&gt; Error: Invalid or corrupt jarfile HelloWorldArt.main.jar\r\n\r\n\r\ntree - \r\n&lt;pre&gt;\r\n.\r\n├── build\r\n│&#160;&#160; ├── classes\r\n│&#160;&#160; │&#160;&#160; └── java\r\n│&#160;&#160; │&#160;&#160;     └── main\r\n│&#160;&#160; │&#160;&#160;         └── Hello.class\r\n│&#160;&#160; └── tmp\r\n│&#160;&#160;     └── compileJava\r\n├── build.gradle\r\n├── gradle\r\n│&#160;&#160; └── wrapper\r\n│&#160;&#160;     ├── gradle-wrapper.jar\r\n│&#160;&#160;     └── gradle-wrapper.properties\r\n├── gradlew\r\n├── gradlew.bat\r\n├── META-INF\r\n│&#160;&#160; └── MANIFEST.MF\r\n├── out\r\n│&#160;&#160; └── artifacts\r\n│&#160;&#160;     ├── HelloWorldArt_jar\r\n│&#160;&#160;     │&#160;&#160; └── HelloWorldArt.jar\r\n│&#160;&#160;     └── HelloWorldArt_main_jar\r\n│&#160;&#160;         └── HelloWorldArt.main.jar\r\n├── settings.gradle\r\n├── src\r\n│&#160;&#160; ├── main\r\n│&#160;&#160; │&#160;&#160; ├── java\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; ├── Hello.java\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; └── META-INF\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160;     └── MANIFEST.MF\r\n│&#160;&#160; │&#160;&#160; └── resources\r\n│&#160;&#160; └── test\r\n│&#160;&#160;     ├── java\r\n│&#160;&#160;     └── resources\r\n&lt;/pre&gt;","title":"How to solve Error: Invalid or corrupt jarfile","body":"<p>I have a Intellij Gradle project for HelloWorld. The program runs in the IDE but running the jar files with an invalid or corrupt jar error. I made several changes to the build.gradle and Manifest and still this does not run. I am using Ubuntu 16.04.</p>\n\n<p>I think the issue is related to the manifest.</p>\n\n<p>IDE -</p>\n\n<p>Intellij - 2019.2\nGradle Project</p>\n\n<pre><code>Java - java version \"1.8.0_191\"\nJava(TM) SE Runtime Environment (build 1.8.0_191-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)\n</code></pre>\n\n<p>build.gradle -</p>\n\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'com.HelloWorldTesting'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\njar {\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    manifest {\n        attributes(\n                'Implementation-Title': 'Hello World',\n                \"Main-Class\": \"com.HelloWorldTesting.Hello\"\n        )\n    }\n    archivesBaseName = 'app'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p>Class -</p>\n\n<pre><code>public class Hello {\n    public static void main(String[] args) {\n        // Prints \"Hello, World\" to the terminal window.\n        System.out.println(\"Hello, World\");\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Error: Invalid or corrupt jarfile HelloWorldArt.main.jar</p>\n</blockquote>\n\n<p>tree - </p>\n\n<pre>\n.\n├── build\n│   ├── classes\n│   │   └── java\n│   │       └── main\n│   │           └── Hello.class\n│   └── tmp\n│       └── compileJava\n├── build.gradle\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradlew\n├── gradlew.bat\n├── META-INF\n│   └── MANIFEST.MF\n├── out\n│   └── artifacts\n│       ├── HelloWorldArt_jar\n│       │   └── HelloWorldArt.jar\n│       └── HelloWorldArt_main_jar\n│           └── HelloWorldArt.main.jar\n├── settings.gradle\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   ├── Hello.java\n│   │   │   └── META-INF\n│   │   │       └── MANIFEST.MF\n│   │   └── resources\n│   └── test\n│       ├── java\n│       └── resources\n</pre>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1333617635,"post_id":10025763,"comment_id":12821971,"body_markdown":"What is the scenario causing this?","body":"What is the scenario causing this?"},{"owner":{"account_id":981035,"reputation":260,"user_id":1000749,"display_name":"onlykalu"},"score":0,"creation_date":1333960052,"post_id":10025763,"comment_id":12891207,"body_markdown":"Initially when Jboss starts it gets 250 files open then for each hit it takes around 100 to 120 files open and close around 10 to 20 files. In my case I just login to my app and log off for that process it keep open more 100 files. If I do a load testing when 30 users loged in I can see more than 1000 files open. This operation not using any I/O operations.","body":"Initially when Jboss starts it gets 250 files open then for each hit it takes around 100 to 120 files open and close around 10 to 20 files. In my case I just login to my app and log off for that process it keep open more 100 files. If I do a load testing when 30 users loged in I can see more than 1000 files open. This operation not using any I/O operations."}],"answers":[{"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1333618211,"post_id":10026037,"comment_id":12822191,"body_markdown":"Initially missed &quot;increasing ulimit is not a solution for me&quot;. But if it&#39;s 1024 it&#39;s really too low.","body":"Initially missed &quot;increasing ulimit is not a solution for me&quot;. But if it&#39;s 1024 it&#39;s really too low."},{"owner":{"account_id":981035,"reputation":260,"user_id":1000749,"display_name":"onlykalu"},"score":0,"creation_date":1334033645,"post_id":10026037,"comment_id":12911437,"body_markdown":"I have done this thing but it not works for me even for 200,000  files it get fail after some operations","body":"I have done this thing but it not works for me even for 200,000  files it get fail after some operations"}],"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333618033,"creation_date":1333618033,"answer_id":10026037,"question_id":10025763,"body_markdown":"We had experienced the similar error on RHEL 5 under moderate load.\r\n\r\nIt appeared that default max open files limit is just 1024 which is too low.\r\n\r\nCheck: `ulimit -n`\r\n\r\nFix for current session: `ulimit -n 102400`\r\n\r\nPersistent fix: `echo yourusername        -       nofile          102400 &gt;&gt;/etc/security/limits.conf` and restart session\r\n\r\nSee also \r\nhttps://serverfault.com/questions/44182/is-there-a-way-to-set-ulimit-for-all-root-processes\r\n","title":"Jboss - java.net.SocketException: Too many open files","body":"<p>We had experienced the similar error on RHEL 5 under moderate load.</p>\n\n<p>It appeared that default max open files limit is just 1024 which is too low.</p>\n\n<p>Check: <code>ulimit -n</code></p>\n\n<p>Fix for current session: <code>ulimit -n 102400</code></p>\n\n<p>Persistent fix: <code>echo yourusername        -       nofile          102400 &gt;&gt;/etc/security/limits.conf</code> and restart session</p>\n\n<p>See also \n<a href=\"https://serverfault.com/questions/44182/is-there-a-way-to-set-ulimit-for-all-root-processes\">https://serverfault.com/questions/44182/is-there-a-way-to-set-ulimit-for-all-root-processes</a></p>\n"},{"tags":[],"owner":{"account_id":552227,"reputation":666,"user_id":917293,"accept_rate":60,"display_name":"Sergey Savenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1333619907,"creation_date":1333619907,"answer_id":10026466,"question_id":10025763,"body_markdown":"You just can&#39;t do anything with it until you either increase ulimit or launch more processes. I don&#39;t know how you can run multiple instances of your server - check out the manual. Good luck!","title":"Jboss - java.net.SocketException: Too many open files","body":"<p>You just can't do anything with it until you either increase ulimit or launch more processes. I don't know how you can run multiple instances of your server - check out the manual. Good luck!</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1384470365,"post_id":12173594,"comment_id":29762093,"body_markdown":"More likely to be files. Webapps don&#39;t normally open sockets themselves.","body":"More likely to be files. Webapps don&#39;t normally open sockets themselves."}],"tags":[],"owner":{"account_id":1263155,"reputation":4723,"user_id":1221005,"accept_rate":69,"display_name":"mostar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346228409,"creation_date":1346228409,"answer_id":12173594,"question_id":10025763,"body_markdown":"It seems that some piece of code leaves sockets open. Make sure that you close `Socket`s when you&#39;re done with them.","title":"Jboss - java.net.SocketException: Too many open files","body":"<p>It seems that some piece of code leaves sockets open. Make sure that you close <code>Socket</code>s when you're done with them.</p>\n"}],"owner":{"account_id":981035,"reputation":260,"user_id":1000749,"display_name":"onlykalu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10091,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1693465255,"creation_date":1333616956,"question_id":10025763,"body_markdown":"Proper solution for below error pls, increasing ulimit is not a solution for me.\r\n\r\nEnviroment - java 7 and Jboss 4.3.2.GA on red hat\r\n\r\n    22:30:08,913 ERROR [JIoEndpoint] Socket accept failed\r\n    java.net.SocketException: Too many open files\r\n    at java.net.PlainSocketImpl.socketAccept(Native Method)\r\n    at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:396)\r\n    at java.net.ServerSocket.implAccept(ServerSocket.java:522)\r\n    at java.net.ServerSocket.accept(ServerSocket.java:490)\r\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:61)\r\n    at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:309)\r\n    at java.lang.Thread.run(Thread.java:722)","title":"Jboss - java.net.SocketException: Too many open files","body":"<p>Proper solution for below error pls, increasing ulimit is not a solution for me.</p>\n\n<p>Enviroment - java 7 and Jboss 4.3.2.GA on red hat</p>\n\n<pre><code>22:30:08,913 ERROR [JIoEndpoint] Socket accept failed\njava.net.SocketException: Too many open files\nat java.net.PlainSocketImpl.socketAccept(Native Method)\nat java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:396)\nat java.net.ServerSocket.implAccept(ServerSocket.java:522)\nat java.net.ServerSocket.accept(ServerSocket.java:490)\nat org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:61)\nat org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:309)\nat java.lang.Thread.run(Thread.java:722)\n</code></pre>\n"},{"tags":["java","spring-boot","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693465150,"creation_date":1693465150,"answer_id":77013475,"question_id":77003891,"body_markdown":"First of all the `@RelationshipProeprties` class is not needed, nor used in your example. You would have to put it as the generic type into the `User&#39;s` relationship definition. But since you&#39;re not adding any properties to it, you _might_ (*) skip it.\r\n\r\nRegarding your main problem: Spring Data Neo4j loads everything that is reachable from a domain model perspective by default.\r\nHaving this circular dependency between `User` and `User` (which makes sense in the domain you are working) is expected to end in this scenario.\r\nOlder versions of SDN created a virtual barrier of 2 hops when fetching data, if not parameterized to load more.\r\nIn the newer versions SDN elevated the projections concept to define those barriers much more fine-grained. (https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#projections.interfaces)\r\n\r\nGiven the use-case of loading a `User` and all of her/his followers, you might consider defining a projection like\r\n\r\n```\r\ninterface UserProjection {\r\n String getName();\r\n Set&lt;Follower&gt; getFollowsReceived();\r\n Set&lt;Follower&gt; getFollowsGiven();\r\n}\r\n\r\ninterface Follower {\r\n String getName();\r\n // no relationships defined here to break the circle\r\n}\r\n```\r\n\r\nAnd use it in the repository like this:\r\n\r\n```\r\ninterface UserRepository extends Neo4jRepository&lt;User, Long&gt; {\r\n  UserProjection findByName(String name);\r\n}\r\n```\r\n(written from the top of my head, please look at the linked documentation to figure out more details)\r\n\r\nThe important bit here is that you are only referring to another projection interface (`Follower`) within the &quot;root&quot; projection (`UserProjection`).\r\nIf you would refer to any defined entity (`@Node` annotated), SDN will fall back into the cyclic loading mechanism to find everything reachable again.\r\n\r\n\\* Having a wrapper around the identifier gives you a performance advantage because Spring Data Neo4j uses this information to figure out if a relation already exists in the database. But for this you have to use it in your `Sets` instead of the direct relationship to the other `Users`.\r\n","title":"Neo4j spring data design","body":"<p>First of all the <code>@RelationshipProeprties</code> class is not needed, nor used in your example. You would have to put it as the generic type into the <code>User's</code> relationship definition. But since you're not adding any properties to it, you <em>might</em> (*) skip it.</p>\n<p>Regarding your main problem: Spring Data Neo4j loads everything that is reachable from a domain model perspective by default.\nHaving this circular dependency between <code>User</code> and <code>User</code> (which makes sense in the domain you are working) is expected to end in this scenario.\nOlder versions of SDN created a virtual barrier of 2 hops when fetching data, if not parameterized to load more.\nIn the newer versions SDN elevated the projections concept to define those barriers much more fine-grained. (<a href=\"https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#projections.interfaces\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#projections.interfaces</a>)</p>\n<p>Given the use-case of loading a <code>User</code> and all of her/his followers, you might consider defining a projection like</p>\n<pre><code>interface UserProjection {\n String getName();\n Set&lt;Follower&gt; getFollowsReceived();\n Set&lt;Follower&gt; getFollowsGiven();\n}\n\ninterface Follower {\n String getName();\n // no relationships defined here to break the circle\n}\n</code></pre>\n<p>And use it in the repository like this:</p>\n<pre><code>interface UserRepository extends Neo4jRepository&lt;User, Long&gt; {\n  UserProjection findByName(String name);\n}\n</code></pre>\n<p>(written from the top of my head, please look at the linked documentation to figure out more details)</p>\n<p>The important bit here is that you are only referring to another projection interface (<code>Follower</code>) within the &quot;root&quot; projection (<code>UserProjection</code>).\nIf you would refer to any defined entity (<code>@Node</code> annotated), SDN will fall back into the cyclic loading mechanism to find everything reachable again.</p>\n<p>* Having a wrapper around the identifier gives you a performance advantage because Spring Data Neo4j uses this information to figure out if a relation already exists in the database. But for this you have to use it in your <code>Sets</code> instead of the direct relationship to the other <code>Users</code>.</p>\n"}],"owner":{"account_id":4165247,"reputation":378,"user_id":3414342,"accept_rate":56,"display_name":"sjaymj62"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693465150,"creation_date":1693346839,"question_id":77003891,"body_markdown":"I am currently getting started with Neo4j and I would like to create a basic social media like app to understand more.\r\n\r\nI am using spring data neo4j to connect my spring boot backend with neo4j.\r\n\r\nMy application is very simple and it just lets a User Follow another User.\r\n\r\nUsing Cypher queries, everything is quite straight forward. But I would like to not write any queries explicitly and use Repository to get the data I desire.\r\n\r\nHere is my User class\r\n```\r\n    @Node\r\n    public class User {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n\r\n    @Relationship(type=&quot;FOLLOWS&quot;, direction = Relationship.Direction.INCOMING)\r\n    private HashSet&lt;User&gt; followsReceived = new HashSet&lt;&gt;();\r\n\r\n    @Relationship(type=&quot;FOLLOWS&quot;, direction = Relationship.Direction.OUTGOING)\r\n    private HashSet&lt;User&gt; followsGiven = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nAnd this is my Follows class\r\n\r\n```\r\n@RelationshipProperties\r\npublic class Follow {\r\n    @Id @GeneratedValue\r\n    private Long id;\r\n\r\n    @TargetNode\r\n    private User endNode;\r\n}\r\n```\r\n\r\nDoes this design make sense.\r\n\r\nI am now a bit confused because for example if I want to find the Users a particular User follows, I get a recursive structure that loads almost the entire database in spite of implementing pagination.\r\n\r\nCan someone please suggest me a cleaner design wherein getting users I follow and Users who follow me will not load the entire DB.\r\n\r\nIf possible I would like to implement this without the @Query annotation.","title":"Neo4j spring data design","body":"<p>I am currently getting started with Neo4j and I would like to create a basic social media like app to understand more.</p>\n<p>I am using spring data neo4j to connect my spring boot backend with neo4j.</p>\n<p>My application is very simple and it just lets a User Follow another User.</p>\n<p>Using Cypher queries, everything is quite straight forward. But I would like to not write any queries explicitly and use Repository to get the data I desire.</p>\n<p>Here is my User class</p>\n<pre><code>    @Node\n    public class User {\n    @Id\n    private Long id;\n    private String name;\n\n    @Relationship(type=&quot;FOLLOWS&quot;, direction = Relationship.Direction.INCOMING)\n    private HashSet&lt;User&gt; followsReceived = new HashSet&lt;&gt;();\n\n    @Relationship(type=&quot;FOLLOWS&quot;, direction = Relationship.Direction.OUTGOING)\n    private HashSet&lt;User&gt; followsGiven = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>And this is my Follows class</p>\n<pre><code>@RelationshipProperties\npublic class Follow {\n    @Id @GeneratedValue\n    private Long id;\n\n    @TargetNode\n    private User endNode;\n}\n</code></pre>\n<p>Does this design make sense.</p>\n<p>I am now a bit confused because for example if I want to find the Users a particular User follows, I get a recursive structure that loads almost the entire database in spite of implementing pagination.</p>\n<p>Can someone please suggest me a cleaner design wherein getting users I follow and Users who follow me will not load the entire DB.</p>\n<p>If possible I would like to implement this without the @Query annotation.</p>\n"},{"tags":["java","selenium-webdriver","path","cucumber","extentreports"],"owner":{"account_id":14238148,"reputation":85,"user_id":10285379,"display_name":"kishore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693464790,"creation_date":1693464488,"question_id":77013416,"body_markdown":"I&#39;m using grasshopper library, according to the documentation provided, I have to pass two paths that where the json files located as well as media paths(screenshots). \r\n\r\n    List&lt;String&gt; jsonReports = Arrays.asList(new String[] { \r\n    \t\t\t\t&quot;setup/first/ExtentJson.json&quot;,\r\n    \t\t\t\t&quot;setup/second/ExtentJson.json&quot; });\t\r\n\r\n    List&lt;String&gt; screenshots = Arrays.asList(new String[] { \r\n    \t\t\t&quot;setup/first/media&quot;,\r\n    \t\t\t&quot;setup/second/media&quot;});\r\n\r\nand also final path where the merged reports will be placed.\r\n\r\n    String mergedReportsDir = &quot;setup/final&quot;;\r\n\r\nand trigger the merge using \r\n\r\n    pojoOption = PojoOptions.builder().jsonReportPaths(jsonReports).mergedReportDirPath(mergedReportsDir)\r\n    \t\t\t\t\t.configType(&quot;xml&quot;).mediaPaths(screenshots).build();\r\n    \r\n    \t\tCombiner.main(pojoOption);\r\n\r\nNow the issue is, In the reports I can see it was merged, but screenshots are not coming. Ideally once I trigger the merge process, there should be merged json, one html reports and one media folder with screenshots placed in the `setup/final` folder, I can see json, html and media folder too but there isn&#39;t any screenshots in the `media` folder, so when I open the merged html reports, screenshots showing some broken thumbnail. \r\n\r\nAnd also, I have checked the which path it&#39;s taking in the merged json, I found this \r\n\r\n    `&quot;media&quot;:{&quot;path&quot;:&quot;../../screenshots/embedded1.png&quot;}}` \r\nthis path was in the `extent.properties` file for individual run.\r\n\r\nSo, someone can help why screen are not reflecting in the merged json.\r\n\r\nand `setup` is the directly under the project folder.\r\n\r\n[this][1] is the link for the documentation I&#39;ve used.\r\n\r\n\r\n  [1]: https://ghchirp.site/2882/","title":"I&#39;m trying to merge two extent reports using extent report json files..it&#39;s merged but screenshots are not reflecting","body":"<p>I'm using grasshopper library, according to the documentation provided, I have to pass two paths that where the json files located as well as media paths(screenshots).</p>\n<pre><code>List&lt;String&gt; jsonReports = Arrays.asList(new String[] { \n                &quot;setup/first/ExtentJson.json&quot;,\n                &quot;setup/second/ExtentJson.json&quot; });  \n\nList&lt;String&gt; screenshots = Arrays.asList(new String[] { \n            &quot;setup/first/media&quot;,\n            &quot;setup/second/media&quot;});\n</code></pre>\n<p>and also final path where the merged reports will be placed.</p>\n<pre><code>String mergedReportsDir = &quot;setup/final&quot;;\n</code></pre>\n<p>and trigger the merge using</p>\n<pre><code>pojoOption = PojoOptions.builder().jsonReportPaths(jsonReports).mergedReportDirPath(mergedReportsDir)\n                    .configType(&quot;xml&quot;).mediaPaths(screenshots).build();\n\n        Combiner.main(pojoOption);\n</code></pre>\n<p>Now the issue is, In the reports I can see it was merged, but screenshots are not coming. Ideally once I trigger the merge process, there should be merged json, one html reports and one media folder with screenshots placed in the <code>setup/final</code> folder, I can see json, html and media folder too but there isn't any screenshots in the <code>media</code> folder, so when I open the merged html reports, screenshots showing some broken thumbnail.</p>\n<p>And also, I have checked the which path it's taking in the merged json, I found this</p>\n<pre><code>`&quot;media&quot;:{&quot;path&quot;:&quot;../../screenshots/embedded1.png&quot;}}` \n</code></pre>\n<p>this path was in the <code>extent.properties</code> file for individual run.</p>\n<p>So, someone can help why screen are not reflecting in the merged json.</p>\n<p>and <code>setup</code> is the directly under the project folder.</p>\n<p><a href=\"https://ghchirp.site/2882/\" rel=\"nofollow noreferrer\">this</a> is the link for the documentation I've used.</p>\n"},{"tags":["java","intellij-idea","system-properties"],"comments":[{"owner":{"account_id":1643313,"reputation":1410,"user_id":1515386,"display_name":"Stan"},"score":1,"creation_date":1461922494,"post_id":36934673,"comment_id":61428784,"body_markdown":"Kindly check this topic http://stackoverflow.com/questions/5103121/how-to-find-the-jvm-version-from-a-program","body":"Kindly check this topic <a href=\"http://stackoverflow.com/questions/5103121/how-to-find-the-jvm-version-from-a-program\" title=\"how to find the jvm version from a program\">stackoverflow.com/questions/5103121/&hellip;</a>"},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1461923018,"post_id":36934673,"comment_id":61429110,"body_markdown":"It may be stupid but are you sure that the Java that version you are checking has any update to show?","body":"It may be stupid but are you sure that the Java that version you are checking has any update to show?"},{"owner":{"account_id":2856255,"reputation":1536,"user_id":2452467,"accept_rate":14,"display_name":"harunurhan"},"score":0,"creation_date":1461923417,"post_id":36934673,"comment_id":61429395,"body_markdown":"@m.antkowicz yes it has, please see my second edit :)","body":"@m.antkowicz yes it has, please see my second edit :)"}],"answers":[{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1522260078,"creation_date":1461922455,"answer_id":36934743,"question_id":36934673,"body_markdown":"You can get the complete version using this property:\r\n\r\n    java.runtime.version\r\n\r\nThis is an example:\r\n\r\n\tpublic class Test {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(System.getProperty(&quot;java.runtime.version&quot;));\r\n\t\t}\r\n\t}\r\n\r\nOn my machine I get the following output:\r\n\r\n&gt; 1.8.0_92-b14\r\n\r\nIf you only want the part before `-`, use the following system property:\r\n\r\n    java.version\r\n\r\nThis will output:\r\n\r\n&gt; 1.8.0_92\r\n\r\n","title":"How to get java version programmatically with update information","body":"<p>You can get the complete version using this property:</p>\n\n<pre><code>java.runtime.version\n</code></pre>\n\n<p>This is an example:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        System.out.println(System.getProperty(\"java.runtime.version\"));\n    }\n}\n</code></pre>\n\n<p>On my machine I get the following output:</p>\n\n<blockquote>\n  <p>1.8.0_92-b14</p>\n</blockquote>\n\n<p>If you only want the part before <code>-</code>, use the following system property:</p>\n\n<pre><code>java.version\n</code></pre>\n\n<p>This will output:</p>\n\n<blockquote>\n  <p>1.8.0_92</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10253391,"reputation":11,"user_id":7566859,"display_name":"Adarsh Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629224781,"creation_date":1627453244,"answer_id":68555328,"question_id":36934673,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nUse these properties with below code\r\n\r\n    String version = System.getProperty(&quot;java.version&quot;);\r\n    \t\tSystem.out.println(&quot;version : &quot;+version);\r\n\r\n    String vendor = System.getProperty(&quot;java.vendor&quot;);\r\n    \t\tSystem.out.println(&quot;java Vendor : &quot;+vendor);\r\n\r\n    String vm = System.getProperty(&quot;java.vm.name&quot;);\r\n    \t\tSystem.out.println(&quot;java vm name : &quot;+vm);\r\n\r\n**Output :** \r\n\r\nversion : 15\r\n\r\njava Vendor : Oracle Corporation\r\n\r\njava vm name : OpenJDK 64-Bit Server VM\r\n\r\n=======\r\n\r\nfor more command see attached image\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cSPCH.png","title":"How to get java version programmatically with update information","body":"<p><a href=\"https://i.stack.imgur.com/cSPCH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSPCH.png\" alt=\"enter image description here\" /></a></p>\n<p>Use these properties with below code</p>\n<pre><code>String version = System.getProperty(&quot;java.version&quot;);\n        System.out.println(&quot;version : &quot;+version);\n\nString vendor = System.getProperty(&quot;java.vendor&quot;);\n        System.out.println(&quot;java Vendor : &quot;+vendor);\n\nString vm = System.getProperty(&quot;java.vm.name&quot;);\n        System.out.println(&quot;java vm name : &quot;+vm);\n</code></pre>\n<p><strong>Output :</strong></p>\n<p>version : 15</p>\n<p>java Vendor : Oracle Corporation</p>\n<p>java vm name : OpenJDK 64-Bit Server VM</p>\n<p>=======</p>\n<p>for more command see attached image</p>\n"}],"owner":{"account_id":2856255,"reputation":1536,"user_id":2452467,"accept_rate":14,"display_name":"harunurhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6791,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1693464585,"creation_date":1461922283,"question_id":36934673,"body_markdown":"    $java -version\r\n\r\nprints like below\r\n\r\n    java version &quot;1.8.0_40&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_40-b27)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)\r\n\r\nThe info which I am interested in is complete java version, `System.getProperties()` doesn&#39;t seem to have that information. It only has the version before `_`, not update information which is `40` in my case.\r\n\r\n**EDIT:** When I run the a test code `System.out.println(System.getProperty(&quot;java.version&quot;);` prints the complete version. But I am working on a large codebase in which I can&#39;t get the same result. I checked the code-base if the property somehow overwritten at some point, but couldn&#39;t find anything.\r\n\r\n**EDIT_2:** I figured out that `java.version` prints 1.8.0_40 when I manually compile the code with `javac` then run it with `java` on the terminal. However it prints only 1.8.0 when I run it via IntelliJ.\r\n","title":"How to get java version programmatically with update information","body":"<pre><code>$java -version\n</code></pre>\n<p>prints like below</p>\n<pre><code>java version &quot;1.8.0_40&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_40-b27)\nJava HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)\n</code></pre>\n<p>The info which I am interested in is complete java version, <code>System.getProperties()</code> doesn't seem to have that information. It only has the version before <code>_</code>, not update information which is <code>40</code> in my case.</p>\n<p><strong>EDIT:</strong> When I run the a test code <code>System.out.println(System.getProperty(&quot;java.version&quot;);</code> prints the complete version. But I am working on a large codebase in which I can't get the same result. I checked the code-base if the property somehow overwritten at some point, but couldn't find anything.</p>\n<p><strong>EDIT_2:</strong> I figured out that <code>java.version</code> prints 1.8.0_40 when I manually compile the code with <code>javac</code> then run it with <code>java</code> on the terminal. However it prints only 1.8.0 when I run it via IntelliJ.</p>\n"},{"tags":["java","android","android-studio","unsupported-class-version"],"comments":[{"owner":{"account_id":286887,"reputation":1175,"user_id":7429464,"accept_rate":86,"display_name":"FindOutIslamNow"},"score":0,"creation_date":1665403135,"post_id":70632741,"comment_id":130684747,"body_markdown":"For me, I had to upgrade gradle. see https://stackoverflow.com/a/71844064/7429464","body":"For me, I had to upgrade gradle. see <a href=\"https://stackoverflow.com/a/71844064/7429464\">stackoverflow.com/a/71844064/7429464</a>"}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1673585286,"creation_date":1641649280,"answer_id":70632872,"question_id":70632741,"body_markdown":"**class file major version 61** means that the class file you are trying to load has been compiled by Java 17 or higher and can only by used by Java 17+. \r\n\r\nThe Android toolchain only supports classes compiled for Java 11 (if the project is properly configured). So there is something wrong with the library you are trying to load.\r\n\r\nAs you don&#39;t give any details in your question what you are trying to do, it is impossible to give you a more detailed answer.","title":"Android Studio Error &quot;Unsupported class file major version 61&quot;","body":"<p><strong>class file major version 61</strong> means that the class file you are trying to load has been compiled by Java 17 or higher and can only by used by Java 17+.</p>\n<p>The Android toolchain only supports classes compiled for Java 11 (if the project is properly configured). So there is something wrong with the library you are trying to load.</p>\n<p>As you don't give any details in your question what you are trying to do, it is impossible to give you a more detailed answer.</p>\n"},{"comments":[{"owner":{"account_id":24551423,"reputation":81,"user_id":18460535,"display_name":"manoj"},"score":1,"creation_date":1683272586,"post_id":70641605,"comment_id":134344444,"body_markdown":"Strom I am using the JDK version 11.0.15 but still, I couldn&#39;t able to download the library and the compiler showed the error  &quot;Unsupported class file major version 61&quot;.\nis there any specific version I need to use for downloading the library?","body":"Strom I am using the JDK version 11.0.15 but still, I couldn&#39;t able to download the library and the compiler showed the error  &quot;Unsupported class file major version 61&quot;. is there any specific version I need to use for downloading the library?"},{"owner":{"account_id":2685662,"reputation":4276,"user_id":2320127,"display_name":"FDuhen"},"score":0,"creation_date":1693464400,"post_id":70641605,"comment_id":135764966,"body_markdown":"That&#39;s because by default, Flutter uses Android Studio&#39;s embedded JDK, which in your case is Java 17","body":"That&#39;s because by default, Flutter uses Android Studio&#39;s embedded JDK, which in your case is Java 17"}],"tags":[],"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1643979718,"creation_date":1641733906,"answer_id":70641605,"question_id":70632741,"body_markdown":"With the help of [@Robert answer][1],  \r\nI found out that the problem was with JAVA 17 and that the Gradle JDK in use was:  \r\n`Android Studio java home version 17.0.1`\r\n\r\nI changed it to:  \r\n`Android Studio default JDK version 11.0.10` \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen everything worked like before...\r\n\r\nYou&#39;ll find the Gradle Settings under `File &gt; Project Structure...`  \r\n[![enter image description here][3]][3]  \r\n\r\n...or through the Toolbar button: `Project Structure...`  \r\n[![enter image description here][4]][4] \r\n\r\nThen click the `Gradle Settings` link.\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70632872/10749567\r\n  [2]: https://i.stack.imgur.com/M9MIX.png\r\n  [3]: https://i.stack.imgur.com/NpPtR.png\r\n  [4]: https://i.stack.imgur.com/onbQX.png\r\n  [5]: https://i.stack.imgur.com/2O1qQ.png","title":"Android Studio Error &quot;Unsupported class file major version 61&quot;","body":"<p>With the help of <a href=\"https://stackoverflow.com/a/70632872/10749567\">@Robert answer</a>,<br />\nI found out that the problem was with JAVA 17 and that the Gradle JDK in use was:<br />\n<code>Android Studio java home version 17.0.1</code></p>\n<p>I changed it to:<br />\n<code>Android Studio default JDK version 11.0.10</code></p>\n<p><a href=\"https://i.stack.imgur.com/M9MIX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/M9MIX.png\" alt=\"enter image description here\" /></a></p>\n<p>Then everything worked like before...</p>\n<p>You'll find the Gradle Settings under <code>File &gt; Project Structure...</code><br />\n<a href=\"https://i.stack.imgur.com/NpPtR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NpPtR.png\" alt=\"enter image description here\" /></a></p>\n<p>...or through the Toolbar button: <code>Project Structure...</code><br />\n<a href=\"https://i.stack.imgur.com/onbQX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/onbQX.png\" alt=\"enter image description here\" /></a></p>\n<p>Then click the <code>Gradle Settings</code> link.\n<a href=\"https://i.stack.imgur.com/2O1qQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2O1qQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5662054,"reputation":3272,"user_id":4479395,"accept_rate":0,"display_name":"MUHAMMED IQBAL PA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661589337,"creation_date":1661589337,"answer_id":73509483,"question_id":70632741,"body_markdown":"for mac users, please follow this:\r\n\r\ndownload and install java 11 from [here][1]\r\n\r\n\r\nedit your zshrc file with this:\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\nopen terminal and execute :\r\n\r\n    cd /Applications/Android\\ Studio.app/Contents/jre\r\n    ln -s ../jre jdk\r\n    ln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n\r\nNow run `flutter doctor -v`\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/downloads/#java11","title":"Android Studio Error &quot;Unsupported class file major version 61&quot;","body":"<p>for mac users, please follow this:</p>\n<p>download and install java 11 from <a href=\"https://www.oracle.com/java/technologies/downloads/#java11\" rel=\"nofollow noreferrer\">here</a></p>\n<p>edit your zshrc file with this:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n<p>open terminal and execute :</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents/jre\nln -s ../jre jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n</code></pre>\n<p>Now run <code>flutter doctor -v</code></p>\n"},{"tags":[],"owner":{"account_id":15842502,"reputation":668,"user_id":11430593,"display_name":"shraddha patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1675824676,"creation_date":1674111779,"answer_id":75168729,"question_id":70632741,"body_markdown":"Step 1: \r\n- Change version on &#39;gradle-wrapper.properties&#39; file\r\n\r\n&#39;distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip&#39;\r\nto\r\n&#39;distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip&#39;\r\n\r\nStep 2:\r\n- In gradle.properties file remove this line &#39;org.gradle.java.home&#39;\r\n\r\nStep 3:\r\n- In android/build.gradle file:\r\n\r\n      buildscript {\r\n        ext.kotlin_version = &#39;1.7.21&#39;\r\n        dependencies {\r\n          classpath &#39;com.android.tools.build:gradle:7.3.0&#39;\r\n          classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n      }\r\n\r\n","title":"Android Studio Error &quot;Unsupported class file major version 61&quot;","body":"<p>Step 1:</p>\n<ul>\n<li>Change version on 'gradle-wrapper.properties' file</li>\n</ul>\n<p>'distributionUrl=https://services.gradle.org/distributions/gradle-6.7-all.zip'\nto\n'distributionUrl=https://services.gradle.org/distributions/gradle-7.6-all.zip'</p>\n<p>Step 2:</p>\n<ul>\n<li>In gradle.properties file remove this line 'org.gradle.java.home'</li>\n</ul>\n<p>Step 3:</p>\n<ul>\n<li><p>In android/build.gradle file:</p>\n<pre><code>buildscript {\n  ext.kotlin_version = '1.7.21'\n  dependencies {\n    classpath 'com.android.tools.build:gradle:7.3.0'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n  }\n}\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2685662,"reputation":4276,"user_id":2320127,"display_name":"FDuhen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693464533,"creation_date":1693464533,"answer_id":77013418,"question_id":70632741,"body_markdown":"For those ending up on this thread after upgrading to a newer version of Android Studio, here is the official documentation to fix your issue :  \r\nhttps://docs.flutter.dev/release/breaking-changes/android-java-gradle-migration-guide  \r\n\r\nYou&#39;re having this issue because Flutter is, by default, using Android Studio&#39;s embedded JDK Version.\r\nYour best solution here is to embrace the new version of the JDK and to upgrade Gradle accordingly ","title":"Android Studio Error &quot;Unsupported class file major version 61&quot;","body":"<p>For those ending up on this thread after upgrading to a newer version of Android Studio, here is the official documentation to fix your issue :<br />\n<a href=\"https://docs.flutter.dev/release/breaking-changes/android-java-gradle-migration-guide\" rel=\"nofollow noreferrer\">https://docs.flutter.dev/release/breaking-changes/android-java-gradle-migration-guide</a></p>\n<p>You're having this issue because Flutter is, by default, using Android Studio's embedded JDK Version.\nYour best solution here is to embrace the new version of the JDK and to upgrade Gradle accordingly</p>\n"}],"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78623,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":70641605,"answer_count":5,"score":37,"last_activity_date":1693464533,"creation_date":1641648312,"question_id":70632741,"body_markdown":"I moved my Android Studio project from one computer to another computer and now I get this error:\r\n\r\n&gt; &quot;Unsupported class file major version 61&quot; .\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I fix this?\r\n\r\n  [1]: https://i.stack.imgur.com/R0L0J.png","title":"Android Studio Error &quot;Unsupported class file major version 61&quot;","body":"<p>I moved my Android Studio project from one computer to another computer and now I get this error:</p>\n<blockquote>\n<p>&quot;Unsupported class file major version 61&quot; .</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/R0L0J.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R0L0J.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix this?</p>\n"},{"tags":["java","windows","micronaut","graalvm-native-image"],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693464015,"creation_date":1693464015,"question_id":77013373,"body_markdown":"With the environment below\r\n~~~\r\nOS Name:                   Microsoft Windows 11 Pro\r\nOS Version:                10.0.22621 N/A Build 22621\r\n\r\njava version &quot;20.0.2&quot; 2023-07-18\r\nJava(TM) SE Runtime Environment Oracle GraalVM 20.0.2+9.1 (build 20.0.2+9-jvmci-23.0-b14)\r\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 20.0.2+9.1 (build 20.0.2+9-jvmci-23.0-b14, mixed mode, sharing)\r\n\r\nMicronaut Version: 4.0.5\r\n~~~\r\n\r\nWith a simple example project created with micronaut as below [github][1]\r\n~~~\r\nmn create-app com.tugalsan.spi.cloud --build=maven --lang=java --features=graalvm,serialization-jackson\r\nmn create-controller HelloController\r\nmvnw package -Dpackaging=native-image\r\n~~~\r\n\r\nI am facing with so many java.lang.ClassNotFoundException s. And I did not even edit the sample code yet. Is it normal that micronaut behaves like that? [github][2]\r\n~~~\r\nWarning: Could not resolve class com.github.luben.zstd.ZstdCompressCtx for reflection configuration. Reason: java.lang.ClassNotFoundException: com.github.luben.zstd.ZstdCompressCtx.\r\n...\r\nWarning: Could not resolve class io.netty.handler.ssl.OpenSslClientSessionCache for reflection configuration. Reason: java.lang.NoClassDefFoundError: io/netty/internal/tcnative/SSLSessionCache.\r\n...\r\nWarning: Could not resolve class org.conscrypt.ConscryptEngine for reflection configuration. Reason: java.lang.ClassNotFoundException: org.conscrypt.ConscryptEngine.\r\n...\r\nWarning: Could not resolve class org.apache.commons.logging.LogFactory for reflection configuration. Reason: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory.\r\n...\r\nWarning: Could not resolve class org.bouncycastle.jcajce.provider.asymmetric.X509$Mappings for reflection configuration. Reason: java.lang.ClassNotFoundException: org.bouncycastle.jcajce.provider.asymmetric.X509$Mappings.\r\n...\r\n~~~\r\n\r\n\r\n  [1]: https://github.com/tugalsan/com.tugalsan.spi.cloud/blob/main/runTut.txt\r\n  [2]: https://github.com/tugalsan/com.tugalsan.spi.cloud/blob/main/runOut.txt","title":"micronaut native ON windows 11 GIVES java.lang.ClassNotFoundException warnings","body":"<p>With the environment below</p>\n<pre><code>OS Name:                   Microsoft Windows 11 Pro\nOS Version:                10.0.22621 N/A Build 22621\n\njava version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment Oracle GraalVM 20.0.2+9.1 (build 20.0.2+9-jvmci-23.0-b14)\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 20.0.2+9.1 (build 20.0.2+9-jvmci-23.0-b14, mixed mode, sharing)\n\nMicronaut Version: 4.0.5\n</code></pre>\n<p>With a simple example project created with micronaut as below <a href=\"https://github.com/tugalsan/com.tugalsan.spi.cloud/blob/main/runTut.txt\" rel=\"nofollow noreferrer\">github</a></p>\n<pre><code>mn create-app com.tugalsan.spi.cloud --build=maven --lang=java --features=graalvm,serialization-jackson\nmn create-controller HelloController\nmvnw package -Dpackaging=native-image\n</code></pre>\n<p>I am facing with so many java.lang.ClassNotFoundException s. And I did not even edit the sample code yet. Is it normal that micronaut behaves like that? <a href=\"https://github.com/tugalsan/com.tugalsan.spi.cloud/blob/main/runOut.txt\" rel=\"nofollow noreferrer\">github</a></p>\n<pre><code>Warning: Could not resolve class com.github.luben.zstd.ZstdCompressCtx for reflection configuration. Reason: java.lang.ClassNotFoundException: com.github.luben.zstd.ZstdCompressCtx.\n...\nWarning: Could not resolve class io.netty.handler.ssl.OpenSslClientSessionCache for reflection configuration. Reason: java.lang.NoClassDefFoundError: io/netty/internal/tcnative/SSLSessionCache.\n...\nWarning: Could not resolve class org.conscrypt.ConscryptEngine for reflection configuration. Reason: java.lang.ClassNotFoundException: org.conscrypt.ConscryptEngine.\n...\nWarning: Could not resolve class org.apache.commons.logging.LogFactory for reflection configuration. Reason: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory.\n...\nWarning: Could not resolve class org.bouncycastle.jcajce.provider.asymmetric.X509$Mappings for reflection configuration. Reason: java.lang.ClassNotFoundException: org.bouncycastle.jcajce.provider.asymmetric.X509$Mappings.\n...\n</code></pre>\n"},{"tags":["java","aspose","aspose-cells"],"answers":[{"comments":[{"owner":{"account_id":25791245,"reputation":108,"user_id":19535286,"display_name":"Starwolf"},"score":0,"creation_date":1679901457,"post_id":61961538,"comment_id":133797220,"body_markdown":"But we can remove it with code if you have python","body":"But we can remove it with code if you have python"},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":2,"creation_date":1679912433,"post_id":61961538,"comment_id":133799891,"body_markdown":"how did you remove it, could you share the details?","body":"how did you remove it, could you share the details?"},{"owner":{"account_id":25791245,"reputation":108,"user_id":19535286,"display_name":"Starwolf"},"score":1,"creation_date":1679979693,"post_id":61961538,"comment_id":133813609,"body_markdown":"I am sorry You are working at Aspose. I cannot disclose it","body":"I am sorry You are working at Aspose. I cannot disclose it"}],"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590171828,"creation_date":1590171828,"answer_id":61961538,"question_id":61818961,"body_markdown":"Since you are not using and setting a valid license of Aspose.Cells for Java, so your code will be processed in evaluation mode where your output files would always have evaluation watermark, you cannot remove it. See the [document][1] for reference. \r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.\r\n\r\n  [1]: https://docs.aspose.com/display/cellsjava/Licensing","title":"Removing header text aspose cells","body":"<p>Since you are not using and setting a valid license of Aspose.Cells for Java, so your code will be processed in evaluation mode where your output files would always have evaluation watermark, you cannot remove it. See the <a href=\"https://docs.aspose.com/display/cellsjava/Licensing\" rel=\"nofollow noreferrer\">document</a> for reference. </p>\n\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":17569974,"reputation":215,"user_id":12745860,"display_name":"demir5334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61961538,"answer_count":1,"score":0,"last_activity_date":1693463794,"creation_date":1589544825,"question_id":61818961,"body_markdown":"I&#39;m creating a pdf file using aspose cells. When the pdf file created, there is a text which is `Evaluation Only. Created with Aspose.Cells for Java.Copyright 2003 - 2016 Aspose Pty Ltd.` . I want to remove it but I don&#39;t know how to do it.\r\n\r\nHow can I do this?\r\n\r\n[![sample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6IUMT.png\r\n\r\nMy codes is here\r\n\r\n\tWorkbook workbook=new Workbook(&quot;C:\\\\Users\\\\ftk1187\\\\Desktop\\\\DICA.xls&quot;);\r\n\tWorksheet worksheet = workbook.getWorksheets().get(0);\r\n    worksheet.getPageSetup().setPaperSize(PaperSizeType.PAPER_A_4_EXTRA);\r\n    worksheet.getPageSetup().setOrientation(PageOrientationType.PORTRAIT);\r\n    worksheet.getPageSetup().setZoom(75);\r\n    worksheet.setTransitionEvaluation(false);\r\n\tOutputStream out=new FileOutputStream(&quot;C:\\\\Users\\\\ftk1187\\\\Desktop\\\\DICA.pdf&quot;); \t\t\r\n\tworkbook.save(out, SaveFormat.PDF);","title":"Removing header text aspose cells","body":"<p>I'm creating a pdf file using aspose cells. When the pdf file created, there is a text which is <code>Evaluation Only. Created with Aspose.Cells for Java.Copyright 2003 - 2016 Aspose Pty Ltd.</code> . I want to remove it but I don't know how to do it.</p>\n<p>How can I do this?</p>\n<p><a href=\"https://i.stack.imgur.com/6IUMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6IUMT.png\" alt=\"sample\" /></a></p>\n<p>My codes is here</p>\n<pre><code>Workbook workbook=new Workbook(&quot;C:\\\\Users\\\\ftk1187\\\\Desktop\\\\DICA.xls&quot;);\nWorksheet worksheet = workbook.getWorksheets().get(0);\nworksheet.getPageSetup().setPaperSize(PaperSizeType.PAPER_A_4_EXTRA);\nworksheet.getPageSetup().setOrientation(PageOrientationType.PORTRAIT);\nworksheet.getPageSetup().setZoom(75);\nworksheet.setTransitionEvaluation(false);\nOutputStream out=new FileOutputStream(&quot;C:\\\\Users\\\\ftk1187\\\\Desktop\\\\DICA.pdf&quot;);         \nworkbook.save(out, SaveFormat.PDF);\n</code></pre>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1693502541,"post_id":77013137,"comment_id":135773142,"body_markdown":"`chart.getCTChart().getPlotArea().getBarChartArray(0).getSerArray(0).getDPtArray(0).addNewInvertIfNegative().setVal(false);` ?","body":"<code>chart.getCTChart().getPlotArea().getBarChartArray(0).getSerA&zwnj;&#8203;rray(0).getDPtArray(&zwnj;&#8203;0).addNewInvertIfNeg&zwnj;&#8203;ative().setVal(false&zwnj;&#8203;);</code> ?"},{"owner":{"account_id":20133805,"reputation":1,"user_id":19942959,"display_name":"TechLearner"},"score":0,"creation_date":1693543699,"post_id":77013137,"comment_id":135777688,"body_markdown":"Ah yeah it worked Thanks alot @AxelRichter","body":"Ah yeah it worked Thanks alot @AxelRichter"}],"owner":{"account_id":20133805,"reputation":1,"user_id":19942959,"display_name":"TechLearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693462831,"creation_date":1693461224,"question_id":77013137,"body_markdown":"I am trying to set the color for the horizontal bar chart (`XDDFBarChartData`) for the negative value and I am able to do it for achieve it using the solution mentioned in:\r\n\r\n[java apache poi bar chart populate negative bar with color][1]\r\n\r\nAnd then I am explicitly changing the bar color to orange using the Byte Color [] before plotting the chart using below code :\r\n```\r\nfinal byte[][] colors = new byte[][] { new byte[] {(byte)255, 100, 0} }\r\n\r\nchart.getCTChart()\r\n     .getPlotArea()\r\n     .getBarChartArray(0)\r\n     .getSerArray(0)\r\n     .addNewDPt()\r\n     .addNewIdx()\r\n     .setVal(0);\r\n\r\nchart.getCTChart()\r\n     .getPlotArea()\r\n     .getBarChartArray(0)\r\n     .getSerArray(0)\r\n     .getDPtArray(0)\r\n     .addNewSpPr()\r\n     .addNewSolidFill()\r\n     .addNewSrgbClr()\r\n     .setVal(colors[0]);\r\n\r\nchart.plot(data);\r\n```\r\n\r\nHowever, the invertNegative flag is set to true for only this particular point, so it always shows as white. The color of the bar is displayed when we manually uncheck the flag in Excel.\r\n\r\nHow do we set the invertNegative flag to false for the chart for that particular value ?\r\n\r\n```java\r\nchart.getCTChart()\r\n     .getPlotArea()\r\n     .getBarChartArray(0)\r\n     .getSerArray(0)\r\n     .addNewDPt()\r\n     .addNewIdx()\r\n     .setVal(0);\r\n\r\nchart.getCTChart()\r\n     .getPlotArea()\r\n     .getBarChartArray(0)\r\n     .getSerArray(0)\r\n     .getDPtArray(0)\r\n     .addNewSpPr()\r\n     .addNewSolidFill()\r\n     .addNewSrgbClr()\r\n     .setVal(colors[0]);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75994304/java-apache-poi-bar-chart-populate-negative-bar-with-color","title":"How can we set the color for a negative bar in apachePoi?","body":"<p>I am trying to set the color for the horizontal bar chart (<code>XDDFBarChartData</code>) for the negative value and I am able to do it for achieve it using the solution mentioned in:</p>\n<p><a href=\"https://stackoverflow.com/questions/75994304/java-apache-poi-bar-chart-populate-negative-bar-with-color\">java apache poi bar chart populate negative bar with color</a></p>\n<p>And then I am explicitly changing the bar color to orange using the Byte Color [] before plotting the chart using below code :</p>\n<pre><code>final byte[][] colors = new byte[][] { new byte[] {(byte)255, 100, 0} }\n\nchart.getCTChart()\n     .getPlotArea()\n     .getBarChartArray(0)\n     .getSerArray(0)\n     .addNewDPt()\n     .addNewIdx()\n     .setVal(0);\n\nchart.getCTChart()\n     .getPlotArea()\n     .getBarChartArray(0)\n     .getSerArray(0)\n     .getDPtArray(0)\n     .addNewSpPr()\n     .addNewSolidFill()\n     .addNewSrgbClr()\n     .setVal(colors[0]);\n\nchart.plot(data);\n</code></pre>\n<p>However, the invertNegative flag is set to true for only this particular point, so it always shows as white. The color of the bar is displayed when we manually uncheck the flag in Excel.</p>\n<p>How do we set the invertNegative flag to false for the chart for that particular value ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>chart.getCTChart()\n     .getPlotArea()\n     .getBarChartArray(0)\n     .getSerArray(0)\n     .addNewDPt()\n     .addNewIdx()\n     .setVal(0);\n\nchart.getCTChart()\n     .getPlotArea()\n     .getBarChartArray(0)\n     .getSerArray(0)\n     .getDPtArray(0)\n     .addNewSpPr()\n     .addNewSolidFill()\n     .addNewSrgbClr()\n     .setVal(colors[0]);\n</code></pre>\n"},{"tags":["java","android","java-17"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1693418154,"post_id":77010447,"comment_id":135759697,"body_markdown":"Is that [part of the roster of supported JDK 8+ classes](https://developer.android.com/studio/write/java8-support-table)?","body":"Is that <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">part of the roster of supported JDK 8+ classes</a>?"},{"owner":{"account_id":18178272,"reputation":55,"user_id":13226583,"display_name":"Rishabh Kabra"},"score":0,"creation_date":1693418605,"post_id":77010447,"comment_id":135759785,"body_markdown":"It is not mentioned neither enhanced switch but switch is working. And Android Studio is not giving any error during writing code but error is coming on build.","body":"It is not mentioned neither enhanced switch but switch is working. And Android Studio is not giving any error during writing code but error is coming on build."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1693426169,"post_id":77010447,"comment_id":135761185,"body_markdown":"&quot;neither enhanced switch but switch is working&quot; -- `switch` is not a Java class. The `record` keyword apparently requires `java.lang.Record`, which is not part of the de-sugared classes.","body":"&quot;neither enhanced switch but switch is working&quot; -- <code>switch</code> is not a Java class. The <code>record</code> keyword apparently requires <code>java.lang.Record</code>, which is not part of the de-sugared classes."}],"answers":[{"tags":[],"owner":{"account_id":29334880,"reputation":26,"user_id":22475466,"display_name":"Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693462473,"creation_date":1693462473,"answer_id":77013232,"question_id":77010447,"body_markdown":"Please try to update your build version to 34.\r\n**Ref:** [https://stackoverflow.com/questions/70784107/using-jdk17-record-in-android-studio-java-android][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70784107/using-jdk17-record-in-android-studio-java-android","title":"cannot access Record in Android Studio","body":"<p>Please try to update your build version to 34.\n<strong>Ref:</strong> <a href=\"https://stackoverflow.com/questions/70784107/using-jdk17-record-in-android-studio-java-android\">Using JDK17 &amp; Record in Android Studio (Java, Android)</a></p>\n"}],"owner":{"account_id":18178272,"reputation":55,"user_id":13226583,"display_name":"Rishabh Kabra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77013232,"answer_count":1,"score":1,"last_activity_date":1693462473,"creation_date":1693418005,"question_id":77010447,"body_markdown":"I am getting error: cannot access Record\r\nclass file for java.lang.Record not found\r\n\r\nI have configured JDK 17 and able to use other JDK 17 features like enhanced switch, triple quotes (&quot;&quot;&quot;)\r\n[![enter image description here](https://i.stack.imgur.com/D0ttv.png)](https://i.stack.imgur.com/D0ttv.png)\r\n\r\n\r\nPlease help on this.\r\n\r\nThere is no error while writing code but error is occurring on build.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qQ0do.png","title":"cannot access Record in Android Studio","body":"<p>I am getting error: cannot access Record\nclass file for java.lang.Record not found</p>\n<p>I have configured JDK 17 and able to use other JDK 17 features like enhanced switch, triple quotes (&quot;&quot;&quot;)\n<a href=\"https://i.stack.imgur.com/D0ttv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D0ttv.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help on this.</p>\n<p>There is no error while writing code but error is occurring on build.\n<a href=\"https://i.stack.imgur.com/qQ0do.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qQ0do.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rsa","public-key","pem","dsa"],"comments":[{"owner":{"account_id":46184,"reputation":4003,"user_id":136363,"display_name":"t0mppa"},"score":0,"creation_date":1387132435,"post_id":20598126,"comment_id":30819544,"body_markdown":"Care to show us what you&#39;ve done so far?","body":"Care to show us what you&#39;ve done so far?"},{"owner":{"account_id":3695772,"reputation":181,"user_id":3077162,"accept_rate":20,"display_name":"user3077162"},"score":0,"creation_date":1387132900,"post_id":20598126,"comment_id":30819685,"body_markdown":"u can check it please..","body":"u can check it please.."},{"owner":{"account_id":46184,"reputation":4003,"user_id":136363,"display_name":"t0mppa"},"score":0,"creation_date":1387132981,"post_id":20598126,"comment_id":30819716,"body_markdown":"Please edit it into your question, instead of providing it as an answer, since it&#39;s part of the problem, not the solution.","body":"Please edit it into your question, instead of providing it as an answer, since it&#39;s part of the problem, not the solution."},{"owner":{"account_id":3695772,"reputation":181,"user_id":3077162,"accept_rate":20,"display_name":"user3077162"},"score":0,"creation_date":1387133333,"post_id":20598126,"comment_id":30819823,"body_markdown":"ok done, u can check it","body":"ok done, u can check it"},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":0,"creation_date":1387137282,"post_id":20598126,"comment_id":30821259,"body_markdown":"Why do you want to do this in Java? There&#39;s no need to do so.","body":"Why do you want to do this in Java? There&#39;s no need to do so."},{"owner":{"account_id":3695772,"reputation":181,"user_id":3077162,"accept_rate":20,"display_name":"user3077162"},"score":0,"creation_date":1387139309,"post_id":20598126,"comment_id":30821972,"body_markdown":"i&#39;m doing an interface for an encryption software project, and my professor at university want it..","body":"i&#39;m doing an interface for an encryption software project, and my professor at university want it.."}],"answers":[{"comments":[{"owner":{"account_id":8282158,"reputation":93,"user_id":6226485,"display_name":"Divyanshi Mangal"},"score":0,"creation_date":1657379654,"post_id":50581953,"comment_id":128798940,"body_markdown":"Base64 does not have direct encode function.","body":"Base64 does not have direct encode function."}],"tags":[],"owner":{"account_id":2218418,"reputation":177,"user_id":1958490,"display_name":"BitLord"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660670300,"creation_date":1527589316,"answer_id":50581953,"question_id":20598126,"body_markdown":"Maybe a bit late but there is my solution. Hope it helps others.\r\n\r\n    byte[] publicKeyBytes = keyPair.getPublic().getEncoded();\r\n\r\nHere you&#39;re taking bytes of key and writing directly to file. So you get the appropriate result - DER-encoded file. However PEM is Base64 encoded format with line breaks each 64 symbols and header/footer.\r\n\r\nThere is code implementing this logic:\r\n\r\n    String publicKeyContent = Base64.getEncoder().encodeToString(publicKeyBytes);\r\n    String publicKeyFormatted = &quot;-----BEGIN PUBLIC KEY-----&quot; + System.lineSeparator();\r\n    for (final String row: \r\n            Splitter\r\n                .fixedLength(64)\r\n                .split(publicKeyContent)\r\n        ) \r\n    {\r\n        publicKeyFormatted += row + System.lineSeparator();\r\n    }\r\n    publicKeyFormatted += &quot;-----END PUBLIC KEY-----&quot;;\r\n\r\nSo publicKeyFormatted will contain PEM-encoded string of public key.\r\n\r\nP.S. Splitter is a class provided in Guava lib, but you can split the string with a simple cycle or somehow.","title":"how to generate public and private key in PEM format","body":"<p>Maybe a bit late but there is my solution. Hope it helps others.</p>\n<pre><code>byte[] publicKeyBytes = keyPair.getPublic().getEncoded();\n</code></pre>\n<p>Here you're taking bytes of key and writing directly to file. So you get the appropriate result - DER-encoded file. However PEM is Base64 encoded format with line breaks each 64 symbols and header/footer.</p>\n<p>There is code implementing this logic:</p>\n<pre><code>String publicKeyContent = Base64.getEncoder().encodeToString(publicKeyBytes);\nString publicKeyFormatted = &quot;-----BEGIN PUBLIC KEY-----&quot; + System.lineSeparator();\nfor (final String row: \n        Splitter\n            .fixedLength(64)\n            .split(publicKeyContent)\n    ) \n{\n    publicKeyFormatted += row + System.lineSeparator();\n}\npublicKeyFormatted += &quot;-----END PUBLIC KEY-----&quot;;\n</code></pre>\n<p>So publicKeyFormatted will contain PEM-encoded string of public key.</p>\n<p>P.S. Splitter is a class provided in Guava lib, but you can split the string with a simple cycle or somehow.</p>\n"},{"tags":[],"owner":{"account_id":1634836,"reputation":159,"user_id":1508608,"display_name":"Syd Gillani"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1593076357,"creation_date":1593076357,"answer_id":62571880,"question_id":20598126,"body_markdown":"Instead of manually generating the PEM String, you can use the bouncy castle to do it for you: since it&#39;s a tested library you can be sure about the output. The following code is in Kotlin but can easily be used with Java syntax:  \r\n\r\n``` \r\n        val gen = KeyPairGenerator.getInstance(&quot;RSA&quot;)\r\n        gen.initialize(2048)\r\n        val pair = gen.generateKeyPair()\r\n        val privateKey: PrivateKey = pair.private\r\n       \r\n  \r\n        val pemObject = PemObject(&quot;RSA PRIVATE KEY&quot;, privateKey.encoded)\r\n        \r\n        val byteStream = ByteArrayOutputStream()\r\n        val pemWriter = PemWriter(OutputStreamWriter(byteStream))\r\n        pemWriter.writeObject(pemObject)\r\n        pemWriter.close();\r\n        println(String(byteStream.toByteArray()))\r\n\r\n```","title":"how to generate public and private key in PEM format","body":"<p>Instead of manually generating the PEM String, you can use the bouncy castle to do it for you: since it's a tested library you can be sure about the output. The following code is in Kotlin but can easily be used with Java syntax:</p>\n<pre><code>        val gen = KeyPairGenerator.getInstance(&quot;RSA&quot;)\n        gen.initialize(2048)\n        val pair = gen.generateKeyPair()\n        val privateKey: PrivateKey = pair.private\n       \n  \n        val pemObject = PemObject(&quot;RSA PRIVATE KEY&quot;, privateKey.encoded)\n        \n        val byteStream = ByteArrayOutputStream()\n        val pemWriter = PemWriter(OutputStreamWriter(byteStream))\n        pemWriter.writeObject(pemObject)\n        pemWriter.close();\n        println(String(byteStream.toByteArray()))\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21489528,"reputation":1,"user_id":18649326,"display_name":"Katherine Rose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649527099,"creation_date":1649527099,"answer_id":71810592,"question_id":20598126,"body_markdown":"I&#39;ve written a library that includes methods which can do this. It&#39;s called [Reasonably Easy Cryptography](https://github.com/KiARC/ReasonablyEasyCryptography &quot;KiARC/ReasonablyEasyCryptography on GitHub&quot;) and you can use the `PEMHandler` methods for this. Here&#39;s how you could do it, assuming you&#39;ve imported `PEMHandler` from my library, and that `key`&#39;s class is an implementation of `java.security.Key` such as a `PrivateKey`:\r\n\r\n```java\r\nString pem = PEMHandler.keyToPem(key);\r\n```\r\nThis works with any kind of `Key`, it&#39;ll figure out whether it&#39;s a public or private key and what algorithm it uses on its own (it isn&#39;t perfect and I&#39;m still working on finding the best way to do that, but it does work fine with `PrivateKey` and `PublicKey`). There&#39;s also a method to do this for both keys in a KeyPair in one call, and methods to convert the PEM string back to a Key.","title":"how to generate public and private key in PEM format","body":"<p>I've written a library that includes methods which can do this. It's called <a href=\"https://github.com/KiARC/ReasonablyEasyCryptography\" rel=\"nofollow noreferrer\" title=\"KiARC/ReasonablyEasyCryptography on GitHub\">Reasonably Easy Cryptography</a> and you can use the <code>PEMHandler</code> methods for this. Here's how you could do it, assuming you've imported <code>PEMHandler</code> from my library, and that <code>key</code>'s class is an implementation of <code>java.security.Key</code> such as a <code>PrivateKey</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pem = PEMHandler.keyToPem(key);\n</code></pre>\n<p>This works with any kind of <code>Key</code>, it'll figure out whether it's a public or private key and what algorithm it uses on its own (it isn't perfect and I'm still working on finding the best way to do that, but it does work fine with <code>PrivateKey</code> and <code>PublicKey</code>). There's also a method to do this for both keys in a KeyPair in one call, and methods to convert the PEM string back to a Key.</p>\n"}],"owner":{"account_id":3695772,"reputation":181,"user_id":3077162,"accept_rate":20,"display_name":"user3077162"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10789,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1693462459,"creation_date":1387132333,"question_id":20598126,"body_markdown":"I need to generating a RSA and DSA key pair (public and private key) in PEM format using java.\r\nI want the public and private key files to be opened with this format:\r\n\r\n&gt; -----BEGIN PUBLIC KEY----- MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAryQICCl6NZ5gDKrnSztO\r\n&gt; 3Hy8PEUcuyvg/ikC+VcIo2SFFSf18a3IMYldIugqqqZCs4/4uVW3sbdLs/6PfgdX\r\n&gt; 7O9D22ZiFWHPYA2k2N744MNiCD1UE+tJyllUhSblK48bn+v1oZHCM0nYQ2NqUkvS\r\n&gt; j+hwUU3RiWl7x3D2s9wSdNt7XUtW05a/FXehsPSiJfKvHJJnGOX0BgTvkLnkAOTd\r\n&gt; OrUZ/wK69Dzu4IvrN4vs9Nes8vbwPa/ddZEzGR0cQMt0JBkhk9kU/qwqUseP1QRJ\r\n&gt; 5I1jR4g8aYPL/ke9K35PxZWuDp3U0UPAZ3PjFAh+5T+fc7gzCs9dPzSHloruU+gl\r\n&gt; FQIDAQAB\r\n&gt; -----END PUBLIC KEY-----\r\n\r\nMy public key is already generated before with this format that i do not want it:\r\n\r\n&gt; 0Ÿ0 \t*†H†&#247; 0Ÿ0 \t*†H†&#247;\r\n\r\nok, this is my code of key generation:\r\n\r\n    private static void createKey()\r\n            throws Exception {\r\n    \r\n                Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n    \r\n                BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n                System.out.print(&quot;Password to encrypt the private key: &quot;);\r\n                String password = in.readLine();\r\n                System.out.println(&quot;Generating an RSA keypair...&quot;);\r\n    \r\n                // Create an RSA key\r\n                KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n                keyPairGenerator.initialize(1024);\r\n                KeyPair keyPair = keyPairGenerator.genKeyPair();\r\n    \r\n                System.out.println(&quot;Done generating the keypair.\\n&quot;);\r\n    \r\n                // Now we need to write the public key out to a file\r\n                System.out.print(&quot;Public key filename: &quot;);\r\n                String publicKeyFilename = &quot;C:/Users/Joe/Desktop/&quot; + in.readLine();\r\n    \r\n                // Get the encoded form of the public key so we can\r\n                // use it again in the future. This is X.509 by default.\r\n                byte[] publicKeyBytes = keyPair.getPublic().getEncoded();\r\n    \r\n                // Write the encoded public key out to the filesystem\r\n                FileOutputStream fos = new FileOutputStream(publicKeyFilename);\r\n                fos.write(publicKeyBytes);\r\n                fos.close();\r\n    \r\n                // Now we need to do the same thing with the private key,\r\n                // but we need to password encrypt it as well.\r\n                System.out.print(&quot;Private key filename: &quot;);\r\n                String privateKeyFilename = &quot;C:/Users/Joe/Desktop/&quot; + in.readLine();\r\n    \r\n                // Get the encoded form. This is PKCS#8 by default.\r\n                byte[] privateKeyBytes = keyPair.getPrivate().getEncoded();\r\n    \r\n                // Here we actually encrypt the private key\r\n                byte[] encryptedPrivateKeyBytes =\r\n                passwordEncrypt(password.toCharArray(),privateKeyBytes);\r\n    \r\n                fos = new FileOutputStream(privateKeyFilename);\r\n                fos.write(encryptedPrivateKeyBytes);\r\n                fos.close();\r\n            }\r\n\r\n\r\nthank you for your help..\r\n","title":"how to generate public and private key in PEM format","body":"<p>I need to generating a RSA and DSA key pair (public and private key) in PEM format using java.\nI want the public and private key files to be opened with this format:</p>\n\n<blockquote>\n  <p>-----BEGIN PUBLIC KEY----- MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAryQICCl6NZ5gDKrnSztO\n  3Hy8PEUcuyvg/ikC+VcIo2SFFSf18a3IMYldIugqqqZCs4/4uVW3sbdLs/6PfgdX\n  7O9D22ZiFWHPYA2k2N744MNiCD1UE+tJyllUhSblK48bn+v1oZHCM0nYQ2NqUkvS\n  j+hwUU3RiWl7x3D2s9wSdNt7XUtW05a/FXehsPSiJfKvHJJnGOX0BgTvkLnkAOTd\n  OrUZ/wK69Dzu4IvrN4vs9Nes8vbwPa/ddZEzGR0cQMt0JBkhk9kU/qwqUseP1QRJ\n  5I1jR4g8aYPL/ke9K35PxZWuDp3U0UPAZ3PjFAh+5T+fc7gzCs9dPzSHloruU+gl\n  FQIDAQAB\n  -----END PUBLIC KEY-----</p>\n</blockquote>\n\n<p>My public key is already generated before with this format that i do not want it:</p>\n\n<blockquote>\n  <p>0Ÿ0   *†H†÷ 0Ÿ0   *†H†÷</p>\n</blockquote>\n\n<p>ok, this is my code of key generation:</p>\n\n<pre><code>private static void createKey()\n        throws Exception {\n\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n            System.out.print(\"Password to encrypt the private key: \");\n            String password = in.readLine();\n            System.out.println(\"Generating an RSA keypair...\");\n\n            // Create an RSA key\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\");\n            keyPairGenerator.initialize(1024);\n            KeyPair keyPair = keyPairGenerator.genKeyPair();\n\n            System.out.println(\"Done generating the keypair.\\n\");\n\n            // Now we need to write the public key out to a file\n            System.out.print(\"Public key filename: \");\n            String publicKeyFilename = \"C:/Users/Joe/Desktop/\" + in.readLine();\n\n            // Get the encoded form of the public key so we can\n            // use it again in the future. This is X.509 by default.\n            byte[] publicKeyBytes = keyPair.getPublic().getEncoded();\n\n            // Write the encoded public key out to the filesystem\n            FileOutputStream fos = new FileOutputStream(publicKeyFilename);\n            fos.write(publicKeyBytes);\n            fos.close();\n\n            // Now we need to do the same thing with the private key,\n            // but we need to password encrypt it as well.\n            System.out.print(\"Private key filename: \");\n            String privateKeyFilename = \"C:/Users/Joe/Desktop/\" + in.readLine();\n\n            // Get the encoded form. This is PKCS#8 by default.\n            byte[] privateKeyBytes = keyPair.getPrivate().getEncoded();\n\n            // Here we actually encrypt the private key\n            byte[] encryptedPrivateKeyBytes =\n            passwordEncrypt(password.toCharArray(),privateKeyBytes);\n\n            fos = new FileOutputStream(privateKeyFilename);\n            fos.write(encryptedPrivateKeyBytes);\n            fos.close();\n        }\n</code></pre>\n\n<p>thank you for your help..</p>\n"},{"tags":["java","netty","grpc","http2"],"answers":[{"comments":[{"owner":{"account_id":5821599,"reputation":417,"user_id":4589494,"accept_rate":0,"display_name":"chaosmonk"},"score":0,"creation_date":1625513879,"post_id":68250168,"comment_id":120641750,"body_markdown":"Hi, thanks. Could you explain or give pointers as to how to expand the channels connection size?","body":"Hi, thanks. Could you explain or give pointers as to how to expand the channels connection size?"}],"tags":[],"owner":{"account_id":8368684,"reputation":747,"user_id":8360923,"display_name":"HelloWood"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625538732,"creation_date":1625452086,"answer_id":68250168,"question_id":68229848,"body_markdown":"I think you should make client channel&#39;s thread pool more bigger. \r\n\r\nThe channel can have many subchannel, and a subchannel has one or many transport, a transport represent a connection. And a server address usually has one connection.\r\n\r\n```java\r\n ManagedChannelBuilder.forAddress(&quot;127.0.0.1&quot;, 9091)\r\n                      .executor(Executors.newCachedThreadPool())\r\n                      .usePlaintext()\r\n                      .build()\r\n```","title":"Grpc-java multiple channel management","body":"<p>I think you should make client channel's thread pool more bigger.</p>\n<p>The channel can have many subchannel, and a subchannel has one or many transport, a transport represent a connection. And a server address usually has one connection.</p>\n<pre class=\"lang-java prettyprint-override\"><code> ManagedChannelBuilder.forAddress(&quot;127.0.0.1&quot;, 9091)\n                      .executor(Executors.newCachedThreadPool())\n                      .usePlaintext()\n                      .build()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22453917,"reputation":79,"user_id":16656848,"display_name":"htan"},"score":0,"creation_date":1692239246,"post_id":68296012,"comment_id":135597553,"body_markdown":"sorry bro but github ultil RoundRobinLoadBalancer is 404 - page not found. Can you resend the link?","body":"sorry bro but github ultil RoundRobinLoadBalancer is 404 - page not found. Can you resend the link?"},{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1693462313,"post_id":68296012,"comment_id":135764639,"body_markdown":"fixed the link.","body":"fixed the link."}],"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693462278,"creation_date":1625721516,"answer_id":68296012,"question_id":68229848,"body_markdown":"A gRPC channel is backed by one or more sub-channels; each sub-channel being a connection. Having more connections helps when you have multiple servers (backends) so each connection goes to a different backend. If you have a single server (backend) you should ensure that creating multiple connections to the same server will actually help which would be the case if the server is not the bottleneck and is able to process high network throughput.\r\n\r\nThe creation of multiple sub-channels in a channel happens using a [RoundRobinLoadBalancer](https://github.com/grpc/grpc-java/blob/master/util/src/main/java/io/grpc/util/RoundRobinLoadBalancer.java) and something called [EquivalentAddressGroup](https://github.com/grpc/grpc-java/blob/master/api/src/main/java/io/grpc/EquivalentAddressGroup.java). To create multiple sub-channels to the same server you have to be able to create multiple `EquivalentAddressGroup`s for the same server. A custom  [NameResolver](https://github.com/grpc/grpc-java/blob/master/api/src/main/java/io/grpc/NameResolver.java) (or [DnsNameResolver](https://github.com/grpc/grpc-java/blob/master/core/src/main/java/io/grpc/internal/DnsNameResolver.java)) will be needed to do this.","title":"Grpc-java multiple channel management","body":"<p>A gRPC channel is backed by one or more sub-channels; each sub-channel being a connection. Having more connections helps when you have multiple servers (backends) so each connection goes to a different backend. If you have a single server (backend) you should ensure that creating multiple connections to the same server will actually help which would be the case if the server is not the bottleneck and is able to process high network throughput.</p>\n<p>The creation of multiple sub-channels in a channel happens using a <a href=\"https://github.com/grpc/grpc-java/blob/master/util/src/main/java/io/grpc/util/RoundRobinLoadBalancer.java\" rel=\"nofollow noreferrer\">RoundRobinLoadBalancer</a> and something called <a href=\"https://github.com/grpc/grpc-java/blob/master/api/src/main/java/io/grpc/EquivalentAddressGroup.java\" rel=\"nofollow noreferrer\">EquivalentAddressGroup</a>. To create multiple sub-channels to the same server you have to be able to create multiple <code>EquivalentAddressGroup</code>s for the same server. A custom  <a href=\"https://github.com/grpc/grpc-java/blob/master/api/src/main/java/io/grpc/NameResolver.java\" rel=\"nofollow noreferrer\">NameResolver</a> (or <a href=\"https://github.com/grpc/grpc-java/blob/master/core/src/main/java/io/grpc/internal/DnsNameResolver.java\" rel=\"nofollow noreferrer\">DnsNameResolver</a>) will be needed to do this.</p>\n"}],"owner":{"account_id":5821599,"reputation":417,"user_id":4589494,"accept_rate":0,"display_name":"chaosmonk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1973,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68250168,"answer_count":2,"score":0,"last_activity_date":1693462278,"creation_date":1625250452,"question_id":68229848,"body_markdown":"I am using grpc-java (netty) for my client-server communication. Currently, I am using NettyChannelBuilder to create a single channel (which is backed by a single http2 connection i believe) and I use the channel to create all my GRPC stubs. \r\nSince the RPS is quite high, I see the a saturation of the grpc channel and requests are starting to queue up. I would like to create more channel (hence naturally more connections). Is there a way to achieve that?\r\n\r\nIn addition is my assumption that a grpc channel is backed by a single http2 connection?","title":"Grpc-java multiple channel management","body":"<p>I am using grpc-java (netty) for my client-server communication. Currently, I am using NettyChannelBuilder to create a single channel (which is backed by a single http2 connection i believe) and I use the channel to create all my GRPC stubs.\nSince the RPS is quite high, I see the a saturation of the grpc channel and requests are starting to queue up. I would like to create more channel (hence naturally more connections). Is there a way to achieve that?</p>\n<p>In addition is my assumption that a grpc channel is backed by a single http2 connection?</p>\n"},{"tags":["javascript","java","android","react-native","gradle"],"comments":[{"owner":{"account_id":6017569,"reputation":3366,"user_id":8007341,"display_name":"Kishan Maurya"},"score":0,"creation_date":1693462246,"post_id":77013192,"comment_id":135764627,"body_markdown":"There is error in MainComponentsRegistry.java file.. Can you share that?","body":"There is error in MainComponentsRegistry.java file.. Can you share that?"},{"owner":{"account_id":22520628,"reputation":75,"user_id":16714267,"display_name":"Nagaraj sk"},"score":0,"creation_date":1693462714,"post_id":77013192,"comment_id":135764701,"body_markdown":"in MainComponenetsRegistry.java file only show NULL value","body":"in MainComponenetsRegistry.java file only show NULL value"}],"owner":{"account_id":22520628,"reputation":75,"user_id":16714267,"display_name":"Nagaraj sk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693462152,"creation_date":1693462152,"question_id":77013192,"body_markdown":"```\r\n`\r\nandroid/app/src/main/java/com/weclean/executives/newarchitecture/components/MainComponentsRegistry.java:1: error: illegal character: &#39;\\u0000&#39;\r\n\r\n100 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n`\r\n```\r\n1. react-native file is not installing &#39;compileDebugJavaWithJavac&#39; error was occurred,\r\n1. how to solve this error - i tried ./gradlew clean, android studio - invalidate caches but not working\r\n1. please give me solution to this problem","title":"React native project installation failed","body":"<pre><code>`\nandroid/app/src/main/java/com/weclean/executives/newarchitecture/components/MainComponentsRegistry.java:1: error: illegal character: '\\u0000'\n\n100 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n`\n</code></pre>\n<ol>\n<li>react-native file is not installing 'compileDebugJavaWithJavac' error was occurred,</li>\n<li>how to solve this error - i tried ./gradlew clean, android studio - invalidate caches but not working</li>\n<li>please give me solution to this problem</li>\n</ol>\n"},{"tags":["java","grpc"],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693461190,"creation_date":1693461190,"answer_id":77013136,"question_id":76980196,"body_markdown":"&gt; onHalfClose() does not throw any exception at all when onError is closed\r\n\r\n`onHalfClose` is called when the client &quot;half-closes&quot; the call by closing the client stream and is not related to any `onError` processing.\r\n\r\nAssuming you are talking about `onError` being called on the server side i.e. the service is closing the call with an error then in the interceptor you can detect it by creating a wrapper call since you want to intercept events from the server to the client. An example is [here](https://github.com/grpc/grpc-java/blob/master/gcp-observability/src/main/java/io/grpc/gcp/observability/interceptors/InternalLoggingServerInterceptor.java#L134) where `SimpleForwardingServerCall` is extended to intercept `close(Status status, Metadata trailers)` being called by the service. Hope that answers your question.","title":"How do I determine if onError was called in a GRPC ServerInterceptor?","body":"<blockquote>\n<p>onHalfClose() does not throw any exception at all when onError is closed</p>\n</blockquote>\n<p><code>onHalfClose</code> is called when the client &quot;half-closes&quot; the call by closing the client stream and is not related to any <code>onError</code> processing.</p>\n<p>Assuming you are talking about <code>onError</code> being called on the server side i.e. the service is closing the call with an error then in the interceptor you can detect it by creating a wrapper call since you want to intercept events from the server to the client. An example is <a href=\"https://github.com/grpc/grpc-java/blob/master/gcp-observability/src/main/java/io/grpc/gcp/observability/interceptors/InternalLoggingServerInterceptor.java#L134\" rel=\"nofollow noreferrer\">here</a> where <code>SimpleForwardingServerCall</code> is extended to intercept <code>close(Status status, Metadata trailers)</code> being called by the service. Hope that answers your question.</p>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693461190,"creation_date":1692993463,"question_id":76980196,"body_markdown":"I want to wrap my service calls in an implicit transaction rather than having to explicitly use `TransactionTemplate` to wrap the existing call.\r\n\r\nI put a bunch of log statements in my ServerInterceptor class but it does not appear any of them can detect that `onError` was called in the service.\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class TransactionProviderGrpcInterceptor implements ServerInterceptor {\r\n  private final JpaTransactionManager transactionManager;\r\n\r\n  @Override\r\n  public &lt;R, Q&gt; ServerCall.Listener&lt;R&gt; interceptCall(\r\n      final ServerCall&lt;R, Q&gt; call, final Metadata headers, final ServerCallHandler&lt;R, Q&gt; next) {\r\n\r\n    return new ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;&gt;(\r\n        next.startCall(call, headers)) {\r\n      private TransactionStatus tx;\r\n\r\n      /** Mark the transaction as rollback only when cancelled. */\r\n      @Override\r\n      public void onCancel() {\r\n\r\n        log.error(\r\n            &quot;onCancel setRollbackOnly tx={}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n        tx.setRollbackOnly();\r\n        log.error(\r\n            &quot;onCancel before super tx={}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n        super.onHalfClose();\r\n        log.error(\r\n            &quot;onCancel after super tx = {}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n      }\r\n\r\n      @Override\r\n      public void onMessage(final R message) {\r\n\r\n        log.error(\r\n            &quot;onMessage before super tx = {}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n        super.onMessage(message);\r\n        log.error(\r\n            &quot;onMessage after super tx = {}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n      }\r\n\r\n      @Override\r\n      public void onComplete() {\r\n\r\n        log.error(\r\n            &quot;onComplete before super tx = {}, tx={}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive(),\r\n            tx);\r\n        super.onComplete();\r\n        log.error(\r\n            &quot;onComplete after super tx = {}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n      }\r\n\r\n      /**\r\n       * Obtained all the messages from client, about to close so at this point commit the\r\n       * transaction. It needs to be done here as the transaction is no longer available {@link\r\n       * #onComplete()}.\r\n       */\r\n      @Override\r\n      public void onHalfClose() {\r\n\r\n        log.error(\r\n            &quot;onHalfClose before super tx = {}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n          super.onHalfClose();\r\n        log.error(\r\n            &quot;onHalfClose after super tx = {} headers={}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive(),\r\n            headers);\r\n        if (TransactionSynchronizationManager.isActualTransactionActive()) {\r\n          transactionManager.commit(tx);\r\n          log.error(\r\n              &quot;onHalfClose after commit tx = {}&quot;,\r\n              TransactionSynchronizationManager.isActualTransactionActive());\r\n        }\r\n      }\r\n\r\n      @Override\r\n      public void onReady() {\r\n\r\n        log.error(\r\n            &quot;onReady before getTransaction tx = {}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n        tx =\r\n            transactionManager.getTransaction(\r\n                new DefaultTransactionDefinition(PROPAGATION_REQUIRED));\r\n        log.error(\r\n            &quot;onReady after getTransaction tx = {}&quot;,\r\n            TransactionSynchronizationManager.isActualTransactionActive());\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\n`onHalfClose()` does not throw any exception at all when `onError` is closed and that&#39;s about the only place I have where the transaction is still active.\r\n\r\n```\r\nonReady before getTransaction tx = false\r\nonReady after getTransaction tx = true\r\nonMessage before super tx = true\r\nonMessage after super tx = true\r\nonHalfClose after super tx = true headers=Metadata(content-type=application/grpc,user-agent=grpcurl/v1.8.7 grpc-go/1.48.0)\r\nonHalfClose after commit tx = false\r\nonComplete before super tx = false, tx=org.springframework.transaction.support.DefaultTransactionStatus@68f8b4ba\r\nonComplete after super tx = false\r\nrpc.server.RequestLoggingGrpcInterceptor [64e90719856c7e2e906849013c6b53e2,906849013c6b53e2,] INFO com.devhaus.rpc.Greeter/SayHello 7ms cancelled=false\r\n```","title":"How do I determine if onError was called in a GRPC ServerInterceptor?","body":"<p>I want to wrap my service calls in an implicit transaction rather than having to explicitly use <code>TransactionTemplate</code> to wrap the existing call.</p>\n<p>I put a bunch of log statements in my ServerInterceptor class but it does not appear any of them can detect that <code>onError</code> was called in the service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class TransactionProviderGrpcInterceptor implements ServerInterceptor {\n  private final JpaTransactionManager transactionManager;\n\n  @Override\n  public &lt;R, Q&gt; ServerCall.Listener&lt;R&gt; interceptCall(\n      final ServerCall&lt;R, Q&gt; call, final Metadata headers, final ServerCallHandler&lt;R, Q&gt; next) {\n\n    return new ForwardingServerCallListener.SimpleForwardingServerCallListener&lt;&gt;(\n        next.startCall(call, headers)) {\n      private TransactionStatus tx;\n\n      /** Mark the transaction as rollback only when cancelled. */\n      @Override\n      public void onCancel() {\n\n        log.error(\n            &quot;onCancel setRollbackOnly tx={}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n        tx.setRollbackOnly();\n        log.error(\n            &quot;onCancel before super tx={}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n        super.onHalfClose();\n        log.error(\n            &quot;onCancel after super tx = {}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n      }\n\n      @Override\n      public void onMessage(final R message) {\n\n        log.error(\n            &quot;onMessage before super tx = {}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n        super.onMessage(message);\n        log.error(\n            &quot;onMessage after super tx = {}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n      }\n\n      @Override\n      public void onComplete() {\n\n        log.error(\n            &quot;onComplete before super tx = {}, tx={}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive(),\n            tx);\n        super.onComplete();\n        log.error(\n            &quot;onComplete after super tx = {}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n      }\n\n      /**\n       * Obtained all the messages from client, about to close so at this point commit the\n       * transaction. It needs to be done here as the transaction is no longer available {@link\n       * #onComplete()}.\n       */\n      @Override\n      public void onHalfClose() {\n\n        log.error(\n            &quot;onHalfClose before super tx = {}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n          super.onHalfClose();\n        log.error(\n            &quot;onHalfClose after super tx = {} headers={}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive(),\n            headers);\n        if (TransactionSynchronizationManager.isActualTransactionActive()) {\n          transactionManager.commit(tx);\n          log.error(\n              &quot;onHalfClose after commit tx = {}&quot;,\n              TransactionSynchronizationManager.isActualTransactionActive());\n        }\n      }\n\n      @Override\n      public void onReady() {\n\n        log.error(\n            &quot;onReady before getTransaction tx = {}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n        tx =\n            transactionManager.getTransaction(\n                new DefaultTransactionDefinition(PROPAGATION_REQUIRED));\n        log.error(\n            &quot;onReady after getTransaction tx = {}&quot;,\n            TransactionSynchronizationManager.isActualTransactionActive());\n      }\n    };\n  }\n}\n</code></pre>\n<p><code>onHalfClose()</code> does not throw any exception at all when <code>onError</code> is closed and that's about the only place I have where the transaction is still active.</p>\n<pre><code>onReady before getTransaction tx = false\nonReady after getTransaction tx = true\nonMessage before super tx = true\nonMessage after super tx = true\nonHalfClose after super tx = true headers=Metadata(content-type=application/grpc,user-agent=grpcurl/v1.8.7 grpc-go/1.48.0)\nonHalfClose after commit tx = false\nonComplete before super tx = false, tx=org.springframework.transaction.support.DefaultTransactionStatus@68f8b4ba\nonComplete after super tx = false\nrpc.server.RequestLoggingGrpcInterceptor [64e90719856c7e2e906849013c6b53e2,906849013c6b53e2,] INFO com.devhaus.rpc.Greeter/SayHello 7ms cancelled=false\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","xxe"],"answers":[{"comments":[{"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"score":0,"creation_date":1693432193,"post_id":77011610,"comment_id":135762080,"body_markdown":"Yes, it will be called from multiple thread. So, I should either stick with Approach 2 or maybe use synchronized block for validateXmlWithXsd()","body":"Yes, it will be called from multiple thread. So, I should either stick with Approach 2 or maybe use synchronized block for validateXmlWithXsd()"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693433676,"post_id":77011610,"comment_id":135762312,"body_markdown":"Personally, I would default to approach 2, unless there is an identified performance issue and a reliable benchmark test that can prove whether or not a synchronized approach 1 actually improves performance.","body":"Personally, I would default to approach 2, unless there is an identified performance issue and a reliable benchmark test that can prove whether or not a synchronized approach 1 actually improves performance."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693433873,"post_id":77011610,"comment_id":135762334,"body_markdown":"If you do use synchronized, it’s important not to just declare the whole method synchronized, since that would still allow concurrent use of `schemaFactory` from different instances of `XmlValidator`. It would have to use `synchronized (schemaFactory)` inside the method.","body":"If you do use synchronized, it’s important not to just declare the whole method synchronized, since that would still allow concurrent use of <code>schemaFactory</code> from different instances of <code>XmlValidator</code>. It would have to use <code>synchronized (schemaFactory)</code> inside the method."}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693430801,"creation_date":1693430801,"answer_id":77011610,"question_id":77011238,"body_markdown":"The documentation for [`SchemaFactory`][1] says that it is not thread safe:\r\n\r\n&gt; The SchemaFactory class is not thread-safe. In other words, it is the application&#39;s responsibility to ensure that at most one thread is using a SchemaFactory object at any given moment.\r\n\r\nIf it’s possible to call `validateXmlWithXsd` from multiple threads, it must use a synchronized block or other locking mechanism to ensure no concurrent use of `schemaFactory`. This could create its own performance bottleneck.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/validation/SchemaFactory.html","title":"Validate xml against a given xsd in static block vs non-static","body":"<p>The documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/validation/SchemaFactory.html\" rel=\"nofollow noreferrer\"><code>SchemaFactory</code></a> says that it is not thread safe:</p>\n<blockquote>\n<p>The SchemaFactory class is not thread-safe. In other words, it is the application's responsibility to ensure that at most one thread is using a SchemaFactory object at any given moment.</p>\n</blockquote>\n<p>If it’s possible to call <code>validateXmlWithXsd</code> from multiple threads, it must use a synchronized block or other locking mechanism to ensure no concurrent use of <code>schemaFactory</code>. This could create its own performance bottleneck.</p>\n"},{"comments":[{"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"score":0,"creation_date":1693485966,"post_id":77013123,"comment_id":135769348,"body_markdown":"Isn&#39;t this implying that I am using the one provided by Java SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI, &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory&quot;, ClassLoader.getSystemClassLoader())","body":"Isn&#39;t this implying that I am using the one provided by Java SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI&zwnj;&#8203;, &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchem&zwnj;&#8203;aFactory&quot;, ClassLoader.getSystemClassLoader())"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1693493048,"post_id":77013123,"comment_id":135771071,"body_markdown":"Yes, I failed to horizontal-scroll your code far enough to see that.","body":"Yes, I failed to horizontal-scroll your code far enough to see that."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693461041,"creation_date":1693461041,"answer_id":77013123,"question_id":77011238,"body_markdown":"It might depend on which implementation of `SchemaFactory` you are using; since you haven&#39;t said, I assume you&#39;re probably using the Xerces implementation (of which I have no internal knowledge). However, I would guess that the following applies to all implementations (it certainly applies to the Saxon implementation).\r\n\r\n1. Creating a SchemaFactory is expensive; it typically involves a search of the classpath. You only want to do it once.\r\n\r\n2. Creating a schema is expensive. If you use the same schema repeatedly for validating different documents (as seems likely) then you want to keep the compiled schema objects in a cache.\r\n\r\n3. In an application that runs 24x7, putting anything in static is undesirable; it&#39;s much better to use a single-instance service class.\r\n\r\nSo I would recommend having a single-instance `SchemaValidationService` class that owns the `SchemaFactory`; have this class maintain a cache of `Schema` objects; and synchronise the relevant calls to ensure thread safety. ","title":"Validate xml against a given xsd in static block vs non-static","body":"<p>It might depend on which implementation of <code>SchemaFactory</code> you are using; since you haven't said, I assume you're probably using the Xerces implementation (of which I have no internal knowledge). However, I would guess that the following applies to all implementations (it certainly applies to the Saxon implementation).</p>\n<ol>\n<li><p>Creating a SchemaFactory is expensive; it typically involves a search of the classpath. You only want to do it once.</p>\n</li>\n<li><p>Creating a schema is expensive. If you use the same schema repeatedly for validating different documents (as seems likely) then you want to keep the compiled schema objects in a cache.</p>\n</li>\n<li><p>In an application that runs 24x7, putting anything in static is undesirable; it's much better to use a single-instance service class.</p>\n</li>\n</ol>\n<p>So I would recommend having a single-instance <code>SchemaValidationService</code> class that owns the <code>SchemaFactory</code>; have this class maintain a cache of <code>Schema</code> objects; and synchronise the relevant calls to ensure thread safety.</p>\n"}],"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693461041,"creation_date":1693426038,"question_id":77011238,"body_markdown":"I have two approach of validating my xml against xsd which is stored in resource of my legacy application. Validations are done 1000+ times daily and code runs 24*7.\r\n\r\nApproach 1:\r\nIs to create static SchemaFactory\r\n\r\n    public class XmlValidator {\r\n        private static final SchemaFactory schemaFactory;\r\n        \r\n        static {\r\n            schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI, &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory&quot;, ClassLoader.getSystemClassLoader()); // This is done because of conflict due to xerces from //external jar and from Java\r\n            schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n            schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n        }\r\n        \r\n        public boolean validateXmlWithXsd(String inputXml, String xsd) {\r\n            try (InputStream stream = new ByteArrayInputStream(xsd.getBytes(StandardCharsets.UTF_8));\r\n                 StringReader reader = new StringReader(inputXml)) {\r\n                \r\n                Source schemaFile = new StreamSource(stream);\r\n                Schema schema = schemaFactory.newSchema(schemaFile);\r\n                \r\n                Validator validator = schema.newValidator();\r\n                validator.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n                validator.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n                \r\n                Source source = new StreamSource(reader);\r\n                validator.validate(source);\r\n                \r\n                return true; // Validation successful\r\n            } catch (Exception e) {\r\n                // Handle validation errors here\r\n                e.printStackTrace();\r\n                return false; // Validation failed\r\n            }\r\n        }\r\n    }\r\n\r\nApproach 2: (just changing method validateXmlWithXsd without static block )\r\n\r\n\r\n    public boolean validateXmlWithXsd (String inputXml, String xsd) {\r\n    try{\r\n    SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI, &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory&quot;, ClassLoader.getSystemClassLoader())\r\n    InputStream stream = new ByteArrayInputStream (xsd.getBytes(StandardCharsets.UTF_8));\r\n    Source schemaFile = new StreamSource(stream);\r\n    \r\n    \r\n    Schema schema = schemaFactory.newSchema(schemaFile);\r\n    schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n    Validator validator = schema. newValidator();\r\n    validator.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    validator.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n    Source source = new StreamSource(new StringReader (inputXml)):\r\n    validator.validate(source);\r\n    }\r\n    }\r\n\r\nMy thoughts:\r\nCalling SchemaFactory.newInstance with the system class loader, especially when invoked repeatedly in a long-running thread (1000 times + in a 24*7 scenario), can potentially lead to performance issues and might not be the most efficient approach. Mainly due to Class Loading Overhead. So, I prefer approach 1. Also, In the case of a static SchemaFactory, I think it helps with memory:\r\n\r\nSingle Instance: When I declare a static SchemaFactory, there&#39;s only one instance of it shared across all instances of class. This means create the SchemaFactory only once, and all subsequent calls to XML validation method use the same factory.\r\n\r\nResource Sharing: The SchemaFactory is relatively heavy to create, and it can be configured with various properties. By making it static, we avoid recreating it each time we need to validate XML. This saves memory and CPU cycles.\r\n\r\nApproach 2: If we create the SchemaFactory within the validateXmlWithXsd() method, it will become eligible for garbage collection once the method exits, and the memory occupied by that instance may be freed. So, this approach might not pose significant memory issues.\r\n\r\n**Can anyone please suggest if Approach 1 has any disadvantage over approach 2.**","title":"Validate xml against a given xsd in static block vs non-static","body":"<p>I have two approach of validating my xml against xsd which is stored in resource of my legacy application. Validations are done 1000+ times daily and code runs 24*7.</p>\n<p>Approach 1:\nIs to create static SchemaFactory</p>\n<pre><code>public class XmlValidator {\n    private static final SchemaFactory schemaFactory;\n    \n    static {\n        schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI, &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory&quot;, ClassLoader.getSystemClassLoader()); // This is done because of conflict due to xerces from //external jar and from Java\n        schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n        schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n    }\n    \n    public boolean validateXmlWithXsd(String inputXml, String xsd) {\n        try (InputStream stream = new ByteArrayInputStream(xsd.getBytes(StandardCharsets.UTF_8));\n             StringReader reader = new StringReader(inputXml)) {\n            \n            Source schemaFile = new StreamSource(stream);\n            Schema schema = schemaFactory.newSchema(schemaFile);\n            \n            Validator validator = schema.newValidator();\n            validator.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n            validator.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n            \n            Source source = new StreamSource(reader);\n            validator.validate(source);\n            \n            return true; // Validation successful\n        } catch (Exception e) {\n            // Handle validation errors here\n            e.printStackTrace();\n            return false; // Validation failed\n        }\n    }\n}\n</code></pre>\n<p>Approach 2: (just changing method validateXmlWithXsd without static block )</p>\n<pre><code>public boolean validateXmlWithXsd (String inputXml, String xsd) {\ntry{\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI, &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory&quot;, ClassLoader.getSystemClassLoader())\nInputStream stream = new ByteArrayInputStream (xsd.getBytes(StandardCharsets.UTF_8));\nSource schemaFile = new StreamSource(stream);\n\n\nSchema schema = schemaFactory.newSchema(schemaFile);\nschemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nschemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\nValidator validator = schema. newValidator();\nvalidator.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nvalidator.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\nSource source = new StreamSource(new StringReader (inputXml)):\nvalidator.validate(source);\n}\n}\n</code></pre>\n<p>My thoughts:\nCalling SchemaFactory.newInstance with the system class loader, especially when invoked repeatedly in a long-running thread (1000 times + in a 24*7 scenario), can potentially lead to performance issues and might not be the most efficient approach. Mainly due to Class Loading Overhead. So, I prefer approach 1. Also, In the case of a static SchemaFactory, I think it helps with memory:</p>\n<p>Single Instance: When I declare a static SchemaFactory, there's only one instance of it shared across all instances of class. This means create the SchemaFactory only once, and all subsequent calls to XML validation method use the same factory.</p>\n<p>Resource Sharing: The SchemaFactory is relatively heavy to create, and it can be configured with various properties. By making it static, we avoid recreating it each time we need to validate XML. This saves memory and CPU cycles.</p>\n<p>Approach 2: If we create the SchemaFactory within the validateXmlWithXsd() method, it will become eligible for garbage collection once the method exits, and the memory occupied by that instance may be freed. So, this approach might not pose significant memory issues.</p>\n<p><strong>Can anyone please suggest if Approach 1 has any disadvantage over approach 2.</strong></p>\n"},{"tags":["java","android","date","date-format","charsequence"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1693432685,"post_id":77011654,"comment_id":135762164,"body_markdown":"You need to constuct an instance of `DateFormat`. It doesn&#39;t have a static `format()` method. Not sure what they&#39;re using in the video. Maybe a custom class?","body":"You need to constuct an instance of <code>DateFormat</code>. It doesn&#39;t have a static <code>format()</code> method. Not sure what they&#39;re using in the video. Maybe a custom class?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693432782,"post_id":77011654,"comment_id":135762185,"body_markdown":"OI strongly recommend that you don’t use `DateFormat`. It’s a long outdated class that was always notoriously troublesome. Depending on your needs look into `LocalDateTime`, `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"OI strongly recommend that you don’t use <code>DateFormat</code>. It’s a long outdated class that was always notoriously troublesome. Depending on your needs look into <code>LocalDateTime</code>, <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693433162,"post_id":77011654,"comment_id":135762240,"body_markdown":"Welcome to Stack Overflow. What was the purpose of that line, `CharSequence format = DateFormat.format(&quot;yyyy-MM-dd_HH:mm:ss&quot;);`? Surely the `java.text.DateFormat` never was able to take a screenshot?! If we’re to help, we need to know what you were trying to do. And I am not looking through that video (way too many ads in the way).","body":"Welcome to Stack Overflow. What was the purpose of that line, <code>CharSequence format = DateFormat.format(&quot;yyyy-MM-dd_HH:mm:ss&quot;);</code>? Surely the <code>java.text.DateFormat</code> never was able to take a screenshot?! If we’re to help, we need to know what you were trying to do. And I am not looking through that video (way too many ads in the way)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1693460108,"post_id":77011654,"comment_id":135764339,"body_markdown":"The video is for Android development. The Android SDK has a class `android.text.format.DateFormat` which has a method [`public static CharSequence format(CharSequence, Date)`](https://www.android-doc.com/reference/android/text/format/DateFormat.html#format(java.lang.CharSequence,%20java.util.Date)) which means that your import of `java.text.DateFormat` is wrong.","body":"The video is for Android development. The Android SDK has a class <code>android.text.format.DateFormat</code> which has a method <a href=\"https://www.android-doc.com/reference/android/text/format/DateFormat.html#format(java.lang.CharSequence,%20java.util.Date)\" rel=\"nofollow noreferrer\"><code>public static CharSequence format(CharSequence, Date)</code></a> which means that your import of <code>java.text.DateFormat</code> is wrong."}],"owner":{"account_id":14522858,"reputation":65,"user_id":10490051,"display_name":"Dominik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693434801,"answer_count":0,"score":0,"last_activity_date":1693460961,"creation_date":1693431372,"question_id":77011654,"body_markdown":"I tried to make screenshot programatically according to [this video][1] but there is error with *CharSequence format*: \r\n\r\n``` \r\nerror: non-static method format(Object) cannot be referenced from a static context\r\n        CharSequence format = DateFormat.format(&quot;yyyy-MM-dd_HH:mm:ss&quot;);\r\n\r\n``` \r\nI tried to find it in [documentation][2] but I was not succesfull.\r\nI tried chat gpt but i received same code as I sent him...\r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.screenshot_new;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.text.DateFormat;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        verifyStoragePermission(this);\r\n        btn = findViewById(R.id.btn);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                takeScreenShot(getWindow().getDecorView().getRootView(), &quot;result&quot;);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    protected static File takeScreenShot(View view, String fileName) {\r\n        Date date = new Date();\r\n        CharSequence format = DateFormat.format(&quot;yyyy-MM-dd_HH:mm:ss&quot;);\r\n        try {\r\n            String dirPath = Environment.getExternalStorageDirectory().toString() + &quot;/learnwithDeeksha&quot;;\r\n            File fileDir = new File(dirPath);\r\n            if(!fileDir.exists()){\r\n                boolean mkdir=fileDir.mkdir();\r\n          //other code\r\n```\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=EgjtFX3SjXo,\r\n  [2]: https://developer.android.com/reference/java/lang/CharSequence","title":"Android(4)-Java: Why is DateFormat incorrect? cannot be referenced from a static context CharSequence format=DateFormat.format(&quot;yyyy-MM-dd_HH:mm:ss&quot;);","body":"<p>I tried to make screenshot programatically according to <a href=\"https://www.youtube.com/watch?v=EgjtFX3SjXo,\" rel=\"nofollow noreferrer\">this video</a> but there is error with <em>CharSequence format</em>:</p>\n<pre><code>error: non-static method format(Object) cannot be referenced from a static context\n        CharSequence format = DateFormat.format(&quot;yyyy-MM-dd_HH:mm:ss&quot;);\n\n</code></pre>\n<p>I tried to find it in <a href=\"https://developer.android.com/reference/java/lang/CharSequence\" rel=\"nofollow noreferrer\">documentation</a> but I was not succesfull.\nI tried chat gpt but i received same code as I sent him...</p>\n<pre><code>package com.example.screenshot_new;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.app.Activity;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.text.DateFormat;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button btn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        verifyStoragePermission(this);\n        btn = findViewById(R.id.btn);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                takeScreenShot(getWindow().getDecorView().getRootView(), &quot;result&quot;);\n            }\n\n        });\n    }\n\n    protected static File takeScreenShot(View view, String fileName) {\n        Date date = new Date();\n        CharSequence format = DateFormat.format(&quot;yyyy-MM-dd_HH:mm:ss&quot;);\n        try {\n            String dirPath = Environment.getExternalStorageDirectory().toString() + &quot;/learnwithDeeksha&quot;;\n            File fileDir = new File(dirPath);\n            if(!fileDir.exists()){\n                boolean mkdir=fileDir.mkdir();\n          //other code\n</code></pre>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1402814706,"post_id":24227149,"comment_id":37413877,"body_markdown":"You also have assertions. See Oracle&#39;s [Programming With Assertions](http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html).","body":"You also have assertions. See Oracle&#39;s <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">Programming With Assertions</a>."}],"answers":[{"comments":[{"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"score":4,"creation_date":1402935689,"post_id":24227177,"comment_id":37453777,"body_markdown":"The @Beta question is answered on the Guava home page: &quot;If your code is a library itself (i.e. it is used on the CLASSPATH of users outside your own control), you should not use beta APIs, unless you repackage them (e.g. using ProGuard).&quot;","body":"The @Beta question is answered on the Guava home page: &quot;If your code is a library itself (i.e. it is used on the CLASSPATH of users outside your own control), you should not use beta APIs, unless you repackage them (e.g. using ProGuard).&quot;"}],"tags":[],"owner":{"account_id":1748971,"reputation":3314,"user_id":1598523,"accept_rate":100,"display_name":"torquestomp"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1402815834,"creation_date":1402814353,"answer_id":24227177,"question_id":24227149,"body_markdown":"The difference is semantic.  Verify is used to ensure that invariants don&#39;t change, that Code which has been engineered to do a certain thing is actually doing that thing.  In spirit:\r\n\r\n    int x = divide(10, 5);\r\n    Verify.verify(x == 2, &quot;X should be 2&quot;);\r\n\r\nPreconditions, on the other hand, are expected to fail when bad input is passed to a certain portion of the program, usually either from the user to the code, or from client code to code within another library.  In spirit:\r\n\r\n    public int divide(int x, int y) {\r\n      Preconditions.checkArgument(y != 0, &quot;Can&#39;t divide by 0!&quot;);\r\n      return x / y;\r\n    }\r\n\r\nAs to whether you should use a @Beta class, that entirely depends on the scope and foreseeable lifetime of the application you are building, and, asked alone, would probably be flagged as a &quot;Primarily Opinion-Based&quot; question.\r\n    ","title":"What is the purpose of Guava&#39;s Verify?","body":"<p>The difference is semantic.  Verify is used to ensure that invariants don't change, that Code which has been engineered to do a certain thing is actually doing that thing.  In spirit:</p>\n\n<pre><code>int x = divide(10, 5);\nVerify.verify(x == 2, \"X should be 2\");\n</code></pre>\n\n<p>Preconditions, on the other hand, are expected to fail when bad input is passed to a certain portion of the program, usually either from the user to the code, or from client code to code within another library.  In spirit:</p>\n\n<pre><code>public int divide(int x, int y) {\n  Preconditions.checkArgument(y != 0, \"Can't divide by 0!\");\n  return x / y;\n}\n</code></pre>\n\n<p>As to whether you should use a @Beta class, that entirely depends on the scope and foreseeable lifetime of the application you are building, and, asked alone, would probably be flagged as a \"Primarily Opinion-Based\" question.</p>\n"},{"comments":[{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":5,"creation_date":1469402955,"post_id":26748973,"comment_id":64506758,"body_markdown":"To be fair, that&#39;s a very subtle difference versus the accepted answer. It would be useful if you explicitly called out where the accepted answer is wrong.","body":"To be fair, that&#39;s a very subtle difference versus the accepted answer. It would be useful if you explicitly called out where the accepted answer is wrong."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1673792450,"post_id":26748973,"comment_id":132572272,"body_markdown":"Whats wrong with the accepted answer? Accepted answer seems much more reasonable than this answer itself.","body":"Whats wrong with the accepted answer? Accepted answer seems much more reasonable than this answer itself."}],"tags":[],"owner":{"account_id":1100698,"reputation":677,"user_id":1093155,"accept_rate":84,"display_name":"mcjohnalds45"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1693460815,"creation_date":1415156285,"answer_id":26748973,"question_id":24227149,"body_markdown":"Torquestomp&#39;s answer is wrong (though it may have been correct for its time, I don&#39;t know). See Guava&#39;s wiki entry: [Kinds of conditional failures][1].\r\n\r\n**Precondition**\r\n\r\n&gt; A precondition check ensures that the caller of a public method has obeyed the requirements of the method&#39;s specification. For example, a sqrt function may accept only nonnegative arguments.\r\n\r\n**Verification**\r\n\r\n&gt;A verification check is used when you lack high confidence that an API you consume will meet its (real or implied) specification. It&#39;s easiest to understand this type of check as &quot;like an assertion in almost every way, but must remain enabled in production.&quot;\r\n\r\nDon&#39;t worry too much though. From [Guava API docs][2]:\r\n\r\n&gt; In some cases the differences [between Preconditions and Verify] can be subtle. When it&#39;s unclear which approach to use, **don&#39;t worry** too much about it; just pick something that seems reasonable and it will be fine.\r\n\r\n  [1]: https://github.com/google/guava/wiki/ConditionalFailuresExplained\r\n[2]: https://guava.dev/releases/32.1.2-jre/api/docs/com/google/common/base/Verify.html","title":"What is the purpose of Guava&#39;s Verify?","body":"<p>Torquestomp's answer is wrong (though it may have been correct for its time, I don't know). See Guava's wiki entry: <a href=\"https://github.com/google/guava/wiki/ConditionalFailuresExplained\" rel=\"nofollow noreferrer\">Kinds of conditional failures</a>.</p>\n<p><strong>Precondition</strong></p>\n<blockquote>\n<p>A precondition check ensures that the caller of a public method has obeyed the requirements of the method's specification. For example, a sqrt function may accept only nonnegative arguments.</p>\n</blockquote>\n<p><strong>Verification</strong></p>\n<blockquote>\n<p>A verification check is used when you lack high confidence that an API you consume will meet its (real or implied) specification. It's easiest to understand this type of check as &quot;like an assertion in almost every way, but must remain enabled in production.&quot;</p>\n</blockquote>\n<p>Don't worry too much though. From <a href=\"https://guava.dev/releases/32.1.2-jre/api/docs/com/google/common/base/Verify.html\" rel=\"nofollow noreferrer\">Guava API docs</a>:</p>\n<blockquote>\n<p>In some cases the differences [between Preconditions and Verify] can be subtle. When it's unclear which approach to use, <strong>don't worry</strong> too much about it; just pick something that seems reasonable and it will be fine.</p>\n</blockquote>\n"}],"owner":{"account_id":2850807,"reputation":744,"user_id":2448070,"accept_rate":45,"display_name":"Morad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3140,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":24227177,"answer_count":2,"score":8,"last_activity_date":1693460815,"creation_date":1402813972,"question_id":24227149,"body_markdown":"What is the purpose of [`com.google.common.base.Verify`][1] when we have [`com.google.common.base.Preconditions`][2]?\r\n\r\nThe `Verify` class looks nice but it has an `@Beta` annotation, should I use it?\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Verify.html\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Preconditions.html","title":"What is the purpose of Guava&#39;s Verify?","body":"<p>What is the purpose of <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Verify.html\" rel=\"nofollow\"><code>com.google.common.base.Verify</code></a> when we have <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Preconditions.html\" rel=\"nofollow\"><code>com.google.common.base.Preconditions</code></a>?</p>\n\n<p>The <code>Verify</code> class looks nice but it has an <code>@Beta</code> annotation, should I use it?</p>\n"},{"tags":["java","arraylist","filtering","guava"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1370001005,"post_id":16856554,"comment_id":24310664,"body_markdown":"How isn&#39;t it working? I&#39;d bet for a compile error...","body":"How isn&#39;t it working? I&#39;d bet for a compile error..."},{"owner":{"account_id":2811063,"reputation":573,"user_id":2417302,"accept_rate":63,"display_name":"Aimad Majdou"},"score":0,"creation_date":1370001067,"post_id":16856554,"comment_id":24310702,"body_markdown":"@fge because I&#39;m filtering using a string, I&#39;ve t filter using the object&#39;s field, but I don&#39;t know how to do it.","body":"@fge because I&#39;m filtering using a string, I&#39;ve t filter using the object&#39;s field, but I don&#39;t know how to do it."},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1370001291,"post_id":16856554,"comment_id":24310818,"body_markdown":"You need to implement your own `Predicate`, none of those provided by `Predicates` (except for `notNull()`/`isNull()`) will be able to filter your object in a meaningful way. Have you read [Functional explained](https://code.google.com/p/guava-libraries/wiki/FunctionalExplained)?","body":"You need to implement your own <code>Predicate</code>, none of those provided by <code>Predicates</code> (except for <code>notNull()</code>/<code>isNull()</code>) will be able to filter your object in a meaningful way. Have you read <a href=\"https://code.google.com/p/guava-libraries/wiki/FunctionalExplained\" rel=\"nofollow noreferrer\">Functional explained</a>?"},{"owner":{"display_name":"user1732480"},"score":1,"creation_date":1370001301,"post_id":16856554,"comment_id":24310827,"body_markdown":"I&#39;m not as familiar as I should be with the Guava library, but I think you need to use Predicate.compose(Predicate&lt;B&gt; predicate, Function&lt;A,? extends B&gt; function) to create a new function for testing whether the specific field is correct. I&#39;ll post an answer in a few minutes with some sort of exact solution. But from what I understand, this is what you should do.","body":"I&#39;m not as familiar as I should be with the Guava library, but I think you need to use Predicate.compose(Predicate&lt;B&gt; predicate, Function&lt;A,? extends B&gt; function) to create a new function for testing whether the specific field is correct. I&#39;ll post an answer in a few minutes with some sort of exact solution. But from what I understand, this is what you should do."}],"answers":[{"tags":[],"owner":{"account_id":2118736,"reputation":489,"user_id":1882481,"accept_rate":80,"display_name":"monika"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1370001168,"creation_date":1370001168,"answer_id":16856672,"question_id":16856554,"body_markdown":"You can use a for loop or for each loop to loop thru the list.\r\nDo you want to create another list based on some condition?\r\nThis should work I think.\r\n\r\n    List&lt;Article&gt; secondList = new ArrayList&lt;Article&gt;();\r\n\r\n    for( Article a : listArticles) { \r\n    // or equalsIgnoreCase or whatever your conditon is\r\n    if (a.getDesArt().equals(&quot;some String&quot;)) {\r\n    // do something \r\n    secondList.add(a);\r\n    }\r\n    }\r\n\r\n","title":"filtering an ArrayList using an object&#39;s field","body":"<p>You can use a for loop or for each loop to loop thru the list.\nDo you want to create another list based on some condition?\nThis should work I think.</p>\n\n<pre><code>List&lt;Article&gt; secondList = new ArrayList&lt;Article&gt;();\n\nfor( Article a : listArticles) { \n// or equalsIgnoreCase or whatever your conditon is\nif (a.getDesArt().equals(\"some String\")) {\n// do something \nsecondList.add(a);\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3116741,"reputation":1030,"user_id":2637343,"accept_rate":79,"display_name":"Lahiru Prasanna"},"score":0,"creation_date":1467617110,"post_id":16856736,"comment_id":63784903,"body_markdown":"what is Lists here?","body":"what is Lists here?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1467624726,"post_id":16856736,"comment_id":63788888,"body_markdown":"@LahiruPrasanna it&#39;s Guava&#39;s `Lists`, since the question is about Guava","body":"@LahiruPrasanna it&#39;s Guava&#39;s <code>Lists</code>, since the question is about Guava"}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1393580688,"creation_date":1370001417,"answer_id":16856736,"question_id":16856554,"body_markdown":"This is normal: [Predicates.containsPattern()][1] operates on `CharSequence`s, which your `gestionStock.Article` object does not implement.\r\n\r\nYou need to write your own predicate:\r\n\r\n    public final class ArticleFilter\r\n        implements Predicate&lt;gestionstock.Article&gt;\r\n    {\r\n        private final Pattern pattern;\r\n\r\n        public ArticleFilter(final String regex)\r\n        {\r\n            pattern = Pattern.compile(regex);\r\n        }\r\n\r\n        @Override\r\n        public boolean apply(final gestionstock.Article input)\r\n        {\r\n            return pattern.matcher(input.getDesArt()).find();\r\n        }\r\n    }\r\n\r\nThen use:\r\n\r\n     private List&lt;gestionstock.Article&gt; filteredList\r\n         = Lists.newArrayList(Collections2.filter(listArticles,     \r\n             new ArticleFilter(&quot;test&quot;)));\r\n\r\nHowever, this is quite some code for something which can be done in much less code using non functional programming, as demonstrated by @mgnyp...\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Predicates.html#containsPattern%28java.lang.String%29","title":"filtering an ArrayList using an object&#39;s field","body":"<p>This is normal: <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Predicates.html#containsPattern%28java.lang.String%29\">Predicates.containsPattern()</a> operates on <code>CharSequence</code>s, which your <code>gestionStock.Article</code> object does not implement.</p>\n\n<p>You need to write your own predicate:</p>\n\n<pre><code>public final class ArticleFilter\n    implements Predicate&lt;gestionstock.Article&gt;\n{\n    private final Pattern pattern;\n\n    public ArticleFilter(final String regex)\n    {\n        pattern = Pattern.compile(regex);\n    }\n\n    @Override\n    public boolean apply(final gestionstock.Article input)\n    {\n        return pattern.matcher(input.getDesArt()).find();\n    }\n}\n</code></pre>\n\n<p>Then use:</p>\n\n<pre><code> private List&lt;gestionstock.Article&gt; filteredList\n     = Lists.newArrayList(Collections2.filter(listArticles,     \n         new ArticleFilter(\"test\")));\n</code></pre>\n\n<p>However, this is quite some code for something which can be done in much less code using non functional programming, as demonstrated by @mgnyp...</p>\n"},{"tags":[],"owner":{"display_name":"user1732480"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1370001662,"creation_date":1370001662,"answer_id":16856800,"question_id":16856554,"body_markdown":"Try this:\r\n\r\n    private List&lt;gestionstock.Article&gt; listArticles = new ArrayList&lt;&gt;();\r\n    private List&lt;gestionstock.Article&gt; filteredList filteredList = Lists.newArrayList(Collections2.filter(listArticles, new Predicate&lt;gestionstock.Article&gt;(){\r\n            public boolean apply(gestationstock.Article article){\r\n                return article.getDesArt().contains(&quot;test&quot;)\r\n            }\r\n        }));\r\n\r\n\r\n\r\nThe idea being is since you&#39;re using a custom object, you should implement your own predicate. If you&#39;re using it anywhere else, define it in a file, otherwise, this implementation works nicely. ","title":"filtering an ArrayList using an object&#39;s field","body":"<p>Try this:</p>\n\n<pre><code>private List&lt;gestionstock.Article&gt; listArticles = new ArrayList&lt;&gt;();\nprivate List&lt;gestionstock.Article&gt; filteredList filteredList = Lists.newArrayList(Collections2.filter(listArticles, new Predicate&lt;gestionstock.Article&gt;(){\n        public boolean apply(gestationstock.Article article){\n            return article.getDesArt().contains(\"test\")\n        }\n    }));\n</code></pre>\n\n<p>The idea being is since you're using a custom object, you should implement your own predicate. If you're using it anywhere else, define it in a file, otherwise, this implementation works nicely. </p>\n"},{"comments":[{"owner":{"account_id":46333,"reputation":56186,"user_id":136829,"display_name":"Glenn Maynard"},"score":1,"creation_date":1457391426,"post_id":16858172,"comment_id":59377116,"body_markdown":"It&#39;s not complicated, it&#39;s just obfucated.","body":"It&#39;s not complicated, it&#39;s just obfucated."}],"tags":[],"owner":{"account_id":2272299,"reputation":229,"user_id":1999378,"display_name":"n00bot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370006057,"creation_date":1370006057,"answer_id":16858172,"question_id":16856554,"body_markdown":"Guava is a library that allows you to use some functional programming in Java.\r\nOne of the winning things in functional programming is collection transformation like\r\n\r\nCollection -&gt; op -&gt; op -&gt; op -&gt; transformedCollection.\r\n\r\nLook here:\r\n\r\n    Collection&lt;Article&gt; filtered = from(listArticles).filter(myPredicate1).filter(myPredicate2).filter(myPredicate3).toImmutableList();\r\n\r\nIt&#39;s beautiful, isn&#39;t it?\r\n\r\nThe second one winning thing is lambda functions. Look here:\r\n\r\n    Collection&lt;Article&gt; filtered = from(listArticles)\r\n      .filter((Predicate) (candidate) -&gt; { return candidate.getCodeArt() &gt; SOME_VALUE })\r\n      .toImmutableList();\r\n\r\nActually, Java has not pure lambda functions yet. We will be able to do it in Java 8. But for now we can write this in IDE Inellij Idea, and IDE transforms such lambda into Predicate, created on-the-fly:\r\n\r\n    Collection&lt;Article&gt; filtered = from(listArticles)\r\n            .filter(new Predicate&lt;Article&gt;() {\r\n                @Override\r\n                public boolean apply(Article candidate) {\r\n                    return candidate.getCodeArt() &gt; SOME_VALUE;\r\n                }\r\n            })\r\n            .toImmutableList();\r\n\r\nIf your filter condition requires regexp, the code become more complicated, and you will need to move condition to separate method or move whole Predicate to a separate class.\r\n\r\nIf all this functional programming seems too complicated, just create new collection and fill it manually (without Guava):\r\n\r\n    List&lt;Article&gt; filtered = new ArrayList&lt;Article&gt;();\r\n    for(Article article : listArticles)\r\n    {\r\n        if(article.getCodeArt() &gt; SOME_VALUE)\r\n            filtered.add(article);\r\n    }\r\n\r\n","title":"filtering an ArrayList using an object&#39;s field","body":"<p>Guava is a library that allows you to use some functional programming in Java.\nOne of the winning things in functional programming is collection transformation like</p>\n\n<p>Collection -> op -> op -> op -> transformedCollection.</p>\n\n<p>Look here:</p>\n\n<pre><code>Collection&lt;Article&gt; filtered = from(listArticles).filter(myPredicate1).filter(myPredicate2).filter(myPredicate3).toImmutableList();\n</code></pre>\n\n<p>It's beautiful, isn't it?</p>\n\n<p>The second one winning thing is lambda functions. Look here:</p>\n\n<pre><code>Collection&lt;Article&gt; filtered = from(listArticles)\n  .filter((Predicate) (candidate) -&gt; { return candidate.getCodeArt() &gt; SOME_VALUE })\n  .toImmutableList();\n</code></pre>\n\n<p>Actually, Java has not pure lambda functions yet. We will be able to do it in Java 8. But for now we can write this in IDE Inellij Idea, and IDE transforms such lambda into Predicate, created on-the-fly:</p>\n\n<pre><code>Collection&lt;Article&gt; filtered = from(listArticles)\n        .filter(new Predicate&lt;Article&gt;() {\n            @Override\n            public boolean apply(Article candidate) {\n                return candidate.getCodeArt() &gt; SOME_VALUE;\n            }\n        })\n        .toImmutableList();\n</code></pre>\n\n<p>If your filter condition requires regexp, the code become more complicated, and you will need to move condition to separate method or move whole Predicate to a separate class.</p>\n\n<p>If all this functional programming seems too complicated, just create new collection and fill it manually (without Guava):</p>\n\n<pre><code>List&lt;Article&gt; filtered = new ArrayList&lt;Article&gt;();\nfor(Article article : listArticles)\n{\n    if(article.getCodeArt() &gt; SOME_VALUE)\n        filtered.add(article);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3607511,"reputation":2973,"user_id":3009370,"display_name":"facundofarias"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408702826,"creation_date":1408702826,"answer_id":25444749,"question_id":16856554,"body_markdown":"With Guava, I would say that the easiest way by far would be by using Collections2.filter, such as:\r\n\r\n    Collections2.filter(YOUR_COLLECTION, new Predicate&lt;YOUR_OBJECT&gt;() {\r\n      @Override\r\n      public boolean apply(YOUR_OBJECT candidate) {\r\n        return SOME_ATTRIBUTE.equals(candidate.getAttribute());\r\n      }\r\n    });","title":"filtering an ArrayList using an object&#39;s field","body":"<p>With Guava, I would say that the easiest way by far would be by using Collections2.filter, such as:</p>\n\n<pre><code>Collections2.filter(YOUR_COLLECTION, new Predicate&lt;YOUR_OBJECT&gt;() {\n  @Override\n  public boolean apply(YOUR_OBJECT candidate) {\n    return SOME_ATTRIBUTE.equals(candidate.getAttribute());\n  }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":953341,"reputation":20069,"user_id":1254536,"accept_rate":56,"display_name":"LOG_TAG"},"score":0,"creation_date":1487980097,"post_id":38804068,"comment_id":72044144,"body_markdown":"without using lamda expression will be grateful :)","body":"without using lamda expression will be grateful :)"}],"tags":[],"owner":{"account_id":1773636,"reputation":5342,"user_id":1617910,"accept_rate":68,"display_name":"Free-Minded"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1470484827,"creation_date":1470484827,"answer_id":38804068,"question_id":16856554,"body_markdown":"In Java 8, using filter\r\n\r\n  \r\n    List&lt;Article&gt; articleList = new ArrayList&lt;Article&gt;();\r\n    List&lt;Article&gt; filteredArticleList= articleList.stream().filter(article -&gt; article.getDesArt().contains(&quot;test&quot;)).collect(Collectors.toList());","title":"filtering an ArrayList using an object&#39;s field","body":"<p>In Java 8, using filter</p>\n\n<pre><code>List&lt;Article&gt; articleList = new ArrayList&lt;Article&gt;();\nList&lt;Article&gt; filteredArticleList= articleList.stream().filter(article -&gt; article.getDesArt().contains(\"test\")).collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1693495285,"post_id":77013035,"comment_id":135771584,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77013035/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29334687,"reputation":1,"user_id":22475324,"display_name":"CA Tawde"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693460076,"creation_date":1693459908,"answer_id":77013035,"question_id":16856554,"body_markdown":"    Try This : \r\n    // For new filter list\r\n    val filtered: ArrayList&lt;Article&gt; = ArrayList&lt;Article&gt;()\r\n    \r\n    //mainList is original list from which filter out items basis on condition\r\n    // use startswith/contains etc as per requirement\r\n    // below &quot;query&quot; used for search text related\r\n\r\n    mainList.filter{(it.desArt.lowercase().startsWith(query.lowercase())) }\r\n    .onEach { it1-&gt; filtered.add(it1) }\r\n\r\n","title":"filtering an ArrayList using an object&#39;s field","body":"<pre><code>Try This : \n// For new filter list\nval filtered: ArrayList&lt;Article&gt; = ArrayList&lt;Article&gt;()\n\n//mainList is original list from which filter out items basis on condition\n// use startswith/contains etc as per requirement\n// below &quot;query&quot; used for search text related\n\nmainList.filter{(it.desArt.lowercase().startsWith(query.lowercase())) }\n.onEach { it1-&gt; filtered.add(it1) }\n</code></pre>\n"}],"owner":{"account_id":2811063,"reputation":573,"user_id":2417302,"accept_rate":63,"display_name":"Aimad Majdou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98521,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":16856736,"answer_count":7,"score":24,"last_activity_date":1693460076,"creation_date":1370000811,"question_id":16856554,"body_markdown":"I have an ArrayList which is filled by Objects.\r\n\r\nMy object class called `Article` which has two fields ;\r\n\r\n    public class Article {\r\n    \r\n    \tprivate int codeArt;\r\n    \tprivate String desArt;\r\n    \r\n      public Article(int aInt, String string) {\r\n            this.desArt = string;\r\n            this.codeArt = aInt;\r\n        }\r\n    \r\n        public int getCodeArt() {return codeArt; }\r\n        public void setCodeArt(int codeArt) {this.codeArt = codeArt;}\r\n        public String getDesArt() {return desArt;}\r\n        public void setDesArt(String desArt) { this.desArt = desArt;}\r\n    \r\n    }\r\n\r\nI want to filter my List using the `desArt` field, and for test I used the String &quot;test&quot;.\r\n\r\nI used the Guava from google which allows me to filter an ArrayList.\r\n\r\nthis is the code I tried :\r\n\r\n    private List&lt;gestionstock.Article&gt; listArticles = new ArrayList&lt;&gt;();\r\n    \r\n    //Here the I&#39;ve filled my ArrayList\r\n    \r\n    private List&lt;gestionstock.Article&gt; filteredList filteredList = Lists.newArrayList(Collections2.filter(listArticles, Predicates.containsPattern(&quot;test&quot;)));\r\n\r\n\r\nbut this code isn&#39;t working.\r\n","title":"filtering an ArrayList using an object&#39;s field","body":"<p>I have an ArrayList which is filled by Objects.</p>\n\n<p>My object class called <code>Article</code> which has two fields ;</p>\n\n<pre><code>public class Article {\n\n    private int codeArt;\n    private String desArt;\n\n  public Article(int aInt, String string) {\n        this.desArt = string;\n        this.codeArt = aInt;\n    }\n\n    public int getCodeArt() {return codeArt; }\n    public void setCodeArt(int codeArt) {this.codeArt = codeArt;}\n    public String getDesArt() {return desArt;}\n    public void setDesArt(String desArt) { this.desArt = desArt;}\n\n}\n</code></pre>\n\n<p>I want to filter my List using the <code>desArt</code> field, and for test I used the String \"test\".</p>\n\n<p>I used the Guava from google which allows me to filter an ArrayList.</p>\n\n<p>this is the code I tried :</p>\n\n<pre><code>private List&lt;gestionstock.Article&gt; listArticles = new ArrayList&lt;&gt;();\n\n//Here the I've filled my ArrayList\n\nprivate List&lt;gestionstock.Article&gt; filteredList filteredList = Lists.newArrayList(Collections2.filter(listArticles, Predicates.containsPattern(\"test\")));\n</code></pre>\n\n<p>but this code isn't working.</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1693459582,"post_id":77012683,"comment_id":135764299,"body_markdown":"You need to use [thymeleaf](https://www.thymeleaf.org/) in html to be able to pass data from html to spring boot","body":"You need to use <a href=\"https://www.thymeleaf.org/\" rel=\"nofollow noreferrer\">thymeleaf</a> in html to be able to pass data from html to spring boot"}],"answers":[{"tags":[],"owner":{"account_id":29334483,"reputation":28,"user_id":22475164,"display_name":"h2k1dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693459536,"creation_date":1693459536,"answer_id":77013016,"question_id":77012683,"body_markdown":"It is not specific to NetBean.\r\nFrom reading the code, I can see that you&#39;re using Spring Boot.\r\n\r\nI don&#39;t know how you created your project. But I can confidently guess you used Maven. Add the following dependency to pom.xml if it is not there yet\r\n\r\n```\r\n    &lt;dependency&gt;  \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;  \r\n    &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;  \r\n    &lt;/dependency&gt;  \r\n```\r\n\r\nThen in application.properties:\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\nspring.datasource.username=user\r\nspring.datasource.password=secret\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n```\r\n\r\nAssume you have a table `users` with id and name.\r\n\r\nCreate an User entity:\r\nUser.java\r\n```\r\n@Entity\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy=GenerationType.AUTO)\r\n  private Integer id;\r\n\r\n  private String name;\r\n}\r\n```\r\n\r\nand a repository for it:\r\n```\r\npublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nThen you can use it in a controller:\r\n```\r\n@RequestMapping(path=&quot;/demo&quot;)\r\npublic class MainController {\r\n\r\n@GetMapping(path=&quot;/all&quot;)\r\npublic @ResponseBody Iterable&lt;User&gt; getAllUsers() {\r\n\r\n    return userRepository.findAll();\r\n}\r\n...\r\n```\r\n\r\nWhen you visit http://localhost:port/demo/all you can see all entries in table users\r\n\r\n---\r\n\r\n&gt; i dont know how to take input from my login page(index.html)\r\n\r\nFor this sub-question, you can get value from the submitted form by adding a handler to controller that consume `MediaType.MULTIPART_FORM_DATA_VALUE`:\r\n\r\n```\r\n    @PostMapping(value = &quot;/login&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public void login(@RequestParam(value = &quot;username&quot;) String userName,\r\n                      @RequestParam(value = &quot;password&quot;) String password) {\r\n// do some processing here\r\n```","title":"How to connect a mySQL databse to spring boot in apache netbeans","body":"<p>It is not specific to NetBean.\nFrom reading the code, I can see that you're using Spring Boot.</p>\n<p>I don't know how you created your project. But I can confidently guess you used Maven. Add the following dependency to pom.xml if it is not there yet</p>\n<pre><code>    &lt;dependency&gt;  \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;  \n    &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;  \n    &lt;/dependency&gt;  \n</code></pre>\n<p>Then in application.properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.datasource.username=user\nspring.datasource.password=secret\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n</code></pre>\n<p>Assume you have a table <code>users</code> with id and name.</p>\n<p>Create an User entity:\nUser.java</p>\n<pre><code>@Entity\npublic class User {\n  @Id\n  @GeneratedValue(strategy=GenerationType.AUTO)\n  private Integer id;\n\n  private String name;\n}\n</code></pre>\n<p>and a repository for it:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p>Then you can use it in a controller:</p>\n<pre><code>@RequestMapping(path=&quot;/demo&quot;)\npublic class MainController {\n\n@GetMapping(path=&quot;/all&quot;)\npublic @ResponseBody Iterable&lt;User&gt; getAllUsers() {\n\n    return userRepository.findAll();\n}\n...\n</code></pre>\n<p>When you visit http://localhost:port/demo/all you can see all entries in table users</p>\n<hr />\n<blockquote>\n<p>i dont know how to take input from my login page(index.html)</p>\n</blockquote>\n<p>For this sub-question, you can get value from the submitted form by adding a handler to controller that consume <code>MediaType.MULTIPART_FORM_DATA_VALUE</code>:</p>\n<pre><code>    @PostMapping(value = &quot;/login&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public void login(@RequestParam(value = &quot;username&quot;) String userName,\n                      @RequestParam(value = &quot;password&quot;) String password) {\n// do some processing here\n</code></pre>\n"}],"owner":{"account_id":29334185,"reputation":1,"user_id":22474929,"display_name":"GooseMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693459536,"creation_date":1693452405,"question_id":77012683,"body_markdown":"sorry im really new to programming and for a school project i have to connect a website with a database, i have made the front-end but i dont know what to now. I have a controller here is its code, i dont know how to take input from my login page(`index.html`) any help would be helpful, even guiding me to certain resources would help. please let me know if any more information is needed. thank you.\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@SpringBootApplication\r\npublic class MavenSbApplication \r\n{\r\n\r\n\tpublic static void main(String[] args) \r\n    {\r\n\t\tSpringApplication.run(MavenSbApplication.class, args);\r\n\t}\r\n        \r\n    @GetMapping(&quot;/index&quot;)\r\n    public String doSomething(Model model)\r\n    {\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\ni tried watching a video but its different from what a friend did and im confused","title":"How to connect a mySQL databse to spring boot in apache netbeans","body":"<p>sorry im really new to programming and for a school project i have to connect a website with a database, i have made the front-end but i dont know what to now. I have a controller here is its code, i dont know how to take input from my login page(<code>index.html</code>) any help would be helpful, even guiding me to certain resources would help. please let me know if any more information is needed. thank you.</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@SpringBootApplication\npublic class MavenSbApplication \n{\n\n    public static void main(String[] args) \n    {\n        SpringApplication.run(MavenSbApplication.class, args);\n    }\n        \n    @GetMapping(&quot;/index&quot;)\n    public String doSomething(Model model)\n    {\n        return &quot;index&quot;;\n    }\n}\n\n</code></pre>\n<p>i tried watching a video but its different from what a friend did and im confused</p>\n"},{"tags":["java","spring-boot","caching","redis","aop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692475243,"post_id":76936360,"comment_id":135629263,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692517613,"post_id":76936360,"comment_id":135632162,"body_markdown":"Welcome to SO. Nobody can debug plain prose. Programmers debug code. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. If you feel unable to do that, please help yourself by reading some documentation or tutorials like [this one](https://www.baeldung.com/spring-cache-tutorial).","body":"Welcome to SO. Nobody can debug plain prose. Programmers debug code. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. If you feel unable to do that, please help yourself by reading some documentation or tutorials like <a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">this one</a>."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693459471,"creation_date":1693459471,"answer_id":77013008,"question_id":76936360,"body_markdown":"Thanks for editing your question, adding sample code showing what you tried. Now I can answer:\r\n\r\nAnnotations are by definition a compile-time thing. They cannot be changed during runtime. Even if you use dirty tricks like reflection, it might not have a permanent effect. Besides, you should not assume that each annotation is re-evaluated each time a method is called. If Spring is a smartly designed framework, which I guess it is, it does that once while wiring the application. Either way, you are on the wrong path. Turn around quickly!\r\n\r\nYou still have options: Either you can do caching manually, if you want it to be super dynamic. Or you can use conditional caching, utilising SpEL like this:\r\n\r\n```java\r\n@CachePut(value=&quot;addresses&quot;, condition=&quot;#customer.name==&#39;Tom&#39;&quot;)\r\n```\r\n\r\nor\r\n\r\n```java\r\n@CachePut(value=&quot;addresses&quot;, unless=&quot;#result.length()&lt;64&quot;)\r\n```\r\n\r\nSee this [Baeldung tutorial](https://www.baeldung.com/spring-cache-tutorial#conditional-caching) for more information.\r\nhttps://www.baeldung.com/spring-cache-tutorial.","title":"How to change the @Cacheable condition field at runtime?","body":"<p>Thanks for editing your question, adding sample code showing what you tried. Now I can answer:</p>\n<p>Annotations are by definition a compile-time thing. They cannot be changed during runtime. Even if you use dirty tricks like reflection, it might not have a permanent effect. Besides, you should not assume that each annotation is re-evaluated each time a method is called. If Spring is a smartly designed framework, which I guess it is, it does that once while wiring the application. Either way, you are on the wrong path. Turn around quickly!</p>\n<p>You still have options: Either you can do caching manually, if you want it to be super dynamic. Or you can use conditional caching, utilising SpEL like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CachePut(value=&quot;addresses&quot;, condition=&quot;#customer.name=='Tom'&quot;)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CachePut(value=&quot;addresses&quot;, unless=&quot;#result.length()&lt;64&quot;)\n</code></pre>\n<p>See this <a href=\"https://www.baeldung.com/spring-cache-tutorial#conditional-caching\" rel=\"nofollow noreferrer\">Baeldung tutorial</a> for more information.\n<a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cache-tutorial</a>.</p>\n"}],"owner":{"account_id":16165507,"reputation":1,"user_id":11670582,"display_name":"Ahmed Essam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693459471,"creation_date":1692467109,"question_id":76936360,"body_markdown":"I am using Redis with Spring Boot and I want to make a flag to enable cache at runtime by AOP\r\n\r\nI tried to change the condition filed to &quot;false&quot; from AOP but it is not working and the caching is still saving data to memory.\r\n\r\n      public void disableCache(JoinPoint joinPoint) {\r\n\t\tMethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n\t\tMethod method = signature.getMethod();\r\n\t\tmethod.setAccessible(true);\r\n\t\tCacheable myAnnotation = method.getAnnotation(Cacheable.class);\r\n\t\tInvocationHandler handler = Proxy.getInvocationHandler(myAnnotation);\r\n\t\tField field;\r\n\t\ttry {\r\n\t\t\tfield = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\r\n\t\t} catch (NoSuchFieldException | SecurityException e) {\r\n\t\t\tthrow new IllegalStateException(e);\r\n\t\t}\r\n\t\tfield.setAccessible(true);\r\n\t\tMap&lt;String, Object&gt; memberValues;\r\n\t\ttry {\r\n\t\t\tmemberValues = (Map&lt;String, Object&gt;) field.get(handler);\r\n\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n\t\t\tthrow new IllegalStateException(e);\r\n\t\t}\r\n\t\tmemberValues.put(&quot;condition&quot;, &quot;false&quot; );\r\n    }","title":"How to change the @Cacheable condition field at runtime?","body":"<p>I am using Redis with Spring Boot and I want to make a flag to enable cache at runtime by AOP</p>\n<p>I tried to change the condition filed to &quot;false&quot; from AOP but it is not working and the caching is still saving data to memory.</p>\n<pre><code>  public void disableCache(JoinPoint joinPoint) {\n    MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n    Method method = signature.getMethod();\n    method.setAccessible(true);\n    Cacheable myAnnotation = method.getAnnotation(Cacheable.class);\n    InvocationHandler handler = Proxy.getInvocationHandler(myAnnotation);\n    Field field;\n    try {\n        field = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\n    } catch (NoSuchFieldException | SecurityException e) {\n        throw new IllegalStateException(e);\n    }\n    field.setAccessible(true);\n    Map&lt;String, Object&gt; memberValues;\n    try {\n        memberValues = (Map&lt;String, Object&gt;) field.get(handler);\n    } catch (IllegalArgumentException | IllegalAccessException e) {\n        throw new IllegalStateException(e);\n    }\n    memberValues.put(&quot;condition&quot;, &quot;false&quot; );\n}\n</code></pre>\n"},{"tags":["java","spring-boot","webclient"],"answers":[{"comments":[{"owner":{"account_id":10004330,"reputation":196,"user_id":7399302,"accept_rate":38,"display_name":"Lalitkumar.annaldas"},"score":0,"creation_date":1635769946,"post_id":69793131,"comment_id":123374432,"body_markdown":"Thanks for your help but it throws exception as soon as the above line is executed. So i dont have  the option to check the headers. i have updated the response for more clarity.","body":"Thanks for your help but it throws exception as soon as the above line is executed. So i dont have  the option to check the headers. i have updated the response for more clarity."},{"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"score":0,"creation_date":1635770924,"post_id":69793131,"comment_id":123374808,"body_markdown":"What is the exception? you can edit your post with more details","body":"What is the exception? you can edit your post with more details"},{"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"score":0,"creation_date":1635771426,"post_id":69793131,"comment_id":123374972,"body_markdown":"Also, have you tried using curl or postman first, what is the content type you are getting in both the response?","body":"Also, have you tried using curl or postman first, what is the content type you are getting in both the response?"},{"owner":{"account_id":10004330,"reputation":196,"user_id":7399302,"accept_rate":38,"display_name":"Lalitkumar.annaldas"},"score":0,"creation_date":1636698541,"post_id":69793131,"comment_id":123630811,"body_markdown":"The exception message is as already mentioned above. I have tried using the postman where in the response section it shows binary format response when the request succeeds and it displays Json response as expected when the request fails.","body":"The exception message is as already mentioned above. I have tried using the postman where in the response section it shows binary format response when the request succeeds and it displays Json response as expected when the request fails."}],"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635746447,"creation_date":1635746447,"answer_id":69793131,"question_id":69792927,"body_markdown":"Once your get Response, you can `ResponseEntity.getHeaders()`.\r\n\r\nFrom the response headers you can get the content type and consume your response accordingly.\r\nIf API does not return valid content-type based on the response, you can raise a defect on the API provider.","title":"How to consume binary and String Response using WebClient in Spring boot?","body":"<p>Once your get Response, you can <code>ResponseEntity.getHeaders()</code>.</p>\n<p>From the response headers you can get the content type and consume your response accordingly.\nIf API does not return valid content-type based on the response, you can raise a defect on the API provider.</p>\n"},{"tags":[],"owner":{"account_id":5438682,"reputation":850,"user_id":4327319,"accept_rate":100,"display_name":"Almustafa Azhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693459164,"creation_date":1693459164,"answer_id":77012997,"question_id":69792927,"body_markdown":"One of the ways to do that is by checking the content type before parsing the response into an object. Check below.\r\n\r\n\r\n        ResponseEntity&lt;Object&gt; apiResponse = webClient.post()\r\n                .uri(new URI(&quot;https://api.myapp.in/getDocument&quot;))\r\n                .header(&quot;mobile&quot;, &quot;XXXXXXXXX8&quot;)\r\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .body(BodyInserters.fromFormData(map))\r\n                .exchangeToMono((clientResponse) -&gt; {\r\n                    /*Parse binary content*/\r\n                    if (clientResponse.headers().contentType().isPresent() &amp;&amp; clientResponse.headers().contentType().get().equals(MediaType.APPLICATION_PDF)) {\r\n                        return clientResponse.bodyToMono(byte[].class);\r\n                    }\r\n                    /*Parse text content*/\r\n                    return clientResponse.bodyToMono(Object.class);\r\n                })\r\n                .block();\r\n","title":"How to consume binary and String Response using WebClient in Spring boot?","body":"<p>One of the ways to do that is by checking the content type before parsing the response into an object. Check below.</p>\n<pre><code>    ResponseEntity&lt;Object&gt; apiResponse = webClient.post()\n            .uri(new URI(&quot;https://api.myapp.in/getDocument&quot;))\n            .header(&quot;mobile&quot;, &quot;XXXXXXXXX8&quot;)\n            .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n            .body(BodyInserters.fromFormData(map))\n            .exchangeToMono((clientResponse) -&gt; {\n                /*Parse binary content*/\n                if (clientResponse.headers().contentType().isPresent() &amp;&amp; clientResponse.headers().contentType().get().equals(MediaType.APPLICATION_PDF)) {\n                    return clientResponse.bodyToMono(byte[].class);\n                }\n                /*Parse text content*/\n                return clientResponse.bodyToMono(Object.class);\n            })\n            .block();\n</code></pre>\n"}],"owner":{"account_id":10004330,"reputation":196,"user_id":7399302,"accept_rate":38,"display_name":"Lalitkumar.annaldas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693459164,"creation_date":1635744418,"question_id":69792927,"body_markdown":"I need to consume a vendor API which returns file(.pdf/.jpg/.png) in binary format when request succeeds while returns a JSON Response when Request fails.\r\nThe Request method is of type POST.\r\n&lt;br/&gt;\r\nI tried using below code:&lt;br/&gt;\r\n\r\n      WebClient webClient = WebClient.create();\r\n      ResponseEntity&lt;Object&gt; apiResponse = webClient.post()\r\n\t\t\t\t\t.uri(new URI(&quot;https://api.myapp.in/getDocument&quot;))\r\n\t\t\t\t\t.header(&quot;mobile&quot;, &quot;XXXXXXXXX8&quot;)\r\n\t\t\t\t\t.contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n\t\t\t\t\t//.accept(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n\t\t\t\t\t.body(BodyInserters.fromFormData(map))\r\n\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t.toEntity(Object.class)\r\n\t\t\t\t\t.block();\r\n\r\nWhen i execute the above code it works fine and i am able to get the JSON Response for Error case but when the request is success it gives error as below:&lt;br/&gt;\r\n\r\n     Content type &#39;application/pdf&#39; not supported for bodyType=java.lang.Object\r\n\r\n","title":"How to consume binary and String Response using WebClient in Spring boot?","body":"<p>I need to consume a vendor API which returns file(.pdf/.jpg/.png) in binary format when request succeeds while returns a JSON Response when Request fails.\nThe Request method is of type POST.\n<br/>\nI tried using below code:<br/></p>\n<pre><code>  WebClient webClient = WebClient.create();\n  ResponseEntity&lt;Object&gt; apiResponse = webClient.post()\n                .uri(new URI(&quot;https://api.myapp.in/getDocument&quot;))\n                .header(&quot;mobile&quot;, &quot;XXXXXXXXX8&quot;)\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                //.accept(MediaType.parseMediaType(&quot;application/pdf&quot;))\n                .body(BodyInserters.fromFormData(map))\n                .retrieve()\n                .toEntity(Object.class)\n                .block();\n</code></pre>\n<p>When i execute the above code it works fine and i am able to get the JSON Response for Error case but when the request is success it gives error as below:<br/></p>\n<pre><code> Content type 'application/pdf' not supported for bodyType=java.lang.Object\n</code></pre>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1693458816,"post_id":77012966,"comment_id":135764232,"body_markdown":"Are you looking for something like a tagged union type?","body":"Are you looking for something like a tagged union type?"},{"owner":{"account_id":15640225,"reputation":387,"user_id":11903403,"display_name":"Debapratim Chakraborty"},"score":0,"creation_date":1693459005,"post_id":77012966,"comment_id":135764246,"body_markdown":"How would a tagged union work in this case?","body":"How would a tagged union work in this case?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1693459193,"post_id":77012966,"comment_id":135764266,"body_markdown":"You would make an `Either&lt;String, URL&gt;` type, and use that as the map&#39;s value. [Example here](https://stackoverflow.com/q/48143268/5133585).","body":"You would make an <code>Either&lt;String, URL&gt;</code> type, and use that as the map&#39;s value. <a href=\"https://stackoverflow.com/q/48143268/5133585\">Example here</a>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1693460805,"post_id":77012966,"comment_id":135764417,"body_markdown":"@Sweeper at which point he would only be able to add URL&#39;s, if I&#39;m not mistaken, that is not the goal, he just wants to check which is a common String, and which is a URL. He should create a new Object containing two fields: a String and a URL, and based on which is entered, he knows the type","body":"@Sweeper at which point he would only be able to add URL&#39;s, if I&#39;m not mistaken, that is not the goal, he just wants to check which is a common String, and which is a URL. He should create a new Object containing two fields: a String and a URL, and based on which is entered, he knows the type"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1693460925,"post_id":77012966,"comment_id":135764434,"body_markdown":"@Stultuske Did you misread that as `Map&lt;String, URL&gt;`? &quot;a new Object containing two fields: a String and a URL&quot; *is* how`Either&lt;String, URL&gt;` could be implemented.","body":"@Stultuske Did you misread that as <code>Map&lt;String, URL&gt;</code>? &quot;a new Object containing two fields: a String and a URL&quot; <i>is</i> how<code>Either&lt;String, URL&gt;</code> could be implemented."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1693460966,"post_id":77012966,"comment_id":135764438,"body_markdown":"indeed,my mistake&#181;","body":"indeed,my mistake&#181;"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1693463682,"post_id":77012966,"comment_id":135764835,"body_markdown":"URLs are Strings. You must define how to distinguish Strings that are URLs from Strings that are not URLs.","body":"URLs are Strings. You must define how to distinguish Strings that are URLs from Strings that are not URLs."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693473127,"post_id":77012966,"comment_id":135766695,"body_markdown":"I think you need to describe your higher level goal. What you are asking is possible, but what will be a good solution depends on requirements and details that you have not yet told us. So the bigger picture, please?","body":"I think you need to describe your higher level goal. What you are asking is possible, but what will be a good solution depends on requirements and details that you have not yet told us. So the bigger picture, please?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693475134,"post_id":77012966,"comment_id":135767106,"body_markdown":"How do you intend to use `dynamicFields`? (Assuming you will be able to solve your current problem of distinguishing between a URL and a string (which isn&#39;t a URL).)","body":"How do you intend to use <code>dynamicFields</code>? (Assuming you will be able to solve your current problem of distinguishing between a URL and a string (which isn&#39;t a URL).)"}],"owner":{"account_id":15640225,"reputation":387,"user_id":11903403,"display_name":"Debapratim Chakraborty"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693458665,"creation_date":1693458665,"question_id":77012966,"body_markdown":"So, my one of my Java datamodel is as follows:\r\n\r\n```\r\npublic class Template extends ITemplate {\r\n    private String templateId;\r\n    private Map&lt;String,String&gt; dynamicFields;\r\n}\r\n```\r\n\r\nNow the `dynamicFields` will contain some fields which are going to be URLs. Is there a way to edit the data model, so that it is easily inferrable which of the map elements correspond to string and which represent URLs?","title":"Distinguish between a string and a URL in Java data structure","body":"<p>So, my one of my Java datamodel is as follows:</p>\n<pre><code>public class Template extends ITemplate {\n    private String templateId;\n    private Map&lt;String,String&gt; dynamicFields;\n}\n</code></pre>\n<p>Now the <code>dynamicFields</code> will contain some fields which are going to be URLs. Is there a way to edit the data model, so that it is easily inferrable which of the map elements correspond to string and which represent URLs?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1652197974,"post_id":72184143,"comment_id":127546317,"body_markdown":"`zip END header not found` could be caused by a ZIP/APK file that has not been written completely. Or it is a bug in the BugsnagPlugin as the error is caused by this plugin (see stack trace).","body":"<code>zip END header not found</code> could be caused by a ZIP/APK file that has not been written completely. Or it is a bug in the BugsnagPlugin as the error is caused by this plugin (see stack trace)."},{"owner":{"account_id":13059157,"reputation":83,"user_id":9436967,"display_name":"droid"},"score":0,"creation_date":1652208753,"post_id":72184143,"comment_id":127550083,"body_markdown":"i removed BugsnagPlugin still same error","body":"i removed BugsnagPlugin still same error"},{"owner":{"account_id":22007714,"reputation":41,"user_id":16278422,"display_name":"Navneet Tiwari"},"score":0,"creation_date":1657884590,"post_id":72184143,"comment_id":128921355,"body_markdown":"This helped me in one shot and i tried on Windows https://stackoverflow.com/a/69718476/16278422","body":"This helped me in one shot and i tried on Windows <a href=\"https://stackoverflow.com/a/69718476/16278422\">stackoverflow.com/a/69718476/16278422</a>"}],"answers":[{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690788409,"creation_date":1690788409,"answer_id":76801488,"question_id":72184143,"body_markdown":"**Android Studio**\r\n\r\nThis error indicates that there is a problem with your ZIP file. It could be corrupted, incomplete, or incompatible with your version of Android Studio. Here are some alternatives:\r\n\r\n1- **Change the Gradle version**. You can find available versions here: https://services.gradle.org/distributions/. Make sure it is the bin version, for example: https://services.gradle.org/distributions/gradle-8.1-bin.zip. Then make sure to change the `gradle-wrapper.properties` file accordingly.\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n2- As you changed the Gradle **must change** it in `build.gradle` \r\n\r\n    dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:$agp_version&quot;\r\n\r\n3- **Delete** the .gradle folder in your project directory and reimport the project. This will force Android Studio to download a fresh copy of Gradle.\r\n\r\n    C:\\Users\\moriz\\.gradle\\wrapper\\dists\r\n    C:\\Users\\moriz\\.gradle\\wrapper\\dists\\gradle-8.0-bin\\ca5e32bp14vu59qr306oxotwh\r\n\r\n4- Check your project for **any ZIP files** that could be causing the issue. For example, if you use Bugsnag, you may need to update Dexguard or temporarily disable it.\r\n","title":"Caused by: java.util.zip.ZipException: zip END header not found","body":"<p><strong>Android Studio</strong></p>\n<p>This error indicates that there is a problem with your ZIP file. It could be corrupted, incomplete, or incompatible with your version of Android Studio. Here are some alternatives:</p>\n<p>1- <strong>Change the Gradle version</strong>. You can find available versions here: <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a>. Make sure it is the bin version, for example: <a href=\"https://services.gradle.org/distributions/gradle-8.1-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-8.1-bin.zip</a>. Then make sure to change the <code>gradle-wrapper.properties</code> file accordingly.</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>2- As you changed the Gradle <strong>must change</strong> it in <code>build.gradle</code></p>\n<pre><code>dependencies {\n        classpath &quot;com.android.tools.build:gradle:$agp_version&quot;\n</code></pre>\n<p>3- <strong>Delete</strong> the .gradle folder in your project directory and reimport the project. This will force Android Studio to download a fresh copy of Gradle.</p>\n<pre><code>C:\\Users\\moriz\\.gradle\\wrapper\\dists\nC:\\Users\\moriz\\.gradle\\wrapper\\dists\\gradle-8.0-bin\\ca5e32bp14vu59qr306oxotwh\n</code></pre>\n<p>4- Check your project for <strong>any ZIP files</strong> that could be causing the issue. For example, if you use Bugsnag, you may need to update Dexguard or temporarily disable it.</p>\n"}],"owner":{"account_id":13059157,"reputation":83,"user_id":9436967,"display_name":"droid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15770,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693458040,"creation_date":1652176187,"question_id":72184143,"body_markdown":"Able to create release build but when I add dexguard and try to create a release build its throws the following error\r\n\r\n    Caused by: org.gradle.internal.event.ListenerNotificationException: Failed to notify project evaluation listener.\r\n\tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:89)\r\n\tat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\r\n\tat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy44.afterEvaluate(Unknown Source)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:247)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:244)\r\n\tat org.gradle.api.internal.project.DefaultProject.stepEvaluationListener(DefaultProject.java:1433)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:253)\r\n\t... 182 more\r\n    Caused by: java.util.zip.ZipException: zip END header not found\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat com.bugsnag.android.gradle.GroovyCompat.getDexguardVersionString(GroovyCompat.groovy:55)\r\n    \tat com.bugsnag.android.gradle.internal.DexguardCompatKt.getDexguardMajorVersionInt(DexguardCompat.kt:81)\r\n    \tat com.bugsnag.android.gradle.MappingFileProviderKt.findMappingFiles(MappingFileProvider.kt:33)\r\n    \tat com.bugsnag.android.gradle.MappingFileProviderKt.createMappingFileProvider(MappingFileProvider.kt:22)\r\n    \tat com.bugsnag.android.gradle.BugsnagPlugin$registerBugsnagTasksForVariant$1.execute(BugsnagPlugin.kt:216)\r\n    \tat com.bugsnag.android.gradle.BugsnagPlugin$registerBugsnagTasksForVariant$1.execute(BugsnagPlugin.kt:68)\r\n    \tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\r\n    \tat org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction$1.run(DefaultCollectionCallbackActionDecorator.java:110)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction.execute(DefaultCollectionCallbackActionDecorator.java:107)\r\n    \tat org.gradle.api.internal.DefaultMutationGuard$2.execute(DefaultMutationGuard.java:44)\r\n    \tat org.gradle.api.internal.DefaultMutationGuard$2.execute(DefaultMutationGuard.java:44)\r\n    \tat org.gradle.api.internal.DefaultDomainObjectCollection.configureEach(DefaultDomainObjectCollection.java:185)\r\n    \tat com.bugsnag.android.gradle.BugsnagPlugin.registerBugsnagTasksForVariant(BugsnagPlugin.kt:206)\r\n    \tat com.bugsnag.android.gradle.BugsnagPlugin.access$registerBugsnagTasksForVariant(BugsnagPlugin.kt:68)\r\n    \tat com.bugsnag.android.gradle.BugsnagPlugin$setupBugsnagPlugin$1$1.execute(BugsnagPlugin.kt:158)\r\n    \tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\r\n    \tat org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction$1.run(DefaultCollectionCallbackActionDecorator.java:110)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction.execute(DefaultCollectionCallbackActionDecorator.java:107)\r\n    \tat org.gradle.api.internal.DefaultMutationGuard$2.execute(DefaultMutationGuard.java:44)\r\n    \tat org.gradle.api.internal.DefaultDomainObjectCollection.configureEach(DefaultDomainObjectCollection.java:185)\r\n    \tat com.bugsnag.android.gradle.BugsnagPlugin$setupBugsnagPlugin$1.execute(BugsnagPlugin.kt:152)\r\n    \tat com.bugsnag.android.gradle.BugsnagPlugin$setupBugsnagPlugin$1.execute(BugsnagPlugin.kt:68)\r\n    \tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\r\n    \tat \r\n\r\nmy config \r\n\r\n\r\n \r\n\r\n - Gradle 7.4.2\r\n   \r\n - Kotlin:       1.5.31\r\n   \r\n -  Groovy:       3.0.9\r\n   \r\n -  Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n   \r\n -  JVM:          11.0.8 (OpenLogic 11.0.8+0-adhoc.centos.jdk11u)\r\n   \r\n - OS:           Linux 4.9.32-15.41.amzn1.x86_64 amd64\r\n\r\n  \r\n\r\n\r\nI cant point the java version to 1.8 as a project is targeting android 12\r\n","title":"Caused by: java.util.zip.ZipException: zip END header not found","body":"<p>Able to create release build but when I add dexguard and try to create a release build its throws the following error</p>\n<pre><code>Caused by: org.gradle.internal.event.ListenerNotificationException: Failed to notify project evaluation listener.\nat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:89)\nat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\nat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\nat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\nat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\nat com.sun.proxy.$Proxy44.afterEvaluate(Unknown Source)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:247)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:244)\nat org.gradle.api.internal.project.DefaultProject.stepEvaluationListener(DefaultProject.java:1433)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:253)\n... 182 more\nCaused by: java.util.zip.ZipException: zip END header not found\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at com.bugsnag.android.gradle.GroovyCompat.getDexguardVersionString(GroovyCompat.groovy:55)\n    at com.bugsnag.android.gradle.internal.DexguardCompatKt.getDexguardMajorVersionInt(DexguardCompat.kt:81)\n    at com.bugsnag.android.gradle.MappingFileProviderKt.findMappingFiles(MappingFileProvider.kt:33)\n    at com.bugsnag.android.gradle.MappingFileProviderKt.createMappingFileProvider(MappingFileProvider.kt:22)\n    at com.bugsnag.android.gradle.BugsnagPlugin$registerBugsnagTasksForVariant$1.execute(BugsnagPlugin.kt:216)\n    at com.bugsnag.android.gradle.BugsnagPlugin$registerBugsnagTasksForVariant$1.execute(BugsnagPlugin.kt:68)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\n    at org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction$1.run(DefaultCollectionCallbackActionDecorator.java:110)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction.execute(DefaultCollectionCallbackActionDecorator.java:107)\n    at org.gradle.api.internal.DefaultMutationGuard$2.execute(DefaultMutationGuard.java:44)\n    at org.gradle.api.internal.DefaultMutationGuard$2.execute(DefaultMutationGuard.java:44)\n    at org.gradle.api.internal.DefaultDomainObjectCollection.configureEach(DefaultDomainObjectCollection.java:185)\n    at com.bugsnag.android.gradle.BugsnagPlugin.registerBugsnagTasksForVariant(BugsnagPlugin.kt:206)\n    at com.bugsnag.android.gradle.BugsnagPlugin.access$registerBugsnagTasksForVariant(BugsnagPlugin.kt:68)\n    at com.bugsnag.android.gradle.BugsnagPlugin$setupBugsnagPlugin$1$1.execute(BugsnagPlugin.kt:158)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\n    at org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction$1.run(DefaultCollectionCallbackActionDecorator.java:110)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.DefaultCollectionCallbackActionDecorator$BuildOperationEmittingAction.execute(DefaultCollectionCallbackActionDecorator.java:107)\n    at org.gradle.api.internal.DefaultMutationGuard$2.execute(DefaultMutationGuard.java:44)\n    at org.gradle.api.internal.DefaultDomainObjectCollection.configureEach(DefaultDomainObjectCollection.java:185)\n    at com.bugsnag.android.gradle.BugsnagPlugin$setupBugsnagPlugin$1.execute(BugsnagPlugin.kt:152)\n    at com.bugsnag.android.gradle.BugsnagPlugin$setupBugsnagPlugin$1.execute(BugsnagPlugin.kt:68)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\n    at \n</code></pre>\n<p>my config</p>\n<ul>\n<li><p>Gradle 7.4.2</p>\n</li>\n<li><p>Kotlin:       1.5.31</p>\n</li>\n<li><p>Groovy:       3.0.9</p>\n</li>\n<li><p>Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021</p>\n</li>\n<li><p>JVM:          11.0.8 (OpenLogic 11.0.8+0-adhoc.centos.jdk11u)</p>\n</li>\n<li><p>OS:           Linux 4.9.32-15.41.amzn1.x86_64 amd64</p>\n</li>\n</ul>\n<p>I cant point the java version to 1.8 as a project is targeting android 12</p>\n"},{"tags":["java","azure","kettle","automl","azure-auto-ml"],"comments":[{"owner":{"account_id":1149847,"reputation":3845,"user_id":1131789,"accept_rate":85,"display_name":"Rishu S"},"score":0,"creation_date":1694466658,"post_id":76980642,"comment_id":135892087,"body_markdown":"Have you explored the option to use the &quot;Python Executor&quot; step in pentaho.? If there is no specific reason, I do not see the purpose of converting python code to Java. [Python executor in PDI](https://help.hitachivantara.com/Documentation/Pentaho/Data_Integration_and_Analytics/9.5/Products/Python_Executor)","body":"Have you explored the option to use the &quot;Python Executor&quot; step in pentaho.? If there is no specific reason, I do not see the purpose of converting python code to Java. <a href=\"https://help.hitachivantara.com/Documentation/Pentaho/Data_Integration_and_Analytics/9.5/Products/Python_Executor\" rel=\"nofollow noreferrer\">Python executor in PDI</a>"}],"answers":[{"tags":[],"owner":{"account_id":28240342,"reputation":2984,"user_id":21588207,"display_name":"JayashankarGS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693455857,"creation_date":1693455857,"answer_id":77012840,"question_id":76980642,"body_markdown":"You can use following packages in java to\r\nscore an endpoint.\r\n\r\n    import  java.net.HttpURLConnection;\r\n    import  java.net.URL;\r\n\r\nBelow is the code.\r\n\r\n    import  java.io.IOException;\r\n    import  java.io.InputStream;\r\n    import  java.net.HttpURLConnection;\r\n    import  java.net.URL;\r\n    import  java.nio.file.Files;\r\n    import  java.nio.file.Paths;\r\n    import  java.util.Base64;\r\n    import  org.json.JSONArray;\r\n    import  org.json.JSONObject;\r\n    import  java.io.InputStreamReader;\r\n    import  java.io.BufferedReader;\r\n    \r\n    class  HelloWorld {\r\n\t    public  static  void  main(String  args[])\r\n\t    {\r\n\t\t    String  url  =  &quot;https://jml-hgrrb.westeurope.inference.ml.azure.com/score&quot;;\r\n\t\t    String  api_key  =  &quot;Your_api_key&quot;;\r\n\t\t    String  directory  =  &quot;C:\\\\Users\\\\v-jgs\\\\Downloads&quot;;\r\n\t\t    String  filename  =  &quot;download.jpg&quot;;\r\n\t\t    \r\n\t\t  try {\r\n\t\t\t  String  authorizationHeader  =  &quot;Bearer &quot;  +  api_key;\r\n\t\t\t  byte[] imageBytes  =  Files.readAllBytes(Paths.get(directory,filename));\r\n\t\t\t  String  base64ImageData  =  Base64.getEncoder().encodeToString(imageBytes);\r\n\t\t\t  JSONObject  inputData  =  new  JSONObject();\r\n\t\t\t  inputData.put(&quot;columns&quot;, new  JSONArray().put(&quot;image&quot;));\r\n\t\t\t  inputData.put(&quot;index&quot;, new  JSONArray().put(0));\r\n\t\t\t  inputData.put(&quot;data&quot;, new  JSONArray().put(base64ImageData));\r\n\t\t\t  JSONObject  requestBody  =  new  JSONObject();\r\n\t\t\t  requestBody.put(&quot;input_data&quot;, inputData);\r\n\t\t\t  \r\n\t\t\t  URL  apiUrl  =  new  URL(url);\r\n\t\t\t  HttpURLConnection  connection  = (HttpURLConnection) apiUrl.openConnection();\r\n\t\t\t  connection.setRequestMethod(&quot;POST&quot;);\r\n\t\t\t  connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\t  connection.setRequestProperty(&quot;Authorization&quot;, authorizationHeader);\r\n\t\t\t  connection.setDoOutput(true);\r\n\t\t\t  connection.getOutputStream().write(requestBody.toString().getBytes());\r\n\t\t\t  \r\n\t\t\t  int  responseCode  =  connection.getResponseCode();\r\n\t\t\t  System.out.println(&quot;Response Code: &quot;  +  responseCode);\r\n\t\t\t  \r\n\t\t\t  if (responseCode  ==  HttpURLConnection.HTTP_OK) \r\n\t\t\t  {\r\n\t\t\t\tInputStream  responseStream  =  connection.getInputStream();\r\n\t\t\t\tString  responseData  =  readInputStream(responseStream);\r\n\t\t\t\tSystem.out.println(&quot;Response Data: &quot;  +  responseData);\r\n\t\t\t\t} else {\r\n\t\t\t\tInputStream  errorStream  =  connection.getErrorStream();\r\n\t\t\t\tString  errorData  =  readInputStream(errorStream);\r\n\t\t\t\tSystem.out.println(&quot;Error Data: &quot;  +  errorData);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconnection.disconnect();\r\n\t\t\t\t\r\n\t\t\t} catch (IOException  e) \r\n\t\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate  static  String  readInputStream(InputStream  inputStream) throws  IOException {\r\n\t\t\tBufferedReader  reader  =  new  BufferedReader(new  InputStreamReader(inputStream));\r\n\t\t\tStringBuilder  response  =  new  StringBuilder();\r\n\t\t\tString  line;\r\n\t\t\twhile ((line  =  reader.readLine()) !=  null) {\r\n\t\t\tresponse.append(line);\r\n\t\t\t}\r\n\t\t\treader.close();\r\n\t\t\treturn  response.toString();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThis is the endpoint responses the object detection boundaries.\r\n\r\n    https://jml-hgrrb.westeurope.inference.ml.azure.com/score\r\n\r\nAnd this accepts the json body like below.\r\n\r\n    {\r\n\t    &quot;input_data&quot;: {\r\n\t\t\t    &quot;columns&quot;: [&quot;image&quot;],\r\n\t\t\t    &quot;index&quot;: [0],\r\n\t\t\t    &quot;data&quot;:[&quot;base64_string&quot;]\r\n\t\t\t    }\r\n\t}\r\n\r\nHere, you need to provide base64 string in data option.\r\nIf you have multiple images, you can also add them in index and data correspondingly like below.\r\n\r\n    &quot;index&quot;:[0,1],\r\n    &quot;data&quot;:[&quot;image1&quot;,&quot;image2&quot;]\r\n\r\nSo, in code you need to create a json object whichever your endpoint accepts.\r\nCheck the auto-ml deployment details to know the input structure.\r\nIn this code below part creates json object.\r\n\r\n\t\t\t  JSONObject  inputData  =  new  JSONObject();\r\n\t\t\t  inputData.put(&quot;columns&quot;, new  JSONArray().put(&quot;image&quot;));\r\n\t\t\t  inputData.put(&quot;index&quot;, new  JSONArray().put(0));\r\n\t\t\t  inputData.put(&quot;data&quot;, new  JSONArray().put(base64ImageData));\r\n\t\t\t  JSONObject  requestBody  =  new  JSONObject();\r\n\t\t\t  requestBody.put(&quot;input_data&quot;, inputData);\r\n\r\nOutput:\r\n\r\n![enter image description here](https://i.imgur.com/9ycuhhv.png)","title":"How do I send an image to an Azure AutoML endpoint in java?","body":"<p>You can use following packages in java to\nscore an endpoint.</p>\n<pre><code>import  java.net.HttpURLConnection;\nimport  java.net.URL;\n</code></pre>\n<p>Below is the code.</p>\n<pre><code>import  java.io.IOException;\nimport  java.io.InputStream;\nimport  java.net.HttpURLConnection;\nimport  java.net.URL;\nimport  java.nio.file.Files;\nimport  java.nio.file.Paths;\nimport  java.util.Base64;\nimport  org.json.JSONArray;\nimport  org.json.JSONObject;\nimport  java.io.InputStreamReader;\nimport  java.io.BufferedReader;\n\nclass  HelloWorld {\n    public  static  void  main(String  args[])\n    {\n        String  url  =  &quot;https://jml-hgrrb.westeurope.inference.ml.azure.com/score&quot;;\n        String  api_key  =  &quot;Your_api_key&quot;;\n        String  directory  =  &quot;C:\\\\Users\\\\v-jgs\\\\Downloads&quot;;\n        String  filename  =  &quot;download.jpg&quot;;\n        \n      try {\n          String  authorizationHeader  =  &quot;Bearer &quot;  +  api_key;\n          byte[] imageBytes  =  Files.readAllBytes(Paths.get(directory,filename));\n          String  base64ImageData  =  Base64.getEncoder().encodeToString(imageBytes);\n          JSONObject  inputData  =  new  JSONObject();\n          inputData.put(&quot;columns&quot;, new  JSONArray().put(&quot;image&quot;));\n          inputData.put(&quot;index&quot;, new  JSONArray().put(0));\n          inputData.put(&quot;data&quot;, new  JSONArray().put(base64ImageData));\n          JSONObject  requestBody  =  new  JSONObject();\n          requestBody.put(&quot;input_data&quot;, inputData);\n          \n          URL  apiUrl  =  new  URL(url);\n          HttpURLConnection  connection  = (HttpURLConnection) apiUrl.openConnection();\n          connection.setRequestMethod(&quot;POST&quot;);\n          connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n          connection.setRequestProperty(&quot;Authorization&quot;, authorizationHeader);\n          connection.setDoOutput(true);\n          connection.getOutputStream().write(requestBody.toString().getBytes());\n          \n          int  responseCode  =  connection.getResponseCode();\n          System.out.println(&quot;Response Code: &quot;  +  responseCode);\n          \n          if (responseCode  ==  HttpURLConnection.HTTP_OK) \n          {\n            InputStream  responseStream  =  connection.getInputStream();\n            String  responseData  =  readInputStream(responseStream);\n            System.out.println(&quot;Response Data: &quot;  +  responseData);\n            } else {\n            InputStream  errorStream  =  connection.getErrorStream();\n            String  errorData  =  readInputStream(errorStream);\n            System.out.println(&quot;Error Data: &quot;  +  errorData);\n            }\n            \n            connection.disconnect();\n            \n        } catch (IOException  e) \n        {\n        e.printStackTrace();\n        }\n    }\n    private  static  String  readInputStream(InputStream  inputStream) throws  IOException {\n        BufferedReader  reader  =  new  BufferedReader(new  InputStreamReader(inputStream));\n        StringBuilder  response  =  new  StringBuilder();\n        String  line;\n        while ((line  =  reader.readLine()) !=  null) {\n        response.append(line);\n        }\n        reader.close();\n        return  response.toString();\n    }\n}\n</code></pre>\n<p>This is the endpoint responses the object detection boundaries.</p>\n<pre><code>https://jml-hgrrb.westeurope.inference.ml.azure.com/score\n</code></pre>\n<p>And this accepts the json body like below.</p>\n<pre><code>{\n    &quot;input_data&quot;: {\n            &quot;columns&quot;: [&quot;image&quot;],\n            &quot;index&quot;: [0],\n            &quot;data&quot;:[&quot;base64_string&quot;]\n            }\n}\n</code></pre>\n<p>Here, you need to provide base64 string in data option.\nIf you have multiple images, you can also add them in index and data correspondingly like below.</p>\n<pre><code>&quot;index&quot;:[0,1],\n&quot;data&quot;:[&quot;image1&quot;,&quot;image2&quot;]\n</code></pre>\n<p>So, in code you need to create a json object whichever your endpoint accepts.\nCheck the auto-ml deployment details to know the input structure.\nIn this code below part creates json object.</p>\n<pre><code>          JSONObject  inputData  =  new  JSONObject();\n          inputData.put(&quot;columns&quot;, new  JSONArray().put(&quot;image&quot;));\n          inputData.put(&quot;index&quot;, new  JSONArray().put(0));\n          inputData.put(&quot;data&quot;, new  JSONArray().put(base64ImageData));\n          JSONObject  requestBody  =  new  JSONObject();\n          requestBody.put(&quot;input_data&quot;, inputData);\n</code></pre>\n<p>Output:</p>\n<p><img src=\"https://i.imgur.com/9ycuhhv.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":14522730,"reputation":13,"user_id":10489954,"display_name":"CDP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693455857,"creation_date":1692999108,"question_id":76980642,"body_markdown":"I have an object detection model deployed to an endpoint in azure. In python, the code works perfect and looks like this:\r\n```\r\n    headers = {&#39;Content-Type&#39;: &#39;application/json&#39;,\r\n               &#39;Authorization&#39;: (&#39;Bearer &#39; + api_key)}\r\n    sample_image = os.path.join(directory, filename)\r\n    # Load image data\r\n    body = open(sample_image, &quot;rb&quot;).read()\r\n\r\n    req = urllib.request.Request(url, body, headers)\r\n\r\n    response = urllib.request.urlopen(req)\r\n```\r\n\r\nI&#39;m trying to do the same thing in a UDJC in PDI Kettle. This is what that code looks like: \r\n```\r\n    String urlString = get(Fields.In, &quot;ENDPOINT_URL&quot;).getString(r);\r\n\tHttpPost post = new HttpPost(urlString);\r\n\tpost.addHeader(&quot;Content-Type&quot;,get(Fields.In, &quot;CONTENTTYPE&quot;).getString(r));\r\n\tpost.addHeader(&quot;Authorization&quot;,get(Fields.In, &quot;API_KEY&quot;).getString(r));\r\n\tMultipartEntityBuilder entity = MultipartEntityBuilder.create();\r\n\tentity.setMode(HttpMultipartMode.STRICT);\r\n\tentity.addBinaryBody(&quot;file&quot;, get(Fields.In, &quot;IMAGEDATA&quot;).getBinary(r));\r\n\tpost.setEntity(entity.build());\r\n\r\n\tHttpClient httpClient = HttpClients.createDefault();\r\n\tHttpResponse response = httpClient.execute(post);\r\n```\r\nI&#39;m getting this error: `http_status\tresult\r\n-1\tjava.net.SocketException: Broken pipe (Write failed)`\r\n\r\nI think there&#39;s an issue in how the image is being written. How do I get java to write it the same way python is writing it? \r\nAny suggestions? Thanks","title":"How do I send an image to an Azure AutoML endpoint in java?","body":"<p>I have an object detection model deployed to an endpoint in azure. In python, the code works perfect and looks like this:</p>\n<pre><code>    headers = {'Content-Type': 'application/json',\n               'Authorization': ('Bearer ' + api_key)}\n    sample_image = os.path.join(directory, filename)\n    # Load image data\n    body = open(sample_image, &quot;rb&quot;).read()\n\n    req = urllib.request.Request(url, body, headers)\n\n    response = urllib.request.urlopen(req)\n</code></pre>\n<p>I'm trying to do the same thing in a UDJC in PDI Kettle. This is what that code looks like:</p>\n<pre><code>    String urlString = get(Fields.In, &quot;ENDPOINT_URL&quot;).getString(r);\n    HttpPost post = new HttpPost(urlString);\n    post.addHeader(&quot;Content-Type&quot;,get(Fields.In, &quot;CONTENTTYPE&quot;).getString(r));\n    post.addHeader(&quot;Authorization&quot;,get(Fields.In, &quot;API_KEY&quot;).getString(r));\n    MultipartEntityBuilder entity = MultipartEntityBuilder.create();\n    entity.setMode(HttpMultipartMode.STRICT);\n    entity.addBinaryBody(&quot;file&quot;, get(Fields.In, &quot;IMAGEDATA&quot;).getBinary(r));\n    post.setEntity(entity.build());\n\n    HttpClient httpClient = HttpClients.createDefault();\n    HttpResponse response = httpClient.execute(post);\n</code></pre>\n<p>I'm getting this error: <code>http_status    result -1  java.net.SocketException: Broken pipe (Write failed)</code></p>\n<p>I think there's an issue in how the image is being written. How do I get java to write it the same way python is writing it?\nAny suggestions? Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9922,"page":212,"page_size":100}
