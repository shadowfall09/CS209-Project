{"items":[{"tags":["java","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":10648335,"reputation":66,"user_id":7840215,"display_name":"nogalo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682684192,"creation_date":1682684192,"answer_id":76129494,"question_id":76127544,"body_markdown":"Maybe you can try adding \r\n\r\n    @EnableJpaRepositories(basePackages = &quot;path.toservice.repository&quot;)\r\nto the configuration. If that solves your problem, then probably something is wrong with your packages structure.","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>Maybe you can try adding</p>\n<pre><code>@EnableJpaRepositories(basePackages = &quot;path.toservice.repository&quot;)\n</code></pre>\n<p>to the configuration. If that solves your problem, then probably something is wrong with your packages structure.</p>\n"},{"tags":[],"owner":{"account_id":23183409,"reputation":69,"user_id":17280912,"display_name":"lvbartow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682684491,"creation_date":1682684491,"answer_id":76129523,"question_id":76127544,"body_markdown":"In your class &quot;SomeComponentClass&quot;, you could try putting the annotation @Autowired above your private repo, and remove it from your constructor.\r\n\r\n```java\r\n@Autowired\r\nprivate final SomeJpaRepository repository;\r\n\r\npublic Constructor(prop1, prop2, someMapper){\r\n      this.property_1 = prop1;\r\n      this.property_2 = prop2;\r\n      this.someMapper = someMapper;\r\n}\r\n```\r\n","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>In your class &quot;SomeComponentClass&quot;, you could try putting the annotation @Autowired above your private repo, and remove it from your constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate final SomeJpaRepository repository;\n\npublic Constructor(prop1, prop2, someMapper){\n      this.property_1 = prop1;\n      this.property_2 = prop2;\n      this.someMapper = someMapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3022615,"reputation":320,"user_id":2563277,"display_name":"Toufic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682690595,"creation_date":1682690595,"answer_id":76130376,"question_id":76127544,"body_markdown":"The issue is related to the order of beans creation, so it is better to create SomeJpaRepository in the context file to avoid similar issues\r\nCheck this [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7868335/spring-make-sure-a-particular-bean-gets-initialized-first","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>The issue is related to the order of beans creation, so it is better to create SomeJpaRepository in the context file to avoid similar issues\nCheck this <a href=\"https://stackoverflow.com/questions/7868335/spring-make-sure-a-particular-bean-gets-initialized-first\">answer</a></p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76129494,"answer_count":3,"score":0,"last_activity_date":1682690595,"creation_date":1682669629,"question_id":76127544,"body_markdown":"```\r\n@Repository\r\npublic interface SomeJpaRepository extends JpaRepository&lt;SomeEntity, String&gt;\r\n{\r\n   @Modifying\r\n  //....\r\n}\r\n```\r\n\r\nmy component:\r\n```\r\n@Component\r\n@Slf4j\r\npublic class SomeComponentClass\r\n{\r\n   private final SomeJpaRepository repository;\r\n   private final SomeMapper someMapper;\r\n   private final int property_1;\r\n   private final int property_2;\r\n\r\n   public SapRequestQueue(SomeJpaRepository somejpaRepository, SomeMapper someMapper,\r\n                          @Value(&quot;${xxx.property_1}&quot;) int property_1, @Value(&quot;${xxx.property_2}&quot;) int property_2)\r\n   {\r\n      this.property_1 = property_1;\r\n      this.property_2 = property_2;\r\n      this.someMapper = someMapper;\r\n      this.somejpaRepository = somejpaRepository;\r\n   }\r\n```\r\n\r\nMy error:\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023.04.28 10:01:02.622 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter:40 - \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in path.service.SomeComponentClass required a bean of type &#39;path.service.repository.SomeJpaRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;path.service.repository.SomeJpaRepository &#39; in your configuration.\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:61815&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nMy code structure\r\nModule:\r\n \r\n\r\n - src    \r\n - main\r\n - java\r\n - path.toserviceSomeComponentClass\r\n - path.toservice.repository.SomeJpaRepository\r\n  \r\n\r\n   ","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<pre><code>@Repository\npublic interface SomeJpaRepository extends JpaRepository&lt;SomeEntity, String&gt;\n{\n   @Modifying\n  //....\n}\n</code></pre>\n<p>my component:</p>\n<pre><code>@Component\n@Slf4j\npublic class SomeComponentClass\n{\n   private final SomeJpaRepository repository;\n   private final SomeMapper someMapper;\n   private final int property_1;\n   private final int property_2;\n\n   public SapRequestQueue(SomeJpaRepository somejpaRepository, SomeMapper someMapper,\n                          @Value(&quot;${xxx.property_1}&quot;) int property_1, @Value(&quot;${xxx.property_2}&quot;) int property_2)\n   {\n      this.property_1 = property_1;\n      this.property_2 = property_2;\n      this.someMapper = someMapper;\n      this.somejpaRepository = somejpaRepository;\n   }\n</code></pre>\n<p>My error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023.04.28 10:01:02.622 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter:40 - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in path.service.SomeComponentClass required a bean of type 'path.service.repository.SomeJpaRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'path.service.repository.SomeJpaRepository ' in your configuration.\n\nDisconnected from the target VM, address: '127.0.0.1:61815', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n<p>My code structure\nModule:</p>\n<ul>\n<li>src</li>\n<li>main</li>\n<li>java</li>\n<li>path.toserviceSomeComponentClass</li>\n<li>path.toservice.repository.SomeJpaRepository</li>\n</ul>\n"},{"tags":["java","spring-boot","google-app-engine","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669123230,"post_id":74533039,"comment_id":131568213,"body_markdown":"While native starts faster you loose some of the runtime optimizations that can be done, so eventually running a native app can have slower runtime performance (although will start faster). I also wonder what factor Google App Engine plays here.","body":"While native starts faster you loose some of the runtime optimizations that can be done, so eventually running a native app can have slower runtime performance (although will start faster). I also wonder what factor Google App Engine plays here."},{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1682064090,"post_id":74533039,"comment_id":134159980,"body_markdown":"Any news on this topic?","body":"Any news on this topic?"}],"owner":{"account_id":26985788,"reputation":41,"user_id":20549480,"display_name":"Aedious"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1682690275,"creation_date":1669122099,"question_id":74533039,"body_markdown":"Hi I&#39;ve done a PoC to test out SpringBoot v2.7.5 Native with GraalVM v22.3.0.\r\n\r\nThe purpose of the project was to run native SpringBoot on GCP AppEngine.\r\n\r\nTo test the performances I&#39;ve implemented a basic Fibonacci sequence.\r\n\r\nGoing native makes heavy process taking twice time than normal ones.\r\n\r\nDid somebody know why ?\r\n\r\nHere is the results I had during my tests sessions :\r\n\r\nStarting time:\r\n\r\n| Starting time | AppEngine | Locally |\r\n|---------------|-----------|---------|\r\n| Native        | 4 245ms   | 8ms     |\r\n| Classic       | 10 220ms  | 2115ms  |\r\n\r\nLocal tests:\r\n\r\n*Quarkus Native tests was also made by using GraalVM*\r\n\r\n| Fibonacci  | SpringBoot | SpringBoot Native | Quarkus | Quarkus Native |\r\n|------------|------------|-------------------|---------|----------------|\r\n| 1 000 000  | 77ms       | 125ms             | 103ms   | 110ms          |\r\n| 5 000 000  | 204ms      | 426ms             | 363ms   | 356ms          |\r\n| 10 000 000 | 327ms      | 854ms             | 435ms   | 663ms          |\r\n| 30 000 000 | 894ms      | 2 495ms           | 1 523ms | 1 960ms        |\r\n| 90 000 000 | 3 571ms    | 7 026ms           | 4 464ms | 6 161ms        |\r\n\r\nIf you want to check the code i&#39;m using to make this test here it is :\r\n\r\nhttps://github.com/tal0si/spring-boot-native-on-gcp-appengine","title":"SpringBoot Native with GraalVM have expecting starting time but is really slow for heavy calculations","body":"<p>Hi I've done a PoC to test out SpringBoot v2.7.5 Native with GraalVM v22.3.0.</p>\n<p>The purpose of the project was to run native SpringBoot on GCP AppEngine.</p>\n<p>To test the performances I've implemented a basic Fibonacci sequence.</p>\n<p>Going native makes heavy process taking twice time than normal ones.</p>\n<p>Did somebody know why ?</p>\n<p>Here is the results I had during my tests sessions :</p>\n<p>Starting time:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Starting time</th>\n<th>AppEngine</th>\n<th>Locally</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Native</td>\n<td>4 245ms</td>\n<td>8ms</td>\n</tr>\n<tr>\n<td>Classic</td>\n<td>10 220ms</td>\n<td>2115ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Local tests:</p>\n<p><em>Quarkus Native tests was also made by using GraalVM</em></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Fibonacci</th>\n<th>SpringBoot</th>\n<th>SpringBoot Native</th>\n<th>Quarkus</th>\n<th>Quarkus Native</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1 000 000</td>\n<td>77ms</td>\n<td>125ms</td>\n<td>103ms</td>\n<td>110ms</td>\n</tr>\n<tr>\n<td>5 000 000</td>\n<td>204ms</td>\n<td>426ms</td>\n<td>363ms</td>\n<td>356ms</td>\n</tr>\n<tr>\n<td>10 000 000</td>\n<td>327ms</td>\n<td>854ms</td>\n<td>435ms</td>\n<td>663ms</td>\n</tr>\n<tr>\n<td>30 000 000</td>\n<td>894ms</td>\n<td>2 495ms</td>\n<td>1 523ms</td>\n<td>1 960ms</td>\n</tr>\n<tr>\n<td>90 000 000</td>\n<td>3 571ms</td>\n<td>7 026ms</td>\n<td>4 464ms</td>\n<td>6 161ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If you want to check the code i'm using to make this test here it is :</p>\n<p><a href=\"https://github.com/tal0si/spring-boot-native-on-gcp-appengine\" rel=\"nofollow noreferrer\">https://github.com/tal0si/spring-boot-native-on-gcp-appengine</a></p>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":1,"creation_date":1682671570,"post_id":76124487,"comment_id":134255655,"body_markdown":"What database is this? *Which* posts recommend this?","body":"What database is this? <i>Which</i> posts recommend this?"},{"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"score":0,"creation_date":1682687566,"post_id":76124487,"comment_id":134259116,"body_markdown":"using postgreSql. And poste like these: https://stackoverflow.com/questions/17813492/postgres-not-in-performance, https://stackoverflow.com/questions/24647503/performance-issue-in-update-query","body":"using postgreSql. And poste like these: <a href=\"https://stackoverflow.com/questions/17813492/postgres-not-in-performance\" title=\"postgres not in performance\">stackoverflow.com/questions/17813492/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/24647503/performance-issue-in-update-query\" title=\"performance issue in update query\">stackoverflow.com/questions/24647503/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682689966,"creation_date":1682689966,"answer_id":76130277,"question_id":76124487,"body_markdown":"I mean, look, you *can* in principle do this extremely easily by just passing a native SQL query to `createNativeQuery()`.\r\n\r\nBut you really need to ask yourself:\r\n\r\n&gt; what am I even doing here?\r\n\r\nIf you have such a huge quantity of ids that there are too many for Postgres to handle them efficiently in an `in` predicate, then it&#39;s highly unlikely that pulling all that state into the JVM and materializing entity objects to represent all those rows is an efficient or reasonable thing to do.\r\n\r\nIf you absolutely *have* to do this, make sure you use `StatelessSession`.\r\n\r\nBut have you considered using a stored procedure or something like that?","title":"Hibernate run IN (VALUES ...) rather than IN query","body":"<p>I mean, look, you <em>can</em> in principle do this extremely easily by just passing a native SQL query to <code>createNativeQuery()</code>.</p>\n<p>But you really need to ask yourself:</p>\n<blockquote>\n<p>what am I even doing here?</p>\n</blockquote>\n<p>If you have such a huge quantity of ids that there are too many for Postgres to handle them efficiently in an <code>in</code> predicate, then it's highly unlikely that pulling all that state into the JVM and materializing entity objects to represent all those rows is an efficient or reasonable thing to do.</p>\n<p>If you absolutely <em>have</em> to do this, make sure you use <code>StatelessSession</code>.</p>\n<p>But have you considered using a stored procedure or something like that?</p>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682689966,"creation_date":1682628091,"question_id":76124487,"body_markdown":"I have a huge number of entities i need to load from the DB, i have a query like this\r\n```\r\nFROM ${entityName} x WHERE x.id IN :ids\r\n```\r\nthe above generates SQL queries like this: `... where EntityName.id in (? , ? , ? , ? , ? , ? , ? , ? , ...)`\r\nThis is incredibly slow for large `ids` sets. Multiple posts here have suggested instead to run an `IN VALUES` query like this:\r\n```\r\n... where EntityName.id in (VALUES (?) , (?) , (?) , (?) , (?) , (?) , (?) , (?) , ...)\r\n```\r\n\r\nHere is my Java:\r\n```\r\nList&lt;T&gt; result = entityManager.createQuery(queryString, queryEntity)\r\n    .setParameter(&quot;ids&quot;, batch)\r\n    .getResultList()\r\n```\r\n\r\nWondering how i can get hibernate to do that?\r\nDo i need to specify that in the HQL somehow?\r\nI tried this not expecting it to work, and it didn&#39;t.\r\n`SELECT x FROM ${entityName} x WHERE x.id IN (VALUES :ids)`\r\n\r\nIs this even possible in HQL, or do i need to write a native query?","title":"Hibernate run IN (VALUES ...) rather than IN query","body":"<p>I have a huge number of entities i need to load from the DB, i have a query like this</p>\n<pre><code>FROM ${entityName} x WHERE x.id IN :ids\n</code></pre>\n<p>the above generates SQL queries like this: <code>... where EntityName.id in (? , ? , ? , ? , ? , ? , ? , ? , ...)</code>\nThis is incredibly slow for large <code>ids</code> sets. Multiple posts here have suggested instead to run an <code>IN VALUES</code> query like this:</p>\n<pre><code>... where EntityName.id in (VALUES (?) , (?) , (?) , (?) , (?) , (?) , (?) , (?) , ...)\n</code></pre>\n<p>Here is my Java:</p>\n<pre><code>List&lt;T&gt; result = entityManager.createQuery(queryString, queryEntity)\n    .setParameter(&quot;ids&quot;, batch)\n    .getResultList()\n</code></pre>\n<p>Wondering how i can get hibernate to do that?\nDo i need to specify that in the HQL somehow?\nI tried this not expecting it to work, and it didn't.\n<code>SELECT x FROM ${entityName} x WHERE x.id IN (VALUES :ids)</code></p>\n<p>Is this even possible in HQL, or do i need to write a native query?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682688780,"post_id":76129892,"comment_id":134259393,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":8346376,"reputation":389,"user_id":6269962,"display_name":"Alexandr Ivanov"},"score":1,"creation_date":1682689469,"post_id":76129892,"comment_id":134259551,"body_markdown":"You generate one key pair in Server, and then you generate another key pair in Client. There is no chance you can decrypt by a key from one pair a message encrypted by a key from another pair.","body":"You generate one key pair in Server, and then you generate another key pair in Client. There is no chance you can decrypt by a key from one pair a message encrypted by a key from another pair."},{"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":"Роман Дворниченко"},"score":0,"creation_date":1682689677,"post_id":76129892,"comment_id":134259601,"body_markdown":"But shouldn&#39;t the private key for decryption be created inside the client, and not sent? How else? Thanks","body":"But shouldn&#39;t the private key for decryption be created inside the client, and not sent? How else? Thanks"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682695032,"post_id":76129892,"comment_id":134261036,"body_markdown":"You should be encrypting the message you want to send with the public key of your counter party. And try RSA/ECB/PKCS1Padding, although RSA is regarded as insecure afaik","body":"You should be encrypting the message you want to send with the public key of your counter party. And try RSA/ECB/PKCS1Padding, although RSA is regarded as insecure afaik"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682703392,"post_id":76129892,"comment_id":134262772,"body_markdown":"The privatekey should be created by the decrypter and kept private (not sent); the publickey should _also_ be created by the decrypter and _must_ be sent at least to the encrypter(s); often it is sent to everybody, because you don&#39;t always know in advance who will be sending encrypted messages to a given party. See the first two graphics at the right-side of https://en.wikipedia.org/wiki/Public-key_cryptography .","body":"The privatekey should be created by the decrypter and kept private (not sent); the publickey should <i>also</i> be created by the decrypter and <i>must</i> be sent at least to the encrypter(s); often it is sent to everybody, because you don&#39;t always know in advance who will be sending encrypted messages to a given party. See the first two graphics at the right-side of <a href=\"https://en.wikipedia.org/wiki/Public-key_cryptography\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Public-key_cryptography</a> ."}],"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":"Роман Дворниченко"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682689481,"creation_date":1682687264,"question_id":76129892,"body_markdown":"Im testing: Server encrypting of public key message and sending to client, that should decrypting message, but called Exception.\r\n\r\nServer\r\n```\r\n            Socket socket = serverSocket.accept();\r\n            System.out.println(&quot;New client connected&quot;);\r\n            output = socket.getOutputStream();\r\n            DataOutputStream dOut = new DataOutputStream(socket.getOutputStream());\r\n\r\n            String message = &quot;Hello there?&quot;;\r\n            byte[] encbyte = rsa.encryptByPublicKey(message.getBytes(), publickey);\r\n            String enc = new BigInteger(1, encbyte).toString(); \r\n            System.out.println(&quot;enc &quot; + enc );\r\n\r\n            dOut.writeInt(encbyte.length);\r\n            dOut.write(encbyte);\r\n\r\n            byte[] decodebyte = rsa.decryptByPrivateKey(encbyte, privatekey); //test\r\n            String decodedata = new String(decodebyte);\r\n            System.out.println(&quot;decodedata &quot; + decodedata);\r\n\r\n            while (true);\r\n```\r\nClient\r\n```\r\n            socket = new Socket(&quot;127.0.0.1&quot;, 5556);\r\n            key = rsa.initKey();\r\n            publickey = rsa.getPublicKey(key);\r\n            privatekey = rsa.getPrivateKey(key);\r\n\r\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            inputStream = socket.getInputStream();\r\n            DataInputStream dIn = new DataInputStream(socket.getInputStream());\r\n\r\n            Thread.sleep(300);\r\n            System.out.println(&quot;connected&quot;);\r\n\r\n            byte[] array = null;\r\n            int length = dIn.readInt(); // read length of incoming message\r\n            if(length&gt;0) {\r\n                array = new byte[length];\r\n                dIn.readFully(array, 0, array.length); // read the message\r\n            }\r\n\r\n            String enc = new BigInteger(1, array).toString();\r\n            byte[] decodebyte = rsa.decryptByPrivateKey(array, privatekey); //error\r\n            String decodedata = new String(decodebyte);\r\n            System.out.println(&quot;decodedata &quot; + decodedata);\r\n\r\n```\r\nI use this library (rsa decrypting and encrypting)\r\n```\r\npublic class rsa {\r\n    public static final String KEY_ALGORITHM = &quot;RSA&quot;;\r\n    public static final String SIGNATURE_ALGORITHM = &quot;MD5withRSA&quot;;\r\n\r\n    private static final String PUBLIC_KEY = &quot;RSAPublicKey&quot;; //RSAPublicKey\r\n    private static final String PRIVATE_KEY = &quot;rsa&quot;; //RSAPrivateKey\r\n\r\n    public static byte[] decryptBASE64(String key) throws Exception {\r\n        return Base64.getDecoder().decode(key);\r\n    }\r\n\r\n    public static String encryptBASE64(byte[] key) throws Exception {\r\n        return Base64.getEncoder().encodeToString(key);\r\n    }\r\n\r\n    public static byte[] decryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n        // 对密钥解密\r\n        byte[] keyBytes = decryptBASE64(key);\r\n        \r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        \r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] decryptByPublicKey(byte[] data, String key)\r\n            throws Exception {\r\n        // 对密钥解密\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        // 取得公钥\r\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\r\n\r\n        // 对数据解密\r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.DECRYPT_MODE, publicKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] encryptByPublicKey(byte[] data, String key)\r\n            throws Exception {\r\n        // 对公钥解密\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        // 取得公钥\r\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\r\n\r\n        // 对数据加密\r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] encryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.ENCRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static String getPrivateKey(Map&lt;String, Object&gt; keyMap)\r\n            throws Exception {\r\n        Key key = (Key) keyMap.get(PRIVATE_KEY);\r\n\r\n        return encryptBASE64(key.getEncoded());\r\n    }\r\n\r\n    public static String getPublicKey(Map&lt;String, Object&gt; keyMap)\r\n            throws Exception {\r\n        Key key = (Key) keyMap.get(PUBLIC_KEY);\r\n\r\n        return encryptBASE64(key.getEncoded());\r\n    }\r\n\r\n    public static Map&lt;String, Object&gt; initKey() throws Exception {\r\n        KeyPairGenerator keyPairGen = KeyPairGenerator\r\n                .getInstance(KEY_ALGORITHM);\r\n        keyPairGen.initialize(1024);\r\n\r\n        KeyPair keyPair = keyPairGen.generateKeyPair();\r\n\r\n        // 公钥\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\r\n        // 私钥\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n\r\n        Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2);\r\n\r\n        keyMap.put(PUBLIC_KEY, publicKey);\r\n        keyMap.put(PRIVATE_KEY, privateKey);\r\n        return keyMap;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhat could be the problem? Library? Message? I checked message, and length on client and server same \r\nWorked great on one project.\r\nThank for the help.","title":"javax.crypto.BadPaddingException: Decryption error rsa encryption","body":"<p>Im testing: Server encrypting of public key message and sending to client, that should decrypting message, but called Exception.</p>\n<p>Server</p>\n<pre><code>            Socket socket = serverSocket.accept();\n            System.out.println(&quot;New client connected&quot;);\n            output = socket.getOutputStream();\n            DataOutputStream dOut = new DataOutputStream(socket.getOutputStream());\n\n            String message = &quot;Hello there?&quot;;\n            byte[] encbyte = rsa.encryptByPublicKey(message.getBytes(), publickey);\n            String enc = new BigInteger(1, encbyte).toString(); \n            System.out.println(&quot;enc &quot; + enc );\n\n            dOut.writeInt(encbyte.length);\n            dOut.write(encbyte);\n\n            byte[] decodebyte = rsa.decryptByPrivateKey(encbyte, privatekey); //test\n            String decodedata = new String(decodebyte);\n            System.out.println(&quot;decodedata &quot; + decodedata);\n\n            while (true);\n</code></pre>\n<p>Client</p>\n<pre><code>            socket = new Socket(&quot;127.0.0.1&quot;, 5556);\n            key = rsa.initKey();\n            publickey = rsa.getPublicKey(key);\n            privatekey = rsa.getPrivateKey(key);\n\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n            inputStream = socket.getInputStream();\n            DataInputStream dIn = new DataInputStream(socket.getInputStream());\n\n            Thread.sleep(300);\n            System.out.println(&quot;connected&quot;);\n\n            byte[] array = null;\n            int length = dIn.readInt(); // read length of incoming message\n            if(length&gt;0) {\n                array = new byte[length];\n                dIn.readFully(array, 0, array.length); // read the message\n            }\n\n            String enc = new BigInteger(1, array).toString();\n            byte[] decodebyte = rsa.decryptByPrivateKey(array, privatekey); //error\n            String decodedata = new String(decodebyte);\n            System.out.println(&quot;decodedata &quot; + decodedata);\n\n</code></pre>\n<p>I use this library (rsa decrypting and encrypting)</p>\n<pre><code>public class rsa {\n    public static final String KEY_ALGORITHM = &quot;RSA&quot;;\n    public static final String SIGNATURE_ALGORITHM = &quot;MD5withRSA&quot;;\n\n    private static final String PUBLIC_KEY = &quot;RSAPublicKey&quot;; //RSAPublicKey\n    private static final String PRIVATE_KEY = &quot;rsa&quot;; //RSAPrivateKey\n\n    public static byte[] decryptBASE64(String key) throws Exception {\n        return Base64.getDecoder().decode(key);\n    }\n\n    public static String encryptBASE64(byte[] key) throws Exception {\n        return Base64.getEncoder().encodeToString(key);\n    }\n\n    public static byte[] decryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n        // 对密钥解密\n        byte[] keyBytes = decryptBASE64(key);\n        \n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        \n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] decryptByPublicKey(byte[] data, String key)\n            throws Exception {\n        // 对密钥解密\n        byte[] keyBytes = decryptBASE64(key);\n\n        // 取得公钥\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\n\n        // 对数据解密\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.DECRYPT_MODE, publicKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] encryptByPublicKey(byte[] data, String key)\n            throws Exception {\n        // 对公钥解密\n        byte[] keyBytes = decryptBASE64(key);\n\n        // 取得公钥\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\n\n        // 对数据加密\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] encryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n        byte[] keyBytes = decryptBASE64(key);\n\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.ENCRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static String getPrivateKey(Map&lt;String, Object&gt; keyMap)\n            throws Exception {\n        Key key = (Key) keyMap.get(PRIVATE_KEY);\n\n        return encryptBASE64(key.getEncoded());\n    }\n\n    public static String getPublicKey(Map&lt;String, Object&gt; keyMap)\n            throws Exception {\n        Key key = (Key) keyMap.get(PUBLIC_KEY);\n\n        return encryptBASE64(key.getEncoded());\n    }\n\n    public static Map&lt;String, Object&gt; initKey() throws Exception {\n        KeyPairGenerator keyPairGen = KeyPairGenerator\n                .getInstance(KEY_ALGORITHM);\n        keyPairGen.initialize(1024);\n\n        KeyPair keyPair = keyPairGen.generateKeyPair();\n\n        // 公钥\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n\n        // 私钥\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n\n        Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2);\n\n        keyMap.put(PUBLIC_KEY, publicKey);\n        keyMap.put(PRIVATE_KEY, privateKey);\n        return keyMap;\n    }\n}\n</code></pre>\n<p>What could be the problem? Library? Message? I checked message, and length on client and server same\nWorked great on one project.\nThank for the help.</p>\n"},{"tags":["java","rx-java2","vert.x"],"comments":[{"owner":{"account_id":12617245,"reputation":522,"user_id":9256127,"display_name":"Lukas Weber"},"score":0,"creation_date":1683089419,"post_id":76130199,"comment_id":134311190,"body_markdown":"You want to use the vertx-web-openapi module. The [docs](https://vertx.io/docs/vertx-web-openapi/java/) are really good","body":"You want to use the vertx-web-openapi module. The <a href=\"https://vertx.io/docs/vertx-web-openapi/java/\" rel=\"nofollow noreferrer\">docs</a> are really good"},{"owner":{"display_name":"user20405467"},"score":0,"creation_date":1683104900,"post_id":76130199,"comment_id":134314000,"body_markdown":"No sorry that don&#39;t respond to my problem, and already saw it before questionning ... sorry, is for 4.4.1 version and not precise something for schemaParser","body":"No sorry that don&#39;t respond to my problem, and already saw it before questionning ... sorry, is for 4.4.1 version and not precise something for schemaParser"}],"owner":{"display_name":"user20405467"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682689415,"creation_date":1682689415,"question_id":76130199,"body_markdown":"I&#39;m in Vertx 4.3.4 with RX java, and I want to initialize my routes with a openapiv3.yaml and especially (the main purpose) validate user input of each declared route in yaml (with the input model too in file).\r\n\r\nI use a code like that:\r\n\r\n    router.get(&quot;/configs&quot;).handler(this.handlers.configHandler::getAll));\r\n\r\nand I would like to add something like this:\r\n\r\n      .handler(\r\n        ValidationHandlerBuilder\r\n          .create(schemaParser)\r\n          .build()\r\n      );\r\n\r\nbut I didn&#39;t found anything to get a &quot;schemaParser&quot; in the documentation or to create it, and all the API of the 4.3.4 was deprecated without any example to use it.\r\nI precise that I don&#39;t have a json file for validation but a yaml and a  io.vertx.reactivex.ext.web.Route of:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;vertx-rx-java2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThank a lot and best regards","title":"Use OpenApi v3 yaml to generate route and validator with Vertx","body":"<p>I'm in Vertx 4.3.4 with RX java, and I want to initialize my routes with a openapiv3.yaml and especially (the main purpose) validate user input of each declared route in yaml (with the input model too in file).</p>\n<p>I use a code like that:</p>\n<pre><code>router.get(&quot;/configs&quot;).handler(this.handlers.configHandler::getAll));\n</code></pre>\n<p>and I would like to add something like this:</p>\n<pre><code>  .handler(\n    ValidationHandlerBuilder\n      .create(schemaParser)\n      .build()\n  );\n</code></pre>\n<p>but I didn't found anything to get a &quot;schemaParser&quot; in the documentation or to create it, and all the API of the 4.3.4 was deprecated without any example to use it.\nI precise that I don't have a json file for validation but a yaml and a  io.vertx.reactivex.ext.web.Route of:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx-rx-java2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thank a lot and best regards</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"comments":[{"owner":{"account_id":250515,"reputation":29,"user_id":2519543,"display_name":"user2519543"},"score":0,"creation_date":1587749630,"post_id":61367061,"comment_id":108641760,"body_markdown":"hi, why when I downgrade spring-boot back to 1.5.x  the test passes and INSERT is logged  without changing any code.","body":"hi, why when I downgrade spring-boot back to 1.5.x  the test passes and INSERT is logged  without changing any code."}],"tags":[],"owner":{"account_id":6840438,"reputation":1508,"user_id":5261030,"display_name":"Dmitrii Cheremisin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587564163,"creation_date":1587564163,"answer_id":61367061,"question_id":61366276,"body_markdown":"It happens because findAll method triggers flush of all changes from memory(persistence context) to database.\r\n\r\nYou can see in my screen the place where it all happens:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EyQJW.png\r\n\r\nThere is also a corresponding method in JpaRepository:\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--  \r\nIt may be used to flush changes immediately.\r\n\r\nAdditionally, you may use saveAndFlush method:\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>It happens because findAll method triggers flush of all changes from memory(persistence context) to database.</p>\n\n<p>You can see in my screen the place where it all happens:\n<a href=\"https://i.stack.imgur.com/EyQJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EyQJW.png\" alt=\"enter image description here\"></a></p>\n\n<p>There is also a corresponding method in JpaRepository:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--</a><br>\nIt may be used to flush changes immediately.</p>\n\n<p>Additionally, you may use saveAndFlush method:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-</a></p>\n"},{"tags":[],"owner":{"account_id":6121205,"reputation":442,"user_id":4774683,"display_name":"Youness HARDI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682689328,"creation_date":1682689014,"answer_id":76130149,"question_id":61366276,"body_markdown":"This will not work because JPA does not flush immediately after `save(entity)`. This means that the JdbcTemplate would not be able to retreive what you saved using JPA without the **flush**. So you could use the `repository.saveAndFlush(entity)` to make saved data available immediately for jdbcTemplate.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @DataJpaTest\r\n    public class SomeTest {\r\n\r\n        @Autowired\r\n        private SomeRepository repository;\r\n        @Autowired\r\n        private JdbcTemplate template;\r\n\r\n\r\n        @Test\r\n        public void save() {\r\n\r\n            String number = &quot;123&quot;;\r\n\r\n            SomeEntity entity = SomeEntity.builder()\r\n                .number(number)\r\n                //some attributes here\r\n                .build();\r\n\r\n            repository.saveAndFlush(entity);\r\n\r\n\r\n            //that line fails because SELECT returns nothing back\r\n            Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\r\n\r\n    }","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>This will not work because JPA does not flush immediately after <code>save(entity)</code>. This means that the JdbcTemplate would not be able to retreive what you saved using JPA without the <strong>flush</strong>. So you could use the <code>repository.saveAndFlush(entity)</code> to make saved data available immediately for jdbcTemplate.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class SomeTest {\n\n    @Autowired\n    private SomeRepository repository;\n    @Autowired\n    private JdbcTemplate template;\n\n\n    @Test\n    public void save() {\n\n        String number = &quot;123&quot;;\n\n        SomeEntity entity = SomeEntity.builder()\n            .number(number)\n            //some attributes here\n            .build();\n\n        repository.saveAndFlush(entity);\n\n\n        //that line fails because SELECT returns nothing back\n        Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\n\n}\n</code></pre>\n"}],"owner":{"account_id":250515,"reputation":29,"user_id":2519543,"display_name":"user2519543"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682689328,"creation_date":1587561898,"question_id":61366276,"body_markdown":"I am migrating from spring-boot 1.5.x to 2.0.4 and noticed an interesting case/behaviour with @DataJpaTest\r\n\r\nI have a test\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class SomeTest {\r\n\r\n    @Autowired\r\n    private SomeRepository repository;\r\n    @Autowired\r\n    private JdbcTemplate template;\r\n\r\n\r\n    @Test\r\n    public void save() {\r\n       \r\n        String number = &quot;123&quot;;\r\n\r\n        SomeEntity entity = SomeEntity.builder()\r\n                .number(number)\r\n                //some attributes here\r\n                .build();\r\n\r\n        repository.save(entity);\r\n\r\n\r\n//that line fails because SELECT returns nothing back\r\n        Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\r\n\r\n}\r\n```\r\nThis test above fails because nothing is returned from the template. I can&#39;t see even INSERT statement fired in the logs. \r\nBut with old version of spring-boot of 1.5.x I can see the INSERT been fired and test passes.\r\n\r\n\r\n\r\n\r\nBut the interesting thing with upgraded version is if I add a line `repository.findAll` (not `repository.findById(id)` -&gt; that one won&#39;t help)  before `repository.save(entity)` it all works good and in the logs, I can see and INSERT statement fired.\r\n\r\n\r\nCan someone please help me to understand what&#39;s going on and how it works under the hood.\r\nWhy the entity has not been persisted? and why `repository.findAll` is so special that makes it to persist the data.\r\n\r\nThanks.\r\n","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>I am migrating from spring-boot 1.5.x to 2.0.4 and noticed an interesting case/behaviour with @DataJpaTest</p>\n\n<p>I have a test</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class SomeTest {\n\n    @Autowired\n    private SomeRepository repository;\n    @Autowired\n    private JdbcTemplate template;\n\n\n    @Test\n    public void save() {\n\n        String number = \"123\";\n\n        SomeEntity entity = SomeEntity.builder()\n                .number(number)\n                //some attributes here\n                .build();\n\n        repository.save(entity);\n\n\n//that line fails because SELECT returns nothing back\n        Map&lt;String, Object&gt; result = template.queryForMap(\"select id, version from some_entity where number=?\", number);\n\n}\n</code></pre>\n\n<p>This test above fails because nothing is returned from the template. I can't see even INSERT statement fired in the logs. \nBut with old version of spring-boot of 1.5.x I can see the INSERT been fired and test passes.</p>\n\n<p>But the interesting thing with upgraded version is if I add a line <code>repository.findAll</code> (not <code>repository.findById(id)</code> -> that one won't help)  before <code>repository.save(entity)</code> it all works good and in the logs, I can see and INSERT statement fired.</p>\n\n<p>Can someone please help me to understand what's going on and how it works under the hood.\nWhy the entity has not been persisted? and why <code>repository.findAll</code> is so special that makes it to persist the data.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682688296,"post_id":76129962,"comment_id":134259284,"body_markdown":"Your fat jar most likely isn’t. Go inside and investigate with the jar command.","body":"Your fat jar most likely isn’t. Go inside and investigate with the jar command."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682689371,"post_id":76129962,"comment_id":134259524,"body_markdown":"If the answer isn&#39;t correct ( I suspect it is) you can check your manifest and look at the classpath. The classpath might reference a lib folder with more jar files that you are not including. A fat jar file should include all of the other jar files, but the way you are copying makes me suspicious.","body":"If the answer isn&#39;t correct ( I suspect it is) you can check your manifest and look at the classpath. The classpath might reference a lib folder with more jar files that you are not including. A fat jar file should include all of the other jar files, but the way you are copying makes me suspicious."}],"answers":[{"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682689287,"post_id":76130108,"comment_id":134259500,"body_markdown":"This seems like the type of action that should fail. They&#39;re copying a bunch of files to a single file.","body":"This seems like the type of action that should fail. They&#39;re copying a bunch of files to a single file."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1682689955,"post_id":76130108,"comment_id":134259673,"body_markdown":"The copies are created sequentially, and all are copied to `./app.jar`, so the last one copied is `./app.jar`.","body":"The copies are created sequentially, and all are copied to <code>.&#47;app.jar</code>, so the last one copied is <code>.&#47;app.jar</code>."},{"owner":{"account_id":3700863,"reputation":33,"user_id":3080662,"display_name":"Simone Brigante"},"score":0,"creation_date":1682692364,"post_id":76130108,"comment_id":134260400,"body_markdown":"Thanks! You both were entirely correct. Indeed in the target directory I had 2 .jar files: the fat appname-0.0.1-SNAPSHOT.jar and the lightweight original-appname-0.0.1-SNAPSHOT.jar. I have now edited the Dockerfile not to copy ./target/*.jar but ./target/appname-0.0.1-SNAPSHOT.jar and it works perfectly. Thanks again.","body":"Thanks! You both were entirely correct. Indeed in the target directory I had 2 .jar files: the fat appname-0.0.1-SNAPSHOT.jar and the lightweight original-appname-0.0.1-SNAPSHOT.jar. I have now edited the Dockerfile not to copy ./target/*.jar but ./target/appname-0.0.1-SNAPSHOT.jar and it works perfectly. Thanks again."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682688690,"creation_date":1682688690,"answer_id":76130108,"question_id":76129962,"body_markdown":"In your Dockerfile you have:\r\n\r\n    COPY ./target/*.jar ./app.jar\r\n\r\nThis is (probably) copying your original jar **AND** the fat jar (`*.jar`) to /app/.\r\n\r\nOnly copy the jar you need.","title":"Fat Jar runs in host machine but fails in Docker Container","body":"<p>In your Dockerfile you have:</p>\n<pre><code>COPY ./target/*.jar ./app.jar\n</code></pre>\n<p>This is (probably) copying your original jar <strong>AND</strong> the fat jar (<code>*.jar</code>) to /app/.</p>\n<p>Only copy the jar you need.</p>\n"}],"owner":{"account_id":3700863,"reputation":33,"user_id":3080662,"display_name":"Simone Brigante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76130108,"answer_count":1,"score":1,"last_activity_date":1682688690,"creation_date":1682687707,"question_id":76129962,"body_markdown":"I have fat .jar file created using Maven that runs correctly when executed on many laptops (I tried it on 3 machines) using the command \r\n\r\n    java -jar target/appname.jar\r\n\r\nbut whenever I try to dockerize it, it fails with the following error:\r\n\r\n    Error: unable to initialize main class mypackage.MyMainClass\r\n    Caused by: java.lang.NoClassDefFoundError: externaljarname/src/MyOtherClass\r\n\r\nI can&#39;t understand why on three different machines, that I have never used, I can run easily the .jar file but in Docker no.\r\n\r\nMore info:\r\n\r\nThe fat .jar that fails is an application that makes use of a custom library that I have created. This means, initially I had a custom Java library exported as jar, then my new project imports this Library to perform some operations. \r\n\r\nFor generating the current fat .jar, I firstly installed it using\r\n\r\n    mvn clean org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&quot;mylibrary.jar&quot;\r\n\r\nthen I packaged everything:\r\n\r\n    mvn clean package\r\n\r\nMy current fat .jar, in the pom.xml, has a dependency to my library and I use the Maven Shade Plugin to generate the fat .jar as follows:\r\n\r\n    &lt;plugin&gt; \r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;executions&gt; \r\n                    &lt;execution&gt; \r\n                        &lt;phase&gt;package&lt;/phase&gt; \r\n                        &lt;goals&gt; \r\n                            &lt;goal&gt;shade&lt;/goal&gt; \r\n                        &lt;/goals&gt; \r\n                        &lt;configuration&gt; \r\n                            &lt;transformers&gt; \r\n                                 &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; \r\n                                    &lt;mainClass&gt;\r\n                                        mypackage.MyMainClass\r\n                                    &lt;/mainClass&gt; \r\n                                &lt;/transformer&gt; \r\n                            &lt;/transformers&gt; \r\n                            &lt;createDependencyReducedPom&gt;\r\n                                false\r\n                            &lt;/createDependencyReducedPom&gt;     \r\n                        &lt;/configuration&gt; \r\n                    &lt;/execution&gt; \r\n                &lt;/executions&gt; \r\n            &lt;/plugin&gt;\r\n\r\nDo you have any idea why this happens?\r\n\r\nP.S: The JDK used is the 11 and the Dockerfile looks as follows:\r\n\r\n    FROM openjdk:11-jre-slim\r\n    MAINTAINER &quot;Docker App &lt;docker@app.com&gt;&quot;\r\n    WORKDIR /app\r\n    \r\n    COPY ./target/*.jar ./app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n\r\nThanks.","title":"Fat Jar runs in host machine but fails in Docker Container","body":"<p>I have fat .jar file created using Maven that runs correctly when executed on many laptops (I tried it on 3 machines) using the command</p>\n<pre><code>java -jar target/appname.jar\n</code></pre>\n<p>but whenever I try to dockerize it, it fails with the following error:</p>\n<pre><code>Error: unable to initialize main class mypackage.MyMainClass\nCaused by: java.lang.NoClassDefFoundError: externaljarname/src/MyOtherClass\n</code></pre>\n<p>I can't understand why on three different machines, that I have never used, I can run easily the .jar file but in Docker no.</p>\n<p>More info:</p>\n<p>The fat .jar that fails is an application that makes use of a custom library that I have created. This means, initially I had a custom Java library exported as jar, then my new project imports this Library to perform some operations.</p>\n<p>For generating the current fat .jar, I firstly installed it using</p>\n<pre><code>mvn clean org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&quot;mylibrary.jar&quot;\n</code></pre>\n<p>then I packaged everything:</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>My current fat .jar, in the pom.xml, has a dependency to my library and I use the Maven Shade Plugin to generate the fat .jar as follows:</p>\n<pre><code>&lt;plugin&gt; \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n            &lt;executions&gt; \n                &lt;execution&gt; \n                    &lt;phase&gt;package&lt;/phase&gt; \n                    &lt;goals&gt; \n                        &lt;goal&gt;shade&lt;/goal&gt; \n                    &lt;/goals&gt; \n                    &lt;configuration&gt; \n                        &lt;transformers&gt; \n                             &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; \n                                &lt;mainClass&gt;\n                                    mypackage.MyMainClass\n                                &lt;/mainClass&gt; \n                            &lt;/transformer&gt; \n                        &lt;/transformers&gt; \n                        &lt;createDependencyReducedPom&gt;\n                            false\n                        &lt;/createDependencyReducedPom&gt;     \n                    &lt;/configuration&gt; \n                &lt;/execution&gt; \n            &lt;/executions&gt; \n        &lt;/plugin&gt;\n</code></pre>\n<p>Do you have any idea why this happens?</p>\n<p>P.S: The JDK used is the 11 and the Dockerfile looks as follows:</p>\n<pre><code>FROM openjdk:11-jre-slim\nMAINTAINER &quot;Docker App &lt;docker@app.com&gt;&quot;\nWORKDIR /app\n\nCOPY ./target/*.jar ./app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","amazon-web-services","gradle","karate","aws-device-farm"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1682688282,"post_id":76129429,"comment_id":134259282,"body_markdown":"stop() also has to be implemented as explained here: https://github.com/karatelabs/karate/tree/master/karate-core#configure-drivertarget","body":"stop() also has to be implemented as explained here: <a href=\"https://github.com/karatelabs/karate/tree/master/karate-core#configure-drivertarget\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/tree/master/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":28445060,"reputation":31,"user_id":21763890,"display_name":"Faizil Mohammed Eliyas"},"score":1,"creation_date":1682761682,"post_id":76130083,"comment_id":134268718,"body_markdown":"Yep. Using ScenarioRuntime argument instead of Logger solves the problem.","body":"Yep. Using ScenarioRuntime argument instead of Logger solves the problem."}],"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682688483,"creation_date":1682688483,"answer_id":76130083,"question_id":76129429,"body_markdown":"You seem to be moving from a very old version, and this part of the 1.0 upgrade guide has details: https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui\r\n\r\n    &gt; if you implemented a custom Target, the method signature for start() and stop() takes a com.intuit.karate.core.ScenarioRuntime as the single argument instead of a Logger.\r\n\r\nI strongly suggest you move to 1.3.0 which is the latest, but yes you need to read all the release notes. If still stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","title":"Issue when Integrate Karate with AWS Device farm","body":"<p>You seem to be moving from a very old version, and this part of the 1.0 upgrade guide has details: <a href=\"https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui</a></p>\n<pre><code>&gt; if you implemented a custom Target, the method signature for start() and stop() takes a com.intuit.karate.core.ScenarioRuntime as the single argument instead of a Logger.\n</code></pre>\n<p>I strongly suggest you move to 1.3.0 which is the latest, but yes you need to read all the release notes. If still stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a></p>\n"}],"owner":{"account_id":28445060,"reputation":31,"user_id":21763890,"display_name":"Faizil Mohammed Eliyas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682688483,"creation_date":1682683684,"question_id":76129429,"body_markdown":"Trying to integrate Karate with AWS Device Farm and implement the **Target** Interface throws Class is not abstract and does not override abstract method stop(ScenarioRuntime) in Target.\r\nKarate version: 1.2.0\r\n\r\n\r\nJava application not compiled because of this and the build should work without this error\r\n\r\n```\r\nimport com.intuit.karate.driver.Target;\r\n\r\npublic class DeviceFarmTarget implements Target {\r\n @Override\r\n    public Map&lt;String, Object&gt; start(Logger logger) {\r\n    // implementation\r\n    }\r\n\r\n}\r\n```","title":"Issue when Integrate Karate with AWS Device farm","body":"<p>Trying to integrate Karate with AWS Device Farm and implement the <strong>Target</strong> Interface throws Class is not abstract and does not override abstract method stop(ScenarioRuntime) in Target.\nKarate version: 1.2.0</p>\n<p>Java application not compiled because of this and the build should work without this error</p>\n<pre><code>import com.intuit.karate.driver.Target;\n\npublic class DeviceFarmTarget implements Target {\n @Override\n    public Map&lt;String, Object&gt; start(Logger logger) {\n    // implementation\n    }\n\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682688735,"post_id":76130014,"comment_id":134259386,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"score":0,"creation_date":1682689126,"post_id":76130014,"comment_id":134259472,"body_markdown":"I depolyee two project [application] in one Tomcat\nTomcat&#39;s memory is 4 gb.\nI want to give specific memory to one project [application] \nFor example : \n1 application with 1 gb memory\nand \n2 application with 3 gb memory\nwhat should i do regarding same ?","body":"I depolyee two project [application] in one Tomcat Tomcat&#39;s memory is 4 gb. I want to give specific memory to one project [application]  For example :  1 application with 1 gb memory and  2 application with 3 gb memory what should i do regarding same ?"}],"answers":[{"comments":[{"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"score":0,"creation_date":1682688506,"post_id":76130061,"comment_id":134259332,"body_markdown":"thank you for answering ,is it possible somehow i can do that ? any lead towards it ?","body":"thank you for answering ,is it possible somehow i can do that ? any lead towards it ?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1682690218,"post_id":76130061,"comment_id":134259757,"body_markdown":"...possible that you do what? What you&#39;ve asked in your original question: No. As I answered. What I suggested instead: Yes, as I answered. And, IMHO, the steps to do that are also contained in the answer.","body":"...possible that you do what? What you&#39;ve asked in your original question: No. As I answered. What I suggested instead: Yes, as I answered. And, IMHO, the steps to do that are also contained in the answer."}],"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682688370,"creation_date":1682688370,"answer_id":76130061,"question_id":76130014,"body_markdown":"No. There is no such option _within a single process_. All webapplications share the memory that is allocated to their common JVM.\r\n\r\nThere is an option to start multiple processes from the same installation - `CATALINA_HOME` vs `CATALINA_BASE` are the configuration options from the command line, and you can also install with different service-names (if I&#39;m not misremembering) and configure the individual services to deploy different web applications.","title":"In one tomcat, project wise memory","body":"<p>No. There is no such option <em>within a single process</em>. All webapplications share the memory that is allocated to their common JVM.</p>\n<p>There is an option to start multiple processes from the same installation - <code>CATALINA_HOME</code> vs <code>CATALINA_BASE</code> are the configuration options from the command line, and you can also install with different service-names (if I'm not misremembering) and configure the individual services to deploy different web applications.</p>\n"}],"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682688383,"creation_date":1682688033,"question_id":76130014,"body_markdown":"how i can give specific amount of memory to my web application,i deployed more than one project in single instance of tomcat ,i want to allocate memory to my each web application specific amount of memory \r\n\r\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -Xms512m -Xmx1024m&quot;\r\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -DT247ApiAnalytics.heap.size=512m&quot;\r\n\r\ni tried this command to set in setenv.bat file catalina.bat file but i want to start my tocat as a window services not from the bat file  and i want it for permanet is there any way to allocate specific amount of memory to my each web application deployed on single instance of tomcat. its working but it setting the jvm memoty not web application memory ,i want to set the specific amount of memory ,\r\n\r\nalso this command too \r\nset &quot;CATALINA_OPTS=&quot;-Xms512m -Xmx512m&quot; &amp;&amp; [ &quot;$APP_NAME&quot; == &quot;&lt;Project_Name&gt;&quot; ] &amp;&amp; CATALINA_OPTS=&quot;$CATALINA_OPTS -Dapp.name=&lt;Project_Name&gt;&quot;\r\n\r\nbut this also not worked for me .if u have any solution please help me","title":"In one tomcat, project wise memory","body":"<p>how i can give specific amount of memory to my web application,i deployed more than one project in single instance of tomcat ,i want to allocate memory to my each web application specific amount of memory</p>\n<p>set &quot;CATALINA_OPTS=%CATALINA_OPTS% -Xms512m -Xmx1024m&quot;\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -DT247ApiAnalytics.heap.size=512m&quot;</p>\n<p>i tried this command to set in setenv.bat file catalina.bat file but i want to start my tocat as a window services not from the bat file  and i want it for permanet is there any way to allocate specific amount of memory to my each web application deployed on single instance of tomcat. its working but it setting the jvm memoty not web application memory ,i want to set the specific amount of memory ,</p>\n<p>also this command too\nset &quot;CATALINA_OPTS=&quot;-Xms512m -Xmx512m&quot; &amp;&amp; [ &quot;$APP_NAME&quot; == &quot;&lt;Project_Name&gt;&quot; ] &amp;&amp; CATALINA_OPTS=&quot;$CATALINA_OPTS -Dapp.name=&lt;Project_Name&gt;&quot;</p>\n<p>but this also not worked for me .if u have any solution please help me</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":1,"creation_date":1546517068,"post_id":54021754,"comment_id":94879776,"body_markdown":"What&#39;s a typical value for the &#39;file&#39; argument you are using?","body":"What&#39;s a typical value for the &#39;file&#39; argument you are using?"},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1546517122,"post_id":54021754,"comment_id":94879813,"body_markdown":"Please check [this](https://stackoverflow.com/questions/48673769/java-9-module-system-resources-files-location) question out","body":"Please check <a href=\"https://stackoverflow.com/questions/48673769/java-9-module-system-resources-files-location\">this</a> question out"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":5,"creation_date":1546519693,"post_id":54021754,"comment_id":94881210,"body_markdown":"Class.class.getResourceAsStream(...) will attempt to locate the resource in the java.base module. Replace &quot;Class.class&quot; with the name of your class so that it finds it in your module (or on the class path).","body":"Class.class.getResourceAsStream(...) will attempt to locate the resource in the java.base module. Replace &quot;Class.class&quot; with the name of your class so that it finds it in your module (or on the class path)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1547134149,"post_id":54021754,"comment_id":95095081,"body_markdown":"Further, it’s worth learning about the [try-with-resources statement](https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html)…","body":"Further, it’s worth learning about the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a>…"},{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1570298236,"post_id":54021754,"comment_id":102872215,"body_markdown":"Possible duplicate of [Accessing resource files from external modules](https://stackoverflow.com/questions/46861589/accessing-resource-files-from-external-modules)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/46861589/accessing-resource-files-from-external-modules\">Accessing resource files from external modules</a>"},{"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"score":0,"creation_date":1588155381,"post_id":54021754,"comment_id":108789055,"body_markdown":"@Holger I agree, its good, for super-sonic coding of simple modules, on small programs. Bad for: a) self explanatory code; b) backwards-compatibility; c) debug using stack trace.","body":"@Holger I agree, its good, for super-sonic coding of simple modules, on small programs. Bad for: a) self explanatory code; b) backwards-compatibility; c) debug using stack trace."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1588156612,"post_id":54021754,"comment_id":108789655,"body_markdown":"@Alexey **a)** try-with-resource is part of the language for a decade and should be understood by Java developers without further explanation. It’s not different to any other high level language construct, e.g. for-each loop or string concatenation, or using OOP concepts. Verbosity doesn’t imply “self explanatory”. **b)** Backward compatibility to what? You are asking a question about Java&#160;11 but insist on compatibility to Java&#160;6 or even older? **c)** in which regard does using try-with-resource hinder debugging?","body":"@Alexey <b>a)</b> try-with-resource is part of the language for a decade and should be understood by Java developers without further explanation. It’s not different to any other high level language construct, e.g. for-each loop or string concatenation, or using OOP concepts. Verbosity doesn’t imply “self explanatory”. <b>b)</b> Backward compatibility to what? You are asking a question about Java 11 but insist on compatibility to Java 6 or even older? <b>c)</b> in which regard does using try-with-resource hinder debugging?"}],"answers":[{"comments":[{"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"score":0,"creation_date":1546519176,"post_id":54022205,"comment_id":94880908,"body_markdown":"I&#39;m sorry if I am confused you. Yes, the path is absolute. TXT file in the package folder with Java class files and included in the Build Path. File Path: /configuration/options.txt","body":"I&#39;m sorry if I am confused you. Yes, the path is absolute. TXT file in the package folder with Java class files and included in the Build Path. File Path: /configuration/options.txt"},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1546519287,"post_id":54022205,"comment_id":94880984,"body_markdown":"Ok, then it&#39;s because of the java modules. I&#39;ll update my answer","body":"Ok, then it&#39;s because of the java modules. I&#39;ll update my answer"},{"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"score":0,"creation_date":1546520370,"post_id":54022205,"comment_id":94881609,"body_markdown":"Thanks for explanation. Changing from Class.class.getResourceAsStream(file) to TextTools.class.getResourceAsStream(file) solve Error.","body":"Thanks for explanation. Changing from Class.class.getResourceAsStream(file) to TextTools.class.getResourceAsStream(file) solve Error."},{"owner":{"account_id":564775,"reputation":2435,"user_id":196405,"display_name":"Christopher"},"score":1,"creation_date":1564183333,"post_id":54022205,"comment_id":100960177,"body_markdown":"Ugh, this is a strange behavior with modules in Java 9 and later. Changing to `getClass().getResourceXXX` worked for me.","body":"Ugh, this is a strange behavior with modules in Java 9 and later. Changing to <code>getClass().getResourceXXX</code> worked for me."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1570219952,"post_id":54022205,"comment_id":102857504,"body_markdown":"The update here is the correct answer.  We were using Classloader.class.getResourceAsStream() and it didn&#39;t work.  We changed it to a class we wrote in our packages and it worked fine.  Bingo!","body":"The update here is the correct answer.  We were using Classloader.class.getResourceAsStream() and it didn&#39;t work.  We changed it to a class we wrote in our packages and it worked fine.  Bingo!"},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":1,"creation_date":1570265527,"post_id":54022205,"comment_id":102864773,"body_markdown":"@markthegrea both are correct, it depends on which java version you are using","body":"@markthegrea both are correct, it depends on which java version you are using"}],"tags":[],"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"comment_count":6,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1546837796,"creation_date":1546518046,"answer_id":54022205,"question_id":54021754,"body_markdown":"I&#39;ve tried your application with both openjdk 8 and 11 on MacOS and it does not work with both. I think you need to look at [1] and [2] in order to understand how `getResourceAsStream` works. \r\n\r\nTLDR:\r\n \r\n1. If the path is absolute (i.e. starts with a slash - `/`), then `class.getResourceAsStream()` searches in the provided path\r\n\r\n2. If the path is NOT absolute (i.e. does not start with a slash) , then `class.getResourceAsStream()` searches in a constructed path that corresponds to the package name, where the dots are replaced with slashes\r\n\r\n\r\nSo whether it works or not depends on 2 things:\r\n\r\n1. Is your path absolute or not ? \r\n2. Is the `file` located in the same package as the class or not ? \r\n\r\nBasically in your exaple as is provided, it can never work if the path is not absolute, because `Class.class.getResourceAsStream()` will always resolve the path to `java/lang/&lt;file&gt;`, so your file must be in a system package. So instead you must use `&lt;MyClass&gt;.class.getResourceAsStream()` or alternatively use an absolute path\r\n\r\n[1] https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)\r\n\r\n[2] https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\r\n\r\n\r\n----\r\n### Update\r\n\r\nSince Java SE 9, invoking getResourceXXX on a class in a named module will only locate the resource in that module, it will not search the class path as it did in previous release. So when you use `Class.class.getResourceAsStream()` it will attempt to locate the resource in module containing `java.lang.Class`, which is the `java.base` module. Obviously your resource is not in that module, so it returns null. \r\n\r\nYou have to make java 9+ search for the file in your module, which most probably is an &quot;unnamed module&quot;. You can do that by changing `Class` to any class defined in your module in order to make java use the proper class loader.","title":"Why does the getResource() method return null in JDK 11?","body":"<p>I've tried your application with both openjdk 8 and 11 on MacOS and it does not work with both. I think you need to look at [1] and [2] in order to understand how <code>getResourceAsStream</code> works. </p>\n\n<p>TLDR:</p>\n\n<ol>\n<li><p>If the path is absolute (i.e. starts with a slash - <code>/</code>), then <code>class.getResourceAsStream()</code> searches in the provided path</p></li>\n<li><p>If the path is NOT absolute (i.e. does not start with a slash) , then <code>class.getResourceAsStream()</code> searches in a constructed path that corresponds to the package name, where the dots are replaced with slashes</p></li>\n</ol>\n\n<p>So whether it works or not depends on 2 things:</p>\n\n<ol>\n<li>Is your path absolute or not ? </li>\n<li>Is the <code>file</code> located in the same package as the class or not ? </li>\n</ol>\n\n<p>Basically in your exaple as is provided, it can never work if the path is not absolute, because <code>Class.class.getResourceAsStream()</code> will always resolve the path to <code>java/lang/&lt;file&gt;</code>, so your file must be in a system package. So instead you must use <code>&lt;MyClass&gt;.class.getResourceAsStream()</code> or alternatively use an absolute path</p>\n\n<p>[1] <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)</a></p>\n\n<p>[2] <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29</a></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Since Java SE 9, invoking getResourceXXX on a class in a named module will only locate the resource in that module, it will not search the class path as it did in previous release. So when you use <code>Class.class.getResourceAsStream()</code> it will attempt to locate the resource in module containing <code>java.lang.Class</code>, which is the <code>java.base</code> module. Obviously your resource is not in that module, so it returns null. </p>\n\n<p>You have to make java 9+ search for the file in your module, which most probably is an \"unnamed module\". You can do that by changing <code>Class</code> to any class defined in your module in order to make java use the proper class loader.</p>\n"},{"tags":[],"owner":{"account_id":1225414,"reputation":3180,"user_id":1191058,"accept_rate":100,"display_name":"j123b567"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1597223004,"creation_date":1597223004,"answer_id":63373260,"question_id":54021754,"body_markdown":"There is another solution using `ClassLoader`\r\n\r\n```java\r\nClassLoader.getSystemResourceAsStream(file)\r\n```\r\n\r\nloads from all locations. I&#39;m using it to load resources from JAR file which holds just resources and no executable code so the previous trick can&#39;t work because there is no `SomeClass` in the JAR to do `SomeClass.class.getResourceAsStream()`\r\n\r\nI just don&#39;t understand the internals and I must change also the path of the file.\r\n\r\nI have JAR file with file &quot;my-file.txt&quot; in the root of the JAR archive.\r\n\r\nFor java 8, this worked\r\n```java\r\nClass.class.getResourceAsStream(&quot;/my-file.txt&quot;);\r\n```\r\n\r\nFor java 11, I must remove the leading `/` even when the file is in the root path\r\n```\r\nClassLoader.getSystemResourceAsStream(&quot;my-file.txt&quot;);\r\n```","title":"Why does the getResource() method return null in JDK 11?","body":"<p>There is another solution using <code>ClassLoader</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader.getSystemResourceAsStream(file)\n</code></pre>\n<p>loads from all locations. I'm using it to load resources from JAR file which holds just resources and no executable code so the previous trick can't work because there is no <code>SomeClass</code> in the JAR to do <code>SomeClass.class.getResourceAsStream()</code></p>\n<p>I just don't understand the internals and I must change also the path of the file.</p>\n<p>I have JAR file with file &quot;my-file.txt&quot; in the root of the JAR archive.</p>\n<p>For java 8, this worked</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.class.getResourceAsStream(&quot;/my-file.txt&quot;);\n</code></pre>\n<p>For java 11, I must remove the leading <code>/</code> even when the file is in the root path</p>\n<pre><code>ClassLoader.getSystemResourceAsStream(&quot;my-file.txt&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1672159408,"post_id":74927458,"comment_id":132232678,"body_markdown":"This is a Spring specific solution which is not generally applicable for Java itself.","body":"This is a Spring specific solution which is not generally applicable for Java itself."}],"tags":[],"owner":{"account_id":22029257,"reputation":1,"user_id":16296787,"display_name":"Pascal Mika"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672159069,"creation_date":1672132164,"answer_id":74927458,"question_id":54021754,"body_markdown":"I ran into that same problem. The solution is to use the `ClassPathResource` in Java versions later than 8.\r\n\r\n```java\r\nClassPathResource resource = new ClassPathResource(&quot;/path/to/file.txt&quot;);\r\n```\r\n\r\n- v1 as file:\r\n\r\n```java\r\nURL url = resource.getURL();\r\n```\r\n \r\n- v2 as Stream:\r\n\r\n```java\r\nin = resource.getInputStream();\r\n```\r\n","title":"Why does the getResource() method return null in JDK 11?","body":"<p>I ran into that same problem. The solution is to use the <code>ClassPathResource</code> in Java versions later than 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathResource resource = new ClassPathResource(&quot;/path/to/file.txt&quot;);\n</code></pre>\n<ul>\n<li>v1 as file:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = resource.getURL();\n</code></pre>\n<ul>\n<li>v2 as Stream:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>in = resource.getInputStream();\n</code></pre>\n"}],"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12087,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54022205,"answer_count":3,"score":11,"last_activity_date":1682688254,"creation_date":1546516332,"question_id":54021754,"body_markdown":"Simple Java program:\r\n\r\n    public static String loadText(String file) {\r\n    \tStringBuilder finalString = new StringBuilder();\r\n    \t\t\r\n    \tInputStream in = null;\r\n    \tBufferedReader reader = null;\r\n    \tInputStreamReader isr = null;\r\n    \r\n    \ttry{\r\n    \t\tSystem.out.println(&quot;Text File: &quot; + file);\r\n    \t\t\t\r\n    \t\t// Version 1\r\n    \t\t//URL url = Thread.currentThread().getClass().getResource(file); \r\n    \t\t//in = url.openStream();\r\n\r\n    \t\t// Version 2\r\n    \t\tin = Class.class.getResourceAsStream(file);\r\n\r\n    \t\tisr = new InputStreamReader(in);\r\n    \t\treader = new BufferedReader(isr);\r\n    \t\tString line;\r\n    \t\twhile((line = reader.readLine()) != null) {\r\n    \t\t\tfinalString.append(line).append(&quot;//\\n&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tcatch(IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\tSystem.exit(-1);\r\n    \t}\r\n    \tfinally {\r\n    \t\ttry {\r\n    \t\t\tif (isr != null) { isr.close(); }\r\n    \t\t\tif (reader != null) { reader.close(); }\r\n    \t\t\tif (in != null) { in.close(); }\r\n    \t\t\t} catch (IOException e) { e.printStackTrace(); }\r\n    \t\t}\r\n    \treturn finalString.toString();\r\n    }\r\n\r\n\r\nThe `getResource` and `getResourceAsStream` methods works fine in JDK 8 (java-8-openjdk-amd64) but they always return `null` in JDK 11.\r\n\r\nQuestions: Why? And how can I fix this?\r\n\r\n - Operation System: Linux Mint 19 Tara x64\r\n - IDE: Eclipse 2018-12 (4.10.0)\r\n","title":"Why does the getResource() method return null in JDK 11?","body":"<p>Simple Java program:</p>\n\n<pre><code>public static String loadText(String file) {\n    StringBuilder finalString = new StringBuilder();\n\n    InputStream in = null;\n    BufferedReader reader = null;\n    InputStreamReader isr = null;\n\n    try{\n        System.out.println(\"Text File: \" + file);\n\n        // Version 1\n        //URL url = Thread.currentThread().getClass().getResource(file); \n        //in = url.openStream();\n\n        // Version 2\n        in = Class.class.getResourceAsStream(file);\n\n        isr = new InputStreamReader(in);\n        reader = new BufferedReader(isr);\n        String line;\n        while((line = reader.readLine()) != null) {\n            finalString.append(line).append(\"//\\n\");\n        }\n    }\n    catch(IOException e) {\n        e.printStackTrace();\n        System.exit(-1);\n    }\n    finally {\n        try {\n            if (isr != null) { isr.close(); }\n            if (reader != null) { reader.close(); }\n            if (in != null) { in.close(); }\n            } catch (IOException e) { e.printStackTrace(); }\n        }\n    return finalString.toString();\n}\n</code></pre>\n\n<p>The <code>getResource</code> and <code>getResourceAsStream</code> methods works fine in JDK 8 (java-8-openjdk-amd64) but they always return <code>null</code> in JDK 11.</p>\n\n<p>Questions: Why? And how can I fix this?</p>\n\n<ul>\n<li>Operation System: Linux Mint 19 Tara x64</li>\n<li>IDE: Eclipse 2018-12 (4.10.0)</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","maven","wildfly"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635231395,"post_id":69718194,"comment_id":123233777,"body_markdown":"Is there more to the log?  Can you see which port wildfly is using?  I dont think it is the same 8080","body":"Is there more to the log?  Can you see which port wildfly is using?  I dont think it is the same 8080"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635246406,"post_id":69718194,"comment_id":123239749,"body_markdown":"Is there a good reason why you use SNAPSHOT versions of spring boot instead of releases?","body":"Is there a good reason why you use SNAPSHOT versions of spring boot instead of releases?"},{"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"score":0,"creation_date":1635254848,"post_id":69718194,"comment_id":123243589,"body_markdown":"I&#39;m using this version because is the last one available, nothing special, also on the question i added the log of wildfly","body":"I&#39;m using this version because is the last one available, nothing special, also on the question i added the log of wildfly"},{"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"score":0,"creation_date":1635258299,"post_id":69718194,"comment_id":123245381,"body_markdown":"the port of wildfly is default (8080) also added part of standalone.xml file","body":"the port of wildfly is default (8080) also added part of standalone.xml file"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635324730,"post_id":69718194,"comment_id":123264348,"body_markdown":"The current available version for 2.6.X is [2.6.0-RC1](https://spring.io/blog/2021/10/21/spring-boot-2-6-0-rc1-is-available-now) furthermore there had several milestones before (m1...m3)...which is available from central repository. I would always to recommend to use those instead of SNAPSHOT&#39;s... Furthermore there are releases of 2.5.X line available (2.5.4, 2.5.5).. so I don&#39;t understand the usage of SNAPSHOT..","body":"The current available version for 2.6.X is <a href=\"https://spring.io/blog/2021/10/21/spring-boot-2-6-0-rc1-is-available-now\" rel=\"nofollow noreferrer\">2.6.0-RC1</a> furthermore there had several milestones before (m1...m3)...which is available from central repository. I would always to recommend to use those instead of SNAPSHOT&#39;s... Furthermore there are releases of 2.5.X line available (2.5.4, 2.5.5).. so I don&#39;t understand the usage of SNAPSHOT.."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635334047,"creation_date":1635334047,"answer_id":69737807,"question_id":69718194,"body_markdown":"Could you try the following maven dependency changes:\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- We need to include the javax.servlet API specs, the implementation \r\n             will be provided by Wildfly / JBoss / Tomcat --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    ...\r\n\r\nInstead of\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provide&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot 2.6 App on WildFly 19 - Can&#39;t reach my app","body":"<p>Could you try the following maven dependency changes:</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- We need to include the javax.servlet API specs, the implementation \n         will be provided by Wildfly / JBoss / Tomcat --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n<p>Instead of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provide&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682688203,"creation_date":1635228741,"question_id":69718194,"body_markdown":"I have a Java API Spring Boot application (2.6.0-SNAPSHOT) without any context, also have a FrontEnd written in VueJS on path `/src/main/resources/static`, in my local development environment when i run the project, i can view the FrontEnd app over the url `localhost:8080` and can access to my API project in Spring Boot over the url for example `localhost:8080/security/myEndpoint`, and everything works well.\r\n\r\nNow i need to deploy my project on WildFly 19 application server (wildfly-19.0.0.Final), first i&#39;m using maven to build the war file and then put it into `\\standalone\\deployments\\` path to deploy.\r\n\r\nWhen i&#39;m execute `standalone` file to start the deploy the server do all the process and starts ok, but i&#39;m trying to access to my front app or my API Endpoints and get 404 error.\r\n\r\nWhat is missing on this configuration to get the same functioning that on my development environment?\r\n\r\nMy pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.co.myapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;RED&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;RED&lt;/name&gt;\r\n\t&lt;description&gt;My app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t      &lt;version&gt;1.5.10&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nMain Class\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @PropertySource(value = &quot;file:${spring.config.location}/applicationconfig.properties&quot;)\r\n    @PropertySource(value = &quot;file:${spring.config.location}/propiedades.properties&quot;)\r\n    public class BackRedApplication extends SpringBootServletInitializer {\r\n\t\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(BackRedApplication.class);\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackRedApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n    public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\r\n       return new PropertySourcesPlaceholderConfigurer();\r\n    }\r\n    }\r\n\r\nMy application.properties\r\n\r\n    spring.servlet.multipart.max-file-size=250MB\r\n    spring.servlet.multipart.max-request-size=250MB\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n    #spring.profiles.active=dev\r\n    #spring.profiles.active=test\r\n    #spring.config.location=path_to_my_spring_configuration\r\n    #server.servlet.context-path=/api-red\r\n\r\n    #\r\n    #spring.mvc.static-path-pattern=/uploads/**\r\n    #spring.web.resources.static-locations=file:/opt/files\r\n\r\n\r\nMy applicationconfig.properties (defined on main class)\r\n\r\n    #\r\n    spring.datasource.jdbc-url=jdbc:mysql://mydb.com:3306/MYDB\r\n    spring.datasource.username=user\r\n    spring.datasource.password=password\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    server.port = 8080\r\n\r\n    springdoc.packagesToScan=the_package_to_scan\r\n    #springdoc.pathsToMatch=/v1, /api/balance/**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n    #Generate camelCase columns names in DB as delcared in Entities\r\n    spring.jpa.hibernate.naming.physical- \r\n    strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    #logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nPart of WildFly Log\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n    \r\n    2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\r\n    \r\n    2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\r\n    \r\n    2021-10-26 00:47:21,144 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:21,146 INFO  [org.hibernate.validator.internal.util.Version] (background-preinit) HV000001: Hibernate Validator 6.0.18.Final\r\n    2021-10-26 00:47:21,186 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Starting BackRedApplication using Java 11.0.12 on DAVID-DESKTOP with PID 4500 (started by david in C:\\Users\\david\\Documents\\Emprendimiento\\CLIENTES_EXTERNOS\\UTADEO\\wildfly-19.0.0.Final\\bin)\r\n    2021-10-26 00:47:21,187 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\r\n    2021-10-26 00:47:21,635 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:21,637 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2021-10-26 00:47:21,706 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 62 ms. Found 8 JPA repository interfaces.\r\n    2021-10-26 00:47:21,712 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:21,713 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\r\n    2021-10-26 00:47:21,725 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,728 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 15 ms. Found 0 LDAP repository interfaces.\r\n    2021-10-26 00:47:21,978 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\r\n    2021-10-26 00:47:21,979 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 773 ms\r\n    2021-10-26 00:47:22,145 ERROR [stderr] (ServerService Thread Pool -- 92) Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\n    \r\n    2021-10-26 00:47:22,253 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 92) HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2021-10-26 00:47:22,301 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 92) HHH000412: Hibernate ORM core version 5.6.0.Final\r\n    2021-10-26 00:47:22,424 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 92) HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2021-10-26 00:47:22,493 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Starting...\r\n    2021-10-26 00:47:22,497 WARN  [com.zaxxer.hikari.util.DriverDataSource] (ServerService Thread Pool -- 92) Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.\r\n    2021-10-26 00:47:23,851 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Start completed.\r\n    2021-10-26 00:47:23,862 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 92) HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    2021-10-26 00:47:23,988 INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator] (ServerService Thread Pool -- 92) HHH000490: Using JtaPlatform implementation: [org.springframework.boot.orm.jpa.hibernate.SpringJtaPlatform]\r\n    2021-10-26 00:47:30,064 INFO  [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] (ServerService Thread Pool -- 92) Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-10-26 00:47:30,896 WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration] (ServerService Thread Pool -- 92) spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2021-10-26 00:47:31,104 INFO  [org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping] (ServerService Thread Pool -- 92) Adding welcome page: class path resource [static/index.html]\r\n    2021-10-26 00:47:32,432 INFO  [org.springframework.ldap.core.support.AbstractContextSource] (ServerService Thread Pool -- 92) Property &#39;userDn&#39; not set - anonymous context will be used for read-write operations\r\n    2021-10-26 00:47:32,481 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Using default implementation for ThreadExecutor\r\n    2021-10-26 00:47:32,494 INFO  [org.quartz.core.SchedulerSignalerImpl] (ServerService Thread Pool -- 92) Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n    2021-10-26 00:47:32,495 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Quartz Scheduler v.2.3.2 created.\r\n    2021-10-26 00:47:32,496 INFO  [org.quartz.simpl.RAMJobStore] (ServerService Thread Pool -- 92) RAMJobStore initialized.\r\n    2021-10-26 00:47:32,497 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;quartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n      Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n      NOT STARTED.\r\n      Currently in standby mode.\r\n      Number of jobs executed: 0\r\n      Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n      Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n    \r\n    2021-10-26 00:47:32,497 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler &#39;quartzScheduler&#39; initialized from an externally provided properties instance.\r\n    2021-10-26 00:47:32,498 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler version: 2.3.2\r\n    2021-10-26 00:47:32,498 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@435e5276\r\n    2021-10-26 00:47:32,527 INFO  [org.springframework.scheduling.quartz.SchedulerFactoryBean] (ServerService Thread Pool -- 92) Starting Quartz Scheduler now\r\n    2021-10-26 00:47:32,528 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler quartzScheduler_$_NON_CLUSTERED started.\r\n    2021-10-26 00:47:32,542 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Started BackRedApplication in 11.605 seconds (JVM running for 19.378)\r\n    2021-10-26 00:47:32,545 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Root context already created (using as parent).\r\n    2021-10-26 00:47:32,582 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:32,583 INFO  [stdout] (ServerService Thread Pool -- 92)   .   ____          _            __ _ _\r\n    \r\n    2021-10-26 00:47:32,585 INFO  [stdout] (ServerService Thread Pool -- 92)  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:32,590 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n    \r\n    2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n    \r\n    2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\r\n    \r\n    2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\r\n    \r\n    2021-10-26 00:47:32,593 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:32,596 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\r\n    2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\r\n    2021-10-26 00:47:32,791 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,792 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 16 ms. Found 0 LDAP repository interfaces.\r\n    2021-10-26 00:47:32,823 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\r\n    2021-10-26 00:47:32,823 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 221 ms\r\n    2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter errorPageFilter was not registered (possibly already registered?)\r\n    2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter vueRoutePathFilter was not registered (possibly already registered?)\r\n    2021-10-26 00:47:32,915 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Started ServletInitializer in 0.368 seconds (JVM running for 19.751)\r\n    2021-10-26 00:47:32,957 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 92) Initializing Mojarra 2.3.9.SP06 for context &#39;/api-red&#39;\r\n    2021-10-26 00:47:34,146 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 92) WFLYUT0021: Registered web context: &#39;/api-red&#39; for server &#39;default-server&#39;\r\n    2021-10-26 00:47:34,177 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;RED-0.0.1-SNAPSHOT.war&quot; (runtime-name : &quot;RED-0.0.1-SNAPSHOT.war&quot;)\r\n    2021-10-26 00:47:34,204 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n    2021-10-26 00:47:34,206 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n    2021-10-26 00:47:34,207 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n    2021-10-26 00:47:34,208 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 19.0.0.Final (WildFly Core 11.0.0.Final) started in 20962ms - Started 539 of 768 services (379 services are lazy, passive or on-demand)\r\n\r\n\r\nWildFly standalone.xml\r\n\r\n[![enter image description here][1]][1]\r\n\r\nVueJS App path on Spring Boot Project:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFrontEnd on my Local Development Environment\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBackEnd on my Local Development Environment\r\n\r\n[![enter image description here][4]][4]\r\n\r\nWildFly Environment Execution\r\n\r\n[![enter image description here][5]][5]\r\n\r\nFrontEnd over WildFly Environment Execution\r\n\r\n[![enter image description here][6]][6]\r\n\r\nBackEnd over WildFly Environment Execution\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BnXT3.png\r\n  [2]: https://i.stack.imgur.com/2uEdU.png\r\n  [3]: https://i.stack.imgur.com/aYfIU.png\r\n  [4]: https://i.stack.imgur.com/lfZJV.png\r\n  [5]: https://i.stack.imgur.com/OAvDA.png\r\n  [6]: https://i.stack.imgur.com/Q5Ozc.png\r\n  [7]: https://i.stack.imgur.com/vtM3e.png","title":"Spring Boot 2.6 App on WildFly 19 - Can&#39;t reach my app","body":"<p>I have a Java API Spring Boot application (2.6.0-SNAPSHOT) without any context, also have a FrontEnd written in VueJS on path <code>/src/main/resources/static</code>, in my local development environment when i run the project, i can view the FrontEnd app over the url <code>localhost:8080</code> and can access to my API project in Spring Boot over the url for example <code>localhost:8080/security/myEndpoint</code>, and everything works well.</p>\n<p>Now i need to deploy my project on WildFly 19 application server (wildfly-19.0.0.Final), first i'm using maven to build the war file and then put it into <code>\\standalone\\deployments\\</code> path to deploy.</p>\n<p>When i'm execute <code>standalone</code> file to start the deploy the server do all the process and starts ok, but i'm trying to access to my front app or my API Endpoints and get 404 error.</p>\n<p>What is missing on this configuration to get the same functioning that on my development environment?</p>\n<p>My pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.co.myapp&lt;/groupId&gt;\n&lt;artifactId&gt;RED&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;RED&lt;/name&gt;\n&lt;description&gt;My app&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.5.10&lt;/version&gt;\n   &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>Main Class</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@PropertySource(value = &quot;file:${spring.config.location}/applicationconfig.properties&quot;)\n@PropertySource(value = &quot;file:${spring.config.location}/propiedades.properties&quot;)\npublic class BackRedApplication extends SpringBootServletInitializer {\n\n@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(BackRedApplication.class);\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(BackRedApplication.class, args);\n}\n\n@Bean\npublic static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\n   return new PropertySourcesPlaceholderConfigurer();\n}\n}\n</code></pre>\n<p>My application.properties</p>\n<pre><code>spring.servlet.multipart.max-file-size=250MB\nspring.servlet.multipart.max-request-size=250MB\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n#spring.profiles.active=dev\n#spring.profiles.active=test\n#spring.config.location=path_to_my_spring_configuration\n#server.servlet.context-path=/api-red\n\n#\n#spring.mvc.static-path-pattern=/uploads/**\n#spring.web.resources.static-locations=file:/opt/files\n</code></pre>\n<p>My applicationconfig.properties (defined on main class)</p>\n<pre><code>#\nspring.datasource.jdbc-url=jdbc:mysql://mydb.com:3306/MYDB\nspring.datasource.username=user\nspring.datasource.password=password\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nserver.port = 8080\n\nspringdoc.packagesToScan=the_package_to_scan\n#springdoc.pathsToMatch=/v1, /api/balance/**\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.format_sql=true\n\n#Generate camelCase columns names in DB as delcared in Entities\nspring.jpa.hibernate.naming.physical- \nstrategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nlogging.level.org.hibernate.SQL=DEBUG\n#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>Part of WildFly Log</p>\n<pre><code>2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n\n2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n\n2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)   '  |____| .__|_| |_|_| |_\\__, | / / / /\n\n2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\n\n2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\n\n2021-10-26 00:47:21,144 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:21,146 INFO  [org.hibernate.validator.internal.util.Version] (background-preinit) HV000001: Hibernate Validator 6.0.18.Final\n2021-10-26 00:47:21,186 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Starting BackRedApplication using Java 11.0.12 on DAVID-DESKTOP with PID 4500 (started by david in C:\\Users\\david\\Documents\\Emprendimiento\\CLIENTES_EXTERNOS\\UTADEO\\wildfly-19.0.0.Final\\bin)\n2021-10-26 00:47:21,187 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\n2021-10-26 00:47:21,635 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:21,637 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-10-26 00:47:21,706 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 62 ms. Found 8 JPA repository interfaces.\n2021-10-26 00:47:21,712 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:21,713 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\n2021-10-26 00:47:21,725 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,728 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 15 ms. Found 0 LDAP repository interfaces.\n2021-10-26 00:47:21,978 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\n2021-10-26 00:47:21,979 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 773 ms\n2021-10-26 00:47:22,145 ERROR [stderr] (ServerService Thread Pool -- 92) Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\n\n2021-10-26 00:47:22,253 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 92) HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-10-26 00:47:22,301 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 92) HHH000412: Hibernate ORM core version 5.6.0.Final\n2021-10-26 00:47:22,424 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 92) HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-10-26 00:47:22,493 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Starting...\n2021-10-26 00:47:22,497 WARN  [com.zaxxer.hikari.util.DriverDataSource] (ServerService Thread Pool -- 92) Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.\n2021-10-26 00:47:23,851 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Start completed.\n2021-10-26 00:47:23,862 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 92) HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n2021-10-26 00:47:23,988 INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator] (ServerService Thread Pool -- 92) HHH000490: Using JtaPlatform implementation: [org.springframework.boot.orm.jpa.hibernate.SpringJtaPlatform]\n2021-10-26 00:47:30,064 INFO  [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] (ServerService Thread Pool -- 92) Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-10-26 00:47:30,896 WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration] (ServerService Thread Pool -- 92) spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-10-26 00:47:31,104 INFO  [org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping] (ServerService Thread Pool -- 92) Adding welcome page: class path resource [static/index.html]\n2021-10-26 00:47:32,432 INFO  [org.springframework.ldap.core.support.AbstractContextSource] (ServerService Thread Pool -- 92) Property 'userDn' not set - anonymous context will be used for read-write operations\n2021-10-26 00:47:32,481 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Using default implementation for ThreadExecutor\n2021-10-26 00:47:32,494 INFO  [org.quartz.core.SchedulerSignalerImpl] (ServerService Thread Pool -- 92) Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\n2021-10-26 00:47:32,495 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Quartz Scheduler v.2.3.2 created.\n2021-10-26 00:47:32,496 INFO  [org.quartz.simpl.RAMJobStore] (ServerService Thread Pool -- 92) RAMJobStore initialized.\n2021-10-26 00:47:32,497 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n2021-10-26 00:47:32,497 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.\n2021-10-26 00:47:32,498 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler version: 2.3.2\n2021-10-26 00:47:32,498 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@435e5276\n2021-10-26 00:47:32,527 INFO  [org.springframework.scheduling.quartz.SchedulerFactoryBean] (ServerService Thread Pool -- 92) Starting Quartz Scheduler now\n2021-10-26 00:47:32,528 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler quartzScheduler_$_NON_CLUSTERED started.\n2021-10-26 00:47:32,542 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Started BackRedApplication in 11.605 seconds (JVM running for 19.378)\n2021-10-26 00:47:32,545 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Root context already created (using as parent).\n2021-10-26 00:47:32,582 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:32,583 INFO  [stdout] (ServerService Thread Pool -- 92)   .   ____          _            __ _ _\n\n2021-10-26 00:47:32,585 INFO  [stdout] (ServerService Thread Pool -- 92)  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n\n2021-10-26 00:47:32,590 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n\n2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n\n2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)   '  |____| .__|_| |_|_| |_\\__, | / / / /\n\n2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\n\n2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\n\n2021-10-26 00:47:32,593 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:32,596 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\n2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\n2021-10-26 00:47:32,791 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,792 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 16 ms. Found 0 LDAP repository interfaces.\n2021-10-26 00:47:32,823 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\n2021-10-26 00:47:32,823 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 221 ms\n2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter errorPageFilter was not registered (possibly already registered?)\n2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter vueRoutePathFilter was not registered (possibly already registered?)\n2021-10-26 00:47:32,915 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Started ServletInitializer in 0.368 seconds (JVM running for 19.751)\n2021-10-26 00:47:32,957 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 92) Initializing Mojarra 2.3.9.SP06 for context '/api-red'\n2021-10-26 00:47:34,146 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 92) WFLYUT0021: Registered web context: '/api-red' for server 'default-server'\n2021-10-26 00:47:34,177 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;RED-0.0.1-SNAPSHOT.war&quot; (runtime-name : &quot;RED-0.0.1-SNAPSHOT.war&quot;)\n2021-10-26 00:47:34,204 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n2021-10-26 00:47:34,206 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n2021-10-26 00:47:34,207 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n2021-10-26 00:47:34,208 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 19.0.0.Final (WildFly Core 11.0.0.Final) started in 20962ms - Started 539 of 768 services (379 services are lazy, passive or on-demand)\n</code></pre>\n<p>WildFly standalone.xml</p>\n<p><a href=\"https://i.stack.imgur.com/BnXT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BnXT3.png\" alt=\"enter image description here\" /></a></p>\n<p>VueJS App path on Spring Boot Project:</p>\n<p><a href=\"https://i.stack.imgur.com/2uEdU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uEdU.png\" alt=\"enter image description here\" /></a></p>\n<p>FrontEnd on my Local Development Environment</p>\n<p><a href=\"https://i.stack.imgur.com/aYfIU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aYfIU.png\" alt=\"enter image description here\" /></a></p>\n<p>BackEnd on my Local Development Environment</p>\n<p><a href=\"https://i.stack.imgur.com/lfZJV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfZJV.png\" alt=\"enter image description here\" /></a></p>\n<p>WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/OAvDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OAvDA.png\" alt=\"enter image description here\" /></a></p>\n<p>FrontEnd over WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/Q5Ozc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5Ozc.png\" alt=\"enter image description here\" /></a></p>\n<p>BackEnd over WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/vtM3e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vtM3e.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682630513,"post_id":76124728,"comment_id":134250546,"body_markdown":"This `setBackground(new java.awt.Color(0,0,0,1));` is suspious - Swing doesn&#39;t support alpha based colors, instead, use `Color.BLACK`","body":"This <code>setBackground(new java.awt.Color(0,0,0,1));</code> is suspious - Swing doesn&#39;t support alpha based colors, instead, use <code>Color.BLACK</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682630612,"post_id":76124728,"comment_id":134250560,"body_markdown":"I would also make `setVisible(true);` the last thing you do, in fact, I&#39;d remove it from the constructor and have the caller do it, for example `Login login = new Login(); login.setVisible(true);` as it provides the caller the control","body":"I would also make <code>setVisible(true);</code> the last thing you do, in fact, I&#39;d remove it from the constructor and have the caller do it, for example <code>Login login = new Login(); login.setVisible(true);</code> as it provides the caller the control"},{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682631199,"post_id":76124728,"comment_id":134250654,"body_markdown":"@MadProgrammer if I change this tho `Color.BLACK` the text field background will not be transparent, I want it to be transparent that is the point, and tried to remove those from the constructor and call it from the main method no luck.","body":"@MadProgrammer if I change this tho <code>Color.BLACK</code> the text field background will not be transparent, I want it to be transparent that is the point, and tried to remove those from the constructor and call it from the main method no luck."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1682631500,"post_id":76124728,"comment_id":134250695,"body_markdown":"Not sure why you want the text fields to be be transparent - but you should use `setOpaque` instead, as stated, Swing components can&#39;t handle transparent colors - they are either fully opaque or fully transparent, which is controlled via the opaque property","body":"Not sure why you want the text fields to be be transparent - but you should use <code>setOpaque</code> instead, as stated, Swing components can&#39;t handle transparent colors - they are either fully opaque or fully transparent, which is controlled via the opaque property"},{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682633424,"post_id":76124728,"comment_id":134250949,"body_markdown":"@MadProgrammer transparent background looks cool and more modern, anyway thanks for your suggestion man.","body":"@MadProgrammer transparent background looks cool and more modern, anyway thanks for your suggestion man."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682633863,"post_id":76124728,"comment_id":134251011,"body_markdown":"But you seem to be placing it over a white background, so not really seeing the difference  &#129335;‍♂️ . As a user, I’d prefer to see common over cool, but that’s me","body":"But you seem to be placing it over a white background, so not really seeing the difference  🤷‍♂️ . As a user, I’d prefer to see common over cool, but that’s me"}],"answers":[{"comments":[{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682688055,"post_id":76125267,"comment_id":134259233,"body_markdown":"Thanks for your time and your well-made explanation bro.","body":"Thanks for your time and your well-made explanation bro."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682688134,"creation_date":1682637631,"answer_id":76125267,"question_id":76124728,"body_markdown":"Swing components do not support alpha based colors, a Swing component is either full opaque or fully transparent.\r\n\r\nYou should be using `setOpaque(false)` over `setBackground(new java.awt.Color(0,0,0,1))`\r\n\r\nI would also recommend against extending directly from `JFrame`, it&#39;s locking you into a single use case.  You should also avoid calling `setVisible` in the constructor, this is generally consider a &quot;side effect&quot; and isn&#39;t something you always want do.  Instead, allow the caller to decide when it&#39;s best to do this.\r\n\r\nAs a side note, updating the UI update it&#39;s been made visible will require you to call `revalidate` and `repaint` to ensure that a new layout and paint pass are executed, which is why I suggest not doing it in the constructor.\r\n\r\nAlso, beware, not all look and feels may support setting a text component to transparent (they may choose to ignore it) and getting around this won&#39;t be easy.\r\n\r\nIf you prefer to support translucent backgrounds, then you&#39;re going to need to fake it, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                FancyPancyTextField tf = new FancyPancyTextField();\r\n                tf.setColumns(20);\r\n                tf.setText(&quot;This is some text&quot;);\r\n\r\n                JSlider slider = new JSlider(0, 100, 100);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(tf, gbc);\r\n                add(slider, gbc);\r\n\r\n                slider.addChangeListener(new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        float value = (float)slider.getValue() / 100f;\r\n                        tf.setAlpha(value);\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class FancyPancyTextField extends JTextField {\r\n\r\n            private float alpha = 1;\r\n            private Color desiredBackgroundColor;\r\n\r\n            public FancyPancyTextField() {\r\n                setOpaque(false);\r\n                desiredBackgroundColor = getBackground();\r\n                setBorder(new CompoundBorder(new LineBorder(Color.LIGHT_GRAY), new EmptyBorder(2, 2, 2, 2)));\r\n            }\r\n\r\n            public void setAlpha(float alpha) {\r\n                if (alpha == this.alpha) {\r\n                    return;\r\n                }\r\n                this.alpha = alpha;\r\n                Color background = getBackground();\r\n                desiredBackgroundColor = new Color(\r\n                        background.getRed(), \r\n                        background.getGreen(), \r\n                        background.getBlue(), \r\n                        (int)(255 * alpha)\r\n                );\r\n                repaint();\r\n            }\r\n\r\n            public float getAlpha() {\r\n                return alpha;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(desiredBackgroundColor);\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                super.paintComponent(g);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nNow, please beware, &quot;user acceptance&quot; is a hard thing to achieve.  Users don&#39;t care about what you think is &quot;cool&quot;, they care about how easy your UI is to use.  Spend more time focusing on making your interface intuitive, easy to understand and navigable, users will find that more &quot;cool&quot; then most of what you &quot;visually&quot; consider cool.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i74DI.gif","title":"GUI Artifacts when trying to run a form from main method in Java","body":"<p>Swing components do not support alpha based colors, a Swing component is either full opaque or fully transparent.</p>\n<p>You should be using <code>setOpaque(false)</code> over <code>setBackground(new java.awt.Color(0,0,0,1))</code></p>\n<p>I would also recommend against extending directly from <code>JFrame</code>, it's locking you into a single use case.  You should also avoid calling <code>setVisible</code> in the constructor, this is generally consider a &quot;side effect&quot; and isn't something you always want do.  Instead, allow the caller to decide when it's best to do this.</p>\n<p>As a side note, updating the UI update it's been made visible will require you to call <code>revalidate</code> and <code>repaint</code> to ensure that a new layout and paint pass are executed, which is why I suggest not doing it in the constructor.</p>\n<p>Also, beware, not all look and feels may support setting a text component to transparent (they may choose to ignore it) and getting around this won't be easy.</p>\n<p>If you prefer to support translucent backgrounds, then you're going to need to fake it, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/i74DI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i74DI.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.JTextField;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            FancyPancyTextField tf = new FancyPancyTextField();\n            tf.setColumns(20);\n            tf.setText(&quot;This is some text&quot;);\n\n            JSlider slider = new JSlider(0, 100, 100);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(tf, gbc);\n            add(slider, gbc);\n\n            slider.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    float value = (float)slider.getValue() / 100f;\n                    tf.setAlpha(value);\n                }\n            });\n        }\n\n    }\n\n    public class FancyPancyTextField extends JTextField {\n\n        private float alpha = 1;\n        private Color desiredBackgroundColor;\n\n        public FancyPancyTextField() {\n            setOpaque(false);\n            desiredBackgroundColor = getBackground();\n            setBorder(new CompoundBorder(new LineBorder(Color.LIGHT_GRAY), new EmptyBorder(2, 2, 2, 2)));\n        }\n\n        public void setAlpha(float alpha) {\n            if (alpha == this.alpha) {\n                return;\n            }\n            this.alpha = alpha;\n            Color background = getBackground();\n            desiredBackgroundColor = new Color(\n                    background.getRed(), \n                    background.getGreen(), \n                    background.getBlue(), \n                    (int)(255 * alpha)\n            );\n            repaint();\n        }\n\n        public float getAlpha() {\n            return alpha;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(desiredBackgroundColor);\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            super.paintComponent(g);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Now, please beware, &quot;user acceptance&quot; is a hard thing to achieve.  Users don't care about what you think is &quot;cool&quot;, they care about how easy your UI is to use.  Spend more time focusing on making your interface intuitive, easy to understand and navigable, users will find that more &quot;cool&quot; then most of what you &quot;visually&quot; consider cool.</p>\n"}],"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76125267,"answer_count":1,"score":-1,"last_activity_date":1682688134,"creation_date":1682630122,"question_id":76124728,"body_markdown":"I want to run a form from another package in the default packages main method.\r\n```\r\n// default package\r\npackage com.salesmanagement.system\r\n\r\n// imported package\r\nimport loginForm.*;\r\n\r\n// Main class\r\npublic class SalesManagementSystem {\r\n    public static void main(String[] args) {\r\n    Login login = new Login();\r\n    }\r\n}\r\n\r\n// the other package\r\npackage LoginForm;\r\nimport com.salesmanagement.system\r\n\r\npublic class Login extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form loginForm\r\n     */\r\n    public Login() {\r\n        initComponents();\r\n        setVisible(true);\r\n        setLocationRelativeTo(null);\r\n        emailtxt.setBackground(new java.awt.Color(0,0,0,1));\r\n        passwordtxt.setBackground(new java.awt.Color(0,0,0,1));\r\n    }\r\n}\r\n\r\n```\r\n\r\nwhen I run the form from the default package main method I will have UI artifacts:\r\n[running the code from the main method of default package](https://i.stack.imgur.com/Fnp7Y.png)\r\n\r\nwhen I set the `loginForum` package as the main class it doesn&#39;t have any problem:\r\n[running the code from package&#39;s main method](https://i.stack.imgur.com/vkLH9.png)\r\n\r\nany idea?\r\n\r\nthanks.","title":"GUI Artifacts when trying to run a form from main method in Java","body":"<p>I want to run a form from another package in the default packages main method.</p>\n<pre><code>// default package\npackage com.salesmanagement.system\n\n// imported package\nimport loginForm.*;\n\n// Main class\npublic class SalesManagementSystem {\n    public static void main(String[] args) {\n    Login login = new Login();\n    }\n}\n\n// the other package\npackage LoginForm;\nimport com.salesmanagement.system\n\npublic class Login extends javax.swing.JFrame {\n\n    /**\n     * Creates new form loginForm\n     */\n    public Login() {\n        initComponents();\n        setVisible(true);\n        setLocationRelativeTo(null);\n        emailtxt.setBackground(new java.awt.Color(0,0,0,1));\n        passwordtxt.setBackground(new java.awt.Color(0,0,0,1));\n    }\n}\n\n</code></pre>\n<p>when I run the form from the default package main method I will have UI artifacts:\n<a href=\"https://i.stack.imgur.com/Fnp7Y.png\" rel=\"nofollow noreferrer\">running the code from the main method of default package</a></p>\n<p>when I set the <code>loginForum</code> package as the main class it doesn't have any problem:\n<a href=\"https://i.stack.imgur.com/vkLH9.png\" rel=\"nofollow noreferrer\">running the code from package's main method</a></p>\n<p>any idea?</p>\n<p>thanks.</p>\n"},{"tags":["java","arrays","string","netbeans","jframe"],"comments":[{"owner":{"account_id":28443234,"reputation":9,"user_id":21762311,"display_name":"brithy carvajal"},"score":0,"creation_date":1682670503,"post_id":76127677,"comment_id":134255448,"body_markdown":"Well, I just noticed that I can&#39;t leave the code later","body":"Well, I just noticed that I can&#39;t leave the code later"}],"owner":{"account_id":28443234,"reputation":9,"user_id":21762311,"display_name":"brithy carvajal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682688115,"creation_date":1682670416,"question_id":76127677,"body_markdown":"I&#39;m developing an object-oriented Netbeans application. \r\n\r\nMy J Internal Frame is giving a problem that says: \r\n\r\n&gt; class `java.util.ArrayList` cannot be cast to class `model.servicecls` (`java.util.ArrayList` is in module `java.base` of loader &#39;bootstrap&#39;; `model.servicecls` is in unnamed module of loader &#39;app&#39;)&quot; \r\n\r\nI&#39;m just trying to log and save information to a Jtable but doing so doesn&#39;t save or project anything to that Jtable. \r\n\r\nIn other Form it does work, so I have the assumption that it is because of the combo box but I can&#39;t solve it. I will leave my jframe code and its respective save class to which it is linked.\r\n\r\n","title":"java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; model.servicecls is in unnamed module of loader &#39;app&#39;","body":"<p>I'm developing an object-oriented Netbeans application.</p>\n<p>My J Internal Frame is giving a problem that says:</p>\n<blockquote>\n<p>class <code>java.util.ArrayList</code> cannot be cast to class <code>model.servicecls</code> (<code>java.util.ArrayList</code> is in module <code>java.base</code> of loader 'bootstrap'; <code>model.servicecls</code> is in unnamed module of loader 'app')&quot;</p>\n</blockquote>\n<p>I'm just trying to log and save information to a Jtable but doing so doesn't save or project anything to that Jtable.</p>\n<p>In other Form it does work, so I have the assumption that it is because of the combo box but I can't solve it. I will leave my jframe code and its respective save class to which it is linked.</p>\n"},{"tags":["java","maven","dependencies","jlink"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682690582,"post_id":76129911,"comment_id":134259871,"body_markdown":"You might want to consider using the [java.net.http](https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/package-summary.html) package instead of Apache httpcore.","body":"You might want to consider using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/package-summary.html\" rel=\"nofollow noreferrer\">java.net.http</a> package instead of Apache httpcore."}],"owner":{"account_id":13705919,"reputation":23,"user_id":9889547,"display_name":"void"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682687381,"creation_date":1682687381,"question_id":76129911,"body_markdown":"I&#39;m trying to use jlink to create a custom JRE for my Maven project using the following command:\r\n\r\n```\r\nmvn clean javafx:jlink\r\n```\r\nHowever, I&#39;m getting the following error:\r\n```\r\nError: automatic module cannot be used with jlink: org.apache.httpcomponents.httpcore from file:///C:/Users/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\r\n```\r\nI have already tried adding the following to my pom.xml file, but it didn&#39;t help:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;automaticModuleName&gt;true&lt;/automaticModuleName&gt;\r\n&lt;/configuration&gt;\r\n```\r\nMy pom file looks like this:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.project&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;com.project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Project&lt;/name&gt;\r\n\t&lt;description&gt;project&lt;/description&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0-alpha.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-alpha.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.dom4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.project.gui.Main&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-httpcore&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;version&gt;4.4.13&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/jlinkbase/lib&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nthis is my module-info.java:\r\n```\r\nmodule project {\r\n\trequires transitive java.desktop;\r\n\trequires javafx.base;\r\n\trequires javafx.controls;\r\n\trequires javafx.fxml;\r\n\trequires transitive javafx.graphics;\r\n\trequires javafx.swing;\r\n\trequires okhttp3;\r\n\trequires okio;\r\n\trequires com.fasterxml.jackson.databind;\r\n\trequires org.apache.httpcomponents.httpcore;\r\n\trequires org.apache.httpcomponents.httpclient;\r\n\trequires java.base;\r\n\trequires org.apache.httpcomponents.httpmime;\r\n\trequires org.apache.commons.codec;\r\n\trequires java.xml;\r\n\trequires java.net.http;\r\n\t\r\n\topens com.project.gui;\r\n\topens com.project.gui.controllers;\r\n\topens com.project.utils;\r\n\topens com.project.logic;\r\n\topens com.project.pojos;\r\n\topens com.project.pojos.actions;\r\n}\r\n```\r\nHow can I resolve this issue and successfully create a custom JRE for my Maven project using jlink?","title":"Error using jlink with automatic module in Maven project","body":"<p>I'm trying to use jlink to create a custom JRE for my Maven project using the following command:</p>\n<pre><code>mvn clean javafx:jlink\n</code></pre>\n<p>However, I'm getting the following error:</p>\n<pre><code>Error: automatic module cannot be used with jlink: org.apache.httpcomponents.httpcore from file:///C:/Users/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\n</code></pre>\n<p>I have already tried adding the following to my pom.xml file, but it didn't help:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;automaticModuleName&gt;true&lt;/automaticModuleName&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My pom file looks like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;com.project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Project&lt;/name&gt;\n    &lt;description&gt;project&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-alpha.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n            &lt;artifactId&gt;okio&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-alpha.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.project.gui.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-httpcore&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                                    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n                                    &lt;version&gt;4.4.13&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/jlinkbase/lib&lt;/outputDirectory&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is my module-info.java:</p>\n<pre><code>module project {\n    requires transitive java.desktop;\n    requires javafx.base;\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires transitive javafx.graphics;\n    requires javafx.swing;\n    requires okhttp3;\n    requires okio;\n    requires com.fasterxml.jackson.databind;\n    requires org.apache.httpcomponents.httpcore;\n    requires org.apache.httpcomponents.httpclient;\n    requires java.base;\n    requires org.apache.httpcomponents.httpmime;\n    requires org.apache.commons.codec;\n    requires java.xml;\n    requires java.net.http;\n    \n    opens com.project.gui;\n    opens com.project.gui.controllers;\n    opens com.project.utils;\n    opens com.project.logic;\n    opens com.project.pojos;\n    opens com.project.pojos.actions;\n}\n</code></pre>\n<p>How can I resolve this issue and successfully create a custom JRE for my Maven project using jlink?</p>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"score":0,"creation_date":1682662508,"post_id":76126709,"comment_id":134253816,"body_markdown":"Seems reasonable approach as you know the use-case.","body":"Seems reasonable approach as you know the use-case."},{"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"score":1,"creation_date":1682662785,"post_id":76126709,"comment_id":134253874,"body_markdown":"Suggestion: You can use concurrent hashmap for multi-threaded environment.","body":"Suggestion: You can use concurrent hashmap for multi-threaded environment."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1682665183,"post_id":76126709,"comment_id":134254357,"body_markdown":"@doptimusprime: It&#39;s absolutely *not* a reasonable approach, given that `LinkedHashMap` isn&#39;t thread-safe.","body":"@doptimusprime: It&#39;s absolutely <i>not</i> a reasonable approach, given that <code>LinkedHashMap</code> isn&#39;t thread-safe."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1682665623,"post_id":76126709,"comment_id":134254449,"body_markdown":"i think there was some library that offered a concurrentlinkedhashmap you can check it out and see if it fits your needs https://cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/concurrentlinkedhashmap/ConcurrentLinkedHashMap.html","body":"i think there was some library that offered a concurrentlinkedhashmap you can check it out and see if it fits your needs <a href=\"https://cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/concurrentlinkedhashmap/ConcurrentLinkedHashMap.html\" rel=\"nofollow noreferrer\">cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1682664369,"post_id":76126748,"comment_id":134254176,"body_markdown":"Suppressing the warning and exposing a reference to a shared instance of a mutable object is dangerous, because it separates the information that locking is required (and which lock needs to be held) from the thing that needs to be protected before use. Every caller needs to know that all uses need to be wrapped in synchronized blocks, and they need a reference to the monitor object/lock as well as a reference to the map. This is tricky to get right, even if it is documented precisely.","body":"Suppressing the warning and exposing a reference to a shared instance of a mutable object is dangerous, because it separates the information that locking is required (and which lock needs to be held) from the thing that needs to be protected before use. Every caller needs to know that all uses need to be wrapped in synchronized blocks, and they need a reference to the monitor object/lock as well as a reference to the map. This is tricky to get right, even if it is documented precisely."}],"tags":[],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682686862,"creation_date":1682662676,"answer_id":76126748,"question_id":76126709,"body_markdown":"IMHO you can suppress the warning.\r\n\r\nAlternatively, you can do the following:\r\n\r\nInstead of providing `getter` to this instance, you can provide public methods like `get` or `add` which will use this `Map`. It means, threads will not have direct access to your hashmap, but only through the method. In this way, you need not to suppress the warning.","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>IMHO you can suppress the warning.</p>\n<p>Alternatively, you can do the following:</p>\n<p>Instead of providing <code>getter</code> to this instance, you can provide public methods like <code>get</code> or <code>add</code> which will use this <code>Map</code>. It means, threads will not have direct access to your hashmap, but only through the method. In this way, you need not to suppress the warning.</p>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1682664058,"post_id":76126806,"comment_id":134254096,"body_markdown":"Better add the synchronistation to the example instead of mentioning that it needs to be added - with `LinkedHashMap` (or other non-concurrent Maps), &quot;may need&quot; can be replaced with &quot;needs&quot; ;)","body":"Better add the synchronistation to the example instead of mentioning that it needs to be added - with <code>LinkedHashMap</code> (or other non-concurrent Maps), &quot;may need&quot; can be replaced with &quot;needs&quot; ;)"}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682686788,"creation_date":1682663371,"answer_id":76126806,"question_id":76126709,"body_markdown":"The whole approach is faulty!\r\n\r\nYou synchronised the creation of the map, but then your getter returns it to the wild, where the access to it is not forced to be synchronised – knowing that it is used by different threads!! Bad idea!\r\n\r\nYou need to omit the getter and setter; instead you create the map in the constructor and provide methods that modify it – this way you have always full control about the manipulation of the map.\r\n\r\nIf you need the contents of the map somewhere, you write a &#39;getter&#39; like this:\r\n```Java\r\npublic final Map&lt;Long,String&gt; obtainMapContents()\r\n{\r\n  return new LinkedHashMap&lt;&gt;( myMap );\r\n\r\n  // Or if you do not need the semantics of LinkedHashMap:\r\n  // return Map.copyOf( myMap );\r\n}\r\n```\r\nOf course, this may need synchronisation, too. So if you always use the instance as monitor (`this`), you *can* write\r\n```Java\r\npublic synchronized final Map&lt;Long,String&gt; obtainMapContents()\r\n{\r\n  return new LinkedHashMap&lt;&gt;( myMap );\r\n\r\n  // Or if you do not need the semantics of LinkedHashMap:\r\n  // return Map.copyOf( myMap );\r\n}\r\n```\r\nbut this has other drawbacks.\r\n\r\nThe most sophisticated solution would use `ReentrantReadWriteLock` instances and looks like this:\r\n```Java\r\npublic final class MyClassWithAMap\r\n{\r\n  private final Map&lt;Long,String&gt; m_Map = new LinkedHashMap&lt;&gt;();\r\n  private final ReadLock m_ReadLock;\r\n  private final WriteLock m_WriteLock;\r\n\r\n  public MyClassWithAMap()\r\n  {\r\n    final var lock = new ReentrantReadWriteLock();\r\n    m_ReadLock = lock.readLock();\r\n    m_WriteLock = lock.writeLock();\r\n  }\r\n\r\n  public final void addEntry( final Long long, final String string )\r\n  {\r\n    m_WriteLock.lock();\r\n    try\r\n    {\r\n      m_Map.put( long, string );\r\n      m_WriteLock.unlock();\r\n    }\r\n  }\r\n\r\n  public final String getEntry( final Long long )\r\n  {\r\n    String retValue = null;\r\n    m_ReadLock.lock();\r\n    try\r\n    {\r\n      retValue = m_Map.get( long );\r\n      m_ReadLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n\r\n  public final Map&lt;Long,String&gt; getEntries()\r\n  {\r\n    final Map&lt;Long,String&gt; retValue;\r\n    m_ReadLock.lock();\r\n    try\r\n    {\r\n      retValue = new LinkedHashMap&lt;&gt;( m_Map );\r\n      m_ReadLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n\r\n  public final String removeEntry( final Long long )\r\n  {\r\n    String retValue = null;\r\n    m_WriteLock.lock();\r\n    try\r\n    {\r\n      retValue = m_Map.delete( long );\r\n      m_WriteLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n}\r\n```\r\nbut it also might be overkill for your use case.","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>The whole approach is faulty!</p>\n<p>You synchronised the creation of the map, but then your getter returns it to the wild, where the access to it is not forced to be synchronised – knowing that it is used by different threads!! Bad idea!</p>\n<p>You need to omit the getter and setter; instead you create the map in the constructor and provide methods that modify it – this way you have always full control about the manipulation of the map.</p>\n<p>If you need the contents of the map somewhere, you write a 'getter' like this:</p>\n<pre><code>public final Map&lt;Long,String&gt; obtainMapContents()\n{\n  return new LinkedHashMap&lt;&gt;( myMap );\n\n  // Or if you do not need the semantics of LinkedHashMap:\n  // return Map.copyOf( myMap );\n}\n</code></pre>\n<p>Of course, this may need synchronisation, too. So if you always use the instance as monitor (<code>this</code>), you <em>can</em> write</p>\n<pre><code>public synchronized final Map&lt;Long,String&gt; obtainMapContents()\n{\n  return new LinkedHashMap&lt;&gt;( myMap );\n\n  // Or if you do not need the semantics of LinkedHashMap:\n  // return Map.copyOf( myMap );\n}\n</code></pre>\n<p>but this has other drawbacks.</p>\n<p>The most sophisticated solution would use <code>ReentrantReadWriteLock</code> instances and looks like this:</p>\n<pre><code>public final class MyClassWithAMap\n{\n  private final Map&lt;Long,String&gt; m_Map = new LinkedHashMap&lt;&gt;();\n  private final ReadLock m_ReadLock;\n  private final WriteLock m_WriteLock;\n\n  public MyClassWithAMap()\n  {\n    final var lock = new ReentrantReadWriteLock();\n    m_ReadLock = lock.readLock();\n    m_WriteLock = lock.writeLock();\n  }\n\n  public final void addEntry( final Long long, final String string )\n  {\n    m_WriteLock.lock();\n    try\n    {\n      m_Map.put( long, string );\n      m_WriteLock.unlock();\n    }\n  }\n\n  public final String getEntry( final Long long )\n  {\n    String retValue = null;\n    m_ReadLock.lock();\n    try\n    {\n      retValue = m_Map.get( long );\n      m_ReadLock.unlock();\n    }\n    return retValue;\n  }\n\n  public final Map&lt;Long,String&gt; getEntries()\n  {\n    final Map&lt;Long,String&gt; retValue;\n    m_ReadLock.lock();\n    try\n    {\n      retValue = new LinkedHashMap&lt;&gt;( m_Map );\n      m_ReadLock.unlock();\n    }\n    return retValue;\n  }\n\n  public final String removeEntry( final Long long )\n  {\n    String retValue = null;\n    m_WriteLock.lock();\n    try\n    {\n      retValue = m_Map.delete( long );\n      m_WriteLock.unlock();\n    }\n    return retValue;\n  }\n}\n</code></pre>\n<p>but it also might be overkill for your use case.</p>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1682669286,"post_id":76127448,"comment_id":134255198,"body_markdown":"returning a wrapper is another possibility, yes - but the wrapper needs to provide the synchronization. But I have no idea what your example is about - how do you suggest to use this?","body":"returning a wrapper is another possibility, yes - but the wrapper needs to provide the synchronization. But I have no idea what your example is about - how do you suggest to use this?"}],"tags":[],"owner":{"account_id":2557352,"reputation":361,"user_id":2219041,"display_name":"Abhinaba Basu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682668848,"creation_date":1682668848,"answer_id":76127448,"question_id":76126709,"body_markdown":"You can use a wrapper over the map instead of returning the map directly. This way you wont expose the map. \r\n\r\n    Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\r\n    \r\n    public String get(String key){\r\n    \treturn test.get(key);\r\n    }\r\n(just a example test code w/o null or any other checks)","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>You can use a wrapper over the map instead of returning the map directly. This way you wont expose the map.</p>\n<pre><code>Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\n\npublic String get(String key){\n    return test.get(key);\n}\n</code></pre>\n<p>(just a example test code w/o null or any other checks)</p>\n"}],"owner":{"account_id":28442148,"reputation":21,"user_id":21761363,"display_name":"neha chawla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1682686862,"creation_date":1682662276,"question_id":76126709,"body_markdown":"I need to initialize a single instance of `LinkedHashMap` while starting my `SpringBoot` application .I tried to initialize the same in the following way\r\n\r\n```\r\n@Getter\r\n private Map&lt;Long, String&gt; myMap;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) {\r\n            synchronized (this) {\r\n                if (null == myMap) {\r\n                    myMap = new LinkedHashMap&lt;&gt;();\r\n                }\r\n            }\r\n\r\n    }\r\n```\r\n My static code analysis tool ` spotbugs` reported the following  \r\n`EI: May expose internal representation by returning reference to mutable object`\r\n\r\n\r\n\r\nI cannot return the copy of `LinkedHashMap` since it needs to be shared among all the threads. So I decided to supress warning . Is this approach correct or is there any other efficient way?","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>I need to initialize a single instance of <code>LinkedHashMap</code> while starting my <code>SpringBoot</code> application .I tried to initialize the same in the following way</p>\n<pre><code>@Getter\n private Map&lt;Long, String&gt; myMap;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n            synchronized (this) {\n                if (null == myMap) {\n                    myMap = new LinkedHashMap&lt;&gt;();\n                }\n            }\n\n    }\n</code></pre>\n<p>My static code analysis tool <code> spotbugs</code> reported the following<br />\n<code>EI: May expose internal representation by returning reference to mutable object</code></p>\n<p>I cannot return the copy of <code>LinkedHashMap</code> since it needs to be shared among all the threads. So I decided to supress warning . Is this approach correct or is there any other efficient way?</p>\n"},{"tags":["java","spring-boot","jpa","junit","h2"],"owner":{"account_id":15062579,"reputation":396,"user_id":10870798,"display_name":"kinnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682686652,"creation_date":1682671967,"question_id":76127866,"body_markdown":"I&#39;m trying to write `JUnit` using embedded `h2` in memory `db`. We are using `MS SQL` for live connection.\r\n\r\nBelow are the files.\r\n\r\n*application.properties*:\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.user=sa\r\n    spring.datasource.password=\r\n    spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=true;MODE=MySQL\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n*test class*:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {SqlServerConfig.class },loader = AnnotationConfigContextLoader.class)\r\n    @Transactional\r\n    @AutoConfigureTestDatabase\r\n    @Rollback\r\n    public class JPACriteriaQueryTest {\r\n    \r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        private Category category;\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void givenFirstAndLastName_whenGettingListOfUsers_thenCorrect() {\r\n            Category category=new Category();\r\n            category.id(&quot;10&quot;);\r\n            category.setDeptId(&quot;21031&quot;);\r\n            category.repType(&quot;7&quot;);\r\n            category.save(category);\r\n    \r\n    }}\r\n\r\n\r\nsave method over here is throwing exception \r\n\r\n\r\n    org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n    \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:327)\r\n    \tat org.hibernate.loader.Loader.loadEntity(Loader.java:2440)\r\n            \r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CATEGORY&quot; not found (this database is empty); SQL statement:\r\n\r\nI have checked my entity and there is no usage of any reserved `SQL` keyword.\r\n\r\nCan anyone, please, help on this.","title":"Spring Boot H2 db for testing throws &quot;Table not found(this database is empty)&quot; and &quot;SQLGrammarException&quot;","body":"<p>I'm trying to write <code>JUnit</code> using embedded <code>h2</code> in memory <code>db</code>. We are using <code>MS SQL</code> for live connection.</p>\n<p>Below are the files.</p>\n<p><em>application.properties</em>:</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.user=sa\nspring.datasource.password=\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=true;MODE=MySQL\nspring.h2.console.enabled=true\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p><em>test class</em>:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {SqlServerConfig.class },loader = AnnotationConfigContextLoader.class)\n@Transactional\n@AutoConfigureTestDatabase\n@Rollback\npublic class JPACriteriaQueryTest {\n\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    private Category category;\n\n\n\n    @Test\n    public void givenFirstAndLastName_whenGettingListOfUsers_thenCorrect() {\n        Category category=new Category();\n        category.id(&quot;10&quot;);\n        category.setDeptId(&quot;21031&quot;);\n        category.repType(&quot;7&quot;);\n        category.save(category);\n\n}}\n</code></pre>\n<p>save method over here is throwing exception</p>\n<pre><code>org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:327)\n    at org.hibernate.loader.Loader.loadEntity(Loader.java:2440)\n        \nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CATEGORY&quot; not found (this database is empty); SQL statement:\n</code></pre>\n<p>I have checked my entity and there is no usage of any reserved <code>SQL</code> keyword.</p>\n<p>Can anyone, please, help on this.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1682081562,"post_id":76073296,"comment_id":134163765,"body_markdown":"You want to create multiple schools? Grouped by students? So ... `.groupBy`?","body":"You want to create multiple schools? Grouped by students? So ... <code>.groupBy</code>?"},{"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"score":0,"creation_date":1682081624,"post_id":76073296,"comment_id":134163778,"body_markdown":"I want to create just one school object finally","body":"I want to create just one school object finally"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682083960,"post_id":76073296,"comment_id":134164356,"body_markdown":"Just an aside: I think code readability is more important/useful than avoiding that `forEach`.","body":"Just an aside: I think code readability is more important/useful than avoiding that <code>forEach</code>."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1682084800,"post_id":76073296,"comment_id":134164563,"body_markdown":"I think what you want is a collect, not a reduce.","body":"I think what you want is a collect, not a reduce."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1682085070,"post_id":76073296,"comment_id":134164647,"body_markdown":"Create the filtered list and then do `MySchool.getStudents().addAll(theFilteredList);` What am I missing?","body":"Create the filtered list and then do <code>MySchool.getStudents().addAll(theFilteredList);</code> What am I missing?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1682086567,"post_id":76073296,"comment_id":134165038,"body_markdown":"Not exactly related, but keeping count in instance variable `studentCount` is unnecessary complication. You can always get the count using `this.students.size()`.","body":"Not exactly related, but keeping count in instance variable <code>studentCount</code> is unnecessary complication. You can always get the count using <code>this.students.size()</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1682332741,"post_id":76073296,"comment_id":134193054,"body_markdown":"@Chaosfire indeed and even if the OP insists on maintaing the redundant counter, the `addStudent` method should take care to increment the counter, instead of relying on the caller to always perform matching `addStudent` and `addStudentCount` calls.","body":"@Chaosfire indeed and even if the OP insists on maintaing the redundant counter, the <code>addStudent</code> method should take care to increment the counter, instead of relying on the caller to always perform matching <code>addStudent</code> and <code>addStudentCount</code> calls."}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682085572,"creation_date":1682085572,"answer_id":76073907,"question_id":76073296,"body_markdown":"**DISCLAIMER**: I&#39;d not use this method in production code. I&#39;d favor readability and maintainability over anything else. Use with caution.\r\n\r\nI&#39;d also look at the design of the MySchool class to make it more flexible for example. It can for example accept a `Stream` or a `List` in its constructor.\r\n\r\n---\r\n\r\n\r\nYou can use a `Collector` for this. It only creates an intermediary `List`.\r\n\r\n```java\r\npublic static class MySchoolCollector implements Collector&lt;Student, List&lt;Student&gt;, MySchool&gt; {\r\n\r\n    private static final MySchoolCollector INSTANCE = new MySchoolCollector();\r\n\r\n    @Override\r\n    public Supplier&lt;List&lt;Student&gt;&gt; supplier() {\r\n        return ArrayList::new;\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;List&lt;Student&gt;, Student&gt; accumulator() {\r\n        return List::add;\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;List&lt;Student&gt;&gt; combiner() {\r\n        return (l1, l2) -&gt; {\r\n            l1.addAll(l2);\r\n            return l1;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;List&lt;Student&gt;, MySchool&gt; finisher() {\r\n        return studentsList -&gt; {\r\n            MySchool mySchool = new MySchool();\r\n            studentsList.forEach(mySchool::addStudent);\r\n            studentsList.forEach(student -&gt; mySchool.addStudentCount());\r\n            return mySchool;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Set.of(UNORDERED);\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhich you can use like this\r\n\r\n```\r\nMySchool school = students.stream()\r\n        .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n        .collect(MySchoolCollector.INSTANCE);\r\n\r\nSystem.out.println(school);\r\n```","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p><strong>DISCLAIMER</strong>: I'd not use this method in production code. I'd favor readability and maintainability over anything else. Use with caution.</p>\n<p>I'd also look at the design of the MySchool class to make it more flexible for example. It can for example accept a <code>Stream</code> or a <code>List</code> in its constructor.</p>\n<hr />\n<p>You can use a <code>Collector</code> for this. It only creates an intermediary <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class MySchoolCollector implements Collector&lt;Student, List&lt;Student&gt;, MySchool&gt; {\n\n    private static final MySchoolCollector INSTANCE = new MySchoolCollector();\n\n    @Override\n    public Supplier&lt;List&lt;Student&gt;&gt; supplier() {\n        return ArrayList::new;\n    }\n\n    @Override\n    public BiConsumer&lt;List&lt;Student&gt;, Student&gt; accumulator() {\n        return List::add;\n    }\n\n    @Override\n    public BinaryOperator&lt;List&lt;Student&gt;&gt; combiner() {\n        return (l1, l2) -&gt; {\n            l1.addAll(l2);\n            return l1;\n        };\n    }\n\n    @Override\n    public Function&lt;List&lt;Student&gt;, MySchool&gt; finisher() {\n        return studentsList -&gt; {\n            MySchool mySchool = new MySchool();\n            studentsList.forEach(mySchool::addStudent);\n            studentsList.forEach(student -&gt; mySchool.addStudentCount());\n            return mySchool;\n        };\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Set.of(UNORDERED);\n    }\n}\n</code></pre>\n<p>Which you can use like this</p>\n<pre><code>MySchool school = students.stream()\n        .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n        .collect(MySchoolCollector.INSTANCE);\n\nSystem.out.println(school);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682686548,"creation_date":1682686548,"answer_id":76129802,"question_id":76073296,"body_markdown":"I was able to achieve this by using [`Collectors.teeing()`][1] API\r\n\r\n```java\r\nMySchool mySchool = allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .collect(\r\n                        Collectors.teeing(\r\n                                Collectors.toList(),\r\n                                Collectors.counting(),\r\n                                mySchool()\r\n                        ));\r\n```\r\n\r\nAnd this is my Merger Bi-Function\r\n\r\n```java\r\nprivate BiFunction&lt;List&lt;Student&gt;, Long, MySchool&gt; mySchool() {\r\n\r\n        return (students, count) -&gt; {\r\n            var mySchool = new MySchool();\r\n            mySchool.addAllStudents(students);\r\n            mySchool.addStudentCount(count.intValue());\r\n            return mySchool;\r\n        };\r\n    }\r\n```\r\n\r\nTeeing is where I get two inputs and giving a merger function will merge and give back the desired result.\r\n\r\nAbsolutely excellent !!\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p>I was able to achieve this by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing()</code></a> API</p>\n<pre class=\"lang-java prettyprint-override\"><code>MySchool mySchool = allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .collect(\n                        Collectors.teeing(\n                                Collectors.toList(),\n                                Collectors.counting(),\n                                mySchool()\n                        ));\n</code></pre>\n<p>And this is my Merger Bi-Function</p>\n<pre class=\"lang-java prettyprint-override\"><code>private BiFunction&lt;List&lt;Student&gt;, Long, MySchool&gt; mySchool() {\n\n        return (students, count) -&gt; {\n            var mySchool = new MySchool();\n            mySchool.addAllStudents(students);\n            mySchool.addStudentCount(count.intValue());\n            return mySchool;\n        };\n    }\n</code></pre>\n<p>Teeing is where I get two inputs and giving a merger function will merge and give back the desired result.</p>\n<p>Absolutely excellent !!</p>\n"}],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76129802,"answer_count":2,"score":1,"last_activity_date":1682686548,"creation_date":1682081083,"question_id":76073296,"body_markdown":"I want to create an aggregate object after streaming a collection of incoming object. But what I want is to not create a reference outside the stream and mutate that object &quot;explicitly&quot;. \r\n\r\nLet&#39;s take this scenario. I get a list of students. I want to stream the list and collect only certain elements and form a aggregate object named `MySchool`\r\n\r\n```java\r\npublic record Student(String name, String section, String schoolName) {\r\n}\r\n\r\nList&lt;Student&gt; students =\r\n\r\n                List.of(\r\n                        new Student(&quot;John&quot;, &quot;2&quot;, &quot;Holy school&quot;),\r\n                        new Student(&quot;Raghav&quot;, &quot;8&quot;, &quot;California school&quot;),\r\n                        new Student(&quot;Prem&quot;, &quot;5&quot;, &quot;Holy school&quot;),\r\n                        new Student(&quot;Peter&quot;, &quot;7&quot;, &quot;California school&quot;),\r\n                        new Student(&quot;Akbar&quot;, &quot;9&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Ashok&quot;, &quot;6&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Arun&quot;, &quot;4&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Ram&quot;, &quot;2&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;James&quot;, &quot;2&quot;, &quot;California school&quot;)\r\n                );\r\n\r\npublic class MySchool {\r\n\r\n    private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\r\n\r\n    private int studentCount = 0;\r\n\r\n    public MySchool addStudent(Student student) {\r\n        this.students.add(student);\r\n        return this;\r\n    }\r\n\r\n    public List&lt;Student&gt; getStudents () {\r\n        return this.students;\r\n    }\r\n\r\n    public void addStudentCount() {\r\n        this.studentCount++;\r\n    }\r\n\r\n    public int getStudentCount() {\r\n        return this.studentCount;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n**I don&#39;t want to do like below, where I mutate an external reference**\r\n\r\n```java\r\npublic void getMySchoolData(List&lt;Student&gt; allStudents) {\r\n\r\n        MySchool mySchool = new MySchool();\r\n\r\n        allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .forEach(student -&gt; {\r\n                    mySchool.addStudent(student);\r\n                    mySchool.addStudentCount();\r\n                });\r\n\r\n\r\n        System.out.println(mySchool);\r\n```\r\n\r\nTo avoid doing like above, I used `reduce()` method of streams, but I ended up creating lot of `MySchool` objects\r\n\r\n```java\r\npublic void getMySchoolData1(List&lt;Student&gt; allStudents) {\r\n        Optional&lt;MySchool&gt; mySchool = allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .map(this::addStudentsToSchool)\r\n                .reduce((mySchool1, mySchool2) -&gt; {\r\n                    mySchool1.combineMySchool(mySchool2);\r\n                    return mySchool1;\r\n                });\r\n\r\n        var sss = mySchool.get();\r\n\r\n        System.out.println(sss);\r\n\r\n    }\r\n\r\n\r\nprivate MySchool addStudentsToSchool(Student student) {\r\n\r\n        var mySchool = new MySchool();\r\n        mySchool.addStudent(student);\r\n        mySchool.addStudentCount();\r\n\r\n        return mySchool;\r\n    }\r\n\r\n// added this method to MySchool class\r\n\r\npublic void combineMySchool (MySchool otherSchoolObject) {\r\n        this.studentCount+= otherSchoolObject.getStudentCount();\r\n        this.students.addAll(otherSchoolObject.getStudents());\r\n\r\n    }\r\n```\r\n\r\nAs you can clearly see, I am able to successfully avoid external mutation after using `reduce()`, but I end up creating multiple objects and finally combine them and reduce\r\n\r\nIs there anyway where I can avoid multiple object creation, rather just create one object and have streams fill that for me and give back ? \r\n","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p>I want to create an aggregate object after streaming a collection of incoming object. But what I want is to not create a reference outside the stream and mutate that object &quot;explicitly&quot;.</p>\n<p>Let's take this scenario. I get a list of students. I want to stream the list and collect only certain elements and form a aggregate object named <code>MySchool</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Student(String name, String section, String schoolName) {\n}\n\nList&lt;Student&gt; students =\n\n                List.of(\n                        new Student(&quot;John&quot;, &quot;2&quot;, &quot;Holy school&quot;),\n                        new Student(&quot;Raghav&quot;, &quot;8&quot;, &quot;California school&quot;),\n                        new Student(&quot;Prem&quot;, &quot;5&quot;, &quot;Holy school&quot;),\n                        new Student(&quot;Peter&quot;, &quot;7&quot;, &quot;California school&quot;),\n                        new Student(&quot;Akbar&quot;, &quot;9&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Ashok&quot;, &quot;6&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Arun&quot;, &quot;4&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Ram&quot;, &quot;2&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;James&quot;, &quot;2&quot;, &quot;California school&quot;)\n                );\n\npublic class MySchool {\n\n    private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n\n    private int studentCount = 0;\n\n    public MySchool addStudent(Student student) {\n        this.students.add(student);\n        return this;\n    }\n\n    public List&lt;Student&gt; getStudents () {\n        return this.students;\n    }\n\n    public void addStudentCount() {\n        this.studentCount++;\n    }\n\n    public int getStudentCount() {\n        return this.studentCount;\n    }\n\n    \n}\n</code></pre>\n<p><strong>I don't want to do like below, where I mutate an external reference</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getMySchoolData(List&lt;Student&gt; allStudents) {\n\n        MySchool mySchool = new MySchool();\n\n        allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .forEach(student -&gt; {\n                    mySchool.addStudent(student);\n                    mySchool.addStudentCount();\n                });\n\n\n        System.out.println(mySchool);\n</code></pre>\n<p>To avoid doing like above, I used <code>reduce()</code> method of streams, but I ended up creating lot of <code>MySchool</code> objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getMySchoolData1(List&lt;Student&gt; allStudents) {\n        Optional&lt;MySchool&gt; mySchool = allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .map(this::addStudentsToSchool)\n                .reduce((mySchool1, mySchool2) -&gt; {\n                    mySchool1.combineMySchool(mySchool2);\n                    return mySchool1;\n                });\n\n        var sss = mySchool.get();\n\n        System.out.println(sss);\n\n    }\n\n\nprivate MySchool addStudentsToSchool(Student student) {\n\n        var mySchool = new MySchool();\n        mySchool.addStudent(student);\n        mySchool.addStudentCount();\n\n        return mySchool;\n    }\n\n// added this method to MySchool class\n\npublic void combineMySchool (MySchool otherSchoolObject) {\n        this.studentCount+= otherSchoolObject.getStudentCount();\n        this.students.addAll(otherSchoolObject.getStudents());\n\n    }\n</code></pre>\n<p>As you can clearly see, I am able to successfully avoid external mutation after using <code>reduce()</code>, but I end up creating multiple objects and finally combine them and reduce</p>\n<p>Is there anyway where I can avoid multiple object creation, rather just create one object and have streams fill that for me and give back ?</p>\n"},{"tags":["java","android","android-studio","listview","adapter"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682685413,"creation_date":1682685413,"answer_id":76129666,"question_id":76125298,"body_markdown":"You need to call `startActivity(intent)` after creating an intent to go there. You could do this with a series of if-else statements, a switch-case, or a list of destination classes. Remember that the `position` index starts at 0.\r\n\r\n```java\r\nIntent intent = null;\r\nif( position == 0 ) {\r\n    intent = new Intent(MainActivity.this, Foo.class);\r\n}\r\nelse if( position == 1 ) {\r\n    intent = new Intent(MainActivity.this, Bar.class);\r\n}\r\n\r\nif( intent != null ) {\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n```java\r\nIntent intent = null;\r\nswitch(position) {\r\n    case 0:\r\n        intent = new Intent(MainActivity.this, Foo.class);\r\n        break;\r\n    case 1:\r\n        intent = new Intent(MainActivity.this, Bar.class);\r\n        break;\r\n}\r\n\r\nif( intent != null ) {\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n```java\r\nList&lt;Class&lt;?&gt;&gt; destinations = Arrays.asList(\r\n    Foo.class, \r\n    Bar.class\r\n);\r\n\r\nif( position &lt; destinations.size() ) {\r\n    Intent i = new Intent(MainActivity.this, destinations.get(0));\r\n    startActivity(i);\r\n}\r\n```","title":"New activity with ListView and adapter","body":"<p>You need to call <code>startActivity(intent)</code> after creating an intent to go there. You could do this with a series of if-else statements, a switch-case, or a list of destination classes. Remember that the <code>position</code> index starts at 0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = null;\nif( position == 0 ) {\n    intent = new Intent(MainActivity.this, Foo.class);\n}\nelse if( position == 1 ) {\n    intent = new Intent(MainActivity.this, Bar.class);\n}\n\nif( intent != null ) {\n    startActivity(intent);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = null;\nswitch(position) {\n    case 0:\n        intent = new Intent(MainActivity.this, Foo.class);\n        break;\n    case 1:\n        intent = new Intent(MainActivity.this, Bar.class);\n        break;\n}\n\nif( intent != null ) {\n    startActivity(intent);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Class&lt;?&gt;&gt; destinations = Arrays.asList(\n    Foo.class, \n    Bar.class\n);\n\nif( position &lt; destinations.size() ) {\n    Intent i = new Intent(MainActivity.this, destinations.get(0));\n    startActivity(i);\n}\n</code></pre>\n"}],"owner":{"account_id":25873542,"reputation":1,"user_id":19604011,"display_name":"Patrick Kossik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682685413,"creation_date":1682638306,"question_id":76125298,"body_markdown":"So, I want to start a new activity every time a person clicks on a child from the listView, but I don&#39;t know how. Firstly, I created string\r\n```\r\n&lt;string-array name=&quot;title&quot;&gt;\r\n        &lt;item&gt;eeeeee &lt;/item&gt;\r\n        &lt;item&gt;wwwww &lt;/item&gt;\r\n        &lt;item&gt;qqqqq &lt;/item&gt;\r\n        &lt;item&gt;aaaaa &lt;/item&gt;\r\n        &lt;item&gt;nnnnn &lt;/item&gt;\r\n        &lt;item&gt;ccccc &lt;/item&gt;\r\n        \r\n\r\n\r\n    &lt;/string-array&gt;\r\n```\r\n\r\nAfter that I created one layout for the list, and one layout for the appearance of items in the listview.\r\nI created an adapter, that looks like this : \r\n\r\n```\r\npublic class InformatiiAdapter extends BaseAdapter {\r\n    Informatii informatii;\r\n    String[] title;\r\n    Animation animation;\r\n\r\n    public InformatiiAdapter(Informatii informatii, String[] title) {\r\n        this.informatii = informatii;\r\n        this.title = title;\r\n    }\r\n    public static int getRandom(int max)\r\n    {\r\n        return (int )(Math.random()*max);\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        return title.length;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        convertView= LayoutInflater.from(informatii).inflate(R.layout.new_item_layout, parent, false);\r\n        animation= AnimationUtils.loadAnimation(informatii, R.anim.animation1);\r\n        TextView textView;\r\n        LinearLayout ll_bg;\r\n        ll_bg=convertView.findViewById(R.id.ll_bg);\r\n        textView=convertView.findViewById(R.id.textView);\r\n        int number=getRandom(8);\r\n        if(number==1)\r\n        {\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\r\n        } else if(number==2){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_2));\r\n        } else if(number==3){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_3));\r\n        } else if(number==4){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_4));\r\n        } else if(number==5){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_5));\r\n        } else if(number==6){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_6));\r\n        } else if(number==7){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_7));\r\n        } else if(number==8){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_8));\r\n        } else {\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\r\n        }\r\n\r\n        textView.setText(title[position]);\r\n        textView.setAnimation(animation);\r\n        return convertView;\r\n    }\r\n}\r\n\r\n```\r\nAnd a mainactivity like this : \r\n\r\n```\r\npublic class Informatii extends AppCompatActivity {\r\n    ListView listView;\r\n    Animation animation;\r\n    String[] title;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_informatii);\r\n        getSupportActionBar().setTitle(&quot;Informații anxietate&quot;);\r\n\r\n        listView=findViewById(R.id.list_view);\r\n        title=getResources().getStringArray(R.array.title);\r\n        InformatiiAdapter adapter=new InformatiiAdapter(Informatii.this, title);\r\n        animation= AnimationUtils.loadAnimation(this,R.anim.animation1);\r\n        listView.setAdapter(adapter);\r\n\r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                if(position==1){\r\n                    Intent intent= new Intent(Informatii.this, Anxietate.class);\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nAs you see, I tried at onItemClick something like if position of the array is 1 , to go to another class, I will have 6-7 childs in the listview and I want to start a new activity for each one.","title":"New activity with ListView and adapter","body":"<p>So, I want to start a new activity every time a person clicks on a child from the listView, but I don't know how. Firstly, I created string</p>\n<pre><code>&lt;string-array name=&quot;title&quot;&gt;\n        &lt;item&gt;eeeeee &lt;/item&gt;\n        &lt;item&gt;wwwww &lt;/item&gt;\n        &lt;item&gt;qqqqq &lt;/item&gt;\n        &lt;item&gt;aaaaa &lt;/item&gt;\n        &lt;item&gt;nnnnn &lt;/item&gt;\n        &lt;item&gt;ccccc &lt;/item&gt;\n        \n\n\n    &lt;/string-array&gt;\n</code></pre>\n<p>After that I created one layout for the list, and one layout for the appearance of items in the listview.\nI created an adapter, that looks like this :</p>\n<pre><code>public class InformatiiAdapter extends BaseAdapter {\n    Informatii informatii;\n    String[] title;\n    Animation animation;\n\n    public InformatiiAdapter(Informatii informatii, String[] title) {\n        this.informatii = informatii;\n        this.title = title;\n    }\n    public static int getRandom(int max)\n    {\n        return (int )(Math.random()*max);\n    }\n    @Override\n    public int getCount() {\n        return title.length;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return position;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        convertView= LayoutInflater.from(informatii).inflate(R.layout.new_item_layout, parent, false);\n        animation= AnimationUtils.loadAnimation(informatii, R.anim.animation1);\n        TextView textView;\n        LinearLayout ll_bg;\n        ll_bg=convertView.findViewById(R.id.ll_bg);\n        textView=convertView.findViewById(R.id.textView);\n        int number=getRandom(8);\n        if(number==1)\n        {\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\n        } else if(number==2){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_2));\n        } else if(number==3){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_3));\n        } else if(number==4){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_4));\n        } else if(number==5){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_5));\n        } else if(number==6){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_6));\n        } else if(number==7){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_7));\n        } else if(number==8){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_8));\n        } else {\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\n        }\n\n        textView.setText(title[position]);\n        textView.setAnimation(animation);\n        return convertView;\n    }\n}\n\n</code></pre>\n<p>And a mainactivity like this :</p>\n<pre><code>public class Informatii extends AppCompatActivity {\n    ListView listView;\n    Animation animation;\n    String[] title;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_informatii);\n        getSupportActionBar().setTitle(&quot;Informații anxietate&quot;);\n\n        listView=findViewById(R.id.list_view);\n        title=getResources().getStringArray(R.array.title);\n        InformatiiAdapter adapter=new InformatiiAdapter(Informatii.this, title);\n        animation= AnimationUtils.loadAnimation(this,R.anim.animation1);\n        listView.setAdapter(adapter);\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                if(position==1){\n                    Intent intent= new Intent(Informatii.this, Anxietate.class);\n                }\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>As you see, I tried at onItemClick something like if position of the array is 1 , to go to another class, I will have 6-7 childs in the listview and I want to start a new activity for each one.</p>\n"},{"tags":["java","maven","directory","jar"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1682686148,"post_id":76129658,"comment_id":134258782,"body_markdown":"You cannot write to resources in a JAR. You need to use a directory outside the resources to store the data of your game.","body":"You cannot write to resources in a JAR. You need to use a directory outside the resources to store the data of your game."},{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1682689093,"post_id":76129658,"comment_id":134259464,"body_markdown":"Have you tried using java.nio.file.DirectoryStream to load the files within jar as suggested in one of the below reference answers https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file","body":"Have you tried using java.nio.file.DirectoryStream to load the files within jar as suggested in one of the below reference answers <a href=\"https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file\" title=\"how can i access a folder inside of a resource folder from inside my jar file\">stackoverflow.com/questions/11012819/&hellip;</a>"}],"owner":{"account_id":27348771,"reputation":19,"user_id":20858275,"display_name":"ASDQWERTYUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1682685376,"creation_date":1682685376,"question_id":76129658,"body_markdown":"I created a game in Java, and for the game I need to save gaming configurations in files, and all files are in resources/team/. In order to open, create and delete teams I get all filenames in this directory using listFiles() and &quot;src/main/resources/team/&quot; as directory path.\r\n\r\nThe problem is that in Intellij IDEA it works perfectly both from Main and from JAR-file, but if I try to run it in console ```java -jar Game.jar``` or open it from folder with Java, I get NullPointer from Scanner, because in directory /team/ is simply in root of JAR, without src/main. \r\n\r\n\r\nI tried to replace it with Directory Streams and some other solutions for getting filenames, but they all use File, so I still need to write &quot;src/main&quot; for it to work in IDEA. \r\nIs there any possible way to change it with relative paths for /team/ in JAR or different way to get filenames using getResourceAsStream, so I could use only this with directories in resources, without listFiles()? \r\nAlso I use Maven, I supposed, It&#39;s possible to solve it in pom.xml, but I couldnt find any information about it.","title":"How can I configure maven and directories in jar to open files and get filenames in direcotries correctly?","body":"<p>I created a game in Java, and for the game I need to save gaming configurations in files, and all files are in resources/team/. In order to open, create and delete teams I get all filenames in this directory using listFiles() and &quot;src/main/resources/team/&quot; as directory path.</p>\n<p>The problem is that in Intellij IDEA it works perfectly both from Main and from JAR-file, but if I try to run it in console <code>java -jar Game.jar</code> or open it from folder with Java, I get NullPointer from Scanner, because in directory /team/ is simply in root of JAR, without src/main.</p>\n<p>I tried to replace it with Directory Streams and some other solutions for getting filenames, but they all use File, so I still need to write &quot;src/main&quot; for it to work in IDEA.\nIs there any possible way to change it with relative paths for /team/ in JAR or different way to get filenames using getResourceAsStream, so I could use only this with directories in resources, without listFiles()?\nAlso I use Maven, I supposed, It's possible to solve it in pom.xml, but I couldnt find any information about it.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1682684653,"post_id":76127994,"comment_id":134258393,"body_markdown":"Your stacktrace shows you&#39;re using Junit. Please show all code as a [mcve] along with your Gradle dependencies","body":"Your stacktrace shows you&#39;re using Junit. Please show all code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> along with your Gradle dependencies"}],"owner":{"account_id":27963688,"reputation":1,"user_id":21354969,"display_name":"redisLearner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682684707,"creation_date":1682672847,"question_id":76127994,"body_markdown":"I am reading data from s3 in the below schema:\r\n\r\n```\r\npublic static final StructType DATA_SCHEMA =  new StructType()\r\n            .add(KEY, StringType, false)\r\n            .add(DATASETS, createArrayType(StringType), true);\r\n```\r\n\r\nand converting the data into this JAVA Object:\r\n\r\n```\r\npublic class Request {\r\n    private String key;\r\n    private List&lt;Input&gt; input;\r\n}\r\n\r\npublic class Input {\r\n    private String key;\r\n    private List&lt;String&gt; datasets;\r\n}\r\n```\r\n\r\nusing the below method :\r\n\r\n```\r\npublic Request get(final Dataset&lt;Row&gt; dataset) {\r\n        final List&lt;Input&gt; result = dataset.map((MapFunction&lt;Row, Input&gt;) row -&gt; {\r\n\r\n            final String key = row.getAs(&quot;key&quot;);\r\n\r\n            List&lt;String&gt; datasets = getListFromColumnName(row, &quot;datasets&quot;);\r\n\r\n            Input input = new Input();\r\n            input(key);\r\n            input.setDatasets(datasets);\r\n            return input;\r\n        }, Encoders.bean(Input)).collectAsList();\r\n\r\n        Request request = new Request();\r\n        request.setInput(result);\r\n        request.setKey(key);\r\n\r\n        return request;\r\n    }\r\n\r\nprivate List&lt;String&gt; getListFromColumnName(final Row row, final String columnName) {\r\n        final Object datasetsObj = row.getAs(columnName);\r\n\r\n        if (datasetsObj != null) {\r\n            if (datasetsObj instanceof scala.collection.mutable.WrappedArray&lt;?&gt;) {\r\n                scala.collection.mutable.WrappedArray&lt;String&gt; wrappedArray = (scala.collection.mutable.WrappedArray&lt;String&gt;) datasetsObj;\r\n                return JavaConverters.seqAsJavaListConverter(wrappedArray).asJava();\r\n            } else if (datasetsObj instanceof List&lt;?&gt;) {\r\n                return (List&lt;String&gt;) datasetsObj;\r\n            }\r\n        }\r\n        return null;\r\n}\r\n```\r\n\r\nIm getting \r\n\r\n```\r\nTask not serializable\r\norg.apache.spark.SparkException: Task not serializable\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\r\n\tat org.apache.spark.SparkContext.clean(SparkContext.scala:2459)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\r\n\tat org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\r\n\tat org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:749)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:321)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:387)\r\n\tat org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2977)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\r\n\tat org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2976)\r\n\tat RequestTransformer.get(RequestTransformer.java:32)\r\n\tat RequestTransformerTest.testGet(RequestTransformerTest.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.io.NotSerializableException: RequestTransformer\r\nSerialization stack:\r\n\t- object not serializable (class: RequestTransformer, value: RequestTransformer@69753056)\r\n\t- element of array (index: 0)\r\n\t- array (class [Ljava.lang.Object;, size 1)\r\n\t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n\t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class RequestTransformer, functionalInterfaceMethod=org/apache/spark/api/java/function/MapFunction.call:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeSpecial RequestTransformer.lambda$get$483224b0$1:(Lorg/apache/spark/sql/Row;)LInput;, instantiatedMethodType=(Lorg/apache/spark/sql/Row;)LInput;, numCaptured=1])\r\n\t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n\t- object (class RequestTransformer$$Lambda$1534/0x0000000800c2c440, RequestTransformer$$Lambda$1534/0x0000000800c2c440@4ee6cbba)\r\n\t- element of array (index: 2)\r\n\t- array (class [Ljava.lang.Object;, size 8)\r\n\t- element of array (index: 1)\r\n\t- array (class [Ljava.lang.Object;, size 3)\r\n\t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n\t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\r\n\t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n\t- object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040@6d611c54)\r\n\tat org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\r\n\tat org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\r\n\t... 120 more\r\n```\r\n\r\nCan someone help me understand what I am doing wrong here? \r\n\r\nIm getting  `Task not serializable for converting a Scala column to JAVA list&lt;String&gt;`","title":"Caused by: java.io.NotSerializableException: when converting spark ArrayType to java List&lt;String&gt;","body":"<p>I am reading data from s3 in the below schema:</p>\n<pre><code>public static final StructType DATA_SCHEMA =  new StructType()\n            .add(KEY, StringType, false)\n            .add(DATASETS, createArrayType(StringType), true);\n</code></pre>\n<p>and converting the data into this JAVA Object:</p>\n<pre><code>public class Request {\n    private String key;\n    private List&lt;Input&gt; input;\n}\n\npublic class Input {\n    private String key;\n    private List&lt;String&gt; datasets;\n}\n</code></pre>\n<p>using the below method :</p>\n<pre><code>public Request get(final Dataset&lt;Row&gt; dataset) {\n        final List&lt;Input&gt; result = dataset.map((MapFunction&lt;Row, Input&gt;) row -&gt; {\n\n            final String key = row.getAs(&quot;key&quot;);\n\n            List&lt;String&gt; datasets = getListFromColumnName(row, &quot;datasets&quot;);\n\n            Input input = new Input();\n            input(key);\n            input.setDatasets(datasets);\n            return input;\n        }, Encoders.bean(Input)).collectAsList();\n\n        Request request = new Request();\n        request.setInput(result);\n        request.setKey(key);\n\n        return request;\n    }\n\nprivate List&lt;String&gt; getListFromColumnName(final Row row, final String columnName) {\n        final Object datasetsObj = row.getAs(columnName);\n\n        if (datasetsObj != null) {\n            if (datasetsObj instanceof scala.collection.mutable.WrappedArray&lt;?&gt;) {\n                scala.collection.mutable.WrappedArray&lt;String&gt; wrappedArray = (scala.collection.mutable.WrappedArray&lt;String&gt;) datasetsObj;\n                return JavaConverters.seqAsJavaListConverter(wrappedArray).asJava();\n            } else if (datasetsObj instanceof List&lt;?&gt;) {\n                return (List&lt;String&gt;) datasetsObj;\n            }\n        }\n        return null;\n}\n</code></pre>\n<p>Im getting</p>\n<pre><code>Task not serializable\norg.apache.spark.SparkException: Task not serializable\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\n    at org.apache.spark.SparkContext.clean(SparkContext.scala:2459)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\n    at org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:749)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n    at org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:321)\n    at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:387)\n    at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\n    at org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2977)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\n    at org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2976)\n    at RequestTransformer.get(RequestTransformer.java:32)\n    at RequestTransformerTest.testGet(RequestTransformerTest.java:47)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.io.NotSerializableException: RequestTransformer\nSerialization stack:\n    - object not serializable (class: RequestTransformer, value: RequestTransformer@69753056)\n    - element of array (index: 0)\n    - array (class [Ljava.lang.Object;, size 1)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class RequestTransformer, functionalInterfaceMethod=org/apache/spark/api/java/function/MapFunction.call:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeSpecial RequestTransformer.lambda$get$483224b0$1:(Lorg/apache/spark/sql/Row;)LInput;, instantiatedMethodType=(Lorg/apache/spark/sql/Row;)LInput;, numCaptured=1])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class RequestTransformer$$Lambda$1534/0x0000000800c2c440, RequestTransformer$$Lambda$1534/0x0000000800c2c440@4ee6cbba)\n    - element of array (index: 2)\n    - array (class [Ljava.lang.Object;, size 8)\n    - element of array (index: 1)\n    - array (class [Ljava.lang.Object;, size 3)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040@6d611c54)\n    at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\n    at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\n    at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\n    ... 120 more\n</code></pre>\n<p>Can someone help me understand what I am doing wrong here?</p>\n<p>Im getting  <code>Task not serializable for converting a Scala column to JAVA list&lt;String&gt;</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1682683185,"post_id":76128738,"comment_id":134258046,"body_markdown":"Take the warning for what it is: a warning. Understand what they are saying, and realise that &quot;normally&quot; you&#39;d not do it this way. I think for what you are trying to do, this is a perfectly valid approach. A good naming convention for these related strings would be very helpful to decide on early.","body":"Take the warning for what it is: a warning. Understand what they are saying, and realise that &quot;normally&quot; you&#39;d not do it this way. I think for what you are trying to do, this is a perfectly valid approach. A good naming convention for these related strings would be very helpful to decide on early."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1682683255,"post_id":76128738,"comment_id":134258052,"body_markdown":"I would also suggest, for maintainability, that you consider moving these dynamic strings into a separate strings resource file; your normal strings in `strings.xml` and these ones in something like `recipe_details.xml`.","body":"I would also suggest, for maintainability, that you consider moving these dynamic strings into a separate strings resource file; your normal strings in <code>strings.xml</code> and these ones in something like <code>recipe_details.xml</code>."}],"answers":[{"comments":[{"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"score":0,"creation_date":1682680886,"post_id":76128824,"comment_id":134257538,"body_markdown":"I thought this works passing the ids in the intent, but there is still a problem: The recipe names are also stored in the `strings.xml`. So when I load the `RecyclerView` with the recipe names it loads it from the `strings.xml`. So I can&#39;t actually find the ids without `getIdentifier()`, and hence can&#39;t pass them in the intent.","body":"I thought this works passing the ids in the intent, but there is still a problem: The recipe names are also stored in the <code>strings.xml</code>. So when I load the <code>RecyclerView</code> with the recipe names it loads it from the <code>strings.xml</code>. So I can&#39;t actually find the ids without <code>getIdentifier()</code>, and hence can&#39;t pass them in the intent."},{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":0,"creation_date":1682680935,"post_id":76128824,"comment_id":134257551,"body_markdown":"If you will attach the code of your Adapter and Activity it will help.","body":"If you will attach the code of your Adapter and Activity it will help."},{"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"score":0,"creation_date":1682685575,"post_id":76128824,"comment_id":134258637,"body_markdown":"It works and if implemented as array can actually be `O(1)` W.C to find the id so might be worth the extra coding","body":"It works and if implemented as array can actually be <code>O(1)</code> W.C to find the id so might be worth the extra coding"}],"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682684652,"creation_date":1682678931,"answer_id":76128824,"question_id":76128738,"body_markdown":"If I correctly understood your problem, you have several options:\r\n\r\n 1. Pass all data you need on the `RecipeActivity` in Intent. Not only recipe name. Something like this:\r\n\r\n\r\n        val intent = Intent(activity, RecipeActivity::class)\r\n        intent.extras = Bundle().apply {\r\n            KEY_NAME = R.string.recipe_name\r\n            KEY_COOKING_TIME = R.string.recipe_cooking_time\r\n            ...\r\n        }\r\nIn this case you can also **create a Data class** (if you use Kotlin) which implements Parcelable, and put just this Parcelable to intent.\r\n\r\n2. Put the recipe id in Intent and create some `RecipesProvider` which will return strings by id of a recipe:\r\n\r\n        class RecipesProvider {\r\n            \r\n            fun getCookingTimeById(id: Int) {\r\n                when (id) {\r\n                    R.string.recipe_1 -&gt; return ...\r\n                    else -&gt; return ...\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        class RecipeActivity: AppCompatActivity() {\r\n\r\n            private val recipesProvider = RecipesProvider()\r\n            \r\n            override fun onCreate(bundle: Bundle?) {\r\n                ...\r\n                cookingTimeTextView.text = recipesProvider.getCookingTimeById(intent?.extras?.getInt(RECIPE_ID))\r\n            }\r\n\r\n        }\r\n\r\n\r\n**Update:**\r\nI&#39;m not sure that the approach you&#39;re using with string array is valid, because it&#39;s really confusing to lean to text which is stored there and build some logic based on these strings.\r\n\r\nWhy don&#39;t you create some class `Recipes` which will contain the list with all recipes?\r\n\r\n    object Recipes {\r\n        private val recipes = listOf(\r\n            Recipe(\r\n                name = R.string.recipe1_name,\r\n                cookingTime = R.string.recipe1_cooking_time,\r\n                .....\r\n            )\r\n        )\r\n\r\n        fun getRecipe(position: Int): Recipe {}\r\n    }\r\n\r\nAnd then you can rewrite your adapter like this:\r\n\r\n\r\n    public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\r\n        ....\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return Recipes.Companion.size();\r\n        }\r\n\r\n        private void onReceiptClick(int adapterPosition) {\r\n             Receipt receipt = Recipes.Companion.getRecipe(adapterPosition)\r\n             // Start activity with this receipt\r\n        }\r\n    }\r\n\r\n","title":"Using R.string.&lt;string-name&gt; dynamically","body":"<p>If I correctly understood your problem, you have several options:</p>\n<ol>\n<li><p>Pass all data you need on the <code>RecipeActivity</code> in Intent. Not only recipe name. Something like this:</p>\n<pre><code>val intent = Intent(activity, RecipeActivity::class)\nintent.extras = Bundle().apply {\n    KEY_NAME = R.string.recipe_name\n    KEY_COOKING_TIME = R.string.recipe_cooking_time\n    ...\n}\n</code></pre>\n</li>\n</ol>\n<p>In this case you can also <strong>create a Data class</strong> (if you use Kotlin) which implements Parcelable, and put just this Parcelable to intent.</p>\n<ol start=\"2\">\n<li><p>Put the recipe id in Intent and create some <code>RecipesProvider</code> which will return strings by id of a recipe:</p>\n<pre><code> class RecipesProvider {\n\n     fun getCookingTimeById(id: Int) {\n         when (id) {\n             R.string.recipe_1 -&gt; return ...\n             else -&gt; return ...\n         }\n     }\n\n }\n\n class RecipeActivity: AppCompatActivity() {\n\n     private val recipesProvider = RecipesProvider()\n\n     override fun onCreate(bundle: Bundle?) {\n         ...\n         cookingTimeTextView.text = recipesProvider.getCookingTimeById(intent?.extras?.getInt(RECIPE_ID))\n     }\n\n }\n</code></pre>\n</li>\n</ol>\n<p><strong>Update:</strong>\nI'm not sure that the approach you're using with string array is valid, because it's really confusing to lean to text which is stored there and build some logic based on these strings.</p>\n<p>Why don't you create some class <code>Recipes</code> which will contain the list with all recipes?</p>\n<pre><code>object Recipes {\n    private val recipes = listOf(\n        Recipe(\n            name = R.string.recipe1_name,\n            cookingTime = R.string.recipe1_cooking_time,\n            .....\n        )\n    )\n\n    fun getRecipe(position: Int): Recipe {}\n}\n</code></pre>\n<p>And then you can rewrite your adapter like this:</p>\n<pre><code>public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\n    ....\n\n    @Override\n    public int getItemCount() {\n        return Recipes.Companion.size();\n    }\n\n    private void onReceiptClick(int adapterPosition) {\n         Receipt receipt = Recipes.Companion.getRecipe(adapterPosition)\n         // Start activity with this receipt\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76128824,"answer_count":1,"score":0,"last_activity_date":1682684652,"creation_date":1682678200,"question_id":76128738,"body_markdown":"My app uses a single activity to load multiple different contents by the user choice. If the user presses `recipe1` button from a Recyclerview from the *main activity* it should start the *recipes activity* and load the details matching this specific recipe. \r\n\r\nSince I don&#39;t want to create an activity for each recipe, I need to load the details dynamically. The main activity starts the recipe activity with an intent containing the recipe name, e.g. `recipe1`, and using this data I want to load the details from my `strings.xml` file, e.g. `cooking_time_recipe1`, `ingredients_recipe1` and so on.\r\n\r\nI found the function `getIdentifier()` and it works perfectly, although Android Studio shows a warning: `\r\nUse of this function is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code. It is much more efficient to retrieve resources by identifier (e.g. R.foo.bar) than by name (e.g. getIdentifier(&quot;bar&quot;, &quot;foo&quot;, null)).`\r\n\r\nIs there any way to avoid using this function?\r\n\r\nI can write a function that recieves a recipe name and retrieves all its details&#39; names from the `string.xml`, i.e. \r\n\r\ninput: `recipe1`, output: `cooking_time_recipe1, ingredients_recipe1, ...`\r\n\r\nalthough I couldn&#39;t find a way to avoid the finding process of the id. I could manually maintain a HashMap to match strings to ids but I was thinking `getIdentifier()` is probably using a HashMap anyway, so no use to implement the same thing myself but not sure.\r\n\r\nThe adapter code (excluding the ViewHolder subclass):\r\n\r\n    public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;String&gt; recipes;\r\n\r\n    public RecipesViewPagerAdapter(Context context, ArrayList&lt;String&gt; recipes) {\r\n    this.context = context;\r\n    this.recipes = recipes;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_recipes_pager, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        CardTriplet currentRecipes = recipes.get(position);\r\n        holder.cardRecipe1.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 0));\r\n        if (currentRecipes.get(1) != null) {\r\n            holder.textRecipe2.setText(currentRecipes.get(1).getName());\r\n            holder.cardRecipe2.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 1));\r\n        } else {\r\n            holder.cardRecipe2.setVisibility(View.INVISIBLE);\r\n        }\r\n        if (currentRecipes.get(2) != null) {\r\n            holder.textRecipe3.setText(currentRecipes.get(2).getName());\r\n            holder.cardRecipe3.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 2));\r\n        } else {\r\n            holder.cardRecipe3.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return Recipes.size();\r\n    }\r\n    \r\n    private void onCardClick(int tripletNumber, int cardNumber) {\r\n        Card card = Recipes.get(tripletNumber).get(cardNumber);\r\n        Intent intent = new Intent(context, RecipeActivity.class);\r\n        intent.putExtra(&quot;name&quot;, card.getName());\r\n        context.startActivity(intent);\r\n        }\r\n    }\r\n\r\nAnd the main activity gets the recipes for the adapter with:\r\n\r\n    String[] recipeNames = getResources().getStringArray(R.string.recipes)\r\n\r\nAnd initializes the `ArrayList&lt;CardTriplet&gt; recipes` by looping over the `recipeNames` array and putting the values in `CardTriplet` objects\r\n\r\n\r\n","title":"Using R.string.&lt;string-name&gt; dynamically","body":"<p>My app uses a single activity to load multiple different contents by the user choice. If the user presses <code>recipe1</code> button from a Recyclerview from the <em>main activity</em> it should start the <em>recipes activity</em> and load the details matching this specific recipe.</p>\n<p>Since I don't want to create an activity for each recipe, I need to load the details dynamically. The main activity starts the recipe activity with an intent containing the recipe name, e.g. <code>recipe1</code>, and using this data I want to load the details from my <code>strings.xml</code> file, e.g. <code>cooking_time_recipe1</code>, <code>ingredients_recipe1</code> and so on.</p>\n<p>I found the function <code>getIdentifier()</code> and it works perfectly, although Android Studio shows a warning: <code> Use of this function is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code. It is much more efficient to retrieve resources by identifier (e.g. R.foo.bar) than by name (e.g. getIdentifier(&quot;bar&quot;, &quot;foo&quot;, null)).</code></p>\n<p>Is there any way to avoid using this function?</p>\n<p>I can write a function that recieves a recipe name and retrieves all its details' names from the <code>string.xml</code>, i.e.</p>\n<p>input: <code>recipe1</code>, output: <code>cooking_time_recipe1, ingredients_recipe1, ...</code></p>\n<p>although I couldn't find a way to avoid the finding process of the id. I could manually maintain a HashMap to match strings to ids but I was thinking <code>getIdentifier()</code> is probably using a HashMap anyway, so no use to implement the same thing myself but not sure.</p>\n<p>The adapter code (excluding the ViewHolder subclass):</p>\n<pre><code>public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\n\nContext context;\nArrayList&lt;String&gt; recipes;\n\npublic RecipesViewPagerAdapter(Context context, ArrayList&lt;String&gt; recipes) {\nthis.context = context;\nthis.recipes = recipes;\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.item_recipes_pager, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    CardTriplet currentRecipes = recipes.get(position);\n    holder.cardRecipe1.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 0));\n    if (currentRecipes.get(1) != null) {\n        holder.textRecipe2.setText(currentRecipes.get(1).getName());\n        holder.cardRecipe2.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 1));\n    } else {\n        holder.cardRecipe2.setVisibility(View.INVISIBLE);\n    }\n    if (currentRecipes.get(2) != null) {\n        holder.textRecipe3.setText(currentRecipes.get(2).getName());\n        holder.cardRecipe3.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 2));\n    } else {\n        holder.cardRecipe3.setVisibility(View.INVISIBLE);\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return Recipes.size();\n}\n\nprivate void onCardClick(int tripletNumber, int cardNumber) {\n    Card card = Recipes.get(tripletNumber).get(cardNumber);\n    Intent intent = new Intent(context, RecipeActivity.class);\n    intent.putExtra(&quot;name&quot;, card.getName());\n    context.startActivity(intent);\n    }\n}\n</code></pre>\n<p>And the main activity gets the recipes for the adapter with:</p>\n<pre><code>String[] recipeNames = getResources().getStringArray(R.string.recipes)\n</code></pre>\n<p>And initializes the <code>ArrayList&lt;CardTriplet&gt; recipes</code> by looping over the <code>recipeNames</code> array and putting the values in <code>CardTriplet</code> objects</p>\n"},{"tags":["java","sql-server","prepared-statement","always-encrypted"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684819,"post_id":76129343,"comment_id":134258438,"body_markdown":"This is by no means an answer - but if I were in your position I&#39;d try just running the insert statement (just `.execute()`, not`.addBatch()`), and commit every ~1000 inserts or so (committing too often _and_ creating too-large transactions both can be performance issues, so, split the difference, commit every 1000).","body":"This is by no means an answer - but if I were in your position I&#39;d try just running the insert statement (just <code>.execute()</code>, not<code>.addBatch()</code>), and commit every ~1000 inserts or so (committing too often <i>and</i> creating too-large transactions both can be performance issues, so, split the difference, commit every 1000)."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682684822,"post_id":76129343,"comment_id":134258440,"body_markdown":"you could run each batch in own thread.","body":"you could run each batch in own thread."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684875,"post_id":76129343,"comment_id":134258456,"body_markdown":"The thing is, JDBC&#39;s various peculiarities, such as `addBatch`, exist _because_ some DB engines need code structured that way to do a thing unique to them or provide the best performance. However, that doesn&#39;t mean all JDBC drivers are _required_ to be more performant. They just need to implement it. As a consequence, sometimes just rewriting to another JDBC &#39;way&#39; solves the problem. We don&#39;t have your test setup to test any of this.","body":"The thing is, JDBC&#39;s various peculiarities, such as <code>addBatch</code>, exist <i>because</i> some DB engines need code structured that way to do a thing unique to them or provide the best performance. However, that doesn&#39;t mean all JDBC drivers are <i>required</i> to be more performant. They just need to implement it. As a consequence, sometimes just rewriting to another JDBC &#39;way&#39; solves the problem. We don&#39;t have your test setup to test any of this."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684917,"post_id":76129343,"comment_id":134258468,"body_markdown":"@siggemannen Answering &#39;my code that pretty much _just_ interacts with the DB is running slowly&#39; with: &quot;Did you try threading?&quot; is.. not appropriate advice, to say the least. That never works.","body":"@siggemannen Answering &#39;my code that pretty much <i>just</i> interacts with the DB is running slowly&#39; with: &quot;Did you try threading?&quot; is.. not appropriate advice, to say the least. That never works."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684935,"post_id":76129343,"comment_id":134258472,"body_markdown":"In general trying to answer performance questions with wild stabs in the dark is bad. Please don&#39;t do that.","body":"In general trying to answer performance questions with wild stabs in the dark is bad. Please don&#39;t do that."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682685088,"post_id":76129343,"comment_id":134258511,"body_markdown":"Lol, the comments ARE for wild stabs in the dark @rzwitserloot, but thanks for playing. Obviously it might help otherwise there would be no point of using multi-threaded built-in in bulk imports etc.","body":"Lol, the comments ARE for wild stabs in the dark @rzwitserloot, but thanks for playing. Obviously it might help otherwise there would be no point of using multi-threaded built-in in bulk imports etc."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682685175,"post_id":76129343,"comment_id":134258531,"body_markdown":"@OP, another thing you can speed up your code is using raw sql + VALUES construct, batched up 1000 rows or so. The jdbc binding methods are usually always slower. Of course, i don&#39;t know if always encrypted thing supports that, but maybe rzwitserloot does","body":"@OP, another thing you can speed up your code is using raw sql + VALUES construct, batched up 1000 rows or so. The jdbc binding methods are usually always slower. Of course, i don&#39;t know if always encrypted thing supports that, but maybe rzwitserloot does"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1682690300,"post_id":76129343,"comment_id":134259792,"body_markdown":"So have you tried to race your horses using this code without Always Encrypted? I don&#39;t think it would be any/much faster because although you&#39;re sending a single batch with 1,000 insert statements it&#39;s still inserting RBAR (Row-By-Agonizing Row), not a single insert with 1,000 rows. Batching only serves to reduce communication overhead (round-tripping between client and server), it doesn&#39;t make the statements execute any faster on the server.","body":"So have you tried to race your horses using this code without Always Encrypted? I don&#39;t think it would be any/much faster because although you&#39;re sending a single batch with 1,000 insert statements it&#39;s still inserting RBAR (Row-By-Agonizing Row), not a single insert with 1,000 rows. Batching only serves to reduce communication overhead (round-tripping between client and server), it doesn&#39;t make the statements execute any faster on the server."},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1682704120,"post_id":76129343,"comment_id":134262923,"body_markdown":"I tested execute() using 1000 rows with always encrypted on it took  52 min without always encrypted 22 min \nso, using addBatch() is still better\n@siggemannen usinf spark I&#39;m already in parallel execution","body":"I tested execute() using 1000 rows with always encrypted on it took  52 min without always encrypted 22 min  so, using addBatch() is still better @siggemannen usinf spark I&#39;m already in parallel execution"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1682712478,"post_id":76129343,"comment_id":134264403,"body_markdown":"How many columns is it? And are you really in parallell? jdbcConnection.getConnection looks suspiciously like shared connection to me, but i don&#39;t know anything about spark","body":"How many columns is it? And are you really in parallell? jdbcConnection.getConnection looks suspiciously like shared connection to me, but i don&#39;t know anything about spark"},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1682789203,"post_id":76129343,"comment_id":134271767,"body_markdown":"There&#39;s 241 columns. Yes, you&#39;re right it was a shared connexion. While spark manages the parallel execution, all the process was using a single connexion. By fixing this, the execution time was improved (now about 4 min for 60K/ 44min for 1M) but still not like before.","body":"There&#39;s 241 columns. Yes, you&#39;re right it was a shared connexion. While spark manages the parallel execution, all the process was using a single connexion. By fixing this, the execution time was improved (now about 4 min for 60K/ 44min for 1M) but still not like before."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1683054422,"post_id":76129343,"comment_id":134306967,"body_markdown":"That&#39;s not bad of an improvement! But i&#39;m still not sure why you can&#39;t use bulk import: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver16#bulk-copy-with-always-encrypted-columns","body":"That&#39;s not bad of an improvement! But i&#39;m still not sure why you can&#39;t use bulk import: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver16#bulk-copy-with-always-encrypted-columns\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1683116776,"post_id":76129343,"comment_id":134316691,"body_markdown":"@siggemannen I will check this again, but from what I remember this is valid only to copy from a file / table to another table.","body":"@siggemannen I will check this again, but from what I remember this is valid only to copy from a file / table to another table."},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1683116857,"post_id":76129343,"comment_id":134316711,"body_markdown":"update : I did test the new solution in the server, the performance now it&#39;s almost like before 32min for 7M rows. \nAs a conclusion using the multiple connexion with spark (or any multi threads solution), give me a good result. I hope this will help someone and thanks all for your time and support.","body":"update : I did test the new solution in the server, the performance now it&#39;s almost like before 32min for 7M rows.  As a conclusion using the multiple connexion with spark (or any multi threads solution), give me a good result. I hope this will help someone and thanks all for your time and support."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1683118288,"post_id":76129343,"comment_id":134317052,"body_markdown":"Excellent! Glad you gave an update","body":"Excellent! Glad you gave an update"}],"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682684547,"creation_date":1682683065,"question_id":76129343,"body_markdown":"I have a spring boot application, with SQL server as database. One of the services that the app offer is a function who will insert data in a table (staging database). For more clarity, I will describe the solution before and after the problem.\r\n\r\nBefore : \r\n\r\nThe injection will be done using spark bulk inject, so everything was managed by spark, I needed only to add the connexion configuration for spark. Everything was fine using this solution, the insert took about 30 min for 7M row.\r\n\r\nAfter:\r\n\r\nWe need to add the encryption for some columns (always encryption) in the table. so the bulk inject wasn&#39;t a possible solution anymore. \r\n\r\nThe new solution was to keep using spark but the insertion itself will be done using statement, the idea is to repartition the spark RDD (the data that will be inserted) in a small partition, each partition will be injected using a batch statement.\r\n\r\nFor example : \r\n\r\nI have a file with 60K rows, I want to insert 1000 each time, I will repartition the input into 6K partition and each partition will be injected in a batch.\r\n\r\nBelow the code who will manage the insertion:\r\n\r\n\r\n```\r\n    @Override\r\n    public void call(Iterator&lt;String&gt; partition) {\r\n\r\n        try {\r\n            PreparedStatement preparedStatement = jdbcConnection.getConnection().prepareStatement(compiledQuery.toString());\r\n            jdbcConnection.getConnection().setAutoCommit(false);\r\n            long start = System.currentTimeMillis();\r\n            while (partition.hasNext()) {\r\n\r\n                String row = partition.next();\r\n                Object[] rowValidated = controlRow(row);\r\n\r\n                for (int index = 0; index &lt; rowValidated.length; index++) {\r\n\r\n                    PremiumTableFormat refColumn = getElementByIndexFromFixedSchema(index);\r\n                    if (refColumn.isEncrypted()) {\r\n\r\n                        if (!refColumn.getType().equalsIgnoreCase(&quot;date&quot;)) {\r\n                            preparedStatement.setObject(index + 1, rowValidated[index], java.sql.Types.NVARCHAR, 264);\r\n                        } else {\r\n                            preparedStatement.setDate(index + 1, (Date) rowValidated[index]);\r\n                        }\r\n                    } else {\r\n                        preparedStatement.setObject(index + 1, rowValidated[index]);\r\n                    }\r\n                }\r\n                preparedStatement.addBatch();\r\n            }\r\n            long end = System.currentTimeMillis();\r\n            log.info(&quot;prepare batch data take = &quot; + ((end - start)) + &quot; ms&quot;);\r\n\r\n            start = System.currentTimeMillis();\r\n            preparedStatement.executeBatch();\r\n            jdbcConnection.getConnection().commit();\r\n            preparedStatement.clearBatch();\r\n            end = System.currentTimeMillis();\r\n            log.info(&quot;total time taken to insert the batch = &quot; + ((end - start)) + &quot; ms&quot;);\r\n\r\n        } catch (SQLServerException e) {\r\n            e.printStackTrace();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe problem is the executeBatch() take too much time, 30min for 60K rows.\r\n\r\nI used different batch size, 10, 50, 10, 1000 and 5000 row the small number work better but still slow (best time 28 min for 60K using 50 rows)\r\n\r\nPlease note :\r\n - controlRow (row) don&#39;t take too much 20ms for each partition with 1000 rows. \r\n - When the connection string doesn&#39;t contain always encrypted params, the insert is better (4.7 min) \r\n - connexion string with always encytpted ``` &quot;jdbc:sqlserver://&quot; + parameters.server + &quot;;encrypt=true;databaseName=&quot; + parameters.getDatabase() + &quot;;encrypt=true;trustServerCertificate=true;columnEncryptionSetting=Enabled;&quot; ```\r\n\r\n\r\nDo you think that something is missing or not in the corrected way?\r\n\r\n\r\nThank you in adavnce.\r\n","title":"inserting is very slow using statement when always encrypted is on","body":"<p>I have a spring boot application, with SQL server as database. One of the services that the app offer is a function who will insert data in a table (staging database). For more clarity, I will describe the solution before and after the problem.</p>\n<p>Before :</p>\n<p>The injection will be done using spark bulk inject, so everything was managed by spark, I needed only to add the connexion configuration for spark. Everything was fine using this solution, the insert took about 30 min for 7M row.</p>\n<p>After:</p>\n<p>We need to add the encryption for some columns (always encryption) in the table. so the bulk inject wasn't a possible solution anymore.</p>\n<p>The new solution was to keep using spark but the insertion itself will be done using statement, the idea is to repartition the spark RDD (the data that will be inserted) in a small partition, each partition will be injected using a batch statement.</p>\n<p>For example :</p>\n<p>I have a file with 60K rows, I want to insert 1000 each time, I will repartition the input into 6K partition and each partition will be injected in a batch.</p>\n<p>Below the code who will manage the insertion:</p>\n<pre><code>    @Override\n    public void call(Iterator&lt;String&gt; partition) {\n\n        try {\n            PreparedStatement preparedStatement = jdbcConnection.getConnection().prepareStatement(compiledQuery.toString());\n            jdbcConnection.getConnection().setAutoCommit(false);\n            long start = System.currentTimeMillis();\n            while (partition.hasNext()) {\n\n                String row = partition.next();\n                Object[] rowValidated = controlRow(row);\n\n                for (int index = 0; index &lt; rowValidated.length; index++) {\n\n                    PremiumTableFormat refColumn = getElementByIndexFromFixedSchema(index);\n                    if (refColumn.isEncrypted()) {\n\n                        if (!refColumn.getType().equalsIgnoreCase(&quot;date&quot;)) {\n                            preparedStatement.setObject(index + 1, rowValidated[index], java.sql.Types.NVARCHAR, 264);\n                        } else {\n                            preparedStatement.setDate(index + 1, (Date) rowValidated[index]);\n                        }\n                    } else {\n                        preparedStatement.setObject(index + 1, rowValidated[index]);\n                    }\n                }\n                preparedStatement.addBatch();\n            }\n            long end = System.currentTimeMillis();\n            log.info(&quot;prepare batch data take = &quot; + ((end - start)) + &quot; ms&quot;);\n\n            start = System.currentTimeMillis();\n            preparedStatement.executeBatch();\n            jdbcConnection.getConnection().commit();\n            preparedStatement.clearBatch();\n            end = System.currentTimeMillis();\n            log.info(&quot;total time taken to insert the batch = &quot; + ((end - start)) + &quot; ms&quot;);\n\n        } catch (SQLServerException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n</code></pre>\n<p>The problem is the executeBatch() take too much time, 30min for 60K rows.</p>\n<p>I used different batch size, 10, 50, 10, 1000 and 5000 row the small number work better but still slow (best time 28 min for 60K using 50 rows)</p>\n<p>Please note :</p>\n<ul>\n<li>controlRow (row) don't take too much 20ms for each partition with 1000 rows.</li>\n<li>When the connection string doesn't contain always encrypted params, the insert is better (4.7 min)</li>\n<li>connexion string with always encytpted <code>&quot;jdbc:sqlserver://&quot; + parameters.server + &quot;;encrypt=true;databaseName=&quot; + parameters.getDatabase() + &quot;;encrypt=true;trustServerCertificate=true;columnEncryptionSetting=Enabled;&quot;</code></li>\n</ul>\n<p>Do you think that something is missing or not in the corrected way?</p>\n<p>Thank you in adavnce.</p>\n"},{"tags":["java","unit-testing","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682669345,"creation_date":1682669345,"answer_id":76127507,"question_id":76124016,"body_markdown":"I suggest you use a `@MethodSource` to wrap your constant:\r\n\r\n```java\r\nprivate static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\r\nstatic List&lt;String&gt; myParameters() {\r\n    return Arrays.asList(myParameters);\r\n}\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;myParameters&quot;)\r\npublic void myTestWithMethodSource(String param) {\r\n    System.out.println(param);\r\n}\r\n```\r\n","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I suggest you use a <code>@MethodSource</code> to wrap your constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n\nstatic List&lt;String&gt; myParameters() {\n    return Arrays.asList(myParameters);\n}\n\n@ParameterizedTest\n@MethodSource(&quot;myParameters&quot;)\npublic void myTestWithMethodSource(String param) {\n    System.out.println(param);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1682683161,"post_id":76127687,"comment_id":134258041,"body_markdown":"Dynamic tests come with a few disadvantages. Most importantly they do not follow Jupiter&#39;s standard lifecycle (eg BeforeEach, AfterEach) whereas parameterized tests do. Moreover, you&#39;ll have to come up with your own naming mechanism; in paramterized tests you can use Jupiter&#39;s standard display name policies and generators.","body":"Dynamic tests come with a few disadvantages. Most importantly they do not follow Jupiter&#39;s standard lifecycle (eg BeforeEach, AfterEach) whereas parameterized tests do. Moreover, you&#39;ll have to come up with your own naming mechanism; in paramterized tests you can use Jupiter&#39;s standard display name policies and generators."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682670490,"creation_date":1682670490,"answer_id":76127687,"question_id":76124016,"body_markdown":"I am not sure if you can achieve this with `@ValueSource`, but it can be done with `@MethodSource` and `DynamicTests` for sure: \r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;myParameters&quot;)\r\npublic void myTest(String param) {\r\n\tSystem.out.println(param);\r\n\r\n}\r\n\r\nStream&lt;String&gt; myParameters() {\r\n\treturn Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n}\r\n```\r\nAlternatively, this is how you&#39;d do it with Dynamic tests. It is a cool feature of junit5 that allows you to dynamically create unit tests:\r\n\r\n\r\n    static Stream&lt;String&gt; myParameters() {\r\n\t\treturn Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\t}\r\n\r\n\t@TestFactory\r\n\tStream&lt;DynamicTest&gt; myTests() {\r\n\t\treturn myParameters()\r\n            .map(p -&gt; DynamicTest.dynamicTest(\r\n                 &quot;testing for: &quot; + p, \r\n                  () -&gt; myTest(p)\r\n            ));\r\n\t}\r\n\r\n\tvoid myTest(String param) {\r\n\t\tSystem.out.println(param);\r\n\t\tassertEquals(1, param.length());\r\n\t}\r\n\r\nif you find this interesting, read more about it here:  https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I am not sure if you can achieve this with <code>@ValueSource</code>, but it can be done with <code>@MethodSource</code> and <code>DynamicTests</code> for sure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;myParameters&quot;)\npublic void myTest(String param) {\n    System.out.println(param);\n\n}\n\nStream&lt;String&gt; myParameters() {\n    return Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n}\n</code></pre>\n<p>Alternatively, this is how you'd do it with Dynamic tests. It is a cool feature of junit5 that allows you to dynamically create unit tests:</p>\n<pre><code>static Stream&lt;String&gt; myParameters() {\n    return Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n}\n\n@TestFactory\nStream&lt;DynamicTest&gt; myTests() {\n    return myParameters()\n        .map(p -&gt; DynamicTest.dynamicTest(\n             &quot;testing for: &quot; + p, \n              () -&gt; myTest(p)\n        ));\n}\n\nvoid myTest(String param) {\n    System.out.println(param);\n    assertEquals(1, param.length());\n}\n</code></pre>\n<p>if you find this interesting, read more about it here:  <a href=\"https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895</a></p>\n"}],"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76127507,"answer_count":2,"score":1,"last_activity_date":1682684250,"creation_date":1682623863,"question_id":76124016,"body_markdown":"I have an array of strings that I would like to use for multiple unit tests. In an effort to de-duplicate my code and to minimize the number of changes I would need to make to my test parameters in the future, I have tried defining a variable within my JUnit test class and then re-using this variable as the input parameter for each of my `@ValueSource` annotations. Is this even possible or am I overlooking a simple mistake?\r\n\r\n\r\n```java\r\nprivate static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\r\n// This fails with the message that `myParameters` isn&#39;t a recognized symbol, probably because it&#39;s not a valid Element for @ValueSource\r\n@ParameterizedTest\r\n@ValueSource(myParameters)\r\npublic void myTest(String param) {\r\n  // doesn&#39;t compile\r\n}\r\n\r\n// This fails with the message that &quot;incompatible types: String[] cannot be converted to String&quot;\r\n@ParameterizedTest\r\n@ValueSource(strings = myParameters)\r\npublic void myTest(String param) {\r\n  // doesn&#39;t compile\r\n}\r\n\r\n// This works fine, but I would need to duplicate the values of `strings` for each test\r\n@ParameterizedTest\r\n@ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;})\r\npublic void myTest(String param) {\r\n  // works fine, but its duplicative in terms of the @ValueSource parameter\r\n}\r\n```\r\n\r\n\r\nReferences:\r\n- [Annotation Type ValueSource][1]\r\n- [JUnit GitHub][2]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/ValueSource.html\r\n  [2]: https://github.com/jashburn8020/junit-5-user-guide#valuesource","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I have an array of strings that I would like to use for multiple unit tests. In an effort to de-duplicate my code and to minimize the number of changes I would need to make to my test parameters in the future, I have tried defining a variable within my JUnit test class and then re-using this variable as the input parameter for each of my <code>@ValueSource</code> annotations. Is this even possible or am I overlooking a simple mistake?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n\n// This fails with the message that `myParameters` isn't a recognized symbol, probably because it's not a valid Element for @ValueSource\n@ParameterizedTest\n@ValueSource(myParameters)\npublic void myTest(String param) {\n  // doesn't compile\n}\n\n// This fails with the message that &quot;incompatible types: String[] cannot be converted to String&quot;\n@ParameterizedTest\n@ValueSource(strings = myParameters)\npublic void myTest(String param) {\n  // doesn't compile\n}\n\n// This works fine, but I would need to duplicate the values of `strings` for each test\n@ParameterizedTest\n@ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;})\npublic void myTest(String param) {\n  // works fine, but its duplicative in terms of the @ValueSource parameter\n}\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/ValueSource.html\" rel=\"nofollow noreferrer\">Annotation Type ValueSource</a></li>\n<li><a href=\"https://github.com/jashburn8020/junit-5-user-guide#valuesource\" rel=\"nofollow noreferrer\">JUnit GitHub</a></li>\n</ul>\n"},{"tags":["java","rest","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"score":0,"creation_date":1682684445,"post_id":76129483,"comment_id":134258339,"body_markdown":"there is no toD method under rest. I am using apache camel 3.20.3","body":"there is no toD method under rest. I am using apache camel 3.20.3"},{"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"score":0,"creation_date":1682684948,"post_id":76129483,"comment_id":134258474,"body_markdown":"it s basic dsl definition of camel , I think all version have toD","body":"it s basic dsl definition of camel , I think all version have toD"},{"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"score":0,"creation_date":1682685446,"post_id":76129483,"comment_id":134258591,"body_markdown":"when I change &quot;to&quot; to &quot;toD&quot; it gives error  Cannot resolve method &#39;toD&#39; in &#39;RestDefinition&#39;","body":"when I change &quot;to&quot; to &quot;toD&quot; it gives error  Cannot resolve method &#39;toD&#39; in &#39;RestDefinition&#39;"},{"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"score":0,"creation_date":1682685719,"post_id":76129483,"comment_id":134258677,"body_markdown":"understood u should just change for this line  weather:foo?location=${header.city},${header.country}&amp;appid=8b...","body":"understood u should just change for this line  weather:foo?location=${header.city},${header.country}&amp;appid=&zwnj;&#8203;8b..."},{"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"score":0,"creation_date":1682686347,"post_id":76129483,"comment_id":134258835,"body_markdown":"yea it solved changeing &quot;to&quot; to toD in &quot;from&quot; part","body":"yea it solved changeing &quot;to&quot; to toD in &quot;from&quot; part"}],"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682684135,"creation_date":1682684135,"answer_id":76129483,"question_id":76128911,"body_markdown":"U must use &#39;toD&#39; (to Dynamic )instead of &#39;to&#39; \r\n\r\n    .toD(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\r\n\r\n","title":"apache camel rest dsl parameter passing","body":"<p>U must use 'toD' (to Dynamic )instead of 'to'</p>\n<pre><code>.toD(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\n</code></pre>\n"}],"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76129483,"answer_count":1,"score":1,"last_activity_date":1682684135,"creation_date":1682679652,"question_id":76128911,"body_markdown":"I want to get whether information by city via apache camel weather api.\r\nI can get whether information from api but when I want to pass cirt and country information to rest api I got error. \r\n\r\nI couldnt find any example that shows how to pass a header information from consumer to processor.\r\n\r\nHere is my code\r\n\r\n      @Override\r\n    public void configure() throws Exception {\r\n\r\n        rest(&quot;/api&quot;).description(&quot;Weather api&quot;)\r\n                .consumes(MediaType.APPLICATION_JSON_VALUE)\r\n                .produces(MediaType.APPLICATION_JSON_VALUE)\r\n                .get(&quot;/weather&quot;).description(&quot;Get weather by city&quot;)\r\n                .param().name(&quot;city&quot;).type(RestParamType.header).description(&quot;The city name&quot;).dataType(&quot;string&quot;).endParam()\r\n                .param().name(&quot;country&quot;).type(RestParamType.header).description(&quot;The country name&quot;).dataType(&quot;string&quot;).endParam()\r\n                .to(&quot;direct:weather&quot;);\r\n\r\n        from(&quot;direct:weather&quot;)\r\n                .log(&quot;Get weather by city&quot;)\r\n                .to(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\r\n                .log(&quot;Weather: ${body}&quot;);\r\n    }\r\nas you can see I got 2 parameters in rest api and I want to use these parameters in &quot;from&quot; part to pass these parameters to my camel weather api\r\n\r\nhave any idea","title":"apache camel rest dsl parameter passing","body":"<p>I want to get whether information by city via apache camel weather api.\nI can get whether information from api but when I want to pass cirt and country information to rest api I got error.</p>\n<p>I couldnt find any example that shows how to pass a header information from consumer to processor.</p>\n<p>Here is my code</p>\n<pre><code>  @Override\npublic void configure() throws Exception {\n\n    rest(&quot;/api&quot;).description(&quot;Weather api&quot;)\n            .consumes(MediaType.APPLICATION_JSON_VALUE)\n            .produces(MediaType.APPLICATION_JSON_VALUE)\n            .get(&quot;/weather&quot;).description(&quot;Get weather by city&quot;)\n            .param().name(&quot;city&quot;).type(RestParamType.header).description(&quot;The city name&quot;).dataType(&quot;string&quot;).endParam()\n            .param().name(&quot;country&quot;).type(RestParamType.header).description(&quot;The country name&quot;).dataType(&quot;string&quot;).endParam()\n            .to(&quot;direct:weather&quot;);\n\n    from(&quot;direct:weather&quot;)\n            .log(&quot;Get weather by city&quot;)\n            .to(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\n            .log(&quot;Weather: ${body}&quot;);\n}\n</code></pre>\n<p>as you can see I got 2 parameters in rest api and I want to use these parameters in &quot;from&quot; part to pass these parameters to my camel weather api</p>\n<p>have any idea</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1682681123,"post_id":76128880,"comment_id":134257582,"body_markdown":"Reference: https://rules.sonarsource.com/java/RSPEC-5845","body":"Reference: <a href=\"https://rules.sonarsource.com/java/RSPEC-5845\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-5845</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682681992,"post_id":76128880,"comment_id":134257769,"body_markdown":"Lombok transforms your code into `Object transformedValue = engine.eval(script, bindings);`. And SonarQube warns when &quot;_comparing an object with an unrelated primitive (E.G. a string with an int)_&quot;. A possible fix on your side might be to change the assertion to `assertEquals(Boolean.TRUE, transformedValue);`","body":"Lombok transforms your code into <code>Object transformedValue = engine.eval(script, bindings);</code>. And SonarQube warns when &quot;<i>comparing an object with an unrelated primitive (E.G. a string with an int)</i>&quot;. A possible fix on your side might be to change the assertion to <code>assertEquals(Boolean.TRUE, transformedValue);</code>"}],"answers":[{"comments":[{"owner":{"account_id":5031571,"reputation":805,"user_id":4528799,"accept_rate":81,"display_name":"Kevin"},"score":0,"creation_date":1682682014,"post_id":76129185,"comment_id":134257775,"body_markdown":"of course this is possible but doing such changes in a lot of places in the code is not what we really want to do to be honest","body":"of course this is possible but doing such changes in a lot of places in the code is not what we really want to do to be honest"},{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1682683894,"post_id":76129185,"comment_id":134258197,"body_markdown":"@Kevin you can create custom void function for that for less changes.","body":"@Kevin you can create custom void function for that for less changes."}],"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682683842,"creation_date":1682681753,"answer_id":76129185,"question_id":76128880,"body_markdown":"I assume value of `transformedValue` is `&quot;true&quot;`, so I recommend changing:\r\n```java\r\nassertEquals(true, transformedValue);\r\n```\r\nto\r\n```java\r\nassertEquals(true, new Boolean(transformedValue.toString()));\r\n```\r\nfor getting the same type.\r\n\r\n---\r\n\r\n**Edit**\r\n\r\nYou can also create custom function:\r\n```java\r\npublic void myAssertEquals(boolean bool, Object obj) {\r\n  assertEquals(bool, new Boolean(obj.toString()));\r\n}\r\n```\r\n\r\nUsage:\r\n```java\r\nmyAssertEquals(true, transformedValue);\r\n```","title":"SonarQube recognize Lombok Val as Bug","body":"<p>I assume value of <code>transformedValue</code> is <code>&quot;true&quot;</code>, so I recommend changing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(true, transformedValue);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(true, new Boolean(transformedValue.toString()));\n</code></pre>\n<p>for getting the same type.</p>\n<hr />\n<p><strong>Edit</strong></p>\n<p>You can also create custom function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myAssertEquals(boolean bool, Object obj) {\n  assertEquals(bool, new Boolean(obj.toString()));\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myAssertEquals(true, transformedValue);\n</code></pre>\n"}],"owner":{"account_id":5031571,"reputation":805,"user_id":4528799,"accept_rate":81,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682683842,"creation_date":1682679444,"question_id":76128880,"body_markdown":"I have a java program with a line of code like this in the corresponding test file:\r\n\r\n```java\r\nval transformedValue = engine.eval(script, bindings);\r\nassertEquals(true, transformedValue);\r\n```\r\n\r\nWe are using the `Lombok::val` here but SonarQube Report says this is a bug.\r\n\r\n```\r\nChange the assertion arguments to not compare dissimilar types.\r\n```\r\n\r\nIs there a flag which could be used so that sonar get the right datatype?","title":"SonarQube recognize Lombok Val as Bug","body":"<p>I have a java program with a line of code like this in the corresponding test file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val transformedValue = engine.eval(script, bindings);\nassertEquals(true, transformedValue);\n</code></pre>\n<p>We are using the <code>Lombok::val</code> here but SonarQube Report says this is a bug.</p>\n<pre><code>Change the assertion arguments to not compare dissimilar types.\n</code></pre>\n<p>Is there a flag which could be used so that sonar get the right datatype?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1682683697,"post_id":76129403,"comment_id":134258157,"body_markdown":"Did you add the correct permission into the manifest? https://developer.android.com/guide/topics/permissions/overview","body":"Did you add the correct permission into the manifest? <a href=\"https://developer.android.com/guide/topics/permissions/overview\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/permissions/overview</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682683857,"post_id":76129403,"comment_id":134258188,"body_markdown":"@GabeRAMturn, please tell which permissions. This is too vague. There are no permissions needed to my knowledge.","body":"@GabeRAMturn, please tell which permissions. This is too vague. There are no permissions needed to my knowledge."},{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1682683933,"post_id":76129403,"comment_id":134258209,"body_markdown":"Well, considering you‘re trying to access files, you‘d probably need to add file system permissions into the manifest.","body":"Well, considering you‘re trying to access files, you‘d probably need to add file system permissions into the manifest."},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682683986,"post_id":76129403,"comment_id":134258222,"body_markdown":"I am checking it right now","body":"I am checking it right now"},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682684198,"post_id":76129403,"comment_id":134258274,"body_markdown":"I added the permissions internet into the manifest file","body":"I added the permissions internet into the manifest file"},{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1682687620,"post_id":76129403,"comment_id":134259126,"body_markdown":"https://developer.android.com/training/data-storage/shared/photopicker\nhttps://android-developers.googleblog.com/2023/04/photo-picker-everywhere.html","body":"<a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared/photopick&zwnj;&#8203;er</a> <a href=\"https://android-developers.googleblog.com/2023/04/photo-picker-everywhere.html\" rel=\"nofollow noreferrer\">android-developers.googleblog.com/2023/04/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682688994,"post_id":76129403,"comment_id":134259439,"body_markdown":"@GabeRAMturn, No, certainly not if you let the user pick files. No permissions needed. Please dont confuse poster.","body":"@GabeRAMturn, No, certainly not if you let the user pick files. No permissions needed. Please dont confuse poster."},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682689341,"post_id":76129403,"comment_id":134259518,"body_markdown":"Why isn&#39;t my activitylauncher working?? i ve been stuck to it for 2 days. Please help, where am i mistaking","body":"Why isn&#39;t my activitylauncher working?? i ve been stuck to it for 2 days. Please help, where am i mistaking"},{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1682752415,"post_id":76129403,"comment_id":134267916,"body_markdown":"I think you would need permissions to read the contents of the device for selecting image from the device. Refer to the below link.  https://stackoverflow.com/a/32617585/5362509","body":"I think you would need permissions to read the contents of the device for selecting image from the device. Refer to the below link.  <a href=\"https://stackoverflow.com/a/32617585/5362509\">stackoverflow.com/a/32617585/5362509</a>"},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1683374016,"post_id":76129403,"comment_id":134359007,"body_markdown":"I cannot use permission inside the fragment either. Program says &#39;cannot resolve symbol READ_EXTERNAL_STORAGE&#39; , even though it is in my manifests file.","body":"I cannot use permission inside the fragment either. Program says &#39;cannot resolve symbol READ_EXTERNAL_STORAGE&#39; , even though it is in my manifests file."}],"owner":{"display_name":"user18540930"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682683757,"creation_date":1682683526,"question_id":76129403,"body_markdown":"[![Login page][1]][1]I am coding the add fragment. That is on the right of the bottom navigation menu. But when i press add on the navigation it keeps navigating to the home page. And when it works properly i can not add a photo picker to users to pick image from gallery. My code is below[![enter image description here][2]][2]\r\n\r\n```\r\npackage com.example.uninotes;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class AddFragment extends Fragment {\r\n\r\n    ImageView imgGallery;\r\n    Button btnGallery;\r\n\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activitylauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    Log.d(TAG, &quot;onActivityResult: &quot;);\r\n                }\r\n            }\r\n    );\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_add,container,false);\r\n        btnGallery = getView().findViewById(R.id.clickable);\r\n        imgGallery = getView().findViewById(R.id.imageView2);\r\n\r\n        btnGallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                activitylauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI was trying to make the user pick image from the gallery.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rBMT9.png\r\n  [2]: https://i.stack.imgur.com/atxlV.png","title":"I cannot add images from gallery Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/rBMT9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rBMT9.png\" alt=\"Login page\" /></a>I am coding the add fragment. That is on the right of the bottom navigation menu. But when i press add on the navigation it keeps navigating to the home page. And when it works properly i can not add a photo picker to users to pick image from gallery. My code is below<a href=\"https://i.stack.imgur.com/atxlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atxlV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.example.uninotes;\n\nimport static android.app.Activity.RESULT_OK;\nimport static android.content.ContentValues.TAG;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.Fragment;\n\npublic class AddFragment extends Fragment {\n\n    ImageView imgGallery;\n    Button btnGallery;\n\n\n    ActivityResultLauncher&lt;Intent&gt; activitylauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    Log.d(TAG, &quot;onActivityResult: &quot;);\n                }\n            }\n    );\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_add,container,false);\n        btnGallery = getView().findViewById(R.id.clickable);\n        imgGallery = getView().findViewById(R.id.imageView2);\n\n        btnGallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                activitylauncher.launch(intent);\n            }\n        });\n\n        return view;\n    }\n}\n</code></pre>\n<p>I was trying to make the user pick image from the gallery.</p>\n"},{"tags":["java","android","kotlin","surfaceview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1682530546,"post_id":76113178,"comment_id":134232358,"body_markdown":"You&#39;d need to show us the actual code you&#39;re trying to optimize.  There&#39;s too many things you could be doing wrong to guess from a description","body":"You&#39;d need to show us the actual code you&#39;re trying to optimize.  There&#39;s too many things you could be doing wrong to guess from a description"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1682530590,"post_id":76113178,"comment_id":134232369,"body_markdown":"But if 565 gets your 60fps and 8888 gets your 25, and 565 doesn&#39;t display correctly, odds are it&#39;s not actually doing any work.","body":"But if 565 gets your 60fps and 8888 gets your 25, and 565 doesn&#39;t display correctly, odds are it&#39;s not actually doing any work."},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1682533296,"post_id":76113178,"comment_id":134232885,"body_markdown":"Hi @GabeSechan I added the important code. I hope it is quite understandable...","body":"Hi @GabeSechan I added the important code. I hope it is quite understandable..."}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682683294,"creation_date":1682527237,"question_id":76113178,"body_markdown":"I am trying to improve speed of my drawing bitmap (bitmaps are made in Tiled application). I read that I can try to use RGB_565 option instead of ARGB_8888 when it comes to `createBitmap(...)` last argument. I also set `getHolder().setFormat(PixelFormat.RGB_565)` in the constructors of my custom SurfaceView class like somebody said in this post https://stackoverflow.com/a/14615533/21172734. \r\n\r\nNow **what I want is** to display all tiles on the screen because now only one of them shows up (because of changing Bitmap option from ARGB_8888 to RGB_565).\r\n\r\n&lt;s&gt;The problem is that when I set this RGB_565 in all those places the bitmaps are not drawing and I get blank screen but when there is ARGB_8888 set I have my bitmaps correctly displayed but slow. According to TinyDancer library with RGB_565 (empty screen) I get 60FPS while with ARGB_8888  I get only 20FPS so I want to improve it as much as possible.&lt;/s&gt;\r\n\r\n**EDIT**\r\n\r\nIt turned out my map somehow displays but only one layer, and this layer is even displayed partialy (only one tile). The majority of tiles don&#39;t show up. Before, I didn&#39;t notice that simply because my map was quite big. Now I reduce its size almost to minimum (8x8) and this map visual might makes no sense but it is for learning purposes and then later on making a tiled based game. \r\n\r\nNow, how it should looks like (screenshot from Tiled app). &#39;Grass&#39; layer is static layer of grass but layer &#39;anim&#39; is located in two places this tree  and moshrooms and they animate, tree - three frames of anim, moshrooms - two frames of anim:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the only one tile that is displayed in phone when Bitmap.Config.RGB_565 is set. I bordered it with yellow circle \r\n\r\n\r\n[![enter image description here][2]][2]:\r\n\r\n\r\n\r\n\r\nARGB_8888 displays all tiles correctly, but as I said before I want RGB_565 because of better performance:\r\n\r\n**EDIT2**\r\n\r\nHere is my code.\r\n\r\nGameMainSurface.java\r\n\r\n    public class GameMainSurface extends GameSurface implements SurfaceHolder.Callback {\r\n\r\n    (...)\r\n    \r\n        public GameMainSurface(Context context) {\r\n            super(context);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        public GameMainSurface(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        public GameMainSurface(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        @Override\r\n        public void draw(Canvas canvas) {\r\n            super.draw(canvas);\r\n    \r\n            Loader.drawTmxMaps(canvas, getContext());\r\n    \r\n            invalidate();\r\n        }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        this.holder = holder;\r\n        (...)\r\n        initMaps();\r\n    }\r\n\r\n    protected void initMaps() {\r\n        TileMapData tileMainMapData = TmxLoader.readTMX(&quot;map_main4.tmx&quot;, context);\r\n        TmxLoader.createBitmaps(tileMainMapData, 0, 4, this);\r\n     } \r\n    }\r\n\r\n  \r\n\r\nLoader.java\r\n\r\n    public class Loader {\r\n\r\n    private static final String TAG = TmxLoader.class.getSimpleName();\r\n\r\n    private static final Map&lt;Integer, Bitmap[]&gt; framesMap = new HashMap&lt;&gt;();\r\n    private static final Map&lt;Integer, Canvas[]&gt; canvasesMap = new HashMap&lt;&gt;();\r\n    private static final Map&lt;Integer, Long&gt; animsDuration = new HashMap&lt;&gt;();\r\n    private static final List&lt;Runnable&gt; runnables = new ArrayList&lt;&gt;();\r\n    private static final Handler handler = new Handler();\r\n\r\n    private static boolean isIterStarted = false;\r\n\r\n    (...)\r\n\r\n    public static TileMapData readTMX(String filename, Context c) {\r\n        TileMapData tileMapData = null;\r\n\r\n        // Initialize SAX\r\n        try {\r\n\r\n            SAXParserFactory spf = SAXParserFactory.newInstance();\r\n            SAXParser parser = spf.newSAXParser();\r\n            XMLReader reader = parser.getXMLReader();\r\n\r\n            // Create an instance of the TMX XML handler\r\n            // that will create a TileMapData object\r\n            TmxHandler handler = new TmxHandler();\r\n\r\n            reader.setContentHandler(handler);\r\n\r\n            AssetManager assetManager = c.getAssets();\r\n\r\n            reader.parse((new InputSource(assetManager.open(filename))));\r\n\r\n            // Extract the created object\r\n            tileMapData = handler.getData();\r\n\r\n\r\n        } catch (ParserConfigurationException pce) {\r\n            Log.e(TAG, &quot;SAX XML parse error&quot;, pce);\r\n        } catch (SAXException se) {\r\n            Log.e(TAG, &quot;SAX XML error&quot;, se);\r\n        } catch (IOException ioe) {\r\n            Log.e(TAG, &quot;SAX XML parse io error&quot;, ioe);\r\n        }\r\n\r\n        return tileMapData;\r\n    }\r\n\r\n    public static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\r\n\r\n        try {\r\n            AssetManager assetManager = gameSurface.getContext().getAssets();\r\n\r\n            Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\r\n\r\n            for (int i = 0; i &lt; tilesets.length; i++) {\r\n                tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\r\n            }\r\n\r\n            long currentGID;\r\n            Long localGID;\r\n            Integer currentTileSetIndex;\r\n            Rect source = new Rect(0, 0, 0, 0);\r\n            Rect dest = new Rect(0, 0, 0, 0);\r\n\r\n            boolean isAfterInit = false;\r\n            List&lt;Integer&gt; animFrames = new ArrayList&lt;&gt;();\r\n\r\n            for (int i = startLayer; i &lt; endLayer; i++) {\r\n                // endlessblow_main4.tmx = 12\r\n                for (int j = 0; j &lt; t.layers.get(i).height; j++) {\r\n                    // endlessblow_main4.tmx = 8\r\n                    for (int k = 0; k &lt; t.layers.get(i).width; k++) {\r\n\r\n                        currentGID = t.getGIDAt(k, j, i);\r\n                        localGID = t.getLocalID(currentGID);\r\n                        currentTileSetIndex = t.getTileSetIndex(currentGID);\r\n\r\n\r\n\r\n                        if (!isAfterInit) {\r\n                            animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations).map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\r\n                            for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\r\n                                for (int m = 0; m &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); m++) {\r\n                                    animsDuration.put(l, t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(m).getDuration());\r\n                                }\r\n                            }\r\n                            init(animFrames, t);\r\n                            isAfterInit = true;\r\n                        }\r\n\r\n                        if (localGID != null) {\r\n                            if (i == startLayer) {\r\n                                source.top = (((localGID).intValue()) / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight;\r\n                                source.left = (((localGID).intValue()) % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth;\r\n                                source.bottom = source.top + t.tileheight;\r\n                                source.right = source.left + t.tilewidth;\r\n\r\n                                dest.top = j * t.tileheight;\r\n                                dest.left = k * t.tilewidth;\r\n                                dest.bottom = dest.top + t.tileheight;\r\n                                dest.right = dest.left + t.tilewidth;\r\n\r\n                                for (Canvas canvas : canvasesMap.get(0)) {\r\n                                    canvas.drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\r\n                                }\r\n                            } else {\r\n                                for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\r\n\r\n                                    if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\r\n                                        for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\r\n\r\n                                            source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\r\n                                            source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\r\n                                            source.bottom = source.top + t.tileheight;\r\n                                            source.right = source.left + t.tilewidth;\r\n\r\n                                            dest.top = j * t.tileheight;\r\n                                            dest.left = k * t.tilewidth;\r\n                                            dest.bottom = dest.top + t.tileheight;\r\n                                            dest.right = dest.left + t.tilewidth;\r\n\r\n                                            canvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; framesMap.size(); i++) {\r\n                for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                    framesMap.get(i)[j] = Bitmap.createScaledBitmap(framesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\r\n        for (int i = 0; i &lt; animFrames.size(); i++) {\r\n            runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\r\n            framesMap.put(i, new Bitmap[animFrames.get(i)]);\r\n            canvasesMap.put(i, new Canvas[animFrames.get(i)]);\r\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                framesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.RGB_565);\r\n                canvasesMap.get(i)[j] = new Canvas(framesMap.get(i)[j]);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        for (int i = 0; i &lt; framesMap.size(); i++) {\r\n            canvas.drawBitmap(framesMap.get(i)[((FrameDurationRunnable) runnables.get(i)).iter], 0, 0, null);\r\n        }\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n\r\n    private static void iterTmxFrames() {\r\n        for (int i = 0; i &lt; runnables.size(); i++) {\r\n            handler.postDelayed(runnables.get(i), animsDuration.get(i));\r\n        }\r\n    }\r\n\r\n    private static class FrameDurationRunnable implements Runnable {\r\n        private final int animMaxIter;\r\n        private final long frameDuration;\r\n\r\n        private int iter;\r\n\r\n        FrameDurationRunnable(final int animMaxIter, final long frameDuration) {\r\n            this.animMaxIter = animMaxIter;\r\n            this.frameDuration = frameDuration;\r\n        }\r\n\r\n        public void run() {\r\n            iter++;\r\n            if (iter == animMaxIter) iter = 0;\r\n            handler.postDelayed(this, frameDuration);\r\n        }\r\n    }\r\n    }\r\n\r\nWhat solutions do you see?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ttqon.png\r\n  [2]: https://i.stack.imgur.com/fKmww.png","title":"Android createBitmap(...) with RGB_565 option instead of ARGB_8888 do not show most of tiles","body":"<p>I am trying to improve speed of my drawing bitmap (bitmaps are made in Tiled application). I read that I can try to use RGB_565 option instead of ARGB_8888 when it comes to <code>createBitmap(...)</code> last argument. I also set <code>getHolder().setFormat(PixelFormat.RGB_565)</code> in the constructors of my custom SurfaceView class like somebody said in this post <a href=\"https://stackoverflow.com/a/14615533/21172734\">https://stackoverflow.com/a/14615533/21172734</a>.</p>\n<p>Now <strong>what I want is</strong> to display all tiles on the screen because now only one of them shows up (because of changing Bitmap option from ARGB_8888 to RGB_565).</p>\n<p><s>The problem is that when I set this RGB_565 in all those places the bitmaps are not drawing and I get blank screen but when there is ARGB_8888 set I have my bitmaps correctly displayed but slow. According to TinyDancer library with RGB_565 (empty screen) I get 60FPS while with ARGB_8888  I get only 20FPS so I want to improve it as much as possible.</s></p>\n<p><strong>EDIT</strong></p>\n<p>It turned out my map somehow displays but only one layer, and this layer is even displayed partialy (only one tile). The majority of tiles don't show up. Before, I didn't notice that simply because my map was quite big. Now I reduce its size almost to minimum (8x8) and this map visual might makes no sense but it is for learning purposes and then later on making a tiled based game.</p>\n<p>Now, how it should looks like (screenshot from Tiled app). 'Grass' layer is static layer of grass but layer 'anim' is located in two places this tree  and moshrooms and they animate, tree - three frames of anim, moshrooms - two frames of anim:</p>\n<p><a href=\"https://i.stack.imgur.com/ttqon.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ttqon.png\" alt=\"enter image description here\" /></a></p>\n<p>And the only one tile that is displayed in phone when Bitmap.Config.RGB_565 is set. I bordered it with yellow circle</p>\n<p><a href=\"https://i.stack.imgur.com/fKmww.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fKmww.png\" alt=\"enter image description here\" /></a>:</p>\n<p>ARGB_8888 displays all tiles correctly, but as I said before I want RGB_565 because of better performance:</p>\n<p><strong>EDIT2</strong></p>\n<p>Here is my code.</p>\n<p>GameMainSurface.java</p>\n<pre><code>public class GameMainSurface extends GameSurface implements SurfaceHolder.Callback {\n\n(...)\n\n    public GameMainSurface(Context context) {\n        super(context);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    public GameMainSurface(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    public GameMainSurface(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        super.draw(canvas);\n\n        Loader.drawTmxMaps(canvas, getContext());\n\n        invalidate();\n    }\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    this.holder = holder;\n    (...)\n    initMaps();\n}\n\nprotected void initMaps() {\n    TileMapData tileMainMapData = TmxLoader.readTMX(&quot;map_main4.tmx&quot;, context);\n    TmxLoader.createBitmaps(tileMainMapData, 0, 4, this);\n } \n}\n</code></pre>\n<p>Loader.java</p>\n<pre><code>public class Loader {\n\nprivate static final String TAG = TmxLoader.class.getSimpleName();\n\nprivate static final Map&lt;Integer, Bitmap[]&gt; framesMap = new HashMap&lt;&gt;();\nprivate static final Map&lt;Integer, Canvas[]&gt; canvasesMap = new HashMap&lt;&gt;();\nprivate static final Map&lt;Integer, Long&gt; animsDuration = new HashMap&lt;&gt;();\nprivate static final List&lt;Runnable&gt; runnables = new ArrayList&lt;&gt;();\nprivate static final Handler handler = new Handler();\n\nprivate static boolean isIterStarted = false;\n\n(...)\n\npublic static TileMapData readTMX(String filename, Context c) {\n    TileMapData tileMapData = null;\n\n    // Initialize SAX\n    try {\n\n        SAXParserFactory spf = SAXParserFactory.newInstance();\n        SAXParser parser = spf.newSAXParser();\n        XMLReader reader = parser.getXMLReader();\n\n        // Create an instance of the TMX XML handler\n        // that will create a TileMapData object\n        TmxHandler handler = new TmxHandler();\n\n        reader.setContentHandler(handler);\n\n        AssetManager assetManager = c.getAssets();\n\n        reader.parse((new InputSource(assetManager.open(filename))));\n\n        // Extract the created object\n        tileMapData = handler.getData();\n\n\n    } catch (ParserConfigurationException pce) {\n        Log.e(TAG, &quot;SAX XML parse error&quot;, pce);\n    } catch (SAXException se) {\n        Log.e(TAG, &quot;SAX XML error&quot;, se);\n    } catch (IOException ioe) {\n        Log.e(TAG, &quot;SAX XML parse io error&quot;, ioe);\n    }\n\n    return tileMapData;\n}\n\npublic static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\n\n    try {\n        AssetManager assetManager = gameSurface.getContext().getAssets();\n\n        Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\n\n        for (int i = 0; i &lt; tilesets.length; i++) {\n            tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\n        }\n\n        long currentGID;\n        Long localGID;\n        Integer currentTileSetIndex;\n        Rect source = new Rect(0, 0, 0, 0);\n        Rect dest = new Rect(0, 0, 0, 0);\n\n        boolean isAfterInit = false;\n        List&lt;Integer&gt; animFrames = new ArrayList&lt;&gt;();\n\n        for (int i = startLayer; i &lt; endLayer; i++) {\n            // endlessblow_main4.tmx = 12\n            for (int j = 0; j &lt; t.layers.get(i).height; j++) {\n                // endlessblow_main4.tmx = 8\n                for (int k = 0; k &lt; t.layers.get(i).width; k++) {\n\n                    currentGID = t.getGIDAt(k, j, i);\n                    localGID = t.getLocalID(currentGID);\n                    currentTileSetIndex = t.getTileSetIndex(currentGID);\n\n\n\n                    if (!isAfterInit) {\n                        animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations).map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\n                        for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\n                            for (int m = 0; m &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); m++) {\n                                animsDuration.put(l, t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(m).getDuration());\n                            }\n                        }\n                        init(animFrames, t);\n                        isAfterInit = true;\n                    }\n\n                    if (localGID != null) {\n                        if (i == startLayer) {\n                            source.top = (((localGID).intValue()) / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight;\n                            source.left = (((localGID).intValue()) % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth;\n                            source.bottom = source.top + t.tileheight;\n                            source.right = source.left + t.tilewidth;\n\n                            dest.top = j * t.tileheight;\n                            dest.left = k * t.tilewidth;\n                            dest.bottom = dest.top + t.tileheight;\n                            dest.right = dest.left + t.tilewidth;\n\n                            for (Canvas canvas : canvasesMap.get(0)) {\n                                canvas.drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\n                            }\n                        } else {\n                            for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\n\n                                if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\n                                    for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\n\n                                        source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\n                                        source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\n                                        source.bottom = source.top + t.tileheight;\n                                        source.right = source.left + t.tilewidth;\n\n                                        dest.top = j * t.tileheight;\n                                        dest.left = k * t.tilewidth;\n                                        dest.bottom = dest.top + t.tileheight;\n                                        dest.right = dest.left + t.tilewidth;\n\n                                        canvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        for (int i = 0; i &lt; framesMap.size(); i++) {\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\n                framesMap.get(i)[j] = Bitmap.createScaledBitmap(framesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\n            }\n        }\n    } catch (IOException e) {\n        Log.e(TAG, e.getMessage());\n    }\n}\n\n\nprivate static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\n    for (int i = 0; i &lt; animFrames.size(); i++) {\n        runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\n        framesMap.put(i, new Bitmap[animFrames.get(i)]);\n        canvasesMap.put(i, new Canvas[animFrames.get(i)]);\n        for (int j = 0; j &lt; animFrames.get(i); j++) {\n            framesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.RGB_565);\n            canvasesMap.get(i)[j] = new Canvas(framesMap.get(i)[j]);\n        }\n    }\n}\n\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    for (int i = 0; i &lt; framesMap.size(); i++) {\n        canvas.drawBitmap(framesMap.get(i)[((FrameDurationRunnable) runnables.get(i)).iter], 0, 0, null);\n    }\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\n\nprivate static void iterTmxFrames() {\n    for (int i = 0; i &lt; runnables.size(); i++) {\n        handler.postDelayed(runnables.get(i), animsDuration.get(i));\n    }\n}\n\nprivate static class FrameDurationRunnable implements Runnable {\n    private final int animMaxIter;\n    private final long frameDuration;\n\n    private int iter;\n\n    FrameDurationRunnable(final int animMaxIter, final long frameDuration) {\n        this.animMaxIter = animMaxIter;\n        this.frameDuration = frameDuration;\n    }\n\n    public void run() {\n        iter++;\n        if (iter == animMaxIter) iter = 0;\n        handler.postDelayed(this, frameDuration);\n    }\n}\n}\n</code></pre>\n<p>What solutions do you see?</p>\n"},{"tags":["java","selenium-webdriver","testng","rest-assured"],"comments":[{"owner":{"account_id":8808401,"reputation":243,"user_id":6582190,"accept_rate":7,"display_name":"Shankar Daitha"},"score":0,"creation_date":1682682947,"post_id":76129319,"comment_id":134257993,"body_markdown":"&lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;6.797&quot;/&gt;\n\n  &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.371&quot;/&gt;\n\n  &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.505&quot;/&gt;\n\n  &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.481&quot;/&gt;\n\n\nMy TEST-TestSuite.xml file generated like this","body":"&lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;6.797&quot;/&gt;    &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.371&quot;/&gt;    &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.505&quot;/&gt;    &lt;testcase name=&quot;&quot; classname=&quot;ai.test.api.testsuite.test&quot; time=&quot;0.481&quot;/&gt;   My TEST-TestSuite.xml file generated like this"}],"owner":{"account_id":8808401,"reputation":243,"user_id":6582190,"accept_rate":7,"display_name":"Shankar Daitha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682682835,"creation_date":1682682835,"question_id":76129319,"body_markdown":"I am using TestNg framework to execute the test cases. I am planning to integrate Jenkins with Testrail. Jenkins reads the TEST-TestSuite.xml file and send details to testRail. \r\n\r\nBut Testcase name is not coming in TEST-TestSuite.xml file. Following is my testNg.xml to execute tests. I tried two or three types but still not working.\r\n\r\nFile1 : \r\n\r\n```  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\r\n    &lt;groups&gt;\r\n        &lt;run&gt;\r\n            &lt;include name=&quot;Regression&quot;/&gt;\r\n        &lt;/run&gt;\r\n    &lt;/groups&gt;\r\n\r\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\r\n                &lt;methods&gt;\r\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Response with Valid Credentials&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token with Invalid Credentials&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Username&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                    &lt;include name=&quot;verifyTokenWithoutXapi&quot;&gt;\r\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Xapi&quot;/&gt;\r\n                    &lt;/include&gt;\r\n                &lt;/methods&gt;\r\n            &lt;/class&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt; \r\n ```\r\n\r\n\r\nFile2 :\r\n\r\n\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\r\n    &lt;groups&gt;\r\n        &lt;run&gt;\r\n            &lt;include name=&quot;Regression&quot;/&gt;\r\n        &lt;/run&gt;\r\n    &lt;/groups&gt;\r\n\r\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\r\n                &lt;methods&gt;\r\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot; description=&quot;Verify token response with valid credentials&quot;/&gt;\r\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot; description=&quot;Verify token response with invalid credentials&quot;/&gt;\r\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot; description=&quot;Verify token response without username&quot;/&gt;\r\n                    &lt;include name=&quot;verifyTokenWithouttoken&quot; description=&quot;Verify token response without xapi&quot;/&gt;\r\n                &lt;/methods&gt;\r\n            &lt;/class&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt; \r\n ```\r\n\r\n\r\nHow to get test name in &quot;TEST-TestSuite.xml&quot; file","title":"Testcase name is not coming in TEST-TestSuite.xml file","body":"<p>I am using TestNg framework to execute the test cases. I am planning to integrate Jenkins with Testrail. Jenkins reads the TEST-TestSuite.xml file and send details to testRail.</p>\n<p>But Testcase name is not coming in TEST-TestSuite.xml file. Following is my testNg.xml to execute tests. I tried two or three types but still not working.</p>\n<p>File1 :</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\n    &lt;groups&gt;\n        &lt;run&gt;\n            &lt;include name=&quot;Regression&quot;/&gt;\n        &lt;/run&gt;\n    &lt;/groups&gt;\n\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\n                &lt;methods&gt;\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Response with Valid Credentials&quot;/&gt;\n                    &lt;/include&gt;\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token with Invalid Credentials&quot;/&gt;\n                    &lt;/include&gt;\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Username&quot;/&gt;\n                    &lt;/include&gt;\n                    &lt;include name=&quot;verifyTokenWithoutXapi&quot;&gt;\n                        &lt;parameter name=&quot;TestName&quot; value=&quot;Verify Token Without Xapi&quot;/&gt;\n                    &lt;/include&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n<p>File2 :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;External API regression Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;3&quot;&gt;\n    &lt;groups&gt;\n        &lt;run&gt;\n            &lt;include name=&quot;Regression&quot;/&gt;\n        &lt;/run&gt;\n    &lt;/groups&gt;\n\n    &lt;test name=&quot;Token Generation Test Cases&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;ai.test.api.testsuite.test&quot;&gt;\n                &lt;methods&gt;\n                    &lt;include name=&quot;verifyTokenResponseWithValidCredentials&quot; description=&quot;Verify token response with valid credentials&quot;/&gt;\n                    &lt;include name=&quot;verifyTokenWithInvalidCredentials&quot; description=&quot;Verify token response with invalid credentials&quot;/&gt;\n                    &lt;include name=&quot;verifyTokenWithoutUsername&quot; description=&quot;Verify token response without username&quot;/&gt;\n                    &lt;include name=&quot;verifyTokenWithouttoken&quot; description=&quot;Verify token response without xapi&quot;/&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n<p>How to get test name in &quot;TEST-TestSuite.xml&quot; file</p>\n"},{"tags":["java","string","comparison"],"answers":[{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1345704173,"creation_date":1345704173,"answer_id":12089968,"question_id":12089967,"body_markdown":"Without iterating through the strings you can only know *that* they are different, not *where* - and that only if they are of different length. If you really need to know what the different characters are, you must step through both strings in tandem and compare characters at the corresponding places.","title":"Find difference between two Strings","body":"<p>Without iterating through the strings you can only know <em>that</em> they are different, not <em>where</em> - and that only if they are of different length. If you really need to know what the different characters are, you must step through both strings in tandem and compare characters at the corresponding places.</p>\n"},{"comments":[{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":15,"creation_date":1345719656,"post_id":12089970,"comment_id":16154423,"body_markdown":"As far as I see, this does not return characters that are different, but just the whole string from the point where the strings don&#39;t match anymore...","body":"As far as I see, this does not return characters that are different, but just the whole string from the point where the strings don&#39;t match anymore..."},{"owner":{"account_id":239756,"reputation":638,"user_id":509577,"display_name":"alcor"},"score":2,"creation_date":1345734306,"post_id":12089970,"comment_id":16162131,"body_markdown":"@brimborium so maybe you should clarify your question. I think this answer is really appropriate to your original question.","body":"@brimborium so maybe you should clarify your question. I think this answer is really appropriate to your original question."},{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":1,"creation_date":1345734617,"post_id":12089970,"comment_id":16162314,"body_markdown":"@alcor I am not the OP. ;) And I disagree. The original title was a bit misleading, but the question itself always stated clearly that he wants to extract the odd characters...","body":"@alcor I am not the OP. ;) And I disagree. The original title was a bit misleading, but the question itself always stated clearly that he wants to extract the odd characters..."}],"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1499131357,"creation_date":1345717676,"answer_id":12089970,"question_id":12089967,"body_markdown":"You can use [StringUtils.difference(String first, String second)][1].\r\n\r\nThis is how they implemented it:\r\n\r\n    public static String difference(String str1, String str2) {\r\n        if (str1 == null) {\r\n            return str2;\r\n        }\r\n        if (str2 == null) {\r\n            return str1;\r\n        }\r\n        int at = indexOfDifference(str1, str2);\r\n        if (at == INDEX_NOT_FOUND) {\r\n            return EMPTY;\r\n        }\r\n        return str2.substring(at);\r\n    }\r\n\r\n    public static int indexOfDifference(CharSequence cs1, CharSequence cs2) {\r\n        if (cs1 == cs2) {\r\n            return INDEX_NOT_FOUND;\r\n        }\r\n        if (cs1 == null || cs2 == null) {\r\n            return 0;\r\n        }\r\n        int i;\r\n        for (i = 0; i &lt; cs1.length() &amp;&amp; i &lt; cs2.length(); ++i) {\r\n            if (cs1.charAt(i) != cs2.charAt(i)) {\r\n                break;\r\n            }\r\n        }\r\n        if (i &lt; cs2.length() || i &lt; cs1.length()) {\r\n            return i;\r\n        }\r\n        return INDEX_NOT_FOUND;\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#difference(java.lang.String,%20java.lang.String)","title":"Find difference between two Strings","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#difference(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">StringUtils.difference(String first, String second)</a>.</p>\n\n<p>This is how they implemented it:</p>\n\n<pre><code>public static String difference(String str1, String str2) {\n    if (str1 == null) {\n        return str2;\n    }\n    if (str2 == null) {\n        return str1;\n    }\n    int at = indexOfDifference(str1, str2);\n    if (at == INDEX_NOT_FOUND) {\n        return EMPTY;\n    }\n    return str2.substring(at);\n}\n\npublic static int indexOfDifference(CharSequence cs1, CharSequence cs2) {\n    if (cs1 == cs2) {\n        return INDEX_NOT_FOUND;\n    }\n    if (cs1 == null || cs2 == null) {\n        return 0;\n    }\n    int i;\n    for (i = 0; i &lt; cs1.length() &amp;&amp; i &lt; cs2.length(); ++i) {\n        if (cs1.charAt(i) != cs2.charAt(i)) {\n            break;\n        }\n    }\n    if (i &lt; cs2.length() || i &lt; cs1.length()) {\n        return i;\n    }\n    return INDEX_NOT_FOUND;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":264962,"reputation":6378,"user_id":551625,"accept_rate":57,"display_name":"brunoais"},"score":0,"creation_date":1377332723,"post_id":12090993,"comment_id":27054131,"body_markdown":"What if the diff is not after the string and is in the middle?","body":"What if the diff is not after the string and is in the middle?"},{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":0,"creation_date":1426280606,"post_id":12090993,"comment_id":46324004,"body_markdown":"@brunoais If you need to find a mid-string difference, see JRL&#39;s answer.  This was intended to be a simpler answer based on a different interpretation of the question.","body":"@brunoais If you need to find a mid-string difference, see JRL&#39;s answer.  This was intended to be a simpler answer based on a different interpretation of the question."}],"tags":[],"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1345722931,"creation_date":1345722931,"answer_id":12090993,"question_id":12089967,"body_markdown":"    String strDiffChop(String s1, String s2) {\r\n        if (s1.length &gt; s2.length) {\r\n            return s1.substring(s2.length - 1);\r\n        } else if (s2.length &gt; s1.length) {\r\n            return s2.substring(s1.length - 1);\r\n        } else {\r\n            return null;\r\n        }\r\n    }","title":"Find difference between two Strings","body":"<pre><code>String strDiffChop(String s1, String s2) {\n    if (s1.length &gt; s2.length) {\n        return s1.substring(s2.length - 1);\n    } else if (s2.length &gt; s1.length) {\n        return s2.substring(s1.length - 1);\n    } else {\n        return null;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6984915,"reputation":101,"user_id":6157138,"display_name":"Tim"},"score":1,"creation_date":1506538495,"post_id":28986180,"comment_id":79866045,"body_markdown":"So &quot;this is a test&quot; and &quot;a test this is&quot; are equal?","body":"So &quot;this is a test&quot; and &quot;a test this is&quot; are equal?"},{"owner":{"account_id":3746354,"reputation":1442,"user_id":3114945,"accept_rate":60,"display_name":"stolen_leaves"},"score":0,"creation_date":1519299157,"post_id":28986180,"comment_id":84858753,"body_markdown":"Yes. However the op seems to be interested only in the difference of charecter rather than the order. Once you have the different words, they can be compared in a similar ways at the charecter Level to find the extra charecters...","body":"Yes. However the op seems to be interested only in the difference of charecter rather than the order. Once you have the different words, they can be compared in a similar ways at the charecter Level to find the extra charecters..."},{"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"score":0,"creation_date":1571244022,"post_id":28986180,"comment_id":103178638,"body_markdown":"Google&#39;s Diff Match Patch is good, but it was a pain to use in my maven project. Just adding a dependency did not work.  Finally, to my pom I added the following:","body":"Google&#39;s Diff Match Patch is good, but it was a pain to use in my maven project. Just adding a dependency did not work.  Finally, to my pom I added the following:"}],"tags":[],"owner":{"account_id":3746354,"reputation":1442,"user_id":3114945,"accept_rate":60,"display_name":"stolen_leaves"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426075459,"creation_date":1426075459,"answer_id":28986180,"question_id":12089967,"body_markdown":"To find the words that are different in the two lines, one can use the following code. \r\n\r\n\r\n        String[] strList1 = str1.split(&quot; &quot;);\r\n        String[] strList2 = str2.split(&quot; &quot;);\r\n\r\n        List&lt;String&gt; list1 = Arrays.asList(strList1);\r\n        List&lt;String&gt; list2 = Arrays.asList(strList2);\r\n\r\n        // Prepare a union\r\n        List&lt;String&gt; union = new ArrayList&lt;&gt;(list1);\r\n        union.addAll(list2);\r\n\r\n        // Prepare an intersection\r\n        List&lt;String&gt; intersection = new ArrayList&lt;&gt;(list1);\r\n        intersection.retainAll(list2);\r\n\r\n        // Subtract the intersection from the union\r\n        union.removeAll(intersection);\r\n\r\n        for (String s : union) {\r\n            System.out.println(s);\r\n        }\r\n\r\nIn the end, you will have a list of words that are different in both the lists. One can modify it easily to simply have the different words in the first list or the second list and not simultaneously. This can be done by removing the intersection from only from list1 or list2 instead of the union. \r\n\r\nComputing the exact location can be done by adding up the lengths of each word in the split list (along with the splitting regex) or by simply doing String.indexOf(&quot;subStr&quot;).","title":"Find difference between two Strings","body":"<p>To find the words that are different in the two lines, one can use the following code. </p>\n\n<pre><code>    String[] strList1 = str1.split(\" \");\n    String[] strList2 = str2.split(\" \");\n\n    List&lt;String&gt; list1 = Arrays.asList(strList1);\n    List&lt;String&gt; list2 = Arrays.asList(strList2);\n\n    // Prepare a union\n    List&lt;String&gt; union = new ArrayList&lt;&gt;(list1);\n    union.addAll(list2);\n\n    // Prepare an intersection\n    List&lt;String&gt; intersection = new ArrayList&lt;&gt;(list1);\n    intersection.retainAll(list2);\n\n    // Subtract the intersection from the union\n    union.removeAll(intersection);\n\n    for (String s : union) {\n        System.out.println(s);\n    }\n</code></pre>\n\n<p>In the end, you will have a list of words that are different in both the lists. One can modify it easily to simply have the different words in the first list or the second list and not simultaneously. This can be done by removing the intersection from only from list1 or list2 instead of the union. </p>\n\n<p>Computing the exact location can be done by adding up the lengths of each word in the split list (along with the splitting regex) or by simply doing String.indexOf(\"subStr\").</p>\n"},{"tags":[],"owner":{"account_id":3356749,"reputation":472,"user_id":2819501,"display_name":"ccu"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1646785572,"creation_date":1430335813,"answer_id":29952864,"question_id":12089967,"body_markdown":"To find the difference between 2 Strings you can use the **[StringUtils][1]** class and the ***difference*** method. It compares the two Strings, and returns the portion where they differ. \r\n\r\n     StringUtils.difference(null, null) = null\r\n     StringUtils.difference(&quot;&quot;, &quot;&quot;) = &quot;&quot;\r\n     StringUtils.difference(&quot;&quot;, &quot;abc&quot;) = &quot;abc&quot;\r\n     StringUtils.difference(&quot;abc&quot;, &quot;&quot;) = &quot;&quot;\r\n     StringUtils.difference(&quot;abc&quot;, &quot;abc&quot;) = &quot;&quot;\r\n     StringUtils.difference(&quot;ab&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\r\n     StringUtils.difference(&quot;abcde&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\r\n     StringUtils.difference(&quot;abcde&quot;, &quot;xyz&quot;) = &quot;xyz&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html","title":"Find difference between two Strings","body":"<p>To find the difference between 2 Strings you can use the <strong><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a></strong> class and the <em><strong>difference</strong></em> method. It compares the two Strings, and returns the portion where they differ.</p>\n<pre><code> StringUtils.difference(null, null) = null\n StringUtils.difference(&quot;&quot;, &quot;&quot;) = &quot;&quot;\n StringUtils.difference(&quot;&quot;, &quot;abc&quot;) = &quot;abc&quot;\n StringUtils.difference(&quot;abc&quot;, &quot;&quot;) = &quot;&quot;\n StringUtils.difference(&quot;abc&quot;, &quot;abc&quot;) = &quot;&quot;\n StringUtils.difference(&quot;ab&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\n StringUtils.difference(&quot;abcde&quot;, &quot;abxyz&quot;) = &quot;xyz&quot;\n StringUtils.difference(&quot;abcde&quot;, &quot;xyz&quot;) = &quot;xyz&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3624035,"reputation":18141,"user_id":3022127,"accept_rate":27,"display_name":"bersling"},"score":0,"creation_date":1540383032,"post_id":52743737,"comment_id":92843477,"body_markdown":"this solves my problem of spellchecking perfectly! this is the most generic solution.","body":"this solves my problem of spellchecking perfectly! this is the most generic solution."},{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":1,"creation_date":1585293790,"post_id":52743737,"comment_id":107713593,"body_markdown":"In case you need to know _where_ the characters that do not match are located: this code can easily be modified to return whatever kind of result you like instead of a pair of string -- just change the return result, the IDE will highlight what you have to do next. And here is some theory about the method: https://dzone.com/articles/the-levenshtein-algorithm-1","body":"In case you need to know <i>where</i> the characters that do not match are located: this code can easily be modified to return whatever kind of result you like instead of a pair of string -- just change the return result, the IDE will highlight what you have to do next. And here is some theory about the method: <a href=\"https://dzone.com/articles/the-levenshtein-algorithm-1\" rel=\"nofollow noreferrer\">dzone.com/articles/the-levenshtein-algorithm-1</a>"}],"tags":[],"owner":{"account_id":1942318,"reputation":661,"user_id":1898348,"display_name":"jjoller"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1549275584,"creation_date":1539185251,"answer_id":52743737,"question_id":12089967,"body_markdown":"The following Java snippet efficiently computes a minimal set of characters that have to be removed from (or added to) the respective strings in order to make the strings equal. It&#39;s an example of dynamic programming.\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class StringUtils {\r\n    \r\n    \t/**\r\n    \t * Examples\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(diff(&quot;this is a example&quot;, &quot;this is a examp&quot;)); // prints (le,)\r\n    \t\tSystem.out.println(diff(&quot;Honda&quot;, &quot;Hyundai&quot;)); // prints (o,yui)\r\n    \t\tSystem.out.println(diff(&quot;Toyota&quot;, &quot;Coyote&quot;)); // prints (Ta,Ce)\r\n    \t\tSystem.out.println(diff(&quot;Flomax&quot;, &quot;Volmax&quot;)); // prints (Fo,Vo)\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Returns a minimal set of characters that have to be removed from (or added to) the respective\r\n    \t * strings to make the strings equal.\r\n    \t */\r\n    \tpublic static Pair&lt;String&gt; diff(String a, String b) {\r\n    \t\treturn diffHelper(a, b, new HashMap&lt;&gt;());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Recursively compute a minimal set of characters while remembering already computed substrings.\r\n    \t * Runs in O(n^2).\r\n    \t */\r\n    \tprivate static Pair&lt;String&gt; diffHelper(String a, String b, Map&lt;Long, Pair&lt;String&gt;&gt; lookup) {\r\n    \t\tlong key = ((long) a.length()) &lt;&lt; 32 | b.length();\r\n            if (!lookup.containsKey(key)) {\r\n                Pair&lt;String&gt; value;\r\n                if (a.isEmpty() || b.isEmpty()) {\r\n                    value = new Pair&lt;&gt;(a, b);\r\n                } else if (a.charAt(0) == b.charAt(0)) {\r\n                    value = diffHelper(a.substring(1), b.substring(1), lookup);\r\n                } else {\r\n                    Pair&lt;String&gt; aa = diffHelper(a.substring(1), b, lookup);\r\n                    Pair&lt;String&gt; bb = diffHelper(a, b.substring(1), lookup);\r\n                    if (aa.first.length() + aa.second.length() &lt; bb.first.length() + bb.second.length()) {\r\n                        value = new Pair&lt;&gt;(a.charAt(0) + aa.first, aa.second);\r\n                    } else {\r\n                        value = new Pair&lt;&gt;(bb.first, b.charAt(0) + bb.second);\r\n                    }\r\n                }\r\n                lookup.put(key, value);\r\n            }\r\n            return lookup.get(key);\r\n    \t}\r\n    \r\n    \tpublic static class Pair&lt;T&gt; {\r\n    \t\tpublic Pair(T first, T second) {\r\n    \t\t\tthis.first = first;\r\n    \t\t\tthis.second = second;\r\n    \t\t}\r\n    \r\n    \t\tpublic final T first, second;\r\n    \r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;(&quot; + first + &quot;,&quot; + second + &quot;)&quot;;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Find difference between two Strings","body":"<p>The following Java snippet efficiently computes a minimal set of characters that have to be removed from (or added to) the respective strings in order to make the strings equal. It's an example of dynamic programming.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class StringUtils {\n\n    /**\n     * Examples\n     */\n    public static void main(String[] args) {\n        System.out.println(diff(\"this is a example\", \"this is a examp\")); // prints (le,)\n        System.out.println(diff(\"Honda\", \"Hyundai\")); // prints (o,yui)\n        System.out.println(diff(\"Toyota\", \"Coyote\")); // prints (Ta,Ce)\n        System.out.println(diff(\"Flomax\", \"Volmax\")); // prints (Fo,Vo)\n    }\n\n    /**\n     * Returns a minimal set of characters that have to be removed from (or added to) the respective\n     * strings to make the strings equal.\n     */\n    public static Pair&lt;String&gt; diff(String a, String b) {\n        return diffHelper(a, b, new HashMap&lt;&gt;());\n    }\n\n    /**\n     * Recursively compute a minimal set of characters while remembering already computed substrings.\n     * Runs in O(n^2).\n     */\n    private static Pair&lt;String&gt; diffHelper(String a, String b, Map&lt;Long, Pair&lt;String&gt;&gt; lookup) {\n        long key = ((long) a.length()) &lt;&lt; 32 | b.length();\n        if (!lookup.containsKey(key)) {\n            Pair&lt;String&gt; value;\n            if (a.isEmpty() || b.isEmpty()) {\n                value = new Pair&lt;&gt;(a, b);\n            } else if (a.charAt(0) == b.charAt(0)) {\n                value = diffHelper(a.substring(1), b.substring(1), lookup);\n            } else {\n                Pair&lt;String&gt; aa = diffHelper(a.substring(1), b, lookup);\n                Pair&lt;String&gt; bb = diffHelper(a, b.substring(1), lookup);\n                if (aa.first.length() + aa.second.length() &lt; bb.first.length() + bb.second.length()) {\n                    value = new Pair&lt;&gt;(a.charAt(0) + aa.first, aa.second);\n                } else {\n                    value = new Pair&lt;&gt;(bb.first, b.charAt(0) + bb.second);\n                }\n            }\n            lookup.put(key, value);\n        }\n        return lookup.get(key);\n    }\n\n    public static class Pair&lt;T&gt; {\n        public Pair(T first, T second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public final T first, second;\n\n        public String toString() {\n            return \"(\" + first + \",\" + second + \")\";\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43616,"user_id":974045,"display_name":"Gibolt"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1610317074,"creation_date":1564541734,"answer_id":57282530,"question_id":12089967,"body_markdown":"To directly get only the changed section, and not just the end, you can use Google&#39;s [Diff Match Patch][1].\r\n\r\n    List&lt;Diff&gt; diffs = new DiffMatchPatch().diffMain(&quot;stringend&quot;, &quot;stringdiffend&quot;);\r\n    for (Diff diff : diffs) {\r\n      if (diff.operation == Operation.INSERT) {\r\n        return diff.text; // Return only single diff, can also find multiple based on use case\r\n      }\r\n    }\r\n\r\nFor Android, add: `implementation &#39;org.bitbucket.cowwoc:diff-match-patch:1.2&#39;`\r\n\r\nThis package is far more powerful than just this feature, it is mainly used for creating diff related tools.\r\n\r\n  [1]: https://github.com/google/diff-match-patch","title":"Find difference between two Strings","body":"<p>To directly get only the changed section, and not just the end, you can use Google's <a href=\"https://github.com/google/diff-match-patch\" rel=\"noreferrer\">Diff Match Patch</a>.</p>\n<pre><code>List&lt;Diff&gt; diffs = new DiffMatchPatch().diffMain(&quot;stringend&quot;, &quot;stringdiffend&quot;);\nfor (Diff diff : diffs) {\n  if (diff.operation == Operation.INSERT) {\n    return diff.text; // Return only single diff, can also find multiple based on use case\n  }\n}\n</code></pre>\n<p>For Android, add: <code>implementation 'org.bitbucket.cowwoc:diff-match-patch:1.2'</code></p>\n<p>This package is far more powerful than just this feature, it is mainly used for creating diff related tools.</p>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571243943,"creation_date":1571243943,"answer_id":58418006,"question_id":12089967,"body_markdown":"Another great library for discovering the difference between strings is DiffUtils at https://github.com/java-diff-utils.  I used Dmitry Naumenko&#39;s fork:\r\n\r\n    public void testDiffChange() {\r\n\t\tfinal List&lt;String&gt; changeTestFrom = Arrays.asList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;);\r\n\t\tfinal List&lt;String&gt; changeTestTo = Arrays.asList(&quot;aaa&quot;, &quot;zzz&quot;, &quot;ccc&quot;);\r\n\t\tSystem.out.println(&quot;changeTestFrom=&quot; + changeTestFrom);\r\n\t\tSystem.out.println(&quot;changeTestTo=&quot; + changeTestTo);\r\n\t\tfinal Patch&lt;String&gt; patch0 = DiffUtils.diff(changeTestFrom, changeTestTo);\r\n\t\tSystem.out.println(&quot;patch=&quot; + Arrays.toString(patch0.getDeltas().toArray()));\r\n\t\t\r\n\t\tString original = &quot;abcdefghijk&quot;;\r\n\t\tString badCopy =  &quot;abmdefghink&quot;;\r\n\t\tList&lt;Character&gt; originalList = original\r\n\t\t\t\t.chars() // Convert to an IntStream\r\n\t\t\t\t.mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\r\n\t\t\t\t.collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\r\n\t\tList&lt;Character&gt; badCopyList = badCopy.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n\t\tSystem.out.println(&quot;original=&quot; + original);\r\n\t\tSystem.out.println(&quot;badCopy=&quot; + badCopy);\r\n\t\tfinal Patch&lt;Character&gt; patch = DiffUtils.diff(originalList, badCopyList);\r\n\t\tSystem.out.println(&quot;patch=&quot; + Arrays.toString(patch.getDeltas().toArray()));\r\n\t}\r\n\r\nThe results show exactly what changed where (zero based counting):\r\n\r\n    changeTestFrom=[aaa, bbb, ccc]\r\n    changeTestTo=[aaa, zzz, ccc]\r\n    patch=[[ChangeDelta, position: 1, lines: [bbb] to [zzz]]]\r\n    original=abcdefghijk\r\n    badCopy=abmdefghink\r\n    patch=[[ChangeDelta, position: 2, lines: [c] to [m]], [ChangeDelta, position: 9, lines: [j] to [n]]]\r\n\r\n","title":"Find difference between two Strings","body":"<p>Another great library for discovering the difference between strings is DiffUtils at <a href=\"https://github.com/java-diff-utils\" rel=\"nofollow noreferrer\">https://github.com/java-diff-utils</a>.  I used Dmitry Naumenko's fork:</p>\n\n<pre><code>public void testDiffChange() {\n    final List&lt;String&gt; changeTestFrom = Arrays.asList(\"aaa\", \"bbb\", \"ccc\");\n    final List&lt;String&gt; changeTestTo = Arrays.asList(\"aaa\", \"zzz\", \"ccc\");\n    System.out.println(\"changeTestFrom=\" + changeTestFrom);\n    System.out.println(\"changeTestTo=\" + changeTestTo);\n    final Patch&lt;String&gt; patch0 = DiffUtils.diff(changeTestFrom, changeTestTo);\n    System.out.println(\"patch=\" + Arrays.toString(patch0.getDeltas().toArray()));\n\n    String original = \"abcdefghijk\";\n    String badCopy =  \"abmdefghink\";\n    List&lt;Character&gt; originalList = original\n            .chars() // Convert to an IntStream\n            .mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\n            .collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\n    List&lt;Character&gt; badCopyList = badCopy.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n    System.out.println(\"original=\" + original);\n    System.out.println(\"badCopy=\" + badCopy);\n    final Patch&lt;Character&gt; patch = DiffUtils.diff(originalList, badCopyList);\n    System.out.println(\"patch=\" + Arrays.toString(patch.getDeltas().toArray()));\n}\n</code></pre>\n\n<p>The results show exactly what changed where (zero based counting):</p>\n\n<pre><code>changeTestFrom=[aaa, bbb, ccc]\nchangeTestTo=[aaa, zzz, ccc]\npatch=[[ChangeDelta, position: 1, lines: [bbb] to [zzz]]]\noriginal=abcdefghijk\nbadCopy=abmdefghink\npatch=[[ChangeDelta, position: 2, lines: [c] to [m]], [ChangeDelta, position: 9, lines: [j] to [n]]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571244968,"creation_date":1571244968,"answer_id":58418246,"question_id":12089967,"body_markdown":"Google&#39;s Diff Match Patch is good, but it was a pain to install into my Java maven project. Just adding a maven dependency did not work; eclipse just created the directory and added the lastUpdated info files. Finally, on the third try, I added the following to my pom:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;fun.mike&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen I manually placed the jar and source jar files into my .m2 repo from https://search.maven.org/search?q=g:fun.mike%20AND%20a:diff-match-patch%20AND%20v:0.0.2 \r\n\r\nAfter all that, the following code worked:\r\n\r\n    import fun.mike.dmp.Diff;\r\n    import fun.mike.dmp.DiffMatchPatch;\r\n    \r\n    DiffMatchPatch dmp = new DiffMatchPatch();\r\n    LinkedList&lt;Diff&gt; diffs = dmp.diff_main(&quot;Hello World.&quot;, &quot;Goodbye World.&quot;);\r\n    System.out.println(diffs);\r\n\r\nThe result:\r\n\r\n    [Diff(DELETE,&quot;Hell&quot;), Diff(INSERT,&quot;G&quot;), Diff(EQUAL,&quot;o&quot;), Diff(INSERT,&quot;odbye&quot;), Diff(EQUAL,&quot; World.&quot;)]\r\n\r\nObviously, this was not originally written (or even ported fully) into Java. (diff_main? I can feel the C burning into my eyes :-) )\r\nStill, it works. And for people working with long and complex strings, it can be a valuable tool.\r\n","title":"Find difference between two Strings","body":"<p>Google's Diff Match Patch is good, but it was a pain to install into my Java maven project. Just adding a maven dependency did not work; eclipse just created the directory and added the lastUpdated info files. Finally, on the third try, I added the following to my pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;fun.mike&lt;/groupId&gt;\n     &lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\n    &lt;version&gt;0.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then I manually placed the jar and source jar files into my .m2 repo from <a href=\"https://search.maven.org/search?q=g:fun.mike%20AND%20a:diff-match-patch%20AND%20v:0.0.2\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=g:fun.mike%20AND%20a:diff-match-patch%20AND%20v:0.0.2</a> </p>\n\n<p>After all that, the following code worked:</p>\n\n<pre><code>import fun.mike.dmp.Diff;\nimport fun.mike.dmp.DiffMatchPatch;\n\nDiffMatchPatch dmp = new DiffMatchPatch();\nLinkedList&lt;Diff&gt; diffs = dmp.diff_main(\"Hello World.\", \"Goodbye World.\");\nSystem.out.println(diffs);\n</code></pre>\n\n<p>The result:</p>\n\n<pre><code>[Diff(DELETE,\"Hell\"), Diff(INSERT,\"G\"), Diff(EQUAL,\"o\"), Diff(INSERT,\"odbye\"), Diff(EQUAL,\" World.\")]\n</code></pre>\n\n<p>Obviously, this was not originally written (or even ported fully) into Java. (diff_main? I can feel the C burning into my eyes :-) )\nStill, it works. And for people working with long and complex strings, it can be a valuable tool.</p>\n"},{"tags":[],"owner":{"account_id":19450392,"reputation":1,"user_id":14226944,"display_name":"Tathagata Chakraborti"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682682734,"creation_date":1624284839,"answer_id":68069520,"question_id":12089967,"body_markdown":"You may try this\r\n\r\n    String a = &quot;this is a example&quot;;\r\n    String b = &quot;this is a examp&quot;;\r\n    \r\n    String ans= a.replace(b, &quot;&quot;);\r\n    \r\n    System.out.print(ans);      \r\n    //ans=le","title":"Find difference between two Strings","body":"<p>You may try this</p>\n<pre><code>String a = &quot;this is a example&quot;;\nString b = &quot;this is a examp&quot;;\n\nString ans= a.replace(b, &quot;&quot;);\n\nSystem.out.print(ans);      \n//ans=le\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1607170,"reputation":7876,"user_id":1487025,"accept_rate":50,"display_name":"Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646334190,"creation_date":1646334190,"answer_id":71342471,"question_id":12089967,"body_markdown":"For a simple use case like this. You can check the sizes of the string and use the split function. For your example\r\n\r\n    a.split(b)[1]","title":"Find difference between two Strings","body":"<p>For a simple use case like this. You can check the sizes of the string and use the split function. For your example</p>\n<pre><code>a.split(b)[1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646772192,"creation_date":1646772192,"answer_id":71401212,"question_id":12089967,"body_markdown":"On top of using `StringUtils.difference(String first, String second)` as seen in other answers, you can also use `StringUtils.indexOfDifference(String first, String second)` to get the index of where the strings start to differ. Ex:\r\n\r\n```Java\r\nStringUtils.indexOfDifference(&quot;abc&quot;, &quot;dabc&quot;) = 0\r\nStringUtils.indexOfDifference(&quot;abc&quot;, &quot;abcd&quot;) = 3\r\n```\r\n\r\nwhere 0 is used as the starting index.","title":"Find difference between two Strings","body":"<p>On top of using <code>StringUtils.difference(String first, String second)</code> as seen in other answers, you can also use <code>StringUtils.indexOfDifference(String first, String second)</code> to get the index of where the strings start to differ. Ex:</p>\n<pre><code>StringUtils.indexOfDifference(&quot;abc&quot;, &quot;dabc&quot;) = 0\nStringUtils.indexOfDifference(&quot;abc&quot;, &quot;abcd&quot;) = 3\n</code></pre>\n<p>where 0 is used as the starting index.</p>\n"},{"tags":[],"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674933760,"creation_date":1674933760,"answer_id":75270258,"question_id":12089967,"body_markdown":"I think the Levenshtein algorithm and the 3rd party libraries brought out for this very simple (and perhaps poorly stated?) test case are WAY overblown.\r\n\r\nAssuming your example does not suggest the two bytes are always different at the end, I&#39;d suggest the JDK&#39;s `Arrays.mismatch( byte[], byte[] )` to find the first index where the two bytes differ.\r\n\r\n\t\tString longer  = &quot;this is a example&quot;;\r\n\t\tString shorter = &quot;this is a examp&quot;;\r\n\t\tint differencePoint = Arrays.mismatch( longer.toCharArray(), shorter.toCharArray() );\r\n\t\tSystem.out.println( differencePoint );\r\n\r\nYou could now repeat the process if you suspect the second character is further along in the String. \r\n\r\nOr, if as you suggest in your example the two characters are together, there is nothing further to do. Your answer then would be:\r\n\r\n\t\tSystem.out.println( longer.charAt( differencePoint ) );\r\n\t\tSystem.out.println( longer.charAt( differencePoint + 1 ) );\r\n\r\nIf your string contains characters outside of the Basic Multilingual Plane - for example emoji - then you have to use a different technique. For example,\r\n\r\n\t\tString a = &quot;a &#128035; is cuter than a &#128007;.&quot;;\r\n\t\tString b = &quot;a &#128035; is cuter than a &#128057;.&quot;;\r\n\t\tint firstDifferentChar \t\t= Arrays.mismatch( a.toCharArray(), b.toCharArray() );\r\n\t\tint firstDifferentCodepoint\t= Arrays.mismatch( a.codePoints().toArray(), b.codePoints().toArray() );\r\n\t\tSystem.out.println( firstDifferentChar );\t\t// prints 22!\r\n\t\tSystem.out.println( firstDifferentCodepoint );\t// prints 20, which is correct.\r\n\t\tSystem.out.println( a.codePoints().toArray()[ firstDifferentCodepoint ] ); // prints out 128007\r\n\t\tSystem.out.println( new String( Character.toChars( 128007 ) ) ); // this prints the rabbit glyph.","title":"Find difference between two Strings","body":"<p>I think the Levenshtein algorithm and the 3rd party libraries brought out for this very simple (and perhaps poorly stated?) test case are WAY overblown.</p>\n<p>Assuming your example does not suggest the two bytes are always different at the end, I'd suggest the JDK's <code>Arrays.mismatch( byte[], byte[] )</code> to find the first index where the two bytes differ.</p>\n<pre><code>    String longer  = &quot;this is a example&quot;;\n    String shorter = &quot;this is a examp&quot;;\n    int differencePoint = Arrays.mismatch( longer.toCharArray(), shorter.toCharArray() );\n    System.out.println( differencePoint );\n</code></pre>\n<p>You could now repeat the process if you suspect the second character is further along in the String.</p>\n<p>Or, if as you suggest in your example the two characters are together, there is nothing further to do. Your answer then would be:</p>\n<pre><code>    System.out.println( longer.charAt( differencePoint ) );\n    System.out.println( longer.charAt( differencePoint + 1 ) );\n</code></pre>\n<p>If your string contains characters outside of the Basic Multilingual Plane - for example emoji - then you have to use a different technique. For example,</p>\n<pre><code>    String a = &quot;a 🐣 is cuter than a 🐇.&quot;;\n    String b = &quot;a 🐣 is cuter than a 🐹.&quot;;\n    int firstDifferentChar      = Arrays.mismatch( a.toCharArray(), b.toCharArray() );\n    int firstDifferentCodepoint = Arrays.mismatch( a.codePoints().toArray(), b.codePoints().toArray() );\n    System.out.println( firstDifferentChar );       // prints 22!\n    System.out.println( firstDifferentCodepoint );  // prints 20, which is correct.\n    System.out.println( a.codePoints().toArray()[ firstDifferentCodepoint ] ); // prints out 128007\n    System.out.println( new String( Character.toChars( 128007 ) ) ); // this prints the rabbit glyph.\n</code></pre>\n"}],"owner":{"account_id":1648811,"reputation":345,"user_id":4607167,"display_name":"user17526"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137633,"favorite_count":0,"down_vote_count":2,"up_vote_count":35,"answer_count":13,"score":33,"last_activity_date":1682682734,"creation_date":1345704029,"question_id":12089967,"body_markdown":"Suppose I have two long strings. They are almost same. \r\n\r\n\r\n    String a = &quot;this is a example&quot;\r\n    String b = &quot;this is a examp&quot;\r\n\r\nAbove code is just for example. Actual strings are quite long.\r\n\r\nProblem is one string have **2 more characters** than the other. \r\n\r\nHow can I check which are those two character? \r\n\r\n","title":"Find difference between two Strings","body":"<p>Suppose I have two long strings. They are almost same. </p>\n\n<pre><code>String a = \"this is a example\"\nString b = \"this is a examp\"\n</code></pre>\n\n<p>Above code is just for example. Actual strings are quite long.</p>\n\n<p>Problem is one string have <strong>2 more characters</strong> than the other. </p>\n\n<p>How can I check which are those two character? </p>\n"},{"tags":["java","annotations","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1682752536,"post_id":76129218,"comment_id":134267930,"body_markdown":"Welcome to SO. Your question is a typical instance of the [XY problem](https://meta.stackexchange.com/a/66378/309898): Your are descibing what you want to do technically instead of showing code and explaining the problem you actually want to solve. What is the point of putting the method signature into an annotation? You can easily get the signature from an aspect advice (via the joinpoint instance) or even from plain Java (via reflection). You would not put an extra sticker with your name on your ID card either, would you? The name is printed on the ID card already.","body":"Welcome to SO. Your question is a typical instance of the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>: Your are descibing what you want to do technically instead of showing code and explaining the problem you actually want to solve. What is the point of putting the method signature into an annotation? You can easily get the signature from an aspect advice (via the joinpoint instance) or even from plain Java (via reflection). You would not put an extra sticker with your name on your ID card either, would you? The name is printed on the ID card already."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1682752693,"post_id":76129218,"comment_id":134267943,"body_markdown":"As for manipulating an annotation value via reflection: Don&#39;t even try, it will not yield consistent results, and it is not meant to either. The whole idea of annotation values is that they are constants defined at compile time. If you feel a need to change them, it only tells you that your application design is flawed. Don&#39;t try to dig a whole with a hammer.","body":"As for manipulating an annotation value via reflection: Don&#39;t even try, it will not yield consistent results, and it is not meant to either. The whole idea of annotation values is that they are constants defined at compile time. If you feel a need to change them, it only tells you that your application design is flawed. Don&#39;t try to dig a whole with a hammer."}],"owner":{"account_id":28084151,"reputation":1,"user_id":21454773,"display_name":"Ti1991"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682682149,"creation_date":1682682067,"question_id":76129218,"body_markdown":"I want to create an aspect, to declare some annotations to some methods, but with an variable parameter.\r\n\r\nAnnotation:\r\n\r\n\r\n```\r\n@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MyCousomAnnotation {\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nTrying to declare these annotation to methods in package: &quot;com.foo&quot; like this below:\r\nBut &lt;MethodSignuature&gt; should be the Signature of the Method, which is annotated with these annotation above. \r\n\r\n```\r\ndeclare @method : * com.foo..*(..) : @MyCustomAnnotaion(value=&lt;MethodSignuature&gt;)\r\n```\r\n\r\nIs it possible?\r\n \r\n\r\nTried to manipulate the &quot;value&quot; of the annotation with java reflection api.","title":"AspectJ Declaring Annotation with various Parameter values dependent on the method?","body":"<p>I want to create an aspect, to declare some annotations to some methods, but with an variable parameter.</p>\n<p>Annotation:</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyCousomAnnotation {\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Trying to declare these annotation to methods in package: &quot;com.foo&quot; like this below:\nBut  should be the Signature of the Method, which is annotated with these annotation above.</p>\n<pre><code>declare @method : * com.foo..*(..) : @MyCustomAnnotaion(value=&lt;MethodSignuature&gt;)\n</code></pre>\n<p>Is it possible?</p>\n<p>Tried to manipulate the &quot;value&quot; of the annotation with java reflection api.</p>\n"},{"tags":["java","xml","json","rest","restful-architecture"],"comments":[{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":1,"creation_date":1394655018,"post_id":22362607,"comment_id":33992049,"body_markdown":"you mean using double the bandwidth for the same content?","body":"you mean using double the bandwidth for the same content?"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":1,"creation_date":1394657604,"post_id":22362607,"comment_id":33993706,"body_markdown":"Sorry for the confusion. But my question should have been &quot;Can a RESTful service generated both XML and JSON response at the same time but just send one based on the client&#39;s &#39;Accept&#39; header&quot; ?","body":"Sorry for the confusion. But my question should have been &quot;Can a RESTful service generated both XML and JSON response at the same time but just send one based on the client&#39;s &#39;Accept&#39; header&quot; ?"}],"answers":[{"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":3,"creation_date":1394657105,"post_id":22362982,"comment_id":33993383,"body_markdown":"Which is precisely what JAX-RS implementations do when you annotate the same method with two types: `@Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })`. So, there is nothing wrong with using the same resource to produce responses in two formats, just know that this will not return a response with &quot;XML and JSON&quot; results simultaneously, it will choose one, the other, or neither according to the http `Accept` header. Check out the [RFC](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html) for more info.","body":"Which is precisely what JAX-RS implementations do when you annotate the same method with two types: <code>@Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })</code>. So, there is nothing wrong with using the same resource to produce responses in two formats, just know that this will not return a response with &quot;XML and JSON&quot; results simultaneously, it will choose one, the other, or neither according to the http <code>Accept</code> header. Check out the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html\" rel=\"nofollow noreferrer\">RFC</a> for more info."},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1394657455,"post_id":22362982,"comment_id":33993607,"body_markdown":"Cool. So based on the &quot;Accept&quot; header which I assume is defined in the client&#39;s browser the response (either Json or Xml) can be dynamically selected by the Restful service at run time and sent back to the client. Correct?","body":"Cool. So based on the &quot;Accept&quot; header which I assume is defined in the client&#39;s browser the response (either Json or Xml) can be dynamically selected by the Restful service at run time and sent back to the client. Correct?"}],"tags":[],"owner":{"account_id":83351,"reputation":1229,"user_id":233751,"display_name":"Pl&#237;nio Pantale&#227;o"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394655821,"creation_date":1394655821,"answer_id":22362982,"question_id":22362607,"body_markdown":"No. The way you represent your resource should be defined by what your clients expect (there is a http-header to say what representations the client accept). \r\nThis means your server should check what is the representation the current client accepts and send the response in this representation (or send a response that says he cannot represent the resource in that media-type)","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p>No. The way you represent your resource should be defined by what your clients expect (there is a http-header to say what representations the client accept). \nThis means your server should check what is the representation the current client accepts and send the response in this representation (or send a response that says he cannot represent the resource in that media-type)</p>\n"},{"tags":[],"owner":{"account_id":3838966,"reputation":1970,"user_id":3182611,"display_name":"Mike Dunker"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1394730871,"creation_date":1394730871,"answer_id":22386032,"question_id":22362607,"body_markdown":"The same resource may return either XML or JSON depending upon the request, but it shouldn&#39;t return both at the same time. You will know which one to return based upon the request, so there is no need to generate both -- just generate the one you&#39;ll be returning.\r\n\r\nHere is how you might choose to decide which to return. Evaluate in order, stopping when you&#39;ve determined the format to return:\r\n\r\n 1. If an extension has been added to the resource (`GET /user/1234.json` or `GET /user/1234.xml`), use that as the requested format.\r\n 2. If an Accept header is set, use that header&#39;s value as the requested format.\r\n 3. If there is a request body (as in the case of a POST), and the Content-Type header specifies JSON or XML, use that.\r\n 4. Use a default format if none of the above apply (generally use JSON as your default unless your customers are generally still using XML).","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p>The same resource may return either XML or JSON depending upon the request, but it shouldn't return both at the same time. You will know which one to return based upon the request, so there is no need to generate both -- just generate the one you'll be returning.</p>\n\n<p>Here is how you might choose to decide which to return. Evaluate in order, stopping when you've determined the format to return:</p>\n\n<ol>\n<li>If an extension has been added to the resource (<code>GET /user/1234.json</code> or <code>GET /user/1234.xml</code>), use that as the requested format.</li>\n<li>If an Accept header is set, use that header's value as the requested format.</li>\n<li>If there is a request body (as in the case of a POST), and the Content-Type header specifies JSON or XML, use that.</li>\n<li>Use a default format if none of the above apply (generally use JSON as your default unless your customers are generally still using XML).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10480311,"reputation":39,"user_id":7725500,"display_name":"Kaji Rafiqul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682681799,"creation_date":1682681799,"answer_id":76129192,"question_id":22362607,"body_markdown":"**Step 1:** Add below dependency under dependencies section in pom.xml\r\n\r\n [![enter image description here][1]][1]\r\n\r\n**Step 2**: Go to your controller class (where mention @RestController) and add below :\r\n\r\n**For get method :**&lt;br&gt;\r\n@GetMapping(path = &quot;/getNews&quot;,produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE})&lt;br&gt;\r\npublic getmethod\r\n&lt;br&gt;{\r\n&lt;br&gt;//your logic &lt;br&gt;\r\n}\r\n\r\nsame like for other method  POST,PUT...&lt;br&gt;\r\n**For post method :**&lt;br&gt;\r\n@PostMapping(produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE} )  \r\npublic postmethod\r\n&lt;br&gt;{\r\n&lt;br&gt;//your logic&lt;br&gt; \r\n}\r\n\r\n**Step 3:** OUTPUT in POSTMAN &lt;br&gt;\r\nIn header section add Key and value&lt;br&gt;\r\n**For XML output** add -&gt; Key as Accept and Value as application/xml as below\r\n[![enter image description here][2]][2]\r\n**For JSON output** add -&gt; Key as Accept and Value as application/json as below\r\n [![enter image description here][3]][3]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sfown.png\r\n  [2]: https://i.stack.imgur.com/2Nzoo.png\r\n  [3]: https://i.stack.imgur.com/f8EGd.png","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p><strong>Step 1:</strong> Add below dependency under dependencies section in pom.xml</p>\n<p><a href=\"https://i.stack.imgur.com/sfown.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sfown.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 2</strong>: Go to your controller class (where mention @RestController) and add below :</p>\n<p><strong>For get method :</strong><br>\n@GetMapping(path = &quot;/getNews&quot;,produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE})<br>\npublic getmethod\n<br>{\n<br>//your logic <br>\n}</p>\n<p>same like for other method  POST,PUT...<br>\n<strong>For post method :</strong><br>\n@PostMapping(produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE} )<br />\npublic postmethod\n<br>{\n<br>//your logic<br>\n}</p>\n<p><strong>Step 3:</strong> OUTPUT in POSTMAN <br>\nIn header section add Key and value<br>\n<strong>For XML output</strong> add -&gt; Key as Accept and Value as application/xml as below\n<a href=\"https://i.stack.imgur.com/2Nzoo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Nzoo.png\" alt=\"enter image description here\" /></a>\n<strong>For JSON output</strong> add -&gt; Key as Accept and Value as application/json as below\n<a href=\"https://i.stack.imgur.com/f8EGd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f8EGd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51786,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22386032,"answer_count":3,"score":10,"last_activity_date":1682681799,"creation_date":1394654672,"question_id":22362607,"body_markdown":"I have a simple RESTful method which currently returns JSON representation of an object. \r\n\r\nMy question is more of from the architectural perspective and not completely technical. \r\n\r\nShould a RESTful service be designed in such a way that it returns both JSON and XML at the same time?\r\n\r\nAs far as I know this is a bad practice and separate resources should be defined for this. One resource should return JSON data and other one XML. \r\n\r\nAm I thinking it correctly?","title":"Can a RESTful service return both JSON and XML for the same resource, depending on the request header?","body":"<p>I have a simple RESTful method which currently returns JSON representation of an object. </p>\n\n<p>My question is more of from the architectural perspective and not completely technical. </p>\n\n<p>Should a RESTful service be designed in such a way that it returns both JSON and XML at the same time?</p>\n\n<p>As far as I know this is a bad practice and separate resources should be defined for this. One resource should return JSON data and other one XML. </p>\n\n<p>Am I thinking it correctly?</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":22065075,"reputation":35,"user_id":16327091,"display_name":"Lee Andrew"},"score":0,"creation_date":1624797849,"post_id":68151270,"comment_id":120450324,"body_markdown":"Thanks so much for your reply. \nCare to explain a little bit more of it?\n:-)","body":"Thanks so much for your reply.  Care to explain a little bit more of it? :-)"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1624797877,"post_id":68151270,"comment_id":120450331,"body_markdown":"@LeeAndrew I have added a breakdown of the pattern.","body":"@LeeAndrew I have added a breakdown of the pattern."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1624801786,"post_id":68151270,"comment_id":120451295,"body_markdown":"@LeeAndrew I have added both patterns for the start and the end of the paragraph to the answer after the updated question.","body":"@LeeAndrew I have added both patterns for the start and the end of the paragraph to the answer after the updated question."},{"owner":{"account_id":22065075,"reputation":35,"user_id":16327091,"display_name":"Lee Andrew"},"score":0,"creation_date":1624802806,"post_id":68151270,"comment_id":120451550,"body_markdown":"So...\nI tried the suggestions and i have some issues still...\nI just updated the question with a example paragraphs...\nAgain, thanks a lot for your time and attention","body":"So... I tried the suggestions and i have some issues still... I just updated the question with a example paragraphs... Again, thanks a lot for your time and attention"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1624803026,"post_id":68151270,"comment_id":120451610,"body_markdown":"@LeeAndrew In Java you have to double escape the backslashes `String regex = &quot;&lt;(?:\\\\s{1,4}&lt;){3}(?:\\\\s*\\\\d\\\\d){2}\\\\s*&gt;\\\\s{1,4}&gt;&quot;;`  See this Java demo for the matches https://ideone.com/lLwjDo","body":"@LeeAndrew In Java you have to double escape the backslashes <code>String regex = &quot;&lt;(?:\\\\s{1,4}&lt;){3}(?:\\\\s*\\\\d\\\\d){2}\\\\s*&gt;\\\\s{1,4}&gt;&quot;;</code>  See this Java demo for the matches <a href=\"https://ideone.com/lLwjDo\" rel=\"nofollow noreferrer\">ideone.com/lLwjDo</a>"}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624801748,"creation_date":1624797748,"answer_id":68151270,"question_id":68150947,"body_markdown":"You might use\r\n\r\n    &lt;(?:\\s{1,5}&lt;)*\\s*(?:\\d+\\s*)+&gt;(?:\\s{1,5}&gt;)*\r\n\r\n- `&lt;` Match literally\r\n- `(?:\\s{1,5}&lt;)*` Repeat 0+ times matches 1-5 whitespace chars followed by `&lt;`\r\n- `\\s*` Match optional whitespace chars\r\n- `(?:\\d+\\s*)+` Match 1+ times matching 1+ digits and optional whitespace chars\r\n- `&gt;` Match literally\r\n- `(?:\\s{1,5}&gt;)+` Repeat 0+ times matching 1-5 whitespace chars followed by `&gt;`\r\n\r\n[Regex demo](https://regex101.com/r/IFH0SK/1) | [Java demo](https://ideone.com/ht2d7O)\r\n\r\nNote that `\\s` could also match a newline. In Java you might also use `\\h{1,5}` to match horizontal whitespace chars.\r\n\r\nExample in Java:\r\n\r\n    String regex = &quot;&lt;(?:\\\\s{1,5}&lt;)*\\\\s*(?:\\\\d+\\\\s*)+&gt;(?:\\\\s{1,5}&gt;)*&quot;;\r\n    String string = &quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\\n&quot;\r\n    + &quot;&lt; &lt; &lt; &lt;                 &gt; &gt;\\n&quot;\r\n    + &quot;&lt; &lt; &lt; &lt;      06   76  &gt;\\n&quot;\r\n    + &quot;&lt; &lt; &lt; &lt;      06   76  \\n&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(0));\r\n    }\r\n\r\nOutput\r\n\r\n    &lt; &lt; &lt; &lt;      06   76           &gt; &gt;\r\n    &lt; &lt; &lt; &lt;      06   76  &gt;\r\n\r\n**EDIT**\r\n\r\nThe pattern for the start of the paragraph\r\n\r\n    &lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;\r\n\r\n[Regex demo](https://regex101.com/r/mxcZcR/1)\r\n\r\nThe pattern for the end of the paragraph\r\n\r\n    &lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\r\n\r\n[Regex demo](https://regex101.com/r/R6Gdcg/1)\r\n\r\nIf you want for example to get the content of the paragraph, you could use a capture group.\r\n\r\n    &lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;([\\s\\S]*?)&lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\r\n\r\n[Regex demo](https://regex101.com/r/7CAe9I/1)\r\n","title":"RegEx issue using JAVA","body":"<p>You might use</p>\n<pre><code>&lt;(?:\\s{1,5}&lt;)*\\s*(?:\\d+\\s*)+&gt;(?:\\s{1,5}&gt;)*\n</code></pre>\n<ul>\n<li><code>&lt;</code> Match literally</li>\n<li><code>(?:\\s{1,5}&lt;)*</code> Repeat 0+ times matches 1-5 whitespace chars followed by <code>&lt;</code></li>\n<li><code>\\s*</code> Match optional whitespace chars</li>\n<li><code>(?:\\d+\\s*)+</code> Match 1+ times matching 1+ digits and optional whitespace chars</li>\n<li><code>&gt;</code> Match literally</li>\n<li><code>(?:\\s{1,5}&gt;)+</code> Repeat 0+ times matching 1-5 whitespace chars followed by <code>&gt;</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/IFH0SK/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/ht2d7O\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>Note that <code>\\s</code> could also match a newline. In Java you might also use <code>\\h{1,5}</code> to match horizontal whitespace chars.</p>\n<p>Example in Java:</p>\n<pre><code>String regex = &quot;&lt;(?:\\\\s{1,5}&lt;)*\\\\s*(?:\\\\d+\\\\s*)+&gt;(?:\\\\s{1,5}&gt;)*&quot;;\nString string = &quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\\n&quot;\n+ &quot;&lt; &lt; &lt; &lt;                 &gt; &gt;\\n&quot;\n+ &quot;&lt; &lt; &lt; &lt;      06   76  &gt;\\n&quot;\n+ &quot;&lt; &lt; &lt; &lt;      06   76  \\n&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(matcher.group(0));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\n&lt; &lt; &lt; &lt;      06   76  &gt;\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The pattern for the start of the paragraph</p>\n<pre><code>&lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;\n</code></pre>\n<p><a href=\"https://regex101.com/r/mxcZcR/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>The pattern for the end of the paragraph</p>\n<pre><code>&lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\n</code></pre>\n<p><a href=\"https://regex101.com/r/R6Gdcg/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>If you want for example to get the content of the paragraph, you could use a capture group.</p>\n<pre><code>&lt;(?:\\s{1,4}&lt;){3}(?:\\s*\\d\\d){2}\\s*&gt;\\s{1,4}&gt;([\\s\\S]*?)&lt;\\s{1,4}&lt;(?:\\s*\\d\\d){2}\\s*&gt;(?:\\s{1,4}&gt;){3}\n</code></pre>\n<p><a href=\"https://regex101.com/r/7CAe9I/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"comments":[{"owner":{"account_id":22065075,"reputation":35,"user_id":16327091,"display_name":"Lee Andrew"},"score":0,"creation_date":1624799011,"post_id":68151289,"comment_id":120450604,"body_markdown":"I think i forgot to say something... I actually did...\nThere are 2 types of &quot;tags&quot; that i have to look for...\nOne is &quot; &lt; &lt; &lt; &lt;    06   76     &gt; &gt; &quot; and the second one is\n&quot; &lt; &lt;      39     85          &gt; &gt; &gt; &gt; &quot;.\nWhere, the amount of spaces between each &quot;&lt;&quot; and &quot;&gt;&quot; can be from 1 to 4 and the same amount of spaces between the last &quot;&lt;&quot; and the first number character. The same idea is between the last number character and the first &quot;&gt;&quot;. Last, from 1 to 6 spaces between the numbers.","body":"I think i forgot to say something... I actually did... There are 2 types of &quot;tags&quot; that i have to look for... One is &quot; &lt; &lt; &lt; &lt;    06   76     &gt; &gt; &quot; and the second one is &quot; &lt; &lt;      39     85          &gt; &gt; &gt; &gt; &quot;. Where, the amount of spaces between each &quot;&lt;&quot; and &quot;&gt;&quot; can be from 1 to 4 and the same amount of spaces between the last &quot;&lt;&quot; and the first number character. The same idea is between the last number character and the first &quot;&gt;&quot;. Last, from 1 to 6 spaces between the numbers."}],"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624799554,"creation_date":1624797841,"answer_id":68151289,"question_id":68150947,"body_markdown":"Something like this?\r\n```java\r\nString input = &quot;&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; &quot;;\r\n\r\n//For all tags\r\nPattern pat = Pattern.compile(&quot;(&lt; +)+([0-9]+ +)+(&gt; +)+&quot;);\r\n\r\n//For tag &lt; &lt; &lt; &lt; 06 76 &gt; &gt;\r\n//Pattern pat = Pattern.compile(&quot;(&lt; +){4}([0-9]+ +)+(&gt; +)+&quot;);\r\n\r\n//For tag &lt; &lt; 39 85 &gt; &gt; &gt; &gt;\r\n//Pattern pat = Pattern.compile(&quot;(&lt; +){2}([0-9]+ +)+(&gt; +)+&quot;);\r\n\r\nMatcher mat = pat.matcher(input);\r\n\r\nwhile(mat.find()) {\r\n    System.out.println(mat.group());\r\n}\r\n\r\n//Prints:\r\n//&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; \r\n```","title":"RegEx issue using JAVA","body":"<p>Something like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; &quot;;\n\n//For all tags\nPattern pat = Pattern.compile(&quot;(&lt; +)+([0-9]+ +)+(&gt; +)+&quot;);\n\n//For tag &lt; &lt; &lt; &lt; 06 76 &gt; &gt;\n//Pattern pat = Pattern.compile(&quot;(&lt; +){4}([0-9]+ +)+(&gt; +)+&quot;);\n\n//For tag &lt; &lt; 39 85 &gt; &gt; &gt; &gt;\n//Pattern pat = Pattern.compile(&quot;(&lt; +){2}([0-9]+ +)+(&gt; +)+&quot;);\n\nMatcher mat = pat.matcher(input);\n\nwhile(mat.find()) {\n    System.out.println(mat.group());\n}\n\n//Prints:\n//&lt;  &lt;       &lt;      &lt; 06  76    &gt;         &gt; \n</code></pre>\n"}],"owner":{"account_id":22065075,"reputation":35,"user_id":16327091,"display_name":"Lee Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68151289,"answer_count":2,"score":1,"last_activity_date":1682681606,"creation_date":1624795359,"question_id":68150947,"body_markdown":"After a week of searching the web and trying different approaches, i give up.\r\nI am facing an issue with regEx in Java and i am wondering if i can find some help here.\r\n\r\nI am trying to find this `&quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt; &quot;` pattern in a huge string that i have to search through.\r\nWhat i know is that, between the last `&quot;&lt;&quot;` and the first `&quot;&gt;&quot;` there can only be numbers type characters and any amount of spaces between the last `&quot;&gt;&quot;` and the first `&quot;&lt;&quot;`. Also, between each `&quot;&lt;&quot;` or `&quot;&gt;&quot;` can be from 1 to 5 spaces.\r\nI was able to create part of a pattern to use for my search, but i cant move forward from there.\r\nHere is what i was able to create as a search pattern. \r\n\r\n    \t\tString tag_open = &quot;&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&quot;;\r\n\r\nI am stuck trying to include the idea of &quot;any numbers, not more than 4 digits, separated by 1 to 5 spaces&quot;.\r\n\r\nFinally, i am able to &quot;close&quot; the pattern to be searched with\r\n\r\n    &quot;\\\\s{0,4}&gt;\\\\s{0,4}&gt;\\\\s{0,4}&quot;\r\n\r\n   \r\nSorry for the long text. I am trying to be as detailed as possible.\r\nThanks so much! \r\nRegards.\r\n\r\n\r\nI think i forgot to say something... I actually did... There are 2 types of &quot;tags&quot; that i have to look for... One is &quot; &lt; &lt; &lt; &lt; 06 76 &gt; &gt; &quot; and the second one is &quot; &lt; &lt; 39 85 &gt; &gt; &gt; &gt; &quot;. Where, the amount of spaces between each &quot;&lt;&quot; and &quot;&gt;&quot; can be from 1 to 4 and the same amount of spaces between the last &quot;&lt;&quot; and the first number character. The same idea is between the last number character and the first &quot;&gt;&quot;. Last, from 1 to 6 spaces between the numbers.\r\n\r\n\r\n\r\n\r\nOk... Hope its my last edit. :-)\r\nI have to find the position of those TWO type of tags that will show me the begging and the end of each paragraph. The begging of the paragraph is establish by the pattern:\r\nStart of paragraph: Four &quot;&lt;&lt;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Two &quot;&gt;&gt;&quot;*.\r\n* between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.\r\n\r\nEnd of paragraph: Two &quot;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Four &quot;&gt;&gt;&gt;&gt;&quot;*.\r\n* between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.\r\n\r\nHere is an example of a text paragraph:\r\n\r\n &lt; &lt; &lt; &lt;      06   76           &gt; &gt;\r\n Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sit amet mauris lorem. Etiam aliquam iaculis tellus, ac accumsan velit. Vivamus venenatis diam sit amet elementum sollicitudin. Curabitur nec finibus tellus. Proin vestibulum placerat diam. Sed eget risus volutpat, placerat arcu non, commodo ex. Vivamus et ipsum efficitur, ornare nisi sit amet, venenatis diam. Sed aliquet lacinia nulla eu mattis. Integer dapibus, odio a rhoncus porttitor, tellus ligula imperdiet sem, at semper magna arcu a mauris. Vestibulum accumsan ornare aliquet. Curabitur a mollis ex, a ullamcorper enim. Donec urna nibh, vestibulum ut gravida vel, posuere id elit. Proin ut fringilla turpis.\r\n &lt; &lt;       06   76           &gt; &gt; &gt; &gt;\r\n \r\n \r\n&lt; &lt; &lt; &lt;      12   23           &gt; &gt;\r\nMorbi aliquet condimentum tempus. Fusce quis rutrum lacus. Curabitur blandit vestibulum lacinia. Ut ac maximus dolor. Suspendisse potenti. Sed quis turpis felis. Sed magna mauris, mattis non mi id, mollis posuere massa. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse dictum sapien bibendum dictum ultricies. Suspendisse sed lectus egestas, congue ligula quis, fringilla sapien. Nullam et odio elit. Nullam pellentesque nunc tellus, vitae pharetra lorem congue id. \r\n&lt; &lt;      12   23           &gt; &gt; &gt; &gt;\r\n\r\nAgain, sorry for the long post and the many last minute edits.","title":"RegEx issue using JAVA","body":"<p>After a week of searching the web and trying different approaches, i give up.\nI am facing an issue with regEx in Java and i am wondering if i can find some help here.</p>\n<p>I am trying to find this <code>&quot;&lt; &lt; &lt; &lt;      06   76           &gt; &gt; &quot;</code> pattern in a huge string that i have to search through.\nWhat i know is that, between the last <code>&quot;&lt;&quot;</code> and the first <code>&quot;&gt;&quot;</code> there can only be numbers type characters and any amount of spaces between the last <code>&quot;&gt;&quot;</code> and the first <code>&quot;&lt;&quot;</code>. Also, between each <code>&quot;&lt;&quot;</code> or <code>&quot;&gt;&quot;</code> can be from 1 to 5 spaces.\nI was able to create part of a pattern to use for my search, but i cant move forward from there.\nHere is what i was able to create as a search pattern.</p>\n<pre><code>        String tag_open = &quot;&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&lt;\\\\s{0,4}&quot;;\n</code></pre>\n<p>I am stuck trying to include the idea of &quot;any numbers, not more than 4 digits, separated by 1 to 5 spaces&quot;.</p>\n<p>Finally, i am able to &quot;close&quot; the pattern to be searched with</p>\n<pre><code>&quot;\\\\s{0,4}&gt;\\\\s{0,4}&gt;\\\\s{0,4}&quot;\n</code></pre>\n<p>Sorry for the long text. I am trying to be as detailed as possible.\nThanks so much!\nRegards.</p>\n<p>I think i forgot to say something... I actually did... There are 2 types of &quot;tags&quot; that i have to look for... One is &quot; &lt; &lt; &lt; &lt; 06 76 &gt; &gt; &quot; and the second one is &quot; &lt; &lt; 39 85 &gt; &gt; &gt; &gt; &quot;. Where, the amount of spaces between each &quot;&lt;&quot; and &quot;&gt;&quot; can be from 1 to 4 and the same amount of spaces between the last &quot;&lt;&quot; and the first number character. The same idea is between the last number character and the first &quot;&gt;&quot;. Last, from 1 to 6 spaces between the numbers.</p>\n<p>Ok... Hope its my last edit. :-)\nI have to find the position of those TWO type of tags that will show me the begging and the end of each paragraph. The begging of the paragraph is establish by the pattern:\nStart of paragraph: Four &quot;&lt;&lt;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Two &quot;&gt;&gt;&quot;*.</p>\n<ul>\n<li>between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.</li>\n</ul>\n<p>End of paragraph: Two &quot;&lt;&lt;&quot;* + some spaces + 2 random digits + some spaces + 2 random digits + some spaces + Four &quot;&gt;&gt;&gt;&gt;&quot;*.</p>\n<ul>\n<li>between the &quot;&lt;&quot; and &quot;&gt;&quot; can be between 1 to 4 spaces.</li>\n</ul>\n<p>Here is an example of a text paragraph:</p>\n<p>&lt; &lt; &lt; &lt;      06   76           &gt; &gt;\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sit amet mauris lorem. Etiam aliquam iaculis tellus, ac accumsan velit. Vivamus venenatis diam sit amet elementum sollicitudin. Curabitur nec finibus tellus. Proin vestibulum placerat diam. Sed eget risus volutpat, placerat arcu non, commodo ex. Vivamus et ipsum efficitur, ornare nisi sit amet, venenatis diam. Sed aliquet lacinia nulla eu mattis. Integer dapibus, odio a rhoncus porttitor, tellus ligula imperdiet sem, at semper magna arcu a mauris. Vestibulum accumsan ornare aliquet. Curabitur a mollis ex, a ullamcorper enim. Donec urna nibh, vestibulum ut gravida vel, posuere id elit. Proin ut fringilla turpis.\n&lt; &lt;       06   76           &gt; &gt; &gt; &gt;</p>\n<p>&lt; &lt; &lt; &lt;      12   23           &gt; &gt;\nMorbi aliquet condimentum tempus. Fusce quis rutrum lacus. Curabitur blandit vestibulum lacinia. Ut ac maximus dolor. Suspendisse potenti. Sed quis turpis felis. Sed magna mauris, mattis non mi id, mollis posuere massa. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse dictum sapien bibendum dictum ultricies. Suspendisse sed lectus egestas, congue ligula quis, fringilla sapien. Nullam et odio elit. Nullam pellentesque nunc tellus, vitae pharetra lorem congue id.\n&lt; &lt;      12   23           &gt; &gt; &gt; &gt;</p>\n<p>Again, sorry for the long post and the many last minute edits.</p>\n"},{"tags":["java","extends"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1682680454,"post_id":76128981,"comment_id":134257467,"body_markdown":"What do you mean by &quot; have this in a while with a switch&quot;? Please show a [mcve]. How does this prevent you from casting it?","body":"What do you mean by &quot; have this in a while with a switch&quot;? Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. How does this prevent you from casting it?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682680541,"post_id":76128981,"comment_id":134257485,"body_markdown":"You use `if (msg instanceof ConnectionMessage connectionMessage) { connectionMessage.getInfo(); }` or similar.","body":"You use <code>if (msg instanceof ConnectionMessage connectionMessage) { connectionMessage.getInfo(); }</code> or similar."}],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682681457,"creation_date":1682681457,"answer_id":76129140,"question_id":76128981,"body_markdown":"You can cast you message into the specific sub-type \r\n\r\n**Before Java 14**\r\n\r\n    if (msg instanceof ConnectionMessage) {\r\n       User user = ((ConnectionMessage) message).getInfo(); \r\n       // do something with the user\r\n    }\r\n\r\n\r\n**After Java 14**\r\n\r\n    if (msg instanceof ConnectionMessage connectionMessage) { \r\n        User user = connectionMessage.getInfo(); \r\n        // do something with the user\r\n    }\r\n\r\nIn this way, you will call the correct method.\r\n\r\nOther solutions would be:\r\n\r\n* adding an abstract method to your `Message` class. There you could call method without casting. Disadvantage: You need to implement the abstract method to every subclass of `Message`.\r\n* using reflections and test for the existance of the `getInfo` and call it via reflections. Generally speaking, you should not use reflections, if there is an native java way (like casting)\r\n","title":"How do I call a method from an extend Class in Java?","body":"<p>You can cast you message into the specific sub-type</p>\n<p><strong>Before Java 14</strong></p>\n<pre><code>if (msg instanceof ConnectionMessage) {\n   User user = ((ConnectionMessage) message).getInfo(); \n   // do something with the user\n}\n</code></pre>\n<p><strong>After Java 14</strong></p>\n<pre><code>if (msg instanceof ConnectionMessage connectionMessage) { \n    User user = connectionMessage.getInfo(); \n    // do something with the user\n}\n</code></pre>\n<p>In this way, you will call the correct method.</p>\n<p>Other solutions would be:</p>\n<ul>\n<li>adding an abstract method to your <code>Message</code> class. There you could call method without casting. Disadvantage: You need to implement the abstract method to every subclass of <code>Message</code>.</li>\n<li>using reflections and test for the existance of the <code>getInfo</code> and call it via reflections. Generally speaking, you should not use reflections, if there is an native java way (like casting)</li>\n</ul>\n"}],"owner":{"account_id":28444561,"reputation":11,"user_id":21763466,"display_name":"Danielps1818"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76129140,"answer_count":1,"score":0,"last_activity_date":1682681457,"creation_date":1682680234,"question_id":76128981,"body_markdown":"I have a general Class called &quot;Message&quot;:\r\n\r\n```\r\npublic abstract class Message {\r\n\r\n\tprivate int type;\r\n\tprivate String origin;\r\n\tprivate String destination;\r\n\t\r\n\tpublic Message(int type, String origin, String destination) {\r\n\t\tthis.type = type;\r\n\t\tthis.origin = origin;\r\n\t\tthis.destination = destination;\r\n\t}\r\n\r\n\tpublic int getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic String getOrigin() {\r\n\t\treturn origin;\r\n\t}\r\n\r\n\tpublic String getDestination() {\r\n\t\treturn destination;\r\n\t}\r\n\t\r\n}\r\n````\r\n\r\nAlso I have 2 more classes that extend from that one. &quot;Conffirmation Connection Message&quot;\r\n\r\n```\r\npublic class ConnectionConffirmationMessage extends Message{\r\n\r\n\tpublic ConnectionConffirmationMessage(int type, String origin, String destination) {\r\n\t\tsuper(type, origin, destination);\r\n\t}\r\n\r\n}\r\n```\r\nand &quot;Connection Message&quot;\r\n\r\n\r\n```\r\npublic class ConnectionMessage extends Message{\r\n\t\r\n\tUser info;\r\n\r\n\tpublic ConnectionMessage(int type, String origin, String destination, User info) {\r\n\t\tsuper(type, origin, destination);\r\n\t\tthis.info = info;\r\n\t}\r\n\r\n\tpublic User getInfo() {\r\n\t\treturn info;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nMy problem is that now when I want to ask for the info when the Connection Message arrives I can&#39;t. Because the general class &quot;Message&quot; doesn&#39;t have the method &quot;getInfo()&quot;.\r\n\r\n`Message msg = (Message) fin.readObject();`\r\n\r\nAny idea of what can I do?\r\n\r\nAlso, I can&#39;t simply change the type because I have this in a while with a switch, so if another type of Message arrives I have to process it.\r\n\r\n","title":"How do I call a method from an extend Class in Java?","body":"<p>I have a general Class called &quot;Message&quot;:</p>\n<pre><code>public abstract class Message {\n\n    private int type;\n    private String origin;\n    private String destination;\n    \n    public Message(int type, String origin, String destination) {\n        this.type = type;\n        this.origin = origin;\n        this.destination = destination;\n    }\n\n    public int getType() {\n        return type;\n    }\n\n    public String getOrigin() {\n        return origin;\n    }\n\n    public String getDestination() {\n        return destination;\n    }\n    \n}\n</code></pre>\n<p>Also I have 2 more classes that extend from that one. &quot;Conffirmation Connection Message&quot;</p>\n<pre><code>public class ConnectionConffirmationMessage extends Message{\n\n    public ConnectionConffirmationMessage(int type, String origin, String destination) {\n        super(type, origin, destination);\n    }\n\n}\n</code></pre>\n<p>and &quot;Connection Message&quot;</p>\n<pre><code>public class ConnectionMessage extends Message{\n    \n    User info;\n\n    public ConnectionMessage(int type, String origin, String destination, User info) {\n        super(type, origin, destination);\n        this.info = info;\n    }\n\n    public User getInfo() {\n        return info;\n    }\n    \n}\n</code></pre>\n<p>My problem is that now when I want to ask for the info when the Connection Message arrives I can't. Because the general class &quot;Message&quot; doesn't have the method &quot;getInfo()&quot;.</p>\n<p><code>Message msg = (Message) fin.readObject();</code></p>\n<p>Any idea of what can I do?</p>\n<p>Also, I can't simply change the type because I have this in a while with a switch, so if another type of Message arrives I have to process it.</p>\n"},{"tags":["java","eclipse","maven","fortify"],"comments":[{"owner":{"account_id":450425,"reputation":560,"user_id":845737,"accept_rate":40,"display_name":"Eric"},"score":0,"creation_date":1438610547,"post_id":31771796,"comment_id":51506879,"body_markdown":"The only place you can download Fortify is the HP Portal (https://softwaresupport.hp.com). Here&#39;s another post on how to use the maven plugin from Fortify: https://stackoverflow.com/questions/29742146/fortify-scanning-in-eclipse-over-maven-projects/29756342#29756342","body":"The only place you can download Fortify is the HP Portal (<a href=\"https://softwaresupport.hp.com\" rel=\"nofollow noreferrer\">softwaresupport.hp.com</a>). Here&#39;s another post on how to use the maven plugin from Fortify: <a href=\"https://stackoverflow.com/questions/29742146/fortify-scanning-in-eclipse-over-maven-projects/29756342#29756342\" title=\"fortify scanning in eclipse over maven projects\">stackoverflow.com/questions/29742146/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":1,"creation_date":1453120889,"post_id":31868294,"comment_id":57449495,"body_markdown":"No *fpr* was generated in my case. I have to run `clean`, `translate` and `scan` as separate maven commands.","body":"No <i>fpr</i> was generated in my case. I have to run <code>clean</code>, <code>translate</code> and <code>scan</code> as separate maven commands."},{"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"score":0,"creation_date":1485304572,"post_id":31868294,"comment_id":70868045,"body_markdown":"I found out that adding those 3 profiles to the pom.xml is not necessary.  After installing the Fortify maven plugin, I just had to run the 3 commands mentioned [here](http://stackoverflow.com/a/29808348/782011).","body":"I found out that adding those 3 profiles to the pom.xml is not necessary.  After installing the Fortify maven plugin, I just had to run the 3 commands mentioned <a href=\"http://stackoverflow.com/a/29808348/782011\">here</a>."}],"tags":[],"owner":{"account_id":5855107,"reputation":246,"user_id":4612668,"display_name":"Dave C"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1438910644,"creation_date":1438910644,"answer_id":31868294,"question_id":31771796,"body_markdown":"I don&#39;t think the Fortify installation is required, but it&#39;s pretty hard to get the maven sca plugin without it.  If you install on another machine you could copy just the plugin over, but then you wouldn&#39;t have the Audit Workbench application to work with the generated FPR.  As @Eric said, you have to get it through HP and it will not work without a license.\r\n\r\nOnce you get that installed you add profiles to your pom.xml to execute the sca targets:\r\n\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;sca-clean&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.30&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jre64&gt;true&lt;/jre64&gt;\r\n              &lt;buildId&gt;myproject&lt;/buildId&gt;\r\n              &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\r\n              &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;clean&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;sca-translate&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.30&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jre64&gt;true&lt;/jre64&gt;\r\n              &lt;jreStack&gt;8M&lt;/jreStack&gt;\r\n              &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\r\n              &lt;verbose&gt;true&lt;/verbose&gt;\r\n              &lt;buildId&gt;myproject&lt;/buildId&gt;\r\n              &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\r\n              &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n              &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;translate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;sca-scan&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.30&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;jre64&gt;true&lt;/jre64&gt;\r\n              &lt;jreStack&gt;8M&lt;/jreStack&gt;\r\n              &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\r\n              &lt;verbose&gt;true&lt;/verbose&gt;\r\n              &lt;buildId&gt;myproject&lt;/buildId&gt;\r\n              &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\r\n              &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\r\n              &lt;upload&gt;false&lt;/upload&gt;\r\n              &lt;projectName&gt;My Project Main Development&lt;/projectName&gt;\r\n              &lt;projectVersion&gt;${project.version}&lt;/projectVersion&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n\r\nRun the scan from the command line:\r\n\r\n    mvn -Dmaven.test.skip=true -Dfortify.sca.buildId=myproject -Dfortify.sca.toplevel.artifactId=myproject.parent com.fortify.ps.maven.plugin:sca-maven-plugin:clean\r\n\r\n\r\nObviously, you will have to figure out the buildId and artifactId naming, and it varies a little depending on if you&#39;re using parent, aggregator, or nothing.","title":"Fortify integration with Maven - install","body":"<p>I don't think the Fortify installation is required, but it's pretty hard to get the maven sca plugin without it.  If you install on another machine you could copy just the plugin over, but then you wouldn't have the Audit Workbench application to work with the generated FPR.  As @Eric said, you have to get it through HP and it will not work without a license.</p>\n\n<p>Once you get that installed you add profiles to your pom.xml to execute the sca targets:</p>\n\n<pre><code>&lt;profile&gt;\n  &lt;id&gt;sca-clean&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.30&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jre64&gt;true&lt;/jre64&gt;\n          &lt;buildId&gt;myproject&lt;/buildId&gt;\n          &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\n          &lt;skipTests&gt;true&lt;/skipTests&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;clean&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n\n\n&lt;profile&gt;\n  &lt;id&gt;sca-translate&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.30&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jre64&gt;true&lt;/jre64&gt;\n          &lt;jreStack&gt;8M&lt;/jreStack&gt;\n          &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\n          &lt;verbose&gt;true&lt;/verbose&gt;\n          &lt;buildId&gt;myproject&lt;/buildId&gt;\n          &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\n          &lt;skipTests&gt;true&lt;/skipTests&gt;\n          &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;translate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n\n\n&lt;profile&gt;\n  &lt;id&gt;sca-scan&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.30&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;jre64&gt;true&lt;/jre64&gt;\n          &lt;jreStack&gt;8M&lt;/jreStack&gt;\n          &lt;maxHeap&gt;12000M&lt;/maxHeap&gt;\n          &lt;verbose&gt;true&lt;/verbose&gt;\n          &lt;buildId&gt;myproject&lt;/buildId&gt;\n          &lt;toplevelArtifactId&gt;myproject.parent&lt;/toplevelArtifactId&gt;\n          &lt;failOnSCAError&gt;true&lt;/failOnSCAError&gt;\n          &lt;upload&gt;false&lt;/upload&gt;\n          &lt;projectName&gt;My Project Main Development&lt;/projectName&gt;\n          &lt;projectVersion&gt;${project.version}&lt;/projectVersion&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p>Run the scan from the command line:</p>\n\n<pre><code>mvn -Dmaven.test.skip=true -Dfortify.sca.buildId=myproject -Dfortify.sca.toplevel.artifactId=myproject.parent com.fortify.ps.maven.plugin:sca-maven-plugin:clean\n</code></pre>\n\n<p>Obviously, you will have to figure out the buildId and artifactId naming, and it varies a little depending on if you're using parent, aggregator, or nothing.</p>\n"},{"comments":[{"owner":{"account_id":4819594,"reputation":1286,"user_id":3990839,"display_name":"piit79"},"score":0,"creation_date":1488363669,"post_id":39163659,"comment_id":72193861,"body_markdown":"How did you come to the conclusion that they need to be separate commands? I&#39;m executing Maven goals `clean sca:clean sca:translate sca:scan` in my Jenkins job and it works just fine...","body":"How did you come to the conclusion that they need to be separate commands? I&#39;m executing Maven goals <code>clean sca:clean sca:translate sca:scan</code> in my Jenkins job and it works just fine..."},{"owner":{"account_id":9081135,"reputation":71,"user_id":6760949,"display_name":"Prokis"},"score":1,"creation_date":1488451069,"post_id":39163659,"comment_id":72240913,"body_markdown":"No specific reason, just how it worked for me, when the single line command did not do the work.","body":"No specific reason, just how it worked for me, when the single line command did not do the work."}],"tags":[],"owner":{"account_id":9081135,"reputation":71,"user_id":6760949,"display_name":"Prokis"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472205823,"creation_date":1472205823,"answer_id":39163659,"question_id":31771796,"body_markdown":"Actually profiles are not needed, only the plugin configuration.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt; \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.30&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;findbugs&gt;true&lt;/findbugs&gt;\r\n                    &lt;htmlReport&gt;true&lt;/htmlReport&gt;\r\n                    &lt;maxHeap&gt;800M&lt;/maxHeap&gt;\r\n                    &lt;source&gt;myJavaVersion&lt;/source&gt;\r\n                    &lt;buildId&gt;myBuildId&lt;/buildId&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                    &lt;toplevelArtifactId&gt;myTopLevelId&lt;/toplevelArtifactId&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nBy using a single Jenkins job you can write, as a pre-step, a shell script:\r\n\r\n    mvn clean sca:clean -DskipTests\r\n    mvn sca:translate -DskipTests\r\n\r\nAnd then define the actual &quot;Goals and options&quot; as:\r\n\r\n    install sca:scan -DskipTests\r\n\r\nHaving them as separate command lines is the only way to have the sca-clean,translate and scan (and report file sending to Fortify) done in one Jenkins job.\r\n\r\nHope this works for you too!","title":"Fortify integration with Maven - install","body":"<p>Actually profiles are not needed, only the plugin configuration.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt; \n        &lt;plugin&gt;\n            &lt;groupId&gt;com.fortify.ps.maven.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;sca-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.30&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;findbugs&gt;true&lt;/findbugs&gt;\n                &lt;htmlReport&gt;true&lt;/htmlReport&gt;\n                &lt;maxHeap&gt;800M&lt;/maxHeap&gt;\n                &lt;source&gt;myJavaVersion&lt;/source&gt;\n                &lt;buildId&gt;myBuildId&lt;/buildId&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;toplevelArtifactId&gt;myTopLevelId&lt;/toplevelArtifactId&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>By using a single Jenkins job you can write, as a pre-step, a shell script:</p>\n\n<pre><code>mvn clean sca:clean -DskipTests\nmvn sca:translate -DskipTests\n</code></pre>\n\n<p>And then define the actual \"Goals and options\" as:</p>\n\n<pre><code>install sca:scan -DskipTests\n</code></pre>\n\n<p>Having them as separate command lines is the only way to have the sca-clean,translate and scan (and report file sending to Fortify) done in one Jenkins job.</p>\n\n<p>Hope this works for you too!</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665702544,"creation_date":1665702544,"answer_id":74062712,"question_id":31771796,"body_markdown":"The Mac OS Fortify install installs a program called ScanWizard that is able to generate a Maven/Java integrated .sh script to run the scan BUT problem is that it requires you edit the pom and put in the fortify plugin.  On my network, my Nexus server blocks me from downloading it, probably because the artifact is not on Maven central and my Nexus is setup only to be able to mirror from central only.","title":"Fortify integration with Maven - install","body":"<p>The Mac OS Fortify install installs a program called ScanWizard that is able to generate a Maven/Java integrated .sh script to run the scan BUT problem is that it requires you edit the pom and put in the fortify plugin.  On my network, my Nexus server blocks me from downloading it, probably because the artifact is not on Maven central and my Nexus is setup only to be able to mirror from central only.</p>\n"}],"owner":{"account_id":414855,"reputation":2868,"user_id":789320,"accept_rate":61,"display_name":"Rory Lester"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33445,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31868294,"answer_count":3,"score":7,"last_activity_date":1682681451,"creation_date":1438517666,"question_id":31771796,"body_markdown":"I want to run a Fortify scan against a Maven Eclipse project. \r\n\r\nWhere should I start? \r\n\r\nI understand that I need to update my `pom.xml` file to include the Fortify plugin however do I also require to have Fortify SCA installed on my machine? (I&#39;m running MacOS X). I have been trying to find a place to download Fortify SCA but have not been able find it. \r\n\r\nI would appreciate it if someone could share some links to point me in the right direction in getting the setup complete.","title":"Fortify integration with Maven - install","body":"<p>I want to run a Fortify scan against a Maven Eclipse project. </p>\n\n<p>Where should I start? </p>\n\n<p>I understand that I need to update my <code>pom.xml</code> file to include the Fortify plugin however do I also require to have Fortify SCA installed on my machine? (I'm running MacOS X). I have been trying to find a place to download Fortify SCA but have not been able find it. </p>\n\n<p>I would appreciate it if someone could share some links to point me in the right direction in getting the setup complete.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682684560,"post_id":76129109,"comment_id":134258365,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682689025,"post_id":76129109,"comment_id":134259446,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28444709,"reputation":1,"user_id":21763588,"display_name":"drej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682681254,"creation_date":1682681254,"question_id":76129109,"body_markdown":"I&#39;ve been trying to call from my database and the textviews dont work, it&#39;s from a QR Scanner, it also cannot find the button123\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n`public class QR extends AppCompatActivity {\r\n\r\n    private CodeScanner codeScanner;\r\n    private static final int CAMERA_REQUEST_CODE = 101;\r\n\r\n    private DatabaseReference mbase;\r\n    public String decodedResult;\r\n    private Spinner spinnerLanguages;\r\n    private String itemID;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_qr);\r\n        setUpPermissions();\r\n        codeScanner();\r\n        mbase = FirebaseDatabase.getInstance().getReference();\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    private void codeScanner() {\r\n        CodeScannerView scannerView = findViewById(R.id.scannerView);\r\n        TextView tv_textView = findViewById(R.id.tv_textView);\r\n\r\n        codeScanner = new CodeScanner(this, scannerView);\r\n\r\n        codeScanner.setCamera(CodeScanner.CAMERA_BACK);\r\n        codeScanner.setFormats(CodeScanner.ALL_FORMATS);\r\n        codeScanner.setAutoFocusMode(AutoFocusMode.SAFE);\r\n        codeScanner.setScanMode(ScanMode.CONTINUOUS);\r\n        codeScanner.setAutoFocusEnabled(true);\r\n        codeScanner.setFlashEnabled(false);\r\n\r\n\r\n        codeScanner.setDecodeCallback(new DecodeCallback() {\r\n            @Override\r\n            public void onDecoded(@NonNull final Result result) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        tv_textView.setText(result.getText());\r\n                        decodedResult =result.getText();\r\n\r\n\r\n\r\n\r\n                    }\r\n                });\r\n            }\r\n        });}\r\n    public void buttonPopupwindow(View view) {\r\n        // Inflate popup window layout\r\n        LayoutInflater layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        View viewPopupwindow = layoutInflater.inflate(R.layout.popupwindowlayout, null);\r\n        // Find views inside popup window layout\r\n        Button btn123 = viewPopupwindow.findViewById(R.id.button123);\r\n        TextView nameTextView = viewPopupwindow.findViewById(R.id.name);\r\n        TextView emailTextView = viewPopupwindow.findViewById(R.id.email);\r\n        TextView companyIDTextView = viewPopupwindow.findViewById(R.id.CompanyID);\r\n        TextView statusTextView = viewPopupwindow.findViewById(R.id.status);\r\n        EditText companyIDInput = viewPopupwindow.findViewById(R.id.companyIDinput);\r\n        Spinner spinnerLanguages = viewPopupwindow.findViewById(R.id.spinner_languages);\r\n\r\n        // Set up adapter for spinner\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.languages, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinnerLanguages.setAdapter(adapter);\r\n\r\n        // Set up and show popup window\r\n        final PopupWindow popupWindow = new PopupWindow(viewPopupwindow, 700, 500, true);\r\n        popupWindow.setAnimationStyle(R.style.PopupAnimation);\r\n        popupWindow.showAtLocation(view, Gravity.BOTTOM, 0, 0);\r\n\r\n        // Set up database listener to get item data\r\n        ValueEventListener postListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    // Loop through all items in the &quot;Item&quot; node of the database\r\n                    Item item = snapshot.getValue(Item.class);\r\n                    if (item.getEmail().equals(decodedResult)) {\r\n\r\n                        String name = item.getName();\r\n                        String email = item.getEmail();\r\n                        String CompanyID = item.getCompanyID();\r\n                        String Status = item.getStatus();\r\n                        itemID = snapshot.getKey();\r\n\r\n                        // Set text for views in popup window\r\n                        nameTextView.setText(name);\r\n                        emailTextView.setText(email);\r\n                        companyIDTextView.setText(CompanyID);\r\n                        statusTextView.setText(Status);\r\n\r\n                        // Update values for button and input fields based on item status\r\n                        if (Status.equals(&quot;In Storage&quot;)) {\r\n                            btn123.setText(&quot;Lend&quot;);\r\n                            companyIDInput.setVisibility(View.VISIBLE);\r\n                            spinnerLanguages.setVisibility(View.VISIBLE);\r\n                        } else if (Status.equals(&quot;Borrowed&quot;)) {\r\n                            btn123.setText(&quot;Return&quot;);\r\n                            companyIDInput.setVisibility(View.GONE);\r\n                            spinnerLanguages.setVisibility(View.GONE);\r\n                        }\r\n\r\n                        // Set up button click listener to update item status and close popup window\r\n                        btn123.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                switch(v.getId()) {\r\n                                    case R.id.button123:\r\n                                        DatabaseReference itemRef = mbase.child(itemID);\r\n                                        if (Status.equals(&quot;In Storage&quot;)) {\r\n                                            String companyID1 = companyIDInput.getText().toString();\r\n                                            String selectedLanguage = spinnerLanguages.getSelectedItem().toString();\r\n                                            itemRef.child(&quot;Status&quot;).setValue(&quot;Borrowed&quot;);\r\n                                            itemRef.child(&quot;CompanyID&quot;).setValue(companyID1);\r\n                                            itemRef.child(&quot;cat&quot;).setValue(selectedLanguage);\r\n                                        } else if (Status.equals(&quot;Borrowed&quot;)) {\r\n                                            itemRef.child(&quot;Status&quot;).setValue(&quot;In Storage&quot;);\r\n                                            itemRef.child(&quot;CompanyID&quot;).setValue(&quot;&quot;);\r\n                                            itemRef.child(&quot;cat&quot;).setValue(&quot;&quot;);\r\n                                        }\r\n                                        popupWindow.dismiss();\r\n                                        break;\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        // Exit loop after finding matching item\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                // Handle errors\r\n                Log.w(&quot;onCancelled&quot;, databaseError.toException());\r\n            }\r\n        };\r\n        mbase.child(&quot;Item&quot;).addValueEventListener(postListener);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        codeScanner.startPreview();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        codeScanner.releaseResources();\r\n        super.onPause();\r\n    }\r\n\r\n    private void setUpPermissions() {\r\n        final int permission = ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA);\r\n\r\n        if (permission != PackageManager.PERMISSION_GRANTED) {\r\n            makeRequest();\r\n        }\r\n    }\r\n\r\n    private void makeRequest() {\r\n        ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, CAMERA_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        if (requestCode == CAMERA_REQUEST_CODE) {\r\n            if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Camera permission granted&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } else {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n}`\r\n\r\n\r\nI tried setting a value to my decoded to see if it can call from the database, it still doesnt.tried chatgpt too, he said it&#39;s right","title":"I can&#39;t call from my database in firebase, or the Textviews didn&#39;t change","body":"<p>I've been trying to call from my database and the textviews dont work, it's from a QR Scanner, it also cannot find the button123</p>\n<p>`public class QR extends AppCompatActivity {</p>\n<pre><code>private CodeScanner codeScanner;\nprivate static final int CAMERA_REQUEST_CODE = 101;\n\nprivate DatabaseReference mbase;\npublic String decodedResult;\nprivate Spinner spinnerLanguages;\nprivate String itemID;\n\n\n\n\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_qr);\n    setUpPermissions();\n    codeScanner();\n    mbase = FirebaseDatabase.getInstance().getReference();\n\n\n\n\n}\n\n\nprivate void codeScanner() {\n    CodeScannerView scannerView = findViewById(R.id.scannerView);\n    TextView tv_textView = findViewById(R.id.tv_textView);\n\n    codeScanner = new CodeScanner(this, scannerView);\n\n    codeScanner.setCamera(CodeScanner.CAMERA_BACK);\n    codeScanner.setFormats(CodeScanner.ALL_FORMATS);\n    codeScanner.setAutoFocusMode(AutoFocusMode.SAFE);\n    codeScanner.setScanMode(ScanMode.CONTINUOUS);\n    codeScanner.setAutoFocusEnabled(true);\n    codeScanner.setFlashEnabled(false);\n\n\n    codeScanner.setDecodeCallback(new DecodeCallback() {\n        @Override\n        public void onDecoded(@NonNull final Result result) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    tv_textView.setText(result.getText());\n                    decodedResult =result.getText();\n\n\n\n\n                }\n            });\n        }\n    });}\npublic void buttonPopupwindow(View view) {\n    // Inflate popup window layout\n    LayoutInflater layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    View viewPopupwindow = layoutInflater.inflate(R.layout.popupwindowlayout, null);\n    // Find views inside popup window layout\n    Button btn123 = viewPopupwindow.findViewById(R.id.button123);\n    TextView nameTextView = viewPopupwindow.findViewById(R.id.name);\n    TextView emailTextView = viewPopupwindow.findViewById(R.id.email);\n    TextView companyIDTextView = viewPopupwindow.findViewById(R.id.CompanyID);\n    TextView statusTextView = viewPopupwindow.findViewById(R.id.status);\n    EditText companyIDInput = viewPopupwindow.findViewById(R.id.companyIDinput);\n    Spinner spinnerLanguages = viewPopupwindow.findViewById(R.id.spinner_languages);\n\n    // Set up adapter for spinner\n    ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.languages, android.R.layout.simple_spinner_item);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinnerLanguages.setAdapter(adapter);\n\n    // Set up and show popup window\n    final PopupWindow popupWindow = new PopupWindow(viewPopupwindow, 700, 500, true);\n    popupWindow.setAnimationStyle(R.style.PopupAnimation);\n    popupWindow.showAtLocation(view, Gravity.BOTTOM, 0, 0);\n\n    // Set up database listener to get item data\n    ValueEventListener postListener = new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                // Loop through all items in the &quot;Item&quot; node of the database\n                Item item = snapshot.getValue(Item.class);\n                if (item.getEmail().equals(decodedResult)) {\n\n                    String name = item.getName();\n                    String email = item.getEmail();\n                    String CompanyID = item.getCompanyID();\n                    String Status = item.getStatus();\n                    itemID = snapshot.getKey();\n\n                    // Set text for views in popup window\n                    nameTextView.setText(name);\n                    emailTextView.setText(email);\n                    companyIDTextView.setText(CompanyID);\n                    statusTextView.setText(Status);\n\n                    // Update values for button and input fields based on item status\n                    if (Status.equals(&quot;In Storage&quot;)) {\n                        btn123.setText(&quot;Lend&quot;);\n                        companyIDInput.setVisibility(View.VISIBLE);\n                        spinnerLanguages.setVisibility(View.VISIBLE);\n                    } else if (Status.equals(&quot;Borrowed&quot;)) {\n                        btn123.setText(&quot;Return&quot;);\n                        companyIDInput.setVisibility(View.GONE);\n                        spinnerLanguages.setVisibility(View.GONE);\n                    }\n\n                    // Set up button click listener to update item status and close popup window\n                    btn123.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            switch(v.getId()) {\n                                case R.id.button123:\n                                    DatabaseReference itemRef = mbase.child(itemID);\n                                    if (Status.equals(&quot;In Storage&quot;)) {\n                                        String companyID1 = companyIDInput.getText().toString();\n                                        String selectedLanguage = spinnerLanguages.getSelectedItem().toString();\n                                        itemRef.child(&quot;Status&quot;).setValue(&quot;Borrowed&quot;);\n                                        itemRef.child(&quot;CompanyID&quot;).setValue(companyID1);\n                                        itemRef.child(&quot;cat&quot;).setValue(selectedLanguage);\n                                    } else if (Status.equals(&quot;Borrowed&quot;)) {\n                                        itemRef.child(&quot;Status&quot;).setValue(&quot;In Storage&quot;);\n                                        itemRef.child(&quot;CompanyID&quot;).setValue(&quot;&quot;);\n                                        itemRef.child(&quot;cat&quot;).setValue(&quot;&quot;);\n                                    }\n                                    popupWindow.dismiss();\n                                    break;\n                            }\n                        }\n                    });\n\n                    // Exit loop after finding matching item\n                    break;\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            // Handle errors\n            Log.w(&quot;onCancelled&quot;, databaseError.toException());\n        }\n    };\n    mbase.child(&quot;Item&quot;).addValueEventListener(postListener);\n}\n\n\n\n\n\n\n\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    codeScanner.startPreview();\n}\n\n@Override\nprotected void onPause() {\n    codeScanner.releaseResources();\n    super.onPause();\n}\n\nprivate void setUpPermissions() {\n    final int permission = ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA);\n\n    if (permission != PackageManager.PERMISSION_GRANTED) {\n        makeRequest();\n    }\n}\n\nprivate void makeRequest() {\n    ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.CAMERA}, CAMERA_REQUEST_CODE);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    if (requestCode == CAMERA_REQUEST_CODE) {\n        if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(this, &quot;Camera permission granted&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    } else {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}\n</code></pre>\n<p>}`</p>\n<p>I tried setting a value to my decoded to see if it can call from the database, it still doesnt.tried chatgpt too, he said it's right</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":43726,"reputation":9735,"user_id":127938,"accept_rate":89,"display_name":"Paul Gregoire"},"score":1,"creation_date":1375918195,"post_id":10615628,"comment_id":26524004,"body_markdown":"I&#39;ve got a similar issue myself: http://stackoverflow.com/questions/18112155/access-to-the-color-palette-in-an-xssfworkbook I also get an indexed value of 64 for background which I&#39;m pretty sure is not a valid value. I get it for both Orange and Black.","body":"I&#39;ve got a similar issue myself: <a href=\"http://stackoverflow.com/questions/18112155/access-to-the-color-palette-in-an-xssfworkbook\" title=\"access to the color palette in an xssfworkbook\">stackoverflow.com/questions/18112155/&hellip;</a> I also get an indexed value of 64 for background which I&#39;m pretty sure is not a valid value. I get it for both Orange and Black."}],"answers":[{"comments":[{"owner":{"account_id":976472,"reputation":1964,"user_id":997482,"accept_rate":46,"display_name":"Lalit Chattar"},"score":0,"creation_date":1337161127,"post_id":10615699,"comment_id":13756055,"body_markdown":"thank you but i have all ready used it in my code that you can see. but it is not working.","body":"thank you but i have all ready used it in my code that you can see. but it is not working."},{"owner":{"account_id":976472,"reputation":1964,"user_id":997482,"accept_rate":46,"display_name":"Lalit Chattar"},"score":0,"creation_date":1337161371,"post_id":10615699,"comment_id":13756150,"body_markdown":"how can i apply that number on new cell?","body":"how can i apply that number on new cell?"},{"owner":{"account_id":976472,"reputation":1964,"user_id":997482,"accept_rate":46,"display_name":"Lalit Chattar"},"score":0,"creation_date":1337161793,"post_id":10615699,"comment_id":13756293,"body_markdown":"i am processing xlsx and using XSSF so how can i use HSSFColor","body":"i am processing xlsx and using XSSF so how can i use HSSFColor"},{"owner":{"account_id":1291067,"reputation":515,"user_id":1243167,"display_name":"TikkaBhuna"},"score":0,"creation_date":1337164774,"post_id":10615699,"comment_id":13757398,"body_markdown":"You can use the same format.  Try: xssfCell.getCellStyle().getFillBackgroundColor() or getFillBackgroundColorColor.  The former returns a short and the second returns XSSFColor.  http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#getFillBackgroundColor%28%29","body":"You can use the same format.  Try: xssfCell.getCellStyle().getFillBackgroundColor() or getFillBackgroundColorColor.  The former returns a short and the second returns XSSFColor.  <a href=\"http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#getFillBackgroundColor%28%29\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/&hellip;</a>"}],"tags":[],"owner":{"account_id":539735,"reputation":9286,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337161447,"creation_date":1337160606,"answer_id":10615699,"question_id":10615628,"body_markdown":"You can use this code to get the cell color.\r\n\r\n    cell.getCellStyle().getFillBackgroundColor();\r\n\r\nTry \r\n\r\n    HSSFColor.getIndexHash().get(myCell.getCellStyle().getFillBackgroundColor())","title":"Apache POI get cell color when reading xlsx file","body":"<p>You can use this code to get the cell color.</p>\n\n<pre><code>cell.getCellStyle().getFillBackgroundColor();\n</code></pre>\n\n<p>Try </p>\n\n<pre><code>HSSFColor.getIndexHash().get(myCell.getCellStyle().getFillBackgroundColor())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1291067,"reputation":515,"user_id":1243167,"display_name":"TikkaBhuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1337165728,"creation_date":1337165728,"answer_id":10617068,"question_id":10615628,"body_markdown":"I posted a comment to vikiiii&#39;s answer.  I thought I&#39;d expand on it a bit more.  His answer is specific to HSSF (.xls) but both the HSSF and XSSF classes descend from the same interface so the code is the same, you just use XSSF instead of HSSF.  Seeing as you want to reuse the color I&#39;d recommend using:\r\n\r\n    XSSFColor bgColor = xssfCell.getCellStyle().getFillBackgroundColorColor();\r\n\r\nSee [here][1] for the Javadoc.  Now to set a new cell to that color you can use [this][3].\r\n\r\n    secondCell.getCellStyle().setFillBackgroundColor(bgColor);\r\n\r\nI&#39;d recommend looking at the interfaces that the XSSF and HSSF classes descend from and have a look at making your code be able to handle both xls and xlsx files.  As far as I&#39;m aware the only difference is the way you set up the workbook, using [WorkbookFactory][2].\r\n\r\n\r\n\r\n  [1]: http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#getFillBackgroundColorColor%28%29\r\n  [2]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/WorkbookFactory.html#create%28java.io.File%29\r\n  [3]: http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#setFillBackgroundColor%28org.apache.poi.xssf.usermodel.XSSFColor%29","title":"Apache POI get cell color when reading xlsx file","body":"<p>I posted a comment to vikiiii's answer.  I thought I'd expand on it a bit more.  His answer is specific to HSSF (.xls) but both the HSSF and XSSF classes descend from the same interface so the code is the same, you just use XSSF instead of HSSF.  Seeing as you want to reuse the color I'd recommend using:</p>\n\n<pre><code>XSSFColor bgColor = xssfCell.getCellStyle().getFillBackgroundColorColor();\n</code></pre>\n\n<p>See <a href=\"http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#getFillBackgroundColorColor%28%29\" rel=\"noreferrer\">here</a> for the Javadoc.  Now to set a new cell to that color you can use <a href=\"http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCellStyle.html#setFillBackgroundColor%28org.apache.poi.xssf.usermodel.XSSFColor%29\" rel=\"noreferrer\">this</a>.</p>\n\n<pre><code>secondCell.getCellStyle().setFillBackgroundColor(bgColor);\n</code></pre>\n\n<p>I'd recommend looking at the interfaces that the XSSF and HSSF classes descend from and have a look at making your code be able to handle both xls and xlsx files.  As far as I'm aware the only difference is the way you set up the workbook, using <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/WorkbookFactory.html#create%28java.io.File%29\" rel=\"noreferrer\">WorkbookFactory</a>.</p>\n"},{"tags":[],"owner":{"account_id":16320561,"reputation":91,"user_id":11786463,"display_name":"Volodymyr Taras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682681234,"creation_date":1682681234,"answer_id":76129107,"question_id":10615628,"body_markdown":"I had .xlsx file, and this code helped me to retrieve correct HEX color values from cell background:\r\n\r\n    XSSFColor color = (XSSFColor) cell\r\n        .getCellStyle()\r\n        .getFillForegroundColorColor();\r\n    String hexColorValue = color\r\n        .getCTColor()\r\n        .xgetRgb()\r\n        .getStringValue();\r\n\r\nMy org.apache.poi version is 3.17","title":"Apache POI get cell color when reading xlsx file","body":"<p>I had .xlsx file, and this code helped me to retrieve correct HEX color values from cell background:</p>\n<pre><code>XSSFColor color = (XSSFColor) cell\n    .getCellStyle()\n    .getFillForegroundColorColor();\nString hexColorValue = color\n    .getCTColor()\n    .xgetRgb()\n    .getStringValue();\n</code></pre>\n<p>My org.apache.poi version is 3.17</p>\n"}],"owner":{"account_id":976472,"reputation":1964,"user_id":997482,"accept_rate":46,"display_name":"Lalit Chattar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12511,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10617068,"answer_count":3,"score":5,"last_activity_date":1682681234,"creation_date":1337160423,"question_id":10615628,"body_markdown":"Hello all i am reading one `xlsx` file using `XSSF` of `Apche POI`. Now i want to read color of the cell and apply same color on new `xlsx` file. how will i do it. my code is:\r\n\r\n    public void readXLSXFile(String filePath) throws FileNotFoundException, IOException\r\n    \t{\r\n    \t\tXSSFRow row;\r\n    \t\tXSSFRow new_row;\r\n    \t\tXSSFSheet sheet;\r\n    \t\tXSSFCell cell;\r\n    \t\tXSSFCell new_cell;\r\n    \t\tXSSFCellStyle cellStyle;\r\n    \t\tXSSFDataFormat dataFormat;\r\n    \t\tXSSFColor color;\r\n    \t\t\r\n    \t\tXSSFWorkbook xssfWorkbook = new XSSFWorkbook(new FileInputStream(filePath));\r\n    \t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n    \t\tXSSFSheet new_sheet = (XSSFSheet) workbook.createSheet();\r\n    \t\tfor(int i = 0; i &lt; xssfWorkbook.getNumberOfSheets(); i++ )\r\n    \t\t{\r\n    \t\t\tsheet = xssfWorkbook.getSheetAt(i);\r\n    \t\t\tfor(int j =0; j&lt;sheet.getLastRowNum(); j++)\r\n    \t\t\t{\r\n    \t\t\t\trow = (XSSFRow) sheet.getRow(j);\r\n    \t\t\t\tnew_row = new_sheet.createRow(j);\r\n    \t\t\t\tfor(int k = 0; k&lt;row.getLastCellNum(); k++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcell = row.getCell(k);\r\n    \t\t\t\t\tnew_cell = new_row.createCell(k);\r\n    \t\t\t\t\tcellStyle = workbook.createCellStyle();\r\n    \t\t\t\t\tdataFormat = workbook.createDataFormat();\r\n    \t\t\t\t\tcellStyle.setDataFormat(dataFormat.getFormat(cell.getCellStyle().getDataFormatString()));\r\n    \t\t\t\t\tcolor = cell.getCellStyle().getFillBackgroundColorColor();\r\n    \t\t\t\t\tcellStyle.setFillForegroundColor(color);\r\n    \t\t\t\t\tnew_cell.setCellStyle(cellStyle);\r\n    \t\t\t\t\tSystem.out.println(cell.getCellStyle().getFillForegroundColor()+&quot;#&quot;);\r\n    \t\t\t\t\tswitch (cell.getCellType()) {\r\n    \t\t\t\t\tcase 0:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getNumericCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getStringCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 2:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getNumericCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getStringCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getBooleanCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getErrorCellString());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\tnew_cell.setCellValue(cell.getStringCellValue());\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tworkbook.write(new FileOutputStream(&quot;G:\\\\lalit.xlsx&quot;));\r\n    \t}\r\n\r\nI an using Apche POI 3.8.","title":"Apache POI get cell color when reading xlsx file","body":"<p>Hello all i am reading one <code>xlsx</code> file using <code>XSSF</code> of <code>Apche POI</code>. Now i want to read color of the cell and apply same color on new <code>xlsx</code> file. how will i do it. my code is:</p>\n\n<pre><code>public void readXLSXFile(String filePath) throws FileNotFoundException, IOException\n    {\n        XSSFRow row;\n        XSSFRow new_row;\n        XSSFSheet sheet;\n        XSSFCell cell;\n        XSSFCell new_cell;\n        XSSFCellStyle cellStyle;\n        XSSFDataFormat dataFormat;\n        XSSFColor color;\n\n        XSSFWorkbook xssfWorkbook = new XSSFWorkbook(new FileInputStream(filePath));\n        XSSFWorkbook workbook = new XSSFWorkbook();\n        XSSFSheet new_sheet = (XSSFSheet) workbook.createSheet();\n        for(int i = 0; i &lt; xssfWorkbook.getNumberOfSheets(); i++ )\n        {\n            sheet = xssfWorkbook.getSheetAt(i);\n            for(int j =0; j&lt;sheet.getLastRowNum(); j++)\n            {\n                row = (XSSFRow) sheet.getRow(j);\n                new_row = new_sheet.createRow(j);\n                for(int k = 0; k&lt;row.getLastCellNum(); k++)\n                {\n                    cell = row.getCell(k);\n                    new_cell = new_row.createCell(k);\n                    cellStyle = workbook.createCellStyle();\n                    dataFormat = workbook.createDataFormat();\n                    cellStyle.setDataFormat(dataFormat.getFormat(cell.getCellStyle().getDataFormatString()));\n                    color = cell.getCellStyle().getFillBackgroundColorColor();\n                    cellStyle.setFillForegroundColor(color);\n                    new_cell.setCellStyle(cellStyle);\n                    System.out.println(cell.getCellStyle().getFillForegroundColor()+\"#\");\n                    switch (cell.getCellType()) {\n                    case 0:\n                        new_cell.setCellValue(cell.getNumericCellValue());\n                        break;\n                    case 1:\n                        new_cell.setCellValue(cell.getStringCellValue());\n                        break;\n                    case 2:\n                        new_cell.setCellValue(cell.getNumericCellValue());\n                        break;\n                    case 3:\n                        new_cell.setCellValue(cell.getStringCellValue());\n                        break;\n                    case 4:\n                        new_cell.setCellValue(cell.getBooleanCellValue());\n                        break;\n                    case 5:\n                        new_cell.setCellValue(cell.getErrorCellString());\n                        break;\n                    default:\n                        new_cell.setCellValue(cell.getStringCellValue());\n                        break;\n                    }\n                }\n            }\n        }\n        workbook.write(new FileOutputStream(\"G:\\\\lalit.xlsx\"));\n    }\n</code></pre>\n\n<p>I an using Apche POI 3.8.</p>\n"},{"tags":["java","graph","dijkstra","path-finding","adjacency-matrix"],"answers":[{"tags":[],"owner":{"account_id":7737658,"reputation":2769,"user_id":5858704,"display_name":"MartinS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1456113998,"creation_date":1456113998,"answer_id":35545664,"question_id":35523518,"body_markdown":"Ok it took me a while to figure out why and how your algorithm is broken because there are quite a few things wrong:\r\n\r\n**1. getMinDistance() is wrong**\r\n\r\nIn this method you try to find the cheapest node to visit next which is the right idea but the implementation is wrong. First you are considering ALL nodes in the graph, not just the neighbors of the node you are currently visiting and secondly you use the `distance` array to look up the cost. But in there the values for all unvisited nodes are `Integer.MAX_VALUE` so the method will always choose the node with the highest index.\r\n\r\n**2. You are using the wrong Adjancency List**\r\n\r\nFor the shortest path you are creating a modified copy of the original adjacency list, but then you are not using it.\r\n\r\n**3. Your modified Adjancency List is wrong**\r\n\r\nWhen creating the modified copy for shortest path, you set the value to `1` everywhere instead of `1` where there is an edge and `Integer.MAX_VALUE` for everything else (actually you should use `-1` in that case and check for it in your code. Otherwise your algorithm will say that there is a path between nodes that are disconnected).\r\n\r\n**4. This is NOT Dijkstra**\r\n\r\nIt took me a while to see that because sometimes you get the right result but this is not [Dijkstra&#39;s Algorithm][1]. To implement it properly you need a priority queue or some other mechanism to track the distances and get the minimum. You tried that with your &#39;getMinDistance&#39; method but this approach was wrong because you considered all nodes in the graph and not only the ones &#39;in the queue&#39;.\r\n\r\nSee below for a fixed version of your code. You should try to reimplement it yourself but since I have it now anyways...\r\n\r\n    public class Dijkstra {\r\n\r\n\t  private static final class DijkstraComparator implements Comparator&lt;Integer&gt; {\r\n\t\tprivate final int[] distance;\r\n\r\n\t\tDijkstraComparator(int[] distance) {\r\n\t\t\tthis.distance = distance;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int compare(Integer o1, Integer o2) {\r\n\t\t\treturn Integer.compare(distance[o1], distance[o2]);\r\n\t\t}\r\n\t  }\r\n\r\n      private Graph graph;\r\n\t  private int[] distance;\r\n\t  private boolean[] visited;\r\n\t  private int[] parents;\r\n\t  private int startNode;\r\n\t  private int endNode;\r\n\r\n\t  public Dijkstra(Graph graph, int startNode, int endNode) {\r\n\t\tthis.graph = graph;\r\n\t\tdistance = new int[graph.getAdjList().length];\r\n\t\tvisited = new boolean[graph.getAdjList().length];\r\n\t\tparents = new int[graph.getAdjList().length];\r\n\t\tthis.startNode = startNode;\r\n\t\tthis.endNode = endNode;\r\n\t  }\r\n\r\n\t  public void findPath(boolean isUnweighted) {\r\n\t\tif (endNode == startNode) {\r\n\t\t\tSystem.out.println(&quot;Starting node  &quot; + startNode + &quot;  and target node &quot; + endNode + &quot; are identical.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tint[][] graphForPathFinding;\r\n\t\tif (isUnweighted) {\r\n\t\t\t// set all weights to 1\r\n\t\t\tgraphForPathFinding = convertGraphToUnweighted();\r\n\t\t} else {\r\n\t\t\tgraphForPathFinding = graph.getAdjList();\r\n\t\t}\r\n\r\n\t\t// initialize\r\n\t\tfor (int i = 0; i &lt; parents.length; i++) {\r\n\t\t\tparents[i] = Integer.MAX_VALUE;\r\n\t\t\tvisited[i] = false;\r\n\t\t\tdistance[i] = Integer.MAX_VALUE;\r\n\t\t}\r\n\r\n\t\tPriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(1, new DijkstraComparator(distance));\r\n\t\tdistance[startNode] = 0;\r\n\t\tqueue.add(startNode);\r\n\r\n\t\twhile (queue.isEmpty() == false) {\r\n\t\t\tint nextNode = queue.poll();\r\n\t\t\tvisited[nextNode] = true;\r\n\r\n\t\t\tif (nextNode == endNode) {\r\n\t\t\t\tprintResults();\r\n\t\t\t\treturn; // target node reached\r\n\t\t\t}\r\n\r\n\t\t\tint[] neighbors = graph.getNeighbors(nextNode);\r\n\t\t\tfor (int neighbor : neighbors) {\r\n\t\t\t\tif (visited[neighbor] == false) {\r\n\t\t\t\t\t// update distance\r\n\t\t\t\t\tint d = distance[nextNode] + graphForPathFinding[nextNode][neighbor];\r\n\t\t\t\t\tif (d &lt; distance[neighbor]) {\r\n\t\t\t\t\t\tdistance[neighbor] = d;\r\n\t\t\t\t\t\tparents[neighbor] = nextNode;\r\n\r\n\t\t\t\t\t\t// remove neighbors from queue so the value gets updated\r\n\t\t\t\t\t\tif (queue.contains(neighbor)) {\r\n\t\t\t\t\t\t\tqueue.remove(neighbor);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tqueue.add(neighbor);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;No path found between &quot; + startNode + &quot; and &quot; + endNode);\r\n\t  }\r\n\r\n\t  private int[][] convertGraphToUnweighted() {\r\n\t\tint[][] adjMatrix = graph.getAdjList();\r\n\t\tint[][] graphForConverting = new int[adjMatrix.length][adjMatrix.length];\r\n\t\tfor (int i = 0; i &lt; adjMatrix.length; i++) {\r\n\t\t\tint[] adjList = adjMatrix[i];\r\n\t\t\tfor (int j = 0; j &lt; adjList.length; j++) {\r\n\t\t\t\tif (adjList[j] != 0) {\r\n\t\t\t\t\tgraphForConverting[i][j] = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgraphForConverting[i][j] = Integer.MAX_VALUE;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphForConverting;\r\n\t  }\r\n\r\n\t  private void printResults() {\r\n\t\tint weight = 0;\r\n\t\tint steps = 0;\r\n\t\tSystem.out.println(&quot;Pfad: &quot;);\r\n\t\tfor (int node = endNode; node != startNode; steps++) {\r\n\t\t\tSystem.out.print(node + &quot;    &quot;);\r\n\t\t\tweight += graph.getAdjList()[parents[node]][node];\r\n\t\t\tnode = parents[node];\r\n\t\t}\r\n\t\tSystem.out.println(startNode);\r\n\t\tSystem.out.println(&quot;Number of nodes: &quot; + steps);\r\n\t\tSystem.out.println(&quot;Weight:  &quot; + weight);\r\n\t  }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm","title":"Dijkstra for Adjacency matrix, Shortest and cheapest Path, single source, single target","body":"<p>Ok it took me a while to figure out why and how your algorithm is broken because there are quite a few things wrong:</p>\n\n<p><strong>1. getMinDistance() is wrong</strong></p>\n\n<p>In this method you try to find the cheapest node to visit next which is the right idea but the implementation is wrong. First you are considering ALL nodes in the graph, not just the neighbors of the node you are currently visiting and secondly you use the <code>distance</code> array to look up the cost. But in there the values for all unvisited nodes are <code>Integer.MAX_VALUE</code> so the method will always choose the node with the highest index.</p>\n\n<p><strong>2. You are using the wrong Adjancency List</strong></p>\n\n<p>For the shortest path you are creating a modified copy of the original adjacency list, but then you are not using it.</p>\n\n<p><strong>3. Your modified Adjancency List is wrong</strong></p>\n\n<p>When creating the modified copy for shortest path, you set the value to <code>1</code> everywhere instead of <code>1</code> where there is an edge and <code>Integer.MAX_VALUE</code> for everything else (actually you should use <code>-1</code> in that case and check for it in your code. Otherwise your algorithm will say that there is a path between nodes that are disconnected).</p>\n\n<p><strong>4. This is NOT Dijkstra</strong></p>\n\n<p>It took me a while to see that because sometimes you get the right result but this is not <a href=\"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow\">Dijkstra's Algorithm</a>. To implement it properly you need a priority queue or some other mechanism to track the distances and get the minimum. You tried that with your 'getMinDistance' method but this approach was wrong because you considered all nodes in the graph and not only the ones 'in the queue'.</p>\n\n<p>See below for a fixed version of your code. You should try to reimplement it yourself but since I have it now anyways...</p>\n\n<pre><code>public class Dijkstra {\n\n  private static final class DijkstraComparator implements Comparator&lt;Integer&gt; {\n    private final int[] distance;\n\n    DijkstraComparator(int[] distance) {\n        this.distance = distance;\n    }\n\n    @Override\n    public int compare(Integer o1, Integer o2) {\n        return Integer.compare(distance[o1], distance[o2]);\n    }\n  }\n\n  private Graph graph;\n  private int[] distance;\n  private boolean[] visited;\n  private int[] parents;\n  private int startNode;\n  private int endNode;\n\n  public Dijkstra(Graph graph, int startNode, int endNode) {\n    this.graph = graph;\n    distance = new int[graph.getAdjList().length];\n    visited = new boolean[graph.getAdjList().length];\n    parents = new int[graph.getAdjList().length];\n    this.startNode = startNode;\n    this.endNode = endNode;\n  }\n\n  public void findPath(boolean isUnweighted) {\n    if (endNode == startNode) {\n        System.out.println(\"Starting node  \" + startNode + \"  and target node \" + endNode + \" are identical.\");\n        return;\n    }\n\n    int[][] graphForPathFinding;\n    if (isUnweighted) {\n        // set all weights to 1\n        graphForPathFinding = convertGraphToUnweighted();\n    } else {\n        graphForPathFinding = graph.getAdjList();\n    }\n\n    // initialize\n    for (int i = 0; i &lt; parents.length; i++) {\n        parents[i] = Integer.MAX_VALUE;\n        visited[i] = false;\n        distance[i] = Integer.MAX_VALUE;\n    }\n\n    PriorityQueue&lt;Integer&gt; queue = new PriorityQueue&lt;&gt;(1, new DijkstraComparator(distance));\n    distance[startNode] = 0;\n    queue.add(startNode);\n\n    while (queue.isEmpty() == false) {\n        int nextNode = queue.poll();\n        visited[nextNode] = true;\n\n        if (nextNode == endNode) {\n            printResults();\n            return; // target node reached\n        }\n\n        int[] neighbors = graph.getNeighbors(nextNode);\n        for (int neighbor : neighbors) {\n            if (visited[neighbor] == false) {\n                // update distance\n                int d = distance[nextNode] + graphForPathFinding[nextNode][neighbor];\n                if (d &lt; distance[neighbor]) {\n                    distance[neighbor] = d;\n                    parents[neighbor] = nextNode;\n\n                    // remove neighbors from queue so the value gets updated\n                    if (queue.contains(neighbor)) {\n                        queue.remove(neighbor);\n                    }\n                    queue.add(neighbor);\n                }\n            }\n        }\n    }\n    System.out.println(\"No path found between \" + startNode + \" and \" + endNode);\n  }\n\n  private int[][] convertGraphToUnweighted() {\n    int[][] adjMatrix = graph.getAdjList();\n    int[][] graphForConverting = new int[adjMatrix.length][adjMatrix.length];\n    for (int i = 0; i &lt; adjMatrix.length; i++) {\n        int[] adjList = adjMatrix[i];\n        for (int j = 0; j &lt; adjList.length; j++) {\n            if (adjList[j] != 0) {\n                graphForConverting[i][j] = 1;\n            } else {\n                graphForConverting[i][j] = Integer.MAX_VALUE;\n            }\n        }\n    }\n    return graphForConverting;\n  }\n\n  private void printResults() {\n    int weight = 0;\n    int steps = 0;\n    System.out.println(\"Pfad: \");\n    for (int node = endNode; node != startNode; steps++) {\n        System.out.print(node + \"    \");\n        weight += graph.getAdjList()[parents[node]][node];\n        node = parents[node];\n    }\n    System.out.println(startNode);\n    System.out.println(\"Number of nodes: \" + steps);\n    System.out.println(\"Weight:  \" + weight);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4217198,"reputation":153,"user_id":3453011,"accept_rate":86,"display_name":"Scorch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35545664,"answer_count":1,"score":0,"last_activity_date":1682680705,"creation_date":1455972687,"question_id":35523518,"body_markdown":"I&#39;m trying to implement the Dijkstra algorithm in order to get the shortest and cheapest path from one vertex to another vertex, not for all vertices. The graph is built randomly by using random nodes which are connected with random weights.\r\n\r\nBut either I get negative costs or the path for both methods, cheapest and shortest, is the same.\r\nI&#39;m trying to find both results by using the same method since shortest path is just ignoring the weights. This is controlled by a boolean variable.\r\n\r\n\r\nDijkstra - Class:\r\n\r\n    public class Dijkstra {\r\n\r\n\tprivate Graph graph;\r\n\tprivate int[] distance;\r\n\tprivate boolean[] visited;\r\n\tprivate int[] parents;\r\n\tprivate int startNode;\r\n\tprivate int endNode;\r\n\r\n\tpublic Dijkstra(Graph graph, int startNode, int endNode) {\r\n\t\tthis.graph = graph;\r\n\t\tdistance = new int[graph.getAdjList().length];\r\n\t\tvisited = new boolean[graph.getAdjList().length];\r\n\t\tparents = new int[graph.getAdjList().length];\r\n\t\tthis.startNode = startNode;\r\n\t\tthis.endNode = endNode;\r\n\t}\r\n\r\n\tpublic void findPath(boolean isUnweighted) {\r\n\t\tif (endNode == startNode) {\r\n\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;Starting node  &quot; + startNode + &quot;  and target node &quot; + endNode + &quot; are identical.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Starting node: &quot; + startNode);\r\n\t\tSystem.out.println(&quot;Target node:  &quot; + endNode);\r\n\t\tint[][] adjList = graph.getAdjList();\r\n\t\tint[][] graphForPathFinding = new int[adjList.length][adjList.length];\r\n\r\n\t\tif (isUnweighted) {\r\n\t\t\t// set all weights to 1\r\n\t\t\tgraphForPathFinding = convertGraphToUnweighted(graphForPathFinding);\r\n\t\t} else\r\n\t\t\tgraphForPathFinding = adjList;\r\n\t\t// initialize\r\n\t\tfor (int i = 0; i &lt; adjList.length; i++) {\r\n\t\t\tparents[i] = Integer.MAX_VALUE;\r\n\t\t\tvisited[i] = false;\r\n\t\t\tdistance[i] = Integer.MAX_VALUE;\r\n\t\t}\r\n\r\n\t\tdistance[startNode] = 0;\r\n\t\tfor (int i = 0; i &lt; graphForPathFinding.length; i++) {\r\n\r\n\t\t\tint nextNode = getMinDistance();\r\n\t\t\tif (nextNode == -1) { // no path found\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t&quot;No path found between &quot; + startNode + &quot; and &quot; + endNode);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvisited[nextNode] = true;\r\n\t\t\tparents[i] = nextNode;\r\n\r\n\t\t\tif (nextNode == endNode) {\r\n\t\t\t\tprintResults();\r\n\t\t\t\treturn; // target node reached\r\n\t\t\t}\r\n\t\t\tint[] neighbors = graph.getNeighbors(nextNode);\r\n\t\t\tfor (int j = 0; j &lt; neighbors.length; j++) {\r\n\r\n\t\t\t\t if (!visited[j] &amp;&amp; neighbors[j] &gt; 0 &amp;&amp; distance[nextNode] !=\r\n\t\t\t\t Integer.MAX_VALUE\r\n\t\t\t\t &amp;&amp; distance[nextNode] + neighbors[j] &lt; distance[j])\r\n\t\t\t\t distance[j] = distance[nextNode] + neighbors[j];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate int getMinDistance() {\r\n\t\tint min = Integer.MAX_VALUE;\r\n\t\tint min_index = -1;\r\n\r\n\t\tfor (int i = 0; i &lt; graph.getAdjList().length; i++) {\r\n\t\t\tif (visited[i] == false &amp;&amp; distance[i] &lt;= min) {\r\n\t\t\t\tmin = distance[i];\r\n\t\t\t\tmin_index = i;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn min_index;\r\n\t}\r\n\r\n\tprivate int[][] convertGraphToUnweighted(int[][] graphForConverting) {\r\n\t\tfor (int i = 0; i &lt; graph.getAdjList().length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; graph.getAdjList()[i].length; j++) {\r\n\t\t\t\t //if (graph.getAdjList()[i][j] &gt; 0) {\r\n\t\t\t\tgraphForConverting[i][j] = 1;\r\n\t\t\t// }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphForConverting;\r\n\t}\r\n\r\n\tprivate void printResults() {\r\n\tint weight = 0;\r\n\tint steps = 0;\r\n\tSystem.out.println(&quot;Pfad: &quot;);\r\n\t\tfor(int i = endNode; i&gt;=0; i--){\r\n\t\t\tif(parents[i] &lt; Integer.MAX_VALUE){\r\n\t\t\t\tSystem.out.print(parents[i] + &quot;    &quot;);\r\n\t\t\t\tsteps++;\r\n\t\t\t\tweight += graph.getAdjList()[i][parents[i]];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Number of nodes: &quot; + steps);\r\n\t\t System.out.println(&quot;Weight:  &quot; + weight);\r\n\t}\r\n}\r\n\r\nGraph - Class getNeighbors\r\n\r\n    public int[] getNeighbors(int node){\r\n    \t\tint neighborCount = 0;\r\n    \t\tfor(int i = 0; i &lt; adjList[node].length; ++i)\r\n    \t\t\tif(adjList[node][i] &gt; 0)\r\n    \t\t\t\t++neighborCount;\r\n    \t\tint[] neighbours = new int[neighborCount];\r\n    \t\tneighborCount = 0;\r\n    \t\tfor(int i = 0; i &lt; adjList[node].length; ++i)\r\n    \t\t\tif(adjList[node][i] &gt; 0)\r\n    \t\t\t\tneighbours[neighborCount++] = i;\r\n    \t\t\t\r\n    \t\treturn neighbours;\r\n    \t}\r\n\r\nMain - method:\r\n   \r\n\r\n     public static void main(String[] args) {\r\n                int startNode = rnd.nextInt(graph.getAdjList().length);\r\n        \t\tint endNode = rnd.nextInt(graph.getAdjList().length);\r\n        \t\tDijkstra d = new Dijkstra(graph, startNode, endNode);\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;Shortest path:&quot;);\r\n        \t\td.findPath(true); // true = unweighted, false = weighted\r\n        \t\tSystem.out.println();\r\n        \t\tSystem.out.println(&quot;Cheapest path:&quot;);\r\n        \t\td.findPath(false);\r\n    }","title":"Dijkstra for Adjacency matrix, Shortest and cheapest Path, single source, single target","body":"<p>I'm trying to implement the Dijkstra algorithm in order to get the shortest and cheapest path from one vertex to another vertex, not for all vertices. The graph is built randomly by using random nodes which are connected with random weights.</p>\n\n<p>But either I get negative costs or the path for both methods, cheapest and shortest, is the same.\nI'm trying to find both results by using the same method since shortest path is just ignoring the weights. This is controlled by a boolean variable.</p>\n\n<p>Dijkstra - Class:</p>\n\n<pre><code>public class Dijkstra {\n\nprivate Graph graph;\nprivate int[] distance;\nprivate boolean[] visited;\nprivate int[] parents;\nprivate int startNode;\nprivate int endNode;\n\npublic Dijkstra(Graph graph, int startNode, int endNode) {\n    this.graph = graph;\n    distance = new int[graph.getAdjList().length];\n    visited = new boolean[graph.getAdjList().length];\n    parents = new int[graph.getAdjList().length];\n    this.startNode = startNode;\n    this.endNode = endNode;\n}\n\npublic void findPath(boolean isUnweighted) {\n    if (endNode == startNode) {\n        System.out.println(\n                \"Starting node  \" + startNode + \"  and target node \" + endNode + \" are identical.\");\n        return;\n    }\n    System.out.println(\"Starting node: \" + startNode);\n    System.out.println(\"Target node:  \" + endNode);\n    int[][] adjList = graph.getAdjList();\n    int[][] graphForPathFinding = new int[adjList.length][adjList.length];\n\n    if (isUnweighted) {\n        // set all weights to 1\n        graphForPathFinding = convertGraphToUnweighted(graphForPathFinding);\n    } else\n        graphForPathFinding = adjList;\n    // initialize\n    for (int i = 0; i &lt; adjList.length; i++) {\n        parents[i] = Integer.MAX_VALUE;\n        visited[i] = false;\n        distance[i] = Integer.MAX_VALUE;\n    }\n\n    distance[startNode] = 0;\n    for (int i = 0; i &lt; graphForPathFinding.length; i++) {\n\n        int nextNode = getMinDistance();\n        if (nextNode == -1) { // no path found\n            System.out.println(\n                    \"No path found between \" + startNode + \" and \" + endNode);\n            return;\n        }\n        visited[nextNode] = true;\n        parents[i] = nextNode;\n\n        if (nextNode == endNode) {\n            printResults();\n            return; // target node reached\n        }\n        int[] neighbors = graph.getNeighbors(nextNode);\n        for (int j = 0; j &lt; neighbors.length; j++) {\n\n             if (!visited[j] &amp;&amp; neighbors[j] &gt; 0 &amp;&amp; distance[nextNode] !=\n             Integer.MAX_VALUE\n             &amp;&amp; distance[nextNode] + neighbors[j] &lt; distance[j])\n             distance[j] = distance[nextNode] + neighbors[j];\n        }\n\n    }\n\n}\n\nprivate int getMinDistance() {\n    int min = Integer.MAX_VALUE;\n    int min_index = -1;\n\n    for (int i = 0; i &lt; graph.getAdjList().length; i++) {\n        if (visited[i] == false &amp;&amp; distance[i] &lt;= min) {\n            min = distance[i];\n            min_index = i;\n        }\n\n    }\n    return min_index;\n}\n\nprivate int[][] convertGraphToUnweighted(int[][] graphForConverting) {\n    for (int i = 0; i &lt; graph.getAdjList().length; i++) {\n        for (int j = 0; j &lt; graph.getAdjList()[i].length; j++) {\n             //if (graph.getAdjList()[i][j] &gt; 0) {\n            graphForConverting[i][j] = 1;\n        // }\n        }\n    }\n    return graphForConverting;\n}\n\nprivate void printResults() {\nint weight = 0;\nint steps = 0;\nSystem.out.println(\"Pfad: \");\n    for(int i = endNode; i&gt;=0; i--){\n        if(parents[i] &lt; Integer.MAX_VALUE){\n            System.out.print(parents[i] + \"    \");\n            steps++;\n            weight += graph.getAdjList()[i][parents[i]];\n        }\n\n    }\n\n    System.out.println();\n    System.out.println(\"Number of nodes: \" + steps);\n     System.out.println(\"Weight:  \" + weight);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Graph - Class getNeighbors</p>\n\n<pre><code>public int[] getNeighbors(int node){\n        int neighborCount = 0;\n        for(int i = 0; i &lt; adjList[node].length; ++i)\n            if(adjList[node][i] &gt; 0)\n                ++neighborCount;\n        int[] neighbours = new int[neighborCount];\n        neighborCount = 0;\n        for(int i = 0; i &lt; adjList[node].length; ++i)\n            if(adjList[node][i] &gt; 0)\n                neighbours[neighborCount++] = i;\n\n        return neighbours;\n    }\n</code></pre>\n\n<p>Main - method:</p>\n\n<pre><code> public static void main(String[] args) {\n            int startNode = rnd.nextInt(graph.getAdjList().length);\n            int endNode = rnd.nextInt(graph.getAdjList().length);\n            Dijkstra d = new Dijkstra(graph, startNode, endNode);\n\n            System.out.println(\"Shortest path:\");\n            d.findPath(true); // true = unweighted, false = weighted\n            System.out.println();\n            System.out.println(\"Cheapest path:\");\n            d.findPath(false);\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682601506,"post_id":76120808,"comment_id":134244010,"body_markdown":"`System.err.println(value.replaceAll(&quot;[^-,.\\\\d]&quot;, &quot;&quot;));` !?","body":"<code>System.err.println(value.replaceAll(&quot;[^-,.\\\\d]&quot;, &quot;&quot;));</code> !?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682601538,"post_id":76120808,"comment_id":134244019,"body_markdown":"`-,.` and all digits &quot;remain&quot; ..","body":"<code>-,.</code> and all digits &quot;remain&quot; .."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682603086,"post_id":76120808,"comment_id":134244398,"body_markdown":"maybe it is dup&#39;ed, but not by [that](https://stackoverflow.com/questions/2555059/javascript-regular-expressions-replace-non-numeric-characters) tag:javascript..meanwhile i found: https://howtodoinjava.com/java/regex/java-regex-match-any-currency-symbol/ ! which eneables us (for the specific &quot;information loss&quot;) to `value.replaceAll(&quot;[\\\\p{Sc}]&quot;, &quot;&quot;)` (replaces all &quot;currency characters&quot; with &quot;empty string&quot;)","body":"maybe it is dup&#39;ed, but not by <a href=\"https://stackoverflow.com/questions/2555059/javascript-regular-expressions-replace-non-numeric-characters\">that</a> tag:javascript..meanwhile i found: <a href=\"https://howtodoinjava.com/java/regex/java-regex-match-any-currency-symbol/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/regex/&hellip;</a> ! which eneables us (for the specific &quot;information loss&quot;) to <code>value.replaceAll(&quot;[\\\\p{Sc}]&quot;, &quot;&quot;)</code> (replaces all &quot;currency characters&quot; with &quot;empty string&quot;)"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682603342,"post_id":76120808,"comment_id":134244474,"body_markdown":"Sometimes there may be a plus sign.","body":"Sometimes there may be a plus sign."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1682603671,"post_id":76120808,"comment_id":134244555,"body_markdown":"Yeah it still keeps commas I think... Which is not good","body":"Yeah it still keeps commas I think... Which is not good"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682604474,"post_id":76120808,"comment_id":134244774,"body_markdown":"What is your use case?  Do you want to parse this to a double?","body":"What is your use case?  Do you want to parse this to a double?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682605001,"post_id":76120808,"comment_id":134244902,"body_markdown":"Are you required to use a regular expression for this?  `NumberFormat.getCurrencyInstance(Locale.US).parse(value).intValue()` would accomplish your goal.","body":"Are you required to use a regular expression for this?  <code>NumberFormat.getCurrencyInstance(Locale.US).parse(value).int&zwnj;&#8203;Value()</code> would accomplish your goal."}],"answers":[{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682601596,"creation_date":1682601596,"answer_id":76120908,"question_id":76120808,"body_markdown":"In your example, the string only contains what refers to the money, but can the string get longer and contains &quot; - &quot; signs that are not the negative signs?\r\n\r\nIf your string always follow the same pattern as the one you just posted, you can change your regex to ignore &quot; - &quot; signs \r\n\r\n    String value = &quot;-$54.34&quot;;\r\n    value = value.replaceAll(&quot;[^-\\\\d.]+&quot;, &quot;&quot;);\r\n    System.out.println(value); // prints -54.34","title":"Remove the non-decimal parts of a String using regular expression","body":"<p>In your example, the string only contains what refers to the money, but can the string get longer and contains &quot; - &quot; signs that are not the negative signs?</p>\n<p>If your string always follow the same pattern as the one you just posted, you can change your regex to ignore &quot; - &quot; signs</p>\n<pre><code>String value = &quot;-$54.34&quot;;\nvalue = value.replaceAll(&quot;[^-\\\\d.]+&quot;, &quot;&quot;);\nSystem.out.println(value); // prints -54.34\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682606883,"creation_date":1682602261,"answer_id":76121017,"question_id":76120808,"body_markdown":"Try it like this.  Removes those characters that should not be part of a regular decimal number.\r\n```\r\nString[] testData = {\r\n        &quot;+$54.34&quot;,&quot;-$54.34&quot;,&quot;+54.34&quot;,&quot;-54.34&quot;,&quot;$54.34&quot;, &quot;54.34&quot;,\r\n        &quot;+$1,054.34&quot;,&quot;-$1,054.34&quot;,&quot;+1,054.34&quot;,&quot;-1,054.34&quot;,&quot;$1,054.34&quot;, &quot;1,054.34&quot;\r\n        \r\n};\r\nfor (String value : testData) {\r\n    String result = value.replaceAll(&quot;[^\\\\d.+-]+&quot;, &quot;&quot;);\r\n    System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\r\n}\r\n```\r\nprints\r\n```\r\n   +$54.34 -&gt;  54.34\r\n   -$54.34 -&gt; -54.34\r\n    +54.34 -&gt;  54.34\r\n    -54.34 -&gt; -54.34\r\n    $54.34 -&gt;  54.34\r\n     54.34 -&gt;  54.34\r\n+$1,054.34 -&gt;  1054.34\r\n-$1,054.34 -&gt; -1054.34\r\n +1,054.34 -&gt;  1054.34\r\n -1,054.34 -&gt; -1054.34\r\n $1,054.34 -&gt; 1054.34\r\n  1,054.34 -&gt; 1054.34\r\n```\r\nI also suggest you check out [DecimalFormat](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/text/DecimalFormat.html) which allows you to parse a `currencyInstance` to a double or to apply your own format.\r\nIf you want to convert to a double, first remove any plus or currency sign and parse.\r\n```\r\nDecimalFormat df = (DecimalFormat)DecimalFormat.getCurrencyInstance();\r\ndf.applyPattern(&quot;#,##0.##&quot;);\r\nfor (String value : testData) {\r\n    try {\r\n       double result = df.parse(value.replaceAll(&quot;[+$]&quot;,&quot;&quot;)).doubleValue();\r\n       System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\r\n    } catch (ParseException pe) {\r\n       pe.printStackTrace();\r\n    }\r\n }\r\n```\r\nprints the same as above.","title":"Remove the non-decimal parts of a String using regular expression","body":"<p>Try it like this.  Removes those characters that should not be part of a regular decimal number.</p>\n<pre><code>String[] testData = {\n        &quot;+$54.34&quot;,&quot;-$54.34&quot;,&quot;+54.34&quot;,&quot;-54.34&quot;,&quot;$54.34&quot;, &quot;54.34&quot;,\n        &quot;+$1,054.34&quot;,&quot;-$1,054.34&quot;,&quot;+1,054.34&quot;,&quot;-1,054.34&quot;,&quot;$1,054.34&quot;, &quot;1,054.34&quot;\n        \n};\nfor (String value : testData) {\n    String result = value.replaceAll(&quot;[^\\\\d.+-]+&quot;, &quot;&quot;);\n    System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>   +$54.34 -&gt;  54.34\n   -$54.34 -&gt; -54.34\n    +54.34 -&gt;  54.34\n    -54.34 -&gt; -54.34\n    $54.34 -&gt;  54.34\n     54.34 -&gt;  54.34\n+$1,054.34 -&gt;  1054.34\n-$1,054.34 -&gt; -1054.34\n +1,054.34 -&gt;  1054.34\n -1,054.34 -&gt; -1054.34\n $1,054.34 -&gt; 1054.34\n  1,054.34 -&gt; 1054.34\n</code></pre>\n<p>I also suggest you check out <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a> which allows you to parse a <code>currencyInstance</code> to a double or to apply your own format.\nIf you want to convert to a double, first remove any plus or currency sign and parse.</p>\n<pre><code>DecimalFormat df = (DecimalFormat)DecimalFormat.getCurrencyInstance();\ndf.applyPattern(&quot;#,##0.##&quot;);\nfor (String value : testData) {\n    try {\n       double result = df.parse(value.replaceAll(&quot;[+$]&quot;,&quot;&quot;)).doubleValue();\n       System.out.printf(&quot;%10s -&gt; %6s%n&quot;, value, result);\n    } catch (ParseException pe) {\n       pe.printStackTrace();\n    }\n }\n</code></pre>\n<p>prints the same as above.</p>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76121017,"answer_count":2,"score":1,"last_activity_date":1682680264,"creation_date":1682600900,"question_id":76120808,"body_markdown":"I want to remove the non-decimal parts of a String which could include money (positive or negative values). \r\n\r\n    String value = &quot;-$54.34&quot;\r\n    value = value.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;)\r\n\r\n\r\nGives me `54.34`\r\n\r\nIt works when it&#39;s a non-negative, but in this case I want the negative sign to remain. All the other questions/answers seem to skip on the negative sign aspect.\r\n\r\nI also don&#39;t want commas to show up in it...\r\n\r\n$4,230.33 should strip out the commas.","title":"Remove the non-decimal parts of a String using regular expression","body":"<p>I want to remove the non-decimal parts of a String which could include money (positive or negative values).</p>\n<pre><code>String value = &quot;-$54.34&quot;\nvalue = value.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;)\n</code></pre>\n<p>Gives me <code>54.34</code></p>\n<p>It works when it's a non-negative, but in this case I want the negative sign to remain. All the other questions/answers seem to skip on the negative sign aspect.</p>\n<p>I also don't want commas to show up in it...</p>\n<p>$4,230.33 should strip out the commas.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1682677106,"post_id":76128487,"comment_id":134256805,"body_markdown":"Does the code work in general? Then it might be a better fit for https://codereview.stackexchange.com/","body":"Does the code work in general? Then it might be a better fit for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1682678067,"post_id":76128487,"comment_id":134256998,"body_markdown":"I don’t see how the code as shown can possibly work.  For example, each call to `guess` returns the `numCorrect` variable, but that result is totally ignored for making the future guesses !!    In fact, whatever the result of the First guess (even 0 ! ), the code immediately goes into ` // update correct positions for each key` and will simply repeat the guess - In fact I don’t see how your guesses are ever going to change !","body":"I don’t see how the code as shown can possibly work.  For example, each call to <code>guess</code> returns the <code>numCorrect</code> variable, but that result is totally ignored for making the future guesses !!    In fact, whatever the result of the First guess (even 0 ! ), the code immediately goes into ` // update correct positions for each key` and will simply repeat the guess - In fact I don’t see how your guesses are ever going to change !"}],"answers":[{"comments":[{"owner":{"account_id":28432462,"reputation":1,"user_id":21752953,"display_name":"L.T.A"},"score":0,"creation_date":1682779499,"post_id":76128987,"comment_id":134270609,"body_markdown":"Hi, thank you so much for replying. I will take a look of the code and share with you any updates.","body":"Hi, thank you so much for replying. I will take a look of the code and share with you any updates."},{"owner":{"account_id":28432462,"reputation":1,"user_id":21752953,"display_name":"L.T.A"},"score":0,"creation_date":1683037383,"post_id":76128987,"comment_id":134303068,"body_markdown":"Hi, the run time is taking too long to actual produce  an answer. Have to try and run it?","body":"Hi, the run time is taking too long to actual produce  an answer. Have to try and run it?"}],"tags":[],"owner":{"account_id":28443698,"reputation":19,"user_id":21762715,"display_name":"Amad&#233;3812"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682680253,"creation_date":1682680253,"answer_id":76128987,"question_id":76128487,"body_markdown":"I think your approach is too inefficient, as you only know the number of correct chars, but not which one are correct. I would use an approach rather like this:\r\n\r\n    public void start() {\r\n        // generate keys\r\n        SecretKey key = new SecretKey();\r\n\r\n        // rather start from an all-wrong key, then you don&#39;t have to look which are already correct\r\n        String guess = &quot;XXXXXXXXXXXXXXXX&quot;;\r\n\r\n        char[] chars = guess.toCharArray();\r\n        int numCorrect = 0;\r\n        int newNumCorrect = 0;\r\n\r\n        int i = 0;\r\n        while (i &lt; 16 &amp;&amp; numCorrect != 16) {\r\n            while (newNumCorrect == numCorrect) {\r\n                chars[i] = switch (chars[i]) {\r\n                    case &#39;R&#39; -&gt; &#39;M&#39;;\r\n                    case &#39;M&#39; -&gt; &#39;I&#39;;\r\n                    case &#39;I&#39; -&gt; &#39;T&#39;;\r\n                    default -&gt; &#39;R&#39;;\r\n                };\r\n                guess = String.copyValueOf(chars);\r\n                //System.out.println(guess);\r\n                newNumCorrect = key.guess(guess);\r\n            }\r\n            numCorrect = newNumCorrect;\r\n            i++;\r\n        }\r\n\r\n        System.out.println(&quot;I found the secret key. It is &quot; + String.copyValueOf(chars));\r\n    }\r\n\r\nBy this, even in the worst case the program only needs 64 (=16*4) guesses, and runs in under one second. You only have to comment / delete `if (c != &#39;R&#39; &amp;&amp; c != &#39;M&#39; &amp;&amp; c != &#39;I&#39; &amp;&amp; c != &#39;T&#39;) {return -1;}` in the SecretKey.java file, it isn&#39;t necessary anyway. ","title":"How do I make this code to produce a result in a reasonable time","body":"<p>I think your approach is too inefficient, as you only know the number of correct chars, but not which one are correct. I would use an approach rather like this:</p>\n<pre><code>public void start() {\n    // generate keys\n    SecretKey key = new SecretKey();\n\n    // rather start from an all-wrong key, then you don't have to look which are already correct\n    String guess = &quot;XXXXXXXXXXXXXXXX&quot;;\n\n    char[] chars = guess.toCharArray();\n    int numCorrect = 0;\n    int newNumCorrect = 0;\n\n    int i = 0;\n    while (i &lt; 16 &amp;&amp; numCorrect != 16) {\n        while (newNumCorrect == numCorrect) {\n            chars[i] = switch (chars[i]) {\n                case 'R' -&gt; 'M';\n                case 'M' -&gt; 'I';\n                case 'I' -&gt; 'T';\n                default -&gt; 'R';\n            };\n            guess = String.copyValueOf(chars);\n            //System.out.println(guess);\n            newNumCorrect = key.guess(guess);\n        }\n        numCorrect = newNumCorrect;\n        i++;\n    }\n\n    System.out.println(&quot;I found the secret key. It is &quot; + String.copyValueOf(chars));\n}\n</code></pre>\n<p>By this, even in the worst case the program only needs 64 (=16*4) guesses, and runs in under one second. You only have to comment / delete <code>if (c != 'R' &amp;&amp; c != 'M' &amp;&amp; c != 'I' &amp;&amp; c != 'T') {return -1;}</code> in the SecretKey.java file, it isn't necessary anyway.</p>\n"}],"owner":{"account_id":28432462,"reputation":1,"user_id":21752953,"display_name":"L.T.A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682680253,"creation_date":1682676345,"question_id":76128487,"body_markdown":"I am developing a class to guess a secret key. The secret key containing 16 random letters of &quot;t&quot; &quot;r&quot; &quot;m&quot; &quot;i&quot;. But the run time is taking too long to produce. The goal is to produce the lowest guess count, in this case, if the code were to produce actual result, it will only take 4 guesses. Here is the code for the 2 classes &quot;secretkey&quot; and the one I am working on it &quot;secretkeyguesser&quot;:\r\npackage project;\r\n\r\n```\r\npublic class SecretKey {\r\n    private String correctKey;\r\n    private int counter;\r\n\r\n    public SecretKey() {\r\n        // for the real test, your program will not know this\r\n        correctKey = &quot;RRRRRRRRRMITRMIT&quot;;\r\n        counter = 0;\r\n    }\r\n\r\n    public int guess(String guessedKey) {\r\n        counter++;\r\n        // validation\r\n        if (guessedKey.length() != correctKey.length()) {\r\n            return -1;\r\n        }\r\n        int matched = 0;\r\n        for (int i = 0; i &lt; guessedKey.length(); i++) {\r\n            char c = guessedKey.charAt(i);\r\n            if (c != &#39;R&#39; &amp;&amp; c != &#39;M&#39; &amp;&amp; c != &#39;I&#39; &amp;&amp; c != &#39;T&#39;) {\r\n                return -1;\r\n            }\r\n            if (c == correctKey.charAt(i)) {\r\n                matched++;\r\n            }\r\n        }\r\n        if (matched == correctKey.length()) {\r\n            System.out.println(&quot;Number of guesses: &quot; + counter);\r\n        }\r\n        return matched;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new SecretKeyGuesser().start();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage project;\r\n\r\npublic class SecretKeyGuesser {\r\n    public void start() {\r\n        // generate keys\r\n        String key1 = &quot;RRRRRRRRRRRRRRRR&quot;;\r\n        String key2 = &quot;MMMMMMMMMMMMMMMM&quot;;\r\n        String key3 = &quot;IIIIIIIIIIIIIIII&quot;;\r\n        String key4 = &quot;TTTTTTTTTTTTTTTT&quot;;\r\n\r\n        // initialize correct positions\r\n        int[] correct1 = new int[16];\r\n        int[] correct2 = new int[16];\r\n        int[] correct3 = new int[16];\r\n        int[] correct4 = new int[16];\r\n\r\n        SecretKey key = new SecretKey();\r\n        String guess = &quot;RRRRRRRRRRRRRRRR&quot;;\r\n        int numCorrect = key.guess(guess);\r\n\r\n        while (numCorrect != 16) {\r\n            // update correct positions for each key\r\n            for (int i = 0; i &lt; 16; i++) {\r\n                char c = guess.charAt(i);\r\n                if (c == &#39;R&#39;) {\r\n                    correct1[i] += 1;\r\n                } else if (c == &#39;M&#39;) {\r\n                    correct2[i] += 1;\r\n                } else if (c == &#39;I&#39;) {\r\n                    correct3[i] += 1;\r\n                } else {\r\n                    correct4[i] += 1;\r\n                }\r\n            }\r\n\r\n            // generate next guess\r\n            guess = nextGuess(correct1, correct2, correct3, correct4);\r\n            numCorrect = key.guess(guess);\r\n        }\r\n\r\n        // merge keys based on correct positions\r\n        StringBuilder secretKey = new StringBuilder();\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            if (correct1[i] == 1) {\r\n                secretKey.append(guess.charAt(i));\r\n            } else if (correct2[i] == 1) {\r\n                secretKey.append(guess.charAt(i));\r\n            } else if (correct3[i] == 1) {\r\n                secretKey.append(guess.charAt(i));\r\n            } else {\r\n                secretKey.append(guess.charAt(i));\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;I found the secret key. It is &quot; + secretKey.toString());\r\n    }\r\n\r\n    // return the next guess based on correct positions\r\n    public String nextGuess(int[] correct1, int[] correct2, int[] correct3, int[] correct4) {\r\n        StringBuilder nextGuess = new StringBuilder();\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            if (correct1[i] == 0) {\r\n                nextGuess.append(&#39;R&#39;);\r\n            } else if (correct2[i] == 0) {\r\n                nextGuess.append(&#39;M&#39;);\r\n            } else if (correct3[i] == 0) {\r\n                nextGuess.append(&#39;I&#39;);\r\n            } else {\r\n                nextGuess.append(&#39;T&#39;);\r\n            }\r\n        }\r\n        return nextGuess.toString();\r\n    }\r\n}\r\n```\r\n\r\nwhat was trying to do in the secretkeyguesser class is to scan for the correct index position for each of 4 letters and then once having all of the correct position, put them all in a string. ","title":"How do I make this code to produce a result in a reasonable time","body":"<p>I am developing a class to guess a secret key. The secret key containing 16 random letters of &quot;t&quot; &quot;r&quot; &quot;m&quot; &quot;i&quot;. But the run time is taking too long to produce. The goal is to produce the lowest guess count, in this case, if the code were to produce actual result, it will only take 4 guesses. Here is the code for the 2 classes &quot;secretkey&quot; and the one I am working on it &quot;secretkeyguesser&quot;:\npackage project;</p>\n<pre><code>public class SecretKey {\n    private String correctKey;\n    private int counter;\n\n    public SecretKey() {\n        // for the real test, your program will not know this\n        correctKey = &quot;RRRRRRRRRMITRMIT&quot;;\n        counter = 0;\n    }\n\n    public int guess(String guessedKey) {\n        counter++;\n        // validation\n        if (guessedKey.length() != correctKey.length()) {\n            return -1;\n        }\n        int matched = 0;\n        for (int i = 0; i &lt; guessedKey.length(); i++) {\n            char c = guessedKey.charAt(i);\n            if (c != 'R' &amp;&amp; c != 'M' &amp;&amp; c != 'I' &amp;&amp; c != 'T') {\n                return -1;\n            }\n            if (c == correctKey.charAt(i)) {\n                matched++;\n            }\n        }\n        if (matched == correctKey.length()) {\n            System.out.println(&quot;Number of guesses: &quot; + counter);\n        }\n        return matched;\n    }\n\n    public static void main(String[] args) {\n        new SecretKeyGuesser().start();\n    }\n}\n</code></pre>\n<pre><code>package project;\n\npublic class SecretKeyGuesser {\n    public void start() {\n        // generate keys\n        String key1 = &quot;RRRRRRRRRRRRRRRR&quot;;\n        String key2 = &quot;MMMMMMMMMMMMMMMM&quot;;\n        String key3 = &quot;IIIIIIIIIIIIIIII&quot;;\n        String key4 = &quot;TTTTTTTTTTTTTTTT&quot;;\n\n        // initialize correct positions\n        int[] correct1 = new int[16];\n        int[] correct2 = new int[16];\n        int[] correct3 = new int[16];\n        int[] correct4 = new int[16];\n\n        SecretKey key = new SecretKey();\n        String guess = &quot;RRRRRRRRRRRRRRRR&quot;;\n        int numCorrect = key.guess(guess);\n\n        while (numCorrect != 16) {\n            // update correct positions for each key\n            for (int i = 0; i &lt; 16; i++) {\n                char c = guess.charAt(i);\n                if (c == 'R') {\n                    correct1[i] += 1;\n                } else if (c == 'M') {\n                    correct2[i] += 1;\n                } else if (c == 'I') {\n                    correct3[i] += 1;\n                } else {\n                    correct4[i] += 1;\n                }\n            }\n\n            // generate next guess\n            guess = nextGuess(correct1, correct2, correct3, correct4);\n            numCorrect = key.guess(guess);\n        }\n\n        // merge keys based on correct positions\n        StringBuilder secretKey = new StringBuilder();\n        for (int i = 0; i &lt; 16; i++) {\n            if (correct1[i] == 1) {\n                secretKey.append(guess.charAt(i));\n            } else if (correct2[i] == 1) {\n                secretKey.append(guess.charAt(i));\n            } else if (correct3[i] == 1) {\n                secretKey.append(guess.charAt(i));\n            } else {\n                secretKey.append(guess.charAt(i));\n            }\n        }\n\n        System.out.println(&quot;I found the secret key. It is &quot; + secretKey.toString());\n    }\n\n    // return the next guess based on correct positions\n    public String nextGuess(int[] correct1, int[] correct2, int[] correct3, int[] correct4) {\n        StringBuilder nextGuess = new StringBuilder();\n        for (int i = 0; i &lt; 16; i++) {\n            if (correct1[i] == 0) {\n                nextGuess.append('R');\n            } else if (correct2[i] == 0) {\n                nextGuess.append('M');\n            } else if (correct3[i] == 0) {\n                nextGuess.append('I');\n            } else {\n                nextGuess.append('T');\n            }\n        }\n        return nextGuess.toString();\n    }\n}\n</code></pre>\n<p>what was trying to do in the secretkeyguesser class is to scan for the correct index position for each of 4 letters and then once having all of the correct position, put them all in a string.</p>\n"},{"tags":["java","swing","user-interface"],"answers":[{"comments":[{"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"score":0,"creation_date":1234479217,"post_id":543793,"comment_id":355815,"body_markdown":"I think SpringLayout is even more verbose. ;) I&#39;ve used the GroupLayout that comes with LWUIT and it was not too bad, but not easy either. I liked JGoodies FormLayout, and since MiG Layout is its successor, I warmly recommend MiG. Anyways, it&#39;s good to know also the basic layouts.","body":"I think SpringLayout is even more verbose. ;) I&#39;ve used the GroupLayout that comes with LWUIT and it was not too bad, but not easy either. I liked JGoodies FormLayout, and since MiG Layout is its successor, I warmly recommend MiG. Anyways, it&#39;s good to know also the basic layouts."},{"owner":{"account_id":25569,"reputation":1928,"user_id":65765,"accept_rate":65,"display_name":"Ciaran"},"score":0,"creation_date":1234480251,"post_id":543793,"comment_id":355889,"body_markdown":"I am already familiar with BorderLayout - but practically GroupLayout is what I think is best for the application I&#39;m currently building. As for using NetBeans as a crutch - I merely don&#39;t like the IDE and find it needlessly over-complicated in some parts","body":"I am already familiar with BorderLayout - but practically GroupLayout is what I think is best for the application I&#39;m currently building. As for using NetBeans as a crutch - I merely don&#39;t like the IDE and find it needlessly over-complicated in some parts"}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1234477981,"creation_date":1234477981,"answer_id":543793,"question_id":543574,"body_markdown":"[`GroupLayout`][1] wasn&#39;t really designed for hand-coding; it&#39;s much, much more verbose than any other layout manager (except possibly [`GridBagLayout`][2]). Since you say you&#39;re new to Swing, I suggest starting with the basic layout managers ([`BorderLayout`][3] and [`FlowLayout`][4]); you can use them in NetBeans by right-clicking the panel or frame and choosing &quot;Set Layout&quot;. After you&#39;re familiar with those, I suggest you check out [`MiGLayout`][5].\r\n\r\nTo answer your other question: I think of NetBeans form designer as similar to a calculator; it&#39;s a wonderful tool if you already know the basics, but you&#39;ll never learn anything if you just use it as a crutch.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/GroupLayout.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/awt/GridBagLayout.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/awt/BorderLayout.html\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/awt/FlowLayout.html\r\n  [5]: http://www.miglayout.com/","title":"GroupLayout: Is it worth learning?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/GroupLayout.html\" rel=\"nofollow noreferrer\"><code>GroupLayout</code></a> wasn't really designed for hand-coding; it's much, much more verbose than any other layout manager (except possibly <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a>). Since you say you're new to Swing, I suggest starting with the basic layout managers (<a href=\"http://java.sun.com/javase/6/docs/api/java/awt/BorderLayout.html\" rel=\"nofollow noreferrer\"><code>BorderLayout</code></a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/FlowLayout.html\" rel=\"nofollow noreferrer\"><code>FlowLayout</code></a>); you can use them in NetBeans by right-clicking the panel or frame and choosing \"Set Layout\". After you're familiar with those, I suggest you check out <a href=\"http://www.miglayout.com/\" rel=\"nofollow noreferrer\"><code>MiGLayout</code></a>.</p>\n\n<p>To answer your other question: I think of NetBeans form designer as similar to a calculator; it's a wonderful tool if you already know the basics, but you'll never learn anything if you just use it as a crutch.</p>\n"},{"comments":[{"owner":{"account_id":25569,"reputation":1928,"user_id":65765,"accept_rate":65,"display_name":"Ciaran"},"score":0,"creation_date":1234480427,"post_id":543840,"comment_id":355899,"body_markdown":"I&#39;m thinking this too; I may be in a situation where I don&#39;t have the convenience of copying code from NetBeans but where I need to make a relatively complex GUI -- and in the cases where I need to make a simpler GUI, I need not turn to NetBeans, rather build it on a simpler layout manager.","body":"I&#39;m thinking this too; I may be in a situation where I don&#39;t have the convenience of copying code from NetBeans but where I need to make a relatively complex GUI -- and in the cases where I need to make a simpler GUI, I need not turn to NetBeans, rather build it on a simpler layout manager."}],"tags":[],"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1234478699,"creation_date":1234478699,"answer_id":543840,"question_id":543574,"body_markdown":"I&#39;d say it&#39;s worth taking some time to understand `GroupLayout` if only because it&#39;s always a good idea to understand what your IDE is doing. Knowing what goes on behind the scenes actually makes you more flexible, because if you wind up in a situation where you don&#39;t have access to Netbeans, you&#39;ll know how to replicate the layout it would have produced for you.  Besides, after you&#39;ve gotten a decent amount of experience, you&#39;ll probably wind up saving time overall. You can often develop a simple GUI faster by hand than by using a visual editor, especially considering the time it takes you to copy and paste the code from Netbeans to Eclipse.\r\n\r\nAnd of course, learning how to use `GroupLayout` by hand will also make it easier for you to transition to any of the other layout managers Java offers, which in turn can lead to simpler code and even more time saved.","title":"GroupLayout: Is it worth learning?","body":"<p>I'd say it's worth taking some time to understand <code>GroupLayout</code> if only because it's always a good idea to understand what your IDE is doing. Knowing what goes on behind the scenes actually makes you more flexible, because if you wind up in a situation where you don't have access to Netbeans, you'll know how to replicate the layout it would have produced for you.  Besides, after you've gotten a decent amount of experience, you'll probably wind up saving time overall. You can often develop a simple GUI faster by hand than by using a visual editor, especially considering the time it takes you to copy and paste the code from Netbeans to Eclipse.</p>\n\n<p>And of course, learning how to use <code>GroupLayout</code> by hand will also make it easier for you to transition to any of the other layout managers Java offers, which in turn can lead to simpler code and even more time saved.</p>\n"},{"comments":[{"owner":{"account_id":50980,"reputation":8853,"user_id":152208,"display_name":"bcat"},"score":5,"creation_date":1282849427,"post_id":544643,"comment_id":3753154,"body_markdown":"-1 GroupLayout seems very intuitive to me. Sure, it&#39;s verbose, but this is Java we&#39;re talking about. Just read the documentation, and follow [this example](http://download.oracle.com/javase/tutorial/uiswing/layout/group.html). After that, start using it on &quot;real life&quot; GUI projects. I think you&#39;ll find it&#39;s really not as bad as it looks at first.","body":"-1 GroupLayout seems very intuitive to me. Sure, it&#39;s verbose, but this is Java we&#39;re talking about. Just read the documentation, and follow <a href=\"http://download.oracle.com/javase/tutorial/uiswing/layout/group.html\" rel=\"nofollow noreferrer\">this example</a>. After that, start using it on &quot;real life&quot; GUI projects. I think you&#39;ll find it&#39;s really not as bad as it looks at first."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":3,"creation_date":1322145534,"post_id":544643,"comment_id":10163408,"body_markdown":"-1 I agree with @bcat.  I would also like to take direct issue to the advice in the last paragraph.  The best results always come from mastery that takes longer than two hours.  I will never forget how to use `GroupLayout` as long as I keep using it.  I also don&#39;t understand how `GroupLayout` could possibly be any more complicated than using **nested containers**.  This is how I&#39;d do it if someone told me to make it complicated.","body":"-1 I agree with @bcat.  I would also like to take direct issue to the advice in the last paragraph.  The best results always come from mastery that takes longer than two hours.  I will never forget how to use <code>GroupLayout</code> as long as I keep using it.  I also don&#39;t understand how <code>GroupLayout</code> could possibly be any more complicated than using <b>nested containers</b>.  This is how I&#39;d do it if someone told me to make it complicated."}],"tags":[],"owner":{"account_id":23146,"reputation":27,"user_id":57762,"display_name":"jtplumber"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1234497196,"creation_date":1234497196,"answer_id":544643,"question_id":543574,"body_markdown":"Most of the more complicated layout managers are not meant to be hand-coded.  You can do it, but you&#39;ll likely have trouble understanding your own layout a few months from now.  GroupLayout is no exception, worse it&#39;s not intuitive at all, you have to contort your mind forcing your layout into GroupLayout terms.\r\n\r\nIt&#39;s my opinion that these layout managers are not worth learning.  GridBagLayout is the worst of all.  It has more options than you can possibly figure out, and they never seem to do what you think they do.  MiGLayout is very powerful, reasonably intuitive, and mostly does what you think it does, but I&#39;ll still argue that it&#39;s too powerful and too complicated for its, and the programmer&#39;s own good.  GroupLayout is not as powerful, not as intuitive, and not worth the trouble.\r\n\r\nMy advice from years of laying out Java GUI and maintaining them is to learn and use the most powerful layout manager you can master in two hours and that you&#39;ll never forget, then layout your GUI with nested containers using this layout manager and the basic BorderLayout/GridLayout/FlowLayout/BoxLayout.\r\n","title":"GroupLayout: Is it worth learning?","body":"<p>Most of the more complicated layout managers are not meant to be hand-coded.  You can do it, but you'll likely have trouble understanding your own layout a few months from now.  GroupLayout is no exception, worse it's not intuitive at all, you have to contort your mind forcing your layout into GroupLayout terms.</p>\n\n<p>It's my opinion that these layout managers are not worth learning.  GridBagLayout is the worst of all.  It has more options than you can possibly figure out, and they never seem to do what you think they do.  MiGLayout is very powerful, reasonably intuitive, and mostly does what you think it does, but I'll still argue that it's too powerful and too complicated for its, and the programmer's own good.  GroupLayout is not as powerful, not as intuitive, and not worth the trouble.</p>\n\n<p>My advice from years of laying out Java GUI and maintaining them is to learn and use the most powerful layout manager you can master in two hours and that you'll never forget, then layout your GUI with nested containers using this layout manager and the basic BorderLayout/GridLayout/FlowLayout/BoxLayout.</p>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322145296,"creation_date":1322145296,"answer_id":8258707,"question_id":543574,"body_markdown":"**`GroupLayout` is worth learning to use programmatically.**\r\n\r\nI use `GroupLayout` as my default layout on nearly every panel I create which uses standard Swing components.  I find that the results are always very pleasing to the eye and resize very well.  I always set these options:\r\n\r\n\tgroupLayout.setAutoCreateGaps(true);\r\n\tgroupLayout.setAutoCreateContainerGaps(true);\r\n\r\nUsing this layout repeatedly has not only given me great-looking layouts, but it gives me the low-level experience required to be able to put together some complicated panels with a number of components that is unknown at compile time.  I also find, when the number of components is dynamic, that I can lay out all the components and then turn them on and off with `setVisible(boolean)` without recreating the horizontal and vertical groups.","title":"GroupLayout: Is it worth learning?","body":"<p><strong><code>GroupLayout</code> is worth learning to use programmatically.</strong></p>\n\n<p>I use <code>GroupLayout</code> as my default layout on nearly every panel I create which uses standard Swing components.  I find that the results are always very pleasing to the eye and resize very well.  I always set these options:</p>\n\n<pre><code>groupLayout.setAutoCreateGaps(true);\ngroupLayout.setAutoCreateContainerGaps(true);\n</code></pre>\n\n<p>Using this layout repeatedly has not only given me great-looking layouts, but it gives me the low-level experience required to be able to put together some complicated panels with a number of components that is unknown at compile time.  I also find, when the number of components is dynamic, that I can lay out all the components and then turn them on and off with <code>setVisible(boolean)</code> without recreating the horizontal and vertical groups.</p>\n"},{"tags":[],"owner":{"account_id":2151168,"reputation":1,"user_id":1907499,"display_name":"L.Sankaranarayanan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355649175,"creation_date":1355649175,"answer_id":13899941,"question_id":543574,"body_markdown":"If you are  inclined  to  a VB Program Style you spend time on GroupLayouts. Otherwise try to understand GridBagLayout Manager with suitable examples.  It is the best for those who want every gui component should be under our pen control(We should write and not the IDE). A good java developer should spend time in gui objects and business objects and must know how to separate them. \r\nL.Sankaranarayanan.","title":"GroupLayout: Is it worth learning?","body":"<p>If you are  inclined  to  a VB Program Style you spend time on GroupLayouts. Otherwise try to understand GridBagLayout Manager with suitable examples.  It is the best for those who want every gui component should be under our pen control(We should write and not the IDE). A good java developer should spend time in gui objects and business objects and must know how to separate them. \nL.Sankaranarayanan.</p>\n"}],"owner":{"account_id":25569,"reputation":1928,"user_id":65765,"accept_rate":65,"display_name":"Ciaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7438,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1682685890,"accepted_answer_id":543840,"answer_count":5,"score":10,"last_activity_date":1682679753,"creation_date":1234475812,"question_id":543574,"body_markdown":"I&#39;m relatively new to java (specifically swing) and have recently been making some fairly simple applications, learning as I go. The latest one has lots of form components such as JLabels, JTextFields, JButtons, etc etc. All were placed in NetBeans using a visual builder. I have to say I&#39;m not really taking to NetBeans and have really just been designing the GUI and copying the code straight to Eclipse.\r\n\r\nMy question is: Is it worth getting a very good understanding of GroupLayout and coding by hand (and therefore having more control over my GUI) or just continuing on as is?","title":"GroupLayout: Is it worth learning?","body":"<p>I'm relatively new to java (specifically swing) and have recently been making some fairly simple applications, learning as I go. The latest one has lots of form components such as JLabels, JTextFields, JButtons, etc etc. All were placed in NetBeans using a visual builder. I have to say I'm not really taking to NetBeans and have really just been designing the GUI and copying the code straight to Eclipse.</p>\n\n<p>My question is: Is it worth getting a very good understanding of GroupLayout and coding by hand (and therefore having more control over my GUI) or just continuing on as is?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682509416,"post_id":76109463,"comment_id":134226499,"body_markdown":"web..xml version 3 isn&#39;t compatible with Spring 6 which requires version 5 at least. You will need jakarta.servlet and not javax.servlet and a more recent version of the web.xml and at least tomcat 10.x to run. Anything else won&#39;t work.","body":"web..xml version 3 isn&#39;t compatible with Spring 6 which requires version 5 at least. You will need jakarta.servlet and not javax.servlet and a more recent version of the web.xml and at least tomcat 10.x to run. Anything else won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682509265,"creation_date":1682509265,"answer_id":76110297,"question_id":76109463,"body_markdown":"You don&#39;t have a controller that handles requests to `/PhoneAccessories`, only the `HomeController` that handles `/`.\r\n\r\nNote that an HTTP response status code beginning with a 4 (like the 404 you&#39;re getting) indicates that the _client_ did something wrong in the request (in this case, you made a request for a path that doesn&#39;t exist).","title":"Why do I get version error when using Spring MVC","body":"<p>You don't have a controller that handles requests to <code>/PhoneAccessories</code>, only the <code>HomeController</code> that handles <code>/</code>.</p>\n<p>Note that an HTTP response status code beginning with a 4 (like the 404 you're getting) indicates that the <em>client</em> did something wrong in the request (in this case, you made a request for a path that doesn't exist).</p>\n"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682679692,"creation_date":1682503177,"question_id":76109463,"body_markdown":"I am creating my first application for my website, but when I finish creating I get an error:\r\n\r\n&gt; The origin server did not find a current representation for the target\r\n&gt; resource or is not willing to divulge that one exists\r\n\r\nI think it&#39;s because my version doesn&#39;t match. Does anyone have a suitable version?\r\n\r\nThis is my controller:\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class HomeController {\r\n\t@GetMapping\r\n\tpublic String Default() {\r\n\t\treturn &quot;Home&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nThis is my web.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app\r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    version=&quot;3.0&quot;&gt;\r\n    &lt;display-name&gt;Phone-Accessories&lt;/display-name&gt;\r\n    &lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/PhoneAccessories-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nThis is my servlet.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t\r\n\t\r\n\t&lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\r\n\t&lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\r\n\t\r\n&lt;/beans&gt;\r\n```\r\nThis is my pom.xml:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;project name&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is my configure:\r\n\r\n[![this is my configure:](https://i.stack.imgur.com/ilZYs.png)](https://i.stack.imgur.com/ilZYs.png)\r\n\r\nAnd this is the result I get:\r\n\r\n[![and this is the result I get:](https://i.stack.imgur.com/YkvQd.png)](https://i.stack.imgur.com/YkvQd.png)","title":"Why do I get version error when using Spring MVC","body":"<p>I am creating my first application for my website, but when I finish creating I get an error:</p>\n<blockquote>\n<p>The origin server did not find a current representation for the target\nresource or is not willing to divulge that one exists</p>\n</blockquote>\n<p>I think it's because my version doesn't match. Does anyone have a suitable version?</p>\n<p>This is my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class HomeController {\n    @GetMapping\n    public String Default() {\n        return &quot;Home&quot;;\n    }\n}\n</code></pre>\n<p>This is my web.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n    version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;Phone-Accessories&lt;/display-name&gt;\n    &lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/PhoneAccessories-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>This is my servlet.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n    &lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n    \n    \n    &lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\n    &lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>This is my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;project name&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is my configure:</p>\n<p><a href=\"https://i.stack.imgur.com/ilZYs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilZYs.png\" alt=\"this is my configure:\" /></a></p>\n<p>And this is the result I get:</p>\n<p><a href=\"https://i.stack.imgur.com/YkvQd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YkvQd.png\" alt=\"and this is the result I get:\" /></a></p>\n"},{"tags":["java","android","kotlin","rotation","android-custom-view"],"comments":[{"owner":{"account_id":8125310,"reputation":2565,"user_id":6120487,"display_name":"Lev Leontev"},"score":0,"creation_date":1681871007,"post_id":76049338,"comment_id":134125383,"body_markdown":"When you rotate the view around different pivots, you get different results (obviously). So, when you change the pivot, you have to translate the view to compensate for this. To calculate the exact translation needed, you need to use some math like sines and cosines. Google (or ask ChatGPT) about rotation matrices if you don&#39;t know what that&#39;s about.","body":"When you rotate the view around different pivots, you get different results (obviously). So, when you change the pivot, you have to translate the view to compensate for this. To calculate the exact translation needed, you need to use some math like sines and cosines. Google (or ask ChatGPT) about rotation matrices if you don&#39;t know what that&#39;s about."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1681872673,"post_id":76049338,"comment_id":134125521,"body_markdown":"Thank you, @LevLeontev I know about matrix rotation, but I&#39;m unsure how it can be applied to address my current problem.","body":"Thank you, @LevLeontev I know about matrix rotation, but I&#39;m unsure how it can be applied to address my current problem."},{"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"score":0,"creation_date":1682488092,"post_id":76049338,"comment_id":134221896,"body_markdown":"Your expectation looks like move one point and update its coordinate. I don&#39;t sure why need to use rotation?","body":"Your expectation looks like move one point and update its coordinate. I don&#39;t sure why need to use rotation?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682636577,"post_id":76049338,"comment_id":134251303,"body_markdown":"I believe it would be best to work the movements through [Matrix](https://developer.android.com/reference/android/graphics/Matrix) operations. [This](https://stackoverflow.com/q/31234875/6287910) question/answer may help.","body":"I believe it would be best to work the movements through <a href=\"https://developer.android.com/reference/android/graphics/Matrix\" rel=\"nofollow noreferrer\">Matrix</a> operations. <a href=\"https://stackoverflow.com/q/31234875/6287910\">This</a> question/answer may help."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682680101,"post_id":76049338,"comment_id":134257395,"body_markdown":"Thanks @Cheticamp! After performing the required calculations using the `Matrix` class. I cannot find a `View::setMatrix()` method to apply the new matrix to the view! How can I tell the view to use the new matrix? Additionally, I have also made some updates to the question, which you may want to check out.","body":"Thanks @Cheticamp! After performing the required calculations using the <code>Matrix</code> class. I cannot find a <code>View::setMatrix()</code> method to apply the new matrix to the view! How can I tell the view to use the new matrix? Additionally, I have also made some updates to the question, which you may want to check out."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682687934,"post_id":76049338,"comment_id":134259214,"body_markdown":"There is no _setMatrix_ method. When you rotate/translate/scale you are operating on internal values that are used by the view to draw. [_View#getMatrix()_](https://developer.android.com/reference/android/view/View#getMatrix()) will give you access to this matrix, but you should not need to directly modify it or replace it with one of your own.","body":"There is no <i>setMatrix</i> method. When you rotate/translate/scale you are operating on internal values that are used by the view to draw. <a href=\"https://developer.android.com/reference/android/view/View#getMatrix()\" rel=\"nofollow noreferrer\"><i>View#getMatrix()</i></a> will give you access to this matrix, but you should not need to directly modify it or replace it with one of your own."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682688393,"post_id":76049338,"comment_id":134259299,"body_markdown":"_ImageViews_ do, however, have an optional matrix. See [ImageView#setImageMatrix](https://developer.android.com/reference/android/widget/ImageView#setImageMatrix(android.graphics.Matrix)). If you want your own matrix, you can take a look at how _ImageView_ does it or use an _ImageView_.","body":"<i>ImageViews</i> do, however, have an optional matrix. See <a href=\"https://developer.android.com/reference/android/widget/ImageView#setImageMatrix(android.graphics.Matrix)\" rel=\"nofollow noreferrer\">ImageView#setImageMatrix</a>. If you want your own matrix, you can take a look at how <i>ImageView</i> does it or use an <i>ImageView</i>."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682713170,"post_id":76049338,"comment_id":134264507,"body_markdown":"You can also use a matrix with the canvas: See [Canvas#setMatrix](https://developer.android.com/reference/android/graphics/Canvas#setMatrix(android.graphics.Matrix)) although _getMatrix()_ has a caveat for hardware acceleration.","body":"You can also use a matrix with the canvas: See <a href=\"https://developer.android.com/reference/android/graphics/Canvas#setMatrix(android.graphics.Matrix)\" rel=\"nofollow noreferrer\">Canvas#setMatrix</a> although <i>getMatrix()</i> has a caveat for hardware acceleration."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682937573,"post_id":76049338,"comment_id":134286457,"body_markdown":"Thank you, @Cheticamp! I attempted to add `Matrix` property into `MyView` class and then using it inside `onDraw` by starting with `canvas.concat(matrix)`. However, I faced some issues. When I attempt to rotate the view, only the view appears to rotate while the viewport remains unaffected, causing the view to become invisible (out of its viewport).","body":"Thank you, @Cheticamp! I attempted to add <code>Matrix</code> property into <code>MyView</code> class and then using it inside <code>onDraw</code> by starting with <code>canvas.concat(matrix)</code>. However, I faced some issues. When I attempt to rotate the view, only the view appears to rotate while the viewport remains unaffected, causing the view to become invisible (out of its viewport)."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682942321,"post_id":76049338,"comment_id":134287185,"body_markdown":"The matrix will effect all drawing while the matrix operation is applied. It sounds like the code is misapplying or miscalculating the rotation although it is difficult to know from what you say. You may want to consider taking a look at online tutorials about canvas and matrix operations and, maybe, set up a small project to test things out.","body":"The matrix will effect all drawing while the matrix operation is applied. It sounds like the code is misapplying or miscalculating the rotation although it is difficult to know from what you say. You may want to consider taking a look at online tutorials about canvas and matrix operations and, maybe, set up a small project to test things out."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682961643,"post_id":76049338,"comment_id":134291028,"body_markdown":"I think I see what you mean about &quot;out of its viewport.&quot; This is probably the clipping that occurs when you define the dimensions of your view but then move outside of those dimensions. You can make the boundary of the view larger to hold all possible variations or you can set `android:clipChildren=&quot;false&quot;` to the view&#39;s parent view group.","body":"I think I see what you mean about &quot;out of its viewport.&quot; This is probably the clipping that occurs when you define the dimensions of your view but then move outside of those dimensions. You can make the boundary of the view larger to hold all possible variations or you can set <code>android:clipChildren=&quot;false&quot;</code> to the view&#39;s parent view group."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1682969167,"post_id":76049338,"comment_id":134292492,"body_markdown":"You may want to scratch `android:clipChildren=&quot;false&quot;`. It will look OK, but you will have trouble with touches that appear to be within the view but actually fall outside it and can&#39;t be detected by the view without some machinations. You would have to detect touches in the parent view group which you may not want to do. Just be aware of this potential pitfall.","body":"You may want to scratch <code>android:clipChildren=&quot;false&quot;</code>. It will look OK, but you will have trouble with touches that appear to be within the view but actually fall outside it and can&#39;t be detected by the view without some machinations. You would have to detect touches in the parent view group which you may not want to do. Just be aware of this potential pitfall."}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1682679420,"creation_date":1681855043,"question_id":76049338,"body_markdown":"I have a custom view named `MyView` that has two anchors. I would like to be able to rotate this view from its anchors, with one anchor acting as the center of rotation while the user drags the other anchor.\r\n\r\n**For simplicity, I have drawn a line, but in reality, I will be drawing something else**. Here are the steps:\r\n- If the user clicks on the view itself, translate the view.\r\n- If the user clicks on one of its anchors, calculate the rotation angle and make the other anchor the center of rotation by using `setPivotX()` and `setPivotY()`.\r\n\r\nHere is the relevant code:\r\n \r\n\r\n    @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN: {\r\n                    tapX = event.getX();\r\n                    tapY = event.getY();\r\n    \r\n                    if (anchorRect1.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR1;\r\n                        setPivotX(anchorRect2.centerX());\r\n                        setPivotY(anchorRect2.centerY());\r\n                    } else if (anchorRect2.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR2;\r\n                        setPivotX(anchorRect1.centerX());\r\n                        setPivotY(anchorRect1.centerY());\r\n                    } else {\r\n                        viewState = ViewState.VIEW;\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_MOVE: {\r\n                    switch (viewState) {\r\n                        //Anchor 1 clicked\r\n                        case ANCHOR1: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\r\n                            setRotation(getRotation() - angle);\r\n                            break;\r\n                        }\r\n                        //Anchor 2 clicked\r\n                        case ANCHOR2: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\r\n                            setRotation(getRotation() + angle);\r\n                            break;\r\n                        }\r\n                        //View Clicked\r\n                        case VIEW: {\r\n                            float deltaX = event.getX() - tapX;\r\n                            float deltaY = event.getY() - tapY;\r\n    \r\n                            // Transform point\r\n                            PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\r\n    \r\n                            //Perform the rotation\r\n                            setX(getX() + transformedPoint.x);\r\n                            setY(getY() + transformedPoint.y);\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL: {\r\n                    break;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\nHere is the screenshot of the current output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe issue is that when I rotate the view for the first time, it works correctly, but when I rotate it from the other anchor, it jumps to another position. I believe this is because the rotation doesn&#39;t affect the position of the view. To fix this, I need to recalculate the new position of the view so that it moves accordingly, but I&#39;m not sure how to do that.\r\n\r\nThis is what I am trying to achieve (created with the GeoGebra tool):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAdditionally, I believe that this issue is not limited to the Android platform as I have faced a similar problem while implementing [this][3] feature using the Qt framework.\r\n\r\nI&#39;ve invested a significant amount of time in addressing this issue, and any assistance you could provide would be greatly appreciated.\r\n\r\n\r\n**--------------------Start Edit-----------------------------------**\r\n\r\nAccording to the answer on [here][3], it seems like the issue with the current implementation is that the view isn&#39;t saving the previous transformation. Every time the pivot point is updated, all the previous transformations are reset, which causes the view to behave incorrectly.\r\n\r\nTo resolve this issue, we need to chain those transformations (one applied after another). In Qt, this can be achieved by saving the transformations in a list, as in this code:\r\n\r\n    QList&lt;QGraphicsTransform*&gt; trans;\r\n    \r\n    \r\n    auto angle = qRadiansToDegrees(qAtan2( _anchor2.y() -p.y(), width));\r\n    QGraphicsRotation* rot = new QGraphicsRotation;\r\n    rot-&gt;setOrigin(QVector3D(cp2.x(), cp2.y(), 0));\r\n    rot-&gt;setAxis(Qt::ZAxis);\r\n    rot-&gt;setAngle(angle);\r\n    trans.push_back(rot);\r\n    setTransformations(_trans);\r\n\r\nAnother way to achieve this behavior is to use the [QTransform][4] class directly. In this case, it&#39;s important to set the `isRelative` parameter to true in `setTransform()` so that the transformations are chained together.\r\n\r\n    QTransform t;\r\n    auto angle = qRadiansToDegrees(qAtan2(_anchor2.y() -p.y(), width));\r\n    t.translate(cp2.x(), cp2.y());\r\n    t.rotate(angle);\r\n    t.translate(-cp2.x(), -cp2.y());\r\n    setTransform(t, true);\r\n\r\nIn Android, the equivalent of the [QTransform][4] is the [Matrix][4] class. However, unlike QT, the `View` class in Android does not have a `setMatrix()` method. This means that when performing transformations, you cannot simply apply the current matrix to the view, which makes it more difficult to work with.\r\n\r\n**-------------------End Edit---------------------------------------**\r\n\r\nHere is a [repo][5] to reproduce the issue, and below is the complete code:\r\n\r\n\r\nMyView.java\r\n\r\n    public class MyView extends View {\r\n    \r\n        enum ViewState {\r\n            ANCHOR1, ANCHOR2, VIEW\r\n        }\r\n    \r\n        public static final int RADIUS = 24; // Anchor radius\r\n        public static final int OFFSET = 1;\r\n    \r\n        private final Paint paint;\r\n    \r\n        public RectF anchorRect1;\r\n        public RectF anchorRect2;\r\n    \r\n        private ViewState viewState;\r\n    \r\n        private float tapX;\r\n        private float tapY;\r\n    \r\n    \r\n        public MyView(Context context) {\r\n            super(context);\r\n    \r\n            paint = new Paint();\r\n            paint.setStyle(Paint.Style.STROKE);\r\n    \r\n            anchorRect1 = new RectF();\r\n            anchorRect2 = new RectF();\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            var width = getWidth();\r\n            var height = getHeight();\r\n    \r\n            //Draw line between anchor points\r\n            canvas.drawLine(\r\n                    anchorRect1.centerX(), anchorRect1.centerY(),\r\n                    anchorRect2.centerX(), anchorRect2.centerY(), paint);\r\n    \r\n            //Draw anchor circle\r\n            canvas.drawCircle(anchorRect1.centerX(), anchorRect1.centerY(), RADIUS, paint);\r\n            canvas.drawCircle(anchorRect2.centerX(), anchorRect2.centerY(), RADIUS, paint);\r\n    \r\n            //Draw bounding rect\r\n            canvas.drawRect(OFFSET, OFFSET, width - OFFSET, height - OFFSET, paint);\r\n        }\r\n    \r\n        @Override\r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n            //Recompute anchors rect\r\n            anchorRect1.set(\r\n                    OFFSET, h /2f - RADIUS + OFFSET,\r\n                    2*RADIUS, h /2f + RADIUS - OFFSET\r\n            );\r\n    \r\n            anchorRect2.set(\r\n                    w - 2*RADIUS, h /2f - RADIUS + OFFSET,\r\n                    w - OFFSET, h /2f + RADIUS - OFFSET\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n    \r\n            // Measure exactly\r\n            int width = MeasureSpec.getSize(widthMeasureSpec);\r\n            int height = MeasureSpec.getSize(heightMeasureSpec);\r\n    \r\n            setMeasuredDimension(width, height);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN: {\r\n                    tapX = event.getX();\r\n                    tapY = event.getY();\r\n    \r\n                    // Anchor 1 clicked\r\n                    if (anchorRect1.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR1;\r\n                        setPivotX(anchorRect2.centerX());\r\n                        setPivotY(anchorRect2.centerY());\r\n                    }\r\n                    // Anchor 2 clicked\r\n                    else if (anchorRect2.contains(tapX, tapY)) {\r\n                        viewState = ViewState.ANCHOR2;\r\n                        setPivotX(anchorRect1.centerX());\r\n                        setPivotY(anchorRect1.centerY());\r\n                    }\r\n                    // View body clicked\r\n                    else {\r\n                        viewState = ViewState.VIEW;\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_MOVE: {\r\n                    switch (viewState) {\r\n                        //Anchor 1 clicked\r\n                        case ANCHOR1: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\r\n                            setRotation(getRotation() - angle);\r\n                            break;\r\n                        }\r\n                        //Anchor 2 clicked\r\n                        case ANCHOR2: {\r\n                            float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\r\n                            setRotation(getRotation() + angle);\r\n                            break;\r\n                        }\r\n                        //View Clicked\r\n                        case VIEW: {\r\n                            float deltaX = event.getX() - tapX;\r\n                            float deltaY = event.getY() - tapY;\r\n    \r\n                            // Transform point\r\n                            PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\r\n    \r\n                            //Perform the rotation\r\n                            setX(getX() + transformedPoint.x);\r\n                            setY(getY() + transformedPoint.y);\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL: {\r\n                    break;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private PointF transformPoint(float x, float y, float degree) {\r\n            //https://en.wikipedia.org/wiki/Rotation_matrix\r\n            double radian = Math.toRadians(degree);\r\n            float xp = (float) (x*Math.cos(radian) - y*Math.sin(radian));\r\n            float yp = (float) (x*Math.sin(radian) + y*Math.cos(radian));\r\n            return new PointF(xp, yp);\r\n        }\r\n    }\r\n\r\nFixedPosLayout.java\r\n\r\n    public class FixedPosLayout extends ViewGroup {\r\n    \r\n        public FixedPosLayout(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public FixedPosLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        public FixedPosLayout(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        @Override\r\n        protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n            int count = getChildCount();\r\n    \r\n            for (int i = 0; i&lt;count; ++i) {\r\n                View child = getChildAt(i);\r\n    \r\n                FixedPosLayout.LayoutParams params =\r\n                        (FixedPosLayout.LayoutParams) child.getLayoutParams();\r\n    \r\n                int left = params.x;\r\n                int top = params.y;\r\n    \r\n                child.layout(left, top,\r\n                        left + child.getMeasuredWidth(),\r\n                        top + child.getMeasuredHeight());\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n            // Measure this view\r\n            super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n    \r\n            // Measure children\r\n            int count = getChildCount();\r\n            for (int i = 0; i&lt;count; ++i) {\r\n                View child = getChildAt(i);\r\n    \r\n                FixedPosLayout.LayoutParams lp =\r\n                        (FixedPosLayout.LayoutParams) child.getLayoutParams();\r\n    \r\n                int childWidthMeasureSpec =\r\n                        MeasureSpec.makeMeasureSpec(lp.width, MeasureSpec.EXACTLY);\r\n    \r\n                int childHeightMeasureSpec =\r\n                        MeasureSpec.makeMeasureSpec(lp.height, MeasureSpec.EXACTLY);\r\n    \r\n                child.measure(childWidthMeasureSpec, childHeightMeasureSpec);\r\n            }\r\n        }\r\n    \r\n        public static class LayoutParams extends ViewGroup.LayoutParams {\r\n            public int x;\r\n            public int y;\r\n    \r\n            public LayoutParams(int width, int height, int x, int y) {\r\n                super(width, height);\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n        }\r\n    }\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            FixedPosLayout fixedPosLayout = findViewById(R.id.fixedPosLayout);\r\n    \r\n            MyView myView = new MyView(this);\r\n    \r\n            FixedPosLayout.LayoutParams params = new FixedPosLayout.LayoutParams(300, 80, 200, 400);\r\n            fixedPosLayout.addView(myView, params);\r\n        }\r\n    }\r\nmain_activity.xml\r\n\r\n    &lt;com.abdo.rotateviewquestion.FixedPosLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/fixedPosLayout&quot;\r\n        tools:context=&quot;.MainActivity&quot;/&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ngzwp.gif\r\n  [2]: https://i.stack.imgur.com/wUnHs.gif\r\n  [3]: https://stackoverflow.com/questions/75944102/how-to-correctly-rotate-a-qgraphicsitem-around-different-anchors-in-qt-c\r\n  [4]: https://developer.android.com/reference/android/opengl/Matrix\r\n  [5]: https://github.com/elhaouzi/RotateViewQuestion","title":"How can I fix the position of a custom view while rotating it from its anchors in Android?","body":"<p>I have a custom view named <code>MyView</code> that has two anchors. I would like to be able to rotate this view from its anchors, with one anchor acting as the center of rotation while the user drags the other anchor.</p>\n<p><strong>For simplicity, I have drawn a line, but in reality, I will be drawing something else</strong>. Here are the steps:</p>\n<ul>\n<li>If the user clicks on the view itself, translate the view.</li>\n<li>If the user clicks on one of its anchors, calculate the rotation angle and make the other anchor the center of rotation by using <code>setPivotX()</code> and <code>setPivotY()</code>.</li>\n</ul>\n<p>Here is the relevant code:</p>\n<pre><code>@Override\n    public boolean onTouchEvent(MotionEvent event) {\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN: {\n                tapX = event.getX();\n                tapY = event.getY();\n\n                if (anchorRect1.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR1;\n                    setPivotX(anchorRect2.centerX());\n                    setPivotY(anchorRect2.centerY());\n                } else if (anchorRect2.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR2;\n                    setPivotX(anchorRect1.centerX());\n                    setPivotY(anchorRect1.centerY());\n                } else {\n                    viewState = ViewState.VIEW;\n                }\n                break;\n            }\n            case MotionEvent.ACTION_MOVE: {\n                switch (viewState) {\n                    //Anchor 1 clicked\n                    case ANCHOR1: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\n                        setRotation(getRotation() - angle);\n                        break;\n                    }\n                    //Anchor 2 clicked\n                    case ANCHOR2: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\n                        setRotation(getRotation() + angle);\n                        break;\n                    }\n                    //View Clicked\n                    case VIEW: {\n                        float deltaX = event.getX() - tapX;\n                        float deltaY = event.getY() - tapY;\n\n                        // Transform point\n                        PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\n\n                        //Perform the rotation\n                        setX(getX() + transformedPoint.x);\n                        setY(getY() + transformedPoint.y);\n                        break;\n                    }\n                }\n                break;\n            }\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL: {\n                break;\n            }\n        }\n        return true;\n    }\n</code></pre>\n<p>Here is the screenshot of the current output:</p>\n<p><a href=\"https://i.stack.imgur.com/ngzwp.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ngzwp.gif\" alt=\"enter image description here\" /></a></p>\n<p>The issue is that when I rotate the view for the first time, it works correctly, but when I rotate it from the other anchor, it jumps to another position. I believe this is because the rotation doesn't affect the position of the view. To fix this, I need to recalculate the new position of the view so that it moves accordingly, but I'm not sure how to do that.</p>\n<p>This is what I am trying to achieve (created with the GeoGebra tool):</p>\n<p><a href=\"https://i.stack.imgur.com/wUnHs.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUnHs.gif\" alt=\"enter image description here\" /></a></p>\n<p>Additionally, I believe that this issue is not limited to the Android platform as I have faced a similar problem while implementing <a href=\"https://stackoverflow.com/questions/75944102/how-to-correctly-rotate-a-qgraphicsitem-around-different-anchors-in-qt-c\">this</a> feature using the Qt framework.</p>\n<p>I've invested a significant amount of time in addressing this issue, and any assistance you could provide would be greatly appreciated.</p>\n<p><strong>--------------------Start Edit-----------------------------------</strong></p>\n<p>According to the answer on <a href=\"https://stackoverflow.com/questions/75944102/how-to-correctly-rotate-a-qgraphicsitem-around-different-anchors-in-qt-c\">here</a>, it seems like the issue with the current implementation is that the view isn't saving the previous transformation. Every time the pivot point is updated, all the previous transformations are reset, which causes the view to behave incorrectly.</p>\n<p>To resolve this issue, we need to chain those transformations (one applied after another). In Qt, this can be achieved by saving the transformations in a list, as in this code:</p>\n<pre><code>QList&lt;QGraphicsTransform*&gt; trans;\n\n\nauto angle = qRadiansToDegrees(qAtan2( _anchor2.y() -p.y(), width));\nQGraphicsRotation* rot = new QGraphicsRotation;\nrot-&gt;setOrigin(QVector3D(cp2.x(), cp2.y(), 0));\nrot-&gt;setAxis(Qt::ZAxis);\nrot-&gt;setAngle(angle);\ntrans.push_back(rot);\nsetTransformations(_trans);\n</code></pre>\n<p>Another way to achieve this behavior is to use the <a href=\"https://developer.android.com/reference/android/opengl/Matrix\" rel=\"nofollow noreferrer\">QTransform</a> class directly. In this case, it's important to set the <code>isRelative</code> parameter to true in <code>setTransform()</code> so that the transformations are chained together.</p>\n<pre><code>QTransform t;\nauto angle = qRadiansToDegrees(qAtan2(_anchor2.y() -p.y(), width));\nt.translate(cp2.x(), cp2.y());\nt.rotate(angle);\nt.translate(-cp2.x(), -cp2.y());\nsetTransform(t, true);\n</code></pre>\n<p>In Android, the equivalent of the <a href=\"https://developer.android.com/reference/android/opengl/Matrix\" rel=\"nofollow noreferrer\">QTransform</a> is the <a href=\"https://developer.android.com/reference/android/opengl/Matrix\" rel=\"nofollow noreferrer\">Matrix</a> class. However, unlike QT, the <code>View</code> class in Android does not have a <code>setMatrix()</code> method. This means that when performing transformations, you cannot simply apply the current matrix to the view, which makes it more difficult to work with.</p>\n<p><strong>-------------------End Edit---------------------------------------</strong></p>\n<p>Here is a <a href=\"https://github.com/elhaouzi/RotateViewQuestion\" rel=\"nofollow noreferrer\">repo</a> to reproduce the issue, and below is the complete code:</p>\n<p>MyView.java</p>\n<pre><code>public class MyView extends View {\n\n    enum ViewState {\n        ANCHOR1, ANCHOR2, VIEW\n    }\n\n    public static final int RADIUS = 24; // Anchor radius\n    public static final int OFFSET = 1;\n\n    private final Paint paint;\n\n    public RectF anchorRect1;\n    public RectF anchorRect2;\n\n    private ViewState viewState;\n\n    private float tapX;\n    private float tapY;\n\n\n    public MyView(Context context) {\n        super(context);\n\n        paint = new Paint();\n        paint.setStyle(Paint.Style.STROKE);\n\n        anchorRect1 = new RectF();\n        anchorRect2 = new RectF();\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        var width = getWidth();\n        var height = getHeight();\n\n        //Draw line between anchor points\n        canvas.drawLine(\n                anchorRect1.centerX(), anchorRect1.centerY(),\n                anchorRect2.centerX(), anchorRect2.centerY(), paint);\n\n        //Draw anchor circle\n        canvas.drawCircle(anchorRect1.centerX(), anchorRect1.centerY(), RADIUS, paint);\n        canvas.drawCircle(anchorRect2.centerX(), anchorRect2.centerY(), RADIUS, paint);\n\n        //Draw bounding rect\n        canvas.drawRect(OFFSET, OFFSET, width - OFFSET, height - OFFSET, paint);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        //Recompute anchors rect\n        anchorRect1.set(\n                OFFSET, h /2f - RADIUS + OFFSET,\n                2*RADIUS, h /2f + RADIUS - OFFSET\n        );\n\n        anchorRect2.set(\n                w - 2*RADIUS, h /2f - RADIUS + OFFSET,\n                w - OFFSET, h /2f + RADIUS - OFFSET\n        );\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n\n        // Measure exactly\n        int width = MeasureSpec.getSize(widthMeasureSpec);\n        int height = MeasureSpec.getSize(heightMeasureSpec);\n\n        setMeasuredDimension(width, height);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN: {\n                tapX = event.getX();\n                tapY = event.getY();\n\n                // Anchor 1 clicked\n                if (anchorRect1.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR1;\n                    setPivotX(anchorRect2.centerX());\n                    setPivotY(anchorRect2.centerY());\n                }\n                // Anchor 2 clicked\n                else if (anchorRect2.contains(tapX, tapY)) {\n                    viewState = ViewState.ANCHOR2;\n                    setPivotX(anchorRect1.centerX());\n                    setPivotY(anchorRect1.centerY());\n                }\n                // View body clicked\n                else {\n                    viewState = ViewState.VIEW;\n                }\n                break;\n            }\n            case MotionEvent.ACTION_MOVE: {\n                switch (viewState) {\n                    //Anchor 1 clicked\n                    case ANCHOR1: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect2.centerY(), getWidth()));\n                        setRotation(getRotation() - angle);\n                        break;\n                    }\n                    //Anchor 2 clicked\n                    case ANCHOR2: {\n                        float angle = (float) Math.toDegrees(Math.atan2(event.getY() - anchorRect1.centerY(), getWidth()));\n                        setRotation(getRotation() + angle);\n                        break;\n                    }\n                    //View Clicked\n                    case VIEW: {\n                        float deltaX = event.getX() - tapX;\n                        float deltaY = event.getY() - tapY;\n\n                        // Transform point\n                        PointF transformedPoint = transformPoint(deltaX, deltaY, getRotation());\n\n                        //Perform the rotation\n                        setX(getX() + transformedPoint.x);\n                        setY(getY() + transformedPoint.y);\n                        break;\n                    }\n                }\n                break;\n            }\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL: {\n                break;\n            }\n        }\n        return true;\n    }\n\n    private PointF transformPoint(float x, float y, float degree) {\n        //https://en.wikipedia.org/wiki/Rotation_matrix\n        double radian = Math.toRadians(degree);\n        float xp = (float) (x*Math.cos(radian) - y*Math.sin(radian));\n        float yp = (float) (x*Math.sin(radian) + y*Math.cos(radian));\n        return new PointF(xp, yp);\n    }\n}\n</code></pre>\n<p>FixedPosLayout.java</p>\n<pre><code>public class FixedPosLayout extends ViewGroup {\n\n    public FixedPosLayout(Context context) {\n        super(context);\n    }\n\n    public FixedPosLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public FixedPosLayout(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        int count = getChildCount();\n\n        for (int i = 0; i&lt;count; ++i) {\n            View child = getChildAt(i);\n\n            FixedPosLayout.LayoutParams params =\n                    (FixedPosLayout.LayoutParams) child.getLayoutParams();\n\n            int left = params.x;\n            int top = params.y;\n\n            child.layout(left, top,\n                    left + child.getMeasuredWidth(),\n                    top + child.getMeasuredHeight());\n        }\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        // Measure this view\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n\n        // Measure children\n        int count = getChildCount();\n        for (int i = 0; i&lt;count; ++i) {\n            View child = getChildAt(i);\n\n            FixedPosLayout.LayoutParams lp =\n                    (FixedPosLayout.LayoutParams) child.getLayoutParams();\n\n            int childWidthMeasureSpec =\n                    MeasureSpec.makeMeasureSpec(lp.width, MeasureSpec.EXACTLY);\n\n            int childHeightMeasureSpec =\n                    MeasureSpec.makeMeasureSpec(lp.height, MeasureSpec.EXACTLY);\n\n            child.measure(childWidthMeasureSpec, childHeightMeasureSpec);\n        }\n    }\n\n    public static class LayoutParams extends ViewGroup.LayoutParams {\n        public int x;\n        public int y;\n\n        public LayoutParams(int width, int height, int x, int y) {\n            super(width, height);\n            this.x = x;\n            this.y = y;\n        }\n    }\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        FixedPosLayout fixedPosLayout = findViewById(R.id.fixedPosLayout);\n\n        MyView myView = new MyView(this);\n\n        FixedPosLayout.LayoutParams params = new FixedPosLayout.LayoutParams(300, 80, 200, 400);\n        fixedPosLayout.addView(myView, params);\n    }\n}\n</code></pre>\n<p>main_activity.xml</p>\n<pre><code>&lt;com.abdo.rotateviewquestion.FixedPosLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/fixedPosLayout&quot;\n    tools:context=&quot;.MainActivity&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","logging","logback"],"owner":{"account_id":15015135,"reputation":1,"user_id":10838364,"display_name":"susurs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682678777,"creation_date":1682673782,"question_id":76128115,"body_markdown":"I have a 3rd party SpringBoot application with logs being configured in application.yml\r\n\r\n```\r\nlogging:\r\n    level:\r\n        root: debug\r\n        com:\r\n            companyname: debug\r\n```\r\n\r\nWe are trying to use logback.xml on top of it like so\r\n```\r\nlogging:\r\n    config: logback.xml\r\n```\r\n\r\nLogback.xml looks like this\r\n```\r\n&lt;root level=&quot;debug&quot;&gt;\r\n&lt;appender-ref../&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nAnd it works normally, except the part that I don&#39;t see specifically com: companyname: DEBUG logs.\r\nThe question is how to configure log level for com: companyname: in logback.xml.\r\n\r\nTried this, but didn&#39;t work:\r\n```\r\n&lt;logger name = &quot;com.companyname&quot; level = &quot;DEBUG&quot;&gt;\r\n&lt;appender-ref.../&gt;\r\n&lt;/logger&gt;\r\n```","title":"Logging properties using logback.xml on top of application.yml","body":"<p>I have a 3rd party SpringBoot application with logs being configured in application.yml</p>\n<pre><code>logging:\n    level:\n        root: debug\n        com:\n            companyname: debug\n</code></pre>\n<p>We are trying to use logback.xml on top of it like so</p>\n<pre><code>logging:\n    config: logback.xml\n</code></pre>\n<p>Logback.xml looks like this</p>\n<pre><code>&lt;root level=&quot;debug&quot;&gt;\n&lt;appender-ref../&gt;\n&lt;/root&gt;\n</code></pre>\n<p>And it works normally, except the part that I don't see specifically com: companyname: DEBUG logs.\nThe question is how to configure log level for com: companyname: in logback.xml.</p>\n<p>Tried this, but didn't work:</p>\n<pre><code>&lt;logger name = &quot;com.companyname&quot; level = &quot;DEBUG&quot;&gt;\n&lt;appender-ref.../&gt;\n&lt;/logger&gt;\n</code></pre>\n"},{"tags":["java","database","performance","jpa","criteriaquery"],"answers":[{"tags":[],"owner":{"account_id":20835131,"reputation":11,"user_id":15303361,"display_name":"Rikkarth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682674784,"creation_date":1682674784,"answer_id":76128240,"question_id":76127864,"body_markdown":"Just an idea, but maybe you can make some sort of method that measures how much time it takes to perform one and the other.\r\n\r\n    public static void main(String[] args) {\r\n            // Measure the time before the method call\r\n            long startTime = System.nanoTime();\r\n    \r\n            // Call the method you want to track\r\n            exampleMethod();\r\n    \r\n            // Measure the time after the method call\r\n            long endTime = System.nanoTime();\r\n    \r\n            // Calculate the elapsed time in milliseconds\r\n            long elapsedTime = (endTime - startTime) / 1_000_000;\r\n            System.out.println(&quot;The method took &quot; + elapsedTime + &quot; milliseconds to run.&quot;);\r\n        }","title":"Should I get data using methods of an object or using jpa queries?","body":"<p>Just an idea, but maybe you can make some sort of method that measures how much time it takes to perform one and the other.</p>\n<pre><code>public static void main(String[] args) {\n        // Measure the time before the method call\n        long startTime = System.nanoTime();\n\n        // Call the method you want to track\n        exampleMethod();\n\n        // Measure the time after the method call\n        long endTime = System.nanoTime();\n\n        // Calculate the elapsed time in milliseconds\n        long elapsedTime = (endTime - startTime) / 1_000_000;\n        System.out.println(&quot;The method took &quot; + elapsedTime + &quot; milliseconds to run.&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25251803,"reputation":88,"user_id":19084192,"display_name":"Kaiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682678654,"creation_date":1682678654,"answer_id":76128791,"question_id":76127864,"body_markdown":"In my opinion, the second approach is the better one, but it really depends on how you configured your entities relationships and your use case.\r\n\r\nIf your parent entity has a lot of EAGER relationships (because lets say that you need them when you actually want the parent), get the parent each time only to access one of the child is going to generate lot of unnecessary join.\r\n\r\nIn the scenario of having all the relationship LAZY, I&#39;m not really sure if there is a difference between the two approach, because the child is going to be loaded only when accessed anyway.\r\n\r\nAs a rule of thumb, it&#39;s better to let the database get the data for you when it&#39;s possible instead of process it by yourself later.","title":"Should I get data using methods of an object or using jpa queries?","body":"<p>In my opinion, the second approach is the better one, but it really depends on how you configured your entities relationships and your use case.</p>\n<p>If your parent entity has a lot of EAGER relationships (because lets say that you need them when you actually want the parent), get the parent each time only to access one of the child is going to generate lot of unnecessary join.</p>\n<p>In the scenario of having all the relationship LAZY, I'm not really sure if there is a difference between the two approach, because the child is going to be loaded only when accessed anyway.</p>\n<p>As a rule of thumb, it's better to let the database get the data for you when it's possible instead of process it by yourself later.</p>\n"}],"owner":{"account_id":28033349,"reputation":1,"user_id":21412455,"display_name":"Xudla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682678654,"creation_date":1682671952,"question_id":76127864,"body_markdown":"I have a java project and I am using JPA, so I have entity classes and the correspective database tables. Everything is set and ready and is working fine.\r\nFrom my database I can simply retrieve an object using a JPA query (for exemple `getById()`) and from this object I can get every other data I need, without using other queries. I was wondering if this is good practice or if I should use queries for getting all needed data. \r\n\r\nExample:\r\n- First approach: Get the main object from the database using `EntityManager.getObjectById(1)` and get its children using `object.getChildren()`.\r\n\r\n- Second approach: Get the main object from the database using `EntityManager.getObjectById(1)` and get its children using `CriteriaQuery.select(Root).where(CriteriaBuilder.equal(Root.get(&quot;parent&quot;), object))` getting a ResultList from the query.\r\n\r\nAlso, would this improve or worsen performance?\r\n\r\nI searched for a while on google and stackoverflow but I couldn&#39;t find any information.\r\nI would expect the first approach to be fine.","title":"Should I get data using methods of an object or using jpa queries?","body":"<p>I have a java project and I am using JPA, so I have entity classes and the correspective database tables. Everything is set and ready and is working fine.\nFrom my database I can simply retrieve an object using a JPA query (for exemple <code>getById()</code>) and from this object I can get every other data I need, without using other queries. I was wondering if this is good practice or if I should use queries for getting all needed data.</p>\n<p>Example:</p>\n<ul>\n<li><p>First approach: Get the main object from the database using <code>EntityManager.getObjectById(1)</code> and get its children using <code>object.getChildren()</code>.</p>\n</li>\n<li><p>Second approach: Get the main object from the database using <code>EntityManager.getObjectById(1)</code> and get its children using <code>CriteriaQuery.select(Root).where(CriteriaBuilder.equal(Root.get(&quot;parent&quot;), object))</code> getting a ResultList from the query.</p>\n</li>\n</ul>\n<p>Also, would this improve or worsen performance?</p>\n<p>I searched for a while on google and stackoverflow but I couldn't find any information.\nI would expect the first approach to be fine.</p>\n"},{"tags":["java","maven","tomcat","jax-rs","cdi"],"owner":{"account_id":1319042,"reputation":301,"user_id":1265267,"accept_rate":33,"display_name":"TinoK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682678559,"creation_date":1682678559,"question_id":76128780,"body_markdown":"I would like to obtain the remote address of a client calling my web service. I am trying to gain access to HttpServletRequest, but the ambiguous dependencies exception is thrown when a client calls the service.\r\n\r\nDependencies were automatically added by IntelliJ and I will admit to being a novice when it comes to tracking down issues in code that I did not write! My endpoint code, the stack trace and POM follow.\r\n\r\nI have been hacking away at this for a couple of days now, so any help greatly appreciated!!\r\n\r\n```\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.*;\r\n\r\n@Path(&quot;/visitor&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class Visitors {\r\n\r\n    @POST\r\n    @Path(&quot;/web&quot;)\r\n    public Response identify(@Context HttpServletRequest req, Visit visit) {\r\n\r\n        String remoteAddr = req.getRemoteAddr();\r\n        ...\r\n```\r\n\r\nTrace:\r\n```\r\norg.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [vv.vvApplication] in context with path [/vv_war_exploded] threw exception [org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\r\n Possible dependencies: \r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485] with root cause\r\n\torg.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\r\n Possible dependencies: \r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\r\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485\r\n\t\tat org.jboss.weld.bean.builtin.InstanceImpl.checkBeanResolved(InstanceImpl.java:244)\r\n\t\tat org.jboss.weld.bean.builtin.InstanceImpl.get(InstanceImpl.java:113)\r\n\t\tat org.glassfish.jersey.internal.inject.ReferencingFactory.get(ReferencingFactory.java:69)\r\n\t\tat org.glassfish.jersey.inject.cdi.se.bean.SupplierBeanBridge.create(SupplierBeanBridge.java:110)\r\n\t\tat org.glassfish.jersey.inject.cdi.se.injector.ContextInjectionResolverImpl.resolve(ContextInjectionResolverImpl.java:76)\r\n\t\tat org.glassfish.jersey.server.internal.inject.DelegatedInjectionValueParamProvider.lambda$getValueProvider$0(DelegatedInjectionValueParamProvider.java:67)\r\n\t\tat org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\r\n\t\tat org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\r\n\t\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\r\n\t\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n\t\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n\t\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\t\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n\t\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\t\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\t\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\t\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\t\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\t\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\t\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\t\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n\t\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n...\r\n```\r\n\r\nPOM\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;vv&lt;/groupId&gt;\r\n    &lt;artifactId&gt;vv&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;vv&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- MySQL Dependencies --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- MySQL Dependencies --&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.auth0/java-jwt --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Logging --&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-reload4j --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Logging --&gt;\r\n\r\n        &lt;!-- StringUtils --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- SHA256 Hashing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;2.34&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.34&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-cdi2-se&lt;/artifactId&gt;\r\n            &lt;version&gt;2.34&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.8.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Needed for LocalDateTime object mapping--&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt;","body":"<p>I would like to obtain the remote address of a client calling my web service. I am trying to gain access to HttpServletRequest, but the ambiguous dependencies exception is thrown when a client calls the service.</p>\n<p>Dependencies were automatically added by IntelliJ and I will admit to being a novice when it comes to tracking down issues in code that I did not write! My endpoint code, the stack trace and POM follow.</p>\n<p>I have been hacking away at this for a couple of days now, so any help greatly appreciated!!</p>\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.*;\n\n@Path(&quot;/visitor&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic class Visitors {\n\n    @POST\n    @Path(&quot;/web&quot;)\n    public Response identify(@Context HttpServletRequest req, Visit visit) {\n\n        String remoteAddr = req.getRemoteAddr();\n        ...\n</code></pre>\n<p>Trace:</p>\n<pre><code>org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [vv.vvApplication] in context with path [/vv_war_exploded] threw exception [org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\n Possible dependencies: \n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485] with root cause\n    org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001335: Ambiguous dependencies for type Ref&lt;HttpServletRequest&gt; with qualifiers @Default\n Possible dependencies: \n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@730f19db,\n  - org.glassfish.jersey.inject.cdi.se.bean.SupplierInstanceBeanBridge@62233485\n        at org.jboss.weld.bean.builtin.InstanceImpl.checkBeanResolved(InstanceImpl.java:244)\n        at org.jboss.weld.bean.builtin.InstanceImpl.get(InstanceImpl.java:113)\n        at org.glassfish.jersey.internal.inject.ReferencingFactory.get(ReferencingFactory.java:69)\n        at org.glassfish.jersey.inject.cdi.se.bean.SupplierBeanBridge.create(SupplierBeanBridge.java:110)\n        at org.glassfish.jersey.inject.cdi.se.injector.ContextInjectionResolverImpl.resolve(ContextInjectionResolverImpl.java:76)\n        at org.glassfish.jersey.server.internal.inject.DelegatedInjectionValueParamProvider.lambda$getValueProvider$0(DelegatedInjectionValueParamProvider.java:67)\n        at org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.apply(ParamValueFactoryWithSource.java:50)\n        at org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:64)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:109)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n...\n</code></pre>\n<p>POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;vv&lt;/groupId&gt;\n    &lt;artifactId&gt;vv&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;vv&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- MySQL Dependencies --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- MySQL Dependencies --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.auth0/java-jwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.35&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-reload4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.35&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging --&gt;\n\n        &lt;!-- StringUtils --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SHA256 Hashing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-cdi2-se&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.8.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Needed for LocalDateTime object mapping--&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.14.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":6,"creation_date":1437673438,"post_id":31594537,"comment_id":51140806,"body_markdown":"I&#39;m confused as to your requirements. So you want to reverse every other word? Please clarify exactly what it is that you&#39;re trying to do.","body":"I&#39;m confused as to your requirements. So you want to reverse every other word? Please clarify exactly what it is that you&#39;re trying to do."},{"owner":{"account_id":6301885,"reputation":385,"user_id":4896247,"accept_rate":25,"display_name":"Bhupi"},"score":0,"creation_date":1437673594,"post_id":31594537,"comment_id":51140882,"body_markdown":"what is pattern here , you only want even position word to be reversed ?","body":"what is pattern here , you only want even position word to be reversed ?"},{"owner":{"account_id":6549973,"reputation":1407,"user_id":5064707,"display_name":"Robert Wadowski"},"score":0,"creation_date":1437673597,"post_id":31594537,"comment_id":51140885,"body_markdown":"As stated your question is unclear. There is ready library for this ( reversing a string - reverse method ) https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#reverse(java.lang.String) ? But no idea what you want to achieve. I have the same understanding of problem as MadConan","body":"As stated your question is unclear. There is ready library for this ( reversing a string - reverse method ) <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#reverse(java.lang.String)\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a> ? But no idea what you want to achieve. I have the same understanding of problem as MadConan"},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":2,"creation_date":1437673605,"post_id":31594537,"comment_id":51140893,"body_markdown":"&quot;Reverse a sentence&quot; to me implies &quot;The dog ate the world&quot; becomes &quot;world the ate dog The&quot; or possibly &quot;dlrow eht eta god ehT&quot;.   You should edit your title if that isn&#39;t what you want.","body":"&quot;Reverse a sentence&quot; to me implies &quot;The dog ate the world&quot; becomes &quot;world the ate dog The&quot; or possibly &quot;dlrow eht eta god ehT&quot;.   You should edit your title if that isn&#39;t what you want."},{"owner":{"account_id":463295,"reputation":2840,"user_id":866104,"accept_rate":86,"display_name":"Michelle"},"score":0,"creation_date":1437673920,"post_id":31594537,"comment_id":51141083,"body_markdown":"Adding to the confusion, there are also comments in your code that indicate the result you&#39;re getting is exactly what you want (`//produce: &quot;iH ym eman...`).","body":"Adding to the confusion, there are also comments in your code that indicate the result you&#39;re getting is exactly what you want (<code>&#47;&#47;produce: &quot;iH ym eman...</code>)."}],"answers":[{"comments":[{"owner":{"account_id":463295,"reputation":2840,"user_id":866104,"accept_rate":86,"display_name":"Michelle"},"score":2,"creation_date":1437674187,"post_id":31594758,"comment_id":51141229,"body_markdown":"It&#39;s generally helpful to include an explanation of your solution, rather than just a code dump.","body":"It&#39;s generally helpful to include an explanation of your solution, rather than just a code dump."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1437674255,"post_id":31594758,"comment_id":51141268,"body_markdown":"@Michelle I agree with you on that one, though this one is pretty self explanatory IMO. Added the explaining sentence. Further, code comments help explaining no less then text...","body":"@Michelle I agree with you on that one, though this one is pretty self explanatory IMO. Added the explaining sentence. Further, code comments help explaining no less then text..."}],"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437674530,"creation_date":1437674093,"answer_id":31594758,"question_id":31594537,"body_markdown":"The following code does this &quot;special reverse&quot; which reverses any other word in the sentence:\r\n\r\n    public static void main(String[] args) {\r\n        String sentence = &quot;My name is xyz&quot;;\r\n        System.out.println(specialReverse(sentence)); //  My eman is zyx\r\n    }\r\n\r\n    private static String specialReverse(String sentence) {\r\n        String result = &quot;&quot;;\r\n        String[] words = sentence.split(&quot; &quot;);\r\n        // we&#39;ll reverse only every second word according to even/odd index\r\n        for (int i = 0; i &lt; words.length; i++) {\r\n            if (i % 2 == 1) {\r\n                result += &quot; &quot; + reverse(words[i]);\r\n            } else {\r\n                result += &quot; &quot; + words[i];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // easiest way to reverse a string in Java in a &quot;one-liner&quot;\r\n    private static String reverse(String word) {\r\n        return new StringBuilder(word).reverse().toString();\r\n    }\r\n","title":"Reverse every 2nd word of a sentence","body":"<p>The following code does this \"special reverse\" which reverses any other word in the sentence:</p>\n\n<pre><code>public static void main(String[] args) {\n    String sentence = \"My name is xyz\";\n    System.out.println(specialReverse(sentence)); //  My eman is zyx\n}\n\nprivate static String specialReverse(String sentence) {\n    String result = \"\";\n    String[] words = sentence.split(\" \");\n    // we'll reverse only every second word according to even/odd index\n    for (int i = 0; i &lt; words.length; i++) {\n        if (i % 2 == 1) {\n            result += \" \" + reverse(words[i]);\n        } else {\n            result += \" \" + words[i];\n        }\n    }\n    return result;\n}\n\n// easiest way to reverse a string in Java in a \"one-liner\"\nprivate static String reverse(String word) {\n    return new StringBuilder(word).reverse().toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1437674550,"post_id":31594764,"comment_id":51141489,"body_markdown":"nvm, I guess in `if 1st, 3rd, 5th ..and so on words` you are counting from 1, not form 0 :)","body":"nvm, I guess in <code>if 1st, 3rd, 5th ..and so on words</code> you are counting from 1, not form 0 :)"},{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1437674620,"post_id":31594764,"comment_id":51141522,"body_markdown":"@Pshemo actually I am pointing out the words, ie, 1st word 3rd word and so on, not the index ;)","body":"@Pshemo actually I am pointing out the words, ie, 1st word 3rd word and so on, not the index ;)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1437674769,"post_id":31594764,"comment_id":51141611,"body_markdown":"BTW, you don&#39;t need to call `toString()` on `StringBuilder` to append it. `append` method accepts any `CharSequence`, not only `String`s (and StringBuilder implements CharSequence).","body":"BTW, you don&#39;t need to call <code>toString()</code> on <code>StringBuilder</code> to append it. <code>append</code> method accepts any <code>CharSequence</code>, not only <code>String</code>s (and StringBuilder implements CharSequence)."},{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1437674871,"post_id":31594764,"comment_id":51141689,"body_markdown":"@Pshemo yeah, everytime i see your comment, there&#39;s a new thing to learn (y) :)","body":"@Pshemo yeah, everytime i see your comment, there&#39;s a new thing to learn (y) :)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1437675179,"post_id":31594764,"comment_id":51141898,"body_markdown":"Also since Java 8  you can use `StringJoiner` instead of `StringBuilder`. This class is useful when you want to join some strings and place delimiter between them. So with `new StringJoiner(&quot; &quot;)` you can avoid using `append(&quot; &quot;)` and `trim()` (you will simply need to use `add` method instead of `append`).","body":"Also since Java 8  you can use <code>StringJoiner</code> instead of <code>StringBuilder</code>. This class is useful when you want to join some strings and place delimiter between them. So with <code>new StringJoiner(&quot; &quot;)</code> you can avoid using <code>append(&quot; &quot;)</code> and <code>trim()</code> (you will simply need to use <code>add</code> method instead of <code>append</code>)."},{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1437675364,"post_id":31594764,"comment_id":51142013,"body_markdown":"that would be good in these kinds of scenarios, will look into that, but still i m working on Java 6  these days","body":"that would be good in these kinds of scenarios, will look into that, but still i m working on Java 6  these days"}],"tags":[],"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437674833,"creation_date":1437674102,"answer_id":31594764,"question_id":31594537,"body_markdown":"If you want to reverse the alternate word you can try something like splitting the whole `String` into words delimited by whitespaces and apply `StringBuilder reverse()` on every second word like :-\r\n\r\n            String s = &quot;My name is xyz&quot;;\r\n    \t    String[] wordsArr = s.split(&quot; &quot;); // broke string into array delimited by &quot; &quot; whitespace\r\n    \t    StringBuilder sb = new StringBuilder();\r\n    \t    for(int i = 0 ; i&lt; wordsArr.length; i++){ // loop over array length\r\n    \t    \tif(i%2 == 0) // if 1st word, 3rd word, 5th word..and so on words \r\n    \t    \t\tsb.append(wordsArr[i]); // add  the word as it is\r\n    \t    \telse sb.append(new StringBuilder(wordsArr[i]).reverse()); // else use StringBuilder revrese() to reverse it\r\n    \t    \tsb.append(&quot; &quot;);// add a whitespace in between words\r\n    \t    }\r\n    \t    System.out.println(sb.toString().trim()); //remove extra whitespace from the end and convert StringBuilder to String\r\n\r\nOutput :- `My eman is zyx`","title":"Reverse every 2nd word of a sentence","body":"<p>If you want to reverse the alternate word you can try something like splitting the whole <code>String</code> into words delimited by whitespaces and apply <code>StringBuilder reverse()</code> on every second word like :-</p>\n\n<pre><code>        String s = \"My name is xyz\";\n        String[] wordsArr = s.split(\" \"); // broke string into array delimited by \" \" whitespace\n        StringBuilder sb = new StringBuilder();\n        for(int i = 0 ; i&lt; wordsArr.length; i++){ // loop over array length\n            if(i%2 == 0) // if 1st word, 3rd word, 5th word..and so on words \n                sb.append(wordsArr[i]); // add  the word as it is\n            else sb.append(new StringBuilder(wordsArr[i]).reverse()); // else use StringBuilder revrese() to reverse it\n            sb.append(\" \");// add a whitespace in between words\n        }\n        System.out.println(sb.toString().trim()); //remove extra whitespace from the end and convert StringBuilder to String\n</code></pre>\n\n<p>Output :- <code>My eman is zyx</code></p>\n"},{"comments":[{"owner":{"display_name":"user4274413"},"score":0,"creation_date":1437675230,"post_id":31594906,"comment_id":51141929,"body_markdown":"Thanks.Just need to change flag = true to flag = false","body":"Thanks.Just need to change flag = true to flag = false"}],"tags":[],"owner":{"account_id":1936502,"reputation":5581,"user_id":1743849,"display_name":"mazhar islam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1437674607,"creation_date":1437674607,"answer_id":31594906,"question_id":31594537,"body_markdown":"You can solve your problem vary easy way! Just use a `flag` variable which will indicate the *even* or *odd* position, more precisely whether any word will gonna be reversed or not!\r\n\r\nLook at the following modification I made in your code, just added three extra line:\r\n\r\n    private static boolean flag = true;// added a variable flag to check if we reverse the word or not.\r\n\tprivate static char[] ReverseSentence(char[] sentence)\r\n\t{\r\n\t    //Given: &quot;Hi my name is person!&quot;\r\n\t    //produce: &quot;iH ym eman si !nosrep&quot;\r\n\r\n\t    if(sentence == null) return null;\r\n\t    if(sentence.length == 1) return sentence;\r\n\r\n\t    int startPosition=0;\r\n\t    int counter = 0;\r\n\t    int sentenceLength = sentence.length-1;\r\n\r\n\t    //Solution handles any amount of spaces before, between words etc...\r\n\r\n\t    while(counter &lt;= sentenceLength)\r\n\t    {\r\n\t        if(sentence[counter] == &#39; &#39; &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\r\n\t        {\r\n\t        \tflag = !flag; // first time (odd position) we are not going to reverse!\r\n\t            //swap from startPos to counter - 1\r\n\t            //set start position to -1 and increment counter\r\n\t            int begin = startPosition;\r\n\r\n\t            int end;\r\n\t            if(sentenceLength == counter)\r\n\t            {\r\n\t                end = counter;\r\n\t            }\r\n\t            else\r\n\t                end = counter -1;\r\n\t            char tmp;\r\n\r\n\t            //Reverse characters\r\n\t            while(end &gt;= begin &amp; flag){ //lets see whether we are going to reverse or not\r\n\r\n\t                tmp = sentence[begin];\r\n\t                sentence[begin] = sentence[end];\r\n\t                sentence[end] = tmp;\r\n\r\n\t                end--; begin++;\r\n\r\n\t            }\r\n\r\n\t            startPosition = -1; //flag used to indicate we have no encountered a character of a string\r\n\r\n\r\n\t        }\r\n\r\n\t        else if(sentence[counter] !=&#39; &#39; &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\r\n\t        {\r\n\t            startPosition = counter;\r\n\t        }\r\n\r\n\t        counter++;\r\n\t    }\r\n\r\n\t    return sentence;\r\n\t}\r\n\r\nInput \r\n\r\n&gt; My name is xyz\r\n\r\nOutput:\r\n\r\n&gt; My eman is zyx\r\n","title":"Reverse every 2nd word of a sentence","body":"<p>You can solve your problem vary easy way! Just use a <code>flag</code> variable which will indicate the <em>even</em> or <em>odd</em> position, more precisely whether any word will gonna be reversed or not!</p>\n\n<p>Look at the following modification I made in your code, just added three extra line:</p>\n\n<pre><code>private static boolean flag = true;// added a variable flag to check if we reverse the word or not.\nprivate static char[] ReverseSentence(char[] sentence)\n{\n    //Given: \"Hi my name is person!\"\n    //produce: \"iH ym eman si !nosrep\"\n\n    if(sentence == null) return null;\n    if(sentence.length == 1) return sentence;\n\n    int startPosition=0;\n    int counter = 0;\n    int sentenceLength = sentence.length-1;\n\n    //Solution handles any amount of spaces before, between words etc...\n\n    while(counter &lt;= sentenceLength)\n    {\n        if(sentence[counter] == ' ' &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\n        {\n            flag = !flag; // first time (odd position) we are not going to reverse!\n            //swap from startPos to counter - 1\n            //set start position to -1 and increment counter\n            int begin = startPosition;\n\n            int end;\n            if(sentenceLength == counter)\n            {\n                end = counter;\n            }\n            else\n                end = counter -1;\n            char tmp;\n\n            //Reverse characters\n            while(end &gt;= begin &amp; flag){ //lets see whether we are going to reverse or not\n\n                tmp = sentence[begin];\n                sentence[begin] = sentence[end];\n                sentence[end] = tmp;\n\n                end--; begin++;\n\n            }\n\n            startPosition = -1; //flag used to indicate we have no encountered a character of a string\n\n\n        }\n\n        else if(sentence[counter] !=' ' &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\n        {\n            startPosition = counter;\n        }\n\n        counter++;\n    }\n\n    return sentence;\n}\n</code></pre>\n\n<p>Input </p>\n\n<blockquote>\n  <p>My name is xyz</p>\n</blockquote>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>My eman is zyx</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439963283,"creation_date":1439963283,"answer_id":32087424,"question_id":31594537,"body_markdown":"Just for completeness here&#39;s Java-8 solution:\r\n\r\n\tpublic static String reverseSentence(String input) {\r\n\t\tString[] words = input.split(&quot; &quot;);\r\n\t\treturn IntStream.range(0, words.length)\r\n\t\t\t\t.mapToObj( i -&gt; i % 2 == 0 ? words[i] : \r\n\t\t\t\t\t\tnew StringBuilder(words[i]).reverse().toString())\r\n\t\t\t\t.collect(Collectors.joining(&quot; &quot;));\r\n\t}\r\n\r\n    reverseSentence(&quot;My name is xyz&quot;); // -&gt; My eman is zyx","title":"Reverse every 2nd word of a sentence","body":"<p>Just for completeness here's Java-8 solution:</p>\n\n<pre><code>public static String reverseSentence(String input) {\n    String[] words = input.split(\" \");\n    return IntStream.range(0, words.length)\n            .mapToObj( i -&gt; i % 2 == 0 ? words[i] : \n                    new StringBuilder(words[i]).reverse().toString())\n            .collect(Collectors.joining(\" \"));\n}\n\nreverseSentence(\"My name is xyz\"); // -&gt; My eman is zyx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17640193,"reputation":1,"user_id":12802618,"display_name":"Jaswanth Harsha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593091147,"creation_date":1593090720,"answer_id":62576183,"question_id":31594537,"body_markdown":"    package com.eg.str;\r\n    \r\n    // Without using StringBuilder  \r\n    // INPUT: &quot;Java is very cool prog lang&quot;\r\n    // OUTPUT: Java si very looc prog gnal\r\n    \r\n    public class StrRev {\r\n    \t\r\n    \tpublic void reverse(String str) {\r\n    \t\tString[] tokens = str.split(&quot; &quot;);\r\n    \t\tString result = &quot;&quot;;\r\n    \t\tString k = &quot;&quot;;\r\n    \t\tfor(int i=0; i&lt;tokens.length; i++) {\r\n    \t\t\tif(i%2 == 0)\r\n    \t\t\t\tSystem.out.print(&quot; &quot; + tokens[i] + &quot; &quot;);\r\n    \t\t\telse\r\n    \t\t\t\tresult = tokens[i];\r\n    \t\t\t\t\r\n    \t\t\t\tfor (int j = result.length()-1; j &gt;= 0; j--)  {\r\n    \t\t\t\t\tk = &quot;&quot; + result.charAt(j);\r\n    \t\t\t\t\tSystem.out.print(k);\r\n    \t\t\t\t}\r\n    \t\t\t\tresult = &quot;&quot;;\r\n    \t\t}\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tStrRev obj = new StrRev();\r\n    \t\tobj.reverse(&quot;Java is very cool prog lang&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Reverse every 2nd word of a sentence","body":"<pre><code>package com.eg.str;\n\n// Without using StringBuilder  \n// INPUT: &quot;Java is very cool prog lang&quot;\n// OUTPUT: Java si very looc prog gnal\n\npublic class StrRev {\n    \n    public void reverse(String str) {\n        String[] tokens = str.split(&quot; &quot;);\n        String result = &quot;&quot;;\n        String k = &quot;&quot;;\n        for(int i=0; i&lt;tokens.length; i++) {\n            if(i%2 == 0)\n                System.out.print(&quot; &quot; + tokens[i] + &quot; &quot;);\n            else\n                result = tokens[i];\n                \n                for (int j = result.length()-1; j &gt;= 0; j--)  {\n                    k = &quot;&quot; + result.charAt(j);\n                    System.out.print(k);\n                }\n                result = &quot;&quot;;\n        }   \n    }\n    \n    \n\n    public static void main(String[] args) {\n        \n        StrRev obj = new StrRev();\n        obj.reverse(&quot;Java is very cool prog lang&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665950724,"post_id":74046833,"comment_id":130813933,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74046833/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26604131,"reputation":1,"user_id":20225293,"display_name":"rushikesh sarolkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665601262,"creation_date":1665601262,"answer_id":74046833,"question_id":31594537,"body_markdown":"//reverse second word of sentence in java\r\npublic class ReverseSecondWord {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString s=&quot;hello how are you?&quot;;\r\n\t\tString str[]=s.split(&quot; &quot;);\r\n\t\tString rev=&quot;&quot;;\r\n\t\t\r\n\t\tfor(int i=0;i&lt;str[1].length();i++)\r\n\t\t{\r\n\t\tchar ch=str[1].charAt(i);\r\n\t\trev=ch+rev;\r\n\t\t}\t\t\r\n\t\tstr[1]=rev;\t\t\r\n\t\tfor(int i=0;i&lt;str.length;i++)\r\n\t\t{\r\n\t\t\tSystem.out.print(str[i]+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n}","title":"Reverse every 2nd word of a sentence","body":"<p>//reverse second word of sentence in java\npublic class ReverseSecondWord {</p>\n<pre><code>public static void main(String[] args) {\n    \n    String s=&quot;hello how are you?&quot;;\n    String str[]=s.split(&quot; &quot;);\n    String rev=&quot;&quot;;\n    \n    for(int i=0;i&lt;str[1].length();i++)\n    {\n    char ch=str[1].charAt(i);\n    rev=ch+rev;\n    }       \n    str[1]=rev;     \n    for(int i=0;i&lt;str.length;i++)\n    {\n        System.out.print(str[i]+&quot; &quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682678432,"post_id":76116665,"comment_id":134257081,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76116665/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28429938,"reputation":1,"user_id":21750738,"display_name":"jagdeesh kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682678420,"creation_date":1682568431,"answer_id":76116665,"question_id":31594537,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Reverse_alternate_word {\r\n    public static String reverseWord(String str){  // input :  my name is rohit\r\n        char ch;                                   // output : my eman is tihor\r\n        String rev=&quot;&quot;;\r\n\r\n        for(int i=0; i&lt;str.length(); i++){\r\n             ch = str.charAt(i);\r\n             rev =ch + rev;\r\n        }\r\n        return  rev;\r\n    }\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        String sentence=sc.nextLine();\r\n\r\n        int count = 0;\r\n        String arr[] = sentence.split(&quot; &quot;);\r\n        for(int i=0; i&lt; arr.length; i++)\r\n        {\r\n            if(i%2==1){\r\n               String rev_word= reverseWord(arr[i]);\r\n                System.out.print(rev_word+&quot; &quot;);\r\n            }else{\r\n                System.out.print(arr[i]+&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Reverse every 2nd word of a sentence","body":"<pre><code>import java.util.Scanner;\n\npublic class Reverse_alternate_word {\n    public static String reverseWord(String str){  // input :  my name is rohit\n        char ch;                                   // output : my eman is tihor\n        String rev=&quot;&quot;;\n\n        for(int i=0; i&lt;str.length(); i++){\n             ch = str.charAt(i);\n             rev =ch + rev;\n        }\n        return  rev;\n    }\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String sentence=sc.nextLine();\n\n        int count = 0;\n        String arr[] = sentence.split(&quot; &quot;);\n        for(int i=0; i&lt; arr.length; i++)\n        {\n            if(i%2==1){\n               String rev_word= reverseWord(arr[i]);\n                System.out.print(rev_word+&quot; &quot;);\n            }else{\n                System.out.print(arr[i]+&quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user4274413"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9548,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31594906,"answer_count":7,"score":0,"last_activity_date":1682678420,"creation_date":1437673375,"question_id":31594537,"body_markdown":"I am trying to reverse every 2nd words of every single sentence like\r\n\r\nIf a given string is : \r\n\r\n    My name is xyz\r\n\r\nThe desired output should be : \r\n\r\n    My eman is zyx\r\n\r\nMy current output is:\r\n\r\n    Ym eman s1 zyx\r\n\r\nI am not able to achieve my desired output.Don&#39;t know what I am doing wrong here\r\n\r\nHere is my code\r\n\r\n        char[] sentence = &quot;  Hi my name is person!&quot;.toCharArray();\r\n        System.out.println(ReverseSentence(sentence));\r\n\r\n    }\r\n    private static char[] ReverseSentence(char[] sentence)\r\n    {\r\n        //Given: &quot;Hi my name is person!&quot;\r\n        //produce: &quot;iH ym eman si !nosrep&quot;\r\n\r\n        if(sentence == null) return null;\r\n        if(sentence.length == 1) return sentence;\r\n\r\n        int startPosition=0;\r\n        int counter = 0;\r\n        int sentenceLength = sentence.length-1;\r\n\r\n        //Solution handles any amount of spaces before, between words etc...\r\n\r\n        while(counter &lt;= sentenceLength)\r\n        {\r\n            if(sentence[counter] == &#39; &#39; &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\r\n            {\r\n                //swap from startPos to counter - 1\r\n                //set start position to -1 and increment counter\r\n                int begin = startPosition;\r\n\r\n                int end;\r\n                if(sentenceLength == counter)\r\n                {\r\n                    end = counter;\r\n                }\r\n                else\r\n                    end = counter -1;\r\n                char tmp;\r\n\r\n                //Reverse characters\r\n                while(end &gt;= begin){\r\n\r\n                    tmp = sentence[begin];\r\n                    sentence[begin] = sentence[end];\r\n                    sentence[end] = tmp;\r\n\r\n                    end--; begin++;\r\n\r\n                }\r\n\r\n                startPosition = -1; //flag used to indicate we have no encountered a character of a string\r\n\r\n\r\n            }\r\n\r\n            else if(sentence[counter] !=&#39; &#39; &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\r\n            {\r\n                startPosition = counter;\r\n            }\r\n\r\n            counter++;\r\n        }\r\n\r\n        return sentence;\r\n    }","title":"Reverse every 2nd word of a sentence","body":"<p>I am trying to reverse every 2nd words of every single sentence like</p>\n\n<p>If a given string is : </p>\n\n<pre><code>My name is xyz\n</code></pre>\n\n<p>The desired output should be : </p>\n\n<pre><code>My eman is zyx\n</code></pre>\n\n<p>My current output is:</p>\n\n<pre><code>Ym eman s1 zyx\n</code></pre>\n\n<p>I am not able to achieve my desired output.Don't know what I am doing wrong here</p>\n\n<p>Here is my code</p>\n\n<pre><code>    char[] sentence = \"  Hi my name is person!\".toCharArray();\n    System.out.println(ReverseSentence(sentence));\n\n}\nprivate static char[] ReverseSentence(char[] sentence)\n{\n    //Given: \"Hi my name is person!\"\n    //produce: \"iH ym eman si !nosrep\"\n\n    if(sentence == null) return null;\n    if(sentence.length == 1) return sentence;\n\n    int startPosition=0;\n    int counter = 0;\n    int sentenceLength = sentence.length-1;\n\n    //Solution handles any amount of spaces before, between words etc...\n\n    while(counter &lt;= sentenceLength)\n    {\n        if(sentence[counter] == ' ' &amp;&amp; startPosition != -1 || sentenceLength == counter) //Have passed over a word so upon encountering a space or end of string reverse word\n        {\n            //swap from startPos to counter - 1\n            //set start position to -1 and increment counter\n            int begin = startPosition;\n\n            int end;\n            if(sentenceLength == counter)\n            {\n                end = counter;\n            }\n            else\n                end = counter -1;\n            char tmp;\n\n            //Reverse characters\n            while(end &gt;= begin){\n\n                tmp = sentence[begin];\n                sentence[begin] = sentence[end];\n                sentence[end] = tmp;\n\n                end--; begin++;\n\n            }\n\n            startPosition = -1; //flag used to indicate we have no encountered a character of a string\n\n\n        }\n\n        else if(sentence[counter] !=' ' &amp;&amp; startPosition == -1) //first time you encounter a letter in a word set the start position\n        {\n            startPosition = counter;\n        }\n\n        counter++;\n    }\n\n    return sentence;\n}\n</code></pre>\n"},{"tags":["java","if-statement","lambda","refactoring"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682649032,"post_id":76125228,"comment_id":134252518,"body_markdown":"The best way to do deal with this is to make sure the List is never null in the first place.  null is a poison value that should never occur in code under normal circumstances.  null definitely should never be used as a synonym for an empty collection, array, or Map.","body":"The best way to do deal with this is to make sure the List is never null in the first place.  null is a poison value that should never occur in code under normal circumstances.  null definitely should never be used as a synonym for an empty collection, array, or Map."}],"answers":[{"comments":[{"owner":{"account_id":27813651,"reputation":13,"user_id":21235535,"display_name":"OptimusPrime98"},"score":0,"creation_date":1682637819,"post_id":76125236,"comment_id":134251416,"body_markdown":"Thanks man, it works, but I have another one question - How to modify this when list will be as field of Object? Object object = new Object(List&lt;String&gt; list) and I would like to check if that objct is not null on start?","body":"Thanks man, it works, but I have another one question - How to modify this when list will be as field of Object? Object object = new Object(List&lt;String&gt; list) and I would like to check if that objct is not null on start?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1682637928,"post_id":76125236,"comment_id":134251424,"body_markdown":"@OptimusPrime98 You could throw an exception by using `Objects.requireNonNull` in the constructor of your class.","body":"@OptimusPrime98 You could throw an exception by using <code>Objects.requireNonNull</code> in the constructor of your class."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682678049,"post_id":76125236,"comment_id":134256992,"body_markdown":"I think using the original code with the if is preferable over using `Optional` here (it is simpler and easier to understand, and likely more performant).","body":"I think using the original code with the if is preferable over using <code>Optional</code> here (it is simpler and easier to understand, and likely more performant)."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682637066,"creation_date":1682637066,"answer_id":76125236,"question_id":76125228,"body_markdown":"You could use [`.map`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)) and [`.orElse`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#orElse(T)):\r\n\r\n```java\r\nreturn Optional.ofNullable(list).map(l -&gt; StringUtils.join(l, &quot;,&quot;)).orElse(null);\r\n```","title":"How to replace if null for lambda","body":"<p>You could use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>.map</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\"><code>.orElse</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Optional.ofNullable(list).map(l -&gt; StringUtils.join(l, &quot;,&quot;)).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":27813651,"reputation":13,"user_id":21235535,"display_name":"OptimusPrime98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682678020,"creation_date":1682636947,"question_id":76125228,"body_markdown":"How should I use lambda expression to get the same result as &#39;if else&#39; below:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;a&quot;, &quot;b&quot;);\r\n\r\n    if (list == null) {\r\n        return null;\r\n    } else {\r\n        return StringUtils.join(list, &quot;,&quot;);\r\n    }\r\n\r\nOn start I have to check if list is different than null, so:\r\n\r\n    Optional.ofNullable(list)...\r\n\r\nand now I do not know what I should do next","title":"How to replace if null for lambda","body":"<p>How should I use lambda expression to get the same result as 'if else' below:</p>\n<pre><code>List&lt;String&gt; list = List.of(&quot;a&quot;, &quot;b&quot;);\n\nif (list == null) {\n    return null;\n} else {\n    return StringUtils.join(list, &quot;,&quot;);\n}\n</code></pre>\n<p>On start I have to check if list is different than null, so:</p>\n<pre><code>Optional.ofNullable(list)...\n</code></pre>\n<p>and now I do not know what I should do next</p>\n"},{"tags":["java","typescript","express"],"answers":[{"tags":[],"owner":{"account_id":21707196,"reputation":221,"user_id":16019434,"display_name":"Maggie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682677458,"creation_date":1645088325,"answer_id":71155042,"question_id":71120551,"body_markdown":"Eventual implementation can be found [here](https://github.com/balena-labs-research/starter-interface/blob/5cc4965c6caecdad07875942ab209c8092ab6910/expressjs/src/middleware/queueCache.ts), which resolves some bugs in the below.\r\n\r\n---\r\nHere is what I have for now. Would be great to hear about improvements or issues. It is converted to Typescript as it is what I ultimately will be using.\r\n\r\n    import queueCache from &#39;./middleware/queueCache&#39;\r\n\r\n    ...\r\n\r\n    app.locals.cacheTimeout = 3000\r\n\r\n    app.get(&#39;/test&#39;, queueCache, (_req, res) =&gt; {\r\n      res.json({ test: &#39;test&#39; })\r\n    })\r\n    \r\n    app.get(&#39;/test1&#39;, queueCache, (_req, res) =&gt; {\r\n      res.json({ test1: &#39;test1&#39; })\r\n    })\r\n\r\nqueueCache.ts:\r\n\r\n    import { Request, Response, NextFunction } from &#39;express&#39;\r\n    \r\n    interface requestData {\r\n      queueName?: string\r\n      cachedData?: string\r\n      runtime?: number\r\n    }\r\n    \r\n    const cachedItemList = {} as Array&lt;requestData&gt;\r\n    const queue = [] as Array&lt;QueueUnique&gt;\r\n    const requestCache = [] as Array&lt;requestData&gt;\r\n    \r\n    // Class to queue items and cache results\r\n    class QueueUnique {\r\n      func\r\n      q: Promise&lt;unknown&gt;\r\n    \r\n      constructor(\r\n        func: (req: Request, res: Response, next: NextFunction) =&gt; Promise&lt;unknown&gt;\r\n      ) {\r\n        this.func = func\r\n        this.q = Promise.resolve()\r\n      }\r\n    \r\n      add(req: Request, res: Response, next: NextFunction) {\r\n        // Check if the item is already cached\r\n        if (checkCache(req, res)) {\r\n          return\r\n        }\r\n    \r\n        // If not cached, add to queue\r\n        const queuedFunc = this.queue(req, res, next)\r\n        queuedFunc()\r\n      }\r\n    \r\n      queue(req: Request, res: Response, next: NextFunction) {\r\n        return () =&gt; {\r\n          this.q = this.q\r\n            .then(() =&gt; this.func(req, res, next))\r\n            .catch((err) =&gt; {\r\n              console.log(err)\r\n            })\r\n          return this.q\r\n        }\r\n      }\r\n    }\r\n    \r\n    const response = (req: Request, res: Response, next: NextFunction) =&gt; {\r\n      // Do another check to see if item just finished in queue created a useful cache\r\n      return new Promise((resolve) =&gt; {\r\n        if (checkCache(req, res)) {\r\n          resolve(true)\r\n          return\r\n        }\r\n        setTimeout(() =&gt; {\r\n          if (cachedItemList[0].queueName) {\r\n            // Got this far, and cache exists so it must be older than set time, starting new request.\r\n    \r\n            // Return response to user\r\n            res.sendResponse = res.json\r\n            res.json = (body) =&gt; {\r\n              res.sendResponse(body)\r\n              // Find the current item in the request cache\r\n              const arrayIndex = requestCache?.findIndex(\r\n                (itm) =&gt; itm.queueName === req.url\r\n              )\r\n              // Set the time that the request was stored\r\n              requestCache[arrayIndex].runtime = new Date().getTime()\r\n              // Store the body of the response in the cache\r\n              requestCache[arrayIndex].cachedData = body\r\n              return res\r\n            }\r\n          } else {\r\n            // There was no cache\r\n    \r\n            // Return the response to the caller\r\n            res.sendResponse = res.json\r\n            res.json = (body) =&gt; {\r\n              res.sendResponse(body)\r\n              // Only use cache on GET requests. When not GET, this middleware only acts as a queue.\r\n              if (req.method === &#39;GET&#39;) {\r\n                // Check if it is already in cache to avoid duplicates\r\n                // Overcomes an error: https://github.com/expressjs/express/issues/4826\r\n                const arrayIndex = requestCache?.findIndex(\r\n                  (itm) =&gt; itm.queueName === req.url\r\n                )\r\n    \r\n                if (arrayIndex === -1) {\r\n                  requestCache.push({\r\n                    cachedData: body, // Add the new item to the permanent cache\r\n                    queueName: req.url, // Add the request URL to the item for later reference\r\n                    runtime: new Date().getTime() // Add the time the request was made\r\n                  })\r\n                }\r\n              }\r\n              return res\r\n            }\r\n          }\r\n          next()\r\n          resolve(true)\r\n        }, 4000)\r\n      })\r\n    }\r\n    \r\n    function checkCache(req: Request, res: Response) {\r\n      // Fetch all cached items related to the current endpoint queue, which is named after the endpoint url\r\n      cachedItemList[0] =\r\n        requestCache.find((itm) =&gt; itm.queueName === req.url) || {}\r\n    \r\n      // If the current request is within X seconds of the last successful requesst, return the cached version\r\n      if (\r\n        cachedItemList[0].runtime &amp;&amp;\r\n        new Date().getTime() - cachedItemList[0].runtime &lt;\r\n          req.app.locals.cacheTimeout\r\n      ) {\r\n        // Return the cached item to the user\r\n        res.json(cachedItemList[0].cachedData)\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    \r\n    // Create multipule queues, one for each endpoint\r\n    function sortQueues(req: Request, res: Response, next: NextFunction) {\r\n      // Use the endpoint name to create a queue within the queues array\r\n      if (!queue[req.route.path]) {\r\n        queue[req.route.path] = new QueueUnique(response)\r\n      }\r\n      queue[req.route.path].add(req, res, next)\r\n    }\r\n    \r\n    export default sortQueues\r\n\r\n","title":"ExpressJS queue requests","body":"<p>Eventual implementation can be found <a href=\"https://github.com/balena-labs-research/starter-interface/blob/5cc4965c6caecdad07875942ab209c8092ab6910/expressjs/src/middleware/queueCache.ts\" rel=\"nofollow noreferrer\">here</a>, which resolves some bugs in the below.</p>\n<hr />\n<p>Here is what I have for now. Would be great to hear about improvements or issues. It is converted to Typescript as it is what I ultimately will be using.</p>\n<pre><code>import queueCache from './middleware/queueCache'\n\n...\n\napp.locals.cacheTimeout = 3000\n\napp.get('/test', queueCache, (_req, res) =&gt; {\n  res.json({ test: 'test' })\n})\n\napp.get('/test1', queueCache, (_req, res) =&gt; {\n  res.json({ test1: 'test1' })\n})\n</code></pre>\n<p>queueCache.ts:</p>\n<pre><code>import { Request, Response, NextFunction } from 'express'\n\ninterface requestData {\n  queueName?: string\n  cachedData?: string\n  runtime?: number\n}\n\nconst cachedItemList = {} as Array&lt;requestData&gt;\nconst queue = [] as Array&lt;QueueUnique&gt;\nconst requestCache = [] as Array&lt;requestData&gt;\n\n// Class to queue items and cache results\nclass QueueUnique {\n  func\n  q: Promise&lt;unknown&gt;\n\n  constructor(\n    func: (req: Request, res: Response, next: NextFunction) =&gt; Promise&lt;unknown&gt;\n  ) {\n    this.func = func\n    this.q = Promise.resolve()\n  }\n\n  add(req: Request, res: Response, next: NextFunction) {\n    // Check if the item is already cached\n    if (checkCache(req, res)) {\n      return\n    }\n\n    // If not cached, add to queue\n    const queuedFunc = this.queue(req, res, next)\n    queuedFunc()\n  }\n\n  queue(req: Request, res: Response, next: NextFunction) {\n    return () =&gt; {\n      this.q = this.q\n        .then(() =&gt; this.func(req, res, next))\n        .catch((err) =&gt; {\n          console.log(err)\n        })\n      return this.q\n    }\n  }\n}\n\nconst response = (req: Request, res: Response, next: NextFunction) =&gt; {\n  // Do another check to see if item just finished in queue created a useful cache\n  return new Promise((resolve) =&gt; {\n    if (checkCache(req, res)) {\n      resolve(true)\n      return\n    }\n    setTimeout(() =&gt; {\n      if (cachedItemList[0].queueName) {\n        // Got this far, and cache exists so it must be older than set time, starting new request.\n\n        // Return response to user\n        res.sendResponse = res.json\n        res.json = (body) =&gt; {\n          res.sendResponse(body)\n          // Find the current item in the request cache\n          const arrayIndex = requestCache?.findIndex(\n            (itm) =&gt; itm.queueName === req.url\n          )\n          // Set the time that the request was stored\n          requestCache[arrayIndex].runtime = new Date().getTime()\n          // Store the body of the response in the cache\n          requestCache[arrayIndex].cachedData = body\n          return res\n        }\n      } else {\n        // There was no cache\n\n        // Return the response to the caller\n        res.sendResponse = res.json\n        res.json = (body) =&gt; {\n          res.sendResponse(body)\n          // Only use cache on GET requests. When not GET, this middleware only acts as a queue.\n          if (req.method === 'GET') {\n            // Check if it is already in cache to avoid duplicates\n            // Overcomes an error: https://github.com/expressjs/express/issues/4826\n            const arrayIndex = requestCache?.findIndex(\n              (itm) =&gt; itm.queueName === req.url\n            )\n\n            if (arrayIndex === -1) {\n              requestCache.push({\n                cachedData: body, // Add the new item to the permanent cache\n                queueName: req.url, // Add the request URL to the item for later reference\n                runtime: new Date().getTime() // Add the time the request was made\n              })\n            }\n          }\n          return res\n        }\n      }\n      next()\n      resolve(true)\n    }, 4000)\n  })\n}\n\nfunction checkCache(req: Request, res: Response) {\n  // Fetch all cached items related to the current endpoint queue, which is named after the endpoint url\n  cachedItemList[0] =\n    requestCache.find((itm) =&gt; itm.queueName === req.url) || {}\n\n  // If the current request is within X seconds of the last successful requesst, return the cached version\n  if (\n    cachedItemList[0].runtime &amp;&amp;\n    new Date().getTime() - cachedItemList[0].runtime &lt;\n      req.app.locals.cacheTimeout\n  ) {\n    // Return the cached item to the user\n    res.json(cachedItemList[0].cachedData)\n    return true\n  } else {\n    return false\n  }\n}\n\n// Create multipule queues, one for each endpoint\nfunction sortQueues(req: Request, res: Response, next: NextFunction) {\n  // Use the endpoint name to create a queue within the queues array\n  if (!queue[req.route.path]) {\n    queue[req.route.path] = new QueueUnique(response)\n  }\n  queue[req.route.path].add(req, res, next)\n}\n\nexport default sortQueues\n</code></pre>\n"}],"owner":{"account_id":21707196,"reputation":221,"user_id":16019434,"display_name":"Maggie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71155042,"answer_count":1,"score":0,"last_activity_date":1682677458,"creation_date":1644893067,"question_id":71120551,"body_markdown":"I am looking to queue requests to ExpressJs so that only one request is processed on an endpoint at a time. I have found some examples of this: https://stackoverflow.com/questions/36083121/expressjs-backend-put-requests-into-a-queue\r\n\r\nIt seems though they require a separate function for each endpoint. I am trying to create one function that allows me to pass a queue name, and then stack items in the specified queues. \r\n\r\nIt is an API listening for requests, and upon receiving one will then execute a request to another online API before relaying the result back to the user through the original express endpoint. Ultimately I will then look to add some very basic caching for each endpoint, just to store a short JSON string for 3 seconds before expiring. That way it returns the cached string within the 3 second limit rather than fetch the data again from online. \r\n\r\nHere is as far as I got, I would be curious to hear if there are better ways:\r\n\r\n    //UI request -&gt; check cache -&gt; return response || call request then return response\r\n    \r\n    // Queue items on endpoint\r\n    class QueueUnique {\r\n      func;\r\n      q;\r\n      requestCache = [];\r\n    \r\n      constructor(func) {\r\n        this.q = Promise.resolve();\r\n        this.func = func;\r\n      }\r\n    \r\n      add(request) {\r\n        // Fetch all cached items related to the current endpoint queue\r\n        const cachedItem = this.requestCache.find(\r\n          (itm) =&gt; itm.queueName === request.queueName\r\n        );\r\n        // If the current request is within X seconds of the last successful requesst, return the cache\r\n        // otherwise make a new request\r\n        if (cachedItem &amp;&amp; new Date().getTime() - cachedItem.runtime &gt; 3000) {\r\n          console.log(\r\n            &quot;Cache is over 3 seconds old. Doing new request. Queue name: &quot; +\r\n              request.queueName\r\n            // no cahe, forward request:\r\n            //seperate this in to function\r\n            //res.sendResponse = res.send\r\n            // res.send = (body) =&gt; {\r\n            //  request.body = body\r\n            //  this.updateCache(request);\r\n            // res.sendResponse(body)\r\n            //}\r\n            //next()\r\n          );\r\n          this.updateCache(request);\r\n        } else if (cachedItem) {\r\n          console.log(&quot;Valid cache, return cache&quot;);\r\n          // res.send(request.body)\r\n          this.updateCache(request);\r\n        } else {\r\n          console.log(&quot;no cache&quot;);\r\n          //continue as normal as if no cache\r\n          // no cahe, forward request: Same as first run\r\n          this.addToCache(request);\r\n        }\r\n    \r\n        // Do I need to use await before setting datetime?\r\n    \r\n        //then cache\r\n    \r\n        // Set the current time as a value in the item Array\r\n        request.runtime = new Date().getTime();\r\n    \r\n        const queuedFunc = this.queue(request);\r\n        queuedFunc();\r\n      }\r\n    \r\n      addToCache(request) {\r\n        // Add the new item to the permanent cache\r\n        this.requestCache.push(request);\r\n      }\r\n    \r\n      updateCache(request) {\r\n        // Update the permanent request cache entry\r\n        const arrayIndex = this.requestCache.findIndex(\r\n          (itm) =&gt; itm.queueName === request.queueName\r\n        );\r\n        this.requestCache[arrayIndex] = request;\r\n      }\r\n    \r\n      queue(item) {\r\n        return () =&gt; {\r\n          this.q = this.q\r\n            .then(() =&gt; this.func(item))\r\n            .catch((err) =&gt; {\r\n              console.log(err);\r\n            });\r\n          return this.q;\r\n        };\r\n      }\r\n    }\r\n    \r\n    const response = (item) =&gt; {\r\n      return new Promise((resolve) =&gt; {\r\n        setTimeout(() =&gt; {\r\n          console.log(&quot;say&quot;, item.payload);\r\n          resolve();\r\n        }, item.delay);\r\n      });\r\n    };\r\n    \r\n    const queue = [];\r\n    function test(bar, payload) {\r\n      if (!queue[bar]) {\r\n        queue[bar] = new QueueUnique(response);\r\n      }\r\n      queue[bar].add(payload);\r\n      console.log(queue);\r\n      return queue;\r\n    }\r\n    \r\n    test(&quot;te&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;one&quot;,\r\n      delay: 3000,\r\n    });\r\n    \r\n    test(&quot;te&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;one&quot;,\r\n      delay: 3000,\r\n    });\r\n    \r\n    test(&quot;te&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;one&quot;,\r\n      delay: 3000,\r\n    });\r\n    \r\n    test(&quot;te2&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;two&quot;,\r\n      delay: 1000,\r\n    });\r\n    \r\n    test(&quot;te2&quot;, {\r\n      queueName: &quot;ping&quot;,\r\n      payload: &quot;two&quot;,\r\n      delay: 1000,\r\n    });\r\n\r\n\r\n","title":"ExpressJS queue requests","body":"<p>I am looking to queue requests to ExpressJs so that only one request is processed on an endpoint at a time. I have found some examples of this: <a href=\"https://stackoverflow.com/questions/36083121/expressjs-backend-put-requests-into-a-queue\">ExpressJS backend put requests into a queue</a></p>\n<p>It seems though they require a separate function for each endpoint. I am trying to create one function that allows me to pass a queue name, and then stack items in the specified queues.</p>\n<p>It is an API listening for requests, and upon receiving one will then execute a request to another online API before relaying the result back to the user through the original express endpoint. Ultimately I will then look to add some very basic caching for each endpoint, just to store a short JSON string for 3 seconds before expiring. That way it returns the cached string within the 3 second limit rather than fetch the data again from online.</p>\n<p>Here is as far as I got, I would be curious to hear if there are better ways:</p>\n<pre><code>//UI request -&gt; check cache -&gt; return response || call request then return response\n\n// Queue items on endpoint\nclass QueueUnique {\n  func;\n  q;\n  requestCache = [];\n\n  constructor(func) {\n    this.q = Promise.resolve();\n    this.func = func;\n  }\n\n  add(request) {\n    // Fetch all cached items related to the current endpoint queue\n    const cachedItem = this.requestCache.find(\n      (itm) =&gt; itm.queueName === request.queueName\n    );\n    // If the current request is within X seconds of the last successful requesst, return the cache\n    // otherwise make a new request\n    if (cachedItem &amp;&amp; new Date().getTime() - cachedItem.runtime &gt; 3000) {\n      console.log(\n        &quot;Cache is over 3 seconds old. Doing new request. Queue name: &quot; +\n          request.queueName\n        // no cahe, forward request:\n        //seperate this in to function\n        //res.sendResponse = res.send\n        // res.send = (body) =&gt; {\n        //  request.body = body\n        //  this.updateCache(request);\n        // res.sendResponse(body)\n        //}\n        //next()\n      );\n      this.updateCache(request);\n    } else if (cachedItem) {\n      console.log(&quot;Valid cache, return cache&quot;);\n      // res.send(request.body)\n      this.updateCache(request);\n    } else {\n      console.log(&quot;no cache&quot;);\n      //continue as normal as if no cache\n      // no cahe, forward request: Same as first run\n      this.addToCache(request);\n    }\n\n    // Do I need to use await before setting datetime?\n\n    //then cache\n\n    // Set the current time as a value in the item Array\n    request.runtime = new Date().getTime();\n\n    const queuedFunc = this.queue(request);\n    queuedFunc();\n  }\n\n  addToCache(request) {\n    // Add the new item to the permanent cache\n    this.requestCache.push(request);\n  }\n\n  updateCache(request) {\n    // Update the permanent request cache entry\n    const arrayIndex = this.requestCache.findIndex(\n      (itm) =&gt; itm.queueName === request.queueName\n    );\n    this.requestCache[arrayIndex] = request;\n  }\n\n  queue(item) {\n    return () =&gt; {\n      this.q = this.q\n        .then(() =&gt; this.func(item))\n        .catch((err) =&gt; {\n          console.log(err);\n        });\n      return this.q;\n    };\n  }\n}\n\nconst response = (item) =&gt; {\n  return new Promise((resolve) =&gt; {\n    setTimeout(() =&gt; {\n      console.log(&quot;say&quot;, item.payload);\n      resolve();\n    }, item.delay);\n  });\n};\n\nconst queue = [];\nfunction test(bar, payload) {\n  if (!queue[bar]) {\n    queue[bar] = new QueueUnique(response);\n  }\n  queue[bar].add(payload);\n  console.log(queue);\n  return queue;\n}\n\ntest(&quot;te&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;one&quot;,\n  delay: 3000,\n});\n\ntest(&quot;te&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;one&quot;,\n  delay: 3000,\n});\n\ntest(&quot;te&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;one&quot;,\n  delay: 3000,\n});\n\ntest(&quot;te2&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;two&quot;,\n  delay: 1000,\n});\n\ntest(&quot;te2&quot;, {\n  queueName: &quot;ping&quot;,\n  payload: &quot;two&quot;,\n  delay: 1000,\n});\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"comments":[{"owner":{"account_id":27908454,"reputation":11,"user_id":21311149,"display_name":"王海航"},"score":0,"creation_date":1682863063,"post_id":76128584,"comment_id":134278661,"body_markdown":"So basiclly `Function&lt;?,Boolean&gt;` type is equals to `Function&lt;? extend Object,Boolean&gt;`.And when calling the testFunction directly with `demo::b`,the compiler treats it&#39;s type as the `Function&lt;Object,Boolean&gt;`, which is wrong.But the type or signature of `Demo::b` itself is determined, why the compiler can&#39;t cast it automatically.","body":"So basiclly <code>Function&lt;?,Boolean&gt;</code> type is equals to <code>Function&lt;? extend Object,Boolean&gt;</code>.And when calling the testFunction directly with <code>demo::b</code>,the compiler treats it&#39;s type as the <code>Function&lt;Object,Boolean&gt;</code>, which is wrong.But the type or signature of <code>Demo::b</code> itself is determined, why the compiler can&#39;t cast it automatically."},{"owner":{"account_id":27908454,"reputation":11,"user_id":21311149,"display_name":"王海航"},"score":0,"creation_date":1682863672,"post_id":76128584,"comment_id":134278760,"body_markdown":"By automation I mean the compiler found out the `testFunction` takes `Function&lt;? extend Object,Boolean&gt;`   as parameter, and now the parameter cloud match `Function&lt;String,Boolean&gt;`. So the compiler treats `Demo::b` as `Function&lt;String,Boolean&gt;` and cast it.","body":"By automation I mean the compiler found out the <code>testFunction</code> takes <code>Function&lt;? extend Object,Boolean&gt;</code>   as parameter, and now the parameter cloud match <code>Function&lt;String,Boolean&gt;</code>. So the compiler treats <code>Demo::b</code> as <code>Function&lt;String,Boolean&gt;</code> and cast it."}],"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682676952,"creation_date":1682676952,"answer_id":76128584,"question_id":76128414,"body_markdown":"The problem is that `?` is any type. That means, it can be a `Object`, a `String`, a `Boolean`, etc.\r\n\r\nIf you change your test function to the following, it will take your second call.\r\n\r\n    public static void testFunction(Function&lt;? extends String, Boolean&gt; whatever)\r\n\r\nWith `? extends String` you limit the range of the type to `String` and all subclasses, whereas before it was `Object` and every other type.\r\n\r\nAlso you can notice that if you change the method to `private static Boolean b (Object a)`, you can pass it to the method `testFunction` without any changes.\r\n\r\n\r\nIf you call your function with explictly stating the function, you see that it expects an `Object`.\r\n\r\n    testFunction(new Function&lt;Object, Boolean&gt;() {\r\n    \r\n        @Override\r\n        public Boolean apply(Object o) {\r\n            return null;\r\n        }\r\n    });\r\n\r\nSince your method `b` is explictly taking a `String`, you need to make sure that a `String` is passed to the method. \r\n\r\nThis can be done by explictly stating your function (1. call), or casting your function. Another way can be by casting your parameter to `String`, which is passed to the function.\r\n\r\n    testFunction(parameter -&gt; b((String) parameter));\r\n\r\n","title":"the strange java code when using Summarize","body":"<p>The problem is that <code>?</code> is any type. That means, it can be a <code>Object</code>, a <code>String</code>, a <code>Boolean</code>, etc.</p>\n<p>If you change your test function to the following, it will take your second call.</p>\n<pre><code>public static void testFunction(Function&lt;? extends String, Boolean&gt; whatever)\n</code></pre>\n<p>With <code>? extends String</code> you limit the range of the type to <code>String</code> and all subclasses, whereas before it was <code>Object</code> and every other type.</p>\n<p>Also you can notice that if you change the method to <code>private static Boolean b (Object a)</code>, you can pass it to the method <code>testFunction</code> without any changes.</p>\n<p>If you call your function with explictly stating the function, you see that it expects an <code>Object</code>.</p>\n<pre><code>testFunction(new Function&lt;Object, Boolean&gt;() {\n\n    @Override\n    public Boolean apply(Object o) {\n        return null;\n    }\n});\n</code></pre>\n<p>Since your method <code>b</code> is explictly taking a <code>String</code>, you need to make sure that a <code>String</code> is passed to the method.</p>\n<p>This can be done by explictly stating your function (1. call), or casting your function. Another way can be by casting your parameter to <code>String</code>, which is passed to the function.</p>\n<pre><code>testFunction(parameter -&gt; b((String) parameter));\n</code></pre>\n"}],"owner":{"account_id":27908454,"reputation":11,"user_id":21311149,"display_name":"王海航"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682676952,"creation_date":1682675959,"question_id":76128414,"body_markdown":"I have a code block listed below:\r\n```\r\npublic class {\r\n    private static Boolean b (String a){\r\n            return false;\r\n    }\r\n    public static void testFunction(Function&lt;?,Boolean&gt; whatever){\r\n\r\n    }\r\n    public void test() {\r\n        Function&lt;String, Boolean&gt; noUse = Demo::b;\r\n        testFunction(noUse);\r\n\r\n\r\n        testFunction((Function&lt;String,Boolean&gt;)Demo::b);\r\n        //why it&#39;s wrong\r\n        testFunction(Demo::b);\r\n    }\r\n}\r\n```\r\nI&#39;m confused by `testFunction(Demo::b)`. \r\nIt&#39;s obvious that function b has signature `Boolean(String)` which exactly matches `Function&lt;?, Boolean&gt;` due to convarint. And `Function&lt;String, Boolean&gt; noUse = Demo::b` proves this. \r\nBut why the statement is wrong `testFunction(Demo::b)` ?\r\n\r\n\r\nI have searched it in google and chatgpt. But I can&#39;t summarize it quite well.","title":"the strange java code when using Summarize","body":"<p>I have a code block listed below:</p>\n<pre><code>public class {\n    private static Boolean b (String a){\n            return false;\n    }\n    public static void testFunction(Function&lt;?,Boolean&gt; whatever){\n\n    }\n    public void test() {\n        Function&lt;String, Boolean&gt; noUse = Demo::b;\n        testFunction(noUse);\n\n\n        testFunction((Function&lt;String,Boolean&gt;)Demo::b);\n        //why it's wrong\n        testFunction(Demo::b);\n    }\n}\n</code></pre>\n<p>I'm confused by <code>testFunction(Demo::b)</code>.\nIt's obvious that function b has signature <code>Boolean(String)</code> which exactly matches <code>Function&lt;?, Boolean&gt;</code> due to convarint. And <code>Function&lt;String, Boolean&gt; noUse = Demo::b</code> proves this.\nBut why the statement is wrong <code>testFunction(Demo::b)</code> ?</p>\n<p>I have searched it in google and chatgpt. But I can't summarize it quite well.</p>\n"},{"tags":["java","mysql","eclipse","servlets","thymeleaf"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1682688897,"post_id":76128573,"comment_id":134259417,"body_markdown":"Have you tried using a real debugger in an IDE? It might help you to understand to flow of the programm better","body":"Have you tried using a real debugger in an IDE? It might help you to understand to flow of the programm better"},{"owner":{"account_id":28444001,"reputation":1,"user_id":21762976,"display_name":"Francesco Vinci"},"score":0,"creation_date":1682804378,"post_id":76128573,"comment_id":134273654,"body_markdown":"In eclipse, i can’t debug with tomcat. I can only run my webapp on server. Have you some advice for debugging a web application?","body":"In eclipse, i can’t debug with tomcat. I can only run my webapp on server. Have you some advice for debugging a web application?"}],"owner":{"account_id":28444001,"reputation":1,"user_id":21762976,"display_name":"Francesco Vinci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682676889,"creation_date":1682676889,"question_id":76128573,"body_markdown":"this is my first question here.\r\nI created a login form that check login username and password from a database.\r\n\r\n\r\nI don&#39;t understand why when i put right username and password (&quot;ok&quot;, &quot;ok&quot;) and click submit, the page is refreshed, but do nothing. I try to write some sendError message for &quot;debugging&quot; and no one of these is shown.\r\nI hope someone can help me :)\r\nP.S. thymeleaf tags are commented because they do not work and i have to understand why, but it&#39;s a secondary problem.\r\n\r\n\r\nGoToPlaylistPage.java\r\n~~~\r\n@WebServlet(&quot;/GoToPlaylistPage&quot;)\r\npublic class GoToPlaylistPage extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate TemplateEngine templateEngine;\r\n\tprivate Connection connection = null;\r\n\r\n\r\n\tpublic GoToPlaylistPage() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic void init() throws ServletException {\r\n\t\ttry {\r\n\t\t\tServletContext context = getServletContext();\r\n\t\t\tString driver = context.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\tString url = context.getInitParameter(&quot;dbUrl&quot;);\r\n\t\t\tString user = context.getInitParameter(&quot;dbUser&quot;);\r\n\t\t\tString password = context.getInitParameter(&quot;dbPassword&quot;);\r\n\t\t\tClass.forName(driver);\r\n\t\t\tconnection = DriverManager.getConnection(url, user, password);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Can&#39;t load database driver&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Couldn&#39;t get db connection&quot;);\r\n\t\t}\r\n\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\t\tthis.templateEngine = new TemplateEngine();\r\n\t\tthis.templateEngine.setTemplateResolver(templateResolver);\r\n\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\t}\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tHttpSession session = request.getSession(true);\r\n\t\tString path = &quot;&quot;;\t\t\r\n\t\tif(session.isNew() || session.getAttribute(&quot;user&quot;)==null) {\r\n\t\t\tpath=&quot;LoginPage.html&quot;;\r\n\t\t\tresponse.sendRedirect(path);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tString ctxpath = getServletContext().getContextPath();\r\n\t\t\tpath = ctxpath + &quot;/getPlaylist&quot;;\r\n\t\t\tresponse.sendRedirect(path);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\t\r\n\t@Override\r\n\tpublic void destroy() {\r\n\t\tif (connection != null) {\r\n\t\t\ttry {\r\n\t\t\t\tconnection.close();\r\n\t\t\t} catch (SQLException e){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n~~~\r\n\r\nLoginPage.html\r\n~~~\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Login Page&lt;/title&gt;\r\n&lt;!-- &lt;link th:href=&quot;@{/css/style.css}&quot; rel=&quot;stylesheet&quot;&gt; --&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt; \r\n    &lt;div class=&quot;container&quot;&gt;\r\n      &lt;div class=&quot;wrapper&quot;&gt;\r\n        &lt;div class=&quot;title&quot;&gt;&lt;span&gt;Use this form if you&#39;re already registered to musical playlist web application&lt;/span&gt;&lt;/div&gt;\r\n\t        &lt;form th:action=&quot;@{/checkLogin}&quot; method=&quot;post&quot;&gt;\r\n\t          \t&lt;div class=&quot;row&quot;&gt;\r\n\t           \r\n\t            \tUsername &lt;input type=&quot;text&quot; name=&quot;username&quot; required autofocus&gt;\r\n\t          \t&lt;/div&gt;\r\n\t          \t&lt;div class=&quot;row&quot;&gt;\r\n\t            \tPassword &lt;input type=&quot;password&quot; name=&quot;password&quot; required&gt;\r\n\t          \t&lt;/div&gt;\r\n\t          \t&lt;!-- p th:text=${missing==true} ? &#39;Both Username and Password required&#39;&gt;&lt;/p&gt;\r\n\t          \t&lt;p th:if=&quot;${invalid==true}&quot;&gt;Wrong Username or Password&lt;/p&gt;--&gt;\r\n\t          \t&lt;div class=&quot;row button&quot;&gt;\r\n\t            \t&lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\r\n\t          \t&lt;/div&gt;\r\n\t          \t&lt;div&gt;If you&#39;re not registered, please sign up &lt;a href=&quot;RegisterPage.html&quot;&gt;here&lt;/a&gt;&lt;/div&gt;\r\n\t        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n~~~\r\n\r\nCheckLogin.java\r\n~~~\r\n/**\r\n * Servlet implementation class CheckLogin\r\n */\r\n@WebServlet(&quot;/checkLogin&quot;)\r\npublic class CheckLogin extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate TemplateEngine templateEngine;\r\n\tprivate Connection connection = null;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public CheckLogin() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n    \r\n    \r\n    public void init() throws ServletException {\r\n\t\ttry {\r\n\t\t\tServletContext context = getServletContext();\r\n\t\t\tString driver = context.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\tString url = context.getInitParameter(&quot;dbUrl&quot;);\r\n\t\t\tString user = context.getInitParameter(&quot;dbUser&quot;);\r\n\t\t\tString password = context.getInitParameter(&quot;dbPassword&quot;);\r\n\t\t\tClass.forName(driver);\r\n\t\t\tconnection = DriverManager.getConnection(url, user, password);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Can&#39;t load database driver&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Couldn&#39;t get db connection&quot;);\r\n\t\t}\r\n\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\t\tthis.templateEngine = new TemplateEngine();\r\n\t\tthis.templateEngine.setTemplateResolver(templateResolver);\r\n\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\t}\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n    @Override\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tString username = request.getParameter(&quot;username&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\tString path=&quot;&quot;;\r\n\t\tboolean missing=false, invalid=false;\r\n\t\tHttpSession session=request.getSession();\r\n\t\tUser user=null;\r\n\t\tUserDAO userDAO = new UserDAO(connection);\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tfinal WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\r\n\t\tif(username == null || password == null) {\r\n\t\t\tmissing=true;\r\n\t\t\tctx.setVariable(&quot;missing&quot;, missing);\r\n\t\t\tsession.invalidate();\r\n\t\t\tpath=&quot;/WEB-INF/LoginPage.html&quot;;\r\n\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if user, pass null&quot;);\r\n\t\t\ttemplateEngine.process(path, ctx, response.getWriter());\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttry {\r\n\t\t\t\tuser=userDAO.checkCredentials(username, password);\r\n\t\t\t\tif(user==null) {\r\n\t\t\t\t\tinvalid=true;\r\n\t\t\t\t\tsession.invalidate();\r\n\t\t\t\t\tctx.setVariable(&quot;invalid&quot;, invalid);\r\n\t\t\t\t\tpath=&quot;/WEB-INF/LoginPage.html&quot;;\r\n\t\t\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if no user&quot;);\r\n\t\t\t\t\ttemplateEngine.process(path, ctx, response.getWriter());\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\tsession.setAttribute(&quot;user&quot;, user);\r\n\t\t\t\t\tString ctxpath = getServletContext().getContextPath();\r\n\t\t\t\t\tpath = ctxpath + &quot;/goToPlaylistPage&quot;;\r\n\t\t\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;indirizzo verso la pagina GoToPlaylist&quot;);\r\n\t\t\t\t\tresponse.sendRedirect(path);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}catch(SQLException e) {\r\n\t\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed1&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n~~~\r\n\r\nGetPlaylist.java\r\n~~~\r\n/**\r\n * Servlet implementation class GetPlaylist\r\n */\r\n@WebServlet(&quot;/getPlaylist&quot;)\r\npublic class GetPlaylist extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate Connection connection=null;\r\n\tprivate TemplateEngine templateEngine;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public GetPlaylist() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n    \r\n    public void init() throws ServletException {\r\n\t\ttry {\r\n\t\t\tServletContext context = getServletContext();\r\n\t\t\tString driver = context.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\tString url = context.getInitParameter(&quot;dbUrl&quot;);\r\n\t\t\tString user = context.getInitParameter(&quot;dbUser&quot;);\r\n\t\t\tString password = context.getInitParameter(&quot;dbPassword&quot;);\r\n\t\t\tClass.forName(driver);\r\n\t\t\tconnection = DriverManager.getConnection(url, user, password);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Can&#39;t load database driver&quot;);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnavailableException(&quot;Couldn&#39;t get db connection&quot;);\r\n\t\t}\r\n\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\r\n\t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\t\tthis.templateEngine = new TemplateEngine();\r\n\t\tthis.templateEngine.setTemplateResolver(templateResolver);\r\n\t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tList&lt;Playlist&gt; playlists = null;\r\n\t\tPlaylistDAO pdao = new PlaylistDAO(connection);\r\n\t\tHttpSession session = request.getSession(true);\r\n\t\tString path=&quot;/WEB-INF/Home.html&quot;;\r\n\t\tServletContext servletContext = getServletContext();\r\n\t\tfinal WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\r\n\t\ttry {\r\n\t\tplaylists = pdao.getPlaylists((User)session.getAttribute(&quot;user&quot;));\r\n\t\tctx.setVariable(&quot;ownerPlaylists&quot;, playlists);\r\n\t\ttemplateEngine.process(path, ctx, response.getWriter());\r\n\t\t}catch(SQLException e) {\r\n\t\t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed3&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\r\n}\r\n~~~\r\n\r\nPlaylistDAO.java\r\n~~~\r\npublic class PlaylistDAO {\r\n\tprivate Connection connection;\r\n\t\r\n\tpublic PlaylistDAO() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic PlaylistDAO(Connection con) {\r\n\t\tthis.connection = con;\r\n\t}\r\n\t\r\n\tpublic List&lt;Playlist&gt; getPlaylists(User user)throws SQLException{\r\n\t\tList&lt;Playlist&gt; p = new ArrayList&lt;Playlist&gt;();\r\n\t\tString query = &quot;SELECT * FROM playlist WHERE Creator = ?&quot;;\r\n\t\tResultSet result = null;\r\n\t\tPreparedStatement pstatement = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, user.getUsername());\r\n\t\t\tresult=pstatement.executeQuery();\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\tPlaylist pl = new Playlist();\r\n\t\t\t\tpl.setId(result.getInt(&quot;ID&quot;));\r\n\t\t\t\tpl.setOwner(result.getString(&quot;Creator&quot;));\r\n\t\t\t\tpl.setTitle(result.getString(&quot;Title&quot;));\r\n\t\t\t\tpl.setDate(result.getString(&quot;Date&quot;));\r\n\t\t\t\tp.add(pl);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tresult.close();\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\tthrow new SQLException(e1);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn p;\r\n\t}\r\n}\r\n~~~\r\n\r\nUserDAO.java\r\n\r\n~~~\r\npublic class UserDAO {\r\n\tprivate Connection connection;\r\n\r\n\tpublic UserDAO() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic UserDAO(Connection con) {\r\n\t\tthis.connection = con;\r\n\t}\r\n\t\r\n\tpublic User checkCredentials(String u, String p)throws SQLException {\r\n\t\tUser user = null;\r\n\t\tString query = &quot;SELECT * FROM user WHERE username = ? and password = ?&quot;;\r\n\t\tResultSet result = null;\r\n\t\tPreparedStatement pstatement = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, u);\r\n\t\t\tpstatement.setString(2, p);\r\n\t\t\tresult=pstatement.executeQuery();\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\tuser= new User();\r\n\t\t\t\tuser.setUsername(result.getString(&quot;username&quot;));\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tresult.close();\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\tthrow new SQLException(e1);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn user;\r\n\t}\r\n\t\r\n\tpublic boolean existingUsername(String u)throws SQLException {\r\n\t\tString query = &quot;SELECT * FROM user WHERE username = ?&quot;;\r\n\t\tResultSet result = null;\r\n\t\tPreparedStatement pstatement = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, u);\r\n\t\t\tresult=pstatement.executeQuery();\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tresult.close();\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\tthrow new SQLException(e1);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tpublic User registerNewUser(String u, String p) throws SQLException{\r\n\t\tString query = &quot;INSERT INTO user (Username, Password) VALUES (&#39;?&#39;,&#39;?&#39;)&quot;;\r\n\t\tint n;\r\n\t\tUser user = new User();\r\n\t\tconnection.setAutoCommit(false);\r\n\t\tPreparedStatement pstatement = null;\r\n\t\ttry {\r\n\t\t\tpstatement = connection.prepareStatement(query);\r\n\t\t\tpstatement.setString(1, u);\r\n\t\t\tpstatement.setString(2, p);\r\n\t\t\tn=pstatement.executeUpdate();\r\n\t\t\tconnection.commit();\r\n\t\t\tconnection.setAutoCommit(true);\r\n\t\t\tif(n==1) {\r\n\t\t\t\tuser.setUsername(u);\r\n\t\t\t\treturn user;\r\n\t\t\t}\r\n\t\t\telse return null;\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t\tconnection.rollback();\r\n\t\t    e.printStackTrace();\r\n\t\t\tthrow new SQLException(e);\r\n\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tpstatement.close();\r\n\t\t\t} catch (Exception e2) {\r\n\t\t\t\tthrow new SQLException(e2);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n}\r\n~~~\r\n\r\nweb.xml\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n\tversion=&quot;4.0&quot;&gt;\r\n\t&lt;display-name&gt;TIW_Bom&lt;/display-name&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbUrl&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;jdbc:mysql://localhost:3306/tiw_project_playlist?serverTimezone=UTC&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbUser&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;root&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbPassword&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;rootPassword&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;dbDriver&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;com.mysql.cj.jdbc.Driver&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;welcome-file-list&gt;\r\n\t\t&lt;welcome-file&gt;GoToPlaylistPage&lt;/welcome-file&gt;\r\n\t&lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n~~~\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Login Form thymeleaf (no Spring) does not work","body":"<p>this is my first question here.\nI created a login form that check login username and password from a database.</p>\n<p>I don't understand why when i put right username and password (&quot;ok&quot;, &quot;ok&quot;) and click submit, the page is refreshed, but do nothing. I try to write some sendError message for &quot;debugging&quot; and no one of these is shown.\nI hope someone can help me :)\nP.S. thymeleaf tags are commented because they do not work and i have to understand why, but it's a secondary problem.</p>\n<p>GoToPlaylistPage.java</p>\n<pre><code>@WebServlet(&quot;/GoToPlaylistPage&quot;)\npublic class GoToPlaylistPage extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private TemplateEngine templateEngine;\n    private Connection connection = null;\n\n\n    public GoToPlaylistPage() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public void init() throws ServletException {\n        try {\n            ServletContext context = getServletContext();\n            String driver = context.getInitParameter(&quot;dbDriver&quot;);\n            String url = context.getInitParameter(&quot;dbUrl&quot;);\n            String user = context.getInitParameter(&quot;dbUser&quot;);\n            String password = context.getInitParameter(&quot;dbPassword&quot;);\n            Class.forName(driver);\n            connection = DriverManager.getConnection(url, user, password);\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Can't load database driver&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Couldn't get db connection&quot;);\n        }\n\n        ServletContext servletContext = getServletContext();\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        this.templateEngine = new TemplateEngine();\n        this.templateEngine.setTemplateResolver(templateResolver);\n        templateResolver.setSuffix(&quot;.html&quot;);\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        HttpSession session = request.getSession(true);\n        String path = &quot;&quot;;       \n        if(session.isNew() || session.getAttribute(&quot;user&quot;)==null) {\n            path=&quot;LoginPage.html&quot;;\n            response.sendRedirect(path);\n            return;\n        }\n        else {\n            String ctxpath = getServletContext().getContextPath();\n            path = ctxpath + &quot;/getPlaylist&quot;;\n            response.sendRedirect(path);\n            return;\n        }\n        \n        \n    }\n\n\n    \n    @Override\n    public void destroy() {\n        if (connection != null) {\n            try {\n                connection.close();\n            } catch (SQLException e){\n                \n            }\n        }\n    }\n\n}\n</code></pre>\n<p>LoginPage.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Login Page&lt;/title&gt;\n&lt;!-- &lt;link th:href=&quot;@{/css/style.css}&quot; rel=&quot;stylesheet&quot;&gt; --&gt;\n&lt;/head&gt;\n&lt;body&gt; \n    &lt;div class=&quot;container&quot;&gt;\n      &lt;div class=&quot;wrapper&quot;&gt;\n        &lt;div class=&quot;title&quot;&gt;&lt;span&gt;Use this form if you're already registered to musical playlist web application&lt;/span&gt;&lt;/div&gt;\n            &lt;form th:action=&quot;@{/checkLogin}&quot; method=&quot;post&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n               \n                    Username &lt;input type=&quot;text&quot; name=&quot;username&quot; required autofocus&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    Password &lt;input type=&quot;password&quot; name=&quot;password&quot; required&gt;\n                &lt;/div&gt;\n                &lt;!-- p th:text=${missing==true} ? 'Both Username and Password required'&gt;&lt;/p&gt;\n                &lt;p th:if=&quot;${invalid==true}&quot;&gt;Wrong Username or Password&lt;/p&gt;--&gt;\n                &lt;div class=&quot;row button&quot;&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\n                &lt;/div&gt;\n                &lt;div&gt;If you're not registered, please sign up &lt;a href=&quot;RegisterPage.html&quot;&gt;here&lt;/a&gt;&lt;/div&gt;\n            &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>CheckLogin.java</p>\n<pre><code>/**\n * Servlet implementation class CheckLogin\n */\n@WebServlet(&quot;/checkLogin&quot;)\npublic class CheckLogin extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private TemplateEngine templateEngine;\n    private Connection connection = null;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public CheckLogin() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    \n    \n    public void init() throws ServletException {\n        try {\n            ServletContext context = getServletContext();\n            String driver = context.getInitParameter(&quot;dbDriver&quot;);\n            String url = context.getInitParameter(&quot;dbUrl&quot;);\n            String user = context.getInitParameter(&quot;dbUser&quot;);\n            String password = context.getInitParameter(&quot;dbPassword&quot;);\n            Class.forName(driver);\n            connection = DriverManager.getConnection(url, user, password);\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Can't load database driver&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Couldn't get db connection&quot;);\n        }\n\n        ServletContext servletContext = getServletContext();\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        this.templateEngine = new TemplateEngine();\n        this.templateEngine.setTemplateResolver(templateResolver);\n        templateResolver.setSuffix(&quot;.html&quot;);\n    }\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        String path=&quot;&quot;;\n        boolean missing=false, invalid=false;\n        HttpSession session=request.getSession();\n        User user=null;\n        UserDAO userDAO = new UserDAO(connection);\n        ServletContext servletContext = getServletContext();\n        final WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\n        if(username == null || password == null) {\n            missing=true;\n            ctx.setVariable(&quot;missing&quot;, missing);\n            session.invalidate();\n            path=&quot;/WEB-INF/LoginPage.html&quot;;\n            response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if user, pass null&quot;);\n            templateEngine.process(path, ctx, response.getWriter());\n        }\n        else {\n            try {\n                user=userDAO.checkCredentials(username, password);\n                if(user==null) {\n                    invalid=true;\n                    session.invalidate();\n                    ctx.setVariable(&quot;invalid&quot;, invalid);\n                    path=&quot;/WEB-INF/LoginPage.html&quot;;\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;if no user&quot;);\n                    templateEngine.process(path, ctx, response.getWriter());\n\n                }else {\n                    session.setAttribute(&quot;user&quot;, user);\n                    String ctxpath = getServletContext().getContextPath();\n                    path = ctxpath + &quot;/goToPlaylistPage&quot;;\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;indirizzo verso la pagina GoToPlaylist&quot;);\n                    response.sendRedirect(path);\n                    return;\n                }\n            }catch(SQLException e) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed1&quot;);\n                return;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>GetPlaylist.java</p>\n<pre><code>/**\n * Servlet implementation class GetPlaylist\n */\n@WebServlet(&quot;/getPlaylist&quot;)\npublic class GetPlaylist extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private Connection connection=null;\n    private TemplateEngine templateEngine;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public GetPlaylist() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    \n    public void init() throws ServletException {\n        try {\n            ServletContext context = getServletContext();\n            String driver = context.getInitParameter(&quot;dbDriver&quot;);\n            String url = context.getInitParameter(&quot;dbUrl&quot;);\n            String user = context.getInitParameter(&quot;dbUser&quot;);\n            String password = context.getInitParameter(&quot;dbPassword&quot;);\n            Class.forName(driver);\n            connection = DriverManager.getConnection(url, user, password);\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Can't load database driver&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            throw new UnavailableException(&quot;Couldn't get db connection&quot;);\n        }\n\n        ServletContext servletContext = getServletContext();\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(servletContext);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        this.templateEngine = new TemplateEngine();\n        this.templateEngine.setTemplateResolver(templateResolver);\n        templateResolver.setSuffix(&quot;.html&quot;);\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        List&lt;Playlist&gt; playlists = null;\n        PlaylistDAO pdao = new PlaylistDAO(connection);\n        HttpSession session = request.getSession(true);\n        String path=&quot;/WEB-INF/Home.html&quot;;\n        ServletContext servletContext = getServletContext();\n        final WebContext ctx = new WebContext(request, response, servletContext, request.getLocale());\n        try {\n        playlists = pdao.getPlaylists((User)session.getAttribute(&quot;user&quot;));\n        ctx.setVariable(&quot;ownerPlaylists&quot;, playlists);\n        templateEngine.process(path, ctx, response.getWriter());\n        }catch(SQLException e) {\n            response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Database Acess Failed3&quot;);\n            return;\n        }\n        \n    }\n\n    \n\n}\n</code></pre>\n<p>PlaylistDAO.java</p>\n<pre><code>public class PlaylistDAO {\n    private Connection connection;\n    \n    public PlaylistDAO() {\n        super();\n    }\n    \n    public PlaylistDAO(Connection con) {\n        this.connection = con;\n    }\n    \n    public List&lt;Playlist&gt; getPlaylists(User user)throws SQLException{\n        List&lt;Playlist&gt; p = new ArrayList&lt;Playlist&gt;();\n        String query = &quot;SELECT * FROM playlist WHERE Creator = ?&quot;;\n        ResultSet result = null;\n        PreparedStatement pstatement = null;\n        \n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, user.getUsername());\n            result=pstatement.executeQuery();\n            while(result.next()) {\n                Playlist pl = new Playlist();\n                pl.setId(result.getInt(&quot;ID&quot;));\n                pl.setOwner(result.getString(&quot;Creator&quot;));\n                pl.setTitle(result.getString(&quot;Title&quot;));\n                pl.setDate(result.getString(&quot;Date&quot;));\n                p.add(pl);\n            }\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                result.close();\n            } catch (Exception e1) {\n                throw new SQLException(e1);\n            }\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n        return p;\n    }\n}\n</code></pre>\n<p>UserDAO.java</p>\n<pre><code>public class UserDAO {\n    private Connection connection;\n\n    public UserDAO() {\n        super();\n    }\n\n    public UserDAO(Connection con) {\n        this.connection = con;\n    }\n    \n    public User checkCredentials(String u, String p)throws SQLException {\n        User user = null;\n        String query = &quot;SELECT * FROM user WHERE username = ? and password = ?&quot;;\n        ResultSet result = null;\n        PreparedStatement pstatement = null;\n        \n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, u);\n            pstatement.setString(2, p);\n            result=pstatement.executeQuery();\n            while(result.next()) {\n                user= new User();\n                user.setUsername(result.getString(&quot;username&quot;));\n            }\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                result.close();\n            } catch (Exception e1) {\n                throw new SQLException(e1);\n            }\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n        return user;\n    }\n    \n    public boolean existingUsername(String u)throws SQLException {\n        String query = &quot;SELECT * FROM user WHERE username = ?&quot;;\n        ResultSet result = null;\n        PreparedStatement pstatement = null;\n        \n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, u);\n            result=pstatement.executeQuery();\n            while(result.next()) {\n                return true;\n            }\n            return false;\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                result.close();\n            } catch (Exception e1) {\n                throw new SQLException(e1);\n            }\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n    }\n    \n    public User registerNewUser(String u, String p) throws SQLException{\n        String query = &quot;INSERT INTO user (Username, Password) VALUES ('?','?')&quot;;\n        int n;\n        User user = new User();\n        connection.setAutoCommit(false);\n        PreparedStatement pstatement = null;\n        try {\n            pstatement = connection.prepareStatement(query);\n            pstatement.setString(1, u);\n            pstatement.setString(2, p);\n            n=pstatement.executeUpdate();\n            connection.commit();\n            connection.setAutoCommit(true);\n            if(n==1) {\n                user.setUsername(u);\n                return user;\n            }\n            else return null;\n            \n        }\n        catch (SQLException e) {\n            connection.rollback();\n            e.printStackTrace();\n            throw new SQLException(e);\n\n        } finally {\n            try {\n                pstatement.close();\n            } catch (Exception e2) {\n                throw new SQLException(e2);\n            }\n        }       \n    }\n}\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n    version=&quot;4.0&quot;&gt;\n    &lt;display-name&gt;TIW_Bom&lt;/display-name&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbUrl&lt;/param-name&gt;\n        &lt;param-value&gt;jdbc:mysql://localhost:3306/tiw_project_playlist?serverTimezone=UTC&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbUser&lt;/param-name&gt;\n        &lt;param-value&gt;root&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbPassword&lt;/param-name&gt;\n        &lt;param-value&gt;rootPassword&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;dbDriver&lt;/param-name&gt;\n        &lt;param-value&gt;com.mysql.cj.jdbc.Driver&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;GoToPlaylistPage&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","netty","apache-nifi","netty-socketio"],"comments":[{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1679333165,"post_id":75769450,"comment_id":133699434,"body_markdown":"What&#39;s your queue limit and is it filled up when you start seeing the error?  Can you adjust the timeout for that process and see if you get fewer (or none) errors? I mean it almost feels like some sort of race condition, but that shouldn&#39;t really happen..","body":"What&#39;s your queue limit and is it filled up when you start seeing the error?  Can you adjust the timeout for that process and see if you get fewer (or none) errors? I mean it almost feels like some sort of race condition, but that shouldn&#39;t really happen.."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679333297,"post_id":75769450,"comment_id":133699488,"body_markdown":"What do you mean in queue limit? I don&#39;t have such. It feels like so, yes.. but timeout is 5 seconds as you can see in the screenshot, which must be quite enough for such a race.","body":"What do you mean in queue limit? I don&#39;t have such. It feels like so, yes.. but timeout is 5 seconds as you can see in the screenshot, which must be quite enough for such a race."},{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1679333371,"post_id":75769450,"comment_id":133699515,"body_markdown":"I might be thinking of a global setting, can&#39;t remember exactly. But I&#39;m pretty sure there was a limit on how many flows can sit in a queue. But the default is quite high so I was only curious.","body":"I might be thinking of a global setting, can&#39;t remember exactly. But I&#39;m pretty sure there was a limit on how many flows can sit in a queue. But the default is quite high so I was only curious."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679333457,"post_id":75769450,"comment_id":133699540,"body_markdown":"Even if we&#39;ve cleared that queue (just stopped processor and redirected the connection/relation somewhere else), this still (not piling up, but the `Channel unregistered...` exception) happens every since in a while.","body":"Even if we&#39;ve cleared that queue (just stopped processor and redirected the connection/relation somewhere else), this still (not piling up, but the <code>Channel unregistered...</code> exception) happens every since in a while."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679390100,"post_id":75769450,"comment_id":133708710,"body_markdown":"@Phaelaxz it&#39;s 10 000.. so, it&#39;s not a problem.","body":"@Phaelaxz it&#39;s 10 000.. so, it&#39;s not a problem."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679572700,"post_id":75769450,"comment_id":133747341,"body_markdown":"And what&#39;s the closing vote reason?","body":"And what&#39;s the closing vote reason?"},{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1679586450,"post_id":75769450,"comment_id":133751571,"body_markdown":"Not sure who voted to close it, not me. But I&#39;m afraid I can&#39;t help any further in your case. There&#39;s still many aspects of nifi I&#39;m still learning myself.","body":"Not sure who voted to close it, not me. But I&#39;m afraid I can&#39;t help any further in your case. There&#39;s still many aspects of nifi I&#39;m still learning myself."},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1679593124,"post_id":75769450,"comment_id":133753463,"body_markdown":"@Phaelaxz thanks, I didn&#39;t even suspect it was you.. otherwise, why would you have got involved into discussion at all.","body":"@Phaelaxz thanks, I didn&#39;t even suspect it was you.. otherwise, why would you have got involved into discussion at all."}],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682676760,"creation_date":1679067100,"question_id":75769450,"body_markdown":"I have a very unclear and difficult to understand problem. In the NiFi flow, certain processors use services:\r\n- `DistributedMapCacheClientService` (v. 1.20.0)\r\n- `DistributedMapCacheServer` (v. 1.20.0)\r\n\r\nand `DistributedMapCacheClientService` connects to `DistributedMapCacheServer`.\r\n\r\nFor some reason, we sometimes get:\r\n\r\n```none\r\njava.io.IOException: Request invocation failed\r\n\tat org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.invoke(CacheClientRequestHandler.java:103)\r\n\tat org.apache.nifi.distributed.cache.client.MyDistributedCacheClient.invoke(DistributedCacheClient.java:69)\r\n\tat org.apache.nifi.distributed.cache.client.NettyDistributedMapCacheClient.getAndPutIfAbsent(NettyDistributedMapCacheClient.java:140)\r\n\tat org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService.getAndPutIfAbsent(DistributedMapCacheClientService.java:154)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor471.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:254)\r\n\tat org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:105)\r\n\tat com.sun.proxy.$Proxy175.getAndPutIfAbsent(Unknown Source)\r\n\tat org.apache.nifi.processors.standard.DetectDuplicate.onTrigger(DetectDuplicate.java:184)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1357)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:246)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:102)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.io.IOException: Channel unregistered before processing completed: [id: 0x7288e0ed, L:0.0.0.0/0.0.0.0:38868]\r\n\tat org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.channelUnregistered(CacheClientRequestHandler.java:70)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:219)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelUnregistered(AbstractChannelHandlerContext.java:188)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1388)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:215)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:821)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:821)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 more\r\n```\r\n\r\nThis is the configuration of `DistributedMapCacheClientService`:\r\n![](https://i.stack.imgur.com/GPA4Z.png)\r\nHost name and port are all well configured.\r\n\r\nI have examined all the log files, but I&#39;m unable to find the root cause of this problem.\r\n\r\nWe have been debugging the project by connecting from the NiFi source to the remote JVM (i.e. NiFi running instance). We&#39;ve managed to find out, that `handShakeHandler`, from the source below (`CacheClientRequestHandler`), occasionally happens to be `null`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhy `handShakeHandler` can be `null` and in what circumstances?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BvgfT.png","title":"Channel unregistered before processing completed","body":"<p>I have a very unclear and difficult to understand problem. In the NiFi flow, certain processors use services:</p>\n<ul>\n<li><code>DistributedMapCacheClientService</code> (v. 1.20.0)</li>\n<li><code>DistributedMapCacheServer</code> (v. 1.20.0)</li>\n</ul>\n<p>and <code>DistributedMapCacheClientService</code> connects to <code>DistributedMapCacheServer</code>.</p>\n<p>For some reason, we sometimes get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.io.IOException: Request invocation failed\n    at org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.invoke(CacheClientRequestHandler.java:103)\n    at org.apache.nifi.distributed.cache.client.MyDistributedCacheClient.invoke(DistributedCacheClient.java:69)\n    at org.apache.nifi.distributed.cache.client.NettyDistributedMapCacheClient.getAndPutIfAbsent(NettyDistributedMapCacheClient.java:140)\n    at org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService.getAndPutIfAbsent(DistributedMapCacheClientService.java:154)\n    at jdk.internal.reflect.GeneratedMethodAccessor471.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:254)\n    at org.apache.nifi.controller.service.StandardControllerServiceInvocationHandler.invoke(StandardControllerServiceInvocationHandler.java:105)\n    at com.sun.proxy.$Proxy175.getAndPutIfAbsent(Unknown Source)\n    at org.apache.nifi.processors.standard.DetectDuplicate.onTrigger(DetectDuplicate.java:184)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1357)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:246)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:102)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.io.IOException: Channel unregistered before processing completed: [id: 0x7288e0ed, L:0.0.0.0/0.0.0.0:38868]\n    at org.apache.nifi.distributed.cache.client.CacheClientRequestHandler.channelUnregistered(CacheClientRequestHandler.java:70)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:219)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelUnregistered(AbstractChannelHandlerContext.java:188)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelUnregistered(DefaultChannelPipeline.java:1388)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:215)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelUnregistered(AbstractChannelHandlerContext.java:195)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelUnregistered(DefaultChannelPipeline.java:821)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:821)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 more\n</code></pre>\n<p>This is the configuration of <code>DistributedMapCacheClientService</code>:\n<img src=\"https://i.stack.imgur.com/GPA4Z.png\" alt=\"\" />\nHost name and port are all well configured.</p>\n<p>I have examined all the log files, but I'm unable to find the root cause of this problem.</p>\n<p>We have been debugging the project by connecting from the NiFi source to the remote JVM (i.e. NiFi running instance). We've managed to find out, that <code>handShakeHandler</code>, from the source below (<code>CacheClientRequestHandler</code>), occasionally happens to be <code>null</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/BvgfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BvgfT.png\" alt=\"enter image description here\" /></a></p>\n<p>Why <code>handShakeHandler</code> can be <code>null</code> and in what circumstances?</p>\n"},{"tags":["java","list","collections","iterator","reverse"],"comments":[{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":1,"creation_date":1287431428,"post_id":3962766,"comment_id":4236153,"body_markdown":"Can you build the list in the reverse order to begin with?","body":"Can you build the list in the reverse order to begin with?"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1287431982,"post_id":3962766,"comment_id":4236259,"body_markdown":"Yes it does - java.uitl.List.listIterator(int) http://download.oracle.com/javase/6/docs/api/java/util/List.html#listIterator%28int%29","body":"Yes it does - java.uitl.List.listIterator(int) <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#listIterator%28int%29\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":1,"creation_date":1537593887,"post_id":3962766,"comment_id":91850449,"body_markdown":"If you visit this link to find the answer how to reverse(modify) the list, this is the answer: `Collections.reverse(list)`","body":"If you visit this link to find the answer how to reverse(modify) the list, this is the answer: <code>Collections.reverse(list)</code>"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1682676493,"post_id":3962766,"comment_id":134256659,"body_markdown":"`List.reverse()` is available since [Java 21](https://openjdk.org/jeps/431).","body":"<code>List.reverse()</code> is available since <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">Java 21</a>."}],"answers":[{"comments":[{"owner":{"account_id":6077354,"reputation":5409,"user_id":4744263,"accept_rate":25,"display_name":"Filipe Brito"},"score":20,"creation_date":1436983457,"post_id":3962803,"comment_id":50845306,"body_markdown":"The problem is that Guava is a very large library. See the discussion: https://github.com/google/guava/issues/1954 and https://code.google.com/p/guava-libraries/issues/detail?id=605","body":"The problem is that Guava is a very large library. See the discussion: <a href=\"https://github.com/google/guava/issues/1954\" rel=\"nofollow noreferrer\">github.com/google/guava/issues/1954</a> and <a href=\"https://code.google.com/p/guava-libraries/issues/detail?id=605\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/issues/detail?id=605</a>"},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":3,"creation_date":1436986798,"post_id":3962803,"comment_id":50847229,"body_markdown":"@Filipe de Lima Brito: ProGuard is still the best solution for library size, though there are likely improvements we can make. In any case, I don&#39;t think library size is relevant in any way to this answer.","body":"@Filipe de Lima Brito: ProGuard is still the best solution for library size, though there are likely improvements we can make. In any case, I don&#39;t think library size is relevant in any way to this answer."},{"owner":{"account_id":6077354,"reputation":5409,"user_id":4744263,"accept_rate":25,"display_name":"Filipe Brito"},"score":3,"creation_date":1436989350,"post_id":3962803,"comment_id":50848631,"body_markdown":"Yes, the library size isn’t relevant to this answer, but is relevant to be informed for the programmers (therefore, I commented)! Thank you very much for this great library and for your suggestion @ColinD!","body":"Yes, the library size isn’t relevant to this answer, but is relevant to be informed for the programmers (therefore, I commented)! Thank you very much for this great library and for your suggestion @ColinD!"},{"owner":{"account_id":1033144,"reputation":3625,"user_id":1041046,"accept_rate":78,"display_name":"AaA"},"score":0,"creation_date":1467341061,"post_id":3962803,"comment_id":63703314,"body_markdown":"@ColinD, yup, it was my mistake. A colleague added google-collections which also have same namespace and class (`List`) but without reverse method. removing it made guava available again.","body":"@ColinD, yup, it was my mistake. A colleague added google-collections which also have same namespace and class (<code>List</code>) but without reverse method. removing it made guava available again."},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":0,"creation_date":1539797868,"post_id":3962803,"comment_id":92635767,"body_markdown":"Developers don&#39;t always have control over what libraries they can use, and adding a whole new library for something so simple seems like overkill--especially given that the problem can be solved with `ListIterator.previous()`","body":"Developers don&#39;t always have control over what libraries they can use, and adding a whole new library for something so simple seems like overkill--especially given that the problem can be solved with <code>ListIterator.previous()</code>"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1586266214,"post_id":3962803,"comment_id":108060878,"body_markdown":"@JonathanBenn the problem is that the problem is not so simple. You have so many implementations of `List` that reversing it appropriately entirely depends on the context (do you use a List for its index, do you use it for the ordered property, etc.) This answer is the best at mixing all those.","body":"@JonathanBenn the problem is that the problem is not so simple. You have so many implementations of <code>List</code> that reversing it appropriately entirely depends on the context (do you use a List for its index, do you use it for the ordered property, etc.) This answer is the best at mixing all those."},{"owner":{"account_id":2106798,"reputation":446,"user_id":1872964,"accept_rate":38,"display_name":"Brain"},"score":0,"creation_date":1591344972,"post_id":3962803,"comment_id":110025564,"body_markdown":"Agree, the response of jcalvert is way better, because it uses the standard library. Guava just cause problems with other frameworks. You can say &quot;it pollutes&quot; your code.","body":"Agree, the response of jcalvert is way better, because it uses the standard library. Guava just cause problems with other frameworks. You can say &quot;it pollutes&quot; your code."}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":7,"down_vote_count":17,"up_vote_count":251,"is_accepted":true,"score":234,"last_activity_date":1467051580,"creation_date":1287431406,"answer_id":3962803,"question_id":3962766,"body_markdown":"[Guava][1] provides this: [Lists.reverse(List)][2]\r\n\r\n    List&lt;String&gt; letters = ImmutableList.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    List&lt;String&gt; reverseView = Lists.reverse(letters); \r\n    System.out.println(reverseView); // [c, b, a]\r\n\r\nUnlike `Collections.reverse`, this is purely a _view_... it doesn&#39;t alter the ordering of elements in the original list. Additionally, with an original list that is modifiable, changes to both the original list and the view are reflected in the other.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Lists.html#reverse%28java.util.List%29","title":"How to get a reversed list view on a list in Java?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> provides this: <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Lists.html#reverse%28java.util.List%29\" rel=\"noreferrer\">Lists.reverse(List)</a></p>\n\n<pre><code>List&lt;String&gt; letters = ImmutableList.of(\"a\", \"b\", \"c\");\nList&lt;String&gt; reverseView = Lists.reverse(letters); \nSystem.out.println(reverseView); // [c, b, a]\n</code></pre>\n\n<p>Unlike <code>Collections.reverse</code>, this is purely a <em>view</em>... it doesn't alter the ordering of elements in the original list. Additionally, with an original list that is modifiable, changes to both the original list and the view are reflected in the other.</p>\n"},{"comments":[{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":1,"creation_date":1539797434,"post_id":3962811,"comment_id":92635568,"body_markdown":"This is the best answer, since (1) it does not require a library, and (2) it does not modify the original list, as the OP requested","body":"This is the best answer, since (1) it does not require a library, and (2) it does not modify the original list, as the OP requested"}],"tags":[],"owner":{"account_id":47625,"reputation":797,"user_id":141179,"display_name":"kkress"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1647552881,"creation_date":1287431465,"answer_id":3962811,"question_id":3962766,"body_markdown":"Its not exactly elegant, but if you use List.listIterator(int index) you can get a bi-directional ListIterator to the end of the list:  \r\n\r\n    //Assume List&lt;String&gt; foo;\r\n    ListIterator li = foo.listIterator(foo.size());\r\n    \r\n    while (li.hasPrevious()) {\r\n       String curr = li.previous();\r\n    }","title":"How to get a reversed list view on a list in Java?","body":"<p>Its not exactly elegant, but if you use List.listIterator(int index) you can get a bi-directional ListIterator to the end of the list:</p>\n<pre><code>//Assume List&lt;String&gt; foo;\nListIterator li = foo.listIterator(foo.size());\n\nwhile (li.hasPrevious()) {\n   String curr = li.previous();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1498935287,"post_id":3962851,"comment_id":76708060,"body_markdown":"If you didn&#39;t want to use built-in descndingIterator() method, it seems like using a ConcurrentLinkedDeque would be the best to reverse a very large list?   Basically just copy from one deck to the new deck using poll  then offer ?   Sorta like just having a deck of cards and taking each off the top into a new pile, in order.","body":"If you didn&#39;t want to use built-in descndingIterator() method, it seems like using a ConcurrentLinkedDeque would be the best to reverse a very large list?   Basically just copy from one deck to the new deck using poll  then offer ?   Sorta like just having a deck of cards and taking each off the top into a new pile, in order."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1287431784,"creation_date":1287431784,"answer_id":3962851,"question_id":3962766,"body_markdown":"`java.util.Deque` has `descendingIterator()` - if your `List` is a `Deque`, you can use that.","title":"How to get a reversed list view on a list in Java?","body":"<p><code>java.util.Deque</code> has <code>descendingIterator()</code> - if your <code>List</code> is a <code>Deque</code>, you can use that.</p>\n"},{"comments":[{"owner":{"account_id":45260,"reputation":66064,"user_id":133374,"accept_rate":79,"display_name":"Albert"},"score":22,"creation_date":1287433874,"post_id":3963075,"comment_id":4236586,"body_markdown":"`clone()` normally would create a copy of the list. Anyway, `List#clone()` also does not exist.","body":"<code>clone()</code> normally would create a copy of the list. Anyway, <code>List#clone()</code> also does not exist."},{"owner":{"account_id":177464,"reputation":3638,"user_id":408815,"display_name":"jcalvert"},"score":6,"creation_date":1287436526,"post_id":3963075,"comment_id":4237077,"body_markdown":"You are technically right, the List interface itself doesn&#39;t provide the clone() method. But ArrayList, LinkedList and Vector all do.","body":"You are technically right, the List interface itself doesn&#39;t provide the clone() method. But ArrayList, LinkedList and Vector all do."},{"owner":{"account_id":177464,"reputation":3638,"user_id":408815,"display_name":"jcalvert"},"score":0,"creation_date":1287437183,"post_id":3963075,"comment_id":4237184,"body_markdown":"Clone is a *shallow* copy of the list. It will not copy the members. But I think I understand where you&#39;re going with this now, in reference to a &quot;view&quot;, as any structural change to the &#39;view&#39; from subList() alters the original as well. I don&#39;t think you have any  way to do what you want without creating a class as you did in your demo.","body":"Clone is a <i>shallow</i> copy of the list. It will not copy the members. But I think I understand where you&#39;re going with this now, in reference to a &quot;view&quot;, as any structural change to the &#39;view&#39; from subList() alters the original as well. I don&#39;t think you have any  way to do what you want without creating a class as you did in your demo."},{"owner":{"account_id":45260,"reputation":66064,"user_id":133374,"accept_rate":79,"display_name":"Albert"},"score":2,"creation_date":1287443189,"post_id":3963075,"comment_id":4237917,"body_markdown":"I just looked up the implementation of `clone()`. It indeed does a full copy of the list (it only does not clone each single object in the list but that was never what I was talking about).","body":"I just looked up the implementation of <code>clone()</code>. It indeed does a full copy of the list (it only does not clone each single object in the list but that was never what I was talking about)."},{"owner":{"account_id":3912944,"reputation":61,"user_id":3570343,"display_name":"user12722"},"score":26,"creation_date":1429154729,"post_id":3963075,"comment_id":47468817,"body_markdown":"Note that Collections.reverse returns void, so you would lose the clone reference. You need to assign the clone to a variable first, then sort it.","body":"Note that Collections.reverse returns void, so you would lose the clone reference. You need to assign the clone to a variable first, then sort it."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":15,"creation_date":1499231986,"post_id":3963075,"comment_id":76811001,"body_markdown":"`subList` doesn&#39;t copy, it just provides a view on the underlying list, therefore reversing this view will reverse the underlying list.","body":"<code>subList</code> doesn&#39;t copy, it just provides a view on the underlying list, therefore reversing this view will reverse the underlying list."},{"owner":{"account_id":5298499,"reputation":400,"user_id":4228964,"display_name":"Florent"},"score":0,"creation_date":1637276095,"post_id":3963075,"comment_id":123790316,"body_markdown":"ArrayList.clone returns Object which is not accepted by Collections.reverse()","body":"ArrayList.clone returns Object which is not accepted by Collections.reverse()"}],"tags":[],"owner":{"account_id":177464,"reputation":3638,"user_id":408815,"display_name":"jcalvert"},"comment_count":7,"down_vote_count":19,"up_vote_count":260,"is_accepted":false,"score":241,"last_activity_date":1459792509,"creation_date":1287433505,"answer_id":3963075,"question_id":3962766,"body_markdown":"Use the .clone() method on your List. It will return a shallow copy, meaning that it will contain pointers to the same objects, so you won&#39;t have to copy the list. Then just use Collections. \r\n\r\nErgo, \r\n\r\n    Collections.reverse(list.clone());\r\n\r\nIf you are using a `List` and don&#39;t have access to `clone()` you can use [`subList()`][1]:\r\n \r\n    List&lt;?&gt; shallowCopy = list.subList(0, list.size());\r\n    Collections.reverse(shallowCopy);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-","title":"How to get a reversed list view on a list in Java?","body":"<p>Use the .clone() method on your List. It will return a shallow copy, meaning that it will contain pointers to the same objects, so you won't have to copy the list. Then just use Collections. </p>\n\n<p>Ergo, </p>\n\n<pre><code>Collections.reverse(list.clone());\n</code></pre>\n\n<p>If you are using a <code>List</code> and don't have access to <code>clone()</code> you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"noreferrer\"><code>subList()</code></a>:</p>\n\n<pre><code>List&lt;?&gt; shallowCopy = list.subList(0, list.size());\nCollections.reverse(shallowCopy);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"score":2,"creation_date":1335530744,"post_id":10350598,"comment_id":13334553,"body_markdown":"Your code have a one problem - you can put any List to it, but it&#39;ll always return you ArrayList (as List). And what if I need LinkedList? It&#39;s better to modify myList, and return void.","body":"Your code have a one problem - you can put any List to it, but it&#39;ll always return you ArrayList (as List). And what if I need LinkedList? It&#39;s better to modify myList, and return void."},{"owner":{"account_id":45260,"reputation":66064,"user_id":133374,"accept_rate":79,"display_name":"Albert"},"score":2,"creation_date":1335536807,"post_id":10350598,"comment_id":13337047,"body_markdown":"Note that this is not really what I was asking for. I was asking for some sort of proxy/view, not a copy.","body":"Note that this is not really what I was asking for. I was asking for some sort of proxy/view, not a copy."}],"tags":[],"owner":{"account_id":1191973,"reputation":121,"user_id":1164526,"accept_rate":100,"display_name":"CocheLee"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1335531115,"creation_date":1335529660,"answer_id":10350598,"question_id":3962766,"body_markdown":"I know this is an old post but today I was looking for something like this. In the end I wrote the code myself:\r\n\r\n    private List reverseList(List myList) {\r\n\t\tList invertedList = new ArrayList();\r\n\t\tfor (int i = myList.size() - 1; i &gt;= 0; i--) {\r\n\t\t\tinvertedList.add(myList.get(i));\r\n\t\t}\r\n\t\treturn invertedList;\r\n\t}\r\n\r\nNot recommended for long Lists, this is not optimized at all. It&#39;s kind of an easy solution for controlled scenarios (the Lists I handle have no more than 100 elements).\r\n\r\nHope it helps somebody.","title":"How to get a reversed list view on a list in Java?","body":"<p>I know this is an old post but today I was looking for something like this. In the end I wrote the code myself:</p>\n\n<pre><code>private List reverseList(List myList) {\n    List invertedList = new ArrayList();\n    for (int i = myList.size() - 1; i &gt;= 0; i--) {\n        invertedList.add(myList.get(i));\n    }\n    return invertedList;\n}\n</code></pre>\n\n<p>Not recommended for long Lists, this is not optimized at all. It's kind of an easy solution for controlled scenarios (the Lists I handle have no more than 100 elements).</p>\n\n<p>Hope it helps somebody.</p>\n"},{"comments":[{"owner":{"account_id":45260,"reputation":66064,"user_id":133374,"accept_rate":79,"display_name":"Albert"},"score":7,"creation_date":1358248586,"post_id":14336309,"comment_id":19925899,"body_markdown":"That is not a list view. A view is the opposite of a copy.","body":"That is not a list view. A view is the opposite of a copy."},{"owner":{"account_id":1892463,"reputation":4381,"user_id":1775715,"accept_rate":100,"display_name":"ShellFish"},"score":5,"creation_date":1497957227,"post_id":14336309,"comment_id":76287889,"body_markdown":"The reverse list of an empty list is null??","body":"The reverse list of an empty list is null??"}],"tags":[],"owner":{"account_id":2246877,"reputation":23,"user_id":1980035,"display_name":"jhdrosos"},"comment_count":2,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1358249256,"creation_date":1358247750,"answer_id":14336309,"question_id":3962766,"body_markdown":"You can also do this: \r\n\r\n    static ArrayList&lt;String&gt; reverseReturn(ArrayList&lt;String&gt; alist)\r\n    {\r\n       if(alist==null || alist.isEmpty())\r\n       { \r\n           return null;\r\n       }\r\n\r\n       ArrayList&lt;String&gt; rlist = new ArrayList&lt;&gt;(alist);\r\n\r\n       Collections.reverse(rlist);\r\n       return rlist;\r\n    }\r\n\r\n","title":"How to get a reversed list view on a list in Java?","body":"<p>You can also do this: </p>\n\n<pre><code>static ArrayList&lt;String&gt; reverseReturn(ArrayList&lt;String&gt; alist)\n{\n   if(alist==null || alist.isEmpty())\n   { \n       return null;\n   }\n\n   ArrayList&lt;String&gt; rlist = new ArrayList&lt;&gt;(alist);\n\n   Collections.reverse(rlist);\n   return rlist;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":45260,"reputation":66064,"user_id":133374,"accept_rate":79,"display_name":"Albert"},"score":21,"creation_date":1389018634,"post_id":20944168,"comment_id":31469195,"body_markdown":"That is not a list view. That modifies the list.","body":"That is not a list view. That modifies the list."}],"tags":[],"owner":{"account_id":2067095,"reputation":6226,"user_id":1842414,"accept_rate":65,"display_name":"Shakeeb Ayaz"},"comment_count":1,"down_vote_count":19,"up_vote_count":100,"is_accepted":false,"score":81,"last_activity_date":1388992870,"creation_date":1388989079,"answer_id":20944168,"question_id":3962766,"body_markdown":"If i have understood correct then it is one line of code .It worked for me .\r\n\r\n     Collections.reverse(yourList);","title":"How to get a reversed list view on a list in Java?","body":"<p>If i have understood correct then it is one line of code .It worked for me .</p>\n\n<pre><code> Collections.reverse(yourList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1444760100,"creation_date":1444760100,"answer_id":33109770,"question_id":3962766,"body_markdown":"I use this:\r\n\r\n    public class ReversedView&lt;E&gt; extends AbstractList&lt;E&gt;{\r\n\r\n        public static &lt;E&gt; List&lt;E&gt; of(List&lt;E&gt; list) {\r\n            return new ReversedView&lt;&gt;(list);\r\n        }\r\n\r\n        private final List&lt;E&gt; backingList;\r\n\r\n        private ReversedView(List&lt;E&gt; backingList){\r\n            this.backingList = backingList;\r\n        }\r\n\r\n        @Override\r\n        public E get(int i) {\r\n            return backingList.get(backingList.size()-i-1);\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return backingList.size();\r\n        }\r\n\r\n    }\r\n\r\nlike this:\r\n\r\n    ReversedView.of(backingList) // is a fully-fledged generic (but read-only) list","title":"How to get a reversed list view on a list in Java?","body":"<p>I use this:</p>\n\n<pre><code>public class ReversedView&lt;E&gt; extends AbstractList&lt;E&gt;{\n\n    public static &lt;E&gt; List&lt;E&gt; of(List&lt;E&gt; list) {\n        return new ReversedView&lt;&gt;(list);\n    }\n\n    private final List&lt;E&gt; backingList;\n\n    private ReversedView(List&lt;E&gt; backingList){\n        this.backingList = backingList;\n    }\n\n    @Override\n    public E get(int i) {\n        return backingList.get(backingList.size()-i-1);\n    }\n\n    @Override\n    public int size() {\n        return backingList.size();\n    }\n\n}\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>ReversedView.of(backingList) // is a fully-fledged generic (but read-only) list\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":12,"creation_date":1539797609,"post_id":38800084,"comment_id":92635640,"body_markdown":"You&#39;re just repeating the answer someone else wrote 6 years ago","body":"You&#39;re just repeating the answer someone else wrote 6 years ago"},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":2,"creation_date":1574460226,"post_id":38800084,"comment_id":104255005,"body_markdown":"...and not a view. this mutates the list.","body":"...and not a view. this mutates the list."}],"tags":[],"owner":{"account_id":1703654,"reputation":2068,"user_id":1563174,"display_name":"Krishna Kumar Chourasiya"},"comment_count":2,"down_vote_count":16,"up_vote_count":22,"is_accepted":false,"score":6,"last_activity_date":1526466030,"creation_date":1470451588,"answer_id":38800084,"question_id":3962766,"body_markdown":"Collections.reverse(nums) ... It actually reverse the order of the elements. \r\nBelow code should be much appreciated -\r\n\r\n    List&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\r\n    nums.add(61);\r\n    nums.add(42);\r\n    nums.add(83);\r\n    nums.add(94);\r\n    nums.add(15);\r\n    //Tosort the collections uncomment the below line\r\n    //Collections.sort(nums); \r\n    \r\n    Collections.reverse(nums);\r\n    \r\n    System.out.println(nums);\r\n\r\nOutput: 15,94,83,42,61","title":"How to get a reversed list view on a list in Java?","body":"<p>Collections.reverse(nums) ... It actually reverse the order of the elements. \nBelow code should be much appreciated -</p>\n\n<pre><code>List&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\nnums.add(61);\nnums.add(42);\nnums.add(83);\nnums.add(94);\nnums.add(15);\n//Tosort the collections uncomment the below line\n//Collections.sort(nums); \n\nCollections.reverse(nums);\n\nSystem.out.println(nums);\n</code></pre>\n\n<p>Output: 15,94,83,42,61</p>\n"},{"tags":[],"owner":{"account_id":6011671,"reputation":2828,"user_id":4721932,"accept_rate":75,"display_name":"fede1608"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474655860,"creation_date":1474655860,"answer_id":39667502,"question_id":3962766,"body_markdown":"You can also invert the position when you request an object:\r\n\r\n    Object obj = list.get(list.size() - 1 - position);","title":"How to get a reversed list view on a list in Java?","body":"<p>You can also invert the position when you request an object:</p>\n\n<pre><code>Object obj = list.get(list.size() - 1 - position);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539871642,"creation_date":1508080693,"answer_id":46756611,"question_id":3962766,"body_markdown":"For small sized list we can create `LinkedList` and then can make use of descending iterator as:\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;(Arrays.asList(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;));\r\n    stringList.stream().collect(Collectors.toCollection(LinkedList::new))\r\n             .descendingIterator().\r\n             forEachRemaining(System.out::println); // Three, Two, One\r\n    System.out.println(stringList); // One, Two, Three\r\n\r\n","title":"How to get a reversed list view on a list in Java?","body":"<p>For small sized list we can create <code>LinkedList</code> and then can make use of descending iterator as:</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;&gt;(Arrays.asList(\"One\", \"Two\", \"Three\"));\nstringList.stream().collect(Collectors.toCollection(LinkedList::new))\n         .descendingIterator().\n         forEachRemaining(System.out::println); // Three, Two, One\nSystem.out.println(stringList); // One, Two, Three\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682676342,"creation_date":1682676342,"answer_id":76128465,"question_id":3962766,"body_markdown":"Since Java 21 there is a new interface [`SequencedCollection`][1] (which is a superinteface for `List`). It has the method [`reversed()`][2] which provides a reverse-ordered view of a collection:\r\n\r\n    jshell&gt; List.of(1, 2, 3, 4, 5).reversed()\r\n    $1 ==&gt; [5, 4, 3, 2, 1]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431\r\n  [2]: https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedCollection.html#reversed()","title":"How to get a reversed list view on a list in Java?","body":"<p>Since Java 21 there is a new interface <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> (which is a superinteface for <code>List</code>). It has the method <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedCollection.html#reversed()\" rel=\"nofollow noreferrer\"><code>reversed()</code></a> which provides a reverse-ordered view of a collection:</p>\n<pre><code>jshell&gt; List.of(1, 2, 3, 4, 5).reversed()\n$1 ==&gt; [5, 4, 3, 2, 1]\n</code></pre>\n"}],"owner":{"account_id":45260,"reputation":66064,"user_id":133374,"accept_rate":79,"display_name":"Albert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321834,"favorite_count":0,"down_vote_count":0,"up_vote_count":246,"accepted_answer_id":3962803,"answer_count":12,"score":246,"last_activity_date":1682676342,"creation_date":1287431127,"question_id":3962766,"body_markdown":"I want to have a reversed list view on a list (in a similar way than `List#sublist` provides a sublist view on a list). Is there some function which provides this functionality?\r\n\r\nI don&#39;t want to make any sort of copy of the list nor modify the list.\r\n\r\nIt would be enough if I could get at least a reverse iterator on a list in this case though.\r\n\r\n---\r\n\r\nAlso, I know how to implement this myself. I&#39;m just asking if Java already provides something like this.\r\n\r\nDemo implementation:\r\n\r\n    static &lt;T&gt; Iterable&lt;T&gt; iterableReverseList(final List&lt;T&gt; l) {\r\n    \treturn new Iterable&lt;T&gt;() {\r\n    \t\tpublic Iterator&lt;T&gt; iterator() {\r\n    \t\t\treturn new Iterator&lt;T&gt;() {\r\n    \t\t\t\tListIterator&lt;T&gt; listIter = l.listIterator(l.size());    \t\t\t\t\r\n\t\t\t\t\tpublic boolean hasNext() { return listIter.hasPrevious(); }\r\n\t\t\t\t\tpublic T next() { return listIter.previous(); }\r\n\t\t\t\t\tpublic void remove() { listIter.remove(); }    \t\t\t\t\r\n\t\t\t\t};\r\n    \t\t}\r\n\t\t};\r\n    }\r\n\r\n---\r\n\r\nI just have found out that some `List` implementations have `descendingIterator()` which is what I need. Though there is no general such implementation for `List`. Which is kind of strange because the implementation I have seen in `LinkedList` is general enough to work with any `List`.","title":"How to get a reversed list view on a list in Java?","body":"<p>I want to have a reversed list view on a list (in a similar way than <code>List#sublist</code> provides a sublist view on a list). Is there some function which provides this functionality?</p>\n\n<p>I don't want to make any sort of copy of the list nor modify the list.</p>\n\n<p>It would be enough if I could get at least a reverse iterator on a list in this case though.</p>\n\n<hr>\n\n<p>Also, I know how to implement this myself. I'm just asking if Java already provides something like this.</p>\n\n<p>Demo implementation:</p>\n\n<pre><code>static &lt;T&gt; Iterable&lt;T&gt; iterableReverseList(final List&lt;T&gt; l) {\n    return new Iterable&lt;T&gt;() {\n        public Iterator&lt;T&gt; iterator() {\n            return new Iterator&lt;T&gt;() {\n                ListIterator&lt;T&gt; listIter = l.listIterator(l.size());                    \n                public boolean hasNext() { return listIter.hasPrevious(); }\n                public T next() { return listIter.previous(); }\n                public void remove() { listIter.remove(); }                 \n            };\n        }\n    };\n}\n</code></pre>\n\n<hr>\n\n<p>I just have found out that some <code>List</code> implementations have <code>descendingIterator()</code> which is what I need. Though there is no general such implementation for <code>List</code>. Which is kind of strange because the implementation I have seen in <code>LinkedList</code> is general enough to work with any <code>List</code>.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682683268,"post_id":76122829,"comment_id":134258056,"body_markdown":"Please also test it in &quot;real container&quot; (not only mock environment) .. experiment!) Iin &quot;full&quot; (servlet) environment it will behave differently/better! To test against &quot;full&quot; context: replace all &quot;mockMvc&quot;, with &quot;(test)restTemplate/webclient/any other http client(tech)&quot;  preserving `@SpringBootTest` ... see https://spring.io/guides/gs/testing-web/ + below links","body":"Please also test it in &quot;real container&quot; (not only mock environment) .. experiment!) Iin &quot;full&quot; (servlet) environment it will behave differently/better! To test against &quot;full&quot; context: replace all &quot;mockMvc&quot;, with &quot;(test)restTemplate/webclient/any other http client(tech)&quot;  preserving <code>@SpringBootTest</code> ... see <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/testing-web</a> + below links"},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1682683983,"post_id":76122829,"comment_id":134258219,"body_markdown":"I don&#39;t have tests in my current production environment :/ I am using `@RestController` since it is a Restful API and it works for now. I just don&#39;t get proper exception handling, I will look!","body":"I don&#39;t have tests in my current production environment :/ I am using <code>@RestController</code> since it is a Restful API and it works for now. I just don&#39;t get proper exception handling, I will look!"}],"answers":[{"comments":[{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1682668746,"post_id":76125122,"comment_id":134255107,"body_markdown":"Thank you for your answer, but the problem is that in this way, will doing `objectMapper.readValue(...)` control the validation annotations for each property in my DTO ? I would like to be able to apply validation annotations on my json properties.","body":"Thank you for your answer, but the problem is that in this way, will doing <code>objectMapper.readValue(...)</code> control the validation annotations for each property in my DTO ? I would like to be able to apply validation annotations on my json properties."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682668916,"post_id":76125122,"comment_id":134255140,"body_markdown":"no, that&#39;s the point: or you have &quot;exact&quot; content type validation, or you have (implicit! content type,,,but still very flexible), and have the &quot;json validation&quot; .. i will try that ;)","body":"no, that&#39;s the point: or you have &quot;exact&quot; content type validation, or you have (implicit! content type,,,but still very flexible), and have the &quot;json validation&quot; .. i will try that ;)"},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1682670633,"post_id":76125122,"comment_id":134255471,"body_markdown":"Ok I&#39;m not sure I understand then. I&#39;ll have to look into it. In itself, it&#39;s not a big deal that it&#39;s implicit, but how can I validate with the annotations that the X property of my json with `@NotNull`, `@Min(3)`, `@Max(7)` ?","body":"Ok I&#39;m not sure I understand then. I&#39;ll have to look into it. In itself, it&#39;s not a big deal that it&#39;s implicit, but how can I validate with the annotations that the X property of my json with <code>@NotNull</code>, <code>@Min(3)</code>, <code>@Max(7)</code> ?"},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1682679573,"post_id":76125122,"comment_id":134257294,"body_markdown":"Thank you !!! It&#39;s a pleasure to see people like you who take their time to help others! However, I see that it is mandatory `@Validated` at the top of the controller.  As a result, my last problem is that the exception thrown is `ConstraintViolationException` rather than `MethodArgumentNotValidException` or `BindException` which I already handle via an @ControllerAdvice to format the errors for my API Rest. Is there a simple way to handle this without rewriting an @ExceptionHandler for this particular case?","body":"Thank you !!! It&#39;s a pleasure to see people like you who take their time to help others! However, I see that it is mandatory <code>@Validated</code> at the top of the controller.  As a result, my last problem is that the exception thrown is <code>ConstraintViolationException</code> rather than <code>MethodArgumentNotValidException</code> or <code>BindException</code> which I already handle via an @ControllerAdvice to format the errors for my API Rest. Is there a simple way to handle this without rewriting an @ExceptionHandler for this particular case?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682682241,"post_id":76125122,"comment_id":134257822,"body_markdown":".. exception handling is tricky, esp. In &quot;mock mvc&quot; environment ... for the very reason :) ... [See here](https://github.com/spring-projects/spring-petclinic/pull/1236)(e.a.)..","body":".. exception handling is tricky, esp. In &quot;mock mvc&quot; environment ... for the very reason :) ... <a href=\"https://github.com/spring-projects/spring-petclinic/pull/1236\" rel=\"nofollow noreferrer\">See here</a>(e.a.).."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682682432,"post_id":76125122,"comment_id":134257871,"body_markdown":"When we omit our [handler](https://github.com/xerx593/soq70225979/blob/main/src/main/java/com/stackoverflow/web/ExceptionHandlers.java), tests will fail... (with exact symptoms:);(;( I was very lucky to get it working -2y ago !:)","body":"When we omit our <a href=\"https://github.com/xerx593/soq70225979/blob/main/src/main/java/com/stackoverflow/web/ExceptionHandlers.java\" rel=\"nofollow noreferrer\">handler</a>, tests will fail... (with exact symptoms:);(;( I was very lucky to get it working -2y ago !:)"},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1682682729,"post_id":76125122,"comment_id":134257936,"body_markdown":"Exactly, I need a handler because I would have liked to have the validation errors formatted in json with the concerned field rather than having a `ConstraintViolationException` thrown. I&#39;m already doing this with `MethodArgumentNotValidException`. I&#39;ll see what I can do then, thanks! But it seems more complicated to get the field in error from this exception.\nIn the meantime, I accept your answer since it answers the main problem rather well.","body":"Exactly, I need a handler because I would have liked to have the validation errors formatted in json with the concerned field rather than having a <code>ConstraintViolationException</code> thrown. I&#39;m already doing this with <code>MethodArgumentNotValidException</code>. I&#39;ll see what I can do then, thanks! But it seems more complicated to get the field in error from this exception. In the meantime, I accept your answer since it answers the main problem rather well."}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682676238,"creation_date":1682635185,"answer_id":76125122,"question_id":76122829,"body_markdown":"Update:\r\n\r\n&gt; ..  I would like to be able to apply validation annotations on my json properties\r\n\r\nYes, we can also do that, but cannot use the &quot;ValidMediaType&quot; annotation on `SomeDto` (as a root):\r\n```\r\n// ...\r\n@PutMapping(value = &quot;/pdf/json/v2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n  public ResponseEntity&lt;String&gt; pdf2Controller(\r\n      @Valid @RequestPart SomeDto someJson,\r\n      @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\r\n    System.err.println(someJson);\r\n    return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\r\n  }\r\n}\r\n\r\n@lombok.Value(staticConstructor = &quot;of&quot;)\r\nclass SomeDto {\r\n  @NotNull\r\n  String foo;\r\n  @Size(min = 3, max = 6)\r\n  String bar;\r\n}\r\n```\r\nAnd Tests ... :\r\n\r\n```\r\n@Test\r\nvoid testPdfJson2Valid() throws Exception {\r\n  final MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;,\r\n      testValidJson.getInputStream().readAllBytes());\r\n  // we need this! (so implicitely validate, but other error code)\r\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n  mockMvc.perform(putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n      .file(mockPdf)\r\n      .part(jsonPart)) // !\r\n      .andExpectAll(status().isOk(), // !!\r\n          content().string(&quot;aha.pdf&quot;));\r\n}\r\n\r\n@Test\r\nvoid testPdfJson2ValidAlt() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n          .file(mockPdf)\r\n          // also\r\n          .file(validJsonFile()))\r\n      .andExpectAll(status().isOk(), // ..works !!\r\n          content().string(&quot;aha.pdf&quot;));\r\n}\r\n\r\n@Test\r\nvoid testPdfJson2unsupportedMediaType() throws Exception {\r\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testValidJson.getInputStream().readAllBytes());\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n          .file(mockPdf)\r\n          .part(jsonPart)) // no/wrong content type\r\n      .andExpect(status().isUnsupportedMediaType()); // !\r\n}\r\n\r\n@Test\r\nvoid testPdfJson2Invalid() throws Exception {\r\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testInvalidJson.getInputStream().readAllBytes());\r\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\r\n          .file(mockPdf)\r\n          .part(jsonPart))\r\n      .andExpect(status().isBadRequest()); // !\r\n}\r\n```\r\n\r\n[all here][1]\r\n\r\nOriginal:\r\n\r\n----------\r\n\r\nI updated my [old repository][1] with your new controller:\r\n&lt;!-- language-all: lang-java --&gt;\r\n```\r\n@PutMapping(value = &quot;/pdf/{id}&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;String&gt; pdfController(\r\n    @PathVariable Integer id,\r\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart(&quot;custom_file&quot;) MultipartFile file) {\r\n  // just a test/demo:\r\n  return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\r\n}\r\n```\r\n\r\n..and Tests:\r\n```\r\n@Test\r\nvoid testPdfInvalid() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/1&quot;)\r\n          .file(new MockMultipartFile(\r\n              &quot;custom_file&quot;,\r\n              &quot;ohoh.jpg&quot;,\r\n              MediaType.IMAGE_JPEG_VALUE, // ??\r\n              (byte[]) null)))\r\n      .andExpect(status().isBadRequest()) // !!\r\n      .andExpect(content().string(endsWith(&quot;application/pdf.\\&quot;}&quot;)));\r\n}\r\n\r\n@Test\r\nvoid testPdfValid() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/1&quot;)\r\n          .file(new MockMultipartFile(\r\n              &quot;custom_file&quot;,\r\n              &quot;aha.pdf&quot;,\r\n              MediaType.APPLICATION_PDF_VALUE, // !\r\n              (byte[]) null)))\r\n      .andExpectAll(status().isOk(), // !!\r\n          content().string(&quot;aha.pdf&quot;)); /// !!!\r\n}\r\n```\r\n...works like charm.\r\n\r\n----------------------------------------------------------\r\n\r\nHere is, how I could handle the multipart file + json parts scenario:\r\n\r\nUpdated controller:\r\n```\r\n// 1.\r\nimport javax.servlet.http.Part;\r\n// - it has built-in handling (as method argument by spring-web(flux))\r\n// - it has &quot;content-type&quot; attribute (to validate)\r\n// - and it has input stream (to read json) \r\n// ...\r\n\r\n// normally we would get &quot;json objects&quot; in controller, now due to validation, we have to read it from the Part\r\n@Autowired ObjectMapper objectMapper;\r\n\r\n@PutMapping(value = &quot;/pdf/json&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;String&gt; pdf1Controller(\r\n    @Valid @ValidMediaType(MediaType.APPLICATION_JSON_VALUE) @RequestPart Part someJson,\r\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\r\n  System.err.println(\r\n    objectMapper.readValue(someJson.getInputStream(), SomeDto.class)\r\n  );\r\n  return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\r\n}\r\n```\r\n\r\nWe need to extend/an additional Validator (which is capable of `Part` and our &quot;custom annotation&quot;):\r\n\r\n```\r\nclass MultiPartPartValidator implements ConstraintValidator&lt;ValidMediaType, Part&gt; { // ... analogous to existing\r\n```\r\n\r\nWe need to mention/enable/wire it on our annotation:\r\n```\r\n@Constraint(validatedBy = {MultiPartPartValidator.class // , ... \r\n```\r\n\r\nThe tests (hardest part:) can look like this:\r\n\r\n```\r\n@Test\r\nvoid testPdfJsonValid() throws Exception {\r\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes());\r\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json&quot;)\r\n          .file(mockPdf)\r\n          .part(jsonPart)) // !\r\n      .andExpectAll(status().isOk(), // !!\r\n          content().string(&quot;aha.pdf&quot;));\r\n}\r\n\r\n@Test\r\nvoid testPdfJsonInvalid() throws Exception {\r\n  mockMvc.perform(\r\n      putMultipart(&quot;/validated/pdf/json&quot;)\r\n          .file(mockPdf)\r\n          .part(new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes()))) // ??\r\n      .andExpect(status().isBadRequest()); // !\r\n}\r\n```\r\n\r\nLooks also good in postman:\r\n\r\n[![postman screenshot][2]][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/xerx593/soq70225979\r\n  [2]: https://i.stack.imgur.com/35bgW.png","title":"Spring: validation with @RequestPart isn&#39;t working","body":"<p>Update:</p>\n<blockquote>\n<p>..  I would like to be able to apply validation annotations on my json properties</p>\n</blockquote>\n<p>Yes, we can also do that, but cannot use the &quot;ValidMediaType&quot; annotation on <code>SomeDto</code> (as a root):</p>\n<pre><code>// ...\n@PutMapping(value = &quot;/pdf/json/v2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n  public ResponseEntity&lt;String&gt; pdf2Controller(\n      @Valid @RequestPart SomeDto someJson,\n      @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\n    System.err.println(someJson);\n    return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\n  }\n}\n\n@lombok.Value(staticConstructor = &quot;of&quot;)\nclass SomeDto {\n  @NotNull\n  String foo;\n  @Size(min = 3, max = 6)\n  String bar;\n}\n</code></pre>\n<p>And Tests ... :</p>\n<pre><code>@Test\nvoid testPdfJson2Valid() throws Exception {\n  final MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;,\n      testValidJson.getInputStream().readAllBytes());\n  // we need this! (so implicitely validate, but other error code)\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n  mockMvc.perform(putMultipart(&quot;/validated/pdf/json/v2&quot;)\n      .file(mockPdf)\n      .part(jsonPart)) // !\n      .andExpectAll(status().isOk(), // !!\n          content().string(&quot;aha.pdf&quot;));\n}\n\n@Test\nvoid testPdfJson2ValidAlt() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\n          .file(mockPdf)\n          // also\n          .file(validJsonFile()))\n      .andExpectAll(status().isOk(), // ..works !!\n          content().string(&quot;aha.pdf&quot;));\n}\n\n@Test\nvoid testPdfJson2unsupportedMediaType() throws Exception {\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testValidJson.getInputStream().readAllBytes());\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\n          .file(mockPdf)\n          .part(jsonPart)) // no/wrong content type\n      .andExpect(status().isUnsupportedMediaType()); // !\n}\n\n@Test\nvoid testPdfJson2Invalid() throws Exception {\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testInvalidJson.getInputStream().readAllBytes());\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json/v2&quot;)\n          .file(mockPdf)\n          .part(jsonPart))\n      .andExpect(status().isBadRequest()); // !\n}\n</code></pre>\n<p><a href=\"https://github.com/xerx593/soq70225979\" rel=\"nofollow noreferrer\">all here</a></p>\n<p>Original:</p>\n<hr />\n<p>I updated my <a href=\"https://github.com/xerx593/soq70225979\" rel=\"nofollow noreferrer\">old repository</a> with your new controller:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(value = &quot;/pdf/{id}&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;String&gt; pdfController(\n    @PathVariable Integer id,\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart(&quot;custom_file&quot;) MultipartFile file) {\n  // just a test/demo:\n  return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\n}\n</code></pre>\n<p>..and Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testPdfInvalid() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/1&quot;)\n          .file(new MockMultipartFile(\n              &quot;custom_file&quot;,\n              &quot;ohoh.jpg&quot;,\n              MediaType.IMAGE_JPEG_VALUE, // ??\n              (byte[]) null)))\n      .andExpect(status().isBadRequest()) // !!\n      .andExpect(content().string(endsWith(&quot;application/pdf.\\&quot;}&quot;)));\n}\n\n@Test\nvoid testPdfValid() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/1&quot;)\n          .file(new MockMultipartFile(\n              &quot;custom_file&quot;,\n              &quot;aha.pdf&quot;,\n              MediaType.APPLICATION_PDF_VALUE, // !\n              (byte[]) null)))\n      .andExpectAll(status().isOk(), // !!\n          content().string(&quot;aha.pdf&quot;)); /// !!!\n}\n</code></pre>\n<p>...works like charm.</p>\n<hr />\n<p>Here is, how I could handle the multipart file + json parts scenario:</p>\n<p>Updated controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 1.\nimport javax.servlet.http.Part;\n// - it has built-in handling (as method argument by spring-web(flux))\n// - it has &quot;content-type&quot; attribute (to validate)\n// - and it has input stream (to read json) \n// ...\n\n// normally we would get &quot;json objects&quot; in controller, now due to validation, we have to read it from the Part\n@Autowired ObjectMapper objectMapper;\n\n@PutMapping(value = &quot;/pdf/json&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;String&gt; pdf1Controller(\n    @Valid @ValidMediaType(MediaType.APPLICATION_JSON_VALUE) @RequestPart Part someJson,\n    @Valid @ValidMediaType(MediaType.APPLICATION_PDF_VALUE) @RequestPart MultipartFile someFile) throws IOException {\n  System.err.println(\n    objectMapper.readValue(someJson.getInputStream(), SomeDto.class)\n  );\n  return new ResponseEntity&lt;&gt;(someFile.getOriginalFilename(), HttpStatus.OK);\n}\n</code></pre>\n<p>We need to extend/an additional Validator (which is capable of <code>Part</code> and our &quot;custom annotation&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MultiPartPartValidator implements ConstraintValidator&lt;ValidMediaType, Part&gt; { // ... analogous to existing\n</code></pre>\n<p>We need to mention/enable/wire it on our annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(validatedBy = {MultiPartPartValidator.class // , ... \n</code></pre>\n<p>The tests (hardest part:) can look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testPdfJsonValid() throws Exception {\n  MockPart jsonPart = new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes());\n  jsonPart.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json&quot;)\n          .file(mockPdf)\n          .part(jsonPart)) // !\n      .andExpectAll(status().isOk(), // !!\n          content().string(&quot;aha.pdf&quot;));\n}\n\n@Test\nvoid testPdfJsonInvalid() throws Exception {\n  mockMvc.perform(\n      putMultipart(&quot;/validated/pdf/json&quot;)\n          .file(mockPdf)\n          .part(new MockPart(&quot;someJson&quot;, &quot;test.json&quot;, testJson.getInputStream().readAllBytes()))) // ??\n      .andExpect(status().isBadRequest()); // !\n}\n</code></pre>\n<p>Looks also good in postman:</p>\n<p><a href=\"https://i.stack.imgur.com/35bgW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/35bgW.png\" alt=\"postman screenshot\" /></a></p>\n"}],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76125122,"answer_count":1,"score":1,"last_activity_date":1682676238,"creation_date":1682613763,"question_id":76122829,"body_markdown":"If I send a PNG file, the file name is returned with a HTTP 200 code. While only a PDF file should be accepted :\r\n\r\n```java\r\n@PutMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;String&gt; send(\r\n    @PathVariable Integer id,\r\n    @Valid @FileContentType(contentTypes = {\r\n      MediaType.APPLICATION_PDF_VALUE\r\n    }) @RequestPart(&quot;custom_file&quot;) MultipartFile file\r\n) {\r\n    return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\r\n}\r\n```\r\n\r\nNote that my validator works when I use it on @RequestBody...\r\n\r\nI tried to log my validator to see if it is triggered or not, but I don&#39;t even get in.\r\n\r\n**EDIT 1 (partial solution) :**\r\n\r\n`@Valid` seems to work only for complex objects. It doesn&#39;t work on @RequestParam/Part directly cause there is no binding. The easiest way is to create a class that englobe the multipart file and where there is the validation logic.\r\n\r\n**However, this does not apply to my case, because in reality I want it to work with mixed content. I send both a json body and a multipart file.**\r\n\r\nSo I can&#39;t put all my validation in the same class.\r\n","title":"Spring: validation with @RequestPart isn&#39;t working","body":"<p>If I send a PNG file, the file name is returned with a HTTP 200 code. While only a PDF file should be accepted :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;String&gt; send(\n    @PathVariable Integer id,\n    @Valid @FileContentType(contentTypes = {\n      MediaType.APPLICATION_PDF_VALUE\n    }) @RequestPart(&quot;custom_file&quot;) MultipartFile file\n) {\n    return new ResponseEntity&lt;&gt;(file.getOriginalFilename(), HttpStatus.OK);\n}\n</code></pre>\n<p>Note that my validator works when I use it on @RequestBody...</p>\n<p>I tried to log my validator to see if it is triggered or not, but I don't even get in.</p>\n<p><strong>EDIT 1 (partial solution) :</strong></p>\n<p><code>@Valid</code> seems to work only for complex objects. It doesn't work on @RequestParam/Part directly cause there is no binding. The easiest way is to create a class that englobe the multipart file and where there is the validation logic.</p>\n<p><strong>However, this does not apply to my case, because in reality I want it to work with mixed content. I send both a json body and a multipart file.</strong></p>\n<p>So I can't put all my validation in the same class.</p>\n"},{"tags":["java","linux","installation","bazel","manjaro"],"answers":[{"tags":[],"owner":{"account_id":27981666,"reputation":146,"user_id":21369318,"display_name":"Pavan Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682676238,"creation_date":1682676238,"answer_id":76128453,"question_id":73410276,"body_markdown":"From the shared log, this looks like a Java language issue.\r\nRecommended solution is to reinstall JRE. Also, can you try this with a more recent version of Bazel? JavaCompilationHelper has changed quite a bit in the last year, so an updated repro might help here.\r\nhttps://bazel.build/docs/bazel-and-java#java-versions","title":"Bazel fails to build/install under Arch/Manjaro (KDE) Linux 5.19rt returning ExceptionInInitializerError/NullPointerException","body":"<p>From the shared log, this looks like a Java language issue.\nRecommended solution is to reinstall JRE. Also, can you try this with a more recent version of Bazel? JavaCompilationHelper has changed quite a bit in the last year, so an updated repro might help here.\n<a href=\"https://bazel.build/docs/bazel-and-java#java-versions\" rel=\"nofollow noreferrer\">https://bazel.build/docs/bazel-and-java#java-versions</a></p>\n"}],"owner":{"account_id":7421894,"reputation":87,"user_id":5645885,"display_name":"Logan Rios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76128453,"answer_count":1,"score":1,"last_activity_date":1682676238,"creation_date":1660863927,"question_id":73410276,"body_markdown":"**Problem:**\r\nI&#39;m trying to install tensorflow-amd and one of the dependencies is bazel. On installation of bazel I get the following error message:\r\n\r\n    [miner-ms7a59 Downloads]# sudo pacman -S bazel\r\n    resolving dependencies...\r\n    looking for conflicting packages...\r\n    \r\n    Packages (7) jdk11-openjdk-11.0.16.1.u1-2  jre11-openjdk-11.0.16.1.u1-2  jre11-openjdk-headless-11.0.16.1.u1-2  libnet-1:1.1.6-1  unzip-6.0-19  zip-3.0-10\r\n                 bazel-5.2.0-1\r\n    \r\n    Total Installed Size:  382.41 MiB\r\n    \r\n    :: Proceed with installation? [Y/n] \r\n    (7/7) checking keys in keyring                                                                [#######################################################] 100%\r\n    (7/7) checking package integrity                                                              [#######################################################] 100%\r\n    (7/7) loading package files                                                                   [#######################################################] 100%\r\n    (7/7) checking for file conflicts                                                             [#######################################################] 100%\r\n    (7/7) checking available disk space                                                           [#######################################################] 100%\r\n    :: Processing package changes...\r\n    (1/7) installing libnet                                                                       [#######################################################] 100%\r\n    (2/7) installing jre11-openjdk-headless                                                       [#######################################################] 100%\r\n    Optional dependencies for jre11-openjdk-headless\r\n        java-rhino: for some JavaScript support\r\n    (3/7) installing jre11-openjdk                                                                [#######################################################] 100%\r\n    when you use a non-reparenting window manager,\r\n    set _JAVA_AWT_WM_NONREPARENTING=1 in /etc/profile.d/jre.sh\r\n    Optional dependencies for jre11-openjdk\r\n        alsa-lib: for basic sound support [installed]\r\n        gtk2: for the Gtk+ 2 look and feel - desktop usage [installed]\r\n        gtk3: for the Gtk+ 3 look and feel - desktop usage [installed]\r\n    (4/7) installing jdk11-openjdk                                                                [#######################################################] 100%\r\n    (5/7) installing zip                                                                          [#######################################################] 100%\r\n    (6/7) installing unzip                                                                        [#######################################################] 100%\r\n    (7/7) installing bazel                                                                        [#######################################################] 100%\r\n    :: Running post-transaction hooks...\r\n    (1/4) Arming ConditionNeedsUpdate...\r\n    (2/4) Refreshing PackageKit...\r\n    (3/4) Updating icon theme caches...\r\n    (4/4) Updating the desktop file MIME type cache...\r\n    [miner-ms7a59 Downloads]# bazel --version\r\n    bazel 5.2.0\r\n    [miner-ms7a59 Downloads]# bazel\r\n    WARNING: Invoking Bazel in batch mode since it is not invoked from within a workspace (below a directory having a WORKSPACE file).\r\n    Extracting Bazel installation...\r\n    FATAL: bazel crashed due to an internal error. Printing stack trace:\r\n    java.lang.ExceptionInInitializerError\r\n            at com.google.devtools.build.lib.skyframe.SkyframeExecutor.&lt;clinit&gt;(SkyframeExecutor.java:373)\r\n            at com.google.devtools.build.lib.skyframe.BazelSkyframeExecutorConstants.newBazelSkyframeExecutorBuilder(BazelSkyframeExecutorConstants.java:63)\r\n            at com.google.devtools.build.lib.skyframe.SequencedSkyframeExecutorFactory.create(SequencedSkyframeExecutorFactory.java:43)\r\n            at com.google.devtools.build.lib.runtime.WorkspaceBuilder.build(WorkspaceBuilder.java:73)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.initWorkspace(BlazeRuntime.java:265)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.newRuntime(BlazeRuntime.java:1316)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.batchMain(BlazeRuntime.java:925)\r\n            at com.google.devtools.build.lib.runtime.BlazeRuntime.main(BlazeRuntime.java:762)\r\n            at com.google.devtools.build.lib.bazel.Bazel.main(Bazel.java:87)\r\n    Caused by: java.lang.NullPointerException\r\n            at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.getInstance(CgroupV2Subsystem.java:81)\r\n            at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:113)\r\n            at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\r\n            at java.base/jdk.internal.platform.SystemMetrics.instance(SystemMetrics.java:29)\r\n            at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:58)\r\n            at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\r\n            at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\r\n            at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\r\n            at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\r\n            at java.management/sun.management.spi.PlatformMBeanProvider$PlatformComponent.getMBeans(PlatformMBeanProvider.java:195)\r\n            at java.management/java.lang.management.ManagementFactory.getPlatformMXBean(ManagementFactory.java:686)\r\n            at java.management/java.lang.management.ManagementFactory.getOperatingSystemMXBean(ManagementFactory.java:388)\r\n            at com.google.devtools.build.lib.util.ResourceUsage.&lt;clinit&gt;(ResourceUsage.java:42)\r\n            ... 9 more\r\n    [miner-ms7a59 Downloads]# \r\nBuilding bazel with the git repository with yay didn&#39;t really help much either, since it gave the same error message in the middle of the build. A lot of other stackoverflow questions trail off into either the java version or the linux version, even though the java version I&#39;m running right now is *openjdk 11.0.16.1 2022-08-12* and I dont have any other jdk installed other than *jdk11-openjdk 11.0.16.1.u1-2, jre11-openjdk 11.0.16.1.u1-2, jre11-openjdk-headless 11.0.16.1.u1-2* (given by pacman -Q | grep jdk)","title":"Bazel fails to build/install under Arch/Manjaro (KDE) Linux 5.19rt returning ExceptionInInitializerError/NullPointerException","body":"<p><strong>Problem:</strong>\nI'm trying to install tensorflow-amd and one of the dependencies is bazel. On installation of bazel I get the following error message:</p>\n<pre><code>[miner-ms7a59 Downloads]# sudo pacman -S bazel\nresolving dependencies...\nlooking for conflicting packages...\n\nPackages (7) jdk11-openjdk-11.0.16.1.u1-2  jre11-openjdk-11.0.16.1.u1-2  jre11-openjdk-headless-11.0.16.1.u1-2  libnet-1:1.1.6-1  unzip-6.0-19  zip-3.0-10\n             bazel-5.2.0-1\n\nTotal Installed Size:  382.41 MiB\n\n:: Proceed with installation? [Y/n] \n(7/7) checking keys in keyring                                                                [#######################################################] 100%\n(7/7) checking package integrity                                                              [#######################################################] 100%\n(7/7) loading package files                                                                   [#######################################################] 100%\n(7/7) checking for file conflicts                                                             [#######################################################] 100%\n(7/7) checking available disk space                                                           [#######################################################] 100%\n:: Processing package changes...\n(1/7) installing libnet                                                                       [#######################################################] 100%\n(2/7) installing jre11-openjdk-headless                                                       [#######################################################] 100%\nOptional dependencies for jre11-openjdk-headless\n    java-rhino: for some JavaScript support\n(3/7) installing jre11-openjdk                                                                [#######################################################] 100%\nwhen you use a non-reparenting window manager,\nset _JAVA_AWT_WM_NONREPARENTING=1 in /etc/profile.d/jre.sh\nOptional dependencies for jre11-openjdk\n    alsa-lib: for basic sound support [installed]\n    gtk2: for the Gtk+ 2 look and feel - desktop usage [installed]\n    gtk3: for the Gtk+ 3 look and feel - desktop usage [installed]\n(4/7) installing jdk11-openjdk                                                                [#######################################################] 100%\n(5/7) installing zip                                                                          [#######################################################] 100%\n(6/7) installing unzip                                                                        [#######################################################] 100%\n(7/7) installing bazel                                                                        [#######################################################] 100%\n:: Running post-transaction hooks...\n(1/4) Arming ConditionNeedsUpdate...\n(2/4) Refreshing PackageKit...\n(3/4) Updating icon theme caches...\n(4/4) Updating the desktop file MIME type cache...\n[miner-ms7a59 Downloads]# bazel --version\nbazel 5.2.0\n[miner-ms7a59 Downloads]# bazel\nWARNING: Invoking Bazel in batch mode since it is not invoked from within a workspace (below a directory having a WORKSPACE file).\nExtracting Bazel installation...\nFATAL: bazel crashed due to an internal error. Printing stack trace:\njava.lang.ExceptionInInitializerError\n        at com.google.devtools.build.lib.skyframe.SkyframeExecutor.&lt;clinit&gt;(SkyframeExecutor.java:373)\n        at com.google.devtools.build.lib.skyframe.BazelSkyframeExecutorConstants.newBazelSkyframeExecutorBuilder(BazelSkyframeExecutorConstants.java:63)\n        at com.google.devtools.build.lib.skyframe.SequencedSkyframeExecutorFactory.create(SequencedSkyframeExecutorFactory.java:43)\n        at com.google.devtools.build.lib.runtime.WorkspaceBuilder.build(WorkspaceBuilder.java:73)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.initWorkspace(BlazeRuntime.java:265)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.newRuntime(BlazeRuntime.java:1316)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.batchMain(BlazeRuntime.java:925)\n        at com.google.devtools.build.lib.runtime.BlazeRuntime.main(BlazeRuntime.java:762)\n        at com.google.devtools.build.lib.bazel.Bazel.main(Bazel.java:87)\nCaused by: java.lang.NullPointerException\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.getInstance(CgroupV2Subsystem.java:81)\n        at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:113)\n        at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\n        at java.base/jdk.internal.platform.SystemMetrics.instance(SystemMetrics.java:29)\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:58)\n        at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\n        at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\n        at java.management/sun.management.spi.PlatformMBeanProvider$PlatformComponent.getMBeans(PlatformMBeanProvider.java:195)\n        at java.management/java.lang.management.ManagementFactory.getPlatformMXBean(ManagementFactory.java:686)\n        at java.management/java.lang.management.ManagementFactory.getOperatingSystemMXBean(ManagementFactory.java:388)\n        at com.google.devtools.build.lib.util.ResourceUsage.&lt;clinit&gt;(ResourceUsage.java:42)\n        ... 9 more\n[miner-ms7a59 Downloads]# \n</code></pre>\n<p>Building bazel with the git repository with yay didn't really help much either, since it gave the same error message in the middle of the build. A lot of other stackoverflow questions trail off into either the java version or the linux version, even though the java version I'm running right now is <em>openjdk 11.0.16.1 2022-08-12</em> and I dont have any other jdk installed other than <em>jdk11-openjdk 11.0.16.1.u1-2, jre11-openjdk 11.0.16.1.u1-2, jre11-openjdk-headless 11.0.16.1.u1-2</em> (given by pacman -Q | grep jdk)</p>\n"},{"tags":["java","spring","comparison"],"owner":{"account_id":7872420,"reputation":25,"user_id":5949232,"display_name":"Manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682676208,"creation_date":1682676208,"question_id":76128449,"body_markdown":"I am currently having a use case to implement in JAVA, and i wanted to seek forum&#39;s suggestions if any\r\n\r\n**Problem Statement**\r\n\r\nWe want to do custom comparison between 2 values at runtime\r\n1. the first value is retrieved from DB (would always be String)\r\n2. the second value would be parsed from File (would always be String)\r\n\r\nThe values though in String, can be Integer, Date, Float, Decimal or String..which is inferred from one of the columns in DB\r\nThe condition which needs to be applied between 2 values (for e.g, &gt;=, &lt;=, &gt;, &lt;) is specified in one of the column of DB and available in String format\r\n\r\n\r\n\r\nHowever, is there a better framework to already take care of same??\r\n\r\nPossible Approach:\r\n1. To implement on our own the behavior for comparison based on DataType in java code and Condition in String. But the issue is there are lot of use cases to code and test. Also each time a new condition is added if not covered Code changes are required\r\n```\r\n\r\nimport org.apache.commons.lang3.ObjectUtils;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic enum Operation {\r\n\r\n    EQUAL_DATE(&quot;EQUAL_DATE&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            //Local\r\n            try {\r\n                LocalDate leftDate = (LocalDate) left;\r\n                LocalDate rightDate = (LocalDate) right;\r\n                return leftDate.isEqual(rightDate);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    },\r\n\r\n    LESS_THAN_EQUAL_DATE(&quot;LESSTHANEQUAL_DATE&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            try {\r\n                LocalDate leftDate = (LocalDate) left;\r\n                LocalDate rightDate = (LocalDate) right;\r\n                return leftDate.isBefore(rightDate) || leftDate.isEqual(rightDate);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    },\r\n\r\n    GREATER_THAN_EQUAL_DATE(&quot;GREATERTHANEQUAL_DATE&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            try {\r\n                LocalDate leftDate = (LocalDate) left;\r\n                LocalDate rightDate = (LocalDate) right;\r\n                return leftDate.isEqual(rightDate) || leftDate.isAfter(rightDate);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    },\r\n    /**\r\n     * for Data type agnostic checks ANY is appended\r\n     */\r\n    NOT_NULL_ANY(&quot;NOT_NULL_ANY&quot;) {\r\n        @Override\r\n        public boolean apply(Object left, Object right) {\r\n            // here right doesn&#39;t matter, ignore it, always left parameter is the data from file\r\n            return ObjectUtils.allNotNull(left);\r\n        }\r\n    };\r\n\r\n\r\n    private final String operation;\r\n    private Operation (String operation) {\r\n        this.operation = operation;\r\n    }\r\n\r\n    public static Operation parseOperator(String operator) {\r\n        for (Operation op : values()) {\r\n            if (op.operation.equals(operator)) return op;\r\n        }\r\n        throw new NoSuchElementException(String.format(&quot;Unknown operator [%s]&quot;, operator));\r\n    }\r\n    public abstract boolean apply(Object left, Object right);\r\n}\r\n\r\n```\r\n`","title":"Java Framework to validate values (Type identified at RunTime) and Condition (how to compare 2 values) at Run time","body":"<p>I am currently having a use case to implement in JAVA, and i wanted to seek forum's suggestions if any</p>\n<p><strong>Problem Statement</strong></p>\n<p>We want to do custom comparison between 2 values at runtime</p>\n<ol>\n<li>the first value is retrieved from DB (would always be String)</li>\n<li>the second value would be parsed from File (would always be String)</li>\n</ol>\n<p>The values though in String, can be Integer, Date, Float, Decimal or String..which is inferred from one of the columns in DB\nThe condition which needs to be applied between 2 values (for e.g, &gt;=, &lt;=, &gt;, &lt;) is specified in one of the column of DB and available in String format</p>\n<p>However, is there a better framework to already take care of same??</p>\n<p>Possible Approach:</p>\n<ol>\n<li>To implement on our own the behavior for comparison based on DataType in java code and Condition in String. But the issue is there are lot of use cases to code and test. Also each time a new condition is added if not covered Code changes are required</li>\n</ol>\n<pre><code>\nimport org.apache.commons.lang3.ObjectUtils;\n\nimport java.time.LocalDate;\nimport java.util.NoSuchElementException;\n\npublic enum Operation {\n\n    EQUAL_DATE(&quot;EQUAL_DATE&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            //Local\n            try {\n                LocalDate leftDate = (LocalDate) left;\n                LocalDate rightDate = (LocalDate) right;\n                return leftDate.isEqual(rightDate);\n            } catch (Exception e) {\n\n            }\n            return true;\n        }\n    },\n\n    LESS_THAN_EQUAL_DATE(&quot;LESSTHANEQUAL_DATE&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            try {\n                LocalDate leftDate = (LocalDate) left;\n                LocalDate rightDate = (LocalDate) right;\n                return leftDate.isBefore(rightDate) || leftDate.isEqual(rightDate);\n            } catch (Exception e) {\n\n            }\n            return true;\n        }\n    },\n\n    GREATER_THAN_EQUAL_DATE(&quot;GREATERTHANEQUAL_DATE&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            try {\n                LocalDate leftDate = (LocalDate) left;\n                LocalDate rightDate = (LocalDate) right;\n                return leftDate.isEqual(rightDate) || leftDate.isAfter(rightDate);\n            } catch (Exception e) {\n\n            }\n            return true;\n        }\n    },\n    /**\n     * for Data type agnostic checks ANY is appended\n     */\n    NOT_NULL_ANY(&quot;NOT_NULL_ANY&quot;) {\n        @Override\n        public boolean apply(Object left, Object right) {\n            // here right doesn't matter, ignore it, always left parameter is the data from file\n            return ObjectUtils.allNotNull(left);\n        }\n    };\n\n\n    private final String operation;\n    private Operation (String operation) {\n        this.operation = operation;\n    }\n\n    public static Operation parseOperator(String operator) {\n        for (Operation op : values()) {\n            if (op.operation.equals(operator)) return op;\n        }\n        throw new NoSuchElementException(String.format(&quot;Unknown operator [%s]&quot;, operator));\n    }\n    public abstract boolean apply(Object left, Object right);\n}\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","maven","jenkins","maven-release-plugin"],"answers":[{"tags":[],"owner":{"account_id":205530,"reputation":622,"user_id":454335,"accept_rate":83,"display_name":"vinni_f"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1441293625,"creation_date":1441293625,"answer_id":32379650,"question_id":32319761,"body_markdown":"The best solution I found so far is to upgrage the JDK of the container in which jenkins runs and add a JAVA_OPTS to the latter to support the previous JDK version. e.g. `-Djava.version=1.7`\r\n\r\nThis way I can build and maven release projects that are java 7 or java 8.","title":"Jenkins maven release plugin with different jdk","body":"<p>The best solution I found so far is to upgrage the JDK of the container in which jenkins runs and add a JAVA_OPTS to the latter to support the previous JDK version. e.g. <code>-Djava.version=1.7</code></p>\n\n<p>This way I can build and maven release projects that are java 7 or java 8.</p>\n"},{"tags":[],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682675260,"creation_date":1682675260,"answer_id":76128307,"question_id":32319761,"body_markdown":"A similar, but slightly different approach is to let Jenkins to have the current JVM, and install an alternate JVM on the Jenkins&#39; machine on a specific folder.\r\n\r\nThen on your project, you can define the JVM machine as a pre-step called `Inject environment variables` and set on `Properties Content`:\r\n\r\n```\r\nJAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\r\n```\r\nThe advantage is that you do not need to modify all the old existing projects are using the previous JVM, and only on this project you are selecting a different JVM.\r\n\r\nNote that this approach is due to, despite Jenkins allowing to use multiples JDKs, they are working fine for a standard `mvn clean install` but is failing when using the &quot;Mvn Release Plugin&quot; as requested by the OP.  ","title":"Jenkins maven release plugin with different jdk","body":"<p>A similar, but slightly different approach is to let Jenkins to have the current JVM, and install an alternate JVM on the Jenkins' machine on a specific folder.</p>\n<p>Then on your project, you can define the JVM machine as a pre-step called <code>Inject environment variables</code> and set on <code>Properties Content</code>:</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\n</code></pre>\n<p>The advantage is that you do not need to modify all the old existing projects are using the previous JVM, and only on this project you are selecting a different JVM.</p>\n<p>Note that this approach is due to, despite Jenkins allowing to use multiples JDKs, they are working fine for a standard <code>mvn clean install</code> but is failing when using the &quot;Mvn Release Plugin&quot; as requested by the OP.</p>\n"}],"owner":{"account_id":205530,"reputation":622,"user_id":454335,"accept_rate":83,"display_name":"vinni_f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32379650,"answer_count":2,"score":1,"last_activity_date":1682675260,"creation_date":1441054255,"question_id":32319761,"body_markdown":"I want to perform a maven release that compile java 1.8 code on a Jenkins install that runs on jdk 1.7\r\n\r\nI have a project that I compile with java 1.8 using the [ JDK Parameter Plugin ][1]. It works when doing a regular build.\r\n\r\nWhen I do a maven release using the maven release plugin, it forks a JVM with java 1.7 instead of the version specified on the plugin. I guess that it takes the java version in the environment.\r\n\r\nIf I set JAVA_HOME for that job to 1.8 it works.\r\n\r\nI am trying to find a solution where I don&#39;t have to override the JAVA_HOME in all my jobs.\r\n\r\nI tried to use the solution from a [similar post][2] which fixed OP problem by forcing a compiler version:\r\n\r\n    &lt;properties&gt;\r\n       &lt;jee.level&gt;1.8&lt;/jee.level&gt;\r\n       &lt;jdk.level&gt;1.8&lt;/jdk.level&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n           &lt;source&gt;${jee.level}&lt;/source&gt;\r\n           &lt;target&gt;${jdk.level}&lt;/target&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nbut I end up with:\r\n\r\n     [INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project redeem-commons-test: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\r\n\r\nany help would be appreciated.\r\n\r\n  [1]: https://wiki.jenkins-ci.org/display/JENKINS/JDK+Parameter+Plugin\r\n  [2]: https://stackoverflow.com/questions/23157231/jenkins-will-not-use-java-7-compiler","title":"Jenkins maven release plugin with different jdk","body":"<p>I want to perform a maven release that compile java 1.8 code on a Jenkins install that runs on jdk 1.7</p>\n\n<p>I have a project that I compile with java 1.8 using the <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/JDK+Parameter+Plugin\" rel=\"nofollow noreferrer\"> JDK Parameter Plugin </a>. It works when doing a regular build.</p>\n\n<p>When I do a maven release using the maven release plugin, it forks a JVM with java 1.7 instead of the version specified on the plugin. I guess that it takes the java version in the environment.</p>\n\n<p>If I set JAVA_HOME for that job to 1.8 it works.</p>\n\n<p>I am trying to find a solution where I don't have to override the JAVA_HOME in all my jobs.</p>\n\n<p>I tried to use the solution from a <a href=\"https://stackoverflow.com/questions/23157231/jenkins-will-not-use-java-7-compiler\">similar post</a> which fixed OP problem by forcing a compiler version:</p>\n\n<pre><code>&lt;properties&gt;\n   &lt;jee.level&gt;1.8&lt;/jee.level&gt;\n   &lt;jdk.level&gt;1.8&lt;/jdk.level&gt;\n&lt;/properties&gt;\n\n&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n       &lt;source&gt;${jee.level}&lt;/source&gt;\n       &lt;target&gt;${jdk.level}&lt;/target&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>but I end up with:</p>\n\n<pre><code> [INFO] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project redeem-commons-test: Fatal error compiling: invalid target release: 1.8 -&gt; [Help 1]\n</code></pre>\n\n<p>any help would be appreciated.</p>\n"},{"tags":["java","networking","ssl","keystore","jsse"],"comments":[{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1696426441,"post_id":13173610,"comment_id":136151320,"body_markdown":"Does this answer your question? [Reloading a java.net.http.HttpClient&#39;s SSLContext](https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext\">Reloading a java.net.http.HttpClient&#39;s SSLContext</a>"}],"answers":[{"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":1,"creation_date":1351817499,"post_id":13186765,"comment_id":17950762,"body_markdown":"It might be possible to write a `TrustManager` that wraps the one obtained from a TMF, with a setter to change the delegated instance. I&#39;m not sure how that would work regarding potential concurrency issues, though.","body":"It might be possible to write a <code>TrustManager</code> that wraps the one obtained from a TMF, with a setter to change the delegated instance. I&#39;m not sure how that would work regarding potential concurrency issues, though."},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1351841936,"post_id":13186765,"comment_id":17956007,"body_markdown":"So would the best option be to recreate `SSLContext` when it is required?Could I do this:`TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm()); tmf.init(ts);`?I found this: http://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/ that seems to be what I need but I am not sure if it works or I should keep recreating the `SSLContext` instead","body":"So would the best option be to recreate <code>SSLContext</code> when it is required?Could I do this:<code>TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefau&zwnj;&#8203;ltAlgorithm()); tmf.init(ts);</code>?I found this: <a href=\"http://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/\" rel=\"nofollow noreferrer\">jcalcote.wordpress.com/2010/06/22/&hellip;</a> that seems to be what I need but I am not sure if it works or I should keep recreating the <code>SSLContext</code> instead"},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1351856482,"post_id":13186765,"comment_id":17961137,"body_markdown":"@EJP:So what do you recommend?","body":"@EJP:So what do you recommend?"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351810592,"creation_date":1351810592,"answer_id":13186765,"question_id":13173610,"body_markdown":"You can&#39;t &#39;reload&#39; an `SSLContext`, but you can certainly create a new one. A custom `TrustManager` won&#39;t help, as it is the underlying `TrustManagerFactory` that has the connection to the keystore, not the `TrustManager`.","title":"SSLContext. Should I reload it?","body":"<p>You can't 'reload' an <code>SSLContext</code>, but you can certainly create a new one. A custom <code>TrustManager</code> won't help, as it is the underlying <code>TrustManagerFactory</code> that has the connection to the keystore, not the <code>TrustManager</code>.</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682674797,"creation_date":1682674797,"answer_id":76128243,"question_id":13173610,"body_markdown":"It is possible to reload the TrustManager within the SSLContext while using the existing SSLContext. See here for the answer which I posted for a similar question: https://stackoverflow.com/a/69507126/6777695 It contains the full snippet of code samples.","title":"SSLContext. Should I reload it?","body":"<p>It is possible to reload the TrustManager within the SSLContext while using the existing SSLContext. See here for the answer which I posted for a similar question: <a href=\"https://stackoverflow.com/a/69507126/6777695\">https://stackoverflow.com/a/69507126/6777695</a> It contains the full snippet of code samples.</p>\n"}],"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682674797,"creation_date":1351759314,"question_id":13173610,"body_markdown":"I am interested in updating a truststore dynamically.  \r\nWhat would be the best option?  \r\nReload `SSLContext` or is it possible to recreate `TrustManagers`?  ","title":"SSLContext. Should I reload it?","body":"<p>I am interested in updating a truststore dynamically.<br>\nWhat would be the best option?<br>\nReload <code>SSLContext</code> or is it possible to recreate <code>TrustManagers</code>?  </p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"score":1,"creation_date":1675376629,"post_id":75329395,"comment_id":132921856,"body_markdown":"If you&#39;re using mac I recommend you installing java JDKs via SDKMan, it will set your default java as well. Then you shouldn&#39;t have version mismatch issues.","body":"If you&#39;re using mac I recommend you installing java JDKs via SDKMan, it will set your default java as well. Then you shouldn&#39;t have version mismatch issues."},{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":1,"creation_date":1675376861,"post_id":75329395,"comment_id":132921914,"body_markdown":"for the management of different java environments I&#39;d recommend using (jenv)[https://www.jenv.be/]. Within Intellij check `File` &gt; `Project Structure...`. This setting contains the SDK. Also a restart (and/or invalidate caches) of Intellij can help","body":"for the management of different java environments I&#39;d recommend using (jenv)[<a href=\"https://www.jenv.be/]\" rel=\"nofollow noreferrer\">jenv.be/]</a>. Within Intellij check <code>File</code> &gt; <code>Project Structure...</code>. This setting contains the SDK. Also a restart (and/or invalidate caches) of Intellij can help"}],"answers":[{"comments":[{"owner":{"account_id":17021372,"reputation":15,"user_id":12313856,"display_name":"Eren Ahmed"},"score":0,"creation_date":1675439674,"post_id":75332931,"comment_id":132935839,"body_markdown":"This fixed my problem to some point. Now I get different errors. I will try installing spring on my windows pc because it is way too complicated on macOs. It is really annoying. Anyway I will choose your answer as the solution. Thank you!","body":"This fixed my problem to some point. Now I get different errors. I will try installing spring on my windows pc because it is way too complicated on macOs. It is really annoying. Anyway I will choose your answer as the solution. Thank you!"}],"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675411186,"creation_date":1675411186,"answer_id":75332931,"question_id":75329395,"body_markdown":"Since you are just importing the generated Spring Boot POM application, in this case, you may just [Disable](https://www.jetbrains.com/help/datagrip/managing-plugins.html)  the third-party plug-in `Spring Boot Assistant`(Settings &gt; Plugins &gt; Installed, disable it) then restart your IDEA and everything should work.\r\n\r\nIf you still want to use that plugin, make sure you are using the latest version of IDEA CE(at this time it&#39;s 2022.3.2) and install the `Spring Boot Assistant` plugin again.","title":"Can&#39;t set up Spring boot project in intelliJ (Cannot load class error)","body":"<p>Since you are just importing the generated Spring Boot POM application, in this case, you may just <a href=\"https://www.jetbrains.com/help/datagrip/managing-plugins.html\" rel=\"nofollow noreferrer\">Disable</a>  the third-party plug-in <code>Spring Boot Assistant</code>(Settings &gt; Plugins &gt; Installed, disable it) then restart your IDEA and everything should work.</p>\n<p>If you still want to use that plugin, make sure you are using the latest version of IDEA CE(at this time it's 2022.3.2) and install the <code>Spring Boot Assistant</code> plugin again.</p>\n"},{"tags":[],"owner":{"account_id":25996453,"reputation":1,"user_id":19707749,"display_name":"Gaby Banu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682674012,"creation_date":1682674012,"answer_id":76128141,"question_id":75329395,"body_markdown":"For me, it worked by just rebuilding (not build) the project.","title":"Can&#39;t set up Spring boot project in intelliJ (Cannot load class error)","body":"<p>For me, it worked by just rebuilding (not build) the project.</p>\n"}],"owner":{"account_id":17021372,"reputation":15,"user_id":12313856,"display_name":"Eren Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332931,"answer_count":2,"score":0,"last_activity_date":1682674012,"creation_date":1675375278,"question_id":75329395,"body_markdown":"I installed maven on my MacOs device. Then I watched this tutorial on how to create a new Spring Boot project on intelliJ. https://www.youtube.com/watch?v=YDRNMAJo0MA\r\nWhen I press build project I get an error. This is the error I get:\r\n\r\n```\r\njava.util.concurrent.ExecutionException: com.intellij.diagnostic.PluginException: Cannot load class dev.flikas.spring.boot.assistant.idea.plugin.suggestion.filetype.YamlPropertiesFileType (\r\n  error: dev/flikas/spring/boot/assistant/idea/plugin/suggestion/filetype/YamlPropertiesFileType has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0,\r\n  classLoader=PluginClassLoader(plugin=PluginDescriptor(name=Spring Boot Assistant, id=dev.flikas.idea.spring.boot.assistant.plugin, descriptorPath=plugin.xml, path=~/Library/Application Support/JetBrains/IdeaIC2021.2/plugins/idea-spring-boot-assistant, version=0.17.2, package=null), packagePrefix=null, instanceId=67, state=active)\r\n)\r\n```\r\n\r\n\r\nAbove it says that this version of Java runtime only recognises class file versions up to 55.0 which is java 11. I created this Spring project firstly as java 17 project because on my macOs I have java 17 installed(I also have 11.0.12). Then in the pom.xml file I changed it to 11.0.12. Also on my project structure I changed it to JDK 11. \r\n\r\nI also tried changing my default jdk version on my macOs with this tutorial https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a \r\nWhen I use this line export JAVA_HOME=`/usr/libexec/java_home -v 11.0.12` and then write java -version it says that my jdk is java 11.0.12 but when I reset terminal and write java -version again it says that it&#39;s jdk 17. I also wrote\r\n export JAVA_HOME=`/usr/libexec/java_home -v 11.0.12` in my bash profile.\r\n\r\nI don&#39;t know what I have to do. \r\n\r\n","title":"Can&#39;t set up Spring boot project in intelliJ (Cannot load class error)","body":"<p>I installed maven on my MacOs device. Then I watched this tutorial on how to create a new Spring Boot project on intelliJ. <a href=\"https://www.youtube.com/watch?v=YDRNMAJo0MA\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=YDRNMAJo0MA</a>\nWhen I press build project I get an error. This is the error I get:</p>\n<pre><code>java.util.concurrent.ExecutionException: com.intellij.diagnostic.PluginException: Cannot load class dev.flikas.spring.boot.assistant.idea.plugin.suggestion.filetype.YamlPropertiesFileType (\n  error: dev/flikas/spring/boot/assistant/idea/plugin/suggestion/filetype/YamlPropertiesFileType has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0,\n  classLoader=PluginClassLoader(plugin=PluginDescriptor(name=Spring Boot Assistant, id=dev.flikas.idea.spring.boot.assistant.plugin, descriptorPath=plugin.xml, path=~/Library/Application Support/JetBrains/IdeaIC2021.2/plugins/idea-spring-boot-assistant, version=0.17.2, package=null), packagePrefix=null, instanceId=67, state=active)\n)\n</code></pre>\n<p>Above it says that this version of Java runtime only recognises class file versions up to 55.0 which is java 11. I created this Spring project firstly as java 17 project because on my macOs I have java 17 installed(I also have 11.0.12). Then in the pom.xml file I changed it to 11.0.12. Also on my project structure I changed it to JDK 11.</p>\n<p>I also tried changing my default jdk version on my macOs with this tutorial <a href=\"https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a\" rel=\"nofollow noreferrer\">https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a</a>\nWhen I use this line export JAVA_HOME=<code>/usr/libexec/java_home -v 11.0.12</code> and then write java -version it says that my jdk is java 11.0.12 but when I reset terminal and write java -version again it says that it's jdk 17. I also wrote\nexport JAVA_HOME=<code>/usr/libexec/java_home -v 11.0.12</code> in my bash profile.</p>\n<p>I don't know what I have to do.</p>\n"},{"tags":["java","database","hibernate"],"answers":[{"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1682673547,"post_id":76128063,"comment_id":134256062,"body_markdown":"You are answering the wrong question. I think you are meant to answer https://stackoverflow.com/questions/76127994/caused-by-java-io-notserializableexception-when-converting-spark-arraytype-to not this question.","body":"You are answering the wrong question. I think you are meant to answer <a href=\"https://stackoverflow.com/questions/76127994/caused-by-java-io-notserializableexception-when-converting-spark-arraytype-to\" title=\"caused by java io notserializableexception when converting spark arraytype to\">stackoverflow.com/questions/76127994/&hellip;</a> not this question."}],"tags":[],"owner":{"account_id":6670441,"reputation":446,"user_id":5146699,"display_name":"Naveen Goyal"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682673361,"creation_date":1682673361,"answer_id":76128063,"question_id":76127984,"body_markdown":"The java.io.NotSerializableException error is typically thrown in Spark when attempting to serialize an object that is not serializable. In your case, it looks like you are trying to convert a Spark ArrayType to a Java List&lt;String&gt;, which is not a serializable operation.\r\n\r\nTo resolve this issue, you can try converting the ArrayType to a serializable format before converting it to a List&lt;String&gt;. One way to do this is by converting the ArrayType to a Java array of String objects, which is serializable. You can then convert this Java array to a List&lt;String&gt; if needed.\r\n\r\nHere&#39;s an example code snippet that shows how to convert a Spark ArrayType to a Java array of String objects:\r\n\r\n    import org.apache.spark.sql.types.ArrayType;\r\n    import org.apache.spark.sql.types.DataType;\r\n    import org.apache.spark.sql.types.DataTypes;\r\n    \r\n    ArrayType arrayType = DataTypes.createArrayType(DataTypes.StringType);\r\n    String[] stringArray = (String[]) arrayType.sqlType().defaultSize();\r\n\r\nOnce you have the Java array of String objects, you can convert it to a List&lt;String&gt; using the Arrays.asList() method:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    List&lt;String&gt; stringList = Arrays.asList(stringArray);\r\n\r\nNote that this approach assumes that the ArrayType contains only String elements. If the ArrayType contains elements of another type, you&#39;ll need to adjust the code accordingly.","title":"How to get the reason of &#39;org.hibernate.exception.GenericJDBCException: could not execute statement&#39; via Try Catch and GetMessage?","body":"<p>The java.io.NotSerializableException error is typically thrown in Spark when attempting to serialize an object that is not serializable. In your case, it looks like you are trying to convert a Spark ArrayType to a Java List, which is not a serializable operation.</p>\n<p>To resolve this issue, you can try converting the ArrayType to a serializable format before converting it to a List. One way to do this is by converting the ArrayType to a Java array of String objects, which is serializable. You can then convert this Java array to a List if needed.</p>\n<p>Here's an example code snippet that shows how to convert a Spark ArrayType to a Java array of String objects:</p>\n<pre><code>import org.apache.spark.sql.types.ArrayType;\nimport org.apache.spark.sql.types.DataType;\nimport org.apache.spark.sql.types.DataTypes;\n\nArrayType arrayType = DataTypes.createArrayType(DataTypes.StringType);\nString[] stringArray = (String[]) arrayType.sqlType().defaultSize();\n</code></pre>\n<p>Once you have the Java array of String objects, you can convert it to a List using the Arrays.asList() method:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nList&lt;String&gt; stringList = Arrays.asList(stringArray);\n</code></pre>\n<p>Note that this approach assumes that the ArrayType contains only String elements. If the ArrayType contains elements of another type, you'll need to adjust the code accordingly.</p>\n"}],"owner":{"account_id":7656937,"reputation":53,"user_id":5803464,"display_name":"Kristian -"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682673361,"creation_date":1682672753,"question_id":76127984,"body_markdown":"I attempt to run a line in Java (with Hibernate) to save to a database. I deliberately tried saving while making an error, like saving a 10-length string to a column set with VARCHAR(5).\r\n\r\nIf I use try-catch and then use getMessage() to store into a String, then I only get &quot;org.hibernate.exception.GenericJDBCException: could not execute statement&quot;. But if I use printStackTrace, I get the more detailed cause message of &quot;value too large for column&quot;. Using getStackTrace() seems to overbloat the memory, so I want to avoid using that.\r\n\r\nWhat should I use in order to get that cause mesage from the GenericJDBCException? Thanks.","title":"How to get the reason of &#39;org.hibernate.exception.GenericJDBCException: could not execute statement&#39; via Try Catch and GetMessage?","body":"<p>I attempt to run a line in Java (with Hibernate) to save to a database. I deliberately tried saving while making an error, like saving a 10-length string to a column set with VARCHAR(5).</p>\n<p>If I use try-catch and then use getMessage() to store into a String, then I only get &quot;org.hibernate.exception.GenericJDBCException: could not execute statement&quot;. But if I use printStackTrace, I get the more detailed cause message of &quot;value too large for column&quot;. Using getStackTrace() seems to overbloat the memory, so I want to avoid using that.</p>\n<p>What should I use in order to get that cause mesage from the GenericJDBCException? Thanks.</p>\n"},{"tags":["java","sql","spring-boot","jpa","db2"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1682609734,"post_id":76122048,"comment_id":134246199,"body_markdown":"that syntax is only for parameters not for table names or columns for that matter","body":"that syntax is only for parameters not for table names or columns for that matter"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1682614140,"post_id":76122048,"comment_id":134247309,"body_markdown":"Positional parameters are used to apply scalar values. Use Dynamic SQL if you want to change other parts of the SQL statement.","body":"Positional parameters are used to apply scalar values. Use Dynamic SQL if you want to change other parts of the SQL statement."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1682617081,"post_id":76122048,"comment_id":134248024,"body_markdown":"@TheImpaler Pardon my ignorance, but do you have any resources showing how Dynamic SQL could help here? A few searches didn&#39;t net me anything helpful.","body":"@TheImpaler Pardon my ignorance, but do you have any resources showing how Dynamic SQL could help here? A few searches didn&#39;t net me anything helpful."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1682638465,"post_id":76122048,"comment_id":134251487,"body_markdown":"Dynamic SQL is essentially the old way of concatenating strings to assemble a running query. This is highly unsafe, of course, and can be susceptible of SQL Injection. On the other hand, you are trying to **apply** a parameter using the `?` syntax. This syntax is always safe, but it does not cover all possible cases. One of them is your case.","body":"Dynamic SQL is essentially the old way of concatenating strings to assemble a running query. This is highly unsafe, of course, and can be susceptible of SQL Injection. On the other hand, you are trying to <b>apply</b> a parameter using the <code>?</code> syntax. This syntax is always safe, but it does not cover all possible cases. One of them is your case."}],"answers":[{"tags":[],"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682673225,"creation_date":1682673225,"answer_id":76128042,"question_id":76122048,"body_markdown":"I think there is a possibility to make this case a real false positive by using concatenation. You need to produce a statement where the value is surrounded by double quotes. That is, produce this kind of statement:\r\n\r\n```\r\nSELECT NEXTVAL FOR &quot;variable part&quot;.CNTCT_ID FROM SYSIBM.SYSDUMMY1\r\n```\r\n\r\nIn this case DB2 is forced to consider the variable part as the schema name of the sequence.\r\n\r\nThis is provided that the value does not itself contain a double quote.\r\n\r\nAnd this implies that the schema name value is now case sensitive.","title":"Can I use a positional parameter in the FROM portion of my native query?","body":"<p>I think there is a possibility to make this case a real false positive by using concatenation. You need to produce a statement where the value is surrounded by double quotes. That is, produce this kind of statement:</p>\n<pre><code>SELECT NEXTVAL FOR &quot;variable part&quot;.CNTCT_ID FROM SYSIBM.SYSDUMMY1\n</code></pre>\n<p>In this case DB2 is forced to consider the variable part as the schema name of the sequence.</p>\n<p>This is provided that the value does not itself contain a double quote.</p>\n<p>And this implies that the schema name value is now case sensitive.</p>\n"}],"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682673225,"creation_date":1682608607,"question_id":76122048,"body_markdown":"I am attempting to parameterize some SQL statements in my code in order to protect from SQL injection risks. My problem is that I am attempting to use the positional parameter in the FROM portion of my statement as opposed to the WHERE which is how I typically see it done.\r\n\r\nHere&#39;s an example:\r\n```java\r\n Query getNextContactIdQuery = entityManager.createNativeQuery(\r\n    &quot;SELECT NEXTVAL FOR ? FROM SYSIBM.SYSDUMMY1.CNTCT_ID&quot;).setParameter(1, sequenceSchema);\r\n```\r\n\r\nThe parameter is a schema that varies based on the environment the application is running in instead of an input variable that I typically see being used in these sorts of situations.\r\n\r\nWhen I attempt to run the code with the parameter in it&#39;s current position I receive a `org.hibernate.exception.ConstraintViolationException: could not execute statement` error.","title":"Can I use a positional parameter in the FROM portion of my native query?","body":"<p>I am attempting to parameterize some SQL statements in my code in order to protect from SQL injection risks. My problem is that I am attempting to use the positional parameter in the FROM portion of my statement as opposed to the WHERE which is how I typically see it done.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code> Query getNextContactIdQuery = entityManager.createNativeQuery(\n    &quot;SELECT NEXTVAL FOR ? FROM SYSIBM.SYSDUMMY1.CNTCT_ID&quot;).setParameter(1, sequenceSchema);\n</code></pre>\n<p>The parameter is a schema that varies based on the environment the application is running in instead of an input variable that I typically see being used in these sorts of situations.</p>\n<p>When I attempt to run the code with the parameter in it's current position I receive a <code>org.hibernate.exception.ConstraintViolationException: could not execute statement</code> error.</p>\n"},{"tags":["java","spring","spring-boot","microservices"],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682672904,"creation_date":1682498112,"question_id":76108741,"body_markdown":"I&#39;m using spring cloud gateway in a microservices project.\r\nI have two services that are running locally in my system but in eureka server my hostname is like this `L14532.xyz.com` which is assigned to me by my employer network. In the spring gateway&#39;s configuration I have mentioned the routes like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    spring:\r\n      profiles:\r\n        active: dev\r\n      application:\r\n        name: APP_GATEWAY\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: users\r\n              uri: lb://USERS\r\n              predicates:\r\n                - Host=L14532.xyz.com\r\n                - Path=/users/**\r\n            - id: providers\r\n              uri: lb://PROVIDERS\r\n              predicates:\r\n                - Host=L14532.cts.com\r\n                - Path=/providers/**\r\n            - id: reviews-streaks\r\n              uri: lb://REVIEWSTREAKS\r\n              predicates:\r\n                - Host=L14532.cts.com\r\n                - Path=/review-streaks/**\r\n    logging:\r\n      level:\r\n        web: error\r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: true\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter mentioning the hostname also the request still not getting forwarded and application gateway is trying to find the page in src/resources like `spring mvc` and after not finding the page it is throwing **404 not found error**. And if I not mention the host name application gateway throws &quot;L14532.xyz.com&quot; could not be resolved. And throws **500 Internal Server Error**. And all this goes away if I try this project in my home computer where the host name is `localhost`. How can I solve this error.\r\n","title":"How to configure spring cloud gateway with custom host name","body":"<p>I'm using spring cloud gateway in a microservices project.\nI have two services that are running locally in my system but in eureka server my hostname is like this <code>L14532.xyz.com</code> which is assigned to me by my employer network. In the spring gateway's configuration I have mentioned the routes like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>spring:\n  profiles:\n    active: dev\n  application:\n    name: APP_GATEWAY\n  cloud:\n    gateway:\n      routes:\n        - id: users\n          uri: lb://USERS\n          predicates:\n            - Host=L14532.xyz.com\n            - Path=/users/**\n        - id: providers\n          uri: lb://PROVIDERS\n          predicates:\n            - Host=L14532.cts.com\n            - Path=/providers/**\n        - id: reviews-streaks\n          uri: lb://REVIEWSTREAKS\n          predicates:\n            - Host=L14532.cts.com\n            - Path=/review-streaks/**\nlogging:\n  level:\n    web: error\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>After mentioning the hostname also the request still not getting forwarded and application gateway is trying to find the page in src/resources like <code>spring mvc</code> and after not finding the page it is throwing <strong>404 not found error</strong>. And if I not mention the host name application gateway throws &quot;L14532.xyz.com&quot; could not be resolved. And throws <strong>500 Internal Server Error</strong>. And all this goes away if I try this project in my home computer where the host name is <code>localhost</code>. How can I solve this error.</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"answers":[{"comments":[{"owner":{"account_id":362917,"reputation":630,"user_id":706360,"display_name":"leoleozhu"},"score":2,"creation_date":1619682952,"post_id":45995545,"comment_id":118980185,"body_markdown":"This method didn&#39;t work. It works if I change it to `message.getMessageProperties().setExpiration(ttl.toString());` From answer of @Zhecker","body":"This method didn&#39;t work. It works if I change it to <code>message.getMessageProperties().setExpiration(ttl.toString())&zwnj;&#8203;;</code> From answer of @Zhecker"}],"tags":[],"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1504252193,"creation_date":1504252193,"answer_id":45995545,"question_id":45986687,"body_markdown":"You can create `MessagePostProcessor` and use it in you `rabbitTemplate`:\r\n\r\n\tfinal String message = &quot;message&quot;;\r\n\tfinal MessagePostProcessor messagePostProcessor = new MyMessagePostProcessor(10000);\r\n\trabbitTemplate.convertAndSend(&quot;my.queue&quot;, &quot;routingKey&quot;, message, messagePostProcessor);\r\n\r\nThis will catch you message, apply changes and send further.\r\n\r\n    public class MyMessagePostProcessor implements MessagePostProcessor {\r\n\r\n\t\tprivate final Integer ttl;\r\n\t\t\r\n\t\tpublic MyMessagePostProcessor(final Integer ttl) {\r\n\t\t\tthis.ttl = ttl;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Message postProcessMessage(final Message message) throws AmqpException {\r\n\t\t\tmessage.getMessageProperties().getHeaders().put(&quot;expiration&quot;, ttl.toString());\r\n\t\t\treturn message;\r\n\t\t}\r\n\t}","title":"How to set per message TTL with RabbitTemplate?","body":"<p>You can create <code>MessagePostProcessor</code> and use it in you <code>rabbitTemplate</code>:</p>\n\n<pre><code>final String message = \"message\";\nfinal MessagePostProcessor messagePostProcessor = new MyMessagePostProcessor(10000);\nrabbitTemplate.convertAndSend(\"my.queue\", \"routingKey\", message, messagePostProcessor);\n</code></pre>\n\n<p>This will catch you message, apply changes and send further.</p>\n\n<pre><code>public class MyMessagePostProcessor implements MessagePostProcessor {\n\n    private final Integer ttl;\n\n    public MyMessagePostProcessor(final Integer ttl) {\n        this.ttl = ttl;\n    }\n\n    @Override\n    public Message postProcessMessage(final Message message) throws AmqpException {\n        message.getMessageProperties().getHeaders().put(\"expiration\", ttl.toString());\n        return message;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3674912,"reputation":953,"user_id":3061210,"accept_rate":22,"display_name":"Khoda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504252689,"creation_date":1504252689,"answer_id":45995653,"question_id":45986687,"body_markdown":"Just to have a little workaround:\r\n\r\n    @Autowired\r\n       private RabbitTemplate   rabbit;\r\n    \r\n       @Autowired\r\n       private MessageConverter jsonMessageConverter;\r\n    \r\n       public void produce() {\r\n    \r\n          rabbit.setExchange(&quot;My.Exchange&quot;);\r\n          rabbit.setRoutingKey(&quot;R.K&quot;);\r\n          rabbit.setMessageConverter(jsonMessageConverter);\r\n          MessageProperties props = new MessageProperties();\r\n          props.setExpiration(Long.toString(expiration));\r\n          Message toSend = new Message(message.toString().getBytes(), props);\r\n          rabbit.send(toSend);\r\n       }","title":"How to set per message TTL with RabbitTemplate?","body":"<p>Just to have a little workaround:</p>\n\n<pre><code>@Autowired\n   private RabbitTemplate   rabbit;\n\n   @Autowired\n   private MessageConverter jsonMessageConverter;\n\n   public void produce() {\n\n      rabbit.setExchange(\"My.Exchange\");\n      rabbit.setRoutingKey(\"R.K\");\n      rabbit.setMessageConverter(jsonMessageConverter);\n      MessageProperties props = new MessageProperties();\n      props.setExpiration(Long.toString(expiration));\n      Message toSend = new Message(message.toString().getBytes(), props);\n      rabbit.send(toSend);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21058634,"reputation":31,"user_id":15477470,"display_name":"Zhecker"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616669681,"creation_date":1616669681,"answer_id":66798007,"question_id":45986687,"body_markdown":"If you&#39;re about to use `MessagePostProcessor` solution, you should add properties to your message instead of headers.\r\n\r\n    message.getMessageProperties().setExpiration(ttl.toString());","title":"How to set per message TTL with RabbitTemplate?","body":"<p>If you're about to use <code>MessagePostProcessor</code> solution, you should add properties to your message instead of headers.</p>\n<pre><code>message.getMessageProperties().setExpiration(ttl.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23414555,"reputation":79,"user_id":17475685,"display_name":"impactCn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682672885,"creation_date":1682672885,"answer_id":76128002,"question_id":45986687,"body_markdown":"    rabbitTemplate.convertAndSend(RabbitMqConfig.EXCHANGE,\r\n                        RabbitMqConfig.RK,\r\n                        String.valueOf(body),\r\n                        message -&gt; {\r\n                  message.getMessageProperties().setExpiration(String.valueOf(1000));\r\n                            return message;\r\n                        });","title":"How to set per message TTL with RabbitTemplate?","body":"<pre><code>rabbitTemplate.convertAndSend(RabbitMqConfig.EXCHANGE,\n                    RabbitMqConfig.RK,\n                    String.valueOf(body),\n                    message -&gt; {\n              message.getMessageProperties().setExpiration(String.valueOf(1000));\n                        return message;\n                    });\n</code></pre>\n"}],"owner":{"account_id":3674912,"reputation":953,"user_id":3061210,"accept_rate":22,"display_name":"Khoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6733,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45995545,"answer_count":4,"score":3,"last_activity_date":1682672885,"creation_date":1504198702,"question_id":45986687,"body_markdown":"I&#39;m using spring-boot with rabbitMQ and I&#39;m wondering if I can use per message TTL using RabbitTemplate. So far I have :\r\n\r\n    @Autowired\r\n       private RabbitTemplate rabbit;\r\n    \r\n       public void produce() {\r\n    \r\n          rabbit.convertAndSend(&quot;My.Queue&quot;, routingKey, message);\r\n       }","title":"How to set per message TTL with RabbitTemplate?","body":"<p>I'm using spring-boot with rabbitMQ and I'm wondering if I can use per message TTL using RabbitTemplate. So far I have :</p>\n\n<pre><code>@Autowired\n   private RabbitTemplate rabbit;\n\n   public void produce() {\n\n      rabbit.convertAndSend(\"My.Queue\", routingKey, message);\n   }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682644312,"post_id":76125605,"comment_id":134252072,"body_markdown":"Java does not provide a nice way to do this. You  could get the list, store it in a variable, prepend your additional string, and then call the method like `printStrings(theList.toArray(String[]::new))`.","body":"Java does not provide a nice way to do this. You  could get the list, store it in a variable, prepend your additional string, and then call the method like <code>printStrings(theList.toArray(String[]::new))</code>."}],"answers":[{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682644513,"creation_date":1682644513,"answer_id":76125627,"question_id":76125605,"body_markdown":"collections cannot passed to variadic-length argument. You can pass them (including first argument in original snippet) by collection:\r\n\r\n```java\r\npublic void printStrings(List&lt;String&gt; strings) {\r\n    for (String str : strings) {\r\n        System.out.println(str);\r\n    }\r\n\r\n}\r\n\r\npublic ArrayList&lt;String&gt; getArrayList() {\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    list.add(&quot;Hello&quot;);\r\n    list.add(&quot;World&quot;);\r\n\r\n    return list;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    ArrayList&lt;String&gt; original = getArrayList();\r\n    ArrayList&lt;String&gt; cloned = new ArrayList&lt;&gt;(original.size() + 1);\r\n    cloned.add(&quot;Additional String&quot;);\r\n    cloned.addAll(original);\r\n    printStrings(cloned);\r\n}\r\n```\r\n\r\n","title":"How to convert `ArrayList&lt;String&gt;` into a type that can be passed into a `String...` parameter","body":"<p>collections cannot passed to variadic-length argument. You can pass them (including first argument in original snippet) by collection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void printStrings(List&lt;String&gt; strings) {\n    for (String str : strings) {\n        System.out.println(str);\n    }\n\n}\n\npublic ArrayList&lt;String&gt; getArrayList() {\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n    list.add(&quot;Hello&quot;);\n    list.add(&quot;World&quot;);\n\n    return list;\n}\n\npublic static void main(String[] args) {\n    ArrayList&lt;String&gt; original = getArrayList();\n    ArrayList&lt;String&gt; cloned = new ArrayList&lt;&gt;(original.size() + 1);\n    cloned.add(&quot;Additional String&quot;);\n    cloned.addAll(original);\n    printStrings(cloned);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17948103,"reputation":1001,"user_id":15364728,"display_name":"MrDiamond"},"score":0,"creation_date":1682646749,"post_id":76125634,"comment_id":134252325,"body_markdown":"I would like a cleaner solution, but this will have to do. Thanks","body":"I would like a cleaner solution, but this will have to do. Thanks"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1682644591,"creation_date":1682644591,"answer_id":76125634,"question_id":76125605,"body_markdown":"There isn&#39;t a language construct that supports this exactly. You could store the `List` in a variable, add the additional String to the front, then convert to an array.\r\n\r\n```java\r\nvar list = getArrayList();\r\nlist.add(0, &quot;Additional String&quot;);\r\nprintStrings(list.toArray(String[]::new));\r\n```","title":"How to convert `ArrayList&lt;String&gt;` into a type that can be passed into a `String...` parameter","body":"<p>There isn't a language construct that supports this exactly. You could store the <code>List</code> in a variable, add the additional String to the front, then convert to an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var list = getArrayList();\nlist.add(0, &quot;Additional String&quot;);\nprintStrings(list.toArray(String[]::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16318149,"reputation":11,"user_id":11784637,"display_name":"Edcleidson Junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682645284,"creation_date":1682645284,"answer_id":76125671,"question_id":76125605,"body_markdown":"Why not\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    List&lt;String&gt; listOfStrings = getArrayList();\r\n    listOfStrings.add(&quot;Additional String&quot;);\r\n    \r\n    printStrings(listOfStrings);\r\n  }\r\n\r\n  public static void printStrings(List&lt;String&gt; strings) {\r\n    for (String str : strings) {\r\n        System.out.println(str);\r\n    }\r\n  }\r\n\r\n  public static ArrayList&lt;String&gt; getArrayList() {\r\n      ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n  \r\n      list.add(&quot;Hello&quot;);\r\n      list.add(&quot;World&quot;);\r\n  \r\n      return list;\r\n  }\r\n}\r\n```\r\n?","title":"How to convert `ArrayList&lt;String&gt;` into a type that can be passed into a `String...` parameter","body":"<p>Why not</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Main {\n  public static void main(String[] args) {\n    List&lt;String&gt; listOfStrings = getArrayList();\n    listOfStrings.add(&quot;Additional String&quot;);\n    \n    printStrings(listOfStrings);\n  }\n\n  public static void printStrings(List&lt;String&gt; strings) {\n    for (String str : strings) {\n        System.out.println(str);\n    }\n  }\n\n  public static ArrayList&lt;String&gt; getArrayList() {\n      ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n  \n      list.add(&quot;Hello&quot;);\n      list.add(&quot;World&quot;);\n  \n      return list;\n  }\n}\n</code></pre>\n<p>?</p>\n"}],"owner":{"account_id":17948103,"reputation":1001,"user_id":15364728,"display_name":"MrDiamond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76125634,"answer_count":3,"score":0,"last_activity_date":1682672825,"creation_date":1682644156,"question_id":76125605,"body_markdown":"I have a function that returns an `ArrayList&lt;String&gt;`, and I need to be able to pass the result of this function into another function with a `String...` parameter. The problem is, the function that takes in the `String...` has another string already being passed in, as shown in the example below.\r\n\r\n```java\r\npublic void printStrings(String... strings) {\r\n    for (String str : strings) {\r\n        System.out.println(str);\r\n    }\r\n\r\n}\r\n\r\npublic ArrayList&lt;String&gt; getArrayList() {\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    list.add(&quot;Hello&quot;);\r\n    list.add(&quot;World&quot;);\r\n\r\n    return list;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    // This is what needs to happen, but does not work\r\n    printStrings(&quot;Additional String&quot;, getArrayList());\r\n    //            ^ String already being passed in\r\n\r\n}\r\n```\r\n\r\nThis additional string should not be removed, and in the actual code the function that takes in the strings would have a lot of other strings going into it, and this function should not be changed.\r\n\r\nNote that this is not converting an ArrayList&lt;String&gt; to a String[]. That would not fix this problem.","title":"How to convert `ArrayList&lt;String&gt;` into a type that can be passed into a `String...` parameter","body":"<p>I have a function that returns an <code>ArrayList&lt;String&gt;</code>, and I need to be able to pass the result of this function into another function with a <code>String...</code> parameter. The problem is, the function that takes in the <code>String...</code> has another string already being passed in, as shown in the example below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void printStrings(String... strings) {\n    for (String str : strings) {\n        System.out.println(str);\n    }\n\n}\n\npublic ArrayList&lt;String&gt; getArrayList() {\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n    list.add(&quot;Hello&quot;);\n    list.add(&quot;World&quot;);\n\n    return list;\n}\n\npublic static void main(String[] args) {\n    // This is what needs to happen, but does not work\n    printStrings(&quot;Additional String&quot;, getArrayList());\n    //            ^ String already being passed in\n\n}\n</code></pre>\n<p>This additional string should not be removed, and in the actual code the function that takes in the strings would have a lot of other strings going into it, and this function should not be changed.</p>\n<p>Note that this is not converting an ArrayList to a String[]. That would not fix this problem.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":9132570,"reputation":414,"user_id":6793573,"display_name":"Issam EL-GUERCH"},"score":0,"creation_date":1537451500,"post_id":52426395,"comment_id":91796673,"body_markdown":"do you have many jdk installatin ?","body":"do you have many jdk installatin ?"},{"owner":{"account_id":5708061,"reputation":239,"user_id":4510943,"accept_rate":60,"display_name":"user300045"},"score":0,"creation_date":1537451631,"post_id":52426395,"comment_id":91796750,"body_markdown":"@Issam EL-GUERCH, Just one, 10.0.2","body":"@Issam EL-GUERCH, Just one, 10.0.2"},{"owner":{"account_id":11402616,"reputation":3097,"user_id":8359107,"display_name":"Matt"},"score":0,"creation_date":1537452291,"post_id":52426395,"comment_id":91797200,"body_markdown":"Can you post your code?","body":"Can you post your code?"},{"owner":{"account_id":17434034,"reputation":428,"user_id":12637459,"display_name":"SidPro"},"score":0,"creation_date":1614587810,"post_id":52426395,"comment_id":117420624,"body_markdown":"When you add external .jar file to new user library make sure to check &quot;System boot class path&quot;.","body":"When you add external .jar file to new user library make sure to check &quot;System boot class path&quot;."}],"answers":[{"tags":[],"owner":{"account_id":12399117,"reputation":1,"user_id":9037238,"display_name":"kewpiepie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538613032,"creation_date":1538613032,"answer_id":52637361,"question_id":52426395,"body_markdown":"I ran into same issue, I think it&#39;s something to do with the newer version of Java. \r\n\r\nWhen creating a new java project [heres a picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xl9Jk.png\r\n\r\n\r\nclick version 1.8 and then save it and it should work. ","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>I ran into same issue, I think it's something to do with the newer version of Java. </p>\n\n<p>When creating a new java project <a href=\"https://i.stack.imgur.com/Xl9Jk.png\" rel=\"nofollow noreferrer\">heres a picture</a></p>\n\n<p>click version 1.8 and then save it and it should work. </p>\n"},{"tags":[],"owner":{"account_id":14435496,"reputation":38,"user_id":10427572,"display_name":"apobletos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591926098,"creation_date":1591926098,"answer_id":62336196,"question_id":52426395,"body_markdown":"If your program works on command line, the problem is not the JDK installations but the IDE which is Eclipse. try reinstalling the Eclipse IDE.","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>If your program works on command line, the problem is not the JDK installations but the IDE which is Eclipse. try reinstalling the Eclipse IDE.</p>\n"},{"tags":[],"owner":{"account_id":19599635,"reputation":11,"user_id":14344774,"display_name":"HUIWEN LU"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601116154,"creation_date":1601116154,"answer_id":64076544,"question_id":52426395,"body_markdown":"I ran into the same issue today and I tried &quot;Run as -&gt; Java Application&quot;. Then it was fixed. (btw, the jdk I used was jdk-11.0.2)\r\nHope you would find this helpful!","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>I ran into the same issue today and I tried &quot;Run as -&gt; Java Application&quot;. Then it was fixed. (btw, the jdk I used was jdk-11.0.2)\nHope you would find this helpful!</p>\n"},{"tags":[],"owner":{"account_id":8370205,"reputation":1,"user_id":6285568,"display_name":"Chillja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606125410,"creation_date":1606125410,"answer_id":64966162,"question_id":52426395,"body_markdown":"This can happen when you have a run configuration with no project and main class configured. You can fix this by going to your run configurations and deleting the empty configuration or choosing the correct one when running it.","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>This can happen when you have a run configuration with no project and main class configured. You can fix this by going to your run configurations and deleting the empty configuration or choosing the correct one when running it.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611492124,"creation_date":1611492124,"answer_id":65870649,"question_id":52426395,"body_markdown":"I had the same issue. It seems that the dependencies on the `Modulepath` got mixed up.&lt;br /&gt;A rebuild of the project after deleting the `Launch Configuration` file of the project under\r\n`…\\workspace\\.metadata\\.plugins\\org.eclipse.debug.core\\.launches` and deleting the `bin` directory fixed the problem.\r\n","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>I had the same issue. It seems that the dependencies on the <code>Modulepath</code> got mixed up.<br />A rebuild of the project after deleting the <code>Launch Configuration</code> file of the project under\n<code>…\\workspace\\.metadata\\.plugins\\org.eclipse.debug.core\\.launches</code> and deleting the <code>bin</code> directory fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":18382936,"reputation":177,"user_id":13390654,"display_name":"Mohammed NAIMI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634469557,"creation_date":1634469557,"answer_id":69603805,"question_id":52426395,"body_markdown":"Clean project then create a new configuration where you indicate the file that contains the main method in your project the run the project again","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>Clean project then create a new configuration where you indicate the file that contains the main method in your project the run the project again</p>\n"},{"tags":[],"owner":{"account_id":25902552,"reputation":1,"user_id":19628185,"display_name":"JulianH_uk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658867615,"creation_date":1658867615,"answer_id":73129458,"question_id":52426395,"body_markdown":"Using [Eclipse IDE for Enterprise Java and Web Developers],\r\n[Version: 2022-06 (4.24.0)].\r\n\r\nThis resolved it for me:  [delete module-info.java] from Project.","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>Using [Eclipse IDE for Enterprise Java and Web Developers],\n[Version: 2022-06 (4.24.0)].</p>\n<p>This resolved it for me:  [delete module-info.java] from Project.</p>\n"},{"tags":[],"owner":{"account_id":26646516,"reputation":9,"user_id":20261385,"display_name":"user20261385"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665995662,"creation_date":1665995662,"answer_id":74094545,"question_id":52426395,"body_markdown":"This problem comes in project when many main() available in your  Spring boot  project try to remove others or run this as separate java application.","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>This problem comes in project when many main() available in your  Spring boot  project try to remove others or run this as separate java application.</p>\n"},{"tags":[],"owner":{"account_id":2771849,"reputation":67,"user_id":2386297,"accept_rate":75,"display_name":"Santosh budhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672295908,"creation_date":1672295908,"answer_id":74947998,"question_id":52426395,"body_markdown":"In the run configuration mention the Project and the name of the main class. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ptOmO.png","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>In the run configuration mention the Project and the name of the main class. <a href=\"https://i.stack.imgur.com/ptOmO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ptOmO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10316501,"reputation":1,"user_id":7610667,"display_name":"Wenzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678439361,"creation_date":1678439361,"answer_id":75694148,"question_id":52426395,"body_markdown":"The problem for me was an additional folder in the src/main/resources directory, that had the same package-folder name than the mentioned module.","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>The problem for me was an additional folder in the src/main/resources directory, that had the same package-folder name than the mentioned module.</p>\n"},{"tags":[],"owner":{"account_id":28425668,"reputation":1,"user_id":21747084,"display_name":"Tushar Shende"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682529061,"creation_date":1682529061,"answer_id":76113409,"question_id":52426395,"body_markdown":"Actually, you just have to delete the current package, and under project, you can simply create that class dont create any package just create one class under, and then it works fine.","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>Actually, you just have to delete the current package, and under project, you can simply create that class dont create any package just create one class under, and then it works fine.</p>\n"}],"owner":{"account_id":5708061,"reputation":239,"user_id":4510943,"accept_rate":60,"display_name":"user300045"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33906,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":11,"score":9,"last_activity_date":1682672212,"creation_date":1537450484,"question_id":52426395,"body_markdown":"I have the following error when trying to run Java project:\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.LayerInstantiationException: Package jdk.internal.jrtfs in both module java.base and module jrt.fs\r\n\r\nI tried to remove JDK and JRE and install them again, but the problem is still there.\r\n\r\nCould someone explain how to solve this issue?\r\n\r\nCould system restore help?\r\n","title":"Error occurred during initialization of boot layer - Eclipse Java","body":"<p>I have the following error when trying to run Java project:</p>\n\n<pre><code>Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package jdk.internal.jrtfs in both module java.base and module jrt.fs\n</code></pre>\n\n<p>I tried to remove JDK and JRE and install them again, but the problem is still there.</p>\n\n<p>Could someone explain how to solve this issue?</p>\n\n<p>Could system restore help?</p>\n"},{"tags":["java","broadcastreceiver"],"owner":{"account_id":25519921,"reputation":41,"user_id":19310034,"display_name":"Chijioke Francis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682672194,"creation_date":1682672194,"question_id":76127901,"body_markdown":"How can i update an activity from another every x seconds\r\n\r\nFor instance on whatsapp when a user is uploading or downloading file from chat, i discover that even when that activity is close and reopen that file progress is not interrupted. so what i want to do is start downloading a file from activity one and show progress in activity two.\r\n\r\nNote: activity one is the main activity and will always be open until the app exit but activity two can be open/close while app is still active.\r\n\r\nActivity two is user chat while activity one is the chat list.","title":"how to update activity2 every x seconds from activity1 in android","body":"<p>How can i update an activity from another every x seconds</p>\n<p>For instance on whatsapp when a user is uploading or downloading file from chat, i discover that even when that activity is close and reopen that file progress is not interrupted. so what i want to do is start downloading a file from activity one and show progress in activity two.</p>\n<p>Note: activity one is the main activity and will always be open until the app exit but activity two can be open/close while app is still active.</p>\n<p>Activity two is user chat while activity one is the chat list.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577036190,"creation_date":1576861944,"answer_id":59429046,"question_id":59427649,"body_markdown":"The &quot;Show the Values row&quot; setting for pivot tables was implemented after the `Office Open XML` was published. That&#39;s why it is not part of it. It uses special extended XML from name space `x14`. But `apache poi`only provides `Office Open XML`.\r\n\r\nSo if we want using extended XML from name space `x14`, we need doing that on low XML level.\r\n\r\nFirst we need setting updated pivot table version to 6 instead of 3.\r\n\r\n    ...\r\n    XSSFPivotTable pivotTable...\r\n    ...\r\n    pivotTable.getCTPivotTableDefinition().setUpdatedVersion((short)6); \r\n    ...\r\n\r\nThen we need set `&lt;x14:pivotTableDefinition hideValuesRow=&quot;1&quot;/&gt;` for CTPivotTableDefinition. This is the &quot;Show the Values row&quot; setting.\r\n\r\n    ...\r\n    org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList extList = pivotTable.getCTPivotTableDefinition().addNewExtLst();\r\n    org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtension ext = extList.addNewExt();\r\n    String extXML = \r\n       &quot;&lt;x14:pivotTableDefinition&quot;\r\n     + &quot; xmlns:x14=\\&quot;http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\\&quot;&quot;\r\n     + &quot; hideValuesRow=\\&quot;1\\&quot;/&gt;&quot;;\r\n    org.apache.xmlbeans.XmlObject xlmObject = org.apache.xmlbeans.XmlObject.Factory.parse(extXML);\r\n    ext.set(xlmObject);\r\n    ext.setUri(&quot;{962EF5D1-5CA2-4c93-8EF4-DBF5C05439D2}&quot;);\r\n    ...\r\n\r\nComplete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    class CreatePivotTableHideValuesRow {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (Workbook workbook = new XSSFWorkbook(); \r\n           FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;) ) {\r\n    \r\n       Sheet sheet = workbook.createSheet();\r\n    \r\n       String[] headers = new String[]{&quot;Column1&quot;, &quot;Column2&quot;, &quot;Count&quot;};\r\n       Row row = sheet.createRow(0);\r\n       Cell cell;\r\n       for (int c = 0; c &lt; headers.length; c++) {\r\n        cell = row.createCell(c); cell.setCellValue(headers[c]);\r\n       }\r\n    \r\n       Object[][] data = new Object[][]{\r\n        new Object[]{&quot;A&quot;, &quot;Aa&quot;, 2d},\r\n        new Object[]{&quot;A&quot;, &quot;Aa&quot;, 4d},\r\n        new Object[]{&quot;A&quot;, &quot;Ab&quot;, 1d},\r\n        new Object[]{&quot;A&quot;, &quot;Ac&quot;, 7d},\r\n        new Object[]{&quot;B&quot;, &quot;Ba&quot;, 5d},\r\n        new Object[]{&quot;B&quot;, &quot;Bb&quot;, 5d},\r\n        new Object[]{&quot;B&quot;, &quot;Bb&quot;, 2d},\r\n        new Object[]{&quot;B&quot;, &quot;Bc&quot;, 8d}\r\n       };\r\n       for (int r = 0; r &lt; data.length; r++) {\r\n        row = sheet.createRow(r+1);\r\n        Object[] rowData = data[r];\r\n        for (int c = 0; c &lt; rowData.length; c++) {\r\n         cell = row.createCell(c);\r\n         if (rowData[c] instanceof String) {\r\n          cell.setCellValue((String)rowData[c]);\r\n         } else if (rowData[c] instanceof Double) {\r\n          cell.setCellValue((Double)rowData[c]);\r\n         }\r\n        }\r\n       }\r\n    \r\n       XSSFPivotTable pivotTable = ((XSSFSheet)sheet).createPivotTable(\r\n        new AreaReference(&quot;A1:C9&quot;, SpreadsheetVersion.EXCEL2007),\r\n        new CellReference(&quot;E4&quot;)\r\n       );\r\n    \r\n       pivotTable.addRowLabel(0);\r\n       pivotTable.addRowLabel(1);\r\n    \r\n       // the default sets data on columns and data fields as col fields\r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 2);\r\n       pivotTable.addColumnLabel(DataConsolidateFunction.AVERAGE, 2);\r\n    \r\n       //set updated pivot table version to 6\r\n       //necessary to make extended pivot table setting available\r\n       pivotTable.getCTPivotTableDefinition().setUpdatedVersion((short)6); \r\n\r\n       //set &lt;x14:pivotTableDefinition hideValuesRow=&quot;1&quot;/&gt; for CTPivotTableDefinition\r\n       //this is the &quot;Show the Values row&quot; setting\r\n       org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList extList = pivotTable.getCTPivotTableDefinition().addNewExtLst();\r\n       org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtension ext = extList.addNewExt();\r\n       String extXML = \r\n          &quot;&lt;x14:pivotTableDefinition&quot;\r\n        + &quot; xmlns:x14=\\&quot;http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\\&quot;&quot;\r\n        + &quot; hideValuesRow=\\&quot;1\\&quot;/&gt;&quot;;\r\n       org.apache.xmlbeans.XmlObject xlmObject = org.apache.xmlbeans.XmlObject.Factory.parse(extXML);\r\n       ext.set(xlmObject);\r\n       ext.setUri(&quot;{962EF5D1-5CA2-4c93-8EF4-DBF5C05439D2}&quot;);\r\n    \r\n       workbook.write(fileout);\r\n    \r\n      }\r\n     }\r\n    }\r\n\r\n","title":"How to get the pivotTable options and uncheck the &quot;show the Values row&quot; in display tab using Apache POI","body":"<p>The \"Show the Values row\" setting for pivot tables was implemented after the <code>Office Open XML</code> was published. That's why it is not part of it. It uses special extended XML from name space <code>x14</code>. But <code>apache poi</code>only provides <code>Office Open XML</code>.</p>\n\n<p>So if we want using extended XML from name space <code>x14</code>, we need doing that on low XML level.</p>\n\n<p>First we need setting updated pivot table version to 6 instead of 3.</p>\n\n<pre><code>...\nXSSFPivotTable pivotTable...\n...\npivotTable.getCTPivotTableDefinition().setUpdatedVersion((short)6); \n...\n</code></pre>\n\n<p>Then we need set <code>&lt;x14:pivotTableDefinition hideValuesRow=\"1\"/&gt;</code> for CTPivotTableDefinition. This is the \"Show the Values row\" setting.</p>\n\n<pre><code>...\norg.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList extList = pivotTable.getCTPivotTableDefinition().addNewExtLst();\norg.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtension ext = extList.addNewExt();\nString extXML = \n   \"&lt;x14:pivotTableDefinition\"\n + \" xmlns:x14=\\\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\\\"\"\n + \" hideValuesRow=\\\"1\\\"/&gt;\";\norg.apache.xmlbeans.XmlObject xlmObject = org.apache.xmlbeans.XmlObject.Factory.parse(extXML);\next.set(xlmObject);\next.setUri(\"{962EF5D1-5CA2-4c93-8EF4-DBF5C05439D2}\");\n...\n</code></pre>\n\n<p>Complete example:</p>\n\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.xssf.usermodel.*;\n\nclass CreatePivotTableHideValuesRow {\n\n public static void main(String[] args) throws Exception {\n\n  try (Workbook workbook = new XSSFWorkbook(); \n       FileOutputStream fileout = new FileOutputStream(\"Excel.xlsx\") ) {\n\n   Sheet sheet = workbook.createSheet();\n\n   String[] headers = new String[]{\"Column1\", \"Column2\", \"Count\"};\n   Row row = sheet.createRow(0);\n   Cell cell;\n   for (int c = 0; c &lt; headers.length; c++) {\n    cell = row.createCell(c); cell.setCellValue(headers[c]);\n   }\n\n   Object[][] data = new Object[][]{\n    new Object[]{\"A\", \"Aa\", 2d},\n    new Object[]{\"A\", \"Aa\", 4d},\n    new Object[]{\"A\", \"Ab\", 1d},\n    new Object[]{\"A\", \"Ac\", 7d},\n    new Object[]{\"B\", \"Ba\", 5d},\n    new Object[]{\"B\", \"Bb\", 5d},\n    new Object[]{\"B\", \"Bb\", 2d},\n    new Object[]{\"B\", \"Bc\", 8d}\n   };\n   for (int r = 0; r &lt; data.length; r++) {\n    row = sheet.createRow(r+1);\n    Object[] rowData = data[r];\n    for (int c = 0; c &lt; rowData.length; c++) {\n     cell = row.createCell(c);\n     if (rowData[c] instanceof String) {\n      cell.setCellValue((String)rowData[c]);\n     } else if (rowData[c] instanceof Double) {\n      cell.setCellValue((Double)rowData[c]);\n     }\n    }\n   }\n\n   XSSFPivotTable pivotTable = ((XSSFSheet)sheet).createPivotTable(\n    new AreaReference(\"A1:C9\", SpreadsheetVersion.EXCEL2007),\n    new CellReference(\"E4\")\n   );\n\n   pivotTable.addRowLabel(0);\n   pivotTable.addRowLabel(1);\n\n   // the default sets data on columns and data fields as col fields\n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 2);\n   pivotTable.addColumnLabel(DataConsolidateFunction.AVERAGE, 2);\n\n   //set updated pivot table version to 6\n   //necessary to make extended pivot table setting available\n   pivotTable.getCTPivotTableDefinition().setUpdatedVersion((short)6); \n\n   //set &lt;x14:pivotTableDefinition hideValuesRow=\"1\"/&gt; for CTPivotTableDefinition\n   //this is the \"Show the Values row\" setting\n   org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList extList = pivotTable.getCTPivotTableDefinition().addNewExtLst();\n   org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtension ext = extList.addNewExt();\n   String extXML = \n      \"&lt;x14:pivotTableDefinition\"\n    + \" xmlns:x14=\\\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\\\"\"\n    + \" hideValuesRow=\\\"1\\\"/&gt;\";\n   org.apache.xmlbeans.XmlObject xlmObject = org.apache.xmlbeans.XmlObject.Factory.parse(extXML);\n   ext.set(xlmObject);\n   ext.setUri(\"{962EF5D1-5CA2-4c93-8EF4-DBF5C05439D2}\");\n\n   workbook.write(fileout);\n\n  }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19020116,"reputation":41,"user_id":13884358,"display_name":"fedor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600258306,"creation_date":1600246996,"answer_id":63916676,"question_id":59427649,"body_markdown":"&lt;poi.version&gt;3.16&lt;/poi.version&gt; and &lt;poi.version&gt;4.1.2&lt;/poi.version&gt;\r\nclass org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList no exists((\r\n\r\nsolution: for poi.version 3.16 add dependency\r\n\r\n    &lt;dependency&gt;   \t\t\t\r\n    \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt; \t\t\t\r\n    \t&lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt; \t\t\t\r\n    \t&lt;version&gt;1.3&lt;/version&gt; \t\t\r\n    &lt;/dependency&gt;","title":"How to get the pivotTable options and uncheck the &quot;show the Values row&quot; in display tab using Apache POI","body":"<p>&lt;poi.version&gt;3.16&lt;/poi.version&gt; and &lt;poi.version&gt;4.1.2&lt;/poi.version&gt;\nclass org.openxmlformats.schemas.spreadsheetml.x2006.main.CTExtensionList no exists((</p>\n<p>solution: for poi.version 3.16 add dependency</p>\n<pre><code>&lt;dependency&gt;            \n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;           \n    &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;          \n    &lt;version&gt;1.3&lt;/version&gt;      \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28443541,"reputation":1,"user_id":21762582,"display_name":"Michał Paczkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682672038,"creation_date":1682672038,"answer_id":76127879,"question_id":59427649,"body_markdown":"This worked for me    \r\n\r\n`CTPivotTableDefinition pivotDefinition = pivotTable.getCTPivotTableDefinition();\r\npivotDefinition.setRowGrandTotals(false);\r\npivotTable.setCTPivotTableDefinition(pivotDefinition);`","title":"How to get the pivotTable options and uncheck the &quot;show the Values row&quot; in display tab using Apache POI","body":"<p>This worked for me</p>\n<p><code>CTPivotTableDefinition pivotDefinition = pivotTable.getCTPivotTableDefinition(); pivotDefinition.setRowGrandTotals(false); pivotTable.setCTPivotTableDefinition(pivotDefinition);</code></p>\n"}],"owner":{"account_id":7628527,"reputation":11,"user_id":5784299,"display_name":"Ninja1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1682672038,"creation_date":1576855399,"question_id":59427649,"body_markdown":"if there are multiple dataFields, then there is a additional field named Values in pivot table&#39;s GUI view of excel.\r\nSo how to hide &quot;values&quot; field using Apache POI in java\r\n  [1]: https://i.stack.imgur.com/WZ6Xl.png\r\n  [2]: https://i.stack.imgur.com/cNWBf.png\r\n\r\nPlease help me out in resolving it.\r\n","title":"How to get the pivotTable options and uncheck the &quot;show the Values row&quot; in display tab using Apache POI","body":"<p>if there are multiple dataFields, then there is a additional field named Values in pivot table's GUI view of excel.\nSo how to hide \"values\" field using Apache POI in java\nPlease help me out in resolving it.</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":4418209,"reputation":866,"user_id":3599110,"accept_rate":75,"display_name":"bercik"},"score":0,"creation_date":1556530749,"post_id":55899756,"comment_id":98457286,"body_markdown":"Well, we&#39;ve got Nexus server in our local network and still there is this problem. So for me the easiest solution will be to just retry downloading.","body":"Well, we&#39;ve got Nexus server in our local network and still there is this problem. So for me the easiest solution will be to just retry downloading."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1556530967,"post_id":55899756,"comment_id":98457428,"body_markdown":"So the problem is with the connection of the Nexus to the outside world?","body":"So the problem is with the connection of the Nexus to the outside world?"},{"owner":{"account_id":4418209,"reputation":866,"user_id":3599110,"accept_rate":75,"display_name":"bercik"},"score":0,"creation_date":1556531317,"post_id":55899756,"comment_id":98457604,"body_markdown":"It might be, but TBH I would like to just retry from maven if it&#39;s possible. I haven&#39;t got access to Nexus server on my own.","body":"It might be, but TBH I would like to just retry from maven if it&#39;s possible. I haven&#39;t got access to Nexus server on my own."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1556531523,"post_id":55899756,"comment_id":98457719,"body_markdown":"I understand, but it is probably is _not_ possible (I am not sure, though). It might be more sensible, though, to search for the original network problem. I never experienced any failed downloads from MavenCentral.","body":"I understand, but it is probably is <i>not</i> possible (I am not sure, though). It might be more sensible, though, to search for the original network problem. I never experienced any failed downloads from MavenCentral."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1556527399,"creation_date":1556527399,"answer_id":55899756,"question_id":55899091,"body_markdown":"Let me suggest an alternative solution:\r\n\r\nSet up a Nexus or Artifactory server in your local network. Let your builds run through it. It will cache all the artifacts that were used so that the risk of running into network problems dramatically decreases.","title":"Maven retry dependency download if failed","body":"<p>Let me suggest an alternative solution:</p>\n\n<p>Set up a Nexus or Artifactory server in your local network. Let your builds run through it. It will cache all the artifacts that were used so that the risk of running into network problems dramatically decreases.</p>\n"},{"comments":[{"owner":{"account_id":30644,"reputation":16635,"user_id":83658,"accept_rate":42,"display_name":"jpierson"},"score":1,"creation_date":1593691845,"post_id":58769870,"comment_id":110872430,"body_markdown":"It&#39;s early to tell for sure but it looks like the `http.keepAlive` suggestion has gotten our team past a reoccurring issue with a specific dependency resolution issue. We&#39;d still like to get to the bottom of why the issue started happening in general, perhaps a network issue or something but the `-X` option didn&#39;t really seem to give us the necessary insight to dig any further.","body":"It&#39;s early to tell for sure but it looks like the <code>http.keepAlive</code> suggestion has gotten our team past a reoccurring issue with a specific dependency resolution issue. We&#39;d still like to get to the bottom of why the issue started happening in general, perhaps a network issue or something but the <code>-X</code> option didn&#39;t really seem to give us the necessary insight to dig any further."},{"owner":{"account_id":1715329,"reputation":1201,"user_id":1572532,"display_name":"rfreytag"},"score":1,"creation_date":1593783499,"post_id":58769870,"comment_id":110907945,"body_markdown":"jpierson - let me know if you find out why it is happening. I am curious about the cause of the connection reset as well.","body":"jpierson - let me know if you find out why it is happening. I am curious about the cause of the connection reset as well."}],"tags":[],"owner":{"account_id":1715329,"reputation":1201,"user_id":1572532,"display_name":"rfreytag"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1573229205,"creation_date":1573228408,"answer_id":58769870,"question_id":55899091,"body_markdown":"Maven seems to have an issue with fetching dependencies due to keep-alive connections being closed. This happens when you are running `mvn` in a build-environment (Docker, Azure, Jenkins) and the build is rather long (&gt; 5 minutes).\r\n\r\nUse this maven flag to disable keep-alive for HTTP requests and see if it fixes your problem:\r\n\r\n    -Dhttp.keepAlive=false\r\n\r\nOthers have mentioned using this flag as well:\r\n\r\n    -Dmaven.wagon.http.pool=false\r\n\r\n\r\nFor example\r\n\r\n    mvn -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false clean package\r\n\r\n\r\n[Source of the original solution for azure][1]\r\n\r\n\r\n  [1]: https://developercommunity.visualstudio.com/content/problem/357696/maven-project-build-failing-with-connection-reset.html","title":"Maven retry dependency download if failed","body":"<p>Maven seems to have an issue with fetching dependencies due to keep-alive connections being closed. This happens when you are running <code>mvn</code> in a build-environment (Docker, Azure, Jenkins) and the build is rather long (> 5 minutes).</p>\n\n<p>Use this maven flag to disable keep-alive for HTTP requests and see if it fixes your problem:</p>\n\n<pre><code>-Dhttp.keepAlive=false\n</code></pre>\n\n<p>Others have mentioned using this flag as well:</p>\n\n<pre><code>-Dmaven.wagon.http.pool=false\n</code></pre>\n\n<p>For example</p>\n\n<pre><code>mvn -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false clean package\n</code></pre>\n\n<p><a href=\"https://developercommunity.visualstudio.com/content/problem/357696/maven-project-build-failing-with-connection-reset.html\" rel=\"noreferrer\">Source of the original solution for azure</a></p>\n"},{"comments":[{"owner":{"account_id":328571,"reputation":3309,"user_id":651601,"accept_rate":94,"display_name":"keiki"},"score":0,"creation_date":1616773564,"post_id":59548313,"comment_id":118116533,"body_markdown":"As 3 is the default value I doubt that setting will help. Or what am I missing?","body":"As 3 is the default value I doubt that setting will help. Or what am I missing?"},{"owner":{"account_id":349463,"reputation":7729,"user_id":684776,"accept_rate":87,"display_name":"crenshaw-dev"},"score":0,"creation_date":1616773737,"post_id":59548313,"comment_id":118116610,"body_markdown":"@keiki can you link docs showing that `3` is the default value? Because, I agree, that would mean this &quot;solution&quot; is suspect. (Though with 7 upvotes, that seems kinda unlikely?)","body":"@keiki can you link docs showing that <code>3</code> is the default value? Because, I agree, that would mean this &quot;solution&quot; is suspect. (Though with 7 upvotes, that seems kinda unlikely?)"},{"owner":{"account_id":328571,"reputation":3309,"user_id":651601,"accept_rate":94,"display_name":"keiki"},"score":0,"creation_date":1617003720,"post_id":59548313,"comment_id":118168741,"body_markdown":"I just looked into the source code tbh. I didn&#39;t find an official documentation to the defaults. https://github.com/apache/maven-wagon/blob/1a90ecc5819ee3e146ba0769e6488579d865de16/wagon-providers/wagon-http-shared/src/main/java/org/apache/maven/wagon/shared/http/AbstractHttpClientWagon.java#L434\n\nYet maybe I&#39;m missing something (e.g. subclass overriding this default)","body":"I just looked into the source code tbh. I didn&#39;t find an official documentation to the defaults. <a href=\"https://github.com/apache/maven-wagon/blob/1a90ecc5819ee3e146ba0769e6488579d865de16/wagon-providers/wagon-http-shared/src/main/java/org/apache/maven/wagon/shared/http/AbstractHttpClientWagon.java#L434\" rel=\"nofollow noreferrer\">github.com/apache/maven-wagon/blob/&hellip;</a>  Yet maybe I&#39;m missing something (e.g. subclass overriding this default)"},{"owner":{"account_id":349463,"reputation":7729,"user_id":684776,"accept_rate":87,"display_name":"crenshaw-dev"},"score":0,"creation_date":1617042820,"post_id":59548313,"comment_id":118186010,"body_markdown":"@keiki that&#39;s wild. Added a comment to the answer to solicit more samples. Maybe that&#39;ll help get to the bottom of it.","body":"@keiki that&#39;s wild. Added a comment to the answer to solicit more samples. Maybe that&#39;ll help get to the bottom of it."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1647423615,"post_id":59548313,"comment_id":126364975,"body_markdown":"weird answer, as it does not solve anything","body":"weird answer, as it does not solve anything"},{"owner":{"account_id":349463,"reputation":7729,"user_id":684776,"accept_rate":87,"display_name":"crenshaw-dev"},"score":0,"creation_date":1647436004,"post_id":59548313,"comment_id":126369993,"body_markdown":"@Eugene even weirder that it keeps getting upvoted. :-P","body":"@Eugene even weirder that it keeps getting upvoted. :-P"},{"owner":{"account_id":262373,"reputation":206,"user_id":547195,"display_name":"Giovanni Toraldo"},"score":0,"creation_date":1698231470,"post_id":59548313,"comment_id":136378107,"body_markdown":"In case someone wonder why this don&#39;t work anymore: Starting with Maven 3.9.0 release, the default transport (the default transport used by Maven Resolver) changed from ancient Wagon to modern maven-resolver-transport-http aka native HTTP transport.","body":"In case someone wonder why this don&#39;t work anymore: Starting with Maven 3.9.0 release, the default transport (the default transport used by Maven Resolver) changed from ancient Wagon to modern maven-resolver-transport-http aka native HTTP transport."},{"owner":{"account_id":349463,"reputation":7729,"user_id":684776,"accept_rate":87,"display_name":"crenshaw-dev"},"score":0,"creation_date":1698249282,"post_id":59548313,"comment_id":136382039,"body_markdown":"@GiovanniToraldo is there a new fix that works for maven-resolver-transport-http I can link to?","body":"@GiovanniToraldo is there a new fix that works for maven-resolver-transport-http I can link to?"}],"tags":[],"owner":{"account_id":349463,"reputation":7729,"user_id":684776,"accept_rate":87,"display_name":"crenshaw-dev"},"comment_count":8,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1617042797,"creation_date":1577824984,"answer_id":59548313,"question_id":55899091,"body_markdown":"I had a similar problem in Gitlab CI/CD. This seems to have resolved the issue:\r\n\r\n```\r\n-Dmaven.wagon.http.retryHandler.count=3\r\n```\r\n\r\n&gt; Since version 3.2, the retry handler can be configured with system\r\n&gt; properties:\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt;  - - `maven.wagon.http.retryHandler.count` = number of retries for default or standard implementations.\r\n\r\nOther HTTP client settings are described here: https://maven.apache.org/wagon/wagon-providers/wagon-http/\r\n\r\n**Edit:** As keiki pointed out in the comments, `3` appears to be the default, so it&#39;s not clear how setting this value would help. Please comment with your experience.","title":"Maven retry dependency download if failed","body":"<p>I had a similar problem in Gitlab CI/CD. This seems to have resolved the issue:</p>\n<pre><code>-Dmaven.wagon.http.retryHandler.count=3\n</code></pre>\n<blockquote>\n<p>Since version 3.2, the retry handler can be configured with system\nproperties:</p>\n<p>...</p>\n<ul>\n<li>\n<ul>\n<li><code>maven.wagon.http.retryHandler.count</code> = number of retries for default or standard implementations.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>Other HTTP client settings are described here: <a href=\"https://maven.apache.org/wagon/wagon-providers/wagon-http/\" rel=\"noreferrer\">https://maven.apache.org/wagon/wagon-providers/wagon-http/</a></p>\n<p><strong>Edit:</strong> As keiki pointed out in the comments, <code>3</code> appears to be the default, so it's not clear how setting this value would help. Please comment with your experience.</p>\n"},{"comments":[{"owner":{"account_id":328571,"reputation":3309,"user_id":651601,"accept_rate":94,"display_name":"keiki"},"score":0,"creation_date":1617003854,"post_id":64564244,"comment_id":118168797,"body_markdown":"For me 30 seconds helped. 45 didn&#39;t. It depends solely on infrastructure. So you may need to expirement a good value yourself.","body":"For me 30 seconds helped. 45 didn&#39;t. It depends solely on infrastructure. So you may need to expirement a good value yourself."},{"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"score":0,"creation_date":1617012608,"post_id":64564244,"comment_id":118172189,"body_markdown":"In Apache Pulsar, it was necessary to completely disable pooling. the current MAVEN_OPTS in use are \n`-Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false -Dmaven.wagon.http.retryHandler.class=standard -Dmaven.wagon.http.retryHandler.count=3`","body":"In Apache Pulsar, it was necessary to completely disable pooling. the current MAVEN_OPTS in use are  <code>-Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false -Dmaven.wagon.http.retryHandler.class=standard -Dmaven.wagon.http.retryHandler.count=3</code>"},{"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"score":0,"creation_date":1617012817,"post_id":64564244,"comment_id":118172278,"body_markdown":"For fixing some artifact download issues, it might be necessary to upgrade the Maven Wagon HTTP library. This solution was necessary in Apache Pulsar: https://github.com/apache/pulsar/pull/9883/files#diff-1dde1dd0c711d85ba5031a48b8ddfe78fe788cf5eece9dd438a7a901e7a5edb2","body":"For fixing some artifact download issues, it might be necessary to upgrade the Maven Wagon HTTP library. This solution was necessary in Apache Pulsar: <a href=\"https://github.com/apache/pulsar/pull/9883/files#diff-1dde1dd0c711d85ba5031a48b8ddfe78fe788cf5eece9dd438a7a901e7a5edb2\" rel=\"nofollow noreferrer\">github.com/apache/pulsar/pull/9883/&hellip;</a>"},{"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"score":0,"creation_date":1618039187,"post_id":64564244,"comment_id":118485855,"body_markdown":"Maven 3.8.1 contains the updated Maven Wagon HTTP library version 3.4.3 , that fixes some issues.","body":"Maven 3.8.1 contains the updated Maven Wagon HTTP library version 3.4.3 , that fixes some issues."},{"owner":{"account_id":3607837,"reputation":881,"user_id":3009613,"accept_rate":60,"display_name":"John Bergqvist"},"score":0,"creation_date":1666113153,"post_id":64564244,"comment_id":130856826,"body_markdown":"@LariHotari just to confirm, is `MAVEN_OPTS` the correct place to put this? Maven&#39;s documentation says that `MAVEN_OPTS` is for arguments passed to the underlying JVM - are these the right kind of arguments for that?","body":"@LariHotari just to confirm, is <code>MAVEN_OPTS</code> the correct place to put this? Maven&#39;s documentation says that <code>MAVEN_OPTS</code> is for arguments passed to the underlying JVM - are these the right kind of arguments for that?"},{"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"score":0,"creation_date":1666598787,"post_id":64564244,"comment_id":130966497,"body_markdown":"@JohnBergqvist These are arguments that need to be passed to the underlying JVM. The solution is in use in the GitHub Action CI for apache/pulsar repository.","body":"@JohnBergqvist These are arguments that need to be passed to the underlying JVM. The solution is in use in the GitHub Action CI for apache/pulsar repository."},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1681814411,"post_id":64564244,"comment_id":134113744,"body_markdown":"Maven doesn&#39;t use Wagon by default any more, but rather Aether. That means you *probably* need to set `-Daether.connector.http.connectionMaxTtl=25` instead.","body":"Maven doesn&#39;t use Wagon by default any more, but rather Aether. That means you <i>probably</i> need to set <code>-Daether.connector.http.connectionMaxTtl=25</code> instead."}],"tags":[],"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1682671826,"creation_date":1603840294,"answer_id":64564244,"question_id":55899091,"body_markdown":"In the case that you are running in an environment behind a NAT, with a short NAT timeout, one possibility is to set `-Dmaven.wagon.httpconnectionManager.ttlSeconds=25` and `-Daether.connector.http.connectionMaxTtl=25` (Maven 3.9+) instead of disabling the http connection pooling in maven. \r\n\r\nThis is used in apache/pulsar repository:\r\n```yaml\r\nenv:\r\n  MAVEN_OPTS: -Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3 -Daether.connector.http.connectionMaxTtl=25\r\n```\r\n\r\nIn the [last comment of WAGON-545](https://issues.apache.org/jira/browse/WAGON-545?focusedCommentId=16755035&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-16755035), it says &quot;Azure users shall set the TTL to 240 seconds or less.&quot;","title":"Maven retry dependency download if failed","body":"<p>In the case that you are running in an environment behind a NAT, with a short NAT timeout, one possibility is to set <code>-Dmaven.wagon.httpconnectionManager.ttlSeconds=25</code> and <code>-Daether.connector.http.connectionMaxTtl=25</code> (Maven 3.9+) instead of disabling the http connection pooling in maven.</p>\n<p>This is used in apache/pulsar repository:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>env:\n  MAVEN_OPTS: -Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3 -Daether.connector.http.connectionMaxTtl=25\n</code></pre>\n<p>In the <a href=\"https://issues.apache.org/jira/browse/WAGON-545?focusedCommentId=16755035&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-16755035\" rel=\"nofollow noreferrer\">last comment of WAGON-545</a>, it says &quot;Azure users shall set the TTL to 240 seconds or less.&quot;</p>\n"},{"tags":[],"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681816399,"creation_date":1681816399,"answer_id":76043872,"question_id":55899091,"body_markdown":"If this is in a long-ish build in a recent enough Maven (3.9 or later) and you&#39;re doing this because of a build on Azure (e.g., inside Github Actions using the standard runners) then you&#39;re hitting a problem with stale connections; there&#39;s a firewall in Azure that *silently* drops long-lived inactive connections, and anything idle for over half a minute or so is at risk from it. There are other solutions above, but they don&#39;t work because Maven now uses the Aether library for HTTP connections instead of Wagon.\r\n\r\nThe fix I&#39;ve now got deployed in my code is to set a system property for the Java code with `-Daether.connector.http.connectionMaxTtl=25`. This seems to do the trick. (As you can see from looking through [this page](https://maven.apache.org/resolver/configuration.html), Aether will retry connections three times by default. That _isn&#39;t_ helpful inside Azure, but is in other situations.)\r\n\r\n----\r\n\r\n**Within a Github Actions workflow,** the easiest way of passing this in is via a top-level `env` setup in your workflow file so that it is applied to all calls to Maven:\r\n\r\n```yml\r\nenv:\r\n  MAVEN_OPTS: &gt;\r\n    -Daether.connector.http.connectionMaxTtl=25\r\n```\r\n\r\n(If you have other things you&#39;re putting into `MAVEN_OPTS` then you&#39;ll need to merge things. I find the above a good and readable way to do it, with one system property per line.)","title":"Maven retry dependency download if failed","body":"<p>If this is in a long-ish build in a recent enough Maven (3.9 or later) and you're doing this because of a build on Azure (e.g., inside Github Actions using the standard runners) then you're hitting a problem with stale connections; there's a firewall in Azure that <em>silently</em> drops long-lived inactive connections, and anything idle for over half a minute or so is at risk from it. There are other solutions above, but they don't work because Maven now uses the Aether library for HTTP connections instead of Wagon.</p>\n<p>The fix I've now got deployed in my code is to set a system property for the Java code with <code>-Daether.connector.http.connectionMaxTtl=25</code>. This seems to do the trick. (As you can see from looking through <a href=\"https://maven.apache.org/resolver/configuration.html\" rel=\"nofollow noreferrer\">this page</a>, Aether will retry connections three times by default. That <em>isn't</em> helpful inside Azure, but is in other situations.)</p>\n<hr />\n<p><strong>Within a Github Actions workflow,</strong> the easiest way of passing this in is via a top-level <code>env</code> setup in your workflow file so that it is applied to all calls to Maven:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>env:\n  MAVEN_OPTS: &gt;\n    -Daether.connector.http.connectionMaxTtl=25\n</code></pre>\n<p>(If you have other things you're putting into <code>MAVEN_OPTS</code> then you'll need to merge things. I find the above a good and readable way to do it, with one system property per line.)</p>\n"}],"owner":{"account_id":4418209,"reputation":866,"user_id":3599110,"accept_rate":75,"display_name":"bercik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9279,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1682671826,"creation_date":1556524470,"question_id":55899091,"body_markdown":"During downloading dependencies by maven, one of it fails due to network issues:\r\n```\r\nDownloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-failsafe-plugin/2.16/maven-failsafe-plugin-2.16.pom\r\nPlugin org.apache.maven.plugins:maven-failsafe-plugin:2.16 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-failsafe-plugin:jar:2.16\r\n```\r\nI would like to retry it for `n` times where `n` will be configurable. How can I do this?","title":"Maven retry dependency download if failed","body":"<p>During downloading dependencies by maven, one of it fails due to network issues:</p>\n\n<pre><code>Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-failsafe-plugin/2.16/maven-failsafe-plugin-2.16.pom\nPlugin org.apache.maven.plugins:maven-failsafe-plugin:2.16 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-failsafe-plugin:jar:2.16\n</code></pre>\n\n<p>I would like to retry it for <code>n</code> times where <code>n</code> will be configurable. How can I do this?</p>\n"},{"tags":["java","gradle","sonarqube","lombok","jacoco"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1682601424,"post_id":76105303,"comment_id":134243994,"body_markdown":"Does this answer your question? [addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report](https://stackoverflow.com/questions/65412697/addlombokgeneratedannotation-on-lombok-config-doesnt-ignore-lombok-annotations)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65412697/addlombokgeneratedannotation-on-lombok-config-doesnt-ignore-lombok-annotations\">addLombokGeneratedAnnotation on lombok.config doesn&#39;t ignore Lombok Annotations on Jacoco report</a>"},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1682608301,"post_id":76105303,"comment_id":134245832,"body_markdown":"Unfortunatley not, I tried as the other users suggested to add a random ```@lombok.Data```. But the thing is that I already clean the project before lunching the sonar task ```gradlew.bat clean build test --debug sonar -Dsonar.projectKey=&quot; + service + &quot; -Dsonar.projectName=&quot; + service + &quot; -Dsonar.host.url=http://localhost:9000 -Dsonar.token=&quot; + global_token```.","body":"Unfortunatley not, I tried as the other users suggested to add a random <code>@lombok.Data</code>. But the thing is that I already clean the project before lunching the sonar task <code>gradlew.bat clean build test --debug sonar -Dsonar.projectKey=&quot; + service + &quot; -Dsonar.projectName=&quot; + service + &quot; -Dsonar.host.url=http:&#47;&#47;localhost:9000 -Dsonar.token=&quot; + global_token</code>."}],"answers":[{"tags":[],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682671638,"creation_date":1682671638,"answer_id":76127827,"question_id":76105303,"body_markdown":"lombok.config **must be in the root** of the project, not in *src\\main\\resources*","title":"Excluding lombok coverage in Sonar does not work","body":"<p>lombok.config <strong>must be in the root</strong> of the project, not in <em>src\\main\\resources</em></p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76127827,"answer_count":1,"score":1,"last_activity_date":1682671638,"creation_date":1682455479,"question_id":76105303,"body_markdown":"I am trying to exclude Lombok coverage in Sonar.\r\n\r\nThis is my build.gradle:\r\n```\r\nplugins {\r\n//...\r\n\tid &quot;org.sonarqube&quot; version &quot;4.0.0.2929&quot;\r\n\tid &#39;jacoco&#39;\r\n}\r\n\r\njacocoTestReport {\r\n\treports {\r\n\t\txml.enabled true\r\n\t}\r\n}\r\ntest.finalizedBy jacocoTestReport\r\n\r\n//...\r\n```\r\n\r\nTo exclude those classes I tried the following steps:\r\n 1. I created a lombok.config file in this path: *src\\main\\resources*\r\n 2. I added the following properties:\r\n```\r\n# This tells lombok this directory is the root,\r\n# no need to look somewhere else for java code.\r\nconfig.stopBubbling = true\r\n# This will add the @lombok.Generated annotation\r\n# to all the code generated by Lombok,\r\n# so it can be excluded from coverage by jacoco.\r\nlombok.addLombokGeneratedAnnotation = true\r\n```\r\n 3. I added this in build.gradle:\r\n```\r\njacocoTestReport {\r\n\t// ...\r\n\tafterEvaluate {\r\n\t\tclassDirectories.setFrom(files(classDirectories.files.collect {\r\n\t\t\tfileTree(dir: it, exclude: [&#39;lombok/**&#39;])\r\n\t\t}))\r\n\t}\r\n}\r\n```\r\n 4. Cleaning the project before executing the sonar task:\r\n```\r\ngradlew.bat clean build test --debug sonar -Dsonar.projectKey=&quot; + service + &quot; -Dsonar.projectName=&quot; + service + &quot; -Dsonar.host.url=http://localhost:9000 -Dsonar.token=&quot; + global_token\r\n```\r\n\r\nUnfortunately for some reason after executing the sonar task to analyze the project, \r\n\r\nI **still have the Lombok code uncovered**:\r\n\r\n[![uncovered code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b03wO.png","title":"Excluding lombok coverage in Sonar does not work","body":"<p>I am trying to exclude Lombok coverage in Sonar.</p>\n<p>This is my build.gradle:</p>\n<pre><code>plugins {\n//...\n    id &quot;org.sonarqube&quot; version &quot;4.0.0.2929&quot;\n    id 'jacoco'\n}\n\njacocoTestReport {\n    reports {\n        xml.enabled true\n    }\n}\ntest.finalizedBy jacocoTestReport\n\n//...\n</code></pre>\n<p>To exclude those classes I tried the following steps:</p>\n<ol>\n<li>I created a lombok.config file in this path: <em>src\\main\\resources</em></li>\n<li>I added the following properties:</li>\n</ol>\n<pre><code># This tells lombok this directory is the root,\n# no need to look somewhere else for java code.\nconfig.stopBubbling = true\n# This will add the @lombok.Generated annotation\n# to all the code generated by Lombok,\n# so it can be excluded from coverage by jacoco.\nlombok.addLombokGeneratedAnnotation = true\n</code></pre>\n<ol start=\"3\">\n<li>I added this in build.gradle:</li>\n</ol>\n<pre><code>jacocoTestReport {\n    // ...\n    afterEvaluate {\n        classDirectories.setFrom(files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: ['lombok/**'])\n        }))\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Cleaning the project before executing the sonar task:</li>\n</ol>\n<pre><code>gradlew.bat clean build test --debug sonar -Dsonar.projectKey=&quot; + service + &quot; -Dsonar.projectName=&quot; + service + &quot; -Dsonar.host.url=http://localhost:9000 -Dsonar.token=&quot; + global_token\n</code></pre>\n<p>Unfortunately for some reason after executing the sonar task to analyze the project,</p>\n<p>I <strong>still have the Lombok code uncovered</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/b03wO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b03wO.png\" alt=\"uncovered code\" /></a></p>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"display_name":"user3327780"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1569305075,"creation_date":1569305075,"answer_id":58073960,"question_id":58064761,"body_markdown":"**body** parameter always expects a String in WireMock. It worked once I passed my response in body as a String.","title":"Cannot deserialize instance of `java.lang.String` out of START_ARRAY token exception received in Wiremock Json file configuration","body":"<p><strong>body</strong> parameter always expects a String in WireMock. It worked once I passed my response in body as a String.</p>\n"},{"tags":[],"owner":{"account_id":2367444,"reputation":5251,"user_id":2072882,"accept_rate":27,"display_name":"Tenzin Chemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1594278906,"creation_date":1594278906,"answer_id":62809393,"question_id":58064761,"body_markdown":"Based on code base: https://github.com/tomakehurst/wiremock/blob/master/src/main/java/com/github/tomakehurst/wiremock/http/ResponseDefinition.java\r\n\r\nThe **body** key in your response definition can be `body`, `jsonBody`, `base64Body` or `null`","title":"Cannot deserialize instance of `java.lang.String` out of START_ARRAY token exception received in Wiremock Json file configuration","body":"<p>Based on code base: <a href=\"https://github.com/tomakehurst/wiremock/blob/master/src/main/java/com/github/tomakehurst/wiremock/http/ResponseDefinition.java\" rel=\"noreferrer\">https://github.com/tomakehurst/wiremock/blob/master/src/main/java/com/github/tomakehurst/wiremock/http/ResponseDefinition.java</a></p>\n<p>The <strong>body</strong> key in your response definition can be <code>body</code>, <code>jsonBody</code>, <code>base64Body</code> or <code>null</code></p>\n"},{"tags":[],"owner":{"account_id":16434124,"reputation":81,"user_id":11872139,"display_name":"Louis Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682671557,"creation_date":1682671557,"answer_id":76127820,"question_id":58064761,"body_markdown":"The key &quot;**body**&quot; in the object &quot;**response**&quot; only accepts a string. \r\nYou can replace the key &quot;**body**&quot; with the key &quot;**jsonBody**&quot; if you wanna pass a JSON to it.  ","title":"Cannot deserialize instance of `java.lang.String` out of START_ARRAY token exception received in Wiremock Json file configuration","body":"<p>The key &quot;<strong>body</strong>&quot; in the object &quot;<strong>response</strong>&quot; only accepts a string.\nYou can replace the key &quot;<strong>body</strong>&quot; with the key &quot;<strong>jsonBody</strong>&quot; if you wanna pass a JSON to it.</p>\n"}],"owner":{"display_name":"user3327780"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3455,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58073960,"answer_count":3,"score":2,"last_activity_date":1682671557,"creation_date":1569249314,"question_id":58064761,"body_markdown":"I am trying to mock few API&#39;s using `WireMock` standalone jar with `JSON` file configuration.\r\n\r\nBelow is the `JSON` file containing multiple stub mappings which I&#39;m using-\r\n\r\n```\r\n{\r\n  &quot;mappings&quot;: [{\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;url&quot;: &quot;/users&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;status&quot;: 200,\r\n        &quot;body&quot;: [{\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Leanne Graham&quot;,\r\n            &quot;username&quot;: &quot;Bret&quot;,\r\n            &quot;email&quot;: &quot;Sincere@april.biz&quot;,\r\n            &quot;address&quot;: {\r\n              &quot;street&quot;: &quot;Kulas Light&quot;,\r\n              &quot;suite&quot;: &quot;Apt. 556&quot;,\r\n              &quot;city&quot;: &quot;Gwenborough&quot;,\r\n              &quot;zipcode&quot;: &quot;92998-3874&quot;,\r\n              &quot;geo&quot;: {\r\n                &quot;lat&quot;: &quot;-37.3159&quot;,\r\n                &quot;lng&quot;: &quot;81.1496&quot;\r\n              }\r\n            },\r\n            &quot;phone&quot;: &quot;1-770-736-8031 x56442&quot;,\r\n            &quot;website&quot;: &quot;hildegard.org&quot;,\r\n            &quot;company&quot;: {\r\n              &quot;name&quot;: &quot;Romaguera-Crona&quot;,\r\n              &quot;catchPhrase&quot;: &quot;Multi-layered client-server neural-net&quot;,\r\n              &quot;bs&quot;: &quot;harness real-time e-markets&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Ervin Howell&quot;,\r\n            &quot;username&quot;: &quot;Antonette&quot;,\r\n            &quot;email&quot;: &quot;Shanna@melissa.tv&quot;,\r\n            &quot;address&quot;: {\r\n              &quot;street&quot;: &quot;Victor Plains&quot;,\r\n              &quot;suite&quot;: &quot;Suite 879&quot;,\r\n              &quot;city&quot;: &quot;Wisokyburgh&quot;,\r\n              &quot;zipcode&quot;: &quot;90566-7771&quot;,\r\n              &quot;geo&quot;: {\r\n                &quot;lat&quot;: &quot;-43.9509&quot;,\r\n                &quot;lng&quot;: &quot;-34.4618&quot;\r\n              }\r\n            },\r\n            &quot;phone&quot;: &quot;010-692-6593 x09125&quot;,\r\n            &quot;website&quot;: &quot;anastasia.net&quot;,\r\n            &quot;company&quot;: {\r\n              &quot;name&quot;: &quot;Deckow-Crist&quot;,\r\n              &quot;catchPhrase&quot;: &quot;Proactive didactic contingency&quot;,\r\n              &quot;bs&quot;: &quot;synergize scalable supply-chains&quot;\r\n            }\r\n          }\r\n        ],\r\n\r\n        &quot;headers&quot;: {\r\n          &quot;Content-Type&quot;: &quot;application/json&quot;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;url&quot;: &quot;/posts?userId=1&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;status&quot;: 200,\r\n        &quot;body&quot;: &quot;[]&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;url&quot;: &quot;/comments?postId=1&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;status&quot;: 200,\r\n        &quot;body&quot;: &quot;[]&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I am trying to start `Wiremock` server using standalone jar (`wiremock-standalone-2.24.1.jar`) I am getting below exception, I verified the Json schema and it looks ok.\r\n\r\n&gt; Wiremock msrivast$ java -jar wiremock-standalone-2.24.1.jar Exception\r\n&gt; in thread &quot;main&quot;\r\n&gt; com.github.tomakehurst.wiremock.standalone.MappingFileException: Error\r\n&gt; loading file\r\n&gt; /Users/msrivast/Downloads/Wiremock/./mappings/results.json: Cannot\r\n&gt; deserialize instance of `java.lang.String` out of START_ARRAY token\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.standalone.JsonFileMappingsSource.loadMappingsInto(JsonFileMappingsSource.java:121)\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.core.WireMockApp.loadMappingsUsing(WireMockApp.java:199)\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.core.WireMockApp.loadDefaultMappings(WireMockApp.java:195)\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.core.WireMockApp.&lt;init&gt;(WireMockApp.java:103)\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.WireMockServer.&lt;init&gt;(WireMockServer.java:72)\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.standalone.WireMockServerRunner.run(WireMockServerRunner.java:65)\r\n&gt; \tat\r\n&gt; com.github.tomakehurst.wiremock.standalone.WireMockServerRunner.main(WireMockServerRunner.java:125)","title":"Cannot deserialize instance of `java.lang.String` out of START_ARRAY token exception received in Wiremock Json file configuration","body":"<p>I am trying to mock few API's using <code>WireMock</code> standalone jar with <code>JSON</code> file configuration.</p>\n\n<p>Below is the <code>JSON</code> file containing multiple stub mappings which I'm using-</p>\n\n<pre><code>{\n  \"mappings\": [{\n      \"request\": {\n        \"method\": \"GET\",\n        \"url\": \"/users\"\n      },\n      \"response\": {\n        \"status\": 200,\n        \"body\": [{\n            \"id\": 1,\n            \"name\": \"Leanne Graham\",\n            \"username\": \"Bret\",\n            \"email\": \"Sincere@april.biz\",\n            \"address\": {\n              \"street\": \"Kulas Light\",\n              \"suite\": \"Apt. 556\",\n              \"city\": \"Gwenborough\",\n              \"zipcode\": \"92998-3874\",\n              \"geo\": {\n                \"lat\": \"-37.3159\",\n                \"lng\": \"81.1496\"\n              }\n            },\n            \"phone\": \"1-770-736-8031 x56442\",\n            \"website\": \"hildegard.org\",\n            \"company\": {\n              \"name\": \"Romaguera-Crona\",\n              \"catchPhrase\": \"Multi-layered client-server neural-net\",\n              \"bs\": \"harness real-time e-markets\"\n            }\n          },\n          {\n            \"id\": 2,\n            \"name\": \"Ervin Howell\",\n            \"username\": \"Antonette\",\n            \"email\": \"Shanna@melissa.tv\",\n            \"address\": {\n              \"street\": \"Victor Plains\",\n              \"suite\": \"Suite 879\",\n              \"city\": \"Wisokyburgh\",\n              \"zipcode\": \"90566-7771\",\n              \"geo\": {\n                \"lat\": \"-43.9509\",\n                \"lng\": \"-34.4618\"\n              }\n            },\n            \"phone\": \"010-692-6593 x09125\",\n            \"website\": \"anastasia.net\",\n            \"company\": {\n              \"name\": \"Deckow-Crist\",\n              \"catchPhrase\": \"Proactive didactic contingency\",\n              \"bs\": \"synergize scalable supply-chains\"\n            }\n          }\n        ],\n\n        \"headers\": {\n          \"Content-Type\": \"application/json\"\n        }\n      }\n    },\n    {\n      \"request\": {\n        \"method\": \"GET\",\n        \"url\": \"/posts?userId=1\"\n      },\n      \"response\": {\n        \"status\": 200,\n        \"body\": \"[]\"\n      }\n    },\n    {\n      \"request\": {\n        \"method\": \"GET\",\n        \"url\": \"/comments?postId=1\"\n      },\n      \"response\": {\n        \"status\": 200,\n        \"body\": \"[]\"\n      }\n    }\n  ]\n}\n\n</code></pre>\n\n<p>When I am trying to start <code>Wiremock</code> server using standalone jar (<code>wiremock-standalone-2.24.1.jar</code>) I am getting below exception, I verified the Json schema and it looks ok.</p>\n\n<blockquote>\n  <p>Wiremock msrivast$ java -jar wiremock-standalone-2.24.1.jar Exception\n  in thread \"main\"\n  com.github.tomakehurst.wiremock.standalone.MappingFileException: Error\n  loading file\n  /Users/msrivast/Downloads/Wiremock/./mappings/results.json: Cannot\n  deserialize instance of <code>java.lang.String</code> out of START_ARRAY token\n    at\n  com.github.tomakehurst.wiremock.standalone.JsonFileMappingsSource.loadMappingsInto(JsonFileMappingsSource.java:121)\n    at\n  com.github.tomakehurst.wiremock.core.WireMockApp.loadMappingsUsing(WireMockApp.java:199)\n    at\n  com.github.tomakehurst.wiremock.core.WireMockApp.loadDefaultMappings(WireMockApp.java:195)\n    at\n  com.github.tomakehurst.wiremock.core.WireMockApp.(WireMockApp.java:103)\n    at\n  com.github.tomakehurst.wiremock.WireMockServer.(WireMockServer.java:72)\n    at\n  com.github.tomakehurst.wiremock.standalone.WireMockServerRunner.run(WireMockServerRunner.java:65)\n    at\n  com.github.tomakehurst.wiremock.standalone.WireMockServerRunner.main(WireMockServerRunner.java:125)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1682958799,"post_id":75686964,"comment_id":134290528,"body_markdown":"This is just an example, right? Because why would you spy on a list? And why would you verify that the method which you have just called, where called? There&#39;s usually no sense in doing `obj.method(); verify(obj).method();` – unless you don&#39;t trust the compiler/runtime … but we generally trust the compiler and runtime, don&#39;t we?","body":"This is just an example, right? Because why would you spy on a list? And why would you verify that the method which you have just called, where called? There&#39;s usually no sense in doing <code>obj.method(); verify(obj).method();</code> – unless you don&#39;t trust the compiler/runtime … but we generally trust the compiler and runtime, don&#39;t we?"},{"owner":{"account_id":27975791,"reputation":9,"user_id":21364625,"display_name":"TranKhanh"},"score":0,"creation_date":1682968350,"post_id":75686964,"comment_id":134292358,"body_markdown":"Yes, this is just an example. I&#39;m new to unit testing. I came across the article and it gave me the example above. It doesn&#39;t explain much why I shouldn&#39;t spy on a list. Thanks for the advice.","body":"Yes, this is just an example. I&#39;m new to unit testing. I came across the article and it gave me the example above. It doesn&#39;t explain much why I shouldn&#39;t spy on a list. Thanks for the advice."}],"answers":[{"comments":[{"owner":{"account_id":4907592,"reputation":881,"user_id":3953880,"display_name":"Revol89"},"score":1,"creation_date":1694923990,"post_id":76127813,"comment_id":135954251,"body_markdown":"Thanks for the reply. I was desperate. My project is in Java 8 but my laptop was with Java 17. Thanks for your help.","body":"Thanks for the reply. I was desperate. My project is in Java 8 but my laptop was with Java 17. Thanks for your help."}],"tags":[],"owner":{"account_id":7068236,"reputation":409,"user_id":5410830,"display_name":"skaveesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682671528,"creation_date":1682671528,"answer_id":76127813,"question_id":75686964,"body_markdown":"This could be because you&#39;re using JDK 17 or plus, and the author of the article is using a lower JDK version.\r\n\r\nAfter the JDK 17, more and more use cases are broken, and Spy is one of them. You can switch to the inline mockmaker to avoid this issue.\r\n\r\n\r\n----------\r\n\r\n\r\nSwitching to the inline mockmaker\r\n---------------------------------\r\n\r\n   1. Create the `resources` directory inside the `test` directory.\r\n   2. Then Create a `mockito-extensions` directory within `resources` directory.\r\n   3. Create a file named `org.mockito.plugins.MockMaker` within `mockito-extensions` directory.\r\n   4. Finally, add this text `mock-maker-inline` to the `org.mockito.plugins.MockMaker` file.\r\n\r\nFolder structure should look like this:\r\n\r\n[![inline mockmaker folder structure][1]][1]\r\n\r\n\r\nRefer here as well: [Switch the default mockmaker to the inline mockmaker on JDK 17+][2]\r\n\r\n----------\r\n\r\nLastly, my advice is to not spy on lists, but instead perform checks on the real list. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JX0i7.png\r\n  [2]: https://github.com/mockito/mockito/issues/2589","title":"Error when trying to use @Spy Annotation: java.lang.NullPointerException: Cannot read the array length because &quot;elementData&quot; is null","body":"<p>This could be because you're using JDK 17 or plus, and the author of the article is using a lower JDK version.</p>\n<p>After the JDK 17, more and more use cases are broken, and Spy is one of them. You can switch to the inline mockmaker to avoid this issue.</p>\n<hr />\n<h2>Switching to the inline mockmaker</h2>\n<ol>\n<li>Create the <code>resources</code> directory inside the <code>test</code> directory.</li>\n<li>Then Create a <code>mockito-extensions</code> directory within <code>resources</code> directory.</li>\n<li>Create a file named <code>org.mockito.plugins.MockMaker</code> within <code>mockito-extensions</code> directory.</li>\n<li>Finally, add this text <code>mock-maker-inline</code> to the <code>org.mockito.plugins.MockMaker</code> file.</li>\n</ol>\n<p>Folder structure should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/JX0i7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JX0i7.png\" alt=\"inline mockmaker folder structure\" /></a></p>\n<p>Refer here as well: <a href=\"https://github.com/mockito/mockito/issues/2589\" rel=\"nofollow noreferrer\">Switch the default mockmaker to the inline mockmaker on JDK 17+</a></p>\n<hr />\n<p>Lastly, my advice is to not spy on lists, but instead perform checks on the real list.</p>\n"}],"owner":{"account_id":27975791,"reputation":9,"user_id":21364625,"display_name":"TranKhanh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682671528,"creation_date":1678376928,"question_id":75686964,"body_markdown":"I am using the @Spy annotation and the following error appear when i&#39;m trying to run the test:\r\njava.lang.NullPointerException: Cannot read the array length because &quot;elementData&quot; is null\r\n\r\nThis is the code i have:\r\n\r\n```\r\npackage com.tddk.junit.service;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Spy;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.Assertions.*;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\nimport static org.mockito.Mockito.*;\r\n@Slf4j\r\n@ExtendWith(MockitoExtension.class)\r\npublic class StudentServiceTest {\r\n    @Spy\r\n    List&lt;String&gt; spyList = new ArrayList&lt;String&gt;();\r\n\r\n    @Test\r\n    void whenUsingTheSpyAnnotation_thenObjectIsSpied() {\r\n        spyList.add(&quot;one&quot;);\r\n        spyList.add(&quot;two&quot;);\r\n\r\n        verify(spyList).add(&quot;one&quot;);\r\n        verify(spyList).add(&quot;two&quot;);\r\n\r\n        assertThat(spyList).hasSize(2);\r\n    }\r\n}\r\n```\r\n\r\nThe sample code above is from: https://www.baeldung.com/mockito-spy I do exactly as the tutorial said but still getting an error. Can someone show me how to fix it please.","title":"Error when trying to use @Spy Annotation: java.lang.NullPointerException: Cannot read the array length because &quot;elementData&quot; is null","body":"<p>I am using the @Spy annotation and the following error appear when i'm trying to run the test:\njava.lang.NullPointerException: Cannot read the array length because &quot;elementData&quot; is null</p>\n<p>This is the code i have:</p>\n<pre><code>package com.tddk.junit.service;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Spy;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.assertj.core.api.Assertions.*;\nimport static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.Mockito.*;\n@Slf4j\n@ExtendWith(MockitoExtension.class)\npublic class StudentServiceTest {\n    @Spy\n    List&lt;String&gt; spyList = new ArrayList&lt;String&gt;();\n\n    @Test\n    void whenUsingTheSpyAnnotation_thenObjectIsSpied() {\n        spyList.add(&quot;one&quot;);\n        spyList.add(&quot;two&quot;);\n\n        verify(spyList).add(&quot;one&quot;);\n        verify(spyList).add(&quot;two&quot;);\n\n        assertThat(spyList).hasSize(2);\n    }\n}\n</code></pre>\n<p>The sample code above is from: <a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-spy</a> I do exactly as the tutorial said but still getting an error. Can someone show me how to fix it please.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":28272756,"reputation":28,"user_id":21615679,"display_name":"Guillermo Ch&#225;vez"},"score":0,"creation_date":1682580927,"post_id":76112412,"comment_id":134239191,"body_markdown":"This was helpful as I could get to the problem, but I think I didn&#39;t undestand your example. I made it work adding this at the beginning of my config class:\n`http.cors().and().csrf().disable()`","body":"This was helpful as I could get to the problem, but I think I didn&#39;t undestand your example. I made it work adding this at the beginning of my config class: <code>http.cors().and().csrf().disable()</code>"}],"tags":[],"owner":{"account_id":27707659,"reputation":46,"user_id":21150956,"display_name":"Amith"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682671435,"creation_date":1682522017,"answer_id":76112412,"question_id":76112356,"body_markdown":"It might be an issue due to CORS. Try adding the following config to your class:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig{\r\n@Bean\r\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http){\r\n        \r\n            httpcsrf(csrf -&gt; csrf.disable()).authorizeHttpRequests((auth) -&gt; auth\r\n                    .requestMatchers(&quot;/api/call&quot;).permitAll() \r\n                    .anyRequest().authenticated());\r\n\r\n            http.formLogin()\r\n                    .loginPage(&quot;/login&quot;).permitAll()\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .failureUrl(&quot;/login?error=true&quot;)\r\n                    .and()\r\n                    .exceptionHandling();\r\n\r\n            http.logout()\r\n                    (...)\r\n\r\n            return http.build();\r\n        \r\n        \r\n    }\r\n}\r\n```\r\nFor now, I have disable CORS but you can also ignore certain endpoints by using:\r\n```\r\ncsrf.ignoringRequestMatchers(&lt;&lt;ANY ENDPOINT URL&gt;&gt;)\r\n```","title":"How to allow requests to POST endpoint in a RestController in Spring?","body":"<p>It might be an issue due to CORS. Try adding the following config to your class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig{\n@Bean\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http){\n        \n            httpcsrf(csrf -&gt; csrf.disable()).authorizeHttpRequests((auth) -&gt; auth\n                    .requestMatchers(&quot;/api/call&quot;).permitAll() \n                    .anyRequest().authenticated());\n\n            http.formLogin()\n                    .loginPage(&quot;/login&quot;).permitAll()\n                    .loginProcessingUrl(&quot;/login&quot;)\n                    .defaultSuccessUrl(&quot;/&quot;)\n                    .failureUrl(&quot;/login?error=true&quot;)\n                    .and()\n                    .exceptionHandling();\n\n            http.logout()\n                    (...)\n\n            return http.build();\n        \n        \n    }\n}\n</code></pre>\n<p>For now, I have disable CORS but you can also ignore certain endpoints by using:</p>\n<pre><code>csrf.ignoringRequestMatchers(&lt;&lt;ANY ENDPOINT URL&gt;&gt;)\n</code></pre>\n"}],"owner":{"account_id":28272756,"reputation":28,"user_id":21615679,"display_name":"Guillermo Ch&#225;vez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76112412,"answer_count":1,"score":0,"last_activity_date":1682671435,"creation_date":1682521703,"question_id":76112356,"body_markdown":"I&#39;m working on a Spring web project with Spring Security. I need now to add a RestController with an endpoint to use some of the project&#39;s functions from another project. I have configured the security and had no problem with any other public endpoint, but I can&#39;t access my new endpoint directly even if I have declared it in my security configuration, I&#39;m just getting my login html as the response. I even have another RestController with a get request that works fine without login.\r\n\r\n\r\nI have this securityConfig class:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig{\r\n@Bean\r\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http){\r\n        try{\r\n            http.authorizeHttpRequests((auth) -&gt; auth\r\n                    .requestMatchers(&quot;/api/call&quot;, (...)).permitAll() //It should be available, all the other endpoints work\r\n                    .anyRequest().authenticated());\r\n\r\n            http.formLogin()\r\n                    .loginPage(&quot;/login&quot;).permitAll()\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .failureUrl(&quot;/login?error=true&quot;)\r\n                    .and()\r\n                    .exceptionHandling();\r\n\r\n            http.logout()\r\n                    (...)\r\n\r\n            return http.build();\r\n        }\r\n        catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the endpoint in my RestController:\r\n\r\n```\r\n@RestController\r\npublic class CallRestController {\r\n    //Autowireds and references\r\n\r\n    @PostMapping(&quot;/api/call&quot;)\r\n    public ResponseEntity&lt;CallRequest&gt; call(@RequestBody CallRequest callRequest){\r\n        try{\r\n            //(Do stuff with the data)\r\n            return new ResponseEntity&lt;&gt;(callRequest, HttpStatus.OK);\r\n        }catch (Exception exception){\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt should process the data and then send a response (either 200 and the original body or 500).\r\nThe model that represents the body is (with lombok annotation):\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class CallRequest {\r\n    public String fromRef;\r\n    public String toRef;\r\n}\r\n```\r\n\r\nThe JSON body I&#39;m sending is:\r\n\r\n```\r\n{\r\n    &quot;fromRef&quot;: &quot;String&quot;,\r\n    &quot;toRef&quot;: &quot;String&quot;\r\n}\r\n```\r\n\r\nIs there anything else I need to have in order to make this post endpoint available without authentication?\r\n","title":"How to allow requests to POST endpoint in a RestController in Spring?","body":"<p>I'm working on a Spring web project with Spring Security. I need now to add a RestController with an endpoint to use some of the project's functions from another project. I have configured the security and had no problem with any other public endpoint, but I can't access my new endpoint directly even if I have declared it in my security configuration, I'm just getting my login html as the response. I even have another RestController with a get request that works fine without login.</p>\n<p>I have this securityConfig class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig{\n@Bean\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http){\n        try{\n            http.authorizeHttpRequests((auth) -&gt; auth\n                    .requestMatchers(&quot;/api/call&quot;, (...)).permitAll() //It should be available, all the other endpoints work\n                    .anyRequest().authenticated());\n\n            http.formLogin()\n                    .loginPage(&quot;/login&quot;).permitAll()\n                    .loginProcessingUrl(&quot;/login&quot;)\n                    .defaultSuccessUrl(&quot;/&quot;)\n                    .failureUrl(&quot;/login?error=true&quot;)\n                    .and()\n                    .exceptionHandling();\n\n            http.logout()\n                    (...)\n\n            return http.build();\n        }\n        catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>And this is the endpoint in my RestController:</p>\n<pre><code>@RestController\npublic class CallRestController {\n    //Autowireds and references\n\n    @PostMapping(&quot;/api/call&quot;)\n    public ResponseEntity&lt;CallRequest&gt; call(@RequestBody CallRequest callRequest){\n        try{\n            //(Do stuff with the data)\n            return new ResponseEntity&lt;&gt;(callRequest, HttpStatus.OK);\n        }catch (Exception exception){\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>It should process the data and then send a response (either 200 and the original body or 500).\nThe model that represents the body is (with lombok annotation):</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class CallRequest {\n    public String fromRef;\n    public String toRef;\n}\n</code></pre>\n<p>The JSON body I'm sending is:</p>\n<pre><code>{\n    &quot;fromRef&quot;: &quot;String&quot;,\n    &quot;toRef&quot;: &quot;String&quot;\n}\n</code></pre>\n<p>Is there anything else I need to have in order to make this post endpoint available without authentication?</p>\n"},{"tags":["java","user-interface","javafx","textarea"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1490908465,"post_id":43128331,"comment_id":73335712,"body_markdown":"[promptText](http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextInputControl.html#promptTextProperty) is what you want.","body":"<a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextInputControl.html#promptTextProperty\" rel=\"nofollow noreferrer\">promptText</a> is what you want."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1682671279,"creation_date":1490909731,"answer_id":43128783,"question_id":43128331,"body_markdown":"Set [promptText][1] on the TextArea.\r\n\r\n     textArea.setPromptText(&quot;Type or paste something to get started...&quot;);\r\n\r\nIf you want a more sophisticated solution that transfers the PromptText to a label above the TextField, so the prompt text is still visible when the user types, then the 3rd party [Gluon glisten library][2] does that, or [MaterialFX has many text field prompt and label options](https://github.com/palexdev/MaterialFX/wiki/Text-Fields).  From your description, though you probably don&#39;t need the glisten functionality and the standard `promptText` implementation in JavaFX TextAreas is probably fine for you.\r\n\r\nRelated:\r\n\r\n  * https://stackoverflow.com/questions/25125563/clear-prompt-text-in-javafx-textfield-only-when-user-starts-typing\r\n\r\n  [1]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextInputControl.html#promptTextProperty\r\n  [2]: http://docs.gluonhq.com/charm/javadoc/4.2.0/com/gluonhq/charm/glisten/control/TextField.html","title":"How would I create grayed-out text in a JavaFX TextArea that disappears when the user begins adding text?","body":"<p>Set <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextInputControl.html#promptTextProperty\" rel=\"nofollow noreferrer\">promptText</a> on the TextArea.</p>\n<pre><code> textArea.setPromptText(&quot;Type or paste something to get started...&quot;);\n</code></pre>\n<p>If you want a more sophisticated solution that transfers the PromptText to a label above the TextField, so the prompt text is still visible when the user types, then the 3rd party <a href=\"http://docs.gluonhq.com/charm/javadoc/4.2.0/com/gluonhq/charm/glisten/control/TextField.html\" rel=\"nofollow noreferrer\">Gluon glisten library</a> does that, or <a href=\"https://github.com/palexdev/MaterialFX/wiki/Text-Fields\" rel=\"nofollow noreferrer\">MaterialFX has many text field prompt and label options</a>.  From your description, though you probably don't need the glisten functionality and the standard <code>promptText</code> implementation in JavaFX TextAreas is probably fine for you.</p>\n<p>Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/25125563/clear-prompt-text-in-javafx-textfield-only-when-user-starts-typing\">Clear prompt text in JavaFX TextField only when user starts typing</a></li>\n</ul>\n"}],"owner":{"account_id":10250846,"reputation":55,"user_id":7565149,"display_name":"David Kriz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43128783,"answer_count":1,"score":2,"last_activity_date":1682671279,"creation_date":1490907981,"question_id":43128331,"body_markdown":"This is a feature that I have noticed in many web apps and I would like it to be in a TextArea on my JavaFX app.\r\n\r\nThe desktop version of [Hemingway][1] provides a good example:\r\n\r\n[![Before content added][2]][2]\r\n\r\n[![After content added][3]][3]\r\n\r\n  [1]: http://www.hemingwayapp.com/\r\n  [2]: https://i.stack.imgur.com/Nri0v.jpg\r\n  [3]: https://i.stack.imgur.com/sLzYU.jpg","title":"How would I create grayed-out text in a JavaFX TextArea that disappears when the user begins adding text?","body":"<p>This is a feature that I have noticed in many web apps and I would like it to be in a TextArea on my JavaFX app.</p>\n\n<p>The desktop version of <a href=\"http://www.hemingwayapp.com/\" rel=\"nofollow noreferrer\">Hemingway</a> provides a good example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nri0v.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nri0v.jpg\" alt=\"Before content added\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sLzYU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sLzYU.jpg\" alt=\"After content added\"></a></p>\n"},{"tags":["java","intellij-idea","spotless"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1682602409,"post_id":76120645,"comment_id":134244227,"body_markdown":"It&#39;s a known limitation of IntelliJ not covering all Eclipse formatting settings.","body":"It&#39;s a known limitation of IntelliJ not covering all Eclipse formatting settings."}],"answers":[{"comments":[{"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"score":0,"creation_date":1683034540,"post_id":76127228,"comment_id":134302307,"body_markdown":"Thanks for the answer, I installes the adapter for eclipse code formatter in IntelliJ but there are still differences in line breaks and the way long expressions with chained function calls etc. are splitted. I miss something like black that I used for my python and django projects.","body":"Thanks for the answer, I installes the adapter for eclipse code formatter in IntelliJ but there are still differences in line breaks and the way long expressions with chained function calls etc. are splitted. I miss something like black that I used for my python and django projects."}],"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682670940,"creation_date":1682667181,"answer_id":76127228,"question_id":76120645,"body_markdown":"The indent size for parameter descriptions is defined by the &quot;Continuation indent&quot; value (Settings/Preferences -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Tabs and Indents)\r\n\r\nThat will affect more than just parameter descriptions, though, so I&#39;m not sure if that would work for you.\r\n\r\nAnother option for you might be configuring [Adapter for Eclipse Code Formatter][1]\r\n\r\n\r\nOne more thing I can think of is [EditorConfig][2], but it will require some configuring on both Eclipse and IDEA ends.\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/6546-adapter-for-eclipse-code-formatter\r\n  [2]: https://editorconfig.org/","title":"Eclipse Code Formatter Profile within IntelliJ: Javadoc formatting","body":"<p>The indent size for parameter descriptions is defined by the &quot;Continuation indent&quot; value (Settings/Preferences -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Tabs and Indents)</p>\n<p>That will affect more than just parameter descriptions, though, so I'm not sure if that would work for you.</p>\n<p>Another option for you might be configuring <a href=\"https://plugins.jetbrains.com/plugin/6546-adapter-for-eclipse-code-formatter\" rel=\"nofollow noreferrer\">Adapter for Eclipse Code Formatter</a></p>\n<p>One more thing I can think of is <a href=\"https://editorconfig.org/\" rel=\"nofollow noreferrer\">EditorConfig</a>, but it will require some configuring on both Eclipse and IDEA ends.</p>\n"}],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682670940,"creation_date":1682599857,"question_id":76120645,"body_markdown":"as all the other collegues are working with eclipse for an project I have imported the Eclipse Formatter profile xml file and imported it within IntelliJ so far everything seems to be ok, but there is a difference with the javadoc formatting and I could not find the place where to adjust this value.\r\n\r\nEclipse: 12 spaces indent for parameter description\r\n\r\n     * @param first\r\n     *            The first parameter. For an optimum result, this should be an\r\n     *            odd number between 0 and 100.\r\n\r\nIntelliJ: 10 spaces indent \r\n\r\n     * @param i\r\n     *         short named parameter description\r\n\r\n\r\nThe simplest solution would be to turn off formatting javadoc within IntelliJ but maybe there is a better one? \r\n\r\nI have tried spotless maven plugin with the xml profile and the import order but it was also messing around with the javadoc. \r\n\r\nSince java is quite grown-up programming language and is widely used I am wondering how this can be. Google code format is not an option so far. But an code formatter which you can customize to that level would be great. Any suggestions?\r\n\r\nThanks and Best Regards\r\nMatt","title":"Eclipse Code Formatter Profile within IntelliJ: Javadoc formatting","body":"<p>as all the other collegues are working with eclipse for an project I have imported the Eclipse Formatter profile xml file and imported it within IntelliJ so far everything seems to be ok, but there is a difference with the javadoc formatting and I could not find the place where to adjust this value.</p>\n<p>Eclipse: 12 spaces indent for parameter description</p>\n<pre><code> * @param first\n *            The first parameter. For an optimum result, this should be an\n *            odd number between 0 and 100.\n</code></pre>\n<p>IntelliJ: 10 spaces indent</p>\n<pre><code> * @param i\n *         short named parameter description\n</code></pre>\n<p>The simplest solution would be to turn off formatting javadoc within IntelliJ but maybe there is a better one?</p>\n<p>I have tried spotless maven plugin with the xml profile and the import order but it was also messing around with the javadoc.</p>\n<p>Since java is quite grown-up programming language and is widely used I am wondering how this can be. Google code format is not an option so far. But an code formatter which you can customize to that level would be great. Any suggestions?</p>\n<p>Thanks and Best Regards\nMatt</p>\n"},{"tags":["java","spring-boot","jms"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1682321854,"post_id":76089576,"comment_id":134190733,"body_markdown":"You need to start a JMS server, without a server nothing will be send. Which is probably explained in the book (which I suggest you get instead of just the code). That being said, why the `@Enable*` annotations, those aren&#39;t really needed in a Spring Boot application.","body":"You need to start a JMS server, without a server nothing will be send. Which is probably explained in the book (which I suggest you get instead of just the code). That being said, why the <code>@Enable*</code> annotations, those aren&#39;t really needed in a Spring Boot application."}],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682670567,"creation_date":1682670567,"answer_id":76127699,"question_id":76089576,"body_markdown":"The answer to this problem is actually quite simple. I had to uncomment these lines in the `gradle.build` file:\r\n```groovy\r\n   implementation  \\\r\n    &#39;org.apache.activemq:artemis-jms-server:2.24.0&#39;\r\n```\r\n(Too bad that the authors decided to leave this passage without any comment...)\r\n\r\nThis means whenever you have this problem `ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.` check that you have started any JMS server as the comment from @M-Deinum already suggests.","title":"org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers","body":"<p>The answer to this problem is actually quite simple. I had to uncomment these lines in the <code>gradle.build</code> file:</p>\n<pre><code>   implementation  \\\n    'org.apache.activemq:artemis-jms-server:2.24.0'\n</code></pre>\n<p>(Too bad that the authors decided to leave this passage without any comment...)</p>\n<p>This means whenever you have this problem <code>ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.</code> check that you have started any JMS server as the comment from @M-Deinum already suggests.</p>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1736,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76127699,"answer_count":1,"score":0,"last_activity_date":1682670567,"creation_date":1682321748,"question_id":76089576,"body_markdown":"I am following the examples at [Introducing Spring Framework 6&#39;](https://github.com/Apress/introducing-spring-framework6), specifically the [chapter 9](https://github.com/Apress/introducing-spring-framework6/tree/main/chapter09/src/main/java/md) where I cannot successfully run the example regarding JMS.\r\n\r\nThe following setup:\r\n\r\n(Main class)\r\n```java\r\n@EnableJpaRepositories\r\n@EnableJms\r\n@SpringBootApplication\r\npublic class MyDocsApp {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(MyDocsApp.class, args);\r\n  }\r\n\r\n  @Bean\r\n  CommandLineRunner send(JmsPublisher publisher) {\r\n    return args -&gt; {\r\n      IntStream.rangeClosed(1, 20).forEach(\r\n        (value) -&gt; {\r\n          var uuid = UUID.randomUUID().toString();\r\n          publisher.send(\r\n            new Document(\r\n              &quot;document &quot; + uuid,\r\n              &quot;/documents/doc&quot; + uuid\r\n            ));\r\n        }\r\n      );\r\n    };\r\n  }\r\n\r\n```\r\n\r\nThe publisher\r\n```java\r\n@Component\r\npublic class JmsPublisher {\r\n  private final JmsTemplate jmsTemplate;\r\n\r\n  public JmsPublisher(JmsTemplate jmsTemplate) {\r\n    this.jmsTemplate = jmsTemplate;\r\n  }\r\n\r\n  public void send(Document document) {\r\n    jmsTemplate.send(&quot;documents&quot;, session -&gt; session.createObjectMessage(document));\r\n  }\r\n}\r\n\r\n```\r\nThe `document` class\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;document&quot;)\r\npublic class Document implements Serializable {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.AUTO)\r\n  Integer id;\r\n  @Column(nullable = false)\r\n  String name;\r\n  @Column(nullable = false)\r\n  String location;\r\n\r\n  Document() {\r\n  }\r\n  Document(String name, String location) {\r\n    setName(name);\r\n    setLocation(location);\r\n  }\r\n\r\n// getter/setter omitted\r\n```\r\n\r\nThe gradle file.\r\n```\r\nplugins {\r\n    id &quot;application&quot;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.6&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation  \\\r\n      &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.0.6&#39;\r\n    implementation  \\\r\n      &#39;org.springframework.boot:spring-boot-starter-artemis:3.0.6&#39;\r\n    implementation  \\\r\n      &#39;com.h2database:h2:2.1.214&#39;\r\n //   implementation  \\\r\n //    &#39;org.apache.activemq:artemis-jms-server:2.24.0&#39;\r\n}\r\n\r\napplication {\r\n    mainClass.set(&quot;md.MyDocsApp&quot;)\r\n}\r\n```\r\n\r\nMy problem now is that I fail to see where I need to start a JMS server. What do I need to do to get rid of \r\n```\r\nCaused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\r\n\tat org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:703) ~[artemis-core-client-2.26.0.jar:2.26.0]\r\n```\r\n\r\nThe complete stacktrace with log output is the following:\r\n\r\n```\r\n2023-04-24T09:27:11.046+02:00  INFO 22314 --- [           main] md.MyDocsApp                             : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-24T09:27:11.268+02:00  INFO 22314 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-24T09:27:11.296+02:00  INFO 22314 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 1 JPA repository interfaces.\r\n2023-04-24T09:27:11.550+02:00  INFO 22314 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-24T09:27:11.578+02:00  INFO 22314 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-24T09:27:11.744+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-24T09:27:11.852+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:7ef74512-9dd7-4cc1-9e98-e4c392d01864 user=SA\r\n2023-04-24T09:27:11.853+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-24T09:27:11.874+02:00  INFO 22314 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-04-24T09:27:12.312+02:00  INFO 22314 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-24T09:27:12.317+02:00  INFO 22314 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-24T09:27:12.767+02:00  INFO 22314 --- [           main] o.s.j.c.CachingConnectionFactory         : Encountered a JMSException - resetting the underlying JMS Connection\r\n\r\njakarta.jms.JMSException: Failed to create session factory\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:867) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:284) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:279) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.doCreateConnection(SingleConnectionFactory.java:427) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.initConnection(SingleConnectionFactory.java:352) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.getConnection(SingleConnectionFactory.java:327) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.createConnection(SingleConnectionFactory.java:242) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.listener.AbstractJmsListeningContainer.createSharedConnection(AbstractJmsListeningContainer.java:412) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.listener.AbstractJmsListeningContainer.establishSharedConnection(AbstractJmsListeningContainer.java:380) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer.establishSharedConnection(DefaultMessageListenerContainer.java:861) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.listener.AbstractJmsListeningContainer.doStart(AbstractJmsListeningContainer.java:292) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.listener.AbstractJmsListeningContainer.start(AbstractJmsListeningContainer.java:277) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer.start(DefaultMessageListenerContainer.java:655) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.config.JmsListenerEndpointRegistry.startIfNecessary(JmsListenerEndpointRegistry.java:242) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.config.JmsListenerEndpointRegistry.start(JmsListenerEndpointRegistry.java:205) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:934) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:587) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat md.MyDocsApp.main(MyDocsApp.java:18) ~[main/:na]\r\nCaused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\r\n\tat org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:703) ~[artemis-core-client-2.26.0.jar:2.26.0]\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:865) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\t... 28 common frames omitted\r\n\r\n2023-04-24T09:27:12.777+02:00  INFO 22314 --- [           main] md.MyDocsApp                             : Started MyDocsApp in 1.947 seconds (process running for 2.267)\r\nDisconnected from the target VM, address: &#39;localhost:38899&#39;, transport: &#39;socket&#39;\r\n2023-04-24T09:27:17.107+02:00  INFO 22314 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-24T09:27:17.117+02:00 ERROR 22314 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:772) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:753) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat md.MyDocsApp.main(MyDocsApp.java:18) ~[main/:na]\r\nCaused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\r\n\tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:587) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat md.JmsPublisher.send(JmsPublisher.java:15) ~[main/:na]\r\n\tat md.MyDocsApp.lambda$send$0(MyDocsApp.java:27) ~[main/:na]\r\n\tat java.base/java.util.stream.Streams$RangeIntSpliterator.forEachRemaining(Streams.java:104) ~[na:na]\r\n\tat java.base/java.util.stream.IntPipeline$Head.forEach(IntPipeline.java:617) ~[na:na]\r\n\tat md.MyDocsApp.lambda$send$1(MyDocsApp.java:24) ~[main/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:769) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\t... 5 common frames omitted\r\nCaused by: jakarta.jms.JMSException: Failed to create session factory\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:867) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:284) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:279) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.doCreateConnection(SingleConnectionFactory.java:427) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.initConnection(SingleConnectionFactory.java:352) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.getConnection(SingleConnectionFactory.java:327) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.connection.SingleConnectionFactory.createConnection(SingleConnectionFactory.java:242) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.8.jar:6.0.8]\r\n\t... 12 common frames omitted\r\nCaused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\r\n\tat org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:703) ~[artemis-core-client-2.26.0.jar:2.26.0]\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:865) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\r\n\t... 20 common frames omitted\r\n\r\n2023-04-24T09:27:17.121+02:00  INFO 22314 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-24T09:27:17.122+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-04-24T09:27:17.123+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n```","title":"org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers","body":"<p>I am following the examples at <a href=\"https://github.com/Apress/introducing-spring-framework6\" rel=\"nofollow noreferrer\">Introducing Spring Framework 6'</a>, specifically the <a href=\"https://github.com/Apress/introducing-spring-framework6/tree/main/chapter09/src/main/java/md\" rel=\"nofollow noreferrer\">chapter 9</a> where I cannot successfully run the example regarding JMS.</p>\n<p>The following setup:</p>\n<p>(Main class)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableJpaRepositories\n@EnableJms\n@SpringBootApplication\npublic class MyDocsApp {\n  public static void main(String[] args) {\n    SpringApplication.run(MyDocsApp.class, args);\n  }\n\n  @Bean\n  CommandLineRunner send(JmsPublisher publisher) {\n    return args -&gt; {\n      IntStream.rangeClosed(1, 20).forEach(\n        (value) -&gt; {\n          var uuid = UUID.randomUUID().toString();\n          publisher.send(\n            new Document(\n              &quot;document &quot; + uuid,\n              &quot;/documents/doc&quot; + uuid\n            ));\n        }\n      );\n    };\n  }\n\n</code></pre>\n<p>The publisher</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JmsPublisher {\n  private final JmsTemplate jmsTemplate;\n\n  public JmsPublisher(JmsTemplate jmsTemplate) {\n    this.jmsTemplate = jmsTemplate;\n  }\n\n  public void send(Document document) {\n    jmsTemplate.send(&quot;documents&quot;, session -&gt; session.createObjectMessage(document));\n  }\n}\n\n</code></pre>\n<p>The <code>document</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;document&quot;)\npublic class Document implements Serializable {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  Integer id;\n  @Column(nullable = false)\n  String name;\n  @Column(nullable = false)\n  String location;\n\n  Document() {\n  }\n  Document(String name, String location) {\n    setName(name);\n    setLocation(location);\n  }\n\n// getter/setter omitted\n</code></pre>\n<p>The gradle file.</p>\n<pre><code>plugins {\n    id &quot;application&quot;\n    id 'org.springframework.boot' version '3.0.6'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n}\n\ndependencies {\n    implementation  \\\n      'org.springframework.boot:spring-boot-starter-data-jpa:3.0.6'\n    implementation  \\\n      'org.springframework.boot:spring-boot-starter-artemis:3.0.6'\n    implementation  \\\n      'com.h2database:h2:2.1.214'\n //   implementation  \\\n //    'org.apache.activemq:artemis-jms-server:2.24.0'\n}\n\napplication {\n    mainClass.set(&quot;md.MyDocsApp&quot;)\n}\n</code></pre>\n<p>My problem now is that I fail to see where I need to start a JMS server. What do I need to do to get rid of</p>\n<pre><code>Caused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\n    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:703) ~[artemis-core-client-2.26.0.jar:2.26.0]\n</code></pre>\n<p>The complete stacktrace with log output is the following:</p>\n<pre><code>2023-04-24T09:27:11.046+02:00  INFO 22314 --- [           main] md.MyDocsApp                             : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-24T09:27:11.268+02:00  INFO 22314 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-24T09:27:11.296+02:00  INFO 22314 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 1 JPA repository interfaces.\n2023-04-24T09:27:11.550+02:00  INFO 22314 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-24T09:27:11.578+02:00  INFO 22314 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-24T09:27:11.744+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-24T09:27:11.852+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:7ef74512-9dd7-4cc1-9e98-e4c392d01864 user=SA\n2023-04-24T09:27:11.853+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-24T09:27:11.874+02:00  INFO 22314 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-04-24T09:27:12.312+02:00  INFO 22314 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-24T09:27:12.317+02:00  INFO 22314 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-24T09:27:12.767+02:00  INFO 22314 --- [           main] o.s.j.c.CachingConnectionFactory         : Encountered a JMSException - resetting the underlying JMS Connection\n\njakarta.jms.JMSException: Failed to create session factory\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:867) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:284) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:279) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    at org.springframework.jms.connection.SingleConnectionFactory.doCreateConnection(SingleConnectionFactory.java:427) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.connection.SingleConnectionFactory.initConnection(SingleConnectionFactory.java:352) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.connection.SingleConnectionFactory.getConnection(SingleConnectionFactory.java:327) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.connection.SingleConnectionFactory.createConnection(SingleConnectionFactory.java:242) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.listener.AbstractJmsListeningContainer.createSharedConnection(AbstractJmsListeningContainer.java:412) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.listener.AbstractJmsListeningContainer.establishSharedConnection(AbstractJmsListeningContainer.java:380) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer.establishSharedConnection(DefaultMessageListenerContainer.java:861) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.listener.AbstractJmsListeningContainer.doStart(AbstractJmsListeningContainer.java:292) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.listener.AbstractJmsListeningContainer.start(AbstractJmsListeningContainer.java:277) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer.start(DefaultMessageListenerContainer.java:655) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.config.JmsListenerEndpointRegistry.startIfNecessary(JmsListenerEndpointRegistry.java:242) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.config.JmsListenerEndpointRegistry.start(JmsListenerEndpointRegistry.java:205) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-6.0.8.jar:6.0.8]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:934) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:587) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at md.MyDocsApp.main(MyDocsApp.java:18) ~[main/:na]\nCaused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\n    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:703) ~[artemis-core-client-2.26.0.jar:2.26.0]\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:865) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    ... 28 common frames omitted\n\n2023-04-24T09:27:12.777+02:00  INFO 22314 --- [           main] md.MyDocsApp                             : Started MyDocsApp in 1.947 seconds (process running for 2.267)\nDisconnected from the target VM, address: 'localhost:38899', transport: 'socket'\n2023-04-24T09:27:17.107+02:00  INFO 22314 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-24T09:27:17.117+02:00 ERROR 22314 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:772) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:753) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at md.MyDocsApp.main(MyDocsApp.java:18) ~[main/:na]\nCaused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:587) ~[spring-jms-6.0.8.jar:6.0.8]\n    at md.JmsPublisher.send(JmsPublisher.java:15) ~[main/:na]\n    at md.MyDocsApp.lambda$send$0(MyDocsApp.java:27) ~[main/:na]\n    at java.base/java.util.stream.Streams$RangeIntSpliterator.forEachRemaining(Streams.java:104) ~[na:na]\n    at java.base/java.util.stream.IntPipeline$Head.forEach(IntPipeline.java:617) ~[na:na]\n    at md.MyDocsApp.lambda$send$1(MyDocsApp.java:24) ~[main/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:769) ~[spring-boot-3.0.6.jar:3.0.6]\n    ... 5 common frames omitted\nCaused by: jakarta.jms.JMSException: Failed to create session factory\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:867) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:284) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:279) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    at org.springframework.jms.connection.SingleConnectionFactory.doCreateConnection(SingleConnectionFactory.java:427) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.connection.SingleConnectionFactory.initConnection(SingleConnectionFactory.java:352) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.connection.SingleConnectionFactory.getConnection(SingleConnectionFactory.java:327) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.connection.SingleConnectionFactory.createConnection(SingleConnectionFactory.java:242) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.8.jar:6.0.8]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.8.jar:6.0.8]\n    ... 12 common frames omitted\nCaused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\n    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:703) ~[artemis-core-client-2.26.0.jar:2.26.0]\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:865) ~[artemis-jakarta-client-2.26.0.jar:2.26.0]\n    ... 20 common frames omitted\n\n2023-04-24T09:27:17.121+02:00  INFO 22314 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-24T09:27:17.122+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-24T09:27:17.123+02:00  INFO 22314 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n"},{"tags":["java","android-ndk","java-native-interface"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682645158,"post_id":76125591,"comment_id":134252175,"body_markdown":"Your JNI code is lacking all error checking. Every JNI call can pend an exception, and you need to check for that. Every time.","body":"Your JNI code is lacking all error checking. Every JNI call can pend an exception, and you need to check for that. Every time."},{"owner":{"account_id":4280221,"reputation":23,"user_id":3499851,"display_name":"user3499851"},"score":0,"creation_date":1682647422,"post_id":76125591,"comment_id":134252386,"body_markdown":"yes, I will add more checking, but what about the lifetime of Java variables when it&#39;s deleted immediately after the call to the Java method using that variable?","body":"yes, I will add more checking, but what about the lifetime of Java variables when it&#39;s deleted immediately after the call to the Java method using that variable?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682671338,"post_id":76125591,"comment_id":134255599,"body_markdown":"I provided a comment, not an answer. That&#39;s what comments are for.","body":"I provided a comment, not an answer. That&#39;s what comments are for."}],"answers":[{"comments":[{"owner":{"account_id":4280221,"reputation":23,"user_id":3499851,"display_name":"user3499851"},"score":0,"creation_date":1682678261,"post_id":76127242,"comment_id":134257044,"body_markdown":"Thanks, I like the way you are working through this. So garbage collection will not start until the code returns from Java to NDK and it&#39;s DeleteLocalRef that starts this process. Thank you","body":"Thanks, I like the way you are working through this. So garbage collection will not start until the code returns from Java to NDK and it&#39;s DeleteLocalRef that starts this process. Thank you"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1682678326,"post_id":76127242,"comment_id":134257056,"body_markdown":"To be precise: you have no control over _when_ garbage collection triggers. All DeleteLocalRef does is make the object _eligible_ for garbage collection.","body":"To be precise: you have no control over <i>when</i> garbage collection triggers. All DeleteLocalRef does is make the object <i>eligible</i> for garbage collection."}],"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682670403,"creation_date":1682667303,"answer_id":76127242,"question_id":76125591,"body_markdown":"Let&#39;s go through your code line by line and think about memory management:\r\n\r\n    jstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\r\nThis line creates a Java String object on the heap by copying from `sdp`. It only has one reference, namely the JNI-local reference here in `jstrBuf`.\r\n\r\n    (*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\r\nThis line passes `jstrBuf` to your Java method. Method parameters are garbage collection roots, so there is an extra reference to your object from the call stack.\r\n\r\n    (*env)-&gt;DeleteLocalRef(env, jstrBuf);\r\nThis line removes your JNI-held local reference.  \r\nAt this point either `setRemoteDescription` created an additional reference (eg by storing `sdp` somewhere or taking a substring of it, or it did not.\r\n\r\nIn the second case `jstrBuf` will no longer have references to it and the memory for it will be freed when the garbage collector runs again.","title":"JNI callback to Java","body":"<p>Let's go through your code line by line and think about memory management:</p>\n<pre><code>jstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\n</code></pre>\n<p>This line creates a Java String object on the heap by copying from <code>sdp</code>. It only has one reference, namely the JNI-local reference here in <code>jstrBuf</code>.</p>\n<pre><code>(*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\n</code></pre>\n<p>This line passes <code>jstrBuf</code> to your Java method. Method parameters are garbage collection roots, so there is an extra reference to your object from the call stack.</p>\n<pre><code>(*env)-&gt;DeleteLocalRef(env, jstrBuf);\n</code></pre>\n<p>This line removes your JNI-held local reference.<br />\nAt this point either <code>setRemoteDescription</code> created an additional reference (eg by storing <code>sdp</code> somewhere or taking a substring of it, or it did not.</p>\n<p>In the second case <code>jstrBuf</code> will no longer have references to it and the memory for it will be freed when the garbage collector runs again.</p>\n"}],"owner":{"account_id":4280221,"reputation":23,"user_id":3499851,"display_name":"user3499851"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76127242,"answer_count":1,"score":0,"last_activity_date":1682670403,"creation_date":1682643886,"question_id":76125591,"body_markdown":"Need some help in understanding when the java string is deleted. On the c side the string is deleted after the call to onCandidates and on the java side setRemoteDescription may take some time to process sdp. How does java sync up to the c side and would it be normal to make a copy of the string before proceeding.\r\n\r\n\r\n**C source code**\r\n```\r\njstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\r\n(*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\r\n(*env)-&gt;DeleteLocalRef(env, jstrBuf);\r\n```\r\n\r\n**java code**\r\n```\r\nprivate void onCandidates(String sdp) {\r\n  setRemoteDescription(sdp); // may take time?\r\n}\r\n```\r\n\r\nMy code works most of the time but some times my app crashes. Initially this was due to a different thread on the c side. I think my solution is working correctly so now I am considering the life time of the variable.\r\n\r\n```\r\nstatic void on_gathering_done(juice_agent_t *agent, void *user_ptr) {\r\n    LOGI(&quot;on_gathering_done&quot;);\r\n\r\n    char sdp[JUICE_MAX_SDP_STRING_LEN];\r\n    juice_get_local_description(local_agent, sdp, JUICE_MAX_SDP_STRING_LEN);\r\n\r\n    JNIEnv *env;\r\n    jint res = (*java_vm)-&gt;GetEnv(java_vm, (void **) &amp;env, JNI_VERSION_1_6);\r\n\r\n    // is current thread known?\r\n    if (res != JNI_OK) {\r\n        LOGI(&quot;attaching current thread to VM&quot;);\r\n        // not known, need to attach\r\n        if ((*java_vm)-&gt;AttachCurrentThread(java_vm, &amp;env, NULL) == JNI_OK) {\r\n\r\n            jstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\r\n            (*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\r\n            (*env)-&gt;DeleteLocalRef(env, jstrBuf);\r\n\r\n            (*java_vm)-&gt;DetachCurrentThread(java_vm);\r\n        }\r\n    } else {\r\n        LOGI(&quot;thread already attached to VM&quot;);\r\n\r\n        jstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\r\n        (*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\r\n        (*env)-&gt;DeleteLocalRef(env, jstrBuf);\r\n    }\r\n}\r\n```\r\nThanks\r\nRobert\r\n","title":"JNI callback to Java","body":"<p>Need some help in understanding when the java string is deleted. On the c side the string is deleted after the call to onCandidates and on the java side setRemoteDescription may take some time to process sdp. How does java sync up to the c side and would it be normal to make a copy of the string before proceeding.</p>\n<p><strong>C source code</strong></p>\n<pre><code>jstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\n(*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\n(*env)-&gt;DeleteLocalRef(env, jstrBuf);\n</code></pre>\n<p><strong>java code</strong></p>\n<pre><code>private void onCandidates(String sdp) {\n  setRemoteDescription(sdp); // may take time?\n}\n</code></pre>\n<p>My code works most of the time but some times my app crashes. Initially this was due to a different thread on the c side. I think my solution is working correctly so now I am considering the life time of the variable.</p>\n<pre><code>static void on_gathering_done(juice_agent_t *agent, void *user_ptr) {\n    LOGI(&quot;on_gathering_done&quot;);\n\n    char sdp[JUICE_MAX_SDP_STRING_LEN];\n    juice_get_local_description(local_agent, sdp, JUICE_MAX_SDP_STRING_LEN);\n\n    JNIEnv *env;\n    jint res = (*java_vm)-&gt;GetEnv(java_vm, (void **) &amp;env, JNI_VERSION_1_6);\n\n    // is current thread known?\n    if (res != JNI_OK) {\n        LOGI(&quot;attaching current thread to VM&quot;);\n        // not known, need to attach\n        if ((*java_vm)-&gt;AttachCurrentThread(java_vm, &amp;env, NULL) == JNI_OK) {\n\n            jstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\n            (*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\n            (*env)-&gt;DeleteLocalRef(env, jstrBuf);\n\n            (*java_vm)-&gt;DetachCurrentThread(java_vm);\n        }\n    } else {\n        LOGI(&quot;thread already attached to VM&quot;);\n\n        jstring jstrBuf = (*env)-&gt;NewStringUTF(env, sdp);\n        (*env)-&gt;CallVoidMethod(env, onCandidatesCallbackObj, onCandidatesCallback, jstrBuf);\n        (*env)-&gt;DeleteLocalRef(env, jstrBuf);\n    }\n}\n</code></pre>\n<p>Thanks\nRobert</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1657911419,"post_id":72998520,"comment_id":128930759,"body_markdown":"Different class loaders?","body":"Different class loaders?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657911537,"post_id":72998520,"comment_id":128930789,"body_markdown":"As per the [*How to ask* guide](https://stackoverflow.com/help/how-to-ask), please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/help/how-to-ask\"><i>How to ask</i> guide</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1657911955,"post_id":72998520,"comment_id":128930900,"body_markdown":"This is ALWAYS caused by the same class being loaded via two different classloaders.","body":"This is ALWAYS caused by the same class being loaded via two different classloaders."},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1657912713,"post_id":72998520,"comment_id":128931092,"body_markdown":"@Thorbj&#248;rn Ravn Andersen where do I check that?","body":"@Thorbj&#248;rn Ravn Andersen where do I check that?"},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1657913388,"post_id":72998520,"comment_id":128931303,"body_markdown":"@JimGarrison I don&#39;t understand much about classloaders but I&#39;ve done the same thing as this code before in other projects and I&#39;ve never had a problem and it&#39;s worked perfectly. It is the first time that it happens to me","body":"@JimGarrison I don&#39;t understand much about classloaders but I&#39;ve done the same thing as this code before in other projects and I&#39;ve never had a problem and it&#39;s worked perfectly. It is the first time that it happens to me"}],"answers":[{"tags":[],"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657917536,"creation_date":1657917536,"answer_id":72999378,"question_id":72998520,"body_markdown":"Finally after a lot of research I found that this problem is related to spring dev tools package. My solution was removing the package from my pom.xml that in my case wasn&#39;t required.","title":"class A cannot be cast to class A","body":"<p>Finally after a lot of research I found that this problem is related to spring dev tools package. My solution was removing the package from my pom.xml that in my case wasn't required.</p>\n"}],"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72999378,"answer_count":1,"score":0,"last_activity_date":1682670243,"creation_date":1657911279,"question_id":72998520,"body_markdown":"I&#39;m developing a REST API in Java SpringBoot using Hibernate JPA and SQL Server as database.\r\n\r\nMy app throws the following Exception:\r\n\r\n&gt; java.lang.ClassCastException: class com.estrelladekleene.safetycar.dto.DriverDTO cannot be cast to class com.estrelladekleene.safetycar.dto.DriverDTO (com.estrelladekleene.safetycar.dto.DriverDTO is in unnamed module of loader &#39;app&#39;; com.estrelladekleene.safetycar.dto.DriverDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @47e566be)\r\n\r\nThe problem appears in the following lines of code\r\n\r\n    public DriverDTO getDriverByPhoneNumber(String phoneNumber) {\r\n        DriverDTO driverDTO= entityManager.createQuery(&quot;SELECT d FROM DriverDTO d WHERE d.phoneNumber=&quot;+phoneNumber,DriverDTO.class).getSingleResult();\r\n        return driverDTO;\r\n    }\r\n\r\nThis is my DriverDTO class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Driver&quot;)\r\n    \r\n    public class DriverDTO {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;phoneNumber&quot;)\r\n    private String phoneNumber;\r\n\r\n    @Column(name = &quot;fullName&quot;)\r\n    private String fullName;\r\n\r\n    @Column(name = &quot;mail&quot;)\r\n    private String mail;\r\n\r\n    @Column(name = &quot;batteryPercentage&quot;)\r\n    private Integer batteryPercentage;\r\n\r\n    @Column(name = &quot;firebaseId&quot;)\r\n    private String firebaseId;\r\n\r\n    public DriverDTO() {\r\n    }\r\n\r\n    public DriverDTO(Long id, String phoneNumber, String fullName, String mail, Integer batteryPercentage, String firebaseId) {\r\n        this.id = id;\r\n        this.phoneNumber = phoneNumber;\r\n        this.fullName = fullName;\r\n        this.mail = mail;\r\n        this.batteryPercentage = batteryPercentage;\r\n        this.firebaseId = firebaseId;\r\n    }\r\n\r\nThis is my database Table and as you can see the Columns matches DriverDTO class:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I do the following I have no problem at all:\r\n\r\n    public List&lt;DriverDTO&gt; getAllDrivers() {\r\n        List&lt;DriverDTO&gt; driverDTOS = entityManager.createQuery(&quot;SELECT d FROM DriverDTO d&quot;, DriverDTO.class).getResultList();\r\n        return driverDTOS;\r\n    }\r\n\r\nI can&#39;t seem to do a simple where query. I also tried querying this way: entityManager.find(DriverDTO.class,1); and it doesn&#39;t work either. In my database does exist id=1 row.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2VWAA.png\r\n  [2]: https://i.stack.imgur.com/dVVXY.png","title":"class A cannot be cast to class A","body":"<p>I'm developing a REST API in Java SpringBoot using Hibernate JPA and SQL Server as database.</p>\n<p>My app throws the following Exception:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class com.estrelladekleene.safetycar.dto.DriverDTO cannot be cast to class com.estrelladekleene.safetycar.dto.DriverDTO (com.estrelladekleene.safetycar.dto.DriverDTO is in unnamed module of loader 'app'; com.estrelladekleene.safetycar.dto.DriverDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @47e566be)</p>\n</blockquote>\n<p>The problem appears in the following lines of code</p>\n<pre><code>public DriverDTO getDriverByPhoneNumber(String phoneNumber) {\n    DriverDTO driverDTO= entityManager.createQuery(&quot;SELECT d FROM DriverDTO d WHERE d.phoneNumber=&quot;+phoneNumber,DriverDTO.class).getSingleResult();\n    return driverDTO;\n}\n</code></pre>\n<p>This is my DriverDTO class:</p>\n<pre><code>@Entity\n@Table(name = &quot;Driver&quot;)\n\npublic class DriverDTO {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\n@Column(name = &quot;phoneNumber&quot;)\nprivate String phoneNumber;\n\n@Column(name = &quot;fullName&quot;)\nprivate String fullName;\n\n@Column(name = &quot;mail&quot;)\nprivate String mail;\n\n@Column(name = &quot;batteryPercentage&quot;)\nprivate Integer batteryPercentage;\n\n@Column(name = &quot;firebaseId&quot;)\nprivate String firebaseId;\n\npublic DriverDTO() {\n}\n\npublic DriverDTO(Long id, String phoneNumber, String fullName, String mail, Integer batteryPercentage, String firebaseId) {\n    this.id = id;\n    this.phoneNumber = phoneNumber;\n    this.fullName = fullName;\n    this.mail = mail;\n    this.batteryPercentage = batteryPercentage;\n    this.firebaseId = firebaseId;\n}\n</code></pre>\n<p>This is my database Table and as you can see the Columns matches DriverDTO class:\n<a href=\"https://i.stack.imgur.com/2VWAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2VWAA.png\" alt=\"enter image description here\" /></a></p>\n<p>When I do the following I have no problem at all:</p>\n<pre><code>public List&lt;DriverDTO&gt; getAllDrivers() {\n    List&lt;DriverDTO&gt; driverDTOS = entityManager.createQuery(&quot;SELECT d FROM DriverDTO d&quot;, DriverDTO.class).getResultList();\n    return driverDTOS;\n}\n</code></pre>\n<p>I can't seem to do a simple where query. I also tried querying this way: entityManager.find(DriverDTO.class,1); and it doesn't work either. In my database does exist id=1 row.</p>\n<p><a href=\"https://i.stack.imgur.com/dVVXY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dVVXY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","aes","sha256","7zip"],"comments":[{"owner":{"account_id":2557352,"reputation":361,"user_id":2219041,"display_name":"Abhinaba Basu"},"score":0,"creation_date":1682667989,"post_id":76127293,"comment_id":134254904,"body_markdown":"I think you have missed the error stacktrace","body":"I think you have missed the error stacktrace"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":3,"creation_date":1682669397,"post_id":76127293,"comment_id":134255222,"body_markdown":"https://commons.apache.org/proper/commons-compress/examples.html says _&quot;7z can read archives with many compression and encryption algorithms supported by 7z but doesn&#39;t support encryption when writing archives.&quot;_ You&#39;ll need to carefully read the decryption logic and try to reverse it, or find another solution. I&#39;d hope the 7z file format has sufficient documenation on the encryption scheme.","body":"<a href=\"https://commons.apache.org/proper/commons-compress/examples.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-compress/examples.html</a> says <i>&quot;7z can read archives with many compression and encryption algorithms supported by 7z but doesn&#39;t support encryption when writing archives.&quot;</i> You&#39;ll need to carefully read the decryption logic and try to reverse it, or find another solution. I&#39;d hope the 7z file format has sufficient documenation on the encryption scheme."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1682672595,"post_id":76127293,"comment_id":134255880,"body_markdown":"TBH, I don&#39;t see any encryption logic in the question, but just trying some stuff won&#39;t work. If you want to implement it (in the library?) then you need to get the protocol that 7zip uses and implement that. Otherwise the chance of success is about 0%.","body":"TBH, I don&#39;t see any encryption logic in the question, but just trying some stuff won&#39;t work. If you want to implement it (in the library?) then you need to get the protocol that 7zip uses and implement that. Otherwise the chance of success is about 0%."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1682673168,"post_id":76127293,"comment_id":134255991,"body_markdown":"Maybe you can use the JNI Wrapper mentioned here(https://stackoverflow.com/questions/21975613/how-can-i-encrypt-java-7z-archive) to achieve your goal.","body":"Maybe you can use the JNI Wrapper mentioned here(<a href=\"https://stackoverflow.com/questions/21975613/how-can-i-encrypt-java-7z-archive\" title=\"how can i encrypt java 7z archive\">stackoverflow.com/questions/21975613/&hellip;</a>) to achieve your goal."}],"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682669728,"creation_date":1682667697,"question_id":76127293,"body_markdown":"I am trying to write Java code which can compress any file in .7z format and encrypt it with AES 256. I need to compress and encrypt a file through Java code and send it to a user. They then decompress the file on their Windows machine using 7zip software and give a password that was used to encrypt the file. I was able to achieve the first step which is compression as .7z, but I tried lot of different options for AES 256 encryption. The compressed file is encrypted, but I was not able to decompress and decrypt it in 7zip Windows software. I have given my Java code which I used to compress. How can I add the AES 256 encryption logic which can be later decompressed and decrypted in 7zip software?\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.security.InvalidAlgorithmParameterException;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.NoSuchPaddingException;\r\n\r\nimport org.apache.commons.compress.archivers.sevenz.*;\r\n\r\npublic class LZMACompressionExample {\r\n\t\r\n    public static void main(String[] args) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\r\n    \t\r\n        String inputFilePath = &quot;D:\\\\f\\\\test.txt&quot;;\r\n        String outputFilePath = &quot;D:\\\\c\\\\test.7z&quot;;\r\n\r\n        System.out.println(&quot;File compression completed.&quot;);\r\n\r\n        // create 7z archive with original file name\r\n        SevenZOutputFile sevenZOutput = new SevenZOutputFile(new File(outputFilePath));\r\n        SevenZArchiveEntry entry = sevenZOutput.createArchiveEntry(new File(inputFilePath), new File(inputFilePath).getName());\r\n        sevenZOutput.putArchiveEntry(entry);\r\n\r\n        // write compressed data to 7z archive\r\n        FileInputStream compressedFileInputStream = new FileInputStream(inputFilePath);\r\n        byte[] compressedBuffer = new byte[1024];\r\n        int compressedLen;\r\n        while ((compressedLen = compressedFileInputStream.read(compressedBuffer)) &gt; 0) {\r\n            sevenZOutput.write(compressedBuffer, 0, compressedLen);\r\n        }\r\n\r\n        // close streams\r\n        sevenZOutput.closeArchiveEntry();\r\n        compressedFileInputStream.close();\r\n        sevenZOutput.close();\r\n\r\n        System.out.println(&quot;File compressed and saved in .7z format with original file name inside.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried lot of AES 256 encryption Java logic. The file is encrypting, but I&#39;m not able to open it in 7zip windows software. It throws an error.\r\n\r\n","title":"7z compression and AES 256 encryption in java","body":"<p>I am trying to write Java code which can compress any file in .7z format and encrypt it with AES 256. I need to compress and encrypt a file through Java code and send it to a user. They then decompress the file on their Windows machine using 7zip software and give a password that was used to encrypt the file. I was able to achieve the first step which is compression as .7z, but I tried lot of different options for AES 256 encryption. The compressed file is encrypted, but I was not able to decompress and decrypt it in 7zip Windows software. I have given my Java code which I used to compress. How can I add the AES 256 encryption logic which can be later decompressed and decrypted in 7zip software?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\n\nimport org.apache.commons.compress.archivers.sevenz.*;\n\npublic class LZMACompressionExample {\n    \n    public static void main(String[] args) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\n        \n        String inputFilePath = &quot;D:\\\\f\\\\test.txt&quot;;\n        String outputFilePath = &quot;D:\\\\c\\\\test.7z&quot;;\n\n        System.out.println(&quot;File compression completed.&quot;);\n\n        // create 7z archive with original file name\n        SevenZOutputFile sevenZOutput = new SevenZOutputFile(new File(outputFilePath));\n        SevenZArchiveEntry entry = sevenZOutput.createArchiveEntry(new File(inputFilePath), new File(inputFilePath).getName());\n        sevenZOutput.putArchiveEntry(entry);\n\n        // write compressed data to 7z archive\n        FileInputStream compressedFileInputStream = new FileInputStream(inputFilePath);\n        byte[] compressedBuffer = new byte[1024];\n        int compressedLen;\n        while ((compressedLen = compressedFileInputStream.read(compressedBuffer)) &gt; 0) {\n            sevenZOutput.write(compressedBuffer, 0, compressedLen);\n        }\n\n        // close streams\n        sevenZOutput.closeArchiveEntry();\n        compressedFileInputStream.close();\n        sevenZOutput.close();\n\n        System.out.println(&quot;File compressed and saved in .7z format with original file name inside.&quot;);\n    }\n}\n</code></pre>\n<p>I tried lot of AES 256 encryption Java logic. The file is encrypting, but I'm not able to open it in 7zip windows software. It throws an error.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-sdk-java-2.0"],"answers":[{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1682611611,"post_id":76122379,"comment_id":134246641,"body_markdown":"Hey, thank you for your answer, I used the same logic and I still get null for the counter, I don&#39;t understand what you mean by `This functionality works fine as long as you setup the code correctly` what wrong with my code!?","body":"Hey, thank you for your answer, I used the same logic and I still get null for the counter, I don&#39;t understand what you mean by <code>This functionality works fine as long as you setup the code correctly</code> what wrong with my code!?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1682611794,"post_id":76122379,"comment_id":134246684,"body_markdown":"See my update here. FRom the SDK team -- &quot;I figured out what’s happening. It’s because we’re reusing the same object that we read from the db with ‘getItem’. If you create a new object and set the data, it works&quot; See  Label updatedPhoto which is a new object that i use to update the table.","body":"See my update here. FRom the SDK team -- &quot;I figured out what’s happening. It’s because we’re reusing the same object that we read from the db with ‘getItem’. If you create a new object and set the data, it works&quot; See  Label updatedPhoto which is a new object that i use to update the table."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1682612529,"post_id":76122379,"comment_id":134246868,"body_markdown":"thank you for your response, I used the same trick, but I still get null for the counter, you can check my new code in my answer, please.","body":"thank you for your response, I used the same trick, but I still get null for the counter, you can check my new code in my answer, please."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1682613920,"post_id":76122379,"comment_id":134247253,"body_markdown":"I can figure out the schema of your table. I will try and reproduce your table and your code. I want to see if I can reproduce your issue","body":"I can figure out the schema of your table. I will try and reproduce your table and your code. I want to see if I can reproduce your issue"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1682614182,"post_id":76122379,"comment_id":134247314,"body_markdown":"I will post back my findings.","body":"I will post back my findings."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1682619999,"post_id":76122379,"comment_id":134248673,"body_markdown":"I made a few mods to your code and it works perfectly now.  The 2 items with @DynamoDbAtomicCounter are updated as shown in my screen shot.","body":"I made a few mods to your code and it works perfectly now.  The 2 items with @DynamoDbAtomicCounter are updated as shown in my screen shot."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1682668696,"post_id":76122379,"comment_id":134255100,"body_markdown":"I realized why my solution is not working :), please check my [answer here](https://stackoverflow.com/a/76127425/13118086)","body":"I realized why my solution is not working :), please check my <a href=\"https://stackoverflow.com/a/76127425/13118086\">answer here</a>"}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682621647,"creation_date":1682610711,"answer_id":76122379,"question_id":76122241,"body_markdown":"This functionality works as shown in the sample serverless photo asset management app that uses **DynamoDbAtomicCounter**. \r\n\r\nIn this example, the front end is a React app. The backend uses ***AWS SDK for Java V2***. Each time the application finds a new label using Amazon Rekognition, the count column in the Amazon DynamoDB table is incremented by using **DynamoDbAtomicCounter**. Here is the React UI.  You can see the count for each Label. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the applicable code that makes it work.  \r\n\r\nThis is the DynamoDB class that uses the necessary annotations - such as **@DynamoDbAtomicCounter**. \r\n\r\n        package com.example.photo;\r\n        \r\n        import software.amazon.awssdk.enhanced.dynamodb.extensions.annotations.DynamoDbAtomicCounter;\r\n        import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\r\n        import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbPartitionKey;\r\n        import java.util.List;\r\n        \r\n        @DynamoDbBean\r\n        public class Label {\r\n            private String id;\r\n            private Integer count;\r\n            private List&lt;String&gt; images;\r\n        \r\n            @DynamoDbPartitionKey\r\n            public String getId() {\r\n                return this.id;\r\n            };\r\n            public void setId(String id) {\r\n                this.id = id;\r\n            }\r\n        \r\n            @DynamoDbAtomicCounter (startValue = 1)\r\n            public Integer getCount() {\r\n                return this.count;\r\n            }\r\n            public void setCount(Integer count) {\r\n                this.count = count;\r\n            }\r\n        \r\n            public List&lt;String&gt; getImages() {\r\n                return this.images;\r\n            }\r\n            public void setImages(List&lt;String&gt; images) {\r\n                this.images = images;\r\n            }\r\n        }\r\n    \r\nHere is a method where it is used with the Enhanced Client: \r\n\r\n    private void addSingleRecord(DynamoDbTable&lt;Label&gt; table, String tag, String key) {\r\n            // Check to see if the label exists in the Amazon DynamoDB table.\r\n            // The count item uses an @DynamoDbAtomicCounter which means it is\r\n            // updated automatically. No need to manually set this value when the record is\r\n            // created or updated.\r\n            if (!checkTagExists(table, tag)) {\r\n                Label photoRec = new Label();\r\n                photoRec.setId(tag);\r\n                List&lt;String&gt; keyList = new ArrayList&lt;&gt;();\r\n                keyList.add(key);\r\n                photoRec.setImages(keyList);\r\n                table.putItem(photoRec);\r\n            } else {\r\n                // The tag exists in the table.\r\n                Key myKey = Key.builder()\r\n                    .partitionValue(tag)\r\n                    .build();\r\n    \r\n                // Add the file name to the list.\r\n                Label myPhoto = table.getItem(myKey);\r\n                Label updatedPhoto = new Label();\r\n                List&lt;String&gt; imageList = myPhoto.getImages();\r\n                imageList.add(key);\r\n                updatedPhoto.setId(tag);\r\n                updatedPhoto.setImages(imageList);\r\n                table.updateItem(updatedPhoto);\r\n            }\r\n        }\r\n    \r\n***UPDATE***\r\n    \r\nNote that there is a trick here - from the SDK team: \r\n\r\n&quot;I figured out what’s happening. It’s because we’re reusing the same object that we read from the db with ‘getItem’. If you create a new object and set the data, it works.&quot;  \r\n\r\nThat may be the cause of your issue. Create a new object, set the data, and the increment will happen. Notice that i create a new object here:\r\n\r\n \r\n    Label updatedPhoto = new Label();\r\n     List&lt;String&gt; imageList = myPhoto.getImages();\r\n     imageList.add(key);\r\n     updatedPhoto.setId(tag);\r\n     updatedPhoto.setImages(imageList);\r\n     table.updateItem(updatedPhoto);\r\n\r\n\r\n\r\nYou can find this complete example in the [AWS Code Library][2]. You can code the backend and use the AWS CDK to standup the resources and run this app. Follow the directions in the doc and follow the CDK instructions. Once you follow everything, you will see the app in action and the working **DynamoDbAtomicCounter**.\r\n\r\nSee:\r\n\r\n[Create a photo asset management application that lets users manage photos using labels][3]\r\n\r\n\r\n**UPDATE ON YOUR CODE**\r\n\r\nI had to made a few changes to your code. \r\n\r\nCODE: \r\n\r\n**EnhancedAtomicCounter**\r\n \r\n\r\n      package com.example.dynamodb.enhanced.test;\r\n    \r\n    import software.amazon.awssdk.auth.credentials.EnvironmentVariableCredentialsProvider;\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\r\n    import software.amazon.awssdk.enhanced.dynamodb.Key;\r\n    import software.amazon.awssdk.enhanced.dynamodb.TableSchema;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    \r\n    public class EnhancedAtomicCounter {\r\n    \r\n        public static void main(String[] args) {\r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            DynamoDbClient ddb = DynamoDbClient.builder()\r\n                .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\r\n                .region(region)\r\n                .build();\r\n    \r\n            DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\r\n                .dynamoDbClient(ddb)\r\n                .build();\r\n    \r\n            String root = &quot;1000&quot;;\r\n            putCustObj(enhancedClient, root);\r\n            updateRec(enhancedClient, root);\r\n            updateRec2(enhancedClient, root);\r\n    \r\n        }\r\n    \r\n        public static void putCustObj(DynamoDbEnhancedClient enhancedClient, String root) {\r\n            DynamoDbTable&lt;CustomerDocument&gt; mappedTable = enhancedClient.table(&quot;CustomerDocument&quot;, TableSchema.fromBean(CustomerDocument.class));\r\n            CustomerDocument document = new CustomerDocument();\r\n            document.setRoot(root);\r\n            document.setName(&quot;Scott&quot;);\r\n            document.setCustomCounter(200L);\r\n    \r\n            // Put the customer data into an Amazon DynamoDB table.\r\n            mappedTable.putItem(document);\r\n        }\r\n    \r\n        public static void updateRec(DynamoDbEnhancedClient enhancedClient, String root) {\r\n            DynamoDbTable&lt;CustomerDocument&gt; mappedTable = enhancedClient.table(&quot;CustomerDocument&quot;, TableSchema.fromBean(CustomerDocument.class));\r\n            Key key = Key.builder()\r\n                .partitionValue(root)\r\n                .build();\r\n    \r\n            // Get the item by using the key.\r\n            CustomerDocument result = mappedTable.getItem(r-&gt;r.key(key));\r\n    \r\n            // Create a new object so  @DynamoDbAtomicCounter works\r\n            CustomerDocument newCustOb = new CustomerDocument();\r\n            newCustOb.setRoot(result.getRoot());\r\n            newCustOb.setName(&quot;Scott2&quot;);\r\n            mappedTable.updateItem(newCustOb);\r\n        }\r\n    \r\n        public static void updateRec2(DynamoDbEnhancedClient enhancedClient, String root) {\r\n            DynamoDbTable&lt;CustomerDocument&gt; mappedTable = enhancedClient.table(&quot;CustomerDocument&quot;, TableSchema.fromBean(CustomerDocument.class));\r\n            Key key = Key.builder()\r\n                .partitionValue(root)\r\n                .build();\r\n    \r\n            // Get the item by using the key.\r\n            CustomerDocument result = mappedTable.getItem(r-&gt;r.key(key));\r\n    \r\n            // Create a new object so  @DynamoDbAtomicCounter works\r\n            CustomerDocument newCustOb = new CustomerDocument();\r\n            newCustOb.setRoot(result.getRoot());\r\n            newCustOb.setName(&quot;Scott3&quot;);\r\n            mappedTable.updateItem(newCustOb);\r\n            System.out.println(&quot;Item updated!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n**CustomerDocument**\r\n\r\n    package com.example.dynamodb.enhanced.test;\r\n    \r\n    import software.amazon.awssdk.enhanced.dynamodb.extensions.annotations.DynamoDbAtomicCounter;\r\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\r\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbPartitionKey;\r\n    \r\n    @DynamoDbBean\r\n    public class CustomerDocument {\r\n    \r\n        private String root;\r\n        private String name;\r\n        private Long updateCounter;\r\n        private Long customCounter;\r\n    \r\n        @DynamoDbPartitionKey\r\n        public String getRoot() {\r\n            return this.root;\r\n        }\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public void setRoot(String id) {\r\n            this.root = id;\r\n        }\r\n    \r\n        @DynamoDbAtomicCounter (startValue = 1)\r\n        public Long getUpdateCounter() {\r\n            return this.updateCounter;\r\n        }\r\n    \r\n        public void setUpdateCounter(Long counter) {\r\n            this.updateCounter = counter;\r\n        }\r\n    \r\n        @DynamoDbAtomicCounter(delta = 5, startValue = 10)\r\n        public Long getCustomCounter() {\r\n            return this.customCounter;\r\n        }\r\n    \r\n        public void setCustomCounter(Long counter) {\r\n            this.customCounter = counter;\r\n        }\r\n    }\r\n\r\n\r\nIn my example, I made a few updates to the record by changing the name. Now  \t\r\n**updateCounter** should be 3. It is:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8cKUk.png\r\n  [2]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [3]: https://docs.aws.amazon.com/code-library/latest/ug/cross_PAM_java_2_topic.html\r\n  [4]: https://i.stack.imgur.com/lH0zz.png\r\n  [5]: https://i.stack.imgur.com/9WY7j.png","title":"DynamoDB - DynamoDbAtomicCounter return always null","body":"<p>This functionality works as shown in the sample serverless photo asset management app that uses <strong>DynamoDbAtomicCounter</strong>.</p>\n<p>In this example, the front end is a React app. The backend uses <em><strong>AWS SDK for Java V2</strong></em>. Each time the application finds a new label using Amazon Rekognition, the count column in the Amazon DynamoDB table is incremented by using <strong>DynamoDbAtomicCounter</strong>. Here is the React UI.  You can see the count for each Label.</p>\n<p><a href=\"https://i.stack.imgur.com/8cKUk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8cKUk.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the applicable code that makes it work.</p>\n<p>This is the DynamoDB class that uses the necessary annotations - such as <strong>@DynamoDbAtomicCounter</strong>.</p>\n<pre><code>    package com.example.photo;\n    \n    import software.amazon.awssdk.enhanced.dynamodb.extensions.annotations.DynamoDbAtomicCounter;\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbPartitionKey;\n    import java.util.List;\n    \n    @DynamoDbBean\n    public class Label {\n        private String id;\n        private Integer count;\n        private List&lt;String&gt; images;\n    \n        @DynamoDbPartitionKey\n        public String getId() {\n            return this.id;\n        };\n        public void setId(String id) {\n            this.id = id;\n        }\n    \n        @DynamoDbAtomicCounter (startValue = 1)\n        public Integer getCount() {\n            return this.count;\n        }\n        public void setCount(Integer count) {\n            this.count = count;\n        }\n    \n        public List&lt;String&gt; getImages() {\n            return this.images;\n        }\n        public void setImages(List&lt;String&gt; images) {\n            this.images = images;\n        }\n    }\n</code></pre>\n<p>Here is a method where it is used with the Enhanced Client:</p>\n<pre><code>private void addSingleRecord(DynamoDbTable&lt;Label&gt; table, String tag, String key) {\n        // Check to see if the label exists in the Amazon DynamoDB table.\n        // The count item uses an @DynamoDbAtomicCounter which means it is\n        // updated automatically. No need to manually set this value when the record is\n        // created or updated.\n        if (!checkTagExists(table, tag)) {\n            Label photoRec = new Label();\n            photoRec.setId(tag);\n            List&lt;String&gt; keyList = new ArrayList&lt;&gt;();\n            keyList.add(key);\n            photoRec.setImages(keyList);\n            table.putItem(photoRec);\n        } else {\n            // The tag exists in the table.\n            Key myKey = Key.builder()\n                .partitionValue(tag)\n                .build();\n\n            // Add the file name to the list.\n            Label myPhoto = table.getItem(myKey);\n            Label updatedPhoto = new Label();\n            List&lt;String&gt; imageList = myPhoto.getImages();\n            imageList.add(key);\n            updatedPhoto.setId(tag);\n            updatedPhoto.setImages(imageList);\n            table.updateItem(updatedPhoto);\n        }\n    }\n</code></pre>\n<p><em><strong>UPDATE</strong></em></p>\n<p>Note that there is a trick here - from the SDK team:</p>\n<p>&quot;I figured out what’s happening. It’s because we’re reusing the same object that we read from the db with ‘getItem’. If you create a new object and set the data, it works.&quot;</p>\n<p>That may be the cause of your issue. Create a new object, set the data, and the increment will happen. Notice that i create a new object here:</p>\n<pre><code>Label updatedPhoto = new Label();\n List&lt;String&gt; imageList = myPhoto.getImages();\n imageList.add(key);\n updatedPhoto.setId(tag);\n updatedPhoto.setImages(imageList);\n table.updateItem(updatedPhoto);\n</code></pre>\n<p>You can find this complete example in the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Library</a>. You can code the backend and use the AWS CDK to standup the resources and run this app. Follow the directions in the doc and follow the CDK instructions. Once you follow everything, you will see the app in action and the working <strong>DynamoDbAtomicCounter</strong>.</p>\n<p>See:</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/cross_PAM_java_2_topic.html\" rel=\"nofollow noreferrer\">Create a photo asset management application that lets users manage photos using labels</a></p>\n<p><strong>UPDATE ON YOUR CODE</strong></p>\n<p>I had to made a few changes to your code.</p>\n<p>CODE:</p>\n<p><strong>EnhancedAtomicCounter</strong></p>\n<pre><code>  package com.example.dynamodb.enhanced.test;\n\nimport software.amazon.awssdk.auth.credentials.EnvironmentVariableCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\nimport software.amazon.awssdk.enhanced.dynamodb.Key;\nimport software.amazon.awssdk.enhanced.dynamodb.TableSchema;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\n\npublic class EnhancedAtomicCounter {\n\n    public static void main(String[] args) {\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        DynamoDbClient ddb = DynamoDbClient.builder()\n            .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\n            .region(region)\n            .build();\n\n        DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\n            .dynamoDbClient(ddb)\n            .build();\n\n        String root = &quot;1000&quot;;\n        putCustObj(enhancedClient, root);\n        updateRec(enhancedClient, root);\n        updateRec2(enhancedClient, root);\n\n    }\n\n    public static void putCustObj(DynamoDbEnhancedClient enhancedClient, String root) {\n        DynamoDbTable&lt;CustomerDocument&gt; mappedTable = enhancedClient.table(&quot;CustomerDocument&quot;, TableSchema.fromBean(CustomerDocument.class));\n        CustomerDocument document = new CustomerDocument();\n        document.setRoot(root);\n        document.setName(&quot;Scott&quot;);\n        document.setCustomCounter(200L);\n\n        // Put the customer data into an Amazon DynamoDB table.\n        mappedTable.putItem(document);\n    }\n\n    public static void updateRec(DynamoDbEnhancedClient enhancedClient, String root) {\n        DynamoDbTable&lt;CustomerDocument&gt; mappedTable = enhancedClient.table(&quot;CustomerDocument&quot;, TableSchema.fromBean(CustomerDocument.class));\n        Key key = Key.builder()\n            .partitionValue(root)\n            .build();\n\n        // Get the item by using the key.\n        CustomerDocument result = mappedTable.getItem(r-&gt;r.key(key));\n\n        // Create a new object so  @DynamoDbAtomicCounter works\n        CustomerDocument newCustOb = new CustomerDocument();\n        newCustOb.setRoot(result.getRoot());\n        newCustOb.setName(&quot;Scott2&quot;);\n        mappedTable.updateItem(newCustOb);\n    }\n\n    public static void updateRec2(DynamoDbEnhancedClient enhancedClient, String root) {\n        DynamoDbTable&lt;CustomerDocument&gt; mappedTable = enhancedClient.table(&quot;CustomerDocument&quot;, TableSchema.fromBean(CustomerDocument.class));\n        Key key = Key.builder()\n            .partitionValue(root)\n            .build();\n\n        // Get the item by using the key.\n        CustomerDocument result = mappedTable.getItem(r-&gt;r.key(key));\n\n        // Create a new object so  @DynamoDbAtomicCounter works\n        CustomerDocument newCustOb = new CustomerDocument();\n        newCustOb.setRoot(result.getRoot());\n        newCustOb.setName(&quot;Scott3&quot;);\n        mappedTable.updateItem(newCustOb);\n        System.out.println(&quot;Item updated!&quot;);\n    }\n}\n</code></pre>\n<p><strong>CustomerDocument</strong></p>\n<pre><code>package com.example.dynamodb.enhanced.test;\n\nimport software.amazon.awssdk.enhanced.dynamodb.extensions.annotations.DynamoDbAtomicCounter;\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbPartitionKey;\n\n@DynamoDbBean\npublic class CustomerDocument {\n\n    private String root;\n    private String name;\n    private Long updateCounter;\n    private Long customCounter;\n\n    @DynamoDbPartitionKey\n    public String getRoot() {\n        return this.root;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setRoot(String id) {\n        this.root = id;\n    }\n\n    @DynamoDbAtomicCounter (startValue = 1)\n    public Long getUpdateCounter() {\n        return this.updateCounter;\n    }\n\n    public void setUpdateCounter(Long counter) {\n        this.updateCounter = counter;\n    }\n\n    @DynamoDbAtomicCounter(delta = 5, startValue = 10)\n    public Long getCustomCounter() {\n        return this.customCounter;\n    }\n\n    public void setCustomCounter(Long counter) {\n        this.customCounter = counter;\n    }\n}\n</code></pre>\n<p>In my example, I made a few updates to the record by changing the name. Now<br />\n<strong>updateCounter</strong> should be 3. It is:</p>\n<p><a href=\"https://i.stack.imgur.com/9WY7j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9WY7j.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1682685410,"post_id":76127425,"comment_id":134258583,"body_markdown":"Glad it’s working","body":"Glad it’s working"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682669428,"creation_date":1682668634,"answer_id":76127425,"question_id":76122241,"body_markdown":"Comparing my code and the code of [@smac2020][1], I realise that I use `.extensions(VersionedRecordExtension.builder().build())`:\r\n\r\n    DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\r\n            .dynamoDbClient(amazonDynamoDB())\r\n        --&gt; //.extensions(VersionedRecordExtension.builder().build())\r\n            .build();\r\n\r\nBy deleting this configuration, my solution works fine.\r\n\r\nmy final code was just:\r\n\r\n    public CustomerDocument nextCounter(String root) {\r\n        CustomerDocument newDocument = new CustomerDocument();\r\n        newDocument.setRoot(root);\r\n        return customerTable.updateItem(newDocument);\r\n    }\r\n\r\nNot `putItem`, nothing else.\r\n\r\n  [1]: https://stackoverflow.com/a/76122379/13118086","title":"DynamoDB - DynamoDbAtomicCounter return always null","body":"<p>Comparing my code and the code of <a href=\"https://stackoverflow.com/a/76122379/13118086\">@smac2020</a>, I realise that I use <code>.extensions(VersionedRecordExtension.builder().build())</code>:</p>\n<pre><code>DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\n        .dynamoDbClient(amazonDynamoDB())\n    --&gt; //.extensions(VersionedRecordExtension.builder().build())\n        .build();\n</code></pre>\n<p>By deleting this configuration, my solution works fine.</p>\n<p>my final code was just:</p>\n<pre><code>public CustomerDocument nextCounter(String root) {\n    CustomerDocument newDocument = new CustomerDocument();\n    newDocument.setRoot(root);\n    return customerTable.updateItem(newDocument);\n}\n</code></pre>\n<p>Not <code>putItem</code>, nothing else.</p>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76122379,"answer_count":2,"score":1,"last_activity_date":1682669428,"creation_date":1682609767,"question_id":76122241,"body_markdown":"I am following this document: \r\n\r\nhttps://aws.amazon.com/blogs/developer/using-atomic-counters-in-the-enhanced-dynamodb-aws-sdk-for-java-2-x-client/ \r\n\r\nMy goal is to use AtomicCounter to generate unique IDs, but I always get null for both examples:\r\n\r\nMy code looks like this:\r\n\r\n    @DynamoDbBean\r\n    public class CustomerDocument {\r\n    \r\n        private String root;\r\n        private Long updateCounter;\r\n        private Long customCounter;\r\n    \r\n        @DynamoDbPartitionKey\r\n        public String getRoot() {\r\n            return this.root;\r\n        }\r\n    \r\n        public void setRoot(String id) {\r\n            this.root = id;\r\n        }\r\n    \r\n        @DynamoDbAtomicCounter\r\n        public Long getUpdateCounter() {\r\n            return this.updateCounter;\r\n        }\r\n    \r\n        public void setUpdateCounter(Long counter) {\r\n            this.updateCounter = counter;\r\n        }\r\n    \r\n        @DynamoDbAtomicCounter(delta = 5, startValue = 10)\r\n        public Long getCustomCounter() {\r\n            return this.customCounter;\r\n        }\r\n    \r\n        public void setCustomCounter(Long counter) {\r\n            this.customCounter = counter;\r\n        }\r\n    }\r\n\r\nrepository\r\n\r\n    CustomerDocument document = new CustomerDocument();\r\n    document.setRoot(root);\r\n    \r\n    customerTable.updateItem(document);\r\n    CustomerDocument retrievedCustomer = customerTable.getItem(document);\r\n    \r\n    retrievedCustomer.getUpdateCounter(); // null\r\n    retrievedCustomer.getCustomCounter(); // null\r\n    \r\n    customerTable.updateItem(document);\r\n    \r\n    retrievedCustomer = orderCounterTable.getItem(document);\r\n    retrievedCustomer.getUpdateCounter(); // null\r\n    retrievedCustomer.getCustomCounter(); // null\r\n\r\nany idea about the issue, please?\r\n\r\n---\r\n\r\nEdit\r\n\r\nbased on the answer above, my code now looks like this:\r\n\r\n    public CustomerDocument nextCounter(String root) {\r\n        CustomerDocument document = new CustomerDocument();\r\n        document.setId(root);\r\n        CustomerDocument item = orderCounterTable.getItem(document);\r\n        if (item == null) {\r\n            CustomerDocument defaultDocument = new CustomerDocument();\r\n            defaultDocument.setId(root);\r\n            defaultDocument.setCount(1L);\r\n            customerTable.putItem(defaultDocument);\r\n            return defaultDocument;\r\n        } else {\r\n            CustomerDocument newDocument = new CustomerDocument();\r\n            newDocument.setId(item.getId());\r\n            return customerTable.updateItem(newDocument);\r\n        }\r\n    }\r\n\r\nBut I still get `null` every `orderCounterTable.updateItem(newDocument)`:\r\n\r\nI get only:\r\n\r\n    {\r\n        &quot;id&quot;: &quot;20042024&quot;\r\n    }","title":"DynamoDB - DynamoDbAtomicCounter return always null","body":"<p>I am following this document:</p>\n<p><a href=\"https://aws.amazon.com/blogs/developer/using-atomic-counters-in-the-enhanced-dynamodb-aws-sdk-for-java-2-x-client/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/using-atomic-counters-in-the-enhanced-dynamodb-aws-sdk-for-java-2-x-client/</a></p>\n<p>My goal is to use AtomicCounter to generate unique IDs, but I always get null for both examples:</p>\n<p>My code looks like this:</p>\n<pre><code>@DynamoDbBean\npublic class CustomerDocument {\n\n    private String root;\n    private Long updateCounter;\n    private Long customCounter;\n\n    @DynamoDbPartitionKey\n    public String getRoot() {\n        return this.root;\n    }\n\n    public void setRoot(String id) {\n        this.root = id;\n    }\n\n    @DynamoDbAtomicCounter\n    public Long getUpdateCounter() {\n        return this.updateCounter;\n    }\n\n    public void setUpdateCounter(Long counter) {\n        this.updateCounter = counter;\n    }\n\n    @DynamoDbAtomicCounter(delta = 5, startValue = 10)\n    public Long getCustomCounter() {\n        return this.customCounter;\n    }\n\n    public void setCustomCounter(Long counter) {\n        this.customCounter = counter;\n    }\n}\n</code></pre>\n<p>repository</p>\n<pre><code>CustomerDocument document = new CustomerDocument();\ndocument.setRoot(root);\n\ncustomerTable.updateItem(document);\nCustomerDocument retrievedCustomer = customerTable.getItem(document);\n\nretrievedCustomer.getUpdateCounter(); // null\nretrievedCustomer.getCustomCounter(); // null\n\ncustomerTable.updateItem(document);\n\nretrievedCustomer = orderCounterTable.getItem(document);\nretrievedCustomer.getUpdateCounter(); // null\nretrievedCustomer.getCustomCounter(); // null\n</code></pre>\n<p>any idea about the issue, please?</p>\n<hr />\n<p>Edit</p>\n<p>based on the answer above, my code now looks like this:</p>\n<pre><code>public CustomerDocument nextCounter(String root) {\n    CustomerDocument document = new CustomerDocument();\n    document.setId(root);\n    CustomerDocument item = orderCounterTable.getItem(document);\n    if (item == null) {\n        CustomerDocument defaultDocument = new CustomerDocument();\n        defaultDocument.setId(root);\n        defaultDocument.setCount(1L);\n        customerTable.putItem(defaultDocument);\n        return defaultDocument;\n    } else {\n        CustomerDocument newDocument = new CustomerDocument();\n        newDocument.setId(item.getId());\n        return customerTable.updateItem(newDocument);\n    }\n}\n</code></pre>\n<p>But I still get <code>null</code> every <code>orderCounterTable.updateItem(newDocument)</code>:</p>\n<p>I get only:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;20042024&quot;\n}\n</code></pre>\n"},{"tags":["java","ssl","tomcat","ssl-certificate","pfx"],"owner":{"account_id":11788166,"reputation":127,"user_id":8625142,"display_name":"Mujahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682669279,"creation_date":1682669279,"question_id":76127499,"body_markdown":"I need to install SSL certificate I have received in the form of .pfx file and password.\r\nI tried configuring the connectors as below:\r\n\r\n```\r\n\r\n&lt;Connector\r\n           \r\n           port=&quot;8888&quot; maxThreads=&quot;200&quot;\r\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\r\n           maxHttpHeaderSize=&quot;1048576&quot;\r\n\t    compression=&quot;on&quot; \r\n\t    compressionMinSize=&quot;1024&quot; \r\n\t\t protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \r\n           noCompressionUserAgents=&quot;gozilla, traviata&quot; \r\n           compressableMimeType=&quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json&quot; \r\n\t\t   relaxedQueryChars=&#39;[]|{}^&amp;#x5c;&amp;#x60;&amp;quot;&amp;lt;&amp;gt;&#39;\r\n\t\thostName = &quot;abc.123.com&quot;&gt;\r\n\t\t   &lt;SSLHostConfig hostName=&quot;abc.123.com&quot; protocols=&quot;TLSv1.2,+TLSv1.1,+TLSv1&quot;&gt;\r\n            &lt;Certificate  certificateKeystoreFile=&quot;conf/abc.123.com.pfx&quot;\r\n\t\t\t\t certificateKeystorePassword=&quot;12345&quot;\r\n\t\t\t\t\ttype=&quot;RSA&quot;\r\n                        \r\n                         /&gt;\r\n        &lt;/SSLHostConfig&gt; \r\n       \r\n \r\n\t\t&lt;/Connector&gt;\r\n\r\n```\r\n\r\nHowever, I am getting the below error and I am not able to understand what is the issue here:\r\n\r\n28-Apr-2023 11:56:53.656 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8888&quot;]\r\n28-Apr-2023 11:56:53.835 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-8888]]\r\n\torg.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n\t\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:995)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:552)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:848)\r\n\t\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:639)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:662)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\t\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:309)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:492)\r\n\tCaused by: java.lang.IllegalArgumentException\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:100)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:72)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:244)\r\n\t\tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1118)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:224)\r\n\t\tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:581)\r\n\t\tat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:68)\r\n\t\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:993)\r\n\t\t... 13 more\r\n\tCaused by: java.io.IOException\r\n\t\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:331)\r\n\t\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246)\r\n\t\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:98)\r\n\t\t... 20 more\r\n","title":"Tomcat 8.5 SSL Configuration Issues for .pfx","body":"<p>I need to install SSL certificate I have received in the form of .pfx file and password.\nI tried configuring the connectors as below:</p>\n<pre><code>\n&lt;Connector\n           \n           port=&quot;8888&quot; maxThreads=&quot;200&quot;\n           scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;\n           maxHttpHeaderSize=&quot;1048576&quot;\n        compression=&quot;on&quot; \n        compressionMinSize=&quot;1024&quot; \n         protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \n           noCompressionUserAgents=&quot;gozilla, traviata&quot; \n           compressableMimeType=&quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json&quot; \n           relaxedQueryChars='[]|{}^&amp;#x5c;&amp;#x60;&amp;quot;&amp;lt;&amp;gt;'\n        hostName = &quot;abc.123.com&quot;&gt;\n           &lt;SSLHostConfig hostName=&quot;abc.123.com&quot; protocols=&quot;TLSv1.2,+TLSv1.1,+TLSv1&quot;&gt;\n            &lt;Certificate  certificateKeystoreFile=&quot;conf/abc.123.com.pfx&quot;\n                 certificateKeystorePassword=&quot;12345&quot;\n                    type=&quot;RSA&quot;\n                        \n                         /&gt;\n        &lt;/SSLHostConfig&gt; \n       \n \n        &lt;/Connector&gt;\n\n</code></pre>\n<p>However, I am getting the below error and I am not able to understand what is the issue here:</p>\n<p>28-Apr-2023 11:56:53.656 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8888&quot;]\n28-Apr-2023 11:56:53.835 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-8888]]\norg.apache.catalina.LifecycleException: Protocol handler initialization failed\nat org.apache.catalina.connector.Connector.initInternal(Connector.java:995)\nat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\nat org.apache.catalina.core.StandardService.initInternal(StandardService.java:552)\nat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\nat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:848)\nat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:639)\nat org.apache.catalina.startup.Catalina.load(Catalina.java:662)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:309)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:492)\nCaused by: java.lang.IllegalArgumentException\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:100)\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:72)\nat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:244)\nat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1118)\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:224)\nat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:581)\nat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:68)\nat org.apache.catalina.connector.Connector.initInternal(Connector.java:993)\n... 13 more\nCaused by: java.io.IOException\nat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:331)\nat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246)\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:98)\n... 20 more</p>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674891457,"post_id":75266035,"comment_id":132814316,"body_markdown":"What output do you expect? What do you get?","body":"What output do you expect? What do you get?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674904566,"post_id":75266035,"comment_id":132816029,"body_markdown":"It works if you pass the scanner as a parameter to `read` instead of creating a new one, but I&#39;m not sure why that is.","body":"It works if you pass the scanner as a parameter to <code>read</code> instead of creating a new one, but I&#39;m not sure why that is."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1674949357,"post_id":75266035,"comment_id":132823791,"body_markdown":"Does this answer your question? [How to use multiple Scanner objects on System.in?](https://stackoverflow.com/questions/4232588/how-to-use-multiple-scanner-objects-on-system-in)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4232588/how-to-use-multiple-scanner-objects-on-system-in\">How to use multiple Scanner objects on System.in?</a>"}],"answers":[{"comments":[{"owner":{"account_id":19489883,"reputation":999,"user_id":17610082,"display_name":"DilLip_Chowdary"},"score":0,"creation_date":1674913446,"post_id":75267233,"comment_id":132817562,"body_markdown":"How can we do that without changing the code","body":"How can we do that without changing the code"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674949321,"post_id":75267233,"comment_id":132823786,"body_markdown":"@DilLip_Chowdary the code is buggy, I don&#39;t think there&#39;s a workaround.","body":"@DilLip_Chowdary the code is buggy, I don&#39;t think there&#39;s a workaround."},{"owner":{"account_id":19489883,"reputation":999,"user_id":17610082,"display_name":"DilLip_Chowdary"},"score":0,"creation_date":1675055055,"post_id":75267233,"comment_id":132838335,"body_markdown":"We&#39;re able to run the above command successfully with manual inputs passing, getting this issue with only when passed with cli using a file.","body":"We&#39;re able to run the above command successfully with manual inputs passing, getting this issue with only when passed with cli using a file."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1682668819,"post_id":75267233,"comment_id":134255122,"body_markdown":"@DilLip_Chowdary code that works in one legitimate use case but not in the other is still broken. Your code happens to work when you place the numbers into two lines and wait between inserting the two lines, but it would also break when entering the lines manually when you copy &amp; paste two lines at once (or hypothetically enter the two lines too fast). It also breaks when entering the numbers in one line. The takeaway is, `Scanner` is buffered and using multiple `Scanner` for the same source can case data loss or inconsistencies.","body":"@DilLip_Chowdary code that works in one legitimate use case but not in the other is still broken. Your code happens to work when you place the numbers into two lines and wait between inserting the two lines, but it would also break when entering the lines manually when you copy &amp; paste two lines at once (or hypothetically enter the two lines too fast). It also breaks when entering the numbers in one line. The takeaway is, <code>Scanner</code> is buffered and using multiple <code>Scanner</code> for the same source can case data loss or inconsistencies."}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674904815,"creation_date":1674904815,"answer_id":75267233,"question_id":75266035,"body_markdown":"This can be fixed by reusing a single instance of `Scanner`, rather than creating a new instance in the `read` method:\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n    public static int read(Scanner input) {\r\n        int num2 = input.nextInt();\r\n        System.out.println(num2);\r\n        return num2;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int num1 = input.nextInt();\r\n        System.out.println(num1);\r\n        read(input);\r\n    }\r\n}\r\n```\r\n\r\nThis produces the expected output, and does not throw an exception.","title":"Unable to Pass input to multiple methods in a Java program using command line arguments","body":"<p>This can be fixed by reusing a single instance of <code>Scanner</code>, rather than creating a new instance in the <code>read</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Arrays;\n\nclass Main {\n    public static int read(Scanner input) {\n        int num2 = input.nextInt();\n        System.out.println(num2);\n        return num2;\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int num1 = input.nextInt();\n        System.out.println(num1);\n        read(input);\n    }\n}\n</code></pre>\n<p>This produces the expected output, and does not throw an exception.</p>\n"}],"owner":{"account_id":19489883,"reputation":999,"user_id":17610082,"display_name":"DilLip_Chowdary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1682668875,"creation_date":1674890509,"question_id":75266035,"body_markdown":"I&#39;m passing the input to the java program using the below command:\r\n\r\n```\r\njava Main - &lt;&quot;input.txt&quot; &gt; &quot;output.txt&quot;\r\n```\r\n\r\nby using this method the inputs are only received by first method (main)\r\n\r\n\r\n**Code**:\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n    public static int read() {\r\n        Scanner input = new Scanner(System.in);\r\n        int num2 = input.nextInt();\r\n        System.out.println(num2);\r\n        return num2;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int num1 = input.nextInt();\r\n        System.out.println(num1);\r\n        read();\r\n    }\r\n}\r\n```\r\n\r\n**Input** input.txt contents:\r\n\r\n```\r\n1\r\n2\r\n```\r\n\r\n**Expected Output:**\r\n```\r\n1\r\n2\r\n```\r\n\r\n**Actual Output**\r\n```\r\n1\r\n\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\tat Main.read(main.java:7)\r\n\tat Main.main(main.java:16)\r\n```","title":"Unable to Pass input to multiple methods in a Java program using command line arguments","body":"<p>I'm passing the input to the java program using the below command:</p>\n<pre><code>java Main - &lt;&quot;input.txt&quot; &gt; &quot;output.txt&quot;\n</code></pre>\n<p>by using this method the inputs are only received by first method (main)</p>\n<p><strong>Code</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Arrays;\n\nclass Main {\n    public static int read() {\n        Scanner input = new Scanner(System.in);\n        int num2 = input.nextInt();\n        System.out.println(num2);\n        return num2;\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int num1 = input.nextInt();\n        System.out.println(num1);\n        read();\n    }\n}\n</code></pre>\n<p><strong>Input</strong> input.txt contents:</p>\n<pre><code>1\n2\n</code></pre>\n<p><strong>Expected Output:</strong></p>\n<pre><code>1\n2\n</code></pre>\n<p><strong>Actual Output</strong></p>\n<pre><code>1\n\nException in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at Main.read(main.java:7)\n    at Main.main(main.java:16)\n</code></pre>\n"},{"tags":["java","c#","visual-studio-2005","download"],"answers":[{"comments":[{"owner":{"account_id":2648,"reputation":120214,"user_id":3713,"accept_rate":91,"display_name":"Spoike"},"score":0,"creation_date":1240474080,"post_id":780745,"comment_id":591330,"body_markdown":"It would be too much of a hassle to convert the project files back and forth. I only need the 2005 express edition to validate that the solution still works and compiles in the old version (and there are some discrepancies between 2005 and 2008).","body":"It would be too much of a hassle to convert the project files back and forth. I only need the 2005 express edition to validate that the solution still works and compiles in the old version (and there are some discrepancies between 2005 and 2008)."},{"owner":{"account_id":9467,"reputation":187711,"user_id":17516,"accept_rate":77,"display_name":"AnthonyWJones"},"score":0,"creation_date":1240475010,"post_id":780745,"comment_id":591357,"body_markdown":"@Spoike: Project files share the same format between 2005 and 2008 so you only need to hold separate solution files.  I share projects between 2005 and 2008 quite a bit, its no bigee.","body":"@Spoike: Project files share the same format between 2005 and 2008 so you only need to hold separate solution files.  I share projects between 2005 and 2008 quite a bit, its no bigee."},{"owner":{"account_id":17837,"reputation":173406,"user_id":40347,"accept_rate":100,"display_name":"Dirk Vollmar"},"score":1,"creation_date":1240475175,"post_id":780745,"comment_id":591361,"body_markdown":"@balexandre: This is incorrect information. It is not possible to target .NET 1.x with VS 2008. The only versions supporting .NET 1.x are VS .NET and VS 2003. With VS 2008 you can target .NET 2.0, .NET 3.0 and .NET 3.5","body":"@balexandre: This is incorrect information. It is not possible to target .NET 1.x with VS 2008. The only versions supporting .NET 1.x are VS .NET and VS 2003. With VS 2008 you can target .NET 2.0, .NET 3.0 and .NET 3.5"}],"tags":[],"owner":{"account_id":13840,"reputation":73969,"user_id":28004,"accept_rate":83,"display_name":"balexandre"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240476978,"creation_date":1240473957,"answer_id":780745,"question_id":780741,"body_markdown":"why don&#39;t you get VS 2008? and they say that your project is a .NET 2.0 project? or you are editing a .NET 1.x project?\r\n\r\nWith VS 2008 (express or not) you can target the projects to what framework you want!","title":"Where is Visual Studio 2005 Express?","body":"<p>why don't you get VS 2008? and they say that your project is a .NET 2.0 project? or you are editing a .NET 1.x project?</p>\n\n<p>With VS 2008 (express or not) you can target the projects to what framework you want!</p>\n"},{"tags":[],"owner":{"account_id":32198,"reputation":56478,"user_id":89075,"accept_rate":89,"display_name":"stevehipwell"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1306591666,"creation_date":1240474171,"answer_id":780756,"question_id":780741,"body_markdown":"I belive that VS 2008 (all editions) will only work with .NET 2.0 to 3.5 just as VS 2005 (all editions) will only work with .NET 2.0. This is the reason that VS 2005 is no longer available, because its features are duplicated by VS 2008. The only difference is the solution file, so you could make a seperate solution file for VS 2008.","title":"Where is Visual Studio 2005 Express?","body":"<p>I belive that VS 2008 (all editions) will only work with .NET 2.0 to 3.5 just as VS 2005 (all editions) will only work with .NET 2.0. This is the reason that VS 2005 is no longer available, because its features are duplicated by VS 2008. The only difference is the solution file, so you could make a seperate solution file for VS 2008.</p>\n"},{"tags":[],"owner":{"account_id":13366,"reputation":3453,"user_id":26796,"accept_rate":100,"display_name":"thijs"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1363531016,"creation_date":1240476302,"answer_id":780822,"question_id":780741,"body_markdown":"Here are more links:\r\nhttp://social.msdn.microsoft.com/Forums/en-US/Vsexpressvcs/thread/290fb587-1447-466c-9149-a692fa5de34d\r\nThey seem to point to the same files.\r\n\r\n\r\n\r\nThe direct download link:\r\nhttp://go.microsoft.com/fwlink/?LinkId=51411&amp;clcid=0x409","title":"Where is Visual Studio 2005 Express?","body":"<p>Here are more links:\n<a href=\"http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvcs/thread/290fb587-1447-466c-9149-a692fa5de34d\" rel=\"noreferrer\">http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvcs/thread/290fb587-1447-466c-9149-a692fa5de34d</a>\nThey seem to point to the same files.</p>\n\n<p>The direct download link:\n<a href=\"http://go.microsoft.com/fwlink/?LinkId=51411&amp;clcid=0x409\" rel=\"noreferrer\">http://go.microsoft.com/fwlink/?LinkId=51411&amp;clcid=0x409</a></p>\n"},{"tags":[],"owner":{"account_id":27806,"reputation":171,"user_id":73740,"display_name":"pcooley"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1255540411,"creation_date":1255540411,"answer_id":1567714,"question_id":780741,"body_markdown":"\r\nFor Visual Studios 2005 C++ express the vcsteup.exe is available here: http://download.microsoft.com/download/8/3/a/83aad8f9-38ba-4503-b3cd-ba28c360c27b/ENU/vcsetup.exe\r\n\r\nI found this link here: http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvc/thread/aa4a3808-b0da-4afb-ac19-ac45582bb58a\r\n","title":"Where is Visual Studio 2005 Express?","body":"<p>For Visual Studios 2005 C++ express the vcsteup.exe is available here: <a href=\"http://download.microsoft.com/download/8/3/a/83aad8f9-38ba-4503-b3cd-ba28c360c27b/ENU/vcsetup.exe\" rel=\"noreferrer\">http://download.microsoft.com/download/8/3/a/83aad8f9-38ba-4503-b3cd-ba28c360c27b/ENU/vcsetup.exe</a></p>\n\n<p>I found this link here: <a href=\"http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvc/thread/aa4a3808-b0da-4afb-ac19-ac45582bb58a\" rel=\"noreferrer\">http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvc/thread/aa4a3808-b0da-4afb-ac19-ac45582bb58a</a></p>\n"},{"comments":[{"owner":{"account_id":7156005,"reputation":28054,"user_id":5468463,"accept_rate":100,"display_name":"Vega"},"score":0,"creation_date":1606981612,"post_id":2290983,"comment_id":115129635,"body_markdown":"The links are in the link, not actually a helping answer","body":"The links are in the link, not actually a helping answer"}],"tags":[],"owner":{"account_id":76169,"reputation":490,"user_id":218252,"display_name":"&#193;kos"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1266516579,"creation_date":1266516579,"answer_id":2290983,"question_id":780741,"body_markdown":"In case anyone else needs the VS 2005 Express Editions for whatever reason (e.g. I needed this particular version a while ago to verify/reproduce a bug), this page: http://blogs.msdn.com/astebner/archive/2006/03/28/563660.aspx has links to all versions (Visual Basic, C++, C#, J#) which still seem to be working.","title":"Where is Visual Studio 2005 Express?","body":"<p>In case anyone else needs the VS 2005 Express Editions for whatever reason (e.g. I needed this particular version a while ago to verify/reproduce a bug), this page: <a href=\"http://blogs.msdn.com/astebner/archive/2006/03/28/563660.aspx\" rel=\"noreferrer\">http://blogs.msdn.com/astebner/archive/2006/03/28/563660.aspx</a> has links to all versions (Visual Basic, C++, C#, J#) which still seem to be working.</p>\n"},{"tags":[],"owner":{"account_id":556582,"reputation":2912,"user_id":983106,"accept_rate":88,"display_name":"RMuesi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319351478,"creation_date":1319351478,"answer_id":7864713,"question_id":780741,"body_markdown":"Incase anybody is looking for the **Web Developer** Express 2005 version CNET has it here:\r\n\r\n[http://download.cnet.com/Visual-Web-Developer-2005-Express-Edition/3000-10250_4-10421166.html][1]\r\n\r\nBelieve this only works for windows 2000 and XP.\r\n\r\n\r\n  [1]: http://download.cnet.com/Visual-Web-Developer-2005-Express-Edition/3000-10250_4-10421166.html","title":"Where is Visual Studio 2005 Express?","body":"<p>Incase anybody is looking for the <strong>Web Developer</strong> Express 2005 version CNET has it here:</p>\n\n<p><a href=\"http://download.cnet.com/Visual-Web-Developer-2005-Express-Edition/3000-10250_4-10421166.html\" rel=\"nofollow\">http://download.cnet.com/Visual-Web-Developer-2005-Express-Edition/3000-10250_4-10421166.html</a></p>\n\n<p>Believe this only works for windows 2000 and XP.</p>\n"},{"tags":[],"owner":{"account_id":1669453,"reputation":2017,"user_id":1536197,"accept_rate":21,"display_name":"Hernaldo Gonzalez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435326670,"creation_date":1435326670,"answer_id":31074991,"question_id":780741,"body_markdown":"I found the ISO Visual Studio VB 2005 Express at\r\n\r\nhttp://apdubey.blogspot.com/2009/04/microsoft-visual-studio-2005-express.html","title":"Where is Visual Studio 2005 Express?","body":"<p>I found the ISO Visual Studio VB 2005 Express at</p>\n\n<p><a href=\"http://apdubey.blogspot.com/2009/04/microsoft-visual-studio-2005-express.html\" rel=\"nofollow\">http://apdubey.blogspot.com/2009/04/microsoft-visual-studio-2005-express.html</a></p>\n"},{"tags":[],"owner":{"account_id":35905,"reputation":667,"user_id":102046,"accept_rate":86,"display_name":"Barnaba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649345183,"creation_date":1649345183,"answer_id":71784891,"question_id":780741,"body_markdown":"You can find them at https://my.visualstudio.com/Downloads/\r\n\r\nIt requires login/subscription to search and download and I&#39;m not sure if everyone can just download them freely, as I&#39;m using a company MS account to log in.","title":"Where is Visual Studio 2005 Express?","body":"<p>You can find them at <a href=\"https://my.visualstudio.com/Downloads/\" rel=\"nofollow noreferrer\">https://my.visualstudio.com/Downloads/</a></p>\n<p>It requires login/subscription to search and download and I'm not sure if everyone can just download them freely, as I'm using a company MS account to log in.</p>\n"}],"owner":{"account_id":2648,"reputation":120214,"user_id":3713,"accept_rate":91,"display_name":"Spoike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77551,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":780822,"answer_count":8,"score":37,"last_activity_date":1682668868,"creation_date":1240473846,"question_id":780741,"body_markdown":"I&#39;m working on a project that requires Visual Studio 2005 and I&#39;ve been trying to find a legitimate download site for Visual Studio 2005 Express, but it seems like Microsoft only wants people to download the 2008 version instead.\r\n\r\nAnyone knows why it&#39;s like this and if there is some link somewhere where Visual Studio 2005 Express is available?","title":"Where is Visual Studio 2005 Express?","body":"<p>I'm working on a project that requires Visual Studio 2005 and I've been trying to find a legitimate download site for Visual Studio 2005 Express, but it seems like Microsoft only wants people to download the 2008 version instead.</p>\n\n<p>Anyone knows why it's like this and if there is some link somewhere where Visual Studio 2005 Express is available?</p>\n"},{"tags":["java","maven","java-16"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1627657886,"post_id":68593017,"comment_id":121222994,"body_markdown":"Remove the Maven installation and download it from here: https://maven.apache.org/download.cgi. and make the installation. The problem is based on the changing version within the distros which repackage things like that which causes the issue. More or less all the files in the error output are without full version number like (maven-embedder-3.x.jar) which in the original package maven-embedder-3.6.1.jar instead... also I suppose that via &quot;mvn --version&quot; you wil not get an output like this:&quot;Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)&quot; ... in particular the hash is missing!","body":"Remove the Maven installation and download it from here: <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi</a>. and make the installation. The problem is based on the changing version within the distros which repackage things like that which causes the issue. More or less all the files in the error output are without full version number like (maven-embedder-3.x.jar) which in the original package maven-embedder-3.6.1.jar instead... also I suppose that via &quot;mvn --version&quot; you wil not get an output like this:&quot;Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)&quot; ... in particular the hash is missing!"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1627657955,"post_id":68593017,"comment_id":121223017,"body_markdown":"See the same here: https://stackoverflow.com/q/67481742/296328","body":"See the same here: <a href=\"https://stackoverflow.com/q/67481742/296328\">stackoverflow.com/q/67481742/296328</a>"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682668662,"creation_date":1627658285,"answer_id":68593395,"question_id":68593017,"body_markdown":"Remove the Maven installation of your distribution and download it from here: \r\nhttps://maven.apache.org/download.cgi\r\n and make the installation. The problem is based on the changing version within the distros (ubuntu or others) which repackage things like that which causes the issue. \r\n\r\nMore or less all the files in the error output are without full version number like (maven-embedder-3.x.jar) which is in the original package maven-embedder-3.6.1.jar instead.\r\n\r\nI suppose that you will not get the same output via `mvn --version` like this:\r\n\r\n\r\n    Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n    Maven home: /Users/khmarbaise/tools/maven\r\n    Java version: 11.0.11, vendor: AdoptOpenJDK, runtime: /Users/khmarbaise/.sdkman/candidates/java/11.0.11.hs-adpt\r\n    Default locale: en_GB, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;10.14.6&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\nIn particular you will not get the hash in parenthesis \r\n(cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n\r\nUpdate (20. April 2023): In the meantime better use a more revent version of Maven.","title":"Maven - NoSuchMethodError: void com.google.common.base.Preconditions.checkArgument(boolean, java.lang.String, java.lang.Object)","body":"<p>Remove the Maven installation of your distribution and download it from here:\n<a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://maven.apache.org/download.cgi</a>\nand make the installation. The problem is based on the changing version within the distros (ubuntu or others) which repackage things like that which causes the issue.</p>\n<p>More or less all the files in the error output are without full version number like (maven-embedder-3.x.jar) which is in the original package maven-embedder-3.6.1.jar instead.</p>\n<p>I suppose that you will not get the same output via <code>mvn --version</code> like this:</p>\n<pre><code>Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /Users/khmarbaise/tools/maven\nJava version: 11.0.11, vendor: AdoptOpenJDK, runtime: /Users/khmarbaise/.sdkman/candidates/java/11.0.11.hs-adpt\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.14.6&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>In particular you will not get the hash in parenthesis\n(cecedd343002696d0abb50b32b541b8a6ba2883f)</p>\n<p>Update (20. April 2023): In the meantime better use a more revent version of Maven.</p>\n"},{"tags":[],"owner":{"account_id":18582667,"reputation":25,"user_id":13541835,"display_name":"Mapfunde Venon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672784237,"creation_date":1672784237,"answer_id":74999192,"question_id":68593017,"body_markdown":"instead of using grpc-netty-shaded use \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.devh&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;2.14.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Maven - NoSuchMethodError: void com.google.common.base.Preconditions.checkArgument(boolean, java.lang.String, java.lang.Object)","body":"<p>instead of using grpc-netty-shaded use</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.devh&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;2.14.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14765572,"reputation":43,"user_id":10663725,"display_name":"Gael Marcadet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68593395,"answer_count":2,"score":1,"last_activity_date":1682668662,"creation_date":1627656790,"question_id":68593017,"body_markdown":"I&#39;m facing an issue with Maven and Java 16.\r\n\r\n## The Problem\r\n\r\nWhen I&#39;m trying to package my project with maven `mvn package`, I got this error:\r\n```mvn\r\n[ERROR] Error executing Maven.\r\n[ERROR] java.lang.IllegalStateException: Unable to load cache item\r\n[ERROR] Caused by: Unable to load cache item\r\n[ERROR] Caused by: Could not initialize class \r\ncom.google.inject.internal.cglib.core.$MethodWrapper\r\n```\r\n\r\nFollowing the solution brought by [this website](https://www.mail-archive.com/pkg-java-maintainers@alioth-lists.debian.net/msg15686.html), I have modified the symlink:\r\n\r\nBefore modification\r\n```shell\r\n# ll /usr/share/maven/lib | grep guice\r\nguice.jar -&gt; ../../java/guice.jar\r\n```\r\nApplication of the fix\r\n```shell\r\n# sudo ln -s --force ../../java/guice-4.2.1-no_aop.jar guice.jar\r\n```\r\n\r\nAfter modification\r\n```shell\r\n# ll /usr/share/maven/lib | grep guice\r\nguice.jar -&gt; ../../java/guice-4.2.1-no_aop.jar\r\n```\r\n\r\nHowever, this leads to a new error:\r\n```\r\n# mvn\r\n---------------------------------------------------\r\nconstituent[0]: file:/usr/share/maven/conf/logging/\r\nconstituent[1]: file:/usr/share/maven/lib/maven-resolver-transport-wagon.jar\r\nconstituent[2]: file:/usr/share/maven/lib/maven-core-3.x.jar\r\nconstituent[3]: file:/usr/share/maven/lib/guava.jar\r\nconstituent[4]: file:/usr/share/maven/lib/maven-compat-3.x.jar\r\nconstituent[5]: file:/usr/share/maven/lib/guice.jar\r\nconstituent[6]: file:/usr/share/maven/lib/maven-repository-metadata-3.x.jar\r\nconstituent[7]: file:/usr/share/maven/lib/maven-slf4j-provider-3.x.jar\r\nconstituent[8]: file:/usr/share/maven/lib/commons-io.jar\r\nconstituent[9]: file:/usr/share/maven/lib/commons-cli.jar\r\nconstituent[10]: file:/usr/share/maven/lib/jansi.jar\r\nconstituent[11]: file:/usr/share/maven/lib/maven-settings-3.x.jar\r\nconstituent[12]: file:/usr/share/maven/lib/wagon-http-shaded.jar\r\nconstituent[13]: file:/usr/share/maven/lib/maven-model-3.x.jar\r\nconstituent[14]: file:/usr/share/maven/lib/maven-resolver-impl.jar\r\nconstituent[15]: file:/usr/share/maven/lib/wagon-file.jar\r\nconstituent[16]: file:/usr/share/maven/lib/sisu-inject.jar\r\nconstituent[17]: file:/usr/share/maven/lib/commons-lang3.jar\r\nconstituent[18]: file:/usr/share/maven/lib/plexus-interpolation.jar\r\nconstituent[19]: file:/usr/share/maven/lib/maven-model-builder-3.x.jar\r\nconstituent[20]: file:/usr/share/maven/lib/cdi-api.jar\r\nconstituent[21]: file:/usr/share/maven/lib/maven-artifact-3.x.jar\r\nconstituent[22]: file:/usr/share/maven/lib/maven-resolver-api.jar\r\nconstituent[23]: file:/usr/share/maven/lib/slf4j-api.jar\r\nconstituent[24]: file:/usr/share/maven/lib/plexus-sec-dispatcher.jar\r\nconstituent[25]: file:/usr/share/maven/lib/wagon-provider-api.jar\r\nconstituent[26]: file:/usr/share/maven/lib/maven-resolver-spi.jar\r\nconstituent[27]: file:/usr/share/maven/lib/maven-settings-builder-3.x.jar\r\nconstituent[28]: file:/usr/share/maven/lib/plexus-component-annotations.jar\r\nconstituent[29]: file:/usr/share/maven/lib/aopalliance.jar\r\nconstituent[30]: file:/usr/share/maven/lib/plexus-utils.jar\r\nconstituent[31]: file:/usr/share/maven/lib/javax.inject.jar\r\nconstituent[32]: file:/usr/share/maven/lib/maven-shared-utils.jar\r\nconstituent[33]: file:/usr/share/maven/lib/maven-resolver-provider-3.x.jar\r\nconstituent[34]: file:/usr/share/maven/lib/maven-resolver-connector-basic.jar\r\nconstituent[35]: file:/usr/share/maven/lib/maven-resolver-util.jar\r\nconstituent[36]: file:/usr/share/maven/lib/maven-embedder-3.x.jar\r\nconstituent[37]: file:/usr/share/maven/lib/maven-builder-support-3.x.jar\r\nconstituent[38]: file:/usr/share/maven/lib/jsr250-api.jar\r\nconstituent[39]: file:/usr/share/maven/lib/maven-plugin-api-3.x.jar\r\nconstituent[40]: file:/usr/share/maven/lib/jcl-over-slf4j.jar\r\nconstituent[41]: file:/usr/share/maven/lib/plexus-cipher.jar\r\nconstituent[42]: file:/usr/share/maven/lib/sisu-plexus.jar\r\n---------------------------------------------------\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void com.google.common.base.Preconditions.checkArgument(boolean, java.lang.String, java.lang.Object)&#39;\r\n\tat com.google.inject.Key.ensureRetainedAtRuntime(Key.java:341)\r\n\tat com.google.inject.Key.strategyFor(Key.java:335)\r\n\tat com.google.inject.Key.get(Key.java:219)\r\n\tat org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28)\r\n\tat org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93)\r\n\tat org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104)\r\n\tat org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74)\r\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:344)\r\n\tat com.google.inject.spi.Elements.getElements(Elements.java:103)\r\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:69)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:59)\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\r\n\tat org.apache.maven.cli.MavenCli.container(MavenCli.java:636)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:282)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n```\r\n\r\nThe keyword here is `NoSuchMethodError` about the `com.google.common.base.Preconditions.checkArgument(boolean, java.lang.String, java.lang.Object)` function, which seems to be missing.\r\n\r\nFrom [this question](https://stackoverflow.com/questions/67831548/java-lang-nosuchmethoderror-void-com-google-common-base-preconditions-checkarg) asked and answered by @Menghe, I have tried to reinstall maven, but it does not have fixed the problem.\r\n\r\n## My Configuration\r\n| Software | Version |\r\n| --- | --- |\r\n| Ubuntu | 20.04.1 |\r\n| Java | 16.0.2 |\r\n| Maven | 3.6.3 |\r\n\r\nIt is possible to get an advice ?\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n","title":"Maven - NoSuchMethodError: void com.google.common.base.Preconditions.checkArgument(boolean, java.lang.String, java.lang.Object)","body":"<p>I'm facing an issue with Maven and Java 16.</p>\n<h2>The Problem</h2>\n<p>When I'm trying to package my project with maven <code>mvn package</code>, I got this error:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>[ERROR] Error executing Maven.\n[ERROR] java.lang.IllegalStateException: Unable to load cache item\n[ERROR] Caused by: Unable to load cache item\n[ERROR] Caused by: Could not initialize class \ncom.google.inject.internal.cglib.core.$MethodWrapper\n</code></pre>\n<p>Following the solution brought by <a href=\"https://www.mail-archive.com/pkg-java-maintainers@alioth-lists.debian.net/msg15686.html\" rel=\"nofollow noreferrer\">this website</a>, I have modified the symlink:</p>\n<p>Before modification</p>\n<pre class=\"lang-sh prettyprint-override\"><code># ll /usr/share/maven/lib | grep guice\nguice.jar -&gt; ../../java/guice.jar\n</code></pre>\n<p>Application of the fix</p>\n<pre class=\"lang-sh prettyprint-override\"><code># sudo ln -s --force ../../java/guice-4.2.1-no_aop.jar guice.jar\n</code></pre>\n<p>After modification</p>\n<pre class=\"lang-sh prettyprint-override\"><code># ll /usr/share/maven/lib | grep guice\nguice.jar -&gt; ../../java/guice-4.2.1-no_aop.jar\n</code></pre>\n<p>However, this leads to a new error:</p>\n<pre><code># mvn\n---------------------------------------------------\nconstituent[0]: file:/usr/share/maven/conf/logging/\nconstituent[1]: file:/usr/share/maven/lib/maven-resolver-transport-wagon.jar\nconstituent[2]: file:/usr/share/maven/lib/maven-core-3.x.jar\nconstituent[3]: file:/usr/share/maven/lib/guava.jar\nconstituent[4]: file:/usr/share/maven/lib/maven-compat-3.x.jar\nconstituent[5]: file:/usr/share/maven/lib/guice.jar\nconstituent[6]: file:/usr/share/maven/lib/maven-repository-metadata-3.x.jar\nconstituent[7]: file:/usr/share/maven/lib/maven-slf4j-provider-3.x.jar\nconstituent[8]: file:/usr/share/maven/lib/commons-io.jar\nconstituent[9]: file:/usr/share/maven/lib/commons-cli.jar\nconstituent[10]: file:/usr/share/maven/lib/jansi.jar\nconstituent[11]: file:/usr/share/maven/lib/maven-settings-3.x.jar\nconstituent[12]: file:/usr/share/maven/lib/wagon-http-shaded.jar\nconstituent[13]: file:/usr/share/maven/lib/maven-model-3.x.jar\nconstituent[14]: file:/usr/share/maven/lib/maven-resolver-impl.jar\nconstituent[15]: file:/usr/share/maven/lib/wagon-file.jar\nconstituent[16]: file:/usr/share/maven/lib/sisu-inject.jar\nconstituent[17]: file:/usr/share/maven/lib/commons-lang3.jar\nconstituent[18]: file:/usr/share/maven/lib/plexus-interpolation.jar\nconstituent[19]: file:/usr/share/maven/lib/maven-model-builder-3.x.jar\nconstituent[20]: file:/usr/share/maven/lib/cdi-api.jar\nconstituent[21]: file:/usr/share/maven/lib/maven-artifact-3.x.jar\nconstituent[22]: file:/usr/share/maven/lib/maven-resolver-api.jar\nconstituent[23]: file:/usr/share/maven/lib/slf4j-api.jar\nconstituent[24]: file:/usr/share/maven/lib/plexus-sec-dispatcher.jar\nconstituent[25]: file:/usr/share/maven/lib/wagon-provider-api.jar\nconstituent[26]: file:/usr/share/maven/lib/maven-resolver-spi.jar\nconstituent[27]: file:/usr/share/maven/lib/maven-settings-builder-3.x.jar\nconstituent[28]: file:/usr/share/maven/lib/plexus-component-annotations.jar\nconstituent[29]: file:/usr/share/maven/lib/aopalliance.jar\nconstituent[30]: file:/usr/share/maven/lib/plexus-utils.jar\nconstituent[31]: file:/usr/share/maven/lib/javax.inject.jar\nconstituent[32]: file:/usr/share/maven/lib/maven-shared-utils.jar\nconstituent[33]: file:/usr/share/maven/lib/maven-resolver-provider-3.x.jar\nconstituent[34]: file:/usr/share/maven/lib/maven-resolver-connector-basic.jar\nconstituent[35]: file:/usr/share/maven/lib/maven-resolver-util.jar\nconstituent[36]: file:/usr/share/maven/lib/maven-embedder-3.x.jar\nconstituent[37]: file:/usr/share/maven/lib/maven-builder-support-3.x.jar\nconstituent[38]: file:/usr/share/maven/lib/jsr250-api.jar\nconstituent[39]: file:/usr/share/maven/lib/maven-plugin-api-3.x.jar\nconstituent[40]: file:/usr/share/maven/lib/jcl-over-slf4j.jar\nconstituent[41]: file:/usr/share/maven/lib/plexus-cipher.jar\nconstituent[42]: file:/usr/share/maven/lib/sisu-plexus.jar\n---------------------------------------------------\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void com.google.common.base.Preconditions.checkArgument(boolean, java.lang.String, java.lang.Object)'\n    at com.google.inject.Key.ensureRetainedAtRuntime(Key.java:341)\n    at com.google.inject.Key.strategyFor(Key.java:335)\n    at com.google.inject.Key.get(Key.java:219)\n    at org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28)\n    at org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93)\n    at org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104)\n    at org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:344)\n    at com.google.inject.spi.Elements.getElements(Elements.java:103)\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\n    at com.google.inject.Guice.createInjector(Guice.java:87)\n    at com.google.inject.Guice.createInjector(Guice.java:69)\n    at com.google.inject.Guice.createInjector(Guice.java:59)\n    at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\n    at org.apache.maven.cli.MavenCli.container(MavenCli.java:636)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:282)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n</code></pre>\n<p>The keyword here is <code>NoSuchMethodError</code> about the <code>com.google.common.base.Preconditions.checkArgument(boolean, java.lang.String, java.lang.Object)</code> function, which seems to be missing.</p>\n<p>From <a href=\"https://stackoverflow.com/questions/67831548/java-lang-nosuchmethoderror-void-com-google-common-base-preconditions-checkarg\">this question</a> asked and answered by @Menghe, I have tried to reinstall maven, but it does not have fixed the problem.</p>\n<h2>My Configuration</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Software</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ubuntu</td>\n<td>20.04.1</td>\n</tr>\n<tr>\n<td>Java</td>\n<td>16.0.2</td>\n</tr>\n<tr>\n<td>Maven</td>\n<td>3.6.3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>It is possible to get an advice ?</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","hibernate","tomcat","struts","nosuchmethoderror"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1410612108,"post_id":25823246,"comment_id":40397728,"body_markdown":"It look like the `Hibernate Annotation jar` is wrong. It is not compatible with the jar version. So that is why it showing the &quot;`java.lang.NoSuchMethodError`&quot;","body":"It look like the <code>Hibernate Annotation jar</code> is wrong. It is not compatible with the jar version. So that is why it showing the &quot;<code>java.lang.NoSuchMethodError</code>&quot;"},{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1410612232,"post_id":25823246,"comment_id":40397757,"body_markdown":"pls post you complete `pom.xml`, also check pom dependency tree for `hibernate-commons-annotations`","body":"pls post you complete <code>pom.xml</code>, also check pom dependency tree for <code>hibernate-commons-annotations</code>"},{"owner":{"account_id":1100909,"reputation":412,"user_id":1093333,"accept_rate":90,"display_name":"Jayesh"},"score":0,"creation_date":1410624533,"post_id":25823246,"comment_id":40400760,"body_markdown":"@ankur-singhal but then how is it possible that the same code is running successfully offline(I called the same dao function using P.S.V.M., and it is working)?(please find my complete pom.xml above)","body":"@ankur-singhal but then how is it possible that the same code is running successfully offline(I called the same dao function using P.S.V.M., and it is working)?(please find my complete pom.xml above)"},{"owner":{"account_id":1100909,"reputation":412,"user_id":1093333,"accept_rate":90,"display_name":"Jayesh"},"score":0,"creation_date":1410628512,"post_id":25823246,"comment_id":40401862,"body_markdown":"@ankur-singhal Please let me know what I am looking for in the dependency tree? I filtered the results but string &quot;hibernate&quot; and it gave 3 results : Hibernate-core : 4.3.6.final, hibernate-commons-annotations : 4.0.5.final and hibernate-jpa-2.1-api : 1.0.0.final","body":"@ankur-singhal Please let me know what I am looking for in the dependency tree? I filtered the results but string &quot;hibernate&quot; and it gave 3 results : Hibernate-core : 4.3.6.final, hibernate-commons-annotations : 4.0.5.final and hibernate-jpa-2.1-api : 1.0.0.final"},{"owner":{"account_id":1100909,"reputation":412,"user_id":1093333,"accept_rate":90,"display_name":"Jayesh"},"score":0,"creation_date":1410637208,"post_id":25823246,"comment_id":40404340,"body_markdown":"I did some more research and found that when I run the Tomcat from Eclipse, my hibernate jar is not deployed in the WAR that internally gets created. But when I manually export the WAR from eclipse and then load it in Tomcat using the tomcat console, the application is working fine. So, now I want to know, why my eclipse is not loading the same jar in tomcat when running the application internally but exporting it in the WAR file created?","body":"I did some more research and found that when I run the Tomcat from Eclipse, my hibernate jar is not deployed in the WAR that internally gets created. But when I manually export the WAR from eclipse and then load it in Tomcat using the tomcat console, the application is working fine. So, now I want to know, why my eclipse is not loading the same jar in tomcat when running the application internally but exporting it in the WAR file created?"}],"answers":[{"tags":[],"owner":{"account_id":1100909,"reputation":412,"user_id":1093333,"accept_rate":90,"display_name":"Jayesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682668214,"creation_date":1410672774,"answer_id":25830406,"question_id":25823246,"body_markdown":"@Ankur-Singhal Thanks for your quick support, but I figured out the solution on my end.\r\n\r\nSolution: When I switched between Hibernate dependencies in POM.XML, it downloaded one old version of hibernate jar(somewhere in version 3.x.x) and kept it nowhere except one location\r\n&lt;Eclipse Workspace&gt;\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\TestApp\\WEB-INF\\lib\r\n\r\nAs a result, when I run the project in Eclipse it&#39;s getting conflicted with a different version and when I export it, there is a correct version getting exported.\r\n\r\nI closed Eclipse, deleted the lib folder, opened Eclipse, and rebuilt it. \r\n\r\nAnd now it&#39;s working fine.\r\n\r\nI hope this helps someone else as well.\r\n\r\nSome more info:&lt;br/&gt;\r\n-My project folder was not in the Eclipse workspace folder&lt;br/&gt;\r\n-My maven repositories are at different locations&lt;br/&gt;\r\n-My Tomcat is at external location from eclipse\r\n\r\nSo what I concluded is that, if there is any kind of jar mismatch, where the project is having maven and is not kept inside Ecplise workspace, then all the lib files are kept at 3 different locations:-&lt;br/&gt;\r\n1) target\\&lt;appname&gt;\\WEB-INF\\lib folder inside the project folder&lt;br/&gt;\r\n2) maven repository(for windows, %user%\\.m2\\repository\\&lt;br/&gt;\r\n3) inside your project folder kept inside the .metdata folder of Eclipse workspace&lt;br/&gt;","title":"java.lang.NoSuchMethodError for Hibernate Configuration class coming only on Tomcat","body":"<p>@Ankur-Singhal Thanks for your quick support, but I figured out the solution on my end.</p>\n<p>Solution: When I switched between Hibernate dependencies in POM.XML, it downloaded one old version of hibernate jar(somewhere in version 3.x.x) and kept it nowhere except one location\n.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\TestApp\\WEB-INF\\lib</p>\n<p>As a result, when I run the project in Eclipse it's getting conflicted with a different version and when I export it, there is a correct version getting exported.</p>\n<p>I closed Eclipse, deleted the lib folder, opened Eclipse, and rebuilt it.</p>\n<p>And now it's working fine.</p>\n<p>I hope this helps someone else as well.</p>\n<p>Some more info:<br/>\n-My project folder was not in the Eclipse workspace folder<br/>\n-My maven repositories are at different locations<br/>\n-My Tomcat is at external location from eclipse</p>\n<p>So what I concluded is that, if there is any kind of jar mismatch, where the project is having maven and is not kept inside Ecplise workspace, then all the lib files are kept at 3 different locations:-<br/></p>\n<ol>\n<li>target&lt;appname&gt;\\WEB-INF\\lib folder inside the project folder<br/></li>\n<li>maven repository(for windows, %user%.m2\\repository&lt;br/&gt;</li>\n<li>inside your project folder kept inside the .metdata folder of Eclipse workspace<br/></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1100909,"reputation":412,"user_id":1093333,"accept_rate":90,"display_name":"Jayesh"},"score":0,"creation_date":1410869424,"post_id":25862217,"comment_id":40479535,"body_markdown":"I figured it out. The problem was the after frequent changes in pom.xml, the system copied some jars in tomcat server instance and did not removed it. There were 2-3 hibernate jars present over there none of which I was using. What I did was, I deleted all the jars, then removed the server instance from Eclipse and re-added it. And then everything worked 100% fine. Still I very much appreciate your efforts in taking out time and posting a reply here. Thank you very much :)","body":"I figured it out. The problem was the after frequent changes in pom.xml, the system copied some jars in tomcat server instance and did not removed it. There were 2-3 hibernate jars present over there none of which I was using. What I did was, I deleted all the jars, then removed the server instance from Eclipse and re-added it. And then everything worked 100% fine. Still I very much appreciate your efforts in taking out time and posting a reply here. Thank you very much :)"}],"tags":[],"owner":{"account_id":4071968,"reputation":1785,"user_id":3344683,"display_name":"kj13"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410849860,"creation_date":1410849860,"answer_id":25862217,"question_id":25823246,"body_markdown":"1. In eclipse, ur project name and &quot;Properties&quot; Dialog.\r\n2. Left menu choose &quot;Deployment Assembly&quot;\r\n3. Right window &quot;Web Deployment Assembly&quot; and &quot;Add&quot; push.\r\n4. search and choose &quot;Maven Dependencies&quot; and adding.(if u have manually jar-lib add too.)\r\n\r\nNow ur eclipse &quot;Run As&quot; time Tomcat correct deploy project dependencies jar.\r\n\r\ni wish u can fix problem.\r\n\r\ngood luck.","title":"java.lang.NoSuchMethodError for Hibernate Configuration class coming only on Tomcat","body":"<ol>\n<li>In eclipse, ur project name and \"Properties\" Dialog.</li>\n<li>Left menu choose \"Deployment Assembly\"</li>\n<li>Right window \"Web Deployment Assembly\" and \"Add\" push.</li>\n<li>search and choose \"Maven Dependencies\" and adding.(if u have manually jar-lib add too.)</li>\n</ol>\n\n<p>Now ur eclipse \"Run As\" time Tomcat correct deploy project dependencies jar.</p>\n\n<p>i wish u can fix problem.</p>\n\n<p>good luck.</p>\n"}],"owner":{"account_id":1100909,"reputation":412,"user_id":1093333,"accept_rate":90,"display_name":"Jayesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25830406,"answer_count":2,"score":0,"last_activity_date":1682668214,"creation_date":1410611374,"question_id":25823246,"body_markdown":"I am making a Struts_1.2 + Log4J2_2.0.2 + Hibernate_4.3.6 project of my own. And I made a simple DAO class and ran in local environment(simple java class that runs as local Java application), and it worked 100% fine.\r\n\r\nNow I just called the same DAO class from a Action Controller i.e made a JSP sent the data to Action Controller then it transferred the data to DAO, server is Tomcat 7.x, and when I try to run, it says\r\n\r\n    java.lang.NoSuchMethodError: org.hibernate.cfg.Configuration.addAnnotatedClass(Ljava/lang/Class;)Lorg/hibernate/cfg/Configuration;\r\n\r\nWhat I am unable to understand is the same code running without Tomcat(local application) but when it comes to Tomcat it is not able to find the method in the class.\r\n\r\nI have checked the jar, it contains the file and that file has the method also(no compiler error)\r\n\r\nI will be very grateful, if anybody can help me on this.\r\n\r\nMaven(pom.xml):\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;TestApp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;TestApp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;TestApp&lt;/name&gt;\r\n    \t&lt;description&gt;Website&lt;/description&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n    \t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;struts&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;struts&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.32&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-email&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nDAO(Java):\r\n\r\n    public void saveHitCountInDB(HitCount count) {\r\n            session.update(count);\r\n            session.flush();\r\n     }\r\n\r\nPOJO(Java):\r\n\r\n    @Entity\r\n    @Table(name = &quot;hitcounter&quot;)\r\n    public class HitCount {\r\n         @Id\r\n         @Column(name = &quot;count&quot;, unique = true, nullable = false)\r\n         private int hitCount;\r\n         //getter and setter and constructors\r\n    }\r\n\r\nConnection(Java):\r\n\r\n    configuration = new Configuration().configure();\r\n    configuration.addAnnotatedClass(HitCount.class); //problem reported here\r\n\r\n\r\nNote: let me know if more code is required.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoSuchMethodError for Hibernate Configuration class coming only on Tomcat","body":"<p>I am making a Struts_1.2 + Log4J2_2.0.2 + Hibernate_4.3.6 project of my own. And I made a simple DAO class and ran in local environment(simple java class that runs as local Java application), and it worked 100% fine.</p>\n\n<p>Now I just called the same DAO class from a Action Controller i.e made a JSP sent the data to Action Controller then it transferred the data to DAO, server is Tomcat 7.x, and when I try to run, it says</p>\n\n<pre><code>java.lang.NoSuchMethodError: org.hibernate.cfg.Configuration.addAnnotatedClass(Ljava/lang/Class;)Lorg/hibernate/cfg/Configuration;\n</code></pre>\n\n<p>What I am unable to understand is the same code running without Tomcat(local application) but when it comes to Tomcat it is not able to find the method in the class.</p>\n\n<p>I have checked the jar, it contains the file and that file has the method also(no compiler error)</p>\n\n<p>I will be very grateful, if anybody can help me on this.</p>\n\n<p>Maven(pom.xml):</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;TestApp&lt;/groupId&gt;\n    &lt;artifactId&gt;TestApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;TestApp&lt;/name&gt;\n    &lt;description&gt;Website&lt;/description&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;struts&lt;/groupId&gt;\n            &lt;artifactId&gt;struts&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-email&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;2.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;2.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n            &lt;version&gt;2.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;2.12&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>DAO(Java):</p>\n\n<pre><code>public void saveHitCountInDB(HitCount count) {\n        session.update(count);\n        session.flush();\n }\n</code></pre>\n\n<p>POJO(Java):</p>\n\n<pre><code>@Entity\n@Table(name = \"hitcounter\")\npublic class HitCount {\n     @Id\n     @Column(name = \"count\", unique = true, nullable = false)\n     private int hitCount;\n     //getter and setter and constructors\n}\n</code></pre>\n\n<p>Connection(Java):</p>\n\n<pre><code>configuration = new Configuration().configure();\nconfiguration.addAnnotatedClass(HitCount.class); //problem reported here\n</code></pre>\n\n<p>Note: let me know if more code is required.</p>\n"},{"tags":["java","restlet"],"owner":{"account_id":1319802,"reputation":1332,"user_id":1265850,"accept_rate":79,"display_name":"R D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682668158,"creation_date":1682668158,"question_id":76127347,"body_markdown":"We are using Restlet framework. One of our implementation we use multi-part formdata request. While sending request with multipart formdata if the file extension is .txt (text/plain). In this case (text/plain) file name and media-Type is not set in FormDataSet.java class in Restlet framework.\r\nNot get javadoc or any reason why this scenario ignored file name and media-Type for (text/plain) ?\r\n\r\nwrite method from FormDataSet.java\r\n\r\n    @Override\r\n    public void write(OutputStream outputStream) throws IOException {\r\n        if (isMultipart()) {\r\n            for (FormData data : getEntries()) {\r\n                // Write the boundary line\r\n                outputStream.write((&quot;--&quot; + getMultipartBoundary()).getBytes());\r\n                HeaderUtils.writeCRLF(outputStream);\r\n\r\n                // Write the optional content type header line\r\n                if (MediaType.TEXT_PLAIN.equals(data.getMediaType())) {\r\n                    // Write the content disposition header line\r\n                    String line = &quot;Content-Disposition: form-data; name=\\&quot;&quot;\r\n                            + data.getName() + &quot;\\&quot;&quot;;\r\n                    outputStream.write(line.getBytes());\r\n                    HeaderUtils.writeCRLF(outputStream);\r\n                } else {\r\n                    // Write the content disposition header line\r\n                    String line = &quot;Content-Disposition: form-data; name=\\&quot;&quot;\r\n                            + data.getName() + &quot;\\&quot;; filename=\\&quot;&quot;\r\n                            + data.getFilename() + &quot;\\&quot;&quot;;\r\n                    outputStream.write(line.getBytes());\r\n                    HeaderUtils.writeCRLF(outputStream);\r\n\r\n                    // Write the content type header line\r\n                    line = &quot;Content-Type: &quot;\r\n                            + ContentType.writeHeader(data\r\n                                    .getValueRepresentation());\r\n                    outputStream.write(line.getBytes());\r\n                    HeaderUtils.writeCRLF(outputStream);\r\n                }\r\n\r\n                // Write the data content\r\n                HeaderUtils.writeCRLF(outputStream);\r\n                data.getValueRepresentation().write(outputStream);\r\n                HeaderUtils.writeCRLF(outputStream);\r\n            }\r\n\r\n            // Write the final boundary line\r\n            outputStream.write((&quot;--&quot; + getMultipartBoundary() + &quot;--&quot;)\r\n                    .getBytes());\r\n            HeaderUtils.writeCRLF(outputStream);\r\n        } else {\r\n            Representation formRep = new StringRepresentation(getQueryString(),\r\n                    MediaType.APPLICATION_WWW_FORM, null, CharacterSet.UTF_8);\r\n            formRep.write(outputStream);\r\n        }\r\n    }\r\n\r\nI try to get any RFC or some detail why this special handling for text/plain, not getting.\r\n\r\nIt will be great, if I get any input on this why this special handling. ","title":"Content-type and file name is not set when media-Type is text/plain in Restlet framework","body":"<p>We are using Restlet framework. One of our implementation we use multi-part formdata request. While sending request with multipart formdata if the file extension is .txt (text/plain). In this case (text/plain) file name and media-Type is not set in FormDataSet.java class in Restlet framework.\nNot get javadoc or any reason why this scenario ignored file name and media-Type for (text/plain) ?</p>\n<p>write method from FormDataSet.java</p>\n<pre><code>@Override\npublic void write(OutputStream outputStream) throws IOException {\n    if (isMultipart()) {\n        for (FormData data : getEntries()) {\n            // Write the boundary line\n            outputStream.write((&quot;--&quot; + getMultipartBoundary()).getBytes());\n            HeaderUtils.writeCRLF(outputStream);\n\n            // Write the optional content type header line\n            if (MediaType.TEXT_PLAIN.equals(data.getMediaType())) {\n                // Write the content disposition header line\n                String line = &quot;Content-Disposition: form-data; name=\\&quot;&quot;\n                        + data.getName() + &quot;\\&quot;&quot;;\n                outputStream.write(line.getBytes());\n                HeaderUtils.writeCRLF(outputStream);\n            } else {\n                // Write the content disposition header line\n                String line = &quot;Content-Disposition: form-data; name=\\&quot;&quot;\n                        + data.getName() + &quot;\\&quot;; filename=\\&quot;&quot;\n                        + data.getFilename() + &quot;\\&quot;&quot;;\n                outputStream.write(line.getBytes());\n                HeaderUtils.writeCRLF(outputStream);\n\n                // Write the content type header line\n                line = &quot;Content-Type: &quot;\n                        + ContentType.writeHeader(data\n                                .getValueRepresentation());\n                outputStream.write(line.getBytes());\n                HeaderUtils.writeCRLF(outputStream);\n            }\n\n            // Write the data content\n            HeaderUtils.writeCRLF(outputStream);\n            data.getValueRepresentation().write(outputStream);\n            HeaderUtils.writeCRLF(outputStream);\n        }\n\n        // Write the final boundary line\n        outputStream.write((&quot;--&quot; + getMultipartBoundary() + &quot;--&quot;)\n                .getBytes());\n        HeaderUtils.writeCRLF(outputStream);\n    } else {\n        Representation formRep = new StringRepresentation(getQueryString(),\n                MediaType.APPLICATION_WWW_FORM, null, CharacterSet.UTF_8);\n        formRep.write(outputStream);\n    }\n}\n</code></pre>\n<p>I try to get any RFC or some detail why this special handling for text/plain, not getting.</p>\n<p>It will be great, if I get any input on this why this special handling.</p>\n"},{"tags":["java","database","jpa","columndefinition"],"comments":[{"owner":{"account_id":25251803,"reputation":88,"user_id":19084192,"display_name":"Kaiak"},"score":0,"creation_date":1682680389,"post_id":76127335,"comment_id":134257455,"body_markdown":"Sorry but I don&#39;t understand your question. Can you specify exaclty what name do you expect and what do you actually got?","body":"Sorry but I don&#39;t understand your question. Can you specify exaclty what name do you expect and what do you actually got?"}],"owner":{"account_id":28414001,"reputation":1,"user_id":21737031,"display_name":"Павлюченко Антон"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682668049,"creation_date":1682668049,"question_id":76127335,"body_markdown":"I have this code:\r\n\r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class TrainingData {\r\n\r\n    @Column(name = &quot;RECORD_DATE_PARSED&quot;)\r\n    private LocalDate recordDate;\r\n\r\n    @Column(name = &quot;SENDER_POSTOFFICECODE&quot;)\r\n    private String senderPostOfficeCode;\r\n}\r\n```\r\n\r\nThis is sending to SQL query columns with names: &quot;RECORD_DATE&quot; and &quot;SENDER_POST_OFFICE_CODE&quot;\r\nHow can i turn off auto adjust column title based on variable?  \r\nAnd have this error:\r\n\r\n```\r\noracle.jdbc.OracleDatabaseException: ORA-00904: &quot;C1_0&quot;.&quot;RECORDDATE&quot;: ???????????? ?????????????\r\n```\r\n\r\nI tried to turn it off using application.yml:\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      naming:\r\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```\r\n\r\nBut nothing helped( Because my column names changed to: &quot;RECORDDATE&quot; and &quot;SENDERPOSTOFFICECODE&quot;","title":"@Column is setting column name due to the variable","body":"<p>I have this code:</p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;my_table&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TrainingData {\n\n    @Column(name = &quot;RECORD_DATE_PARSED&quot;)\n    private LocalDate recordDate;\n\n    @Column(name = &quot;SENDER_POSTOFFICECODE&quot;)\n    private String senderPostOfficeCode;\n}\n</code></pre>\n<p>This is sending to SQL query columns with names: &quot;RECORD_DATE&quot; and &quot;SENDER_POST_OFFICE_CODE&quot;\nHow can i turn off auto adjust column title based on variable?<br />\nAnd have this error:</p>\n<pre><code>oracle.jdbc.OracleDatabaseException: ORA-00904: &quot;C1_0&quot;.&quot;RECORDDATE&quot;: ???????????? ?????????????\n</code></pre>\n<p>I tried to turn it off using application.yml:</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      naming:\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>But nothing helped( Because my column names changed to: &quot;RECORDDATE&quot; and &quot;SENDERPOSTOFFICECODE&quot;</p>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":212321,"reputation":622,"user_id":465076,"accept_rate":100,"display_name":"kasten"},"score":6,"creation_date":1288165577,"post_id":4030936,"comment_id":4324424,"body_markdown":"nice short code. A linear search might be faster but i think yours makes more sense.","body":"nice short code. A linear search might be faster but i think yours makes more sense."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1288183146,"post_id":4030936,"comment_id":4327187,"body_markdown":"@BjornS oh please: this is a standard solution, easy, understandable and fast enough for most purposes. It may not be a best practice (although I&#39;d argue about that) but it certainly doesn&#39;t deserve a downvote.","body":"@BjornS oh please: this is a standard solution, easy, understandable and fast enough for most purposes. It may not be a best practice (although I&#39;d argue about that) but it certainly doesn&#39;t deserve a downvote."},{"owner":{"account_id":145063,"reputation":1004,"user_id":354601,"accept_rate":50,"display_name":"BjornS"},"score":1,"creation_date":1288185110,"post_id":4030936,"comment_id":4327567,"body_markdown":"@seanizer ok, When does standard become best practise or maintainable? I down voted this not because I couldn&#39;t understand this or because it isn&#39;t standard but rather that it perpetuates bad code. As I said I&#39;ve done the same myself but if at all possible I try to avoid it. If I shouldn&#39;t down vote for this then what should I down vote for? I&#39;m sorry if I came across as unpleasant.","body":"@seanizer ok, When does standard become best practise or maintainable? I down voted this not because I couldn&#39;t understand this or because it isn&#39;t standard but rather that it perpetuates bad code. As I said I&#39;ve done the same myself but if at all possible I try to avoid it. If I shouldn&#39;t down vote for this then what should I down vote for? I&#39;m sorry if I came across as unpleasant."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":23,"creation_date":1288185584,"post_id":4030936,"comment_id":4327670,"body_markdown":"I guess you can downvote anything you like to downvote (no sarcasm intended). But my personal opinion is: when great developers (and we have lots of them here) share some of their advice for free, then I&#39;m going to honor that, and I only downvote stuff that&#39;s really awful (check my profile, my current ratio is 14xx up against 17 down). But that&#39;s my personal philosophy and you are free to have your own.","body":"I guess you can downvote anything you like to downvote (no sarcasm intended). But my personal opinion is: when great developers (and we have lots of them here) share some of their advice for free, then I&#39;m going to honor that, and I only downvote stuff that&#39;s really awful (check my profile, my current ratio is 14xx up against 17 down). But that&#39;s my personal philosophy and you are free to have your own."},{"owner":{"account_id":28971,"reputation":3084,"user_id":77887,"accept_rate":73,"display_name":"Aravindan R"},"score":91,"creation_date":1326234069,"post_id":4030936,"comment_id":10996124,"body_markdown":"This wont work if your number has a decimal point, it removes the decimal point too. `str = str.replaceAll(&quot;[^\\\\.0123456789]&quot;,&quot;&quot;);`","body":"This wont work if your number has a decimal point, it removes the decimal point too. <code>str = str.replaceAll(&quot;[^\\\\.0123456789]&quot;,&quot;&quot;);</code>"},{"owner":{"account_id":114118,"reputation":4732,"user_id":300236,"accept_rate":67,"display_name":"Brill Pappin"},"score":2,"creation_date":1355952979,"post_id":4030936,"comment_id":19259088,"body_markdown":"Although the regex is supremely simple and clean to look at, it suffers from performance issues and should only be used where you have a one-off strip (like a form submit). If you are processing a lot of data, this is not the way to go.","body":"Although the regex is supremely simple and clean to look at, it suffers from performance issues and should only be used where you have a one-off strip (like a form submit). If you are processing a lot of data, this is not the way to go."},{"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"score":2,"creation_date":1397731436,"post_id":4030936,"comment_id":35363989,"body_markdown":"and if you need to exclude anything, like a decimal point, `(?!\\\\.)`","body":"and if you need to exclude anything, like a decimal point, <code>(?!\\\\.)</code>"},{"owner":{"account_id":15120,"reputation":50844,"user_id":31615,"display_name":"Svante"},"score":1,"creation_date":1433328521,"post_id":4030936,"comment_id":49301907,"body_markdown":"This is exactly what regular expressions are good at, and if you think about what it does internally, it does not have any obvious inefficiencies.  I believe that the distractors just have a knee jerk reaction to regexes, stemming from seeing to many abuses of regexes in other cases.","body":"This is exactly what regular expressions are good at, and if you think about what it does internally, it does not have any obvious inefficiencies.  I believe that the distractors just have a knee jerk reaction to regexes, stemming from seeing to many abuses of regexes in other cases."},{"owner":{"account_id":17239599,"reputation":321,"user_id":12519068,"display_name":"luke cross"},"score":0,"creation_date":1581454486,"post_id":4030936,"comment_id":106437387,"body_markdown":"If you don&#39;t want remove the pointers and other chars, so you to need do [^0-9] on the replaceAll.","body":"If you don&#39;t want remove the pointers and other chars, so you to need do [^0-9] on the replaceAll."},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1609934122,"post_id":4030936,"comment_id":115974198,"body_markdown":"@AravindanR your solution fails if digit has negative sign against it, can you please suggest what modification should be done with you rsolution","body":"@AravindanR your solution fails if digit has negative sign against it, can you please suggest what modification should be done with you rsolution"},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1609934284,"post_id":4030936,"comment_id":115974277,"body_markdown":"str.replaceAll(&quot;[^\\\\.-0123456789]&quot;,&quot;&quot;) if your number is negative","body":"str.replaceAll(&quot;[^\\\\.-0123456789]&quot;,&quot;&quot;) if your number is negative"}],"tags":[],"owner":{"account_id":80529,"reputation":448258,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"comment_count":11,"down_vote_count":2,"up_vote_count":616,"is_accepted":true,"score":614,"last_activity_date":1473279870,"creation_date":1288165388,"answer_id":4030936,"question_id":4030928,"body_markdown":"You can use regex and delete non-digits.\r\n\r\n    str = str.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;);\r\n","title":"Extract digits from a string in Java","body":"<p>You can use regex and delete non-digits.</p>\n\n<pre><code>str = str.replaceAll(\"\\\\D+\",\"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1288166336,"post_id":4030999,"comment_id":4324538,"body_markdown":"I thought of using Character.isDigit() myself, but it also accepts some characters that are not 0-9 (see docs: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#isDigit%28char%29 )","body":"I thought of using Character.isDigit() myself, but it also accepts some characters that are not 0-9 (see docs: <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#isDigit%28char%29\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/lang/&hellip;</a> )"}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1288165968,"creation_date":1288165968,"answer_id":4030999,"question_id":4030928,"body_markdown":"    public String extractDigits(String src) {\r\n        StringBuilder builder = new StringBuilder();\r\n        for (int i = 0; i &lt; src.length(); i++) {\r\n            char c = src.charAt(i);\r\n            if (Character.isDigit(c)) {\r\n                builder.append(c);\r\n            }\r\n        }\r\n        return builder.toString();\r\n    }","title":"Extract digits from a string in Java","body":"<pre><code>public String extractDigits(String src) {\n    StringBuilder builder = new StringBuilder();\n    for (int i = 0; i &lt; src.length(); i++) {\n        char c = src.charAt(i);\n        if (Character.isDigit(c)) {\n            builder.append(c);\n        }\n    }\n    return builder.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"score":4,"creation_date":1288657106,"post_id":4031040,"comment_id":4379110,"body_markdown":"You should provide a size to the `StringBuilder` constructor (such as `input.length()`) to ensure that it won&#39;t need to reallocate. You don&#39;t need to demand a `String` here; `CharSequence` suffices. Also, you can separate the allocation of the `StringBuilder` from the collection of non-digits by writing a separate function that accepts a `CharSequence` as input and an `Appendable` instance as an output accumulator.","body":"You should provide a size to the <code>StringBuilder</code> constructor (such as <code>input.length()</code>) to ensure that it won&#39;t need to reallocate. You don&#39;t need to demand a <code>String</code> here; <code>CharSequence</code> suffices. Also, you can separate the allocation of the <code>StringBuilder</code> from the collection of non-digits by writing a separate function that accepts a <code>CharSequence</code> as input and an <code>Appendable</code> instance as an output accumulator."},{"owner":{"account_id":274494,"reputation":1044,"user_id":566763,"accept_rate":60,"display_name":"RedYeti"},"score":1,"creation_date":1341239659,"post_id":4031040,"comment_id":14860425,"body_markdown":"@seh Sounds interesting but rather than commenting why not create your own answer with the extensions?","body":"@seh Sounds interesting but rather than commenting why not create your own answer with the extensions?"},{"owner":{"account_id":228053,"reputation":7259,"user_id":490123,"accept_rate":76,"display_name":"KomodoDave"},"score":4,"creation_date":1366467522,"post_id":4031040,"comment_id":23025728,"body_markdown":"@RedYeti Letting this answer remain and adding a comment is more honourable since Sean receives upvotes then. It&#39;s also a lot quicker to critique others&#39; code than rewrite it if you&#39;re in a hurry. Don&#39;t punish seh for making a valuable contribution, he didn&#39;t have to add those useful tidbits, and your response makes him less likely to do so next time.","body":"@RedYeti Letting this answer remain and adding a comment is more honourable since Sean receives upvotes then. It&#39;s also a lot quicker to critique others&#39; code than rewrite it if you&#39;re in a hurry. Don&#39;t punish seh for making a valuable contribution, he didn&#39;t have to add those useful tidbits, and your response makes him less likely to do so next time."},{"owner":{"account_id":274494,"reputation":1044,"user_id":566763,"accept_rate":60,"display_name":"RedYeti"},"score":2,"creation_date":1366627833,"post_id":4031040,"comment_id":23066533,"body_markdown":"I&#39;m not &quot;punishing&quot; anyone - that&#39;s a complete misinterpretation of what I was saying to @seh. My point was that his comments added so much which was worthwhile and in fact changed so much that I felt it warranted an answer of it&#39;s own. I&#39;m sure Sean Patrick Floyd isn&#39;t concerned with kudos only helping others and would be perfectly happy with seh providing his own answer. I was merely encouraging seh since I felt his contribution deserved greater visibility. How it&#39;s possible to read my comment as anything else completely puzzles me but I apologise to seh if it somehow did.","body":"I&#39;m not &quot;punishing&quot; anyone - that&#39;s a complete misinterpretation of what I was saying to @seh. My point was that his comments added so much which was worthwhile and in fact changed so much that I felt it warranted an answer of it&#39;s own. I&#39;m sure Sean Patrick Floyd isn&#39;t concerned with kudos only helping others and would be perfectly happy with seh providing his own answer. I was merely encouraging seh since I felt his contribution deserved greater visibility. How it&#39;s possible to read my comment as anything else completely puzzles me but I apologise to seh if it somehow did."},{"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"score":1,"creation_date":1366669628,"post_id":4031040,"comment_id":23089531,"body_markdown":"I like how these discussions pick up after lying dormant for a while. Perhaps the best thing to do here is for me to edit Sean&#39;s answer, augmenting it with my suggestions. That way, Sean will continue to receive the credit unless the answer transitions to community wiki status.","body":"I like how these discussions pick up after lying dormant for a while. Perhaps the best thing to do here is for me to edit Sean&#39;s answer, augmenting it with my suggestions. That way, Sean will continue to receive the credit unless the answer transitions to community wiki status."},{"owner":{"account_id":274494,"reputation":1044,"user_id":566763,"accept_rate":60,"display_name":"RedYeti"},"score":0,"creation_date":1366715639,"post_id":4031040,"comment_id":23106694,"body_markdown":"Hey - good to see seh&#39;s answer partly coded up but the more interesting part to me was suggestion of using the CharSequence and Appendable instance. (And thanks to @KomodoDave for firing this up again!)","body":"Hey - good to see seh&#39;s answer partly coded up but the more interesting part to me was suggestion of using the CharSequence and Appendable instance. (And thanks to @KomodoDave for firing this up again!)"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1366724675,"post_id":4031040,"comment_id":23112193,"body_markdown":"@RedYeti *sigh* ok, added the CharSequence, too","body":"@RedYeti <i>sigh</i> ok, added the CharSequence, too"},{"owner":{"account_id":228053,"reputation":7259,"user_id":490123,"accept_rate":76,"display_name":"KomodoDave"},"score":0,"creation_date":1366804679,"post_id":4031040,"comment_id":23147952,"body_markdown":"@RedYeti Thank you, I understand the tone of your original comment now. It&#39;s concise enough to interpret either way hence my misapprehension, my apologies.","body":"@RedYeti Thank you, I understand the tone of your original comment now. It&#39;s concise enough to interpret either way hence my misapprehension, my apologies."},{"owner":{"account_id":274494,"reputation":1044,"user_id":566763,"accept_rate":60,"display_name":"RedYeti"},"score":0,"creation_date":1366895470,"post_id":4031040,"comment_id":23189748,"body_markdown":"@KomodoDave Hey just glad it was all cleared up! Though it did kinda spiral - sorry to be any bother Sean Patrick Floyd! It can be hard to get a particular tone to come across in comments - will be more careful with phrasing in future :)","body":"@KomodoDave Hey just glad it was all cleared up! Though it did kinda spiral - sorry to be any bother Sean Patrick Floyd! It can be hard to get a particular tone to come across in comments - will be more careful with phrasing in future :)"},{"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"score":0,"creation_date":1380754782,"post_id":4031040,"comment_id":28322572,"body_markdown":"I will confess to not having memorized the ASCII table and not being completely sure about the inner workings of Java was a little put off by them. No offense intended. Point is, why not define something like `int lower = ((int)&#39;0&#39;-1);` and `int upper = ((int)&#39;9&#39;+1);` before the **for** loop. Than in your **if** statement use those variables. I think it would make it slightly easier to read.","body":"I will confess to not having memorized the ASCII table and not being completely sure about the inner workings of Java was a little put off by them. No offense intended. Point is, why not define something like <code>int lower = ((int)&#39;0&#39;-1);</code> and <code>int upper = ((int)&#39;9&#39;+1);</code> before the <b>for</b> loop. Than in your <b>if</b> statement use those variables. I think it would make it slightly easier to read."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1380794485,"post_id":4031040,"comment_id":28335714,"body_markdown":"@Raystorm these days I&#39;d go for Emil&#39;s Guava answer anyway. Should perform well enough and is certainly more readable","body":"@Raystorm these days I&#39;d go for Emil&#39;s Guava answer anyway. Should perform well enough and is certainly more readable"},{"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"score":1,"creation_date":1380838954,"post_id":4031040,"comment_id":28360355,"body_markdown":"I agree the Guava answer is very short and readable.  However, since I&#39;m not actually using Google Guava in my own work I like the &quot;pure&quot; java answer. I just thought I would add my own 2 cents on how to make the java code more readable.","body":"I agree the Guava answer is very short and readable.  However, since I&#39;m not actually using Google Guava in my own work I like the &quot;pure&quot; java answer. I just thought I would add my own 2 cents on how to make the java code more readable."},{"owner":{"account_id":3475864,"reputation":923,"user_id":2909074,"accept_rate":73,"display_name":"marson"},"score":0,"creation_date":1406552453,"post_id":4031040,"comment_id":38862234,"body_markdown":"the codeaddict&#39;s solution worked, but put also dots in result. this worked and helped me a lot. thanks!","body":"the codeaddict&#39;s solution worked, but put also dots in result. this worked and helped me a lot. thanks!"},{"owner":{"account_id":449705,"reputation":2038,"user_id":844648,"accept_rate":70,"display_name":"Perlos"},"score":0,"creation_date":1468312848,"post_id":4031040,"comment_id":64062736,"body_markdown":"After i read comments i do a performance test to very long String with minimal numbers and result is:\nGuava approach is 2.5-3 times slower\nRegular expression with D+ is 3-3.5 times slower\nRegular expression with only D is 25+ times slower","body":"After i read comments i do a performance test to very long String with minimal numbers and result is: Guava approach is 2.5-3 times slower Regular expression with D+ is 3-3.5 times slower Regular expression with only D is 25+ times slower"},{"owner":{"account_id":449705,"reputation":2038,"user_id":844648,"accept_rate":70,"display_name":"Perlos"},"score":0,"creation_date":1468313281,"post_id":4031040,"comment_id":64063007,"body_markdown":"This code with using CharBuffer and while cycle (without accessing array position) is 23% faster\nAnd more using char[] instead of StringBuilder give you more 3% boost","body":"This code with using CharBuffer and while cycle (without accessing array position) is 23% faster And more using char[] instead of StringBuilder give you more 3% boost"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":15,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1366724639,"creation_date":1288166250,"answer_id":4031040,"question_id":4030928,"body_markdown":"Here&#39;s a more verbose solution. Less elegant, but probably faster:\r\n\r\n\r\n    public static String stripNonDigits(\r\n                final CharSequence input /* inspired by seh&#39;s comment */){\r\n        final StringBuilder sb = new StringBuilder(\r\n                input.length() /* also inspired by seh&#39;s comment */);\r\n        for(int i = 0; i &lt; input.length(); i++){\r\n            final char c = input.charAt(i);\r\n            if(c &gt; 47 &amp;&amp; c &lt; 58){\r\n                sb.append(c);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n**Test Code:**\r\n\r\n\r\n    public static void main(final String[] args){\r\n        final String input = &quot;0-123-abc-456-xyz-789&quot;;\r\n        final String result = stripNonDigits(input);\r\n        System.out.println(result);\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n&gt; 0123456789\r\n\r\nBTW: I did not use [Character.isDigit(ch)][1] because it accepts many other chars except 0 - 9.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#isDigit%28char%29","title":"Extract digits from a string in Java","body":"<p>Here's a more verbose solution. Less elegant, but probably faster:</p>\n\n<pre><code>public static String stripNonDigits(\n            final CharSequence input /* inspired by seh's comment */){\n    final StringBuilder sb = new StringBuilder(\n            input.length() /* also inspired by seh's comment */);\n    for(int i = 0; i &lt; input.length(); i++){\n        final char c = input.charAt(i);\n        if(c &gt; 47 &amp;&amp; c &lt; 58){\n            sb.append(c);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n\n<p><strong>Test Code:</strong></p>\n\n<pre><code>public static void main(final String[] args){\n    final String input = \"0-123-abc-456-xyz-789\";\n    final String result = stripNonDigits(input);\n    System.out.println(result);\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>0123456789</p>\n</blockquote>\n\n<p>BTW: I did not use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#isDigit%28char%29\" rel=\"noreferrer\">Character.isDigit(ch)</a> because it accepts many other chars except 0 - 9.</p>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1288168860,"post_id":4031123,"comment_id":4324900,"body_markdown":"Very nice solution (+1), but it suffers from the same problem as others: lots of characters qualify as unicode digits, not only the ascii digits. This code will retain all of these characters: http://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5Cp%7Bdigit%7D","body":"Very nice solution (+1), but it suffers from the same problem as others: lots of characters qualify as unicode digits, not only the ascii digits. This code will retain all of these characters: <a href=\"http://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5Cp%7Bdigit%7D\" rel=\"nofollow noreferrer\">unicode.org/cldr/utility/list-unicodeset.jsp?a=%5Cp%7Bdigit%&zwnj;&#8203;7D</a>"},{"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"score":0,"creation_date":1288175543,"post_id":4031123,"comment_id":4325964,"body_markdown":"@seanizer: Then will this be better CharMatcher.inRange(&#39;1&#39;,&#39;9&#39;).retainFrom(&quot;123-456-789&quot;)","body":"@seanizer: Then will this be better CharMatcher.inRange(&#39;1&#39;,&#39;9&#39;).retainFrom(&quot;123-456-789&quot;)"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1288175625,"post_id":4031123,"comment_id":4325974,"body_markdown":"@Emil more like CharMatcher.inRange(&#39;0&#39;,&#39;9&#39;), but: yes","body":"@Emil more like CharMatcher.inRange(&#39;0&#39;,&#39;9&#39;), but: yes"},{"owner":{"account_id":145063,"reputation":1004,"user_id":354601,"accept_rate":50,"display_name":"BjornS"},"score":0,"creation_date":1288179108,"post_id":4031123,"comment_id":4326499,"body_markdown":"inRange is what lies behind CharMatcher.DIGIT; http://pastie.org/1252471  It simply takes into account attitional UTF number ranges, I would still consider these as digits, since in reality they are, they are simply not ASCII encoded.","body":"inRange is what lies behind CharMatcher.DIGIT; <a href=\"http://pastie.org/1252471\" rel=\"nofollow noreferrer\">pastie.org/1252471</a>  It simply takes into account attitional UTF number ranges, I would still consider these as digits, since in reality they are, they are simply not ASCII encoded."},{"owner":{"account_id":145063,"reputation":1004,"user_id":354601,"accept_rate":50,"display_name":"BjornS"},"score":0,"creation_date":1288179270,"post_id":4031123,"comment_id":4326521,"body_markdown":"You can also use CharMatcher.JAVA_DIGIT for the same purpose, that will only accept digits as per Character.isDigit","body":"You can also use CharMatcher.JAVA_DIGIT for the same purpose, that will only accept digits as per Character.isDigit"}],"tags":[],"owner":{"account_id":145063,"reputation":1004,"user_id":354601,"accept_rate":50,"display_name":"BjornS"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1288167833,"creation_date":1288167069,"answer_id":4031123,"question_id":4030928,"body_markdown":"Using Google Guava:\r\n\r\n    CharMatcher.DIGIT.retainFrom(&quot;123-456-789&quot;);\r\n\r\nCharMatcher is plug-able and quite interesting to use, for instance you can do the following:\r\n\r\n    String input = &quot;My phone number is 123-456-789!&quot;;\r\n    String output = CharMatcher.is(&#39;-&#39;).or(CharMatcher.DIGIT).retainFrom(input);\r\n\r\noutput == 123-456-789\r\n\r\n","title":"Extract digits from a string in Java","body":"<p>Using Google Guava:</p>\n\n<pre><code>CharMatcher.DIGIT.retainFrom(\"123-456-789\");\n</code></pre>\n\n<p>CharMatcher is plug-able and quite interesting to use, for instance you can do the following:</p>\n\n<pre><code>String input = \"My phone number is 123-456-789!\";\nString output = CharMatcher.is('-').or(CharMatcher.DIGIT).retainFrom(input);\n</code></pre>\n\n<p>output == 123-456-789</p>\n"},{"comments":[{"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"score":4,"creation_date":1328874499,"post_id":4032281,"comment_id":11619408,"body_markdown":"There is now `Charmatcher.DIGIT` predefined.","body":"There is now <code>Charmatcher.DIGIT</code> predefined."}],"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1427402434,"creation_date":1288175733,"answer_id":4032281,"question_id":4030928,"body_markdown":"Using Google Guava:\r\n\r\n    CharMatcher.inRange(&#39;0&#39;,&#39;9&#39;).retainFrom(&quot;123-456-789&quot;)\r\n\r\n**UPDATE:**\r\n\r\nUsing [Precomputed CharMatcher][1] can further improve performance\r\n\r\n    CharMatcher ASCII_DIGITS=CharMatcher.inRange(&#39;0&#39;,&#39;9&#39;).precomputed();  \r\n    ASCII_DIGITS.retainFrom(&quot;123-456-789&quot;);\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/CharMatcher.html#precomputed()","title":"Extract digits from a string in Java","body":"<p>Using Google Guava:</p>\n\n<pre><code>CharMatcher.inRange('0','9').retainFrom(\"123-456-789\")\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Using <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/CharMatcher.html#precomputed()\" rel=\"noreferrer\">Precomputed CharMatcher</a> can further improve performance</p>\n\n<pre><code>CharMatcher ASCII_DIGITS=CharMatcher.inRange('0','9').precomputed();  \nASCII_DIGITS.retainFrom(\"123-456-789\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1349605913,"creation_date":1349605396,"answer_id":12767947,"question_id":4030928,"body_markdown":" Use regular expression to match your requirement.\r\n    \r\n    String num,num1,num2;\r\n    String str = &quot;123-456-789&quot;;\r\n    String regex =&quot;(\\\\d+)&quot;;\r\n    Matcher matcher = Pattern.compile( regex ).matcher( str);\r\n    while (matcher.find( ))\r\n    {\r\n    num = matcher.group();     \r\n    System.out.print(num);                 \r\n    }","title":"Extract digits from a string in Java","body":"<p>Use regular expression to match your requirement.</p>\n\n<pre><code>String num,num1,num2;\nString str = \"123-456-789\";\nString regex =\"(\\\\d+)\";\nMatcher matcher = Pattern.compile( regex ).matcher( str);\nwhile (matcher.find( ))\n{\nnum = matcher.group();     \nSystem.out.print(num);                 \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1454241478,"post_id":29598027,"comment_id":57947455,"body_markdown":"I have &quot;4.5 zi.&quot; not working because it keeps the second . too","body":"I have &quot;4.5 zi.&quot; not working because it keeps the second . too"}],"tags":[],"owner":{"account_id":4528471,"reputation":201,"user_id":3679646,"display_name":"user3679646"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1428901977,"creation_date":1428900495,"answer_id":29598027,"question_id":4030928,"body_markdown":"    input.replaceAll(&quot;[^0-9?!\\\\.]&quot;,&quot;&quot;)\r\n\r\nThis will ignore the decimal points.\r\n\r\neg: if you have an input as `445.3kg` the output will be `445.3`.","title":"Extract digits from a string in Java","body":"<pre><code>input.replaceAll(\"[^0-9?!\\\\.]\",\"\")\n</code></pre>\n\n<p>This will ignore the decimal points.</p>\n\n<p>eg: if you have an input as <code>445.3kg</code> the output will be <code>445.3</code>.</p>\n"},{"tags":[],"owner":{"account_id":449705,"reputation":2038,"user_id":844648,"accept_rate":70,"display_name":"Perlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468314213,"creation_date":1468314213,"answer_id":38324368,"question_id":4030928,"body_markdown":"I inspired by code Sean Patrick Floyd and little rewrite it for maximum performance i get.\r\n\r\n    public static String stripNonDigitsV2( CharSequence input ) {\r\n        if (input == null)\r\n            return null;\r\n        if ( input.length() == 0 )\r\n            return &quot;&quot;;\r\n\r\n        char[] result = new char[input.length()];\r\n        int cursor = 0;\r\n        CharBuffer buffer = CharBuffer.wrap( input );\r\n\r\n        while ( buffer.hasRemaining() ) {\r\n            char chr = buffer.get();\r\n            if ( chr &gt; 47 &amp;&amp; chr &lt; 58 )\r\n                result[cursor++] = chr;\r\n        }\r\n\r\n        return new String( result, 0, cursor );\r\n    }\r\n\r\ni do **Performance test** to very long String with minimal numbers and result is: \r\n\r\n- Original code is 25,5% slower\r\n- Guava approach is 2.5-3 times slower \r\n- Regular expression with D+ is 3-3.5 times slower \r\n- Regular expression with only D is 25+ times slower    \r\n\r\nBtw it depends on how long that string is. With string that contains only 6 number is guava 50% slower and regexp 1 times slower","title":"Extract digits from a string in Java","body":"<p>I inspired by code Sean Patrick Floyd and little rewrite it for maximum performance i get.</p>\n\n<pre><code>public static String stripNonDigitsV2( CharSequence input ) {\n    if (input == null)\n        return null;\n    if ( input.length() == 0 )\n        return \"\";\n\n    char[] result = new char[input.length()];\n    int cursor = 0;\n    CharBuffer buffer = CharBuffer.wrap( input );\n\n    while ( buffer.hasRemaining() ) {\n        char chr = buffer.get();\n        if ( chr &gt; 47 &amp;&amp; chr &lt; 58 )\n            result[cursor++] = chr;\n    }\n\n    return new String( result, 0, cursor );\n}\n</code></pre>\n\n<p>i do <strong>Performance test</strong> to very long String with minimal numbers and result is: </p>\n\n<ul>\n<li>Original code is 25,5% slower</li>\n<li>Guava approach is 2.5-3 times slower </li>\n<li>Regular expression with D+ is 3-3.5 times slower </li>\n<li>Regular expression with only D is 25+ times slower    </li>\n</ul>\n\n<p>Btw it depends on how long that string is. With string that contains only 6 number is guava 50% slower and regexp 1 times slower</p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489027100,"creation_date":1489027100,"answer_id":42685681,"question_id":4030928,"body_markdown":"You can use `str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);`\r\n\r\n","title":"Extract digits from a string in Java","body":"<p>You can use <code>str.replaceAll(\"[^0-9]\", \"\");</code></p>\n"},{"tags":[],"owner":{"account_id":10747238,"reputation":1415,"user_id":7908045,"display_name":"Kairat Koibagarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495186591,"creation_date":1495186591,"answer_id":44066482,"question_id":4030928,"body_markdown":"I have finalized the code for phone numbers +9 (987) 124124.\r\n\r\nUnicode characters occupy 4 bytes.\r\n\r\n    public static String stripNonDigitsV2( CharSequence input ) {\r\n        if (input == null)\r\n            return null;\r\n        if ( input.length() == 0 )\r\n            return &quot;&quot;;\r\n\r\n        char[] result = new char[input.length()];\r\n        int cursor = 0;\r\n        CharBuffer buffer = CharBuffer.wrap( input );\r\n        int i=0;\r\n        while ( i&lt; buffer.length()  ) { //buffer.hasRemaining()\r\n            char chr = buffer.get(i);\r\n            if (chr==&#39;u&#39;){\r\n                i=i+5;\r\n                chr=buffer.get(i);\r\n            }\r\n\r\n            if ( chr &gt; 39 &amp;&amp; chr &lt; 58 )\r\n                result[cursor++] = chr;\r\n            i=i+1;\r\n        }\r\n\r\n        return new String( result, 0, cursor );\r\n    }","title":"Extract digits from a string in Java","body":"<p>I have finalized the code for phone numbers +9 (987) 124124.</p>\n\n<p>Unicode characters occupy 4 bytes.</p>\n\n<pre><code>public static String stripNonDigitsV2( CharSequence input ) {\n    if (input == null)\n        return null;\n    if ( input.length() == 0 )\n        return \"\";\n\n    char[] result = new char[input.length()];\n    int cursor = 0;\n    CharBuffer buffer = CharBuffer.wrap( input );\n    int i=0;\n    while ( i&lt; buffer.length()  ) { //buffer.hasRemaining()\n        char chr = buffer.get(i);\n        if (chr=='u'){\n            i=i+5;\n            chr=buffer.get(i);\n        }\n\n        if ( chr &gt; 39 &amp;&amp; chr &lt; 58 )\n            result[cursor++] = chr;\n        i=i+1;\n    }\n\n    return new String( result, 0, cursor );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11407516,"reputation":21,"user_id":8362576,"display_name":"nagalakshmi kotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500978562,"creation_date":1500974440,"answer_id":45299011,"question_id":4030928,"body_markdown":"**Code:**\r\n\r\n    public class saasa {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString t=&quot;123-456-789&quot;;\r\n    \t\tt=t.replaceAll(&quot;-&quot;, &quot;&quot;);\r\n    \t\tSystem.out.println(t);\r\n    \t}","title":"Extract digits from a string in Java","body":"<p><strong>Code:</strong></p>\n\n<pre><code>public class saasa {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        String t=\"123-456-789\";\n        t=t.replaceAll(\"-\", \"\");\n        System.out.println(t);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10112985,"reputation":91,"user_id":7472578,"display_name":"ruchin khare"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1502738902,"creation_date":1502737103,"answer_id":45681258,"question_id":4030928,"body_markdown":"    public class FindDigitFromString \r\n    {\r\n\r\n\t    public static void main(String[] args) \r\n        {\r\n\t\t    String s=&quot;  Hi How Are You 11  &quot;;        \r\n\t    \tString s1=s.replaceAll(&quot;[^0-9]+&quot;, &quot;&quot;);\r\n            //*replacing all the value of string except digit by using &quot;[^0-9]+&quot; regex.*\r\n           System.out.println(s1);\t\t \t\r\n       }\r\n    }\r\n\r\n**Output:** 11","title":"Extract digits from a string in Java","body":"<pre><code>public class FindDigitFromString \n{\n\n    public static void main(String[] args) \n    {\n        String s=\"  Hi How Are You 11  \";        \n        String s1=s.replaceAll(\"[^0-9]+\", \"\");\n        //*replacing all the value of string except digit by using \"[^0-9]+\" regex.*\n       System.out.println(s1);          \n   }\n}\n</code></pre>\n\n<p><strong>Output:</strong> 11</p>\n"},{"tags":[],"owner":{"account_id":14058574,"reputation":1,"user_id":10155251,"display_name":"sarkar vijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532953502,"creation_date":1532953202,"answer_id":51593847,"question_id":4030928,"body_markdown":"    import java.util.*;\r\n    public class FindDigits{\r\n\r\n     public static void main(String []args){\r\n        FindDigits h=new  FindDigits();\r\n        h.checkStringIsNumerical();\r\n     }\r\n     \r\n     void checkStringIsNumerical(){\r\n        String h=&quot;hello 123 for the rest of the 98475wt355&quot;;\r\n         for(int i=0;i&lt;h.length();i++)  {\r\n          if(h.charAt(i)!=&#39; &#39;){\r\n           System.out.println(&quot;Is this &#39;&quot;+h.charAt(i)+&quot;&#39; is a digit?:&quot;+Character.isDigit(h.charAt(i)));\r\n           }\r\n        }\r\n     }\r\n\r\n    void checkStringIsNumerical2(){\r\n        String h=&quot;hello 123 for 2the rest of the 98475wt355&quot;;\r\n         for(int i=0;i&lt;h.length();i++)  {\r\n             char chr=h.charAt(i);\r\n          if(chr!=&#39; &#39;){\r\n           if(Character.isDigit(chr)){\r\n              System.out.print(chr) ;\r\n           }\r\n           }\r\n        }\r\n     }\r\n    }","title":"Extract digits from a string in Java","body":"<pre><code>import java.util.*;\npublic class FindDigits{\n\n public static void main(String []args){\n    FindDigits h=new  FindDigits();\n    h.checkStringIsNumerical();\n }\n\n void checkStringIsNumerical(){\n    String h=\"hello 123 for the rest of the 98475wt355\";\n     for(int i=0;i&lt;h.length();i++)  {\n      if(h.charAt(i)!=' '){\n       System.out.println(\"Is this '\"+h.charAt(i)+\"' is a digit?:\"+Character.isDigit(h.charAt(i)));\n       }\n    }\n }\n\nvoid checkStringIsNumerical2(){\n    String h=\"hello 123 for 2the rest of the 98475wt355\";\n     for(int i=0;i&lt;h.length();i++)  {\n         char chr=h.charAt(i);\n      if(chr!=' '){\n       if(Character.isDigit(chr)){\n          System.out.print(chr) ;\n       }\n       }\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8428658,"reputation":3660,"user_id":6325119,"accept_rate":75,"display_name":"Joel Brostr&#246;m"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595332505,"creation_date":1595332505,"answer_id":63013988,"question_id":4030928,"body_markdown":"Using Kotlin and Lambda expressions you can do it like this:\r\n\r\n```\r\nval digitStr = str.filter { it.isDigit() }\r\n```","title":"Extract digits from a string in Java","body":"<p>Using Kotlin and Lambda expressions you can do it like this:</p>\n<pre><code>val digitStr = str.filter { it.isDigit() }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10077160,"reputation":51,"user_id":7448861,"display_name":"MidWinterNight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682667199,"creation_date":1682667199,"answer_id":76127231,"question_id":4030928,"body_markdown":"i use this, \r\n\r\n&gt; Kotlin\r\n\r\n    str.replace(&quot;[^0-9/]&quot;.toRegex(), &quot;&quot;)","title":"Extract digits from a string in Java","body":"<p>i use this,</p>\n<blockquote>\n<p>Kotlin</p>\n</blockquote>\n<pre><code>str.replace(&quot;[^0-9/]&quot;.toRegex(), &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":227043,"reputation":2303,"user_id":488469,"display_name":"user488469"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352062,"favorite_count":0,"down_vote_count":0,"up_vote_count":230,"accepted_answer_id":4030936,"answer_count":15,"score":230,"last_activity_date":1682667199,"creation_date":1288165295,"question_id":4030928,"body_markdown":"I have a Java `String` object. I need to extract only digits from it. I&#39;ll give an example:\r\n\r\n`&quot;123-456-789&quot;` I want `&quot;123456789&quot;`\r\n\r\nIs there a library function that extracts only digits?\r\n\r\nThanks for the answers. Before I try these I need to know if I have to install any additional llibraries?","title":"Extract digits from a string in Java","body":"<p>I have a Java <code>String</code> object. I need to extract only digits from it. I'll give an example:</p>\n\n<p><code>\"123-456-789\"</code> I want <code>\"123456789\"</code></p>\n\n<p>Is there a library function that extracts only digits?</p>\n\n<p>Thanks for the answers. Before I try these I need to know if I have to install any additional llibraries?</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":4187371,"reputation":4966,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":1,"creation_date":1507320893,"post_id":46612968,"comment_id":80178702,"body_markdown":"Can you post your `ContractHistory` entity?","body":"Can you post your <code>ContractHistory</code> entity?"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507321061,"post_id":46612968,"comment_id":80178775,"body_markdown":"yep I did, but it&#39;s a normal entity, and just a hint, I&#39;m retreiving the data from `SalaryHistory` without any problem and they have the same mapping","body":"yep I did, but it&#39;s a normal entity, and just a hint, I&#39;m retreiving the data from <code>SalaryHistory</code> without any problem and they have the same mapping"},{"owner":{"account_id":4187371,"reputation":4966,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":0,"creation_date":1507321190,"post_id":46612968,"comment_id":80178848,"body_markdown":"Are you able to turn on [sql logging](https://stackoverflow.com/a/1713464/3430807)? If so can you post some of the log?","body":"Are you able to turn on <a href=\"https://stackoverflow.com/a/1713464/3430807\">sql logging</a>? If so can you post some of the log?"},{"owner":{"account_id":4468601,"reputation":7637,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1507321479,"post_id":46612968,"comment_id":80178977,"body_markdown":"I think you have an entry in `ID_CONTRACT_HISTORY=108` in your `History` table but this id does not exist in your `ContractHistory` table. Can you post some screenshots of the contents of those 2 database tables ?","body":"I think you have an entry in <code>ID_CONTRACT_HISTORY=108</code> in your <code>History</code> table but this id does not exist in your <code>ContractHistory</code> table. Can you post some screenshots of the contents of those 2 database tables ?"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507321913,"post_id":46612968,"comment_id":80179152,"body_markdown":"I&#39;ve added screenshot, @Andreas, Just a sec I&#39;ll give the query","body":"I&#39;ve added screenshot, @Andreas, Just a sec I&#39;ll give the query"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507322168,"post_id":46612968,"comment_id":80179259,"body_markdown":"@Andreas, SQL query added","body":"@Andreas, SQL query added"},{"owner":{"account_id":11901167,"reputation":381,"user_id":8709124,"display_name":"Madhu Reddy"},"score":0,"creation_date":1507322515,"post_id":46612968,"comment_id":80179386,"body_markdown":"in which entity is this eventDate attribute there???","body":"in which entity is this eventDate attribute there???"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507322692,"post_id":46612968,"comment_id":80179448,"body_markdown":"it&#39;s in History Entity","body":"it&#39;s in History Entity"},{"owner":{"account_id":4468601,"reputation":7637,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1507322709,"post_id":46612968,"comment_id":80179453,"body_markdown":"Do you get any result if you run: `CompanyContractHistory  result = entityManager\n            .createQuery(\n                    &quot;SELECT ch FROM CompanyContractHistory ch WHERE ch.id=108&quot;, CompanyContractHistory.class).getSingleResult();`   ??","body":"Do you get any result if you run: <code>CompanyContractHistory  result = entityManager             .createQuery(                     &quot;SELECT ch FROM CompanyContractHistory ch WHERE ch.id=108&quot;, CompanyContractHistory.class).getSingleResult();</code>   ??"},{"owner":{"account_id":4187371,"reputation":4966,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":0,"creation_date":1507322843,"post_id":46612968,"comment_id":80179504,"body_markdown":"At the point where your dao is pulling back `History`, is a transaction in progress? Perhaps from within the transaction the row has been deleted.","body":"At the point where your dao is pulling back <code>History</code>, is a transaction in progress? Perhaps from within the transaction the row has been deleted."},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507323052,"post_id":46612968,"comment_id":80179579,"body_markdown":"@pleft, yep I&#39;m getting a result and it&#39;s the actual data*","body":"@pleft, yep I&#39;m getting a result and it&#39;s the actual data*"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507323140,"post_id":46612968,"comment_id":80179623,"body_markdown":"@Andreas, before I execute this query I have another one just before that that counts the rows in the History entity","body":"@Andreas, before I execute this query I have another one just before that that counts the rows in the History entity"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507323223,"post_id":46612968,"comment_id":80179649,"body_markdown":"eeeeh, Just now I puted the query @pleft gave me just before the other one, like this : `CompanyContractHistory resultc = entityManager\n\t\t\t\t.createQuery(&quot;SELECT ch FROM CompanyContractHistory ch WHERE ch.id=108&quot;, CompanyContractHistory.class)\n\t\t\t\t.getSingleResult();\n\t\t\n\t\tList&lt;History&gt; result = new ArrayList&lt;History&gt;();\n\t\tresult = entityManager\n\t\t\t\t.createQuery(\n\t\t\t\t\t\t&quot;SELECT h FROM History h  ORDER BY gb.eventDate DESC&quot;,\n\t\t\t\t\t\tHistory.class)\n\t\t\t\t.setMaxResults(gHistoriesCount).getResultList();`","body":"eeeeh, Just now I puted the query @pleft gave me just before the other one, like this : <code>CompanyContractHistory resultc = entityManager \t\t\t\t.createQuery(&quot;SELECT ch FROM CompanyContractHistory ch WHERE ch.id=108&quot;, CompanyContractHistory.class) \t\t\t\t.getSingleResult(); \t\t \t\tList&lt;History&gt; result = new ArrayList&lt;History&gt;(); \t\tresult = entityManager \t\t\t\t.createQuery( \t\t\t\t\t\t&quot;SELECT h FROM History h  ORDER BY gb.eventDate DESC&quot;, \t\t\t\t\t\tHistory.class) \t\t\t\t.setMaxResults(gHistoriesCount).getResultList();</code>"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507323334,"post_id":46612968,"comment_id":80179703,"body_markdown":"And I did receive the line 108 !!","body":"And I did receive the line 108 !!"},{"owner":{"account_id":4187371,"reputation":4966,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":0,"creation_date":1507323918,"post_id":46612968,"comment_id":80179949,"body_markdown":"Is there a difference between CompanyContractHistory and ContractHistory ?","body":"Is there a difference between CompanyContractHistory and ContractHistory ?"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507323956,"post_id":46612968,"comment_id":80179965,"body_markdown":"if it&#39;s like @Andreas said about the transaction(comment N&#176;10), how should I proceed?","body":"if it&#39;s like @Andreas said about the transaction(comment N&#176;10), how should I proceed?"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507324004,"post_id":46612968,"comment_id":80179980,"body_markdown":"@Andreas, no it&#39;s the same entity, i&#39;ve just changed the names for the pupose of this post","body":"@Andreas, no it&#39;s the same entity, i&#39;ve just changed the names for the pupose of this post"},{"owner":{"account_id":4187371,"reputation":4966,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":0,"creation_date":1507324135,"post_id":46612968,"comment_id":80180033,"body_markdown":"If you are getting 108 back while in the same transaction that isn&#39;t a problem.","body":"If you are getting 108 back while in the same transaction that isn&#39;t a problem."},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507324484,"post_id":46612968,"comment_id":80180176,"body_markdown":"Yes I&#39;m getting back that 108 line in the same transaction","body":"Yes I&#39;m getting back that 108 line in the same transaction"},{"owner":{"account_id":4187371,"reputation":4966,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"score":0,"creation_date":1507326417,"post_id":46612968,"comment_id":80180815,"body_markdown":"I&#39;m out of ideas, sorry. If you post a minimal verifiable example, I&#39;d be glad to pull it down and run it.","body":"I&#39;m out of ideas, sorry. If you post a minimal verifiable example, I&#39;d be glad to pull it down and run it."},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507331689,"post_id":46612968,"comment_id":80182162,"body_markdown":"Ok, thanks, I&#39;ll try to do that","body":"Ok, thanks, I&#39;ll try to do that"},{"owner":{"account_id":3417936,"reputation":1904,"user_id":2866298,"accept_rate":63,"display_name":"osama yaccoub"},"score":0,"creation_date":1507534800,"post_id":46612968,"comment_id":80231438,"body_markdown":"Are you getting this exception inside `findLastHistoriesByCount`  or after returning, may be the entity is detached so you are not able to navigate its graph further more.","body":"Are you getting this exception inside <code>findLastHistoriesByCount</code>  or after returning, may be the entity is detached so you are not able to navigate its graph further more."},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507538017,"post_id":46612968,"comment_id":80233124,"body_markdown":"After `findLastHistoriesByCount`, But I&#39;ve tried and removed the mentionned method and the same exception occur again*","body":"After <code>findLastHistoriesByCount</code>, But I&#39;ve tried and removed the mentionned method and the same exception occur again*"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1659682244,"post_id":46612968,"comment_id":129356581,"body_markdown":"https://stackoverflow.com/questions/73234549/javax-persistence-entitynotfoundexception-unable-to-find-entity-with-id","body":"<a href=\"https://stackoverflow.com/questions/73234549/javax-persistence-entitynotfoundexception-unable-to-find-entity-with-id\" title=\"javax persistence entitynotfoundexception unable to find entity with id\">stackoverflow.com/questions/73234549/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507320341,"post_id":46613151,"comment_id":80178465,"body_markdown":"yeah, thanks but I forgot to mention, I already seen this solution and for me it&#39;s just a bypass and I want a solution that retreive the row cause it&#39;s there and my code is correct, at least I think so","body":"yeah, thanks but I forgot to mention, I already seen this solution and for me it&#39;s just a bypass and I want a solution that retreive the row cause it&#39;s there and my code is correct, at least I think so"},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1507320738,"post_id":46613151,"comment_id":80178633,"body_markdown":"@MoatezBouhdid which version of hibernate/jpa?","body":"@MoatezBouhdid which version of hibernate/jpa?"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507320885,"post_id":46613151,"comment_id":80178700,"body_markdown":"Hibernate : 3.2.6.ga | JPA : 2.1","body":"Hibernate : 3.2.6.ga | JPA : 2.1"},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1507321611,"post_id":46613151,"comment_id":80179023,"body_markdown":"my guess would be is that entity was marked as removed but somehow refresh failed from DB","body":"my guess would be is that entity was marked as removed but somehow refresh failed from DB"},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1507322091,"post_id":46613151,"comment_id":80179227,"body_markdown":"it was marked as removed doesn&#39;t mean it is removed really from DB and if the load fails it will not be visible","body":"it was marked as removed doesn&#39;t mean it is removed really from DB and if the load fails it will not be visible"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507322154,"post_id":46613151,"comment_id":80179254,"body_markdown":"then how should I proceed ?","body":"then how should I proceed ?"},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":0,"creation_date":1507322344,"post_id":46613151,"comment_id":80179325,"body_markdown":"I&#39;ve tried it and I&#39;m getting null while fetching that special data","body":"I&#39;ve tried it and I&#39;m getting null while fetching that special data"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1659682287,"post_id":46613151,"comment_id":129356590,"body_markdown":"@KhalilM   https://stackoverflow.com/questions/73234549/javax-persistence-entitynotfoundexception-unable-to-find-entity-with-id","body":"@KhalilM   <a href=\"https://stackoverflow.com/questions/73234549/javax-persistence-entitynotfoundexception-unable-to-find-entity-with-id\" title=\"javax persistence entitynotfoundexception unable to find entity with id\">stackoverflow.com/questions/73234549/&hellip;</a>"},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1659698947,"post_id":46613151,"comment_id":129361968,"body_markdown":"@KJEjava48 I saw your question, maybe your answer is here","body":"@KJEjava48 I saw your question, maybe your answer is here"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1659703675,"post_id":46613151,"comment_id":129363737,"body_markdown":"this will just bypass the result even if the data is there","body":"this will just bypass the result even if the data is there"},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1659728555,"post_id":46613151,"comment_id":129371859,"body_markdown":"If the data is there it will be shown and we wont have this issue at all this is absurde, please read about the annotation @NotFound , and read well my explanation in comments , besides your answer says nothing, you do not know what you did.....","body":"If the data is there it will be shown and we wont have this issue at all this is absurde, please read about the annotation @NotFound , and read well my explanation in comments , besides your answer says nothing, you do not know what you did....."},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1659728773,"post_id":46613151,"comment_id":129371915,"body_markdown":"Neither the exact reason or root cause, pure luck  you had it work, I dont do luck if you have logic explanation I&#39;ll take it, meanwhile you can test my &quot;bypass&quot;","body":"Neither the exact reason or root cause, pure luck  you had it work, I dont do luck if you have logic explanation I&#39;ll take it, meanwhile you can test my &quot;bypass&quot;"},{"owner":{"account_id":2311085,"reputation":149,"user_id":2029198,"display_name":"Hiro_Hamada"},"score":0,"creation_date":1691582435,"post_id":46613151,"comment_id":135510585,"body_markdown":"@KhalilM what is the exact cause of this issue ?\ni also faced this issue. ( the entity is found in the db but still facing it )","body":"@KhalilM what is the exact cause of this issue ? i also faced this issue. ( the entity is found in the db but still facing it )"},{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1691597669,"post_id":46613151,"comment_id":135514190,"body_markdown":"@Hiro_Hamada its in the comms","body":"@Hiro_Hamada its in the comms"}],"tags":[],"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"comment_count":14,"down_vote_count":3,"up_vote_count":45,"is_accepted":false,"score":42,"last_activity_date":1507320082,"creation_date":1507320082,"answer_id":46613151,"question_id":46612968,"body_markdown":"try with: \r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n","title":"Hibernate - unable to find Entity with ID","body":"<p>try with: </p>\n\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@NotFound(action = NotFoundAction.IGNORE)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4588501,"reputation":1267,"user_id":3722490,"accept_rate":43,"display_name":"Stelium"},"score":4,"creation_date":1507551301,"post_id":46644968,"comment_id":80241359,"body_markdown":"that was not even in your question. :(","body":"that was not even in your question. :("},{"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"score":1,"creation_date":1507552081,"post_id":46644968,"comment_id":80241863,"body_markdown":"Yeah I didn&#39;t it was relevant and it&#39;s impact was in the SQL Query I posted :)","body":"Yeah I didn&#39;t it was relevant and it&#39;s impact was in the SQL Query I posted :)"},{"owner":{"account_id":2823210,"reputation":508,"user_id":2426445,"display_name":"kosgeinsky"},"score":0,"creation_date":1520574157,"post_id":46644968,"comment_id":85379854,"body_markdown":"@MoatezBouhdid I experienced this problem yesterday when I switched from Postgresql to Oracle. Turned out the table constraints were not set in Oracle. It worked once I added the foreign keys. Could this have been your initial situation?","body":"@MoatezBouhdid I experienced this problem yesterday when I switched from Postgresql to Oracle. Turned out the table constraints were not set in Oracle. It worked once I added the foreign keys. Could this have been your initial situation?"},{"owner":{"account_id":12169955,"reputation":160,"user_id":8884969,"display_name":"Nadeem Haider"},"score":0,"creation_date":1575655980,"post_id":46644968,"comment_id":104652286,"body_markdown":"@MoatezBouhdid I am facing a similar issue but removing the optinal=false is also not working in my case. Can you suggest any other option.","body":"@MoatezBouhdid I am facing a similar issue but removing the optinal=false is also not working in my case. Can you suggest any other option."},{"owner":{"account_id":5923609,"reputation":51,"user_id":4660267,"display_name":"david00f"},"score":2,"creation_date":1582545471,"post_id":46644968,"comment_id":106802134,"body_markdown":"@NadeemHaider pay attention about FetchTyp. In my case it was set up to EAGER loading for the other side in the bidirectional relation. It should be LAZY","body":"@NadeemHaider pay attention about FetchTyp. In my case it was set up to EAGER loading for the other side in the bidirectional relation. It should be LAZY"},{"owner":{"account_id":4531095,"reputation":1545,"user_id":3681565,"display_name":"Gaspar"},"score":0,"creation_date":1586285331,"post_id":46644968,"comment_id":108071666,"body_markdown":"@dappler that was my problem (missing `(fetch = FetchType.LAZY)` in other attribute) thank you very much","body":"@dappler that was my problem (missing <code>(fetch = FetchType.LAZY)</code> in other attribute) thank you very much"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1659520269,"post_id":46644968,"comment_id":129312456,"body_markdown":"@MoatezBouhdid I have exactly the same problem and its not working with this solution also..","body":"@MoatezBouhdid I have exactly the same problem and its not working with this solution also.."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1659682271,"post_id":46644968,"comment_id":129356588,"body_markdown":"@MoatezBouhdid  https://stackoverflow.com/questions/73234549/javax-persistence-entitynotfoundexception-unable-to-find-entity-with-id","body":"@MoatezBouhdid  <a href=\"https://stackoverflow.com/questions/73234549/javax-persistence-entitynotfoundexception-unable-to-find-entity-with-id\" title=\"javax persistence entitynotfoundexception unable to find entity with id\">stackoverflow.com/questions/73234549/&hellip;</a>"}],"tags":[],"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"comment_count":8,"down_vote_count":4,"up_vote_count":13,"is_accepted":true,"score":9,"last_activity_date":1662547118,"creation_date":1507547137,"answer_id":46644968,"question_id":46612968,"body_markdown":"I found the solution :\r\n\r\nIn my ContractHistory I have :\r\n\r\n    public class ContractHistory extends implements Serializable {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy=GenerationType.AUTO)\r\n      private int id;\r\n\r\n      @ManyToOne(optional = false)\r\n\t  @JoinColumn(name=&quot;ID_COMPANY_CONTRACT&quot;, nullable = true)\r\n\t  private CompanyContract companyContract;\r\n    \r\n      ...\r\n    }\r\n\r\nOnce I removed `optional = false` I did get the data without any Problem.\r\n\r\n**FIW :**  When you make the association mandatory (i.e. optional=false), it trusts you and assumes that an address exists, since the association is mandatory. So it directly populates the address field with a proxy, knowing that there is an address referencing the person ([SOF][1]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17987718/1926478","title":"Hibernate - unable to find Entity with ID","body":"<p>I found the solution :</p>\n<p>In my ContractHistory I have :</p>\n<pre><code>public class ContractHistory extends implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(strategy=GenerationType.AUTO)\n  private int id;\n\n  @ManyToOne(optional = false)\n  @JoinColumn(name=&quot;ID_COMPANY_CONTRACT&quot;, nullable = true)\n  private CompanyContract companyContract;\n\n  ...\n}\n</code></pre>\n<p>Once I removed <code>optional = false</code> I did get the data without any Problem.</p>\n<p><strong>FIW :</strong>  When you make the association mandatory (i.e. optional=false), it trusts you and assumes that an address exists, since the association is mandatory. So it directly populates the address field with a proxy, knowing that there is an address referencing the person (<a href=\"https://stackoverflow.com/a/17987718/1926478\">SOF</a>).</p>\n"},{"tags":[],"owner":{"account_id":19059881,"reputation":1,"user_id":13916226,"display_name":"Raj Prajapati"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672858148,"creation_date":1672858148,"answer_id":75009938,"question_id":46612968,"body_markdown":"I got similar problem|\r\nError it self explaining problem 100% correctly that there is no record with particular ID\r\n\r\nin My case I have 2 classes \r\n1. Book\r\n2. Publisher\r\nno mapping to books !!!\r\n\r\nearlier it was working fine (smooth)\r\n\r\nbut have have changed class name publisher to polishers with s so in mysql there were two table one with new name publishers with s and publisher \r\npublisher table has all the data but publishers with s has no data that&#39;s why it throwing \r\n\r\n &quot;org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.example.Books.Publishers.entity.Publisher with id 19&quot;\r\n\r\nerror in my case \r\n\r\nSolution:: remove the ambiguous table at the backend in my case i dropped publishers with s table and renamed publisher table name with publishers with s \r\n\r\nI am pretty sure this will help you @Moatez Bouhdid\r\n\r\n","title":"Hibernate - unable to find Entity with ID","body":"<p>I got similar problem|\nError it self explaining problem 100% correctly that there is no record with particular ID</p>\n<p>in My case I have 2 classes</p>\n<ol>\n<li>Book</li>\n<li>Publisher\nno mapping to books !!!</li>\n</ol>\n<p>earlier it was working fine (smooth)</p>\n<p>but have have changed class name publisher to polishers with s so in mysql there were two table one with new name publishers with s and publisher\npublisher table has all the data but publishers with s has no data that's why it throwing</p>\n<p>&quot;org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.example.Books.Publishers.entity.Publisher with id 19&quot;</p>\n<p>error in my case</p>\n<p>Solution:: remove the ambiguous table at the backend in my case i dropped publishers with s table and renamed publisher table name with publishers with s</p>\n<p>I am pretty sure this will help you @Moatez Bouhdid</p>\n"},{"tags":[],"owner":{"account_id":28411400,"reputation":11,"user_id":21734754,"display_name":"user21734754"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682666829,"creation_date":1682426060,"answer_id":76101230,"question_id":46612968,"body_markdown":"I found a solution:\r\n \r\nUse `cascade = CascadeType.ALL` with the Mapping annotation. In my case I used `@OneToMany` mapping like this:\r\n```\r\n@OneToMany(mappedBy = &quot;column_name_from_anther_table&quot;, cascade = CascadeType.ALL)\r\n```","title":"Hibernate - unable to find Entity with ID","body":"<p>I found a solution:</p>\n<p>Use <code>cascade = CascadeType.ALL</code> with the Mapping annotation. In my case I used <code>@OneToMany</code> mapping like this:</p>\n<pre><code>@OneToMany(mappedBy = &quot;column_name_from_anther_table&quot;, cascade = CascadeType.ALL)\n</code></pre>\n"}],"owner":{"account_id":2175767,"reputation":1561,"user_id":1926478,"accept_rate":74,"display_name":"OddDev"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78228,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":46644968,"answer_count":4,"score":13,"last_activity_date":1682666829,"creation_date":1507319238,"question_id":46612968,"body_markdown":"I&#39;m retreiving some data from the database in my DAO with this method : \r\n \r\n\r\n    @Override\r\n\t@Transactional\r\n\tpublic List&lt;History&gt; findLastHistoriesByCount(int gHistoriesCount) {\r\n\r\n\t\tList&lt;History&gt; result = new ArrayList&lt;History&gt;();\r\n\t\tresult = entityManager\r\n\t\t\t\t.createQuery(\r\n\t\t\t\t\t\t&quot;SELECT h FROM History h ORDER BY h.eventDate DESC&quot;,\r\n\t\t\t\t\t\tHistory.class).setMaxResults(gHistoriesCount).getResultList();\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\nand this is my History Class : \r\n\r\n \r\n\r\n    public class History implements Serializable {\r\n\r\n    ...\r\n \r\n    @ManyToOne\r\n\t@JoinColumn(name = &quot;ID_CONTRACT_HISTORY&quot;, nullable = true)\r\n\tprivate ContractHistory contractHistory;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;ID_SALARY_HISTORY&quot;, nullable = true)\r\n\tprivate SalaryHistory salaryHistory;\r\n\r\n    ...\r\n    }\r\n\r\nbut I&#39;m facing this exception : \r\n\r\n&gt; javax.persistence.EntityNotFoundException: Unable to find com.xxx.model.ContractHistory with id 108\r\n\r\nWhile I&#39;m sure I have that row in my database in the table ContractHistory\r\n\r\n***EDIT***\r\n\r\nI&#39;ve already seen the solution with `@NotFound` annotation and I don&#39;t want it cause it&#39;s just a bypass for me cause my data is there !! and I want to retreive it.\r\n\r\n***EDIT 2***\r\n**ContractHistory : **\r\n \r\n\r\n    public class ContractHistory extends implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate int id;\r\n    ...\r\n    }\r\n\r\n**EDIT 3 :**\r\n\r\n ***ContractHistory :*** (Don&#39;t mind the table names I&#39;ve changed it before only for this question : \r\n\r\n[![enter image description here][1]][1] \r\n\r\n***History :*** \r\n\r\n[![enter image description here][2]][2]\r\n\r\n***EDIT 4***\r\n\r\n*The sql query just before the exception :*\r\n\r\n   \r\n\r\n     Hibernate: \r\n    22:22:29,211 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     select\r\n    22:22:29,211 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.id as id234_13_,\r\n    22:22:29,212 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_COMPANY_CONTRACT as ID3_234_13_,\r\n    22:22:29,212 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_COMPANY_CONTRACT_AVENANT as ID4_234_13_,\r\n    22:22:29,212 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_EVENT_TYPE as ID5_234_13_,\r\n    22:22:29,213 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.timestamp as timestamp234_13_,\r\n    22:22:29,213 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_USER as ID6_234_13_,\r\n    22:22:29,213 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.id as id218_0_,\r\n    22:22:29,214 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.IDCLIENT as IDCLIENT218_0_,\r\n    22:22:29,214 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.endDate as endDate218_0_,\r\n    22:22:29,215 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.invoicePaymentDay as invoiceP3_218_0_,\r\n    22:22:29,215 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.percentage_Extra_Hours as percentage4_218_0_,\r\n    22:22:29,216 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.IDPROFILE as IDPROFILE218_0_,\r\n    22:22:29,216 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.rate as rate218_0_,\r\n    22:22:29,216 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.reference as reference218_0_,\r\n    22:22:29,217 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.secondRate as secondRate218_0_,\r\n    22:22:29,217 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.startDate as startDate218_0_,\r\n    22:22:29,218 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.thirdRate as thirdRate218_0_,\r\n    22:22:29,218 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.UPDATE_TIMESTAMP as UPDATE10_218_0_,\r\n    22:22:29,218 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.IDUSER as IDUSER218_0_,\r\n    22:22:29,219 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.id as id215_1_,\r\n    22:22:29,219 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.address as address215_1_,\r\n    22:22:29,219 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.BILLING_ADDRESS as BILLING3_215_1_,\r\n    22:22:29,220 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.CLIENT_NAME as CLIENT4_215_1_,\r\n    22:22:29,220 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.COMMENTS as COMMENTS215_1_,\r\n    22:22:29,220 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.IDCOMPANY as IDCOMPANY215_1_,\r\n    22:22:29,221 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.logo as logo215_1_,\r\n    22:22:29,221 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.siren as siren215_1_,\r\n    22:22:29,222 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.TVA_INTRACOMMUNAUTAIRE as TVA8_215_1_,\r\n    22:22:29,222 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.UPDATE_TIMESTAMP as UPDATE9_215_1_,\r\n    22:22:29,222 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.IDZIPCODE as IDZIPCODE215_1_,\r\n    22:22:29,223 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.id as id178_2_,\r\n    22:22:29,223 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.CV_FILENAME_PATH as CV2_178_2_,\r\n    22:22:29,223 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.birthdate as birthdate178_2_,\r\n    22:22:29,224 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDCIVILITY as IDCIVILITY178_2_,\r\n    22:22:29,225 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDCOMPANY as IDCOMPANY178_2_,\r\n    22:22:29,225 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDCOUNTRY as IDCOUNTRY178_2_,\r\n    22:22:29,226 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.deleted as deleted178_2_,\r\n    22:22:29,226 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.disponibility as disponib5_178_2_,\r\n    22:22:29,226 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.ENTRANCE_DATE as ENTRANCE6_178_2_,\r\n    22:22:29,227 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.EXIT_DATE as EXIT7_178_2_,\r\n    22:22:29,227 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.EXTERNE as EXTERNE178_2_,\r\n    22:22:29,227 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.firstname as firstname178_2_,\r\n    22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IMMEDIATE_DISPONIBILITY as IMMEDIATE10_178_2_,\r\n    22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.lastname as lastname178_2_,\r\n    22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.mail as mail178_2_,\r\n    22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.OWNER as OWNER178_2_,\r\n    22:22:29,229 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.photo as photo178_2_,\r\n    22:22:29,229 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.SOCIALESECURITYCODE as SOCIALE14_178_2_,\r\n    22:22:29,230 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.UPDATE_TIMESTAMP as UPDATE15_178_2_,\r\n    22:22:29,230 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDZIPCODE as IDZIPCODE178_2_,\r\n    22:22:29,230 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.id as id165_3_,\r\n    22:22:29,231 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.IDCIVILITY as IDCIVILITY165_3_,\r\n    22:22:29,231 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.ID_COMPANY as ID10_165_3_,\r\n    22:22:29,231 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.Fax_Number as Fax2_165_3_,\r\n    22:22:29,232 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.First_Name as First3_165_3_,\r\n    22:22:29,232 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.Last_Name as Last4_165_3_,\r\n    22:22:29,232 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.Mail_Address as Mail5_165_3_,\r\n    22:22:29,233 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.password as password165_3_,\r\n    22:22:29,233 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.phone_Number as phone7_165_3_,\r\n    22:22:29,233 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.photo as photo165_3_,\r\n    22:22:29,234 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.IDPROFILE as IDPROFILE165_3_,\r\n    22:22:29,234 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.IDUSERROLE as IDUSERROLE165_3_,\r\n    22:22:29,235 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.id as id219_4_,\r\n    22:22:29,235 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.ID_COMPANY_CONTRACT as ID11_219_4_,\r\n    22:22:29,235 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.dateAvenant as dateAven2_219_4_,\r\n    22:22:29,236 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.endDate as endDate219_4_,\r\n    22:22:29,236 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.invoicePaymentDay as invoiceP4_219_4_,\r\n    22:22:29,236 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.rate as rate219_4_,\r\n    22:22:29,237 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.reference as reference219_4_,\r\n    22:22:29,237 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.secondRate as secondRate219_4_,\r\n    22:22:29,238 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.startDate as startDate219_4_,\r\n    22:22:29,238 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.thirdRate as thirdRate219_4_,\r\n    22:22:29,238 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.UPDATE_TIMESTAMP as UPDATE10_219_4_,\r\n    22:22:29,239 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.IDUSER as IDUSER219_4_,\r\n    22:22:29,239 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.id as id218_5_,\r\n    22:22:29,239 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.IDCLIENT as IDCLIENT218_5_,\r\n    22:22:29,240 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.endDate as endDate218_5_,\r\n    22:22:29,240 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.invoicePaymentDay as invoiceP3_218_5_,\r\n    22:22:29,240 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.percentage_Extra_Hours as percentage4_218_5_,\r\n    22:22:29,241 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.IDPROFILE as IDPROFILE218_5_,\r\n    22:22:29,241 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.rate as rate218_5_,\r\n    22:22:29,241 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.reference as reference218_5_,\r\n    22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.secondRate as secondRate218_5_,\r\n    22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.startDate as startDate218_5_,\r\n    22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.thirdRate as thirdRate218_5_,\r\n    22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.UPDATE_TIMESTAMP as UPDATE10_218_5_,\r\n    22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.IDUSER as IDUSER218_5_,\r\n    22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.id as id165_6_,\r\n    22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.IDCIVILITY as IDCIVILITY165_6_,\r\n    22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.ID_COMPANY as ID10_165_6_,\r\n    22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.Fax_Number as Fax2_165_6_,\r\n    22:22:29,244 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.First_Name as First3_165_6_,\r\n    22:22:29,244 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.Last_Name as Last4_165_6_,\r\n    22:22:29,244 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.Mail_Address as Mail5_165_6_,\r\n    22:22:29,246 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.password as password165_6_,\r\n    22:22:29,246 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.phone_Number as phone7_165_6_,\r\n    22:22:29,246 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.photo as photo165_6_,\r\n    22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.IDPROFILE as IDPROFILE165_6_,\r\n    22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.IDUSERROLE as IDUSERROLE165_6_,\r\n    22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon8_.id as id233_7_,\r\n    22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon8_.CODE_EVENT_TYPE as CODE2_233_7_,\r\n    22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon8_.libelle as libelle233_7_,\r\n    22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.id as id165_8_,\r\n    22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.IDCIVILITY as IDCIVILITY165_8_,\r\n    22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.ID_COMPANY as ID10_165_8_,\r\n    22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.Fax_Number as Fax2_165_8_,\r\n    22:22:29,249 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.First_Name as First3_165_8_,\r\n    22:22:29,249 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.Last_Name as Last4_165_8_,\r\n    22:22:29,249 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.Mail_Address as Mail5_165_8_,\r\n    22:22:29,250 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.password as password165_8_,\r\n    22:22:29,250 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.phone_Number as phone7_165_8_,\r\n    22:22:29,250 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.photo as photo165_8_,\r\n    22:22:29,251 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.IDPROFILE as IDPROFILE165_8_,\r\n    22:22:29,251 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.IDUSERROLE as IDUSERROLE165_8_,\r\n    22:22:29,252 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         civility10_.id as id167_9_,\r\n    22:22:29,252 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         civility10_.civility as civility167_9_,\r\n    22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.id as id169_10_,\r\n    22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.ID_TYPE as ID12_169_10_,\r\n    22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.companyname as companyn2_169_10_,\r\n    22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.CONTACT_MAIL as CONTACT3_169_10_,\r\n    22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.CONTACT_NAME as CONTACT4_169_10_,\r\n    22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.CONTACT_PHONE as CONTACT5_169_10_,\r\n    22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.description as descript6_169_10_,\r\n    22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.logo as logo169_10_,\r\n    22:22:29,255 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.siren as siren169_10_,\r\n    22:22:29,255 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.staffing as staffing169_10_,\r\n    22:22:29,255 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.street as street169_10_,\r\n    22:22:29,256 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.website as website169_10_,\r\n    22:22:29,256 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.IDZIPCODE as IDZIPCODE169_10_,\r\n    22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.id as id178_11_,\r\n    22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.CV_FILENAME_PATH as CV2_178_11_,\r\n    22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.birthdate as birthdate178_11_,\r\n    22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDCIVILITY as IDCIVILITY178_11_,\r\n    22:22:29,258 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDCOMPANY as IDCOMPANY178_11_,\r\n    22:22:29,258 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDCOUNTRY as IDCOUNTRY178_11_,\r\n    22:22:29,258 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.deleted as deleted178_11_,\r\n    22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.disponibility as disponib5_178_11_,\r\n    22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.ENTRANCE_DATE as ENTRANCE6_178_11_,\r\n    22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.EXIT_DATE as EXIT7_178_11_,\r\n    22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.EXTERNE as EXTERNE178_11_,\r\n    22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.firstname as firstname178_11_,\r\n    22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IMMEDIATE_DISPONIBILITY as IMMEDIATE10_178_11_,\r\n    22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.lastname as lastname178_11_,\r\n    22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.mail as mail178_11_,\r\n    22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.OWNER as OWNER178_11_,\r\n    22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.photo as photo178_11_,\r\n    22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.SOCIALESECURITYCODE as SOCIALE14_178_11_,\r\n    22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.UPDATE_TIMESTAMP as UPDATE15_178_11_,\r\n    22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDZIPCODE as IDZIPCODE178_11_,\r\n    22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         userrole13_.id as id217_12_,\r\n    22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         userrole13_.LABEL as LABEL217_12_ \r\n    22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     from\r\n    22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract_history companycon0_ \r\n    22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\r\n    22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract companycon1_ \r\n    22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_COMPANY_CONTRACT=companycon1_.id \r\n    22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client client2_ \r\n    22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon1_.IDCLIENT=client2_.id \r\n    22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile profile3_ \r\n    22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon1_.IDPROFILE=profile3_.id \r\n    22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user user4_ \r\n    22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon1_.IDUSER=user4_.id \r\n    22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\r\n    22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract_avenant companycon5_ \r\n    22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_COMPANY_CONTRACT_AVENANT=companycon5_.id \r\n    22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract companycon6_ \r\n    22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon5_.ID_COMPANY_CONTRACT=companycon6_.id \r\n    22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user user7_ \r\n    22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon5_.IDUSER=user7_.id \r\n    22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\r\n    22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract_event_type companycon8_ \r\n    22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_EVENT_TYPE=companycon8_.id \r\n    22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\r\n    22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user user9_ \r\n    22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_USER=user9_.id \r\n    22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         civility civility10_ \r\n    22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.IDCIVILITY=civility10_.id \r\n    22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company company11_ \r\n    22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.ID_COMPANY=company11_.id \r\n    22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile profile12_ \r\n    22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.IDPROFILE=profile12_.id \r\n    22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\r\n    22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user_role userrole13_ \r\n    22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.IDUSERROLE=userrole13_.id \r\n    22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     where\r\n    22:22:29,271 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.id=?\r\n    \r\n    22:22:29,273 GRAVE [org.zkoss] (http-localhost-127.0.0.1-8888-1) : javax.persistence.EntityNotFoundException: Unable to find com.epro.model.CompanyContractHistory with id 108\r\n\r\n***EDIT 5 :***\r\n\r\n I changed the query to : &quot;SELECT gb FROM GlobalHistory gb LEFT JOIN FETCH gb.companyContractHistory cc where gb.id = 544 and cc.id = 108&quot;\r\n\r\nAnd with that I did get the line !! (Notice I&#39;m using ***JOIN FETCH***), any one care to explain ?\r\n\r\n  [1]: https://i.stack.imgur.com/PVTTZ.png\r\n  [2]: https://i.stack.imgur.com/519XO.png","title":"Hibernate - unable to find Entity with ID","body":"<p>I'm retreiving some data from the database in my DAO with this method : </p>\n\n<pre><code>@Override\n@Transactional\npublic List&lt;History&gt; findLastHistoriesByCount(int gHistoriesCount) {\n\n    List&lt;History&gt; result = new ArrayList&lt;History&gt;();\n    result = entityManager\n            .createQuery(\n                    \"SELECT h FROM History h ORDER BY h.eventDate DESC\",\n                    History.class).setMaxResults(gHistoriesCount).getResultList();\n\n    return result;\n}\n</code></pre>\n\n<p>and this is my History Class : </p>\n\n<pre><code>public class History implements Serializable {\n\n...\n\n@ManyToOne\n@JoinColumn(name = \"ID_CONTRACT_HISTORY\", nullable = true)\nprivate ContractHistory contractHistory;\n\n@ManyToOne\n@JoinColumn(name = \"ID_SALARY_HISTORY\", nullable = true)\nprivate SalaryHistory salaryHistory;\n\n...\n}\n</code></pre>\n\n<p>but I'm facing this exception : </p>\n\n<blockquote>\n  <p>javax.persistence.EntityNotFoundException: Unable to find com.xxx.model.ContractHistory with id 108</p>\n</blockquote>\n\n<p>While I'm sure I have that row in my database in the table ContractHistory</p>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>I've already seen the solution with <code>@NotFound</code> annotation and I don't want it cause it's just a bypass for me cause my data is there !! and I want to retreive it.</p>\n\n<p><strong><em>EDIT 2</em></strong>\n**ContractHistory : **</p>\n\n<pre><code>public class ContractHistory extends implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate int id;\n...\n}\n</code></pre>\n\n<p><strong>EDIT 3 :</strong></p>\n\n<p><strong><em>ContractHistory :</em></strong> (Don't mind the table names I've changed it before only for this question : </p>\n\n<p><a href=\"https://i.stack.imgur.com/PVTTZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PVTTZ.png\" alt=\"enter image description here\"></a> </p>\n\n<p><strong><em>History :</em></strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/519XO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/519XO.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>EDIT 4</em></strong></p>\n\n<p><em>The sql query just before the exception :</em></p>\n\n<pre><code> Hibernate: \n22:22:29,211 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     select\n22:22:29,211 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.id as id234_13_,\n22:22:29,212 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_COMPANY_CONTRACT as ID3_234_13_,\n22:22:29,212 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_COMPANY_CONTRACT_AVENANT as ID4_234_13_,\n22:22:29,212 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_EVENT_TYPE as ID5_234_13_,\n22:22:29,213 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.timestamp as timestamp234_13_,\n22:22:29,213 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.ID_USER as ID6_234_13_,\n22:22:29,213 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.id as id218_0_,\n22:22:29,214 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.IDCLIENT as IDCLIENT218_0_,\n22:22:29,214 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.endDate as endDate218_0_,\n22:22:29,215 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.invoicePaymentDay as invoiceP3_218_0_,\n22:22:29,215 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.percentage_Extra_Hours as percentage4_218_0_,\n22:22:29,216 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.IDPROFILE as IDPROFILE218_0_,\n22:22:29,216 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.rate as rate218_0_,\n22:22:29,216 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.reference as reference218_0_,\n22:22:29,217 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.secondRate as secondRate218_0_,\n22:22:29,217 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.startDate as startDate218_0_,\n22:22:29,218 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.thirdRate as thirdRate218_0_,\n22:22:29,218 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.UPDATE_TIMESTAMP as UPDATE10_218_0_,\n22:22:29,218 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon1_.IDUSER as IDUSER218_0_,\n22:22:29,219 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.id as id215_1_,\n22:22:29,219 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.address as address215_1_,\n22:22:29,219 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.BILLING_ADDRESS as BILLING3_215_1_,\n22:22:29,220 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.CLIENT_NAME as CLIENT4_215_1_,\n22:22:29,220 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.COMMENTS as COMMENTS215_1_,\n22:22:29,220 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.IDCOMPANY as IDCOMPANY215_1_,\n22:22:29,221 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.logo as logo215_1_,\n22:22:29,221 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.siren as siren215_1_,\n22:22:29,222 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.TVA_INTRACOMMUNAUTAIRE as TVA8_215_1_,\n22:22:29,222 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.UPDATE_TIMESTAMP as UPDATE9_215_1_,\n22:22:29,222 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client2_.IDZIPCODE as IDZIPCODE215_1_,\n22:22:29,223 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.id as id178_2_,\n22:22:29,223 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.CV_FILENAME_PATH as CV2_178_2_,\n22:22:29,223 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.birthdate as birthdate178_2_,\n22:22:29,224 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDCIVILITY as IDCIVILITY178_2_,\n22:22:29,225 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDCOMPANY as IDCOMPANY178_2_,\n22:22:29,225 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDCOUNTRY as IDCOUNTRY178_2_,\n22:22:29,226 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.deleted as deleted178_2_,\n22:22:29,226 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.disponibility as disponib5_178_2_,\n22:22:29,226 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.ENTRANCE_DATE as ENTRANCE6_178_2_,\n22:22:29,227 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.EXIT_DATE as EXIT7_178_2_,\n22:22:29,227 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.EXTERNE as EXTERNE178_2_,\n22:22:29,227 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.firstname as firstname178_2_,\n22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IMMEDIATE_DISPONIBILITY as IMMEDIATE10_178_2_,\n22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.lastname as lastname178_2_,\n22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.mail as mail178_2_,\n22:22:29,228 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.OWNER as OWNER178_2_,\n22:22:29,229 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.photo as photo178_2_,\n22:22:29,229 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.SOCIALESECURITYCODE as SOCIALE14_178_2_,\n22:22:29,230 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.UPDATE_TIMESTAMP as UPDATE15_178_2_,\n22:22:29,230 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile3_.IDZIPCODE as IDZIPCODE178_2_,\n22:22:29,230 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.id as id165_3_,\n22:22:29,231 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.IDCIVILITY as IDCIVILITY165_3_,\n22:22:29,231 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.ID_COMPANY as ID10_165_3_,\n22:22:29,231 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.Fax_Number as Fax2_165_3_,\n22:22:29,232 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.First_Name as First3_165_3_,\n22:22:29,232 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.Last_Name as Last4_165_3_,\n22:22:29,232 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.Mail_Address as Mail5_165_3_,\n22:22:29,233 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.password as password165_3_,\n22:22:29,233 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.phone_Number as phone7_165_3_,\n22:22:29,233 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.photo as photo165_3_,\n22:22:29,234 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.IDPROFILE as IDPROFILE165_3_,\n22:22:29,234 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user4_.IDUSERROLE as IDUSERROLE165_3_,\n22:22:29,235 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.id as id219_4_,\n22:22:29,235 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.ID_COMPANY_CONTRACT as ID11_219_4_,\n22:22:29,235 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.dateAvenant as dateAven2_219_4_,\n22:22:29,236 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.endDate as endDate219_4_,\n22:22:29,236 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.invoicePaymentDay as invoiceP4_219_4_,\n22:22:29,236 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.rate as rate219_4_,\n22:22:29,237 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.reference as reference219_4_,\n22:22:29,237 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.secondRate as secondRate219_4_,\n22:22:29,238 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.startDate as startDate219_4_,\n22:22:29,238 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.thirdRate as thirdRate219_4_,\n22:22:29,238 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.UPDATE_TIMESTAMP as UPDATE10_219_4_,\n22:22:29,239 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon5_.IDUSER as IDUSER219_4_,\n22:22:29,239 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.id as id218_5_,\n22:22:29,239 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.IDCLIENT as IDCLIENT218_5_,\n22:22:29,240 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.endDate as endDate218_5_,\n22:22:29,240 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.invoicePaymentDay as invoiceP3_218_5_,\n22:22:29,240 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.percentage_Extra_Hours as percentage4_218_5_,\n22:22:29,241 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.IDPROFILE as IDPROFILE218_5_,\n22:22:29,241 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.rate as rate218_5_,\n22:22:29,241 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.reference as reference218_5_,\n22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.secondRate as secondRate218_5_,\n22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.startDate as startDate218_5_,\n22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.thirdRate as thirdRate218_5_,\n22:22:29,242 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.UPDATE_TIMESTAMP as UPDATE10_218_5_,\n22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon6_.IDUSER as IDUSER218_5_,\n22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.id as id165_6_,\n22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.IDCIVILITY as IDCIVILITY165_6_,\n22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.ID_COMPANY as ID10_165_6_,\n22:22:29,243 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.Fax_Number as Fax2_165_6_,\n22:22:29,244 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.First_Name as First3_165_6_,\n22:22:29,244 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.Last_Name as Last4_165_6_,\n22:22:29,244 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.Mail_Address as Mail5_165_6_,\n22:22:29,246 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.password as password165_6_,\n22:22:29,246 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.phone_Number as phone7_165_6_,\n22:22:29,246 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.photo as photo165_6_,\n22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.IDPROFILE as IDPROFILE165_6_,\n22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user7_.IDUSERROLE as IDUSERROLE165_6_,\n22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon8_.id as id233_7_,\n22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon8_.CODE_EVENT_TYPE as CODE2_233_7_,\n22:22:29,247 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon8_.libelle as libelle233_7_,\n22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.id as id165_8_,\n22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.IDCIVILITY as IDCIVILITY165_8_,\n22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.ID_COMPANY as ID10_165_8_,\n22:22:29,248 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.Fax_Number as Fax2_165_8_,\n22:22:29,249 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.First_Name as First3_165_8_,\n22:22:29,249 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.Last_Name as Last4_165_8_,\n22:22:29,249 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.Mail_Address as Mail5_165_8_,\n22:22:29,250 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.password as password165_8_,\n22:22:29,250 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.phone_Number as phone7_165_8_,\n22:22:29,250 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.photo as photo165_8_,\n22:22:29,251 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.IDPROFILE as IDPROFILE165_8_,\n22:22:29,251 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user9_.IDUSERROLE as IDUSERROLE165_8_,\n22:22:29,252 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         civility10_.id as id167_9_,\n22:22:29,252 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         civility10_.civility as civility167_9_,\n22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.id as id169_10_,\n22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.ID_TYPE as ID12_169_10_,\n22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.companyname as companyn2_169_10_,\n22:22:29,253 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.CONTACT_MAIL as CONTACT3_169_10_,\n22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.CONTACT_NAME as CONTACT4_169_10_,\n22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.CONTACT_PHONE as CONTACT5_169_10_,\n22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.description as descript6_169_10_,\n22:22:29,254 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.logo as logo169_10_,\n22:22:29,255 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.siren as siren169_10_,\n22:22:29,255 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.staffing as staffing169_10_,\n22:22:29,255 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.street as street169_10_,\n22:22:29,256 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.website as website169_10_,\n22:22:29,256 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company11_.IDZIPCODE as IDZIPCODE169_10_,\n22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.id as id178_11_,\n22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.CV_FILENAME_PATH as CV2_178_11_,\n22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.birthdate as birthdate178_11_,\n22:22:29,257 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDCIVILITY as IDCIVILITY178_11_,\n22:22:29,258 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDCOMPANY as IDCOMPANY178_11_,\n22:22:29,258 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDCOUNTRY as IDCOUNTRY178_11_,\n22:22:29,258 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.deleted as deleted178_11_,\n22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.disponibility as disponib5_178_11_,\n22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.ENTRANCE_DATE as ENTRANCE6_178_11_,\n22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.EXIT_DATE as EXIT7_178_11_,\n22:22:29,259 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.EXTERNE as EXTERNE178_11_,\n22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.firstname as firstname178_11_,\n22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IMMEDIATE_DISPONIBILITY as IMMEDIATE10_178_11_,\n22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.lastname as lastname178_11_,\n22:22:29,260 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.mail as mail178_11_,\n22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.OWNER as OWNER178_11_,\n22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.photo as photo178_11_,\n22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.SOCIALESECURITYCODE as SOCIALE14_178_11_,\n22:22:29,261 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.UPDATE_TIMESTAMP as UPDATE15_178_11_,\n22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile12_.IDZIPCODE as IDZIPCODE178_11_,\n22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         userrole13_.id as id217_12_,\n22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         userrole13_.LABEL as LABEL217_12_ \n22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     from\n22:22:29,262 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract_history companycon0_ \n22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\n22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract companycon1_ \n22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_COMPANY_CONTRACT=companycon1_.id \n22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,263 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         client client2_ \n22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon1_.IDCLIENT=client2_.id \n22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile profile3_ \n22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon1_.IDPROFILE=profile3_.id \n22:22:29,264 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user user4_ \n22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon1_.IDUSER=user4_.id \n22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\n22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract_avenant companycon5_ \n22:22:29,265 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_COMPANY_CONTRACT_AVENANT=companycon5_.id \n22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract companycon6_ \n22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon5_.ID_COMPANY_CONTRACT=companycon6_.id \n22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,266 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user user7_ \n22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon5_.IDUSER=user7_.id \n22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\n22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company_contract_event_type companycon8_ \n22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_EVENT_TYPE=companycon8_.id \n22:22:29,267 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     inner join\n22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user user9_ \n22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on companycon0_.ID_USER=user9_.id \n22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         civility civility10_ \n22:22:29,268 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.IDCIVILITY=civility10_.id \n22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         company company11_ \n22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.ID_COMPANY=company11_.id \n22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,269 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         profile profile12_ \n22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.IDPROFILE=profile12_.id \n22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     left outer join\n22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         user_role userrole13_ \n22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)             on user9_.IDUSERROLE=userrole13_.id \n22:22:29,270 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)     where\n22:22:29,271 INFO  [stdout] (http-localhost-127.0.0.1-8888-1)         companycon0_.id=?\n\n22:22:29,273 GRAVE [org.zkoss] (http-localhost-127.0.0.1-8888-1) : javax.persistence.EntityNotFoundException: Unable to find com.epro.model.CompanyContractHistory with id 108\n</code></pre>\n\n<p><strong><em>EDIT 5 :</em></strong></p>\n\n<p>I changed the query to : \"SELECT gb FROM GlobalHistory gb LEFT JOIN FETCH gb.companyContractHistory cc where gb.id = 544 and cc.id = 108\"</p>\n\n<p>And with that I did get the line !! (Notice I'm using <strong><em>JOIN FETCH</em></strong>), any one care to explain ?</p>\n"},{"tags":["java","maven","jackson","lib"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1682668587,"post_id":76126961,"comment_id":134255075,"body_markdown":"Simply add both dependencies and remove the version in your dependencies because it&#39;s already defined via the bom file...","body":"Simply add both dependencies and remove the version in your dependencies because it&#39;s already defined via the bom file..."}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1682679286,"post_id":76127099,"comment_id":134257241,"body_markdown":"Nobody ever said this was a Spring or Spring Boot project. The only thing the question states is that it&#39;s an application running in Tomcat.","body":"Nobody ever said this was a Spring or Spring Boot project. The only thing the question states is that it&#39;s an application running in Tomcat."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682666663,"creation_date":1682665990,"answer_id":76127099,"question_id":76126961,"body_markdown":"You also need the jackson-databind dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am not sure why you are manipulating the Jackson versions. Only necessary if you do not want to use the version specified in the springboot-starter-parent. The following is sufficient to use the spring recommended Jackson version. Note no version mentioned:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you need to use another version of Jackson all you need is the [following][1]:\r\n\r\n    &lt;properties&gt;\r\n        &lt;jackson.version&gt;2.10.0&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46475554/how-to-override-the-version-numbers-from-spring-boot-when-importing-a-bom-pom","title":"package com.fasterxml.jackson.databind.annotation does not exist","body":"<p>You also need the jackson-databind dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am not sure why you are manipulating the Jackson versions. Only necessary if you do not want to use the version specified in the springboot-starter-parent. The following is sufficient to use the spring recommended Jackson version. Note no version mentioned:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you need to use another version of Jackson all you need is the <a href=\"https://stackoverflow.com/questions/46475554/how-to-override-the-version-numbers-from-spring-boot-when-importing-a-bom-pom\">following</a>:</p>\n<pre><code>&lt;properties&gt;\n    &lt;jackson.version&gt;2.10.0&lt;/jackson.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":11703162,"reputation":41,"user_id":8567531,"display_name":"Malindu  Dilshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76127099,"answer_count":1,"score":0,"last_activity_date":1682666663,"creation_date":1682664849,"question_id":76126961,"body_markdown":"I&#39;m trying to do `mvn clean install` and I&#39;m getting the below error. How can I resolve this, I even tried `mvn clean install -U` but it doesn&#39;t work at all. This is a java lib which add as a dependency for my main java project which is running in tomcat server.\r\n\r\n**package com.fasterxml.jackson.databind.annotation does not exist**\r\n\r\nMy pom.xml file as below,\r\n    \r\n    &lt;properties&gt;\r\n        &lt;jackson.version&gt;2.10.0&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"package com.fasterxml.jackson.databind.annotation does not exist","body":"<p>I'm trying to do <code>mvn clean install</code> and I'm getting the below error. How can I resolve this, I even tried <code>mvn clean install -U</code> but it doesn't work at all. This is a java lib which add as a dependency for my main java project which is running in tomcat server.</p>\n<p><strong>package com.fasterxml.jackson.databind.annotation does not exist</strong></p>\n<p>My pom.xml file as below,</p>\n<pre><code>&lt;properties&gt;\n    &lt;jackson.version&gt;2.10.0&lt;/jackson.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Jackson --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","amqp"],"answers":[{"tags":[],"owner":{"account_id":10253730,"reputation":11,"user_id":7567122,"display_name":"baiyang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682665974,"creation_date":1682665974,"answer_id":76127097,"question_id":63828188,"body_markdown":"because &#39;result.queue&#39; doesn&#39;t exist.\r\n\r\nfrom your code, you just declare one queue, should be &#39;request.queue&#39;\r\n\r\nyou need declare the &#39;result.queue&#39; also\r\n\r\nhope this help you","title":"RabbitMQ Exception: operation queue.declare caused a channel exception not_found in server side","body":"<p>because 'result.queue' doesn't exist.</p>\n<p>from your code, you just declare one queue, should be 'request.queue'</p>\n<p>you need declare the 'result.queue' also</p>\n<p>hope this help you</p>\n"}],"owner":{"account_id":7857501,"reputation":39,"user_id":5938832,"accept_rate":25,"display_name":"martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682665974,"creation_date":1599735327,"question_id":63828188,"body_markdown":"I define two queue &#39;request.queue&#39; and &#39;result.queue&#39; , my web UI produce message in the &#39;request.queue&#39; and then my python app consume it from the &#39;request.queue&#39; and start processing and then push result into the &#39;result.queue&#39; and finally result from &#39;result.queue&#39; show to user like [this link][1]. It works in my labtop with ubuntu 20.4 very well but when i put my all code into the server with ubuntu 20.4 os, it dose not work and create only &#39;request.queue&#39; and then throw an exception :(  &quot;operation queue.declare caused a channel exception not_found: no queue &#39;result.queue&#39; in vhost &#39;/&#39;&quot;\r\nand another log:\r\nSimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused (Connection refused)\r\n\r\nConsumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused (Connection refused)\r\n\r\nCaused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=404, reply-text=NOT_FOUND - no queue &#39;result.queue&#39; in vhost &#39;/&#39;, class-id=50, method-id=10)\r\n\r\nRabbitMq version in the serve is 3.8.8 and the version of Erlang is 23.0.3.\r\n\r\nAnyone can help me why my code on server throw an exception?\r\n\r\nMy java code with spring boot for declare queues is here:\r\n\r\n    @Configuration\r\n    public class RequestConfiguration extends RabbitMqConfiguration {\r\n        \r\n        @Value(&quot;${spring.rabbitmq.queue}&quot;)\r\n        String queueName;\r\n    \r\n        @Value(&quot;${spring.rabbitmq.exchange}&quot;)\r\n        String exchange;\r\n    \r\n        @Value(&quot;${spring.rabbitmq.routingkey}&quot;)\r\n        String routingkey;\r\n    \r\n        @Bean\r\n        Queue queue() {\r\n            return new Queue(queueName, true);\r\n       }\r\n    \r\n        @Bean\r\n        DirectExchange exchange() {\r\n            return new DirectExchange(exchange);\r\n        }\r\n    \r\n        @Bean\r\n        Binding binding(Queue queue, DirectExchange exchange) {\r\n            return BindingBuilder.bind(queue).to(exchange).with(routingkey);\r\n        }\r\n    \r\n        @Bean\r\n        public MessageConverter jsonMessageConverter() {\r\n            return new Jackson2JsonMessageConverter();\r\n        }\r\n    \r\n        @Bean\r\n        public AmqpTemplate rabbitTemplate() {\r\n            final RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory());\r\n            rabbitTemplate.setMessageConverter(jsonMessageConverter());\r\n            return rabbitTemplate;\r\n        }\r\n    }\r\n    \r\n    \r\n    #And for consumer:\r\n    \r\n    @Configuration\r\n    public class ResultConsumerConfiguration extends RabbitMqConfiguration {\r\n    \r\n        @Value(&quot;${spring.rabbitmq.resultQueue}&quot;)\r\n        String resultQueueName;\r\n    \r\n        @Value(&quot;${spring.rabbitmq.resultExchange}&quot;)\r\n        String exchange;\r\n    \r\n        @Value(&quot;${spring.rabbitmq.resultRoutingkey}&quot;)\r\n        String routingkey;\r\n    \r\n        @Bean\r\n        Queue queue() {\r\n            return new Queue(resultQueueName, true);\r\n        }\r\n    \r\n        @Bean\r\n        DirectExchange exchange() {\r\n            return new DirectExchange(exchange);\r\n        }\r\n    \r\n        @Bean\r\n        Binding binding(Queue queue, DirectExchange exchange) {\r\n            return BindingBuilder.bind(queue).to(exchange).with(routingkey);\r\n        }\r\n    \r\n        @Bean\r\n        public MessageConverter jsonMessageConverter() {\r\n            final Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\r\n            converter.setClassMapper(classMapper());\r\n            return converter;\r\n        }\r\n        \r\n        @Bean\r\n        public DefaultClassMapper classMapper() {\r\n            DefaultClassMapper typeMapper = new DefaultClassMapper();\r\n            typeMapper.setDefaultType(ResultMessageGeneral.class);\r\n    \r\n            return typeMapper;\r\n        }\r\n        \r\n        @Bean\r\n        public RabbitTemplate rabbitTemplate() {\r\n            RabbitTemplate template = new RabbitTemplate(connectionFactory());\r\n            template.setRoutingKey(this.resultQueueName);\r\n            template.setMessageConverter(jsonMessageConverter());\r\n            return template;\r\n        }\r\n        \r\n        @Bean\r\n        public SimpleMessageListenerContainer listenerContainer() {\r\n            SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\r\n            container.setConnectionFactory(connectionFactory());\r\n            container.setQueueNames(this.resultQueueName);\r\n            container.setMessageListener(listenerAdapter());\r\n    \r\n            return container;\r\n        }\r\n        \r\n        \r\n         @Bean\r\n            MessageListenerAdapter listenerAdapter() {\r\n                return new MessageListenerAdapter(rabbitMqListener, jsonMessageConverter());\r\n            }\r\n     \r\n    }\r\n\r\n\r\n  [1]: https://bernhardwenzel.com/articles/tutorial-build-a-message-driven-microservice-application/#fn:repo","title":"RabbitMQ Exception: operation queue.declare caused a channel exception not_found in server side","body":"<p>I define two queue 'request.queue' and 'result.queue' , my web UI produce message in the 'request.queue' and then my python app consume it from the 'request.queue' and start processing and then push result into the 'result.queue' and finally result from 'result.queue' show to user like <a href=\"https://bernhardwenzel.com/articles/tutorial-build-a-message-driven-microservice-application/#fn:repo\" rel=\"nofollow noreferrer\">this link</a>. It works in my labtop with ubuntu 20.4 very well but when i put my all code into the server with ubuntu 20.4 os, it dose not work and create only 'request.queue' and then throw an exception :(  &quot;operation queue.declare caused a channel exception not_found: no queue 'result.queue' in vhost '/'&quot;\nand another log:\nSimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused (Connection refused)</p>\n<p>Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused (Connection refused)</p>\n<p>Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=404, reply-text=NOT_FOUND - no queue 'result.queue' in vhost '/', class-id=50, method-id=10)</p>\n<p>RabbitMq version in the serve is 3.8.8 and the version of Erlang is 23.0.3.</p>\n<p>Anyone can help me why my code on server throw an exception?</p>\n<p>My java code with spring boot for declare queues is here:</p>\n<pre><code>@Configuration\npublic class RequestConfiguration extends RabbitMqConfiguration {\n    \n    @Value(&quot;${spring.rabbitmq.queue}&quot;)\n    String queueName;\n\n    @Value(&quot;${spring.rabbitmq.exchange}&quot;)\n    String exchange;\n\n    @Value(&quot;${spring.rabbitmq.routingkey}&quot;)\n    String routingkey;\n\n    @Bean\n    Queue queue() {\n        return new Queue(queueName, true);\n   }\n\n    @Bean\n    DirectExchange exchange() {\n        return new DirectExchange(exchange);\n    }\n\n    @Bean\n    Binding binding(Queue queue, DirectExchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with(routingkey);\n    }\n\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n\n    @Bean\n    public AmqpTemplate rabbitTemplate() {\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory());\n        rabbitTemplate.setMessageConverter(jsonMessageConverter());\n        return rabbitTemplate;\n    }\n}\n\n\n#And for consumer:\n\n@Configuration\npublic class ResultConsumerConfiguration extends RabbitMqConfiguration {\n\n    @Value(&quot;${spring.rabbitmq.resultQueue}&quot;)\n    String resultQueueName;\n\n    @Value(&quot;${spring.rabbitmq.resultExchange}&quot;)\n    String exchange;\n\n    @Value(&quot;${spring.rabbitmq.resultRoutingkey}&quot;)\n    String routingkey;\n\n    @Bean\n    Queue queue() {\n        return new Queue(resultQueueName, true);\n    }\n\n    @Bean\n    DirectExchange exchange() {\n        return new DirectExchange(exchange);\n    }\n\n    @Bean\n    Binding binding(Queue queue, DirectExchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with(routingkey);\n    }\n\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        final Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\n        converter.setClassMapper(classMapper());\n        return converter;\n    }\n    \n    @Bean\n    public DefaultClassMapper classMapper() {\n        DefaultClassMapper typeMapper = new DefaultClassMapper();\n        typeMapper.setDefaultType(ResultMessageGeneral.class);\n\n        return typeMapper;\n    }\n    \n    @Bean\n    public RabbitTemplate rabbitTemplate() {\n        RabbitTemplate template = new RabbitTemplate(connectionFactory());\n        template.setRoutingKey(this.resultQueueName);\n        template.setMessageConverter(jsonMessageConverter());\n        return template;\n    }\n    \n    @Bean\n    public SimpleMessageListenerContainer listenerContainer() {\n        SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\n        container.setConnectionFactory(connectionFactory());\n        container.setQueueNames(this.resultQueueName);\n        container.setMessageListener(listenerAdapter());\n\n        return container;\n    }\n    \n    \n     @Bean\n        MessageListenerAdapter listenerAdapter() {\n            return new MessageListenerAdapter(rabbitMqListener, jsonMessageConverter());\n        }\n \n}\n</code></pre>\n"},{"tags":["java","ldap","jetty","forms-authentication"],"answers":[{"comments":[{"owner":{"account_id":175744,"reputation":555,"user_id":405966,"display_name":"mwhidden"},"score":0,"creation_date":1407526044,"post_id":14557369,"comment_id":39264717,"body_markdown":"Thanks! This was helpful to me, and I was able to make it work.","body":"Thanks! This was helpful to me, and I was able to make it work."},{"owner":{"account_id":97993,"reputation":90071,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"score":3,"creation_date":1438266316,"post_id":14557369,"comment_id":51388962,"body_markdown":"This is helpful, but I&#39;m wondering how you knew to do it. The Jetty documentation is... without being rude, sparse. For example `ConstraintMapping` is totally undocumented and Google doesn&#39;t provide any information about it at all. Do you have to read the internal Jetty code to learn it?","body":"This is helpful, but I&#39;m wondering how you knew to do it. The Jetty documentation is... without being rude, sparse. For example <code>ConstraintMapping</code> is totally undocumented and Google doesn&#39;t provide any information about it at all. Do you have to read the internal Jetty code to learn it?"}],"tags":[],"owner":{"account_id":2294427,"reputation":126,"user_id":2016252,"display_name":"akafredperry"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1434107380,"creation_date":1359358058,"answer_id":14557369,"question_id":13769589,"body_markdown":"Create a `FormAuthenticator` and set this on your `SecurityHandler` for the `ServletContextHandler`. This code creates a trivial server with 2 servlets. The first servlet responds with a hello messsage to the authenticated user name. The second servlet implements a trivial login form. \r\n\r\nYou should be able to paste the code into a `main[]` and run (you will need the following jars in your classpath; `jetty-server`, `jetty-servlet` and `jetty-security`). To test, point a browser at `http://localhost:8080`, you should be prompted for credentials (username / password) before seeing a response of `hello username`.\r\n\r\n    Server server = new Server(8080);\r\n    ServletContextHandler context = new ServletContextHandler(server, &quot;/&quot;, ServletContextHandler.SESSIONS | ServletContextHandler.SECURITY);\r\n        \r\n    context.addServlet(new ServletHolder(new DefaultServlet() {\r\n      @Override\r\n      protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.getWriter().append(&quot;hello &quot; + request.getUserPrincipal().getName());\r\n      }\r\n    }), &quot;/*&quot;);\r\n    \r\n    context.addServlet(new ServletHolder(new DefaultServlet() {\r\n      @Override\r\n      protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.getWriter().append(&quot;&lt;html&gt;&lt;form method=&#39;POST&#39; action=&#39;/j_security_check&#39;&gt;&quot;\r\n          + &quot;&lt;input type=&#39;text&#39; name=&#39;j_username&#39;/&gt;&quot;\r\n          + &quot;&lt;input type=&#39;password&#39; name=&#39;j_password&#39;/&gt;&quot;\r\n          + &quot;&lt;input type=&#39;submit&#39; value=&#39;Login&#39;/&gt;&lt;/form&gt;&lt;/html&gt;&quot;);\r\n        }\r\n    }), &quot;/login&quot;);\r\n    \r\n    Constraint constraint = new Constraint();\r\n    constraint.setName(Constraint.__FORM_AUTH);\r\n    constraint.setRoles(new String[]{&quot;user&quot;,&quot;admin&quot;,&quot;moderator&quot;});\r\n    constraint.setAuthenticate(true);\r\n         \r\n    ConstraintMapping constraintMapping = new ConstraintMapping();\r\n    constraintMapping.setConstraint(constraint);\r\n    constraintMapping.setPathSpec(&quot;/*&quot;);\r\n        \r\n    ConstraintSecurityHandler securityHandler = new ConstraintSecurityHandler();\r\n    securityHandler.addConstraintMapping(constraintMapping);\r\n    HashLoginService loginService = new HashLoginService();\r\n    loginService.putUser(&quot;username&quot;, new Password(&quot;password&quot;), new String[] {&quot;user&quot;});\r\n    securityHandler.setLoginService(loginService);\r\n        \r\n    FormAuthenticator authenticator = new FormAuthenticator(&quot;/login&quot;, &quot;/login&quot;, false);\r\n    securityHandler.setAuthenticator(authenticator);\r\n\r\n    context.setSecurityHandler(securityHandler);\r\n    \r\n    server.start();\r\n    server.join();\r\n\r\n","title":"Embedded Jetty - Programmatically add form based authentication","body":"<p>Create a <code>FormAuthenticator</code> and set this on your <code>SecurityHandler</code> for the <code>ServletContextHandler</code>. This code creates a trivial server with 2 servlets. The first servlet responds with a hello messsage to the authenticated user name. The second servlet implements a trivial login form. </p>\n\n<p>You should be able to paste the code into a <code>main[]</code> and run (you will need the following jars in your classpath; <code>jetty-server</code>, <code>jetty-servlet</code> and <code>jetty-security</code>). To test, point a browser at <code>http://localhost:8080</code>, you should be prompted for credentials (username / password) before seeing a response of <code>hello username</code>.</p>\n\n<pre><code>Server server = new Server(8080);\nServletContextHandler context = new ServletContextHandler(server, \"/\", ServletContextHandler.SESSIONS | ServletContextHandler.SECURITY);\n\ncontext.addServlet(new ServletHolder(new DefaultServlet() {\n  @Override\n  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    response.getWriter().append(\"hello \" + request.getUserPrincipal().getName());\n  }\n}), \"/*\");\n\ncontext.addServlet(new ServletHolder(new DefaultServlet() {\n  @Override\n  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    response.getWriter().append(\"&lt;html&gt;&lt;form method='POST' action='/j_security_check'&gt;\"\n      + \"&lt;input type='text' name='j_username'/&gt;\"\n      + \"&lt;input type='password' name='j_password'/&gt;\"\n      + \"&lt;input type='submit' value='Login'/&gt;&lt;/form&gt;&lt;/html&gt;\");\n    }\n}), \"/login\");\n\nConstraint constraint = new Constraint();\nconstraint.setName(Constraint.__FORM_AUTH);\nconstraint.setRoles(new String[]{\"user\",\"admin\",\"moderator\"});\nconstraint.setAuthenticate(true);\n\nConstraintMapping constraintMapping = new ConstraintMapping();\nconstraintMapping.setConstraint(constraint);\nconstraintMapping.setPathSpec(\"/*\");\n\nConstraintSecurityHandler securityHandler = new ConstraintSecurityHandler();\nsecurityHandler.addConstraintMapping(constraintMapping);\nHashLoginService loginService = new HashLoginService();\nloginService.putUser(\"username\", new Password(\"password\"), new String[] {\"user\"});\nsecurityHandler.setLoginService(loginService);\n\nFormAuthenticator authenticator = new FormAuthenticator(\"/login\", \"/login\", false);\nsecurityHandler.setAuthenticator(authenticator);\n\ncontext.setSecurityHandler(securityHandler);\n\nserver.start();\nserver.join();\n</code></pre>\n"}],"owner":{"account_id":2123642,"reputation":63,"user_id":1886372,"display_name":"msns3ka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8814,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14557369,"answer_count":1,"score":6,"last_activity_date":1682665874,"creation_date":1354907781,"question_id":13769589,"body_markdown":"Is there a way to programmatically add Form based Authentication as per below? \r\nI am using my own `LdapLoginModule`. Initially I use Basic Authentication and it worked OK, but now I want more control on the Login page (like display logo, etc)\r\n\r\nIs there any good samples?\r\n\r\nI am using embedded jetty v8.1.7 . I don&#39;t use any web.xml for embedded jetty. The jetty server is started programmatically.\r\n   \r\n\r\n    &lt;login-config&gt;\r\n        &lt;auth-method&gt;FORM&lt;/auth-method&gt;\r\n        &lt;realm-name&gt;Test JAAS Realm&lt;/realm-name&gt;\r\n        &lt;form-login-config&gt;\r\n            &lt;form-login-page&gt;/login.html&lt;/form-login-page&gt;\r\n            &lt;form-error-page&gt;/error.jsp&lt;/form-error-page&gt;\r\n        &lt;/form-login-config&gt;\r\n    &lt;/login-config&gt;\r\n","title":"Embedded Jetty - Programmatically add form based authentication","body":"<p>Is there a way to programmatically add Form based Authentication as per below? \nI am using my own <code>LdapLoginModule</code>. Initially I use Basic Authentication and it worked OK, but now I want more control on the Login page (like display logo, etc)</p>\n\n<p>Is there any good samples?</p>\n\n<p>I am using embedded jetty v8.1.7 . I don't use any web.xml for embedded jetty. The jetty server is started programmatically.</p>\n\n<pre><code>&lt;login-config&gt;\n    &lt;auth-method&gt;FORM&lt;/auth-method&gt;\n    &lt;realm-name&gt;Test JAAS Realm&lt;/realm-name&gt;\n    &lt;form-login-config&gt;\n        &lt;form-login-page&gt;/login.html&lt;/form-login-page&gt;\n        &lt;form-error-page&gt;/error.jsp&lt;/form-error-page&gt;\n    &lt;/form-login-config&gt;\n&lt;/login-config&gt;\n</code></pre>\n"},{"tags":["java","spring","mongodb","response-entity"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1682665907,"post_id":76127077,"comment_id":134254494,"body_markdown":"&quot;I am getting an error&quot; ... what error do you get? you must pass all the parameters the signature of your method takes, otherwise it won&#39;t find the method","body":"&quot;I am getting an error&quot; ... what error do you get? you must pass all the parameters the signature of your method takes, otherwise it won&#39;t find the method"}],"owner":{"account_id":28442282,"reputation":1,"user_id":21761478,"display_name":"dieudonne96"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682665814,"creation_date":1682665814,"question_id":76127077,"body_markdown":"I have this function addBug(String title, String description, LocalDateTime created, LocalDateTime updated, ObjectId projectId) in my Service class: \r\n\r\n```\r\npublic Bug addBug(String title, String description, LocalDateTime created, LocalDateTime updated,\r\n            ObjectId projectId) {\r\n        Bug newBug = bugRepository.insert(new Bug(title, description, created, updated));\r\n\r\n        mongoTemplate.update(Project.class)\r\n                .matching(Criteria.where(&quot;_id&quot;).is(projectId))\r\n                .apply(new Update().push(&quot;bugs&quot;).value(newBug))\r\n                .first();\r\n\r\n        return newBug;\r\n        // return bugRepository.save(bug); // old way\r\n    }\r\n```\r\nI want to use this in my Controller class, using a &#39;@PostMapping&#39; using the function &#39;createBug()&#39;, this is how i coded the function but I am getting an error,\r\n\r\n\r\n```\r\n@PostMapping\r\n    public ResponseEntity&lt;Bug&gt; createBug(@RequestBody Bug bug) {\r\n        return new ResponseEntity&lt;Bug&gt;(bugService.addBug(bug), HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nHow do I correctly make use of the &#39;addBug()&#39; function  the &#39;createBug()&#39; function?\r\nI am new to spring and java.\r\n\r\n\r\n\r\n\r\n\r\nI tried passing the same variables as in addBug() when using it in the createBug() but I still get error lines.","title":"Linking a PostMapping function in the Controller class to the Service class function","body":"<p>I have this function addBug(String title, String description, LocalDateTime created, LocalDateTime updated, ObjectId projectId) in my Service class:</p>\n<pre><code>public Bug addBug(String title, String description, LocalDateTime created, LocalDateTime updated,\n            ObjectId projectId) {\n        Bug newBug = bugRepository.insert(new Bug(title, description, created, updated));\n\n        mongoTemplate.update(Project.class)\n                .matching(Criteria.where(&quot;_id&quot;).is(projectId))\n                .apply(new Update().push(&quot;bugs&quot;).value(newBug))\n                .first();\n\n        return newBug;\n        // return bugRepository.save(bug); // old way\n    }\n</code></pre>\n<p>I want to use this in my Controller class, using a '@PostMapping' using the function 'createBug()', this is how i coded the function but I am getting an error,</p>\n<pre><code>@PostMapping\n    public ResponseEntity&lt;Bug&gt; createBug(@RequestBody Bug bug) {\n        return new ResponseEntity&lt;Bug&gt;(bugService.addBug(bug), HttpStatus.CREATED);\n    }\n</code></pre>\n<p>How do I correctly make use of the 'addBug()' function  the 'createBug()' function?\nI am new to spring and java.</p>\n<p>I tried passing the same variables as in addBug() when using it in the createBug() but I still get error lines.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1682575468,"post_id":76117171,"comment_id":134238117,"body_markdown":"Assuming this is in a Content-Type header, it&#39;s missing a semi-colon. &quot;application/json charset=utf-8&quot; should be &quot;application/json; charset=utf-8&quot;.","body":"Assuming this is in a Content-Type header, it&#39;s missing a semi-colon. &quot;application/json charset=utf-8&quot; should be &quot;application/json; charset=utf-8&quot;."},{"owner":{"account_id":416610,"reputation":577,"user_id":792103,"accept_rate":29,"display_name":"Abdul"},"score":0,"creation_date":1682575692,"post_id":76117171,"comment_id":134238149,"body_markdown":"this is 3rd party service and we don&#39;t have any access on other side we just consume.","body":"this is 3rd party service and we don&#39;t have any access on other side we just consume."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1682575791,"post_id":76117171,"comment_id":134238168,"body_markdown":"Given that the only question in your post is &quot;can anyone explain&quot; [...] the only real answer is &quot;it&#39;s invalid&quot;. If you want more than that, you&#39;ll need to provide more context.","body":"Given that the only question in your post is &quot;can anyone explain&quot; [...] the only real answer is &quot;it&#39;s invalid&quot;. If you want more than that, you&#39;ll need to provide more context."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1682576258,"post_id":76117171,"comment_id":134238261,"body_markdown":"&quot;but in code&quot; - so what does that code look like? Have you been able to observe the raw HTTP response? (Note that just because *some* clients may be permissive with what they receive, that doesn&#39;t make it valid.)","body":"&quot;but in code&quot; - so what does that code look like? Have you been able to observe the raw HTTP response? (Note that just because <i>some</i> clients may be permissive with what they receive, that doesn&#39;t make it valid.)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1682577451,"post_id":76117171,"comment_id":134238495,"body_markdown":"No, I&#39;m not going to chat. You still haven&#39;t indicated in the question whether you&#39;ve observed the complete, raw HTTP request/response, and what&#39;s in there if so. Please think about everything *you&#39;d* want to know if you a colleague asked you about this, and make sure you include all of that in your question.","body":"No, I&#39;m not going to chat. You still haven&#39;t indicated in the question whether you&#39;ve observed the complete, raw HTTP request/response, and what&#39;s in there if so. Please think about everything <i>you&#39;d</i> want to know if you a colleague asked you about this, and make sure you include all of that in your question."}],"answers":[{"comments":[{"owner":{"account_id":416610,"reputation":577,"user_id":792103,"accept_rate":29,"display_name":"Abdul"},"score":0,"creation_date":1682575570,"post_id":76117193,"comment_id":134238130,"body_markdown":"Actually the issue is, its 3rd party service we are consuming and we don&#39;t have any access to change this.","body":"Actually the issue is, its 3rd party service we are consuming and we don&#39;t have any access to change this."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1682575730,"post_id":76117193,"comment_id":134238156,"body_markdown":"@Abdul: I very nearly added a comment earlier - your question doesn&#39;t contain *any* context. All we know is &quot;while getting the response&quot; - not who&#39;s getting the response, or where from etc. Please edit your question to give *much* more information. Fundamentally if the third-party service is producing invalid HTTP responses, it would be a good idea to get them to fix it.","body":"@Abdul: I very nearly added a comment earlier - your question doesn&#39;t contain <i>any</i> context. All we know is &quot;while getting the response&quot; - not who&#39;s getting the response, or where from etc. Please edit your question to give <i>much</i> more information. Fundamentally if the third-party service is producing invalid HTTP responses, it would be a good idea to get them to fix it."}],"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682665777,"creation_date":1682575466,"answer_id":76117193,"question_id":76117171,"body_markdown":"You have everything you need in the exception message: a whitespace is not supported in the mime type!\r\n\r\nCheck out the [MediaType][1] Spring class. It offers constants like [`APPLICATION_JSON_UTF8_VALUE`][2] to make your life easier!\r\n\r\nThe constant&#39;s value is: `application/json;charset=UTF-8`.\r\n\r\nThat is the Mime Type you&#39;d need to use.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html#APPLICATION_JSON_UTF8_VALUE","title":"can anyone explain what mime type is this &quot;application/json charset=utf-8&quot; with space in between","body":"<p>You have everything you need in the exception message: a whitespace is not supported in the mime type!</p>\n<p>Check out the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html\" rel=\"nofollow noreferrer\">MediaType</a> Spring class. It offers constants like <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html#APPLICATION_JSON_UTF8_VALUE\" rel=\"nofollow noreferrer\"><code>APPLICATION_JSON_UTF8_VALUE</code></a> to make your life easier!</p>\n<p>The constant's value is: <code>application/json;charset=UTF-8</code>.</p>\n<p>That is the Mime Type you'd need to use.</p>\n"}],"owner":{"account_id":416610,"reputation":577,"user_id":792103,"accept_rate":29,"display_name":"Abdul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76117193,"answer_count":1,"score":0,"last_activity_date":1682665777,"creation_date":1682575162,"question_id":76117171,"body_markdown":"Facing following **exception** while calling 3rd party service, I don&#39;t have the access on code to change the response content-type. I am not sure how to handle this.\r\n\r\n*With soup-ui I have tested the service and it is working fine with the following content type, but in code I am getting the error.*\r\n\r\norg.springframework.util.InvalidMimeTypeException: **Invalid mime type &quot;application/json charset=utf-8&quot;: Invalid token character &#39; &#39; in token &quot;json charset=utf-8&quot;**\r\n\r\n    SslContext sslContext = SslContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .build();&#160;\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpClient httpClient = HttpClient.create().secure(t -&gt; t.sslContext(sslContext));\r\n    &#160;\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; WebClient client = WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).build();&#160;&#160;&#160;&#160;\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; String body = &quot;{***************************JSON*****************************}&quot;;&#160;\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; WebClient.ResponseSpec responseSpec = client.post()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .uri(&quot;https://***************/************************/inquiry&quot;)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .headers(headers -&gt; headers.setBasicAuth(&quot;*********&quot;, &quot;***********&quot;))&#160;&#160;&#160;&#160;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .header(&quot;X-TIB-TransactionID&quot;, &quot;23234234234234&quot;).header(&quot;X-TIB-***************&quot;, &quot;*************&quot;)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .contentType(MediaType.APPLICATION_JSON)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .accept(MediaType.ALL)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .syncBody(body)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .retrieve();&#160;\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; String response = responseSpec.bodyToMono(String.class).block();","title":"can anyone explain what mime type is this &quot;application/json charset=utf-8&quot; with space in between","body":"<p>Facing following <strong>exception</strong> while calling 3rd party service, I don't have the access on code to change the response content-type. I am not sure how to handle this.</p>\n<p><em>With soup-ui I have tested the service and it is working fine with the following content type, but in code I am getting the error.</em></p>\n<p>org.springframework.util.InvalidMimeTypeException: <strong>Invalid mime type &quot;application/json charset=utf-8&quot;: Invalid token character ' ' in token &quot;json charset=utf-8&quot;</strong></p>\n<pre><code>SslContext sslContext = SslContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE)\n                .build(); \n\n        HttpClient httpClient = HttpClient.create().secure(t -&gt; t.sslContext(sslContext));\n \n\n        WebClient client = WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).build();    \n\n        String body = &quot;{***************************JSON*****************************}&quot;; \n\n        WebClient.ResponseSpec responseSpec = client.post()\n                .uri(&quot;https://***************/************************/inquiry&quot;)\n                .headers(headers -&gt; headers.setBasicAuth(&quot;*********&quot;, &quot;***********&quot;))    \n                .header(&quot;X-TIB-TransactionID&quot;, &quot;23234234234234&quot;).header(&quot;X-TIB-***************&quot;, &quot;*************&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.ALL)\n                .syncBody(body)                \n                .retrieve(); \n\n        String response = responseSpec.bodyToMono(String.class).block();\n</code></pre>\n"},{"tags":["java","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1682665957,"post_id":76126617,"comment_id":134254502,"body_markdown":"From your workflow, it looks like the `build` job builds and copies the JAR file to AWS S3 bucket; and then, the `deploy` job, after SSHing into your server, copies it and runs it, is that correct? What about logs? Is there any indication that the file is not copied? Did you check and verify the PID?","body":"From your workflow, it looks like the <code>build</code> job builds and copies the JAR file to AWS S3 bucket; and then, the <code>deploy</code> job, after SSHing into your server, copies it and runs it, is that correct? What about logs? Is there any indication that the file is not copied? Did you check and verify the PID?"},{"owner":{"account_id":28441951,"reputation":9,"user_id":21761196,"display_name":"Mahabubur Rahman"},"score":0,"creation_date":1682670217,"post_id":76126617,"comment_id":134255396,"body_markdown":"@Azeem I have checked but there is nothing in the log. you are correct about the deployment process. the file is copied to the server without any issue from s3. GitHub actions also show that job is successful, however when I try to check the change it doesnot appear.","body":"@Azeem I have checked but there is nothing in the log. you are correct about the deployment process. the file is copied to the server without any issue from s3. GitHub actions also show that job is successful, however when I try to check the change it doesnot appear."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1682672494,"post_id":76126617,"comment_id":134255851,"body_markdown":"How do you check it? Did you check the timestamps of the newly copied (or existing) JAR files with `ls -l`? Run a deployment and observe the process in the server. See if its PID changes e.g. `ps aux | grep java`.","body":"How do you check it? Did you check the timestamps of the newly copied (or existing) JAR files with <code>ls -l</code>? Run a deployment and observe the process in the server. See if its PID changes e.g. <code>ps aux | grep java</code>."},{"owner":{"account_id":28441951,"reputation":9,"user_id":21761196,"display_name":"Mahabubur Rahman"},"score":0,"creation_date":1682676173,"post_id":76126617,"comment_id":134256598,"body_markdown":"@Azeem thank you for your reply. first I checked the timestamps of the copied file. and also check the server&#39;s public dns along with the app port and the status. (server public IPV4 DNS:port/api/status) which shows me the api status. which is share by my developer to me for checking.","body":"@Azeem thank you for your reply. first I checked the timestamps of the copied file. and also check the server&#39;s public dns along with the app port and the status. (server public IPV4 DNS:port/api/status) which shows me the api status. which is share by my developer to me for checking."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1682676948,"post_id":76126617,"comment_id":134256772,"body_markdown":"Right. Are the timestamps new? Is that backup being created by the `cp` command? Also, verify if your `build` job is actually uploading the new JAR file to your S3 bucket.","body":"Right. Are the timestamps new? Is that backup being created by the <code>cp</code> command? Also, verify if your <code>build</code> job is actually uploading the new JAR file to your S3 bucket."},{"owner":{"account_id":28441951,"reputation":9,"user_id":21761196,"display_name":"Mahabubur Rahman"},"score":0,"creation_date":1682997138,"post_id":76126617,"comment_id":134295926,"body_markdown":"@Azeem, sorry for the late reply. I have checked all the file timestapms and it show that jar is copied from s3 and backup is also taken at the right time. the problem is that the change developer made is not showing while deploy through Github Action.","body":"@Azeem, sorry for the late reply. I have checked all the file timestapms and it show that jar is copied from s3 and backup is also taken at the right time. the problem is that the change developer made is not showing while deploy through Github Action."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1683002393,"post_id":76126617,"comment_id":134296316,"body_markdown":"Well, if the file is being copied and updated properly by the `deploy` job then you need to verify if the `build` job is actually building the newer version. You may simply upload the built JAR file as an artifact and download and test it manually on the server to make sure it&#39;s the updated one.","body":"Well, if the file is being copied and updated properly by the <code>deploy</code> job then you need to verify if the <code>build</code> job is actually building the newer version. You may simply upload the built JAR file as an artifact and download and test it manually on the server to make sure it&#39;s the updated one."}],"owner":{"account_id":28441951,"reputation":9,"user_id":21761196,"display_name":"Mahabubur Rahman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682665600,"creation_date":1682661313,"question_id":76126617,"body_markdown":"I try to deploy a jar file with GitHub Actions. The problem I face is that GitHub Actions workflow shows that deployment is successful but when I try to check the changes, I find that there is no new change in the output.\r\n\r\nHowever when I try to manually deploy the same thing from the server it show the exact changes. Below is the workflow that I use:\r\n\r\n```\r\n  deploy:\r\n    needs: [build]\r\n    runs-on: ubuntu-latest\r\n    env:\r\n      DEV_AWS_INSTANCE_SG_ID: ${{secrets.DEV_INSTANCE_SG}}\r\n    steps:\r\n      - name: configure aws credentials\r\n        uses: aws-actions/configure-aws-credentials@v1\r\n        with:\r\n          aws-access-key-id: ${{secrets.AWS_ACCESS_KEY_ID}}\r\n          aws-secret-access-key: ${{secrets.AWS_SECRET_ACCESS_KEY}}\r\n          aws-region: ap-south-1\r\n      - name: get runner ip address\r\n        id: ip\r\n        uses: haythem/public-ip@v1.2\r\n      - name: whitelist runner ip address\r\n        run: |\r\n          aws ec2 authorize-security-group-ingress \\\r\n            --group-id $DEV_AWS_INSTANCE_SG_ID \\\r\n            --protocol tcp \\\r\n            --port 22 \\\r\n            --cidr ${{steps.ip.outputs.ipv4}}/32\r\n      - name: ssh-deploy\r\n        uses: appleboy/ssh-action@master\r\n        with:\r\n          host: ${{secrets.DEV_HOST}}\r\n          username: ${{secrets.DEV_USERNAME}}\r\n          key: ${{secrets.DEV_KEY}}\r\n          port: ${{secrets.DEV_PORT}}\r\n          script: |\r\n            cd ${{secrets.DEV_APP_FOLDER}}\r\n            cp ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar ${{secrets.DEV_BU_FOLDER}}/example-SNAPSHOT_$(date +%Y-%m-%d_%H-%M-%S).jar\r\n            rm ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar\r\n            export DB_HOST=${{secrets.DEV_DB_HOST}}\r\n            export DB_USER=${{secrets.DEV_DB_USER}}\r\n            export DB_PASS=&#39;${{secrets.DEV_DB_PASS}}&#39;\r\n            aws s3 cp s3://${{secrets.AWS_BUCKET_NAME}}/example-SNAPSHOT.jar ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar\r\n            chmod -R 777 example-SNAPSHOT.jar\r\n            npx kill-port ${{secrets.APP_PORT}}\r\n             \r\n            nohup java -DB_HOST=${{secrets.DEV_DB_HOST}} -DB_USER=${{secrets.DEV_DB_USER}} -DB_PASS=&#39;${{secrets.DEV_DB_PASS}}&#39; -DSENDGRID_API_KEY=&#39;S${{secrets.SENGRID_API_KEY}}&#39; -DAWS_S3_BUCKET_NAME=&#39;${{secrets.DAWS_S3_BUCKET}}&#39; -DAWS_S3_OBJECT_KEY=&#39;${{secrets.DAWS_S3_OBJECT_KEY}}&#39; -jar ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar &gt; /dev/null 2&gt;&amp;1 &amp;\r\n\r\n      - name: revoke runner ip address\r\n        run: |\r\n          aws ec2 revoke-security-group-ingress \\\r\n            --group-id $DEV_AWS_INSTANCE_SG_ID \\\r\n            --protocol tcp \\\r\n            --port 22 \\\r\n            --cidr ${{steps.ip.outputs.ipv4}}/32\r\n```\r\n\r\nHow can I deploy this jar file to the server which can reflect the output?","title":"Deployment completes but changes are not reflected in the output","body":"<p>I try to deploy a jar file with GitHub Actions. The problem I face is that GitHub Actions workflow shows that deployment is successful but when I try to check the changes, I find that there is no new change in the output.</p>\n<p>However when I try to manually deploy the same thing from the server it show the exact changes. Below is the workflow that I use:</p>\n<pre><code>  deploy:\n    needs: [build]\n    runs-on: ubuntu-latest\n    env:\n      DEV_AWS_INSTANCE_SG_ID: ${{secrets.DEV_INSTANCE_SG}}\n    steps:\n      - name: configure aws credentials\n        uses: aws-actions/configure-aws-credentials@v1\n        with:\n          aws-access-key-id: ${{secrets.AWS_ACCESS_KEY_ID}}\n          aws-secret-access-key: ${{secrets.AWS_SECRET_ACCESS_KEY}}\n          aws-region: ap-south-1\n      - name: get runner ip address\n        id: ip\n        uses: haythem/public-ip@v1.2\n      - name: whitelist runner ip address\n        run: |\n          aws ec2 authorize-security-group-ingress \\\n            --group-id $DEV_AWS_INSTANCE_SG_ID \\\n            --protocol tcp \\\n            --port 22 \\\n            --cidr ${{steps.ip.outputs.ipv4}}/32\n      - name: ssh-deploy\n        uses: appleboy/ssh-action@master\n        with:\n          host: ${{secrets.DEV_HOST}}\n          username: ${{secrets.DEV_USERNAME}}\n          key: ${{secrets.DEV_KEY}}\n          port: ${{secrets.DEV_PORT}}\n          script: |\n            cd ${{secrets.DEV_APP_FOLDER}}\n            cp ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar ${{secrets.DEV_BU_FOLDER}}/example-SNAPSHOT_$(date +%Y-%m-%d_%H-%M-%S).jar\n            rm ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar\n            export DB_HOST=${{secrets.DEV_DB_HOST}}\n            export DB_USER=${{secrets.DEV_DB_USER}}\n            export DB_PASS='${{secrets.DEV_DB_PASS}}'\n            aws s3 cp s3://${{secrets.AWS_BUCKET_NAME}}/example-SNAPSHOT.jar ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar\n            chmod -R 777 example-SNAPSHOT.jar\n            npx kill-port ${{secrets.APP_PORT}}\n             \n            nohup java -DB_HOST=${{secrets.DEV_DB_HOST}} -DB_USER=${{secrets.DEV_DB_USER}} -DB_PASS='${{secrets.DEV_DB_PASS}}' -DSENDGRID_API_KEY='S${{secrets.SENGRID_API_KEY}}' -DAWS_S3_BUCKET_NAME='${{secrets.DAWS_S3_BUCKET}}' -DAWS_S3_OBJECT_KEY='${{secrets.DAWS_S3_OBJECT_KEY}}' -jar ${{secrets.DEV_APP_FOLDER}}/example-SNAPSHOT.jar &gt; /dev/null 2&gt;&amp;1 &amp;\n\n      - name: revoke runner ip address\n        run: |\n          aws ec2 revoke-security-group-ingress \\\n            --group-id $DEV_AWS_INSTANCE_SG_ID \\\n            --protocol tcp \\\n            --port 22 \\\n            --cidr ${{steps.ip.outputs.ipv4}}/32\n</code></pre>\n<p>How can I deploy this jar file to the server which can reflect the output?</p>\n"},{"tags":["java","r","dataframe","rserve"],"owner":{"account_id":10502951,"reputation":1,"user_id":7741120,"display_name":"anisha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682665370,"creation_date":1682665370,"question_id":76127021,"body_markdown":"Currently I am flattening a 2D array to 1D array and sending it to R function, but is there a way to send dataframe or 2D array directly to R. 2D array is a string array. \r\nString[] str= {&quot;2022-09-06 23:45:50&quot;,&quot;1&quot;,&quot;2022-09-07 23:45:60&quot;,&quot;2&quot;,&quot;2022-09-08 23:45:50&quot;, &quot;3&quot;, &quot;2022-09-09 23:45:60&quot;, &quot;4&quot;};\r\nconnection.assign(&quot;values&quot;,str);\r\nThis is the code where is assign 1D array to a variable. But how do I send 2D array with date and count as columns and number of rows is 4.","title":"Assigning a 2D String array from Java to R through Rserve","body":"<p>Currently I am flattening a 2D array to 1D array and sending it to R function, but is there a way to send dataframe or 2D array directly to R. 2D array is a string array.\nString[] str= {&quot;2022-09-06 23:45:50&quot;,&quot;1&quot;,&quot;2022-09-07 23:45:60&quot;,&quot;2&quot;,&quot;2022-09-08 23:45:50&quot;, &quot;3&quot;, &quot;2022-09-09 23:45:60&quot;, &quot;4&quot;};\nconnection.assign(&quot;values&quot;,str);\nThis is the code where is assign 1D array to a variable. But how do I send 2D array with date and count as columns and number of rows is 4.</p>\n"},{"tags":["java","rx-java","reactive-streams"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1682668013,"post_id":76126513,"comment_id":134254913,"body_markdown":"That&#39;s the simplest way of doing it.","body":"That&#39;s the simplest way of doing it."},{"owner":{"account_id":28441866,"reputation":11,"user_id":21761124,"display_name":"Arthur Blanc"},"score":0,"creation_date":1682671091,"post_id":76126513,"comment_id":134255554,"body_markdown":"ok thx a lot. Would it make sense to add a proper `intersperse` function to rxjava API?","body":"ok thx a lot. Would it make sense to add a proper <code>intersperse</code> function to rxjava API?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1682672362,"post_id":76126513,"comment_id":134255821,"body_markdown":"It is a very uncommon operator for us so no.","body":"It is a very uncommon operator for us so no."}],"owner":{"account_id":28441866,"reputation":11,"user_id":21761124,"display_name":"Arthur Blanc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682665058,"creation_date":1682660036,"question_id":76126513,"body_markdown":"I&#39;m new to `rx-java`, I&#39;m comming from the `akka` world. In `akka-streams` there is a convinient [intersperse](https://doc.akka.io/api/akka/2.7/akka/stream/scaladsl/Source.html#intersperse[T%3E:Out](start:T,inject:T,end:T):FlowOps.this.Repr[T]) function and I would like to know how to do the same on `Flowable`? so something like\r\n\r\n```\r\nFlowable\r\n .fromIterable(List(&quot;foo&quot;,&quot;bar&quot;))\r\n .intersperse(&quot;[&quot;, &quot;,&quot; ,&quot;]&quot;)\r\n\r\n```\r\nwhich would output: `[foo,bar]`\r\n\r\nI have a some big data streamed from a DB to convert as a JSON array and that would be super useful.\r\n\r\ncurrently I found: \r\n```\r\nFlowable....\r\n   .startWith(Flowable.just(&quot;[&quot;))\r\n   .concatWith(Flowable.just(&quot;]&quot;))\r\n```\r\nDon&#39;t know if it&#39;s a clean way, but now I just miss the in between comma\r\n\r\nEdit:\r\nI have a working solution with\r\n```\r\nFlowable....\r\n   .concatMap(str =&gt; Flowable.just(str, &quot;,&quot;)\r\n   .skipLast(1) \r\n   .startWith(Flowable.just(&quot;[&quot;))\r\n   .concatWith(Flowable.just(&quot;]&quot;))\r\n```\r\n\r\nBut still, it seems it could be easier no?","title":"RxJava how to intersperse a Flowable?","body":"<p>I'm new to <code>rx-java</code>, I'm comming from the <code>akka</code> world. In <code>akka-streams</code> there is a convinient <a href=\"https://doc.akka.io/api/akka/2.7/akka/stream/scaladsl/Source.html#intersperse%5BT%3E:Out%5D(start:T,inject:T,end:T):FlowOps.this.Repr%5BT%5D\" rel=\"nofollow noreferrer\">intersperse</a> function and I would like to know how to do the same on <code>Flowable</code>? so something like</p>\n<pre><code>Flowable\n .fromIterable(List(&quot;foo&quot;,&quot;bar&quot;))\n .intersperse(&quot;[&quot;, &quot;,&quot; ,&quot;]&quot;)\n\n</code></pre>\n<p>which would output: <code>[foo,bar]</code></p>\n<p>I have a some big data streamed from a DB to convert as a JSON array and that would be super useful.</p>\n<p>currently I found:</p>\n<pre><code>Flowable....\n   .startWith(Flowable.just(&quot;[&quot;))\n   .concatWith(Flowable.just(&quot;]&quot;))\n</code></pre>\n<p>Don't know if it's a clean way, but now I just miss the in between comma</p>\n<p>Edit:\nI have a working solution with</p>\n<pre><code>Flowable....\n   .concatMap(str =&gt; Flowable.just(str, &quot;,&quot;)\n   .skipLast(1) \n   .startWith(Flowable.just(&quot;[&quot;))\n   .concatWith(Flowable.just(&quot;]&quot;))\n</code></pre>\n<p>But still, it seems it could be easier no?</p>\n"},{"tags":["java","spring-boot","kotlin","gradle","spring-data-jpa"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682602626,"post_id":76121034,"comment_id":134244279,"body_markdown":"Is it an error or a warning? Please provide the complete message.","body":"Is it an error or a warning? Please provide the complete message."},{"owner":{"account_id":28434926,"reputation":1,"user_id":21755144,"display_name":"Hetvi Shah"},"score":0,"creation_date":1682602865,"post_id":76121034,"comment_id":134244341,"body_markdown":"it is a warning but using the above configuration I am converting the warning into an error.\nso we can consider this an error","body":"it is a warning but using the above configuration I am converting the warning into an error. so we can consider this an error"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682603636,"post_id":76121034,"comment_id":134244547,"body_markdown":"No, that means that you consider it an error.","body":"No, that means that you consider it an error."},{"owner":{"account_id":28434926,"reputation":1,"user_id":21755144,"display_name":"Hetvi Shah"},"score":0,"creation_date":1682604082,"post_id":76121034,"comment_id":134244665,"body_markdown":"java compiler itself considers that warnings as error and didn&#39;t allow to make a build of the project","body":"java compiler itself considers that warnings as error and didn&#39;t allow to make a build of the project"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682609182,"post_id":76121034,"comment_id":134246066,"body_markdown":"Only because you used a configuration to force it to treat warnings as errors. That&#39;s up to you, I&#39;m not arguing you should not do it. There can be good reasons to do it. But a warning is a warning, different from an error.","body":"Only because you used a configuration to force it to treat warnings as errors. That&#39;s up to you, I&#39;m not arguing you should not do it. There can be good reasons to do it. But a warning is a warning, different from an error."},{"owner":{"account_id":28434926,"reputation":1,"user_id":21755144,"display_name":"Hetvi Shah"},"score":0,"creation_date":1682658609,"post_id":76121034,"comment_id":134253381,"body_markdown":"yes agree aled but it is a client requirement so I have to do it.\nPlease help me out if you have any solution","body":"yes agree aled but it is a client requirement so I have to do it. Please help me out if you have any solution"}],"answers":[{"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682681350,"post_id":76126981,"comment_id":134257631,"body_markdown":"This explains why this is a warning originally and not an error.","body":"This explains why this is a warning originally and not an error."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682665031,"creation_date":1682665031,"answer_id":76126981,"question_id":76121034,"body_markdown":"The warning gets issued because you have annotations in your code, and some of these don&#39;t get processed by an annotation processor, which is pretty normal for annotations that are processed at runtime.\r\n\r\nIf you can&#39;t change the compiler configuration, which would be the reasonable thing to do you can register an Annotation Processor that processes the annotations, but does nothing.\r\n\r\nAn ugly hack, but your customer seems to essentially ask for exactly this kind of thing.","title":"No processor claimed any of these annotations : -Werror","body":"<p>The warning gets issued because you have annotations in your code, and some of these don't get processed by an annotation processor, which is pretty normal for annotations that are processed at runtime.</p>\n<p>If you can't change the compiler configuration, which would be the reasonable thing to do you can register an Annotation Processor that processes the annotations, but does nothing.</p>\n<p>An ugly hack, but your customer seems to essentially ask for exactly this kind of thing.</p>\n"}],"owner":{"account_id":28434926,"reputation":1,"user_id":21755144,"display_name":"Hetvi Shah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682665031,"creation_date":1682602397,"question_id":76121034,"body_markdown":"I am Enabling all warnings into errors before building a build in spring boot project.\r\nand i have to have these configurationns in the project.\r\n```\r\ntasks.withType&lt;JavaCompile&gt; {\r\n        options.encoding = &quot;UTF-8&quot;\r\n        options.compilerArgs.add(&quot;-Xlint:all&quot;)\r\n        options.compilerArgs.add(&quot;-Werror&quot;)\r\n    }\r\n```\r\n\r\n\r\nbut when i am building a project i am getting below error for annotations i have used.\r\n```\r\nNo processor claimed any of these annotations: /jakarta.validation.constraints.NotBlank,/jakarta.validation.constraints.Email,/jakarta.validation.constraints.Pattern,/jakarta.validation.constraints.NotNull,/com.fasterxml.jackson.annotation.JsonInclude,/jakarta.validation.constraints.NotEmpty\r\n\r\n```\r\n","title":"No processor claimed any of these annotations : -Werror","body":"<p>I am Enabling all warnings into errors before building a build in spring boot project.\nand i have to have these configurationns in the project.</p>\n<pre><code>tasks.withType&lt;JavaCompile&gt; {\n        options.encoding = &quot;UTF-8&quot;\n        options.compilerArgs.add(&quot;-Xlint:all&quot;)\n        options.compilerArgs.add(&quot;-Werror&quot;)\n    }\n</code></pre>\n<p>but when i am building a project i am getting below error for annotations i have used.</p>\n<pre><code>No processor claimed any of these annotations: /jakarta.validation.constraints.NotBlank,/jakarta.validation.constraints.Email,/jakarta.validation.constraints.Pattern,/jakarta.validation.constraints.NotNull,/com.fasterxml.jackson.annotation.JsonInclude,/jakarta.validation.constraints.NotEmpty\n\n</code></pre>\n"},{"tags":["java","multithreading","spring-boot","maven","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1587104396,"post_id":61259190,"comment_id":108381859,"body_markdown":"You need to show your actual code for how you&#39;re setting up these beans and how you actually fire the rules. The multi-threading is enabled in a per-KieBase basis, so how you&#39;ve defined your KieBase is important. (Also the property is a _system_ property, not an application property.)","body":"You need to show your actual code for how you&#39;re setting up these beans and how you actually fire the rules. The multi-threading is enabled in a per-KieBase basis, so how you&#39;ve defined your KieBase is important. (Also the property is a <i>system</i> property, not an application property.)"}],"answers":[{"comments":[{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587135497,"post_id":61259634,"comment_id":108398348,"body_markdown":"Thank you Stepan, Yes, the application.properties is Spring related. I tried your second approach and I haven&#39;t gotten any errors when upping the threads from 2, to 3, to 4 with 4 loop count in jmeter. So, it seems to have worked but I will continue testing.\nI put the System.setProperty(&quot;drools.multithreadEvaluation&quot;, &quot;true&quot;); line immediately after the SpringApplication.run(RulesEngineApp.class, args); line (which was the only line) in the main application class.","body":"Thank you Stepan, Yes, the application.properties is Spring related. I tried your second approach and I haven&#39;t gotten any errors when upping the threads from 2, to 3, to 4 with 4 loop count in jmeter. So, it seems to have worked but I will continue testing. I put the System.setProperty(&quot;drools.multithreadEvaluation&quot;, &quot;true&quot;); line immediately after the SpringApplication.run(RulesEngineApp.class, args); line (which was the only line) in the main application class."},{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587139479,"post_id":61259634,"comment_id":108400631,"body_markdown":"Hm, I&#39;m actually still getting errors with 4 threads and 10 loop. I will keep trying.","body":"Hm, I&#39;m actually still getting errors with 4 threads and 10 loop. I will keep trying."},{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587141416,"post_id":61259634,"comment_id":108401643,"body_markdown":"In my controller I `System.out.println(System.getProperty(&quot;drools.multithreadEvaluation&quot;));` and it says true when I hit the endpoint but I&#39;m still getting a ton of errors. So the System is setting the property, it&#39;s just not working. There currently doesn&#39;t seem to be a difference between having this set to true or null (which apparently is the default and not false).","body":"In my controller I <code>System.out.println(System.getProperty(&quot;drools.multithreadEva&zwnj;&#8203;luation&quot;));</code> and it says true when I hit the endpoint but I&#39;m still getting a ton of errors. So the System is setting the property, it&#39;s just not working. There currently doesn&#39;t seem to be a difference between having this set to true or null (which apparently is the default and not false)."},{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587141556,"post_id":61259634,"comment_id":108401720,"body_markdown":"Seems like there is a method on the RuleBaseConfiguration class setProperty which perhaps I should be setting &quot;drools.multithreadEvaluation&quot;, &quot;true&quot; on this rather than the System. Just not sure how, where, or when.","body":"Seems like there is a method on the RuleBaseConfiguration class setProperty which perhaps I should be setting &quot;drools.multithreadEvaluation&quot;, &quot;true&quot; on this rather than the System. Just not sure how, where, or when."},{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587141646,"post_id":61259634,"comment_id":108401771,"body_markdown":"My rules are not using queries, salience, or agenda groups as mentioned by the documentation these are unsupported.","body":"My rules are not using queries, salience, or agenda groups as mentioned by the documentation these are unsupported."},{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587394576,"post_id":61259634,"comment_id":108487727,"body_markdown":"The errors are simply returning an object where certain fields are null where they should have been set by the rules. This only happens with more than 2 thread.","body":"The errors are simply returning an object where certain fields are null where they should have been set by the rules. This only happens with more than 2 thread."},{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587419506,"post_id":61259634,"comment_id":108500573,"body_markdown":"So, it&#39;s literally that sometimes it sets the fields on the Entity via a rule and sometimes not. For example, JSON response would be &quot;thing1&quot;:true in one outcome and &quot;thing1&quot;:null in another outcome when the rules are fired on the exact same object. I thought this was a multithread issue but I&#39;m starting to question it. When I make a new kiebase configuration with the multithreadEvaluation to yes and then create the session from that, the issue persists. If I set it to true via the System.setProperty, I can see that it&#39;s set but the issue persists.","body":"So, it&#39;s literally that sometimes it sets the fields on the Entity via a rule and sometimes not. For example, JSON response would be &quot;thing1&quot;:true in one outcome and &quot;thing1&quot;:null in another outcome when the rules are fired on the exact same object. I thought this was a multithread issue but I&#39;m starting to question it. When I make a new kiebase configuration with the multithreadEvaluation to yes and then create the session from that, the issue persists. If I set it to true via the System.setProperty, I can see that it&#39;s set but the issue persists."},{"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"score":0,"creation_date":1587419592,"post_id":61259634,"comment_id":108500607,"body_markdown":"Furthermore, When I have a small number of loops in jmeter, I can usually get no errors even with multiple threads, but ONLY after running jmeter once. The first time it&#39;s run, it results in errors. After that it&#39;s okay until I up the looks. Again, the &quot;errors&quot; are that the fields are not being set sometimes.","body":"Furthermore, When I have a small number of loops in jmeter, I can usually get no errors even with multiple threads, but ONLY after running jmeter once. The first time it&#39;s run, it results in errors. After that it&#39;s okay until I up the looks. Again, the &quot;errors&quot; are that the fields are not being set sometimes."},{"owner":{"account_id":1453715,"reputation":801,"user_id":5466369,"display_name":"Stepan Kolesnik"},"score":0,"creation_date":1587483485,"post_id":61259634,"comment_id":108526646,"body_markdown":"Doesn&#39;t seem like the latest problems you are describing are to do with the original question, you might want to ask a separate question regarding that providing more information and context, such as examples of your rules.","body":"Doesn&#39;t seem like the latest problems you are describing are to do with the original question, you might want to ask a separate question regarding that providing more information and context, such as examples of your rules."}],"tags":[],"owner":{"account_id":1453715,"reputation":801,"user_id":5466369,"display_name":"Stepan Kolesnik"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1587069459,"creation_date":1587069459,"answer_id":61259634,"question_id":61259190,"body_markdown":"As per documentation Drools expects the _System_ property to be set, while you are setting it in `application.properties`, which I assume is Spring-related? Try setting it one of the following ways:\n\n 1. When launching your application add &quot;-Ddrools.multithreadEvaluation&quot; to the command line, e.g.:\n\n     `java -Ddrools.multithreadEvaluation &lt;the rest of parameters&gt;`\n\n 2. Or set it programmatically on the application start-up early on initialization before any Drools classes are invoked:\n\n     `System.setProperty(&quot;drools.multithreadEvaluation&quot;, &quot;true&quot;);`","title":"Drools: How to set multithreading (multithreadEvaluation) 7.34.0 -Java Maven Spring","body":"<p>As per documentation Drools expects the <em>System</em> property to be set, while you are setting it in <code>application.properties</code>, which I assume is Spring-related? Try setting it one of the following ways:</p>\n<ol>\n<li><p>When launching your application add &quot;-Ddrools.multithreadEvaluation&quot; to the command line, e.g.:</p>\n<p><code>java -Ddrools.multithreadEvaluation &lt;the rest of parameters&gt;</code></p>\n</li>\n<li><p>Or set it programmatically on the application start-up early on initialization before any Drools classes are invoked:</p>\n<p><code>System.setProperty(&quot;drools.multithreadEvaluation&quot;, &quot;true&quot;);</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28220057,"reputation":1,"user_id":21570927,"display_name":"user21570927"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682664495,"creation_date":1682410554,"answer_id":76098986,"question_id":61259190,"body_markdown":"You can try with -\r\n\r\n    KieHelper kieHelper = new KieHelper();\r\n    kieHelper.build( MultithreadEvaluationOption.YES );","title":"Drools: How to set multithreading (multithreadEvaluation) 7.34.0 -Java Maven Spring","body":"<p>You can try with -</p>\n<pre><code>KieHelper kieHelper = new KieHelper();\nkieHelper.build( MultithreadEvaluationOption.YES );\n</code></pre>\n"}],"owner":{"account_id":6592529,"reputation":131,"user_id":5093279,"display_name":"Peter N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682664495,"creation_date":1587067817,"question_id":61259190,"body_markdown":"I see that multithreadEvaluation is set to false by default.\nI have a simple Maven Spring Drools implementation using spreadsheet decision tables.\n\nThere&#39;s not much to it as it&#39;s basically a standard installation. I have a restful API and when using jmeter to POST to our endpoint,  the entity is populated and then we fire all rules on it. When using multiple threads in jmeter, I can clearly see that multithreading is not working.\n\nFrom the documentation:\n\n&gt; You can enable multithreaded evaluation using one of the following options:\n&gt; Enable the multithreaded evaluation system property:\n&gt; `drools.multithreadEvaluation=true`\n&gt;\n&gt; Enable multithreaded evaluation while creating the KIE base programmatically:\n&gt; ```\n&gt; KieServices ks = KieServices.Factory.get();\n&gt; KieBaseConfiguration kieBaseConf = ks.newKieBaseConfiguration();\n&gt; kieBaseConf.setOption(MultithreadEvaluationOption.YES);\n&gt; KieBase kieBase = kieContainer.newKieBase(kieBaseConf);\n&gt; ```\n\nTried adding `drools.multithreadedEvaluation=true` to application.properties. Didn&#39;t resolve the issue.\n\nTried the second method within the `kieSession()` @Bean, but the kieBase is not used and it didn&#39;t resolve the issue. Currently unsure if simply instantiating the KieBase is sufficient. Where should this go? The method returns kContainer.newKieSession() so not sure how to tell if the kieBaseConf.setOption(MultithreadEvaluationOption.YES) actually did anything.\n\nTried and failed to create a new kieSession prior to fireAllRules. That service is @Autowired to a kieSession @Bean.\n\nFirst time working with literally this entire tech stack so thank you for taking it slow.\n\nTL;DR Need step by step instructions how to set drools.multithreadEvaluation to true.","title":"Drools: How to set multithreading (multithreadEvaluation) 7.34.0 -Java Maven Spring","body":"<p>I see that multithreadEvaluation is set to false by default.\nI have a simple Maven Spring Drools implementation using spreadsheet decision tables.</p>\n<p>There's not much to it as it's basically a standard installation. I have a restful API and when using jmeter to POST to our endpoint,  the entity is populated and then we fire all rules on it. When using multiple threads in jmeter, I can clearly see that multithreading is not working.</p>\n<p>From the documentation:</p>\n<blockquote>\n<p>You can enable multithreaded evaluation using one of the following options:\nEnable the multithreaded evaluation system property:\n<code>drools.multithreadEvaluation=true</code></p>\n<p>Enable multithreaded evaluation while creating the KIE base programmatically:</p>\n<pre><code>KieServices ks = KieServices.Factory.get();\nKieBaseConfiguration kieBaseConf = ks.newKieBaseConfiguration();\nkieBaseConf.setOption(MultithreadEvaluationOption.YES);\nKieBase kieBase = kieContainer.newKieBase(kieBaseConf);\n</code></pre>\n</blockquote>\n<p>Tried adding <code>drools.multithreadedEvaluation=true</code> to application.properties. Didn't resolve the issue.</p>\n<p>Tried the second method within the <code>kieSession()</code> @Bean, but the kieBase is not used and it didn't resolve the issue. Currently unsure if simply instantiating the KieBase is sufficient. Where should this go? The method returns kContainer.newKieSession() so not sure how to tell if the kieBaseConf.setOption(MultithreadEvaluationOption.YES) actually did anything.</p>\n<p>Tried and failed to create a new kieSession prior to fireAllRules. That service is @Autowired to a kieSession @Bean.</p>\n<p>First time working with literally this entire tech stack so thank you for taking it slow.</p>\n<p>TL;DR Need step by step instructions how to set drools.multithreadEvaluation to true.</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682659279,"post_id":76126074,"comment_id":134253434,"body_markdown":"3) Log a message and return null?  4) ... 5) profit","body":"3) Log a message and return null?  4) ... 5) profit"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682661702,"post_id":76126074,"comment_id":134253695,"body_markdown":"throw exception and catch it in RestControllerAdvice","body":"throw exception and catch it in RestControllerAdvice"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1682664567,"post_id":76126074,"comment_id":134254226,"body_markdown":"Since its a business logic related exception, you need to know what is the behavior of the application in case of such an exception. Based upon this your application handles it (this might involve throwing a business exception and handling it &#39;appropriately&#39;). How Spring handles or Spring applications handle such exceptions is another issue.","body":"Since its a business logic related exception, you need to know what is the behavior of the application in case of such an exception. Based upon this your application handles it (this might involve throwing a business exception and handling it &#39;appropriately&#39;). How Spring handles or Spring applications handle such exceptions is another issue."}],"answers":[{"comments":[{"owner":{"account_id":28417805,"reputation":3,"user_id":21740295,"display_name":"blue_sky"},"score":0,"creation_date":1682673866,"post_id":76126820,"comment_id":134256133,"body_markdown":"Thank you, this method is really useful, it can solve my problem, I will encapsulate a return object, which includes the business data and abnormal status to be returned, etc.","body":"Thank you, this method is really useful, it can solve my problem, I will encapsulate a return object, which includes the business data and abnormal status to be returned, etc."},{"owner":{"account_id":23052384,"reputation":44,"user_id":17168995,"display_name":"Alpha Momin"},"score":0,"creation_date":1682675351,"post_id":76126820,"comment_id":134256417,"body_markdown":"Welcome! If you find my answer helpful, I would appreciate an upvote.","body":"Welcome! If you find my answer helpful, I would appreciate an upvote."}],"tags":[],"owner":{"account_id":23052384,"reputation":44,"user_id":17168995,"display_name":"Alpha Momin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682663455,"creation_date":1682663455,"answer_id":76126820,"question_id":76126074,"body_markdown":"If I was you, I would use this approach where I create one ApiResponse class, and inside this, I create all things which I want to show on frontend like status, and message as per requirement these things make your error more readable and understandable if someone encounters the error while using exception is a costly thing like if there is any bug or any issue exception handling is going to hide those things and also we can&#39;t predict in which way our code going to perform or there will be the impact on your code performance when we are using exception there are some other factors but I think I made my point clear to you so until or unless if it is not necessary then don&#39;t use exceptions\r\n\r\n    //----------here is an example----------------//\r\n    //checkpoint to check username, email and phone number of coaching if same \r\n      stop or move forward\r\n\tpublic ResponseEntity&lt;Object&gt; checkCoachingDetails(AddCoachingRequest \r\n                                                       addCoachingRequest)\r\n\t{\r\n\t\tCoaching coachingExistByUsername = \r\n          coachingRepository.findByUsername(addCoachingRequest.getUsername());\r\n\t\tCoaching coachingExistByEmail = \r\n          coachingRepository.findByEmail(addCoachingRequest.getEmail());\r\n\t\tCoaching coachingExistByPhoneNum = \r\n     coachingRepository.findByPhoneNumber(addCoachingRequest.getPhoneNumber());\r\n\r\n\t\tif(coachingExistByUsername != null &amp;&amp; coachingExistByEmail != null &amp;&amp; \r\n           coachingExistByPhoneNum != null)\r\n\t\t{\r\n        //earlier i was throwing exception if i was not able to find the \r\n          coaching by username, email or phone number\r\n\t\t//throw new UserAlreadyExistException(&quot;Username and/or Email and/or \r\n              Mobile number already in use!&quot;, HttpStatus.BAD_REQUEST);   \r\n\r\n\r\n         //now i used this approach here\r\n        return ResponseEntity.badRequest().body(new ApiResponse(false, \r\n        &quot;Username and/or Email and/or Mobile number already in use!&quot;)); \r\n        }  \r\n    }\r\n\r\n    //---this is my ApiResponse class----//\r\n      public class ApiResponse \r\n      {\r\n\t     private Boolean status;\r\n\t     private String message;\r\n      }\r\n\r\n\r\n    //------this is my custom exception class------//\r\n      public class UserAlreadyExistException extends RuntimeException\r\n      {\r\n\t    public UserAlreadyExistException(String message, HttpStatus badRequest) \r\n\t    {\r\n\t\t\r\n\t    } \r\n       }\r\nlet me know if anywhere my point is not clear or understandable","title":"How to use exceptions reasonably in business logic?","body":"<p>If I was you, I would use this approach where I create one ApiResponse class, and inside this, I create all things which I want to show on frontend like status, and message as per requirement these things make your error more readable and understandable if someone encounters the error while using exception is a costly thing like if there is any bug or any issue exception handling is going to hide those things and also we can't predict in which way our code going to perform or there will be the impact on your code performance when we are using exception there are some other factors but I think I made my point clear to you so until or unless if it is not necessary then don't use exceptions</p>\n<pre><code>//----------here is an example----------------//\n//checkpoint to check username, email and phone number of coaching if same \n  stop or move forward\npublic ResponseEntity&lt;Object&gt; checkCoachingDetails(AddCoachingRequest \n                                                   addCoachingRequest)\n{\n    Coaching coachingExistByUsername = \n      coachingRepository.findByUsername(addCoachingRequest.getUsername());\n    Coaching coachingExistByEmail = \n      coachingRepository.findByEmail(addCoachingRequest.getEmail());\n    Coaching coachingExistByPhoneNum = \n coachingRepository.findByPhoneNumber(addCoachingRequest.getPhoneNumber());\n\n    if(coachingExistByUsername != null &amp;&amp; coachingExistByEmail != null &amp;&amp; \n       coachingExistByPhoneNum != null)\n    {\n    //earlier i was throwing exception if i was not able to find the \n      coaching by username, email or phone number\n    //throw new UserAlreadyExistException(&quot;Username and/or Email and/or \n          Mobile number already in use!&quot;, HttpStatus.BAD_REQUEST);   \n\n\n     //now i used this approach here\n    return ResponseEntity.badRequest().body(new ApiResponse(false, \n    &quot;Username and/or Email and/or Mobile number already in use!&quot;)); \n    }  \n}\n\n//---this is my ApiResponse class----//\n  public class ApiResponse \n  {\n     private Boolean status;\n     private String message;\n  }\n\n\n//------this is my custom exception class------//\n  public class UserAlreadyExistException extends RuntimeException\n  {\n    public UserAlreadyExistException(String message, HttpStatus badRequest) \n    {\n    \n    } \n   }\n</code></pre>\n<p>let me know if anywhere my point is not clear or understandable</p>\n"}],"owner":{"account_id":28417805,"reputation":3,"user_id":21740295,"display_name":"blue_sky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76126820,"answer_count":1,"score":0,"last_activity_date":1682663455,"creation_date":1682652486,"question_id":76126074,"body_markdown":"When I use Springboot to write code, there are Controller layer, Service layer and Repository layer. In the Service layer, I need to verify whether multiple business conditions are correct. If they are correct, I will continue to execute and return success. But if the business condition verification fails and the condition is not met, should I throw an exception to the Controller layer or return a null value.\r\n\r\n1. If I throw an exception, the Controller layer can get the message that the Service execution failed and sent it to the front end. But this approach may bring performance problems\r\n2. If I return a null value, then the Controller layer cannot know why the Service failed to execute\r\n\r\nFor example\r\n\r\n```\r\nController.java \r\n\r\n@RestController\r\npublic class Controller{\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String testController(){\r\n        service.business();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nService.java \r\n\r\npublic class Service{\r\n    public String business(){\r\n        if(checkConditions_1() == false){\r\n            // Should I throw an exception or return null\r\n            ......\r\n        }    \r\n        if(checkConditions_2() == false){\r\n            // Should I throw an exception or return null\r\n            ......\r\n        }\r\n        if(checkConditions_3() == false){\r\n            // Should I throw an exception or return null\r\n            ......\r\n        }    \r\n        ......\r\n        return success;\r\n    }\r\n}\r\n\r\n```\r\n\r\n1. How should exceptions be used reasonably in business logic? \r\n2. Is there a code specification or related books?","title":"How to use exceptions reasonably in business logic?","body":"<p>When I use Springboot to write code, there are Controller layer, Service layer and Repository layer. In the Service layer, I need to verify whether multiple business conditions are correct. If they are correct, I will continue to execute and return success. But if the business condition verification fails and the condition is not met, should I throw an exception to the Controller layer or return a null value.</p>\n<ol>\n<li>If I throw an exception, the Controller layer can get the message that the Service execution failed and sent it to the front end. But this approach may bring performance problems</li>\n<li>If I return a null value, then the Controller layer cannot know why the Service failed to execute</li>\n</ol>\n<p>For example</p>\n<pre><code>Controller.java \n\n@RestController\npublic class Controller{\n    @GetMapping(&quot;/test&quot;)\n    public String testController(){\n        service.business();\n    }\n}\n\n</code></pre>\n<pre><code>Service.java \n\npublic class Service{\n    public String business(){\n        if(checkConditions_1() == false){\n            // Should I throw an exception or return null\n            ......\n        }    \n        if(checkConditions_2() == false){\n            // Should I throw an exception or return null\n            ......\n        }\n        if(checkConditions_3() == false){\n            // Should I throw an exception or return null\n            ......\n        }    \n        ......\n        return success;\n    }\n}\n\n</code></pre>\n<ol>\n<li>How should exceptions be used reasonably in business logic?</li>\n<li>Is there a code specification or related books?</li>\n</ol>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":27001069,"reputation":1,"user_id":20562339,"display_name":"Rawatr"},"score":0,"creation_date":1681703350,"post_id":76027267,"comment_id":134093702,"body_markdown":"[pdf signed first](https://drive.google.com/file/d/11h9aQLcjGpJKdJTwLNEl3ax4hbkxI6iw/view?usp=share_link)\n\n[pdf-signed-second](https://drive.google.com/file/d/1w5wQktc16yK-8ou_EutPvWXwukvcnWIN/view?usp=share_link)","body":"<a href=\"https://drive.google.com/file/d/11h9aQLcjGpJKdJTwLNEl3ax4hbkxI6iw/view?usp=share_link\" rel=\"nofollow noreferrer\">pdf signed first</a>  <a href=\"https://drive.google.com/file/d/1w5wQktc16yK-8ou_EutPvWXwukvcnWIN/view?usp=share_link\" rel=\"nofollow noreferrer\">pdf-signed-second</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1681720868,"post_id":76027267,"comment_id":134096329,"body_markdown":"Adobe is being misleading IMHO. The stamp was added with a separate incremental saving before signing (maybe you weren&#39;t aware of that). The text for the first signature says &quot;Diese Revision wurde nicht ge&#228;ndert&quot; i.e. Adobe admits that the signed version wasn&#39;t altered for the first file.","body":"Adobe is being misleading IMHO. The stamp was added with a separate incremental saving before signing (maybe you weren&#39;t aware of that). The text for the first signature says &quot;Diese Revision wurde nicht ge&#228;ndert&quot; i.e. Adobe admits that the signed version wasn&#39;t altered for the first file."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682666231,"post_id":76027267,"comment_id":134254544,"body_markdown":"Does your edit represent the solution to your problem? Then you had better put that into an answer (which you eventually can mark  as _accepted answer_).","body":"Does your edit represent the solution to your problem? Then you had better put that into an answer (which you eventually can mark  as <i>accepted answer</i>)."},{"owner":{"account_id":27001069,"reputation":1,"user_id":20562339,"display_name":"Rawatr"},"score":0,"creation_date":1682868682,"post_id":76027267,"comment_id":134279476,"body_markdown":"@mkl *Does your edit represent the solution to your problem?* The same issue of mutiple references to an object after revisions is still there in the pdfs shared in the edit. I have shared the code of how I am adding initials and signatures for mutiple users. I am still not sure about the root cause of the issue. But the signatures are always valid.","body":"@mkl <i>Does your edit represent the solution to your problem?</i> The same issue of mutiple references to an object after revisions is still there in the pdfs shared in the edit. I have shared the code of how I am adding initials and signatures for mutiple users. I am still not sure about the root cause of the issue. But the signatures are always valid."}],"answers":[{"comments":[{"owner":{"account_id":27001069,"reputation":1,"user_id":20562339,"display_name":"Rawatr"},"score":0,"creation_date":1681809197,"post_id":76033931,"comment_id":134112520,"body_markdown":"thanks for the detailed analysis. I am not sure how multiple references for the objects are being created, if you could provide some insights into what is going wrong causing this issue? I have also tried a different approach to add all the text fields for initials of the user before signing the document starts and populate the field value with text when the user signs the document. Here is the [pdf] (https://drive.google.com/file/d/1pj3i83UPCa4M9NOzTI4bpVfQtMPBFwlB/view?usp=share_link) it seems to have the same issue as the previous ones","body":"thanks for the detailed analysis. I am not sure how multiple references for the objects are being created, if you could provide some insights into what is going wrong causing this issue? I have also tried a different approach to add all the text fields for initials of the user before signing the document starts and populate the field value with text when the user signs the document. Here is the [pdf] (<a href=\"https://drive.google.com/file/d/1pj3i83UPCa4M9NOzTI4bpVfQtMPBFwlB/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1pj3i83UPCa4M9NOzTI4bpVfQtMPBFwlB/&hellip;</a>&zwnj;&#8203;) it seems to have the same issue as the previous ones"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681916402,"post_id":76033931,"comment_id":134134808,"body_markdown":"@Rawatr *&quot;if you could provide some insights into what is going wrong causing this issue?&quot;* - Please share the code that causes the issue. As detailed above, problematic revisions are those in which the stamps are added. In your question you say you used the code from EDIT 3 of [this question](https://stackoverflow.com/q/41467415/1729265) for that task. [I just tested that](https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/annotate/AddAnnotationIncrementally.java#L54), both with PDFBox 2.0.28 and your 2.0.25, but could not reproduce the issue...","body":"@Rawatr <i>&quot;if you could provide some insights into what is going wrong causing this issue?&quot;</i> - Please share the code that causes the issue. As detailed above, problematic revisions are those in which the stamps are added. In your question you say you used the code from EDIT 3 of <a href=\"https://stackoverflow.com/q/41467415/1729265\">this question</a> for that task. <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/annotate/AddAnnotationIncrementally.java#L54\" rel=\"nofollow noreferrer\">I just tested that</a>, both with PDFBox 2.0.28 and your 2.0.25, but could not reproduce the issue..."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681732562,"creation_date":1681725790,"answer_id":76033931,"question_id":76027267,"body_markdown":"First of all, the Stamp annotation on page 2 indeed is added after the first signature. Thus, the message displayed after the second signature is correct.\r\n\r\nFurthermore, there are errors in your PDFs. Such errors can cause the most interesting effects during signature validation. Probably even that &quot;annotation modified&quot; on the file signed once.\r\n\r\n**In detail:**\r\n\r\nYour file has multiple Revisions:\r\n\r\n* The first revision (first 3028 bytes, object numbers up to 10)\r\n\r\n  Here the two pages have no annotations.\r\n\r\n* The second revision (first 4492 bytes, object numbers up to 16)\r\n\r\n  Here the first page gets a Stamp annotation.\r\n\r\n  _This revision has a multiple new objects for page 1 and cross reference issues._\r\n\r\n* The third revision (first 44969 bytes, object numbers up to 22)\r\n\r\n  Here the first signature is applied with a signature widget on the second page.\r\n\r\n* The fourth revision (first 366531 bytes, object numbers up to 28)\r\n\r\n  Here validation related information are added to the DSS of the PDF.\r\n\r\n(Only in the copy signed twice:)\r\n\r\n* The fifth revision (first 368156 bytes, object number up to 34)\r\n\r\n  Here the second page gets a Stamp annotation.\r\n\r\n  _This revision has a multiple new objects for page 2 and cross reference issues._\r\n\r\n* The sixth revision (first 407980 bytes, object numbers up to 39)\r\n\r\n  Here the second signature is applied with a signature widget on the first page.\r\n\r\n* The seventh revision (all 729587 bytes, object numbers up to 44)\r\n\r\n  Here validation related information are added to the DSS of the PDF.\r\n\r\n**The issues in revision 2 and 5:**\r\n\r\nIn each case the updated page dictionary of the page in question is there twice in the respective revision and there also are two entries for it in the cross references.\r\n\r\nIn revision 2 object 4 (page 1) has entries at offsets 3030 and 3443:\r\n\r\n```lang-none\r\nxref\r\n0 2\r\n0000000000 65535 f\r\n0000003198 00000 n\r\n3 2\r\n0000003263 00000 n\r\n0000003030 00000 n\r\n4 1\r\n0000003442 00000 n\r\n11 6\r\n0000003326 00000 n\r\n0000003610 00000 n\r\n0000003642 00000 n\r\n0000003926 00000 n\r\n0000003961 00000 n\r\n0000003994 00000 n\r\n```\r\n\r\nIn revision 5 object 6 (page 2) has entries at offsets 366533 and 367089:\r\n\r\n```lang-none\r\nxref\r\n0 2\r\n0000000000 65535 f\r\n0000366708 00000 n\r\n3 1\r\n0000366910 00000 n\r\n6 1\r\n0000366533 00000 n\r\n6 1\r\n0000367089 00000 n\r\n29 6\r\n0000366973 00000 n\r\n0000367264 00000 n\r\n0000367296 00000 n\r\n0000367582 00000 n\r\n0000367617 00000 n\r\n0000367650 00000 n\r\n```\r\n\r\nThis is strictly invalid.","title":"Signing a pdf digitally multiple times and adding text/images to it while signing","body":"<p>First of all, the Stamp annotation on page 2 indeed is added after the first signature. Thus, the message displayed after the second signature is correct.</p>\n<p>Furthermore, there are errors in your PDFs. Such errors can cause the most interesting effects during signature validation. Probably even that &quot;annotation modified&quot; on the file signed once.</p>\n<p><strong>In detail:</strong></p>\n<p>Your file has multiple Revisions:</p>\n<ul>\n<li><p>The first revision (first 3028 bytes, object numbers up to 10)</p>\n<p>Here the two pages have no annotations.</p>\n</li>\n<li><p>The second revision (first 4492 bytes, object numbers up to 16)</p>\n<p>Here the first page gets a Stamp annotation.</p>\n<p><em>This revision has a multiple new objects for page 1 and cross reference issues.</em></p>\n</li>\n<li><p>The third revision (first 44969 bytes, object numbers up to 22)</p>\n<p>Here the first signature is applied with a signature widget on the second page.</p>\n</li>\n<li><p>The fourth revision (first 366531 bytes, object numbers up to 28)</p>\n<p>Here validation related information are added to the DSS of the PDF.</p>\n</li>\n</ul>\n<p>(Only in the copy signed twice:)</p>\n<ul>\n<li><p>The fifth revision (first 368156 bytes, object number up to 34)</p>\n<p>Here the second page gets a Stamp annotation.</p>\n<p><em>This revision has a multiple new objects for page 2 and cross reference issues.</em></p>\n</li>\n<li><p>The sixth revision (first 407980 bytes, object numbers up to 39)</p>\n<p>Here the second signature is applied with a signature widget on the first page.</p>\n</li>\n<li><p>The seventh revision (all 729587 bytes, object numbers up to 44)</p>\n<p>Here validation related information are added to the DSS of the PDF.</p>\n</li>\n</ul>\n<p><strong>The issues in revision 2 and 5:</strong></p>\n<p>In each case the updated page dictionary of the page in question is there twice in the respective revision and there also are two entries for it in the cross references.</p>\n<p>In revision 2 object 4 (page 1) has entries at offsets 3030 and 3443:</p>\n<pre class=\"lang-none prettyprint-override\"><code>xref\n0 2\n0000000000 65535 f\n0000003198 00000 n\n3 2\n0000003263 00000 n\n0000003030 00000 n\n4 1\n0000003442 00000 n\n11 6\n0000003326 00000 n\n0000003610 00000 n\n0000003642 00000 n\n0000003926 00000 n\n0000003961 00000 n\n0000003994 00000 n\n</code></pre>\n<p>In revision 5 object 6 (page 2) has entries at offsets 366533 and 367089:</p>\n<pre class=\"lang-none prettyprint-override\"><code>xref\n0 2\n0000000000 65535 f\n0000366708 00000 n\n3 1\n0000366910 00000 n\n6 1\n0000366533 00000 n\n6 1\n0000367089 00000 n\n29 6\n0000366973 00000 n\n0000367264 00000 n\n0000367296 00000 n\n0000367582 00000 n\n0000367617 00000 n\n0000367650 00000 n\n</code></pre>\n<p>This is strictly invalid.</p>\n"}],"owner":{"account_id":27001069,"reputation":1,"user_id":20562339,"display_name":"Rawatr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682663208,"creation_date":1681642013,"question_id":76027267,"body_markdown":"I want a pdf to be signed by multiple users sequentially. They can also add text or an image of their initials while they sign the document digitally. I am using pdfbox version 2.0.25.\r\n\r\nI have used the code from [here](https://stackoverflow.com/questions/41467415/pdfbox-opening-and-saving-a-signed-pdf-invalidates-my-signature) in edit 3 of the question for adding the text while also signing the document.\r\nAnd below is the code for adding a signature field to the pdf.\r\n\r\n```\r\ntry (FileOutputStream fos = new FileOutputStream(signedFile)) {\r\n            PDSignature signature = new PDSignature();\r\n            PDDocument doc = PDDocument.load(inputFile);\r\n            for (DocumentSigningObject signingObject : documentSigningObjectList) {\r\n                SignatureOptions signatureOptions = new SignatureOptions();\r\n                SignerOptionEntity signerOption = signingObject.getSignerOptionEntity();\r\n\r\n                PDRectangle rect = createSignatureRectangle(doc, signingObject.getPlaceholderEntity());\r\n                signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\r\n                signatureOptions.setPage(signingObject.getSignatureComponents().getPage() - 1);\r\n                signatureOptions\r\n                        .setVisualSignature(createVisualSignatureTemplate(doc, rect,\r\n                                signerOption, signingObject.getSignatureComponents().getPage(),\r\n                                signingObject.getSignatureComponents().getText()));\r\n\r\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n                signature.setName(name);\r\n\r\n                if (Objects.nonNull(signerOption) &amp;&amp; doLocationExists(signerOption)) {\r\n                    signature.setLocation(getFormattedLocationValue(signerOption));\r\n                }\r\n\r\n                signature.setSignDate(Calendar.getInstance());\r\n                signature.setReason(Objects.nonNull(signerOption)\r\n                        &amp;&amp; StringUtils.isNotBlank(signerOption.getSignatureNote())\r\n                        ? signerOption.getSignatureNote() : &quot;&quot;);\r\n                doc.addSignature(signature, signatureOptions);\r\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n                MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n                byte[] hashBytes = digest.digest(IOUtils.toByteArray(externalSigning.getContent()));\r\n                base64Hash = Base64.getEncoder().encodeToString(hashBytes);\r\n                externalSigning.setSignature(new byte[0]);\r\n                offset = signature.getByteRange()[1] + 1;\r\n                IOUtils.closeQuietly(signatureOptions);\r\n            }\r\n```\r\n\r\nMethod createSignatureVisualTemplate()\r\n\r\n```\r\ntry (PDDocument doc = new PDDocument()) {\r\n            int pageNum = pageNo - 1;\r\n            PDPage page = new PDPage(srcDoc.getPage(pageNum).getMediaBox());\r\n            doc.addPage(page);\r\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\r\n            if (acroForm == null) {\r\n                acroForm = new PDAcroForm(doc);\r\n            }\r\n            doc.getDocumentCatalog().setAcroForm(acroForm);\r\n            acroForm.setSignaturesExist(true);\r\n            acroForm.setAppendOnly(true);\r\n            acroForm.getCOSObject().setDirect(true);\r\n\r\n            PDSignatureField signatureField = new PDSignatureField(acroForm);\r\n            List&lt;PDField&gt; acroFormFields = acroForm.getFields();\r\n            acroFormFields.add(signatureField);\r\n            PDAnnotationWidget widget = signatureField.getWidgets().get(0);\r\n            widget.setRectangle(rect);\r\n\r\n            PDStream stream = new PDStream(doc);\r\n            PDFormXObject form = new PDFormXObject(stream);\r\n            PDResources res = new PDResources();\r\n            form.setResources(res);\r\n            form.setFormType(1);\r\n            PDRectangle pdRectangle = new PDRectangle(rect.getWidth(), rect.getHeight());\r\n            Matrix initialScale = null;\r\n            switch (srcDoc.getPage(pageNum).getRotation()) {\r\n                case 90:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(1));\r\n                    initialScale = Matrix.getScaleInstance(pdRectangle.getWidth() / pdRectangle.getHeight(),\r\n                            pdRectangle.getHeight() / pdRectangle.getWidth());\r\n                    break;\r\n                case 180:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(2));\r\n                    break;\r\n                case 270:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(3));\r\n                    initialScale = Matrix.getScaleInstance(pdRectangle.getWidth() / pdRectangle.getHeight(),\r\n                            pdRectangle.getHeight() / pdRectangle.getWidth());\r\n                    break;\r\n                case 0:\r\n                default:\r\n                    break;\r\n            }\r\n            form.setBBox(pdRectangle);\r\n\r\n            // from PDVisualSigBuilder.createAppearanceDictionary()\r\n            PDAppearanceDictionary appearance = new PDAppearanceDictionary();\r\n            appearance.getCOSObject().setDirect(true);\r\n            PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\r\n            appearance.setNormalAppearance(appearanceStream);\r\n            widget.setAppearance(appearance);\r\n\r\n            try (PDPageContentStream cs = new PDPageContentStream(doc, appearanceStream)) {\r\n                if (initialScale != null) {\r\n                    cs.transform(initialScale);\r\n                }\r\n                cs.saveGraphicsState();\r\n                //Use the signature image as received, without any modification\r\n                if (Objects.nonNull(signatureOption) &amp;&amp; Objects.nonNull(signatureOption.getSignatureImage())) {\r\n                    PDImageXObject img = PDImageXObject.createFromByteArray(doc,\r\n                            getBase64ImageByteData(signatureOption), null);\r\n                    cs.drawImage(img, 0, 0, rect.getWidth(), rect.getHeight());\r\n\r\n                }\r\n                cs.restoreGraphicsState();\r\n            }\r\n            \r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            doc.save(baos);\r\n            return new ByteArrayInputStream(baos.toByteArray());\r\n```\r\n\r\nAfter the first user signs the document the following message is displayed when the pdf is opened in AdobeAcrobatReader.\r\n\r\n[Pdf signed by first user for the fisrt time](https://i.stack.imgur.com/xILYH.png)\r\n\r\nNow the second user signs the already signed pdf and adds his initials as well. Now the message displayed on the reader is :\r\n[Pdf signed second time by different user](https://i.stack.imgur.com/tEJ4q.png)\r\n\r\nThe texts are added before the signature fields are added to the document but it says that the document was updated after it was signed. Although both the signatures are still valid, can someone explain the message and a way so that only validity of the signatures is displayed.\r\n\r\n\r\nEDIT-1\r\n\r\nI am using a different approach now, I am adding all the textFields for the initials before signing the document and populating them when the user comes to sign the document.\r\n\r\n```\r\npublic Blob addPlaceholders(Blob documentBlob, List&lt;DocumentSigningObject&gt; placeholderList,\r\n                String userId, boolean arePlaceholdersAdded)\r\n            throws IOException, SQLException {\r\n        //return if placeholders are already added or there are no placeholders for initials\r\n        if (arePlaceholdersAdded || placeholderList.isEmpty()) {\r\n            return documentBlob;\r\n        }\r\n        byte[] bytes = documentBlob.getBytes(1L, (int) documentBlob.length());\r\n        File placeholdersAddedFile = new File(&quot;temp&quot;, getTempFileName(&quot;placeholdersAdded_&quot;));\r\n        //ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\r\n        Blob placeholderAddedBlob;\r\n        try (FileOutputStream fos = new FileOutputStream(placeholdersAddedFile)) {\r\n            PDDocument pdDocument = PDDocument.load(bytes);\r\n            for (DocumentSigningObject signingObject : placeholderList) {\r\n                PDAcroForm form = pdDocument.getDocumentCatalog().getAcroForm();\r\n                if (form == null) {\r\n                    form = new PDAcroForm(pdDocument);\r\n                }\r\n                pdDocument.getDocumentCatalog().setAcroForm(form);\r\n                PDFont font = PDType1Font.HELVETICA;\r\n                PDResources resources = new PDResources();\r\n                resources.put(COSName.getPDFName(&quot;Helv&quot;), font);\r\n                form.setDefaultResources(resources);\r\n                PDTextField textField = new PDTextField(form);\r\n                String fieldName = SigningPlaceholderType.INITIALS.name() + signingObject.getPlaceholderId();\r\n                textField.setPartialName(fieldName);\r\n                String defaultAppearance = &quot;/Helv 12 Tf 0 0 0 rg&quot;;\r\n                textField.setDefaultAppearance(defaultAppearance);\r\n                textField.setReadOnly(true);\r\n                form.getFields().add(textField);\r\n                PDAnnotationWidget widget = textField.getWidgets().get(0);\r\n                PDRectangle rect = createSignatureRectangle(pdDocument, signingObject);\r\n                int pageNum = signingObject.getPage() - 1;\r\n                PDPage page = pdDocument.getPage(pageNum);\r\n                widget.setRectangle(rect);\r\n                widget.setPage(page);\r\n                PDAppearanceCharacteristicsDictionary fieldAppearance =\r\n                        new PDAppearanceCharacteristicsDictionary(new COSDictionary());\r\n                fieldAppearance.setBorderColour(new PDColor(new float[]{}, PDDeviceRGB.INSTANCE));\r\n                widget.setAppearanceCharacteristics(fieldAppearance);\r\n                widget.setPrinted(true);\r\n                page.getAnnotations().add(widget);\r\n                page.getCOSObject().setNeedToBeUpdated(true);\r\n                form.getFields().add(textField);\r\n                pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n            }\r\n            pdDocument.saveIncremental(fos, objectsToWrite);\r\n            try (FileInputStream fis = new FileInputStream(placeholdersAddedFile)) {\r\n                placeholderAddedBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes());\r\n            }\r\n            Files.delete(placeholdersAddedFile.toPath());\r\n            log.debug(&quot;temp signed file {} deleted successfully&quot;, placeholdersAddedFile.getName());\r\n        }\r\n        return placeholderAddedBlob;\r\n    }\r\n```\r\nNow all the blank fields are already in the document and we just fetch and add text to them along with signing the document.\r\n\r\n```\r\npublic Blob addInitials(Blob placeholdersAddedFile, List&lt;DocumentSigningObject&gt; initialsInfoList, String userId)\r\n            throws IOException, SQLException {\r\n\r\n        if (initialsInfoList.isEmpty()) {\r\n            return placeholdersAddedFile;\r\n        }\r\n        byte[] bytes = placeholdersAddedFile.getBytes(1L, (int) placeholdersAddedFile.length());\r\n        File initialedFile = new File(&quot;temp&quot;, getTempFileName(&quot;initialsAdded_&quot;));\r\n        Blob initialedDoucmentBlob;\r\n        try (FileOutputStream fos = new FileOutputStream(initialedFile)) {\r\n            PDDocument doc = PDDocument.load(bytes);\r\n            Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\r\n            for (DocumentSigningObject initialsInfoObject : initialsInfoList) {\r\n                String initialsImage = initialsInfoObject.getInitialsImage();\r\n                String initialsText = initialsInfoObject.getText();\r\n\r\n                //fetch the field created for initials from the document and populate the values\r\n                PDDocumentCatalog docCatalog = doc.getDocumentCatalog();\r\n                PDAcroForm acroForm = docCatalog.getAcroForm();\r\n                if (acroForm != null) {\r\n                    String fieldName = SigningPlaceholderType.INITIALS.name()\r\n                            + initialsInfoObject.getPlaceholderId();\r\n                    PDField field = acroForm.getField(fieldName);\r\n                    if (StringUtils.isNotBlank(initialsText)) {\r\n                        field.setValue(initialsText);\r\n                        field.setReadOnly(true);\r\n                    } else if (StringUtils.isNotBlank(initialsImage)) {\r\n                        List&lt;PDAnnotationWidget&gt; widgets = field.getWidgets();\r\n                        if (widgets != null &amp;&amp; widgets.size() &gt; 0) {\r\n\r\n                            Blob initialsImageBlob = DocumentManagerUtils.convertBase64StringToBlob(initialsImage);\r\n                            PDImageXObject ximage = PDImageXObject.createFromByteArray(doc,\r\n                                    Base64.getDecoder().decode(initialsImageBlob.getBytes(1L,\r\n                                            (int) initialsImageBlob.length())), null);\r\n                            float imageScaleRatio = (float) ximage.getHeight() / (float) ximage.getWidth();\r\n\r\n                            PDRectangle fieldRectangle = getFieldArea(field);\r\n                            float height = fieldRectangle.getHeight();\r\n                            float width = height / imageScaleRatio;\r\n                            float x = fieldRectangle.getLowerLeftX();\r\n                            float y = fieldRectangle.getLowerLeftY();\r\n\r\n                            PDAppearanceStream pdAppearanceStream = new PDAppearanceStream(doc);\r\n                            pdAppearanceStream.setResources(new PDResources());\r\n                            try (PDPageContentStream pdPageContentStream = new PDPageContentStream(doc,\r\n                                    pdAppearanceStream)) {\r\n                                pdPageContentStream.drawImage(ximage, x, y, width, height);\r\n                            }\r\n                            pdAppearanceStream.setBBox(new PDRectangle(x, y, width, height));\r\n                            PDAnnotationWidget annotationWidget = widgets.get(0);\r\n                            PDAppearanceDictionary pdAppearanceDictionary = annotationWidget.getAppearance();\r\n                            if (pdAppearanceDictionary == null) {\r\n                                pdAppearanceDictionary = new PDAppearanceDictionary();\r\n                                annotationWidget.setAppearance(pdAppearanceDictionary);\r\n                            }\r\n                            pdAppearanceDictionary.setNormalAppearance(pdAppearanceStream);\r\n                        }\r\n                    }\r\n                    objectsToWrite.add(field.getCOSObject());\r\n                    acroForm.getCOSObject().setNeedToBeUpdated(true);\r\n                    field.getCOSObject().setNeedToBeUpdated(true);\r\n                    doc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n                }\r\n            }\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            doc.saveIncremental(fos, objectsToWrite);\r\n            try (FileInputStream fis = new FileInputStream(initialedFile)) {\r\n                initialedDoucmentBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes());\r\n            }\r\n            Files.delete(initialedFile.toPath());\r\n            log.debug(&quot;temp signed file {} deleted successfully&quot;, initialedFile.getName());\r\n        }\r\n        return initialedDoucmentBlob;\r\n    }\r\n```\r\nThe adding signature field code is already shown above.\r\nusing this approach the document can be signed multiple times and all of them are valid but the issue of multiple references to objects after revisions can be seen. The pdfs are below.\r\n\r\n[Pdf signed first](https://drive.google.com/file/d/1iEHqcoW7ELdI4fVLw0ymnyZ_aAYQTt_X/view?usp=share_link)\r\n[Pdf signed second][1]\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1OBqaJ3VS66ahp76iD6r0hhykNuavyxmZ/view?usp=share_link","title":"Signing a pdf digitally multiple times and adding text/images to it while signing","body":"<p>I want a pdf to be signed by multiple users sequentially. They can also add text or an image of their initials while they sign the document digitally. I am using pdfbox version 2.0.25.</p>\n<p>I have used the code from <a href=\"https://stackoverflow.com/questions/41467415/pdfbox-opening-and-saving-a-signed-pdf-invalidates-my-signature\">here</a> in edit 3 of the question for adding the text while also signing the document.\nAnd below is the code for adding a signature field to the pdf.</p>\n<pre><code>try (FileOutputStream fos = new FileOutputStream(signedFile)) {\n            PDSignature signature = new PDSignature();\n            PDDocument doc = PDDocument.load(inputFile);\n            for (DocumentSigningObject signingObject : documentSigningObjectList) {\n                SignatureOptions signatureOptions = new SignatureOptions();\n                SignerOptionEntity signerOption = signingObject.getSignerOptionEntity();\n\n                PDRectangle rect = createSignatureRectangle(doc, signingObject.getPlaceholderEntity());\n                signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\n                signatureOptions.setPage(signingObject.getSignatureComponents().getPage() - 1);\n                signatureOptions\n                        .setVisualSignature(createVisualSignatureTemplate(doc, rect,\n                                signerOption, signingObject.getSignatureComponents().getPage(),\n                                signingObject.getSignatureComponents().getText()));\n\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n                signature.setName(name);\n\n                if (Objects.nonNull(signerOption) &amp;&amp; doLocationExists(signerOption)) {\n                    signature.setLocation(getFormattedLocationValue(signerOption));\n                }\n\n                signature.setSignDate(Calendar.getInstance());\n                signature.setReason(Objects.nonNull(signerOption)\n                        &amp;&amp; StringUtils.isNotBlank(signerOption.getSignatureNote())\n                        ? signerOption.getSignatureNote() : &quot;&quot;);\n                doc.addSignature(signature, signatureOptions);\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n                MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n                byte[] hashBytes = digest.digest(IOUtils.toByteArray(externalSigning.getContent()));\n                base64Hash = Base64.getEncoder().encodeToString(hashBytes);\n                externalSigning.setSignature(new byte[0]);\n                offset = signature.getByteRange()[1] + 1;\n                IOUtils.closeQuietly(signatureOptions);\n            }\n</code></pre>\n<p>Method createSignatureVisualTemplate()</p>\n<pre><code>try (PDDocument doc = new PDDocument()) {\n            int pageNum = pageNo - 1;\n            PDPage page = new PDPage(srcDoc.getPage(pageNum).getMediaBox());\n            doc.addPage(page);\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\n            if (acroForm == null) {\n                acroForm = new PDAcroForm(doc);\n            }\n            doc.getDocumentCatalog().setAcroForm(acroForm);\n            acroForm.setSignaturesExist(true);\n            acroForm.setAppendOnly(true);\n            acroForm.getCOSObject().setDirect(true);\n\n            PDSignatureField signatureField = new PDSignatureField(acroForm);\n            List&lt;PDField&gt; acroFormFields = acroForm.getFields();\n            acroFormFields.add(signatureField);\n            PDAnnotationWidget widget = signatureField.getWidgets().get(0);\n            widget.setRectangle(rect);\n\n            PDStream stream = new PDStream(doc);\n            PDFormXObject form = new PDFormXObject(stream);\n            PDResources res = new PDResources();\n            form.setResources(res);\n            form.setFormType(1);\n            PDRectangle pdRectangle = new PDRectangle(rect.getWidth(), rect.getHeight());\n            Matrix initialScale = null;\n            switch (srcDoc.getPage(pageNum).getRotation()) {\n                case 90:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(1));\n                    initialScale = Matrix.getScaleInstance(pdRectangle.getWidth() / pdRectangle.getHeight(),\n                            pdRectangle.getHeight() / pdRectangle.getWidth());\n                    break;\n                case 180:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(2));\n                    break;\n                case 270:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(3));\n                    initialScale = Matrix.getScaleInstance(pdRectangle.getWidth() / pdRectangle.getHeight(),\n                            pdRectangle.getHeight() / pdRectangle.getWidth());\n                    break;\n                case 0:\n                default:\n                    break;\n            }\n            form.setBBox(pdRectangle);\n\n            // from PDVisualSigBuilder.createAppearanceDictionary()\n            PDAppearanceDictionary appearance = new PDAppearanceDictionary();\n            appearance.getCOSObject().setDirect(true);\n            PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\n            appearance.setNormalAppearance(appearanceStream);\n            widget.setAppearance(appearance);\n\n            try (PDPageContentStream cs = new PDPageContentStream(doc, appearanceStream)) {\n                if (initialScale != null) {\n                    cs.transform(initialScale);\n                }\n                cs.saveGraphicsState();\n                //Use the signature image as received, without any modification\n                if (Objects.nonNull(signatureOption) &amp;&amp; Objects.nonNull(signatureOption.getSignatureImage())) {\n                    PDImageXObject img = PDImageXObject.createFromByteArray(doc,\n                            getBase64ImageByteData(signatureOption), null);\n                    cs.drawImage(img, 0, 0, rect.getWidth(), rect.getHeight());\n\n                }\n                cs.restoreGraphicsState();\n            }\n            \n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            doc.save(baos);\n            return new ByteArrayInputStream(baos.toByteArray());\n</code></pre>\n<p>After the first user signs the document the following message is displayed when the pdf is opened in AdobeAcrobatReader.</p>\n<p><a href=\"https://i.stack.imgur.com/xILYH.png\" rel=\"nofollow noreferrer\">Pdf signed by first user for the fisrt time</a></p>\n<p>Now the second user signs the already signed pdf and adds his initials as well. Now the message displayed on the reader is :\n<a href=\"https://i.stack.imgur.com/tEJ4q.png\" rel=\"nofollow noreferrer\">Pdf signed second time by different user</a></p>\n<p>The texts are added before the signature fields are added to the document but it says that the document was updated after it was signed. Although both the signatures are still valid, can someone explain the message and a way so that only validity of the signatures is displayed.</p>\n<p>EDIT-1</p>\n<p>I am using a different approach now, I am adding all the textFields for the initials before signing the document and populating them when the user comes to sign the document.</p>\n<pre><code>public Blob addPlaceholders(Blob documentBlob, List&lt;DocumentSigningObject&gt; placeholderList,\n                String userId, boolean arePlaceholdersAdded)\n            throws IOException, SQLException {\n        //return if placeholders are already added or there are no placeholders for initials\n        if (arePlaceholdersAdded || placeholderList.isEmpty()) {\n            return documentBlob;\n        }\n        byte[] bytes = documentBlob.getBytes(1L, (int) documentBlob.length());\n        File placeholdersAddedFile = new File(&quot;temp&quot;, getTempFileName(&quot;placeholdersAdded_&quot;));\n        //ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\n        Blob placeholderAddedBlob;\n        try (FileOutputStream fos = new FileOutputStream(placeholdersAddedFile)) {\n            PDDocument pdDocument = PDDocument.load(bytes);\n            for (DocumentSigningObject signingObject : placeholderList) {\n                PDAcroForm form = pdDocument.getDocumentCatalog().getAcroForm();\n                if (form == null) {\n                    form = new PDAcroForm(pdDocument);\n                }\n                pdDocument.getDocumentCatalog().setAcroForm(form);\n                PDFont font = PDType1Font.HELVETICA;\n                PDResources resources = new PDResources();\n                resources.put(COSName.getPDFName(&quot;Helv&quot;), font);\n                form.setDefaultResources(resources);\n                PDTextField textField = new PDTextField(form);\n                String fieldName = SigningPlaceholderType.INITIALS.name() + signingObject.getPlaceholderId();\n                textField.setPartialName(fieldName);\n                String defaultAppearance = &quot;/Helv 12 Tf 0 0 0 rg&quot;;\n                textField.setDefaultAppearance(defaultAppearance);\n                textField.setReadOnly(true);\n                form.getFields().add(textField);\n                PDAnnotationWidget widget = textField.getWidgets().get(0);\n                PDRectangle rect = createSignatureRectangle(pdDocument, signingObject);\n                int pageNum = signingObject.getPage() - 1;\n                PDPage page = pdDocument.getPage(pageNum);\n                widget.setRectangle(rect);\n                widget.setPage(page);\n                PDAppearanceCharacteristicsDictionary fieldAppearance =\n                        new PDAppearanceCharacteristicsDictionary(new COSDictionary());\n                fieldAppearance.setBorderColour(new PDColor(new float[]{}, PDDeviceRGB.INSTANCE));\n                widget.setAppearanceCharacteristics(fieldAppearance);\n                widget.setPrinted(true);\n                page.getAnnotations().add(widget);\n                page.getCOSObject().setNeedToBeUpdated(true);\n                form.getFields().add(textField);\n                pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n            }\n            pdDocument.saveIncremental(fos, objectsToWrite);\n            try (FileInputStream fis = new FileInputStream(placeholdersAddedFile)) {\n                placeholderAddedBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes());\n            }\n            Files.delete(placeholdersAddedFile.toPath());\n            log.debug(&quot;temp signed file {} deleted successfully&quot;, placeholdersAddedFile.getName());\n        }\n        return placeholderAddedBlob;\n    }\n</code></pre>\n<p>Now all the blank fields are already in the document and we just fetch and add text to them along with signing the document.</p>\n<pre><code>public Blob addInitials(Blob placeholdersAddedFile, List&lt;DocumentSigningObject&gt; initialsInfoList, String userId)\n            throws IOException, SQLException {\n\n        if (initialsInfoList.isEmpty()) {\n            return placeholdersAddedFile;\n        }\n        byte[] bytes = placeholdersAddedFile.getBytes(1L, (int) placeholdersAddedFile.length());\n        File initialedFile = new File(&quot;temp&quot;, getTempFileName(&quot;initialsAdded_&quot;));\n        Blob initialedDoucmentBlob;\n        try (FileOutputStream fos = new FileOutputStream(initialedFile)) {\n            PDDocument doc = PDDocument.load(bytes);\n            Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\n            for (DocumentSigningObject initialsInfoObject : initialsInfoList) {\n                String initialsImage = initialsInfoObject.getInitialsImage();\n                String initialsText = initialsInfoObject.getText();\n\n                //fetch the field created for initials from the document and populate the values\n                PDDocumentCatalog docCatalog = doc.getDocumentCatalog();\n                PDAcroForm acroForm = docCatalog.getAcroForm();\n                if (acroForm != null) {\n                    String fieldName = SigningPlaceholderType.INITIALS.name()\n                            + initialsInfoObject.getPlaceholderId();\n                    PDField field = acroForm.getField(fieldName);\n                    if (StringUtils.isNotBlank(initialsText)) {\n                        field.setValue(initialsText);\n                        field.setReadOnly(true);\n                    } else if (StringUtils.isNotBlank(initialsImage)) {\n                        List&lt;PDAnnotationWidget&gt; widgets = field.getWidgets();\n                        if (widgets != null &amp;&amp; widgets.size() &gt; 0) {\n\n                            Blob initialsImageBlob = DocumentManagerUtils.convertBase64StringToBlob(initialsImage);\n                            PDImageXObject ximage = PDImageXObject.createFromByteArray(doc,\n                                    Base64.getDecoder().decode(initialsImageBlob.getBytes(1L,\n                                            (int) initialsImageBlob.length())), null);\n                            float imageScaleRatio = (float) ximage.getHeight() / (float) ximage.getWidth();\n\n                            PDRectangle fieldRectangle = getFieldArea(field);\n                            float height = fieldRectangle.getHeight();\n                            float width = height / imageScaleRatio;\n                            float x = fieldRectangle.getLowerLeftX();\n                            float y = fieldRectangle.getLowerLeftY();\n\n                            PDAppearanceStream pdAppearanceStream = new PDAppearanceStream(doc);\n                            pdAppearanceStream.setResources(new PDResources());\n                            try (PDPageContentStream pdPageContentStream = new PDPageContentStream(doc,\n                                    pdAppearanceStream)) {\n                                pdPageContentStream.drawImage(ximage, x, y, width, height);\n                            }\n                            pdAppearanceStream.setBBox(new PDRectangle(x, y, width, height));\n                            PDAnnotationWidget annotationWidget = widgets.get(0);\n                            PDAppearanceDictionary pdAppearanceDictionary = annotationWidget.getAppearance();\n                            if (pdAppearanceDictionary == null) {\n                                pdAppearanceDictionary = new PDAppearanceDictionary();\n                                annotationWidget.setAppearance(pdAppearanceDictionary);\n                            }\n                            pdAppearanceDictionary.setNormalAppearance(pdAppearanceStream);\n                        }\n                    }\n                    objectsToWrite.add(field.getCOSObject());\n                    acroForm.getCOSObject().setNeedToBeUpdated(true);\n                    field.getCOSObject().setNeedToBeUpdated(true);\n                    doc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n                }\n            }\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            doc.saveIncremental(fos, objectsToWrite);\n            try (FileInputStream fis = new FileInputStream(initialedFile)) {\n                initialedDoucmentBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes());\n            }\n            Files.delete(initialedFile.toPath());\n            log.debug(&quot;temp signed file {} deleted successfully&quot;, initialedFile.getName());\n        }\n        return initialedDoucmentBlob;\n    }\n</code></pre>\n<p>The adding signature field code is already shown above.\nusing this approach the document can be signed multiple times and all of them are valid but the issue of multiple references to objects after revisions can be seen. The pdfs are below.</p>\n<p><a href=\"https://drive.google.com/file/d/1iEHqcoW7ELdI4fVLw0ymnyZ_aAYQTt_X/view?usp=share_link\" rel=\"nofollow noreferrer\">Pdf signed first</a>\n<a href=\"https://drive.google.com/file/d/1OBqaJ3VS66ahp76iD6r0hhykNuavyxmZ/view?usp=share_link\" rel=\"nofollow noreferrer\">Pdf signed second</a></p>\n"},{"tags":["java","binary-search-tree","heapsort"],"answers":[{"tags":[],"owner":{"account_id":28083875,"reputation":81,"user_id":21454529,"display_name":"Allison Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682314260,"creation_date":1682314260,"answer_id":76088805,"question_id":76087668,"body_markdown":"I don&#39;t exactly understand what you wanna do. But I consider there&#39;s something wrong with the`reheap` function. The `root` shouldn&#39;t be assigned as `curr` since it seems to me that `parent` is still the root of the subtree after rotation. Another point is that in the `reheap` function you use `curr == parent.left` which uses memory address not value for comparison. But in the `rotate` function you actually create a new Node object.   ","title":"Treap Data Structure assistance. Some of my nodes do not seem to be printing","body":"<p>I don't exactly understand what you wanna do. But I consider there's something wrong with the<code>reheap</code> function. The <code>root</code> shouldn't be assigned as <code>curr</code> since it seems to me that <code>parent</code> is still the root of the subtree after rotation. Another point is that in the <code>reheap</code> function you use <code>curr == parent.left</code> which uses memory address not value for comparison. But in the <code>rotate</code> function you actually create a new Node object.</p>\n"}],"owner":{"account_id":21182239,"reputation":11,"user_id":15576401,"display_name":"Pmesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682663155,"creation_date":1682290865,"question_id":76087668,"body_markdown":"Good Evening, I have nearly finished my code. But for some reason when I am trying to print out my treap function. It seems as though it it missing certain nodes. Below you will see my code. With sample input, my actual output, then my desired output. Any assistance with what I may be doing wrong would be greatly appreciated. \r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.Stack;\r\n\r\npublic class Treap &lt;E extends Comparable&lt;E&gt;&gt;{\r\n\t\r\n\tprivate Random priorityGenerator;\r\n    private Node&lt;E&gt; root;\r\n\r\n\r\n    public Treap() {\r\n        root = null;\r\n        priorityGenerator = new Random();\r\n    }\r\n\r\n    public Treap(long seed) {\r\n        root = null;\r\n        priorityGenerator = new Random(seed);\r\n    }\r\n\t\r\n\tprivate static class Node&lt;E&gt; {\r\n\t\tpublic E data; //key for the search\r\n\t\tpublic int priority; //random heap priority\r\n\t\tpublic Node &lt;E&gt; left;\r\n\t\tpublic Node &lt;E&gt; right;\r\n\t\t\r\n\t\t/**This constructor creates an instance of the node class and passes through a data \r\n\t\t * or key that will come into play later for searching for the node. As well as a \r\n\t\t * heap priority. The head will have to be maintained throughout the code for it to be \r\n\t\t * considered a treap \r\n\t\t * @param data\r\n\t\t * @param priority\r\n\t\t */\r\n\t\tpublic  Node (E data, int priority) {\r\n\t\t\tif (data == null) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Data is Null&quot;);\r\n\t\t\t}\r\n            this.data = data;\t\t\r\n            this.priority = priority;\r\n            this.left = null;\r\n            this.right = null;\r\n\t\t}\r\n\t\t/**implementation of rotateRight */\r\n\t\tNode&lt;E&gt; rotateRight() {\r\n\t\t    Node&lt;E&gt; newRoot = new Node&lt;E&gt;(this.data, this.priority);\r\n\t\t    newRoot.right = this.right;\r\n\t\t    if (this.left.right != null) {\r\n\t\t        newRoot.left = this.left.right;\r\n\t\t    }\r\n\t\t    this.data = this.left.data;\r\n\t\t    this.priority = this.left.priority;\r\n\t\t    this.right = newRoot;\r\n\t\t    if (this.left.left != null) {\r\n\t\t        this.left = this.left.left;\r\n\t\t    } else {\r\n\t\t        this.left = null;\r\n\t\t    }\r\n\t\t    return newRoot;\r\n\t\t}\r\n\t\t/**implementation of rotateLeft */\r\n\t\tNode&lt;E&gt; rotateLeft() {\r\n\t\t    Node&lt;E&gt; newRoot = new Node&lt;E&gt;(this.data, this.priority);\r\n\t\t    newRoot.left = this.left;\r\n\t\t    if (this.right.left != null) {\r\n\t\t        newRoot.right = this.right.left;\r\n\t\t    }\r\n\t\t    this.data = this.right.data;\r\n\t\t    this.priority = this.right.priority;\r\n\t\t    this.left = newRoot;\r\n\t\t    if (this.right.right != null) {\r\n\t\t        this.right = this.right.right;\r\n\t\t    } else {\r\n\t\t        this.right = null;\r\n\t\t    }\r\n\t\t    return newRoot;\r\n\t\t}\r\n\r\n\r\n\t}\r\n\tboolean add(E key) {\r\n\t    int priority = priorityGenerator.nextInt();\r\n\t    return add(key, priority);\r\n\t}\r\n\r\n\tboolean add(E key, int priority) {\r\n\t    Node&lt;E&gt; newNode = new Node&lt;E&gt;(key, priority);\r\n\t    if (root == null) {\r\n\t        root = newNode;\r\n\t        return true;\r\n\t    }\r\n\t    Node&lt;E&gt; curr = root;\r\n\t    Stack&lt;Node&lt;E&gt;&gt; stack = new Stack&lt;&gt;();\r\n\t    while (curr != null) {\r\n\t        int cmp = key.compareTo(curr.data);\r\n\t        if (cmp == 0) {\r\n\t            return false; // key already exists, no need to add again\r\n\t        }\r\n\t        stack.push(curr);\r\n\t        if (cmp &lt; 0) {\r\n\t            if (curr.left == null) {\r\n\t                curr.left = newNode;\r\n\t                reheap(stack, newNode);\r\n\t                return true;\r\n\t            }\r\n\t            curr = curr.left;\r\n\t        } else {\r\n\t            if (curr.right == null) {\r\n\t                curr.right = newNode;\r\n\t                reheap(stack, newNode);\r\n\t                return true;\r\n\t            }\r\n\t            curr = curr.right;\r\n\t        }\r\n\t    }\r\n\t    return false; // should never reach this point\r\n\t}\r\n\r\n\tprivate void reheap(Stack&lt;Node&lt;E&gt;&gt; stack, Node&lt;E&gt; curr) {\r\n\t    while (!stack.empty()) {\r\n\t        Node&lt;E&gt; parent = stack.pop();\r\n\t        if (parent.priority &gt; curr.priority) {\r\n\t            return; // heap invariant already satisfied\r\n\t        }\r\n\t        if (curr == parent.left) {\r\n\t            parent.rotateRight();\r\n\t        } else {\r\n\t            parent.rotateLeft();\r\n\t        }\r\n\t    }\r\n\t    // if we reach this point, we have rotated the root node\r\n\t    root = curr;\r\n\t}\r\n\r\n\t/**Delete method, that was delete a desired node */\r\n\tpublic boolean delete(E key) {\r\n\t    Node&lt;E&gt; curr = root;\r\n\t    Node&lt;E&gt; parent = null;\r\n\t    Stack&lt;Node&lt;E&gt;&gt; stack = new Stack&lt;&gt;();\r\n\t    while (curr != null) {\r\n\t        int cmp = key.compareTo(curr.data);\r\n\t        if (cmp == 0) {\r\n\t            break;\r\n\t        }\r\n\t        parent = curr;\r\n\t        stack.push(parent);\r\n\t        if (cmp &lt; 0) {\r\n\t            curr = curr.left;\r\n\t        } else {\r\n\t            curr = curr.right;\r\n\t        }\r\n\t    }\r\n\t    if (curr == null) {\r\n\t        return false; // key not found\r\n\t    }\r\n\t    while (curr.left != null || curr.right != null) {\r\n\t        if (curr.right == null || (curr.left != null &amp;&amp; curr.left.priority &gt; curr.right.priority)) {\r\n\t            curr.rotateRight();\r\n\t            if (parent == null) {\r\n\t                root = curr;\r\n\t            } else if (parent.left == curr) {\r\n\t                parent.left = curr;\r\n\t            } else {\r\n\t                parent.right = curr;\r\n\t            }\r\n\t            parent = curr;\r\n\t            curr = curr.right;\r\n\t        } else {\r\n\t            curr.rotateLeft();\r\n\t            if (parent == null) {\r\n\t                root = curr;\r\n\t            } else if (parent.left == curr) {\r\n\t                parent.left = curr;\r\n\t            } else {\r\n\t                parent.right = curr;\r\n\t            }\r\n\t            parent = curr;\r\n\t            curr = curr.left;\r\n\t        }\r\n\t    }\r\n\t    if (parent == null) {\r\n\t        root = null;\r\n\t    } else if (parent.left == curr) {\r\n\t        parent.left = null;\r\n\t    } else {\r\n\t        parent.right = null;\r\n\t    }\r\n\t    return true;\r\n\t}\r\n\t\r\n\t/**Find operation */\r\n\t/**\r\n\t * Recursively finds a node with the given key in the treap rooted at root\r\n\t * and returns true if it finds it and false otherwise.\r\n\t */\r\n\tprivate boolean find(Node&lt;E&gt; root, E key) {\r\n\t    if (root == null) {\r\n\t        return false;\r\n\t    }\r\n\t    int cmp = key.compareTo(root.data);\r\n\t    if (cmp == 0) {\r\n\t        return true;\r\n\t    } else if (cmp &lt; 0) {\r\n\t        return find(root.left, key);\r\n\t    } else {\r\n\t        return find(root.right, key);\r\n\t    }\r\n\t}\r\n\r\n\t/**\r\n\t * Finds a node with the given key in the treap and returns true if it finds it\r\n\t * and false otherwise.\r\n\t */\r\n\tpublic boolean find(E key) {\r\n\t    return find(root, key);\r\n\t}\r\n\t\r\n\t/** toString operation */\r\n\tpublic String toString() {\r\n\t    return toString(root);\r\n\t}\r\n\r\n\tprivate String toString(Node&lt;E&gt; node) {\r\n\t    if (node == null) {\r\n\t        return &quot;null&quot;;\r\n\t    }\r\n\r\n\t    String leftString = toString(node.left);\r\n\t    String rightString = toString(node.right);\r\n\r\n\t    String nodeString = &quot;(key = &quot; + node.data.toString() + &quot; , priority = &quot; + node.priority + &quot;)&quot;;\r\n\r\n\t    if (node.left == null &amp;&amp; node.right == null) {\r\n\t        return nodeString;\r\n\t    } else if (node.left == null) {\r\n\t        return nodeString + &quot; (null) &quot; + rightString;\r\n\t    } else if (node.right == null) {\r\n\t        return nodeString + &quot; &quot; + leftString + &quot; (null)&quot;;\r\n\t    } else {\r\n\t        return nodeString + &quot; &quot; + leftString + &quot; &quot; + rightString;\r\n\t    }\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nMain function !\r\n```\r\n    public class main_ {\r\n\tpublic static void main(String[] args) {\r\n\t\tTreap&lt;Integer&gt; testTree = new Treap &lt;Integer&gt;();\r\n\t    \r\n\t    // Add nodes to the treap\r\n\t    testTree.add(4,19);\r\n        testTree.add(2,31);\r\n        testTree.add(6, 70); \r\n        testTree.add(1 ,84);\r\n        testTree.add(3 ,12); \r\n       testTree.add(5 ,83);\r\n        testTree.add(7 ,26);\r\n\r\n\t    \r\n\t    // Print the treap using the toString method\r\n\t    System.out.println(testTree.toString());\r\n\t   \r\n\t}\r\n\r\n}\r\n```\r\nactual output:\r\n\r\n    (key = 1 , priority = 84) (null) (key = 5 , priority = 83) (key = 3 , priority = 12) (key = 7 , priority = 26)\r\n\r\n\r\ndesired output:\r\n\r\n     (key =1 , priority =84)\r\n     null\r\n    ( key =5 , priority =83)\r\n    ( key =2 , priority =31)\r\n    \r\n    null\r\n     ( key =4 , priority =19)\r\n    ( key =3 , priority =12)\r\n     null\r\n    null\r\n     null\r\n    ( key =6 , priority =70)\r\n     null\r\n    ( key =7 , priority =26)\r\n     null \r\n\r\nbesides it printing on a new line. You can see that I am missing some nodes.","title":"Treap Data Structure assistance. Some of my nodes do not seem to be printing","body":"<p>Good Evening, I have nearly finished my code. But for some reason when I am trying to print out my treap function. It seems as though it it missing certain nodes. Below you will see my code. With sample input, my actual output, then my desired output. Any assistance with what I may be doing wrong would be greatly appreciated.</p>\n<pre><code>import java.util.Random;\nimport java.util.Stack;\n\npublic class Treap &lt;E extends Comparable&lt;E&gt;&gt;{\n    \n    private Random priorityGenerator;\n    private Node&lt;E&gt; root;\n\n\n    public Treap() {\n        root = null;\n        priorityGenerator = new Random();\n    }\n\n    public Treap(long seed) {\n        root = null;\n        priorityGenerator = new Random(seed);\n    }\n    \n    private static class Node&lt;E&gt; {\n        public E data; //key for the search\n        public int priority; //random heap priority\n        public Node &lt;E&gt; left;\n        public Node &lt;E&gt; right;\n        \n        /**This constructor creates an instance of the node class and passes through a data \n         * or key that will come into play later for searching for the node. As well as a \n         * heap priority. The head will have to be maintained throughout the code for it to be \n         * considered a treap \n         * @param data\n         * @param priority\n         */\n        public  Node (E data, int priority) {\n            if (data == null) {\n                throw new IllegalArgumentException(&quot;Data is Null&quot;);\n            }\n            this.data = data;       \n            this.priority = priority;\n            this.left = null;\n            this.right = null;\n        }\n        /**implementation of rotateRight */\n        Node&lt;E&gt; rotateRight() {\n            Node&lt;E&gt; newRoot = new Node&lt;E&gt;(this.data, this.priority);\n            newRoot.right = this.right;\n            if (this.left.right != null) {\n                newRoot.left = this.left.right;\n            }\n            this.data = this.left.data;\n            this.priority = this.left.priority;\n            this.right = newRoot;\n            if (this.left.left != null) {\n                this.left = this.left.left;\n            } else {\n                this.left = null;\n            }\n            return newRoot;\n        }\n        /**implementation of rotateLeft */\n        Node&lt;E&gt; rotateLeft() {\n            Node&lt;E&gt; newRoot = new Node&lt;E&gt;(this.data, this.priority);\n            newRoot.left = this.left;\n            if (this.right.left != null) {\n                newRoot.right = this.right.left;\n            }\n            this.data = this.right.data;\n            this.priority = this.right.priority;\n            this.left = newRoot;\n            if (this.right.right != null) {\n                this.right = this.right.right;\n            } else {\n                this.right = null;\n            }\n            return newRoot;\n        }\n\n\n    }\n    boolean add(E key) {\n        int priority = priorityGenerator.nextInt();\n        return add(key, priority);\n    }\n\n    boolean add(E key, int priority) {\n        Node&lt;E&gt; newNode = new Node&lt;E&gt;(key, priority);\n        if (root == null) {\n            root = newNode;\n            return true;\n        }\n        Node&lt;E&gt; curr = root;\n        Stack&lt;Node&lt;E&gt;&gt; stack = new Stack&lt;&gt;();\n        while (curr != null) {\n            int cmp = key.compareTo(curr.data);\n            if (cmp == 0) {\n                return false; // key already exists, no need to add again\n            }\n            stack.push(curr);\n            if (cmp &lt; 0) {\n                if (curr.left == null) {\n                    curr.left = newNode;\n                    reheap(stack, newNode);\n                    return true;\n                }\n                curr = curr.left;\n            } else {\n                if (curr.right == null) {\n                    curr.right = newNode;\n                    reheap(stack, newNode);\n                    return true;\n                }\n                curr = curr.right;\n            }\n        }\n        return false; // should never reach this point\n    }\n\n    private void reheap(Stack&lt;Node&lt;E&gt;&gt; stack, Node&lt;E&gt; curr) {\n        while (!stack.empty()) {\n            Node&lt;E&gt; parent = stack.pop();\n            if (parent.priority &gt; curr.priority) {\n                return; // heap invariant already satisfied\n            }\n            if (curr == parent.left) {\n                parent.rotateRight();\n            } else {\n                parent.rotateLeft();\n            }\n        }\n        // if we reach this point, we have rotated the root node\n        root = curr;\n    }\n\n    /**Delete method, that was delete a desired node */\n    public boolean delete(E key) {\n        Node&lt;E&gt; curr = root;\n        Node&lt;E&gt; parent = null;\n        Stack&lt;Node&lt;E&gt;&gt; stack = new Stack&lt;&gt;();\n        while (curr != null) {\n            int cmp = key.compareTo(curr.data);\n            if (cmp == 0) {\n                break;\n            }\n            parent = curr;\n            stack.push(parent);\n            if (cmp &lt; 0) {\n                curr = curr.left;\n            } else {\n                curr = curr.right;\n            }\n        }\n        if (curr == null) {\n            return false; // key not found\n        }\n        while (curr.left != null || curr.right != null) {\n            if (curr.right == null || (curr.left != null &amp;&amp; curr.left.priority &gt; curr.right.priority)) {\n                curr.rotateRight();\n                if (parent == null) {\n                    root = curr;\n                } else if (parent.left == curr) {\n                    parent.left = curr;\n                } else {\n                    parent.right = curr;\n                }\n                parent = curr;\n                curr = curr.right;\n            } else {\n                curr.rotateLeft();\n                if (parent == null) {\n                    root = curr;\n                } else if (parent.left == curr) {\n                    parent.left = curr;\n                } else {\n                    parent.right = curr;\n                }\n                parent = curr;\n                curr = curr.left;\n            }\n        }\n        if (parent == null) {\n            root = null;\n        } else if (parent.left == curr) {\n            parent.left = null;\n        } else {\n            parent.right = null;\n        }\n        return true;\n    }\n    \n    /**Find operation */\n    /**\n     * Recursively finds a node with the given key in the treap rooted at root\n     * and returns true if it finds it and false otherwise.\n     */\n    private boolean find(Node&lt;E&gt; root, E key) {\n        if (root == null) {\n            return false;\n        }\n        int cmp = key.compareTo(root.data);\n        if (cmp == 0) {\n            return true;\n        } else if (cmp &lt; 0) {\n            return find(root.left, key);\n        } else {\n            return find(root.right, key);\n        }\n    }\n\n    /**\n     * Finds a node with the given key in the treap and returns true if it finds it\n     * and false otherwise.\n     */\n    public boolean find(E key) {\n        return find(root, key);\n    }\n    \n    /** toString operation */\n    public String toString() {\n        return toString(root);\n    }\n\n    private String toString(Node&lt;E&gt; node) {\n        if (node == null) {\n            return &quot;null&quot;;\n        }\n\n        String leftString = toString(node.left);\n        String rightString = toString(node.right);\n\n        String nodeString = &quot;(key = &quot; + node.data.toString() + &quot; , priority = &quot; + node.priority + &quot;)&quot;;\n\n        if (node.left == null &amp;&amp; node.right == null) {\n            return nodeString;\n        } else if (node.left == null) {\n            return nodeString + &quot; (null) &quot; + rightString;\n        } else if (node.right == null) {\n            return nodeString + &quot; &quot; + leftString + &quot; (null)&quot;;\n        } else {\n            return nodeString + &quot; &quot; + leftString + &quot; &quot; + rightString;\n        }\n    }\n\n\n}\n</code></pre>\n<p>Main function !</p>\n<pre><code>    public class main_ {\n    public static void main(String[] args) {\n        Treap&lt;Integer&gt; testTree = new Treap &lt;Integer&gt;();\n        \n        // Add nodes to the treap\n        testTree.add(4,19);\n        testTree.add(2,31);\n        testTree.add(6, 70); \n        testTree.add(1 ,84);\n        testTree.add(3 ,12); \n       testTree.add(5 ,83);\n        testTree.add(7 ,26);\n\n        \n        // Print the treap using the toString method\n        System.out.println(testTree.toString());\n       \n    }\n\n}\n</code></pre>\n<p>actual output:</p>\n<pre><code>(key = 1 , priority = 84) (null) (key = 5 , priority = 83) (key = 3 , priority = 12) (key = 7 , priority = 26)\n</code></pre>\n<p>desired output:</p>\n<pre><code> (key =1 , priority =84)\n null\n( key =5 , priority =83)\n( key =2 , priority =31)\n\nnull\n ( key =4 , priority =19)\n( key =3 , priority =12)\n null\nnull\n null\n( key =6 , priority =70)\n null\n( key =7 , priority =26)\n null \n</code></pre>\n<p>besides it printing on a new line. You can see that I am missing some nodes.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9755,"page":470,"page_size":100}
